(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{8668:(ke,Le,T)=>{"use strict";function D(t){return"function"==typeof t}function d(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ne=d(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function re(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class H{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(D(r))try{r()}catch(i){n=i instanceof ne?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{U(i)}catch(s){n=n??[],s instanceof ne?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ne(n)}}add(n){var e;if(n&&n!==this)if(this.closed)U(n);else{if(n instanceof H){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&re(e,n)}remove(n){const{_finalizers:e}=this;e&&re(e,n),n instanceof H&&n._removeParent(this)}}H.EMPTY=(()=>{const t=new H;return t.closed=!0,t})();const K=H.EMPTY;function F(t){return t instanceof H||t&&"closed"in t&&D(t.remove)&&D(t.add)&&D(t.unsubscribe)}function U(t){D(t)?t():t.unsubscribe()}const le={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},J={setTimeout(t,n,...e){const{delegate:r}=J;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=J;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function z(t){J.setTimeout(()=>{const{onUnhandledError:n}=le;if(!n)throw t;n(t)})}function $(){}const L=Pe("C",void 0,void 0);function Pe(t,n,e){return{kind:t,value:n,error:e}}let ue=null;function V(t){if(le.useDeprecatedSynchronousErrorHandling){const n=!ue;if(n&&(ue={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=ue;if(ue=null,e)throw r}}else t()}class de extends H{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,F(n)&&n.add(this)):this.destination=ze}static create(n,e,r){return new Qe(n,e,r)}next(n){this.isStopped?rt(function Re(t){return Pe("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?rt(function G(t){return Pe("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?rt(L,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ve=Function.prototype.bind;function fe(t,n){return ve.call(t,n)}class Je{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){ae(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){ae(r)}else ae(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){ae(e)}}}class Qe extends de{constructor(n,e,r){let o;if(super(),D(n)||!n)o={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&le.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&fe(n.next,i),error:n.error&&fe(n.error,i),complete:n.complete&&fe(n.complete,i)}):o=n}this.destination=new Je(o)}}function ae(t){le.useDeprecatedSynchronousErrorHandling?function q(t){le.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=t)}(t):z(t)}function rt(t,n){const{onStoppedNotification:e}=le;e&&J.setTimeout(()=>e(t,n))}const ze={closed:!0,next:$,error:function pe(t){throw t},complete:$},N="function"==typeof Symbol&&Symbol.observable||"@@observable";function j(t){return t}function ft(t){return 0===t.length?j:1===t.length?t[0]:function(e){return t.reduce((r,o)=>o(r),e)}}let It=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){const i=function we(t){return t&&t instanceof de||function Ge(t){return t&&D(t.next)&&D(t.error)&&D(t.complete)}(t)&&F(t)}(e)?e:new Qe(e,r,o);return V(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=zt(r))((o,i)=>{const s=new Qe({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[N](){return this}pipe(...e){return ft(e)(this)}toPromise(e){return new(e=zt(e))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=n=>new t(n),t})();function zt(t){var n;return null!==(n=t??le.Promise)&&void 0!==n?n:Promise}const He=d(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let et=(()=>{class t extends It{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new jt(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new He}next(e){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:i}=this;return r||o?K:(this.currentObservers=null,i.push(e),new H(()=>{this.currentObservers=null,re(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){const e=new It;return e.source=this,e}}return t.create=(n,e)=>new jt(n,e),t})();class jt extends et{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:K}}class Vt extends et{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Oe(t){return D(t?.lift)}function ot(t){return n=>{if(Oe(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Et(t,n,e,r,o){return new pt(t,n,e,r,o)}class pt extends de{constructor(n,e,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ie(t,n){return ot((e,r)=>{let o=0;e.subscribe(Et(r,i=>{r.next(t.call(n,i,o++))}))})}function W(t,n,e,r){var s,o=arguments.length,i=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(n,e,i):s(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i}function Ur(t){return this instanceof Ur?(this.v=t,this):new Ur(t)}function Xn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function si(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(f){i({value:f,done:a})},s)}(a,c,(s=t[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const yr=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Pt(t){return D(t?.then)}function cn(t){return D(t[N])}function en(t){return Symbol.asyncIterator&&D(t?.[Symbol.asyncIterator])}function To(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ni=function bo(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ai(t){return D(t?.[Ni])}function vi(t){return function Tr(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(t,n||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(S){r[S]&&(o[S]=function(A){return new Promise(function(oe,he){i.push([S,A,oe,he])>1||a(S,A)})})}function a(S,A){try{!function c(S){S.value instanceof Ur?Promise.resolve(S.value.v).then(f,m):y(i[0][2],S)}(r[S](A))}catch(oe){y(i[0][3],oe)}}function f(S){a("next",S)}function m(S){a("throw",S)}function y(S,A){S(A),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:o}=yield Ur(e.read());if(o)return yield Ur(void 0);yield yield Ur(r)}}finally{e.releaseLock()}})}function k(t){return D(t?.getReader)}function I(t){if(t instanceof It)return t;if(null!=t){if(cn(t))return function x(t){return new It(n=>{const e=t[N]();if(D(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(yr(t))return function Ao(t){return new It(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Pt(t))return function li(t){return new It(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,z)})}(t);if(en(t))return Co(t);if(ai(t))return function zi(t){return new It(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(k(t))return function Cs(t){return Co(vi(t))}(t)}throw To(t)}function Co(t){return new It(n=>{(function yi(t,n){var e,r,o,i;return function lr(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(y){s(y)}}function c(m){try{f(r.throw(m))}catch(y){s(y)}}function f(m){m.done?i(m.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(a,c)}f((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Xn(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Fr(t,n,e,r=0,o=!1){const i=n.schedule(function(){e(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function tr(t,n,e=1/0){return D(n)?tr((r,o)=>Ie((i,s)=>n(r,i,o,s))(I(t(r,o))),e):("number"==typeof n&&(e=n),ot((r,o)=>function po(t,n,e,r,o,i,s,a){const c=[];let f=0,m=0,y=!1;const S=()=>{y&&!c.length&&!f&&n.complete()},A=he=>f<r?oe(he):c.push(he),oe=he=>{i&&n.next(he),f++;let Te=!1;I(e(he,m++)).subscribe(Et(n,je=>{o?.(je),i?A(je):n.next(je)},()=>{Te=!0},void 0,()=>{if(Te)try{for(f--;c.length&&f<r;){const je=c.shift();s?Fr(n,s,()=>oe(je)):oe(je)}S()}catch(je){n.error(je)}}))};return t.subscribe(Et(n,A,()=>{y=!0,S()})),()=>{a?.()}}(r,o,t,e)))}function Lo(t=1/0){return tr(j,t)}const Po=new It(t=>t.complete());function ws(t){return t&&D(t.schedule)}function xi(t){return t[t.length-1]}function no(t){return D(xi(t))?t.pop():void 0}function zo(t){return ws(xi(t))?t.pop():void 0}function Gn(t,n=0){return ot((e,r)=>{e.subscribe(Et(r,o=>Fr(r,t,()=>r.next(o),n),()=>Fr(r,t,()=>r.complete(),n),o=>Fr(r,t,()=>r.error(o),n)))})}function Wi(t,n=0){return ot((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Es(t,n){if(!t)throw new Error("Iterable cannot be null");return new It(e=>{Fr(e,n,()=>{const r=t[Symbol.asyncIterator]();Fr(e,n,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function nr(t,n){return n?function Gs(t,n){if(null!=t){if(cn(t))return function ia(t,n){return I(t).pipe(Wi(n),Gn(n))}(t,n);if(yr(t))return function Ss(t,n){return new It(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(Pt(t))return function ki(t,n){return I(t).pipe(Wi(n),Gn(n))}(t,n);if(en(t))return Es(t,n);if(ai(t))return function Mi(t,n){return new It(e=>{let r;return Fr(e,n,()=>{r=t[Ni](),Fr(e,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(o)},0,!0)}),()=>D(r?.return)&&r.return()})}(t,n);if(k(t))return function ds(t,n){return Es(vi(t),n)}(t,n)}throw To(t)}(t,n):I(t)}function Zi(...t){const n=zo(t),e=function Hr(t,n){return"number"==typeof xi(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?I(r[0]):Lo(e)(nr(r,n)):Po}function un(...t){return nr(t,zo(t))}function Ds(t={}){const{connector:n=(()=>new et),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=t;return i=>{let s,a,c,f=0,m=!1,y=!1;const S=()=>{a?.unsubscribe(),a=void 0},A=()=>{S(),s=c=void 0,m=y=!1},oe=()=>{const he=s;A(),he?.unsubscribe()};return ot((he,Te)=>{f++,!y&&!m&&S();const je=c=c??n();Te.add(()=>{f--,0===f&&!y&&!m&&(a=R(oe,o))}),je.subscribe(Te),!s&&f>0&&(s=new Qe({next:Ae=>je.next(Ae),error:Ae=>{y=!0,S(),a=R(A,e,Ae),je.error(Ae)},complete:()=>{m=!0,S(),a=R(A,r),je.complete()}}),I(he).subscribe(s))})(i)}}function R(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new Qe({next:()=>{r.unsubscribe(),t()}});return I(n(...e)).subscribe(r)}function E(t,n){return ot((e,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();e.subscribe(Et(r,c=>{o?.unsubscribe();let f=0;const m=i++;I(t(c,m)).subscribe(o=Et(r,y=>r.next(n?n(c,y,m,f++):y),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function B(t,n=j){return t=t??Q,ot((e,r)=>{let o,i=!0;e.subscribe(Et(r,s=>{const a=n(s);(i||!t(o,a))&&(i=!1,o=a,r.next(s))}))})}function Q(t,n){return t===n}function ge(t){for(let n in t)if(t[n]===ge)return n;throw Error("Could not find renamed property on target object.")}function be(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Ne(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ne).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function ct(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const st=ge({__forward_ref__:ge});function Ke(t){return t.__forward_ref__=Ke,t.toString=function(){return Ne(this())},t}function ut(t){return fn(t)?t():t}function fn(t){return"function"==typeof t&&t.hasOwnProperty(st)&&t.__forward_ref__===Ke}function vn(t){return t&&!!t.\u0275providers}const gt="https://g.co/ng/security#xss";class it extends Error{constructor(n,e){super(function ui(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function yt(t){return"string"==typeof t?t:null==t?"":String(t)}function Ia(t,n){throw new it(-201,!1)}function $o(t,n){null==t&&function yn(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function mt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Sr(t){return{providers:t.providers||[],imports:t.imports||[]}}function xs(t){return aa(t,Ms)||aa(t,la)}function aa(t,n){return t.hasOwnProperty(n)?t[n]:null}function ks(t){return t&&(t.hasOwnProperty(Ws)||t.hasOwnProperty(Ma))?t[Ws]:null}const Ms=ge({\u0275prov:ge}),Ws=ge({\u0275inj:ge}),la=ge({ngInjectableDef:ge}),Ma=ge({ngInjectorDef:ge});var Tn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tn||{});let Zs;function wo(t){const n=Zs;return Zs=t,n}function ua(t,n,e){const r=xs(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Tn.Optional?null:void 0!==n?n:void Ia(Ne(t))}const rr=globalThis,Ts={},fa="__NG_DI_FLAG__",Ys="ngTempTokenPath",cr=/\n/gm,ro="__source";let Nr;function ur(t){const n=Nr;return Nr=t,n}function Ar(t,n=Tn.Default){if(void 0===Nr)throw new it(-203,!1);return null===Nr?ua(t,void 0,n):Nr.get(t,n&Tn.Optional?null:void 0,n)}function ce(t,n=Tn.Default){return(function ca(){return Zs}()||Ar)(ut(t),n)}function g(t,n=Tn.Default){return ce(t,C(n))}function C(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function O(t){const n=[];for(let e=0;e<t.length;e++){const r=ut(t[e]);if(Array.isArray(r)){if(0===r.length)throw new it(900,!1);let o,i=Tn.Default;for(let s=0;s<r.length;s++){const a=r[s],c=ye(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}n.push(ce(o,i))}else n.push(ce(r))}return n}function Z(t,n){return t[fa]=n,t.prototype[fa]=n,t}function ye(t){return t[fa]}function xt(t){return{toString:t}.toString()}var Cn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Cn||{}),xn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xn||{});const Ln={},Rt=[],dn=ge({\u0275cmp:ge}),Nn=ge({\u0275dir:ge}),Lr=ge({\u0275pipe:ge}),di=ge({\u0275mod:ge}),$r=ge({\u0275fac:ge}),_t=ge({__NG_ELEMENT_ID__:ge}),an=ge({__NG_ENV_ID__:ge});function Zr(t,n,e){let r=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}e=o+1}}function dr(t,n,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const i=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,i)}else{const i=o,s=e[++r];fr(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),r++}}return r}function or(t){return 3===t||4===t||6===t}function fr(t){return 64===t.charCodeAt(0)}function oo(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?e=o:0===e||Dc(t,e,o,null,-1===e||2===e?n[++r]:null)}}return t}function Dc(t,n,e,r,o){let i=0,s=t.length;if(-1===n)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}const Ic="ng-template";function cu(t,n,e){let r=0,o=!0;for(;r<t.length;){let i=t[r++];if("string"==typeof i&&o){const s=t[r++];if(e&&"class"===i&&-1!==Zr(s.toLowerCase(),n,0))return!0}else{if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===n)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function xc(t){return 4===t.type&&t.value!==Ic}function uu(t,n,e){return n===(4!==t.type||e?t.value:Ic)}function $n(t,n,e){let r=4;const o=t.attrs||[],i=function fo(t){for(let n=0;n<t.length;n++)if(or(t[n]))return n;return t.length}(o);let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!uu(t,c,e)||""===c&&1===n.length){if(Er(r))return!1;s=!0}}else{const f=8&r?c:n[++a];if(8&r&&null!==t.attrs){if(!cu(t.attrs,f,e)){if(Er(r))return!1;s=!0}continue}const y=Bo(8&r?"class":c,o,xc(t),e);if(-1===y){if(Er(r))return!1;s=!0;continue}if(""!==f){let S;S=y>i?"":o[y+1].toLowerCase();const A=8&r?S:null;if(A&&-1!==Zr(A,f,0)||2&r&&f!==S){if(Er(r))return!1;s=!0}}}}else{if(!s&&!Er(r)&&!Er(c))return!1;if(s&&Er(c))continue;s=!1,r=c|1&r}}return Er(r)||s}function Er(t){return 0==(1&t)}function Bo(t,n,e,r){if(null===n)return-1;let o=0;if(r||!e){let i=!1;for(;o<n.length;){const s=n[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function Ir(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function qr(t,n,e=!1){for(let r=0;r<n.length;r++)if($n(t,n[r],e))return!0;return!1}function mo(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function Pr(t,n){return t?":not("+n.trim()+")":n}function br(t){let n=t[0],e=1,r=2,o="",i=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Er(s)&&(n+=Pr(i,o),o=""),r=s,i=i||!Er(r);e++}return""!==o&&(n+=Pr(i,o)),n}function v(t){return xt(()=>{const n=bi(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xn.Emulated,styles:t.styles||Rt,_:null,schemas:t.schemas||null,tView:null,id:""};jo(e);const r=t.dependencies;return e.directiveDefs=St(r,!1),e.pipeDefs=St(r,!0),e.id=function Eo(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const o of e)n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function X(t){return Yt(t)||tn(t)}function Ee(t){return null!==t}function _e(t){return xt(()=>({type:t.type,bootstrap:t.bootstrap||Rt,declarations:t.declarations||Rt,imports:t.imports||Rt,exports:t.exports||Rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function At(t,n){if(null==t)return Ln;const e={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),e[o]=r,n&&(n[o]=i)}return e}function vt(t){return xt(()=>{const n=bi(t);return jo(n),n})}function bn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yt(t){return t[dn]||null}function tn(t){return t[Nn]||null}function qt(t){return t[Lr]||null}function Qn(t,n){const e=t[di]||null;if(!e&&!0===n)throw new Error(`Type ${Ne(t)} does not have '\u0275mod' property.`);return e}function bi(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ln,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:At(t.inputs,n),outputs:At(t.outputs)}}function jo(t){t.features?.forEach(n=>n(t))}function St(t,n){if(!t)return null;const e=n?qt:X;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(Ee)}const kn=0,Mt=1,Qt=2,Yr=3,ps=4,Yl=5,fi=6,fl=7,go=8,pa=9,pl=10,An=11,Xl=12,Ad=13,hl=14,_o=15,Kl=16,ml=17,As=18,Ql=19,Pd=20,ha=21,Xs=22,kc=23,Mc=24,qn=25,du=1,Rd=2,Ps=7,gl=9,Yo=11;function Ti(t){return Array.isArray(t)&&"object"==typeof t[du]}function Ai(t){return Array.isArray(t)&&!0===t[du]}function fu(t){return 0!=(4&t.flags)}function Pa(t){return t.componentOffset>-1}function Ac(t){return 1==(1&t.flags)}function hs(t){return!!t.template}function pu(t){return 0!=(512&t[Qt])}function Dr(t,n){return t.hasOwnProperty($r)?t[$r]:null}let bg=rr.WeakRef??class yg{constructor(n){this.ref=n}deref(){return this.ref}},Xo=0,Yn=null,Xe=!1;function Wn(t){const n=Yn;return Yn=t,n}class Jn{constructor(){this.id=Xo++,this.ref=function Cg(t){return new bg(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,e]of this.producers){const r=e.producerNode.deref();if(null!=r&&e.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=Xe;Xe=!0;try{for(const[e,r]of this.consumers){const o=r.consumerNode.deref();null!=o&&o.trackingVersion===r.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),o?.producers.delete(this.id))}}finally{Xe=n}}producerAccessed(){if(Xe)throw new Error("");if(null===Yn)return;let n=Yn.producers.get(this.id);void 0===n?(n={consumerNode:Yn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Yn.trackingVersion},Yn.producers.set(this.id,n),this.consumers.set(Yn.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=Yn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Yn?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Io=null;function M(t){const n=Wn(null);try{return t()}finally{Wn(n)}}const Y=()=>{};class Ce extends Jn{constructor(n,e,r){super(),this.watch=n,this.schedule=e,this.dirty=!1,this.cleanupFn=Y,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Wn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Y,this.watch(this.registerOnCleanup)}finally{Wn(n)}}cleanup(){this.cleanupFn()}}class Me{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Fe(){return Ot}function Ot(t){return t.type.prototype.ngOnChanges&&(t.setInput=sr),Pn}function Pn(){const t=Rn(this),n=t?.current;if(n){const e=t.previous;if(e===Ln)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function sr(t,n,e,r){const o=this.declaredInputs[e],i=Rn(t)||function Sn(t,n){return t[mr]=n}(t,{previous:Ln,current:null}),s=i.current||(i.current={}),a=i.previous,c=a[o];s[o]=new Me(c&&c.currentValue,n,a===Ln),t[r]=n}Fe.ngInherit=!0;const mr="__ngSimpleChanges__";function Rn(t){return t[mr]||null}const xo=function(t,n,e){};function Nt(t){for(;Array.isArray(t);)t=t[kn];return t}function Rr(t,n){return Nt(n[t])}function io(t,n){return Nt(n[t.index])}function a0(t,n){return t.data[n]}function hu(t,n){return t[n]}function Rs(t,n){const e=n[t];return Ti(e)?e:e[kn]}function ec(t,n){return null==n?null:t[n]}function l0(t){t[ml]=0}function vT(t){1024&t[Qt]||(t[Qt]|=1024,u0(t,1))}function c0(t){1024&t[Qt]&&(t[Qt]&=-1025,u0(t,-1))}function u0(t,n){let e=t[Yr];if(null===e)return;e[Yl]+=n;let r=e;for(e=e[Yr];null!==e&&(1===n&&1===r[Yl]||-1===n&&0===r[Yl]);)e[Yl]+=n,r=e,e=e[Yr]}const On={lFrame:C0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function p0(){return On.bindingsEnabled}function mu(){return null!==On.skipHydrationRootTNode}function Ct(){return On.lFrame.lView}function gr(){return On.lFrame.tView}function hn(t){return On.lFrame.contextLView=t,t[go]}function mn(t){return On.lFrame.contextLView=null,t}function Pi(){let t=h0();for(;null!==t&&64===t.type;)t=t.parent;return t}function h0(){return On.lFrame.currentTNode}function Ra(t,n){const e=On.lFrame;e.currentTNode=t,e.isParent=n}function wg(){return On.lFrame.isParent}function Sg(){On.lFrame.isParent=!1}function _l(){return On.lFrame.bindingIndex}function gu(){return On.lFrame.bindingIndex++}function vl(t){const n=On.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function TT(t,n){const e=On.lFrame;e.bindingIndex=e.bindingRootIndex=t,Eg(n)}function Eg(t){On.lFrame.currentDirectiveIndex=t}function v0(){return On.lFrame.currentQueryIndex}function Ig(t){On.lFrame.currentQueryIndex=t}function PT(t){const n=t[Mt];return 2===n.type?n.declTNode:1===n.type?t[fi]:null}function y0(t,n,e){if(e&Tn.SkipSelf){let o=n,i=t;for(;!(o=o.parent,null!==o||e&Tn.Host||(o=PT(i),null===o||(i=i[hl],10&o.type))););if(null===o)return!1;n=o,t=i}const r=On.lFrame=b0();return r.currentTNode=n,r.lView=t,!0}function xg(t){const n=b0(),e=t[Mt];On.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function b0(){const t=On.lFrame,n=null===t?null:t.child;return null===n?C0(t):n}function C0(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function w0(){const t=On.lFrame;return On.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const S0=w0;function kg(){const t=w0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ki(){return On.lFrame.selectedIndex}function Rc(t){On.lFrame.selectedIndex=t}function ko(){const t=On.lFrame;return a0(t.tView,t.selectedIndex)}let D0=!0;function Ep(){return D0}function tc(t){D0=t}function Dp(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:f,ngOnDestroy:m}=i;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),c&&(t.viewHooks??=[]).push(-e,c),f&&((t.viewHooks??=[]).push(e,f),(t.viewCheckHooks??=[]).push(e,f)),null!=m&&(t.destroyHooks??=[]).push(e,m)}}function Ip(t,n,e){I0(t,n,3,e)}function xp(t,n,e,r){(3&t[Qt])===e&&I0(t,n,e,r)}function Mg(t,n){let e=t[Qt];(3&e)===n&&(e&=8191,e+=1,t[Qt]=e)}function I0(t,n,e,r){const i=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&t[ml]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(t[ml]+=65536),(a<i||-1==i)&&(jT(t,e,n,c),t[ml]=(4294901760&t[ml])+c+2),c++}function x0(t,n){xo(4,t,n);const e=Wn(null);try{n.call(t)}finally{Wn(e),xo(5,t,n)}}function jT(t,n,e,r){const o=e[r]<0,i=e[r+1],a=t[o?-e[r]:e[r]];o?t[Qt]>>13<t[ml]>>16&&(3&t[Qt])===n&&(t[Qt]+=8192,x0(a,i)):x0(a,i)}const _u=-1;class Nd{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Ag(t){return t!==_u}function Ld(t){return 32767&t}function $d(t,n){let e=function GT(t){return t>>16}(t),r=n;for(;e>0;)r=r[hl],e--;return r}let Pg=!0;function kp(t){const n=Pg;return Pg=t,n}const k0=255,M0=5;let zT=0;const Oa={};function Mp(t,n){const e=T0(t,n);if(-1!==e)return e;const r=n[Mt];r.firstCreatePass&&(t.injectorIndex=n.length,Rg(r.data,t),Rg(n,null),Rg(r.blueprint,null));const o=Tp(t,n),i=t.injectorIndex;if(Ag(o)){const s=Ld(o),a=$d(o,n),c=a[Mt].data;for(let f=0;f<8;f++)n[i+f]=a[s+f]|c[s+f]}return n[i+8]=o,i}function Rg(t,n){t.push(0,0,0,0,0,0,0,0,n)}function T0(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Tp(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,o=n;for(;null!==o;){if(r=L0(o),null===r)return _u;if(e++,o=o[hl],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return _u}function Og(t,n,e){!function WT(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(_t)&&(r=e[_t]),null==r&&(r=e[_t]=zT++);const o=r&k0;n.data[t+(o>>M0)]|=1<<o}(t,n,e)}function A0(t,n,e){if(e&Tn.Optional||void 0!==t)return t;Ia()}function P0(t,n,e,r){if(e&Tn.Optional&&void 0===r&&(r=null),!(e&(Tn.Self|Tn.Host))){const o=t[pa],i=wo(void 0);try{return o?o.get(n,r,e&Tn.Optional):ua(n,r,e&Tn.Optional)}finally{wo(i)}}return A0(r,0,e)}function R0(t,n,e,r=Tn.Default,o){if(null!==t){if(2048&n[Qt]&&!(r&Tn.Self)){const s=function QT(t,n,e,r,o){let i=t,s=n;for(;null!==i&&null!==s&&2048&s[Qt]&&!(512&s[Qt]);){const a=O0(i,s,e,r|Tn.Self,Oa);if(a!==Oa)return a;let c=i.parent;if(!c){const f=s[Pd];if(f){const m=f.get(e,Oa,r);if(m!==Oa)return m}c=L0(s),s=s[hl]}i=c}return o}(t,n,e,r,Oa);if(s!==Oa)return s}const i=O0(t,n,e,r,Oa);if(i!==Oa)return i}return P0(n,e,r,o)}function O0(t,n,e,r,o){const i=function YT(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(_t)?t[_t]:void 0;return"number"==typeof n?n>=0?n&k0:KT:n}(e);if("function"==typeof i){if(!y0(n,t,r))return r&Tn.Host?A0(o,0,r):P0(n,e,r,o);try{let s;if(s=i(r),null!=s||r&Tn.Optional)return s;Ia()}finally{S0()}}else if("number"==typeof i){let s=null,a=T0(t,n),c=_u,f=r&Tn.Host?n[_o][fi]:null;for((-1===a||r&Tn.SkipSelf)&&(c=-1===a?Tp(t,n):n[a+8],c!==_u&&N0(r,!1)?(s=n[Mt],a=Ld(c),n=$d(c,n)):a=-1);-1!==a;){const m=n[Mt];if(F0(i,a,m.data)){const y=qT(a,n,e,s,r,f);if(y!==Oa)return y}c=n[a+8],c!==_u&&N0(r,n[Mt].data[a+8]===f)&&F0(i,a,n)?(s=m,a=Ld(c),n=$d(c,n)):a=-1}}return o}function qT(t,n,e,r,o,i){const s=n[Mt],a=s.data[t+8],m=Ap(a,s,e,null==r?Pa(a)&&Pg:r!=s&&0!=(3&a.type),o&Tn.Host&&i===a);return null!==m?Oc(n,s,m,a):Oa}function Ap(t,n,e,r,o){const i=t.providerIndexes,s=n.data,a=1048575&i,c=t.directiveStart,m=i>>20,S=o?a+m:t.directiveEnd;for(let A=r?a:a+m;A<S;A++){const oe=s[A];if(A<c&&e===oe||A>=c&&oe.type===e)return A}if(o){const A=s[c];if(A&&hs(A)&&A.type===e)return c}return null}function Oc(t,n,e,r){let o=t[e];const i=n.data;if(function VT(t){return t instanceof Nd}(o)){const s=o;s.resolving&&function el(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new it(-200,`Circular dependency in DI detected for ${t}${e}`)}(function zn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():yt(t)}(i[e]));const a=kp(s.canSeeViewProviders);s.resolving=!0;const f=s.injectImpl?wo(s.injectImpl):null;y0(t,r,Tn.Default);try{o=t[e]=s.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&function BT(t,n,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const s=Ot(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}o&&(e.preOrderHooks??=[]).push(0-t,o),i&&((e.preOrderHooks??=[]).push(t,i),(e.preOrderCheckHooks??=[]).push(t,i))}(e,i[e],n)}finally{null!==f&&wo(f),kp(a),s.resolving=!1,S0()}}return o}function F0(t,n,e){return!!(e[n+(t>>M0)]&1<<t)}function N0(t,n){return!(t&Tn.Self||t&Tn.Host&&n)}class Qi{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return R0(this._tNode,this._lView,n,C(r),e)}}function KT(){return new Qi(Pi(),Ct())}function ei(t){return xt(()=>{const n=t.prototype.constructor,e=n[$r]||Fg(n),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[$r]||Fg(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Fg(t){return fn(t)?()=>{const n=Fg(ut(t));return n&&n()}:Dr(t)}function L0(t){const n=t[Mt],e=n.type;return 2===e?n.declTNode:1===e?t[fi]:null}function vu(t){return function ZT(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let o=0;for(;o<r;){const i=e[o];if(or(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof e[o];)o++;else{if(i===n)return e[o+1];o+=2}}}return null}(Pi(),t)}const bu="__parameters__";function wu(t,n,e){return xt(()=>{const r=function Ng(t){return function(...e){if(t){const r=t(...e);for(const o in r)this[o]=r[o]}}}(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,f,m){const y=c.hasOwnProperty(bu)?c[bu]:Object.defineProperty(c,bu,{value:[]})[bu];for(;y.length<=m;)y.push(null);return(y[m]=y[m]||[]).push(s),c}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function Eu(t,n){t.forEach(e=>Array.isArray(e)?Eu(e,n):n(e))}function B0(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Pp(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Vd(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function Os(t,n,e){let r=Du(t,n);return r>=0?t[1|r]=e:(r=~r,function iA(t,n,e,r){let o=t.length;if(o==n)t.push(e,r);else if(1===o)t.push(r,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Lg(t,n){const e=Du(t,n);if(e>=0)return t[1|e]}function Du(t,n){return function j0(t,n,e){let r=0,o=t.length>>e;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<e];if(n===s)return i<<e;s>n?o=i:r=i+1}return~(o<<e)}(t,n,1)}const Op=Z(wu("Optional"),8),Fp=Z(wu("SkipSelf"),4);function jp(t){return 128==(128&t.flags)}var nc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(nc||{});const IA=/^>|^->|<!--|-->|--!>|<!-$/g,xA=/(<|>)/,kA="\u200b$1\u200b";const Ug=new Map;let MA=0;const Gg="__ngContext__";function Bi(t,n){Ti(n)?(t[Gg]=n[Ql],function AA(t){Ug.set(t[Ql],t)}(n)):t[Gg]=n}let zg;function Wg(t,n){return zg(t,n)}function Gd(t){const n=t[Yr];return Ai(n)?n[Yr]:n}function sC(t){return lC(t[Xl])}function aC(t){return lC(t[ps])}function lC(t){for(;null!==t&&!Ai(t);)t=t[ps];return t}function ku(t,n,e,r,o){if(null!=r){let i,s=!1;Ai(r)?i=r:Ti(r)&&(s=!0,r=r[kn]);const a=Nt(r);0===t&&null!==e?null==o?fC(n,e,a):Fc(n,e,a,o||null,!0):1===t&&null!==e?Fc(n,e,a,o||null,!0):2===t?function Zp(t,n,e){const r=zp(t,n);r&&function XA(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=i&&function JA(t,n,e,r,o){const i=e[Ps];i!==Nt(e)&&ku(n,t,r,i,o);for(let a=Yo;a<e.length;a++){const c=e[a];Wd(c[Mt],c,t,n,r,i)}}(n,t,i,e,o)}}function Zg(t,n){return t.createComment(function Q0(t){return t.replace(IA,n=>n.replace(xA,kA))}(n))}function Hp(t,n,e){return t.createElement(n,e)}function uC(t,n){const e=t[gl],r=e.indexOf(n);c0(n),e.splice(r,1)}function Gp(t,n){if(t.length<=Yo)return;const e=Yo+n,r=t[e];if(r){const o=r[Kl];null!==o&&o!==t&&uC(o,r),n>0&&(t[e-1][ps]=r[ps]);const i=Pp(t,Yo+n);!function UA(t,n){Wd(t,n,n[An],2,null,null),n[kn]=null,n[fi]=null}(r[Mt],r);const s=i[As];null!==s&&s.detachView(i[Mt]),r[Yr]=null,r[ps]=null,r[Qt]&=-129}return r}function qg(t,n){if(!(256&n[Qt])){const e=n[An];n[kc]?.destroy(),n[Mc]?.destroy(),e.destroyNode&&Wd(t,n,e,3,null,null),function zA(t){let n=t[Xl];if(!n)return Yg(t[Mt],t);for(;n;){let e=null;if(Ti(n))e=n[Xl];else{const r=n[Yo];r&&(e=r)}if(!e){for(;n&&!n[ps]&&n!==t;)Ti(n)&&Yg(n[Mt],n),n=n[Yr];null===n&&(n=t),Ti(n)&&Yg(n[Mt],n),e=n&&n[ps]}n=e}}(n)}}function Yg(t,n){if(!(256&n[Qt])){n[Qt]&=-129,n[Qt]|=256,function YA(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const o=n[e[r]];if(!(o instanceof Nd)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];xo(4,a,c);try{c.call(a)}finally{xo(5,a,c)}}else{xo(4,o,i);try{i.call(o)}finally{xo(5,o,i)}}}}}(t,n),function qA(t,n){const e=t.cleanup,r=n[fl];if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else e[i].call(r[e[i+1]]);null!==r&&(n[fl]=null);const o=n[ha];if(null!==o){n[ha]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(t,n),1===n[Mt].type&&n[An].destroy();const e=n[Kl];if(null!==e&&Ai(n[Yr])){e!==n[Yr]&&uC(e,n);const r=n[As];null!==r&&r.detachView(t)}!function PA(t){Ug.delete(t[Ql])}(n)}}function Xg(t,n,e){return function dC(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[kn];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=t.data[r.directiveStart+o];if(i===xn.None||i===xn.Emulated)return null}return io(r,e)}}(t,n.parent,e)}function Fc(t,n,e,r,o){t.insertBefore(n,e,r,o)}function fC(t,n,e){t.appendChild(n,e)}function pC(t,n,e,r,o){null!==r?Fc(t,n,e,r,o):fC(t,n,e)}function zp(t,n){return t.parentNode(n)}function hC(t,n,e){return gC(t,n,e)}let Kg,qp,t_,gC=function mC(t,n,e){return 40&t.type?io(t,e):null};function Wp(t,n,e,r){const o=Xg(t,r,n),i=n[An],a=hC(r.parent||n[fi],r,n);if(null!=o)if(Array.isArray(e))for(let c=0;c<e.length;c++)pC(i,o,e[c],a,!1);else pC(i,o,e,a,!1);void 0!==Kg&&Kg(i,r,n,e,o)}function zd(t,n){if(null!==n){const e=n.type;if(3&e)return io(n,t);if(4&e)return Qg(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return zd(t,r);{const o=t[n.index];return Ai(o)?Qg(-1,o):Nt(o)}}if(32&e)return Wg(n,t)()||Nt(t[n.index]);{const r=vC(t,n);return null!==r?Array.isArray(r)?r[0]:zd(Gd(t[_o]),r):zd(t,n.next)}}return null}function vC(t,n){return null!==n?t[_o][fi].projection[n.projection]:null}function Qg(t,n){const e=Yo+t+1;if(e<n.length){const r=n[e],o=r[Mt].firstChild;if(null!==o)return zd(r,o)}return n[Ps]}function Jg(t,n,e,r,o,i,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===n&&(a&&Bi(Nt(a),r),e.flags|=2),32!=(32&e.flags))if(8&c)Jg(t,n,e.child,r,o,i,!1),ku(n,t,o,a,i);else if(32&c){const f=Wg(e,r);let m;for(;m=f();)ku(n,t,o,m,i);ku(n,t,o,a,i)}else 16&c?bC(t,n,r,e,o,i):ku(n,t,o,a,i);e=s?e.projectionNext:e.next}}function Wd(t,n,e,r,o,i){Jg(e,r,t.firstChild,n,o,i,!1)}function bC(t,n,e,r,o,i){const s=e[_o],c=s[fi].projection[r.projection];if(Array.isArray(c))for(let f=0;f<c.length;f++)ku(n,t,o,c[f],i);else{let f=c;const m=s[Yr];jp(r)&&(f.flags|=128),Jg(t,n,f,m,o,i,!0)}}function CC(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function wC(t,n,e){const{mergedAttrs:r,classes:o,styles:i}=e;null!==r&&dr(t,n,r),null!==o&&CC(t,n,o),null!==i&&function t2(t,n,e){t.setAttribute(n,"style",e)}(t,n,i)}function Mu(t){return function e_(){if(void 0===qp&&(qp=null,rr.trustedTypes))try{qp=rr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qp}()?.createHTML(t)||t}class Nc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gt})`}}class s2 extends Nc{getTypeName(){return"HTML"}}class a2 extends Nc{getTypeName(){return"Style"}}class l2 extends Nc{getTypeName(){return"Script"}}class c2 extends Nc{getTypeName(){return"URL"}}class u2 extends Nc{getTypeName(){return"ResourceURL"}}function Fs(t){return t instanceof Nc?t.changingThisBreaksApplicationSecurity:t}function Fa(t,n){const e=function d2(t){return t instanceof Nc&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${gt})`)}return e===n}class _2{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Mu(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class v2{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=Mu(n),e}}const b2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Xp(t){return(t=String(t)).match(b2)?t:"unsafe:"+t}function yl(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Zd(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const xC=yl("area,br,col,hr,img,wbr"),kC=yl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),MC=yl("rp,rt"),r_=Zd(xC,Zd(kC,yl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zd(MC,yl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zd(MC,kC)),o_=yl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),TC=Zd(o_,yl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),C2=yl("script,style,template");class w2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!r_.hasOwnProperty(e))return this.sanitizedSomething=!0,!C2.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!TC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;o_[a]&&(c=Xp(c)),this.buf.push(" ",s,'="',AC(c),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();r_.hasOwnProperty(e)&&!xC.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(AC(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const S2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,E2=/([^\#-~ |!])/g;function AC(t){return t.replace(/&/g,"&amp;").replace(S2,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(E2,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kp;function PC(t,n){let e=null;try{Kp=Kp||function IC(t){const n=new v2(t);return function y2(){try{return!!(new window.DOMParser).parseFromString(Mu(""),"text/html")}catch{return!1}}()?new _2(n):n}(t);let r=n?String(n):"";e=Kp.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=e.innerHTML,e=Kp.getInertBodyElement(r)}while(r!==i);return Mu((new w2).sanitizeChildren(i_(e)||e))}finally{if(e){const r=i_(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function i_(t){return"content"in t&&function D2(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ns=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ns||{});class Gt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=mt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Yd=new Gt("ENVIRONMENT_INITIALIZER"),NC=new Gt("INJECTOR",-1),LC=new Gt("INJECTOR_DEF_TYPES");class s_{get(n,e=Ts){if(e===Ts){const r=new Error(`NullInjectorError: No provider for ${Ne(n)}!`);throw r.name="NullInjectorError",r}return e}}function P2(...t){return{\u0275providers:$C(0,t),\u0275fromNgModule:!0}}function $C(t,...n){const e=[],r=new Set;let o;const i=s=>{e.push(s)};return Eu(n,s=>{const a=s;Qp(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&BC(o,i),e}function BC(t,n){for(let e=0;e<t.length;e++){const{ngModule:r,providers:o}=t[e];l_(o,i=>{n(i,r)})}}function Qp(t,n,e,r){if(!(t=ut(t)))return!1;let o=null,i=ks(t);const s=!i&&Yt(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const c=t.ngModule;if(i=ks(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of c)Qp(f,n,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{Eu(i.imports,m=>{Qp(m,n,e,r)&&(f||=[],f.push(m))})}finally{}void 0!==f&&BC(f,n)}if(!a){const f=Dr(o)||(()=>new o);n({provide:o,useFactory:f,deps:Rt},o),n({provide:LC,useValue:o,multi:!0},o),n({provide:Yd,useValue:()=>ce(o),multi:!0},o)}const c=i.providers;if(null!=c&&!a){const f=t;l_(c,m=>{n(m,f)})}}}return o!==t&&void 0!==t.providers}function l_(t,n){for(let e of t)vn(e)&&(e=e.\u0275providers),Array.isArray(e)?l_(e,n):n(e)}const R2=ge({provide:String,useValue:ge});function c_(t){return null!==t&&"object"==typeof t&&R2 in t}function Lc(t){return"function"==typeof t}const u_=new Gt("Set Injector scope."),Jp={},F2={};let d_;function eh(){return void 0===d_&&(d_=new s_),d_}class Ri{}class th extends Ri{get destroyed(){return this._destroyed}constructor(n,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,p_(n,s=>this.processProvider(s)),this.records.set(NC,Au(void 0,this)),o.has("environment")&&this.records.set(Ri,Au(void 0,this));const i=this.records.get(u_);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(LC.multi,Rt,Tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=ur(this),r=wo(void 0);try{return n()}finally{ur(e),wo(r)}}get(n,e=Ts,r=Tn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(an))return n[an](this);r=C(r);const i=ur(this),s=wo(void 0);try{if(!(r&Tn.SkipSelf)){let c=this.records.get(n);if(void 0===c){const f=function j2(t){return"function"==typeof t||"object"==typeof t&&t instanceof Gt}(n)&&xs(n);c=f&&this.injectableDefInScope(f)?Au(f_(n),Jp):null,this.records.set(n,c)}if(null!=c)return this.hydrate(n,c)}return(r&Tn.Self?eh():this.parent).get(n,e=r&Tn.Optional&&e===Ts?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Ys]=a[Ys]||[]).unshift(Ne(n)),i)throw a;return function xe(t,n,e,r){const o=t[Ys];throw n[ro]&&o.unshift(n[ro]),t.message=function Ue(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Ne(n);if(Array.isArray(n))o=n.map(Ne).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Ne(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${t.replace(cr,"\n  ")}`}("\n"+t.message,o,e,r),t.ngTokenPath=o,t[Ys]=null,t}(a,n,"R3InjectorError",this.source)}throw a}finally{wo(s),ur(i)}}resolveInjectorInitializers(){const n=ur(this),e=wo(void 0);try{const o=this.get(Yd.multi,Rt,Tn.Self);for(const i of o)i()}finally{ur(n),wo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Ne(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new it(205,!1)}processProvider(n){let e=Lc(n=ut(n))?n:ut(n&&n.provide);const r=function L2(t){return c_(t)?Au(void 0,t.useValue):Au(UC(t),Jp)}(n);if(Lc(n)||!0!==n.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=Au(void 0,Jp,!0),o.factory=()=>O(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===Jp&&(e.value=F2,e.value=e.factory()),"object"==typeof e.value&&e.value&&function B2(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=ut(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function f_(t){const n=xs(t),e=null!==n?n.factory:Dr(t);if(null!==e)return e;if(t instanceof Gt)throw new it(204,!1);if(t instanceof Function)return function N2(t){const n=t.length;if(n>0)throw Vd(n,"?"),new it(204,!1);const e=function ka(t){return t&&(t[Ms]||t[la])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new it(204,!1)}function UC(t,n,e){let r;if(Lc(t)){const o=ut(t);return Dr(o)||f_(o)}if(c_(t))r=()=>ut(t.useValue);else if(function VC(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...O(t.deps||[]));else if(function jC(t){return!(!t||!t.useExisting)}(t))r=()=>ce(ut(t.useExisting));else{const o=ut(t&&(t.useClass||t.provide));if(!function $2(t){return!!t.deps}(t))return Dr(o)||f_(o);r=()=>new o(...O(t.deps))}return r}function Au(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function p_(t,n){for(const e of t)Array.isArray(e)?p_(e,n):e&&vn(e)?p_(e.\u0275providers,n):n(e)}const nh=new Gt("AppId",{providedIn:"root",factory:()=>V2}),V2="ng",HC=new Gt("Platform Initializer"),rc=new Gt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),GC=new Gt("CSP nonce",{providedIn:"root",factory:()=>function Tu(){if(void 0!==t_)return t_;if(typeof document<"u")return document;throw new it(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let WC=(t,n,e)=>null;function b_(t,n,e=!1){return WC(t,n,e)}class K2{}class YC{}class J2{resolveComponentFactory(n){throw function Q2(t){const n=Error(`No component factory found for ${Ne(t)}.`);return n.ngComponent=t,n}(n)}}let lh=(()=>{class t{static#e=this.NULL=new J2}return t})();function eP(){return Ru(Pi(),Ct())}function Ru(t,n){return new wt(io(t,n))}let wt=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=eP}return t})();function tP(t){return t instanceof wt?t.nativeElement:t}class KC{}let bl=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function nP(){const t=Ct(),e=Rs(Pi().index,t);return(Ti(e)?e:t)[An]}()}return t})(),rP=(()=>{class t{static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>null})}return t})();class Jd{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const oP=new Jd("16.2.2"),S_={};function tw(t,n=null,e=null,r){const o=nw(t,n,e,r);return o.resolveInjectorInitializers(),o}function nw(t,n=null,e=null,r,o=new Set){const i=[e||Rt,P2(t)];return r=r||("object"==typeof t?void 0:Ne(t)),new th(i,n||eh(),r||null,o)}let vo=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ts;static#t=this.NULL=new s_;static create(e,r){if(Array.isArray(e))return tw({name:""},r,e,"");{const o=e.name??"";return tw({name:o},e.parent,e.providers,o)}}static#n=this.\u0275prov=mt({token:t,providedIn:"any",factory:()=>ce(NC)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Cl(t){return t instanceof Function?t():t}let I_=(()=>{class t{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new it(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const e of this.callbacks)e.invoke()}finally{this.runningCallbacks=!1;for(const e of this.deferredCallbacks)this.callbacks.add(e);this.deferredCallbacks.clear()}}register(e){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(e)}unregister(e){this.callbacks.delete(e),this.deferredCallbacks.delete(e)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>new t})}return t})();function ef(t){for(;t;){t[Qt]|=64;const n=Gd(t);if(pu(t)&&!n)return t;t=n}return null}function x_(t){return t.ngOriginalError}class $c{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&x_(n);for(;e&&x_(e);)e=x_(e);return e||null}}const aw=new Gt("",{providedIn:"root",factory:()=>!1});class dw extends Jn{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){ef(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,e,r){const o=Wn(this);this.trackingVersion++;try{n(e,r)}finally{Wn(o)}}destroy(){this.trackingVersion++}}let uh=null;function fw(){return uh??=new dw,uh}function pw(t,n){return t[n]??fw()}function hw(t,n){const e=fw();e.hasReadASignal&&(t[n]=uh,e.lView=t,uh=new dw)}const Vn={};function Ye(t){mw(gr(),Ct(),Ki()+t,!1)}function mw(t,n,e,r){if(!r)if(3==(3&n[Qt])){const i=t.preOrderCheckHooks;null!==i&&Ip(n,i,e)}else{const i=t.preOrderHooks;null!==i&&xp(n,i,0,e)}Rc(e)}function w(t,n=Tn.Default){const e=Ct();return null===e?ce(t,n):R0(Pi(),e,ut(t),n)}function dh(t,n,e,r,o,i,s,a,c,f,m){const y=n.blueprint.slice();return y[kn]=o,y[Qt]=140|r,(null!==f||t&&2048&t[Qt])&&(y[Qt]|=2048),l0(y),y[Yr]=y[hl]=t,y[go]=e,y[pl]=s||t&&t[pl],y[An]=a||t&&t[An],y[pa]=c||t&&t[pa]||null,y[fi]=i,y[Ql]=function TA(){return MA++}(),y[Xs]=m,y[Pd]=f,y[_o]=2==n.type?t[_o]:y,y}function Nu(t,n,e,r,o){let i=t.data[n];if(null===i)i=function k_(t,n,e,r,o){const i=h0(),s=wg(),c=t.data[n]=function xP(t,n,e,r,o,i){let s=n?n.injectorIndex:-1,a=0;return mu()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,n,r,o);return null===t.firstChild&&(t.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c,c.prev=i)),c}(t,n,e,r,o),function MT(){return On.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=e,i.value=r,i.attrs=o;const s=function Fd(){const t=On.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Ra(i,!0),i}function tf(t,n,e,r){if(0===e)return-1;const o=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return o}function _w(t,n,e,r,o){const i=pw(n,kc),s=Ki(),a=2&r;try{if(Rc(-1),a&&n.length>qn&&mw(t,n,qn,!1),xo(a?2:0,o),a)i.runInContext(e,r,o);else{const f=Wn(null);try{e(r,o)}finally{Wn(f)}}}finally{a&&null===n[kc]&&hw(n,kc),Rc(s),xo(a?3:1,o)}}function M_(t,n,e){if(fu(n)){const r=Wn(null);try{const i=n.directiveEnd;for(let s=n.directiveStart;s<i;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{Wn(r)}}}function T_(t,n,e){p0()&&(function OP(t,n,e,r){const o=e.directiveStart,i=e.directiveEnd;Pa(e)&&function VP(t,n,e){const r=io(n,t),o=vw(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=fh(t,dh(t,o,null,s,r,n,null,t[pl].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=a}(n,e,t.data[o+e.componentOffset]),t.firstCreatePass||Mp(e,n),Bi(r,n);const s=e.initialInputs;for(let a=o;a<i;a++){const c=t.data[a],f=Oc(n,t,a,e);Bi(f,n),null!==s&&UP(0,a-o,f,c,0,s),hs(c)&&(Rs(e.index,n)[go]=Oc(n,t,a,e))}}(t,n,e,io(e,n)),64==(64&e.flags)&&Sw(t,n,e))}function A_(t,n,e=io){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?e(n,t):t[s];t[o++]=a}}}function vw(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=P_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function P_(t,n,e,r,o,i,s,a,c,f,m){const y=qn+r,S=y+o,A=function CP(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:Vn);return e}(y,S),oe="function"==typeof f?f():f;return A[Mt]={type:t,blueprint:A,template:e,queries:null,viewQuery:a,declTNode:n,data:A.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:oe,incompleteFirstPass:!1,ssrId:m}}let yw=t=>null;function bw(t,n,e,r){for(let o in t)if(t.hasOwnProperty(o)){e=null===e?{}:e;const i=t[o];null===r?Cw(e,n,o,i):r.hasOwnProperty(o)&&Cw(e,n,r[o],i)}return e}function Cw(t,n,e,r){t.hasOwnProperty(e)?t[e].push(n,r):t[e]=[n,r]}function Ls(t,n,e,r,o,i,s,a){const c=io(n,e);let m,f=n.inputs;!a&&null!=f&&(m=f[r])?(L_(t,e,m,r,o),Pa(n)&&function TP(t,n){const e=Rs(n,t);16&e[Qt]||(e[Qt]|=64)}(e,n.index)):3&n.type&&(r=function MP(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,n.value||"",r):o,i.setProperty(c,r,o))}function R_(t,n,e,r){if(p0()){const o=null===r?null:{"":-1},i=function NP(t,n){const e=t.directiveRegistry;let r=null,o=null;if(e)for(let i=0;i<e.length;i++){const s=e[i];if(qr(n,s.selectors,!1))if(r||(r=[]),hs(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),O_(t,n,a.length)}else r.unshift(s),O_(t,n,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(t,e);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&ww(t,n,e,s,o,a),o&&function LP(t,n,e){if(n){const r=t.localNames=[];for(let o=0;o<n.length;o+=2){const i=e[n[o+1]];if(null==i)throw new it(-301,!1);r.push(n[o],i)}}}(e,r,o)}e.mergedAttrs=oo(e.mergedAttrs,e.attrs)}function ww(t,n,e,r,o,i){for(let f=0;f<r.length;f++)Og(Mp(e,n),t,r[f].type);!function BP(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let f=0;f<r.length;f++){const m=r[f];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,c=tf(t,n,r.length,null);for(let f=0;f<r.length;f++){const m=r[f];e.mergedAttrs=oo(e.mergedAttrs,m.hostAttrs),jP(t,e,n,c,m),$P(c,m,o),null!==m.contentQueries&&(e.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=64);const y=m.type.prototype;!s&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}!function kP(t,n,e){const o=n.directiveEnd,i=t.data,s=n.attrs,a=[];let c=null,f=null;for(let m=n.directiveStart;m<o;m++){const y=i[m],S=e?e.get(y):null,oe=S?S.outputs:null;c=bw(y.inputs,m,c,S?S.inputs:null),f=bw(y.outputs,m,f,oe);const he=null===c||null===s||xc(n)?null:HP(c,m,s);a.push(he)}null!==c&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=c,n.outputs=f}(t,e,i)}function Sw(t,n,e){const r=e.directiveStart,o=e.directiveEnd,i=e.index,s=function AT(){return On.lFrame.currentDirectiveIndex}();try{Rc(i);for(let a=r;a<o;a++){const c=t.data[a],f=n[a];Eg(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&FP(c,f)}}finally{Rc(-1),Eg(s)}}function FP(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function O_(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function $P(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;hs(n)&&(e[""]=t)}}function jP(t,n,e,r,o){t.data[r]=o;const i=o.factory||(o.factory=Dr(o.type)),s=new Nd(i,hs(o),w);t.blueprint[r]=s,e[r]=s,function PP(t,n,e,r,o){const i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~n.index;(function RP(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,r,i)}}(t,n,r,tf(t,e,o.hostVars,Vn),o)}function Na(t,n,e,r,o,i){const s=io(t,n);!function F_(t,n,e,r,o,i,s){if(null==i)t.removeAttribute(n,o,e);else{const a=null==s?yt(i):s(i,r||"",o);t.setAttribute(n,o,a,e)}}(n[An],s,i,t.value,e,r,o)}function UP(t,n,e,r,o,i){const s=i[n];if(null!==s)for(let a=0;a<s.length;)Ew(r,e,s[a++],s[a++],s[a++])}function Ew(t,n,e,r,o){const i=Wn(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(o=s[r].call(n,o)),null!==t.setInput?t.setInput(n,o,e,r):n[r]=o}finally{Wn(i)}}function HP(t,n,e){let r=null,o=0;for(;o<e.length;){const i=e[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(t.hasOwnProperty(i)){null===r&&(r=[]);const s=t[i];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(i,s[a+1],e[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Dw(t,n,e,r){return[t,!0,!1,n,null,0,r,e,null,null,null]}function Iw(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r+1];if(-1!==i){const s=t.data[i];Ig(e[r]),s.contentQueries(2,n[i],i)}}}function fh(t,n){return t[Xl]?t[Ad][ps]=n:t[Xl]=n,t[Ad]=n,n}function N_(t,n,e){Ig(0);const r=Wn(null);try{n(t,e)}finally{Wn(r)}}function xw(t){return t[fl]||(t[fl]=[])}function kw(t){return t.cleanup||(t.cleanup=[])}function Tw(t,n){const e=t[pa],r=e?e.get($c,null):null;r&&r.handleError(n)}function L_(t,n,e,r,o){for(let i=0;i<e.length;){const s=e[i++],a=e[i++];Ew(t.data[s],n[s],r,a,o)}}function wl(t,n,e){const r=Rr(n,t);!function cC(t,n,e){t.setValue(n,e)}(t[An],r,e)}function GP(t,n){const e=Rs(n,t),r=e[Mt];!function zP(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const o=e[kn];null!==o&&null===e[Xs]&&(e[Xs]=b_(o,e[pa])),$_(r,e,e[go])}function $_(t,n,e){xg(n);try{const r=t.viewQuery;null!==r&&N_(1,r,e);const o=t.template;null!==o&&_w(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Iw(t,n),t.staticViewQueries&&N_(2,t.viewQuery,e);const i=t.components;null!==i&&function WP(t,n){for(let e=0;e<n.length;e++)GP(t,n[e])}(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[Qt]&=-5,kg()}}let Aw=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,r,o){const i=typeof Zone>"u"?null:Zone.current,s=new Ce(e,f=>{this.all.has(f)&&this.queue.set(f,i)},o);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>new t})}return t})();function ph(t,n,e){let r=e?t.styles:null,o=e?t.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:1==i?o=ct(o,a):2==i&&(r=ct(r,a+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=o:t.classesWithoutHost=o}function nf(t,n,e,r,o=!1){for(;null!==e;){const i=n[e.index];if(null!==i&&r.push(Nt(i)),Ai(i)){for(let a=Yo;a<i.length;a++){const c=i[a],f=c[Mt].firstChild;null!==f&&nf(c[Mt],c,f,r)}i[Ps]!==i[kn]&&r.push(i[Ps])}const s=e.type;if(8&s)nf(t,n,e.child,r);else if(32&s){const a=Wg(e,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=vC(n,e);if(Array.isArray(a))r.push(...a);else{const c=Gd(n[_o]);nf(c[Mt],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}function hh(t,n,e,r=!0){const o=n[pl],i=o.rendererFactory,s=o.afterRenderEventManager;i.begin?.(),s?.begin();try{Pw(t,n,t.template,e)}catch(c){throw r&&Tw(n,c),c}finally{i.end?.(),o.effectManager?.flush(),s?.end()}}function Pw(t,n,e,r){const o=n[Qt];if(256!=(256&o)){n[pl].effectManager?.flush(),xg(n);try{l0(n),function g0(t){return On.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&_w(t,n,e,2,r);const s=3==(3&o);if(s){const f=t.preOrderCheckHooks;null!==f&&Ip(n,f,null)}else{const f=t.preOrderHooks;null!==f&&xp(n,f,0,null),Mg(n,0)}if(function YP(t){for(let n=sC(t);null!==n;n=aC(n)){if(!n[Rd])continue;const e=n[gl];for(let r=0;r<e.length;r++){vT(e[r])}}}(n),Rw(n,2),null!==t.contentQueries&&Iw(t,n),s){const f=t.contentCheckHooks;null!==f&&Ip(n,f)}else{const f=t.contentHooks;null!==f&&xp(n,f,1),Mg(n,1)}!function bP(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const r=pw(n,Mc);try{for(let o=0;o<e.length;o++){const i=e[o];if(i<0)Rc(~i);else{const s=i,a=e[++o],c=e[++o];TT(a,s),r.runInContext(c,2,n[s])}}}finally{null===n[Mc]&&hw(n,Mc),Rc(-1)}}(t,n);const a=t.components;null!==a&&Fw(n,a,0);const c=t.viewQuery;if(null!==c&&N_(2,c,r),s){const f=t.viewCheckHooks;null!==f&&Ip(n,f)}else{const f=t.viewHooks;null!==f&&xp(n,f,2),Mg(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Qt]&=-73,c0(n)}finally{kg()}}}function Rw(t,n){for(let e=sC(t);null!==e;e=aC(e))for(let r=Yo;r<e.length;r++)Ow(e[r],n)}function XP(t,n,e){Ow(Rs(n,t),e)}function Ow(t,n){if(!function gT(t){return 128==(128&t[Qt])}(t))return;const e=t[Mt];if(80&t[Qt]&&0===n||1024&t[Qt]||2===n)Pw(e,t,e.template,t[go]);else if(t[Yl]>0){Rw(t,1);const o=t[Mt].components;null!==o&&Fw(t,o,1)}}function Fw(t,n,e){for(let r=0;r<n.length;r++)XP(t,n[r],e)}class rf{get rootNodes(){const n=this._lView,e=n[Mt];return nf(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[go]}set context(n){this._lView[go]=n}get destroyed(){return 256==(256&this._lView[Qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Yr];if(Ai(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(Gp(n,r),Pp(e,r))}this._attachedToViewContainer=!1}qg(this._lView[Mt],this._lView)}onDestroy(n){!function d0(t,n){if(256==(256&t[Qt]))throw new it(911,!1);null===t[ha]&&(t[ha]=[]),t[ha].push(n)}(this._lView,n)}markForCheck(){ef(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qt]&=-129}reattach(){this._lView[Qt]|=128}detectChanges(){hh(this._lView[Mt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new it(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function GA(t,n){Wd(t,n,n[An],2,null,null)}(this._lView[Mt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new it(902,!1);this._appRef=n}}class KP extends rf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;hh(n[Mt],n,n[go],!1)}checkNoChanges(){}get context(){return null}}class Nw extends lh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Yt(n);return new sf(e,this.ngModule)}}function Lw(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class JP{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=C(r);const o=this.injector.get(n,S_,r);return o!==S_||e===S_?o:this.parentInjector.get(n,e,r)}}class sf extends YC{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=Lw(n.inputs);if(null!==e)for(const o of r)e.hasOwnProperty(o.propName)&&(o.transform=e[o.propName]);return r}get outputs(){return Lw(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function u(t){return t.map(br).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,o){let i=(o=o||this.ngModule)instanceof Ri?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new JP(n,i):n,a=s.get(KC,null);if(null===a)throw new it(407,!1);const y={rendererFactory:a,sanitizer:s.get(rP,null),effectManager:s.get(Aw,null),afterRenderEventManager:s.get(I_,null)},S=a.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",oe=r?function wP(t,n,e,r){const i=r.get(aw,!1)||e===xn.ShadowDom,s=t.selectRootElement(n,i);return function SP(t){yw(t)}(s),s}(S,r,this.componentDef.encapsulation,s):Hp(S,A,function QP(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(A)),je=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ae=null;null!==oe&&(Ae=b_(oe,s,!0));const kt=P_(0,null,null,1,0,null,null,null,null,null,null),bt=dh(null,kt,null,je,null,null,y,S,s,null,Ae);let Kt,Bn;xg(bt);try{const Mo=this.componentDef;let _i,ig=null;Mo.findHostDirectiveDefs?(_i=[],ig=new Map,Mo.findHostDirectiveDefs(Mo,_i,ig),_i.push(Mo)):_i=[Mo];const vp=function tR(t,n){const e=t[Mt],r=qn;return t[r]=n,Nu(e,r,2,"#host",null)}(bt,oe),e0=function nR(t,n,e,r,o,i,s){const a=o[Mt];!function rR(t,n,e,r){for(const o of t)n.mergedAttrs=oo(n.mergedAttrs,o.hostAttrs);null!==n.mergedAttrs&&(ph(n,n.mergedAttrs,!0),null!==e&&wC(r,e,n))}(r,t,n,s);let c=null;null!==n&&(c=b_(n,o[pa]));const f=i.rendererFactory.createRenderer(n,e);let m=16;e.signals?m=4096:e.onPush&&(m=64);const y=dh(o,vw(e),null,m,o[t.index],t,i,f,null,null,c);return a.firstCreatePass&&O_(a,t,r.length-1),fh(o,y),o[t.index]=y}(vp,oe,Mo,_i,bt,y,S);Bn=a0(kt,qn),oe&&function iR(t,n,e,r){if(r)dr(t,e,["ng-version",oP.full]);else{const{attrs:o,classes:i}=function _(t){const n=[],e=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&n.push(i,t[++r]):8===o&&e.push(i);else{if(!Er(o))break;o=i}r++}return{attrs:n,classes:e}}(n.selectors[0]);o&&dr(t,e,o),i&&i.length>0&&CC(t,e,i.join(" "))}}(S,Mo,oe,r),void 0!==e&&function sR(t,n,e){const r=t.projection=[];for(let o=0;o<n.length;o++){const i=e[o];r.push(null!=i?Array.from(i):null)}}(Bn,this.ngContentSelectors,e),Kt=function oR(t,n,e,r,o,i){const s=Pi(),a=o[Mt],c=io(s,o);ww(a,o,s,e,null,r);for(let m=0;m<e.length;m++)Bi(Oc(o,a,s.directiveStart+m,s),o);Sw(a,o,s),c&&Bi(c,o);const f=Oc(o,a,s.directiveStart+s.componentOffset,s);if(t[go]=o[go]=f,null!==i)for(const m of i)m(f,n);return M_(a,s,t),f}(e0,Mo,_i,ig,bt,[aR]),$_(kt,bt,null)}finally{kg()}return new eR(this.componentType,Kt,Ru(Bn,bt),bt,Bn)}}class eR extends K2{constructor(n,e,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new KP(o),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const i=this._rootLView;L_(i[Mt],i,o,n,e),this.previousInputValues.set(n,e),ef(Rs(this._tNode.index,i))}}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function aR(){const t=Pi();Dp(Ct()[Mt],t)}function ar(t){let n=function $w(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let o;if(hs(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new it(903,!1);o=n.\u0275dir}if(o){if(e){r.push(o);const s=t;s.inputs=mh(t.inputs),s.inputTransforms=mh(t.inputTransforms),s.declaredInputs=mh(t.declaredInputs),s.outputs=mh(t.outputs);const a=o.hostBindings;a&&dR(t,a);const c=o.viewQuery,f=o.contentQueries;if(c&&cR(t,c),f&&uR(t,f),be(t.inputs,o.inputs),be(t.declaredInputs,o.declaredInputs),be(t.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),be(s.inputTransforms,o.inputTransforms)),hs(o)&&o.data.animation){const m=t.data;m.animation=(m.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===ar&&(e=!1)}}n=Object.getPrototypeOf(n)}!function lR(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=n+=o.hostVars,o.hostAttrs=oo(o.hostAttrs,e=oo(e,o.hostAttrs))}}(r)}function mh(t){return t===Ln?{}:t===Rt?[]:t}function cR(t,n){const e=t.viewQuery;t.viewQuery=e?(r,o)=>{n(r,o),e(r,o)}:n}function uR(t,n){const e=t.contentQueries;t.contentQueries=e?(r,o,i)=>{n(r,o,i),e(r,o,i)}:n}function dR(t,n){const e=t.hostBindings;t.hostBindings=e?(r,o)=>{n(r,o),e(r,o)}:n}function gh(t){return!!function B_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ji(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Bc(t,n,e,r){const o=ji(t,n,e);return ji(t,n+1,r)||o}function ea(t,n,e,r){const o=Ct();return ji(o,gu(),n)&&(gr(),Na(ko(),o,t,n,e,r)),ea}function $u(t,n,e,r){return ji(t,gu(),e)?n+yt(e)+r:Vn}function ju(t,n,e,r,o,i,s,a){const f=function _h(t,n,e,r,o){const i=Bc(t,n,e,r);return ji(t,n+2,o)||i}(t,_l(),e,o,s);return vl(3),f?n+yt(e)+r+yt(o)+i+yt(s)+a:Vn}function nn(t,n,e,r,o,i,s,a){const c=Ct(),f=gr(),m=t+qn,y=f.firstCreatePass?function NR(t,n,e,r,o,i,s,a,c){const f=n.consts,m=Nu(n,t,4,s||null,ec(f,a));R_(n,e,m,ec(f,c)),Dp(n,m);const y=m.tView=P_(2,m,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,f,null);return null!==n.queries&&(n.queries.template(n,m),y.queries=n.queries.embeddedTView(m)),m}(m,f,c,n,e,r,o,i,s):f.data[m];Ra(y,!1);const S=tS(f,c,y,t);Ep()&&Wp(f,c,S,y),Bi(S,c),fh(c,c[m]=Dw(S,c,S,y)),Ac(y)&&T_(f,c,y),null!=s&&A_(c,y,a)}let tS=function nS(t,n,e,r){return tc(!0),n[An].createComment("")};function $s(t){return hu(function kT(){return On.lFrame.contextLView}(),qn+t)}function nt(t,n,e){const r=Ct();return ji(r,gu(),n)&&Ls(gr(),ko(),r,t,n,r[An],e,!1),nt}function z_(t,n,e,r,o){const s=o?"class":"style";L_(t,e,n.inputs[s],s,r)}function ie(t,n,e,r){const o=Ct(),i=gr(),s=qn+t,a=o[An],c=i.firstCreatePass?function jR(t,n,e,r,o,i){const s=n.consts,c=Nu(n,t,2,r,ec(s,o));return R_(n,e,c,ec(s,i)),null!==c.attrs&&ph(c,c.attrs,!1),null!==c.mergedAttrs&&ph(c,c.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,c),c}(s,i,o,n,e,r):i.data[s],f=rS(i,o,c,a,n,t);o[s]=f;const m=Ac(c);return Ra(c,!0),wC(a,f,c),32!=(32&c.flags)&&Ep()&&Wp(i,o,f,c),0===function bT(){return On.lFrame.elementDepthCount}()&&Bi(f,o),function CT(){On.lFrame.elementDepthCount++}(),m&&(T_(i,o,c),M_(i,c,o)),null!==r&&A_(o,c),ie}function ee(){let t=Pi();wg()?Sg():(t=t.parent,Ra(t,!1));const n=t;(function ST(t){return On.skipHydrationRootTNode===t})(n)&&function xT(){On.skipHydrationRootTNode=null}(),function wT(){On.lFrame.elementDepthCount--}();const e=gr();return e.firstCreatePass&&(Dp(e,t),fu(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function UT(t){return 0!=(8&t.flags)}(n)&&z_(e,n,Ct(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function HT(t){return 0!=(16&t.flags)}(n)&&z_(e,n,Ct(),n.stylesWithoutHost,!1),ee}function lt(t,n,e,r){return ie(t,n,e,r),ee(),lt}let rS=(t,n,e,r,o,i)=>(tc(!0),Hp(r,o,function E0(){return On.lFrame.currentNamespace}()));function Wu(t,n,e){const r=Ct(),o=gr(),i=t+qn,s=o.firstCreatePass?function HR(t,n,e,r,o){const i=n.consts,s=ec(i,r),a=Nu(n,t,8,"ng-container",s);return null!==s&&ph(a,s,!0),R_(n,e,a,ec(i,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(i,o,r,n,e):o.data[i];Ra(s,!0);const a=oS(o,r,s,t);return r[i]=a,Ep()&&Wp(o,r,a,s),Bi(a,r),Ac(s)&&(T_(o,r,s),M_(o,s,r)),null!=e&&A_(r,s),Wu}function Zu(){let t=Pi();const n=gr();return wg()?Sg():(t=t.parent,Ra(t,!1)),n.firstCreatePass&&(Dp(n,t),fu(t)&&n.queries.elementEnd(t)),Zu}let oS=(t,n,e,r)=>(tc(!0),Zg(n[An],""));function Or(){return Ct()}function df(t){return!!t&&"function"==typeof t.then}function iS(t){return!!t&&"function"==typeof t.subscribe}function at(t,n,e,r){const o=Ct(),i=gr(),s=Pi();return function aS(t,n,e,r,o,i,s){const a=Ac(r),f=t.firstCreatePass&&kw(t),m=n[go],y=xw(n);let S=!0;if(3&r.type||s){const he=io(r,n),Te=s?s(he):he,je=y.length,Ae=s?bt=>s(Nt(bt[r.index])):r.index;let kt=null;if(!s&&a&&(kt=function WR(t,n,e,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===e&&o[i+1]===r){const a=n[fl],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(t,n,o,r.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=i,kt.__ngLastListenerFn__=i,S=!1;else{i=cS(r,n,m,i,!1);const bt=e.listen(Te,o,i);y.push(i,bt),f&&f.push(o,Ae,je,je+1)}}else i=cS(r,n,m,i,!1);const A=r.outputs;let oe;if(S&&null!==A&&(oe=A[o])){const he=oe.length;if(he)for(let Te=0;Te<he;Te+=2){const Kt=n[oe[Te]][oe[Te+1]].subscribe(i),Bn=y.length;y.push(i,Kt),f&&f.push(o,r.index,Bn,-(Bn+1))}}}(i,o,o[An],s,t,n,r),at}function lS(t,n,e,r){try{return xo(6,n,e),!1!==e(r)}catch(o){return Tw(t,o),!1}finally{xo(7,n,e)}}function cS(t,n,e,r,o){return function i(s){if(s===Function)return r;ef(t.componentOffset>-1?Rs(t.index,n):n);let c=lS(n,e,r,s),f=i.__ngNextListenerFn__;for(;f;)c=lS(n,e,f,s)&&c,f=f.__ngNextListenerFn__;return o&&!1===c&&s.preventDefault(),c}}function Ut(t=1){return function RT(t){return(On.lFrame.contextLView=function OT(t,n){for(;t>0;)n=n[hl],t--;return n}(t,On.lFrame.contextLView))[go]}(t)}function ZR(t,n){let e=null;const r=function sn(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const i=n[o];if("*"!==i){if(null===r?qr(t,i,!0):mo(r,i))return o}else e=o}return e}function Lt(t){const n=Ct()[_o][fi];if(!n.projection){const r=n.projection=Vd(t?t.length:1,null),o=r.slice();let i=n.child;for(;null!==i;){const s=t?ZR(i,t):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function Ft(t,n=0,e){const r=Ct(),o=gr(),i=Nu(o,qn+t,16,null,e||null);null===i.projection&&(i.projection=n),Sg(),(!r[Xs]||mu())&&32!=(32&i.flags)&&function QA(t,n,e){bC(n[An],0,n,e,Xg(t,e,n),hC(e.parent||n[fi],e,n))}(o,r,i)}function wh(t,n,e,r,o){const i=Ct(),s=$u(i,n,e,r);return s!==Vn&&Ls(gr(),ko(),i,t,s,i[An],o,!1),wh}function Sh(t,n){return t<<17|n<<2}function oc(t){return t>>17&32767}function W_(t){return 2|t}function jc(t){return(131068&t)>>2}function Z_(t,n){return-131069&t|n<<2}function q_(t){return 1|t}function yS(t,n,e,r,o){const i=t[e+1],s=null===n;let a=r?oc(i):jc(i),c=!1;for(;0!==a&&(!1===c||s);){const m=t[a+1];JR(t[a],n)&&(c=!0,t[a+1]=r?q_(m):W_(m)),a=r?oc(m):jc(m)}c&&(t[e+1]=r?W_(i):q_(i))}function JR(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Du(t,n)>=0}function Yu(t,n,e){return ma(t,n,e,!1),Yu}function Sl(t,n){return ma(t,n,null,!0),Sl}function ma(t,n,e,r){const o=Ct(),i=gr(),s=vl(2);i.firstUpdatePass&&function xS(t,n,e,r){const o=t.data;if(null===o[e+1]){const i=o[Ki()],s=function IS(t,n){return n>=t.expandoStartIndex}(t,e);(function AS(t,n){return 0!=(t.flags&(n?8:16))})(i,r)&&null===n&&!s&&(n=!1),n=function lO(t,n,e,r){const o=function Dg(t){const n=On.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(e=ff(e=Y_(null,t,n,e,r),n.attrs,r),i=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==o)if(e=Y_(o,t,n,e,r),null===i){let c=function cO(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==jc(r))return t[oc(r)]}(t,n,r);void 0!==c&&Array.isArray(c)&&(c=Y_(null,t,n,c[1],r),c=ff(c,n.attrs,r),function uO(t,n,e,r){t[oc(e?n.classBindings:n.styleBindings)]=r}(t,n,r,c))}else i=function dO(t,n,e){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=ff(r,t[i].hostAttrs,e);return ff(r,n.attrs,e)}(t,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),e}(o,i,n,r),function KR(t,n,e,r,o,i){let s=i?n.classBindings:n.styleBindings,a=oc(s),c=jc(s);t[r]=e;let m,f=!1;if(Array.isArray(e)?(m=e[1],(null===m||Du(e,m)>0)&&(f=!0)):m=e,o)if(0!==c){const S=oc(t[a+1]);t[r+1]=Sh(S,a),0!==S&&(t[S+1]=Z_(t[S+1],r)),t[a+1]=function YR(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=Sh(a,0),0!==a&&(t[a+1]=Z_(t[a+1],r)),a=r;else t[r+1]=Sh(c,0),0===a?a=r:t[c+1]=Z_(t[c+1],r),c=r;f&&(t[r+1]=W_(t[r+1])),yS(t,m,r,!0),yS(t,m,r,!1),function QR(t,n,e,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&Du(i,n)>=0&&(e[r+1]=q_(e[r+1]))}(n,m,t,r,i),s=Sh(a,c),i?n.classBindings=s:n.styleBindings=s}(o,i,n,e,s,r)}}(i,t,s,r),n!==Vn&&ji(o,s,n)&&function MS(t,n,e,r,o,i,s,a){if(!(3&n.type))return;const c=t.data,f=c[a+1],m=function XR(t){return 1==(1&t)}(f)?TS(c,n,e,o,jc(f),s):void 0;Eh(m)||(Eh(i)||function qR(t){return 2==(2&t)}(f)&&(i=TS(c,null,e,o,a,s)),function e2(t,n,e,r,o){if(n)o?t.addClass(e,r):t.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:nc.DashCase;null==o?t.removeStyle(e,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=nc.Important),t.setStyle(e,r,o,i))}}(r,s,Rr(Ki(),e),o,i))}(i,i.data[Ki()],o,o[An],t,o[s+1]=function mO(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ne(Fs(t)))),t}(n,e),r,s)}function Y_(t,n,e,r,o){let i=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(i=n[a],r=ff(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function ff(t,n,e){const r=e?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Os(t,s,!!e||n[++i]))}return void 0===t?null:t}function TS(t,n,e,r,o,i){const s=null===n;let a;for(;o>0;){const c=t[o],f=Array.isArray(c),m=f?c[1]:c,y=null===m;let S=e[o+1];S===Vn&&(S=y?Rt:void 0);let A=y?Lg(S,r):m===r?S:void 0;if(f&&!Eh(A)&&(A=Lg(c,r)),Eh(A)&&(a=A,s))return a;const oe=t[o+1];o=s?oc(oe):jc(oe)}if(null!==n){let c=i?n.residualClasses:n.residualStyles;null!=c&&(a=Lg(c,r))}return a}function Eh(t){return void 0!==t}function Be(t,n=""){const e=Ct(),r=gr(),o=t+qn,i=r.firstCreatePass?Nu(r,o,1,n,null):r.data[o],s=PS(r,e,i,n,t);e[o]=s,Ep()&&Wp(r,e,s,i),Ra(i,!1)}let PS=(t,n,e,r,o)=>(tc(!0),function Up(t,n){return t.createText(n)}(n[An],r));function Bs(t){return Vi("",t,""),Bs}function Vi(t,n,e){const r=Ct(),o=$u(r,t,n,e);return o!==Vn&&wl(r,Ki(),o),Vi}function pf(t,n,e,r,o){const i=Ct(),s=function Bu(t,n,e,r,o,i){const a=Bc(t,_l(),e,o);return vl(2),a?n+yt(e)+r+yt(o)+i:Vn}(i,t,n,e,r,o);return s!==Vn&&wl(i,Ki(),s),pf}function X_(t,n,e,r,o,i,s){const a=Ct(),c=ju(a,t,n,e,r,o,i,s);return c!==Vn&&wl(a,Ki(),c),X_}const Ku="en-US";let QS=Ku;function J_(t,n,e,r,o){if(t=ut(t),Array.isArray(t))for(let i=0;i<t.length;i++)J_(t[i],n,e,r,o);else{const i=gr(),s=Ct(),a=Pi();let c=Lc(t)?t:ut(t.provide);const f=UC(t),m=1048575&a.providerIndexes,y=a.directiveStart,S=a.providerIndexes>>20;if(Lc(t)||!t.multi){const A=new Nd(f,o,w),oe=tv(c,n,o?m:m+S,y);-1===oe?(Og(Mp(a,s),i,c),ev(i,t,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(A),s.push(A)):(e[oe]=A,s[oe]=A)}else{const A=tv(c,n,m+S,y),oe=tv(c,n,m,m+S),Te=oe>=0&&e[oe];if(o&&!Te||!o&&!(A>=0&&e[A])){Og(Mp(a,s),i,c);const je=function NF(t,n,e,r,o){const i=new Nd(t,e,w);return i.multi=[],i.index=n,i.componentProviders=0,SE(i,o,r&&!e),i}(o?FF:OF,e.length,o,r,f);!o&&Te&&(e[oe].providerFactory=je),ev(i,t,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(je),s.push(je)}else ev(i,t,A>-1?A:oe,SE(e[o?oe:A],f,!o&&r));!o&&r&&Te&&e[oe].componentProviders++}}}function ev(t,n,e,r){const o=Lc(n),i=function O2(t){return!!t.useClass}(n);if(o||i){const c=(i?ut(n.useClass):n).prototype.ngOnDestroy;if(c){const f=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const m=f.indexOf(e);-1===m?f.push(e,[r,c]):f[m+1].push(r,c)}else f.push(e,c)}}}function SE(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function tv(t,n,e,r){for(let o=e;o<r;o++)if(n[o]===t)return o;return-1}function OF(t,n,e,r){return nv(this.multi,[])}function FF(t,n,e,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Oc(e,e[Mt],this.providerFactory.index,r);i=a.slice(0,s),nv(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],nv(o,i);return i}function nv(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function xr(t,n=[]){return e=>{e.providersResolver=(r,o)=>function RF(t,n,e){const r=gr();if(r.firstCreatePass){const o=hs(t);J_(e,r.data,r.blueprint,o,!0),J_(n,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,n)}}class Uc{}class EE{}class rv extends Uc{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nw(this);const o=Qn(n);this._bootstrapComponents=Cl(o.bootstrap),this._r3Injector=nw(n,e,[{provide:Uc,useValue:this},{provide:lh,useValue:this.componentFactoryResolver},...r],Ne(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ov extends EE{constructor(n){super(),this.moduleType=n}create(n){return new rv(this.moduleType,n,[])}}class DE extends Uc{constructor(n){super(),this.componentFactoryResolver=new Nw(this),this.instance=null;const e=new th([...n.providers,{provide:Uc,useValue:this},{provide:lh,useValue:this.componentFactoryResolver}],n.parent||eh(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function iv(t,n,e=null){return new DE({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let BF=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=$C(0,e.type),o=r.length>0?iv([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=mt({token:t,providedIn:"environment",factory:()=>new t(ce(Ri))})}return t})();function IE(t){t.getStandaloneInjector=n=>n.get(BF).getOrCreateStandaloneInjector(t)}function RE(t,n,e,r,o,i){const s=n+e;return ji(t,s,o)?function La(t,n,e){return t[n]=e}(t,s+1,i?r.call(i,o):r(o)):function yf(t,n){const e=t[n];return e===Vn?void 0:e}(t,s+1)}function ja(t,n){const e=gr();let r;const o=t+qn;e.firstCreatePass?(r=function oN(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks??=[]).push(o,r.onDestroy)):r=e.data[o];const i=r.factory||(r.factory=Dr(r.type)),a=wo(w);try{const c=kp(!1),f=i();return kp(c),function BR(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,Ct(),o,f),f}finally{wo(a)}}function Va(t,n,e){const r=t+qn,o=Ct(),i=hu(o,r);return function bf(t,n){return t[Mt].data[n].pure}(o,r)?RE(o,function Xi(){const t=On.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,i.transform,e,i):i.transform(e)}function av(t){return n=>{setTimeout(t,void 0,n)}}const Mn=class cN extends et{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let o=n,i=e||(()=>null),s=r;if(n&&"object"==typeof n){const c=n;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=av(i),o&&(o=av(o)),s&&(s=av(s)));const a=super.subscribe({next:o,error:i,complete:s});return n instanceof H&&n.add(a),a}};function uN(){return this._results[Symbol.iterator]()}class lv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Mn)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=lv.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=uN)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const o=function Qs(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function rA(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=n[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}(r._results,o,e))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function fN(t,n,e,r=!0){const o=n[Mt];if(function WA(t,n,e,r){const o=Yo+r,i=e.length;r>0&&(e[o-1][ps]=n),r<i-Yo?(n[ps]=e[o],B0(e,Yo+r,n)):(e.push(n),n[ps]=null),n[Yr]=e;const s=n[Kl];null!==s&&e!==s&&function ZA(t,n){const e=t[gl];n[_o]!==n[Yr][Yr][_o]&&(t[Rd]=!0),null===e?t[gl]=[n]:e.push(n)}(s,n);const a=n[As];null!==a&&a.insertView(t),n[Qt]|=128}(o,n,t,e),r){const i=Qg(e,t),s=n[An],a=zp(s,t[Ps]);null!==a&&function HA(t,n,e,r,o,i){r[kn]=o,r[fi]=n,Wd(t,r,e,1,o,i)}(o,t[fi],s,n,a,i)}}let _a=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=mN}return t})();const pN=_a,hN=class extends pN{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){const o=function dN(t,n,e,r){const o=n.tView,a=dh(t,o,e,4096&t[Qt]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Kl]=t[n.index];const f=t[As];return null!==f&&(a[As]=f.createEmbeddedView(o)),$_(o,a,e),a}(this._declarationLView,this._declarationTContainer,n,{injector:e,hydrationInfo:r});return new rf(o)}};function mN(){return Mh(Pi(),Ct())}function Mh(t,n){return 4&t.type?new hN(n,t,Ru(t,n)):null}let _s=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=CN}return t})();function CN(){return GE(Pi(),Ct())}const wN=_s,UE=class extends wN{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Ru(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Tp(this._hostTNode,this._hostLView);if(Ag(n)){const e=$d(n,this._hostLView),r=Ld(n);return new Qi(e[Mt].data[r+8],e)}return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=HE(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-Yo}createEmbeddedView(n,e,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=n.createEmbeddedViewImpl(e||{},i,null);return this.insertImpl(a,o,false),a}createComponent(n,e,r,o,i){const s=n&&!function jd(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const he=e||{};a=he.index,r=he.injector,o=he.projectableNodes,i=he.environmentInjector||he.ngModuleRef}const c=s?n:new sf(Yt(n)),f=r||this.parentInjector;if(!i&&null==c.ngModule){const Te=(s?f:this.parentInjector).get(Ri,null);Te&&(i=Te)}Yt(c.componentType??{});const A=c.create(f,o,null,i);return this.insertImpl(A.hostView,a,false),A}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,r){const o=n._lView;if(function _T(t){return Ai(t[Yr])}(o)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const f=o[Yr],m=new UE(f,f[fi],f[Yr]);m.detach(m.indexOf(n))}}const s=this._adjustIndex(e),a=this._lContainer;return fN(a,o,s,!r),n.attachToViewContainerRef(),B0(cv(a),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=HE(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=Gp(this._lContainer,e);r&&(Pp(cv(this._lContainer),e),qg(r[Mt],r))}detach(n){const e=this._adjustIndex(n,-1),r=Gp(this._lContainer,e);return r&&null!=Pp(cv(this._lContainer),e)?new rf(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function HE(t){return t[8]}function cv(t){return t[8]||(t[8]=[])}function GE(t,n){let e;const r=n[t.index];return Ai(r)?e=r:(e=Dw(r,n,null,t),n[t.index]=e,fh(n,e)),zE(e,n,t,r),new UE(e,t,n)}let zE=function WE(t,n,e,r){if(t[Ps])return;let o;o=8&e.type?Nt(r):function SN(t,n){const e=t[An],r=e.createComment(""),o=io(n,t);return Fc(e,zp(e,o),r,function KA(t,n){return t.nextSibling(n)}(e,o),!1),r}(n,e),t[Ps]=o};class uv{constructor(n){this.queryList=n,this.matches=null}clone(){return new uv(this.queryList)}setDirty(){this.queryList.setDirty()}}class dv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new dv(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==KE(n,e).matches&&this.queries[e].setDirty()}}class ZE{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class fv{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const o=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new fv(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class pv{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new pv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(n,e,IN(e,i)),this.matchTNodeWithReadOption(n,e,Ap(e,n,i,!1,!1))}else r===_a?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Ap(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===wt||o===_s||o===_a&&4&e.type)this.addMatch(e.index,-2);else{const i=Ap(e,n,o,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function IN(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function kN(t,n,e,r){return-1===e?function xN(t,n){return 11&t.type?Ru(t,n):4&t.type?Mh(t,n):null}(n,t):-2===e?function MN(t,n,e){return e===wt?Ru(n,t):e===_a?Mh(n,t):e===_s?GE(n,t):void 0}(t,n,r):Oc(t,t[Mt],e,n)}function qE(t,n,e,r){const o=n[As].queries[r];if(null===o.matches){const i=t.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const f=s[c];a.push(f<0?null:kN(n,i[f],s[c+1],e.metadata.read))}o.matches=a}return o.matches}function hv(t,n,e,r){const o=t.queries.getByIndex(e),i=o.matches;if(null!==i){const s=qE(t,n,o,e);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const f=i[a+1],m=n[-c];for(let y=Yo;y<m.length;y++){const S=m[y];S[Kl]===S[Yr]&&hv(S[Mt],S,f,r)}if(null!==m[gl]){const y=m[gl];for(let S=0;S<y.length;S++){const A=y[S];hv(A[Mt],A,f,r)}}}}}return r}function ta(t){const n=Ct(),e=gr(),r=v0();Ig(r+1);const o=KE(e,r);if(t.dirty&&function mT(t){return 4==(4&t[Qt])}(n)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?hv(e,n,r,[]):qE(e,n,o,r);t.reset(i,tP),t.notifyOnChanges()}return!0}return!1}function Hc(t,n,e){const r=gr();r.firstCreatePass&&(XE(r,new ZE(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),YE(r,Ct(),n)}function Qu(t,n,e,r){const o=gr();if(o.firstCreatePass){const i=Pi();XE(o,new ZE(n,e,r),i.index),function AN(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),2==(2&e)&&(o.staticContentQueries=!0)}YE(o,Ct(),e)}function na(){return function TN(t,n){return t[As].queries[n].queryList}(Ct(),v0())}function YE(t,n,e){const r=new lv(4==(4&e));(function IP(t,n,e,r){const o=xw(n);o.push(e),t.firstCreatePass&&kw(t).push(r,o.length-1)})(t,n,r,r.destroy),null===n[As]&&(n[As]=new dv),n[As].queries.push(new uv(r))}function XE(t,n,e){null===t.queries&&(t.queries=new fv),t.queries.track(new pv(n,e))}function KE(t,n){return t.queries.getByIndex(n)}const wf=new Gt("Application Initializer");let bv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=g(wf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const o of this.appInits){const i=o();if(df(i))e.push(i);else if(iS(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hD=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const El=new Gt("LocaleId",{providedIn:"root",factory:()=>g(El,Tn.Optional|Tn.SkipSelf)||function JN(){return typeof $localize<"u"&&$localize.locale||Ku}()});let Ph=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vt(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class nL{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let mD=(()=>{class t{compileModuleSync(e){return new ov(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=Cl(Qn(e).declarations).reduce((s,a)=>{const c=Yt(a);return c&&s.push(new sf(c)),s},[]);return new nL(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yD(...t){}class dt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mn(!1),this.onMicrotaskEmpty=new Mn(!1),this.onStable=new Mn(!1),this.onError=new Mn(!1),typeof Zone>"u")throw new it(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&e,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function wL(){const t="function"==typeof rr.requestAnimationFrame;let n=rr[t?"requestAnimationFrame":"setTimeout"],e=rr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function DL(t){const n=()=>{!function EL(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(rr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ev(t),t.isCheckStableRunning=!0,Sv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ev(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,o,i,s,a)=>{try{return bD(t),e.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&n(),CD(t)}},onInvoke:(e,r,o,i,s,a,c)=>{try{return bD(t),e.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&n(),CD(t)}},onHasTask:(e,r,o,i)=>{e.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ev(t),Sv(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,o,i)=>(e.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new it(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new it(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,SL,yD,yD);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const SL={};function Sv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ev(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CD(t){t._nesting--,Sv(t)}class IL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mn,this.onMicrotaskEmpty=new Mn,this.onStable=new Mn,this.onError=new Mn}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,o){return n.apply(e,r)}}const wD=new Gt("",{providedIn:"root",factory:SD});function SD(){const t=g(dt);let n=!0;return Zi(new It(o=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{o.next(n),o.complete()})}),new It(o=>{let i;t.runOutsideAngular(()=>{i=t.onStable.subscribe(()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,o.next(!0))})})});const s=t.onUnstable.subscribe(()=>{dt.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(Ds()))}const ED=new Gt(""),Oh=new Gt("");let xv,Dv=(()=>{class t{constructor(e,r,o){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xv||(function xL(t){xv=t}(o),o.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:o})}whenStable(e,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,o){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(ce(dt),ce(Iv),ce(Oh))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})(),Iv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return xv?.findTestabilityInTree(this,e,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ic=null;const DD=new Gt("AllowMultipleToken"),kv=new Gt("PlatformDestroyListeners"),Mv=new Gt("appBootstrapListener");class xD{constructor(n,e){this.name=n,this.token=e}}function MD(t,n,e=[]){const r=`Platform: ${n}`,o=new Gt(r);return(i=[])=>{let s=Tv();if(!s||s.injector.get(DD,!1)){const a=[...e,...i,{provide:o,useValue:!0}];t?t(a):function TL(t){if(ic&&!ic.get(DD,!1))throw new it(400,!1);(function ID(){!function $i(t){Io=t}(()=>{throw new it(600,!1)})})(),ic=t;const n=t.get(AD);(function kD(t){t.get(HC,null)?.forEach(e=>e())})(t)}(function TD(t=[],n){return vo.create({name:n,providers:[{provide:u_,useValue:"platform"},{provide:kv,useValue:new Set([()=>ic=null])},...t]})}(a,r))}return function PL(t){const n=Tv();if(!n)throw new it(401,!1);return n}()}}function Tv(){return ic?.get(AD)??null}let AD=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const o=function RL(t="zone.js",n){return"noop"===t?new IL:"zone.js"===t?new dt(n):t}(r?.ngZone,function PD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const i=function $F(t,n,e){return new rv(t,n,e)}(e.moduleType,this.injector,function LD(t){return[{provide:dt,useFactory:t},{provide:Yd,multi:!0,useFactory:()=>{const n=g(FL,{optional:!0});return()=>n.initialize()}},{provide:ND,useFactory:OL},{provide:wD,useFactory:SD}]}(()=>o)),s=i.injector.get($c,null);return o.runOutsideAngular(()=>{const a=o.onError.subscribe({next:c=>{s.handleError(c)}});i.onDestroy(()=>{Fh(this._modules,i),a.unsubscribe()})}),function RD(t,n,e){try{const r=e();return df(r)?r.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(s,o,()=>{const a=i.injector.get(bv);return a.runInitializers(),a.donePromise.then(()=>(function JS(t){$o(t,"Expected localeId to be defined"),"string"==typeof t&&(QS=t.toLowerCase().replace(/_/g,"-"))}(i.injector.get(El,Ku)||Ku),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,r=[]){const o=OD({},r);return function kL(t,n,e){const r=new ov(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(e){const r=e.injector.get(Dl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new it(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new it(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(kv,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(ce(vo))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function OD(t,n){return Array.isArray(n)?n.reduce(OD,t):{...t,...n}}let Dl=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(ND),this.zoneIsStable=g(wD),this.componentTypes=[],this.components=[],this.isStable=g(Ph).hasPendingTasks.pipe(E(e=>e?un(!1):this.zoneIsStable),B(),Ds()),this._injector=g(Ri)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const o=e instanceof YC;if(!this._injector.get(bv).done)throw!o&&function Fn(t){const n=Yt(t)||tn(t)||qt(t);return null!==n&&n.standalone}(e),new it(405,!1);let s;s=o?e:this._injector.get(lh).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function ML(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Uc),f=s.create(vo.NULL,[],r||s.selector,a),m=f.location.nativeElement,y=f.injector.get(ED,null);return y?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),Fh(this.components,f),y?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new it(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Fh(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(Mv,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Fh(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new it(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Fh(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const ND=new Gt("",{providedIn:"root",factory:()=>g($c).handleError.bind(void 0)});function OL(){const t=g(dt),n=g($c);return e=>t.runOutsideAngular(()=>n.handleError(e))}let FL=(()=>{class t{constructor(){this.zone=g(dt),this.applicationRef=g(Dl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Tt=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=LL}return t})();function LL(t){return function $L(t,n,e){if(Pa(t)&&!e){const r=Rs(t.index,n);return new rf(r,r)}return 47&t.type?new rf(n[_o],n):null}(Pi(),Ct(),16==(16&t))}class VD{constructor(){}supports(n){return gh(n)}create(n){return new GL(n)}}const HL=(t,n)=>n;class GL{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||HL}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<HD(r,o,i)?e:r,a=HD(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,m=c-o;if(f!=m){for(let S=0;S<f;S++){const A=S<i.length?i[S]:i[S]=0,oe=A+S;m<=oe&&oe<f&&(i[S]=A+1)}i[s.previousIndex]=m-f}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!gh(n))throw new it(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,a),r=!0),e=e._next}else o=0,function vR(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),r=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,o)):n=this._addAfter(new zL(e,r),i,o),n}_verifyReinsertion(n,e,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new UD),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class zL{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WL{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class UD{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new WL,this.map.set(e,r)),r.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HD(t,n,e){const r=t.previousIndex;if(null===r)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+n+o}function zD(){return new $h([new VD])}let $h=(()=>{class t{static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:zD});constructor(e){this.factories=e}static create(e,r){if(null!=r){const o=r.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||zD()),deps:[[t,new Fp,new Op]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(null!=r)return r;throw new it(901,!1)}}return t})();const KL=MD(null,"core",[]);let QL=(()=>{class t{constructor(e){}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Dl))};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({})}return t})();function e1(t){const n=Yt(t);if(!n)return null;const e=new sf(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}let Nv=null;function sc(){return Nv}class f3{}const Oi=new Gt("DocumentToken");let Lv=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return g(h3)},providedIn:"platform"})}return t})();const p3=new Gt("Location Initialized");let h3=(()=>{class t extends Lv{constructor(){super(),this._doc=g(Oi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sc().getBaseHref(this._doc)}onPopState(e){const r=sc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=sc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function $v(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function t1(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Il(t){return t&&"?"!==t[0]?"?"+t:t}let Ua=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return g(r1)},providedIn:"root"})}return t})();const n1=new Gt("appBaseHref");let r1=(()=>{class t extends Ua{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(Oi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return $v(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Il(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){const s=this.prepareExternalUrl(o+Il(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){const s=this.prepareExternalUrl(o+Il(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Lv),ce(n1,8))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),o1=(()=>{class t extends Ua{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=$v(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+Il(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+Il(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Lv),ce(n1,8))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})(),Df=(()=>{class t{constructor(e){this._subject=new Mn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function _3(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(t1(i1(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Il(r))}normalize(e){return t.stripTrailingSlash(function g3(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,i1(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Il(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Il(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}static#e=this.normalizeQueryParams=Il;static#t=this.joinWithSlash=$v;static#n=this.stripTrailingSlash=t1;static#r=this.\u0275fac=function(r){return new(r||t)(ce(Ua))};static#o=this.\u0275prov=mt({token:t,factory:function(){return function m3(){return new Df(ce(Ua))}()},providedIn:"root"})}return t})();function i1(t){return t.replace(/\/index.html$/,"")}function h1(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[o,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}class r${constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zc=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new r$(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),_1(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{_1(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(w(_s),w(_a),w($h))};static#t=this.\u0275dir=vt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function _1(t,n){t.context.$implicit=n.item}let Si=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new o$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){v1("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){v1("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(w(_s),w(_a))};static#t=this.\u0275dir=vt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class o${constructor(){this.$implicit=null,this.ngIf=null}}function v1(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ne(n)}'.`)}class Yv{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Xh=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const r of this._defaultViews)r.enforceState(e)}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=vt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return t})(),y1=(()=>{class t{constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new Yv(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(r){return new(r||t)(w(_s),w(_a),w(Xh,9))};static#t=this.\u0275dir=vt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return t})(),b1=(()=>{class t{constructor(e,r,o){o._addDefault(new Yv(e,r))}static#e=this.\u0275fac=function(r){return new(r||t)(w(_s),w(_a),w(Xh,9))};static#t=this.\u0275dir=vt({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return t})();class a${createSubscription(n,e){return M(()=>n.subscribe({next:e,error:r=>{throw r}}))}dispose(n){M(()=>n.unsubscribe())}}class l${createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const c$=new l$,u$=new a$;let w1=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(df(e))return c$;if(iS(e))return u$;throw function ya(t,n){return new it(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(w(Tt,16))};static#t=this.\u0275pipe=bn({name:"async",type:t,pure:!1,standalone:!0})}return t})(),Ha=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({})}return t})();const E1="browser";function rd(t){return t===E1}function D1(t){return"server"===t}let A$=(()=>{class t{static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>new P$(ce(Oi),window)})}return t})();class P${constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function R$(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class I1{}class n4 extends f3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ty extends n4{static makeCurrent(){!function d3(t){Nv||(Nv=t)}(new ty)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function r4(){return Mf=Mf||document.querySelector("base"),Mf?Mf.getAttribute("href"):null}();return null==e?null:function o4(t){Jh=Jh||document.createElement("a"),Jh.setAttribute("href",t);const n=Jh.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Mf=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return h1(document.cookie,n)}}let Jh,Mf=null,s4=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const ny=new Gt("EventManagerPlugins");let A1=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(i=>i.supports(e)),!r)throw new it(5101,!1);return this._eventNameToPlugin.set(e,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ny),ce(dt))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();class P1{constructor(n){this._doc=n}}const ry="ng-app-id";let R1=(()=>{class t{constructor(e,r,o,i={}){this.doc=e,this.appId=r,this.nonce=o,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=D1(i),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(o=>o.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${ry}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(e,r){const o=this.styleRef;if(o.has(e)){const i=o.get(e);return i.usage+=r,i.usage}return o.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const o=this.styleNodesInDOM,i=o?.get(r);if(i?.parentNode===e)return o.delete(r),i.removeAttribute(ry),i;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(ry,this.appId),s}}addStyleToHost(e,r){const o=this.getStyleElement(e,r);e.appendChild(o);const i=this.styleRef,s=i.get(r)?.elements;s?s.push(o):i.set(r,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Oi),ce(nh),ce(GC,8),ce(rc))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const oy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iy=/%COMP%/g,u4=new Gt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function F1(t,n){return n.map(e=>e.replace(iy,t))}let N1=(()=>{class t{constructor(e,r,o,i,s,a,c,f=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=D1(a),this.defaultRenderer=new sy(e,s,c,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xn.ShadowDom&&(r={...r,encapsulation:xn.Emulated});const o=this.getOrCreateRenderer(e,r);return o instanceof $1?o.applyToHost(e):o instanceof ay&&o.applyStyles(),o}getOrCreateRenderer(e,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,c=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case xn.Emulated:i=new $1(c,f,r,this.appId,m,s,a,y);break;case xn.ShadowDom:return new h4(c,f,e,r,s,a,this.nonce,y);default:i=new ay(c,f,r,m,s,a,y)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(ce(A1),ce(R1),ce(nh),ce(u4),ce(Oi),ce(rc),ce(dt),ce(GC))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();class sy{constructor(n,e,r,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(oy[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(L1(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(L1(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new it(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;const i=oy[o];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const o=oy[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(nc.DashCase|nc.Important)?n.style.setProperty(e,r,o&nc.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&nc.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=sc().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function L1(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class h4 extends sy{constructor(n,e,r,o,i,s,a,c){super(n,i,s,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=F1(o.id,o.styles);for(const m of f){const y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ay extends sy{constructor(n,e,r,o,i,s,a,c){super(n,i,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=c?F1(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class $1 extends ay{constructor(n,e,r,o,i,s,a,c){const f=o+"-"+r.id;super(n,e,r,i,s,a,c,f),this.contentAttr=function d4(t){return"_ngcontent-%COMP%".replace(iy,t)}(f),this.hostAttr=function f4(t){return"_nghost-%COMP%".replace(iy,t)}(f)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let m4=(()=>{class t extends P1{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Oi))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const B1=["alt","control","meta","shift"],g4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let v4=(()=>{class t extends P1{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sc().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),B1.forEach(f=>{const m=r.indexOf(f);m>-1&&(r.splice(m,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let o=g4[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),B1.forEach(s=>{s!==o&&(0,_4[s])(e)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{t.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Oi))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const w4=MD(KL,"browser",[{provide:rc,useValue:E1},{provide:HC,useValue:function y4(){ty.makeCurrent()},multi:!0},{provide:Oi,useFactory:function C4(){return function i2(t){t_=t}(document),document},deps:[]}]),S4=new Gt(""),U1=[{provide:Oh,useClass:class i4{addToWindow(n){rr.getAngularTestability=(r,o=!0)=>{const i=n.findTestabilityInTree(r,o);if(null==i)throw new it(5103,!1);return i},rr.getAllAngularTestabilities=()=>n.getAllTestabilities(),rr.getAllAngularRootElements=()=>n.getAllRootElements(),rr.frameworkStabilizers||(rr.frameworkStabilizers=[]),rr.frameworkStabilizers.push(r=>{const o=rr.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?sc().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:ED,useClass:Dv,deps:[dt,Iv,Oh]},{provide:Dv,useClass:Dv,deps:[dt,Iv,Oh]}],H1=[{provide:u_,useValue:"root"},{provide:$c,useFactory:function b4(){return new $c},deps:[]},{provide:ny,useClass:m4,multi:!0,deps:[Oi,dt,rc]},{provide:ny,useClass:v4,multi:!0,deps:[Oi]},N1,R1,A1,{provide:KC,useExisting:N1},{provide:I1,useClass:s4,deps:[]},[]];let E4=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:nh,useValue:e.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(ce(S4,12))};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({providers:[...H1,...U1],imports:[Ha,QL]})}return t})(),G1=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Oi))};static#t=this.\u0275prov=mt({token:t,factory:function(r){let o=null;return o=r?new r:function I4(){return new G1(ce(Oi))}(),o},providedIn:"root"})}return t})();typeof window<"u"&&window;let cy=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(r){let o=null;return o=r?new(r||t):ce(Z1),o},providedIn:"root"})}return t})(),Z1=(()=>{class t extends cy{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Ns.NONE:return r;case Ns.HTML:return Fa(r,"HTML")?Fs(r):PC(this._doc,String(r)).toString();case Ns.STYLE:return Fa(r,"Style")?Fs(r):r;case Ns.SCRIPT:if(Fa(r,"Script"))return Fs(r);throw new it(5200,!1);case Ns.URL:return Fa(r,"URL")?Fs(r):Xp(String(r));case Ns.RESOURCE_URL:if(Fa(r,"ResourceURL"))return Fs(r);throw new it(5201,!1);default:throw new it(5202,!1)}}bypassSecurityTrustHtml(e){return function f2(t){return new s2(t)}(e)}bypassSecurityTrustStyle(e){return function p2(t){return new a2(t)}(e)}bypassSecurityTrustScript(e){return function h2(t){return new l2(t)}(e)}bypassSecurityTrustUrl(e){return function m2(t){return new c2(t)}(e)}bypassSecurityTrustResourceUrl(e){return function g2(t){return new u2(t)}(e)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Oi))};static#t=this.\u0275prov=mt({token:t,factory:function(r){let o=null;return o=r?new r:function T4(t){return new Z1(t.get(Oi))}(ce(vo)),o},providedIn:"root"})}return t})();var Ho=T(5865),A4=T(8062),od=T.n(A4);let em,tm;function Y1(t){if(!window.location.hash.startsWith(t))return;const n=window.location.hash.split("?")[1];if(!n)return;const e=n.split("&").map(r=>r.split("="));for(const[r,o]of e)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function X1(){return void 0!==tm}class K1{constructor(){this.requestEvent=new Ho.j}dispatchRequest(n){if(n){try{n=new(od())(n).toString()}catch{return void console.error(`invalid URL: ${n}`)}this.url=n,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const n=this.url;return this.url=void 0,n}}let uy=(()=>{class t{constructor(){this.installation=new K1,this.import=new K1,em&&this.installation.dispatchRequest(em),tm&&this.import.dispatchRequest(tm)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function id(t,n){return D(n)?tr(t,n,1):tr(t,1)}function ba(t,n){return ot((e,r)=>{let o=0;e.subscribe(Et(r,i=>t.call(n,i,o++)&&r.next(i)))})}function Tf(t){return ot((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}class nm{}class rm{}class Ga{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),i=o.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ga?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Ga;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ga?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const i=n.value;if(i){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(i=>i.toString()),o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class O4{encodeKey(n){return Q1(n)}encodeValue(n){return Q1(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const N4=/%(\d[a-f0-9])/gi,L4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Q1(t){return encodeURIComponent(t).replace(N4,(n,e)=>L4[e]??n)}function om(t){return`${t}`}class lc{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new O4,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function F4(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map(om):[om(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new lc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(om(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(om(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class $4{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function J1(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function eI(t){return typeof Blob<"u"&&t instanceof Blob}function tI(t){return typeof FormData<"u"&&t instanceof FormData}class Af{constructor(n,e,r,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function B4(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ga),this.context||(this.context=new $4),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new lc,this.urlWithParams=e}serializeBody(){return null===this.body?null:J1(this.body)||eI(this.body)||tI(this.body)||function j4(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof lc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tI(this.body)?null:eI(this.body)?this.body.type||null:J1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,i=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let c=n.headers||this.headers,f=n.params||this.params;const m=n.context??this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce((y,S)=>y.set(S,n.setHeaders[S]),c)),n.setParams&&(f=Object.keys(n.setParams).reduce((y,S)=>y.set(S,n.setParams[S]),f)),new Af(e,r,i,{params:f,headers:c,context:m,reportProgress:a,responseType:o,withCredentials:s})}}var sd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(sd||{});class dy{constructor(n,e=200,r="OK"){this.headers=n.headers||new Ga,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class fy extends dy{constructor(n={}){super(n),this.type=sd.ResponseHeader}clone(n={}){return new fy({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class ad extends dy{constructor(n={}){super(n),this.type=sd.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new ad({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class nI extends dy{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function py(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let hy=(()=>{class t{constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof Af)i=e;else{let c,f;c=o.headers instanceof Ga?o.headers:new Ga(o.headers),o.params&&(f=o.params instanceof lc?o.params:new lc({fromObject:o.params})),i=new Af(e,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=un(i).pipe(id(c=>this.handler.handle(c)));if(e instanceof Af||"events"===o.observe)return s;const a=s.pipe(ba(c=>c instanceof ad));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Ie(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Ie(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Ie(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Ie(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new lc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,py(o,r))}post(e,r,o={}){return this.request("POST",e,py(o,r))}put(e,r,o={}){return this.request("PUT",e,py(o,r))}static#e=this.\u0275fac=function(r){return new(r||t)(ce(nm))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();function iI(t,n){return n(t)}function U4(t,n){return(e,r)=>n.intercept(e,{handle:o=>t(o,r)})}const G4=new Gt(""),Pf=new Gt(""),sI=new Gt("");function z4(){let t=null;return(n,e)=>{null===t&&(t=(g(G4,{optional:!0})??[]).reduceRight(U4,iI));const r=g(Ph),o=r.add();return t(n,e).pipe(Tf(()=>r.remove(o)))}}let aI=(()=>{class t extends nm{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=g(Ph)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Pf),...this.injector.get(sI,[])]));this.chain=o.reduceRight((i,s)=>function H4(t,n,e){return(r,o)=>e.runInContext(()=>n(r,i=>t(i,o)))}(i,s,this.injector),iI)}const r=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(Tf(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(ce(rm),ce(Ri))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const Y4=/^\)\]\}',?\n/;let cI=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new it(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?nr(r.\u0275loadImpl()):un(null)).pipe(E(()=>new It(i=>{const s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((he,Te)=>s.setRequestHeader(he,Te.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const he=e.detectContentTypeHeader();null!==he&&s.setRequestHeader("Content-Type",he)}if(e.responseType){const he=e.responseType.toLowerCase();s.responseType="json"!==he?he:"text"}const a=e.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const he=s.statusText||"OK",Te=new Ga(s.getAllResponseHeaders()),je=function X4(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(s)||e.url;return c=new fy({headers:Te,status:s.status,statusText:he,url:je}),c},m=()=>{let{headers:he,status:Te,statusText:je,url:Ae}=f(),kt=null;204!==Te&&(kt=typeof s.response>"u"?s.responseText:s.response),0===Te&&(Te=kt?200:0);let bt=Te>=200&&Te<300;if("json"===e.responseType&&"string"==typeof kt){const Kt=kt;kt=kt.replace(Y4,"");try{kt=""!==kt?JSON.parse(kt):null}catch(Bn){kt=Kt,bt&&(bt=!1,kt={error:Bn,text:kt})}}bt?(i.next(new ad({body:kt,headers:he,status:Te,statusText:je,url:Ae||void 0})),i.complete()):i.error(new nI({error:kt,headers:he,status:Te,statusText:je,url:Ae||void 0}))},y=he=>{const{url:Te}=f(),je=new nI({error:he,status:s.status||0,statusText:s.statusText||"Unknown Error",url:Te||void 0});i.error(je)};let S=!1;const A=he=>{S||(i.next(f()),S=!0);let Te={type:sd.DownloadProgress,loaded:he.loaded};he.lengthComputable&&(Te.total=he.total),"text"===e.responseType&&s.responseText&&(Te.partialText=s.responseText),i.next(Te)},oe=he=>{let Te={type:sd.UploadProgress,loaded:he.loaded};he.lengthComputable&&(Te.total=he.total),i.next(Te)};return s.addEventListener("load",m),s.addEventListener("error",y),s.addEventListener("timeout",y),s.addEventListener("abort",y),e.reportProgress&&(s.addEventListener("progress",A),null!==a&&s.upload&&s.upload.addEventListener("progress",oe)),s.send(a),i.next({type:sd.Sent}),()=>{s.removeEventListener("error",y),s.removeEventListener("abort",y),s.removeEventListener("load",m),s.removeEventListener("timeout",y),e.reportProgress&&(s.removeEventListener("progress",A),null!==a&&s.upload&&s.upload.removeEventListener("progress",oe)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(ce(I1))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const my=new Gt("XSRF_ENABLED"),uI=new Gt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),dI=new Gt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class fI{}let J4=(()=>{class t{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=h1(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Oi),ce(rc),ce(uI))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();function eB(t,n){const e=t.url.toLowerCase();if(!g(my)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const r=g(fI).getToken(),o=g(dI);return null!=r&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,r)})),n(t)}var cc=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(cc||{});function tB(...t){const n=[hy,cI,aI,{provide:nm,useExisting:aI},{provide:rm,useExisting:cI},{provide:Pf,useValue:eB,multi:!0},{provide:my,useValue:!0},{provide:fI,useClass:J4}];for(const e of t)n.push(...e.\u0275providers);return function a_(t){return{\u0275providers:t}}(n)}const pI=new Gt("LEGACY_INTERCEPTOR_FN");function nB(){return function Wc(t,n){return{\u0275kind:t,\u0275providers:n}}(cc.LegacyInterceptors,[{provide:pI,useFactory:z4},{provide:Pf,useExisting:pI,multi:!0}])}let rB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({providers:[tB(nB())]})}return t})();var te=T(8046);const{isArray:cB}=Array,{getPrototypeOf:uB,prototype:dB,keys:fB}=Object;function hI(t){if(1===t.length){const n=t[0];if(cB(n))return{args:n,keys:null};if(function pB(t){return t&&"object"==typeof t&&uB(t)===dB}(n)){const e=fB(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:hB}=Array;function gy(t){return Ie(n=>function mB(t,n){return hB(n)?t(...n):t(n)}(t,n))}function mI(t,n){return t.reduce((e,r,o)=>(e[r]=n[o],e),{})}let gI=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(r){return new(r||t)(w(bl),w(wt))};static#t=this.\u0275dir=vt({type:t})}return t})(),Zc=(()=>{class t extends gI{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=ei(t)))(o||t)}}();static#t=this.\u0275dir=vt({type:t,features:[ar]})}return t})();const ns=new Gt("NgValueAccessor"),vB={provide:ns,useExisting:Ke(()=>_y),multi:!0},bB=new Gt("CompositionEventMode");let _y=(()=>{class t extends gI{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yB(){const t=sc()?sc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(r){return new(r||t)(w(bl),w(wt),w(bB,8))};static#t=this.\u0275dir=vt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&at("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[xr([vB]),ar]})}return t})();function uc(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function vI(t){return null!=t&&"number"==typeof t.length}const Ei=new Gt("NgValidators"),dc=new Gt("NgAsyncValidators"),CB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rf{static min(n){return yI(n)}static max(n){return bI(n)}static required(n){return function CI(t){return uc(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function wI(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function SI(t){return uc(t.value)||CB.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function EI(t){return n=>uc(n.value)||!vI(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return DI(n)}static pattern(n){return function II(t){if(!t)return sm;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(uc(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return PI(n)}static composeAsync(n){return RI(n)}}function yI(t){return n=>{if(uc(n.value)||uc(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function bI(t){return n=>{if(uc(n.value)||uc(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function DI(t){return n=>vI(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function sm(t){return null}function xI(t){return null!=t}function kI(t){return df(t)?nr(t):t}function MI(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function TI(t,n){return n.map(e=>e(t))}function AI(t){return t.map(n=>function wB(t){return!t.validate}(n)?n:e=>n.validate(e))}function PI(t){if(!t)return null;const n=t.filter(xI);return 0==n.length?null:function(e){return MI(TI(e,n))}}function vy(t){return null!=t?PI(AI(t)):null}function RI(t){if(!t)return null;const n=t.filter(xI);return 0==n.length?null:function(e){return function gB(...t){const n=no(t),{args:e,keys:r}=hI(t),o=new It(i=>{const{length:s}=e;if(!s)return void i.complete();const a=new Array(s);let c=s,f=s;for(let m=0;m<s;m++){let y=!1;I(e[m]).subscribe(Et(i,S=>{y||(y=!0,f--),a[m]=S},()=>c--,void 0,()=>{(!c||!y)&&(f||i.next(r?mI(r,a):a),i.complete())}))}});return n?o.pipe(gy(n)):o}(TI(e,n).map(kI)).pipe(Ie(MI))}}function yy(t){return null!=t?RI(AI(t)):null}function OI(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function FI(t){return t._rawValidators}function NI(t){return t._rawAsyncValidators}function by(t){return t?Array.isArray(t)?t:[t]:[]}function am(t,n){return Array.isArray(t)?t.includes(n):t===n}function LI(t,n){const e=by(n);return by(t).forEach(o=>{am(e,o)||e.push(o)}),e}function $I(t,n){return by(n).filter(e=>!am(t,e))}class BI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=vy(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=yy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class rs extends BI{get formDirective(){return null}get path(){return null}}class Ml extends BI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jI{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Tl=(()=>{class t extends jI{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||t)(w(Ml,2))};static#t=this.\u0275dir=vt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&Sl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ar]})}return t})(),Al=(()=>{class t extends jI{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||t)(w(rs,10))};static#t=this.\u0275dir=vt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&Sl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[ar]})}return t})();const Of="VALID",cm="INVALID",ld="PENDING",Ff="DISABLED";function Sy(t){return(um(t)?t.validators:t)||null}function Ey(t,n){return(um(n)?n.asyncValidators:t)||null}function um(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class GI{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Of}get invalid(){return this.status===cm}get pending(){return this.status==ld}get disabled(){return this.status===Ff}get enabled(){return this.status!==Ff}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(LI(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(LI(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators($I(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators($I(n,this._rawAsyncValidators))}hasValidator(n){return am(this._rawValidators,n)}hasAsyncValidator(n){return am(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ld,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Ff,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Of,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Of||this.status===ld)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ff:Of}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ld,this._hasOwnPendingAsyncValidator=!0;const e=kI(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Mn,this.statusChanges=new Mn}_calculateStatus(){return this._allControlsDisabled()?Ff:this.errors?cm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ld)?ld:this._anyControlsHaveStatus(cm)?cm:Of}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){um(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function IB(t){return Array.isArray(t)?vy(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function xB(t){return Array.isArray(t)?yy(t):t||null}(this._rawAsyncValidators)}}class fc extends GI{constructor(n,e,r){super(Sy(e),Ey(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function HI(t,n,e){t._forEachChild((r,o)=>{if(void 0===e[o])throw new it(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function UI(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new it(1e3,"");if(!r[e])throw new it(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const dm=fc,qc=new Gt("CallSetDisabledState",{providedIn:"root",factory:()=>Nf}),Nf="always";function Lf(t,n,e=Nf){Dy(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function TB(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&zI(t,n)})}(t,n),function PB(t,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function AB(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&zI(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function MB(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function pm(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),mm(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function hm(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Dy(t,n){const e=FI(t);null!==n.validator?t.setValidators(OI(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=NI(t);null!==n.asyncValidator?t.setAsyncValidators(OI(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();hm(n._rawValidators,o),hm(n._rawAsyncValidators,o)}function mm(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=FI(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(null!==n.asyncValidator){const o=NI(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}const r=()=>{};return hm(n._rawValidators,r),hm(n._rawAsyncValidators,r),e}function zI(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function qI(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function YI(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ys=class extends GI{constructor(n=null,e,r){super(Sy(e),Ey(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),um(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=YI(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){qI(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){qI(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){YI(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},ni=ys;let Pl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=vt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),tx=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({})}return t})();const Ty=new Gt("NgModelWithFormControlWarning"),WB={provide:rs,useExisting:Ke(()=>Ca)};let Ca=(()=>{class t extends rs{constructor(e,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Mn,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Lf(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){pm(e.control||null,e,!1),function NB(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function ZI(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(pm(r||null,e),(t=>t instanceof ys)(o)&&(Lf(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function WI(t,n){Dy(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function RB(t,n){return mm(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Dy(this.form,this),this._oldForm&&mm(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(w(Ei,10),w(dc,10),w(qc,8))};static#t=this.\u0275dir=vt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&at("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xr([WB]),ar,Fe]})}return t})();const YB={provide:Ml,useExisting:Ke(()=>za)};let za=(()=>{class t extends Ml{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Mn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function ky(t,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===_y?e=i:function FB(t){return Object.getPrototypeOf(t.constructor)===Zc}(i)?r=i:o=i}),o||r||e||null}(0,i)}ngOnChanges(e){this._added||this._setUpControl(),function xy(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function fm(t,n){return[...n.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(w(rs,13),w(Ei,10),w(dc,10),w(ns,10),w(Ty,8))};static#n=this.\u0275dir=vt({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[xr([YB]),ar,Fe]})}return t})();function cx(t){return"number"==typeof t?t:parseFloat(t)}let Yc=(()=>{class t{constructor(){this._validator=sm}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):sm,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=vt({type:t,features:[Fe]})}return t})();const nj={provide:Ei,useExisting:Ke(()=>Fy),multi:!0};let Fy=(()=>{class t extends Yc{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>cx(e),this.createValidator=e=>bI(e)}static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=ei(t)))(o||t)}}();static#t=this.\u0275dir=vt({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ea("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[xr([nj]),ar]})}return t})();const rj={provide:Ei,useExisting:Ke(()=>Ny),multi:!0};let Ny=(()=>{class t extends Yc{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>cx(e),this.createValidator=e=>yI(e)}static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=ei(t)))(o||t)}}();static#t=this.\u0275dir=vt({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ea("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[xr([rj]),ar]})}return t})();const lj={provide:Ei,useExisting:Ke(()=>$y),multi:!0};let $y=(()=>{class t extends Yc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function lx(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>DI(e)}static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=ei(t)))(o||t)}}();static#t=this.\u0275dir=vt({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ea("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[xr([lj]),ar]})}return t})(),hx=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({imports:[tx]})}return t})(),Xc=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:qc,useValue:e.callSetDisabledState??Nf}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({imports:[hx]})}return t})(),gm=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ty,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:qc,useValue:e.callSetDisabledState??Nf}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({imports:[hx]})}return t})();const dj=["addListener","removeListener"],fj=["addEventListener","removeEventListener"],pj=["on","off"];function By(t,n,e,r){if(D(e)&&(r=e,e=void 0),r)return By(t,n,e).pipe(gy(r));const[o,i]=function gj(t){return D(t.addEventListener)&&D(t.removeEventListener)}(t)?fj.map(s=>a=>t[s](n,a,e)):function hj(t){return D(t.addListener)&&D(t.removeListener)}(t)?dj.map(mx(t,n)):function mj(t){return D(t.on)&&D(t.off)}(t)?pj.map(mx(t,n)):[];if(!o&&yr(t))return tr(s=>By(s,n,e))(I(t));if(!o)throw new TypeError("Invalid event target");return new It(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function mx(t,n){return e=>r=>t[e](n,r)}function _m(...t){const n=zo(t),e=no(t),{args:r,keys:o}=hI(t);if(0===r.length)return nr([],n);const i=new It(function _j(t,n,e=j){return r=>{gx(n,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)gx(n,()=>{const f=nr(t[c],n);let m=!1;f.subscribe(Et(r,y=>{i[c]=y,m||(m=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,o?s=>mI(o,s):j));return e?i.pipe(gy(e)):i}function gx(t,n,e){t?Fr(e,t,n):n()}const vm=d(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function jy(...t){return function yj(){return Lo(1)}()(nr(t,zo(t)))}function _x(t){return new It(n=>{I(t()).subscribe(n)})}function Bf(t,n){const e=D(t)?t:()=>t,r=o=>o.error(e());return new It(n?o=>n.schedule(r,0,o):r)}function Vy(){return ot((t,n)=>{let e=null;t._refCount++;const r=Et(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class vx extends It{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Oe(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new H;const e=this.getSubject();n.add(this.source.subscribe(Et(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=H.EMPTY)}return n}refCount(){return Vy()(this)}}function cd(t){return t<=0?()=>Po:ot((n,e)=>{let r=0;n.subscribe(Et(e,o=>{++r<=t&&(e.next(o),t<=r&&e.complete())}))})}function yx(...t){const n=zo(t);return ot((e,r)=>{(n?jy(t,e,n):jy(t,e)).subscribe(r)})}function ym(t){return ot((n,e)=>{let r=!1;n.subscribe(Et(e,o=>{r=!0,e.next(o)},()=>{r||e.next(t),e.complete()}))})}function bx(t=bj){return ot((n,e)=>{let r=!1;n.subscribe(Et(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(t())))})}function bj(){return new vm}function pc(t,n){const e=arguments.length>=2;return r=>r.pipe(t?ba((o,i)=>t(o,i,r)):j,cd(1),e?ym(n):bx(()=>new vm))}function Ui(t,n,e){const r=D(t)||n||e?{next:t,error:n,complete:e}:t;return r?ot((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(Et(i,c=>{var f;null===(f=r.next)||void 0===f||f.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,c),i.error(c)},()=>{var c,f;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):j}function hc(t){return ot((n,e)=>{let i,r=null,o=!1;r=n.subscribe(Et(e,void 0,void 0,s=>{i=I(t(s,hc(t)(n))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function Uy(t){return t<=0?()=>Po:ot((n,e)=>{let r=[];n.subscribe(Et(e,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function Cx(t){return Ie(()=>t)}function wx(t){return ot((n,e)=>{I(t).subscribe(Et(e,()=>e.complete(),$)),!e.closed&&n.subscribe(e)})}const Un="primary",jf=Symbol("RouteTitle");class Ej{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ud(t){return new Ej(t)}function Dj(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function Wa(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!Sx(t[o],n[o]))return!1;return!0}function Sx(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((o,i)=>r[i]===o)}return t===n}function Ex(t){return t.length>0?t[t.length-1]:null}function mc(t){return function vj(t){return!!t&&(t instanceof It||D(t.lift)&&D(t.subscribe))}(t)?t:df(t)?nr(Promise.resolve(t)):un(t)}const xj={exact:function xx(t,n,e){if(!Kc(t.segments,n.segments)||!bm(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!xx(t.children[r],n.children[r],e))return!1;return!0},subset:kx},Dx={exact:function kj(t,n){return Wa(t,n)},subset:function Mj(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Sx(t[e],n[e]))},ignored:()=>!0};function Ix(t,n,e){return xj[e.paths](t.root,n.root,e.matrixParams)&&Dx[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function kx(t,n,e){return Mx(t,n,n.segments,e)}function Mx(t,n,e,r){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Kc(o,e)||n.hasChildren()||!bm(o,e,r))}if(t.segments.length===e.length){if(!Kc(t.segments,e)||!bm(t.segments,e,r))return!1;for(const o in n.children)if(!t.children[o]||!kx(t.children[o],n.children[o],r))return!1;return!0}{const o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!!(Kc(t.segments,o)&&bm(t.segments,o,r)&&t.children[Un])&&Mx(t.children[Un],n,i,r)}}function bm(t,n,e){return n.every((r,o)=>Dx[e](t[o].parameters,r.parameters))}class dd{constructor(n=new Br([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ud(this.queryParams)),this._queryParamMap}toString(){return Pj.serialize(this)}}class Br{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cm(this)}}class Vf{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ud(this.parameters)),this._parameterMap}toString(){return Px(this)}}function Kc(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let fd=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return new Hy},providedIn:"root"})}return t})();class Hy{parse(n){const e=new Hj(n);return new dd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Uf(n.root,!0)}`,r=function Fj(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(o=>`${wm(e)}=${wm(o)}`).join("&"):`${wm(e)}=${wm(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function Rj(t){return encodeURI(t)}(n.fragment)}`:""}`}}const Pj=new Hy;function Cm(t){return t.segments.map(n=>Px(n)).join("/")}function Uf(t,n){if(!t.hasChildren())return Cm(t);if(n){const e=t.children[Un]?Uf(t.children[Un],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==Un&&r.push(`${o}:${Uf(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Aj(t,n){let e=[];return Object.entries(t.children).forEach(([r,o])=>{r===Un&&(e=e.concat(n(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==Un&&(e=e.concat(n(o,r)))}),e}(t,(r,o)=>o===Un?[Uf(t.children[Un],!1)]:[`${o}:${Uf(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Un]?`${Cm(t)}/${e[0]}`:`${Cm(t)}/(${e.join("//")})`}}function Tx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wm(t){return Tx(t).replace(/%3B/gi,";")}function Gy(t){return Tx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sm(t){return decodeURIComponent(t)}function Ax(t){return Sm(t.replace(/\+/g,"%20"))}function Px(t){return`${Gy(t.path)}${function Oj(t){return Object.keys(t).map(n=>`;${Gy(n)}=${Gy(t[n])}`).join("")}(t.parameters)}`}const Nj=/^[^\/()?;#]+/;function zy(t){const n=t.match(Nj);return n?n[0]:""}const Lj=/^[^\/()?;=#]+/,Bj=/^[^=?&#]+/,Vj=/^[^&#]+/;class Hj{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Br([],{}):new Br([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Un]=new Br(n,e)),r}parseSegment(){const n=zy(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new it(4009,!1);return this.capture(n),new Vf(Sm(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function $j(t){const n=t.match(Lj);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=zy(this.remaining);o&&(r=o,this.capture(r))}n[Sm(e)]=Sm(r)}parseQueryParam(n){const e=function jj(t){const n=t.match(Bj);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function Uj(t){const n=t.match(Vj);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=Ax(e),i=Ax(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=zy(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new it(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=Un);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[Un]:new Br([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new it(4011,!1)}}function Rx(t){return t.segments.length>0?new Br([],{[Un]:t}):t}function Ox(t){const n={};for(const r of Object.keys(t.children)){const i=Ox(t.children[r]);if(r===Un&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))n[s]=a;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function Gj(t){if(1===t.numberOfChildren&&t.children[Un]){const n=t.children[Un];return new Br(t.segments.concat(n.segments),n.children)}return t}(new Br(t.segments,n))}function Qc(t){return t instanceof dd}function Fx(t){let n;const o=Rx(function e(i){const s={};for(const c of i.children){const f=e(c);s[c.outlet]=f}const a=new Br(i.url,s);return i===t&&(n=a),a}(t.root));return n??o}function Nx(t,n,e,r){let o=t;for(;o.parent;)o=o.parent;if(0===n.length)return Wy(o,o,o,e,r);const i=function Wj(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $x(!0,0,t);let n=0,e=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([c,f])=>{a[c]="string"==typeof f?f.split("/"):f}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new $x(e,n,r)}(n);if(i.toRoot())return Wy(o,o,new Br([],{}),e,r);const s=function Zj(t,n,e){if(t.isAbsolute)return new Dm(n,!0,0);if(!e)return new Dm(n,!1,NaN);if(null===e.parent)return new Dm(e,!0,0);const r=Em(t.commands[0])?0:1;return function qj(t,n,e){let r=t,o=n,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new it(4005,!1);o=r.segments.length}return new Dm(r,!1,o-i)}(e,e.segments.length-1+r,t.numberOfDoubleDots)}(i,o,t),a=s.processChildren?Gf(s.segmentGroup,s.index,i.commands):Bx(s.segmentGroup,s.index,i.commands);return Wy(o,s.segmentGroup,a,e,r)}function Em(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hf(t){return"object"==typeof t&&null!=t&&t.outlets}function Wy(t,n,e,r,o){let s,i={};r&&Object.entries(r).forEach(([c,f])=>{i[c]=Array.isArray(f)?f.map(m=>`${m}`):`${f}`}),s=t===n?e:Lx(t,n,e);const a=Rx(Ox(s));return new dd(a,i,o)}function Lx(t,n,e){const r={};return Object.entries(t.children).forEach(([o,i])=>{r[o]=i===n?e:Lx(i,n,e)}),new Br(t.segments,r)}class $x{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Em(r[0]))throw new it(4003,!1);const o=r.find(Hf);if(o&&o!==Ex(r))throw new it(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dm{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function Bx(t,n,e){if(t||(t=new Br([],{})),0===t.segments.length&&t.hasChildren())return Gf(t,n,e);const r=function Xj(t,n,e){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=e.length)return i;const s=t.segments[o],a=e[r];if(Hf(a))break;const c=`${a}`,f=r<e.length-1?e[r+1]:null;if(o>0&&void 0===c)break;if(c&&f&&"object"==typeof f&&void 0===f.outlets){if(!Vx(c,f,s))return i;r+=2}else{if(!Vx(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new Br(t.segments.slice(0,r.pathIndex),{});return i.children[Un]=new Br(t.segments.slice(r.pathIndex),t.children),Gf(i,0,o)}return r.match&&0===o.length?new Br(t.segments,{}):r.match&&!t.hasChildren()?Zy(t,n,e):r.match?Gf(t,0,o):Zy(t,n,e)}function Gf(t,n,e){if(0===e.length)return new Br(t.segments,{});{const r=function Yj(t){return Hf(t[0])?t[0].outlets:{[Un]:t}}(e),o={};if(Object.keys(r).some(i=>i!==Un)&&t.children[Un]&&1===t.numberOfChildren&&0===t.children[Un].segments.length){const i=Gf(t.children[Un],n,e);return new Br(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=Bx(t.children[i],n,s))}),Object.entries(t.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new Br(t.segments,o)}}function Zy(t,n,e){const r=t.segments.slice(0,n);let o=0;for(;o<e.length;){const i=e[o];if(Hf(i)){const c=Kj(i.outlets);return new Br(r,c)}if(0===o&&Em(e[0])){r.push(new Vf(t.segments[n].path,jx(e[0]))),o++;continue}const s=Hf(i)?i.outlets[Un]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Em(a)?(r.push(new Vf(s,jx(a))),o+=2):(r.push(new Vf(s,{})),o++)}return new Br(r,{})}function Kj(t){const n={};return Object.entries(t).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=Zy(new Br([],{}),0,r))}),n}function jx(t){const n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function Vx(t,n,e){return t==e.path&&Wa(n,e.parameters)}const zf="imperative";class Za{constructor(n,e){this.id=n,this.url=e}}class Wf extends Za{constructor(n,e,r="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gc extends Za{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zf extends Za{constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pd extends Za{constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o,this.type=16}}class Im extends Za{constructor(n,e,r,o){super(n,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ux extends Za{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qj extends Za{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jj extends Za{constructor(n,e,r,o,i){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class e6 extends Za{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t6 extends Za{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n6{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class r6{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class o6{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i6{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s6{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a6{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hx{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qy{}class Yy{constructor(n){this.url=n}}class l6{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jc,this.attachRef=null}}let Jc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new l6,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Gx{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=Xy(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=Xy(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=Ky(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Ky(n,this._root).map(e=>e.value)}}function Xy(t,n){if(t===n.value)return n;for(const e of n.children){const r=Xy(t,e);if(r)return r}return null}function Ky(t,n){if(t===n.value)return[n];for(const e of n.children){const r=Ky(t,e);if(r.length)return r.unshift(n),r}return[]}class Rl{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function hd(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class zx extends Gx{constructor(n,e){super(n),this.snapshot=e,Qy(this,n)}toString(){return this.snapshot.toString()}}function Wx(t,n){const e=function c6(t,n){const s=new xm([],{},{},"",{},Un,n,null,{});return new qx("",new Rl(s,[]))}(0,n),r=new Vt([new Vf("",{})]),o=new Vt({}),i=new Vt({}),s=new Vt({}),a=new Vt(""),c=new Ol(r,o,s,a,i,Un,n,e.root);return c.snapshot=e.root,new zx(new Rl(c,[]),e)}class Ol{constructor(n,e,r,o,i,s,a,c){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ie(f=>f[jf]))??un(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(n=>ud(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(n=>ud(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zx(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const o=e[r],i=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function u6(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class xm{get title(){return this.data?.[jf]}constructor(n,e,r,o,i,s,a,c,f){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ud(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ud(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qx extends Gx{constructor(n,e){super(e),this.url=n,Qy(this,e)}toString(){return Yx(this._root)}}function Qy(t,n){n.value._routerState=t,n.children.forEach(e=>Qy(t,e))}function Yx(t){const n=t.children.length>0?` { ${t.children.map(Yx).join(", ")} } `:"";return`${t.value}${n}`}function Jy(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Wa(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Wa(n.params,e.params)||t.paramsSubject.next(e.params),function Ij(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Wa(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),Wa(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function eb(t,n){const e=Wa(t.params,n.params)&&function Tj(t,n){return Kc(t,n)&&t.every((e,r)=>Wa(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||eb(t.parent,n.parent))}let Xx=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Un,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.attachEvents=new Mn,this.detachEvents=new Mn,this.parentContexts=g(Jc),this.location=g(_s),this.changeDetector=g(Tt),this.environmentInjector=g(Ri),this.inputBinder=g(km,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new it(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new it(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new it(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new it(4013,!1);this._activatedRoute=e;const o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new d6(e,a,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=vt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fe]})}return t})();class d6{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Ol?this.route:n===Jc?this.childContexts:this.parent.get(n,e)}}const km=new Gt("");let Kx=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,o=_m([r.queryParams,r.params,r.data]).pipe(E(([i,s,a],c)=>(a={...i,...s,...a},0===c?un(a):Promise.resolve(a)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const s=e1(r.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();function qf(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const o=function p6(t,n,e){return n.children.map(r=>{for(const o of e.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return qf(t,r,o);return qf(t,r)})}(t,n,e);return new Rl(r,o)}{if(t.shouldAttach(n.value)){const i=t.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>qf(t,a)),s}}const r=function h6(t){return new Ol(new Vt(t.url),new Vt(t.params),new Vt(t.queryParams),new Vt(t.fragment),new Vt(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(i=>qf(t,i));return new Rl(r,o)}}const tb="ngNavigationCancelingError";function Qx(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=Qc(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=Jx(!1,0,n);return o.url=e,o.navigationBehaviorOptions=r,o}function Jx(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[tb]=!0,r.cancellationCode=n,e&&(r.url=e),r}function ek(t){return t&&t[tb]}let tk=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=v({type:t,selectors:[["ng-component"]],standalone:!0,features:[IE],decls:1,vars:0,template:function(r,o){1&r&&lt(0,"router-outlet")},dependencies:[Xx],encapsulation:2})}return t})();function nb(t){const n=t.children&&t.children.map(nb),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Un&&(e.component=tk),e}function wa(t){return t.outlet||Un}function Yf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class w6{constructor(n,e,r,o,i){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),Jy(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const o=hd(e);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=hd(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=hd(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const o=hd(e);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new a6(i.value.snapshot))}),n.children.length&&this.forwardEvent(new i6(n.value.snapshot))}activateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(Jy(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jy(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=Yf(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class nk{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Mm{constructor(n,e){this.component=n,this.route=e}}function S6(t,n,e){const r=t._root;return Xf(r,n?n._root:null,e,[r.value])}function md(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function xa(t){return null!==xs(t)}(t)?n.get(t):t:r}function Xf(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=hd(n);return t.children.forEach(s=>{(function D6(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function I6(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Kc(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Kc(t.url,n.url)||!Wa(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eb(t,n)||!Wa(t.queryParams,n.queryParams);default:return!eb(t,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new nk(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Xf(t,n,i.component?a?a.children:null:e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Mm(a.outlet.component,s))}else s&&Kf(n,a,o),o.canActivateChecks.push(new nk(r)),Xf(t,null,i.component?a?a.children:null:e,r,o)})(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Kf(a,e.getContext(s),o)),o}function Kf(t,n,e){const r=hd(t),o=t.value;Object.entries(r).forEach(([i,s])=>{Kf(s,o.component?n?n.children.getContext(i):null:n,e)}),e.canDeactivateChecks.push(new Mm(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function Qf(t){return"function"==typeof t}function rk(t){return t instanceof vm||"EmptyError"===t?.name}const Tm=Symbol("INITIAL_VALUE");function gd(){return E(t=>_m(t.map(n=>n.pipe(cd(1),yx(Tm)))).pipe(Ie(n=>{for(const e of n)if(!0!==e){if(e===Tm)return Tm;if(!1===e||e instanceof dd)return e}return!0}),ba(n=>n!==Tm),cd(1)))}function ok(t){return function $e(...t){return ft(t)}(Ui(n=>{if(Qc(n))throw Qx(0,n)}),Ie(n=>!0===n))}class Am{constructor(n){this.segmentGroup=n||null}}class ik{constructor(n){this.urlTree=n}}function _d(t){return Bf(new Am(t))}function sk(t){return Bf(new ik(t))}class W6{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new it(4002,!1)}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return un(r);if(o.numberOfChildren>1||!o.children[Un])return Bf(new it(4e3,!1));o=o.children[Un]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,o){const i=this.createSegmentGroup(n,e.root,r,o);return new dd(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(n,e,r,o){const i=this.createSegments(n,e.segments,r,o);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,o)}),new Br(i,s)}createSegments(n,e,r,o){return e.map(i=>i.path.startsWith(":")?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,e,r){const o=r[e.path.substring(1)];if(!o)throw new it(4001,!1);return o}findOrReturn(n,e){let r=0;for(const o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}}const rb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Z6(t,n,e,r,o){const i=ob(t,n,e);return i.matched?(r=function g6(t,n){return t.providers&&!t._injector&&(t._injector=iv(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,r),function H6(t,n,e,r){const o=n.canMatch;return o&&0!==o.length?un(o.map(s=>{const a=md(s,t);return mc(function P6(t){return t&&Qf(t.canMatch)}(a)?a.canMatch(n,e):t.runInContext(()=>a(n,e)))})).pipe(gd(),ok()):un(!0)}(r,n,e).pipe(Ie(s=>!0===s?i:{...rb}))):un(i)}function ob(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...rb}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||Dj)(e,t,n);if(!o)return{...rb};const i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function ak(t,n,e,r){return e.length>0&&function X6(t,n,e){return e.some(r=>Pm(t,n,r)&&wa(r)!==Un)}(t,e,r)?{segmentGroup:new Br(n,Y6(r,new Br(e,t.children))),slicedSegments:[]}:0===e.length&&function K6(t,n,e){return e.some(r=>Pm(t,n,r))}(t,e,r)?{segmentGroup:new Br(t.segments,q6(t,0,e,r,t.children)),slicedSegments:e}:{segmentGroup:new Br(t.segments,t.children),slicedSegments:e}}function q6(t,n,e,r,o){const i={};for(const s of r)if(Pm(t,e,s)&&!o[wa(s)]){const a=new Br([],{});i[wa(s)]=a}return{...o,...i}}function Y6(t,n){const e={};e[Un]=n;for(const r of t)if(""===r.path&&wa(r)!==Un){const o=new Br([],{});e[wa(r)]=o}return e}function Pm(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class tV{constructor(n,e,r,o,i,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new W6(this.urlSerializer,this.urlTree)}noMatchError(n){return new it(4002,!1)}recognize(){const n=ak(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Un).pipe(hc(e=>{if(e instanceof ik)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Am?this.noMatchError(e):e}),Ie(e=>{const r=new xm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Un,this.rootComponentType,null,{}),o=new Rl(r,e),i=new qx("",o),s=function zj(t,n,e=null,r=null){return Nx(Fx(t),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root),{state:i,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Un).pipe(hc(r=>{throw r instanceof Am?this.noMatchError(r):r}))}inheritParamsAndData(n){const e=n.value,r=Zx(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,o,!0)}processChildren(n,e,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return nr(o).pipe(id(i=>{const s=r.children[i],a=function b6(t,n){const e=t.filter(r=>wa(r)===n);return e.push(...t.filter(r=>wa(r)!==n)),e}(e,i);return this.processSegmentGroup(n,a,s,i)}),function wj(t,n){return ot(function Cj(t,n,e,r,o){return(i,s)=>{let a=e,c=n,f=0;i.subscribe(Et(s,m=>{const y=f++;c=a?t(c,m,y):(a=!0,m),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}(t,n,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),ym(null),function Sj(t,n){const e=arguments.length>=2;return r=>r.pipe(t?ba((o,i)=>t(o,i,r)):j,Uy(1),e?ym(n):bx(()=>new vm))}(),tr(i=>{if(null===i)return _d(r);const s=lk(i);return function nV(t){t.sort((n,e)=>n.value.outlet===Un?-1:e.value.outlet===Un?1:n.value.outlet.localeCompare(e.value.outlet))}(s),un(s)}))}processSegment(n,e,r,o,i,s){return nr(e).pipe(id(a=>this.processSegmentAgainstRoute(a._injector??n,e,a,r,o,i,s).pipe(hc(c=>{if(c instanceof Am)return un(null);throw c}))),pc(a=>!!a),hc(a=>{if(rk(a))return function J6(t,n,e){return 0===n.length&&!t.children[e]}(r,o,i)?un([]):_d(r);throw a}))}processSegmentAgainstRoute(n,e,r,o,i,s,a){return function Q6(t,n,e,r){return!!(wa(t)===r||r!==Un&&Pm(n,e,t))&&("**"===t.path||ob(n,t,e).matched)}(r,o,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,o,r,i,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,r,i,s):_d(o):_d(o)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,o){const i=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sk(i):this.applyRedirects.lineralizeSegments(r,i).pipe(tr(s=>{const a=new Br(s,{});return this.processSegment(n,e,a,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:f,positionalParamSegments:m}=ob(e,o,i);if(!a)return _d(e);const y=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,m);return o.redirectTo.startsWith("/")?sk(y):this.applyRedirects.lineralizeSegments(o,y).pipe(tr(S=>this.processSegment(n,r,e,S.concat(f),s,!1)))}matchSegmentAgainstRoute(n,e,r,o,i,s){let a;if("**"===r.path){const c=o.length>0?Ex(o).parameters:{};a=un({snapshot:new xm(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ck(r),wa(r),r.component??r._loadedComponent??null,r,uk(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=Z6(e,r,o,n).pipe(Ie(({matched:c,consumedSegments:f,remainingSegments:m,parameters:y})=>c?{snapshot:new xm(f,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ck(r),wa(r),r.component??r._loadedComponent??null,r,uk(r)),consumedSegments:f,remainingSegments:m}:null));return a.pipe(E(c=>null===c?_d(e):this.getChildConfig(n=r._injector??n,r,o).pipe(E(({routes:f})=>{const m=r._loadedInjector??n,{snapshot:y,consumedSegments:S,remainingSegments:A}=c,{segmentGroup:oe,slicedSegments:he}=ak(e,S,A,f);if(0===he.length&&oe.hasChildren())return this.processChildren(m,f,oe).pipe(Ie(je=>null===je?null:[new Rl(y,je)]));if(0===f.length&&0===he.length)return un([new Rl(y,[])]);const Te=wa(r)===i;return this.processSegment(m,f,oe,he,Te?Un:i,!0).pipe(Ie(je=>[new Rl(y,je)]))}))))}getChildConfig(n,e,r){return e.children?un({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?un({routes:e._loadedRoutes,injector:e._loadedInjector}):function U6(t,n,e,r){const o=n.canLoad;return void 0===o||0===o.length?un(!0):un(o.map(s=>{const a=md(s,t);return mc(function k6(t){return t&&Qf(t.canLoad)}(a)?a.canLoad(n,e):t.runInContext(()=>a(n,e)))})).pipe(gd(),ok())}(n,e,r).pipe(tr(o=>o?this.configLoader.loadChildren(n,e).pipe(Ui(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):function z6(t){return Bf(Jx(!1,3))}())):un({routes:[],injector:n})}}function rV(t){const n=t.value.routeConfig;return n&&""===n.path}function lk(t){const n=[],e=new Set;for(const r of t){if(!rV(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):n.push(r)}for(const r of e){const o=lk(r.children);n.push(new Rl(r.value,o))}return n.filter(r=>!e.has(r))}function ck(t){return t.data||{}}function uk(t){return t.resolve||{}}function dk(t){return"string"==typeof t.title||null===t.title}function ib(t){return E(n=>{const e=t(n);return e?nr(e).pipe(Ie(()=>n)):un(n)})}const vd=new Gt("ROUTES");let sb=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(mD)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return un(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=mc(e.loadComponent()).pipe(Ie(fk),Ui(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),Tf(()=>{this.componentLoaders.delete(e)})),o=new vx(r,()=>new et).pipe(Vy());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return un({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ie(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,f;return Array.isArray(a)?f=a:(c=a.create(e).injector,f=c.get(vd,[],Tn.Self|Tn.Optional).flat()),{routes:f.map(nb),injector:c}}),Tf(()=>{this.childrenLoaders.delete(r)})),s=new vx(i,()=>new et).pipe(Vy());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return mc(e()).pipe(Ie(fk),tr(r=>r instanceof EE||Array.isArray(r)?un(r):nr(this.compiler.compileModuleAsync(r))))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fk(t){return function uV(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Rm=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new et,this.transitionAbortSubject=new et,this.configLoader=g(sb),this.environmentInjector=g(Ri),this.urlSerializer=g(fd),this.rootContexts=g(Jc),this.inputBindingEnabled=null!==g(km,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>un(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new r6(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new n6(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,o){return this.transitions=new Vt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:e.urlHandlingStrategy.extract(r),urlAfterRedirects:e.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zf,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ba(i=>0!==i.id),Ie(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),E(i=>{this.currentTransition=i;let s=!1,a=!1;return un(i).pipe(Ui(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),E(c=>{const f=c.currentBrowserUrl.toString(),m=!e.navigated||c.extractedUrl.toString()!==f||f!==c.currentUrlTree.toString();if(!m&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const S="";return this.events.next(new pd(c.id,this.urlSerializer.serialize(c.rawUrl),S,0)),c.resolve(null),Po}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return un(c).pipe(E(S=>{const A=this.transitions?.getValue();return this.events.next(new Wf(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),A!==this.transitions?.getValue()?Po:Promise.resolve(S)}),function oV(t,n,e,r,o,i){return tr(s=>function eV(t,n,e,r,o,i,s="emptyOnly"){return new tV(t,n,e,r,o,s,i).recognize()}(t,n,e,r,s.extractedUrl,o,i).pipe(Ie(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Ui(S=>{i.targetSnapshot=S.targetSnapshot,i.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects};const A=new Ux(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(A)}));if(m&&e.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:S,extractedUrl:A,source:oe,restoredState:he,extras:Te}=c,je=new Wf(S,this.urlSerializer.serialize(A),oe,he);this.events.next(je);const Ae=Wx(0,this.rootComponentType).snapshot;return this.currentTransition=i={...c,targetSnapshot:Ae,urlAfterRedirects:A,extras:{...Te,skipLocationChange:!1,replaceUrl:!1}},un(i)}{const S="";return this.events.next(new pd(c.id,this.urlSerializer.serialize(c.extractedUrl),S,1)),c.resolve(null),Po}}),Ui(c=>{const f=new Qj(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),Ie(c=>(this.currentTransition=i={...c,guards:S6(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},i)),function O6(t,n){return tr(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?un({...e,guardsResult:!0}):function F6(t,n,e,r){return nr(t).pipe(tr(o=>function V6(t,n,e,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?un(i.map(a=>{const c=Yf(n)??o,f=md(a,c);return mc(function A6(t){return t&&Qf(t.canDeactivate)}(f)?f.canDeactivate(t,n,e,r):c.runInContext(()=>f(t,n,e,r))).pipe(pc())})).pipe(gd()):un(!0)}(o.component,o.route,e,n,r)),pc(o=>!0!==o,!0))}(s,r,o,t).pipe(tr(a=>a&&function x6(t){return"boolean"==typeof t}(a)?function N6(t,n,e,r){return nr(n).pipe(id(o=>jy(function $6(t,n){return null!==t&&n&&n(new o6(t)),un(!0)}(o.route.parent,r),function L6(t,n){return null!==t&&n&&n(new s6(t)),un(!0)}(o.route,r),function j6(t,n,e){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function E6(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>_x(()=>un(s.guards.map(c=>{const f=Yf(s.node)??e,m=md(c,f);return mc(function T6(t){return t&&Qf(t.canActivateChild)}(m)?m.canActivateChild(r,t):f.runInContext(()=>m(r,t))).pipe(pc())})).pipe(gd())));return un(i).pipe(gd())}(t,o.path,e),function B6(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return un(!0);const o=r.map(i=>_x(()=>{const s=Yf(n)??e,a=md(i,s);return mc(function M6(t){return t&&Qf(t.canActivate)}(a)?a.canActivate(n,t):s.runInContext(()=>a(n,t))).pipe(pc())}));return un(o).pipe(gd())}(t,o.route,e))),pc(o=>!0!==o,!0))}(r,i,t,n):un(a)),Ie(a=>({...e,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ui(c=>{if(i.guardsResult=c.guardsResult,Qc(c.guardsResult))throw Qx(0,c.guardsResult);const f=new Jj(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),ba(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),ib(c=>{if(c.guards.canActivateChecks.length)return un(c).pipe(Ui(f=>{const m=new e6(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),E(f=>{let m=!1;return un(f).pipe(function iV(t,n){return tr(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return un(e);let i=0;return nr(o).pipe(id(s=>function sV(t,n,e,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!dk(o)&&(i[jf]=o.title),function aV(t,n,e,r){const o=function lV(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return un({});const i={};return nr(o).pipe(tr(s=>function cV(t,n,e,r){const o=Yf(n)??r,i=md(t,o);return mc(i.resolve?i.resolve(n,e):o.runInContext(()=>i(n,e)))}(t[s],n,e,r).pipe(pc(),Ui(a=>{i[s]=a}))),Uy(1),Cx(i),hc(s=>rk(s)?Po:Bf(s)))}(i,t,n,r).pipe(Ie(s=>(t._resolvedData=s,t.data=Zx(t,e).resolve,o&&dk(o)&&(t.data[jf]=o.title),null)))}(s.route,r,t,n)),Ui(()=>i++),Uy(1),tr(s=>i===o.length?un(e):Po))})}(e.paramsInheritanceStrategy,this.environmentInjector),Ui({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(f,"",2)}}))}),Ui(f=>{const m=new t6(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),ib(c=>{const f=m=>{const y=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(m.routeConfig).pipe(Ui(S=>{m.component=S}),Ie(()=>{})));for(const S of m.children)y.push(...f(S));return y};return _m(f(c.targetSnapshot.root)).pipe(ym(),cd(1))}),ib(()=>this.afterPreactivation()),Ie(c=>{const f=function f6(t,n,e){const r=qf(t,n._root,e?e._root:void 0);return new zx(r,n)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i={...c,targetRouterState:f},i}),Ui(()=>{this.events.next(new qy)}),((t,n,e,r)=>Ie(o=>(new w6(n,o.targetRouterState,o.currentRouterState,e,r).activate(t),o)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),cd(1),Ui({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),wx(this.transitionAbortSubject.pipe(Ui(c=>{throw c}))),Tf(()=>{s||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),hc(c=>{if(a=!0,ek(c))this.events.next(new Zf(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),function m6(t){return ek(t)&&Qc(t.url)}(c)?this.events.next(new Yy(c.url)):i.resolve(!1);else{this.events.next(new Im(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0));try{i.resolve(e.errorHandler(c))}catch(f){i.reject(f)}}return Po}))}))}cancelNavigationTransition(e,r,o){const i=new Zf(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(i),e.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pk(t){return t!==zf}let hk=(()=>{class t{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Un);return r}getResolvedTitleForRoute(e){return e.data[jf]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return g(dV)},providedIn:"root"})}return t})(),dV=(()=>{class t extends hk{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(G1))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mk=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return g(pV)},providedIn:"root"})}return t})();class fV{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let pV=(()=>{class t extends fV{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=ei(t)))(o||t)}}();static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Om=new Gt("",{providedIn:"root",factory:()=>({})});let hV=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return g(mV)},providedIn:"root"})}return t})(),mV=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Jf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Jf||{});function gk(t,n){t.events.pipe(ba(e=>e instanceof gc||e instanceof Zf||e instanceof Im||e instanceof pd),Ie(e=>e instanceof gc||e instanceof pd?Jf.COMPLETE:e instanceof Zf&&(0===e.code||1===e.code)?Jf.REDIRECTING:Jf.FAILED),ba(e=>e!==Jf.REDIRECTING),cd(1)).subscribe(()=>{n()})}function gV(t){throw t}function _V(t,n,e){return n.parse("/")}const vV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ri=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=g(hD),this.isNgZoneEnabled=!1,this._events=new et,this.options=g(Om,{optional:!0})||{},this.pendingTasks=g(Ph),this.errorHandler=this.options.errorHandler||gV,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_V,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=g(hV),this.routeReuseStrategy=g(mk),this.titleStrategy=g(hk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=g(vd,{optional:!0})?.flat()??[],this.navigationTransitions=g(Rm),this.urlSerializer=g(fd),this.location=g(Df),this.componentInputBindingEnabled=!!g(km,{optional:!0}),this.eventsSubscription=new H,this.isNgZoneEnabled=g(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new dd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Wx(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(_k(r)&&this._events.next(r));if(r instanceof Wf)pk(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(r instanceof pd)this.rawUrlTree=o.rawUrl;else if(r instanceof Ux){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(i,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(r instanceof qy)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(r instanceof Zf)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(o);else if(r instanceof Yy){const i=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),s={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pk(o.source)};this.scheduleNavigation(i,zf,null,s,{resolve:o.resolve,reject:o.reject,promise:o.promise})}r instanceof Im&&this.restoreHistory(o,!0),r instanceof gc&&(this.navigated=!0),_k(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(nb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,f=c?this.currentUrlTree.fragment:s;let y,m=null;switch(a){case"merge":m={...this.currentUrlTree.queryParams,...i};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=i||null}null!==m&&(m=this.removeEmptyProps(m));try{y=Fx(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),y=this.currentUrlTree.root}return Nx(y,e,m,f??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Qc(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,zf,null,r)}navigate(e,r={skipLocationChange:!1}){return function bV(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new it(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...vV}:!1===r?{...yV}:r,Qc(e))return Ix(this.currentUrlTree,e,o);const i=this.parseUrl(e);return Ix(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const i=e[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,f;s?(a=s.resolve,c=s.reject,f=s.promise):f=new Promise((y,S)=>{a=y,c=S});const m=this.pendingTasks.add();return gk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",s)}else{const i={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",i)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _k(t){return!(t instanceof qy||t instanceof Yy)}class vk{}let SV=(()=>{class t{preload(e,r){return r().pipe(hc(()=>un(null)))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),EV=(()=>{class t{constructor(e,r,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ba(e=>e instanceof gc),id(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=iv(i.providers,e,`Route: ${i.path}`));const s=i._injector??e,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return nr(o).pipe(Lo())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):un(null);const i=o.pipe(tr(s=>null===s?un(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?nr([i,this.loader.loadComponent(r)]).pipe(Lo()):i})}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ri),ce(mD),ce(Ri),ce(vk),ce(sb))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ab=new Gt("");let yk=(()=>{class t{constructor(e,r,o,i,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Wf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof gc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof pd&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Hx&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Hx(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function gw(){throw new Error("invalid")}()};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();function Fl(t,n){return{\u0275kind:t,\u0275providers:n}}function Ck(){const t=g(vo);return n=>{const e=t.get(Dl);if(n!==e.components[0])return;const r=t.get(ri),o=t.get(wk);1===t.get(lb)&&r.initialNavigation(),t.get(Sk,null,Tn.Optional)?.setUpPreloading(),t.get(ab,null,Tn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const wk=new Gt("",{factory:()=>new et}),lb=new Gt("",{providedIn:"root",factory:()=>1}),Sk=new Gt("");function kV(t){return Fl(0,[{provide:Sk,useExisting:EV},{provide:vk,useExisting:t}])}const Ek=new Gt("ROUTER_FORROOT_GUARD"),TV=[Df,{provide:fd,useClass:Hy},ri,Jc,{provide:Ol,useFactory:function bk(t){return t.routerState.root},deps:[ri]},sb,[]];function AV(){return new xD("Router",ri)}let Fm=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[TV,[],{provide:vd,multi:!0,useValue:e},{provide:Ek,useFactory:FV,deps:[[ri,new Op,new Fp]]},{provide:Om,useValue:r||{}},r?.useHash?{provide:Ua,useClass:o1}:{provide:Ua,useClass:r1},{provide:ab,useFactory:()=>{const t=g(A$),n=g(dt),e=g(Om),r=g(Rm),o=g(fd);return e.scrollOffset&&t.setOffset(e.scrollOffset),new yk(o,r,t,n,e)}},r?.preloadingStrategy?kV(r.preloadingStrategy).\u0275providers:[],{provide:xD,multi:!0,useFactory:AV},r?.initialNavigation?NV(r):[],r?.bindToComponentInputs?Fl(8,[Kx,{provide:km,useExisting:Kx}]).\u0275providers:[],[{provide:Dk,useFactory:Ck},{provide:Mv,multi:!0,useExisting:Dk}]]}}static forChild(e){return{ngModule:t,providers:[{provide:vd,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Ek,8))};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({})}return t})();function FV(t){return"guarded"}function NV(t){return["disabled"===t.initialNavigation?Fl(3,[{provide:wf,multi:!0,useFactory:()=>{const n=g(ri);return()=>{n.setUpLocationChangeListener()}}},{provide:lb,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Fl(2,[{provide:lb,useValue:0},{provide:wf,multi:!0,deps:[vo],useFactory:n=>{const e=n.get(p3,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=n.get(ri),i=n.get(wk);gk(o,()=>{r(!0)}),n.get(Rm).afterPreactivation=()=>(r(!0),i.closed?un(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const Dk=new Gt("");var cb=T(2440),ub=(T(3083),T(9944),T(2208),T(3149)),$V=T(6481),eu=T(7152),tp=T(2704),np=(T(7075),T(4706)),BV=(T(5821),T(1030),T(6389));const VV=ub.i,Bt=["*"],HV=["outlet"],GV=["tabsInner"],zV=[[["","slot","top"]],"*"],WV=["[slot=top]","*"],Ik=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);let rp=(()=>{class t{constructor(e,r){this.injector=e,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=e,yd(this.el)}handleValueChange(e,r){e===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),yd(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),yd(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(Ml)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>yd(this.el)));const r=e.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),yd(this.el)}}})}}return t.\u0275fac=function(e){return new(e||t)(w(vo),w(wt))},t.\u0275dir=vt({type:t,hostBindings:function(e,r){1&e&&at("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),t})();const yd=t=>{Ik(()=>{const n=t.nativeElement,e=null!=n.value&&n.value.toString().length>0,r=YV(n);db(n,r);const o=n.closest("ion-item");o&&db(o,e?[...r,"item-has-value"]:r)})},YV=t=>{const n=t.classList,e=[];for(let r=0;r<n.length;r++){const o=n.item(r);null!==o&&XV(o,"ng-")&&e.push(`ion-${o.substring(3)}`)}return e},db=(t,n)=>{const e=t.classList;e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),e.add(...n)},XV=(t,n)=>t.substring(0,n.length)===n;let bd=(()=>{class t extends rp{constructor(e,r){super(e,r)}writeValue(e){this.el.nativeElement.checked=this.lastValue=e,yd(this.el)}_handleIonChange(e){this.handleValueChange(e,e.checked)}}return t.\u0275fac=function(e){return new(e||t)(w(vo),w(wt))},t.\u0275dir=vt({type:t,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,r){1&e&&at("ionChange",function(i){return r._handleIonChange(i.target)})},features:[xr([{provide:ns,useExisting:t,multi:!0}]),ar]}),t})(),op=(()=>{class t extends rp{constructor(e,r){super(e,r)}_handleChangeEvent(e){this.handleValueChange(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(w(vo),w(wt))},t.\u0275dir=vt({type:t,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,r){1&e&&at("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[xr([{provide:ns,useExisting:t,multi:!0}]),ar]}),t})(),Nl=(()=>{class t extends rp{constructor(e,r){super(e,r)}_handleInputEvent(e){this.handleValueChange(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(w(vo),w(wt))},t.\u0275dir=vt({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,r){1&e&&at("ionInput",function(i){return r._handleInputEvent(i.target)})},features:[xr([{provide:ns,useExisting:t,multi:!0}]),ar]}),t})();const JV=(t,n)=>{const e=t.prototype;n.forEach(r=>{Object.defineProperty(e,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},eU=(t,n)=>{const e=t.prototype;n.forEach(r=>{e[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},pr=(t,n,e)=>{e.forEach(r=>t[r]=By(n,r))};function $t(t){return function(e){const{defineCustomElementFn:r,inputs:o,methods:i}=t;return void 0!==r&&r(),o&&JV(e,o),i&&eU(e,i),e}}let xk=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-app"]],ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({})],t),t})(),kk=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],t),t})(),os=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,pr(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),is=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["collapse"]})],t),t})(),Mk=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,pr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],t),t})(),ss=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,pr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),as=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["collapse","mode","translucent"]})],t),t})(),Di=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),Ll=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,pr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),gi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],t),t})(),Nm=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],t),t})(),Lm=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,pr(this,this.el,["ionSwipe"])}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["side"]})],t),t})(),$m=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,pr(this,this.el,["ionDrag"])}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],t),t})(),ls=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["color","mode","position"]})],t),t})(),qa=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t),t})(),Tk=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,pr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})(),fb=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,pr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],t),t})(),Bm=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,pr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],t),t})(),jm=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["disabled","value"]})],t),t})(),ip=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["color","duration","name","paused"]})],t),t})(),Vm=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["color","mode","selectedTab","translucent"]})],t),t})(),Ak=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],t),t})(),cs=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["color","size"]})],t),t})(),sp=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,pr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],t),t})(),us=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(Tt),w(wt),w(dt))},t.\u0275cmp=v({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Bt,decls:1,vars:0,template:function(e,r){1&e&&(Lt(),Ft(0))},encapsulation:2,changeDetection:0}),t=W([$t({inputs:["color","mode"]})],t),t})(),pb=(()=>{class t{get(e,r){const o=hb();return o?o.get(e,r):null}getBoolean(e,r){const o=hb();return!!o&&o.getBoolean(e,r)}getNumber(e,r){const o=hb();return o?o.getNumber(e,r):0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Pk=new Gt("USERCONFIG"),hb=()=>{if(typeof window<"u"){const t=window.Ionic;if(t?.config)return t.config}return null};let tH=(()=>{class t{constructor(e,r){this.doc=e,this.backButton=new et,this.keyboardDidShow=new et,this.keyboardDidHide=new et,this.pause=new et,this.resume=new et,this.resize=new et,r.run(()=>{let o;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,c=>r.run(()=>s(c))))},Cd(this.pause,e,"pause"),Cd(this.resume,e,"resume"),Cd(this.backButton,e,"ionBackButton"),Cd(this.resize,this.win,"resize"),Cd(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Cd(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?e.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(e){return(0,ub.a)(this.win,e)}platforms(){return(0,ub.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return nH(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(e){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(e){return new(e||t)(ce(Oi),ce(dt))},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const nH=(t,n)=>{n=n.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Cd=(t,n,e)=>{n&&n.addEventListener(e,r=>{const o=r?.detail;t.next(o)})};let ap=(()=>{class t{constructor(e,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=Rk,this.animated=Ok,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Wf){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),e.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(e,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateBack(e,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateRoot(e,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){var e=this;return(0,te.Z)(function*(){let r=e.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(e,r,o,i){this.direction=e,this.animated=rH(e,r,o),this.animationBuilder=i}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let r,e="root";const o=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,r=this.guessAnimation):(r=this.animated,e=this.direction),this.direction=Rk,this.animated=Ok,this.animationBuilder=void 0,{direction:e,animation:r,animationBuilder:o}}navigate(e,r){if(Array.isArray(e))return this.router.navigate(e,r);{const o=this.serializer.parse(e.toString());return void 0!==r.queryParams&&(o.queryParams={...r.queryParams}),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return t.\u0275fac=function(e){return new(e||t)(ce(tH),ce(Df),ce(fd),ce(ri,8))},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const rH=(t,n,e)=>{if(!1!==n){if(void 0!==e)return e;if("forward"===t||"back"===t)return t;if("root"===t&&!0===n)return"forward"}},Rk="auto",Ok=void 0;class Fk{constructor(n={}){this.data=n}get(n){return this.data[n]}}let Um=(()=>{class t{constructor(){this.zone=g(dt),this.applicationRef=g(Dl)}create(e,r,o){return new oH(e,r,this.applicationRef,this.zone,o)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t})();class oH{constructor(n,e,r,o,i){this.environmentInjector=n,this.injector=e,this.applicationRef=r,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(n,e,r,o){return this.zone.run(()=>new Promise(i=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=n),i(iH(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,n,e,s,o,this.elementReferenceKey))}))}removeViewFromDom(n,e){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(e);if(o){o.destroy(),this.elRefMap.delete(e);const i=this.elEventsMap.get(e);i&&(i(),this.elEventsMap.delete(e))}r()}))}}const iH=(t,n,e,r,o,i,s,a,c,f,m)=>{const S=function u3(t,n){const e=Yt(t),r=n.elementInjector||eh();return new sf(e).create(r,n.projectableNodes,n.hostElement,n.environmentInjector)}(a,{environmentInjector:n,elementInjector:vo.create({providers:aH(c),parent:e})}),A=S.instance,oe=S.location.nativeElement;if(c&&(m&&void 0!==A[m]&&console.error(`[Ionic Error]: ${m} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${m}" property from ${a.name}.`),Object.assign(A,c)),f)for(const Te of f)oe.classList.add(Te);const he=Nk(t,A,oe);return s.appendChild(oe),r.attachView(S.hostView),o.set(oe,S),i.set(oe,he),oe},sH=[tp.L,tp.a,tp.b,tp.c,tp.d],Nk=(t,n,e)=>t.run(()=>{const r=sH.filter(o=>"function"==typeof n[o]).map(o=>{const i=s=>n[o](s.detail);return e.addEventListener(o,i),()=>e.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),Lk=new Gt("NavParamsToken"),aH=t=>[{provide:Lk,useValue:t},{provide:Fk,useFactory:lH,deps:[Lk]}],lH=t=>new Fk(t),$k=(t,n)=>((t=t.filter(e=>e.stackId!==n.stackId)).push(n),t),mb=(t,n)=>{const e=t.createUrlTree(["."],{relativeTo:n});return t.serializeUrl(e)},Bk=(t,n)=>!n||t.stackId!==n.stackId,fH=(t,n)=>{if(!t)return;const e=jk(n);for(let r=0;r<e.length;r++){if(r>=t.length)return e[r];if(e[r]!==t[r])return}},jk=t=>t.split("/").map(n=>n.trim()).filter(n=>""!==n),Vk=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class pH{constructor(n,e,r,o,i,s){this.containerEl=e,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==n?jk(n):void 0}createView(n,e){const r=mb(this.router,e),o=n?.location?.nativeElement,i=Nk(this.zone,n.instance,o);return{id:this.nextId++,stackId:fH(this.tabsPrefix,r),unlistenEvents:i,element:o,ref:n,url:r}}getExistingView(n){const e=mb(this.router,n),r=this.views.find(o=>o.url===e);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(n){const e=this.navCtrl.consumeTransition();let{direction:r,animation:o,animationBuilder:i}=e;const s=this.activeView,a=Bk(n,s);a&&(r="back",o=void 0);const c=this.views.slice();let f;const m=this.router;m.getCurrentNavigation?f=m.getCurrentNavigation():m.navigations?.value&&(f=m.navigations.value),f?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const y=this.views.includes(n),S=this.insertView(n,r);y||n.ref.changeDetectorRef.detectChanges();const A=n.animationBuilder;return void 0===i&&"back"===r&&!a&&void 0!==A&&(i=A),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),n.ref.changeDetectorRef.reattach(),this.transition(n,s,o,this.canGoBack(1),!1,i).then(()=>hH(n,S,c,this.location,this.zone)).then(()=>({enteringView:n,direction:r,animation:o,tabSwitch:a})))))}canGoBack(n,e=this.getActiveStackId()){return this.getStack(e).length>n}pop(n,e=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(e);if(r.length<=n)return Promise.resolve(!1);const o=r[r.length-n-1];let i=o.url;const s=o.savedData;if(s){const c=s.get("primary");c?.route?._routerState?.snapshot.url&&(i=c.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const n=this.activeView;if(n){const e=this.getStack(n.stackId),r=e[e.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,n,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(n){n?(this.skipTransition=!0,this.pop(1)):this.activeView&&Uk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(n){const e=this.getStack(n);return e.length>0?e[e.length-1]:void 0}getRootUrl(n){const e=this.getStack(n);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Vk),this.activeView=void 0,this.views=[]}getStack(n){return this.views.filter(e=>e.stackId===n)}insertView(n,e){return this.activeView=n,this.views=((t,n,e)=>"root"===e?$k(t,n):"forward"===e?((t,n)=>(t.indexOf(n)>=0?t=t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):t.push(n),t))(t,n):((t,n)=>t.indexOf(n)>=0?t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):$k(t,n))(t,n))(this.views,n,e),this.views.slice()}transition(n,e,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===n)return Promise.resolve(!1);const a=n?n.element:void 0,c=e?e.element:void 0,f=this.containerEl;return a&&a!==c&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,c,{duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(n){var e=this;return(0,te.Z)(function*(){void 0!==e.runningTask&&(yield e.runningTask,e.runningTask=void 0);const r=e.runningTask=n();return r.finally(()=>e.runningTask=void 0),r})()}}const hH=(t,n,e,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Uk(t,n,e,r,o),i()})}):Promise.resolve(),Uk=(t,n,e,r,o)=>{o.run(()=>e.filter(i=>!n.includes(i)).forEach(Vk)),n.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==t&&i.url!==a){const c=i.element;c.setAttribute("aria-hidden","true"),c.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let lp=(()=>{class t{constructor(e,r,o,i,s,a,c,f){this.parentOutlet=f,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Vt(null),this.activated=null,this._activatedRoute=null,this.name=Un,this.stackWillChange=new Mn,this.stackDidChange=new Mn,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.parentContexts=g(Jc),this.location=g(_s),this.environmentInjector=g(Ri),this.inputBinder=g(Hk,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=g(pb),this.navCtrl=g(ap),this.nativeEl=i.nativeElement,this.name=e||Un,this.tabsPrefix="true"===r?mb(s,c):void 0,this.stackCtrl=new pH(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const e=this.getContext();e?.route&&this.activateWith(e.route,e.injector)}new Promise(e=>(0,$V.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route={...r.route}),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;let o,i=this.stackCtrl.getExistingView(e);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,e)}else{const a=e._futureSnapshot,c=this.parentContexts.getOrCreateContext(this.name).children,f=new Vt(null),m=this.createActivatedRouteProxy(f,e),y=new mH(m,c,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:y,environmentInjector:r??this.environmentInjector}),f.next(o.instance),i=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(o.instance,m),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:e})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:Bk(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(e=1,r){return this.stackCtrl.canGoBack(e,r)}pop(e=1,r){return this.stackCtrl.pop(e,r)}getLastUrl(e){const r=this.stackCtrl.getLastUrl(e);return r?r.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,r){const o=new Ol;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(e,"paramMap"),o._queryParamMap=this.proxyObservable(e,"queryParamMap"),o.url=this.proxyObservable(e,"url"),o.params=this.proxyObservable(e,"params"),o.queryParams=this.proxyObservable(e,"queryParams"),o.fragment=this.proxyObservable(e,"fragment"),o.data=this.proxyObservable(e,"data"),o}proxyObservable(e,r){return e.pipe(ba(o=>!!o),E(o=>this.currentActivatedRoute$.pipe(ba(i=>null!==i&&i.component===o),E(i=>i&&i.activatedRoute[r]),B())))}updateActivatedRouteProxy(e,r){const o=this.proxyMap.get(e);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:e,activatedRoute:r})}}return t.\u0275fac=function(e){return new(e||t)(vu("name"),vu("tabs"),w(Df),w(wt),w(ri),w(dt),w(Ol),w(t,12))},t.\u0275dir=vt({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class mH{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Ol?this.route:n===Jc?this.childContexts:this.parent.get(n,e)}}const Hk=new Gt("");let gH=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,o=_m([r.queryParams,r.params,r.data]).pipe(E(([i,s,a],c)=>(a={...i,...s,...a},0===c?un(a):Promise.resolve(a)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const s=e1(r.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t})(),Gk=(()=>{class t{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new Mn,this.ionTabsDidChange=new Mn,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:e,tabSwitch:r}){const o=e.stackId;r&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:e,tabSwitch:r}){const o=e.stackId;r&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(e){const r="string"==typeof e,o=r?e:e.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||e.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...f&&s===f.url&&f.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),c=a?.url||s,f=a?.savedExtras;return this.navCtrl.navigateRoot(c,{...f,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(e=>{const r=e.el.getAttribute("slot");r!==this.tabBarSlot&&(this.tabBarSlot=r,this.relocateTabBar())})}relocateTabBar(){const e=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(e):this.tabsInner.nativeElement.after(e)}}return t.\u0275fac=function(e){return new(e||t)(w(ap))},t.\u0275cmp=v({type:t,selectors:[["ion-tabs"]],contentQueries:function(e,r,o){if(1&e&&(Qu(o,Vm,5),Qu(o,Vm,4)),2&e){let i;ta(i=na())&&(r.tabBar=i.first),ta(i=na())&&(r.tabBars=i)}},viewQuery:function(e,r){if(1&e&&(Hc(HV,5,lp),Hc(GV,7,wt)),2&e){let o;ta(o=na())&&(r.outlet=o.first),ta(o=na())&&(r.tabsInner=o.first)}},hostBindings:function(e,r){1&e&&at("ionTabButtonClick",function(i){return r.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:WV,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(e,r){1&e&&(Lt(zV),Ft(0),ie(1,"div",0,1)(3,"ion-router-outlet",2,3),at("stackWillChange",function(i){return r.onStackWillChange(i)})("stackDidChange",function(i){return r.onStackDidChange(i)}),ee()(),Ft(5,1))},dependencies:[lp],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),t})(),zk=(()=>{class t{constructor(e,r,o){this.routerOutlet=e,this.navCtrl=r,this.config=o}onClick(e){const r=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=r&&(this.navCtrl.navigateBack(r,{animation:this.routerAnimation}),e.preventDefault())}}return t.\u0275fac=function(e){return new(e||t)(w(lp,8),w(ap),w(pb))},t.\u0275dir=vt({type:t,selectors:[["ion-back-button"]],hostBindings:function(e,r){1&e&&at("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),t})(),Wk=(()=>{let t=class{constructor(e,r,o,i){this.el=e.nativeElement,e.nativeElement.delegate=i.create(r,o),pr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return t.\u0275fac=function(e){return new(e||t)(w(wt),w(Ri),w(vo),w(Um))},t.\u0275dir=vt({type:t,selectors:[["ion-nav"]]}),t=W([$t({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})();const CH={provide:Ei,useExisting:Ke(()=>Zk),multi:!0};let Zk=(()=>{class t extends Fy{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=ei(t)))(r||t)}}(),t.\u0275dir=vt({type:t,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&ea("max",r._enabled?r.max:null)},features:[xr([CH]),ar]}),t})();const wH={provide:Ei,useExisting:Ke(()=>qk),multi:!0};let qk=(()=>{class t extends Ny{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=ei(t)))(r||t)}}(),t.\u0275dir=vt({type:t,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&ea("min",r._enabled?r.min:null)},features:[xr([wH]),ar]}),t})();class cp{constructor(n){this.ctrl=n}create(n){return this.ctrl.create(n||{})}dismiss(n,e,r){return this.ctrl.dismiss(n,e,r)}getTop(){return this.ctrl.getTop()}}let up=(()=>{class t extends cp{constructor(){super(np.b)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tu=(()=>{class t extends cp{constructor(){super(np.a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ya=(()=>{class t extends cp{constructor(){super(np.l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bs=(()=>{class t extends cp{constructor(){super(np.m),this.angularDelegate=g(Um),this.injector=g(vo),this.environmentInjector=g(Ri)}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t})(),nu=(()=>{class t extends cp{constructor(){super(np.c),this.angularDelegate=g(Um),this.injector=g(vo),this.environmentInjector=g(Ri)}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t})();class SH{shouldDetach(n){return!1}shouldAttach(n){return!1}store(n,e){}retrieve(n){return null}shouldReuseRoute(n,e){if(n.routeConfig!==e.routeConfig)return!1;const r=n.params,o=e.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}const EH=(t,n,e)=>()=>{if(n.defaultView&&typeof window<"u"){(0,eu.s)({...t,_zoneGate:i=>e.run(i)});const o="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return function jV(){var t=[];if(typeof window<"u"){var n=window;(!n.customElements||n.Element&&(!n.Element.prototype.closest||!n.Element.prototype.matches||!n.Element.prototype.remove||!n.Element.prototype.getRootNode))&&t.push(T.e(6748).then(T.t.bind(T,5648,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||n.NodeList&&!n.NodeList.prototype.forEach||!n.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(T.e(2214).then(T.t.bind(T,2193,23)))}return Promise.all(t)}().then(()=>((t,n)=>{if(!(typeof window>"u"))return VV(),(0,BV.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),n)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ik,jmp:i=>e.runOutsideAngular(i),ael(i,s,a,c){i[o](s,a,c)},rel(i,s,a,c){i.removeEventListener(s,a,c)}}))}};let _c=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:Pk,useValue:e},{provide:wf,useFactory:EH,multi:!0,deps:[Pk,Oi,dt]},{provide:Hk,useFactory:DH,deps:[ri]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Sr({providers:[Um,bs,nu],imports:[Ha]}),t})();function DH(t){return t?.componentInputBindingEnabled?new gH:null}let ru={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Xk=/[&<>"']/,xH=new RegExp(Xk.source,"g"),Kk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,kH=new RegExp(Kk.source,"g"),MH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qk=t=>MH[t];function Hi(t,n){if(n){if(Xk.test(t))return t.replace(xH,Qk)}else if(Kk.test(t))return t.replace(kH,Qk);return t}const TH=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Jk(t){return t.replace(TH,(n,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const AH=/(^|[^\[])\^/g;function Jr(t,n){t="string"==typeof t?t:t.source,n=n||"";const e={replace:(r,o)=>(o=(o=o.source||o).replace(AH,"$1"),t=t.replace(r,o),e),getRegex:()=>new RegExp(t,n)};return e}const PH=/[^\w:]/g,RH=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function eM(t,n,e){if(t){let r;try{r=decodeURIComponent(Jk(e)).replace(PH,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}n&&!RH.test(e)&&(e=function LH(t,n){Hm[" "+t]||(Hm[" "+t]=OH.test(t)?t+"/":zm(t,"/",!0));const e=-1===(t=Hm[" "+t]).indexOf(":");return"//"===n.substring(0,2)?e?n:t.replace(FH,"$1")+n:"/"===n.charAt(0)?e?n:t.replace(NH,"$1")+n:t+n}(n,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Hm={},OH=/^[^:]+:\/*[^/]*$/,FH=/^([^:]+:)[\s\S]*$/,NH=/^([^:]+:\/*[^/]*)[\s\S]*$/,Gm={exec:function(){}};function tM(t,n){const r=t.replace(/\|/g,(i,s,a)=>{let c=!1,f=s;for(;--f>=0&&"\\"===a[f];)c=!c;return c?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function zm(t,n,e){const r=t.length;if(0===r)return"";let o=0;for(;o<r;){const i=t.charAt(r-o-1);if(i!==n||e){if(i===n||!e)break;o++}else o++}return t.slice(0,r-o)}function nM(t,n){if(n<1)return"";let e="";for(;n>1;)1&n&&(e+=t),n>>=1,t+=t;return e+t}function rM(t,n,e,r){const o=n.href,i=n.title?Hi(n.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:e,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:i,text:Hi(s)}}class gb{constructor(n){this.options=n||ru}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:zm(r,"\n")}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const r=e[0],o=function jH(t,n){const e=t.match(/^(\s+)(?:```)/);if(null===e)return n;const r=e[1];return n.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:o}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let r=e[2].trim();if(/#$/.test(r)){const o=zm(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:e[0],tokens:i,text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let r,o,i,s,a,c,f,m,y,S,A,oe,he=e[1].trim();const Te=he.length>1,je={type:"list",raw:"",ordered:Te,start:Te?+he.slice(0,-1):"",loose:!1,items:[]};he=Te?`\\d{1,9}\\${he.slice(-1)}`:`\\${he}`,this.options.pedantic&&(he=Te?he:"[*+-]");const Ae=new RegExp(`^( {0,3}${he})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(oe=!1,(e=Ae.exec(n))&&!this.rules.block.hr.test(n));){if(r=e[0],n=n.substring(r.length),m=e[2].split("\n",1)[0].replace(/^\t+/,bt=>" ".repeat(3*bt.length)),y=n.split("\n",1)[0],this.options.pedantic?(s=2,A=m.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,A=m.slice(s),s+=e[1].length),c=!1,!m&&/^ *$/.test(y)&&(r+=y+"\n",n=n.substring(y.length+1),oe=!0),!oe){const bt=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Kt=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Bn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),Mo=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;n&&(S=n.split("\n",1)[0],y=S,this.options.pedantic&&(y=y.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Bn.test(y)||Mo.test(y)||bt.test(y)||Kt.test(n)));){if(y.search(/[^ ]/)>=s||!y.trim())A+="\n"+y.slice(s);else{if(c||m.search(/[^ ]/)>=4||Bn.test(m)||Mo.test(m)||Kt.test(m))break;A+="\n"+y}!c&&!y.trim()&&(c=!0),r+=S+"\n",n=n.substring(S.length+1),m=y.slice(s)}}je.loose||(f?je.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(A),o&&(i="[ ] "!==o[0],A=A.replace(/^\[[ xX]\] +/,""))),je.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:A}),je.raw+=r}je.items[je.items.length-1].raw=r.trimRight(),je.items[je.items.length-1].text=A.trimRight(),je.raw=je.raw.trimRight();const kt=je.items.length;for(a=0;a<kt;a++)if(this.lexer.state.top=!1,je.items[a].tokens=this.lexer.blockTokens(je.items[a].text,[]),!je.loose){const bt=je.items[a].tokens.filter(Bn=>"space"===Bn.type),Kt=bt.length>0&&bt.some(Bn=>/\n.*\n/.test(Bn.raw));je.loose=Kt}if(je.loose)for(a=0;a<kt;a++)je.items[a].loose=!0;return je}}html(n){const e=this.rules.block.html.exec(n);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(e[0]):Hi(e[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(n){const e=this.rules.block.def.exec(n);if(e){const r=e[1].toLowerCase().replace(/\s+/g," "),o=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:o,title:i}}}table(n){const e=this.rules.block.table.exec(n);if(e){const r={type:"table",header:tM(e[1]).map(o=>({text:o})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let i,s,a,c,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=tM(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(c=r.rows[s],a=0;a<c.length;a++)c[a].tokens=this.lexer.inline(c[a].text);return r}}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const r="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(n){const e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:Hi(e[1])}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Hi(e[0]):e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=zm(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function $H(t,n){if(-1===t.indexOf(n[1]))return-1;const e=t.length;let r=0,o=0;for(;o<e;o++)if("\\"===t[o])o++;else if(t[o]===n[0])r++;else if(t[o]===n[1]&&(r--,r<0))return o;return-1}(e[2],"()");if(s>-1){const c=(0===e[0].indexOf("!")?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,c).trim(),e[3]=""}}let o=e[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),rM(e,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(n,e){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=e[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return rM(r,o,r[0],this.lexer)}}emStrong(n,e,r=""){let o=this.rules.inline.emStrong.lDelim.exec(n);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,c,f=s,m=0;const y="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(y.lastIndex=0,e=e.slice(-1*n.length+s);null!=(o=y.exec(e));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(c=a.length,o[3]||o[4]){f+=c;continue}if((o[5]||o[6])&&s%3&&!((s+c)%3)){m+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+m);const S=n.slice(0,s+o.index+(o[0].length-a.length)+c);if(Math.min(s,c)%2){const oe=S.slice(1,-1);return{type:"em",raw:S,text:oe,tokens:this.lexer.inlineTokens(oe)}}const A=S.slice(2,-2);return{type:"strong",raw:S,text:A,tokens:this.lexer.inlineTokens(A)}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let r=e[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Hi(r,!0),{type:"codespan",raw:e[0],text:r}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n,e){const r=this.rules.inline.autolink.exec(n);if(r){let o,i;return"@"===r[2]?(o=Hi(this.options.mangle?e(r[1]):r[1]),i="mailto:"+o):(o=Hi(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(n,e){let r;if(r=this.rules.inline.url.exec(n)){let o,i;if("@"===r[2])o=Hi(this.options.mangle?e(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=Hi(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(n,e){const r=this.rules.inline.text.exec(n);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Hi(r[0]):r[0]:Hi(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const En={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Gm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};En.def=Jr(En.def).replace("label",En._label).replace("title",En._title).getRegex(),En.bullet=/(?:[*+-]|\d{1,9}[.)])/,En.listItemStart=Jr(/^( *)(bull) */).replace("bull",En.bullet).getRegex(),En.list=Jr(En.list).replace(/bull/g,En.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+En.def.source+")").getRegex(),En._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",En._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,En.html=Jr(En.html,"i").replace("comment",En._comment).replace("tag",En._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),En.paragraph=Jr(En._paragraph).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.blockquote=Jr(En.blockquote).replace("paragraph",En.paragraph).getRegex(),En.normal={...En},En.gfm={...En.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},En.gfm.table=Jr(En.gfm.table).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.gfm.paragraph=Jr(En._paragraph).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",En.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.pedantic={...En.normal,html:Jr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",En._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Gm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Jr(En.normal._paragraph).replace("hr",En.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",En.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const rn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Gm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Gm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function VH(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function oM(t){let e,r,n="";const o=t.length;for(e=0;e<o;e++)r=t.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}rn._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",rn.punctuation=Jr(rn.punctuation).replace(/punctuation/g,rn._punctuation).getRegex(),rn.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,rn.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,rn._comment=Jr(En._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),rn.emStrong.lDelim=Jr(rn.emStrong.lDelim).replace(/punct/g,rn._punctuation).getRegex(),rn.emStrong.rDelimAst=Jr(rn.emStrong.rDelimAst,"g").replace(/punct/g,rn._punctuation).getRegex(),rn.emStrong.rDelimUnd=Jr(rn.emStrong.rDelimUnd,"g").replace(/punct/g,rn._punctuation).getRegex(),rn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,rn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,rn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,rn.autolink=Jr(rn.autolink).replace("scheme",rn._scheme).replace("email",rn._email).getRegex(),rn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,rn.tag=Jr(rn.tag).replace("comment",rn._comment).replace("attribute",rn._attribute).getRegex(),rn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,rn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,rn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,rn.link=Jr(rn.link).replace("label",rn._label).replace("href",rn._href).replace("title",rn._title).getRegex(),rn.reflink=Jr(rn.reflink).replace("label",rn._label).replace("ref",En._label).getRegex(),rn.nolink=Jr(rn.nolink).replace("ref",En._label).getRegex(),rn.reflinkSearch=Jr(rn.reflinkSearch,"g").replace("reflink",rn.reflink).replace("nolink",rn.nolink).getRegex(),rn.normal={...rn},rn.pedantic={...rn.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Jr(/^!?\[(label)\]\((.*?)\)/).replace("label",rn._label).getRegex(),reflink:Jr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",rn._label).getRegex()},rn.gfm={...rn.normal,escape:Jr(rn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},rn.gfm.url=Jr(rn.gfm.url,"i").replace("email",rn.gfm._extended_email).getRegex(),rn.breaks={...rn.gfm,br:Jr(rn.br).replace("{2,}","*").getRegex(),text:Jr(rn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class vc{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||ru,this.options.tokenizer=this.options.tokenizer||new gb,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:En.normal,inline:rn.normal};this.options.pedantic?(e.block=En.pedantic,e.inline=rn.pedantic):this.options.gfm&&(e.block=En.gfm,e.inline=this.options.breaks?rn.breaks:rn.gfm),this.tokenizer.rules=e}static get rules(){return{block:En,inline:rn}}static lex(n,e){return new vc(e).lex(n)}static lexInline(n,e){return new vc(e).inlineTokens(n)}lex(n){let e;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(n,e=[]){let r,o,i,s;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(a,c,f)=>c+"    ".repeat(f.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(n)){n=n.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?e.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=n.slice(1);let f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},c),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=n.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=e[e.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r),s=i.length!==n.length,n=n.substring(r.raw.length);continue}if(r=this.tokenizer.text(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(n){const a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,e}inline(n,e=[]){return this.inlineQueue.push({src:n,tokens:e}),e}inlineTokens(n,e=[]){let r,o,i,a,c,f,s=n;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+nM("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+nM("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;n;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>!!(r=m.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(n,s,f)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(n,oM)){n=n.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(n,oM))){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const y=n.slice(1);let S;this.options.extensions.startInline.forEach(function(A){S=A.call({lexer:this},y),"number"==typeof S&&S>=0&&(m=Math.min(m,S))}),m<1/0&&m>=0&&(i=n.substring(0,m+1))}if(r=this.tokenizer.inlineText(i,VH)){n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),c=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(n){const m="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}}return e}}class wd{constructor(n){this.options=n||ru}code(n,e,r){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(n,o);null!=i&&i!==n&&(r=!0,n=i)}return n=n.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+Hi(o)+'">'+(r?n:Hi(n,!0))+"</code></pre>\n":"<pre><code>"+(r?n:Hi(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,e,r,o){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+o.slug(r)}">${n}</h${e}>\n`:`<h${e}>${n}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,e,r){const o=e?"ol":"ul";return"<"+o+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,e,r){if(null===(n=eM(this.options.sanitize,this.options.baseUrl,n)))return r;let o='<a href="'+n+'"';return e&&(o+=' title="'+e+'"'),o+=">"+r+"</a>",o}image(n,e,r){if(null===(n=eM(this.options.sanitize,this.options.baseUrl,n)))return r;let o=`<img src="${n}" alt="${r}"`;return e&&(o+=` title="${e}"`),o+=this.options.xhtml?"/>":">",o}text(n){return n}}class iM{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,r){return""+r}image(n,e,r){return""+r}br(){return""}}class sM{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,e){let r=n,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[n];do{o++,r=n+"-"+o}while(this.seen.hasOwnProperty(r))}return e||(this.seen[n]=o,this.seen[r]=0),r}slug(n,e={}){const r=this.serialize(n);return this.getNextSafeSlug(r,e.dryrun)}}class yc{constructor(n){this.options=n||ru,this.options.renderer=this.options.renderer||new wd,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new iM,this.slugger=new sM}static parse(n,e){return new yc(e).parse(n)}static parseInline(n,e){return new yc(e).parseInline(n)}parse(n,e=!0){let o,i,s,a,c,f,m,y,S,A,oe,he,Te,je,Ae,kt,bt,Kt,Bn,r="";const Mo=n.length;for(o=0;o<Mo;o++)if(A=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[A.type]&&(Bn=this.options.extensions.renderers[A.type].call({parser:this},A),!1!==Bn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(A.type)))r+=Bn||"";else switch(A.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(A.tokens),A.depth,Jk(this.parseInline(A.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(A.text,A.lang,A.escaped);continue;case"table":for(y="",m="",a=A.header.length,i=0;i<a;i++)m+=this.renderer.tablecell(this.parseInline(A.header[i].tokens),{header:!0,align:A.align[i]});for(y+=this.renderer.tablerow(m),S="",a=A.rows.length,i=0;i<a;i++){for(f=A.rows[i],m="",c=f.length,s=0;s<c;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:A.align[s]});S+=this.renderer.tablerow(m)}r+=this.renderer.table(y,S);continue;case"blockquote":S=this.parse(A.tokens),r+=this.renderer.blockquote(S);continue;case"list":for(oe=A.ordered,he=A.start,Te=A.loose,a=A.items.length,S="",i=0;i<a;i++)Ae=A.items[i],kt=Ae.checked,bt=Ae.task,je="",Ae.task&&(Kt=this.renderer.checkbox(kt),Te?Ae.tokens.length>0&&"paragraph"===Ae.tokens[0].type?(Ae.tokens[0].text=Kt+" "+Ae.tokens[0].text,Ae.tokens[0].tokens&&Ae.tokens[0].tokens.length>0&&"text"===Ae.tokens[0].tokens[0].type&&(Ae.tokens[0].tokens[0].text=Kt+" "+Ae.tokens[0].tokens[0].text)):Ae.tokens.unshift({type:"text",text:Kt}):je+=Kt),je+=this.parse(Ae.tokens,Te),S+=this.renderer.listitem(je,bt,kt);r+=this.renderer.list(S,oe,he);continue;case"html":r+=this.renderer.html(A.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(A.tokens));continue;case"text":for(S=A.tokens?this.parseInline(A.tokens):A.text;o+1<Mo&&"text"===n[o+1].type;)A=n[++o],S+="\n"+(A.tokens?this.parseInline(A.tokens):A.text);r+=e?this.renderer.paragraph(S):S;continue;default:{const _i='Token with "'+A.type+'" type was not found.';if(this.options.silent)return void console.error(_i);throw new Error(_i)}}return r}parseInline(n,e){e=e||this.renderer;let o,i,s,r="";const a=n.length;for(o=0;o<a;o++)if(i=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=e.text(i.text);break;case"html":r+=e.html(i.text);break;case"link":r+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break;case"image":r+=e.image(i.href,i.title,i.text);break;case"strong":r+=e.strong(this.parseInline(i.tokens,e));break;case"em":r+=e.em(this.parseInline(i.tokens,e));break;case"codespan":r+=e.codespan(i.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(i.tokens,e));break;default:{const c='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}}return r}}class _b{constructor(n){this.options=n||ru}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(n){return n}postprocess(n){return n}}function aM(t,n){return(e,r,o)=>{"function"==typeof r&&(o=r,r=null);const i={...r},s=function UH(t,n,e){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const o="<p>An error occurred:</p><pre>"+Hi(r.message+"",!0)+"</pre>";return n?Promise.resolve(o):e?void e(null,o):o}if(n)return Promise.reject(r);if(!e)throw r;e(r)}}((r={...Dn.defaults,...i}).silent,r.async,o);if(typeof e>"u"||null===e)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof e)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(function BH(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(r),r.hooks&&(r.hooks.options=r),o){const a=r.highlight;let c;try{r.hooks&&(e=r.hooks.preprocess(e)),c=t(e,r)}catch(y){return s(y)}const f=function(y){let S;if(!y)try{r.walkTokens&&Dn.walkTokens(c,r.walkTokens),S=n(c,r),r.hooks&&(S=r.hooks.postprocess(S))}catch(A){y=A}return r.highlight=a,y?s(y):o(null,S)};if(!a||a.length<3||(delete r.highlight,!c.length))return f();let m=0;return Dn.walkTokens(c,function(y){"code"===y.type&&(m++,setTimeout(()=>{a(y.text,y.lang,function(S,A){if(S)return f(S);null!=A&&A!==y.text&&(y.text=A,y.escaped=!0),m--,0===m&&f()})},0))}),void(0===m&&f())}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(e):e).then(a=>t(a,r)).then(a=>r.walkTokens?Promise.all(Dn.walkTokens(a,r.walkTokens)).then(()=>a):a).then(a=>n(a,r)).then(a=>r.hooks?r.hooks.postprocess(a):a).catch(s);try{r.hooks&&(e=r.hooks.preprocess(e));const a=t(e,r);r.walkTokens&&Dn.walkTokens(a,r.walkTokens);let c=n(a,r);return r.hooks&&(c=r.hooks.postprocess(c)),c}catch(a){return s(a)}}}function Dn(t,n,e){return aM(vc.lex,yc.parse)(t,n,e)}Dn.options=Dn.setOptions=function(t){return function IH(t){ru=t}(Dn.defaults={...Dn.defaults,...t}),Dn},Dn.getDefaults=function Yk(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Dn.defaults=ru,Dn.use=function(...t){const n=Dn.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(e=>{const r={...e};if(r.async=Dn.defaults.async||r.async||!1,e.extensions&&(e.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=n.renderers[o.name];n.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");n[o.level]?n[o.level].unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&("block"===o.level?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:"inline"===o.level&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),r.extensions=n),e.renderer){const o=Dn.defaults.renderer||new wd;for(const i in e.renderer){const s=o[i];o[i]=(...a)=>{let c=e.renderer[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}r.renderer=o}if(e.tokenizer){const o=Dn.defaults.tokenizer||new gb;for(const i in e.tokenizer){const s=o[i];o[i]=(...a)=>{let c=e.tokenizer[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}r.tokenizer=o}if(e.hooks){const o=Dn.defaults.hooks||new _b;for(const i in e.hooks){const s=o[i];o[i]=_b.passThroughHooks.has(i)?a=>{if(Dn.defaults.async)return Promise.resolve(e.hooks[i].call(o,a)).then(f=>s.call(o,f));const c=e.hooks[i].call(o,a);return s.call(o,c)}:(...a)=>{let c=e.hooks[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}r.hooks=o}if(e.walkTokens){const o=Dn.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(e.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}Dn.setOptions(r)})},Dn.walkTokens=function(t,n){let e=[];for(const r of t)switch(e=e.concat(n.call(Dn,r)),r.type){case"table":for(const o of r.header)e=e.concat(Dn.walkTokens(o.tokens,n));for(const o of r.rows)for(const i of o)e=e.concat(Dn.walkTokens(i.tokens,n));break;case"list":e=e.concat(Dn.walkTokens(r.items,n));break;default:Dn.defaults.extensions&&Dn.defaults.extensions.childTokens&&Dn.defaults.extensions.childTokens[r.type]?Dn.defaults.extensions.childTokens[r.type].forEach(function(o){e=e.concat(Dn.walkTokens(r[o],n))}):r.tokens&&(e=e.concat(Dn.walkTokens(r.tokens,n)))}return e},Dn.parseInline=aM(vc.lexInline,yc.parseInline),Dn.Parser=yc,Dn.parser=yc.parse,Dn.Renderer=wd,Dn.TextRenderer=iM,Dn.Lexer=vc,Dn.lexer=vc.lex,Dn.Tokenizer=gb,Dn.Slugger=sM,Dn.Hooks=_b,Dn.parse=Dn;class HH extends H{constructor(n,e){super()}schedule(n,e=0){return this}}const Wm={setInterval(t,n,...e){const{delegate:r}=Wm;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Wm;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},vb={now:()=>(vb.delegate||Date).now(),delegate:void 0};class dp{constructor(n,e=dp.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}dp.now=vb.now;const WH=new class zH extends dp{constructor(n,e=dp.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class GH extends HH{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,e),this}requestAsyncId(n,e,r=0){return Wm.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Wm.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,r=!1;try{this.work(n)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,re(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}});class YH extends et{constructor(n=1/0,e=1/0,r=vb){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=e.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}const KH=["*"];let lM=(()=>{class t{constructor(){this._buttonClick$=new et,this.copied$=this._buttonClick$.pipe(E(()=>Zi(un(!0),function qH(t=0,n,e=WH){let r=-1;return null!=n&&(ws(n)?e=n:r=n),new It(o=>{let i=function ZH(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}(3e3).pipe(Cx(!1)))),B(),function XH(t,n,e){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):r=t??1/0,Ds({connector:()=>new YH(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(yx(!1),Ie(e=>e?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=v({type:t,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(r,o){1&r&&(ie(0,"button",0),at("click",function(){return o.onCopyToClipboardClick()}),ja(1,"async"),Be(2),ja(3,"async"),ee()),2&r&&(Sl("copied",Va(1,3,o.copied$)),Ye(2),Bs(Va(3,5,o.copiedText$)))},dependencies:[w1],encapsulation:2,changeDetection:0})}return t})();class eG{}var yb=function(t){return t.CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",t}(yb||{});class cM{}const uM=new Gt("SECURITY_CONTEXT");let bb=(()=>{class t{get options(){return this._options}set options(e){this._options={...this.DEFAULT_MARKED_OPTIONS,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}constructor(e,r,o,i,s,a){this.platform=e,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new wd},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new et,this.reload$=this._reload$.asObservable(),this.options=s}parse(e,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:c}=r,f={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(f.renderer||new wd));const m=this.trimIndentation(e),y=o?this.decodeHtml(m):m,S=s?this.parseEmoji(y):y,A=this.parseMarked(S,f,i);return(c?A:this.sanitizer.sanitize(this.securityContext,A))||""}render(e,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:c,mermaid:f,mermaidOptions:m}=r;i&&this.renderClipboard(e,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(e,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(e,{...this.DEFAULT_MERMAID_OPTIONS,...m}),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe(Ie(r=>this.handleExtension(e,r)))}highlight(e){if(!rd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!rd(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}extendRenderer(e){const r=e;if(!0===r.\u0275NgxMarkdownRendererExtended)return e;const o=e.code;return e.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,e}handleExtension(e,r){const o=e.lastIndexOf("://"),i=o>-1?e.substring(o+4):e,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),f=c>-1?a.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(e,r,o=!1){return o?Dn.parseInline(e,r):Dn.parse(e,r)}parseEmoji(e){if(!rd(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}renderKatex(e,r){if(rd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,r)}}renderClipboard(e,r,o){if(!rd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=e.querySelectorAll("pre");for(let c=0;c<a.length;c++){const f=a.item(c),m=document.createElement("div");m.style.position="relative",f.parentNode.insertBefore(m,f),m.appendChild(f);const y=document.createElement("div");let S,A;y.style.position="absolute",y.style.top=".5em",y.style.right=".5em",y.style.opacity="0",y.style.transition="opacity 250ms ease-out",m.insertAdjacentElement("beforeend",y),f.onmouseover=()=>y.style.opacity="1",f.onmouseout=()=>y.style.opacity="0",S=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(lM).hostView,S.rootNodes.forEach(oe=>{oe.onmouseover=()=>y.style.opacity="1",y.appendChild(oe),A=new ClipboardJS(oe,{text:()=>f.innerText})}),S.onDestroy(()=>A.destroy())}}renderMermaid(e,r=this.DEFAULT_MERMAID_OPTIONS){if(!rd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=e.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}static#e=this.\u0275fac=function(r){return new(r||t)(ce(rc),ce(uM),ce(hy,8),ce(eG,8),ce(cM,8),ce(cy))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})(),Cb=(()=>{class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(e){this._disableSanitizer=this.coerceBooleanProperty(e)}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(e){this._srcRelativeLink=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}constructor(e,r,o){this.element=e,this.markdownService=r,this.viewContainerRef=o,this.error=new Mn,this.load=new Mn,this.ready=new Mn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new et}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(wx(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(e,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(e){return null!=e&&"false"!=`${String(e)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e),this.load.emit(e)},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,yb.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,yb.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const c=this.toLispCase(s);o.item(i).setAttribute(c,a.toString())}})}toLispCase(e){const r=e.match(/([A-Z])/g);if(!r)return e;let o=e.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}static#e=this.\u0275fac=function(r){return new(r||t)(w(wt),w(bb),w(_s))};static#t=this.\u0275cmp=v({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Fe],ngContentSelectors:KH,decls:1,vars:0,template:function(r,o){1&r&&(Lt(),Ft(0))},encapsulation:2})}return t})(),wb=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[bb,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:uM,useValue:e&&null!=e.sanitize?e.sanitize:Ns.HTML}]}}static forChild(){return{ngModule:t}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({imports:[Ha]})}return t})();var dM;!function(t){let n;var o;let e,r;(o=n=t.SecurityLevel||(t.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(e=t.Theme||(t.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={}))}(dM||(dM={}));const fM="safari"in window,pM=!navigator.userAgent.match(/(crios)|(fxios)/i),Vs=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,hM=!!navigator.userAgent.match(/android/i),lG=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Sd=function(t){return t.web="web",t.pwa="pwa",t.twa="twa",t}(Sd||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const dG=new Error("request for lock canceled");class pG{constructor(n,e=dG){this._value=n,this._cancelError=e,this._weightedQueues=[],this._weightedWaiters=[]}acquire(n=1){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);return new Promise((e,r)=>{this._weightedQueues[n-1]||(this._weightedQueues[n-1]=[]),this._weightedQueues[n-1].push({resolve:e,reject:r}),this._dispatch()})}runExclusive(n,e=1){return function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(y){s(y)}}function c(m){try{f(r.throw(m))}catch(y){s(y)}}function f(m){m.done?i(m.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(a,c)}f((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(e);try{return yield n(r)}finally{o()}})}waitForUnlock(n=1){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);return new Promise(e=>{this._weightedWaiters[n-1]||(this._weightedWaiters[n-1]=[]),this._weightedWaiters[n-1].push(e),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(n){this._value=n,this._dispatch()}release(n=1){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);this._value+=n,this._dispatch()}cancel(){this._weightedQueues.forEach(n=>n.forEach(e=>e.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var n;for(let e=this._value;e>0;e--){const r=null===(n=this._weightedQueues[e-1])||void 0===n?void 0:n.shift();if(!r)continue;const o=this._value,i=e;this._value-=e,e=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(n){let e=!1;return()=>{e||(e=!0,this.release(n))}}_drainUnlockWaiters(){for(let n=this._value;n>0;n--)this._weightedWaiters[n-1]&&(this._weightedWaiters[n-1].forEach(e=>e()),this._weightedWaiters[n-1]=[])}}class Xa{constructor(n){this._semaphore=new pG(1,n)}acquire(){return t=this,n=void 0,r=function*(){const[,n]=yield this._semaphore.acquire();return n},new((e=void 0)||(e=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(y){s(y)}}function c(m){try{f(r.throw(m))}catch(y){s(y)}}function f(m){m.done?i(m.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(a,c)}f((r=r.apply(t,n||[])).next())});var t,n,e,r}runExclusive(n){return this._semaphore.runExclusive(()=>n())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Zm="cloudpilot-session-preview";function gM(){localStorage.removeItem(Zm)}function yo(){return(t,n,e)=>{const r=e.value;let o=!1;return e.value=(0,te.Z)(function*(...i){if(!o){o=!0;try{return yield r.apply(this,i)}finally{o=!1}}}),e}}let $l=(()=>{class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class lo{constructor(n,e){this.alertController=n,this.emulationState=e,this.emergencySaveEvent=new Ho.j}errorMessage(n){var e=this;return(0,te.Z)(function*(){yield(yield e.alertController.create({header:"Error",backdropDismiss:!1,message:new eu.I(n),buttons:[{text:"Close",role:"cancel"}],cssClass:"alert-error"})).present()})()}message(n,e,r={},o="Close"){var i=this;return(0,te.Z)(function*(){const s=yield i.alertController.create({header:n,message:new eu.I(e),backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(n){var e=this;return(0,te.Z)(function*(){const r=yield e.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:n},{text:"Close",role:"cancel"}]});yield r.present(),yield r.onDidDismiss()})()}fatalError(n,e=!0){var r=this;return(0,te.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:new eu.I(`\n                ${n}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&e?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&e?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(n){var e=this;return(0,te.Z)(function*(){const r=yield e.alertController.create({header:"Error",message:new eu.I(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${n}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}static#e=this.\u0275fac=function(e){return new(e||lo)(ce(tu),ce($l))};static#t=this.\u0275prov=mt({token:lo,factory:lo.\u0275fac,providedIn:"root"})}W([yo()],lo.prototype,"updateAvailable",null),W([yo()],lo.prototype,"fatalError",null),W([yo()],lo.prototype,"errorInNativeCode",null);let ou=(()=>{class t{constructor(e,r){this.alertService=e,this.ngZone=r,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=o=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${o}.`),this.fatalInNativeCode=o=>this.fatalWithMessage(o.message,!0,!1),this.fatalWithMessage=(o,i=!0,s=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,i&&gM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(o,s))}),this.fatalErrorEvent=new Ho.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}static#e=this.\u0275fac=function(r){return new(r||t)(ce(lo),ce(dt))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var jr=function(t){return t.cloudpilot="cloudpilot",t.fstools="fstools",t.vfs="vfs",t.none="none",t}(jr||{});let fp=(()=>{class t{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??jr.none}claim(e,r){this.assertOwnership(e,jr.none),this.ownershipMmap.set(e,r)}release(e,r){this.assertOwnership(e,r),this.ownershipMmap.delete(e)}assertOwnership(e,r){if(this.getOwner(e)===r)return;const o=r===jr.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${r}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(o),new Error(o)}transferOwnership(e,r,o){this.assertOwnership(e,r),this.ownershipMmap.set(e,o)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ou))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const bc="session",Ed="rom",Cc="memory",Bl="state",qm="kvs",wc="memory-meta",Ka="storage",Us="storage-card",pp="lock";class Dd extends Error{constructor(n){super(n)}}function hr(t){return new Promise((n,e)=>{!function bG(t){return!!t.abort}(t)?t.onsuccess=()=>n(t.result):t.oncomplete=()=>n(void 0),t.onerror=()=>e(new Dd(t.error?.message))})}function vM(t){let n=255&t[0];n|=n<<8,n|=n<<16;for(let e=1;e<256;e++)if(t[e]!==n)return t;return 255&t[0]}function CG(t){const n=t[0];for(let e=1;e<2048;e++)if(t[e]!==n)return t;return n}const Ym="session",Eb="memory",bM="storage-meta",CM="storage-card";function Db(){return(Db=(0,te.Z)(function*(t,n){function e(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!n)throw new Error("no version change transaction!");const o=n.objectStore(Ym).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value,f={...c,totalMemory:1024*c.ram*1024+e(c.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Ib(){return(Ib=(0,te.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=n.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=e.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(e.put(r,"credentials"),e.delete("proxyCredentials"))})).apply(this,arguments)}function xb(){return(xb=(0,te.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=t.createObjectStore("memory-meta",{keyPath:"sessionId"});t.createObjectStore("storage"),t.createObjectStore(bM,{keyPath:"id",autoIncrement:!0});const o=n.objectStore(Ym).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value;void 0!==c.totalMemory&&(e.put({sessionId:c.id,totalSize:c.totalMemory}),delete c.totalMemory,a.update(c)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function kb(){return(kb=(0,te.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(bM).name=CM})).apply(this,arguments)}function Mb(){return(Mb=(0,te.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(CM).createIndex("storageId","storageId")})).apply(this,arguments)}function Tb(){return(Tb=(0,te.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");t.createObjectStore("lock")})).apply(this,arguments)}const FG=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function wM(t){let n=-1;for(let e=0;e<t.length;e++)n=FG[255&(n^t[e])]^n>>>8;return~n}var NG=T(6943),LG=T.n(NG);const SM={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Xm;const $G=new Uint8Array(16);function BG(){if(!Xm&&(Xm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xm($G)}const Fi=[];for(let t=0;t<256;++t)Fi.push((t+256).toString(16).slice(1));const Ab=function jG(t,n,e){if(SM.randomUUID&&!n&&!t)return SM.randomUUID();const r=(t=t||{}).random||(t.rng||BG)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=r[o];return n}return function EM(t,n=0){return(Fi[t[n+0]]+Fi[t[n+1]]+Fi[t[n+2]]+Fi[t[n+3]]+"-"+Fi[t[n+4]]+Fi[t[n+5]]+"-"+Fi[t[n+6]]+Fi[t[n+7]]+"-"+Fi[t[n+8]]+Fi[t[n+9]]+"-"+Fi[t[n+10]]+Fi[t[n+11]]+Fi[t[n+12]]+Fi[t[n+13]]+Fi[t[n+14]]+Fi[t[n+15]]).toLowerCase()}(r)},Pb=new Error("page lock lost"),DM=new Error("version mismatch"),IM=Ab();function Fo(){return(t,n,e)=>{const r=e.value;return e.value=(0,te.Z)(function*(...o){const i=this.errorService;try{return yield r.apply(this,o)}catch(s){throw s instanceof Dd?i.fatalIDBDead():s===DM?i.fatalVersionMismatch():s===Pb?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),e}}class er{constructor(n,e,r){this.ngZone=n,this.errorService=e,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Cc),c=o.objectStore(wc),f=new Uint32Array(256),m=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),c.put({sessionId:i,totalSize:s.length});const S=s.length>>>10;for(let A=0;A<S;A++){m.set(s.subarray(1024*A,1024*(A+1)));const oe=vM(f);if("number"==typeof oe)a.put(oe,[i,A]);else{const he=new Uint32Array(256);he.set(oe),a.put(he,[i,A])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,te.Z)(function*(){const a=o.objectStore(wc),c=yield hr(a.get(i));if(!c)return;const f=yield new Promise(function(){var m=(0,te.Z)(function*(y,S){const A=o.objectStore(Cc),oe=new Uint32Array(c.totalSize>>>2),he=A.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));he.onsuccess=()=>{const Te=he.result;if(!Te)return y(new Uint8Array(oe.buffer));const je=Te.value,[,Ae]=Te.key;"number"==typeof je?oe.subarray(256*Ae,256*(Ae+1)).fill(je|je<<8|je<<16|je<<24):oe.subarray(256*Ae,256*(Ae+1)).set(1024===je.length?new Uint32Array(je.buffer):je),Te.continue()},he.onerror=()=>S(new Dd(he.error?.message))});return function(y,S){return m.apply(this,arguments)}}());if(void 0!==c.crc32&&s&&c.crc32!==wM(f))throw new Error("snapshot CRC mismatch");return f})),this.sessionChangeEvent=new Ho.j,this.storageCardChangeEvent=new Ho.j,this.sessionUpdateMutex=new Xa,this.db=this.requestPersistentStorage().then(()=>n.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(n,e,r,o){var i=this;return(0,te.Z)(function*(){const s=LG()(e),a=yield i.newTransaction(bc,Ed,Bl,Cc,wc),c=a.objectStore(bc),f=a.objectStore(Ed);(yield hr(f.get(s)))||f.put(e,s);const{id:y,...S}=n,A=yield hr(c.add({...S,rom:s})),oe=yield hr(c.get(A));return r&&i.saveMemory(a,oe.id,r),o&&i.saveState(a,oe.id,o),yield hr(a),oe})()}getAllSessions(){var n=this;return(0,te.Z)(function*(){const[e]=yield n.prepareObjectStore(bc);return yield hr(e.getAll())})()}getSession(n){var e=this;return(0,te.Z)(function*(){const[r]=yield e.prepareObjectStore(bc);return yield hr(r.get(n))})()}deleteSession(n){var e=this;return(0,te.Z)(function*(){const r=yield e.newTransaction(bc,Ed,Bl,Cc,wc),o=r.objectStore(bc),i=r.objectStore(Ed);(n=yield hr(o.get(n.id)))&&(o.delete(n.id),0===(yield hr(o.index("rom").getAll(n.rom))).length&&i.delete(n.rom),e.deleteMemory(r,n.id),e.deleteState(r,n.id),yield hr(r),e.sessionChangeEvent.dispatch([n.id,void 0]))})()}updateSessionPartial(n,e){var r=this;return this.sessionUpdateMutex.runExclusive((0,te.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...c}=e,[f,m]=yield r.prepareObjectStore(bc),y=yield hr(f.get(n));if(!y)throw new Error(`no session with id ${n}`);const S={...y,...c};f.put(S),yield hr(m),r.sessionChangeEvent.dispatch([y.id,S])}))}updateSession(n){var e=this;return this.sessionUpdateMutex.runExclusive((0,te.Z)(function*(){const[r,o]=yield e.prepareObjectStore(bc),i=yield hr(r.get(n.id));if(!i)throw new Error(`no session with id ${n.id}`);if(i.rom!==n.rom)throw new Error("attempt to change ROM reference");if(i.ram!==n.ram)throw new Error("attempt to change RAM size");if(i.device!==n.device)throw new Error("attempt to change device type");r.put(n),yield hr(o),e.sessionChangeEvent.dispatch([n.id,n])}))}loadSession(n,e){var r=this;return(0,te.Z)(function*(){const o=yield r.newTransaction(Ed,Bl,Cc,wc),i=o.objectStore(Ed);return[yield hr(i.get(n.rom)),yield r.loadMemory(o,n.id,e),yield r.loadState(o,n.id)]})()}deleteStateForSession(n){var e=this;return(0,te.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Bl);r.delete(n.id),yield hr(o)})()}addEmptyStorageCard(n){var e=this;return(0,te.Z)(function*(){const[r]=yield e.prepareObjectStore(Us),o=yield hr(r.add(n)),i=yield hr(r.get(o));return e.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(n,e){var r=this;return(0,te.Z)(function*(){return r.ngZone.runOutsideAngular((0,te.Z)(function*(){const o=yield r.newTransaction(Us,Ka),i=o.objectStore(Us),s=o.objectStore(Ka),a=yield hr(i.add(n)),c=(n.size>>>13)+(e.length%8192==0?0:1),f=new Uint32Array(2048);for(let y=0;y<c;y++){const S=e.subarray(2048*y,2048*(y+1));y===c-1&&f.set(S);const A=CG(y===c-1?f:S);0!==A&&s.put("number"==typeof A?A:A?.slice(),[a,y])}const m=yield hr(i.get(a));return yield hr(o),r.storageCardChangeEvent.dispatch(m.id),m}))})()}getAllStorageCards(){var n=this;return(0,te.Z)(function*(){const[e]=yield n.prepareObjectStore(Us);return hr(e.getAll())})()}getCard(n){var e=this;return(0,te.Z)(function*(){const[r]=yield e.prepareObjectStore(Us);return hr(r.get(n))})()}updateStorageCardPartial(n,e){var r=this;return(0,te.Z)(function*(){const{storageId:o,size:i,id:s,...a}=e,[c,f]=yield r.prepareObjectStore(Us),m=yield hr(c.get(n));if(!m)throw new Error(`no card with id ${n}`);const y={...m,...a};c.put(y),yield hr(f),r.storageCardChangeEvent.dispatch(n)})()}deleteStorageCard(n){var e=this;return(0,te.Z)(function*(){const r=yield e.newTransaction(Us,Ka);e.storageCardContext.assertOwnership(n,jr.none);const o=r.objectStore(Us),i=r.objectStore(Ka);o.delete(n),i.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0)),yield hr(r),e.storageCardChangeEvent.dispatch(n)})()}loadCardData(n,e,r){var o=this;return this.ngZone.runOutsideAngular((0,te.Z)(function*(){const i=yield o.newTransaction(Us,Ka);o.storageCardContext.assertOwnership(n,r);const s=i.objectStore(Ka);yield new Promise(function(){var a=(0,te.Z)(function*(c,f){const m=s.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));m.onsuccess=()=>{const y=m.result;if(!y)return c();let S=y.value;const[,A]=y.key;"number"==typeof S?e.subarray(2048*A,2048*(A+1)).fill(S):(2048*(A+1)>e.length&&(S=S.subarray(0,2048-2048*(A+1)+e.length)),e.subarray(2048*A,2048*(A+1)).set(S)),y.continue()},m.onerror=()=>f(new Dd(m.error?.message))});return function(c,f){return a.apply(this,arguments)}}())}))}updateCardData(n,e,r,o){var i=this;return this.ngZone.runOutsideAngular((0,te.Z)(function*(){const s=yield i.newTransaction(Us,Ka);i.storageCardContext.assertOwnership(n,o);const a=s.objectStore(Us),c=s.objectStore(Ka),f=yield hr(a.get(n));if(!f)throw new Error(`no card with ID ${n}`);if(e.length!==f.size>>>2)throw new Error("data size mismatch");const m=(f.size>>>13)+(f.size%8192>0?1:0);if((m>>>3)+(m%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let y=0;for(let S=0;S<r.length;S++)for(let A=1;A<256&&!(y>=m);A<<=1)r[S]&A&&c.put(e.subarray(2048*y,2048*(y+1)).slice(),[f.id,y]),y++;yield hr(s)}))}kvsGet(n){var e=this;return(0,te.Z)(function*(){const[r]=yield e.prepareObjectStore(qm);return hr(r.get(n))})()}kvsSet(n){var e=this;return(0,te.Z)(function*(){const[r,o]=yield e.prepareObjectStore(qm);for(const i of Object.keys(n))r.put(n[i],i);yield hr(o)})()}kvsLoad(){var n=this;return(0,te.Z)(function*(){const[e]=yield n.prepareObjectStore(qm);return new Promise((r,o)=>{const i={},s=e.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Dd(s.error?.message))})})()}kvsDelete(n){var e=this;return(0,te.Z)(function*(){const[r,o]=yield e.prepareObjectStore(qm);r.delete(n),yield hr(o)})()}acquireLock(n){var e=this;return(0,te.Z)(function*(){if(e.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield hr(n.objectStore(pp).get(0)))!==IM)throw n.abort(),n.db.close(),Pb})()}newTransaction(...n){var e=this;return(0,te.Z)(function*(){const r=(yield e.db).transaction([pp,...n],"readwrite",{durability:"relaxed"});return yield e.acquireLock(r),r})()}prepareObjectStore(n){var e=this;return(0,te.Z)(function*(){const r=yield e.newTransaction(n);return[r.objectStore(n),r]})()}saveState(n,e,r){const o=n.objectStore(Bl);r?o.put(r,e):o.delete(e)}deleteState(n,e){n.objectStore(Bl).delete(e)}loadState(n,e){return hr(n.objectStore(Bl).get(e))}deleteMemory(n,e){const r=n.objectStore(Cc),o=n.objectStore(wc);r.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),o.delete(e)}initializeLock(n){return(0,te.Z)(function*(){const e=n.transaction(pp,"readwrite");yield hr(e.objectStore(pp).put(IM,0))})()}setupDb(){var n=this;return(0,te.Z)(function*(){const e=setTimeout(()=>Vs&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(e),o&&void 0!==o.version&&o.version>9)throw DM}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new Dd("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,te.Z)(function*(c){clearTimeout(e),c.oldVersion<1&&function xG(t){t.createObjectStore(Ym,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),t.createObjectStore("state")}(s.result),c.oldVersion<2&&function kG(t,n){if(!n)throw new Error("no version change transaction!");t.objectStoreNames.contains("rom")&&t.deleteObjectStore("rom"),t.objectStoreNames.contains(Eb)&&t.deleteObjectStore(Eb),n.objectStore(Ym).clear(),t.createObjectStore("rom"),t.createObjectStore(Eb),t.createObjectStore("kvs")}(s.result,s.transaction),c.oldVersion<4&&(yield function MG(t,n){return Db.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<5&&(yield function TG(t,n){return Ib.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<6&&(yield function AG(t,n){return xb.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<7&&(yield function PG(t,n){return kb.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<8&&(yield function RG(t,n){return Mb.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<9&&(yield function OG(t,n){return Tb.apply(this,arguments)}(s.result,s.transaction))});return function(c){return a.apply(this,arguments)}}()});return yield n.initializeLock(r),r}finally{clearTimeout(e)}})()}requestPersistentStorage(){return(0,te.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(n){console.warn(n),console.log("failed to request persistent storage")}})()}static#e=this.\u0275fac=function(e){return new(e||er)(ce(dt),ce(ou),ce(fp))};static#t=this.\u0275prov=mt({token:er,factory:er.\u0275fac,providedIn:"root"})}W([Fo()],er.prototype,"addSession",null),W([Fo()],er.prototype,"getAllSessions",null),W([Fo()],er.prototype,"getSession",null),W([Fo()],er.prototype,"deleteSession",null),W([Fo()],er.prototype,"updateSessionPartial",null),W([Fo()],er.prototype,"updateSession",null),W([Fo()],er.prototype,"loadSession",null),W([Fo()],er.prototype,"deleteStateForSession",null),W([Fo()],er.prototype,"addEmptyStorageCard",null),W([Fo()],er.prototype,"importStorageCard",null),W([Fo()],er.prototype,"getAllStorageCards",null),W([Fo()],er.prototype,"getCard",null),W([Fo()],er.prototype,"updateStorageCardPartial",null),W([Fo()],er.prototype,"deleteStorageCard",null),W([Fo()],er.prototype,"loadCardData",null),W([Fo()],er.prototype,"kvsGet",null),W([Fo()],er.prototype,"kvsSet",null),W([Fo()],er.prototype,"kvsDelete",null),W([Fo()],er.prototype,"newTransaction",null),W([Fo()],er.prototype,"prepareObjectStore",null),W([Fo()],er.prototype,"initializeLock",null),W([Fo()],er.prototype,"setupDb",null);const xM={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Gi=(()=>{class t{constructor(e){var r=this;this.storageService=e,this.set=o=>this.storageMutex.runExclusive((0,te.Z)(function*(){yield r.storageService.kvsSet(o);for(const i of Object.keys(o))r.rawKvs[i]=o[i];r.updateEvent.dispatch()})),this.updateEvent=new Ho.j,this.mutex=new Xa,this.storageMutex=new Xa,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,te.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,te.Z)(function*(){const r=e;try{const o={...xM,...yield e.storageService.kvsLoad()};e.rawKvs=o,e.kvsProxy=new Proxy(o,{set:(i,s,a)=>(i[s]=a,r.storageMutex.runExclusive(()=>r.storageService.kvsSet({[s]:a})),r.updateEvent.dispatch(),!0),deleteProperty:(i,s)=>(delete i[s],r.storageMutex.runExclusive(()=>r.storageService.kvsDelete(s)),r.updateEvent.dispatch(),!0)})}catch(o){console.error("failed to load KVS"),console.error(o),e.kvsProxy={...xM}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(ce(er))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kM=(()=>{class t{constructor(e,r){var o=this;this.kvsService=e,this.alertService=r,this.serviceWorkerKeepalive=(0,te.Z)(function*(){if(navigator.serviceWorker)try{const i=yield navigator.serviceWorker.getRegistration();i?.active?.postMessage&&i.active.postMessage({})}catch{}setTimeout(o.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Vs||hM)&&this.installationMode===Sd.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return Vs&&pM?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Vs?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Vs&&pM?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Vs?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Sd.pwa:document.referrer.startsWith("android-app://")?Sd.twa:window.matchMedia("(display-mode: standalone)").matches?Sd.pwa:Sd.web}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Gi),ce(lo))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qG(t,n){1&t&&(ie(0,"div",5),lt(1,"ion-spinner"),ee())}let iu=(()=>{class t{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}static#e=this.\u0275fac=function(r){return new(r||t)(w(bs))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(r,o){1&r&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3),ee(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.modalController.dismiss()}),Be(6,"Close"),ee()()()(),ie(7,"ion-content",2),nn(8,qG,2,0,"div",3),ie(9,"markdown",4),at("load",function(){return o.loading=!1}),ee()()),2&r&&(Ye(3),Bs(o.title),Ye(5),nt("ngIf",o.loading),Ye(1),nt("src",o.url))},dependencies:[Si,Cb,os,is,ss,as,ip,cs,us],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]})}return t})();const su="1.9.0-a8ceff4 (preview)",TM=T.p+"assets/doc/CHANGELOG-1d64963b2c532d27.md";var Km=T(2466);const Qm=((t,n)=>{let e=null;return()=>{if(null!==e)return e;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return e=(t=>{const n=new Map([[0,()=>{}]]),e=new Map([[0,()=>{}]]),r=new Map,o=new Worker(t);return o.addEventListener("message",({data:f})=>{if((t=>void 0!==t.method&&"call"===t.method)(f)){const{params:{timerId:m,timerType:y}}=f;if("interval"===y){const S=n.get(m);if("number"==typeof S){const A=r.get(S);if(void 0===A||A.timerId!==m||A.timerType!==y)throw new Error("The timer is in an undefined state.")}else{if(!(typeof S<"u"))throw new Error("The timer is in an undefined state.");S()}}else if("timeout"===y){const S=e.get(m);if("number"==typeof S){const A=r.get(S);if(void 0===A||A.timerId!==m||A.timerType!==y)throw new Error("The timer is in an undefined state.")}else{if(!(typeof S<"u"))throw new Error("The timer is in an undefined state.");S(),e.delete(m)}}}else{if(!(t=>null===t.error&&"number"==typeof t.id)(f)){const{error:{message:m}}=f;throw new Error(m)}{const{id:m}=f,y=r.get(m);if(void 0===y)throw new Error("The timer is in an undefined state.");const{timerId:S,timerType:A}=y;r.delete(m),"interval"===A?n.delete(S):e.delete(S)}}}),{clearInterval:f=>{const m=(0,Km.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"interval"}),n.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const m=(0,Km.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"timeout"}),e.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,m)=>{const y=(0,Km.generateUniqueNumber)(n);return n.set(y,()=>{f(),"function"==typeof n.get(y)&&o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:y,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:y,timerType:"interval"}}),y},setTimeout:(f,m)=>{const y=(0,Km.generateUniqueNumber)(e);return e.set(y,f),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:y,timerType:"timeout"}}),y}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),e}})();var Id=function(t){return t[t.animationFrame=0]="animationFrame",t[t.timeout=1]="timeout",t}(Id||{});class AM{constructor(n){this.callback=n}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(n=>{this.handle=void 0,this.callback(n)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Id.animationFrame}}class e8{constructor(n,e=60){this.callback=n,this.fps=e}schedule(){if(void 0!==this.handle)return;const n=performance.now(),e=1e3*Math.ceil(n/1e3*this.fps)/this.fps;this.handle=((t,n)=>Qm().setTimeout(t,n))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(e-n,0))}cancel(){var t;void 0!==this.handle&&(t=this.handle,Qm().clearTimeout(t),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Id.timeout}}const t8=[135,135,105],n8=[0,0,0],Sc=new Array(16).fill(0).map((t,n)=>n8.map((e,r)=>Math.floor((n*e+(15-n)*t8[r])/15))).map(([t,n,e])=>4278190080|e<<16|n<<8|t),Rb=Sc.map(t=>"#"+(16777215&t).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var se=function(t){return t.palmPilot="PalmPilot",t.pilot="Pilot",t.iii="PalmIII",t.palmVx="PalmVx",t.palmV="PalmV",t.palmVII="PalmVII",t.palmVIIEZ="PalmVIIEZ",t.palmVIIx="PalmVIIx",t.iiic="PalmIIIc",t.iiix="PalmIIIx",t.iiixe="PalmIIIxe",t.iiie="PalmIIIe",t.m500="PalmM500",t.m505="PalmM505",t.m515="PalmM515",t.m520="PalmM520",t.m100="PalmM100",t.m105="PalmM105",t.m125="PalmM125",t.m130="PalmM130",t.i705="Palmi705",t.i710="PalmI710",t.handera330="HandEra330",t.handera330c="HandEra330c",t.pegS300="PEG-S300",t.pegS320="PEG-S320",t.pegS500c="PEG-S500C",t.pegT400="PEG-T400",t.pegN600c="PEG-N600C/N610C",t.pegT600c="PEG-T600",t.pegN700c="PEG-N700C/N710C",t.pegT650c="YSX1230",t.pegNR70="NR70",t.acerS11="Acer-S11",t.lp168="Legend-P168",t}(se||{}),xd=function(t){return t.sdcard="sdcard",t.memorystick="memorystick",t.none="none",t}(xd||{});function hp(t){switch(t){case se.i710:case se.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case se.handera330:case se.handera330c:case se.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case se.pegS300:case se.pegS320:case se.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case se.pegT600c:case se.pegT400:case se.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case se.pegN600c:case se.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case se.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case se.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function Ob(t){switch(t){case se.pilot:case se.palmPilot:case se.iii:case se.palmV:case se.palmVx:case se.iiix:case se.iiixe:case se.iiie:case se.m100:case se.m105:case se.m125:case se.m500:case se.palmVII:case se.palmVIIEZ:case se.palmVIIx:case se.i705:case se.handera330:case se.pegS300:case se.pegS320:case se.pegT400:case se.acerS11:return!1;default:return!0}}function PM(t){switch(t){case se.pilot:return"Pilot";case se.palmPilot:return"Palm Pilot";case se.iii:return"Palm III";case se.m500:return"Palm m500";case se.m505:return"Palm m505";case se.m515:return"Palm m515";case se.m520:return"Palm m520";case se.palmVx:return"Palm Vx";case se.iiix:return"Palm IIIx";case se.iiixe:return"Palm IIIxe";case se.iiie:return"Palm IIIe";case se.palmV:return"Palm V";case se.palmVII:return"Palm VII";case se.palmVIIEZ:return"Palm VII EZ";case se.palmVIIx:return"Palm VIIx";case se.iiic:return"Palm IIIc";case se.m100:return"Palm m100";case se.m105:return"Palm m105";case se.m125:return"Palm m125";case se.m130:return"Palm m130";case se.i705:return"Palm i705";case se.i710:return"Tungsten W";case se.handera330:return"Handera 330";case se.handera330c:return"Handera 330c";case se.pegS300:return"Sony PEG-S300";case se.pegS320:return"Sony PEG-S320";case se.pegT400:return"Sony PEG-T400 series";case se.pegN600c:return"Sony PEG-N600C series";case se.pegT600c:return"Sony PEG-T600C series";case se.pegN700c:return"Sony PEG-N700C series";case se.pegT650c:return"Sony PEG-T650C series";case se.pegNR70:return"Sony PEG-NR70 series";case se.pegS500c:return"Sony PEG-S500C series";case se.acerS11:return"Acer S1x series";case se.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function RM(t){switch(t){case se.m500:case se.m505:case se.m515:case se.m520:case se.m125:case se.m130:case se.i705:case se.i710:case se.handera330:case se.handera330c:return xd.sdcard;case se.pegS300:case se.pegS500c:case se.pegS320:case se.pegT400:case se.pegN600c:case se.pegT600c:case se.pegN700c:case se.pegT650c:case se.pegNR70:case se.acerS11:return xd.memorystick;default:return xd.none}}class OM{constructor(n,e){this.queue=new Array(n).fill(0),this.reset(e)}reset(n=0){this.next=1,this.size=1,this.queue[0]=n}push(n){return this.queue[this.next]=n,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let n=0;for(let e=0;e<this.size;e++)n+=this.queue[e];return n/this.size}}class i8{constructor(n){this.start=0,this.size=0,this.buffer=new Array(n)}push(n){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=n:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}pop(){if(0===this.size)return;const n=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,n}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(n){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class f8{constructor(){this.onPwmUpdate=n=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(n):this.pendingPwmUpdates.push(n)},this.advanceEmulation=n=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||n<this.clockEmulator)return;const e=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),n-this.clockEmulator>1e3/30&&(this.clockEmulator=n-1e3/30);const o=(n-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,c=performance.now()-i;if(this.clockEmulator+=Math.max(a,c),this.speedAverage.push(a/(c>0?c:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!e)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||m!==this.uiInitialized){const y=this.powerOff;this.powerOff=f,this.uiInitialized=m,y!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}m&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(n,s)},this.newFrameEvent=new Ho.j,this.pwmUpdateEvent=new Ho.j,this.emulationStateChangeEvent=new Ho.j,this.powerOffChangeEvent=new Ho.j,this.deviceId=se.m515,this.clockEmulator=0,this.scheduler=new AM(n=>this.onSchedule(n)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new i8(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new OM(20),this.timePerFrameAverage=new OM(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(n,e,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=hp(this.deviceId);n=this.transformSilkscreenX(n,i),e=this.transformSilkscreenY(e,i)}this.cloudpilotInstance.queuePenMove(Math.floor(n),Math.floor(e)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(n){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(n)}handleButtonUp(n){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(n)}handleKeyDown(n,e=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(n,e)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(n,e){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(n,e,r,o,i){let s=!1;return!!n.initializeSession(e,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=n.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&n.loadState(i),n.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),n.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=n,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=n.isPowerOff(),this.uiInitialized=n.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const n=hp(this.deviceId);this.canvas.width=this.canvasTmp.width=n.width,this.canvas.height=this.canvasTmp.height=n.height;const e=this.canvas.getContext("2d");if(!e)throw new Error("get a new browser");this.context=e;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const n=this.timePerFrameAverage.calculateAverage();return n&&1e3/n}transformSilkscreenX(n,e){return void 0===e.silkscreenOvershoot?n:(n-e.width/2)/(e.width/(e.width+2*e.silkscreenOvershoot))+e.width/2}transformSilkscreenY(n,e){return void 0===e.siklscreenShift?n:n+e.siklscreenShift}setRunning(n){n!==this.running&&(this.running=n,this.emulationStateChangeEvent.dispatch(n))}updateEmulationSpeed(n){if(n>=1&&this.emulationSpeed>=1)return;const e=Math.min(Math.max(Math.floor(10*n)/10,.1),1);this.emulationSpeed=e<=this.emulationSpeed||n-e>=.05?e:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(n){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&n-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=n),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(n)},0)),this.timePerFrameAverage.push(Math.max(0,n-this.timestampLastFrame)),this.timestampLastFrame=n),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Id.animationFrame?new AM(n=>this.onSchedule(n)):new e8(n=>this.onSchedule(n))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const n=this.getConfiguredHotsyncName();void 0===n?this.updateConfiguredHotsyncName(this.deviceHotsyncName):n!==this.deviceHotsyncName&&n.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(n),this.deviceHotsyncName=n)}clearCanvas(){const n=this.deviceId,e=hp(n);this.context.beginPath(),this.context.rect(0,0,e.width,e.height),this.context.fillStyle=Ob(n)?"white":Rb[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const n=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!n.hasChanges)return;if(n.lines*n.scaleY===this.canvas.height&&n.lineWidth*n.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const o=Sc[15],i=Sc[0];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=n.buffer[c+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Sc[15&o],Sc[o>>>4&15],Sc[o>>>8&15],Sc[o>>>12&15]];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=i[n.buffer[c+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=n.firstDirtyLine;i<=n.lastDirtyLine;i++){const s=i*n.bytesPerLine;for(let a=n.margin;a<n.lineWidth+n.margin;a++)r[o++]=Sc[n.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)r.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(o.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let i=0;for(let s=n.firstDirtyLine;s<=n.lastDirtyLine;s++){let a=s*(n.bytesPerLine>>>2)+n.margin;for(let c=0;c<n.lineWidth;c++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const e=1!==n.scaleX||1!==n.scaleY;(e?this.contextTmp:this.context).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),e&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class p8{constructor(n,e){this.timeoutRemaining=n,this.cb=e,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,n)}increase(n){this.timeoutRemaining+=n}cancel(){clearTimeout(this.handle)}}const g8=new Error("transaction timeout"),LM=new Error("session does not match emulation");let mp=(()=>{class t{constructor(e,r,o,i,s,a){var c=this;this.storageService=e,this.emulationState=r,this.errorService=o,this.storageCardContext=i,this.kvsService=s,this.ngZone=a,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,te.Z)(function*(){try{yield c.triggerSnapshotUnguarded()}finally{c.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Ho.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,r){var o=this;return(0,te.Z)(function*(){o.errorService.hasFatalError()||(o.sessionId=e.id,o.dirtyPages=void 0,o.pages=void 0,o.state=void 0,o.db=yield o.storageService.getDb(),o.cloudpilot=r,o.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,te.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(r){if(console.error("snapshot error",r),r===LM)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),r;if(r===Pb)throw e.errorService.fatalPageLockLost(),r;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),r}})()}triggerSnapshotOnce(){var e=this;return(0,te.Z)(function*(){const r=e.db.transaction([Cc,wc,Bl,Ka,Us,pp],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(r),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw LM;let o;const i=e.cloudpilot.getMountedKey();i&&(o=yield hr(r.objectStore(Us).index("storageId").get(i)));const s=yield new Promise((a,c)=>{let f=!1;const m=performance.now();let y=0,S=0,A=0;const oe=new p8(500,()=>{f=!0;try{r.abort()}catch{}c(g8)});r.oncomplete=(0,te.Z)(function*(){oe.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),a({timestamp:Date.now(),pages:A,timeBlocking:S-y,timeTotal:performance.now()-m})}),r.onerror=()=>{oe.cancel(),c(new Error(r.error?.message))};try{y=performance.now(),A=e.saveDirtyMemory(r,oe),o&&(A+=e.saveDirtyStorage(o,r,oe)),e.saveSession(r),S=performance.now()}catch(he){throw f||(oe.cancel(),r.abort()),he}});e.snapshotEvent.dispatch(s)})()}saveDirtyMemory(e,r){let o=0;const i=e.objectStore(Cc),s=e.objectStore(wc),a=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let f=0;if(!this.dirtyPages||!this.pages){const y=c.length>>>8;this.dirtyPages=new Uint8Array(a.length),this.pages=new Array(y);for(let S=0;S<y;S++)this.pages[S]=new Uint32Array(256)}const m={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&(m.crc32=wM(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),s.put(m);for(let y=0;y<a.length;y++)if(this.dirtyPages[y]|=a[y],a[y]=0,0!==this.dirtyPages[y])for(let S=1;S<256&&!(o>=this.pages.length);S<<=1){if(this.dirtyPages[y]&S){const A=vM(c.subarray(256*o,256*(o+1)));"number"==typeof A?i.put(A,[this.sessionId,o]):(this.pages[o].set(A),i.put(this.pages[o],[this.sessionId,o])),r.increase(.5),f++}o++}else o+=8;return f}saveDirtyStorage(e,r,o){const i=this.cloudpilot.getCardDirtyPages(e.storageId),s=this.cloudpilot.getCardData(e.storageId);if(!s)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,jr.cloudpilot),!i)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(s.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(i.length)),this.cardDirtyPages.length!==i.length)throw new Error("card size has changed without notification");let a=0,c=0,f=0;const m=r.objectStore(Ka),y=(s.length>>11)+(s.length%2048>0?1:0);for(let S=0;S<i.length;S++)if(this.cardDirtyPages[S]|=i[S],i[S]=0,0!==this.cardDirtyPages[S])for(let A=1;A<256&&!(a>=y);A<<=1){if(this.cardDirtyPages[S]&A){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const oe=this.cardPagePool[c++];oe.set(s.subarray(2048*a,2048*(a+1))),m.put(oe,[e.id,a]),o.increase(4),f++}a++}else a+=8;return 8*f}saveSession(e){const r=e.objectStore(Bl);if(this.cloudpilot.saveState()){const o=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(o.length)),this.state.set(o),r.put(this.state,this.sessionId)}else console.log("save state failed"),r.delete(this.sessionId)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(er),ce($l),ce(ou),ce(fp),ce(Gi),ce(dt))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _8(t,n){1&t&&(ie(0,"p",10),Be(1," ERROR: URL must be served via HTTPS. "),ee())}function v8(t){if(!t.value)return{url:"URL empty"};let n;try{n=new(od())(t.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==n.protocol?{url:"mixed content"}:null}let y8=(()=>{class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(od())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const r=new(od())(e);return"https:"===location.protocol&&"https:"!==r.protocol}catch{}return!1}createFormGroup(){this.formGroup=new dm({url:new ni("",v8)})}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=v({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(r,o){1&r&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3,"Enter download URL"),ee(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.continue()}),Be(6,"OK"),ee()(),ie(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancel()}),Be(9,"Cancel"),ee()()()(),ie(10,"ion-content",4)(11,"form",5),at("keydown",function(s){return o.formKeyDown(s)}),ie(12,"p"),Be(13," Please enter the URL from which to download: "),ee(),ie(14,"ion-item",6)(15,"ion-label",7),Be(16,"URL"),ee(),lt(17,"ion-input",8),ee(),nn(18,_8,2,0,"p",9),ie(19,"p"),Be(20," Note that the remote server needs to support the CORS protocol. "),ee()()()),2&r&&(Ye(5),nt("disabled",o.formGroup.invalid),Ye(6),nt("formGroup",o.formGroup),Ye(7),nt("ngIf",o.isMixedContent))},dependencies:[Si,os,is,ss,as,Ll,gi,ls,cs,us,Nl,Pl,Tl,Al,Ca,za],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]})}return t})();function Jm(t){const n=new Date;return`${t}_${n.getFullYear()}${(n.getMonth()+1).toString().padStart(2,"0")}${n.getDate().toString().padStart(2,"0")}-${n.getHours().toString().padStart(2,"0")}${n.getMinutes().toString().padStart(2,"0")}${n.getSeconds().toString().padStart(2,"0")}`}function $M(t){return`${Jm(t.name)}.bin`}function BM(t,n){return`backup_${Jm(t.name)}${n?"_with_rom":""}.zip`}function Fb(t,n=3){return 0===t.length?"":1===t.length?t[0]:`${t.slice(0,t.length>n?n:t.length-1).join(", ")} and ${t.length>n?t.length-n+" more files":t[t.length-1]}`}function jM(t){const{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=t;return{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}let C8=(()=>{class t{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new dm({username:new ni(e?.username??""),password:new ni(e?.password??"")})}static#e=this.\u0275fac=function(r){return new(r||t)(w(Gi))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(r,o){1&r&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3,"Authenticate"),ee(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.saveAndContinue()}),Be(6,"OK"),ee()(),ie(7,"ion-buttons",2)(8,"ion-button",1),at("click",function(){return o.onCancel()}),Be(9,"Cancel"),ee()()()(),ie(10,"ion-content",3)(11,"form",4),at("keydown",function(s){return o.formKeyDown(s)}),ie(12,"p"),Be(13," The server requires authentication. "),ee(),ie(14,"ion-item",5)(15,"ion-label",6),Be(16,"Username"),ee(),lt(17,"ion-input",7),ee(),ie(18,"ion-item",5)(19,"ion-label",6),Be(20,"Password"),ee(),lt(21,"ion-input",8),ee()()()),2&r&&(Ye(11),nt("formGroup",o.formGroup))},dependencies:[os,is,ss,as,Ll,gi,ls,cs,us,Nl,Pl,Tl,Al,Ca,za],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]})}return t})(),VM=(()=>{class t{constructor(e,r,o){this.loadingController=e,this.kvsService=r,this.modalController=o}fetch(e,r){var o=this;return(0,te.Z)(function*(){let i=r?.loaderDelay;const s=void 0===r?.timeout?5e3:r?.timeout,a=new(od())("string"==typeof e?e:e.url);let c,f,m=!1;for(;;)try{c||(c=yield o.loadingController.create({message:"Loading..."})),void 0!==i&&i>0&&void 0===f?f=window.setTimeout(()=>c?.present(),i):c.present();const y=o.kvsService.kvs.credentials[a.origin],S=new AbortController,A=window.setTimeout(()=>S.abort(),s),oe=yield fetch(e,{...o.requestInit(r),signal:S.signal,headers:{...r?.headers||{},...m&&y?{Authorization:"Basic "+btoa(`${y.username}:${y.password}`)}:{}}});if(clearTimeout(A),401===oe.status){if(!m&&y){m=!0;continue}if(c?.dismiss(),clearTimeout(f),i=0,c=void 0,i=void 0,m=!0,yield o.authenticate(a.origin))continue}return oe}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(e){if(!e)return;const{timeout:r,loaderDelay:o,...i}=e;return i}authenticate(e){var r=this;return(0,te.Z)(function*(){const o=yield new Promise(i=>r.modalController.create({component:C8,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>i(!0),onCancel:()=>i(!1)}}).then(s=>s.present()));return r.modalController.dismiss(),o})()}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Ya),ce(Gi),ce(bs))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var S8=T(6972),E8=T.n(S8);function Nb(t){const n=(t>>>13)+(t%8192>0?1:0);return(n>>>3)+(n%8>0?1:0)}const UM=[se.palmPilot,se.pilot,se.iii,se.palmVx,se.palmV,se.palmVII,se.palmVIIEZ,se.palmVIIx,se.iiixe,se.iiix,se.iiie,se.m500,se.m505,se.m515,se.m520,se.iiic,se.m100,se.m105,se.m125,se.m130,se.i705,se.i710,se.handera330,se.handera330c,se.pegS300,se.pegS320,se.pegS500c,se.pegT400,se.pegN600c,se.pegT600c,se.pegN700c,se.pegT650c,se.pegNR70,se.acerS11,se.lp168];function on(){return(t,n,e)=>{const r=e.value;return e.value=function(o,i){return this.guard(()=>r.call(this,o,i))},e}}class Xt{constructor(n){this.module=n,this.fatalErrorEvent=new Ho.j,this.pwmUpdateEvent=new Ho.j,this.proxyDisconnectEvent=new Ho.j,this.amIdead=!1,this.cloudpilot=new n.Cloudpilot,this.cloudpilot.RegisterPwmHandler(n.addFunction((e,r)=>this.pwmUpdateEvent.dispatch({frequency:e,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(n.addFunction(e=>this.proxyDisconnectEvent.dispatch(n.UTF8ToString(e)),"vi"))}static create(n){return(0,te.Z)(function*(){return new Xt(yield E8()({print:e=>console.log(e),printErr:e=>console.error(e),..."string"==typeof n?{locateFile:()=>n}:{},..."function"==typeof n?{instantiateWasm:n}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(n){const e=this.copyIn(n),r=new this.module.RomInfo(e,n.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:UM.filter(r.Supports.bind(r))}),this.cloudpilot.Free(e),this.module.destroy(r),o}initializeSession(n,e){const r=this.copyIn(n),o=this.cloudpilot.InitializeSession(r,n.length,e);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(n){return this.cloudpilot.RunEmulation(n)}getFrame(){const n=this.cloudpilot.CopyFrame(),e=this.module.getPointer(n.GetBuffer());return{bpp:n.GetBpp(),bytesPerLine:n.GetBytesPerLine(),lines:n.GetLines(),lineWidth:n.GetLineWidth(),margin:n.GetMargin(),firstDirtyLine:n.GetFirstDirtyLine(),lastDirtyLine:n.GetLastDirtyLine(),hasChanges:n.GetHasChanges(),scaleX:n.GetScaleX(),scaleY:n.GetScaleY(),buffer:this.module.HEAPU8.subarray(e,e+n.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(n){return 1024*this.cloudpilot.MinMemoryForDevice(n)}framebufferSizeForDevice(n){return 1024*this.cloudpilot.FramebufferSizeForDevice(n)}totalMemorySizeForDevice(n){return 1024*this.cloudpilot.TotalMemoryForDevice(n)}queuePenMove(n,e){this.cloudpilot.QueuePenMove(n,e)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(n){this.cloudpilot.QueueButtonDown(n)}queueButtonUp(n){this.cloudpilot.QueueButtonUp(n)}queueKeyboardEvent(n,e){this.cloudpilot.QueueKeyboardEvent(n,e)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(n){const e=this.copyIn(n),r=this.cloudpilot.InstallDb(e,n.length);return this.cloudpilot.Free(e),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetMemorySize())}getMemory32(){let n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&n)throw new Error("unaligned pointer");return n>>>=2,this.module.HEAPU32.subarray(n,n+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const n=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),e=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(n,n+((e>>>13)+(e%8192==0?0:1)))}loadMemory(n){const e=this.getMemory32();if((()=>{if(n.length!==e.length||n.length<256)return!1;for(let o=256;o>0;o--){if(n[n.length-o]!==e[e.length-o])return!1;if(4294967295===e[e.length-o])break}return!0})())return e.set(n),!0;{const o=this.copyIn32(n),i=this.cloudpilot.ImportMemoryImage(o,n.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const n=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetRomSize())}getSavestate(){const n=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(n){const e=this.copyIn(n),r=this.cloudpilot.LoadState(e,n.length);return this.cloudpilot.Free(e),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(n){this.cloudpilot.SetClockFactor(n)}setHotsyncName(n){this.cloudpilot.SetHotsyncName(n)}backup(n){var e=this;return(0,te.Z)(function*(){const r=e.guard(()=>e.cloudpilot.StartBackup());try{return yield n(e.wrap(r))}finally{e.module.destroy(r)}})()}getArchive(n){const e=n.GetArchiveSize();return this.copyOut(n.GetArchivePtr(),e)}setClipboardIntegration(n){this.cloudpilot.SetClipboardIntegration(n)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(n){this.cloudpilot.SetNetworkRedirection(n)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(n){return this.copyIn(n)}freeBuffer(n){this.cloudpilot.Free(n)}setHotsyncNameManagement(n){this.cloudpilot.SetHotsyncNameManagement(n)}resolveBuffer(n,e){const r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+e)}withZipfileWalker(n,e){var r=this;return(0,te.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(n),s=new r.module.ZipfileWalker(n.length,i);return r.cloudpilot.Free(i),s});try{return yield e(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(n,e){const r=this.guard(()=>{const o=this.copyIn(n),i=new this.module.ZipfileWalker(n.length,o);return this.cloudpilot.Free(o),i});try{return e(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(n){const e=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(n.rom),i=n.memory?this.copyIn(n.memory):r,s=void 0!==n.savestate?this.copyIn(n.savestate):r;let a=r,c=0;if(void 0!==n.metadata){const m=(new TextEncoder).encode(JSON.stringify(n.metadata));c=m.length,a=this.copyIn(m)}e.SetRomImage(o,n.rom.length),e.SetMemoryImage(i,n.memory?.length||0),e.SetDeviceId(n.deviceId),e.SetSavestate(s,n.savestate?.length||0),e.SetMetadata(a,c);const f=e.Serialize()?this.copyOut(e.GetSerializedImage(),e.GetSerializedImageSize()):void 0;return this.module.destroy(e),[o,i,s,a].forEach(m=>this.cloudpilot.Free(m)),f}deserializeSessionImage(n){const e=new this.module.SessionImage,r=this.copyIn(n),o=(()=>{if(!e.Deserialize(r,n.length))return;const i=this.copyOut(e.GetRomImage(),e.GetRomImageSize()),s=this.copyOut(e.GetMemoryImage(),e.GetMemoryImageSize()),a=this.copyOut(e.GetSavestate(),e.GetSavestateSize()),c=e.GetDeviceId();if(!UM.includes(c))return void console.warn(`unsupported device ${c}`);let f;const m=this.copyOut(e.GetMetadata(),e.GetMetadataSize());if(m)try{f=JSON.parse((new TextDecoder).decode(m))}catch(y){console.warn("invalid metadata",y)}return{deviceId:c,rom:i,memory:s,savestate:a,metadata:f,version:e.GetVersion()}})();return this.module.destroy(e),this.cloudpilot.Free(r),o}launchAppByName(n){return this.cloudpilot.LaunchAppByName(n)}launchAppByDbHeader(n){if(n.length<32)return!1;const e=this.copyIn(n.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(e,32);return this.cloudpilot.Free(e),r}deviceSupportsCardSize(n){return this.cloudpilot.DeviceSupportsCardSize(n)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(n,e){return this.cloudpilot.AllocateCard(n,e>>>9)}decompressCard(n,e){const r=this.copyIn(e);let o;try{for(o=new this.module.GunzipContext(r,e.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(n,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(r),o&&this.module.destroy(o)}}getCardData(n){const e=this.module.getPointer(this.cloudpilot.GetCardData(n));if(0!==e)return this.module.HEAPU32.subarray(e>>>2,e+this.cloudpilot.GetCardSize(n)>>2)}getCardDirtyPages(n){const e=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(n));if(0===e)return;const r=Nb(this.cloudpilot.GetCardSize(n));return this.module.HEAPU8.subarray(e,e+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(n){return this.cloudpilot.MountCard(n)}removeCard(n){return this.cloudpilot.RemoveCard(n)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(n){return this.cloudpilot.GetSupportLevel(n)}loadSkin(n){const e=new this.module.SkinLoader(n);try{const r=this.module.getPointer(e.GetData());return 0===r?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(r,r+e.GetSize()))}finally{this.module.destroy(e)}}guard(n){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return n()}catch(e){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(e instanceof Error?e:new Error("unknown error")),e}}copyIn(n){const e=this.cloudpilot.Malloc(n.length),r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+n.length).set(n),e}copyIn32(n){const e=this.cloudpilot.Malloc(n.length<<2),r=this.module.getPointer(e);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+n.length).set(n),e}copyOut(n,e){const r=this.module.getPointer(n);return r>0&&e>0?this.module.HEAPU8.subarray(r,r+e).slice():void 0}wrap(n){return new Proxy(n,{get:(e,r)=>{const o=e[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(e,i))}})}}W([on()],Xt.prototype,"getRomInfo",null),W([on()],Xt.prototype,"initializeSession",null),W([on()],Xt.prototype,"cyclesPerSecond",null),W([on()],Xt.prototype,"runEmulation",null),W([on()],Xt.prototype,"getFrame",null),W([on()],Xt.prototype,"isScreenDirty",null),W([on()],Xt.prototype,"markScreenClean",null),W([on()],Xt.prototype,"minRamForDevice",null),W([on()],Xt.prototype,"framebufferSizeForDevice",null),W([on()],Xt.prototype,"totalMemorySizeForDevice",null),W([on()],Xt.prototype,"queuePenMove",null),W([on()],Xt.prototype,"queuePenUp",null),W([on()],Xt.prototype,"queueButtonDown",null),W([on()],Xt.prototype,"queueButtonUp",null),W([on()],Xt.prototype,"queueKeyboardEvent",null),W([on()],Xt.prototype,"isPowerOff",null),W([on()],Xt.prototype,"isUiInitialized",null),W([on()],Xt.prototype,"isSetupComplete",null),W([on()],Xt.prototype,"getOSVersion",null),W([on()],Xt.prototype,"reset",null),W([on()],Xt.prototype,"resetNoExtensions",null),W([on()],Xt.prototype,"resetHard",null),W([on()],Xt.prototype,"installDb",null),W([on()],Xt.prototype,"getPalette2bitMapping",null),W([on()],Xt.prototype,"getMemory",null),W([on()],Xt.prototype,"getMemory32",null),W([on()],Xt.prototype,"getDirtyPages",null),W([on()],Xt.prototype,"loadMemory",null),W([on()],Xt.prototype,"getRomImage",null),W([on()],Xt.prototype,"getSavestate",null),W([on()],Xt.prototype,"saveState",null),W([on()],Xt.prototype,"loadState",null),W([on()],Xt.prototype,"getHotsyncName",null),W([on()],Xt.prototype,"setClockFactor",null),W([on()],Xt.prototype,"setHotsyncName",null),W([on()],Xt.prototype,"setClipboardIntegration",null),W([on()],Xt.prototype,"getClipboardIntegration",null),W([on()],Xt.prototype,"isSuspended",null),W([on()],Xt.prototype,"getSuspendKind",null),W([on()],Xt.prototype,"cancelSuspend",null),W([on()],Xt.prototype,"getSuspendContextClipboardCopy",null),W([on()],Xt.prototype,"getSuspendContextClipboardPaste",null),W([on()],Xt.prototype,"setNetworkRedirection",null),W([on()],Xt.prototype,"getNetworkRedirection",null),W([on()],Xt.prototype,"getSuspendContextNetworkConnect",null),W([on()],Xt.prototype,"getSuspendContextNetworkRpc",null),W([on()],Xt.prototype,"copyBuffer",null),W([on()],Xt.prototype,"freeBuffer",null),W([on()],Xt.prototype,"setHotsyncNameManagement",null),W([on()],Xt.prototype,"resolveBuffer",null),W([on()],Xt.prototype,"serializeSessionImage",null),W([on()],Xt.prototype,"deserializeSessionImage",null),W([on()],Xt.prototype,"launchAppByName",null),W([on()],Xt.prototype,"launchAppByDbHeader",null),W([on()],Xt.prototype,"deviceSupportsCardSize",null),W([on()],Xt.prototype,"clearExternalStorage",null),W([on()],Xt.prototype,"allocateCard",null),W([on()],Xt.prototype,"decompressCard",null),W([on()],Xt.prototype,"getCardData",null),W([on()],Xt.prototype,"getCardDirtyPages",null),W([on()],Xt.prototype,"getMountedKey",null),W([on()],Xt.prototype,"mountCard",null),W([on()],Xt.prototype,"removeCard",null),W([on()],Xt.prototype,"remountCards",null),W([on()],Xt.prototype,"getCardSupportLevel",null),W([on()],Xt.prototype,"loadSkin",null);const D8=T.p+"wasm/cloudpilot_web-a5e13221e30a90a3.wasm";let Ea=(()=>{class t{constructor(){this.cloudpilot=Xt.create(D8)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ec=(()=>{class t{constructor(e,r,o,i,s,a,c,f){this.storageService=e,this.loadingController=r,this.actionSheetController=o,this.kvsService=i,this.modalController=s,this.alertService=a,this.fetchService=c,this.cloudpilotService=f}openFile(e){this.openFilesImpl(!1,r=>{r.length>0&&e(r[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,r){"drop"!==e.type||!e.dataTransfer?.files||r(Array.from(e.dataTransfer.files).map(this.readFile.bind(this)))}saveSession(e){var r=this;return(0,te.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});yield o.present();try{const[i,s,a]=yield r.storageService.loadSession(e,!1);if(!i)throw new Error(`invalid ROM ${e.rom}`);const c={deviceId:e.device,metadata:jM(e),rom:i,memory:s,savestate:a},f=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(c);f?r.saveFile($M(e),f):(yield o.dismiss(),r.alertService.errorMessage("Failed to save session."))}finally{o.dismiss()}})()}emergencySaveSession(e,r){var o=this;return(0,te.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});i.style.zIndex="10000000",yield i.present();try{const s=r.getRomImage().slice(),a=r.getMemory().slice(),c=r.saveState()?r.getSavestate().slice():void 0;if(r.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const m={deviceId:e.device,metadata:jM(e),rom:s,memory:a,savestate:c},y=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(m);y&&o.saveFile($M(e),y)}finally{i.dismiss()}})()}saveFile(e,r){const o=new Blob([r],{type:"application/octet-stream"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=e,s.click()}openUrl(e,r){var o=this;return(0,te.Z)(function*(){let i;try{i=new(od())(e)}catch{return void(yield o.alertService.errorMessage(`Invalid URL: ${e}`))}try{const s=yield o.fetchService.fetch(e);if(!s.ok)throw new Error("request failed");const a=yield o.loadingController.create({message:"Loading..."});a.present();const c=s.arrayBuffer().then(f=>new Uint8Array(f));return c.finally(()=>a.dismiss()),void r({name:i.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield o.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,r){var o=this;return(0,te.Z)(function*(){o.kvsService.kvs.enableRemoteInstall?(yield o.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>o.openFilesLocal(e,r)},{text:"File on remote server",handler:()=>o.queryAndOpenFileRemote(r)},{text:"Cancel"}]})).present():o.openFilesLocal(e,r)})()}queryAndOpenFileRemote(e){var r=this;return(0,te.Z)(function*(){let o;try{o=yield new Promise((i,s)=>r.modalController.create({component:y8,backdropDismiss:!1,componentProps:{onContinue:i,onCancel:s}}).then(a=>a.present()))}catch{return}finally{r.modalController.dismiss()}yield r.openUrl(o,i=>e([i]))})()}openFilesLocal(e,r){var o=this;const i=document.createElement("input");i.multiple=e,i.type="file",i.addEventListener("change",function(){var s=(0,te.Z)(function*(a){const c=a.target;c?.files&&r(Array.from(c.files).map(o.readFile.bind(o)))});return function(a){return s.apply(this,arguments)}}()),i.click()}readFile(e){let r;const o=function(){var i=(0,te.Z)(function*(){return r||(r=new Promise((s,a)=>{const c=new FileReader;c.onload=()=>s(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),a(c.error)},c.readAsArrayBuffer(e)}),r)});return function(){return i.apply(this,arguments)}}();return{name:e.name,getContent:o}}static#e=this.\u0275fac=function(r){return new(r||t)(ce(er),ce(Ya),ce(up),ce(Gi),ce(bs),ce(lo),ce(VM),ce(Ea))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lb=(()=>{class t{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new Ho.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}static#e=this.\u0275fac=function(r){return new(r||t)(ce(dt))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const eg=new Error("permission denied");let HM=(()=>{class t{constructor(e,r){this.alertController=e,this.alertService=r,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var r=this;return(0,te.Z)(function*(){const o=e.getSuspendContextClipboardCopy(),i=o.GetClipboardContent();try{return yield r.tryCopyDirect(i),void o.Resume()}catch(s){if(s===eg)return o.Cancel(),r.msgPermissionDenied()}try{yield r.tryCopyWithInteraction(i),o.Resume()}catch{yield r.msgCopyFailed(),o.Cancel()}})()}tryCopyDirect(e){var r=this;return(0,te.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(o){throw(yield r.isPermissionDenied("clipboard-write"))?eg:o}})()}tryCopyWithInteraction(e){var r=this;return new Promise(function(){var o=(0,te.Z)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(c=(0,te.Z)(function*(){a.dismiss();try{yield navigator.clipboard.writeText(e),i(!0)}catch(f){s(f)}}),function(){return c.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(!1)}}]});a.present()}catch(a){s(a)}var c});return function(i,s){return o.apply(this,arguments)}}())}handlePaste(e){var r=this;return(0,te.Z)(function*(){const o=yield r.tryPaste();e.getSuspendContextClipboardPaste().Resume(o??""),void 0!==o&&(r.clipboardContent=o,r.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,te.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(r){if(r===eg)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,te.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(r){throw(yield e.isPermissionDenied("clipboard-read"))?eg:r}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var r=(0,te.Z)(function*(o,i){try{const s=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(a=(0,te.Z)(function*(){s.dismiss();try{o(yield navigator.clipboard.readText())}catch(c){i(c)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(void 0)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePasteSafari(e){var r=this;return(0,te.Z)(function*(){const o=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(i=(0,te.Z)(function*(){try{r.clipboardContent=yield navigator.clipboard.readText(),r.lastClipboardReadAt=performance.now(),o.dismiss(),e.Resume(r.clipboardContent)}catch{o.dismiss(),yield r.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return i.apply(this,arguments)})},{text:"Cancel",handler:()=>{o.dismiss(),e.Resume("")}}]});var i;yield o.present()})()}isPermissionDenied(e){return(0,te.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}static#e=this.\u0275fac=function(r){return new(r||t)(ce(tu),ce(lo))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const x8="https:"===window.location.protocol?8667:8666,k8=/^[\da-z\-\.]+$/i,M8=/^[\da-z\-\.]+:\d+$/i;function $b(t){if(!t)return;const n=window.location.protocol;if(t.match(k8))return`${n}//${t}:${x8}`;if(t.match(M8))return`${n}//${t}`;try{const e=new URL(t);if("https:"===e.protocol||"http:"===e.protocol)return e.toString().replace(/\/+$/,"")}catch{}}function T8(t){return void 0!==$b(t.value)?null:{proxyAddress:"invalid"}}let Bb=(()=>{class t{constructor(e,r,o,i){var s=this;this.kvsService=e,this.alertService=r,this.ngZone=o,this.fetchService=i,this.handleConnect=()=>this.mutex.runExclusive((0,te.Z)(function*(){s.socket&&s.disconnect(s.socket);const a=$b(s.kvsService.kvs.proxyServer);if(!a)return yield s.alertService.errorMessage(`Invalid proxy address: ${s.kvsService.kvs.proxyServer}`),void s.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield s.handshake(void 0,500);switch(c.status){case"failed":return void s.onSocketError(void 0);case"version_mismatch":return yield s.alertService.proxyVersionMismatchError(),void s.cancelSuspend();case"success":break;default:throw new Error("unreachable")}s.socket=new WebSocket(`${a.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),s.socket.binaryType="arraybuffer",s.bindListeners(s.socket),s.ngZone.run(()=>s.connectTimeoutHandle=setTimeout(s.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=Ab(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=a=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(a.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(a.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,a.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=a=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",a)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=a=>{a!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Ho.j,this.mutex=new Xa,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,r=-1){var o=this;return(0,te.Z)(function*(){const i=$b(e);if(!i)return{status:"failed"};try{const s=yield o.fetchService.fetch(`${i}/network-proxy/handshake`,{method:"POST",loaderDelay:r});if(!s.ok)return{status:"failed"};const a=yield s.json();return a.version<3||a.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:a.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Gi),ce(lo),ce(dt),ce(VM))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zM=(()=>{class t{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(r=>e.queueButtonUp(r))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[r,o]of this.buttons)o.timer+=1e3*e,o.timer>250&&(this.cloudpilot.queueButtonUp(r),this.buttons.delete(r))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WM=(()=>{class t{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var O8=T(6368),tg=T.n(O8);class jb{constructor(n){this.module=n,this.nativeContext=new n.MkfsContext}static create(n){return(0,te.Z)(function*(){return new jb(yield tg()({print:e=>console.log(e),printErr:e=>console.error(e),instantiateWasm:n}))})()}mkfs(n){return this.nativeContext.Mkfs(n,"card")}getImage(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());if(0!==n&&0!==e)return this.module.HEAPU32.subarray(e>>>2,e+n>>>2)}}class Vb{constructor(n,e){this.module=n,this.result=0,this.nativeContext=new n.FsckContext(e>>>9)}static create(n,e){return(0,te.Z)(function*(){const r=yield tg()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:e});return new Vb(r,n)})()}getImageData(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(e>>>2,e+n>>2)}getDirtyPages(){const n=this.module.getPointer(this.nativeContext.GetDirtyPages()),e=Nb(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(n,n+e)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(n){return console.warn("fsck failed",n),this.result=4,this.result}}getResult(){return this.result}}class Ub{constructor(n,e){this.module=n;const r=new n.FSTools,o=r.Malloc(e.length),i=n.getPointer(o);n.HEAPU8.subarray(i,i+e.length).set(e),n.destroy(r),this.nativeContext=new n.GunzipContext(o,e.length,524288)}static create(n,e){return(0,te.Z)(function*(){const r=yield tg()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:e});return new Ub(r,n)})()}gunzip(){var n=this;return(0,te.Z)(function*(){for(;0===n.nativeContext.Continue();)yield new Promise(e=>setTimeout(e,0));return-1!==n.nativeContext.GetState()||(console.error(`gunzip failed: ${n.nativeContext.GetError()}`),!1)})()}getDecompressedData(){const n=this.nativeContext.GetUncompressedSize(),e=this.nativeContext.GetUncompressedData(),r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+n)}}class Hb{constructor(n,e){this.module=n,this.uncompressedDataSize=e;const r=new n.FSTools,o=r.Malloc(e);this.uncompressedDataPtr=n.getPointer(o),n.destroy(r),this.nativeContext=new n.GzipContext(o,e,524288)}static create(n,e){return(0,te.Z)(function*(){const r=yield tg()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:e});return new Hb(r,n)})()}getBuffer(){return this.module.HEAPU8.subarray(this.uncompressedDataPtr,this.uncompressedDataPtr+this.uncompressedDataSize)}setFilename(n){return this.nativeContext.SetFilename(n),this}setMtime(n){return this.nativeContext.SetMtime(n),this}gzip(){var n=this;return(0,te.Z)(function*(){for(n.nativeContext.Continue();1===n.nativeContext.Continue();)yield new Promise(e=>setTimeout(e,0));return-1!==n.nativeContext.GetState()||(console.error(`gzip failed: ${n.nativeContext.GetError()}`),!1)})()}getGzipData(){const n=this.nativeContext.GetGzipSize(),e=this.nativeContext.GetGzipData(),r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+n)}}const ZM=new Map;class B8{constructor(n="fstools_web.wasm"){let e=ZM.get(n);e||(e=function F8(t){const n=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(t)):fetch(t).then(e=>e.arrayBuffer()).then(e=>WebAssembly.compile(e));return function(){var e=(0,te.Z)(function*(r,o){return o(yield WebAssembly.instantiate(yield n,r))});return function(r,o){return e.apply(this,arguments)}}()}(n),ZM.set(n,e)),this.instantiante=e}mkfs(n){var e=this;return(0,te.Z)(function*(){const r=yield jb.create(e.instantiante);if(r.mkfs(n))return r.getImage()})()}gunzip(n){var e=this;return(0,te.Z)(function*(){const r=yield Ub.create(n,e.instantiante);if(yield r.gunzip())return r.getDecompressedData()})()}createGzipContext(n){return Hb.create(n,this.instantiante)}createFsckContext(n){return Vb.create(n,this.instantiante)}}var Vr=function(t){return t.dirty="dirty",t.clean="clean",t.unformatted="unformatted",t.unfixable="unfixable",t}(Vr||{}),Gr=function(t){return t.portrait="portrait",t.landscape90="landscape90",t.landscape270="landscape270",t.portrait180="portrait180",t}(Gr||{});let gp=(()=>{class t{constructor(e,r,o){this.cloudpilotService=e,this.storageService=r,this.loadingController=o,this.sessions=[],this.loading=!0,this.updateMutex=new Xa,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,r,o={}){var i=this;return(0,te.Z)(function*(){const s={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Gr.portrait,...o,id:-1,name:r,device:e.deviceId,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const c=yield i.storageService.addSession(s,e.rom,e.memory,e.savestate);return yield i.updateSessionsFromStorage(),yield a.dismiss(),c})()}addSessionFromRom(e,r,o,i={}){var s=this;return(0,te.Z)(function*(){const a={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Gr.portrait,...i,id:-1,name:r,device:o,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(o)/1024/1024,rom:""},c=yield s.loadingController.create({message:"Importing..."});yield c.present();const f=yield s.storageService.addSession(a,e);return yield s.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(e){var r=this;return(0,te.Z)(function*(){yield r.storageService.deleteSession(e)})()}updateSession(e){var r=this;return(0,te.Z)(function*(){yield r.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,te.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,te.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Ea),ce(er),ce(Ya))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var j8=T(9793),V8=T.n(j8),Qa=function(t){return t[t.success=0]="success",t[t.zipfileError=1]="zipfileError",t[t.ioError=2]="ioError",t[t.cardFull=3]="cardFull",t}(Qa||{}),au=function(t){return t[t.success=0]="success",t[t.ioError=1]="ioError",t[t.cardFull=2]="cardFull",t}(au||{});function U8(t){return{readonly:0!=(1&t),hidden:0!=(2&t),system:0!=(4&t)}}function qM(t,n){const e=t.GetName(),r=t.GetModifiedTS();return{path:n,name:e,size:t.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:t.IsDirectory(),attributes:U8(t.GetAttributes())}}class Gb{constructor(n){this.module=n,this.vfsNative=new n.Vfs}static create(n){return(0,te.Z)(function*(){return new Gb(yield V8()({print:e=>console.log(e),printErr:e=>console.error(e),...void 0===n?{}:{locateFile:()=>n}}))})()}allocateImage(n){this.vfsNative.AllocateImage(n>>>9)}mountImage(n){return this.vfsNative.MountImage(n)}unmountImage(n){this.vfsNative.UnmountImage(n)}getPendingImage(){const n=this.module.getPointer(this.vfsNative.GetPendingImage()),e=this.vfsNative.GetPendingImageSize();if(0!==n&&0!==e)return this.module.HEAPU32.subarray(n>>>2,n+e>>>2)}getImageInSlot(n){const e=this.module.getPointer(this.vfsNative.GetImage(n)),r=this.vfsNative.GetSize(n);if(0!==e&&0!==r)return this.module.HEAPU32.subarray(e>>>2,e+r>>>2)}getDirtyPagesForSlot(n){const e=this.module.getPointer(this.vfsNative.GetDirtyPages(n));if(0===e)return;const r=Nb(this.vfsNative.GetSize(n));return this.module.HEAPU8.subarray(e,e+r)}readdir(n){const e=new this.module.ReaddirContext(n);try{const r=[];for(;0===e.GetStatus();){const o=e.GetEntry();r.push(qM(o,`${n.replace(/\/*$/,"")}/${o.GetName()}`)),e.Next()}if(2===e.GetStatus()){console.warn(`readdir failed: ${e.GetErrorDescription()}`);const o=e.GetError();return{error:0===o?2:o,reason:e.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(e)}}rename(n,e){return this.vfsNative.RenameFile(n,e)}chmod(n,e){let r=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(e.hidden,2),i(e.readonly,1),i(e.system,4),this.vfsNative.ChmodFile(n,r,o)}stat(n){const e=this.vfsNative.StatFile(n);return 0!==e?{result:e,entry:void 0}:{entry:qM(this.vfsNative.GetEntry(),n),result:e}}bytesFree(n){return this.vfsNative.BytesFree(n)}bytesTotal(n){return this.vfsNative.BytesTotal(n)}readFile(n){if(!this.vfsNative.ReadFile(n))return;const e=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(e,e+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(n){return this.vfsNative.UnlinkFile(n)}mkdir(n){return this.vfsNative.Mkdir(n)}switchSlot(n){this.vfsNative.SwitchSlot(n)}createZipArchive({files:n,directories:e,prefix:r}){var o=this;return(0,te.Z)(function*(){const i=new o.module.CreateZipContext(r,25),s=[];try{for(n&&n.forEach(m=>i.AddFile(m)),e&&e.forEach(m=>i.AddDirectory(m));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(m=>setTimeout(m,0)))}let a;const c=o.module.getPointer(i.GetZipContent()),f=i.GetZipSize();return 0!==c&&0!==f&&(a=o.module.HEAPU8.subarray(c,c+f).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(n){var e=this;return(0,te.Z)(function*(){const r=new e.module.DeleteRecursiveContext(25);try{for(n.forEach(o=>r.AddFile(o));1===r.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{e.module.destroy(r)}})()}writeFile(n,e){const r=this.copyIn(e);try{return this.vfsNative.WriteFile(n,e.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(n,e,r){var o=this;return(0,te.Z)(function*(){const i=o.copyIn(e),s=new o.module.UnzipContext(25,n,i,e.length),a=c=>({result:c,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),s.GetState()){case 1:return a(Qa.success);case-3:return a(Qa.cardFull);case-1:return a(Qa.ioError);case-2:return a(Qa.zipfileError);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(n,e,r,o,i){var s=this;return(0,te.Z)(function*(){const a=new s.module.PasteContext(25,n,e);r.forEach(c=>a.AddFile(c)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),a.GetState()){case 1:return au.success;case-2:return au.cardFull;case-1:return au.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(n){const e=this.vfsNative.Malloc(n.length),r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+n.length).set(n),e}}var H8=T(5683),YM=T.n(H8);function XM(t){return 0===t.length?t:t[0].toUpperCase()+t.substring(1)}const G8=T.p+"wasm/vfs_web-3e66505828bedb74.wasm";let lu=(()=>{class t{constructor(e,r,o,i,s,a){this.storageService=e,this.storageCardContext=r,this.fileService=o,this.loadingController=i,this.alertController=s,this.alertService=a,this.onReleaseCard=new Ho.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=Gb.create(G8),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(c=>this.vfsInstance=c)}setStorageCardService(e){this.storageCardService=e,e.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),e.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}isEntryInClipboard(e){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(e.path)?this.clipboard.operation:void 0}activateCard(e){var r=this;return(0,te.Z)(function*(){if(r.primaryCard?.id!==e){if(r.secondaryCard?.id===e)return r.primarySlot=r.secondarySlot,void(yield r.activatePrimaryCard());throw new Error(`card ${e} not mounted in VFS`)}})()}mountCardUnchecked(e,r,o){var i=this;return(0,te.Z)(function*(){const s=yield i.storageService.getCard(e);if(!s)throw new Error(`no card with id ${e}`);if(i.primaryCard?.id===e||i.secondaryCard?.id===e)throw new Error(`card ${e} already mounted in VFS`);i.storageCardContext.claim(e,jr.vfs),i.primaryCard&&i.primaryCard.storageId===i.clipboard?.storageId&&(i.primarySlot=i.secondarySlot),i.primaryCard&&(yield i.releaseCard(i.primaryCard.id));const a=yield i.vfs;a.allocateImage(s.size);const c=a.getPendingImage();if(!c)throw new Error("failed to allocate image");return o?c.set(o):yield i.storageService.loadCardData(e,c,jr.vfs),a.mountImage(i.primarySlot)?(i.primaryCard=s,yield i.activatePrimaryCard(),!0):(i.storageCardContext.release(e,jr.vfs),!1)})()}releaseCard(e){var r=this;return(0,te.Z)(function*(){let o;if(r.primaryCard?.id===e)o=r.primarySlot;else{if(r.secondaryCard?.id!==e)return;o=r.secondarySlot}(yield r.vfs).unmountImage(o),r.mountedCards[o]=void 0,r.storageCardContext.release(e,jr.vfs),r.onReleaseCard.dispatch(e)})()}readdir(e){if(!this.vfsInstance)return[];const r=this.normalizePath(e);if(!this.directoryCache.has(r)){const o=this.vfsInstance.readdir(e);this.directoryCache.set(r,0===o.error?o.entries:[])}return this.directoryCache.get(r)||[]}updateFileEntry(e,r){var o=this;return(0,te.Z)(function*(){const i=yield o.vfs;if(e=o.normalizePath(e),!o.isFilenameValid(r.name))return void(yield o.error("The provided file name is invalid."));const{result:s,entry:a}=i.stat(e);if(0===s)if(void 0===r.attributes||YM()(r.attributes,a.attributes)||0===(o.directoryCache.delete(o.dirname(e)),i.chmod(e,r.attributes))){if(void 0!==r.name&&r.name!==a.name)switch(o.directoryCache.delete(o.dirname(e)),i.rename(e,`${o.dirname(e)}/${r.name}`)){case 0:break;case 6:return void(yield o.error("The provided file name is invalid."));default:return void(yield o.fatalError("Unable to write the updated file attributes."))}yield o.sync()}else yield o.fatalError("Unable to write the updated file attributes.");else yield o.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(e){var r=this;return(0,te.Z)(function*(){const o=yield r.loadingController.create();yield o.present();try{const s=(yield r.vfs).readFile(e.path);if(!s)return void(yield r.alertService.errorMessage(`Could not read file '${e.name}'.`));r.fileService.saveFile(e.name,s)}finally{yield o.dismiss()}})()}archiveFiles(e,r){var o=this;return(0,te.Z)(function*(){if(0===e.length||!o.primaryCard)return;const i=yield o.loadingController.create({message:"Creating archive..."});yield i.present();try{const s=yield o.vfs,a=e.filter(S=>S.isDirectory).map(S=>o.normalizePath(S.path)),c=e.filter(S=>!S.isDirectory).map(S=>o.normalizePath(S.path)),f=1===e.length?`${e[0].name}.zip`:function b8(t){return`files_${Jm(t.name)}.zip`}(o.primaryCard),{archive:m,failedItems:y}=yield s.createZipArchive({directories:a,files:c,prefix:r});yield i.dismiss(),y.length>0&&(y.length<=3?yield o.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${y.join("<br>")}`):yield o.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${y.slice(0,3).join("<br>")}<br><br> and ${y.length-3} other file`)),m&&o.fileService.saveFile(f,m)}finally{yield i.dismiss()}})()}unlinkEntry(e){var r=this;return(0,te.Z)(function*(){if(e.isDirectory)return;const i=(yield r.vfs).unlinkFile(e.path);if(0!==i)return console.error(`failed to unlink ${e.path}: ${i}`),void(yield r.error(`Failed to delete: ${e.path}`));yield r.updateBytesFree(),yield r.sync(),r.directoryCache.delete(r.dirname(e.path))})()}deleteRecursive(e){var r=this;return(0,te.Z)(function*(){const o=e.map(s=>r.normalizePath(s.path)),i=yield r.loadingController.create({message:"Deleting..."});yield i.present();try{const a=yield(yield r.vfs).deleteRecursive(o);if(!a.success)return yield i.dismiss(),void(yield r.fatalError(`Failed to delete ${a.failingItem}`));yield r.updateBytesFree(),yield r.sync(),e.map(c=>c.path).forEach(c=>r.directoryCache.delete(r.dirname(c)))}finally{yield i.dismiss()}})()}mkdir(e){var r=this;return(0,te.Z)(function*(){switch((yield r.vfs).mkdir(e)){case 6:return void(yield r.alertService.errorMessage("Invalid name."));case 7:return void(yield r.alertService.errorMessage("No space left on card."));case 8:return void(yield r.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield r.error(`Failed to create ${e}.`))}yield r.updateBytesFree(),yield r.sync(),r.directoryCache.delete(r.dirname(e))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const e=this.storageCardService.getAllCards().find(r=>r.storageId===this.clipboard?.storageId);return!!e&&(e.status===Vr.clean||e.status===Vr.dirty&&!!e.dontFsckAutomatically)}invalidateClipboardForCard(e){this.clipboard?.storageId===e.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(e,r,o){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:o,prefix:this.normalizePath(e),storageId:this.primaryCard.storageId,items:r.map(i=>({name:i,path:this.normalizePath(`${e}/${i}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(i=>i.path).forEach(i=>this.clipboardSet.add(i)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(e,r){var o=this;return(0,te.Z)(function*(){const i=yield o.loadingController.create();yield i.present();try{const{entriesTotal:s,entriesSuccess:a,result:c}=yield o.unpackArchiveUnchecked(e,r);let f,m;switch(yield i.dismiss(),c){case Qa.success:f="The archive was extracted successfully, but some entries were skipped.",m="Skipped entries";break;case Qa.ioError:return void(yield o.fatalError("There was an error writing to the card."));case Qa.cardFull:f="No space left on card.",m="No space left";break;case Qa.zipfileError:f="There was an error reading from the archive.",m="Error reading archive";break;default:throw new Error("unreachable")}const y=s-a,S=A=>A>1?`${A} entries`:"one entry";s>0&&y===s&&(yield o.alertService.message(m,`\n                    ${f}\n                    <br><br>\n                    The archive contains ${S(s)}, but none could be unpacked.\n                `)),y>0&&a>0&&(yield o.alertService.message(m,`\n                    ${f}\n                    <br><br>\n                    ${XM(S(a))} unpacked succesfully, but ${S(y)} could not be unpacked.\n                `))}finally{i.dismiss()}})()}paste(e){var r=this;return(0,te.Z)(function*(){if(!r.isClipboardPopulated())return;const o=yield r.loadingController.create();yield o.present();try{const i=yield r.pasteUnchecked(e);switch(yield o.dismiss(),i){case au.cardFull:yield r.alertService.message("No space left","No space left on card.");break;case au.ioError:return void(yield r.fatalError("There was an error copying files to the card."))}}catch(i){yield r.alertService.errorMessage(i instanceof Error?i.message:"Unknown error.")}finally{o.dismiss()}})()}addFiles(e,r){var o=this;return(0,te.Z)(function*(){if(0===e.length)return;const i=yield o.loadingController.create();yield i.present();try{const s=yield o.addFilesUnchecked(e,r);yield i.dismiss();const a=c=>c>1?`${c} entries`:"one file";s.length===e.length?yield o.alertService.message("Skipped files","No files were added to the card."):0!==s.length&&(yield o.alertService.message("Skipped files",`Successfully added ${a(e.length-s.length)} to card. ${XM(a(s.length))} could not be added.\n                `))}finally{i.dismiss()}})()}addFilesUnchecked(e,r){var o=this;return(0,te.Z)(function*(){const i=o.readdir(r),s=[],a=yield o.vfs;let c=!1,f=!1,m=!1,y=!1;e:for(let S=0;S<e.length;S++){const A=e[S],oe=i.find(Te=>Te.name===A.name);if(oe&&oe.isDirectory){if(!m){const{overwrite:je,rememberChoice:Ae}=yield o.overwriteFileDialog(A.name,"directory");y=je,m=Ae}let Te=!0;if(y&&(Te=!(yield a.deleteRecursive([o.normalizePath(`${r}/${A.name}`)])).success),Te){s.push(A.name);continue}}if(oe&&!oe.isDirectory){if(!c){const{overwrite:Te,rememberChoice:je}=yield o.overwriteFileDialog(A.name,"file");f=Te,c=je}if(!f){s.push(A.name);continue}}let he;try{he=yield A.getContent()}catch(Te){console.warn(Te),s.push(A.name),yield o.alertService.errorMessage(`Unable to open ${A.name}`);continue}switch(a.writeFile(o.normalizePath(`${r}/${A.name}`),he)){case 3:yield o.alertService.errorMessage("Card full."),s.push(...e.slice(S).map(Te=>Te.name));break e;case 4:throw yield o.fatalError("Unable to write file."),new Error;case 0:break;default:s.push(A.name)}}return yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.normalizePath(r)),s})()}collisionHandlers(){var e=this;let r=!1,o=!1,i=!1,s=!1;return{onFileCollision:(a=(0,te.Z)(function*(c){if(o)return r;const{overwrite:f,rememberChoice:m}=yield e.overwriteFileDialog(c.replace(/^\d:/,""),"file");return r=f,o=m,r}),function(f){return a.apply(this,arguments)}),onDirectoryCollision:function(){var a=(0,te.Z)(function*(c){if(s)return i;const{overwrite:f,rememberChoice:m}=yield e.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return i=f,s=m,i});return function(f){return a.apply(this,arguments)}}()};var a}unpackArchiveUnchecked(e,r){var o=this;return(0,te.Z)(function*(){const s=yield(yield o.vfs).unzipArchive(o.normalizePath(r),e,{...o.collisionHandlers(),onInvalidEntry:(a=(0,te.Z)(function*(c){yield o.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(f){return a.apply(this,arguments)})});var a;return s.result!==Qa.ioError&&(yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()),s})()}pasteUnchecked(e){var r=this;return(0,te.Z)(function*(){if(!r.clipboard||!r.primaryCard)throw new Error("invalid state for paste");const o=yield r.mountClipboard(),s=yield(yield r.vfs).paste(`${r.primarySlot}:${r.normalizePath(e)}`,`${o}:${r.normalizePath(r.clipboard.prefix)}`,r.clipboard.items.map(a=>a.name),r.clipboard.operation,r.collisionHandlers());return s===au.ioError||(yield r.updateBytesFree(),yield r.sync(r.primarySlot),o!==r.primarySlot&&(yield r.sync(o)),r.directoryCache.clear(),"cut"===r.clipboard.operation&&(r.clipboard=void 0,r.clipboardSet.clear())),s})()}mountClipboard(){var e=this;return(0,te.Z)(function*(){if(!e.clipboard||!e.primaryCard||!e.storageCardService)throw new Error("invalid state for paste");if(e.clipboard.storageId===e.primaryCard.storageId)return e.primarySlot;if(e.secondaryCard&&e.clipboard.storageId===e.secondaryCard.storageId)return e.secondarySlot;e.secondaryCard&&(yield e.releaseCard(e.secondaryCard.id));const r=e.storageCardService.getAllCards().find(s=>s.storageId===e.clipboard?.storageId);if(!r)throw new Error("invalid storage card in clipboard");const o=yield e.vfs;o.allocateImage(r.size);const i=o.getPendingImage();if(!i)throw new Error("failed to allocate image");if(e.storageCardContext.claim(r.id,jr.vfs),yield e.storageService.loadCardData(r.id,i,jr.vfs),!o.mountImage(e.secondarySlot))throw e.storageCardContext.release(r.id,jr.vfs),new Error("unable to mount card");return e.secondaryCard=r,e.secondarySlot})()}overwriteFileDialog(e,r){var o=this;return(0,te.Z)(function*(){let i=!1,s=!1;const a=yield o.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:new eu.I("file"===r?`Do you want to overwrite the existing file ${e}?`:`\n                    Do you want to overwrite the existing directory ${e}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `),buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>i=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:c=>s=!0===c.checked,cssClass:"alert-checkbox"}]});return yield a.present(),yield a.onDidDismiss(),{overwrite:i,rememberChoice:s}})()}error(e){var r=this;return(0,te.Z)(function*(){yield r.alertService.errorMessage(e)})()}fatalError(e){var r=this;return(0,te.Z)(function*(){r.primaryCard&&(yield r.storageService.updateStorageCardPartial(r.primaryCard.id,{status:Vr.dirty}),yield r.releaseCard(r.primaryCard.id),r.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(e=this.primarySlot){var r=this;return(0,te.Z)(function*(){const o=r.mountedCards[e];if(!o)return;const i=yield r.vfs,s=i.getImageInSlot(e),a=i.getDirtyPagesForSlot(e);!s||!a||(yield r.storageService.updateCardData(o.id,s,a,jr.vfs),a.fill(0))})()}activatePrimaryCard(){var e=this;return(0,te.Z)(function*(){const r=yield e.vfs;r.switchSlot(e.primarySlot),e.bytesFree=r.bytesFree(e.primarySlot),e.bytesTotal=r.bytesTotal(e.primarySlot),e.directoryCache.clear()})()}updateBytesFree(){var e=this;return(0,te.Z)(function*(){e.bytesFree=(yield e.vfs).bytesFree(e.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(e){this.mountedCards[this.primarySlot]=e}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(e){this.mountedCards[this.secondarySlot]=e}static#e=this.\u0275fac=function(r){return new(r||t)(ce(er),ce(fp),ce(Ec),ce(Ya),ce(tu),ce(lo))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const z8=T.p+"wasm/fstools_web-a88d5806e504f67c.wasm";let KM=(()=>{class t extends B8{constructor(){super(z8)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var oi=function(t){return t[t.mb4=0]="mb4",t[t.mb8=1]="mb8",t[t.mb16=2]="mb16",t[t.mb32=3]="mb32",t[t.mb64=4]="mb64",t[t.mb128=5]="mb128",t}(oi||{});function QM(){return Ab().replace(/-/g,"")}let kd=(()=>{class t{constructor(e,r,o,i,s,a,c,f,m,y,S,A){this.sessionService=e,this.storageService=r,this.emulationStateService=o,this.cloudpilotService=i,this.loadingController=s,this.snapshotService=a,this.alertService=c,this.errorService=f,this.fileService=m,this.vfsService=y,this.storageCardContext=S,this.fstools=A,this.mountCardEvent=new Ho.j,this.deleteCardEvent=new Ho.j,this.loading=!0,this.cards=[],this.updateMutex=new Xa,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),r.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,r,o){var i=this;return(0,te.Z)(function*(){const s=yield i.loadingController.create({message:"Formatting..."});try{yield s.present();const a=yield i.fstools.mkfs(function W8(t){switch(t){case oi.mb4:return 4;case oi.mb8:return 8;case oi.mb16:return 16;case oi.mb32:return 32;case oi.mb64:return 64;case oi.mb128:return 128;default:throw new Error(`bad card size ${t}`)}}(r));if(!a)throw new Error("failed to create image");const c={storageId:QM(),name:e,size:4*a.length,status:Vr.clean,dontFsckAutomatically:o};return yield i.storageService.importStorageCard(c,a)}finally{s.dismiss()}})()}createCardFromImage(e,r,o){var i=this;return(0,te.Z)(function*(){const s={storageId:QM(),name:e,size:r.length,status:Vr.clean,dontFsckAutomatically:o},a=new Uint32Array(r.buffer,r.byteOffset,r.byteLength>>>2),c=yield i.loadingController.create({message:"Importing..."});try{if(o)yield c.present(),yield i.storageService.importStorageCard(s,a);else{const[f,m]=yield i.fsckNewCard(a,s);yield c.present(),yield i.storageService.importStorageCard(m,f)}}finally{c.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,jr.cloudpilot)}loadCardInEmulator(e,r){var o=this;return(0,te.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield o.vfsService.releaseCard(e);const s=yield o.cloudpilotService.cloudpilot;if(s.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!s.allocateCard(i.storageId,i.size))throw new Error("failed to allocate card");const a=s.getCardData(i.storageId);if(!a)throw new Error("failed to access card data");return o.storageCardContext.claim(e,jr.cloudpilot),r?a.set(r):yield o.storageService.loadCardData(i.id,a,jr.cloudpilot),i})()}ejectCurrentCard(){var e=this;return(0,te.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)throw new Error("no running session");const o=r?.mountedCard;if(void 0===o)throw new Error("no mounted card");const i=yield e.storageService.getCard(o);if(!i)throw new Error(`no card with id ${o}`);yield e.storageService.updateStorageCardPartial(o,{status:Vr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(i.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(o,jr.cloudpilot)})()}checkCard(e){var r=this;return(0,te.Z)(function*(){const o=r.mountedInSession(e.id);if(o){let s=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be checked.`,{"Eject now":()=>s=!0},"Cancel"),!s)return;yield r.ejectCard(e.id)}const i=yield r.executeFsckAndUpdateCard(e.id);switch(i.getResult()){case 1:return void r.alertService.cardIsClean();case 3:return void r.alertService.cardHasNoValidFileSystem();case 4:r.alertService.cardHasUncorrectableErrors();break;case 2:{let s=!1;return yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),void(s?yield r.applyFsckResult(e.id,i):r.storageCardContext.release(e.id,jr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var r=this;return(0,te.Z)(function*(){if(r.storageCardContext.getOwner(e.id)===jr.vfs)return yield r.vfsService.activateCard(e.id),!0;const o=r.mountedInSession(e.id);if(o){let i=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be browsed.`,{"Eject now":()=>i=!0},"Cancel"),!i)return!1;yield r.ejectCard(e.id)}return r.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,r){var o=this;return(0,te.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);return!r.dontFsckAutomatically&&i.dontFsckAutomatically&&(r.status=Vr.dirty),o.storageService.updateStorageCardPartial(e,r)})()}deleteCard(e){var r=this;return(0,te.Z)(function*(){const o=yield r.loadingController.create();yield o.present();try{const i=r.cards.find(s=>s.id===e);yield r.vfsService.releaseCard(e),yield r.ejectCard(e),yield r.storageService.deleteStorageCard(e),i&&r.deleteCardEvent.dispatch(i)}finally{o.dismiss()}})()}saveCard(e,r,o){var i=this;return(0,te.Z)(function*(){const s=yield i.getCard(e);if(!s)throw new Error(`no card with id ${e}`);const a=yield i.loadingController.create({message:"Exporting..."});let c;const f=o?yield i.fstools.createGzipContext(s.size):void 0;if(f){const m=f.getBuffer();c=new Uint32Array(m.buffer,m.byteOffset,m.byteLength>>2)}try{yield a.present();const m=i.mountedInSession(e);let y;if(m&&m.id===i.emulationStateService.getCurrentSession()?.id&&(yield i.snapshotService.waitForPendingSnapshot(),yield i.snapshotService.triggerSnapshot(),y=(yield i.cloudpilotService.cloudpilot).getCardData(s.storageId),y&&(c?c.set(y):c=y)),y||(c||(c=new Uint32Array(s.size>>>2)),yield i.storageService.loadCardData(s.id,c,i.storageCardContext.getOwner(e))),f){if(f.setFilename(r).setMtime(Math.floor(Date.now()/1e3)),!(yield f.gzip()))return void i.alertService.errorMessage("Failed to compress card image.");r+=".gz"}}finally{a.dismiss()}i.fileService.saveFile(r,f?f.getGzipData():new Uint8Array(c.buffer,c.byteOffset,c.length<<2))})()}getCard(e){var r=this;return(0,te.Z)(function*(){return r.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(r=>r.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,te.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,te.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}cardIsMounted(e){var r=this;return(0,te.Z)(function*(){return(yield r.storageService.getAllSessions()).some(i=>i.mountedCard===e)})()}checkAndClaimCard(e,r){var o=this;return(0,te.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");let i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);let s,a=!0,c=!1;if(!i.dontFsckAutomatically){if(i.status===Vr.dirty){if(s=yield o.executeFsckAndUpdateCard(e),2===s.getResult()){if(a=!1,yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===r?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),!a)return o.storageCardContext.release(e,jr.fstools),!1;yield o.applyFsckResult(i.id,s)}if(i=yield o.getCard(e),!i)throw new Error(`no card with id ${e}`)}switch(i.status){case Vr.clean:break;case Vr.unformatted:if("vfs"===r)return yield o.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Vr.dirty:return yield o.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===r?"inserted":"browsed"}.`),!1;case Vr.unfixable:if(a=!1,c=!0,yield o.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>a=!0},"Cancel"),!a)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===r?(yield o.vfsService.releaseCard(e),yield o.mountCardInEmulator(e,s?.getImageData())):(yield o.mountCardForBrowsing(e,c,s?.getImageData()))||(yield o.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return o.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var r=this;return(0,te.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});try{if(yield o.present(),yield r.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const i=yield r.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e),r.storageCardContext.claim(e,jr.fstools);const s=yield r.fstools.createFsckContext(i.size);switch(yield r.storageService.loadCardData(i.id,s.getImageData(),jr.fstools),s.fsck()){case 1:yield r.storageService.updateStorageCardPartial(e,{status:Vr.clean}),r.storageCardContext.release(e,jr.fstools);break;case 3:yield r.storageService.updateStorageCardPartial(e,{status:Vr.unformatted}),r.storageCardContext.release(e,jr.fstools);break;case 2:yield r.storageService.updateStorageCardPartial(e,{status:Vr.dirty});break;case 4:yield r.storageService.updateStorageCardPartial(e,{status:Vr.unfixable}),r.storageCardContext.release(e,jr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return s}finally{o.dismiss()}})()}applyFsckResult(e,r){var o=this;return(0,te.Z)(function*(){if(2!==r.getResult())return;const i=yield o.loadingController.create({message:"Fixing errors..."});try{yield i.present(),yield o.storageService.updateCardData(e,r.getImageData(),r.getDirtyPages(),jr.fstools),yield o.storageService.updateStorageCardPartial(e,{status:Vr.clean}),o.storageCardContext.release(e,jr.fstools)}finally{i.dismiss()}})()}fsckNewCard(e,r){var o=this;return(0,te.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});let s,a;try{yield i.present(),s=yield o.fstools.createFsckContext(r.size),s.getImageData().set(e),a=s.fsck()}finally{i.dismiss()}switch(a){case 1:return[e,{...r,status:Vr.clean}];case 2:{let c=!1;return yield o.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[s.getImageData(),{...r,status:Vr.clean}]:[e,{...r,status:Vr.dirty}]}case 3:return yield o.alertService.cardHasNoValidFileSystem(),[e,{...r,status:Vr.unformatted}];case 4:return yield o.alertService.cardHasUncorrectableErrors(),[e,{...r,status:Vr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var r=this;return(0,te.Z)(function*(){const o=r.mountedInSession(e),i=yield r.storageService.getCard(e);!o||!i||(o.id===r.emulationStateService.getCurrentSession()?.id?yield r.ejectCurrentCard():(yield r.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),yield r.storageService.updateStorageCardPartial(e,{status:Vr.dirty})))})()}mountCardInEmulator(e,r){var o=this;return(0,te.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");const i=yield o.loadingController.create({message:"Inserting..."});try{yield i.present(),yield o.vfsService.releaseCard(e);const s=o.emulationStateService.getCurrentSession();if(!s)throw new Error("no current session");if(void 0!==s.mountedCard)throw new Error("session already has a mounted card");const a=yield o.loadCardInEmulator(e,r),c=yield o.cloudpilotService.cloudpilot;if(yield o.storageService.updateStorageCardPartial(e,{status:Vr.dirty}),yield o.storageService.updateSessionPartial(s.id,{mountedCard:e}),!c.mountCard(a.storageId))throw c.removeCard(a.storageId),new Error("failed to mount card");return o.mountCardEvent.dispatch(a),a}finally{i.dismiss()}})()}mountCardForBrowsing(e,r,o){var i=this;return(0,te.Z)(function*(){const s=yield i.loadingController.create({message:"Mounting..."});try{return yield s.present(),yield i.vfsService.mountCardUnchecked(e,r,o)}finally{s.dismiss()}})()}static#e=this.\u0275fac=function(r){return new(r||t)(ce(gp),ce(er),ce($l),ce(Ea),ce(Ya),ce(mp),ce(lo),ce(ou),ce(Ec),ce(lu),ce(fp),ce(KM))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Da=(()=>{class t extends f8{constructor(e,r,o,i,s,a,c,f,m,y,S,A,oe,he,Te,je,Ae,kt){var bt;super(),bt=this,this.storageService=e,this.ngZone=r,this.loadingController=o,this.emulationState=i,this.snapshotService=s,this.errorService=a,this.fileService=c,this.alertService=f,this.modalWatcher=m,this.clipboardService=y,this.kvsService=S,this.proxyService=A,this.buttonService=oe,this.bootstrapService=he,this.cloudpilotService=Te,this.storageCardService=je,this.storageCardContext=Ae,this.app=kt,this.switchSession=(Bn,Mo={})=>this.mutex.runExclusive((0,te.Z)(function*(){if(Bn===bt.emulationState.getCurrentSession()?.id)return!0;let _i;yield bt.stopUnchecked(),yield bt.bootstrapService.hasRendered(),(Mo.showLoader??1)&&(_i=yield bt.loadingController.create({message:"Loading..."}),yield _i.present());try{const vp=yield bt.storageService.getSession(Bn);if(!vp)throw new Error(`invalid session ${Bn}`);bt.emulationState.setCurrentSession(void 0);const e0=yield bt.cloudpilotService.cloudpilot;if(!(yield bt.restoreSession(vp,e0)))return bt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;bt.emulationState.setCurrentSession(vp),function vG(t){localStorage.setItem(Zm,t+"")}(Bn)}finally{_i&&(yield _i.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,te.Z)(function*(){!bt.emulationState.getCurrentSession()||bt.running||bt.errorService.hasFatalError()||!bt.cloudpilotInstance||(yield bt.kvsService.mutex.runExclusive(()=>bt.updateFeatures()),bt.doResume(),bt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,te.Z)(function*(){bt.doPause(),!bt.errorService.hasFatalError()&&bt.emulationState.getCurrentSession()&&(yield bt.snapshotService.waitForPendingSnapshot(),yield bt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Bn,Mo])=>this.mutex.runExclusive((0,te.Z)(function*(){const _i=bt.emulationState.getCurrentSession();Bn===_i?.id&&(void 0!==_i.mountedCard&&void 0===Mo&&bt.storageCardContext.release(_i.mountedCard,jr.cloudpilot),bt.emulationState.setCurrentSession(Mo),bt.emulationState.getCurrentSession()||(gM(),bt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,te.Z)(function*(){const Bn=bt.emulationState.getCurrentSession();Bn&&bt.fileService.emergencySaveSession(Bn,yield bt.cloudpilotService.cloudpilot)})),this.mutex=new Xa,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),a.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Bn=>{Bn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Bn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Kt=function _G(){const t=localStorage.getItem(Zm);return t?parseInt(t,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Kt&&!X1()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Kt))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const r=this.emulationState.getCurrentSession();r&&this.storageService.updateSessionPartial(r.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?Id.timeout:Id.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,r){if(!this.cloudpilotInstance)return;const o=this.emulationState.getCurrentSession();this.uiInitialized&&o&&void 0===o.osVersion&&this.storageService.updateSessionPartial(o.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(r/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,te.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var r=this;return(0,te.Z)(function*(){let o;const i=setTimeout(()=>{o=r.loadingController.create({message:"Loading..."}).then(function(){var s=(0,te.Z)(function*(a){return yield a.present(),a});return function(a){return s.apply(this,arguments)}}())},100);try{yield r.switchSession(e,{showLoader:!1})}catch{Vs&&r.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{o&&o.then(s=>s.dismiss()),clearTimeout(i)}})()}restoreSession(e,r){var o=this;return(0,te.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(e,o.kvsService.kvs.snapshotIntegrityCheck);if(!i)throw new Error(`invalid ROM ${e.rom}`);return r.clearExternalStorage(),void 0!==e.mountedCard&&(yield o.storageCardService.loadCardInEmulator(e.mountedCard)),!!o.openSession(r,i,e.device,s,a)&&(o.proxyService.reset(),o.buttonService.reset(r),yield o.snapshotService.initialize(e,yield o.cloudpilotService.cloudpilot),!0)})()}static#e=this.\u0275fac=function(r){return new(r||t)(ce(er),ce(dt),ce(Ya),ce($l),ce(mp),ce(ou),ce(Ec),ce(lo),ce(Lb),ce(HM),ce(Gi),ce(Bb),ce(zM),ce(WM),ce(Ea),ce(kd),ce(fp),ce(Dl))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zb=(()=>{class t{constructor(e){this.loadingController=e,this.reloadOnControllerChange=!1,this.updateAvailableEvent=new Ho.j,this.register()}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}update(){var e=this;return(0,te.Z)(function*(){e.registration&&e.registration.update()})()}activateUpdate(){var e=this;return(0,te.Z)(function*(){e.registration?.waiting&&(yield(yield e.loadingController.create({message:"Updating..."})).present(),e.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}register(){var e=this;return(0,te.Z)(function*(){if(e.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>e.reloadOnControllerChange&&window.location.reload()),yield new Promise(r=>setTimeout(r,3e3));try{e.setupRegistration(yield e.doRegister())}catch(r){console.error(r)}}})()}doRegister(){return(0,te.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(e){this.registration=e,e.waiting&&this.dispatchUpdate(),e.installing&&this.handleInstallingWorker(e.installing),e.addEventListener("updatefound",()=>e.installing&&this.handleInstallingWorker(e.installing))}handleInstallingWorker(e){let r=!1;e.addEventListener("statechange",()=>{"installed"!==e.state||r||(r=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Ya))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JM=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.kvsService=e,this.emulationService=r,this.alertService=o,this.modalController=i,this.serviceWorkerService=s,this.checkForUpgrade=()=>this.mutex.runExclusive((0,te.Z)(function*(){const c=a.kvsService.kvs.version;void 0!==c?c!==su&&(yield a.kvsService.set({version:su,previousVersion:c,latestVersion:su}),yield a.emulationService.bootstrapComplete(),yield a.alertService.message("Update complete",`CloudpilotEmu was updated to version ${su}.`,{Changes:()=>a.showChangelog()})):a.kvsService.kvs.version=su})),this.mutex=new Xa,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,te.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable(()=>e.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var e=this;return(0,te.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===su){const r=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),r&&(yield r.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:iu,componentProps:{url:TM,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var e=this;setTimeout((0,te.Z)(function*(){yield e.serviceWorkerService.update(),e.scheduleUpdateCheck()}),9e5)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Gi),ce(Da),ce(lo),ce(bs),ce(zb))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Q8=(()=>{class t{constructor(e,r,o){this.kvsService=e,this.alertService=r,this.emulationService=o}start(){var e=this;return(0,te.Z)(function*(){const r=e.kvsService.kvs.infoId??0;e.kvsService.kvs.infoId=yield e.showInfo(r)})()}showInfo(e){var r=this;return(0,te.Z)(function*(){return 2===e&&Vs&&(yield r.emulationService.bootstrapComplete(),yield r.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Gi),ce(lo),ce(Da))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),J8=(()=>{class t{constructor(e,r,o,i){this.pwaService=e,this.updateService=r,this.bootstrapService=o,this.infoService=i}ngAfterViewInit(){var e=this;return(0,te.Z)(function*(){e.bootstrapService.notifyHasRendered(),yield e.infoService.start(),e.pwaService.invite(),e.updateService.start()})()}static#e=this.\u0275fac=function(r){return new(r||t)(w(kM),w(JM),w(WM),w(Q8))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,o){1&r&&(ie(0,"ion-app"),lt(1,"ion-router-outlet"),ee())},dependencies:[xk,lp]})}return t})(),eT=(()=>{class t{constructor(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=v({type:t,selectors:[["app-dummy"]],decls:2,vars:0,template:function(r,o){1&r&&(ie(0,"div"),Be(1,"Dummy"),ee())},encapsulation:2})}return t})(),tT=(()=>{class t{constructor(e,r){this.linkApi=e,this.router=r}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(uy),ce(ri))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Wb=se.m515,ez=Rb[2],tz=Rb[0],Md="rgba(0,0,0,0.2)";function nT(t){const n=hp(t),e=(0===n.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:e},o=c=>({frameDevice:c,frameCanvas:c*e}),i=c=>({frameDevice:c,frameCanvas:r.frameCanvas+c*e}),s=o(n.silkscreenHeight>0?1:0),a=o(function iz(t){switch(t){case 3:case 1:return 60;case 2:return 45;default:return 30}}(n.screenSize));return{scale:e,borderWidth:r,height:o(2*r.frameDevice+n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+n.width),screenHeight:o(n.height),screenWidth:o(n.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(n.height),separatorHeight:s,silkscreenHeight:o(n.silkscreenHeight),silkscreenTop:i(n.height+s.frameDevice),silkscreenBottom:i(n.height+s.frameDevice+n.silkscreenHeight),softSilkscreenHeight:o(n.silkscreenHeight>0?0:n.height-n.width),buttonHeight:a,buttonWidth:a,buttonTop:i(n.height+s.frameDevice+n.silkscreenHeight),buttonBottom:i(n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice)}}class sz{constructor(n){this.skinLoader=n,this.layout=nT(Wb),this.onResize=new Ho.j}get width(){switch(this.getOrientation()){case Gr.portrait:case Gr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Gr.portrait:case Gr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(n){this.drawEmulationCanvas(n),this.onAfterUpdateCanvas()}eventToPalmCoordinates(n,e=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let c=(n.clientX-o)/s*this.width/this.layout.scale,f=(n.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Gr.landscape90:{const y=f;f=this.layout.height.frameDevice-c,c=y;break}case Gr.landscape270:{const y=f;f=c,c=this.layout.width.frameDevice-y;break}case Gr.portrait180:c=this.layout.width.frameDevice-c,f=this.layout.height.frameDevice-f}c-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const m=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(e)c<0&&(c=0),c>=this.layout.screenWidth.frameDevice&&(c=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=m&&(f=m-1);else if(c<0||c>=this.layout.screenWidth.frameDevice||f<0||f>=m)return;return[c,f]}isSilkscreen(n){const[,e]=n;return!this.isButtons(n)&&e>=this.layout.screenHeight.frameDevice}isButtons([,n]){return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([n,e]){return n>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:n>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:n>=2*this.layout.buttonWidth.frameDevice?e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:n>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(n=this.ctx?.canvas){var e=this;return(0,te.Z)(function*(){if(!n)return;e.layout=nT(e.getDeviceId()),e.onResize.dispatch(),n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");e.ctx=r,e.setupTransformation(),e.fillCanvasRect(0,0,e.layout.width.frameCanvas,e.layout.height.frameCanvas,e.frameColor()),e.fillRect(0,0,e.layout.screenWidth.frameDevice,e.layout.screenHeight.frameDevice+e.layout.silkscreenHeight.frameDevice+e.layout.separatorHeight.frameDevice+e.layout.buttonHeight.frameDevice,e.backgroundColor()),e.drawEmulationCanvas(),yield Promise.all([e.drawSilkscreen(),e.drawButtons()])})()}drawButtons(n=[]){var e=this;return(0,te.Z)(function*(){e.ctx&&(e.setupTransformation(),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.buttonsImage()(e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),e.layout.screenLeft.frameCanvas,e.layout.buttonTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),n.includes(0)&&e.fillRect(0,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,Md),n.includes(1)&&e.fillRect(e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,Md),n.includes(2)&&e.fillRect(e.layout.screenWidth.frameDevice-2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,Md),n.includes(3)&&e.fillRect(e.layout.screenWidth.frameDevice-e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,Md),n.includes(4)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,Md),n.includes(5)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice+e.layout.buttonHeight.frameDevice/2,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,Md))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Gr.portrait:case void 0:break;case Gr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Gr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Gr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var n=this;return(0,te.Z)(function*(){0===n.layout.silkscreenHeight.frameCanvas||!n.ctx||(n.setupTransformation(),n.fillRect(n.layout.screenLeft.frameDevice,n.layout.silkscreenTop.frameDevice,n.layout.screenWidth.frameDevice,n.layout.silkscreenHeight.frameDevice,ez),n.ctx.imageSmoothingEnabled=!0,n.ctx.imageSmoothingQuality="high",n.ctx.drawImage(yield n.silkscreenImage()(n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas),n.layout.borderWidth.frameCanvas,n.layout.silkscreenTop.frameCanvas,n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(n=this.lastEmulationCanvas){!n||!this.ctx||(this.lastEmulationCanvas=n,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(n,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(n,e,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(n,e,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(n,e,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case se.pegT600c:case se.pegT650c:return"silkscreen/clie-t600.svg";case se.pegN700c:case se.pegN600c:return"silkscreen/clie-n610.svg";case se.pegS320:case se.pegS300:return"silkscreen/clie-s300.svg";case se.pegS500c:return"silkscreen/clie-s500.svg";case se.pegT400:return"silkscreen/clie-t415.svg";case se.acerS11:return"silkscreen/acer-s10.svg";case se.palmPilot:case se.pilot:case se.iii:case se.palmVII:return"silkscreen/pilot.svg";case se.m500:return"silkscreen/m500.svg";case se.m505:case se.m515:case se.m520:return"silkscreen/m515.svg";case se.iiic:return"silkscreen/iiic.svg";case se.m100:case se.m105:case se.m125:return"silkscreen/m100.svg";case se.m130:return"silkscreen/m130.svg";case se.i710:return"silkscreen/tungstenw.svg";case se.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case se.acerS11:return"hard-buttons/acer-s10.svg";case se.pegNR70:return"hard-buttons/clie-nr70.svg";case se.pegN700c:return"hard-buttons/clie-n700.svg";case se.pegN600c:return"hard-buttons/clie-n610.svg";case se.pegS300:return"hard-buttons/clie-s300.svg";case se.pegS500c:return"hard-buttons/clie-s500.svg";case se.pegS320:return"hard-buttons/clie-s320.svg";case se.pegT400:case se.pegT600c:case se.pegT650c:return"hard-buttons/clie-t415.svg";case se.pilot:case se.palmPilot:return"hard-buttons/pilot.svg";case se.m500:return"hard-buttons/m500.svg";case se.m505:case se.m515:case se.m520:return"hard-buttons/m515.svg";case se.iiic:return"hard-buttons/iiic.svg";case se.m100:case se.m105:return"hard-buttons/m100.svg";case se.m125:return"hard-buttons/m125.svg";case se.m130:return"hard-buttons/m130.svg";case se.i710:return"hard-buttons/tungstenw.svg";case se.iii:case se.iiix:case se.iiixe:case se.palmVII:case se.palmVIIEZ:case se.palmVIIx:return"hard-buttons/iiix.svg";case se.iiie:return"hard-buttons/iiie.svg";case se.i705:return"hard-buttons/i705.svg";case se.handera330:return"hard-buttons/handera330.svg";case se.handera330c:return"hard-buttons/handera330c.svg";case se.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return Ob(this.getDeviceId())?"white":tz}frameColor(){return Ob(this.getDeviceId())?"white":"#ccc"}}function lz(t){return new Promise((n,e)=>{const r=new Image;r.onload=()=>n(r),r.onerror=()=>e(),r.src=t})}class uz{constructor(n){this.cloudpilot=n,this.images=new Map}loadSkinElement(n){if(this.images.has(n))return this.images.get(n);const e=this.cloudpilot.then(o=>o.loadSkin(n)).then(o=>{return o?Promise.all([o,lz((t=o,`data:image/svg+xml;base64,${btoa(t)}`))]):Promise.reject(new Error(`failed to load skin ${n}`));var t}),r=function az(t,n){let e,r;const o=document.createElement("canvas");return function(){var i=(0,te.Z)(function*(s,a){if(e===s&&r===a)return o;o.width=s,o.height=a;const c=o.getContext("2d");if(!c)throw new Error("get a new browser");return c.drawImage(yield t,0,0,o.width,o.height),(fM||Vs)&&(yield n).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),c.drawImage(yield t,0,0,o.width,o.height)),e=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(e.then(([,o])=>o),e.then(([o])=>o));return this.images.set(n,r),r}}let rg=(()=>{class t extends sz{constructor(e){super(new uz(e.cloudpilot)),this.cloudpilotService=e,this.statisticsVisible=!1}initialize(e,r=this.session){var o=this;return(0,te.Z)(function*(){o.session=r,yield o.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,te.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,r){var o=this;return(0,te.Z)(function*(){yield o.clearStatistics(),o.drawStatistics(e,r),o.lastEmulationStatistics=r,o.lastSnapshotStatistics=e,o.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??Wb}getOrientation(){return this.session?.deviceOrientation??Gr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,r){if(!this.ctx)return;this.setupTransformation();const o=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,i=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-o.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-o.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,i.frameDevice,this.layout.screenWidth.frameDevice,o.frameDevice,"rgba(255,255,255,0.6)");const a=function dz(t){switch(t){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(hp(this.session?.device??Wb).screenSize);this.ctx.font=6*this.layout.scale*a+"px monospace",this.ctx.fillStyle="black",[...e||r?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...r?[`host speed             : ${r.hostSpeed.toFixed(2)}x`,`emulation speed        : ${r.emulationSpeed.toFixed(2)}x`,`average FPS            : ${r.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+a*this.layout.scale,i.frameCanvas+a*this.layout.scale*(8+6*f)))}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Ea))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zb=(()=>{class t{constructor(e,r,o){this.router=e,this.canvasDisplayService=r,this.emulationStateService=o,this.updateUseSmallUI=()=>{const i=!!document.querySelector("html.md"),s=i?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-s-(i?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-s-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),r.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,r){let o,i;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(r=Math.min(r,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(i=e,o=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(o=r,i=r/this.canvasDisplayService.width*this.canvasDisplayService.height),o*i}static#e=this.\u0275fac=function(r){return new(r||t)(w(ri),w(rg),w($l))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(r,o){1&r&&(ie(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),lt(4,"ion-icon",3),ie(5,"ion-label"),Be(6,"Emulator"),ee()(),ie(7,"ion-tab-button",4),lt(8,"ion-icon",5),ie(9,"ion-label"),Be(10,"Sessions"),ee()(),ie(11,"ion-tab-button",6),lt(12,"ion-icon",7),ie(13,"ion-label"),Be(14,"Cards"),ee()(),ie(15,"ion-tab-button",8),lt(16,"ion-icon",9),ie(17,"ion-label"),Be(18,"Settings"),ee()(),ie(19,"ion-tab-button",10),lt(20,"ion-icon",11),ie(21,"ion-label"),Be(22,"About"),ee()()()()()),2&r&&(Ye(2),Sl("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[Di,ls,Vm,Ak,Gk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]})}return t})(),_p=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({imports:[Ha,wb.forChild(),_c,Xc,gm]})}return t})(),fz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({imports:[Ha,Xc,_c,_p,wb.forChild()]})}return t})(),pz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({imports:[Ha,Xc,_c,_p]})}return t})(),hz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({imports:[Ha,Xc,_c,gm,_p]})}return t})(),mz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({imports:[Ha,Xc,_c,_p,gm]})}return t})(),gz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({imports:[Ha,_c,Xc,gm,_p]})}return t})();const _z=T.p+"assets/doc/about-37902c8293d39335.md";function vz(t,n){if(1&t){const e=Or();ie(0,"ion-button",1),at("click",function(){return hn(e),mn(Ut().onClick())}),lt(1,"ion-icon",2),ee()}if(2&t){const e=Ut();Ye(1),nt("name",e.iconName)}}let og=(()=>{class t{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return Vs?"logo-apple-appstore":hM?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}static#e=this.\u0275fac=function(r){return new(r||t)(w(kM))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(r,o){1&r&&nn(0,vz,2,1,"ion-button",0),2&r&&nt("ngIf",o.show)},dependencies:[Si,os,Di]})}return t})();function yz(t,n){1&t&&(ie(0,"div",10),lt(1,"ion-spinner"),ee())}function bz(t,n){1&t&&(ie(0,"div"),Be(1,"app cached for offline use"),ee())}let Cz=(()=>{class t{constructor(e,r){this.modalController=e,this.serviceWorkerService=r,this.loading=!0}get version(){return su}get url(){return _z}showChangelog(){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:iu,componentProps:{url:TM,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}static#e=this.\u0275fac=function(r){return new(r||t)(w(bs),w(zb))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-about"]],decls:21,vars:4,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(r,o){1&r&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3,"About"),ee(),ie(4,"ion-buttons",0),lt(5,"app-pwa-prompt"),ee()()(),ie(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),Be(10,"About"),ee()()(),nn(11,yz,2,0,"div",3),ie(12,"div",4)(13,"markdown",5),at("load",function(){return o.loading=!1}),ee()(),ie(14,"div",6),Be(15),lt(16,"br"),ie(17,"a",7),at("click",function(){return o.showChangelog()}),Be(18,"Changelog"),ee(),nn(19,bz,2,0,"div",8),ee(),lt(20,"img",9),ee()),2&r&&(Ye(11),nt("ngIf",o.loading),Ye(2),nt("src",o.url),Ye(2),Vi(" CloudpilotEmu version ",o.version," "),Ye(4),nt("ngIf",o.serviceWorkerAvailable))},dependencies:[Si,is,ss,as,ip,cs,us,og,Cb],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]})}return t})();function wz(t,n){if(1&t&&(ie(0,"ion-select-option",16),Be(1),ee()),2&t){const e=n.$implicit;nt("value",e[0]),Ye(1),Vi("",e[1]," ")}}function Sz(t,n){if(1&t&&(ie(0,"ion-select-option",16),Be(1),ee()),2&t){const e=n.$implicit;nt("value",e[0]),Ye(1),Vi("",e[1]," ")}}function Ez(t,n){if(1&t&&(ie(0,"ion-item",6)(1,"ion-label",7),Be(2,"Hotsync name"),ee(),lt(3,"ion-input",17),ee()),2&t){const e=Ut();Ye(3),nt("placeholder",e.placeholder)}}let rT=(()=>{class t{constructor(e,r){this.sessionService=e,this.alertService=r,this.validateNameUnique=o=>o.value!==this.session.name&&this.sessionService.getSessions().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Gr.portrait,"Portrait"],[Gr.landscape90,"Landscape 90\xb0"],[Gr.landscape270,"Landscape 270\xb0"],[Gr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,PM(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.speedTransient??this.formControlSpeed.value??0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function r8(t){switch(t){case se.palmPilot:case se.pilot:case se.iii:case se.palmVII:case se.palmVx:case se.palmV:case se.palmVIIEZ:case se.palmVIIx:case se.iiic:case se.iiix:case se.iiixe:case se.iiie:case se.m100:case se.m105:case se.pegS300:case se.pegS500c:return 16;case se.m500:case se.m505:case se.m515:case se.m520:case se.m125:case se.m130:case se.i705:case se.i710:case se.handera330:case se.handera330c:case se.pegS320:case se.pegT400:case se.pegN600c:case se.pegT600c:case se.pegN700c:case se.acerS11:return 33;case se.pegT650c:case se.pegNR70:case se.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(e){this.speedTransient=e.detail?.value}createFormGroup(){this.formGroup=new dm({name:new ni(this.session.name,{validators:[Rf.required,this.validateNameUnique]}),manageHotsyncName:new ni(!this.session.dontManageHotsyncName),hotsyncName:new ni(this.session.hotsyncName||""),device:new ni({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new ni((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new ni(this.session.deviceOrientation||Gr.portrait)})}static#e=this.\u0275fac=function(r){return new(r||t)(w(gp),w(lo))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(r,o){1&r&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3,"Session settings"),ee(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.save()}),Be(6,"Save"),ee()(),ie(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancel()}),Be(9,"Cancel"),ee()()()(),ie(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return o.onEnter()}),ie(12,"h1"),Be(13,"Session"),ee(),ie(14,"ion-item",6)(15,"ion-label",7),Be(16,"Session name"),ee(),lt(17,"ion-input",8),ee(),ie(18,"h1"),Be(19,"Device"),ee(),ie(20,"ion-item",6)(21,"ion-label",7),Be(22,"Device type"),ee(),ie(23,"ion-select",9),nn(24,wz,2,2,"ion-select-option",10),ee()(),ie(25,"ion-item",6)(26,"ion-label",7),Be(27,"Orientation"),ee(),ie(28,"ion-select",11),nn(29,Sz,2,2,"ion-select-option",10),ee()(),ie(30,"ion-item",6)(31,"ion-label",12),Be(32),ee(),ie(33,"ion-range",13),at("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),ee()(),ie(34,"h1"),Be(35,"Hotsync"),ee(),ie(36,"ion-item",6)(37,"ion-label"),Be(38,"Manage hotsync name"),ee(),lt(39,"ion-toggle",14),ee(),nn(40,Ez,4,1,"ion-item",15),ee()()),2&r&&(Ye(5),nt("disabled",o.formGroup.invalid),Ye(6),nt("formGroup",o.formGroup),Ye(13),nt("ngForOf",o.deviceList),Ye(5),nt("ngForOf",o.orientations),Ye(3),Bs(o.speedLabel),Ye(8),nt("ngIf",o.showHotsyncNameInput))},dependencies:[zc,Si,os,is,ss,as,Ll,gi,ls,fb,Bm,jm,cs,sp,us,bd,op,Nl,Pl,Tl,Al,$y,Ca,za],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]})}return t})(),Dz=(()=>{class t{constructor(e,r,o,i,s,a,c){this.emulationService=e,this.loadingController=r,this.snapshotService=o,this.fileService=i,this.emulationStateService=s,this.alertService=a,this.cloudpilotService=c}saveBackup(e){var r=this;return(0,te.Z)(function*(){const o=r.emulationStateService.getCurrentSession();if(!o)return;const i=yield r.loadingController.create({message:"Backing up..."});yield i.present();const s=[];let a;yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();try{const c=yield r.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,te.Z)(function*(m){for(m.Init(e);m.IsInProgress();){const y=m.GetCurrentDatabase();m.Save()||s.push(y),yield new Promise(S=>setTimeout(S,0))}a=c.getArchive(m)});return function(m){return f.apply(this,arguments)}}())}finally{yield i.dismiss(),yield r.emulationService.resume()}a?s.length>0?yield r.alertService.message("Backup complete",`\n                    ${Fb(s)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>r.fileService.saveFile(BM(o,e),a)},"Cancel"):r.fileService.saveFile(BM(o,e),a):yield r.alertService.errorMessage("Backup failed.")})()}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Da),ce(Ya),ce(mp),ce(Ec),ce($l),ce(lo),ce(Ea))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Iz=window.AudioContext||window.webkitAudioContext;function qb(t,n=100){return new Promise((e,r)=>{setTimeout(()=>r(new Error("timeout")),n),t.then(e,r)})}class xz{constructor(n){var e=this;this.emulationService=n,this.initialize=()=>this.mutex.runExclusive((0,te.Z)(function*(){if(!e.initialized){try{e.context=new Iz}catch(r){return console.error(r),void console.error("web audio not available")}try{e.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield e.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}e.context.addEventListener("statechange",()=>{"interrupted"===e.context?.state&&e.updateState()}),e.gainNode=e.context.createGain(),e.gainNode.channelCount=1,e.gainNode.channelInterpretation="speakers",e.gainNode.gain.value=e.gain(),e.gainNode.connect(e.context.destination),e.applyPwmUpdate(),e.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,te.Z)(function*(){if(!e.context||e.isRunning()===e.shouldRun())return;!r&&!e.isRunning()&&e.shouldRun()&&e.applyPwmUpdate();const o=e.context.state;if(e.shouldRun())try{e.updateGain(),yield qb(e.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield qb(e.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${e.context.state}`)})),this.onPwmUpdate=function(){var r=(0,te.Z)(function*(o){e.pendingPwmUpdate=o,e.initialized&&(e.shouldRun()!==e.isRunning()&&e.updateState(!0),e.shouldRun()&&e.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Xa,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Vs||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(n){this.muted=n,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Vs||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var n=this;return(0,te.Z)(function*(){n.context&&(yield qb(n.context.resume()),n.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:n,dutyCycle:e}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,n<=0||e<=0||n>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/n),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<e?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let Yb=(()=>{class t extends xz{constructor(e,r,o){super(e),this.kvs=r,this.modalWatcher=o,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Da),ce(Gi),ce(Lb))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iT=(()=>{class t{constructor(e,r){this.emulationService=e,this.ngZone=r,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=o=>{this.reset(),o&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!o&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Da),ce(dt))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mz(t,n){if(1&t){const e=Or();ie(0,"ion-item",4),at("click",function(){return hn(e),mn(Ut().power())}),ie(1,"ion-label"),Be(2,"Power"),ee(),lt(3,"ion-icon",5),ee()}if(2&t){const e=Ut();nt("detail",!1)("disabled",!e.emulationService.isRunning())}}function Tz(t,n){if(1&t){const e=Or();ie(0,"ion-item",4),at("click",function(){return hn(e),mn(Ut().hotsync())}),ie(1,"ion-label"),Be(2,"Hotsync"),ee(),lt(3,"ion-icon",6),ee()}if(2&t){const e=Ut();nt("detail",!1)("disabled",!e.emulationService.isRunning())}}function Az(t,n){if(1&t){const e=Or();ie(0,"ion-item",4),at("click",function(){return hn(e),mn(Ut().reset())}),ie(1,"ion-label"),Be(2,"Reset"),ee(),lt(3,"ion-icon",7),ee()}if(2&t){const e=Ut();nt("detail",!1)("disabled",!e.emulationService.isRunning())}}function Pz(t,n){if(1&t){const e=Or();ie(0,"ion-item",8),at("click",function(){return hn(e),mn(Ut().insertCard())}),ie(1,"ion-label"),Be(2),ee(),lt(3,"ion-icon",9),ee()}if(2&t){const e=Ut();nt("detail",!1),Ye(2),Vi("Insert ",e.hasMemorystick?"stick":"SD card","")}}function Rz(t,n){if(1&t){const e=Or();ie(0,"ion-item",8),at("click",function(){return hn(e),mn(Ut().ejectCard())}),ie(1,"ion-label"),Be(2),ee(),lt(3,"ion-icon",10),ee()}if(2&t){const e=Ut();nt("detail",!1),Ye(2),Vi("Eject ",e.hasMemorystick?"stick":"SD card","")}}function Oz(t,n){if(1&t){const e=Or();ie(0,"ion-item",8),at("click",function(){return hn(e),mn(Ut().mute(!1))}),ie(1,"ion-label"),Be(2,"Enable audio"),ee(),lt(3,"ion-icon",11),ee()}2&t&&nt("detail",!1)}function Fz(t,n){if(1&t){const e=Or();ie(0,"ion-item",8),at("click",function(){return hn(e),mn(Ut().mute(!0))}),ie(1,"ion-label"),Be(2,"Disable audio"),ee(),lt(3,"ion-icon",12),ee()}2&t&&nt("detail",!1)}function Nz(t,n){if(1&t){const e=Or();ie(0,"ion-item",4),at("click",function(){return hn(e),mn(Ut().backup())}),ie(1,"ion-label"),Be(2,"Save backup"),ee(),lt(3,"ion-icon",13),ee()}if(2&t){const e=Ut();nt("detail",!1)("disabled",e.backupDisabled)}}function Lz(t,n){if(1&t){const e=Or();ie(0,"ion-item",8),at("click",function(){return hn(e),mn(Ut().rotate())}),ie(1,"ion-label"),Be(2,"Rotate"),ee(),lt(3,"ion-icon",14),ee()}2&t&&nt("detail",!1)}function $z(t,n){if(1&t){const e=Or();ie(0,"ion-item",8),at("click",function(){return hn(e),mn(Ut().editSettings())}),ie(1,"ion-label"),Be(2,"Settings"),ee(),lt(3,"ion-icon",15),ee()}2&t&&nt("detail",!1)}function Bz(t){switch(t){case Gr.portrait:case void 0:return Gr.landscape90;case Gr.landscape90:return Gr.portrait180;case Gr.portrait180:return Gr.landscape270;case Gr.landscape270:return Gr.portrait;default:throw new Error("cannot happen")}}let jz=(()=>{class t{constructor(e,r,o,i,s,a,c,f,m,y,S,A,oe,he,Te,je,Ae,kt){this.emulationService=e,this.emulationStateService=r,this.backupService=o,this.buttonService=i,this.actionSheetController=s,this.popoverController=a,this.audioService=c,this.kvsService=f,this.modalController=m,this.sessionService=y,this.performanceWatchdogService=S,this.canvasDisplayService=A,this.cloudpilotService=oe,this.storageCardService=he,this.alertService=Te,this.alertController=je,this.storageService=Ae,this.errorService=kt,this.showHelp=()=>{}}reset(){var e=this;return(0,te.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,te.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function o8(t){switch(t){case se.i705:case se.i710:case se.pegNR70:case se.pegT650c:case se.lp168:return!0;default:return!1}}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&RM(e.device)!==xd.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&RM(e.device)===xd.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,te.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;const o=r.speed,i=r.deviceOrientation,s=yield e.modalController.create({component:rT,backdropDismiss:!1,componentProps:{session:r,availableDevices:[r.device],onSave:(a=(0,te.Z)(function*(){o!==r.speed&&e.performanceWatchdogService.reset(),i!==r.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(r),s.dismiss()}),function(){return a.apply(this,arguments)}),onCancel:()=>s.dismiss()}});var a;yield e.popoverController.dismiss(),yield s.present()})()}rotate(){var e=this;return(0,te.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;yield e.storageService.updateSessionPartial(r.id,{deviceOrientation:Bz(r.deviceOrientation)});const o=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,o),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,te.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const o=yield e.cloudpilotService.cloudpilot,i=e.storageCardService.getAllCards().filter(a=>o.deviceSupportsCardSize(a.size)&&!e.storageCardService.mountedInSession(a.id));0!==i.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>e.storageCardService.insertCard(a)}],inputs:i.map((a,c)=>({label:a.name,type:"radio",value:a.id,checked:0===c})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,te.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(r){e.errorService.fatalBug(r instanceof Error?r.message:"eject failed")}e.popoverController.dismiss()})()}static#e=this.\u0275fac=function(r){return new(r||t)(w(Da),w($l),w(Dz),w(zM),w(up),w(nu),w(Yb),w(Gi),w(bs),w(gp),w(iT),w(rg),w(Ea),w(kd),w(lo),w(tu),w(er),w(ou))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(r,o){1&r&&(ie(0,"ion-list"),nn(1,Mz,4,2,"ion-item",0),nn(2,Tz,4,2,"ion-item",0),nn(3,Az,4,2,"ion-item",0),nn(4,Pz,4,2,"ion-item",1),nn(5,Rz,4,2,"ion-item",1),nn(6,Oz,4,1,"ion-item",1),nn(7,Fz,4,1,"ion-item",1),nn(8,Nz,4,2,"ion-item",0),nn(9,Lz,4,1,"ion-item",1),nn(10,$z,4,1,"ion-item",1),ie(11,"ion-item",2),at("click",function(){return o.help()}),ie(12,"ion-label"),Be(13,"Help"),ee(),lt(14,"ion-icon",3),ee()()),2&r&&(Ye(1),nt("ngIf",o.hasActiveSession&&!o.powerDisabled),Ye(1),nt("ngIf",o.hasActiveSession),Ye(1),nt("ngIf",o.hasActiveSession),Ye(1),nt("ngIf",o.supportsStorageCard&&!o.hasMountedCard),Ye(1),nt("ngIf",o.supportsStorageCard&&o.hasMountedCard),Ye(1),nt("ngIf",o.isMuted&&!o.isAudioOff),Ye(1),nt("ngIf",!o.isMuted&&!o.isAudioOff),Ye(1),nt("ngIf",o.hasActiveSession),Ye(1),nt("ngIf",o.hasActiveSession),Ye(1),nt("ngIf",o.hasActiveSession),Ye(1),nt("detail",!1))},dependencies:[Si,Di,gi,ls,qa]})}return t})();const Vz=T.p+"assets/doc/emulation-4d1cd1e4fd3e19e2.md";class Uz{constructor(n,e){this.emulationService=n,this.canvasDisplayService=e,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const c=this.determineArea(a);if(2===c){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:c,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:c}),this.emulationService.handlePointerMove(...a,1===c)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const c=a.area;switch(c){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const m=this.canvasDisplayService.determineButton(f);m===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):m!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=m,this.handleButtonDown(m));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===c);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(n,e=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=n,this.keyEventTarget=e||window,this.addEventListener(n,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(n,"touchstart",this.handleTouchStart),this.addEventListener(n,"touchmove",this.handleTouchMove),this.addEventListener(n,"touchend",this.handleTouchEnd),this.addEventListener(n,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const n of this.activeButtons)this.handleButtonUp(n);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(n){this.gameMode=n,this.onToggleGameMode()}setGameModeHotkeyEnabled(n){this.enableGamemodeHotkey=n}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(n,e,r,o){n.addEventListener(e,r,o)}removeEventListener(n,e,r,o){n.removeEventListener(e,r,o)}determineArea(n){return this.canvasDisplayService.isButtons(n)?2:this.canvasDisplayService.isSilkscreen(n)?1:0}handleButtonDown(n){this.activeButtons.has(n)||(this.activeButtons.add(n),this.emulationService.handleButtonDown(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(n){void 0===n||!this.activeButtons.has(n)||(this.activeButtons.delete(n),this.emulationService.handleButtonUp(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(n){return this.isGameModeHotkeyEnabled()&&("Shift"===n.key&&n.ctrlKey||"Control"===n.key&&n.shiftKey)}isGameModeActive(n){return!this.gameMode&&n.ctrlKey||this.gameMode&&!n.ctrlKey}buttonFromEvent(n){switch(n.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(n))switch(n.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(n){if(!this.isGameModeActive(n)){if(1===n.key.length&&n.key.charCodeAt(0)<=255)return n.key.charCodeAt(0);switch(n.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let Hz=(()=>{class t extends Uz{constructor(e,r,o,i,s){super(e,r),this.modalWatcher=o,this.ngZone=i,this.app=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,r,o,i){this.ngZone.runOutsideAngular(()=>e.addEventListener(r,o,i))}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Da),ce(rg),ce(Lb),ce(dt),ce(Dl))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sT(t){return/\.(prc|pdb|pqa)$/i.test(t)}class qz{constructor(n,e,r,o){this.cloudpilotService=n,this.alertController=e,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var n=this;return(0,te.Z)(function*(){for(const e of n.files){let r;try{r=yield e.getContent()}catch(o){console.warn(o),n.filesFail.push(e.name);continue}if(/\.zip/i.test(e.name)&&r.length<33554432)try{yield n.installZip(e)}catch{n.filesFail.push(e.name)}else sT(e.name)?yield n.installOne(e.name,r):n.filesFail.push(e.name)}return[n.filesSuccess,n.filesRequireReset,n.filesFail]})()}installOne(n,e){var r=this;return(0,te.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(e);switch(i){case 2:r.filesRequireReset.push(n),r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;case 1:r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;default:r.filesFail.push(n),yield r.reportError(n,i)}if(2===i||1===i)try{const s=function Zz(t){if(t.length<32)throw new Error("not a database");let n;for(n=0;n<32&&0!==t[n];n++);if(n>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(t.subarray(0,n))}(e);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${n} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,n)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(n){var e=this;return(0,te.Z)(function*(){yield(yield e.cloudpilotService.cloudpilot).withZipfileWalker(yield n.getContent(),function(){var o=(0,te.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!sT(i.GetCurrentEntryName())){i.Next();continue}const c=i.GetCurrentEntryContent();c?(yield e.installOne(a,c),s++):e.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(n,e){return this.errorDialog("Item failed to install",`Could not install ${n}: ${function Wz(t){switch(t){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(e)}.`)}errorDialog(n,e){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:n,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:new eu.I(e),buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}let Yz=(()=>{class t{constructor(e,r,o,i,s,a){this.cloudpilotService=e,this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.alertService=s,this.alertController=a}installFiles(e){var r=this;return(0,te.Z)(function*(){const o=yield r.loadingController.create({message:"Installing..."});yield o.present(),yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();let i=[],s=[],a=[];try{[i,a,s]=yield new qz(r.cloudpilotService,r.alertController,r.snapshotService,e).run()}finally{o.dismiss(),r.emulationService.resume()}const c=[r.messageSucces(i),r.messageFailed(s),r.messageRequireReset(a)].filter(m=>!!m).join("<br/><br/>");let f;f=0===s.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",r.alertService.message(f,c,a.length>0?{"Reset now":()=>r.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${Fb(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${Fb(e)} require a device reset.`:void 0}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Ea),ce(Da),ce(Ya),ce(mp),ce(lo),ce(tu))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xb=(()=>{class t{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Xz=["canvas"];function Kz(t,n){if(1&t){const e=Or();ie(0,"ion-button",5),at("click",function(){return hn(e),mn(Ut().navigation.lock())}),lt(1,"ion-icon",10),ee()}}function Qz(t,n){if(1&t){const e=Or();ie(0,"ion-button",5),at("click",function(){return hn(e),mn(Ut().navigation.unlock())}),lt(1,"ion-icon",11),ee()}}function Jz(t,n){if(1&t){const e=Or();ie(0,"ion-button",5),at("click",function(){return hn(e),mn(Ut().showGameModeHint())}),lt(1,"ion-icon",12),ee()}}function e5(t,n){if(1&t){const e=Or();ie(0,"ion-button",5),at("click",function(){return hn(e),mn(Ut().showProxyConnectedHint())}),lt(1,"ion-icon",13),ee()}}function t5(t,n){if(1&t){const e=Or();ie(0,"ion-button",5),at("click",function(){return hn(e),mn(Ut().showSlowdowndHint())}),lt(1,"ion-icon",14),ee()}}function n5(t,n){if(1&t){const e=Or();ie(0,"div",15),Be(1," The device was reset forcefully. How do you want to boot? "),ie(2,"ion-button",16),at("click",function(){return hn(e),mn(Ut().bootAfterForcefulReset())}),Be(3,"Normal boot"),ee(),ie(4,"ion-button",16),at("click",function(){return hn(e),mn(Ut().bootAfterForcefulResetNoExtensions())}),Be(5,"No extensions"),ee(),ie(6,"ion-button",16),at("click",function(){return hn(e),mn(Ut().bootAfterForcefulResetHardReset())}),Be(7,"Hard reset"),ee()()}}function r5(t,n){1&t&&(ie(0,"div",15)(1,"div"),Be(2,"No session selected"),ee()())}let o5=(()=>{class t{constructor(e,r,o,i,s,a,c,f,m,y,S,A,oe,he,Te,je,Ae,kt){var bt=this;this.emulationService=e,this.emulationState=r,this.storageService=o,this.eventHandlingService=i,this.canvasDisplayService=s,this.kvsService=a,this.popoverController=c,this.modalController=f,this.alertService=m,this.fileService=y,this.snapshotService=S,this.installlationService=A,this.proxyService=oe,this.navigation=he,this.linkApi=Te,this.performanceWatchdogService=je,this.cloudpilotService=Ae,this.dragDropService=kt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,te.Z)(function*(){yield bt.emulationService.bootstrapComplete(),bt.boostrapComplete=!0;const Kt=bt.emulationState.getCurrentSession();Kt&&!Kt.wasResetForcefully&&(yield bt.launchEmulator()),bt.linkApi.installation.requestEvent.addHandler(bt.handleLinkApiInstallationRequest),bt.handleLinkApiInstallationRequest(),bt.dragDropService.registerClient(bt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Kt=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Kt,this.emulationService.getStatistics())},this.onNewFrame=Kt=>{this.canvasDisplayService.updateEmulationCanvas(Kt)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Kt=this.linkApi.installation.receivePendingUrl();Kt&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Kt} ?`,{OK:()=>this.fileService.openUrl(Kt,Mo=>this.installlationService.installFiles([Mo]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Kt} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Xa}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var r=this;return(0,te.Z)(function*(){(yield r.popoverController.create({component:jz,event:e,componentProps:{showHelp:()=>r.showHelp()},arrow:!1,translucent:!0})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:iu,componentProps:{url:Vz}})).present()})()}showGameModeHint(){var e=this;return(0,te.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,te.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,te.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,te.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,te.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,te.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,te.Z)(function*(){const r=e.emulationState.getCurrentSession();r&&(yield e.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,te.Z)(function*(){const r=e.emulationState.getCurrentSession();r&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,r).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}static#e=this.\u0275fac=function(r){return new(r||t)(w(Da),w($l),w(er),w(Hz),w(rg),w(Gi),w(nu),w(bs),w(lo),w(Ec),w(mp),w(Yz),w(Bb),w(Zb),w(uy),w(iT),w(Ea),w(Xb))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-emulation"]],viewQuery:function(r,o){if(1&r&&Hc(Xz,5),2&r){let i;ta(i=na())&&(o.canvasRef=i.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(r,o){if(1&r&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3),ee(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.installFiles()}),lt(6,"ion-icon",2),ee(),nn(7,Kz,2,0,"ion-button",3),nn(8,Qz,2,0,"ion-button",3),ee(),ie(9,"ion-buttons",4)(10,"ion-button",5),at("click",function(s){return o.openContextMenu(s)}),lt(11,"ion-icon",6),ee(),nn(12,Jz,2,0,"ion-button",3),nn(13,e5,2,0,"ion-button",3),nn(14,t5,2,0,"ion-button",3),ee()()(),ie(15,"ion-content")(16,"div",7),at("touchstart",function(s){return o.cancelIfEmulationActive(s)})("touchmove",function(s){return o.cancelIfEmulationActive(s)}),lt(17,"canvas",null,8),ee(),nn(19,n5,8,0,"div",9),nn(20,r5,3,0,"div",9),ee()),2&r){let i,s;Ye(3),Bs(o.title),Ye(2),nt("disabled",o.installFileDisabled),Ye(2),nt("ngIf",!o.navigation.isLocked()),Ye(1),nt("ngIf",o.navigation.isLocked()),Ye(4),nt("ngIf",o.eventHandlingService.isGameMode()),Ye(1),nt("ngIf",o.proxyService.isConnected()),Ye(1),nt("ngIf",o.performanceWatchdogService.isSlowdownDetected()),Ye(1),Sl("locked",o.navigation.isLocked()),Ye(1),Yu("display",!o.emulationState.getCurrentSession()||null!=(i=o.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),Ye(1),Yu("width",o.cssWidth)("height",o.cssHeight)("display",o.emulationState.getCurrentSession()?"block":"none"),Ye(2),nt("ngIf",null!=(s=o.emulationState.getCurrentSession())&&s.wasResetForcefully?"none":void 0),Ye(1),nt("ngIf",!o.emulationState.getCurrentSession()&&o.boostrapComplete)}},dependencies:[Si,os,is,ss,as,Di,cs,us],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]})}return t})();function Kb(t,n,e){return()=>{const r=e();r!==n&&(t.markForCheck(),n=r)}}function aT(t,n){let e=t,r=1;for(;n(e);)e=`${t} (${r++})`;return e}const i5=T.p+"assets/doc/sessions-70e5b5b0b1917420.md";let s5=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=v({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(r,o){1&r&&(ie(0,"ion-list")(1,"ion-item",0),at("click",function(){return o.onEdit()}),lt(2,"ion-icon",1),Be(3," Edit "),ee(),ie(4,"ion-item",0),at("click",function(){return o.onSave()}),lt(5,"ion-icon",2),Be(6," Save "),ee(),ie(7,"ion-item",0),at("click",function(){return o.onReset()}),lt(8,"ion-icon",3),Be(9," Reset "),ee(),ie(10,"ion-item",4),at("click",function(){return o.onDelete()}),lt(11,"ion-icon",5),Be(12," Delete "),ee()()),2&r&&(Ye(1),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1))},dependencies:[Di,gi,qa]})}return t})();const l5=["slidingItem"];function c5(t,n){if(1&t&&(ie(0,"span"),Be(1),ee()),2&t){const e=Ut();Ye(1),Vi(", OS ",e.decodeVersion(null==e.session?null:e.session.osVersion),"")}}let u5=(()=>{class t{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new Mn,this.resetSession=new Mn,this.edit=new Mn,this.save=new Mn,this.selectItem=new Mn,this.interaction=new Mn}get device(){return this.session?PM(this.session.device):""}onContextmenu(e){var r=this;return(0,te.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:s5,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.edit.emit(),onSave:()=>r.save.emit(),onDelete:()=>r.delete.emit(),onReset:()=>r.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(e){if(void 0===e)return"";const r=function a5(t){return{major:t>>>24&255,minor:t>>>20&15,fix:t>>>16&15,stage:t>>>12&15,build:4095&t}}(e);return`${r.major}.${r.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}static#e=this.\u0275fac=function(r){return new(r||t)(w(nu))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-session-item"]],viewQuery:function(r,o){if(1&r&&Hc(l5,5),2&r){let i;ta(i=na())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(r,o){if(1&r){const i=Or();ie(0,"ion-item-sliding",0,1),at("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),ie(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return hn(i),$s(1).close(),mn(o.edit.emit(o.session))}),lt(4,"ion-icon",4),ee(),ie(5,"ion-item-option",5),at("click",function(){return hn(i),$s(1).close(),mn(o.save.emit(o.session))}),lt(6,"ion-icon",6),ee()(),ie(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return hn(i),$s(1).close(),mn(o.resetSession.emit(o.session))}),lt(9,"ion-icon",9),ee(),ie(10,"ion-item-option",10),at("click",function(){return hn(i),$s(1).close(),mn(o.delete.emit(o.session))}),lt(11,"ion-icon",11),ee()(),ie(12,"ion-item",12),at("click",function(){return o.selectItem.emit()}),ie(13,"ion-label")(14,"h2"),Be(15),ee(),ie(16,"p"),Be(17),nn(18,c5,2,1,"span",13),ee()()()()}2&r&&(Ye(12),nt("color",o.color),Ye(1),Sl("in-item-color",o.selected),Ye(2),Bs(null==o.session?null:o.session.name),Ye(2),pf("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),Ye(1),nt("ngIf",null==o.session?null:o.session.osVersion))},dependencies:[Si,Di,gi,Nm,Lm,$m,ls],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0})}return t})();function d5(t,n){1&t&&(ie(0,"div",10),lt(1,"ion-spinner"),ee())}function f5(t,n){1&t&&(ie(0,"div",11)(1,"div",12),Be(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),lt(3,"br")(4,"br"),Be(5," You can find a collection of compatible ROMs on "),ie(6,"a",13),Be(7,"PalmDB"),ee(),Be(8,". "),ee()())}function p5(t,n){if(1&t){const e=Or();ie(0,"app-session-item",15),at("delete",function(){const i=hn(e).$implicit;return mn(Ut(2).deleteSession(i))})("selectItem",function(){const i=hn(e).$implicit;return mn(Ut(2).launchSession(i))})("edit",function(){const i=hn(e).$implicit;return mn(Ut(2).editSession(i))})("save",function(){const i=hn(e).$implicit;return mn(Ut(2).saveSession(i))})("resetSession",function(){const i=hn(e).$implicit;return mn(Ut(2).resetSession(i))})("interaction",function(){const i=hn(e).$implicit;return mn(Ut(2).lastSessionTouched=i.id)}),ee()}if(2&t){const e=n.$implicit,r=Ut(2);nt("session",e)("selected",r.currentSessionId===e.id)("touched",e.id===r.lastSessionTouched)}}function h5(t,n){if(1&t&&(ie(0,"ion-list"),nn(1,p5,1,3,"app-session-item",14),ee()),2&t){const e=Ut();Ye(1),nt("ngForOf",e.sessions)("ngForTrackBy",e.trackSessionBy)}}class jl{constructor(n,e,r,o,i,s,a,c,f,m,y,S,A){this.sessionService=n,this.fileService=e,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=c,this.linkApi=f,this.router=m,this.cloudpilotService=y,this.dragDropService=S,this.cd=A,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const oe=this.linkApi.import.receivePendingUrl();oe&&this.alertService.message("Import request",`Do you want to import<br>${oe} ?`,{OK:()=>this.fileService.openUrl(oe,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=Kb(A,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((n,e)=>n.name.localeCompare(e.name))}deleteSession(n){var e=this;return(0,te.Z)(function*(){yield(yield e.alertController.create({header:"Warning",message:`Deleting the session '${n.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>e.sessionService.deleteSession(n)}],backdropDismiss:!1})).present()})()}editSession(n){var e=this;return(0,te.Z)(function*(){const r={...n};(yield e.editSettings(n))&&!YM()(n,r)&&(yield e.sessionService.updateSession(n))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(n){return this.fileService.saveSession(n)}trackSessionBy(n,e){return e.id}launchSession(n){var e=this;return(0,te.Z)(function*(){e.lastSessionTouched=n.id,e.currentSessionOverride=n.id,e.cd.markForCheck();const r=yield e.emulationService.switchSession(n.id);e.currentSessionOverride=void 0,e.cd.markForCheck(),r&&e.router.navigateByUrl("/tab/emulation")})()}resetSession(n){var e=this;return(0,te.Z)(function*(){const r=n.id===e.emulationState.getCurrentSession()?.id;r&&(yield e.emulationService.stop()),yield e.storageService.deleteStateForSession(n),yield e.storageService.updateSessionPartial(n.id,{wasResetForcefully:!0}),r&&(yield e.emulationService.switchSession(n.id)),yield(yield e.alertController.create({header:"Done",message:`Session ${n.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var n=this;return(0,te.Z)(function*(){yield(yield n.modalController.create({component:iu,componentProps:{url:i5}})).present()})()}handleDragDropEvent(n){this.fileService.openFromDrop(n,this.handleDropFiles.bind(this))}handleDropFiles(n){if(0!==n.length){if(n.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(n[0])}}processFile(n){var e=this;return(0,te.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(n.name))return void e.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");let r;try{r=yield n.getContent()}catch(i){return console.warn(i),void(yield e.alertService.errorMessage(`Unable to open ${n.name}.`))}const o=(yield e.cloudpilotService.cloudpilot).deserializeSessionImage(r);if(o){const i={name:e.disambiguateSessionName(o.metadata?.name??n.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield e.editSettings(i)){const s=yield e.sessionService.addSessionFromImage(o,i.name,i);e.lastSessionTouched=s.id}}else{const i=(yield e.cloudpilotService.cloudpilot).getRomInfo(r);if(!i)return void e.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void e.alertService.errorMessage("No supported device for this ROM.");const s={name:e.disambiguateSessionName(n.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield e.editSettings(s,i.supportedDevices)){const a=yield e.sessionService.addSessionFromRom(r,s.name,s.device,s);e.lastSessionTouched=a.id}}})()}editSettings(n,e=[n.device]){return new Promise(r=>{let o;this.modalController.create({component:rT,backdropDismiss:!1,componentProps:{session:n,availableDevices:e,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(n){const e=this.sessionService.getSessions();return aT(n,r=>e.some(o=>o.name===r))}static#e=this.\u0275fac=function(e){return new(e||jl)(w(gp),w(Ec),w(tu),w(lo),w(Da),w($l),w(er),w(bs),w(uy),w(ri),w(Ea),w(Xb),w(Tt))};static#t=this.\u0275cmp=v({type:jl,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,r){1&e&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3,"Sessions"),ee(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return r.importSession()}),lt(6,"ion-icon",2),ee()(),ie(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return r.showHelp()}),lt(9,"ion-icon",4),ee(),lt(10,"app-pwa-prompt"),ee()()(),ie(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Be(15,"Sessions"),ee()()(),nn(16,d5,2,0,"div",7),nn(17,f5,9,0,"div",8),nn(18,h5,2,2,"ion-list",9),ee()),2&e&&(Ye(16),nt("ngIf",r.sessionService.isLoading()),Ye(1),nt("ngIf",!r.sessionService.isLoading()&&0===r.sessions.length),Ye(1),nt("ngIf",!r.sessionService.isLoading()&&r.sessions.length>0))},dependencies:[zc,Si,os,is,ss,as,Di,qa,ip,cs,us,og,u5],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]})}W([yo()],jl.prototype,"deleteSession",null),W([yo()],jl.prototype,"editSession",null),W([yo()],jl.prototype,"saveSession",null),W([yo()],jl.prototype,"launchSession",null),W([yo()],jl.prototype,"resetSession",null);const lT="reduced-animations",m5=t=>(t.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",t.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,cb.c)()),g5=t=>{t.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const n=t.querySelector(".loading-wrapper");return n.style.transform="scale(1)",n.style.opacity="1",(0,cb.c)()},_5=t=>{t.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const n=t.querySelector(".alert-wrapper");return n.style.transform="scale(1)",n.style.opacity="1",(0,cb.c)()};function Qb(t){localStorage.setItem(lT,t?"1":"0")}function cT(){const t=localStorage.getItem(lT);if(null===t){const n=fM&&!Vs;return Qb(n),n}return"1"===t}function v5(){return cT()?{actionSheetEnter:m5,loadingEnter:g5,alertEnter:_5}:{}}const y5=T.p+"assets/doc/settings-b207dae82fa98ca1.md";function b5(t,n){1&t&&(ie(0,"ion-item",7)(1,"ion-label"),Be(2,"Clipboard integration"),ee(),lt(3,"ion-toggle",18),ee())}function C5(t,n){if(1&t){const e=Or();ie(0,"ion-item",7)(1,"ion-label",19),Be(2,"Proxy server"),ee(),ie(3,"div",20),lt(4,"ion-input",21),ie(5,"ion-button",22),at("click",function(o){hn(e);const i=Ut();return o.preventDefault(),o.stopPropagation(),mn(i.testProxyConnection())})("touchstart",function(o){hn(e);const i=Ut();return o.preventDefault(),o.stopPropagation(),mn(i.testProxyConnection())}),Be(6," Test "),ee()()()}if(2&t){const e=Ut();Ye(5),nt("disabled",!e.proxyServerValid)}}function w5(t,n){1&t&&(Wu(0),ie(1,"h1"),Be(2,"Debug"),ee(),ie(3,"ion-item",7)(4,"ion-label"),Be(5,"Snapshot validation (slow)"),ee(),lt(6,"ion-toggle",23),ee(),Zu())}let S5=(()=>{class t{constructor(e,r,o,i,s){this.modalController=e,this.kvsService=r,this.clipboardService=o,this.alertService=i,this.proxyService=s,this.onAudioOnStartChange=a=>{this.kvsService.kvs.enableAudioOnFirstInteraction=a,a&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event).\n            <br><br>\n            This option will take effect the next time\n            Coudpilot is restarts.\n        ")},this.onReducedAnimationsChange=a=>{Qb(a),this.alertService.message("Reduce animations",a?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                Coudpilot is restarts.\n            ":"\n                This option will only take effect the next time Coudpilot is restarts.\n            ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:iu,componentProps:{url:y5}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,te.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:e.formGroup.get("snapshotIntegrityCheck")?.value}),Qb(e.formGroup.get("reducedAnimations")?.value),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,te.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}get showDebugOptions(){return true}createFormGroup(){this.formGroup=new dm({volume:new ni(this.kvsService.kvs.volume),showStatistics:new ni(this.kvsService.kvs.showStatistics),runHidden:new ni(this.kvsService.kvs.runHidden),clipboardIntegration:new ni(this.kvsService.kvs.clipboardIntegration),networkRedirection:new ni(this.kvsService.kvs.networkRedirection),proxyServer:new ni(this.kvsService.kvs.proxyServer,{validators:[T8]}),autoLockUI:new ni(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new ni(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new ni(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new ni(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new ni(cT())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange)}static#e=this.\u0275fac=function(r){return new(r||t)(w(bs),w(Gi),w(HM),w(lo),w(Bb))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-settings"]],decls:56,vars:4,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["formControlName","snapshotIntegrityCheck"]],template:function(r,o){1&r&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3,"Settings"),ee(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.showHelp()}),lt(6,"ion-icon",2),ee(),lt(7,"app-pwa-prompt"),ee()()(),ie(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),Be(12,"Settings"),ee()()(),ie(13,"div",5)(14,"form",6)(15,"h1"),Be(16,"Emulation"),ee(),ie(17,"ion-item",7)(18,"ion-label"),Be(19,"Volume"),ee(),lt(20,"ion-range",8),ee(),ie(21,"ion-item",7)(22,"ion-label"),Be(23,"Enable audio on start"),ee(),lt(24,"ion-toggle",9),ee(),ie(25,"ion-item",7)(26,"ion-label"),Be(27,"Run when hidden"),ee(),lt(28,"ion-toggle",10),ee(),ie(29,"h1"),Be(30,"Host integration"),ee(),nn(31,b5,4,0,"ion-item",11),ie(32,"ion-item",7)(33,"ion-label"),Be(34,"Network redirection"),ee(),lt(35,"ion-toggle",12),ee(),nn(36,C5,7,1,"ion-item",11),ie(37,"h1"),Be(38,"UI"),ee(),ie(39,"ion-item",7)(40,"ion-label"),Be(41,"Auto-lock UI"),ee(),lt(42,"ion-toggle",13),ee(),ie(43,"ion-item",7)(44,"ion-label"),Be(45,"Reduce animations"),ee(),lt(46,"ion-toggle",14),ee(),ie(47,"ion-item",7)(48,"ion-label"),Be(49,"Show statistics"),ee(),lt(50,"ion-toggle",15),ee(),ie(51,"ion-item",7)(52,"ion-label"),Be(53,"Open from remote sources"),ee(),lt(54,"ion-toggle",16),ee(),nn(55,w5,7,0,"ng-container",17),ee()()()),2&r&&(Ye(14),nt("formGroup",o.formGroup),Ye(17),nt("ngIf",o.clipboardService.isSupported()),Ye(5),nt("ngIf",o.showProxyServer),Ye(19),nt("ngIf",o.showDebugOptions))},dependencies:[Si,Pl,Tl,Al,os,is,ss,as,Di,Ll,gi,ls,fb,cs,sp,us,bd,op,Nl,og,Ca,za],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]})}return t})(),Jb=(()=>{class t{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=bn({name:"cardSize",type:t,pure:!0})}return t})();function E5(t,n){1&t&&(ie(0,"div",13)(1,"b"),Be(2,"WARNING:"),ee(),Be(3," This image cannot be used as a memory stick image."),ee())}let uT=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value&&o.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new fc({name:new ys("",{nonNullable:!0,validators:[Rf.required,this.validateNameUnique]}),size:new ys({value:"dummy",disabled:!0}),checkAutomatically:new ys(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}static#e=this.\u0275fac=function(r){return new(r||t)(w(kd))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(r,o){1&r&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3),ee(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.save()}),Be(6,"Save"),ee()(),ie(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancel()}),Be(9,"Cancel"),ee()()()(),ie(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return o.onEnter()}),ie(12,"ion-item",6)(13,"ion-label",7),Be(14,"Card name"),ee(),lt(15,"ion-input",8),ee(),ie(16,"ion-item",6)(17,"ion-label",7),Be(18,"Card size"),ee(),ie(19,"ion-select",9)(20,"ion-select-option",10),Be(21),ja(22,"cardSize"),ee()()(),ie(23,"ion-item",6)(24,"ion-label"),Be(25,"Check for errors automatically"),ee(),lt(26,"ion-toggle",11),ee()(),nn(27,E5,4,0,"div",12),ee()),2&r&&(Ye(3),Bs(o.newCard?"New memory card":"Edit memory card"),Ye(2),nt("disabled",o.formGroup.invalid),Ye(6),nt("formGroup",o.formGroup),Ye(10),Vi("",Va(22,5,null==o.card?null:o.card.size)," "),Ye(6),nt("ngIf",!o.memoryStickSupported))},dependencies:[Si,os,is,ss,as,Ll,gi,ls,Bm,jm,cs,sp,us,bd,op,Nl,Pl,Tl,Al,Ca,za,Jb],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]})}return t})();function D5(t,n){if(1&t&&(ie(0,"ion-select-option",12),Be(1),ja(2,"cardSize"),ee()),2&t){const e=n.$implicit,r=Ut();nt("value",e),Ye(1),Vi("",Va(2,2,r.sizeBytes(e))," ")}}const I5=[oi.mb4,oi.mb8,oi.mb16,oi.mb32,oi.mb64,oi.mb128];let x5=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new fc({name:new ys("",{nonNullable:!0,validators:[Rf.required,this.validateNameUnique]}),size:new ys(oi.mb32,{nonNullable:!0}),checkAutomatically:new ys(!0,{nonNullable:!0})})}get sizes(){return I5}sizeBytes(e){return function Z8(t){switch(t){case oi.mb4:return 4046848;case oi.mb8:return 8110080;case oi.mb16:return 16220160;case oi.mb32:return 32473088;case oi.mb64:return 64978944;case oi.mb128:return 129990656;default:throw new Error(`bad card size ${t}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}static#e=this.\u0275fac=function(r){return new(r||t)(w(kd))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(r,o){1&r&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3,"New memory card"),ee(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.create()}),Be(6,"Create"),ee()(),ie(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancel()}),Be(9,"Cancel"),ee()()()(),ie(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return o.onEnter()}),ie(12,"ion-item",6)(13,"ion-label",7),Be(14,"Card name"),ee(),lt(15,"ion-input",8),ee(),ie(16,"ion-item",6)(17,"ion-label",7),Be(18,"Card size"),ee(),ie(19,"ion-select",9),nn(20,D5,3,4,"ion-select-option",10),ee()(),ie(21,"ion-item",6)(22,"ion-label"),Be(23,"Check for errors automatically"),ee(),lt(24,"ion-toggle",11),ee()()()),2&r&&(Ye(5),nt("disabled",o.formGroup.invalid),Ye(6),nt("formGroup",o.formGroup),Ye(9),nt("ngForOf",o.sizes))},dependencies:[zc,os,is,ss,as,Ll,gi,ls,Bm,jm,cs,sp,us,bd,op,Nl,Pl,Tl,Al,Ca,za,Jb]})}return t})();const k5=T.p+"assets/doc/cards-164c5578de056bad.md";let M5=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=v({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(r,o){1&r&&(ie(0,"ion-list")(1,"ion-item",0),at("click",function(){return o.onEdit()}),lt(2,"ion-icon",1),Be(3," Edit "),ee(),ie(4,"ion-item",0),at("click",function(){return o.onSave()}),lt(5,"ion-icon",2),Be(6," Save "),ee(),ie(7,"ion-item",0),at("click",function(){return o.onCheck()}),lt(8,"ion-icon",3),Be(9," Check "),ee(),ie(10,"ion-item",4),at("click",function(){return o.onDelete()}),lt(11,"ion-icon",5),Be(12," Delete "),ee()()),2&r&&(Ye(1),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1))},dependencies:[Di,gi,qa]})}return t})(),T5=(()=>{class t{constructor(e,r){this.storageCardService=e,this.popoverController=r,this.touched=!1,this.interaction=new Mn,this.selectCard=new Mn,this.edit=new Mn,this.check=new Mn,this.delete=new Mn,this.save=new Mn}onContextmenu(e){var r=this;return(0,te.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:M5,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.edit.emit(r.card),onSave:()=>r.save.emit(r.card),onCheck:()=>r.check.emit(),onDelete:()=>r.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Vr.dirty:return"needs check";case Vr.clean:return"no errors";case Vr.unformatted:return"no filesystem";case Vr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}static#e=this.\u0275fac=function(r){return new(r||t)(w(kd),w(nu))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(r,o){if(1&r){const i=Or();ie(0,"ion-item-sliding",0,1),at("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),ie(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return hn(i),$s(1).close(),mn(o.edit.emit(o.card))}),lt(4,"ion-icon",4),ee(),ie(5,"ion-item-option",5),at("click",function(){return hn(i),$s(1).close(),mn(o.save.emit(o.card))}),lt(6,"ion-icon",6),ee()(),ie(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return hn(i),$s(1).close(),mn(o.check.emit(o.card))}),lt(9,"ion-icon",9),ee(),ie(10,"ion-item-option",10),at("click",function(){return hn(i),$s(1).close(),mn(o.delete.emit(o.card))}),lt(11,"ion-icon",11),ee()(),ie(12,"ion-item",12),at("click",function(){return o.selectCard.emit(),o.interaction.emit()}),ie(13,"ion-label")(14,"h2"),Be(15),ee(),ie(16,"p"),Be(17),ja(18,"cardSize"),ee()()()()}2&r&&(Ye(12),nt("color",o.color),Ye(3),Bs(null==o.card?null:o.card.name),Ye(2),pf("",Va(18,4,null==o.card?null:o.card.size),", ",o.status,""))},dependencies:[Di,gi,Nm,Lm,$m,ls,Jb],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0})}return t})();function A5(t,n){1&t&&(ie(0,"div",10),lt(1,"ion-spinner"),ee())}function P5(t,n){1&t&&(ie(0,"div",11)(1,"div",12),Be(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),ee()())}function R5(t,n){if(1&t){const e=Or();ie(0,"app-storage-card",14),at("delete",function(){const i=hn(e).$implicit;return mn(Ut(2).deleteCard(i))})("selectCard",function(){const i=hn(e).$implicit;return mn(Ut(2).selectCard(i))})("edit",function(){const i=hn(e).$implicit;return mn(Ut(2).editCard(i))})("check",function(){const i=hn(e).$implicit;return mn(Ut(2).checkCard(i))})("interaction",function(){const i=hn(e).$implicit;return mn(Ut(2).lastCardTouched=i.id)})("save",function(){const i=hn(e).$implicit;return mn(Ut(2).saveCard(i))}),ee()}if(2&t){const e=n.$implicit,r=Ut(2);nt("card",e)("touched",e.id===r.lastCardTouched)}}function O5(t,n){if(1&t&&(ie(0,"ion-list"),nn(1,R5,1,2,"app-storage-card",13),ee()),2&t){const e=Ut();Ye(1),nt("ngForOf",e.cards)("ngForTrackBy",e.trackCardBy)}}class Ja{constructor(n,e,r,o,i,s,a,c,f,m,y){var S=this;this.actionSheetController=n,this.storageCardService=e,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=c,this.loadingController=f,this.fstools=m,this.handleCardImport=function(){var A=(0,te.Z)(function*(oe){const he=yield S.cloudpilotService.cloudpilot;let Te;try{Te=yield oe.getContent()}catch(kt){return console.warn(kt),void(yield S.alertService.errorMessage(`Unable to open ${oe.name}".`))}if(/\.gz$/.test(oe.name)){const kt=yield S.loadingController.create({message:"Unpacking..."});yield kt.present();try{Te=yield S.fstools.gunzip(Te)}finally{yield kt.dismiss()}}const je=Te?he.getCardSupportLevel(Te.length):0;if(void 0===Te||0===je)return void S.alertService.errorMessage("This is not a supported card image.");const Ae=yield new Promise(function(){var kt=(0,te.Z)(function*(bt){const Kt=yield S.modalController.create({component:uT,backdropDismiss:!1,componentProps:{card:{name:S.disambiguateName(oe.name.replace(/\.gz$/,"")),size:Te.length},cardSupportLevel:je,newCard:!0,onCancel:()=>{Kt.dismiss(),bt(void 0)},onSave:Bn=>{bt(Bn),Kt.dismiss()}}});yield Kt.present()});return function(bt){return kt.apply(this,arguments)}}());Ae&&(yield S.storageCardService.createCardFromImage(Ae.name,Te,!!Ae.dontFsckAutomatically))});return function(oe){return A.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=Kb(y,[],()=>this.storageCardService.getAllCards())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(n){this.fileService.openFromDrop(n,this.handleFilesFromDrop.bind(this))}addCardImage(){var n=this;return(0,te.Z)(function*(){(yield n.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>n.createNewCardImage()},{text:"Import an existing image",handler:()=>n.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var n=this;return(0,te.Z)(function*(){yield(yield n.modalController.create({component:iu,componentProps:{url:k5}})).present()})()}selectCard(n){var e=this;return(0,te.Z)(function*(){(yield e.storageCardService.browseCard(n))&&e.onMountForBrowse(n)})()}editCard(n){var e=this;return(0,te.Z)(function*(){const r=yield e.cloudpilotService.cloudpilot,o=yield e.modalController.create({component:uT,backdropDismiss:!1,componentProps:{card:n,cardSupportLevel:r.getCardSupportLevel(n.size),onCancel:()=>o.dismiss(),onSave:(i=(0,te.Z)(function*(s){yield e.storageCardService.updateCard(n.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(n){var e=this;return(0,te.Z)(function*(){const r=`${Jm(n.name.replace(/\.img$/,""))}.img`;yield(yield e.actionSheetController.create({header:"How do you want to save the image?",buttons:[{text:"Save gzip compressed image",handler:()=>e.storageCardService.saveCard(n.id,r,!0)},{text:"Save uncompressed image",handler:()=>e.storageCardService.saveCard(n.id,r,!1)},{text:"Cancel"}]})).present()})()}checkCard(n){return this.storageCardService.checkCard(n)}deleteCard(n){var e=this;return(0,te.Z)(function*(){var o;yield(yield e.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${n.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,te.Z)(function*(){try{yield e.storageCardService.deleteCard(n.id)}catch(i){e.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(n,e){return e.id}handleFilesFromDrop(n){if(0!==n.length){if(n.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(n[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var n=this;return(0,te.Z)(function*(){const e=yield n.modalController.create({component:x5,backdropDismiss:!1,componentProps:{onCancel:()=>e.dismiss(),onCreate:(r=(0,te.Z)(function*(o,i,s){yield n.storageCardService.createEmptyCard(o,i,s),yield e.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield e.present()})()}disambiguateName(n){const e=this.storageCardService.getAllCards();return aT(n,r=>e.some(o=>o.name===r))}static#e=this.\u0275fac=function(e){return new(e||Ja)(w(up),w(kd),w(bs),w(tu),w(Ea),w(lo),w(ou),w(Ec),w(Ya),w(KM),w(Tt))};static#t=this.\u0275cmp=v({type:Ja,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,r){1&e&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3,"Memory cards"),ee(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return r.addCardImage()}),lt(6,"ion-icon",2),ee()(),ie(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return r.showHelp()}),lt(9,"ion-icon",4),ee(),lt(10,"app-pwa-prompt"),ee()()(),ie(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Be(15,"Memory cards"),ee()()(),nn(16,A5,2,0,"div",7),nn(17,P5,3,0,"div",8),nn(18,O5,2,2,"ion-list",9),ee()),2&e&&(Ye(16),nt("ngIf",r.storageCardService.isLoading()),Ye(1),nt("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),Ye(1),nt("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[zc,Si,os,is,ss,as,Di,qa,ip,cs,us,og,T5],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0})}function F5(t,n){1&t&&lt(0,"ion-icon",8)}function N5(t,n){1&t&&lt(0,"ion-icon",9)}function L5(t,n){1&t&&lt(0,"ion-icon",10)}function $5(t,n){if(1&t){const e=Or();ie(0,"ion-item",2),at("click",function(){const i=hn(e).index;return mn(Ut(2).onSelect(i))}),Wu(1,3),nn(2,F5,1,0,"ion-icon",4),nn(3,N5,1,0,"ion-icon",5),nn(4,L5,1,0,"ion-icon",6),Zu(),ie(5,"div",7),Be(6),ee()()}if(2&t){const e=n.$implicit,r=n.index,o=Ut(2);nt("detail",!1)("lines",r===o.entries.length-1?"none":"full"),Ye(1),nt("ngSwitch",o.entries.length),Ye(1),nt("ngSwitchCase",r+1),Ye(1),nt("ngSwitchCase",r+2),Ye(3),Bs(e)}}function B5(t,n){if(1&t&&(ie(0,"ion-list"),nn(1,$5,7,6,"ion-item",1),ee()),2&t){const e=Ut();Ye(1),nt("ngForOf",e.entries)}}W([yo()],Ja.prototype,"addCardImage",null),W([yo()],Ja.prototype,"selectCard",null),W([yo()],Ja.prototype,"editCard",null),W([yo()],Ja.prototype,"saveCard",null),W([yo()],Ja.prototype,"checkCard",null),W([yo()],Ja.prototype,"deleteCard",null);let j5=(()=>{class t{constructor(){this.onSelect=()=>{}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=v({type:t,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(r,o){1&r&&nn(0,B5,2,1,"ion-list",0),2&r&&nt("ngIf",o.entries)},dependencies:[zc,Si,Xh,y1,b1,Di,gi,qa],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}return t})(),V5=(()=>{class t{constructor(e){this.vfsService=e,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}static#e=this.\u0275fac=function(r){return new(r||t)(w(lu))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(r,o){1&r&&(ie(0,"ion-list")(1,"ion-item",0),at("click",function(){return o.onStartSelection()}),lt(2,"ion-icon",1),Be(3," Start selection "),ee(),ie(4,"ion-item",2),at("click",function(){return o.onAddFiles()}),lt(5,"ion-icon",3),Be(6," Add files "),ee(),ie(7,"ion-item",2),at("click",function(){return o.onCreateDirectry()}),lt(8,"ion-icon",4),Be(9," Add directory "),ee(),ie(10,"ion-item",2),at("click",function(){return o.onExtractZipfile()}),lt(11,"ion-icon",5),Be(12," Extract zip "),ee(),ie(13,"ion-item",0),at("click",function(){return o.onPaste()}),lt(14,"ion-icon",6),Be(15," Paste "),ee(),ie(16,"ion-item",7),at("click",function(){return o.onHelp()}),lt(17,"ion-icon",8),Be(18," Help "),ee()()),2&r&&(Ye(1),nt("detail",!1)("disabled",o.emptyDirectory),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),Ye(3),nt("detail",!1))},dependencies:[Di,gi,qa]})}return t})();class Td{constructor(n,e){this.modalController=n,this.vfsService=e,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new fc({name:new ys("",{nonNullable:!0,validators:[Rf.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new ys(!1,{nonNullable:!0}),attrHidden:new ys(!1,{nonNullable:!0}),attrSystem:new ys(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var n=this;return(0,te.Z)(function*(){yield n.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var n=this;return(0,te.Z)(function*(){yield n.save()})()}save(){var n=this;return(0,te.Z)(function*(){n.entry&&n.formGroup.valid&&(yield n.vfsService.updateFileEntry(n.entry.path,{name:n.formGroup.controls.name.value??"",attributes:{hidden:!!n.formGroup.controls.attrHidden.value,readonly:!!n.formGroup.controls.attrReadonly.value,system:!!n.formGroup.controls.attrSystem.value}}),n.onSave(),n.modalController.dismiss())})()}static#e=this.\u0275fac=function(e){return new(e||Td)(w(bs),w(lu))};static#t=this.\u0275cmp=v({type:Td,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,r){1&e&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3),ee(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return r.onSaveClick()}),Be(6,"Save"),ee()(),ie(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return r.onCancelClick()}),Be(9,"Cancel"),ee()()()(),ie(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return r.onEnter()}),ie(12,"ion-item",6)(13,"ion-label",7),Be(14),ee(),lt(15,"ion-input",8),ee(),ie(16,"ion-item",6)(17,"h2"),Be(18,"Attributes"),ee()(),ie(19,"ion-item",6)(20,"ion-label"),lt(21,"ion-icon",9),Be(22,"Readonly"),ee(),lt(23,"ion-checkbox",10),ee(),ie(24,"ion-item",6)(25,"ion-label"),lt(26,"ion-icon",11),Be(27,"Hidden"),ee(),lt(28,"ion-checkbox",12),ee(),ie(29,"ion-item",6)(30,"ion-label"),lt(31,"ion-icon",13),Be(32,"System"),ee(),lt(33,"ion-checkbox",14),ee()()()),2&e&&(Ye(3),Vi("Edit ",r.subjectName.toLowerCase(),""),Ye(2),nt("disabled",r.formGroup.invalid),Ye(6),nt("formGroup",r.formGroup),Ye(3),Vi("",r.subjectName," name"),Ye(1),wh("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[os,is,Mk,ss,as,Di,Ll,gi,ls,cs,us,bd,Nl,Pl,Tl,Al,Ca,za],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]})}W([yo()],Td.prototype,"onSaveClick",null),W([yo()],Td.prototype,"onEnter",null);let U5=(()=>{class t{constructor(e,r){this.el=e,this.zone=r;const o=e.nativeElement.querySelector("input");o?o.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const e=this.el.nativeElement.querySelector("input");e&&(setTimeout(()=>e.focus(),100),this.observer?.disconnect())}static#e=this.\u0275fac=function(r){return new(r||t)(w(wt),w(dt))};static#t=this.\u0275dir=vt({type:t,selectors:[["","appAutofocus",""]]})}return t})(),H5=(()=>{class t{constructor(e,r){this.vfsService=e,this.modalController=r,this.validateNameUnique=o=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(i=>i.name.toLocaleLowerCase()===o.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=o=>this.vfsService.isFilenameValid(o.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new fc({name:new ys("",{nonNullable:!0,validators:[Rf.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}static#e=this.\u0275fac=function(r){return new(r||t)(w(lu),w(bs))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(r,o){1&r&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Be(3,"Create directory"),ee(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.onCreateClick()}),Be(6,"Create"),ee()(),ie(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancelClick()}),Be(9,"Cancel"),ee()()()(),ie(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return o.onEnter()}),ie(12,"ion-item",6)(13,"ion-label",7),Be(14,"Directory name"),ee(),lt(15,"ion-input",8),ee()()()),2&r&&(Ye(5),nt("disabled",o.formGroup.invalid),Ye(6),nt("formGroup",o.formGroup))},dependencies:[os,is,ss,as,Ll,gi,ls,cs,us,Nl,Pl,Tl,Al,Ca,za,U5]})}return t})();function dT(t){let n,e,r=!1;return o=>((!r||o!==n)&&(n=o,r=!0,e=t(o)),e)}const G5=T.p+"assets/doc/card-browser-5a0261814255810d.md";let z5=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=v({type:t,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(r,o){1&r&&(ie(0,"ion-list")(1,"ion-item",0),at("click",function(){return o.onEdit()}),lt(2,"ion-icon",1),Be(3," Edit "),ee(),ie(4,"ion-item",0),at("click",function(){return o.onSave()}),lt(5,"ion-icon",2),Be(6," Save "),ee(),ie(7,"ion-item",0),at("click",function(){return o.onCopy()}),lt(8,"ion-icon",3),Be(9," Copy "),ee(),ie(10,"ion-item",0),at("click",function(){return o.onCut()}),lt(11,"ion-icon",4),Be(12," Cut "),ee(),ie(13,"ion-item",5),at("click",function(){return o.onDelete()}),lt(14,"ion-icon",6),Be(15," Delete "),ee()()),2&r&&(Ye(1),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1))},dependencies:[Di,gi,qa]})}return t})(),fT=(()=>{class t{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=bn({name:"fileSize",type:t,pure:!0})}return t})();const W5=["slidingItem"];function Z5(t,n){1&t&&lt(0,"ion-icon",24)}function q5(t,n){1&t&&lt(0,"ion-icon",25)}function Y5(t,n){1&t&&lt(0,"ion-icon",26)}function X5(t,n){1&t&&lt(0,"ion-icon",27)}function K5(t,n){1&t&&lt(0,"ion-icon",28)}function Q5(t,n){1&t&&lt(0,"ion-icon",29)}function J5(t,n){1&t&&lt(0,"ion-icon",30)}function e9(t,n){1&t&&lt(0,"ion-icon",31)}function t9(t,n){1&t&&lt(0,"ion-icon",32)}function n9(t,n){if(1&t&&(Wu(0),Be(1),ja(2,"fileSize"),Zu()),2&t){const e=Ut();Ye(1),Vi(" - ",Va(2,1,null==e.entry?null:e.entry.size)," ")}}let r9=(()=>{class t{constructor(e,r,o){this.actionSheetController=e,this.popoverController=r,this.vfsService=o,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new Mn,this.selectEntry=new Mn,this.editEntry=new Mn,this.copyEntry=new Mn,this.cutEntry=new Mn,this.deleteEntry=new Mn,this.saveEntry=new Mn,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var r=this;return(0,te.Z)(function*(){r.selecting||(e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:z5,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.editEntry.emit(r.entry),onSave:()=>r.saveEntry.emit(r.entry),onCopy:()=>r.copyEntry.emit(r.entry),onCut:()=>r.cutEntry.emit(r.entry),onDelete:()=>r.deleteEntry.emit(r.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var e=this;return(0,te.Z)(function*(){const r=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${r}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${r}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let e=0;return this.entry?.attributes.readonly&&(e+=1.7),this.entry?.attributes.hidden&&(e+=1.7),this.entry?.attributes.system&&(e+=1.7),(this.markedForCopy||this.markedForCut)&&(e+=1.7),0===e?"0":(e+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,e+"em")}static#e=this.\u0275fac=function(r){return new(r||t)(w(up),w(nu),w(lu))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-file-entry"]],viewQuery:function(r,o){if(1&r&&Hc(W5,5),2&r){let i;ta(i=na())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[Fe],decls:29,vars:21,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(r,o){if(1&r){const i=Or();ie(0,"ion-item-sliding",0,1),at("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),ie(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return hn(i),$s(1).close(),mn(o.editEntry.emit(o.entry))}),lt(4,"ion-icon",4),ee(),ie(5,"ion-item-option",5),at("click",function(){return hn(i),$s(1).close(),mn(o.saveEntry.emit(o.entry))}),lt(6,"ion-icon",6),ee()(),ie(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return hn(i),$s(1).close(),mn(o.cutOrCopyEntry())}),lt(9,"ion-icon",9),ee(),ie(10,"ion-item-option",10),at("click",function(){return hn(i),$s(1).close(),mn(o.deleteEntry.emit(o.entry))}),lt(11,"ion-icon",11),ee()(),ie(12,"ion-item",12),at("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),nn(13,Z5,1,0,"ion-icon",13),nn(14,q5,1,0,"ion-icon",14),ie(15,"div",15),nn(16,Y5,1,0,"ion-icon",16),nn(17,X5,1,0,"ion-icon",17),nn(18,K5,1,0,"ion-icon",18),nn(19,Q5,1,0,"ion-icon",19),nn(20,J5,1,0,"ion-icon",20),ee(),nn(21,e9,1,0,"ion-icon",21),nn(22,t9,1,0,"ion-icon",22),ie(23,"ion-label")(24,"h2"),Be(25),ee(),ie(26,"p"),Be(27),nn(28,n9,3,3,"ng-container",23),ee()()()()}2&r&&(nt("disabled",o.selecting),Ye(12),Yu("opacity",o.touched?1:.99999),Sl("is-directory",null==o.entry?null:o.entry.isDirectory),nt("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),Ye(1),nt("ngIf",null==o.entry?null:o.entry.isDirectory),Ye(1),nt("ngIf",!(null!=o.entry&&o.entry.isDirectory)),Ye(2),nt("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),Ye(1),nt("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),Ye(1),nt("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),Ye(1),nt("ngIf",o.markedForCopy),Ye(1),nt("ngIf",o.markedForCut),Ye(1),nt("ngIf",o.selecting&&!o.selected),Ye(1),nt("ngIf",o.selecting&&o.selected),Ye(1),Yu("margin-right",o.safetyMargin),Ye(2),Bs(null==o.entry?null:o.entry.name),Ye(2),Vi(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),Ye(1),nt("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[Si,Di,gi,Nm,Lm,$m,ls,fT],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{margin-right:7em}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0})}return t})();function o9(t,n){if(1&t){const e=Or();ie(0,"ion-toolbar")(1,"ion-title",6),at("click",function(o){return hn(e),mn(Ut().openBreadcrumbMenu(o))}),ie(2,"div",7)(3,"div",8),Be(4),ee(),lt(5,"div",9),ee()(),ie(6,"ion-buttons",10),lt(7,"ion-back-button"),ee(),ie(8,"ion-buttons",11)(9,"ion-button",12),at("click",function(o){return hn(e),mn(Ut().openContextMenu(o,"trigger"))}),lt(10,"ion-icon",13),ee()()()}if(2&t){const e=Ut();Ye(1),nt("id",e.breadcrumbTriggerId),Ye(3),Bs(e.title)}}function i9(t,n){if(1&t){const e=Or();ie(0,"ion-buttons",15)(1,"ion-button",12),at("click",function(){return hn(e),mn(Ut(2).onSelectAll())}),Be(2,"Select all"),ee()()}}function s9(t,n){if(1&t){const e=Or();ie(0,"ion-buttons",15)(1,"ion-button",12),at("click",function(){return hn(e),mn(Ut(2).selection.clear())}),Be(2,"Clear"),ee()()}}function a9(t,n){if(1&t){const e=Or();ie(0,"ion-toolbar")(1,"ion-title"),Be(2,"Selection"),ee(),ie(3,"ion-buttons",11)(4,"ion-button",12),at("click",function(){return hn(e),mn(Ut().onSelectionDone())}),Be(5),ee()(),nn(6,i9,3,0,"ion-buttons",14),nn(7,s9,3,0,"ion-buttons",14),ee()}if(2&t){const e=Ut();Ye(5),Bs(0===e.selection.size?"Cancel":"Done"),Ye(1),nt("ngIf",e.selection.size!==(null==e.entries?null:e.entries.length)),Ye(1),nt("ngIf",e.selection.size===(null==e.entries?null:e.entries.length))}}function l9(t,n){if(1&t&&(ie(0,"div",16)(1,"div",17),Be(2),ee()()),2&t){const e=Ut();Ye(2),Vi(" empty ",e.isRoot?"card":"directory"," ")}}function c9(t,n){if(1&t){const e=Or();ie(0,"app-file-entry",18),at("selectEntry",function(){const i=hn(e).$implicit;return mn(Ut().onSelect(i))})("editEntry",function(){const i=hn(e).$implicit;return mn(Ut().onEditEntry(i))})("saveEntry",function(){const i=hn(e).$implicit;return mn(Ut().onSaveEntry(i))})("copyEntry",function(){const i=hn(e).$implicit;return mn(Ut().onCopyEntry(i))})("cutEntry",function(){const i=hn(e).$implicit;return mn(Ut().onCutEntry(i))})("deleteEntry",function(){const i=hn(e).$implicit;return mn(Ut().onDeleteEntry(i))})("interaction",function(){const i=hn(e).$implicit;return mn(Ut().lastEntryTouched=i.name)}),ee()}if(2&t){const e=n.$implicit,r=Ut();nt("entry",e)("selecting","select"===r.mode)("selected",r.selection.has(e.name))("touched",e.name===r.lastEntryTouched)}}function u9(t,n){if(1&t&&(ie(0,"p"),Be(1),ja(2,"fileSize"),ja(3,"fileSize"),ee()),2&t){const e=Ut(2);Ye(1),pf(" ",Va(2,2,e.bytesFree)," free, ",Va(3,4,e.bytesTotal)," total ")}}function d9(t,n){if(1&t&&(ie(0,"p"),Be(1),ja(2,"fileSize"),ee()),2&t){const e=Ut(2);Ye(1),X_(" ",Va(2,3,e.bytesInFiles)," in ",e.fileCount," ",1===e.fileCount?"file":"files"," ")}}function f9(t,n){if(1&t&&(ie(0,"ion-item",19)(1,"ion-label"),nn(2,u9,4,6,"p",0),nn(3,d9,3,5,"p",0),ee()()),2&t){const e=Ut();Ye(2),nt("ngIf",e.isRoot),Ye(1),nt("ngIf",e.fileCount>0)}}function p9(t,n){return t.isDirectory&&!n.isDirectory?-1:!t.isDirectory&&n.isDirectory?1:t.name.localeCompare(n.name)}let h9=0;class Hs{constructor(n,e,r,o,i,s,a,c){this.vfsService=n,this.popoverController=e,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=c,this.bytesInFilesMemoized=dT(f=>f?.reduce((m,y)=>m+(y.isDirectory?0:y.size),0)??0),this.fileCountMemoized=dT(f=>f?.filter(m=>!m.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+h9++,this.checkEntries=Kb(c,void 0,()=>void 0!==this.path?n.readdir(this.path):void 0)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries()}handleDragDropEvent(n){this.fileService.openFromDrop(n,e=>this.vfsService.addFiles(e,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const n=this.vfsService.splitPath(this.path);return n[n.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(p9):[]}trackEntryBy(n,e){return e.name}onSelect(n){"browse"===this.mode?n.isDirectory&&this.onNavigate(n.path):this.selection?.has(n.name)?this.selection.delete(n.name):this.selection.add(n.name)}onEditEntry(n){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:Td,backdropDismiss:!1,componentProps:{entry:n}})).present()})()}onSaveEntry(n){var e=this;return(0,te.Z)(function*(){e.path&&(n.isDirectory?yield e.vfsService.archiveFiles([n],e.path):yield e.vfsService.saveFile(n))})()}onCopyEntry(n){this.path&&this.vfsService.copyToClipboard(this.path,[n.name],"copy")}onCutEntry(n){this.path&&this.vfsService.copyToClipboard(this.path,[n.name],"cut")}onDeleteEntry(n){var e=this;return(0,te.Z)(function*(){n.isDirectory?yield e.vfsService.deleteRecursive([n]):yield e.vfsService.unlinkEntry(n)})()}onAddFiles(){this.fileService.openFiles(n=>this.vfsService.addFiles(n,this.path||"/"))}onCreateDirectory(){var n=this;return(0,te.Z)(function*(){yield(yield n.modalController.create({component:H5,backdropDismiss:!1,componentProps:{parentPath:n.path,onCreate:r=>n.vfsService.mkdir(`${n.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var n=this;return(0,te.Z)(function*(){n.path&&(yield n.vfsService.paste(n.path))})()}onHelp(){var n=this;return(0,te.Z)(function*(){yield(yield n.modalController.create({component:iu,componentProps:{url:G5}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var n=this;return(0,te.Z)(function*(){if(!n.entries)return;const e=Array.from(n.selection),r=new Map(n.entries.map(a=>[a.name,a])),o=e.every(a=>!r.get(a)?.isDirectory),i=e.every(a=>r.get(a)?.isDirectory);let s=`${n.selection.size} items`;if(o&&(s=1===n.selection.size?"file":`${n.selection.size} files`),i&&(s=1===n.selection.size?"directory":`${n.selection.size} directories`),0!==n.selection.size){const a=yield n.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:n.onCopySelection.bind(n)},{text:`Cut ${s}`,handler:n.onCutSelection.bind(n)},{text:`Save ${s} as zip`,handler:n.onSaveZip.bind(n)},{text:`Delete ${s}`,handler:n.onDeleteSelection.bind(n)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}n.mode="browse",n.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(n=>this.selection.add(n.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var n=this;return(0,te.Z)(function*(){const e=n.materializeSelection();!e||!n.path||(yield n.vfsService.archiveFiles(e,n.path))})()}onDeleteSelection(){var n=this;return(0,te.Z)(function*(){const e=n.materializeSelection();!e||!n.path||(yield n.vfsService.deleteRecursive(e))})()}openBreadcrumbMenu(n){var e=this;return(0,te.Z)(function*(){if(!e.card||!e.path)return;const r=[..."/"===e.path?[]:[...e.vfsService.splitPath(e.path).reverse().slice(1),e.card.name],"Memory cards"];(yield e.popoverController.create({component:j5,event:n,componentProps:{entries:r,onSelect:i=>e.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===e.config.get("mode")?"center":"start",trigger:e.breadcrumbTriggerId})).present()})()}openContextMenu(n,e){var r=this;return(0,te.Z)(function*(){(yield r.popoverController.create({component:V5,componentProps:{emptyDirectory:0===r.entries?.length,onStartSelection:r.onStartSelection.bind(r),onAddFiles:r.onAddFiles.bind(r),onCreateDirectry:r.onCreateDirectory.bind(r),onExtractZipfile:r.onExtractZipfile.bind(r),onPaste:r.onPaste.bind(r),onHelp:r.onHelp.bind(r)},event:n,dismissOnSelect:!0,arrow:!1,reference:e})).present()})()}onContextMenu(n){"select"!==this.mode&&(n.preventDefault(),this.openContextMenu(n,"event"))}materializeSelection(){if(!this.path)return;const n=new Map(this.vfsService.readdir(this.path).map(e=>[e.name,e]));return Array.from(this.selection).map(e=>n.get(e)).filter(e=>!!e)}extractZipArchive(n){var e=this;return(0,te.Z)(function*(){/\.zip$/.test(n.name)?e.vfsService.unpackArchive(yield n.getContent(),e.path||"/"):yield e.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}static#e=this.\u0275fac=function(e){return new(e||Hs)(w(lu),w(nu),w(pb),w(lo),w(up),w(bs),w(Ec),w(Tt))};static#t=this.\u0275cmp=v({type:Hs,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,r){1&e&&(ie(0,"ion-header"),nn(1,o9,11,2,"ion-toolbar",0),nn(2,a9,8,3,"ion-toolbar",0),ee(),ie(3,"ion-content",1),at("contextmenu",function(i){return r.onContextMenu(i)}),ie(4,"div",2),nn(5,l9,3,1,"div",3),ie(6,"ion-list"),nn(7,c9,1,4,"app-file-entry",4),nn(8,f9,4,2,"ion-item",5),ee()()()),2&e&&(Ye(1),nt("ngIf","browse"===r.mode),Ye(1),nt("ngIf","select"===r.mode),Ye(3),nt("ngIf",0===(null==r.entries?null:r.entries.length)),Ye(2),nt("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),Ye(1),nt("ngIf",r.isRoot||r.fileCount>0))},dependencies:[zc,Si,kk,os,is,ss,as,Di,gi,ls,qa,cs,us,zk,r9,fT],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0})}W([yo()],Hs.prototype,"onSaveEntry",null),W([yo()],Hs.prototype,"onDeleteEntry",null),W([yo()],Hs.prototype,"onCreateDirectory",null),W([yo()],Hs.prototype,"onPaste",null),W([yo()],Hs.prototype,"onHelp",null),W([yo()],Hs.prototype,"onSelectionDone",null),W([yo()],Hs.prototype,"onSaveZip",null),W([yo()],Hs.prototype,"onDeleteSelection",null);const m9=["nav"],g9=[{path:"tab",component:Zb,children:[{path:"emulation",component:o5},{path:"sessions",component:jl},{path:"storage",component:(()=>{class t{constructor(e,r){this.vfsService=e,this.dragDropService=r,this.navRootProps={onMountForBrowse:o=>this.browseCard(o),selfReference:{}},this.onNavigate=o=>{this.currentlyBrowsingCard&&this.nav?.push(Hs,{card:this.currentlyBrowsingCard,path:o,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=o=>{this.currentlyBrowsingCard&&this.nav?.popTo(o,{animated:this.animateNav})},this.navRoot=Ja,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(e){var r=this;return(0,te.Z)(function*(){yield(yield r.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(e)})()}get animateNav(){return!lG}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Hs,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}static#e=this.\u0275fac=function(r){return new(r||t)(w(lu),w(Xb))};static#t=this.\u0275cmp=v({type:t,selectors:[["app-storage"]],viewQuery:function(r,o){if(1&r&&Hc(m9,5),2&r){let i;ta(i=na())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(r,o){1&r&&lt(0,"ion-nav",0,1),2&r&&nt("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[Tk,Wk]})}return t})()},{path:"settings",component:S5},{path:"about",component:Cz},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let _9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({imports:[Fm.forChild(g9),Fm]})}return t})(),v9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({imports:[_c,Ha,Xc,_9,pz,hz,mz,gz,fz]})}return t})(),y9=(()=>{class t extends o1{pushState(e,r,o,i){this.replaceState(e,r,o,i)}static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=ei(t)))(o||t)}}();static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const b9=[{path:"install",component:eT,canActivate:[tT]},{path:"import",component:eT,canActivate:[tT]},{path:"",component:Zb}];let C9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=_e({type:t});static#n=this.\u0275inj=Sr({providers:[{provide:Ua,useClass:y9}],imports:[Fm.forRoot(b9,{preloadingStrategy:SV,useHash:!0}),v9,Fm]})}return t})();const pT=["touch","click","keydown"];let w9=(()=>{class t{constructor(e,r){this.kvsService=e,this.audioService=r,this.initialize()}initialize(){var e=this;return(0,te.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const r=()=>{pT.forEach(o=>window.removeEventListener(o,r,!0)),e.audioService.initialize()};pT.forEach(o=>window.addEventListener(o,r,!0))})()}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Gi),ce(Yb))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const S9=()=>{const t=new wd;return t.link=(n,e,r)=>`<a href="${n}" target="_blank" rel="external">${r||n}</a>`,{renderer:t,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}};let E9=(()=>{class t{constructor(e,r,o,i,s,a,c,f){}static#e=this.\u0275fac=function(r){return new(r||t)(ce(er),ce(Da),ce(Yb),ce(gp),ce(Gi),ce(JM),ce(w9),ce(zb))};static#t=this.\u0275mod=_e({type:t,bootstrap:[J8]});static#n=this.\u0275inj=Sr({providers:[{provide:mk,useClass:SH},{provide:wf,multi:!0,useFactory:e=>e.initialize.bind(e),deps:[Gi]}],imports:[E4,_c.forRoot({...v5(),innerHTMLTemplatesEnabled:!0}),C9,wb.forRoot({loader:hy,markedOptions:{provide:cM,useFactory:S9}}),rB]})}return t})();window.global=window,document.body.addEventListener("dblclick",t=>t.preventDefault()),function P4(){em=Y1("#/install?"),tm=Y1("#/import?")}(),function gG(){return!!localStorage.getItem(Zm)}()&&!X1()||function R4(){return void 0!==em}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",t=>t.preventDefault()),w4().bootstrapModule(E9).catch(t=>console.log(t))},6972:ke=>{var T,Le=(T=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(D={}){var ne,re,d=D;d.ready=new Promise((l,h)=>{ne=l,re=h});var G,Re,Pe,H=Object.assign({},d),F="./this.program",U=(l,h)=>{throw h},le="object"==typeof window,J="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(le||J)&&(J?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),T&&($=T),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},J&&(Pe=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Re=(l,h,b)=>{var M=new XMLHttpRequest;M.open("GET",l,!0),M.responseType="arraybuffer",M.onload=()=>{200==M.status||0==M.status&&M.response?h(M.response):b()},M.onerror=b,M.send(null)});var q,ue=d.print||console.log.bind(console),V=d.printErr||console.error.bind(console);Object.assign(d,H),H=null,d.thisProgram&&(F=d.thisProgram),d.quit&&(U=d.quit),d.wasmBinary&&(q=d.wasmBinary);var de=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&_n("no native wasm support detected");var ve,Je,ae,pe,N,j,ft,fe=!1;function Qe(l,h){l||_n(h)}function It(){var l=ve.buffer;d.HEAP8=ae=new Int8Array(l),d.HEAP16=new Int16Array(l),d.HEAPU8=pe=new Uint8Array(l),d.HEAPU16=new Uint16Array(l),d.HEAP32=N=new Int32Array(l),d.HEAPU32=j=new Uint32Array(l),d.HEAPF32=new Float32Array(l),d.HEAPF64=ft=new Float64Array(l)}var zt=[],Ge=[],we=[],He=[],tt=0,ht=null,W=null;function Jt(l){tt++,d.monitorRunDependencies&&d.monitorRunDependencies(tt)}function In(l){if(tt--,d.monitorRunDependencies&&d.monitorRunDependencies(tt),0==tt&&(null!==ht&&(clearInterval(ht),ht=null),W)){var h=W;W=null,h()}}function _n(l){d.onAbort&&d.onAbort(l),V(l="Aborted("+l+")"),fe=!0,Je=1,l+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(l);throw re(h),h}var lr;function Cr(l){return l.startsWith("data:application/octet-stream;base64,")}function _r(l){if(l==lr&&q)return new Uint8Array(q);if(Pe)return Pe(l);throw"both async and sync fetching of the wasm failed"}function No(l,h,b){return function ii(l){return q||!le&&!J||"function"!=typeof fetch?Promise.resolve().then(()=>_r(l)):fetch(l,{credentials:"same-origin"}).then(h=>{if(!h.ok)throw"failed to load wasm binary file at '"+l+"'";return h.arrayBuffer()}).catch(()=>_r(l))}(l).then(M=>WebAssembly.instantiate(M,h)).then(M=>M).then(b,M=>{V(`failed to asynchronously prepare wasm: ${M}`),_n(M)})}Cr(lr="cloudpilot_web.wasm")||(lr=function L(l){return d.locateFile?d.locateFile(l,$):$+l}(lr));var Ze,Wt,Wr={1472568:l=>{Wo.grow(65536);for(let h=0;h<=65535;h++)Wo.set(Wo.length-65535-1+h,Wo.get(j[(l>>>2)+h]));return Wo.length-65535-1}};function Tr(l){this.name="ExitStatus",this.message=`Program terminated with exit(${l})`,this.status=l}var eo=l=>{for(;l.length>0;)l.shift()(d)},Xn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,De=(l,h,b)=>{for(var M=h+b,Y=h;l[Y]&&!(Y>=M);)++Y;if(Y-h>16&&l.buffer&&Xn)return Xn.decode(l.subarray(h,Y));for(var Ce="";h<Y;){var Me=l[h++];if(128&Me){var Fe=63&l[h++];if(192!=(224&Me)){var Ot=63&l[h++];if((Me=224==(240&Me)?(15&Me)<<12|Fe<<6|Ot:(7&Me)<<18|Fe<<12|Ot<<6|63&l[h++])<65536)Ce+=String.fromCharCode(Me);else{var Pn=Me-65536;Ce+=String.fromCharCode(55296|Pn>>10,56320|1023&Pn)}}else Ce+=String.fromCharCode((31&Me)<<6|Fe)}else Ce+=String.fromCharCode(Me)}return Ce},me=(l,h)=>l?De(pe,l,h):"",Zt={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,h)=>{for(var b=0,M=l.length-1;M>=0;M--){var Y=l[M];"."===Y?l.splice(M,1):".."===Y?(l.splice(M,1),b++):b&&(l.splice(M,1),b--)}if(h)for(;b;b--)l.unshift("..");return l},normalize:l=>{var h=Zt.isAbs(l),b="/"===l.substr(-1);return!(l=Zt.normalizeArray(l.split("/").filter(M=>!!M),!h).join("/"))&&!h&&(l="."),l&&b&&(l+="/"),(h?"/":"")+l},dirname:l=>{var h=Zt.splitPath(l),b=h[0],M=h[1];return b||M?(M&&(M=M.substr(0,M.length-1)),b+M):"."},basename:l=>{if("/"===l)return"/";var h=(l=(l=Zt.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?l:l.substr(h+1)},join:function(){var l=Array.prototype.slice.call(arguments);return Zt.normalize(l.join("/"))},join2:(l,h)=>Zt.normalize(l+"/"+h)},ln=l=>(ln=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return l=>crypto.getRandomValues(l);_n("initRandomDevice")})())(l),wr={resolve:function(){for(var l="",h=!1,b=arguments.length-1;b>=-1&&!h;b--){var M=b>=0?arguments[b]:x.cwd();if("string"!=typeof M)throw new TypeError("Arguments to path.resolve must be strings");if(!M)return"";l=M+"/"+l,h=Zt.isAbs(M)}return(h?"/":"")+(l=Zt.normalizeArray(l.split("/").filter(Y=>!!Y),!h).join("/"))||"."},relative:(l,h)=>{function b(Pn){for(var sr=0;sr<Pn.length&&""===Pn[sr];sr++);for(var mr=Pn.length-1;mr>=0&&""===Pn[mr];mr--);return sr>mr?[]:Pn.slice(sr,mr-sr+1)}l=wr.resolve(l).substr(1),h=wr.resolve(h).substr(1);for(var M=b(l.split("/")),Y=b(h.split("/")),Ce=Math.min(M.length,Y.length),Me=Ce,Fe=0;Fe<Ce;Fe++)if(M[Fe]!==Y[Fe]){Me=Fe;break}var Ot=[];for(Fe=Me;Fe<M.length;Fe++)Ot.push("..");return(Ot=Ot.concat(Y.slice(Me))).join("/")}},co=[],vr=l=>{for(var h=0,b=0;b<l.length;++b){var M=l.charCodeAt(b);M<=127?h++:M<=2047?h+=2:M>=55296&&M<=57343?(h+=4,++b):h+=3}return h},to=(l,h,b,M)=>{if(!(M>0))return 0;for(var Y=b,Ce=b+M-1,Me=0;Me<l.length;++Me){var Fe=l.charCodeAt(Me);if(Fe>=55296&&Fe<=57343&&(Fe=65536+((1023&Fe)<<10)|1023&l.charCodeAt(++Me)),Fe<=127){if(b>=Ce)break;h[b++]=Fe}else if(Fe<=2047){if(b+1>=Ce)break;h[b++]=192|Fe>>6,h[b++]=128|63&Fe}else if(Fe<=65535){if(b+2>=Ce)break;h[b++]=224|Fe>>12,h[b++]=128|Fe>>6&63,h[b++]=128|63&Fe}else{if(b+3>=Ce)break;h[b++]=240|Fe>>18,h[b++]=128|Fe>>12&63,h[b++]=128|Fe>>6&63,h[b++]=128|63&Fe}}return h[b]=0,b-Y};function uo(l,h,b){var M=b>0?b:vr(l)+1,Y=new Array(M),Ce=to(l,Y,0,Y.length);return h&&(Y.length=Ce),Y}var Wo,Is,Pt={ttys:[],init(){},shutdown(){},register(l,h){Pt.ttys[l]={input:[],output:[],ops:h},x.registerDevice(l,Pt.stream_ops)},stream_ops:{open(l){var h=Pt.ttys[l.node.rdev];if(!h)throw new x.ErrnoError(43);l.tty=h,l.seekable=!1},close(l){l.tty.ops.fsync(l.tty)},fsync(l){l.tty.ops.fsync(l.tty)},read(l,h,b,M,Y){if(!l.tty||!l.tty.ops.get_char)throw new x.ErrnoError(60);for(var Ce=0,Me=0;Me<M;Me++){var Fe;try{Fe=l.tty.ops.get_char(l.tty)}catch{throw new x.ErrnoError(29)}if(void 0===Fe&&0===Ce)throw new x.ErrnoError(6);if(null==Fe)break;Ce++,h[b+Me]=Fe}return Ce&&(l.node.timestamp=Date.now()),Ce},write(l,h,b,M,Y){if(!l.tty||!l.tty.ops.put_char)throw new x.ErrnoError(60);try{for(var Ce=0;Ce<M;Ce++)l.tty.ops.put_char(l.tty,h[b+Ce])}catch{throw new x.ErrnoError(29)}return M&&(l.node.timestamp=Date.now()),Ce}},default_tty_ops:{get_char:l=>(()=>{if(!co.length){var l=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(l=window.prompt("Input: "))&&(l+="\n"):"function"==typeof readline&&null!==(l=readline())&&(l+="\n"),!l)return null;co=uo(l,!0)}return co.shift()})(),put_char(l,h){null===h||10===h?(ue(De(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync(l){l.output&&l.output.length>0&&(ue(De(l.output,0)),l.output=[])},ioctl_tcgets:l=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(l,h,b)=>0,ioctl_tiocgwinsz:l=>[24,80]},default_tty1_ops:{put_char(l,h){null===h||10===h?(V(De(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync(l){l.output&&l.output.length>0&&(V(De(l.output,0)),l.output=[])}}},cn=l=>{_n()},en={ops_table:null,mount:l=>en.createNode(null,"/",16895,0),createNode(l,h,b,M){if(x.isBlkdev(b)||x.isFIFO(b))throw new x.ErrnoError(63);en.ops_table||(en.ops_table={dir:{node:{getattr:en.node_ops.getattr,setattr:en.node_ops.setattr,lookup:en.node_ops.lookup,mknod:en.node_ops.mknod,rename:en.node_ops.rename,unlink:en.node_ops.unlink,rmdir:en.node_ops.rmdir,readdir:en.node_ops.readdir,symlink:en.node_ops.symlink},stream:{llseek:en.stream_ops.llseek}},file:{node:{getattr:en.node_ops.getattr,setattr:en.node_ops.setattr},stream:{llseek:en.stream_ops.llseek,read:en.stream_ops.read,write:en.stream_ops.write,allocate:en.stream_ops.allocate,mmap:en.stream_ops.mmap,msync:en.stream_ops.msync}},link:{node:{getattr:en.node_ops.getattr,setattr:en.node_ops.setattr,readlink:en.node_ops.readlink},stream:{}},chrdev:{node:{getattr:en.node_ops.getattr,setattr:en.node_ops.setattr},stream:x.chrdev_stream_ops}});var Y=x.createNode(l,h,b,M);return x.isDir(Y.mode)?(Y.node_ops=en.ops_table.dir.node,Y.stream_ops=en.ops_table.dir.stream,Y.contents={}):x.isFile(Y.mode)?(Y.node_ops=en.ops_table.file.node,Y.stream_ops=en.ops_table.file.stream,Y.usedBytes=0,Y.contents=null):x.isLink(Y.mode)?(Y.node_ops=en.ops_table.link.node,Y.stream_ops=en.ops_table.link.stream):x.isChrdev(Y.mode)&&(Y.node_ops=en.ops_table.chrdev.node,Y.stream_ops=en.ops_table.chrdev.stream),Y.timestamp=Date.now(),l&&(l.contents[h]=Y,l.timestamp=Y.timestamp),Y},getFileDataAsTypedArray:l=>l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0),expandFileStorage(l,h){var b=l.contents?l.contents.length:0;if(!(b>=h)){h=Math.max(h,b*(b<1048576?2:1.125)>>>0),0!=b&&(h=Math.max(h,256));var Y=l.contents;l.contents=new Uint8Array(h),l.usedBytes>0&&l.contents.set(Y.subarray(0,l.usedBytes),0)}},resizeFileStorage(l,h){if(l.usedBytes!=h)if(0==h)l.contents=null,l.usedBytes=0;else{var b=l.contents;l.contents=new Uint8Array(h),b&&l.contents.set(b.subarray(0,Math.min(h,l.usedBytes))),l.usedBytes=h}},node_ops:{getattr(l){var h={};return h.dev=x.isChrdev(l.mode)?l.id:1,h.ino=l.id,h.mode=l.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=l.rdev,h.size=x.isDir(l.mode)?4096:x.isFile(l.mode)?l.usedBytes:x.isLink(l.mode)?l.link.length:0,h.atime=new Date(l.timestamp),h.mtime=new Date(l.timestamp),h.ctime=new Date(l.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr(l,h){void 0!==h.mode&&(l.mode=h.mode),void 0!==h.timestamp&&(l.timestamp=h.timestamp),void 0!==h.size&&en.resizeFileStorage(l,h.size)},lookup(l,h){throw x.genericErrors[44]},mknod:(l,h,b,M)=>en.createNode(l,h,b,M),rename(l,h,b){if(x.isDir(l.mode)){var M;try{M=x.lookupNode(h,b)}catch{}if(M)for(var Y in M.contents)throw new x.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=b,h.contents[b]=l,h.timestamp=l.parent.timestamp,l.parent=h},unlink(l,h){delete l.contents[h],l.timestamp=Date.now()},rmdir(l,h){var b=x.lookupNode(l,h);for(var M in b.contents)throw new x.ErrnoError(55);delete l.contents[h],l.timestamp=Date.now()},readdir(l){var h=[".",".."];for(var b in l.contents)l.contents.hasOwnProperty(b)&&h.push(b);return h},symlink(l,h,b){var M=en.createNode(l,h,41471,0);return M.link=b,M},readlink(l){if(!x.isLink(l.mode))throw new x.ErrnoError(28);return l.link}},stream_ops:{read(l,h,b,M,Y){var Ce=l.node.contents;if(Y>=l.node.usedBytes)return 0;var Me=Math.min(l.node.usedBytes-Y,M);if(Me>8&&Ce.subarray)h.set(Ce.subarray(Y,Y+Me),b);else for(var Fe=0;Fe<Me;Fe++)h[b+Fe]=Ce[Y+Fe];return Me},write(l,h,b,M,Y,Ce){if(h.buffer===ae.buffer&&(Ce=!1),!M)return 0;var Me=l.node;if(Me.timestamp=Date.now(),h.subarray&&(!Me.contents||Me.contents.subarray)){if(Ce)return Me.contents=h.subarray(b,b+M),Me.usedBytes=M,M;if(0===Me.usedBytes&&0===Y)return Me.contents=h.slice(b,b+M),Me.usedBytes=M,M;if(Y+M<=Me.usedBytes)return Me.contents.set(h.subarray(b,b+M),Y),M}if(en.expandFileStorage(Me,Y+M),Me.contents.subarray&&h.subarray)Me.contents.set(h.subarray(b,b+M),Y);else for(var Fe=0;Fe<M;Fe++)Me.contents[Y+Fe]=h[b+Fe];return Me.usedBytes=Math.max(Me.usedBytes,Y+M),M},llseek(l,h,b){var M=h;if(1===b?M+=l.position:2===b&&x.isFile(l.node.mode)&&(M+=l.node.usedBytes),M<0)throw new x.ErrnoError(28);return M},allocate(l,h,b){en.expandFileStorage(l.node,h+b),l.node.usedBytes=Math.max(l.node.usedBytes,h+b)},mmap(l,h,b,M,Y){if(!x.isFile(l.node.mode))throw new x.ErrnoError(43);var Ce,Me,Fe=l.node.contents;if(2&Y||Fe.buffer!==ae.buffer){if((b>0||b+h<Fe.length)&&(Fe=Fe.subarray?Fe.subarray(b,b+h):Array.prototype.slice.call(Fe,b,b+h)),Me=!0,!(Ce=cn()))throw new x.ErrnoError(48);ae.set(Fe,Ce)}else Me=!1,Ce=Fe.byteOffset;return{ptr:Ce,allocated:Me}},msync:(l,h,b,M,Y)=>(en.stream_ops.write(l,h,0,M,b,!1),0)}},Ni=d.preloadPlugins||[],I=(l,h)=>{var b=0;return l&&(b|=365),h&&(b|=146),b},x={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(l,h={}){if(!(l=wr.resolve(l)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new x.ErrnoError(32);for(var M=l.split("/").filter(mr=>!!mr),Y=x.root,Ce="/",Me=0;Me<M.length;Me++){var Fe=Me===M.length-1;if(Fe&&h.parent)break;if(Y=x.lookupNode(Y,M[Me]),Ce=Zt.join2(Ce,M[Me]),x.isMountpoint(Y)&&(!Fe||Fe&&h.follow_mount)&&(Y=Y.mounted.root),!Fe||h.follow)for(var Ot=0;x.isLink(Y.mode);){var Pn=x.readlink(Ce);if(Ce=wr.resolve(Zt.dirname(Ce),Pn),Y=x.lookupPath(Ce,{recurse_count:h.recurse_count+1}).node,Ot++>40)throw new x.ErrnoError(32)}}return{path:Ce,node:Y}},getPath(l){for(var h;;){if(x.isRoot(l)){var b=l.mount.mountpoint;return h?"/"!==b[b.length-1]?`${b}/${h}`:b+h:b}h=h?`${l.name}/${h}`:l.name,l=l.parent}},hashName(l,h){for(var b=0,M=0;M<h.length;M++)b=(b<<5)-b+h.charCodeAt(M)|0;return(l+b>>>0)%x.nameTable.length},hashAddNode(l){var h=x.hashName(l.parent.id,l.name);l.name_next=x.nameTable[h],x.nameTable[h]=l},hashRemoveNode(l){var h=x.hashName(l.parent.id,l.name);if(x.nameTable[h]===l)x.nameTable[h]=l.name_next;else for(var b=x.nameTable[h];b;){if(b.name_next===l){b.name_next=l.name_next;break}b=b.name_next}},lookupNode(l,h){var b=x.mayLookup(l);if(b)throw new x.ErrnoError(b,l);for(var M=x.hashName(l.id,h),Y=x.nameTable[M];Y;Y=Y.name_next)if(Y.parent.id===l.id&&Y.name===h)return Y;return x.lookup(l,h)},createNode(l,h,b,M){var Y=new x.FSNode(l,h,b,M);return x.hashAddNode(Y),Y},destroyNode(l){x.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagsToPermissionString(l){var h=["r","w","rw"][3&l];return 512&l&&(h+="w"),h},nodePermissions:(l,h)=>x.ignorePermissions?0:h.includes("r")&&!(292&l.mode)||h.includes("w")&&!(146&l.mode)||h.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>x.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate(l,h){try{return x.lookupNode(l,h),20}catch{}return x.nodePermissions(l,"wx")},mayDelete(l,h,b){var M;try{M=x.lookupNode(l,h)}catch(Ce){return Ce.errno}var Y=x.nodePermissions(l,"wx");if(Y)return Y;if(b){if(!x.isDir(M.mode))return 54;if(x.isRoot(M)||x.getPath(M)===x.cwd())return 10}else if(x.isDir(M.mode))return 31;return 0},mayOpen:(l,h)=>l?x.isLink(l.mode)?32:x.isDir(l.mode)&&("r"!==x.flagsToPermissionString(h)||512&h)?31:x.nodePermissions(l,x.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd(){for(var l=0;l<=x.MAX_OPEN_FDS;l++)if(!x.streams[l])return l;throw new x.ErrnoError(33)},getStreamChecked(l){var h=x.getStream(l);if(!h)throw new x.ErrnoError(8);return h},getStream:l=>x.streams[l],createStream:(l,h=-1)=>(x.FSStream||(x.FSStream=function(){this.shared={}},x.FSStream.prototype={},Object.defineProperties(x.FSStream.prototype,{object:{get(){return this.node},set(b){this.node=b}},isRead:{get(){return 1!=(2097155&this.flags)}},isWrite:{get(){return 0!=(2097155&this.flags)}},isAppend:{get(){return 1024&this.flags}},flags:{get(){return this.shared.flags},set(b){this.shared.flags=b}},position:{get(){return this.shared.position},set(b){this.shared.position=b}}})),l=Object.assign(new x.FSStream,l),-1==h&&(h=x.nextfd()),l.fd=h,x.streams[h]=l,l),closeStream(l){x.streams[l]=null},chrdev_stream_ops:{open(l){var h=x.getDevice(l.node.rdev);l.stream_ops=h.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek(){throw new x.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,h)=>l<<8|h,registerDevice(l,h){x.devices[l]={stream_ops:h}},getDevice:l=>x.devices[l],getMounts(l){for(var h=[],b=[l];b.length;){var M=b.pop();h.push(M),b.push.apply(b,M.mounts)}return h},syncfs(l,h){"function"==typeof l&&(h=l,l=!1),x.syncFSRequests++,x.syncFSRequests>1&&V(`warning: ${x.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var b=x.getMounts(x.root.mount),M=0;function Y(Me){return x.syncFSRequests--,h(Me)}function Ce(Me){if(Me)return Ce.errored?void 0:(Ce.errored=!0,Y(Me));++M>=b.length&&Y(null)}b.forEach(Me=>{if(!Me.type.syncfs)return Ce(null);Me.type.syncfs(Me,l,Ce)})},mount(l,h,b){var Ce,M="/"===b,Y=!b;if(M&&x.root)throw new x.ErrnoError(10);if(!M&&!Y){var Me=x.lookupPath(b,{follow_mount:!1});if(b=Me.path,x.isMountpoint(Ce=Me.node))throw new x.ErrnoError(10);if(!x.isDir(Ce.mode))throw new x.ErrnoError(54)}var Fe={type:l,opts:h,mountpoint:b,mounts:[]},Ot=l.mount(Fe);return Ot.mount=Fe,Fe.root=Ot,M?x.root=Ot:Ce&&(Ce.mounted=Fe,Ce.mount&&Ce.mount.mounts.push(Fe)),Ot},unmount(l){var h=x.lookupPath(l,{follow_mount:!1});if(!x.isMountpoint(h.node))throw new x.ErrnoError(28);var b=h.node,M=b.mounted,Y=x.getMounts(M);Object.keys(x.nameTable).forEach(Me=>{for(var Fe=x.nameTable[Me];Fe;){var Ot=Fe.name_next;Y.includes(Fe.mount)&&x.destroyNode(Fe),Fe=Ot}}),b.mounted=null;var Ce=b.mount.mounts.indexOf(M);b.mount.mounts.splice(Ce,1)},lookup:(l,h)=>l.node_ops.lookup(l,h),mknod(l,h,b){var Y=x.lookupPath(l,{parent:!0}).node,Ce=Zt.basename(l);if(!Ce||"."===Ce||".."===Ce)throw new x.ErrnoError(28);var Me=x.mayCreate(Y,Ce);if(Me)throw new x.ErrnoError(Me);if(!Y.node_ops.mknod)throw new x.ErrnoError(63);return Y.node_ops.mknod(Y,Ce,h,b)},create:(l,h)=>(h=void 0!==h?h:438,h&=4095,x.mknod(l,h|=32768,0)),mkdir:(l,h)=>(h=void 0!==h?h:511,h&=1023,x.mknod(l,h|=16384,0)),mkdirTree(l,h){for(var b=l.split("/"),M="",Y=0;Y<b.length;++Y)if(b[Y]){M+="/"+b[Y];try{x.mkdir(M,h)}catch(Ce){if(20!=Ce.errno)throw Ce}}},mkdev:(l,h,b)=>(typeof b>"u"&&(b=h,h=438),x.mknod(l,h|=8192,b)),symlink(l,h){if(!wr.resolve(l))throw new x.ErrnoError(44);var M=x.lookupPath(h,{parent:!0}).node;if(!M)throw new x.ErrnoError(44);var Y=Zt.basename(h),Ce=x.mayCreate(M,Y);if(Ce)throw new x.ErrnoError(Ce);if(!M.node_ops.symlink)throw new x.ErrnoError(63);return M.node_ops.symlink(M,Y,l)},rename(l,h){var Fe,Ot,b=Zt.dirname(l),M=Zt.dirname(h),Y=Zt.basename(l),Ce=Zt.basename(h);if(Fe=x.lookupPath(l,{parent:!0}).node,Ot=x.lookupPath(h,{parent:!0}).node,!Fe||!Ot)throw new x.ErrnoError(44);if(Fe.mount!==Ot.mount)throw new x.ErrnoError(75);var mr,Pn=x.lookupNode(Fe,Y),sr=wr.relative(l,M);if("."!==sr.charAt(0))throw new x.ErrnoError(28);if("."!==(sr=wr.relative(h,b)).charAt(0))throw new x.ErrnoError(55);try{mr=x.lookupNode(Ot,Ce)}catch{}if(Pn!==mr){var Rn=x.isDir(Pn.mode),Sn=x.mayDelete(Fe,Y,Rn);if(Sn)throw new x.ErrnoError(Sn);if(Sn=mr?x.mayDelete(Ot,Ce,Rn):x.mayCreate(Ot,Ce))throw new x.ErrnoError(Sn);if(!Fe.node_ops.rename)throw new x.ErrnoError(63);if(x.isMountpoint(Pn)||mr&&x.isMountpoint(mr))throw new x.ErrnoError(10);if(Ot!==Fe&&(Sn=x.nodePermissions(Fe,"w")))throw new x.ErrnoError(Sn);x.hashRemoveNode(Pn);try{Fe.node_ops.rename(Pn,Ot,Ce)}catch(Zn){throw Zn}finally{x.hashAddNode(Pn)}}},rmdir(l){var b=x.lookupPath(l,{parent:!0}).node,M=Zt.basename(l),Y=x.lookupNode(b,M),Ce=x.mayDelete(b,M,!0);if(Ce)throw new x.ErrnoError(Ce);if(!b.node_ops.rmdir)throw new x.ErrnoError(63);if(x.isMountpoint(Y))throw new x.ErrnoError(10);b.node_ops.rmdir(b,M),x.destroyNode(Y)},readdir(l){var b=x.lookupPath(l,{follow:!0}).node;if(!b.node_ops.readdir)throw new x.ErrnoError(54);return b.node_ops.readdir(b)},unlink(l){var b=x.lookupPath(l,{parent:!0}).node;if(!b)throw new x.ErrnoError(44);var M=Zt.basename(l),Y=x.lookupNode(b,M),Ce=x.mayDelete(b,M,!1);if(Ce)throw new x.ErrnoError(Ce);if(!b.node_ops.unlink)throw new x.ErrnoError(63);if(x.isMountpoint(Y))throw new x.ErrnoError(10);b.node_ops.unlink(b,M),x.destroyNode(Y)},readlink(l){var b=x.lookupPath(l).node;if(!b)throw new x.ErrnoError(44);if(!b.node_ops.readlink)throw new x.ErrnoError(28);return wr.resolve(x.getPath(b.parent),b.node_ops.readlink(b))},stat(l,h){var M=x.lookupPath(l,{follow:!h}).node;if(!M)throw new x.ErrnoError(44);if(!M.node_ops.getattr)throw new x.ErrnoError(63);return M.node_ops.getattr(M)},lstat:l=>x.stat(l,!0),chmod(l,h,b){var M;if(!(M="string"==typeof l?x.lookupPath(l,{follow:!b}).node:l).node_ops.setattr)throw new x.ErrnoError(63);M.node_ops.setattr(M,{mode:4095&h|-4096&M.mode,timestamp:Date.now()})},lchmod(l,h){x.chmod(l,h,!0)},fchmod(l,h){var b=x.getStreamChecked(l);x.chmod(b.node,h)},chown(l,h,b,M){var Y;if(!(Y="string"==typeof l?x.lookupPath(l,{follow:!M}).node:l).node_ops.setattr)throw new x.ErrnoError(63);Y.node_ops.setattr(Y,{timestamp:Date.now()})},lchown(l,h,b){x.chown(l,h,b,!0)},fchown(l,h,b){var M=x.getStreamChecked(l);x.chown(M.node,h,b)},truncate(l,h){if(h<0)throw new x.ErrnoError(28);var b;if(!(b="string"==typeof l?x.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new x.ErrnoError(63);if(x.isDir(b.mode))throw new x.ErrnoError(31);if(!x.isFile(b.mode))throw new x.ErrnoError(28);var Y=x.nodePermissions(b,"w");if(Y)throw new x.ErrnoError(Y);b.node_ops.setattr(b,{size:h,timestamp:Date.now()})},ftruncate(l,h){var b=x.getStreamChecked(l);if(!(2097155&b.flags))throw new x.ErrnoError(28);x.truncate(b.node,h)},utime(l,h,b){var Y=x.lookupPath(l,{follow:!0}).node;Y.node_ops.setattr(Y,{timestamp:Math.max(h,b)})},open(l,h,b){if(""===l)throw new x.ErrnoError(44);var M;if(h="string"==typeof h?(l=>{var b={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[l];if(typeof b>"u")throw new Error(`Unknown file open mode: ${l}`);return b})(h):h,b=typeof b>"u"?438:b,b=64&h?4095&b|32768:0,"object"==typeof l)M=l;else{l=Zt.normalize(l);try{M=x.lookupPath(l,{follow:!(131072&h)}).node}catch{}}var Ce=!1;if(64&h)if(M){if(128&h)throw new x.ErrnoError(20)}else M=x.mknod(l,b,0),Ce=!0;if(!M)throw new x.ErrnoError(44);if(x.isChrdev(M.mode)&&(h&=-513),65536&h&&!x.isDir(M.mode))throw new x.ErrnoError(54);if(!Ce){var Me=x.mayOpen(M,h);if(Me)throw new x.ErrnoError(Me)}512&h&&!Ce&&x.truncate(M,0),h&=-131713;var Fe=x.createStream({node:M,path:x.getPath(M),flags:h,seekable:!0,position:0,stream_ops:M.stream_ops,ungotten:[],error:!1});return Fe.stream_ops.open&&Fe.stream_ops.open(Fe),d.logReadFiles&&!(1&h)&&(x.readFiles||(x.readFiles={}),l in x.readFiles||(x.readFiles[l]=1)),Fe},close(l){if(x.isClosed(l))throw new x.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(h){throw h}finally{x.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek(l,h,b){if(x.isClosed(l))throw new x.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new x.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new x.ErrnoError(28);return l.position=l.stream_ops.llseek(l,h,b),l.ungotten=[],l.position},read(l,h,b,M,Y){if(M<0||Y<0)throw new x.ErrnoError(28);if(x.isClosed(l))throw new x.ErrnoError(8);if(1==(2097155&l.flags))throw new x.ErrnoError(8);if(x.isDir(l.node.mode))throw new x.ErrnoError(31);if(!l.stream_ops.read)throw new x.ErrnoError(28);var Ce=typeof Y<"u";if(Ce){if(!l.seekable)throw new x.ErrnoError(70)}else Y=l.position;var Me=l.stream_ops.read(l,h,b,M,Y);return Ce||(l.position+=Me),Me},write(l,h,b,M,Y,Ce){if(M<0||Y<0)throw new x.ErrnoError(28);if(x.isClosed(l))throw new x.ErrnoError(8);if(!(2097155&l.flags))throw new x.ErrnoError(8);if(x.isDir(l.node.mode))throw new x.ErrnoError(31);if(!l.stream_ops.write)throw new x.ErrnoError(28);l.seekable&&1024&l.flags&&x.llseek(l,0,2);var Me=typeof Y<"u";if(Me){if(!l.seekable)throw new x.ErrnoError(70)}else Y=l.position;var Fe=l.stream_ops.write(l,h,b,M,Y,Ce);return Me||(l.position+=Fe),Fe},allocate(l,h,b){if(x.isClosed(l))throw new x.ErrnoError(8);if(h<0||b<=0)throw new x.ErrnoError(28);if(!(2097155&l.flags))throw new x.ErrnoError(8);if(!x.isFile(l.node.mode)&&!x.isDir(l.node.mode))throw new x.ErrnoError(43);if(!l.stream_ops.allocate)throw new x.ErrnoError(138);l.stream_ops.allocate(l,h,b)},mmap(l,h,b,M,Y){if(2&M&&!(2&Y)&&2!=(2097155&l.flags))throw new x.ErrnoError(2);if(1==(2097155&l.flags))throw new x.ErrnoError(2);if(!l.stream_ops.mmap)throw new x.ErrnoError(43);return l.stream_ops.mmap(l,h,b,M,Y)},msync:(l,h,b,M,Y)=>l.stream_ops.msync?l.stream_ops.msync(l,h,b,M,Y):0,munmap:l=>0,ioctl(l,h,b){if(!l.stream_ops.ioctl)throw new x.ErrnoError(59);return l.stream_ops.ioctl(l,h,b)},readFile(l,h={}){if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error(`Invalid encoding type "${h.encoding}"`);var b,M=x.open(l,h.flags),Ce=x.stat(l).size,Me=new Uint8Array(Ce);return x.read(M,Me,0,Ce,0),"utf8"===h.encoding?b=De(Me,0):"binary"===h.encoding&&(b=Me),x.close(M),b},writeFile(l,h,b={}){b.flags=b.flags||577;var M=x.open(l,b.flags,b.mode);if("string"==typeof h){var Y=new Uint8Array(vr(h)+1),Ce=to(h,Y,0,Y.length);x.write(M,Y,0,Ce,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");x.write(M,h,0,h.byteLength,void 0,b.canOwn)}x.close(M)},cwd:()=>x.currentPath,chdir(l){var h=x.lookupPath(l,{follow:!0});if(null===h.node)throw new x.ErrnoError(44);if(!x.isDir(h.node.mode))throw new x.ErrnoError(54);var b=x.nodePermissions(h.node,"x");if(b)throw new x.ErrnoError(b);x.currentPath=h.path},createDefaultDirectories(){x.mkdir("/tmp"),x.mkdir("/home"),x.mkdir("/home/web_user")},createDefaultDevices(){x.mkdir("/dev"),x.registerDevice(x.makedev(1,3),{read:()=>0,write:(M,Y,Ce,Me,Fe)=>Me}),x.mkdev("/dev/null",x.makedev(1,3)),Pt.register(x.makedev(5,0),Pt.default_tty_ops),Pt.register(x.makedev(6,0),Pt.default_tty1_ops),x.mkdev("/dev/tty",x.makedev(5,0)),x.mkdev("/dev/tty1",x.makedev(6,0));var l=new Uint8Array(1024),h=0,b=()=>(0===h&&(h=ln(l).byteLength),l[--h]);x.createDevice("/dev","random",b),x.createDevice("/dev","urandom",b),x.mkdir("/dev/shm"),x.mkdir("/dev/shm/tmp")},createSpecialDirectories(){x.mkdir("/proc");var l=x.mkdir("/proc/self");x.mkdir("/proc/self/fd"),x.mount({mount(){var h=x.createNode(l,"fd",16895,73);return h.node_ops={lookup(b,M){var Ce=x.getStreamChecked(+M),Me={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Ce.path}};return Me.parent=Me,Me}},h}},{},"/proc/self/fd")},createStandardStreams(){d.stdin?x.createDevice("/dev","stdin",d.stdin):x.symlink("/dev/tty","/dev/stdin"),d.stdout?x.createDevice("/dev","stdout",null,d.stdout):x.symlink("/dev/tty","/dev/stdout"),d.stderr?x.createDevice("/dev","stderr",null,d.stderr):x.symlink("/dev/tty1","/dev/stderr"),x.open("/dev/stdin",0),x.open("/dev/stdout",1),x.open("/dev/stderr",1)},ensureErrnoError(){x.ErrnoError||(x.ErrnoError=function(h,b){this.name="ErrnoError",this.node=b,this.setErrno=function(M){this.errno=M},this.setErrno(h),this.message="FS error"},x.ErrnoError.prototype=new Error,x.ErrnoError.prototype.constructor=x.ErrnoError,[44].forEach(l=>{x.genericErrors[l]=new x.ErrnoError(l),x.genericErrors[l].stack="<generic error, no stack>"}))},staticInit(){x.ensureErrnoError(),x.nameTable=new Array(4096),x.mount(en,{},"/"),x.createDefaultDirectories(),x.createDefaultDevices(),x.createSpecialDirectories(),x.filesystems={MEMFS:en}},init(l,h,b){x.init.initialized=!0,x.ensureErrnoError(),d.stdin=l||d.stdin,d.stdout=h||d.stdout,d.stderr=b||d.stderr,x.createStandardStreams()},quit(){x.init.initialized=!1;for(var l=0;l<x.streams.length;l++){var h=x.streams[l];h&&x.close(h)}},findObject(l,h){var b=x.analyzePath(l,h);return b.exists?b.object:null},analyzePath(l,h){try{l=(b=x.lookupPath(l,{follow:!h})).path}catch{}var M={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=x.lookupPath(l,{parent:!0});M.parentExists=!0,M.parentPath=b.path,M.parentObject=b.node,M.name=Zt.basename(l),b=x.lookupPath(l,{follow:!h}),M.exists=!0,M.path=b.path,M.object=b.node,M.name=b.node.name,M.isRoot="/"===b.path}catch(Y){M.error=Y.errno}return M},createPath(l,h,b,M){l="string"==typeof l?l:x.getPath(l);for(var Y=h.split("/").reverse();Y.length;){var Ce=Y.pop();if(Ce){var Me=Zt.join2(l,Ce);try{x.mkdir(Me)}catch{}l=Me}}return Me},createFile(l,h,b,M,Y){var Ce=Zt.join2("string"==typeof l?l:x.getPath(l),h),Me=I(M,Y);return x.create(Ce,Me)},createDataFile(l,h,b,M,Y,Ce){var Me=h;l&&(l="string"==typeof l?l:x.getPath(l),Me=h?Zt.join2(l,h):l);var Fe=I(M,Y),Ot=x.create(Me,Fe);if(b){if("string"==typeof b){for(var Pn=new Array(b.length),sr=0,mr=b.length;sr<mr;++sr)Pn[sr]=b.charCodeAt(sr);b=Pn}x.chmod(Ot,146|Fe);var Rn=x.open(Ot,577);x.write(Rn,b,0,b.length,0,Ce),x.close(Rn),x.chmod(Ot,Fe)}return Ot},createDevice(l,h,b,M){var Y=Zt.join2("string"==typeof l?l:x.getPath(l),h),Ce=I(!!b,!!M);x.createDevice.major||(x.createDevice.major=64);var Me=x.makedev(x.createDevice.major++,0);return x.registerDevice(Me,{open(Fe){Fe.seekable=!1},close(Fe){M&&M.buffer&&M.buffer.length&&M(10)},read(Fe,Ot,Pn,sr,mr){for(var Rn=0,Sn=0;Sn<sr;Sn++){var Zn;try{Zn=b()}catch{throw new x.ErrnoError(29)}if(void 0===Zn&&0===Rn)throw new x.ErrnoError(6);if(null==Zn)break;Rn++,Ot[Pn+Sn]=Zn}return Rn&&(Fe.node.timestamp=Date.now()),Rn},write(Fe,Ot,Pn,sr,mr){for(var Rn=0;Rn<sr;Rn++)try{M(Ot[Pn+Rn])}catch{throw new x.ErrnoError(29)}return sr&&(Fe.node.timestamp=Date.now()),Rn}}),x.mkdev(Y,Ce,Me)},forceLoadFile(l){if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=uo(G(l.url),!0),l.usedBytes=l.contents.length}catch{throw new x.ErrnoError(29)}},createLazyFile(l,h,b,M,Y){function Ce(){this.lengthKnown=!1,this.chunks=[]}if(Ce.prototype.get=function(Sn){if(!(Sn>this.length-1||Sn<0)){var Zn=Sn%this.chunkSize;return this.getter(Sn/this.chunkSize|0)[Zn]}},Ce.prototype.setDataGetter=function(Sn){this.getter=Sn},Ce.prototype.cacheLength=function(){var Sn=new XMLHttpRequest;if(Sn.open("HEAD",b,!1),Sn.send(null),!(Sn.status>=200&&Sn.status<300||304===Sn.status))throw new Error("Couldn't load "+b+". Status: "+Sn.status);var Ro,Zn=Number(Sn.getResponseHeader("Content-length")),xo=(Ro=Sn.getResponseHeader("Accept-Ranges"))&&"bytes"===Ro,wi=(Ro=Sn.getResponseHeader("Content-Encoding"))&&"gzip"===Ro,Dt=1048576;xo||(Dt=Zn);var Jo=this;Jo.setDataGetter(Rr=>{var io=Rr*Dt,Vo=(Rr+1)*Dt-1;if(Vo=Math.min(Vo,Zn-1),typeof Jo.chunks[Rr]>"u"&&(Jo.chunks[Rr]=((Rr,io)=>{if(Rr>io)throw new Error("invalid range ("+Rr+", "+io+") or no bytes requested!");if(io>Zn-1)throw new Error("only "+Zn+" bytes available! programmer error!");var Vo=new XMLHttpRequest;if(Vo.open("GET",b,!1),Zn!==Dt&&Vo.setRequestHeader("Range","bytes="+Rr+"-"+io),Vo.responseType="arraybuffer",Vo.overrideMimeType&&Vo.overrideMimeType("text/plain; charset=x-user-defined"),Vo.send(null),!(Vo.status>=200&&Vo.status<300||304===Vo.status))throw new Error("Couldn't load "+b+". Status: "+Vo.status);return void 0!==Vo.response?new Uint8Array(Vo.response||[]):uo(Vo.responseText||"",!0)})(io,Vo)),typeof Jo.chunks[Rr]>"u")throw new Error("doXHR failed!");return Jo.chunks[Rr]}),(wi||!Zn)&&(Dt=Zn=1,Zn=this.getter(0).length,Dt=Zn,ue("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Zn,this._chunkSize=Dt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!J)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Me=new Ce;Object.defineProperties(Me,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Fe={isDevice:!1,contents:Me}}else Fe={isDevice:!1,url:b};var Ot=x.createFile(l,h,Fe,M,Y);Fe.contents?Ot.contents=Fe.contents:Fe.url&&(Ot.contents=null,Ot.url=Fe.url),Object.defineProperties(Ot,{usedBytes:{get:function(){return this.contents.length}}});var Pn={};function mr(Rn,Sn,Zn,Ro,xo){var wi=Rn.node.contents;if(xo>=wi.length)return 0;var Dt=Math.min(wi.length-xo,Ro);if(wi.slice)for(var Nt=0;Nt<Dt;Nt++)Sn[Zn+Nt]=wi[xo+Nt];else for(Nt=0;Nt<Dt;Nt++)Sn[Zn+Nt]=wi.get(xo+Nt);return Dt}return Object.keys(Ot.stream_ops).forEach(Rn=>{var Sn=Ot.stream_ops[Rn];Pn[Rn]=function(){return x.forceLoadFile(Ot),Sn.apply(null,arguments)}}),Pn.read=(Rn,Sn,Zn,Ro,xo)=>(x.forceLoadFile(Ot),mr(Rn,Sn,Zn,Ro,xo)),Pn.mmap=(Rn,Sn,Zn,Ro,xo)=>{x.forceLoadFile(Ot);var wi=cn();if(!wi)throw new x.ErrnoError(48);return mr(Rn,ae,wi,Sn,Zn),{ptr:wi,allocated:!0}},Ot.stream_ops=Pn,Ot}},Ao={DEFAULT_POLLMASK:5,calculateAt(l,h,b){if(Zt.isAbs(h))return h;var M;if(M=-100===l?x.cwd():Ao.getStreamFromFD(l).path,0==h.length){if(!b)throw new x.ErrnoError(44);return M}return Zt.join2(M,h)},doStat(l,h,b){try{var M=l(h)}catch(Fe){if(Fe&&Fe.node&&Zt.normalize(h)!==Zt.normalize(x.getPath(Fe.node)))return-54;throw Fe}N[b>>2]=M.dev,N[b+4>>2]=M.mode,j[b+8>>2]=M.nlink,N[b+12>>2]=M.uid,N[b+16>>2]=M.gid,N[b+20>>2]=M.rdev,Wt=[M.size>>>0,(Ze=M.size,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[b+24>>2]=Wt[0],N[b+28>>2]=Wt[1],N[b+32>>2]=4096,N[b+36>>2]=M.blocks;var Y=M.atime.getTime(),Ce=M.mtime.getTime(),Me=M.ctime.getTime();return Wt=[Math.floor(Y/1e3)>>>0,(Ze=Math.floor(Y/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[b+40>>2]=Wt[0],N[b+44>>2]=Wt[1],j[b+48>>2]=Y%1e3*1e3,Wt=[Math.floor(Ce/1e3)>>>0,(Ze=Math.floor(Ce/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[b+56>>2]=Wt[0],N[b+60>>2]=Wt[1],j[b+64>>2]=Ce%1e3*1e3,Wt=[Math.floor(Me/1e3)>>>0,(Ze=Math.floor(Me/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[b+72>>2]=Wt[0],N[b+76>>2]=Wt[1],j[b+80>>2]=Me%1e3*1e3,Wt=[M.ino>>>0,(Ze=M.ino,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[b+88>>2]=Wt[0],N[b+92>>2]=Wt[1],0},doMsync(l,h,b,M,Y){if(!x.isFile(h.node.mode))throw new x.ErrnoError(43);if(2&M)return 0;var Ce=pe.slice(l,l+b);x.msync(h,Ce,Y,b,M)},varargs:void 0,get(){var l=N[+Ao.varargs>>2];return Ao.varargs+=4,l},getp:()=>Ao.get(),getStr:l=>me(l),getStreamFromFD:l=>x.getStreamChecked(l)},li=(l,h)=>h+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*h:NaN,yi=l=>l%4==0&&(l%100!=0||l%400==0),Fr=[0,31,60,91,121,152,182,213,244,274,305,335],po=[0,31,59,90,120,151,181,212,243,273,304,334],tr=l=>(yi(l.getFullYear())?Fr:po)[l.getMonth()]+l.getDate()-1,ci=l=>{var h=vr(l)+1,b=$o(h);return b&&((l,h,b)=>{to(l,pe,h,b)})(l,b,h),b},no=[],Mi=l=>{var b=(l-ve.buffer.byteLength+65535)/65536;try{return ve.grow(b),It(),1}catch{}},ds={},nr=()=>{if(!nr.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:F||"./this.program"};for(var b in ds)void 0===ds[b]?delete h[b]:h[b]=ds[b];var M=[];for(var b in h)M.push(`${b}=${h[b]}`);nr.strings=M}return nr.strings},ct=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31],gt=(l,h)=>{Je=l,(l=>{Je=l,function Vt(){return de||!1}()||(d.onExit&&d.onExit(l),fe=!0),U(l,new Tr(l))})(l)},ui=(l,h)=>{l<128?h.push(l):h.push(l%128|128,l>>7)},Li=[],Ia=l=>{var h=Li[l];return h||(l>=Li.length&&(Li.length=l+1),Li[l]=h=Wo.get(l)),h},nl=[],rl=(l,h)=>{Wo.set(l,h),Li[l]=Wo.get(l)},ol=function(l,h,b,M){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=x.nextInode++,this.name=h,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=M};Object.defineProperties(ol.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return x.isDir(this.mode)}},isDevice:{get:function(){return x.isChrdev(this.mode)}}}),x.FSNode=ol,x.createPreloadedFile=(l,h,b,M,Y,Ce,Me,Fe,Ot,Pn)=>{var sr=h?wr.resolve(Zt.join2(l,h)):l;function Rn(Sn){function Zn(Ro){Pn&&Pn(),Fe||((l,h,b,M,Y,Ce)=>{x.createDataFile(l,h,b,M,Y,Ce)})(l,h,Ro,M,Y,Ot),Ce&&Ce(),In()}((l,h,b,M)=>{typeof Browser<"u"&&Browser.init();var Y=!1;return Ni.forEach(Ce=>{Y||Ce.canHandle(h)&&(Ce.handle(l,h,b,M),Y=!0)}),Y})(Sn,sr,Zn,()=>{Me&&Me(),In()})||Zn(Sn)}Jt(),"string"==typeof b?((l,h,b,M)=>{var Y=`al ${l}`;Re(l,Ce=>{Qe(Ce,`Loading data file "${l}" failed (no arrayBuffer).`),Rn(new Uint8Array(Ce)),Y&&In()},Ce=>{if(!b)throw`Loading data file "${l}" failed.`;b()}),Y&&Jt()})(b,0,Me):Rn(b)},x.staticInit();var Pc,Ul={b:(l,h,b,M)=>{_n(`Assertion failed: ${me(l)}, at: `+[h?me(h):"unknown filename",b,M?me(M):"unknown function"])},i:function Ur(l){const h=new Error(me(l));throw h.isAssert=!0,h},m:function zi(l,h,b){var M=li(h,b);try{return isNaN(M)?61:(x.ftruncate(l,M),0)}catch(Y){if(typeof x>"u"||"ErrnoError"!==Y.name)throw Y;return-Y.errno}},h:()=>!0,j:function Lo(l,h,b){var M=li(l,h),Y=new Date(1e3*M);N[b>>2]=Y.getSeconds(),N[b+4>>2]=Y.getMinutes(),N[b+8>>2]=Y.getHours(),N[b+12>>2]=Y.getDate(),N[b+16>>2]=Y.getMonth(),N[b+20>>2]=Y.getFullYear()-1900,N[b+24>>2]=Y.getDay();var Ce=0|tr(Y);N[b+28>>2]=Ce,N[b+36>>2]=-60*Y.getTimezoneOffset();var Me=new Date(Y.getFullYear(),0,1),Fe=new Date(Y.getFullYear(),6,1).getTimezoneOffset(),Ot=Me.getTimezoneOffset(),Pn=0|(Fe!=Ot&&Y.getTimezoneOffset()==Math.min(Ot,Fe));N[b+32>>2]=Pn},k:function(l){var h=(()=>{var b=new Date(N[l+20>>2]+1900,N[l+16>>2],N[l+12>>2],N[l+8>>2],N[l+4>>2],N[l>>2],0),M=N[l+32>>2],Y=b.getTimezoneOffset(),Ce=new Date(b.getFullYear(),0,1),Me=new Date(b.getFullYear(),6,1).getTimezoneOffset(),Fe=Ce.getTimezoneOffset(),Ot=Math.min(Fe,Me);if(M<0)N[l+32>>2]=+(Me!=Fe&&Ot==Y);else if(M>0!=(Ot==Y)){var Pn=Math.max(Fe,Me),sr=M>0?Ot:Pn;b.setTime(b.getTime()+6e4*(sr-Y))}N[l+24>>2]=b.getDay();var mr=0|tr(b);return N[l+28>>2]=mr,N[l>>2]=b.getSeconds(),N[l+4>>2]=b.getMinutes(),N[l+8>>2]=b.getHours(),N[l+12>>2]=b.getDate(),N[l+16>>2]=b.getMonth(),N[l+20>>2]=b.getYear(),b.getTime()/1e3})();return mg((Ze=h,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)),h>>>0},r:(l,h,b)=>{var M=(new Date).getFullYear(),Y=new Date(M,0,1),Ce=new Date(M,6,1),Me=Y.getTimezoneOffset(),Fe=Ce.getTimezoneOffset(),Ot=Math.max(Me,Fe);function Pn(Zn){var Ro=Zn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Ro?Ro[1]:"GMT"}j[l>>2]=60*Ot,N[h>>2]=+(Me!=Fe);var sr=Pn(Y),mr=Pn(Ce),Rn=ci(sr),Sn=ci(mr);Fe<Me?(j[b>>2]=Rn,j[b+4>>2]=Sn):(j[b>>2]=Sn,j[b+4>>2]=Rn)},a:()=>{_n("")},s:(l,h,b)=>((l,h,b)=>{var M=((l,h)=>{no.length=0;for(var b;b=pe[l++];){var M=105!=b;h+=(M&=112!=b)&&h%8?4:0,no.push(112==b?j[h>>2]:105==b?N[h>>2]:ft[h>>3]),h+=M?8:4}return no})(h,b);return Wr[l].apply(null,M)})(l,h,b),c:()=>Date.now(),d:(l,h,b)=>pe.copyWithin(l,h,h+b),q:l=>{var Ot,h=pe.length,b=2147483648;if((l>>>=0)>b)return!1;for(var Y=1;Y<=4;Y*=2){var Ce=h*(1+.2/Y);Ce=Math.min(Ce,l+100663296);var Me=Math.min(b,(Ot=Math.max(l,Ce))+(65536-Ot%65536)%65536);if(Mi(Me))return!0}return!1},o:(l,h)=>{var b=0;return nr().forEach((M,Y)=>{var Ce=h+b;j[l+4*Y>>2]=Ce,((l,h)=>{for(var b=0;b<l.length;++b)ae[h++>>0]=l.charCodeAt(b);ae[h>>0]=0})(M,Ce),b+=M.length+1}),0},p:(l,h)=>{var b=nr();j[l>>2]=b.length;var M=0;return b.forEach(Y=>M+=Y.length+1),j[h>>2]=M,0},e:function R(l){try{var h=Ao.getStreamFromFD(l);return x.close(h),0}catch(b){if(typeof x>"u"||"ErrnoError"!==b.name)throw b;return b.errno}},g:function B(l,h,b,M){try{var Ce=((l,h,b,M)=>{for(var Y=0,Ce=0;Ce<b;Ce++){var Me=j[h>>2],Fe=j[h+4>>2];h+=8;var Ot=x.read(l,ae,Me,Fe,M);if(Ot<0)return-1;if(Y+=Ot,Ot<Fe)break;typeof M<"u"&&(M+=Ot)}return Y})(Ao.getStreamFromFD(l),h,b);return j[M>>2]=Ce,0}catch(Me){if(typeof x>"u"||"ErrnoError"!==Me.name)throw Me;return Me.errno}},l:function Q(l,h,b,M,Y){var Ce=li(h,b);try{if(isNaN(Ce))return 61;var Me=Ao.getStreamFromFD(l);return x.llseek(Me,Ce,M),Wt=[Me.position>>>0,(Ze=Me.position,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[Y>>2]=Wt[0],N[Y+4>>2]=Wt[1],Me.getdents&&0===Ce&&0===M&&(Me.getdents=null),0}catch(Fe){if(typeof x>"u"||"ErrnoError"!==Fe.name)throw Fe;return Fe.errno}},f:function be(l,h,b,M){try{var Ce=((l,h,b,M)=>{for(var Y=0,Ce=0;Ce<b;Ce++){var Me=j[h>>2],Fe=j[h+4>>2];h+=8;var Ot=x.write(l,ae,Me,Fe,M);if(Ot<0)return-1;Y+=Ot,typeof M<"u"&&(M+=Ot)}return Y})(Ao.getStreamFromFD(l),h,b);return j[M>>2]=Ce,0}catch(Me){if(typeof x>"u"||"ErrnoError"!==Me.name)throw Me;return Me.errno}},n:(l,h,b,M,Y)=>((l,h,b,M)=>{var Y=j[M+40>>2],Ce={tm_sec:N[M>>2],tm_min:N[M+4>>2],tm_hour:N[M+8>>2],tm_mday:N[M+12>>2],tm_mon:N[M+16>>2],tm_year:N[M+20>>2],tm_wday:N[M+24>>2],tm_yday:N[M+28>>2],tm_isdst:N[M+32>>2],tm_gmtoff:N[M+36>>2],tm_zone:Y?me(Y):""},Me=me(b),Fe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ot in Fe)Me=Me.replace(new RegExp(Ot,"g"),Fe[Ot]);var Pn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],sr=["January","February","March","April","May","June","July","August","September","October","November","December"];function mr(Dt,Nt,Jo){for(var Rr="number"==typeof Dt?Dt.toString():Dt||"";Rr.length<Nt;)Rr=Jo[0]+Rr;return Rr}function Rn(Dt,Nt){return mr(Dt,Nt,"0")}function Sn(Dt,Nt){function Jo(io){return io<0?-1:io>0?1:0}var Rr;return 0===(Rr=Jo(Dt.getFullYear()-Nt.getFullYear()))&&0===(Rr=Jo(Dt.getMonth()-Nt.getMonth()))&&(Rr=Jo(Dt.getDate()-Nt.getDate())),Rr}function Zn(Dt){switch(Dt.getDay()){case 0:return new Date(Dt.getFullYear()-1,11,29);case 1:return Dt;case 2:return new Date(Dt.getFullYear(),0,3);case 3:return new Date(Dt.getFullYear(),0,2);case 4:return new Date(Dt.getFullYear(),0,1);case 5:return new Date(Dt.getFullYear()-1,11,31);case 6:return new Date(Dt.getFullYear()-1,11,30)}}function Ro(Dt){var Nt=((l,h)=>{for(var b=new Date(l.getTime());h>0;){var M=yi(b.getFullYear()),Y=b.getMonth(),Ce=(M?ct:st)[Y];if(!(h>Ce-b.getDate()))return b.setDate(b.getDate()+h),b;h-=Ce-b.getDate()+1,b.setDate(1),Y<11?b.setMonth(Y+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b})(new Date(Dt.tm_year+1900,0,1),Dt.tm_yday),Jo=new Date(Nt.getFullYear(),0,4),Rr=new Date(Nt.getFullYear()+1,0,4),io=Zn(Jo),Vo=Zn(Rr);return Sn(io,Nt)<=0?Sn(Vo,Nt)<=0?Nt.getFullYear()+1:Nt.getFullYear():Nt.getFullYear()-1}var xo={"%a":Dt=>Pn[Dt.tm_wday].substring(0,3),"%A":Dt=>Pn[Dt.tm_wday],"%b":Dt=>sr[Dt.tm_mon].substring(0,3),"%B":Dt=>sr[Dt.tm_mon],"%C":Dt=>Rn((Dt.tm_year+1900)/100|0,2),"%d":Dt=>Rn(Dt.tm_mday,2),"%e":Dt=>mr(Dt.tm_mday,2," "),"%g":Dt=>Ro(Dt).toString().substring(2),"%G":Dt=>Ro(Dt),"%H":Dt=>Rn(Dt.tm_hour,2),"%I":Dt=>{var Nt=Dt.tm_hour;return 0==Nt?Nt=12:Nt>12&&(Nt-=12),Rn(Nt,2)},"%j":Dt=>Rn(Dt.tm_mday+((l,h)=>{for(var b=0,M=0;M<=h;b+=l[M++]);return b})(yi(Dt.tm_year+1900)?ct:st,Dt.tm_mon-1),3),"%m":Dt=>Rn(Dt.tm_mon+1,2),"%M":Dt=>Rn(Dt.tm_min,2),"%n":()=>"\n","%p":Dt=>Dt.tm_hour>=0&&Dt.tm_hour<12?"AM":"PM","%S":Dt=>Rn(Dt.tm_sec,2),"%t":()=>"\t","%u":Dt=>Dt.tm_wday||7,"%U":Dt=>Rn(Math.floor((Dt.tm_yday+7-Dt.tm_wday)/7),2),"%V":Dt=>{var Nt=Math.floor((Dt.tm_yday+7-(Dt.tm_wday+6)%7)/7);if((Dt.tm_wday+371-Dt.tm_yday-2)%7<=2&&Nt++,Nt){if(53==Nt){var Rr=(Dt.tm_wday+371-Dt.tm_yday)%7;4!=Rr&&(3!=Rr||!yi(Dt.tm_year))&&(Nt=1)}}else{Nt=52;var Jo=(Dt.tm_wday+7-Dt.tm_yday-1)%7;(4==Jo||5==Jo&&yi(Dt.tm_year%400-1))&&Nt++}return Rn(Nt,2)},"%w":Dt=>Dt.tm_wday,"%W":Dt=>Rn(Math.floor((Dt.tm_yday+7-(Dt.tm_wday+6)%7)/7),2),"%y":Dt=>(Dt.tm_year+1900).toString().substring(2),"%Y":Dt=>Dt.tm_year+1900,"%z":Dt=>{var Nt=Dt.tm_gmtoff;return(Nt>=0?"+":"-")+("0000"+(Nt=(Nt=Math.abs(Nt)/60)/60*100+Nt%60)).slice(-4)},"%Z":Dt=>Dt.tm_zone,"%%":()=>"%"};for(var Ot in Me=Me.replace(/%%/g,"\0\0"),xo)Me.includes(Ot)&&(Me=Me.replace(new RegExp(Ot,"g"),xo[Ot](Ce)));var wi=uo(Me=Me.replace(/\0\0/g,"%"),!1);return wi.length>h?0:(((l,h)=>{ae.set(l,h)})(wi,l),wi.length-1)})(l,h,b,M)},Se=function Go(){var l={a:Ul};function h(M,Y){return ve=(Se=M.exports).t,It(),Wo=Se.wc,function We(l){Ge.unshift(l)}(Se.u),In(),Se}if(Jt(),d.instantiateWasm)try{return d.instantiateWasm(l,h)}catch(M){V(`Module.instantiateWasm callback failed with error: ${M}`),re(M)}return function si(l,h,b,M){return l||"function"!=typeof WebAssembly.instantiateStreaming||Cr(h)||"function"!=typeof fetch?No(h,b,M):fetch(h,{credentials:"same-origin"}).then(Y=>WebAssembly.instantiateStreaming(Y,b).then(M,function(Me){return V(`wasm streaming compile failed: ${Me}`),V("falling back to ArrayBuffer instantiation"),No(h,b,M)}))}(q,lr,l,function b(M){h(M.instance)}).catch(re),{}}(),$o=d._malloc=l=>($o=d._malloc=Se.v)(l),il=(d._free=l=>(d._free=Se.w)(l),d._main=(l,h)=>(il=d._main=Se.x)(l,h)),mt=(d._webidl_free=l=>(d._webidl_free=Se.y)(l),d._webidl_malloc=l=>(d._webidl_malloc=Se.z)(l),d._emscripten_bind_VoidPtr___destroy___0=l=>(mt=d._emscripten_bind_VoidPtr___destroy___0=Se.A)(l)),sl=d._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(sl=d._emscripten_bind_Cloudpilot_Cloudpilot_0=Se.B)(),Sr=d._emscripten_bind_Cloudpilot_Malloc_1=(l,h)=>(Sr=d._emscripten_bind_Cloudpilot_Malloc_1=Se.C)(l,h),xs=d._emscripten_bind_Cloudpilot_Free_1=(l,h)=>(xs=d._emscripten_bind_Cloudpilot_Free_1=Se.D)(l,h),xa=d._emscripten_bind_Cloudpilot_Nullptr_0=l=>(xa=d._emscripten_bind_Cloudpilot_Nullptr_0=Se.E)(l),aa=d._emscripten_bind_Cloudpilot_InitializeSession_3=(l,h,b,M)=>(aa=d._emscripten_bind_Cloudpilot_InitializeSession_3=Se.F)(l,h,b,M),ka=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=l=>(ka=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=Se.G)(l),ks=d._emscripten_bind_Cloudpilot_RunEmulation_1=(l,h)=>(ks=d._emscripten_bind_Cloudpilot_RunEmulation_1=Se.H)(l,h),Ms=d._emscripten_bind_Cloudpilot_SetClockFactor_1=(l,h)=>(Ms=d._emscripten_bind_Cloudpilot_SetClockFactor_1=Se.I)(l,h),Ws=d._emscripten_bind_Cloudpilot_CopyFrame_0=l=>(Ws=d._emscripten_bind_Cloudpilot_CopyFrame_0=Se.J)(l),la=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=l=>(la=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=Se.K)(l),Ma=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=l=>(Ma=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=Se.L)(l),Tn=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(l,h)=>(Tn=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=Se.M)(l,h),Zs=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(l,h)=>(Zs=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=Se.N)(l,h),ca=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(l,h)=>(ca=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=Se.O)(l,h),wo=d._emscripten_bind_Cloudpilot_QueuePenMove_2=(l,h,b)=>(wo=d._emscripten_bind_Cloudpilot_QueuePenMove_2=Se.P)(l,h,b),ua=d._emscripten_bind_Cloudpilot_QueuePenUp_0=l=>(ua=d._emscripten_bind_Cloudpilot_QueuePenUp_0=Se.Q)(l),al=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=(l,h)=>(al=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=Se.R)(l,h),rr=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=(l,h)=>(rr=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=Se.S)(l,h),Wl=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(l,h,b)=>(Wl=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=Se.T)(l,h,b),Zl=d._emscripten_bind_Cloudpilot_IsPowerOff_0=l=>(Zl=d._emscripten_bind_Cloudpilot_IsPowerOff_0=Se.U)(l),da=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=l=>(da=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=Se.V)(l),Ta=d._emscripten_bind_Cloudpilot_GetOSVersion_0=l=>(Ta=d._emscripten_bind_Cloudpilot_GetOSVersion_0=Se.W)(l),ll=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=l=>(ll=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=Se.X)(l),fs=d._emscripten_bind_Cloudpilot_Reset_0=l=>(fs=d._emscripten_bind_Cloudpilot_Reset_0=Se.Y)(l),cl=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=l=>(cl=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=Se.Z)(l),qs=d._emscripten_bind_Cloudpilot_ResetHard_0=l=>(qs=d._emscripten_bind_Cloudpilot_ResetHard_0=Se._)(l),ul=d._emscripten_bind_Cloudpilot_InstallDb_2=(l,h,b)=>(ul=d._emscripten_bind_Cloudpilot_InstallDb_2=Se.$)(l,h,b),So=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=l=>(So=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=Se.aa)(l),Yi=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=l=>(Yi=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=Se.ba)(l),qo=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=l=>(qo=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=Se.ca)(l),ql=d._emscripten_bind_Cloudpilot_GetMemorySize_0=l=>(ql=d._emscripten_bind_Cloudpilot_GetMemorySize_0=Se.da)(l),Ts=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(l,h,b)=>(Ts=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=Se.ea)(l,h,b),fa=d._emscripten_bind_Cloudpilot_GetRomPtr_0=l=>(fa=d._emscripten_bind_Cloudpilot_GetRomPtr_0=Se.fa)(l),Ys=d._emscripten_bind_Cloudpilot_GetRomSize_0=l=>(Ys=d._emscripten_bind_Cloudpilot_GetRomSize_0=Se.ga)(l),dl=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=l=>(dl=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=Se.ha)(l),cr=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=l=>(cr=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=Se.ia)(l),Aa=d._emscripten_bind_Cloudpilot_SaveState_0=l=>(Aa=d._emscripten_bind_Cloudpilot_SaveState_0=Se.ja)(l),ro=d._emscripten_bind_Cloudpilot_LoadState_2=(l,h,b)=>(ro=d._emscripten_bind_Cloudpilot_LoadState_2=Se.ka)(l,h,b),Nr=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=l=>(Nr=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=Se.la)(l),ho=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=(l,h)=>(ho=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=Se.ma)(l,h),ur=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(l,h)=>(ur=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=Se.na)(l,h),Ar=d._emscripten_bind_Cloudpilot_StartBackup_0=l=>(Ar=d._emscripten_bind_Cloudpilot_StartBackup_0=Se.oa)(l),ce=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(l,h)=>(ce=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=Se.pa)(l,h),p=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=l=>(p=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=Se.qa)(l),g=d._emscripten_bind_Cloudpilot_IsSuspended_0=l=>(g=d._emscripten_bind_Cloudpilot_IsSuspended_0=Se.ra)(l),C=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=l=>(C=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=Se.sa)(l),O=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(l,h)=>(O=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=Se.ta)(l,h),Z=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=l=>(Z=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=Se.ua)(l),ye=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(l,h)=>(ye=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=Se.va)(l,h),xe=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(l,h)=>(xe=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=Se.wa)(l,h),Ue=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=(l,h)=>(Ue=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=Se.xa)(l,h),xt=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(l,h,b)=>(xt=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=Se.ya)(l,h,b),Cn=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(l,h)=>(Cn=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=Se.za)(l,h),xn=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=l=>(xn=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=Se.Aa)(l),Ln=d._emscripten_bind_Cloudpilot_AllocateCard_2=(l,h,b)=>(Ln=d._emscripten_bind_Cloudpilot_AllocateCard_2=Se.Ba)(l,h,b),Rt=d._emscripten_bind_Cloudpilot_AdoptCard_3=(l,h,b,M)=>(Rt=d._emscripten_bind_Cloudpilot_AdoptCard_3=Se.Ca)(l,h,b,M),dn=d._emscripten_bind_Cloudpilot_MountCard_1=(l,h)=>(dn=d._emscripten_bind_Cloudpilot_MountCard_1=Se.Da)(l,h),Nn=d._emscripten_bind_Cloudpilot_RemoveCard_1=(l,h)=>(Nn=d._emscripten_bind_Cloudpilot_RemoveCard_1=Se.Ea)(l,h),Lr=d._emscripten_bind_Cloudpilot_GetCardData_1=(l,h)=>(Lr=d._emscripten_bind_Cloudpilot_GetCardData_1=Se.Fa)(l,h),di=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(l,h)=>(di=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=Se.Ga)(l,h),$r=d._emscripten_bind_Cloudpilot_GetCardSize_1=(l,h)=>($r=d._emscripten_bind_Cloudpilot_GetCardSize_1=Se.Ha)(l,h),_t=d._emscripten_bind_Cloudpilot_RemountCards_0=l=>(_t=d._emscripten_bind_Cloudpilot_RemountCards_0=Se.Ia)(l),an=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=(l,h)=>(an=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=Se.Ja)(l,h),Zr=d._emscripten_bind_Cloudpilot_GetMountedKey_0=l=>(Zr=d._emscripten_bind_Cloudpilot_GetMountedKey_0=Se.Ka)(l),dr=d._emscripten_bind_Cloudpilot___destroy___0=l=>(dr=d._emscripten_bind_Cloudpilot___destroy___0=Se.La)(l),or=d._emscripten_bind_RomInfo_RomInfo_2=(l,h)=>(or=d._emscripten_bind_RomInfo_RomInfo_2=Se.Ma)(l,h),fr=d._emscripten_bind_RomInfo_IsValid_0=l=>(fr=d._emscripten_bind_RomInfo_IsValid_0=Se.Na)(l),oo=d._emscripten_bind_RomInfo_CardVersion_0=l=>(oo=d._emscripten_bind_RomInfo_CardVersion_0=Se.Oa)(l),Dc=d._emscripten_bind_RomInfo_CardName_0=l=>(Dc=d._emscripten_bind_RomInfo_CardName_0=Se.Pa)(l),Ic=d._emscripten_bind_RomInfo_RomVersion_0=l=>(Ic=d._emscripten_bind_RomInfo_RomVersion_0=Se.Qa)(l),cu=d._emscripten_bind_RomInfo_RomVersionString_0=l=>(cu=d._emscripten_bind_RomInfo_RomVersionString_0=Se.Ra)(l),xc=d._emscripten_bind_RomInfo_Supports_1=(l,h)=>(xc=d._emscripten_bind_RomInfo_Supports_1=Se.Sa)(l,h),uu=d._emscripten_bind_RomInfo___destroy___0=l=>(uu=d._emscripten_bind_RomInfo___destroy___0=Se.Ta)(l),$n=d._emscripten_bind_Frame_GetLineWidth_0=l=>($n=d._emscripten_bind_Frame_GetLineWidth_0=Se.Ua)(l),Er=d._emscripten_bind_Frame_GetBpp_0=l=>(Er=d._emscripten_bind_Frame_GetBpp_0=Se.Va)(l),Bo=d._emscripten_bind_Frame_GetLines_0=l=>(Bo=d._emscripten_bind_Frame_GetLines_0=Se.Wa)(l),qr=d._emscripten_bind_Frame_GetMargin_0=l=>(qr=d._emscripten_bind_Frame_GetMargin_0=Se.Xa)(l),sn=d._emscripten_bind_Frame_GetBytesPerLine_0=l=>(sn=d._emscripten_bind_Frame_GetBytesPerLine_0=Se.Ya)(l),fo=d._emscripten_bind_Frame_GetFirstDirtyLine_0=l=>(fo=d._emscripten_bind_Frame_GetFirstDirtyLine_0=Se.Za)(l),Ir=d._emscripten_bind_Frame_GetLastDirtyLine_0=l=>(Ir=d._emscripten_bind_Frame_GetLastDirtyLine_0=Se._a)(l),mo=d._emscripten_bind_Frame_GetHasChanges_0=l=>(mo=d._emscripten_bind_Frame_GetHasChanges_0=Se.$a)(l),Pr=d._emscripten_bind_Frame_GetBuffer_0=l=>(Pr=d._emscripten_bind_Frame_GetBuffer_0=Se.ab)(l),br=d._emscripten_bind_Frame_GetBufferSize_0=l=>(br=d._emscripten_bind_Frame_GetBufferSize_0=Se.bb)(l),u=d._emscripten_bind_Frame_GetScaleX_0=l=>(u=d._emscripten_bind_Frame_GetScaleX_0=Se.cb)(l),_=d._emscripten_bind_Frame_GetScaleY_0=l=>(_=d._emscripten_bind_Frame_GetScaleY_0=Se.db)(l),v=d._emscripten_bind_Frame___destroy___0=l=>(v=d._emscripten_bind_Frame___destroy___0=Se.eb)(l),P=d._emscripten_bind_DbBackup_Init_1=(l,h)=>(P=d._emscripten_bind_DbBackup_Init_1=Se.fb)(l,h),X=d._emscripten_bind_DbBackup_IsInProgress_0=l=>(X=d._emscripten_bind_DbBackup_IsInProgress_0=Se.gb)(l),Ee=d._emscripten_bind_DbBackup_IsDone_0=l=>(Ee=d._emscripten_bind_DbBackup_IsDone_0=Se.hb)(l),_e=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=l=>(_e=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=Se.ib)(l),Ve=d._emscripten_bind_DbBackup_Save_0=l=>(Ve=d._emscripten_bind_DbBackup_Save_0=Se.jb)(l),At=d._emscripten_bind_DbBackup_Skip_0=l=>(At=d._emscripten_bind_DbBackup_Skip_0=Se.kb)(l),vt=d._emscripten_bind_DbBackup_GetArchivePtr_0=l=>(vt=d._emscripten_bind_DbBackup_GetArchivePtr_0=Se.lb)(l),bn=d._emscripten_bind_DbBackup_GetArchiveSize_0=l=>(bn=d._emscripten_bind_DbBackup_GetArchiveSize_0=Se.mb)(l),Yt=d._emscripten_bind_DbBackup___destroy___0=l=>(Yt=d._emscripten_bind_DbBackup___destroy___0=Se.nb)(l),tn=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=l=>(tn=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=Se.ob)(l),qt=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=l=>(qt=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=Se.pb)(l),Fn=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=l=>(Fn=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=Se.qb)(l),Qn=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=l=>(Qn=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=Se.rb)(l),bi=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=l=>(bi=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=Se.sb)(l),jo=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(l,h)=>(jo=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=Se.tb)(l,h),St=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=l=>(St=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=Se.ub)(l),pn=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=l=>(pn=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=Se.vb)(l),Eo=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=(l,h)=>(Eo=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=Se.wb)(l,h),kn=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=l=>(kn=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=Se.xb)(l),Mt=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=l=>(Mt=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=Se.yb)(l),Qt=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=l=>(Qt=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=Se.zb)(l),Yr=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=l=>(Yr=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=Se.Ab)(l),ps=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(l,h,b)=>(ps=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=Se.Bb)(l,h,b),Yl=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=l=>(Yl=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=Se.Cb)(l),fi=d._emscripten_bind_SuspendContext_GetKind_0=l=>(fi=d._emscripten_bind_SuspendContext_GetKind_0=Se.Db)(l),fl=d._emscripten_bind_SuspendContext_Cancel_0=l=>(fl=d._emscripten_bind_SuspendContext_Cancel_0=Se.Eb)(l),go=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=l=>(go=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=Se.Fb)(l),pa=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=l=>(pa=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=Se.Gb)(l),pl=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=l=>(pl=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=Se.Hb)(l),An=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=l=>(An=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=Se.Ib)(l),Xl=d._emscripten_bind_SuspendContext___destroy___0=l=>(Xl=d._emscripten_bind_SuspendContext___destroy___0=Se.Jb)(l),Ad=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(l,h)=>(Ad=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=Se.Kb)(l,h),hl=d._emscripten_bind_ZipfileWalker_GetState_0=l=>(hl=d._emscripten_bind_ZipfileWalker_GetState_0=Se.Lb)(l),_o=d._emscripten_bind_ZipfileWalker_Next_0=l=>(_o=d._emscripten_bind_ZipfileWalker_Next_0=Se.Mb)(l),Kl=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=l=>(Kl=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=Se.Nb)(l),ml=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=l=>(ml=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=Se.Ob)(l),As=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=l=>(As=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=Se.Pb)(l),Ql=d._emscripten_bind_ZipfileWalker___destroy___0=l=>(Ql=d._emscripten_bind_ZipfileWalker___destroy___0=Se.Qb)(l),Pd=d._emscripten_bind_SessionImage_SessionImage_0=()=>(Pd=d._emscripten_bind_SessionImage_SessionImage_0=Se.Rb)(),ha=d._emscripten_bind_SessionImage_GetDeviceId_0=l=>(ha=d._emscripten_bind_SessionImage_GetDeviceId_0=Se.Sb)(l),Xs=d._emscripten_bind_SessionImage_SetDeviceId_1=(l,h)=>(Xs=d._emscripten_bind_SessionImage_SetDeviceId_1=Se.Tb)(l,h),kc=d._emscripten_bind_SessionImage_GetRomImage_0=l=>(kc=d._emscripten_bind_SessionImage_GetRomImage_0=Se.Ub)(l),Mc=d._emscripten_bind_SessionImage_GetRomImageSize_0=l=>(Mc=d._emscripten_bind_SessionImage_GetRomImageSize_0=Se.Vb)(l),qn=d._emscripten_bind_SessionImage_SetRomImage_2=(l,h,b)=>(qn=d._emscripten_bind_SessionImage_SetRomImage_2=Se.Wb)(l,h,b),sg=d._emscripten_bind_SessionImage_GetMemoryImage_0=l=>(sg=d._emscripten_bind_SessionImage_GetMemoryImage_0=Se.Xb)(l),du=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=l=>(du=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=Se.Yb)(l),Rd=d._emscripten_bind_SessionImage_SetMemoryImage_2=(l,h,b)=>(Rd=d._emscripten_bind_SessionImage_SetMemoryImage_2=Se.Zb)(l,h,b),Ps=d._emscripten_bind_SessionImage_GetMetadata_0=l=>(Ps=d._emscripten_bind_SessionImage_GetMetadata_0=Se._b)(l),Tc=d._emscripten_bind_SessionImage_GetMetadataSize_0=l=>(Tc=d._emscripten_bind_SessionImage_GetMetadataSize_0=Se.$b)(l),gl=d._emscripten_bind_SessionImage_SetMetadata_2=(l,h,b)=>(gl=d._emscripten_bind_SessionImage_SetMetadata_2=Se.ac)(l,h,b),Jl=d._emscripten_bind_SessionImage_GetSavestate_0=l=>(Jl=d._emscripten_bind_SessionImage_GetSavestate_0=Se.bc)(l),Yo=d._emscripten_bind_SessionImage_GetSavestateSize_0=l=>(Yo=d._emscripten_bind_SessionImage_GetSavestateSize_0=Se.cc)(l),ag=d._emscripten_bind_SessionImage_SetSavestate_2=(l,h,b)=>(ag=d._emscripten_bind_SessionImage_SetSavestate_2=Se.dc)(l,h,b),Ti=d._emscripten_bind_SessionImage_GetVersion_0=l=>(Ti=d._emscripten_bind_SessionImage_GetVersion_0=Se.ec)(l),Ai=d._emscripten_bind_SessionImage_Serialize_0=l=>(Ai=d._emscripten_bind_SessionImage_Serialize_0=Se.fc)(l),fu=d._emscripten_bind_SessionImage_GetSerializedImage_0=l=>(fu=d._emscripten_bind_SessionImage_GetSerializedImage_0=Se.gc)(l),Pa=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=l=>(Pa=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=Se.hc)(l),Ac=d._emscripten_bind_SessionImage_Deserialize_2=(l,h,b)=>(Ac=d._emscripten_bind_SessionImage_Deserialize_2=Se.ic)(l,h,b),hs=d._emscripten_bind_SessionImage___destroy___0=l=>(hs=d._emscripten_bind_SessionImage___destroy___0=Se.jc)(l),pu=d._emscripten_bind_SkinLoader_SkinLoader_1=l=>(pu=d._emscripten_bind_SkinLoader_SkinLoader_1=Se.kc)(l),yp=d._emscripten_bind_SkinLoader_GetData_0=l=>(yp=d._emscripten_bind_SkinLoader_GetData_0=Se.lc)(l),bp=d._emscripten_bind_SkinLoader_GetSize_0=l=>(bp=d._emscripten_bind_SkinLoader_GetSize_0=Se.mc)(l),lg=d._emscripten_bind_SkinLoader___destroy___0=l=>(lg=d._emscripten_bind_SkinLoader___destroy___0=Se.nc)(l),Cp=d._emscripten_bind_GunzipContext_GunzipContext_3=(l,h,b)=>(Cp=d._emscripten_bind_GunzipContext_GunzipContext_3=Se.oc)(l,h,b),wp=d._emscripten_bind_GunzipContext_GetState_0=l=>(wp=d._emscripten_bind_GunzipContext_GetState_0=Se.pc)(l),cg=d._emscripten_bind_GunzipContext_Continue_0=l=>(cg=d._emscripten_bind_GunzipContext_Continue_0=Se.qc)(l),ug=d._emscripten_bind_GunzipContext_GetUncompressedData_0=l=>(ug=d._emscripten_bind_GunzipContext_GetUncompressedData_0=Se.rc)(l),dg=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=l=>(dg=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=Se.sc)(l),fg=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=l=>(fg=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=Se.tc)(l),pg=d._emscripten_bind_GunzipContext_GetError_0=l=>(pg=d._emscripten_bind_GunzipContext_GetError_0=Se.uc)(l),hg=d._emscripten_bind_GunzipContext___destroy___0=l=>(hg=d._emscripten_bind_GunzipContext___destroy___0=Se.vc)(l),mg=l=>(mg=Se.xc)(l);function _g(){function l(){Pc||(Pc=!0,d.calledRun=!0,!fe&&(function ot(){!d.noFSInit&&!x.init.initialized&&x.init(),x.ignorePermissions=!1,Pt.init(),eo(Ge)}(),function Et(){eo(we)}(),ne(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),vg&&function s0(){var l=il;try{var M=l(0,0);return gt(M),M}catch(Y){return(l=>{if(l instanceof Tr||"unwind"==l)return Je;U(1,l)})(Y)}}(),function pt(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)l=d.postRun.shift(),He.unshift(l);var l;eo(He)}()))}tt>0||(function Oe(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)l=d.preRun.shift(),zt.unshift(l);var l;eo(zt)}(),tt>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),l()},1)):l())}if(d.___original_main=()=>(d.___original_main=Se.yc)(),d.___start_em_js=1472759,d.___stop_em_js=1472956,d.addFunction=(l,h)=>{var b=(l=>(Is||(Is=new WeakMap,((l,h)=>{if(Is)for(var b=0;b<0+h;b++){var M=Ia(b);M&&Is.set(M,b)}})(0,Wo.length)),Is.get(l)||0))(l);if(b)return b;var M=(()=>{if(nl.length)return nl.pop();try{Wo.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return Wo.length-1})();try{rl(M,l)}catch(Ce){if(!(Ce instanceof TypeError))throw Ce;var Y=((l,h)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((l=>{for(var h={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},b={parameters:[],results:"v"==l[0]?[]:[h[l[0]]]},M=1;M<l.length;++M)b.parameters.push(h[l[M]]);return b})(h),l);var b=[1];((l,h)=>{var b=l.slice(0,1),M=l.slice(1),Y={i:127,p:127,j:126,f:125,d:124};h.push(96),ui(M.length,h);for(var Ce=0;Ce<M.length;++Ce)h.push(Y[M[Ce]]);"v"==b?h.push(0):h.push(1,Y[b])})(h,b);var M=[0,97,115,109,1,0,0,0,1];ui(b.length,M),M.push.apply(M,b),M.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Y=new WebAssembly.Module(new Uint8Array(M));return new WebAssembly.Instance(Y,{e:{f:l}}).exports.f})(l,h);rl(M,Y)}return Is.set(l,M),M},d.UTF8ToString=me,W=function l(){Pc||_g(),Pc||(W=l)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var vg=!0;function Dr(){}function Ks(l){return(l||Dr).__cache__}function ir(l,h){var b=Ks(h),M=b[l];return M||((M=Object.create((h||Dr).prototype)).ptr=l,b[l]=M)}d.noInitialRun&&(vg=!1),_g(),(Dr.prototype=Object.create(Dr.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},d.WrapperObject=Dr,d.getCache=Ks,d.wrapPointer=ir,d.castObject=function Od(l,h){return ir(l.ptr,h)},d.NULL=ir(0),d.destroy=function Sp(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete Ks(l.__class__)[l.ptr]},d.compare=function yg(l,h){return l.ptr===h.ptr},d.getPointer=function bg(l){return l.ptr},d.getClass=function Cg(l){return l.__class__};var jn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(jn.needed){for(var l=0;l<jn.temps.length;l++)d._webidl_free(jn.temps[l]);jn.temps.length=0,d._webidl_free(jn.buffer),jn.buffer=0,jn.size+=jn.needed,jn.needed=0}jn.buffer||(jn.size+=128,jn.buffer=d._webidl_malloc(jn.size),Qe(jn.buffer)),jn.pos=0},alloc(l,h){Qe(jn.buffer);var Y,M=l.length*h.BYTES_PER_ELEMENT;return jn.pos+(M=M+7&-8)>=jn.size?(Qe(M>0),jn.needed+=M,Y=d._webidl_malloc(M),jn.temps.push(Y)):(Y=jn.buffer+jn.pos,jn.pos+=M),Y},copy(l,h,b){switch(b>>>=0,h.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var Y=0;Y<l.length;Y++)h[b+Y]=l[Y]}};function Xo(l){if("string"==typeof l){var h=uo(l),b=jn.alloc(h,ae);return jn.copy(h,ae,b),b}return l}function Yn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Xe(){this.ptr=sl(),Ks(Xe)[this.ptr]=this}function Wn(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=or(l,h),Ks(Wn)[this.ptr]=this}function Jn(){throw"cannot construct a Frame, no constructor in IDL"}function Xr(){throw"cannot construct a DbBackup, no constructor in IDL"}function Ko(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Ci(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function pi(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function Qo(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Do(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Io(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=Ad(l,h),Ks(Io)[this.ptr]=this}function gn(){this.ptr=Pd(),Ks(gn)[this.ptr]=this}function $i(l){jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),this.ptr=pu(l),Ks($i)[this.ptr]=this}function Kr(l,h,b){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),b&&"object"==typeof b&&(b=b.ptr),this.ptr=Cp(l,h,b),Ks(Kr)[this.ptr]=this}return(Yn.prototype=Object.create(Dr.prototype)).constructor=Yn,Yn.prototype.__class__=Yn,Yn.__cache__={},d.VoidPtr=Yn,Yn.prototype.__destroy__=Yn.prototype.__destroy__=function(){mt(this.ptr)},(Xe.prototype=Object.create(Dr.prototype)).constructor=Xe,Xe.prototype.__class__=Xe,Xe.__cache__={},d.Cloudpilot=Xe,Xe.prototype.Malloc=Xe.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),ir(Sr(this.ptr,l),Yn)},Xe.prototype.Free=Xe.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),xs(this.ptr,l)},Xe.prototype.Nullptr=Xe.prototype.Nullptr=function(){return ir(xa(this.ptr),Yn)},Xe.prototype.InitializeSession=Xe.prototype.InitializeSession=function(l,h,b){var M=this.ptr;return jn.prepare(),l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),b=b&&"object"==typeof b?b.ptr:Xo(b),!!aa(M,l,h,b)},Xe.prototype.GetCyclesPerSecond=Xe.prototype.GetCyclesPerSecond=function(){return ka(this.ptr)},Xe.prototype.RunEmulation=Xe.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),ks(this.ptr,l)},Xe.prototype.SetClockFactor=Xe.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),Ms(this.ptr,l)},Xe.prototype.CopyFrame=Xe.prototype.CopyFrame=function(){return ir(Ws(this.ptr),Jn)},Xe.prototype.IsScreenDirty=Xe.prototype.IsScreenDirty=function(){return!!la(this.ptr)},Xe.prototype.MarkScreenClean=Xe.prototype.MarkScreenClean=function(){Ma(this.ptr)},Xe.prototype.MinMemoryForDevice=Xe.prototype.MinMemoryForDevice=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),Tn(h,l)},Xe.prototype.FramebufferSizeForDevice=Xe.prototype.FramebufferSizeForDevice=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),Zs(h,l)},Xe.prototype.TotalMemoryForDevice=Xe.prototype.TotalMemoryForDevice=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),ca(h,l)},Xe.prototype.QueuePenMove=Xe.prototype.QueuePenMove=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),wo(this.ptr,l,h)},Xe.prototype.QueuePenUp=Xe.prototype.QueuePenUp=function(){ua(this.ptr)},Xe.prototype.QueueButtonDown=Xe.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),al(this.ptr,l)},Xe.prototype.QueueButtonUp=Xe.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),rr(this.ptr,l)},Xe.prototype.QueueKeyboardEvent=Xe.prototype.QueueKeyboardEvent=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Wl(this.ptr,l,h)},Xe.prototype.IsPowerOff=Xe.prototype.IsPowerOff=function(){return!!Zl(this.ptr)},Xe.prototype.IsUIInitialized=Xe.prototype.IsUIInitialized=function(){return!!da(this.ptr)},Xe.prototype.GetOSVersion=Xe.prototype.GetOSVersion=function(){return Ta(this.ptr)},Xe.prototype.IsSetupComplete=Xe.prototype.IsSetupComplete=function(){return!!ll(this.ptr)},Xe.prototype.Reset=Xe.prototype.Reset=function(){fs(this.ptr)},Xe.prototype.ResetNoExtensions=Xe.prototype.ResetNoExtensions=function(){cl(this.ptr)},Xe.prototype.ResetHard=Xe.prototype.ResetHard=function(){qs(this.ptr)},Xe.prototype.InstallDb=Xe.prototype.InstallDb=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ul(this.ptr,l,h)},Xe.prototype.GetPalette2bitMapping=Xe.prototype.GetPalette2bitMapping=function(){return So(this.ptr)},Xe.prototype.GetMemoryPtr=Xe.prototype.GetMemoryPtr=function(){return ir(Yi(this.ptr),Yn)},Xe.prototype.GetDirtyPagesPtr=Xe.prototype.GetDirtyPagesPtr=function(){return ir(qo(this.ptr),Yn)},Xe.prototype.GetMemorySize=Xe.prototype.GetMemorySize=function(){return ql(this.ptr)},Xe.prototype.ImportMemoryImage=Xe.prototype.ImportMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Ts(this.ptr,l,h)},Xe.prototype.GetRomPtr=Xe.prototype.GetRomPtr=function(){return ir(fa(this.ptr),Yn)},Xe.prototype.GetRomSize=Xe.prototype.GetRomSize=function(){return Ys(this.ptr)},Xe.prototype.GetSavestatePtr=Xe.prototype.GetSavestatePtr=function(){return ir(dl(this.ptr),Yn)},Xe.prototype.GetSavestateSize=Xe.prototype.GetSavestateSize=function(){return cr(this.ptr)},Xe.prototype.SaveState=Xe.prototype.SaveState=function(){return!!Aa(this.ptr)},Xe.prototype.LoadState=Xe.prototype.LoadState=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!ro(this.ptr,l,h)},Xe.prototype.GetHotsyncName=Xe.prototype.GetHotsyncName=function(){return me(Nr(this.ptr))},Xe.prototype.SetHotsyncName=Xe.prototype.SetHotsyncName=function(l){var h=this.ptr;jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),ho(h,l)},Xe.prototype.RegisterPwmHandler=Xe.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),ur(this.ptr,l)},Xe.prototype.StartBackup=Xe.prototype.StartBackup=function(){return ir(Ar(this.ptr),Xr)},Xe.prototype.SetClipboardIntegration=Xe.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),ce(this.ptr,l)},Xe.prototype.GetClipboardIntegration=Xe.prototype.GetClipboardIntegration=function(){return!!p(this.ptr)},Xe.prototype.IsSuspended=Xe.prototype.IsSuspended=function(){return!!g(this.ptr)},Xe.prototype.GetSuspendContext=Xe.prototype.GetSuspendContext=function(){return ir(C(this.ptr),Do)},Xe.prototype.SetNetworkRedirection=Xe.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),O(this.ptr,l)},Xe.prototype.GetNetworkRedirection=Xe.prototype.GetNetworkRedirection=function(){return!!Z(this.ptr)},Xe.prototype.RegisterProxyDisconnectHandler=Xe.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),ye(this.ptr,l)},Xe.prototype.SetHotsyncNameManagement=Xe.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),xe(this.ptr,l)},Xe.prototype.LaunchAppByName=Xe.prototype.LaunchAppByName=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),!!Ue(h,l)},Xe.prototype.LaunchAppByDbHeader=Xe.prototype.LaunchAppByDbHeader=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!xt(this.ptr,l,h)},Xe.prototype.DeviceSupportsCardSize=Xe.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Cn(this.ptr,l)},Xe.prototype.ClearExternalStorage=Xe.prototype.ClearExternalStorage=function(){xn(this.ptr)},Xe.prototype.AllocateCard=Xe.prototype.AllocateCard=function(l,h){var b=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),h&&"object"==typeof h&&(h=h.ptr),!!Ln(b,l,h)},Xe.prototype.AdoptCard=Xe.prototype.AdoptCard=function(l,h,b){var M=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),h&&"object"==typeof h&&(h=h.ptr),b&&"object"==typeof b&&(b=b.ptr),!!Rt(M,l,h,b)},Xe.prototype.MountCard=Xe.prototype.MountCard=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),!!dn(h,l)},Xe.prototype.RemoveCard=Xe.prototype.RemoveCard=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),!!Nn(h,l)},Xe.prototype.GetCardData=Xe.prototype.GetCardData=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),ir(Lr(h,l),Yn)},Xe.prototype.GetCardDirtyPages=Xe.prototype.GetCardDirtyPages=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),ir(di(h,l),Yn)},Xe.prototype.GetCardSize=Xe.prototype.GetCardSize=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),$r(h,l)},Xe.prototype.RemountCards=Xe.prototype.RemountCards=function(){_t(this.ptr)},Xe.prototype.GetSupportLevel=Xe.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),an(this.ptr,l)},Xe.prototype.GetMountedKey=Xe.prototype.GetMountedKey=function(){return me(Zr(this.ptr))},Xe.prototype.__destroy__=Xe.prototype.__destroy__=function(){dr(this.ptr)},(Wn.prototype=Object.create(Dr.prototype)).constructor=Wn,Wn.prototype.__class__=Wn,Wn.__cache__={},d.RomInfo=Wn,Wn.prototype.IsValid=Wn.prototype.IsValid=function(){return!!fr(this.ptr)},Wn.prototype.CardVersion=Wn.prototype.CardVersion=function(){return oo(this.ptr)},Wn.prototype.CardName=Wn.prototype.CardName=function(){return me(Dc(this.ptr))},Wn.prototype.RomVersion=Wn.prototype.RomVersion=function(){return Ic(this.ptr)},Wn.prototype.RomVersionString=Wn.prototype.RomVersionString=function(){return me(cu(this.ptr))},Wn.prototype.Supports=Wn.prototype.Supports=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),!!xc(h,l)},Wn.prototype.__destroy__=Wn.prototype.__destroy__=function(){uu(this.ptr)},(Jn.prototype=Object.create(Dr.prototype)).constructor=Jn,Jn.prototype.__class__=Jn,Jn.__cache__={},d.Frame=Jn,Jn.prototype.GetLineWidth=Jn.prototype.GetLineWidth=function(){return $n(this.ptr)},Jn.prototype.GetBpp=Jn.prototype.GetBpp=function(){return Er(this.ptr)},Jn.prototype.GetLines=Jn.prototype.GetLines=function(){return Bo(this.ptr)},Jn.prototype.GetMargin=Jn.prototype.GetMargin=function(){return qr(this.ptr)},Jn.prototype.GetBytesPerLine=Jn.prototype.GetBytesPerLine=function(){return sn(this.ptr)},Jn.prototype.GetFirstDirtyLine=Jn.prototype.GetFirstDirtyLine=function(){return fo(this.ptr)},Jn.prototype.GetLastDirtyLine=Jn.prototype.GetLastDirtyLine=function(){return Ir(this.ptr)},Jn.prototype.GetHasChanges=Jn.prototype.GetHasChanges=function(){return!!mo(this.ptr)},Jn.prototype.GetBuffer=Jn.prototype.GetBuffer=function(){return ir(Pr(this.ptr),Yn)},Jn.prototype.GetBufferSize=Jn.prototype.GetBufferSize=function(){return br(this.ptr)},Jn.prototype.GetScaleX=Jn.prototype.GetScaleX=function(){return u(this.ptr)},Jn.prototype.GetScaleY=Jn.prototype.GetScaleY=function(){return _(this.ptr)},Jn.prototype.__destroy__=Jn.prototype.__destroy__=function(){v(this.ptr)},(Xr.prototype=Object.create(Dr.prototype)).constructor=Xr,Xr.prototype.__class__=Xr,Xr.__cache__={},d.DbBackup=Xr,Xr.prototype.Init=Xr.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!P(this.ptr,l)},Xr.prototype.IsInProgress=Xr.prototype.IsInProgress=function(){return!!X(this.ptr)},Xr.prototype.IsDone=Xr.prototype.IsDone=function(){return!!Ee(this.ptr)},Xr.prototype.GetCurrentDatabase=Xr.prototype.GetCurrentDatabase=function(){return me(_e(this.ptr))},Xr.prototype.Save=Xr.prototype.Save=function(){return!!Ve(this.ptr)},Xr.prototype.Skip=Xr.prototype.Skip=function(){At(this.ptr)},Xr.prototype.GetArchivePtr=Xr.prototype.GetArchivePtr=function(){return ir(vt(this.ptr),Yn)},Xr.prototype.GetArchiveSize=Xr.prototype.GetArchiveSize=function(){return bn(this.ptr)},Xr.prototype.__destroy__=Xr.prototype.__destroy__=function(){Yt(this.ptr)},(Ko.prototype=Object.create(Dr.prototype)).constructor=Ko,Ko.prototype.__class__=Ko,Ko.__cache__={},d.SuspendContextClipboardCopy=Ko,Ko.prototype.Cancel=Ko.prototype.Cancel=function(){tn(this.ptr)},Ko.prototype.Resume=Ko.prototype.Resume=function(){qt(this.ptr)},Ko.prototype.GetClipboardContent=Ko.prototype.GetClipboardContent=function(){return me(Fn(this.ptr))},Ko.prototype.__destroy__=Ko.prototype.__destroy__=function(){Qn(this.ptr)},(Ci.prototype=Object.create(Dr.prototype)).constructor=Ci,Ci.prototype.__class__=Ci,Ci.__cache__={},d.SuspendContextClipboardPaste=Ci,Ci.prototype.Cancel=Ci.prototype.Cancel=function(){bi(this.ptr)},Ci.prototype.Resume=Ci.prototype.Resume=function(l){var h=this.ptr;jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),jo(h,l)},Ci.prototype.__destroy__=Ci.prototype.__destroy__=function(){St(this.ptr)},(pi.prototype=Object.create(Dr.prototype)).constructor=pi,pi.prototype.__class__=pi,pi.__cache__={},d.SuspendContextNetworkConnect=pi,pi.prototype.Cancel=pi.prototype.Cancel=function(){pn(this.ptr)},pi.prototype.Resume=pi.prototype.Resume=function(l){var h=this.ptr;jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),Eo(h,l)},pi.prototype.__destroy__=pi.prototype.__destroy__=function(){kn(this.ptr)},(Qo.prototype=Object.create(Dr.prototype)).constructor=Qo,Qo.prototype.__class__=Qo,Qo.__cache__={},d.SuspendContextNetworkRpc=Qo,Qo.prototype.Cancel=Qo.prototype.Cancel=function(){Mt(this.ptr)},Qo.prototype.GetRequestSize=Qo.prototype.GetRequestSize=function(){return Qt(this.ptr)},Qo.prototype.GetRequestData=Qo.prototype.GetRequestData=function(){return ir(Yr(this.ptr),Yn)},Qo.prototype.ReceiveResponse=Qo.prototype.ReceiveResponse=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ps(this.ptr,l,h)},Qo.prototype.__destroy__=Qo.prototype.__destroy__=function(){Yl(this.ptr)},(Do.prototype=Object.create(Dr.prototype)).constructor=Do,Do.prototype.__class__=Do,Do.__cache__={},d.SuspendContext=Do,Do.prototype.GetKind=Do.prototype.GetKind=function(){return fi(this.ptr)},Do.prototype.Cancel=Do.prototype.Cancel=function(){fl(this.ptr)},Do.prototype.AsContextClipboardCopy=Do.prototype.AsContextClipboardCopy=function(){return ir(go(this.ptr),Ko)},Do.prototype.AsContextClipboardPaste=Do.prototype.AsContextClipboardPaste=function(){return ir(pa(this.ptr),Ci)},Do.prototype.AsContextNetworkConnect=Do.prototype.AsContextNetworkConnect=function(){return ir(pl(this.ptr),pi)},Do.prototype.AsContextNetworkRpc=Do.prototype.AsContextNetworkRpc=function(){return ir(An(this.ptr),Qo)},Do.prototype.__destroy__=Do.prototype.__destroy__=function(){Xl(this.ptr)},(Io.prototype=Object.create(Dr.prototype)).constructor=Io,Io.prototype.__class__=Io,Io.__cache__={},d.ZipfileWalker=Io,Io.prototype.GetState=Io.prototype.GetState=function(){return hl(this.ptr)},Io.prototype.Next=Io.prototype.Next=function(){return _o(this.ptr)},Io.prototype.GetCurrentEntrySize=Io.prototype.GetCurrentEntrySize=function(){return Kl(this.ptr)},Io.prototype.GetCurrentEntryName=Io.prototype.GetCurrentEntryName=function(){return me(ml(this.ptr))},Io.prototype.GetCurrentEntryContent=Io.prototype.GetCurrentEntryContent=function(){return ir(As(this.ptr),Yn)},Io.prototype.__destroy__=Io.prototype.__destroy__=function(){Ql(this.ptr)},(gn.prototype=Object.create(Dr.prototype)).constructor=gn,gn.prototype.__class__=gn,gn.__cache__={},d.SessionImage=gn,gn.prototype.GetDeviceId=gn.prototype.GetDeviceId=function(){return me(ha(this.ptr))},gn.prototype.SetDeviceId=gn.prototype.SetDeviceId=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),ir(Xs(h,l),gn)},gn.prototype.GetRomImage=gn.prototype.GetRomImage=function(){return ir(kc(this.ptr),Yn)},gn.prototype.GetRomImageSize=gn.prototype.GetRomImageSize=function(){return Mc(this.ptr)},gn.prototype.SetRomImage=gn.prototype.SetRomImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ir(qn(this.ptr,l,h),gn)},gn.prototype.GetMemoryImage=gn.prototype.GetMemoryImage=function(){return ir(sg(this.ptr),Yn)},gn.prototype.GetMemoryImageSize=gn.prototype.GetMemoryImageSize=function(){return du(this.ptr)},gn.prototype.SetMemoryImage=gn.prototype.SetMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ir(Rd(this.ptr,l,h),gn)},gn.prototype.GetMetadata=gn.prototype.GetMetadata=function(){return ir(Ps(this.ptr),Yn)},gn.prototype.GetMetadataSize=gn.prototype.GetMetadataSize=function(){return Tc(this.ptr)},gn.prototype.SetMetadata=gn.prototype.SetMetadata=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ir(gl(this.ptr,l,h),gn)},gn.prototype.GetSavestate=gn.prototype.GetSavestate=function(){return ir(Jl(this.ptr),Yn)},gn.prototype.GetSavestateSize=gn.prototype.GetSavestateSize=function(){return Yo(this.ptr)},gn.prototype.SetSavestate=gn.prototype.SetSavestate=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ir(ag(this.ptr,l,h),gn)},gn.prototype.GetVersion=gn.prototype.GetVersion=function(){return Ti(this.ptr)},gn.prototype.Serialize=gn.prototype.Serialize=function(){return!!Ai(this.ptr)},gn.prototype.GetSerializedImage=gn.prototype.GetSerializedImage=function(){return ir(fu(this.ptr),Yn)},gn.prototype.GetSerializedImageSize=gn.prototype.GetSerializedImageSize=function(){return Pa(this.ptr)},gn.prototype.Deserialize=gn.prototype.Deserialize=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Ac(this.ptr,l,h)},gn.prototype.__destroy__=gn.prototype.__destroy__=function(){hs(this.ptr)},($i.prototype=Object.create(Dr.prototype)).constructor=$i,$i.prototype.__class__=$i,$i.__cache__={},d.SkinLoader=$i,$i.prototype.GetData=$i.prototype.GetData=function(){return ir(yp(this.ptr),Yn)},$i.prototype.GetSize=$i.prototype.GetSize=function(){return bp(this.ptr)},$i.prototype.__destroy__=$i.prototype.__destroy__=function(){lg(this.ptr)},(Kr.prototype=Object.create(Dr.prototype)).constructor=Kr,Kr.prototype.__class__=Kr,Kr.__cache__={},d.GunzipContext=Kr,Kr.prototype.GetState=Kr.prototype.GetState=function(){return wp(this.ptr)},Kr.prototype.Continue=Kr.prototype.Continue=function(){return cg(this.ptr)},Kr.prototype.GetUncompressedData=Kr.prototype.GetUncompressedData=function(){return ir(ug(this.ptr),Yn)},Kr.prototype.ReleaseUncompressedData=Kr.prototype.ReleaseUncompressedData=function(){return ir(dg(this.ptr),Yn)},Kr.prototype.GetUncompressedSize=Kr.prototype.GetUncompressedSize=function(){return fg(this.ptr)},Kr.prototype.GetError=Kr.prototype.GetError=function(){return me(pg(this.ptr))},Kr.prototype.__destroy__=Kr.prototype.__destroy__=function(){hg(this.ptr)},D.ready});ke.exports=Le},6368:ke=>{var T,Le=(T=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(D={}){var ne,re,d=D;d.ready=new Promise((p,g)=>{ne=p,re=g});var G,Re,Pe,H=Object.assign({},d),F="./this.program",U=(p,g)=>{throw g},le="object"==typeof window,J="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(le||J)&&(J?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),T&&($=T),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=p=>{var g=new XMLHttpRequest;return g.open("GET",p,!1),g.send(null),g.responseText},J&&(Pe=p=>{var g=new XMLHttpRequest;return g.open("GET",p,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Re=(p,g,C)=>{var O=new XMLHttpRequest;O.open("GET",p,!0),O.responseType="arraybuffer",O.onload=()=>{200==O.status||0==O.status&&O.response?g(O.response):C()},O.onerror=C,O.send(null)});var q,ue=d.print||console.log.bind(console),V=d.printErr||console.error.bind(console);Object.assign(d,H),H=null,d.thisProgram&&(F=d.thisProgram),d.quit&&(U=d.quit),d.wasmBinary&&(q=d.wasmBinary);var de=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&_n("no native wasm support detected");var ve,Je,ae,pe,N,j,ft,fe=!1;function Qe(p,g){p||_n(g)}function It(){var p=ve.buffer;d.HEAP8=ae=new Int8Array(p),d.HEAP16=new Int16Array(p),d.HEAPU8=pe=new Uint8Array(p),d.HEAPU16=new Uint16Array(p),d.HEAP32=N=new Int32Array(p),d.HEAPU32=j=new Uint32Array(p),d.HEAPF32=new Float32Array(p),d.HEAPF64=ft=new Float64Array(p)}var zt=[],Ge=[],we=[],He=[],tt=0,ht=null,W=null;function Jt(p){tt++,d.monitorRunDependencies&&d.monitorRunDependencies(tt)}function In(p){if(tt--,d.monitorRunDependencies&&d.monitorRunDependencies(tt),0==tt&&(null!==ht&&(clearInterval(ht),ht=null),W)){var g=W;W=null,g()}}function _n(p){d.onAbort&&d.onAbort(p),V(p="Aborted("+p+")"),fe=!0,Je=1,p+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(p);throw re(g),g}var lr;function Cr(p){return p.startsWith("data:application/octet-stream;base64,")}function _r(p){if(p==lr&&q)return new Uint8Array(q);if(Pe)return Pe(p);throw"both async and sync fetching of the wasm failed"}function No(p,g,C){return function ii(p){return q||!le&&!J||"function"!=typeof fetch?Promise.resolve().then(()=>_r(p)):fetch(p,{credentials:"same-origin"}).then(g=>{if(!g.ok)throw"failed to load wasm binary file at '"+p+"'";return g.arrayBuffer()}).catch(()=>_r(p))}(p).then(O=>WebAssembly.instantiate(O,g)).then(O=>O).then(C,O=>{V(`failed to asynchronously prepare wasm: ${O}`),_n(O)})}Cr(lr="fstools_web.wasm")||(lr=function L(p){return d.locateFile?d.locateFile(p,$):$+p}(lr));var Ze,Wt,Wr={1092656:()=>{throw new Error("terminated")}};function Ur(p){this.name="ExitStatus",this.message=`Program terminated with exit(${p})`,this.status=p}var Tr=p=>{for(;p.length>0;)p.shift()(d)},eo=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Xn=(p,g,C)=>{for(var O=g+C,Z=g;p[Z]&&!(Z>=O);)++Z;if(Z-g>16&&p.buffer&&eo)return eo.decode(p.subarray(g,Z));for(var ye="";g<Z;){var xe=p[g++];if(128&xe){var Ue=63&p[g++];if(192!=(224&xe)){var xt=63&p[g++];if((xe=224==(240&xe)?(15&xe)<<12|Ue<<6|xt:(7&xe)<<18|Ue<<12|xt<<6|63&p[g++])<65536)ye+=String.fromCharCode(xe);else{var Cn=xe-65536;ye+=String.fromCharCode(55296|Cn>>10,56320|1023&Cn)}}else ye+=String.fromCharCode((31&xe)<<6|Ue)}else ye+=String.fromCharCode(xe)}return ye},De=(p,g)=>p?Xn(pe,p,g):"",Ht={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,g)=>{for(var C=0,O=p.length-1;O>=0;O--){var Z=p[O];"."===Z?p.splice(O,1):".."===Z?(p.splice(O,1),C++):C&&(p.splice(O,1),C--)}if(g)for(;C;C--)p.unshift("..");return p},normalize:p=>{var g=Ht.isAbs(p),C="/"===p.substr(-1);return!(p=Ht.normalizeArray(p.split("/").filter(O=>!!O),!g).join("/"))&&!g&&(p="."),p&&C&&(p+="/"),(g?"/":"")+p},dirname:p=>{var g=Ht.splitPath(p),C=g[0],O=g[1];return C||O?(O&&(O=O.substr(0,O.length-1)),C+O):"."},basename:p=>{if("/"===p)return"/";var g=(p=(p=Ht.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?p:p.substr(g+1)},join:function(){var p=Array.prototype.slice.call(arguments);return Ht.normalize(p.join("/"))},join2:(p,g)=>Ht.normalize(p+"/"+g)},Hn=p=>(Hn=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return p=>crypto.getRandomValues(p);_n("initRandomDevice")})())(p),ln={resolve:function(){for(var p="",g=!1,C=arguments.length-1;C>=-1&&!g;C--){var O=C>=0?arguments[C]:I.cwd();if("string"!=typeof O)throw new TypeError("Arguments to path.resolve must be strings");if(!O)return"";p=O+"/"+p,g=Ht.isAbs(O)}return(g?"/":"")+(p=Ht.normalizeArray(p.split("/").filter(Z=>!!Z),!g).join("/"))||"."},relative:(p,g)=>{function C(Cn){for(var xn=0;xn<Cn.length&&""===Cn[xn];xn++);for(var Ln=Cn.length-1;Ln>=0&&""===Cn[Ln];Ln--);return xn>Ln?[]:Cn.slice(xn,Ln-xn+1)}p=ln.resolve(p).substr(1),g=ln.resolve(g).substr(1);for(var O=C(p.split("/")),Z=C(g.split("/")),ye=Math.min(O.length,Z.length),xe=ye,Ue=0;Ue<ye;Ue++)if(O[Ue]!==Z[Ue]){xe=Ue;break}var xt=[];for(Ue=xe;Ue<O.length;Ue++)xt.push("..");return(xt=xt.concat(Z.slice(xe))).join("/")}},wr=[],co=p=>{for(var g=0,C=0;C<p.length;++C){var O=p.charCodeAt(C);O<=127?g++:O<=2047?g+=2:O>=55296&&O<=57343?(g+=4,++C):g+=3}return g},vr=(p,g,C,O)=>{if(!(O>0))return 0;for(var Z=C,ye=C+O-1,xe=0;xe<p.length;++xe){var Ue=p.charCodeAt(xe);if(Ue>=55296&&Ue<=57343&&(Ue=65536+((1023&Ue)<<10)|1023&p.charCodeAt(++xe)),Ue<=127){if(C>=ye)break;g[C++]=Ue}else if(Ue<=2047){if(C+1>=ye)break;g[C++]=192|Ue>>6,g[C++]=128|63&Ue}else if(Ue<=65535){if(C+2>=ye)break;g[C++]=224|Ue>>12,g[C++]=128|Ue>>6&63,g[C++]=128|63&Ue}else{if(C+3>=ye)break;g[C++]=240|Ue>>18,g[C++]=128|Ue>>12&63,g[C++]=128|Ue>>6&63,g[C++]=128|63&Ue}}return g[C]=0,C-Z};function to(p,g,C){var O=C>0?C:co(p)+1,Z=new Array(O),ye=vr(p,Z,0,Z.length);return g&&(Z.length=ye),Z}var yr={ttys:[],init(){},shutdown(){},register(p,g){yr.ttys[p]={input:[],output:[],ops:g},I.registerDevice(p,yr.stream_ops)},stream_ops:{open(p){var g=yr.ttys[p.node.rdev];if(!g)throw new I.ErrnoError(43);p.tty=g,p.seekable=!1},close(p){p.tty.ops.fsync(p.tty)},fsync(p){p.tty.ops.fsync(p.tty)},read(p,g,C,O,Z){if(!p.tty||!p.tty.ops.get_char)throw new I.ErrnoError(60);for(var ye=0,xe=0;xe<O;xe++){var Ue;try{Ue=p.tty.ops.get_char(p.tty)}catch{throw new I.ErrnoError(29)}if(void 0===Ue&&0===ye)throw new I.ErrnoError(6);if(null==Ue)break;ye++,g[C+xe]=Ue}return ye&&(p.node.timestamp=Date.now()),ye},write(p,g,C,O,Z){if(!p.tty||!p.tty.ops.put_char)throw new I.ErrnoError(60);try{for(var ye=0;ye<O;ye++)p.tty.ops.put_char(p.tty,g[C+ye])}catch{throw new I.ErrnoError(29)}return O&&(p.node.timestamp=Date.now()),ye}},default_tty_ops:{get_char:p=>(()=>{if(!wr.length){var p=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(p=window.prompt("Input: "))&&(p+="\n"):"function"==typeof readline&&null!==(p=readline())&&(p+="\n"),!p)return null;wr=to(p,!0)}return wr.shift()})(),put_char(p,g){null===g||10===g?(ue(Xn(p.output,0)),p.output=[]):0!=g&&p.output.push(g)},fsync(p){p.output&&p.output.length>0&&(ue(Xn(p.output,0)),p.output=[])},ioctl_tcgets:p=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(p,g,C)=>0,ioctl_tiocgwinsz:p=>[24,80]},default_tty1_ops:{put_char(p,g){null===g||10===g?(V(Xn(p.output,0)),p.output=[]):0!=g&&p.output.push(g)},fsync(p){p.output&&p.output.length>0&&(V(Xn(p.output,0)),p.output=[])}}},Pt=p=>{_n()},cn={ops_table:null,mount:p=>cn.createNode(null,"/",16895,0),createNode(p,g,C,O){if(I.isBlkdev(C)||I.isFIFO(C))throw new I.ErrnoError(63);cn.ops_table||(cn.ops_table={dir:{node:{getattr:cn.node_ops.getattr,setattr:cn.node_ops.setattr,lookup:cn.node_ops.lookup,mknod:cn.node_ops.mknod,rename:cn.node_ops.rename,unlink:cn.node_ops.unlink,rmdir:cn.node_ops.rmdir,readdir:cn.node_ops.readdir,symlink:cn.node_ops.symlink},stream:{llseek:cn.stream_ops.llseek}},file:{node:{getattr:cn.node_ops.getattr,setattr:cn.node_ops.setattr},stream:{llseek:cn.stream_ops.llseek,read:cn.stream_ops.read,write:cn.stream_ops.write,allocate:cn.stream_ops.allocate,mmap:cn.stream_ops.mmap,msync:cn.stream_ops.msync}},link:{node:{getattr:cn.node_ops.getattr,setattr:cn.node_ops.setattr,readlink:cn.node_ops.readlink},stream:{}},chrdev:{node:{getattr:cn.node_ops.getattr,setattr:cn.node_ops.setattr},stream:I.chrdev_stream_ops}});var Z=I.createNode(p,g,C,O);return I.isDir(Z.mode)?(Z.node_ops=cn.ops_table.dir.node,Z.stream_ops=cn.ops_table.dir.stream,Z.contents={}):I.isFile(Z.mode)?(Z.node_ops=cn.ops_table.file.node,Z.stream_ops=cn.ops_table.file.stream,Z.usedBytes=0,Z.contents=null):I.isLink(Z.mode)?(Z.node_ops=cn.ops_table.link.node,Z.stream_ops=cn.ops_table.link.stream):I.isChrdev(Z.mode)&&(Z.node_ops=cn.ops_table.chrdev.node,Z.stream_ops=cn.ops_table.chrdev.stream),Z.timestamp=Date.now(),p&&(p.contents[g]=Z,p.timestamp=Z.timestamp),Z},getFileDataAsTypedArray:p=>p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0),expandFileStorage(p,g){var C=p.contents?p.contents.length:0;if(!(C>=g)){g=Math.max(g,C*(C<1048576?2:1.125)>>>0),0!=C&&(g=Math.max(g,256));var Z=p.contents;p.contents=new Uint8Array(g),p.usedBytes>0&&p.contents.set(Z.subarray(0,p.usedBytes),0)}},resizeFileStorage(p,g){if(p.usedBytes!=g)if(0==g)p.contents=null,p.usedBytes=0;else{var C=p.contents;p.contents=new Uint8Array(g),C&&p.contents.set(C.subarray(0,Math.min(g,p.usedBytes))),p.usedBytes=g}},node_ops:{getattr(p){var g={};return g.dev=I.isChrdev(p.mode)?p.id:1,g.ino=p.id,g.mode=p.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=p.rdev,g.size=I.isDir(p.mode)?4096:I.isFile(p.mode)?p.usedBytes:I.isLink(p.mode)?p.link.length:0,g.atime=new Date(p.timestamp),g.mtime=new Date(p.timestamp),g.ctime=new Date(p.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr(p,g){void 0!==g.mode&&(p.mode=g.mode),void 0!==g.timestamp&&(p.timestamp=g.timestamp),void 0!==g.size&&cn.resizeFileStorage(p,g.size)},lookup(p,g){throw I.genericErrors[44]},mknod:(p,g,C,O)=>cn.createNode(p,g,C,O),rename(p,g,C){if(I.isDir(p.mode)){var O;try{O=I.lookupNode(g,C)}catch{}if(O)for(var Z in O.contents)throw new I.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=C,g.contents[C]=p,g.timestamp=p.parent.timestamp,p.parent=g},unlink(p,g){delete p.contents[g],p.timestamp=Date.now()},rmdir(p,g){var C=I.lookupNode(p,g);for(var O in C.contents)throw new I.ErrnoError(55);delete p.contents[g],p.timestamp=Date.now()},readdir(p){var g=[".",".."];for(var C in p.contents)p.contents.hasOwnProperty(C)&&g.push(C);return g},symlink(p,g,C){var O=cn.createNode(p,g,41471,0);return O.link=C,O},readlink(p){if(!I.isLink(p.mode))throw new I.ErrnoError(28);return p.link}},stream_ops:{read(p,g,C,O,Z){var ye=p.node.contents;if(Z>=p.node.usedBytes)return 0;var xe=Math.min(p.node.usedBytes-Z,O);if(xe>8&&ye.subarray)g.set(ye.subarray(Z,Z+xe),C);else for(var Ue=0;Ue<xe;Ue++)g[C+Ue]=ye[Z+Ue];return xe},write(p,g,C,O,Z,ye){if(g.buffer===ae.buffer&&(ye=!1),!O)return 0;var xe=p.node;if(xe.timestamp=Date.now(),g.subarray&&(!xe.contents||xe.contents.subarray)){if(ye)return xe.contents=g.subarray(C,C+O),xe.usedBytes=O,O;if(0===xe.usedBytes&&0===Z)return xe.contents=g.slice(C,C+O),xe.usedBytes=O,O;if(Z+O<=xe.usedBytes)return xe.contents.set(g.subarray(C,C+O),Z),O}if(cn.expandFileStorage(xe,Z+O),xe.contents.subarray&&g.subarray)xe.contents.set(g.subarray(C,C+O),Z);else for(var Ue=0;Ue<O;Ue++)xe.contents[Z+Ue]=g[C+Ue];return xe.usedBytes=Math.max(xe.usedBytes,Z+O),O},llseek(p,g,C){var O=g;if(1===C?O+=p.position:2===C&&I.isFile(p.node.mode)&&(O+=p.node.usedBytes),O<0)throw new I.ErrnoError(28);return O},allocate(p,g,C){cn.expandFileStorage(p.node,g+C),p.node.usedBytes=Math.max(p.node.usedBytes,g+C)},mmap(p,g,C,O,Z){if(!I.isFile(p.node.mode))throw new I.ErrnoError(43);var ye,xe,Ue=p.node.contents;if(2&Z||Ue.buffer!==ae.buffer){if((C>0||C+g<Ue.length)&&(Ue=Ue.subarray?Ue.subarray(C,C+g):Array.prototype.slice.call(Ue,C,C+g)),xe=!0,!(ye=Pt()))throw new I.ErrnoError(48);ae.set(Ue,ye)}else xe=!1,ye=Ue.byteOffset;return{ptr:ye,allocated:xe}},msync:(p,g,C,O,Z)=>(cn.stream_ops.write(p,g,0,O,C,!1),0)}},bo=d.preloadPlugins||[],k=(p,g)=>{var C=0;return p&&(C|=365),g&&(C|=146),C},I={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(p,g={}){if(!(p=ln.resolve(p)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new I.ErrnoError(32);for(var O=p.split("/").filter(Ln=>!!Ln),Z=I.root,ye="/",xe=0;xe<O.length;xe++){var Ue=xe===O.length-1;if(Ue&&g.parent)break;if(Z=I.lookupNode(Z,O[xe]),ye=Ht.join2(ye,O[xe]),I.isMountpoint(Z)&&(!Ue||Ue&&g.follow_mount)&&(Z=Z.mounted.root),!Ue||g.follow)for(var xt=0;I.isLink(Z.mode);){var Cn=I.readlink(ye);if(ye=ln.resolve(Ht.dirname(ye),Cn),Z=I.lookupPath(ye,{recurse_count:g.recurse_count+1}).node,xt++>40)throw new I.ErrnoError(32)}}return{path:ye,node:Z}},getPath(p){for(var g;;){if(I.isRoot(p)){var C=p.mount.mountpoint;return g?"/"!==C[C.length-1]?`${C}/${g}`:C+g:C}g=g?`${p.name}/${g}`:p.name,p=p.parent}},hashName(p,g){for(var C=0,O=0;O<g.length;O++)C=(C<<5)-C+g.charCodeAt(O)|0;return(p+C>>>0)%I.nameTable.length},hashAddNode(p){var g=I.hashName(p.parent.id,p.name);p.name_next=I.nameTable[g],I.nameTable[g]=p},hashRemoveNode(p){var g=I.hashName(p.parent.id,p.name);if(I.nameTable[g]===p)I.nameTable[g]=p.name_next;else for(var C=I.nameTable[g];C;){if(C.name_next===p){C.name_next=p.name_next;break}C=C.name_next}},lookupNode(p,g){var C=I.mayLookup(p);if(C)throw new I.ErrnoError(C,p);for(var O=I.hashName(p.id,g),Z=I.nameTable[O];Z;Z=Z.name_next)if(Z.parent.id===p.id&&Z.name===g)return Z;return I.lookup(p,g)},createNode(p,g,C,O){var Z=new I.FSNode(p,g,C,O);return I.hashAddNode(Z),Z},destroyNode(p){I.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagsToPermissionString(p){var g=["r","w","rw"][3&p];return 512&p&&(g+="w"),g},nodePermissions:(p,g)=>I.ignorePermissions?0:g.includes("r")&&!(292&p.mode)||g.includes("w")&&!(146&p.mode)||g.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>I.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate(p,g){try{return I.lookupNode(p,g),20}catch{}return I.nodePermissions(p,"wx")},mayDelete(p,g,C){var O;try{O=I.lookupNode(p,g)}catch(ye){return ye.errno}var Z=I.nodePermissions(p,"wx");if(Z)return Z;if(C){if(!I.isDir(O.mode))return 54;if(I.isRoot(O)||I.getPath(O)===I.cwd())return 10}else if(I.isDir(O.mode))return 31;return 0},mayOpen:(p,g)=>p?I.isLink(p.mode)?32:I.isDir(p.mode)&&("r"!==I.flagsToPermissionString(g)||512&g)?31:I.nodePermissions(p,I.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd(){for(var p=0;p<=I.MAX_OPEN_FDS;p++)if(!I.streams[p])return p;throw new I.ErrnoError(33)},getStreamChecked(p){var g=I.getStream(p);if(!g)throw new I.ErrnoError(8);return g},getStream:p=>I.streams[p],createStream:(p,g=-1)=>(I.FSStream||(I.FSStream=function(){this.shared={}},I.FSStream.prototype={},Object.defineProperties(I.FSStream.prototype,{object:{get(){return this.node},set(C){this.node=C}},isRead:{get(){return 1!=(2097155&this.flags)}},isWrite:{get(){return 0!=(2097155&this.flags)}},isAppend:{get(){return 1024&this.flags}},flags:{get(){return this.shared.flags},set(C){this.shared.flags=C}},position:{get(){return this.shared.position},set(C){this.shared.position=C}}})),p=Object.assign(new I.FSStream,p),-1==g&&(g=I.nextfd()),p.fd=g,I.streams[g]=p,p),closeStream(p){I.streams[p]=null},chrdev_stream_ops:{open(p){var g=I.getDevice(p.node.rdev);p.stream_ops=g.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek(){throw new I.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,g)=>p<<8|g,registerDevice(p,g){I.devices[p]={stream_ops:g}},getDevice:p=>I.devices[p],getMounts(p){for(var g=[],C=[p];C.length;){var O=C.pop();g.push(O),C.push.apply(C,O.mounts)}return g},syncfs(p,g){"function"==typeof p&&(g=p,p=!1),I.syncFSRequests++,I.syncFSRequests>1&&V(`warning: ${I.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var C=I.getMounts(I.root.mount),O=0;function Z(xe){return I.syncFSRequests--,g(xe)}function ye(xe){if(xe)return ye.errored?void 0:(ye.errored=!0,Z(xe));++O>=C.length&&Z(null)}C.forEach(xe=>{if(!xe.type.syncfs)return ye(null);xe.type.syncfs(xe,p,ye)})},mount(p,g,C){var ye,O="/"===C,Z=!C;if(O&&I.root)throw new I.ErrnoError(10);if(!O&&!Z){var xe=I.lookupPath(C,{follow_mount:!1});if(C=xe.path,I.isMountpoint(ye=xe.node))throw new I.ErrnoError(10);if(!I.isDir(ye.mode))throw new I.ErrnoError(54)}var Ue={type:p,opts:g,mountpoint:C,mounts:[]},xt=p.mount(Ue);return xt.mount=Ue,Ue.root=xt,O?I.root=xt:ye&&(ye.mounted=Ue,ye.mount&&ye.mount.mounts.push(Ue)),xt},unmount(p){var g=I.lookupPath(p,{follow_mount:!1});if(!I.isMountpoint(g.node))throw new I.ErrnoError(28);var C=g.node,O=C.mounted,Z=I.getMounts(O);Object.keys(I.nameTable).forEach(xe=>{for(var Ue=I.nameTable[xe];Ue;){var xt=Ue.name_next;Z.includes(Ue.mount)&&I.destroyNode(Ue),Ue=xt}}),C.mounted=null;var ye=C.mount.mounts.indexOf(O);C.mount.mounts.splice(ye,1)},lookup:(p,g)=>p.node_ops.lookup(p,g),mknod(p,g,C){var Z=I.lookupPath(p,{parent:!0}).node,ye=Ht.basename(p);if(!ye||"."===ye||".."===ye)throw new I.ErrnoError(28);var xe=I.mayCreate(Z,ye);if(xe)throw new I.ErrnoError(xe);if(!Z.node_ops.mknod)throw new I.ErrnoError(63);return Z.node_ops.mknod(Z,ye,g,C)},create:(p,g)=>(g=void 0!==g?g:438,g&=4095,I.mknod(p,g|=32768,0)),mkdir:(p,g)=>(g=void 0!==g?g:511,g&=1023,I.mknod(p,g|=16384,0)),mkdirTree(p,g){for(var C=p.split("/"),O="",Z=0;Z<C.length;++Z)if(C[Z]){O+="/"+C[Z];try{I.mkdir(O,g)}catch(ye){if(20!=ye.errno)throw ye}}},mkdev:(p,g,C)=>(typeof C>"u"&&(C=g,g=438),I.mknod(p,g|=8192,C)),symlink(p,g){if(!ln.resolve(p))throw new I.ErrnoError(44);var O=I.lookupPath(g,{parent:!0}).node;if(!O)throw new I.ErrnoError(44);var Z=Ht.basename(g),ye=I.mayCreate(O,Z);if(ye)throw new I.ErrnoError(ye);if(!O.node_ops.symlink)throw new I.ErrnoError(63);return O.node_ops.symlink(O,Z,p)},rename(p,g){var Ue,xt,C=Ht.dirname(p),O=Ht.dirname(g),Z=Ht.basename(p),ye=Ht.basename(g);if(Ue=I.lookupPath(p,{parent:!0}).node,xt=I.lookupPath(g,{parent:!0}).node,!Ue||!xt)throw new I.ErrnoError(44);if(Ue.mount!==xt.mount)throw new I.ErrnoError(75);var Ln,Cn=I.lookupNode(Ue,Z),xn=ln.relative(p,O);if("."!==xn.charAt(0))throw new I.ErrnoError(28);if("."!==(xn=ln.relative(g,C)).charAt(0))throw new I.ErrnoError(55);try{Ln=I.lookupNode(xt,ye)}catch{}if(Cn!==Ln){var Rt=I.isDir(Cn.mode),dn=I.mayDelete(Ue,Z,Rt);if(dn)throw new I.ErrnoError(dn);if(dn=Ln?I.mayDelete(xt,ye,Rt):I.mayCreate(xt,ye))throw new I.ErrnoError(dn);if(!Ue.node_ops.rename)throw new I.ErrnoError(63);if(I.isMountpoint(Cn)||Ln&&I.isMountpoint(Ln))throw new I.ErrnoError(10);if(xt!==Ue&&(dn=I.nodePermissions(Ue,"w")))throw new I.ErrnoError(dn);I.hashRemoveNode(Cn);try{Ue.node_ops.rename(Cn,xt,ye)}catch(Nn){throw Nn}finally{I.hashAddNode(Cn)}}},rmdir(p){var C=I.lookupPath(p,{parent:!0}).node,O=Ht.basename(p),Z=I.lookupNode(C,O),ye=I.mayDelete(C,O,!0);if(ye)throw new I.ErrnoError(ye);if(!C.node_ops.rmdir)throw new I.ErrnoError(63);if(I.isMountpoint(Z))throw new I.ErrnoError(10);C.node_ops.rmdir(C,O),I.destroyNode(Z)},readdir(p){var C=I.lookupPath(p,{follow:!0}).node;if(!C.node_ops.readdir)throw new I.ErrnoError(54);return C.node_ops.readdir(C)},unlink(p){var C=I.lookupPath(p,{parent:!0}).node;if(!C)throw new I.ErrnoError(44);var O=Ht.basename(p),Z=I.lookupNode(C,O),ye=I.mayDelete(C,O,!1);if(ye)throw new I.ErrnoError(ye);if(!C.node_ops.unlink)throw new I.ErrnoError(63);if(I.isMountpoint(Z))throw new I.ErrnoError(10);C.node_ops.unlink(C,O),I.destroyNode(Z)},readlink(p){var C=I.lookupPath(p).node;if(!C)throw new I.ErrnoError(44);if(!C.node_ops.readlink)throw new I.ErrnoError(28);return ln.resolve(I.getPath(C.parent),C.node_ops.readlink(C))},stat(p,g){var O=I.lookupPath(p,{follow:!g}).node;if(!O)throw new I.ErrnoError(44);if(!O.node_ops.getattr)throw new I.ErrnoError(63);return O.node_ops.getattr(O)},lstat:p=>I.stat(p,!0),chmod(p,g,C){var O;if(!(O="string"==typeof p?I.lookupPath(p,{follow:!C}).node:p).node_ops.setattr)throw new I.ErrnoError(63);O.node_ops.setattr(O,{mode:4095&g|-4096&O.mode,timestamp:Date.now()})},lchmod(p,g){I.chmod(p,g,!0)},fchmod(p,g){var C=I.getStreamChecked(p);I.chmod(C.node,g)},chown(p,g,C,O){var Z;if(!(Z="string"==typeof p?I.lookupPath(p,{follow:!O}).node:p).node_ops.setattr)throw new I.ErrnoError(63);Z.node_ops.setattr(Z,{timestamp:Date.now()})},lchown(p,g,C){I.chown(p,g,C,!0)},fchown(p,g,C){var O=I.getStreamChecked(p);I.chown(O.node,g,C)},truncate(p,g){if(g<0)throw new I.ErrnoError(28);var C;if(!(C="string"==typeof p?I.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new I.ErrnoError(63);if(I.isDir(C.mode))throw new I.ErrnoError(31);if(!I.isFile(C.mode))throw new I.ErrnoError(28);var Z=I.nodePermissions(C,"w");if(Z)throw new I.ErrnoError(Z);C.node_ops.setattr(C,{size:g,timestamp:Date.now()})},ftruncate(p,g){var C=I.getStreamChecked(p);if(!(2097155&C.flags))throw new I.ErrnoError(28);I.truncate(C.node,g)},utime(p,g,C){var Z=I.lookupPath(p,{follow:!0}).node;Z.node_ops.setattr(Z,{timestamp:Math.max(g,C)})},open(p,g,C){if(""===p)throw new I.ErrnoError(44);var O;if(g="string"==typeof g?(p=>{var C={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[p];if(typeof C>"u")throw new Error(`Unknown file open mode: ${p}`);return C})(g):g,C=typeof C>"u"?438:C,C=64&g?4095&C|32768:0,"object"==typeof p)O=p;else{p=Ht.normalize(p);try{O=I.lookupPath(p,{follow:!(131072&g)}).node}catch{}}var ye=!1;if(64&g)if(O){if(128&g)throw new I.ErrnoError(20)}else O=I.mknod(p,C,0),ye=!0;if(!O)throw new I.ErrnoError(44);if(I.isChrdev(O.mode)&&(g&=-513),65536&g&&!I.isDir(O.mode))throw new I.ErrnoError(54);if(!ye){var xe=I.mayOpen(O,g);if(xe)throw new I.ErrnoError(xe)}512&g&&!ye&&I.truncate(O,0),g&=-131713;var Ue=I.createStream({node:O,path:I.getPath(O),flags:g,seekable:!0,position:0,stream_ops:O.stream_ops,ungotten:[],error:!1});return Ue.stream_ops.open&&Ue.stream_ops.open(Ue),d.logReadFiles&&!(1&g)&&(I.readFiles||(I.readFiles={}),p in I.readFiles||(I.readFiles[p]=1)),Ue},close(p){if(I.isClosed(p))throw new I.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(g){throw g}finally{I.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek(p,g,C){if(I.isClosed(p))throw new I.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new I.ErrnoError(70);if(0!=C&&1!=C&&2!=C)throw new I.ErrnoError(28);return p.position=p.stream_ops.llseek(p,g,C),p.ungotten=[],p.position},read(p,g,C,O,Z){if(O<0||Z<0)throw new I.ErrnoError(28);if(I.isClosed(p))throw new I.ErrnoError(8);if(1==(2097155&p.flags))throw new I.ErrnoError(8);if(I.isDir(p.node.mode))throw new I.ErrnoError(31);if(!p.stream_ops.read)throw new I.ErrnoError(28);var ye=typeof Z<"u";if(ye){if(!p.seekable)throw new I.ErrnoError(70)}else Z=p.position;var xe=p.stream_ops.read(p,g,C,O,Z);return ye||(p.position+=xe),xe},write(p,g,C,O,Z,ye){if(O<0||Z<0)throw new I.ErrnoError(28);if(I.isClosed(p))throw new I.ErrnoError(8);if(!(2097155&p.flags))throw new I.ErrnoError(8);if(I.isDir(p.node.mode))throw new I.ErrnoError(31);if(!p.stream_ops.write)throw new I.ErrnoError(28);p.seekable&&1024&p.flags&&I.llseek(p,0,2);var xe=typeof Z<"u";if(xe){if(!p.seekable)throw new I.ErrnoError(70)}else Z=p.position;var Ue=p.stream_ops.write(p,g,C,O,Z,ye);return xe||(p.position+=Ue),Ue},allocate(p,g,C){if(I.isClosed(p))throw new I.ErrnoError(8);if(g<0||C<=0)throw new I.ErrnoError(28);if(!(2097155&p.flags))throw new I.ErrnoError(8);if(!I.isFile(p.node.mode)&&!I.isDir(p.node.mode))throw new I.ErrnoError(43);if(!p.stream_ops.allocate)throw new I.ErrnoError(138);p.stream_ops.allocate(p,g,C)},mmap(p,g,C,O,Z){if(2&O&&!(2&Z)&&2!=(2097155&p.flags))throw new I.ErrnoError(2);if(1==(2097155&p.flags))throw new I.ErrnoError(2);if(!p.stream_ops.mmap)throw new I.ErrnoError(43);return p.stream_ops.mmap(p,g,C,O,Z)},msync:(p,g,C,O,Z)=>p.stream_ops.msync?p.stream_ops.msync(p,g,C,O,Z):0,munmap:p=>0,ioctl(p,g,C){if(!p.stream_ops.ioctl)throw new I.ErrnoError(59);return p.stream_ops.ioctl(p,g,C)},readFile(p,g={}){if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error(`Invalid encoding type "${g.encoding}"`);var C,O=I.open(p,g.flags),ye=I.stat(p).size,xe=new Uint8Array(ye);return I.read(O,xe,0,ye,0),"utf8"===g.encoding?C=Xn(xe,0):"binary"===g.encoding&&(C=xe),I.close(O),C},writeFile(p,g,C={}){C.flags=C.flags||577;var O=I.open(p,C.flags,C.mode);if("string"==typeof g){var Z=new Uint8Array(co(g)+1),ye=vr(g,Z,0,Z.length);I.write(O,Z,0,ye,void 0,C.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");I.write(O,g,0,g.byteLength,void 0,C.canOwn)}I.close(O)},cwd:()=>I.currentPath,chdir(p){var g=I.lookupPath(p,{follow:!0});if(null===g.node)throw new I.ErrnoError(44);if(!I.isDir(g.node.mode))throw new I.ErrnoError(54);var C=I.nodePermissions(g.node,"x");if(C)throw new I.ErrnoError(C);I.currentPath=g.path},createDefaultDirectories(){I.mkdir("/tmp"),I.mkdir("/home"),I.mkdir("/home/web_user")},createDefaultDevices(){I.mkdir("/dev"),I.registerDevice(I.makedev(1,3),{read:()=>0,write:(O,Z,ye,xe,Ue)=>xe}),I.mkdev("/dev/null",I.makedev(1,3)),yr.register(I.makedev(5,0),yr.default_tty_ops),yr.register(I.makedev(6,0),yr.default_tty1_ops),I.mkdev("/dev/tty",I.makedev(5,0)),I.mkdev("/dev/tty1",I.makedev(6,0));var p=new Uint8Array(1024),g=0,C=()=>(0===g&&(g=Hn(p).byteLength),p[--g]);I.createDevice("/dev","random",C),I.createDevice("/dev","urandom",C),I.mkdir("/dev/shm"),I.mkdir("/dev/shm/tmp")},createSpecialDirectories(){I.mkdir("/proc");var p=I.mkdir("/proc/self");I.mkdir("/proc/self/fd"),I.mount({mount(){var g=I.createNode(p,"fd",16895,73);return g.node_ops={lookup(C,O){var ye=I.getStreamChecked(+O),xe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ye.path}};return xe.parent=xe,xe}},g}},{},"/proc/self/fd")},createStandardStreams(){d.stdin?I.createDevice("/dev","stdin",d.stdin):I.symlink("/dev/tty","/dev/stdin"),d.stdout?I.createDevice("/dev","stdout",null,d.stdout):I.symlink("/dev/tty","/dev/stdout"),d.stderr?I.createDevice("/dev","stderr",null,d.stderr):I.symlink("/dev/tty1","/dev/stderr"),I.open("/dev/stdin",0),I.open("/dev/stdout",1),I.open("/dev/stderr",1)},ensureErrnoError(){I.ErrnoError||(I.ErrnoError=function(g,C){this.name="ErrnoError",this.node=C,this.setErrno=function(O){this.errno=O},this.setErrno(g),this.message="FS error"},I.ErrnoError.prototype=new Error,I.ErrnoError.prototype.constructor=I.ErrnoError,[44].forEach(p=>{I.genericErrors[p]=new I.ErrnoError(p),I.genericErrors[p].stack="<generic error, no stack>"}))},staticInit(){I.ensureErrnoError(),I.nameTable=new Array(4096),I.mount(cn,{},"/"),I.createDefaultDirectories(),I.createDefaultDevices(),I.createSpecialDirectories(),I.filesystems={MEMFS:cn}},init(p,g,C){I.init.initialized=!0,I.ensureErrnoError(),d.stdin=p||d.stdin,d.stdout=g||d.stdout,d.stderr=C||d.stderr,I.createStandardStreams()},quit(){I.init.initialized=!1;for(var p=0;p<I.streams.length;p++){var g=I.streams[p];g&&I.close(g)}},findObject(p,g){var C=I.analyzePath(p,g);return C.exists?C.object:null},analyzePath(p,g){try{p=(C=I.lookupPath(p,{follow:!g})).path}catch{}var O={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var C=I.lookupPath(p,{parent:!0});O.parentExists=!0,O.parentPath=C.path,O.parentObject=C.node,O.name=Ht.basename(p),C=I.lookupPath(p,{follow:!g}),O.exists=!0,O.path=C.path,O.object=C.node,O.name=C.node.name,O.isRoot="/"===C.path}catch(Z){O.error=Z.errno}return O},createPath(p,g,C,O){p="string"==typeof p?p:I.getPath(p);for(var Z=g.split("/").reverse();Z.length;){var ye=Z.pop();if(ye){var xe=Ht.join2(p,ye);try{I.mkdir(xe)}catch{}p=xe}}return xe},createFile(p,g,C,O,Z){var ye=Ht.join2("string"==typeof p?p:I.getPath(p),g),xe=k(O,Z);return I.create(ye,xe)},createDataFile(p,g,C,O,Z,ye){var xe=g;p&&(p="string"==typeof p?p:I.getPath(p),xe=g?Ht.join2(p,g):p);var Ue=k(O,Z),xt=I.create(xe,Ue);if(C){if("string"==typeof C){for(var Cn=new Array(C.length),xn=0,Ln=C.length;xn<Ln;++xn)Cn[xn]=C.charCodeAt(xn);C=Cn}I.chmod(xt,146|Ue);var Rt=I.open(xt,577);I.write(Rt,C,0,C.length,0,ye),I.close(Rt),I.chmod(xt,Ue)}return xt},createDevice(p,g,C,O){var Z=Ht.join2("string"==typeof p?p:I.getPath(p),g),ye=k(!!C,!!O);I.createDevice.major||(I.createDevice.major=64);var xe=I.makedev(I.createDevice.major++,0);return I.registerDevice(xe,{open(Ue){Ue.seekable=!1},close(Ue){O&&O.buffer&&O.buffer.length&&O(10)},read(Ue,xt,Cn,xn,Ln){for(var Rt=0,dn=0;dn<xn;dn++){var Nn;try{Nn=C()}catch{throw new I.ErrnoError(29)}if(void 0===Nn&&0===Rt)throw new I.ErrnoError(6);if(null==Nn)break;Rt++,xt[Cn+dn]=Nn}return Rt&&(Ue.node.timestamp=Date.now()),Rt},write(Ue,xt,Cn,xn,Ln){for(var Rt=0;Rt<xn;Rt++)try{O(xt[Cn+Rt])}catch{throw new I.ErrnoError(29)}return xn&&(Ue.node.timestamp=Date.now()),Rt}}),I.mkdev(Z,ye,xe)},forceLoadFile(p){if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=to(G(p.url),!0),p.usedBytes=p.contents.length}catch{throw new I.ErrnoError(29)}},createLazyFile(p,g,C,O,Z){function ye(){this.lengthKnown=!1,this.chunks=[]}if(ye.prototype.get=function(dn){if(!(dn>this.length-1||dn<0)){var Nn=dn%this.chunkSize;return this.getter(dn/this.chunkSize|0)[Nn]}},ye.prototype.setDataGetter=function(dn){this.getter=dn},ye.prototype.cacheLength=function(){var dn=new XMLHttpRequest;if(dn.open("HEAD",C,!1),dn.send(null),!(dn.status>=200&&dn.status<300||304===dn.status))throw new Error("Couldn't load "+C+". Status: "+dn.status);var Lr,Nn=Number(dn.getResponseHeader("Content-length")),di=(Lr=dn.getResponseHeader("Accept-Ranges"))&&"bytes"===Lr,$r=(Lr=dn.getResponseHeader("Content-Encoding"))&&"gzip"===Lr,_t=1048576;di||(_t=Nn);var Zr=this;Zr.setDataGetter(dr=>{var or=dr*_t,fr=(dr+1)*_t-1;if(fr=Math.min(fr,Nn-1),typeof Zr.chunks[dr]>"u"&&(Zr.chunks[dr]=((dr,or)=>{if(dr>or)throw new Error("invalid range ("+dr+", "+or+") or no bytes requested!");if(or>Nn-1)throw new Error("only "+Nn+" bytes available! programmer error!");var fr=new XMLHttpRequest;if(fr.open("GET",C,!1),Nn!==_t&&fr.setRequestHeader("Range","bytes="+dr+"-"+or),fr.responseType="arraybuffer",fr.overrideMimeType&&fr.overrideMimeType("text/plain; charset=x-user-defined"),fr.send(null),!(fr.status>=200&&fr.status<300||304===fr.status))throw new Error("Couldn't load "+C+". Status: "+fr.status);return void 0!==fr.response?new Uint8Array(fr.response||[]):to(fr.responseText||"",!0)})(or,fr)),typeof Zr.chunks[dr]>"u")throw new Error("doXHR failed!");return Zr.chunks[dr]}),($r||!Nn)&&(_t=Nn=1,Nn=this.getter(0).length,_t=Nn,ue("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Nn,this._chunkSize=_t,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!J)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var xe=new ye;Object.defineProperties(xe,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ue={isDevice:!1,contents:xe}}else Ue={isDevice:!1,url:C};var xt=I.createFile(p,g,Ue,O,Z);Ue.contents?xt.contents=Ue.contents:Ue.url&&(xt.contents=null,xt.url=Ue.url),Object.defineProperties(xt,{usedBytes:{get:function(){return this.contents.length}}});var Cn={};function Ln(Rt,dn,Nn,Lr,di){var $r=Rt.node.contents;if(di>=$r.length)return 0;var _t=Math.min($r.length-di,Lr);if($r.slice)for(var an=0;an<_t;an++)dn[Nn+an]=$r[di+an];else for(an=0;an<_t;an++)dn[Nn+an]=$r.get(di+an);return _t}return Object.keys(xt.stream_ops).forEach(Rt=>{var dn=xt.stream_ops[Rt];Cn[Rt]=function(){return I.forceLoadFile(xt),dn.apply(null,arguments)}}),Cn.read=(Rt,dn,Nn,Lr,di)=>(I.forceLoadFile(xt),Ln(Rt,dn,Nn,Lr,di)),Cn.mmap=(Rt,dn,Nn,Lr,di)=>{I.forceLoadFile(xt);var $r=Pt();if(!$r)throw new I.ErrnoError(48);return Ln(Rt,ae,$r,dn,Nn),{ptr:$r,allocated:!0}},xt.stream_ops=Cn,xt}},x={DEFAULT_POLLMASK:5,calculateAt(p,g,C){if(Ht.isAbs(g))return g;var O;if(O=-100===p?I.cwd():x.getStreamFromFD(p).path,0==g.length){if(!C)throw new I.ErrnoError(44);return O}return Ht.join2(O,g)},doStat(p,g,C){try{var O=p(g)}catch(Ue){if(Ue&&Ue.node&&Ht.normalize(g)!==Ht.normalize(I.getPath(Ue.node)))return-54;throw Ue}N[C>>2]=O.dev,N[C+4>>2]=O.mode,j[C+8>>2]=O.nlink,N[C+12>>2]=O.uid,N[C+16>>2]=O.gid,N[C+20>>2]=O.rdev,Wt=[O.size>>>0,(Ze=O.size,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[C+24>>2]=Wt[0],N[C+28>>2]=Wt[1],N[C+32>>2]=4096,N[C+36>>2]=O.blocks;var Z=O.atime.getTime(),ye=O.mtime.getTime(),xe=O.ctime.getTime();return Wt=[Math.floor(Z/1e3)>>>0,(Ze=Math.floor(Z/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[C+40>>2]=Wt[0],N[C+44>>2]=Wt[1],j[C+48>>2]=Z%1e3*1e3,Wt=[Math.floor(ye/1e3)>>>0,(Ze=Math.floor(ye/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[C+56>>2]=Wt[0],N[C+60>>2]=Wt[1],j[C+64>>2]=ye%1e3*1e3,Wt=[Math.floor(xe/1e3)>>>0,(Ze=Math.floor(xe/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[C+72>>2]=Wt[0],N[C+76>>2]=Wt[1],j[C+80>>2]=xe%1e3*1e3,Wt=[O.ino>>>0,(Ze=O.ino,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[C+88>>2]=Wt[0],N[C+92>>2]=Wt[1],0},doMsync(p,g,C,O,Z){if(!I.isFile(g.node.mode))throw new I.ErrnoError(43);if(2&O)return 0;var ye=pe.slice(p,p+C);I.msync(g,ye,Z,C,O)},varargs:void 0,get(){var p=N[+x.varargs>>2];return x.varargs+=4,p},getp:()=>x.get(),getStr:p=>De(p),getStreamFromFD:p=>I.getStreamChecked(p)},li=(p,g)=>g+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*g:NaN,Co=p=>p%4==0&&(p%100!=0||p%400==0),Cs=[0,31,60,91,121,152,182,213,244,274,305,335],yi=[0,31,59,90,120,151,181,212,243,273,304,334],Lo=p=>{var g=co(p)+1,C=Wo(g);return C&&((p,g,C)=>{vr(p,pe,g,C)})(p,C,g),C},ci=[],Wi=p=>{var C=(p-ve.buffer.byteLength+65535)/65536;try{return ve.grow(C),It(),1}catch{}},ki={},Mi=()=>{if(!Mi.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:F||"./this.program"};for(var C in ki)void 0===ki[C]?delete g[C]:g[C]=ki[C];var O=[];for(var C in g)O.push(`${C}=${g[C]}`);Mi.strings=O}return Mi.strings},Zi=(p,g)=>{Je=p,(p=>{Je=p,function Vt(){return de||!1}()||(d.onExit&&d.onExit(p),fe=!0),U(p,new Ur(p))})(p)},un=Zi,Ne=[31,29,31,30,31,30,31,31,30,31,30,31],ct=[31,28,31,30,31,30,31,31,30,31,30,31],Kn=function(p,g,C,O){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=I.nextInode++,this.name=g,this.mode=C,this.node_ops={},this.stream_ops={},this.rdev=O};Object.defineProperties(Kn.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return I.isDir(this.mode)}},isDevice:{get:function(){return I.isChrdev(this.mode)}}}),I.FSNode=Kn,I.createPreloadedFile=(p,g,C,O,Z,ye,xe,Ue,xt,Cn)=>{var xn=g?ln.resolve(Ht.join2(p,g)):p;function Rt(dn){function Nn(Lr){Cn&&Cn(),Ue||((p,g,C,O,Z,ye)=>{I.createDataFile(p,g,C,O,Z,ye)})(p,g,Lr,O,Z,xt),ye&&ye(),In()}((p,g,C,O)=>{typeof Browser<"u"&&Browser.init();var Z=!1;return bo.forEach(ye=>{Z||ye.canHandle(g)&&(ye.handle(p,g,C,O),Z=!0)}),Z})(dn,xn,Nn,()=>{xe&&xe(),In()})||Nn(dn)}Jt(),"string"==typeof C?((p,g,C,O)=>{var Z=`al ${p}`;Re(p,ye=>{Qe(ye,`Loading data file "${p}" failed (no arrayBuffer).`),Rt(new Uint8Array(ye)),Z&&In()},ye=>{if(!C)throw`Loading data file "${p}" failed.`;C()}),Z&&Jt()})(C,0,xe):Rt(C)},I.staticInit();var fs,ui={b:(p,g,C,O)=>{_n(`Assertion failed: ${De(p)}, at: `+[g?De(g):"unknown filename",C,O?De(O):"unknown function"])},i:function Ao(p,g,C,O){x.varargs=O;try{g=x.getStr(g),g=x.calculateAt(p,g);var Z=O?x.get():0;return I.open(g,C,Z).fd}catch(ye){if(typeof I>"u"||"ErrnoError"!==ye.name)throw ye;return-ye.errno}},j:function zi(p,g,C){var O=li(p,g),Z=new Date(1e3*O);N[C>>2]=Z.getUTCSeconds(),N[C+4>>2]=Z.getUTCMinutes(),N[C+8>>2]=Z.getUTCHours(),N[C+12>>2]=Z.getUTCDate(),N[C+16>>2]=Z.getUTCMonth(),N[C+20>>2]=Z.getUTCFullYear()-1900,N[C+24>>2]=Z.getUTCDay();var ye=Date.UTC(Z.getUTCFullYear(),0,1,0,0,0,0),xe=(Z.getTime()-ye)/864e5|0;N[C+28>>2]=xe},k:function po(p,g,C){var O=li(p,g),Z=new Date(1e3*O);N[C>>2]=Z.getSeconds(),N[C+4>>2]=Z.getMinutes(),N[C+8>>2]=Z.getHours(),N[C+12>>2]=Z.getDate(),N[C+16>>2]=Z.getMonth(),N[C+20>>2]=Z.getFullYear()-1900,N[C+24>>2]=Z.getDay();var ye=0|(p=>(Co(p.getFullYear())?Cs:yi)[p.getMonth()]+p.getDate()-1)(Z);N[C+28>>2]=ye,N[C+36>>2]=-60*Z.getTimezoneOffset();var xe=new Date(Z.getFullYear(),0,1),Ue=new Date(Z.getFullYear(),6,1).getTimezoneOffset(),xt=xe.getTimezoneOffset(),Cn=0|(Ue!=xt&&Z.getTimezoneOffset()==Math.min(xt,Ue));N[C+32>>2]=Cn},o:(p,g,C)=>{var O=(new Date).getFullYear(),Z=new Date(O,0,1),ye=new Date(O,6,1),xe=Z.getTimezoneOffset(),Ue=ye.getTimezoneOffset(),xt=Math.max(xe,Ue);function Cn(Nn){var Lr=Nn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Lr?Lr[1]:"GMT"}j[p>>2]=60*xt,N[g>>2]=+(xe!=Ue);var xn=Cn(Z),Ln=Cn(ye),Rt=Lo(xn),dn=Lo(Ln);Ue<xe?(j[C>>2]=Rt,j[C+4>>2]=dn):(j[C>>2]=dn,j[C+4>>2]=Rt)},c:()=>{_n("")},a:(p,g,C)=>((p,g,C)=>{var O=((p,g)=>{ci.length=0;for(var C;C=pe[p++];){var O=105!=C;g+=(O&=112!=C)&&g%8?4:0,ci.push(112==C?j[g>>2]:105==C?N[g>>2]:ft[g>>3]),g+=O?8:4}return ci})(g,C);return Wr[p].apply(null,O)})(p,g,C),e:()=>Date.now(),g:(p,g,C)=>pe.copyWithin(p,g,g+C),n:p=>{var xt,g=pe.length,C=2147483648;if((p>>>=0)>C)return!1;for(var Z=1;Z<=4;Z*=2){var ye=g*(1+.2/Z);ye=Math.min(ye,p+100663296);var xe=Math.min(C,(xt=Math.max(p,ye))+(65536-xt%65536)%65536);if(Wi(xe))return!0}return!1},p:(p,g)=>{var C=0;return Mi().forEach((O,Z)=>{var ye=g+C;j[p+4*Z>>2]=ye,((p,g)=>{for(var C=0;C<p.length;++C)ae[g++>>0]=p.charCodeAt(C);ae[g>>0]=0})(O,ye),C+=O.length+1}),0},q:(p,g)=>{var C=Mi();j[p>>2]=C.length;var O=0;return C.forEach(Z=>O+=Z.length+1),j[g>>2]=O,0},r:un,f:function Ds(p){try{var g=x.getStreamFromFD(p);return I.close(g),0}catch(C){if(typeof I>"u"||"ErrnoError"!==C.name)throw C;return C.errno}},d:function E(p,g,C,O){try{var ye=((p,g,C,O)=>{for(var Z=0,ye=0;ye<C;ye++){var xe=j[g>>2],Ue=j[g+4>>2];g+=8;var xt=I.read(p,ae,xe,Ue,O);if(xt<0)return-1;if(Z+=xt,xt<Ue)break;typeof O<"u"&&(O+=xt)}return Z})(x.getStreamFromFD(p),g,C);return j[O>>2]=ye,0}catch(xe){if(typeof I>"u"||"ErrnoError"!==xe.name)throw xe;return xe.errno}},l:function B(p,g,C,O,Z){var ye=li(g,C);try{if(isNaN(ye))return 61;var xe=x.getStreamFromFD(p);return I.llseek(xe,ye,O),Wt=[xe.position>>>0,(Ze=xe.position,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[Z>>2]=Wt[0],N[Z+4>>2]=Wt[1],xe.getdents&&0===ye&&0===O&&(xe.getdents=null),0}catch(Ue){if(typeof I>"u"||"ErrnoError"!==Ue.name)throw Ue;return Ue.errno}},h:function ge(p,g,C,O){try{var ye=((p,g,C,O)=>{for(var Z=0,ye=0;ye<C;ye++){var xe=j[g>>2],Ue=j[g+4>>2];g+=8;var xt=I.write(p,ae,xe,Ue,O);if(xt<0)return-1;Z+=xt,typeof O<"u"&&(O+=xt)}return Z})(x.getStreamFromFD(p),g,C);return j[O>>2]=ye,0}catch(xe){if(typeof I>"u"||"ErrnoError"!==xe.name)throw xe;return xe.errno}},m:(p,g,C,O,Z)=>((p,g,C,O)=>{var Z=j[O+40>>2],ye={tm_sec:N[O>>2],tm_min:N[O+4>>2],tm_hour:N[O+8>>2],tm_mday:N[O+12>>2],tm_mon:N[O+16>>2],tm_year:N[O+20>>2],tm_wday:N[O+24>>2],tm_yday:N[O+28>>2],tm_isdst:N[O+32>>2],tm_gmtoff:N[O+36>>2],tm_zone:Z?De(Z):""},xe=De(C),Ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var xt in Ue)xe=xe.replace(new RegExp(xt,"g"),Ue[xt]);var Cn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],xn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ln(_t,an,Zr){for(var dr="number"==typeof _t?_t.toString():_t||"";dr.length<an;)dr=Zr[0]+dr;return dr}function Rt(_t,an){return Ln(_t,an,"0")}function dn(_t,an){function Zr(or){return or<0?-1:or>0?1:0}var dr;return 0===(dr=Zr(_t.getFullYear()-an.getFullYear()))&&0===(dr=Zr(_t.getMonth()-an.getMonth()))&&(dr=Zr(_t.getDate()-an.getDate())),dr}function Nn(_t){switch(_t.getDay()){case 0:return new Date(_t.getFullYear()-1,11,29);case 1:return _t;case 2:return new Date(_t.getFullYear(),0,3);case 3:return new Date(_t.getFullYear(),0,2);case 4:return new Date(_t.getFullYear(),0,1);case 5:return new Date(_t.getFullYear()-1,11,31);case 6:return new Date(_t.getFullYear()-1,11,30)}}function Lr(_t){var an=((p,g)=>{for(var C=new Date(p.getTime());g>0;){var O=Co(C.getFullYear()),Z=C.getMonth(),ye=(O?Ne:ct)[Z];if(!(g>ye-C.getDate()))return C.setDate(C.getDate()+g),C;g-=ye-C.getDate()+1,C.setDate(1),Z<11?C.setMonth(Z+1):(C.setMonth(0),C.setFullYear(C.getFullYear()+1))}return C})(new Date(_t.tm_year+1900,0,1),_t.tm_yday),Zr=new Date(an.getFullYear(),0,4),dr=new Date(an.getFullYear()+1,0,4),or=Nn(Zr),fr=Nn(dr);return dn(or,an)<=0?dn(fr,an)<=0?an.getFullYear()+1:an.getFullYear():an.getFullYear()-1}var di={"%a":_t=>Cn[_t.tm_wday].substring(0,3),"%A":_t=>Cn[_t.tm_wday],"%b":_t=>xn[_t.tm_mon].substring(0,3),"%B":_t=>xn[_t.tm_mon],"%C":_t=>Rt((_t.tm_year+1900)/100|0,2),"%d":_t=>Rt(_t.tm_mday,2),"%e":_t=>Ln(_t.tm_mday,2," "),"%g":_t=>Lr(_t).toString().substring(2),"%G":_t=>Lr(_t),"%H":_t=>Rt(_t.tm_hour,2),"%I":_t=>{var an=_t.tm_hour;return 0==an?an=12:an>12&&(an-=12),Rt(an,2)},"%j":_t=>Rt(_t.tm_mday+((p,g)=>{for(var C=0,O=0;O<=g;C+=p[O++]);return C})(Co(_t.tm_year+1900)?Ne:ct,_t.tm_mon-1),3),"%m":_t=>Rt(_t.tm_mon+1,2),"%M":_t=>Rt(_t.tm_min,2),"%n":()=>"\n","%p":_t=>_t.tm_hour>=0&&_t.tm_hour<12?"AM":"PM","%S":_t=>Rt(_t.tm_sec,2),"%t":()=>"\t","%u":_t=>_t.tm_wday||7,"%U":_t=>Rt(Math.floor((_t.tm_yday+7-_t.tm_wday)/7),2),"%V":_t=>{var an=Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7);if((_t.tm_wday+371-_t.tm_yday-2)%7<=2&&an++,an){if(53==an){var dr=(_t.tm_wday+371-_t.tm_yday)%7;4!=dr&&(3!=dr||!Co(_t.tm_year))&&(an=1)}}else{an=52;var Zr=(_t.tm_wday+7-_t.tm_yday-1)%7;(4==Zr||5==Zr&&Co(_t.tm_year%400-1))&&an++}return Rt(an,2)},"%w":_t=>_t.tm_wday,"%W":_t=>Rt(Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7),2),"%y":_t=>(_t.tm_year+1900).toString().substring(2),"%Y":_t=>_t.tm_year+1900,"%z":_t=>{var an=_t.tm_gmtoff;return(an>=0?"+":"-")+("0000"+(an=(an=Math.abs(an)/60)/60*100+an%60)).slice(-4)},"%Z":_t=>_t.tm_zone,"%%":()=>"%"};for(var xt in xe=xe.replace(/%%/g,"\0\0"),di)xe.includes(xt)&&(xe=xe.replace(new RegExp(xt,"g"),di[xt](ye)));var $r=to(xe=xe.replace(/\0\0/g,"%"),!1);return $r.length>g?0:(((p,g)=>{ae.set(p,g)})($r,p),$r.length-1)})(p,g,C,O)},yt=function Go(){var p={a:ui};function g(O,Z){return ve=(yt=O.exports).s,It(),function We(p){Ge.unshift(p)}(yt.t),In(),yt}if(Jt(),d.instantiateWasm)try{return d.instantiateWasm(p,g)}catch(O){V(`Module.instantiateWasm callback failed with error: ${O}`),re(O)}return function si(p,g,C,O){return p||"function"!=typeof WebAssembly.instantiateStreaming||Cr(g)||"function"!=typeof fetch?No(g,C,O):fetch(g,{credentials:"same-origin"}).then(Z=>WebAssembly.instantiateStreaming(Z,C).then(O,function(xe){return V(`wasm streaming compile failed: ${xe}`),V("falling back to ArrayBuffer instantiation"),No(g,C,O)}))}(q,lr,p,function C(O){g(O.instance)}).catch(re),{}}(),Wo=(d._free=p=>(d._free=yt.u)(p),d._malloc=p=>(Wo=d._malloc=yt.v)(p)),Is=(d._webidl_free=p=>(d._webidl_free=yt.w)(p),d._webidl_malloc=p=>(d._webidl_malloc=yt.x)(p),d._emscripten_bind_VoidPtr___destroy___0=p=>(Is=d._emscripten_bind_VoidPtr___destroy___0=yt.y)(p)),tl=d._emscripten_bind_FSTools_FSTools_0=()=>(tl=d._emscripten_bind_FSTools_FSTools_0=yt.z)(),nl=d._emscripten_bind_FSTools_Malloc_1=(p,g)=>(nl=d._emscripten_bind_FSTools_Malloc_1=yt.A)(p,g),qi=d._emscripten_bind_FSTools_Free_1=(p,g)=>(qi=d._emscripten_bind_FSTools_Free_1=yt.B)(p,g),rl=d._emscripten_bind_FSTools_Nullptr_0=p=>(rl=d._emscripten_bind_FSTools_Nullptr_0=yt.C)(p),Vl=d._emscripten_bind_FSTools___destroy___0=p=>(Vl=d._emscripten_bind_FSTools___destroy___0=yt.D)(p),ol=d._emscripten_bind_MkfsContext_MkfsContext_0=()=>(ol=d._emscripten_bind_MkfsContext_MkfsContext_0=yt.E)(),sa=d._emscripten_bind_MkfsContext_Mkfs_2=(p,g,C)=>(sa=d._emscripten_bind_MkfsContext_Mkfs_2=yt.F)(p,g,C),zs=d._emscripten_bind_MkfsContext_GetImage_0=p=>(zs=d._emscripten_bind_MkfsContext_GetImage_0=yt.G)(p),Ul=d._emscripten_bind_MkfsContext_GetImageSize_0=p=>(Ul=d._emscripten_bind_MkfsContext_GetImageSize_0=yt.H)(p),Se=d._emscripten_bind_MkfsContext___destroy___0=p=>(Se=d._emscripten_bind_MkfsContext___destroy___0=yt.I)(p),Hl=d._emscripten_bind_FsckContext_FsckContext_1=p=>(Hl=d._emscripten_bind_FsckContext_FsckContext_1=yt.J)(p),$o=d._emscripten_bind_FsckContext_GetImage_0=p=>($o=d._emscripten_bind_FsckContext_GetImage_0=yt.K)(p),yn=d._emscripten_bind_FsckContext_GetDirtyPages_0=p=>(yn=d._emscripten_bind_FsckContext_GetDirtyPages_0=yt.L)(p),il=d._emscripten_bind_FsckContext_GetImageSize_0=p=>(il=d._emscripten_bind_FsckContext_GetImageSize_0=yt.M)(p),Gl=d._emscripten_bind_FsckContext_Fsck_0=p=>(Gl=d._emscripten_bind_FsckContext_Fsck_0=yt.N)(p),zl=d._emscripten_bind_FsckContext_GetResult_0=p=>(zl=d._emscripten_bind_FsckContext_GetResult_0=yt.O)(p),mt=d._emscripten_bind_FsckContext___destroy___0=p=>(mt=d._emscripten_bind_FsckContext___destroy___0=yt.P)(p),sl=d._emscripten_bind_GunzipContext_GunzipContext_3=(p,g,C)=>(sl=d._emscripten_bind_GunzipContext_GunzipContext_3=yt.Q)(p,g,C),Sr=d._emscripten_bind_GunzipContext_GetState_0=p=>(Sr=d._emscripten_bind_GunzipContext_GetState_0=yt.R)(p),xs=d._emscripten_bind_GunzipContext_Continue_0=p=>(xs=d._emscripten_bind_GunzipContext_Continue_0=yt.S)(p),xa=d._emscripten_bind_GunzipContext_GetUncompressedData_0=p=>(xa=d._emscripten_bind_GunzipContext_GetUncompressedData_0=yt.T)(p),aa=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=p=>(aa=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=yt.U)(p),ka=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=p=>(ka=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=yt.V)(p),ks=d._emscripten_bind_GunzipContext_GetError_0=p=>(ks=d._emscripten_bind_GunzipContext_GetError_0=yt.W)(p),Ms=d._emscripten_bind_GunzipContext___destroy___0=p=>(Ms=d._emscripten_bind_GunzipContext___destroy___0=yt.X)(p),Ws=d._emscripten_bind_GzipContext_GzipContext_3=(p,g,C)=>(Ws=d._emscripten_bind_GzipContext_GzipContext_3=yt.Y)(p,g,C),la=d._emscripten_bind_GzipContext_SetFilename_1=(p,g)=>(la=d._emscripten_bind_GzipContext_SetFilename_1=yt.Z)(p,g),Ma=d._emscripten_bind_GzipContext_SetMtime_1=(p,g)=>(Ma=d._emscripten_bind_GzipContext_SetMtime_1=yt._)(p,g),Tn=d._emscripten_bind_GzipContext_Continue_0=p=>(Tn=d._emscripten_bind_GzipContext_Continue_0=yt.$)(p),Zs=d._emscripten_bind_GzipContext_GetState_0=p=>(Zs=d._emscripten_bind_GzipContext_GetState_0=yt.aa)(p),ca=d._emscripten_bind_GzipContext_GetGzipData_0=p=>(ca=d._emscripten_bind_GzipContext_GetGzipData_0=yt.ba)(p),wo=d._emscripten_bind_GzipContext_GetGzipSize_0=p=>(wo=d._emscripten_bind_GzipContext_GetGzipSize_0=yt.ca)(p),ua=d._emscripten_bind_GzipContext_GetError_0=p=>(ua=d._emscripten_bind_GzipContext_GetError_0=yt.da)(p),al=d._emscripten_bind_GzipContext___destroy___0=p=>(al=d._emscripten_bind_GzipContext___destroy___0=yt.ea)(p),rr=d._main=(p,g)=>(rr=d._main=yt.fa)(p,g);function qs(){function p(){fs||(fs=!0,d.calledRun=!0,!fe&&(function ot(){!d.noFSInit&&!I.init.initialized&&I.init(),I.ignorePermissions=!1,yr.init(),Tr(Ge)}(),function Et(){Tr(we)}(),ne(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),ul&&function cl(){var p=rr;try{var O=p(0,0);return Zi(O),O}catch(Z){return(p=>{if(p instanceof Ur||"unwind"==p)return Je;U(1,p)})(Z)}}(),function pt(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)p=d.postRun.shift(),He.unshift(p);var p;Tr(He)}()))}tt>0||(function Oe(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)p=d.preRun.shift(),zt.unshift(p);var p;Tr(zt)}(),tt>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),p()},1)):p())}if(d.___original_main=()=>(d.___original_main=yt.ha)(),d.___start_em_js=1092558,d.___stop_em_js=1092656,W=function p(){fs||qs(),fs||(W=p)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var ul=!0;function So(){}function Yi(p){return(p||So).__cache__}function qo(p,g){var C=Yi(g),O=C[p];return O||((O=Object.create((g||So).prototype)).ptr=p,C[p]=O)}d.noInitialRun&&(ul=!1),qs(),(So.prototype=Object.create(So.prototype)).constructor=So,So.prototype.__class__=So,So.__cache__={},d.WrapperObject=So,d.getCache=Yi,d.wrapPointer=qo,d.castObject=function ql(p,g){return qo(p.ptr,g)},d.NULL=qo(0),d.destroy=function Ts(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete Yi(p.__class__)[p.ptr]},d.compare=function fa(p,g){return p.ptr===g.ptr},d.getPointer=function Ys(p){return p.ptr},d.getClass=function dl(p){return p.__class__};var cr={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(cr.needed){for(var p=0;p<cr.temps.length;p++)d._webidl_free(cr.temps[p]);cr.temps.length=0,d._webidl_free(cr.buffer),cr.buffer=0,cr.size+=cr.needed,cr.needed=0}cr.buffer||(cr.size+=128,cr.buffer=d._webidl_malloc(cr.size),Qe(cr.buffer)),cr.pos=0},alloc(p,g){Qe(cr.buffer);var Z,O=p.length*g.BYTES_PER_ELEMENT;return cr.pos+(O=O+7&-8)>=cr.size?(Qe(O>0),cr.needed+=O,Z=d._webidl_malloc(O),cr.temps.push(Z)):(Z=cr.buffer+cr.pos,cr.pos+=O),Z},copy(p,g,C){switch(C>>>=0,g.BYTES_PER_ELEMENT){case 2:C>>>=1;break;case 4:C>>>=2;break;case 8:C>>>=3}for(var Z=0;Z<p.length;Z++)g[C+Z]=p[Z]}};function Aa(p){if("string"==typeof p){var g=to(p),C=cr.alloc(g,ae);return cr.copy(g,ae,C),C}return p}function ro(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Nr(){this.ptr=tl(),Yi(Nr)[this.ptr]=this}function ho(){this.ptr=ol(),Yi(ho)[this.ptr]=this}function ur(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Hl(p),Yi(ur)[this.ptr]=this}function Ar(p,g,C){p&&"object"==typeof p&&(p=p.ptr),g&&"object"==typeof g&&(g=g.ptr),C&&"object"==typeof C&&(C=C.ptr),this.ptr=sl(p,g,C),Yi(Ar)[this.ptr]=this}function ce(p,g,C){p&&"object"==typeof p&&(p=p.ptr),g&&"object"==typeof g&&(g=g.ptr),C&&"object"==typeof C&&(C=C.ptr),this.ptr=Ws(p,g,C),Yi(ce)[this.ptr]=this}return(ro.prototype=Object.create(So.prototype)).constructor=ro,ro.prototype.__class__=ro,ro.__cache__={},d.VoidPtr=ro,ro.prototype.__destroy__=ro.prototype.__destroy__=function(){Is(this.ptr)},(Nr.prototype=Object.create(So.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},d.FSTools=Nr,Nr.prototype.Malloc=Nr.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),qo(nl(this.ptr,p),ro)},Nr.prototype.Free=Nr.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),qi(this.ptr,p)},Nr.prototype.Nullptr=Nr.prototype.Nullptr=function(){return qo(rl(this.ptr),ro)},Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){Vl(this.ptr)},(ho.prototype=Object.create(So.prototype)).constructor=ho,ho.prototype.__class__=ho,ho.__cache__={},d.MkfsContext=ho,ho.prototype.Mkfs=ho.prototype.Mkfs=function(p,g){var C=this.ptr;return cr.prepare(),p&&"object"==typeof p&&(p=p.ptr),g=g&&"object"==typeof g?g.ptr:Aa(g),!!sa(C,p,g)},ho.prototype.GetImage=ho.prototype.GetImage=function(){return qo(zs(this.ptr),ro)},ho.prototype.GetImageSize=ho.prototype.GetImageSize=function(){return Ul(this.ptr)},ho.prototype.__destroy__=ho.prototype.__destroy__=function(){Se(this.ptr)},(ur.prototype=Object.create(So.prototype)).constructor=ur,ur.prototype.__class__=ur,ur.__cache__={},d.FsckContext=ur,ur.prototype.GetImage=ur.prototype.GetImage=function(){return qo($o(this.ptr),ro)},ur.prototype.GetDirtyPages=ur.prototype.GetDirtyPages=function(){return qo(yn(this.ptr),ro)},ur.prototype.GetImageSize=ur.prototype.GetImageSize=function(){return il(this.ptr)},ur.prototype.Fsck=ur.prototype.Fsck=function(){return Gl(this.ptr)},ur.prototype.GetResult=ur.prototype.GetResult=function(){return zl(this.ptr)},ur.prototype.__destroy__=ur.prototype.__destroy__=function(){mt(this.ptr)},(Ar.prototype=Object.create(So.prototype)).constructor=Ar,Ar.prototype.__class__=Ar,Ar.__cache__={},d.GunzipContext=Ar,Ar.prototype.GetState=Ar.prototype.GetState=function(){return Sr(this.ptr)},Ar.prototype.Continue=Ar.prototype.Continue=function(){return xs(this.ptr)},Ar.prototype.GetUncompressedData=Ar.prototype.GetUncompressedData=function(){return qo(xa(this.ptr),ro)},Ar.prototype.ReleaseUncompressedData=Ar.prototype.ReleaseUncompressedData=function(){return qo(aa(this.ptr),ro)},Ar.prototype.GetUncompressedSize=Ar.prototype.GetUncompressedSize=function(){return ka(this.ptr)},Ar.prototype.GetError=Ar.prototype.GetError=function(){return De(ks(this.ptr))},Ar.prototype.__destroy__=Ar.prototype.__destroy__=function(){Ms(this.ptr)},(ce.prototype=Object.create(So.prototype)).constructor=ce,ce.prototype.__class__=ce,ce.__cache__={},d.GzipContext=ce,ce.prototype.SetFilename=ce.prototype.SetFilename=function(p){var g=this.ptr;return cr.prepare(),p=p&&"object"==typeof p?p.ptr:Aa(p),qo(la(g,p),ce)},ce.prototype.SetMtime=ce.prototype.SetMtime=function(p){return p&&"object"==typeof p&&(p=p.ptr),qo(Ma(this.ptr,p),ce)},ce.prototype.Continue=ce.prototype.Continue=function(){return Tn(this.ptr)},ce.prototype.GetState=ce.prototype.GetState=function(){return Zs(this.ptr)},ce.prototype.GetGzipData=ce.prototype.GetGzipData=function(){return qo(ca(this.ptr),ro)},ce.prototype.GetGzipSize=ce.prototype.GetGzipSize=function(){return wo(this.ptr)},ce.prototype.GetError=ce.prototype.GetError=function(){return De(ua(this.ptr))},ce.prototype.__destroy__=ce.prototype.__destroy__=function(){al(this.ptr)},D.ready});ke.exports=Le},9793:ke=>{var T,Le=(T=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(D={}){var ne,re,d=D;d.ready=new Promise((u,_)=>{ne=u,re=_});var G,Re,Pe,H=Object.assign({},d),F="./this.program",U=(u,_)=>{throw _},le="object"==typeof window,J="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(le||J)&&(J?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),T&&($=T),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=u=>{var _=new XMLHttpRequest;return _.open("GET",u,!1),_.send(null),_.responseText},J&&(Pe=u=>{var _=new XMLHttpRequest;return _.open("GET",u,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),Re=(u,_,v)=>{var P=new XMLHttpRequest;P.open("GET",u,!0),P.responseType="arraybuffer",P.onload=()=>{200==P.status||0==P.status&&P.response?_(P.response):v()},P.onerror=v,P.send(null)});var q,ue=d.print||console.log.bind(console),V=d.printErr||console.error.bind(console);Object.assign(d,H),H=null,d.thisProgram&&(F=d.thisProgram),d.quit&&(U=d.quit),d.wasmBinary&&(q=d.wasmBinary);var de=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&_n("no native wasm support detected");var ve,Je,ae,pe,N,j,fe=!1;function Qe(u,_){u||_n(_)}function It(){var u=ve.buffer;d.HEAP8=ae=new Int8Array(u),d.HEAP16=new Int16Array(u),d.HEAPU8=pe=new Uint8Array(u),d.HEAPU16=new Uint16Array(u),d.HEAP32=N=new Int32Array(u),d.HEAPU32=j=new Uint32Array(u),d.HEAPF32=new Float32Array(u),d.HEAPF64=new Float64Array(u)}var zt=[],Ge=[],we=[],He=[],tt=0,ht=null,W=null;function Jt(u){tt++,d.monitorRunDependencies&&d.monitorRunDependencies(tt)}function In(u){if(tt--,d.monitorRunDependencies&&d.monitorRunDependencies(tt),0==tt&&(null!==ht&&(clearInterval(ht),ht=null),W)){var _=W;W=null,_()}}function _n(u){d.onAbort&&d.onAbort(u),V(u="Aborted("+u+")"),fe=!0,Je=1,u+=". Build with -sASSERTIONS for more info.";var _=new WebAssembly.RuntimeError(u);throw re(_),_}var lr,Ze,Wt;function Cr(u){return u.startsWith("data:application/octet-stream;base64,")}function _r(u){if(u==lr&&q)return new Uint8Array(q);if(Pe)return Pe(u);throw"both async and sync fetching of the wasm failed"}function No(u,_,v){return function ii(u){return q||!le&&!J||"function"!=typeof fetch?Promise.resolve().then(()=>_r(u)):fetch(u,{credentials:"same-origin"}).then(_=>{if(!_.ok)throw"failed to load wasm binary file at '"+u+"'";return _.arrayBuffer()}).catch(()=>_r(u))}(u).then(P=>WebAssembly.instantiate(P,_)).then(P=>P).then(v,P=>{V(`failed to asynchronously prepare wasm: ${P}`),_n(P)})}function Wr(u){this.name="ExitStatus",this.message=`Program terminated with exit(${u})`,this.status=u}Cr(lr="vfs_web.wasm")||(lr=function L(u){return d.locateFile?d.locateFile(u,$):$+u}(lr));var Ur=u=>{for(;u.length>0;)u.shift()(d)},Tr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,eo=(u,_,v)=>{for(var P=_+v,X=_;u[X]&&!(X>=P);)++X;if(X-_>16&&u.buffer&&Tr)return Tr.decode(u.subarray(_,X));for(var Ee="";_<X;){var _e=u[_++];if(128&_e){var Ve=63&u[_++];if(192!=(224&_e)){var At=63&u[_++];if((_e=224==(240&_e)?(15&_e)<<12|Ve<<6|At:(7&_e)<<18|Ve<<12|At<<6|63&u[_++])<65536)Ee+=String.fromCharCode(_e);else{var vt=_e-65536;Ee+=String.fromCharCode(55296|vt>>10,56320|1023&vt)}}else Ee+=String.fromCharCode((31&_e)<<6|Ve)}else Ee+=String.fromCharCode(_e)}return Ee},Xn=(u,_)=>u?eo(pe,u,_):"",me={isAbs:u=>"/"===u.charAt(0),splitPath:u=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(u).slice(1),normalizeArray:(u,_)=>{for(var v=0,P=u.length-1;P>=0;P--){var X=u[P];"."===X?u.splice(P,1):".."===X?(u.splice(P,1),v++):v&&(u.splice(P,1),v--)}if(_)for(;v;v--)u.unshift("..");return u},normalize:u=>{var _=me.isAbs(u),v="/"===u.substr(-1);return!(u=me.normalizeArray(u.split("/").filter(P=>!!P),!_).join("/"))&&!_&&(u="."),u&&v&&(u+="/"),(_?"/":"")+u},dirname:u=>{var _=me.splitPath(u),v=_[0],P=_[1];return v||P?(P&&(P=P.substr(0,P.length-1)),v+P):"."},basename:u=>{if("/"===u)return"/";var _=(u=(u=me.normalize(u)).replace(/\/$/,"")).lastIndexOf("/");return-1===_?u:u.substr(_+1)},join:function(){var u=Array.prototype.slice.call(arguments);return me.normalize(u.join("/"))},join2:(u,_)=>me.normalize(u+"/"+_)},Zt=u=>(Zt=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return u=>crypto.getRandomValues(u);_n("initRandomDevice")})())(u),Hn={resolve:function(){for(var u="",_=!1,v=arguments.length-1;v>=-1&&!_;v--){var P=v>=0?arguments[v]:k.cwd();if("string"!=typeof P)throw new TypeError("Arguments to path.resolve must be strings");if(!P)return"";u=P+"/"+u,_=me.isAbs(P)}return(_?"/":"")+(u=me.normalizeArray(u.split("/").filter(X=>!!X),!_).join("/"))||"."},relative:(u,_)=>{function v(vt){for(var bn=0;bn<vt.length&&""===vt[bn];bn++);for(var Yt=vt.length-1;Yt>=0&&""===vt[Yt];Yt--);return bn>Yt?[]:vt.slice(bn,Yt-bn+1)}u=Hn.resolve(u).substr(1),_=Hn.resolve(_).substr(1);for(var P=v(u.split("/")),X=v(_.split("/")),Ee=Math.min(P.length,X.length),_e=Ee,Ve=0;Ve<Ee;Ve++)if(P[Ve]!==X[Ve]){_e=Ve;break}var At=[];for(Ve=_e;Ve<P.length;Ve++)At.push("..");return(At=At.concat(X.slice(_e))).join("/")}},ln=[],wr=u=>{for(var _=0,v=0;v<u.length;++v){var P=u.charCodeAt(v);P<=127?_++:P<=2047?_+=2:P>=55296&&P<=57343?(_+=4,++v):_+=3}return _},co=(u,_,v,P)=>{if(!(P>0))return 0;for(var X=v,Ee=v+P-1,_e=0;_e<u.length;++_e){var Ve=u.charCodeAt(_e);if(Ve>=55296&&Ve<=57343&&(Ve=65536+((1023&Ve)<<10)|1023&u.charCodeAt(++_e)),Ve<=127){if(v>=Ee)break;_[v++]=Ve}else if(Ve<=2047){if(v+1>=Ee)break;_[v++]=192|Ve>>6,_[v++]=128|63&Ve}else if(Ve<=65535){if(v+2>=Ee)break;_[v++]=224|Ve>>12,_[v++]=128|Ve>>6&63,_[v++]=128|63&Ve}else{if(v+3>=Ee)break;_[v++]=240|Ve>>18,_[v++]=128|Ve>>12&63,_[v++]=128|Ve>>6&63,_[v++]=128|63&Ve}}return _[v]=0,v-X};function vr(u,_,v){var P=v>0?v:wr(u)+1,X=new Array(P),Ee=co(u,X,0,X.length);return _&&(X.length=Ee),X}var uo={ttys:[],init(){},shutdown(){},register(u,_){uo.ttys[u]={input:[],output:[],ops:_},k.registerDevice(u,uo.stream_ops)},stream_ops:{open(u){var _=uo.ttys[u.node.rdev];if(!_)throw new k.ErrnoError(43);u.tty=_,u.seekable=!1},close(u){u.tty.ops.fsync(u.tty)},fsync(u){u.tty.ops.fsync(u.tty)},read(u,_,v,P,X){if(!u.tty||!u.tty.ops.get_char)throw new k.ErrnoError(60);for(var Ee=0,_e=0;_e<P;_e++){var Ve;try{Ve=u.tty.ops.get_char(u.tty)}catch{throw new k.ErrnoError(29)}if(void 0===Ve&&0===Ee)throw new k.ErrnoError(6);if(null==Ve)break;Ee++,_[v+_e]=Ve}return Ee&&(u.node.timestamp=Date.now()),Ee},write(u,_,v,P,X){if(!u.tty||!u.tty.ops.put_char)throw new k.ErrnoError(60);try{for(var Ee=0;Ee<P;Ee++)u.tty.ops.put_char(u.tty,_[v+Ee])}catch{throw new k.ErrnoError(29)}return P&&(u.node.timestamp=Date.now()),Ee}},default_tty_ops:{get_char:u=>(()=>{if(!ln.length){var u=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(u=window.prompt("Input: "))&&(u+="\n"):"function"==typeof readline&&null!==(u=readline())&&(u+="\n"),!u)return null;ln=vr(u,!0)}return ln.shift()})(),put_char(u,_){null===_||10===_?(ue(eo(u.output,0)),u.output=[]):0!=_&&u.output.push(_)},fsync(u){u.output&&u.output.length>0&&(ue(eo(u.output,0)),u.output=[])},ioctl_tcgets:u=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(u,_,v)=>0,ioctl_tiocgwinsz:u=>[24,80]},default_tty1_ops:{put_char(u,_){null===_||10===_?(V(eo(u.output,0)),u.output=[]):0!=_&&u.output.push(_)},fsync(u){u.output&&u.output.length>0&&(V(eo(u.output,0)),u.output=[])}}},yr=u=>{_n()},Pt={ops_table:null,mount:u=>Pt.createNode(null,"/",16895,0),createNode(u,_,v,P){if(k.isBlkdev(v)||k.isFIFO(v))throw new k.ErrnoError(63);Pt.ops_table||(Pt.ops_table={dir:{node:{getattr:Pt.node_ops.getattr,setattr:Pt.node_ops.setattr,lookup:Pt.node_ops.lookup,mknod:Pt.node_ops.mknod,rename:Pt.node_ops.rename,unlink:Pt.node_ops.unlink,rmdir:Pt.node_ops.rmdir,readdir:Pt.node_ops.readdir,symlink:Pt.node_ops.symlink},stream:{llseek:Pt.stream_ops.llseek}},file:{node:{getattr:Pt.node_ops.getattr,setattr:Pt.node_ops.setattr},stream:{llseek:Pt.stream_ops.llseek,read:Pt.stream_ops.read,write:Pt.stream_ops.write,allocate:Pt.stream_ops.allocate,mmap:Pt.stream_ops.mmap,msync:Pt.stream_ops.msync}},link:{node:{getattr:Pt.node_ops.getattr,setattr:Pt.node_ops.setattr,readlink:Pt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Pt.node_ops.getattr,setattr:Pt.node_ops.setattr},stream:k.chrdev_stream_ops}});var X=k.createNode(u,_,v,P);return k.isDir(X.mode)?(X.node_ops=Pt.ops_table.dir.node,X.stream_ops=Pt.ops_table.dir.stream,X.contents={}):k.isFile(X.mode)?(X.node_ops=Pt.ops_table.file.node,X.stream_ops=Pt.ops_table.file.stream,X.usedBytes=0,X.contents=null):k.isLink(X.mode)?(X.node_ops=Pt.ops_table.link.node,X.stream_ops=Pt.ops_table.link.stream):k.isChrdev(X.mode)&&(X.node_ops=Pt.ops_table.chrdev.node,X.stream_ops=Pt.ops_table.chrdev.stream),X.timestamp=Date.now(),u&&(u.contents[_]=X,u.timestamp=X.timestamp),X},getFileDataAsTypedArray:u=>u.contents?u.contents.subarray?u.contents.subarray(0,u.usedBytes):new Uint8Array(u.contents):new Uint8Array(0),expandFileStorage(u,_){var v=u.contents?u.contents.length:0;if(!(v>=_)){_=Math.max(_,v*(v<1048576?2:1.125)>>>0),0!=v&&(_=Math.max(_,256));var X=u.contents;u.contents=new Uint8Array(_),u.usedBytes>0&&u.contents.set(X.subarray(0,u.usedBytes),0)}},resizeFileStorage(u,_){if(u.usedBytes!=_)if(0==_)u.contents=null,u.usedBytes=0;else{var v=u.contents;u.contents=new Uint8Array(_),v&&u.contents.set(v.subarray(0,Math.min(_,u.usedBytes))),u.usedBytes=_}},node_ops:{getattr(u){var _={};return _.dev=k.isChrdev(u.mode)?u.id:1,_.ino=u.id,_.mode=u.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=u.rdev,_.size=k.isDir(u.mode)?4096:k.isFile(u.mode)?u.usedBytes:k.isLink(u.mode)?u.link.length:0,_.atime=new Date(u.timestamp),_.mtime=new Date(u.timestamp),_.ctime=new Date(u.timestamp),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},setattr(u,_){void 0!==_.mode&&(u.mode=_.mode),void 0!==_.timestamp&&(u.timestamp=_.timestamp),void 0!==_.size&&Pt.resizeFileStorage(u,_.size)},lookup(u,_){throw k.genericErrors[44]},mknod:(u,_,v,P)=>Pt.createNode(u,_,v,P),rename(u,_,v){if(k.isDir(u.mode)){var P;try{P=k.lookupNode(_,v)}catch{}if(P)for(var X in P.contents)throw new k.ErrnoError(55)}delete u.parent.contents[u.name],u.parent.timestamp=Date.now(),u.name=v,_.contents[v]=u,_.timestamp=u.parent.timestamp,u.parent=_},unlink(u,_){delete u.contents[_],u.timestamp=Date.now()},rmdir(u,_){var v=k.lookupNode(u,_);for(var P in v.contents)throw new k.ErrnoError(55);delete u.contents[_],u.timestamp=Date.now()},readdir(u){var _=[".",".."];for(var v in u.contents)u.contents.hasOwnProperty(v)&&_.push(v);return _},symlink(u,_,v){var P=Pt.createNode(u,_,41471,0);return P.link=v,P},readlink(u){if(!k.isLink(u.mode))throw new k.ErrnoError(28);return u.link}},stream_ops:{read(u,_,v,P,X){var Ee=u.node.contents;if(X>=u.node.usedBytes)return 0;var _e=Math.min(u.node.usedBytes-X,P);if(_e>8&&Ee.subarray)_.set(Ee.subarray(X,X+_e),v);else for(var Ve=0;Ve<_e;Ve++)_[v+Ve]=Ee[X+Ve];return _e},write(u,_,v,P,X,Ee){if(_.buffer===ae.buffer&&(Ee=!1),!P)return 0;var _e=u.node;if(_e.timestamp=Date.now(),_.subarray&&(!_e.contents||_e.contents.subarray)){if(Ee)return _e.contents=_.subarray(v,v+P),_e.usedBytes=P,P;if(0===_e.usedBytes&&0===X)return _e.contents=_.slice(v,v+P),_e.usedBytes=P,P;if(X+P<=_e.usedBytes)return _e.contents.set(_.subarray(v,v+P),X),P}if(Pt.expandFileStorage(_e,X+P),_e.contents.subarray&&_.subarray)_e.contents.set(_.subarray(v,v+P),X);else for(var Ve=0;Ve<P;Ve++)_e.contents[X+Ve]=_[v+Ve];return _e.usedBytes=Math.max(_e.usedBytes,X+P),P},llseek(u,_,v){var P=_;if(1===v?P+=u.position:2===v&&k.isFile(u.node.mode)&&(P+=u.node.usedBytes),P<0)throw new k.ErrnoError(28);return P},allocate(u,_,v){Pt.expandFileStorage(u.node,_+v),u.node.usedBytes=Math.max(u.node.usedBytes,_+v)},mmap(u,_,v,P,X){if(!k.isFile(u.node.mode))throw new k.ErrnoError(43);var Ee,_e,Ve=u.node.contents;if(2&X||Ve.buffer!==ae.buffer){if((v>0||v+_<Ve.length)&&(Ve=Ve.subarray?Ve.subarray(v,v+_):Array.prototype.slice.call(Ve,v,v+_)),_e=!0,!(Ee=yr()))throw new k.ErrnoError(48);ae.set(Ve,Ee)}else _e=!1,Ee=Ve.byteOffset;return{ptr:Ee,allocated:_e}},msync:(u,_,v,P,X)=>(Pt.stream_ops.write(u,_,0,P,v,!1),0)}},To=d.preloadPlugins||[],vi=(u,_)=>{var v=0;return u&&(v|=365),_&&(v|=146),v},k={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(u,_={}){if(!(u=Hn.resolve(u)))return{path:"",node:null};if((_=Object.assign({follow_mount:!0,recurse_count:0},_)).recurse_count>8)throw new k.ErrnoError(32);for(var P=u.split("/").filter(Yt=>!!Yt),X=k.root,Ee="/",_e=0;_e<P.length;_e++){var Ve=_e===P.length-1;if(Ve&&_.parent)break;if(X=k.lookupNode(X,P[_e]),Ee=me.join2(Ee,P[_e]),k.isMountpoint(X)&&(!Ve||Ve&&_.follow_mount)&&(X=X.mounted.root),!Ve||_.follow)for(var At=0;k.isLink(X.mode);){var vt=k.readlink(Ee);if(Ee=Hn.resolve(me.dirname(Ee),vt),X=k.lookupPath(Ee,{recurse_count:_.recurse_count+1}).node,At++>40)throw new k.ErrnoError(32)}}return{path:Ee,node:X}},getPath(u){for(var _;;){if(k.isRoot(u)){var v=u.mount.mountpoint;return _?"/"!==v[v.length-1]?`${v}/${_}`:v+_:v}_=_?`${u.name}/${_}`:u.name,u=u.parent}},hashName(u,_){for(var v=0,P=0;P<_.length;P++)v=(v<<5)-v+_.charCodeAt(P)|0;return(u+v>>>0)%k.nameTable.length},hashAddNode(u){var _=k.hashName(u.parent.id,u.name);u.name_next=k.nameTable[_],k.nameTable[_]=u},hashRemoveNode(u){var _=k.hashName(u.parent.id,u.name);if(k.nameTable[_]===u)k.nameTable[_]=u.name_next;else for(var v=k.nameTable[_];v;){if(v.name_next===u){v.name_next=u.name_next;break}v=v.name_next}},lookupNode(u,_){var v=k.mayLookup(u);if(v)throw new k.ErrnoError(v,u);for(var P=k.hashName(u.id,_),X=k.nameTable[P];X;X=X.name_next)if(X.parent.id===u.id&&X.name===_)return X;return k.lookup(u,_)},createNode(u,_,v,P){var X=new k.FSNode(u,_,v,P);return k.hashAddNode(X),X},destroyNode(u){k.hashRemoveNode(u)},isRoot:u=>u===u.parent,isMountpoint:u=>!!u.mounted,isFile:u=>32768==(61440&u),isDir:u=>16384==(61440&u),isLink:u=>40960==(61440&u),isChrdev:u=>8192==(61440&u),isBlkdev:u=>24576==(61440&u),isFIFO:u=>4096==(61440&u),isSocket:u=>49152==(49152&u),flagsToPermissionString(u){var _=["r","w","rw"][3&u];return 512&u&&(_+="w"),_},nodePermissions:(u,_)=>k.ignorePermissions?0:_.includes("r")&&!(292&u.mode)||_.includes("w")&&!(146&u.mode)||_.includes("x")&&!(73&u.mode)?2:0,mayLookup:u=>k.nodePermissions(u,"x")||(u.node_ops.lookup?0:2),mayCreate(u,_){try{return k.lookupNode(u,_),20}catch{}return k.nodePermissions(u,"wx")},mayDelete(u,_,v){var P;try{P=k.lookupNode(u,_)}catch(Ee){return Ee.errno}var X=k.nodePermissions(u,"wx");if(X)return X;if(v){if(!k.isDir(P.mode))return 54;if(k.isRoot(P)||k.getPath(P)===k.cwd())return 10}else if(k.isDir(P.mode))return 31;return 0},mayOpen:(u,_)=>u?k.isLink(u.mode)?32:k.isDir(u.mode)&&("r"!==k.flagsToPermissionString(_)||512&_)?31:k.nodePermissions(u,k.flagsToPermissionString(_)):44,MAX_OPEN_FDS:4096,nextfd(){for(var u=0;u<=k.MAX_OPEN_FDS;u++)if(!k.streams[u])return u;throw new k.ErrnoError(33)},getStreamChecked(u){var _=k.getStream(u);if(!_)throw new k.ErrnoError(8);return _},getStream:u=>k.streams[u],createStream:(u,_=-1)=>(k.FSStream||(k.FSStream=function(){this.shared={}},k.FSStream.prototype={},Object.defineProperties(k.FSStream.prototype,{object:{get(){return this.node},set(v){this.node=v}},isRead:{get(){return 1!=(2097155&this.flags)}},isWrite:{get(){return 0!=(2097155&this.flags)}},isAppend:{get(){return 1024&this.flags}},flags:{get(){return this.shared.flags},set(v){this.shared.flags=v}},position:{get(){return this.shared.position},set(v){this.shared.position=v}}})),u=Object.assign(new k.FSStream,u),-1==_&&(_=k.nextfd()),u.fd=_,k.streams[_]=u,u),closeStream(u){k.streams[u]=null},chrdev_stream_ops:{open(u){var _=k.getDevice(u.node.rdev);u.stream_ops=_.stream_ops,u.stream_ops.open&&u.stream_ops.open(u)},llseek(){throw new k.ErrnoError(70)}},major:u=>u>>8,minor:u=>255&u,makedev:(u,_)=>u<<8|_,registerDevice(u,_){k.devices[u]={stream_ops:_}},getDevice:u=>k.devices[u],getMounts(u){for(var _=[],v=[u];v.length;){var P=v.pop();_.push(P),v.push.apply(v,P.mounts)}return _},syncfs(u,_){"function"==typeof u&&(_=u,u=!1),k.syncFSRequests++,k.syncFSRequests>1&&V(`warning: ${k.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var v=k.getMounts(k.root.mount),P=0;function X(_e){return k.syncFSRequests--,_(_e)}function Ee(_e){if(_e)return Ee.errored?void 0:(Ee.errored=!0,X(_e));++P>=v.length&&X(null)}v.forEach(_e=>{if(!_e.type.syncfs)return Ee(null);_e.type.syncfs(_e,u,Ee)})},mount(u,_,v){var Ee,P="/"===v,X=!v;if(P&&k.root)throw new k.ErrnoError(10);if(!P&&!X){var _e=k.lookupPath(v,{follow_mount:!1});if(v=_e.path,k.isMountpoint(Ee=_e.node))throw new k.ErrnoError(10);if(!k.isDir(Ee.mode))throw new k.ErrnoError(54)}var Ve={type:u,opts:_,mountpoint:v,mounts:[]},At=u.mount(Ve);return At.mount=Ve,Ve.root=At,P?k.root=At:Ee&&(Ee.mounted=Ve,Ee.mount&&Ee.mount.mounts.push(Ve)),At},unmount(u){var _=k.lookupPath(u,{follow_mount:!1});if(!k.isMountpoint(_.node))throw new k.ErrnoError(28);var v=_.node,P=v.mounted,X=k.getMounts(P);Object.keys(k.nameTable).forEach(_e=>{for(var Ve=k.nameTable[_e];Ve;){var At=Ve.name_next;X.includes(Ve.mount)&&k.destroyNode(Ve),Ve=At}}),v.mounted=null;var Ee=v.mount.mounts.indexOf(P);v.mount.mounts.splice(Ee,1)},lookup:(u,_)=>u.node_ops.lookup(u,_),mknod(u,_,v){var X=k.lookupPath(u,{parent:!0}).node,Ee=me.basename(u);if(!Ee||"."===Ee||".."===Ee)throw new k.ErrnoError(28);var _e=k.mayCreate(X,Ee);if(_e)throw new k.ErrnoError(_e);if(!X.node_ops.mknod)throw new k.ErrnoError(63);return X.node_ops.mknod(X,Ee,_,v)},create:(u,_)=>(_=void 0!==_?_:438,_&=4095,k.mknod(u,_|=32768,0)),mkdir:(u,_)=>(_=void 0!==_?_:511,_&=1023,k.mknod(u,_|=16384,0)),mkdirTree(u,_){for(var v=u.split("/"),P="",X=0;X<v.length;++X)if(v[X]){P+="/"+v[X];try{k.mkdir(P,_)}catch(Ee){if(20!=Ee.errno)throw Ee}}},mkdev:(u,_,v)=>(typeof v>"u"&&(v=_,_=438),k.mknod(u,_|=8192,v)),symlink(u,_){if(!Hn.resolve(u))throw new k.ErrnoError(44);var P=k.lookupPath(_,{parent:!0}).node;if(!P)throw new k.ErrnoError(44);var X=me.basename(_),Ee=k.mayCreate(P,X);if(Ee)throw new k.ErrnoError(Ee);if(!P.node_ops.symlink)throw new k.ErrnoError(63);return P.node_ops.symlink(P,X,u)},rename(u,_){var Ve,At,v=me.dirname(u),P=me.dirname(_),X=me.basename(u),Ee=me.basename(_);if(Ve=k.lookupPath(u,{parent:!0}).node,At=k.lookupPath(_,{parent:!0}).node,!Ve||!At)throw new k.ErrnoError(44);if(Ve.mount!==At.mount)throw new k.ErrnoError(75);var Yt,vt=k.lookupNode(Ve,X),bn=Hn.relative(u,P);if("."!==bn.charAt(0))throw new k.ErrnoError(28);if("."!==(bn=Hn.relative(_,v)).charAt(0))throw new k.ErrnoError(55);try{Yt=k.lookupNode(At,Ee)}catch{}if(vt!==Yt){var tn=k.isDir(vt.mode),qt=k.mayDelete(Ve,X,tn);if(qt)throw new k.ErrnoError(qt);if(qt=Yt?k.mayDelete(At,Ee,tn):k.mayCreate(At,Ee))throw new k.ErrnoError(qt);if(!Ve.node_ops.rename)throw new k.ErrnoError(63);if(k.isMountpoint(vt)||Yt&&k.isMountpoint(Yt))throw new k.ErrnoError(10);if(At!==Ve&&(qt=k.nodePermissions(Ve,"w")))throw new k.ErrnoError(qt);k.hashRemoveNode(vt);try{Ve.node_ops.rename(vt,At,Ee)}catch(Fn){throw Fn}finally{k.hashAddNode(vt)}}},rmdir(u){var v=k.lookupPath(u,{parent:!0}).node,P=me.basename(u),X=k.lookupNode(v,P),Ee=k.mayDelete(v,P,!0);if(Ee)throw new k.ErrnoError(Ee);if(!v.node_ops.rmdir)throw new k.ErrnoError(63);if(k.isMountpoint(X))throw new k.ErrnoError(10);v.node_ops.rmdir(v,P),k.destroyNode(X)},readdir(u){var v=k.lookupPath(u,{follow:!0}).node;if(!v.node_ops.readdir)throw new k.ErrnoError(54);return v.node_ops.readdir(v)},unlink(u){var v=k.lookupPath(u,{parent:!0}).node;if(!v)throw new k.ErrnoError(44);var P=me.basename(u),X=k.lookupNode(v,P),Ee=k.mayDelete(v,P,!1);if(Ee)throw new k.ErrnoError(Ee);if(!v.node_ops.unlink)throw new k.ErrnoError(63);if(k.isMountpoint(X))throw new k.ErrnoError(10);v.node_ops.unlink(v,P),k.destroyNode(X)},readlink(u){var v=k.lookupPath(u).node;if(!v)throw new k.ErrnoError(44);if(!v.node_ops.readlink)throw new k.ErrnoError(28);return Hn.resolve(k.getPath(v.parent),v.node_ops.readlink(v))},stat(u,_){var P=k.lookupPath(u,{follow:!_}).node;if(!P)throw new k.ErrnoError(44);if(!P.node_ops.getattr)throw new k.ErrnoError(63);return P.node_ops.getattr(P)},lstat:u=>k.stat(u,!0),chmod(u,_,v){var P;if(!(P="string"==typeof u?k.lookupPath(u,{follow:!v}).node:u).node_ops.setattr)throw new k.ErrnoError(63);P.node_ops.setattr(P,{mode:4095&_|-4096&P.mode,timestamp:Date.now()})},lchmod(u,_){k.chmod(u,_,!0)},fchmod(u,_){var v=k.getStreamChecked(u);k.chmod(v.node,_)},chown(u,_,v,P){var X;if(!(X="string"==typeof u?k.lookupPath(u,{follow:!P}).node:u).node_ops.setattr)throw new k.ErrnoError(63);X.node_ops.setattr(X,{timestamp:Date.now()})},lchown(u,_,v){k.chown(u,_,v,!0)},fchown(u,_,v){var P=k.getStreamChecked(u);k.chown(P.node,_,v)},truncate(u,_){if(_<0)throw new k.ErrnoError(28);var v;if(!(v="string"==typeof u?k.lookupPath(u,{follow:!0}).node:u).node_ops.setattr)throw new k.ErrnoError(63);if(k.isDir(v.mode))throw new k.ErrnoError(31);if(!k.isFile(v.mode))throw new k.ErrnoError(28);var X=k.nodePermissions(v,"w");if(X)throw new k.ErrnoError(X);v.node_ops.setattr(v,{size:_,timestamp:Date.now()})},ftruncate(u,_){var v=k.getStreamChecked(u);if(!(2097155&v.flags))throw new k.ErrnoError(28);k.truncate(v.node,_)},utime(u,_,v){var X=k.lookupPath(u,{follow:!0}).node;X.node_ops.setattr(X,{timestamp:Math.max(_,v)})},open(u,_,v){if(""===u)throw new k.ErrnoError(44);var P;if(_="string"==typeof _?(u=>{var v={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[u];if(typeof v>"u")throw new Error(`Unknown file open mode: ${u}`);return v})(_):_,v=typeof v>"u"?438:v,v=64&_?4095&v|32768:0,"object"==typeof u)P=u;else{u=me.normalize(u);try{P=k.lookupPath(u,{follow:!(131072&_)}).node}catch{}}var Ee=!1;if(64&_)if(P){if(128&_)throw new k.ErrnoError(20)}else P=k.mknod(u,v,0),Ee=!0;if(!P)throw new k.ErrnoError(44);if(k.isChrdev(P.mode)&&(_&=-513),65536&_&&!k.isDir(P.mode))throw new k.ErrnoError(54);if(!Ee){var _e=k.mayOpen(P,_);if(_e)throw new k.ErrnoError(_e)}512&_&&!Ee&&k.truncate(P,0),_&=-131713;var Ve=k.createStream({node:P,path:k.getPath(P),flags:_,seekable:!0,position:0,stream_ops:P.stream_ops,ungotten:[],error:!1});return Ve.stream_ops.open&&Ve.stream_ops.open(Ve),d.logReadFiles&&!(1&_)&&(k.readFiles||(k.readFiles={}),u in k.readFiles||(k.readFiles[u]=1)),Ve},close(u){if(k.isClosed(u))throw new k.ErrnoError(8);u.getdents&&(u.getdents=null);try{u.stream_ops.close&&u.stream_ops.close(u)}catch(_){throw _}finally{k.closeStream(u.fd)}u.fd=null},isClosed:u=>null===u.fd,llseek(u,_,v){if(k.isClosed(u))throw new k.ErrnoError(8);if(!u.seekable||!u.stream_ops.llseek)throw new k.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new k.ErrnoError(28);return u.position=u.stream_ops.llseek(u,_,v),u.ungotten=[],u.position},read(u,_,v,P,X){if(P<0||X<0)throw new k.ErrnoError(28);if(k.isClosed(u))throw new k.ErrnoError(8);if(1==(2097155&u.flags))throw new k.ErrnoError(8);if(k.isDir(u.node.mode))throw new k.ErrnoError(31);if(!u.stream_ops.read)throw new k.ErrnoError(28);var Ee=typeof X<"u";if(Ee){if(!u.seekable)throw new k.ErrnoError(70)}else X=u.position;var _e=u.stream_ops.read(u,_,v,P,X);return Ee||(u.position+=_e),_e},write(u,_,v,P,X,Ee){if(P<0||X<0)throw new k.ErrnoError(28);if(k.isClosed(u))throw new k.ErrnoError(8);if(!(2097155&u.flags))throw new k.ErrnoError(8);if(k.isDir(u.node.mode))throw new k.ErrnoError(31);if(!u.stream_ops.write)throw new k.ErrnoError(28);u.seekable&&1024&u.flags&&k.llseek(u,0,2);var _e=typeof X<"u";if(_e){if(!u.seekable)throw new k.ErrnoError(70)}else X=u.position;var Ve=u.stream_ops.write(u,_,v,P,X,Ee);return _e||(u.position+=Ve),Ve},allocate(u,_,v){if(k.isClosed(u))throw new k.ErrnoError(8);if(_<0||v<=0)throw new k.ErrnoError(28);if(!(2097155&u.flags))throw new k.ErrnoError(8);if(!k.isFile(u.node.mode)&&!k.isDir(u.node.mode))throw new k.ErrnoError(43);if(!u.stream_ops.allocate)throw new k.ErrnoError(138);u.stream_ops.allocate(u,_,v)},mmap(u,_,v,P,X){if(2&P&&!(2&X)&&2!=(2097155&u.flags))throw new k.ErrnoError(2);if(1==(2097155&u.flags))throw new k.ErrnoError(2);if(!u.stream_ops.mmap)throw new k.ErrnoError(43);return u.stream_ops.mmap(u,_,v,P,X)},msync:(u,_,v,P,X)=>u.stream_ops.msync?u.stream_ops.msync(u,_,v,P,X):0,munmap:u=>0,ioctl(u,_,v){if(!u.stream_ops.ioctl)throw new k.ErrnoError(59);return u.stream_ops.ioctl(u,_,v)},readFile(u,_={}){if(_.flags=_.flags||0,_.encoding=_.encoding||"binary","utf8"!==_.encoding&&"binary"!==_.encoding)throw new Error(`Invalid encoding type "${_.encoding}"`);var v,P=k.open(u,_.flags),Ee=k.stat(u).size,_e=new Uint8Array(Ee);return k.read(P,_e,0,Ee,0),"utf8"===_.encoding?v=eo(_e,0):"binary"===_.encoding&&(v=_e),k.close(P),v},writeFile(u,_,v={}){v.flags=v.flags||577;var P=k.open(u,v.flags,v.mode);if("string"==typeof _){var X=new Uint8Array(wr(_)+1),Ee=co(_,X,0,X.length);k.write(P,X,0,Ee,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(_))throw new Error("Unsupported data type");k.write(P,_,0,_.byteLength,void 0,v.canOwn)}k.close(P)},cwd:()=>k.currentPath,chdir(u){var _=k.lookupPath(u,{follow:!0});if(null===_.node)throw new k.ErrnoError(44);if(!k.isDir(_.node.mode))throw new k.ErrnoError(54);var v=k.nodePermissions(_.node,"x");if(v)throw new k.ErrnoError(v);k.currentPath=_.path},createDefaultDirectories(){k.mkdir("/tmp"),k.mkdir("/home"),k.mkdir("/home/web_user")},createDefaultDevices(){k.mkdir("/dev"),k.registerDevice(k.makedev(1,3),{read:()=>0,write:(P,X,Ee,_e,Ve)=>_e}),k.mkdev("/dev/null",k.makedev(1,3)),uo.register(k.makedev(5,0),uo.default_tty_ops),uo.register(k.makedev(6,0),uo.default_tty1_ops),k.mkdev("/dev/tty",k.makedev(5,0)),k.mkdev("/dev/tty1",k.makedev(6,0));var u=new Uint8Array(1024),_=0,v=()=>(0===_&&(_=Zt(u).byteLength),u[--_]);k.createDevice("/dev","random",v),k.createDevice("/dev","urandom",v),k.mkdir("/dev/shm"),k.mkdir("/dev/shm/tmp")},createSpecialDirectories(){k.mkdir("/proc");var u=k.mkdir("/proc/self");k.mkdir("/proc/self/fd"),k.mount({mount(){var _=k.createNode(u,"fd",16895,73);return _.node_ops={lookup(v,P){var Ee=k.getStreamChecked(+P),_e={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Ee.path}};return _e.parent=_e,_e}},_}},{},"/proc/self/fd")},createStandardStreams(){d.stdin?k.createDevice("/dev","stdin",d.stdin):k.symlink("/dev/tty","/dev/stdin"),d.stdout?k.createDevice("/dev","stdout",null,d.stdout):k.symlink("/dev/tty","/dev/stdout"),d.stderr?k.createDevice("/dev","stderr",null,d.stderr):k.symlink("/dev/tty1","/dev/stderr"),k.open("/dev/stdin",0),k.open("/dev/stdout",1),k.open("/dev/stderr",1)},ensureErrnoError(){k.ErrnoError||(k.ErrnoError=function(_,v){this.name="ErrnoError",this.node=v,this.setErrno=function(P){this.errno=P},this.setErrno(_),this.message="FS error"},k.ErrnoError.prototype=new Error,k.ErrnoError.prototype.constructor=k.ErrnoError,[44].forEach(u=>{k.genericErrors[u]=new k.ErrnoError(u),k.genericErrors[u].stack="<generic error, no stack>"}))},staticInit(){k.ensureErrnoError(),k.nameTable=new Array(4096),k.mount(Pt,{},"/"),k.createDefaultDirectories(),k.createDefaultDevices(),k.createSpecialDirectories(),k.filesystems={MEMFS:Pt}},init(u,_,v){k.init.initialized=!0,k.ensureErrnoError(),d.stdin=u||d.stdin,d.stdout=_||d.stdout,d.stderr=v||d.stderr,k.createStandardStreams()},quit(){k.init.initialized=!1;for(var u=0;u<k.streams.length;u++){var _=k.streams[u];_&&k.close(_)}},findObject(u,_){var v=k.analyzePath(u,_);return v.exists?v.object:null},analyzePath(u,_){try{u=(v=k.lookupPath(u,{follow:!_})).path}catch{}var P={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=k.lookupPath(u,{parent:!0});P.parentExists=!0,P.parentPath=v.path,P.parentObject=v.node,P.name=me.basename(u),v=k.lookupPath(u,{follow:!_}),P.exists=!0,P.path=v.path,P.object=v.node,P.name=v.node.name,P.isRoot="/"===v.path}catch(X){P.error=X.errno}return P},createPath(u,_,v,P){u="string"==typeof u?u:k.getPath(u);for(var X=_.split("/").reverse();X.length;){var Ee=X.pop();if(Ee){var _e=me.join2(u,Ee);try{k.mkdir(_e)}catch{}u=_e}}return _e},createFile(u,_,v,P,X){var Ee=me.join2("string"==typeof u?u:k.getPath(u),_),_e=vi(P,X);return k.create(Ee,_e)},createDataFile(u,_,v,P,X,Ee){var _e=_;u&&(u="string"==typeof u?u:k.getPath(u),_e=_?me.join2(u,_):u);var Ve=vi(P,X),At=k.create(_e,Ve);if(v){if("string"==typeof v){for(var vt=new Array(v.length),bn=0,Yt=v.length;bn<Yt;++bn)vt[bn]=v.charCodeAt(bn);v=vt}k.chmod(At,146|Ve);var tn=k.open(At,577);k.write(tn,v,0,v.length,0,Ee),k.close(tn),k.chmod(At,Ve)}return At},createDevice(u,_,v,P){var X=me.join2("string"==typeof u?u:k.getPath(u),_),Ee=vi(!!v,!!P);k.createDevice.major||(k.createDevice.major=64);var _e=k.makedev(k.createDevice.major++,0);return k.registerDevice(_e,{open(Ve){Ve.seekable=!1},close(Ve){P&&P.buffer&&P.buffer.length&&P(10)},read(Ve,At,vt,bn,Yt){for(var tn=0,qt=0;qt<bn;qt++){var Fn;try{Fn=v()}catch{throw new k.ErrnoError(29)}if(void 0===Fn&&0===tn)throw new k.ErrnoError(6);if(null==Fn)break;tn++,At[vt+qt]=Fn}return tn&&(Ve.node.timestamp=Date.now()),tn},write(Ve,At,vt,bn,Yt){for(var tn=0;tn<bn;tn++)try{P(At[vt+tn])}catch{throw new k.ErrnoError(29)}return bn&&(Ve.node.timestamp=Date.now()),tn}}),k.mkdev(X,Ee,_e)},forceLoadFile(u){if(u.isDevice||u.isFolder||u.link||u.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{u.contents=vr(G(u.url),!0),u.usedBytes=u.contents.length}catch{throw new k.ErrnoError(29)}},createLazyFile(u,_,v,P,X){function Ee(){this.lengthKnown=!1,this.chunks=[]}if(Ee.prototype.get=function(qt){if(!(qt>this.length-1||qt<0)){var Fn=qt%this.chunkSize;return this.getter(qt/this.chunkSize|0)[Fn]}},Ee.prototype.setDataGetter=function(qt){this.getter=qt},Ee.prototype.cacheLength=function(){var qt=new XMLHttpRequest;if(qt.open("HEAD",v,!1),qt.send(null),!(qt.status>=200&&qt.status<300||304===qt.status))throw new Error("Couldn't load "+v+". Status: "+qt.status);var Qn,Fn=Number(qt.getResponseHeader("Content-length")),bi=(Qn=qt.getResponseHeader("Accept-Ranges"))&&"bytes"===Qn,jo=(Qn=qt.getResponseHeader("Content-Encoding"))&&"gzip"===Qn,St=1048576;bi||(St=Fn);var Eo=this;Eo.setDataGetter(kn=>{var Mt=kn*St,Qt=(kn+1)*St-1;if(Qt=Math.min(Qt,Fn-1),typeof Eo.chunks[kn]>"u"&&(Eo.chunks[kn]=((kn,Mt)=>{if(kn>Mt)throw new Error("invalid range ("+kn+", "+Mt+") or no bytes requested!");if(Mt>Fn-1)throw new Error("only "+Fn+" bytes available! programmer error!");var Qt=new XMLHttpRequest;if(Qt.open("GET",v,!1),Fn!==St&&Qt.setRequestHeader("Range","bytes="+kn+"-"+Mt),Qt.responseType="arraybuffer",Qt.overrideMimeType&&Qt.overrideMimeType("text/plain; charset=x-user-defined"),Qt.send(null),!(Qt.status>=200&&Qt.status<300||304===Qt.status))throw new Error("Couldn't load "+v+". Status: "+Qt.status);return void 0!==Qt.response?new Uint8Array(Qt.response||[]):vr(Qt.responseText||"",!0)})(Mt,Qt)),typeof Eo.chunks[kn]>"u")throw new Error("doXHR failed!");return Eo.chunks[kn]}),(jo||!Fn)&&(St=Fn=1,Fn=this.getter(0).length,St=Fn,ue("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Fn,this._chunkSize=St,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!J)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var _e=new Ee;Object.defineProperties(_e,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ve={isDevice:!1,contents:_e}}else Ve={isDevice:!1,url:v};var At=k.createFile(u,_,Ve,P,X);Ve.contents?At.contents=Ve.contents:Ve.url&&(At.contents=null,At.url=Ve.url),Object.defineProperties(At,{usedBytes:{get:function(){return this.contents.length}}});var vt={};function Yt(tn,qt,Fn,Qn,bi){var jo=tn.node.contents;if(bi>=jo.length)return 0;var St=Math.min(jo.length-bi,Qn);if(jo.slice)for(var pn=0;pn<St;pn++)qt[Fn+pn]=jo[bi+pn];else for(pn=0;pn<St;pn++)qt[Fn+pn]=jo.get(bi+pn);return St}return Object.keys(At.stream_ops).forEach(tn=>{var qt=At.stream_ops[tn];vt[tn]=function(){return k.forceLoadFile(At),qt.apply(null,arguments)}}),vt.read=(tn,qt,Fn,Qn,bi)=>(k.forceLoadFile(At),Yt(tn,qt,Fn,Qn,bi)),vt.mmap=(tn,qt,Fn,Qn,bi)=>{k.forceLoadFile(At);var jo=yr();if(!jo)throw new k.ErrnoError(48);return Yt(tn,ae,jo,qt,Fn),{ptr:jo,allocated:!0}},At.stream_ops=vt,At}},I={DEFAULT_POLLMASK:5,calculateAt(u,_,v){if(me.isAbs(_))return _;var P;if(P=-100===u?k.cwd():I.getStreamFromFD(u).path,0==_.length){if(!v)throw new k.ErrnoError(44);return P}return me.join2(P,_)},doStat(u,_,v){try{var P=u(_)}catch(Ve){if(Ve&&Ve.node&&me.normalize(_)!==me.normalize(k.getPath(Ve.node)))return-54;throw Ve}N[v>>2]=P.dev,N[v+4>>2]=P.mode,j[v+8>>2]=P.nlink,N[v+12>>2]=P.uid,N[v+16>>2]=P.gid,N[v+20>>2]=P.rdev,Wt=[P.size>>>0,(Ze=P.size,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[v+24>>2]=Wt[0],N[v+28>>2]=Wt[1],N[v+32>>2]=4096,N[v+36>>2]=P.blocks;var X=P.atime.getTime(),Ee=P.mtime.getTime(),_e=P.ctime.getTime();return Wt=[Math.floor(X/1e3)>>>0,(Ze=Math.floor(X/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[v+40>>2]=Wt[0],N[v+44>>2]=Wt[1],j[v+48>>2]=X%1e3*1e3,Wt=[Math.floor(Ee/1e3)>>>0,(Ze=Math.floor(Ee/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[v+56>>2]=Wt[0],N[v+60>>2]=Wt[1],j[v+64>>2]=Ee%1e3*1e3,Wt=[Math.floor(_e/1e3)>>>0,(Ze=Math.floor(_e/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[v+72>>2]=Wt[0],N[v+76>>2]=Wt[1],j[v+80>>2]=_e%1e3*1e3,Wt=[P.ino>>>0,(Ze=P.ino,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[v+88>>2]=Wt[0],N[v+92>>2]=Wt[1],0},doMsync(u,_,v,P,X){if(!k.isFile(_.node.mode))throw new k.ErrnoError(43);if(2&P)return 0;var Ee=pe.slice(u,u+v);k.msync(_,Ee,X,v,P)},varargs:void 0,get(){var u=N[+I.varargs>>2];return I.varargs+=4,u},getp:()=>I.get(),getStr:u=>Xn(u),getStreamFromFD:u=>k.getStreamChecked(u)},x=(u,_)=>_+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*_:NaN,Co=u=>u%4==0&&(u%100!=0||u%400==0),Cs=[0,31,60,91,121,152,182,213,244,274,305,335],yi=[0,31,59,90,120,151,181,212,243,273,304,334],Fr=u=>(Co(u.getFullYear())?Cs:yi)[u.getMonth()]+u.getDate()-1,Po=u=>{var _=wr(u)+1,v=ui(_);return v&&((u,_,v)=>{co(u,pe,_,v)})(u,v,_),v},Hr=u=>{var v=(u-ve.buffer.byteLength+65535)/65536;try{return ve.grow(v),It(),1}catch{}},Wi={},ki=()=>{if(!ki.strings){var _={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:F||"./this.program"};for(var v in Wi)void 0===Wi[v]?delete _[v]:_[v]=Wi[v];var P=[];for(var v in _)P.push(`${v}=${_[v]}`);ki.strings=P}return ki.strings},E=[31,29,31,30,31,30,31,31,30,31,30,31],B=[31,28,31,30,31,30,31,31,30,31,30,31],st=(u,_)=>{Je=u,(u=>{Je=u,function Vt(){return de||!1}()||(d.onExit&&d.onExit(u),fe=!0),U(u,new Wr(u))})(u)},ut=function(u,_,v,P){u||(u=this),this.parent=u,this.mount=u.mount,this.mounted=null,this.id=k.nextInode++,this.name=_,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=P};Object.defineProperties(ut.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(u){u?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(u){u?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return k.isDir(this.mode)}},isDevice:{get:function(){return k.isChrdev(this.mode)}}}),k.FSNode=ut,k.createPreloadedFile=(u,_,v,P,X,Ee,_e,Ve,At,vt)=>{var bn=_?Hn.resolve(me.join2(u,_)):u;function tn(qt){function Fn(Qn){vt&&vt(),Ve||((u,_,v,P,X,Ee)=>{k.createDataFile(u,_,v,P,X,Ee)})(u,_,Qn,P,X,At),Ee&&Ee(),In()}((u,_,v,P)=>{typeof Browser<"u"&&Browser.init();var X=!1;return To.forEach(Ee=>{X||Ee.canHandle(_)&&(Ee.handle(u,_,v,P),X=!0)}),X})(qt,bn,Fn,()=>{_e&&_e(),In()})||Fn(qt)}Jt(),"string"==typeof v?((u,_,v,P)=>{var X=`al ${u}`;Re(u,Ee=>{Qe(Ee,`Loading data file "${u}" failed (no arrayBuffer).`),tn(new Uint8Array(Ee)),X&&In()},Ee=>{if(!v)throw`Loading data file "${u}" failed.`;v()}),X&&Jt()})(v,0,_e):tn(v)},k.staticInit();var _t,Kn={a:(u,_,v,P)=>{_n(`Assertion failed: ${Xn(u)}, at: `+[_?Xn(_):"unknown filename",v,P?Xn(P):"unknown function"])},n:function Ao(u,_,v){var P=x(_,v);try{return isNaN(P)?61:(k.ftruncate(u,P),0)}catch(X){if(typeof k>"u"||"ErrnoError"!==X.name)throw X;return-X.errno}},j:()=>!0,k:function po(u,_,v){var P=x(u,_),X=new Date(1e3*P);N[v>>2]=X.getSeconds(),N[v+4>>2]=X.getMinutes(),N[v+8>>2]=X.getHours(),N[v+12>>2]=X.getDate(),N[v+16>>2]=X.getMonth(),N[v+20>>2]=X.getFullYear()-1900,N[v+24>>2]=X.getDay();var Ee=0|Fr(X);N[v+28>>2]=Ee,N[v+36>>2]=-60*X.getTimezoneOffset();var _e=new Date(X.getFullYear(),0,1),Ve=new Date(X.getFullYear(),6,1).getTimezoneOffset(),At=_e.getTimezoneOffset(),vt=0|(Ve!=At&&X.getTimezoneOffset()==Math.min(At,Ve));N[v+32>>2]=vt},l:function(u){var _=(()=>{var v=new Date(N[u+20>>2]+1900,N[u+16>>2],N[u+12>>2],N[u+8>>2],N[u+4>>2],N[u>>2],0),P=N[u+32>>2],X=v.getTimezoneOffset(),Ee=new Date(v.getFullYear(),0,1),_e=new Date(v.getFullYear(),6,1).getTimezoneOffset(),Ve=Ee.getTimezoneOffset(),At=Math.min(Ve,_e);if(P<0)N[u+32>>2]=+(_e!=Ve&&At==X);else if(P>0!=(At==X)){var vt=Math.max(Ve,_e),bn=P>0?At:vt;v.setTime(v.getTime()+6e4*(bn-X))}N[u+24>>2]=v.getDay();var Yt=0|Fr(v);return N[u+28>>2]=Yt,N[u>>2]=v.getSeconds(),N[u+4>>2]=v.getMinutes(),N[u+8>>2]=v.getHours(),N[u+12>>2]=v.getDate(),N[u+16>>2]=v.getMonth(),N[u+20>>2]=v.getYear(),v.getTime()/1e3})();return Rt((Ze=_,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)),_>>>0},e:(u,_,v)=>{var P=(new Date).getFullYear(),X=new Date(P,0,1),Ee=new Date(P,6,1),_e=X.getTimezoneOffset(),Ve=Ee.getTimezoneOffset(),At=Math.max(_e,Ve);function vt(Fn){var Qn=Fn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Qn?Qn[1]:"GMT"}j[u>>2]=60*At,N[_>>2]=+(_e!=Ve);var bn=vt(X),Yt=vt(Ee),tn=Po(bn),qt=Po(Yt);Ve<_e?(j[v>>2]=tn,j[v+4>>2]=qt):(j[v>>2]=qt,j[v+4>>2]=tn)},b:()=>{_n("")},c:()=>Date.now(),f:(u,_,v)=>pe.copyWithin(u,_,_+v),d:u=>{var At,_=pe.length,v=2147483648;if((u>>>=0)>v)return!1;for(var X=1;X<=4;X*=2){var Ee=_*(1+.2/X);Ee=Math.min(Ee,u+100663296);var _e=Math.min(v,(At=Math.max(u,Ee))+(65536-At%65536)%65536);if(Hr(_e))return!0}return!1},p:(u,_)=>{var v=0;return ki().forEach((P,X)=>{var Ee=_+v;j[u+4*X>>2]=Ee,((u,_)=>{for(var v=0;v<u.length;++v)ae[_++>>0]=u.charCodeAt(v);ae[_>>0]=0})(P,Ee),v+=P.length+1}),0},q:(u,_)=>{var v=ki();j[u>>2]=v.length;var P=0;return v.forEach(X=>P+=X.length+1),j[_>>2]=P,0},g:function ds(u){try{var _=I.getStreamFromFD(u);return k.close(_),0}catch(v){if(typeof k>"u"||"ErrnoError"!==v.name)throw v;return v.errno}},i:function nr(u,_,v,P){try{var Ee=((u,_,v,P)=>{for(var X=0,Ee=0;Ee<v;Ee++){var _e=j[_>>2],Ve=j[_+4>>2];_+=8;var At=k.read(u,ae,_e,Ve,P);if(At<0)return-1;if(X+=At,At<Ve)break;typeof P<"u"&&(P+=At)}return X})(I.getStreamFromFD(u),_,v);return j[P>>2]=Ee,0}catch(_e){if(typeof k>"u"||"ErrnoError"!==_e.name)throw _e;return _e.errno}},m:function Zi(u,_,v,P,X){var Ee=x(_,v);try{if(isNaN(Ee))return 61;var _e=I.getStreamFromFD(u);return k.llseek(_e,Ee,P),Wt=[_e.position>>>0,(Ze=_e.position,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[X>>2]=Wt[0],N[X+4>>2]=Wt[1],_e.getdents&&0===Ee&&0===P&&(_e.getdents=null),0}catch(Ve){if(typeof k>"u"||"ErrnoError"!==Ve.name)throw Ve;return Ve.errno}},h:function Ds(u,_,v,P){try{var Ee=((u,_,v,P)=>{for(var X=0,Ee=0;Ee<v;Ee++){var _e=j[_>>2],Ve=j[_+4>>2];_+=8;var At=k.write(u,ae,_e,Ve,P);if(At<0)return-1;X+=At,typeof P<"u"&&(P+=At)}return X})(I.getStreamFromFD(u),_,v);return j[P>>2]=Ee,0}catch(_e){if(typeof k>"u"||"ErrnoError"!==_e.name)throw _e;return _e.errno}},o:(u,_,v,P,X)=>((u,_,v,P)=>{var X=j[P+40>>2],Ee={tm_sec:N[P>>2],tm_min:N[P+4>>2],tm_hour:N[P+8>>2],tm_mday:N[P+12>>2],tm_mon:N[P+16>>2],tm_year:N[P+20>>2],tm_wday:N[P+24>>2],tm_yday:N[P+28>>2],tm_isdst:N[P+32>>2],tm_gmtoff:N[P+36>>2],tm_zone:X?Xn(X):""},_e=Xn(v),Ve={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var At in Ve)_e=_e.replace(new RegExp(At,"g"),Ve[At]);var vt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Yt(St,pn,Eo){for(var kn="number"==typeof St?St.toString():St||"";kn.length<pn;)kn=Eo[0]+kn;return kn}function tn(St,pn){return Yt(St,pn,"0")}function qt(St,pn){function Eo(Mt){return Mt<0?-1:Mt>0?1:0}var kn;return 0===(kn=Eo(St.getFullYear()-pn.getFullYear()))&&0===(kn=Eo(St.getMonth()-pn.getMonth()))&&(kn=Eo(St.getDate()-pn.getDate())),kn}function Fn(St){switch(St.getDay()){case 0:return new Date(St.getFullYear()-1,11,29);case 1:return St;case 2:return new Date(St.getFullYear(),0,3);case 3:return new Date(St.getFullYear(),0,2);case 4:return new Date(St.getFullYear(),0,1);case 5:return new Date(St.getFullYear()-1,11,31);case 6:return new Date(St.getFullYear()-1,11,30)}}function Qn(St){var pn=((u,_)=>{for(var v=new Date(u.getTime());_>0;){var P=Co(v.getFullYear()),X=v.getMonth(),Ee=(P?E:B)[X];if(!(_>Ee-v.getDate()))return v.setDate(v.getDate()+_),v;_-=Ee-v.getDate()+1,v.setDate(1),X<11?v.setMonth(X+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v})(new Date(St.tm_year+1900,0,1),St.tm_yday),Eo=new Date(pn.getFullYear(),0,4),kn=new Date(pn.getFullYear()+1,0,4),Mt=Fn(Eo),Qt=Fn(kn);return qt(Mt,pn)<=0?qt(Qt,pn)<=0?pn.getFullYear()+1:pn.getFullYear():pn.getFullYear()-1}var bi={"%a":St=>vt[St.tm_wday].substring(0,3),"%A":St=>vt[St.tm_wday],"%b":St=>bn[St.tm_mon].substring(0,3),"%B":St=>bn[St.tm_mon],"%C":St=>tn((St.tm_year+1900)/100|0,2),"%d":St=>tn(St.tm_mday,2),"%e":St=>Yt(St.tm_mday,2," "),"%g":St=>Qn(St).toString().substring(2),"%G":St=>Qn(St),"%H":St=>tn(St.tm_hour,2),"%I":St=>{var pn=St.tm_hour;return 0==pn?pn=12:pn>12&&(pn-=12),tn(pn,2)},"%j":St=>tn(St.tm_mday+((u,_)=>{for(var v=0,P=0;P<=_;v+=u[P++]);return v})(Co(St.tm_year+1900)?E:B,St.tm_mon-1),3),"%m":St=>tn(St.tm_mon+1,2),"%M":St=>tn(St.tm_min,2),"%n":()=>"\n","%p":St=>St.tm_hour>=0&&St.tm_hour<12?"AM":"PM","%S":St=>tn(St.tm_sec,2),"%t":()=>"\t","%u":St=>St.tm_wday||7,"%U":St=>tn(Math.floor((St.tm_yday+7-St.tm_wday)/7),2),"%V":St=>{var pn=Math.floor((St.tm_yday+7-(St.tm_wday+6)%7)/7);if((St.tm_wday+371-St.tm_yday-2)%7<=2&&pn++,pn){if(53==pn){var kn=(St.tm_wday+371-St.tm_yday)%7;4!=kn&&(3!=kn||!Co(St.tm_year))&&(pn=1)}}else{pn=52;var Eo=(St.tm_wday+7-St.tm_yday-1)%7;(4==Eo||5==Eo&&Co(St.tm_year%400-1))&&pn++}return tn(pn,2)},"%w":St=>St.tm_wday,"%W":St=>tn(Math.floor((St.tm_yday+7-(St.tm_wday+6)%7)/7),2),"%y":St=>(St.tm_year+1900).toString().substring(2),"%Y":St=>St.tm_year+1900,"%z":St=>{var pn=St.tm_gmtoff;return(pn>=0?"+":"-")+("0000"+(pn=(pn=Math.abs(pn)/60)/60*100+pn%60)).slice(-4)},"%Z":St=>St.tm_zone,"%%":()=>"%"};for(var At in _e=_e.replace(/%%/g,"\0\0"),bi)_e.includes(At)&&(_e=_e.replace(new RegExp(At,"g"),bi[At](Ee)));var jo=vr(_e=_e.replace(/\0\0/g,"%"),!1);return jo.length>_?0:(((u,_)=>{ae.set(u,_)})(jo,u),jo.length-1)})(u,_,v,P)},gt=function Go(){var u={a:Kn};function _(P,X){return ve=(gt=P.exports).r,It(),function We(u){Ge.unshift(u)}(gt.s),In(),gt}if(Jt(),d.instantiateWasm)try{return d.instantiateWasm(u,_)}catch(P){V(`Module.instantiateWasm callback failed with error: ${P}`),re(P)}return function si(u,_,v,P){return u||"function"!=typeof WebAssembly.instantiateStreaming||Cr(_)||"function"!=typeof fetch?No(_,v,P):fetch(_,{credentials:"same-origin"}).then(X=>WebAssembly.instantiateStreaming(X,v).then(P,function(_e){return V(`wasm streaming compile failed: ${_e}`),V("falling back to ArrayBuffer instantiation"),No(_,v,P)}))}(q,lr,u,function v(P){_(P.instance)}).catch(re),{}}(),ui=d._malloc=u=>(ui=d._malloc=gt.t)(u),Li=(d._free=u=>(d._free=gt.u)(u),d._webidl_free=u=>(d._webidl_free=gt.v)(u),d._webidl_malloc=u=>(d._webidl_malloc=gt.w)(u),d._emscripten_bind_VoidPtr___destroy___0=u=>(Li=d._emscripten_bind_VoidPtr___destroy___0=gt.x)(u)),Wo=d._emscripten_bind_FileEntry_GetName_0=u=>(Wo=d._emscripten_bind_FileEntry_GetName_0=gt.y)(u),Ia=d._emscripten_bind_FileEntry_IsDirectory_0=u=>(Ia=d._emscripten_bind_FileEntry_IsDirectory_0=gt.z)(u),Zo=d._emscripten_bind_FileEntry_GetSize_0=u=>(Zo=d._emscripten_bind_FileEntry_GetSize_0=gt.A)(u),Is=d._emscripten_bind_FileEntry_GetModifiedTS_0=u=>(Is=d._emscripten_bind_FileEntry_GetModifiedTS_0=gt.B)(u),tl=d._emscripten_bind_FileEntry_GetAttributes_0=u=>(tl=d._emscripten_bind_FileEntry_GetAttributes_0=gt.C)(u),nl=d._emscripten_bind_FileEntry___destroy___0=u=>(nl=d._emscripten_bind_FileEntry___destroy___0=gt.D)(u),qi=d._emscripten_bind_Vfs_Vfs_0=()=>(qi=d._emscripten_bind_Vfs_Vfs_0=gt.E)(),rl=d._emscripten_bind_Vfs_Malloc_1=(u,_)=>(rl=d._emscripten_bind_Vfs_Malloc_1=gt.F)(u,_),Vl=d._emscripten_bind_Vfs_Free_1=(u,_)=>(Vl=d._emscripten_bind_Vfs_Free_1=gt.G)(u,_),ol=d._emscripten_bind_Vfs_Nullptr_0=u=>(ol=d._emscripten_bind_Vfs_Nullptr_0=gt.H)(u),sa=d._emscripten_bind_Vfs_AllocateImage_1=(u,_)=>(sa=d._emscripten_bind_Vfs_AllocateImage_1=gt.I)(u,_),zs=d._emscripten_bind_Vfs_MountImage_1=(u,_)=>(zs=d._emscripten_bind_Vfs_MountImage_1=gt.J)(u,_),Ul=d._emscripten_bind_Vfs_UnmountImage_1=(u,_)=>(Ul=d._emscripten_bind_Vfs_UnmountImage_1=gt.K)(u,_),Se=d._emscripten_bind_Vfs_SwitchSlot_1=(u,_)=>(Se=d._emscripten_bind_Vfs_SwitchSlot_1=gt.L)(u,_),Hl=d._emscripten_bind_Vfs_GetPendingImageSize_0=u=>(Hl=d._emscripten_bind_Vfs_GetPendingImageSize_0=gt.M)(u),$o=d._emscripten_bind_Vfs_GetSize_1=(u,_)=>($o=d._emscripten_bind_Vfs_GetSize_1=gt.N)(u,_),yn=d._emscripten_bind_Vfs_GetPendingImage_0=u=>(yn=d._emscripten_bind_Vfs_GetPendingImage_0=gt.O)(u),il=d._emscripten_bind_Vfs_GetImage_1=(u,_)=>(il=d._emscripten_bind_Vfs_GetImage_1=gt.P)(u,_),Gl=d._emscripten_bind_Vfs_GetDirtyPages_1=(u,_)=>(Gl=d._emscripten_bind_Vfs_GetDirtyPages_1=gt.Q)(u,_),zl=d._emscripten_bind_Vfs_RenameFile_2=(u,_,v)=>(zl=d._emscripten_bind_Vfs_RenameFile_2=gt.R)(u,_,v),mt=d._emscripten_bind_Vfs_ChmodFile_3=(u,_,v,P)=>(mt=d._emscripten_bind_Vfs_ChmodFile_3=gt.S)(u,_,v,P),sl=d._emscripten_bind_Vfs_StatFile_1=(u,_)=>(sl=d._emscripten_bind_Vfs_StatFile_1=gt.T)(u,_),Sr=d._emscripten_bind_Vfs_UnlinkFile_1=(u,_)=>(Sr=d._emscripten_bind_Vfs_UnlinkFile_1=gt.U)(u,_),xs=d._emscripten_bind_Vfs_Mkdir_1=(u,_)=>(xs=d._emscripten_bind_Vfs_Mkdir_1=gt.V)(u,_),xa=d._emscripten_bind_Vfs_GetEntry_0=u=>(xa=d._emscripten_bind_Vfs_GetEntry_0=gt.W)(u),aa=d._emscripten_bind_Vfs_BytesFree_1=(u,_)=>(aa=d._emscripten_bind_Vfs_BytesFree_1=gt.X)(u,_),ka=d._emscripten_bind_Vfs_BytesTotal_1=(u,_)=>(ka=d._emscripten_bind_Vfs_BytesTotal_1=gt.Y)(u,_),ks=d._emscripten_bind_Vfs_ReadFile_1=(u,_)=>(ks=d._emscripten_bind_Vfs_ReadFile_1=gt.Z)(u,_),Ms=d._emscripten_bind_Vfs_GetCurrentFileSize_0=u=>(Ms=d._emscripten_bind_Vfs_GetCurrentFileSize_0=gt._)(u),Ws=d._emscripten_bind_Vfs_GetCurrentFileContent_0=u=>(Ws=d._emscripten_bind_Vfs_GetCurrentFileContent_0=gt.$)(u),la=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=u=>(la=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=gt.aa)(u),Ma=d._emscripten_bind_Vfs_WriteFile_3=(u,_,v,P)=>(Ma=d._emscripten_bind_Vfs_WriteFile_3=gt.ba)(u,_,v,P),Tn=d._emscripten_bind_Vfs___destroy___0=u=>(Tn=d._emscripten_bind_Vfs___destroy___0=gt.ca)(u),Zs=d._emscripten_bind_ReaddirContext_ReaddirContext_1=u=>(Zs=d._emscripten_bind_ReaddirContext_ReaddirContext_1=gt.da)(u),ca=d._emscripten_bind_ReaddirContext_Next_0=u=>(ca=d._emscripten_bind_ReaddirContext_Next_0=gt.ea)(u),wo=d._emscripten_bind_ReaddirContext_GetEntry_0=u=>(wo=d._emscripten_bind_ReaddirContext_GetEntry_0=gt.fa)(u),ua=d._emscripten_bind_ReaddirContext_GetStatus_0=u=>(ua=d._emscripten_bind_ReaddirContext_GetStatus_0=gt.ga)(u),al=d._emscripten_bind_ReaddirContext_GetError_0=u=>(al=d._emscripten_bind_ReaddirContext_GetError_0=gt.ha)(u),rr=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=u=>(rr=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=gt.ia)(u),Wl=d._emscripten_bind_ReaddirContext___destroy___0=u=>(Wl=d._emscripten_bind_ReaddirContext___destroy___0=gt.ja)(u),Zl=d._emscripten_bind_CreateZipContext_CreateZipContext_2=(u,_)=>(Zl=d._emscripten_bind_CreateZipContext_CreateZipContext_2=gt.ka)(u,_),da=d._emscripten_bind_CreateZipContext_AddFile_1=(u,_)=>(da=d._emscripten_bind_CreateZipContext_AddFile_1=gt.la)(u,_),Ta=d._emscripten_bind_CreateZipContext_AddDirectory_1=(u,_)=>(Ta=d._emscripten_bind_CreateZipContext_AddDirectory_1=gt.ma)(u,_),ll=d._emscripten_bind_CreateZipContext_Continue_0=u=>(ll=d._emscripten_bind_CreateZipContext_Continue_0=gt.na)(u),fs=d._emscripten_bind_CreateZipContext_GetState_0=u=>(fs=d._emscripten_bind_CreateZipContext_GetState_0=gt.oa)(u),cl=d._emscripten_bind_CreateZipContext_GetZipContent_0=u=>(cl=d._emscripten_bind_CreateZipContext_GetZipContent_0=gt.pa)(u),qs=d._emscripten_bind_CreateZipContext_GetZipSize_0=u=>(qs=d._emscripten_bind_CreateZipContext_GetZipSize_0=gt.qa)(u),ul=d._emscripten_bind_CreateZipContext_GetErrorItem_0=u=>(ul=d._emscripten_bind_CreateZipContext_GetErrorItem_0=gt.ra)(u),So=d._emscripten_bind_CreateZipContext___destroy___0=u=>(So=d._emscripten_bind_CreateZipContext___destroy___0=gt.sa)(u),Yi=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=u=>(Yi=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=gt.ta)(u),qo=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=(u,_)=>(qo=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=gt.ua)(u,_),ql=d._emscripten_bind_DeleteRecursiveContext_Continue_0=u=>(ql=d._emscripten_bind_DeleteRecursiveContext_Continue_0=gt.va)(u),Ts=d._emscripten_bind_DeleteRecursiveContext_GetState_0=u=>(Ts=d._emscripten_bind_DeleteRecursiveContext_GetState_0=gt.wa)(u),fa=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=u=>(fa=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=gt.xa)(u),Ys=d._emscripten_bind_DeleteRecursiveContext___destroy___0=u=>(Ys=d._emscripten_bind_DeleteRecursiveContext___destroy___0=gt.ya)(u),dl=d._emscripten_bind_UnzipContext_UnzipContext_4=(u,_,v,P)=>(dl=d._emscripten_bind_UnzipContext_UnzipContext_4=gt.za)(u,_,v,P),cr=d._emscripten_bind_UnzipContext_GetState_0=u=>(cr=d._emscripten_bind_UnzipContext_GetState_0=gt.Aa)(u),Aa=d._emscripten_bind_UnzipContext_Continue_0=u=>(Aa=d._emscripten_bind_UnzipContext_Continue_0=gt.Ba)(u),ro=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=u=>(ro=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=gt.Ca)(u),Nr=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=u=>(Nr=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=gt.Da)(u),ho=d._emscripten_bind_UnzipContext_GetCollisionPath_0=u=>(ho=d._emscripten_bind_UnzipContext_GetCollisionPath_0=gt.Ea)(u),ur=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=u=>(ur=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=gt.Fa)(u),Ar=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=u=>(Ar=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=gt.Ga)(u),ce=d._emscripten_bind_UnzipContext___destroy___0=u=>(ce=d._emscripten_bind_UnzipContext___destroy___0=gt.Ha)(u),p=d._emscripten_bind_PasteContext_PasteContext_3=(u,_,v)=>(p=d._emscripten_bind_PasteContext_PasteContext_3=gt.Ia)(u,_,v),g=d._emscripten_bind_PasteContext_AddFile_1=(u,_)=>(g=d._emscripten_bind_PasteContext_AddFile_1=gt.Ja)(u,_),C=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(u,_)=>(C=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=gt.Ka)(u,_),O=d._emscripten_bind_PasteContext_GetState_0=u=>(O=d._emscripten_bind_PasteContext_GetState_0=gt.La)(u),Z=d._emscripten_bind_PasteContext_Continue_0=u=>(Z=d._emscripten_bind_PasteContext_Continue_0=gt.Ma)(u),ye=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=u=>(ye=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=gt.Na)(u),xe=d._emscripten_bind_PasteContext_GetCurrentEntry_0=u=>(xe=d._emscripten_bind_PasteContext_GetCurrentEntry_0=gt.Oa)(u),Ue=d._emscripten_bind_PasteContext_GetCollisionPath_0=u=>(Ue=d._emscripten_bind_PasteContext_GetCollisionPath_0=gt.Pa)(u),xt=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=u=>(xt=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=gt.Qa)(u),Cn=d._emscripten_bind_PasteContext___destroy___0=u=>(Cn=d._emscripten_bind_PasteContext___destroy___0=gt.Ra)(u),xn=d._main=(u,_)=>(xn=d._main=gt.Sa)(u,_),Rt=u=>(Rt=gt.Ua)(u);function Zr(){function u(){_t||(_t=!0,d.calledRun=!0,!fe&&(function ot(){!d.noFSInit&&!k.init.initialized&&k.init(),k.ignorePermissions=!1,uo.init(),Ur(Ge)}(),function Et(){Ur(we)}(),ne(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),dr&&function an(){var u=xn;try{var P=u(0,0);return st(P),P}catch(X){return(u=>{if(u instanceof Wr||"unwind"==u)return Je;U(1,u)})(X)}}(),function pt(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)u=d.postRun.shift(),He.unshift(u);var u;Ur(He)}()))}tt>0||(function Oe(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)u=d.preRun.shift(),zt.unshift(u);var u;Ur(zt)}(),tt>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),u()},1)):u())}if(d.___original_main=()=>(d.___original_main=gt.Va)(),d.___start_em_js=1067786,d.___stop_em_js=1067884,W=function u(){_t||Zr(),_t||(W=u)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var dr=!0;function or(){}function fr(u){return(u||or).__cache__}function oo(u,_){var v=fr(_),P=v[u];return P||((P=Object.create((_||or).prototype)).ptr=u,v[u]=P)}d.noInitialRun&&(dr=!1),Zr(),(or.prototype=Object.create(or.prototype)).constructor=or,or.prototype.__class__=or,or.__cache__={},d.WrapperObject=or,d.getCache=fr,d.wrapPointer=oo,d.castObject=function Dc(u,_){return oo(u.ptr,_)},d.NULL=oo(0),d.destroy=function Ic(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete fr(u.__class__)[u.ptr]},d.compare=function cu(u,_){return u.ptr===_.ptr},d.getPointer=function xc(u){return u.ptr},d.getClass=function uu(u){return u.__class__};var $n={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if($n.needed){for(var u=0;u<$n.temps.length;u++)d._webidl_free($n.temps[u]);$n.temps.length=0,d._webidl_free($n.buffer),$n.buffer=0,$n.size+=$n.needed,$n.needed=0}$n.buffer||($n.size+=128,$n.buffer=d._webidl_malloc($n.size),Qe($n.buffer)),$n.pos=0},alloc(u,_){Qe($n.buffer);var X,P=u.length*_.BYTES_PER_ELEMENT;return $n.pos+(P=P+7&-8)>=$n.size?(Qe(P>0),$n.needed+=P,X=d._webidl_malloc(P),$n.temps.push(X)):(X=$n.buffer+$n.pos,$n.pos+=P),X},copy(u,_,v){switch(v>>>=0,_.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var X=0;X<u.length;X++)_[v+X]=u[X]}};function Er(u){if("string"==typeof u){var _=vr(u),v=$n.alloc(_,ae);return $n.copy(_,ae,v),v}return u}function Bo(){throw"cannot construct a VoidPtr, no constructor in IDL"}function qr(){throw"cannot construct a FileEntry, no constructor in IDL"}function sn(){this.ptr=qi(),fr(sn)[this.ptr]=this}function fo(u){$n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),this.ptr=Zs(u),fr(fo)[this.ptr]=this}function Ir(u,_){$n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),_&&"object"==typeof _&&(_=_.ptr),this.ptr=Zl(u,_),fr(Ir)[this.ptr]=this}function mo(u){u&&"object"==typeof u&&(u=u.ptr),this.ptr=Yi(u),fr(mo)[this.ptr]=this}function Pr(u,_,v,P){$n.prepare(),u&&"object"==typeof u&&(u=u.ptr),_=_&&"object"==typeof _?_.ptr:Er(_),v&&"object"==typeof v&&(v=v.ptr),P&&"object"==typeof P&&(P=P.ptr),this.ptr=dl(u,_,v,P),fr(Pr)[this.ptr]=this}function br(u,_,v){$n.prepare(),u&&"object"==typeof u&&(u=u.ptr),_=_&&"object"==typeof _?_.ptr:Er(_),v=v&&"object"==typeof v?v.ptr:Er(v),this.ptr=p(u,_,v),fr(br)[this.ptr]=this}return(Bo.prototype=Object.create(or.prototype)).constructor=Bo,Bo.prototype.__class__=Bo,Bo.__cache__={},d.VoidPtr=Bo,Bo.prototype.__destroy__=Bo.prototype.__destroy__=function(){Li(this.ptr)},(qr.prototype=Object.create(or.prototype)).constructor=qr,qr.prototype.__class__=qr,qr.__cache__={},d.FileEntry=qr,qr.prototype.GetName=qr.prototype.GetName=function(){return Xn(Wo(this.ptr))},qr.prototype.IsDirectory=qr.prototype.IsDirectory=function(){return!!Ia(this.ptr)},qr.prototype.GetSize=qr.prototype.GetSize=function(){return Zo(this.ptr)},qr.prototype.GetModifiedTS=qr.prototype.GetModifiedTS=function(){return Is(this.ptr)},qr.prototype.GetAttributes=qr.prototype.GetAttributes=function(){return tl(this.ptr)},qr.prototype.__destroy__=qr.prototype.__destroy__=function(){nl(this.ptr)},(sn.prototype=Object.create(or.prototype)).constructor=sn,sn.prototype.__class__=sn,sn.__cache__={},d.Vfs=sn,sn.prototype.Malloc=sn.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),oo(rl(this.ptr,u),Bo)},sn.prototype.Free=sn.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),Vl(this.ptr,u)},sn.prototype.Nullptr=sn.prototype.Nullptr=function(){return oo(ol(this.ptr),Bo)},sn.prototype.AllocateImage=sn.prototype.AllocateImage=function(u){u&&"object"==typeof u&&(u=u.ptr),sa(this.ptr,u)},sn.prototype.MountImage=sn.prototype.MountImage=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!zs(this.ptr,u)},sn.prototype.UnmountImage=sn.prototype.UnmountImage=function(u){u&&"object"==typeof u&&(u=u.ptr),Ul(this.ptr,u)},sn.prototype.SwitchSlot=sn.prototype.SwitchSlot=function(u){u&&"object"==typeof u&&(u=u.ptr),Se(this.ptr,u)},sn.prototype.GetPendingImageSize=sn.prototype.GetPendingImageSize=function(){return Hl(this.ptr)},sn.prototype.GetSize=sn.prototype.GetSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),$o(this.ptr,u)},sn.prototype.GetPendingImage=sn.prototype.GetPendingImage=function(){return oo(yn(this.ptr),Bo)},sn.prototype.GetImage=sn.prototype.GetImage=function(u){return u&&"object"==typeof u&&(u=u.ptr),oo(il(this.ptr,u),Bo)},sn.prototype.GetDirtyPages=sn.prototype.GetDirtyPages=function(u){return u&&"object"==typeof u&&(u=u.ptr),oo(Gl(this.ptr,u),Bo)},sn.prototype.RenameFile=sn.prototype.RenameFile=function(u,_){var v=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),_=_&&"object"==typeof _?_.ptr:Er(_),zl(v,u,_)},sn.prototype.ChmodFile=sn.prototype.ChmodFile=function(u,_,v){var P=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),_&&"object"==typeof _&&(_=_.ptr),v&&"object"==typeof v&&(v=v.ptr),mt(P,u,_,v)},sn.prototype.StatFile=sn.prototype.StatFile=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),sl(_,u)},sn.prototype.UnlinkFile=sn.prototype.UnlinkFile=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),Sr(_,u)},sn.prototype.Mkdir=sn.prototype.Mkdir=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),xs(_,u)},sn.prototype.GetEntry=sn.prototype.GetEntry=function(){return oo(xa(this.ptr),qr)},sn.prototype.BytesFree=sn.prototype.BytesFree=function(u){return u&&"object"==typeof u&&(u=u.ptr),aa(this.ptr,u)},sn.prototype.BytesTotal=sn.prototype.BytesTotal=function(u){return u&&"object"==typeof u&&(u=u.ptr),ka(this.ptr,u)},sn.prototype.ReadFile=sn.prototype.ReadFile=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),!!ks(_,u)},sn.prototype.GetCurrentFileSize=sn.prototype.GetCurrentFileSize=function(){return Ms(this.ptr)},sn.prototype.GetCurrentFileContent=sn.prototype.GetCurrentFileContent=function(){return oo(Ws(this.ptr),Bo)},sn.prototype.ReleaseCurrentFile=sn.prototype.ReleaseCurrentFile=function(){la(this.ptr)},sn.prototype.WriteFile=sn.prototype.WriteFile=function(u,_,v){var P=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),_&&"object"==typeof _&&(_=_.ptr),v&&"object"==typeof v&&(v=v.ptr),Ma(P,u,_,v)},sn.prototype.__destroy__=sn.prototype.__destroy__=function(){Tn(this.ptr)},(fo.prototype=Object.create(or.prototype)).constructor=fo,fo.prototype.__class__=fo,fo.__cache__={},d.ReaddirContext=fo,fo.prototype.Next=fo.prototype.Next=function(){return ca(this.ptr)},fo.prototype.GetEntry=fo.prototype.GetEntry=function(){return oo(wo(this.ptr),qr)},fo.prototype.GetStatus=fo.prototype.GetStatus=function(){return ua(this.ptr)},fo.prototype.GetError=fo.prototype.GetError=function(){return al(this.ptr)},fo.prototype.GetErrorDescription=fo.prototype.GetErrorDescription=function(){return Xn(rr(this.ptr))},fo.prototype.__destroy__=fo.prototype.__destroy__=function(){Wl(this.ptr)},(Ir.prototype=Object.create(or.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},d.CreateZipContext=Ir,Ir.prototype.AddFile=Ir.prototype.AddFile=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),oo(da(_,u),Ir)},Ir.prototype.AddDirectory=Ir.prototype.AddDirectory=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),oo(Ta(_,u),Ir)},Ir.prototype.Continue=Ir.prototype.Continue=function(){return ll(this.ptr)},Ir.prototype.GetState=Ir.prototype.GetState=function(){return fs(this.ptr)},Ir.prototype.GetZipContent=Ir.prototype.GetZipContent=function(){return oo(cl(this.ptr),Bo)},Ir.prototype.GetZipSize=Ir.prototype.GetZipSize=function(){return qs(this.ptr)},Ir.prototype.GetErrorItem=Ir.prototype.GetErrorItem=function(){return Xn(ul(this.ptr))},Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){So(this.ptr)},(mo.prototype=Object.create(or.prototype)).constructor=mo,mo.prototype.__class__=mo,mo.__cache__={},d.DeleteRecursiveContext=mo,mo.prototype.AddFile=mo.prototype.AddFile=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),oo(qo(_,u),mo)},mo.prototype.Continue=mo.prototype.Continue=function(){return ql(this.ptr)},mo.prototype.GetState=mo.prototype.GetState=function(){return Ts(this.ptr)},mo.prototype.GetFailingPath=mo.prototype.GetFailingPath=function(){return Xn(fa(this.ptr))},mo.prototype.__destroy__=mo.prototype.__destroy__=function(){Ys(this.ptr)},(Pr.prototype=Object.create(or.prototype)).constructor=Pr,Pr.prototype.__class__=Pr,Pr.__cache__={},d.UnzipContext=Pr,Pr.prototype.GetState=Pr.prototype.GetState=function(){return cr(this.ptr)},Pr.prototype.Continue=Pr.prototype.Continue=function(){return Aa(this.ptr)},Pr.prototype.ContinueWithOverwrite=Pr.prototype.ContinueWithOverwrite=function(){return ro(this.ptr)},Pr.prototype.GetCurrentEntry=Pr.prototype.GetCurrentEntry=function(){return Xn(Nr(this.ptr))},Pr.prototype.GetCollisionPath=Pr.prototype.GetCollisionPath=function(){return Xn(ho(this.ptr))},Pr.prototype.GetEntriesTotal=Pr.prototype.GetEntriesTotal=function(){return ur(this.ptr)},Pr.prototype.GetEntriesSuccess=Pr.prototype.GetEntriesSuccess=function(){return Ar(this.ptr)},Pr.prototype.__destroy__=Pr.prototype.__destroy__=function(){ce(this.ptr)},(br.prototype=Object.create(or.prototype)).constructor=br,br.prototype.__class__=br,br.__cache__={},d.PasteContext=br,br.prototype.AddFile=br.prototype.AddFile=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Er(u),oo(g(_,u),br)},br.prototype.SetDeleteAfterCopy=br.prototype.SetDeleteAfterCopy=function(u){return u&&"object"==typeof u&&(u=u.ptr),oo(C(this.ptr,u),br)},br.prototype.GetState=br.prototype.GetState=function(){return O(this.ptr)},br.prototype.Continue=br.prototype.Continue=function(){return Z(this.ptr)},br.prototype.ContinueWithOverwrite=br.prototype.ContinueWithOverwrite=function(){return ye(this.ptr)},br.prototype.GetCurrentEntry=br.prototype.GetCurrentEntry=function(){return Xn(xe(this.ptr))},br.prototype.GetCollisionPath=br.prototype.GetCollisionPath=function(){return Xn(Ue(this.ptr))},br.prototype.GetEntriesSuccess=br.prototype.GetEntriesSuccess=function(){return xt(this.ptr)},br.prototype.__destroy__=br.prototype.__destroy__=function(){Cn(this.ptr)},D.ready});ke.exports=Le},2440:(ke,Le,T)=>{"use strict";T.d(Le,{c:()=>Pe});var D=T(5821),d=T(6481);let ne;const H=ue=>ue.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K=ue=>(void 0===ne&&(ne=void 0===ue.style.animationName&&void 0!==ue.style.webkitAnimationName?"-webkit-":""),ne),F=(ue,V,q)=>{const de=V.startsWith("animation")?K(ue):"";ue.style.setProperty(de+V,q)},U=(ue,V)=>{const q=V.startsWith("animation")?K(ue):"";ue.style.removeProperty(q+V)},z=[],Re=(ue=[],V)=>{if(void 0!==V){const q=Array.isArray(V)?V:[V];return[...ue,...q]}return ue},Pe=ue=>{let V,q,de,ve,fe,Je,ze,we,He,et,jt,Et,pt,Qe=[],ae=[],pe=[],rt=!1,N={},j=[],$e=[],ft={},It=0,zt=!1,Ge=!1,Vt=!0,Oe=!1,ot=!0,Ie=!1;const We=ue,qe=[],tt=[],ht=[],W=[],wn=[],Jt=[],In=[],_n=[],zr=[],Cr=[],lr="function"==typeof AnimationEffect||void 0!==D.w&&"function"==typeof D.w.AnimationEffect,_r="function"==typeof Element&&"function"==typeof Element.prototype.animate&&lr,No=()=>Cr,Wr=(E,B)=>((B?.oneTimeCallback?tt:qe).push({c:E,o:B}),pt),Tr=()=>{if(_r)Cr.forEach(E=>{E.cancel()}),Cr.length=0;else{const E=ht.slice();(0,d.r)(()=>{E.forEach(B=>{U(B,"animation-name"),U(B,"animation-duration"),U(B,"animation-timing-function"),U(B,"animation-iteration-count"),U(B,"animation-delay"),U(B,"animation-play-state"),U(B,"animation-fill-mode"),U(B,"animation-direction")})})}},eo=()=>{wn.forEach(E=>{E?.parentNode&&E.parentNode.removeChild(E)}),wn.length=0},yr=()=>void 0!==fe?fe:ze?ze.getFill():"both",Pt=()=>void 0!==He?He:void 0!==Je?Je:ze?ze.getDirection():"normal",cn=()=>zt?"linear":void 0!==de?de:ze?ze.getEasing():"linear",en=()=>Ge?0:void 0!==et?et:void 0!==q?q:ze?ze.getDuration():0,To=()=>void 0!==ve?ve:ze?ze.getIterations():1,bo=()=>void 0!==jt?jt:void 0!==V?V:ze?ze.getDelay():0,tr=()=>{0!==It&&(It--,0===It&&((()=>{Ss(),_n.forEach(be=>be()),zr.forEach(be=>be());const E=Vt?1:0,B=j,Q=$e,ge=ft;ht.forEach(be=>{const Ne=be.classList;B.forEach(ct=>Ne.add(ct)),Q.forEach(ct=>Ne.remove(ct));for(const ct in ge)ge.hasOwnProperty(ct)&&F(be,ct,ge[ct])}),qe.forEach(be=>be.c(E,pt)),tt.forEach(be=>be.c(E,pt)),tt.length=0,ot=!0,Vt&&(Oe=!0),Vt=!0})(),ze&&ze.animationFinish()))},Lo=(E=!0)=>{eo();const B=(ue=>(ue.forEach(V=>{for(const q in V)if(V.hasOwnProperty(q)){const de=V[q];if("easing"===q)V["animation-timing-function"]=de,delete V[q];else{const ve=H(q);ve!==q&&(V[ve]=de,delete V[q])}}}),ue))(Qe);ht.forEach(Q=>{if(B.length>0){const ge=((ue=[])=>ue.map(V=>{const q=V.offset,de=[];for(const ve in V)V.hasOwnProperty(ve)&&"offset"!==ve&&de.push(`${ve}: ${V[ve]};`);return`${100*q}% { ${de.join(" ")} }`}).join(" "))(B);Et=void 0!==ue?ue:(ue=>{let V=z.indexOf(ue);return V<0&&(V=z.push(ue)-1),`ion-animation-${V}`})(ge);const be=((ue,V,q)=>{var de;const ve=(ue=>{const V=void 0!==ue.getRootNode?ue.getRootNode():ue;return V.head||V})(q),fe=K(q),Je=ve.querySelector("#"+ue);if(Je)return Je;const Qe=(null!==(de=q.ownerDocument)&&void 0!==de?de:document).createElement("style");return Qe.id=ue,Qe.textContent=`@${fe}keyframes ${ue} { ${V} } @${fe}keyframes ${ue}-alt { ${V} }`,ve.appendChild(Qe),Qe})(Et,ge,Q);wn.push(be),F(Q,"animation-duration",`${en()}ms`),F(Q,"animation-timing-function",cn()),F(Q,"animation-delay",`${bo()}ms`),F(Q,"animation-fill-mode",yr()),F(Q,"animation-direction",Pt());const Ne=To()===1/0?"infinite":To().toString();F(Q,"animation-iteration-count",Ne),F(Q,"animation-play-state","paused"),E&&F(Q,"animation-name",`${be.id}-alt`),(0,d.r)(()=>{F(Q,"animation-name",be.id||null)})}})},Ii=(E=!0)=>{(()=>{Jt.forEach(ge=>ge()),In.forEach(ge=>ge());const E=ae,B=pe,Q=N;ht.forEach(ge=>{const be=ge.classList;E.forEach(Ne=>be.add(Ne)),B.forEach(Ne=>be.remove(Ne));for(const Ne in Q)Q.hasOwnProperty(Ne)&&F(ge,Ne,Q[Ne])})})(),Qe.length>0&&(_r?(ht.forEach(E=>{const B=E.animate(Qe,{id:We,delay:bo(),duration:en(),easing:cn(),iterations:To(),fill:yr(),direction:Pt()});B.pause(),Cr.push(B)}),Cr.length>0&&(Cr[0].onfinish=()=>{tr()})):Lo(E)),rt=!0},ci=E=>{if(E=Math.min(Math.max(E,0),.9999),_r)Cr.forEach(B=>{B.currentTime=B.effect.getComputedTiming().delay+en()*E,B.pause()});else{const B=`-${en()*E}ms`;ht.forEach(Q=>{Qe.length>0&&(F(Q,"animation-delay",B),F(Q,"animation-play-state","paused"))})}},ws=E=>{Cr.forEach(B=>{B.effect.updateTiming({delay:bo(),duration:en(),easing:cn(),iterations:To(),fill:yr(),direction:Pt()})}),void 0!==E&&ci(E)},xi=(E=!0,B)=>{(0,d.r)(()=>{ht.forEach(Q=>{F(Q,"animation-name",Et||null),F(Q,"animation-duration",`${en()}ms`),F(Q,"animation-timing-function",cn()),F(Q,"animation-delay",void 0!==B?`-${B*en()}ms`:`${bo()}ms`),F(Q,"animation-fill-mode",yr()||null),F(Q,"animation-direction",Pt()||null);const ge=To()===1/0?"infinite":To().toString();F(Q,"animation-iteration-count",ge),E&&F(Q,"animation-name",`${Et}-alt`),(0,d.r)(()=>{F(Q,"animation-name",Et||null)})})})},no=(E=!1,B=!0,Q)=>(E&&W.forEach(ge=>{ge.update(E,B,Q)}),_r?ws(Q):xi(B,Q),pt),Wi=()=>{rt&&(_r?Cr.forEach(E=>{E.pause()}):ht.forEach(E=>{F(E,"animation-play-state","paused")}),Ie=!0)},ki=()=>{we=void 0,tr()},Ss=()=>{we&&clearTimeout(we)},nr=E=>new Promise(B=>{E?.sync&&(Ge=!0,Wr(()=>Ge=!1,{oneTimeCallback:!0})),rt||Ii(),Oe&&(_r?(ci(0),ws()):xi(),Oe=!1),ot&&(It=W.length+1,ot=!1),Wr(()=>B(),{oneTimeCallback:!0}),W.forEach(Q=>{Q.play()}),_r?(Cr.forEach(E=>{E.play()}),(0===Qe.length||0===ht.length)&&tr()):(()=>{if(Ss(),(0,d.r)(()=>{ht.forEach(E=>{Qe.length>0&&F(E,"animation-play-state","running")})}),0===Qe.length||0===ht.length)tr();else{const E=bo()||0,B=en()||0,Q=To()||1;isFinite(Q)&&(we=setTimeout(ki,E+B*Q+100)),((ue,V)=>{let q;const de={passive:!0},fe=Je=>{ue===Je.target&&(q&&q(),Ss(),(0,d.r)(()=>{ht.forEach(E=>{U(E,"animation-duration"),U(E,"animation-delay"),U(E,"animation-play-state")}),(0,d.r)(tr)}))};ue&&(ue.addEventListener("webkitAnimationEnd",fe,de),ue.addEventListener("animationend",fe,de),q=()=>{ue.removeEventListener("webkitAnimationEnd",fe,de),ue.removeEventListener("animationend",fe,de)})})(ht[0])}})(),Ie=!1}),un=(E,B)=>{const Q=Qe[0];return void 0===Q||void 0!==Q.offset&&0!==Q.offset?Qe=[{offset:0,[E]:B},...Qe]:Q[E]=B,pt};return pt={parentAnimation:ze,elements:ht,childAnimations:W,id:We,animationFinish:tr,from:un,to:(E,B)=>{const Q=Qe[Qe.length-1];return void 0===Q||void 0!==Q.offset&&1!==Q.offset?Qe=[...Qe,{offset:1,[E]:B}]:Q[E]=B,pt},fromTo:(E,B,Q)=>un(E,B).to(E,Q),parent:E=>(ze=E,pt),play:nr,pause:()=>(W.forEach(E=>{E.pause()}),Wi(),pt),stop:()=>{W.forEach(E=>{E.stop()}),rt&&(Tr(),rt=!1),zt=!1,Ge=!1,ot=!0,He=void 0,et=void 0,jt=void 0,It=0,Oe=!1,Vt=!0,Ie=!1},destroy:E=>(W.forEach(B=>{B.destroy(E)}),(E=>{Tr(),E&&eo()})(E),ht.length=0,W.length=0,Qe.length=0,qe.length=0,tt.length=0,rt=!1,ot=!0,pt),keyframes:E=>{const B=Qe!==E;return Qe=E,B&&(E=>{_r?No().forEach(B=>{if(B.effect.setKeyframes)B.effect.setKeyframes(E);else{const Q=new KeyframeEffect(B.effect.target,E,B.effect.getTiming());B.effect=Q}}):Lo()})(Qe),pt},addAnimation:E=>{if(null!=E)if(Array.isArray(E))for(const B of E)B.parent(pt),W.push(B);else E.parent(pt),W.push(E);return pt},addElement:E=>{if(null!=E)if(1===E.nodeType)ht.push(E);else if(E.length>=0)for(let B=0;B<E.length;B++)ht.push(E[B]);else console.error("Invalid addElement value");return pt},update:no,fill:E=>(fe=E,no(!0),pt),direction:E=>(Je=E,no(!0),pt),iterations:E=>(ve=E,no(!0),pt),duration:E=>(!_r&&0===E&&(E=1),q=E,no(!0),pt),easing:E=>(de=E,no(!0),pt),delay:E=>(V=E,no(!0),pt),getWebAnimations:No,getKeyframes:()=>Qe,getFill:yr,getDirection:Pt,getDelay:bo,getIterations:To,getEasing:cn,getDuration:en,afterAddRead:E=>(_n.push(E),pt),afterAddWrite:E=>(zr.push(E),pt),afterClearStyles:(E=[])=>{for(const B of E)ft[B]="";return pt},afterStyles:(E={})=>(ft=E,pt),afterRemoveClass:E=>($e=Re($e,E),pt),afterAddClass:E=>(j=Re(j,E),pt),beforeAddRead:E=>(Jt.push(E),pt),beforeAddWrite:E=>(In.push(E),pt),beforeClearStyles:(E=[])=>{for(const B of E)N[B]="";return pt},beforeStyles:(E={})=>(N=E,pt),beforeRemoveClass:E=>(pe=Re(pe,E),pt),beforeAddClass:E=>(ae=Re(ae,E),pt),onFinish:Wr,isRunning:()=>0!==It&&!Ie,progressStart:(E=!1,B)=>(W.forEach(Q=>{Q.progressStart(E,B)}),Wi(),zt=E,rt||Ii(),no(!1,!0,B),pt),progressStep:E=>(W.forEach(B=>{B.progressStep(E)}),ci(E),pt),progressEnd:(E,B,Q)=>(zt=!1,W.forEach(ge=>{ge.progressEnd(E,B,Q)}),void 0!==Q&&(et=Q),Oe=!1,Vt=!0,0===E?(He="reverse"===Pt()?"normal":"reverse","reverse"===He&&(Vt=!1),_r?(no(),ci(1-B)):(jt=(1-B)*en()*-1,no(!1,!1))):1===E&&(_r?(no(),ci(B)):(jt=B*en()*-1,no(!1,!1))),void 0!==E&&(Wr(()=>{et=void 0,He=void 0,jt=void 0},{oneTimeCallback:!0}),ze||nr()),pt)}}},7152:(ke,Le,T)=>{"use strict";T.d(Le,{E:()=>J,I:()=>F,a:()=>D,s:()=>U});const D=z=>{try{if(z instanceof F)return z.value;if(!re()||"string"!=typeof z||""===z)return z;if(z.includes("onload="))return"";const $=document.createDocumentFragment(),L=document.createElement("div");$.appendChild(L),L.innerHTML=z,K.forEach(ue=>{const V=$.querySelectorAll(ue);for(let q=V.length-1;q>=0;q--){const de=V[q];de.parentNode?de.parentNode.removeChild(de):$.removeChild(de);const ve=ne(de);for(let fe=0;fe<ve.length;fe++)d(ve[fe])}});const G=ne($);for(let ue=0;ue<G.length;ue++)d(G[ue]);const Re=document.createElement("div");Re.appendChild($);const Pe=Re.querySelector("div");return null!==Pe?Pe.innerHTML:Re.innerHTML}catch($){return console.error($),""}},d=z=>{if(z.nodeType&&1!==z.nodeType)return;if(typeof NamedNodeMap<"u"&&!(z.attributes instanceof NamedNodeMap))return void z.remove();for(let L=z.attributes.length-1;L>=0;L--){const G=z.attributes.item(L),Re=G.name;if(!H.includes(Re.toLowerCase())){z.removeAttribute(Re);continue}const Pe=G.value,ue=z[Re];(null!=Pe&&Pe.toLowerCase().includes("javascript:")||null!=ue&&ue.toLowerCase().includes("javascript:"))&&z.removeAttribute(Re)}const $=ne(z);for(let L=0;L<$.length;L++)d($[L])},ne=z=>null!=z.children?z.children:z.childNodes,re=()=>{var z;const $=window,L=null===(z=$?.Ionic)||void 0===z?void 0:z.config;return!L||(L.get?L.get("sanitizerEnabled",!0):!0===L.sanitizerEnabled||void 0===L.sanitizerEnabled)},H=["class","id","href","src","name","slot"],K=["script","style","iframe","meta","link","object","embed"];class F{constructor($){this.value=$}}const U=z=>{const $=window,L=$.Ionic;if(!L||!L.config||"Object"===L.config.constructor.name)return $.Ionic=$.Ionic||{},$.Ionic.config=Object.assign(Object.assign({},$.Ionic.config),z),$.Ionic.config},J=!1},2847:(ke,Le,T)=>{"use strict";T.d(Le,{C:()=>H,a:()=>ne,d:()=>re});var D=T(8046),d=T(6481);const ne=function(){var K=(0,D.Z)(function*(F,U,le,J,z,$){var L;if(F)return F.attachViewToDom(U,le,z,J);if(!($||"string"==typeof le||le instanceof HTMLElement))throw new Error("framework delegate is missing");const G="string"==typeof le?null===(L=U.ownerDocument)||void 0===L?void 0:L.createElement(le):le;return J&&J.forEach(Re=>G.classList.add(Re)),z&&Object.assign(G,z),U.appendChild(G),yield new Promise(Re=>(0,d.c)(G,Re)),G});return function(U,le,J,z,$,L){return K.apply(this,arguments)}}(),re=(K,F)=>{if(F){if(K)return K.removeViewFromDom(F.parentElement,F);F.remove()}return Promise.resolve()},H=()=>{let K,F;return{attachViewToDom:function(){var J=(0,D.Z)(function*(z,$,L={},G=[]){var Re,Pe;if(K=z,$){const V="string"==typeof $?null===(Re=K.ownerDocument)||void 0===Re?void 0:Re.createElement($):$;G.forEach(q=>V.classList.add(q)),Object.assign(V,L),K.appendChild(V),yield new Promise(q=>(0,d.c)(V,q))}else if(K.children.length>0&&("ION-MODAL"===K.tagName||"ION-POPOVER"===K.tagName)&&!K.children[0].classList.contains("ion-delegate-host")){const q=null===(Pe=K.ownerDocument)||void 0===Pe?void 0:Pe.createElement("div");q.classList.add("ion-delegate-host"),G.forEach(de=>q.classList.add(de)),q.append(...K.children),K.appendChild(q)}const ue=document.querySelector("ion-app")||document.body;return F=document.createComment("ionic teleport"),K.parentNode.insertBefore(F,K),ue.appendChild(K),K});return function($,L){return J.apply(this,arguments)}}(),removeViewFromDom:()=>(K&&F&&(F.parentNode.insertBefore(K,F),F.remove()),Promise.resolve())}}},1030:(ke,Le,T)=>{"use strict";T.d(Le,{G:()=>H});class d{constructor(F,U,le,J,z){this.id=U,this.name=le,this.disableScroll=z,this.priority=1e6*J+U,this.ctrl=F}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const F=this.ctrl.capture(this.name,this.id,this.priority);return F&&this.disableScroll&&this.ctrl.disableScroll(this.id),F}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ne{constructor(F,U,le,J){this.id=U,this.disable=le,this.disableScroll=J,this.ctrl=F}block(){if(this.ctrl){if(this.disable)for(const F of this.disable)this.ctrl.disableGesture(F,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const F of this.disable)this.ctrl.enableGesture(F,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const re="backdrop-no-scroll",H=new class D{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(F){var U;return new d(this,this.newID(),F.name,null!==(U=F.priority)&&void 0!==U?U:0,!!F.disableScroll)}createBlocker(F={}){return new ne(this,this.newID(),F.disable,!!F.disableScroll)}start(F,U,le){return this.canStart(F)?(this.requestedStart.set(U,le),!0):(this.requestedStart.delete(U),!1)}capture(F,U,le){if(!this.start(F,U,le))return!1;const J=this.requestedStart;let z=-1e4;if(J.forEach($=>{z=Math.max(z,$)}),z===le){this.capturedId=U,J.clear();const $=new CustomEvent("ionGestureCaptured",{detail:{gestureName:F}});return document.dispatchEvent($),!0}return J.delete(U),!1}release(F){this.requestedStart.delete(F),this.capturedId===F&&(this.capturedId=void 0)}disableGesture(F,U){let le=this.disabledGestures.get(F);void 0===le&&(le=new Set,this.disabledGestures.set(F,le)),le.add(U)}enableGesture(F,U){const le=this.disabledGestures.get(F);void 0!==le&&le.delete(U)}disableScroll(F){this.disabledScroll.add(F),1===this.disabledScroll.size&&document.body.classList.add(re)}enableScroll(F){this.disabledScroll.delete(F),0===this.disabledScroll.size&&document.body.classList.remove(re)}canStart(F){return!(void 0!==this.capturedId||this.isDisabled(F))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(F){const U=this.disabledGestures.get(F);return!!(U&&U.size>0)}newID(){return this.gestureId++,this.gestureId}}},922:(ke,Le,T)=>{"use strict";T.r(Le),T.d(Le,{MENU_BACK_BUTTON_PRIORITY:()=>H,OVERLAY_BACK_BUTTON_PRIORITY:()=>re,blockHardwareBackButton:()=>d,startHardwareBackButton:()=>ne});var D=T(8046);const d=()=>{document.addEventListener("backbutton",()=>{})},ne=()=>{const K=document;let F=!1;K.addEventListener("backbutton",()=>{if(F)return;let U=0,le=[];const J=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(L,G){le.push({priority:L,handler:G,id:U++})}}});K.dispatchEvent(J);const z=function(){var L=(0,D.Z)(function*(G){try{if(G?.handler){const Re=G.handler($);null!=Re&&(yield Re)}}catch(Re){console.error(Re)}});return function(Re){return L.apply(this,arguments)}}(),$=()=>{if(le.length>0){let L={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};le.forEach(G=>{G.priority>=L.priority&&(L=G)}),F=!0,le=le.filter(G=>G.id!==L.id),z(L).then(()=>F=!1)}};$()})},re=100,H=99},6481:(ke,Le,T)=>{"use strict";T.d(Le,{a:()=>U,b:()=>le,c:()=>ne,d:()=>Pe,e:()=>Re,f:()=>G,g:()=>J,h:()=>L,i:()=>F,j:()=>fe,k:()=>H,l:()=>ue,m:()=>re,n:()=>$,o:()=>V,p:()=>ve,q:()=>Je,r:()=>z,s:()=>Qe,t:()=>D,u:()=>q,v:()=>de});const D=(ae,pe=0)=>new Promise(rt=>{d(ae,pe,rt)}),d=(ae,pe=0,rt)=>{let ze,N;const j={passive:!0},ft=()=>{ze&&ze()},It=zt=>{(void 0===zt||ae===zt.target)&&(ft(),rt(zt))};return ae&&(ae.addEventListener("webkitTransitionEnd",It,j),ae.addEventListener("transitionend",It,j),N=setTimeout(It,pe+500),ze=()=>{N&&(clearTimeout(N),N=void 0),ae.removeEventListener("webkitTransitionEnd",It,j),ae.removeEventListener("transitionend",It,j)}),ft},ne=(ae,pe)=>{ae.componentOnReady?ae.componentOnReady().then(rt=>pe(rt)):z(()=>pe(ae))},re=ae=>void 0!==ae.componentOnReady,H=(ae,pe=[])=>{const rt={};return pe.forEach(ze=>{ae.hasAttribute(ze)&&(null!==ae.getAttribute(ze)&&(rt[ze]=ae.getAttribute(ze)),ae.removeAttribute(ze))}),rt},K=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],F=(ae,pe)=>{let rt=K;return pe&&pe.length>0&&(rt=rt.filter(ze=>!pe.includes(ze))),H(ae,rt)},U=(ae,pe,rt,ze)=>{var N;if(typeof window<"u"){const j=window,$e=null===(N=j?.Ionic)||void 0===N?void 0:N.config;if($e){const ft=$e.get("_ael");if(ft)return ft(ae,pe,rt,ze);if($e._ael)return $e._ael(ae,pe,rt,ze)}}return ae.addEventListener(pe,rt,ze)},le=(ae,pe,rt,ze)=>{var N;if(typeof window<"u"){const j=window,$e=null===(N=j?.Ionic)||void 0===N?void 0:N.config;if($e){const ft=$e.get("_rel");if(ft)return ft(ae,pe,rt,ze);if($e._rel)return $e._rel(ae,pe,rt,ze)}}return ae.removeEventListener(pe,rt,ze)},J=(ae,pe=ae)=>ae.shadowRoot||pe,z=ae=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ae):"function"==typeof requestAnimationFrame?requestAnimationFrame(ae):setTimeout(ae),$=ae=>!!ae.shadowRoot&&!!ae.attachShadow,L=ae=>{const pe=ae.closest("ion-item");return pe?pe.querySelector("ion-label"):null},G=ae=>{if(ae.focus(),ae.classList.contains("ion-focusable")){const pe=ae.closest("ion-app");pe&&pe.setFocus([ae])}},Re=(ae,pe)=>{let rt;const ze=ae.getAttribute("aria-labelledby"),N=ae.id;let j=null!==ze&&""!==ze.trim()?ze:pe+"-lbl",$e=null!==ze&&""!==ze.trim()?document.getElementById(ze):L(ae);return $e?(null===ze&&($e.id=j),rt=$e.textContent,$e.setAttribute("aria-hidden","true")):""!==N.trim()&&($e=document.querySelector(`label[for="${N}"]`),$e&&(""!==$e.id?j=$e.id:$e.id=j=`${N}-lbl`,rt=$e.textContent)),{label:$e,labelId:j,labelText:rt}},Pe=(ae,pe,rt,ze,N)=>{if(ae||$(pe)){let j=pe.querySelector("input.aux-input");j||(j=pe.ownerDocument.createElement("input"),j.type="hidden",j.classList.add("aux-input"),pe.appendChild(j)),j.disabled=N,j.name=rt,j.value=ze||""}},ue=(ae,pe,rt)=>Math.max(ae,Math.min(pe,rt)),V=(ae,pe)=>{if(!ae){const rt="ASSERT: "+pe;throw console.error(rt),new Error(rt)}},q=ae=>ae.timeStamp||Date.now(),de=ae=>{if(ae){const pe=ae.changedTouches;if(pe&&pe.length>0){const rt=pe[0];return{x:rt.clientX,y:rt.clientY}}if(void 0!==ae.pageX)return{x:ae.pageX,y:ae.pageY}}return{x:0,y:0}},ve=ae=>{const pe="rtl"===document.dir;switch(ae){case"start":return pe;case"end":return!pe;default:throw new Error(`"${ae}" is not a valid value for [side]. Use "start" or "end" instead.`)}},fe=(ae,pe)=>{const rt=ae._original||ae;return{_original:ae,emit:Je(rt.emit.bind(rt),pe)}},Je=(ae,pe=0)=>{let rt;return(...ze)=>{clearTimeout(rt),rt=setTimeout(ae,pe,...ze)}},Qe=(ae,pe)=>{if(ae??(ae={}),pe??(pe={}),ae===pe)return!0;const rt=Object.keys(ae);if(rt.length!==Object.keys(pe).length)return!1;for(const ze of rt)if(!(ze in pe)||ae[ze]!==pe[ze])return!1;return!0}},1294:(ke,Le,T)=>{"use strict";T.d(Le,{a:()=>d,b:()=>ne,p:()=>D});const D=(re,...H)=>console.warn(`[Ionic Warning]: ${re}`,...H),d=(re,...H)=>console.error(`[Ionic Error]: ${re}`,...H),ne=(re,...H)=>console.error(`<${re.tagName.toLowerCase()}> must be used inside ${H.join(" or ")}.`)},2704:(ke,Le,T)=>{"use strict";T.d(Le,{L:()=>re,a:()=>H,b:()=>K,c:()=>F,d:()=>U,e:()=>ae,g:()=>ze,l:()=>Je,s:()=>pe,t:()=>z,w:()=>Qe});var D=T(8046),d=T(6389),ne=T(6481);const re="ionViewWillEnter",H="ionViewDidEnter",K="ionViewWillLeave",F="ionViewDidLeave",U="ionViewWillUnload",z=N=>new Promise((j,$e)=>{(0,d.w)(()=>{$(N),L(N).then(ft=>{ft.animation&&ft.animation.destroy(),G(N),j(ft)},ft=>{G(N),$e(ft)})})}),$=N=>{const j=N.enteringEl,$e=N.leavingEl;rt(j,$e,N.direction),N.showGoBack?j.classList.add("can-go-back"):j.classList.remove("can-go-back"),pe(j,!1),j.style.setProperty("pointer-events","none"),$e&&(pe($e,!1),$e.style.setProperty("pointer-events","none"))},L=function(){var N=(0,D.Z)(function*(j){const $e=yield Re(j);return $e&&d.B.isBrowser?Pe($e,j):ue(j)});return function($e){return N.apply(this,arguments)}}(),G=N=>{const j=N.enteringEl,$e=N.leavingEl;j.classList.remove("ion-page-invisible"),j.style.removeProperty("pointer-events"),void 0!==$e&&($e.classList.remove("ion-page-invisible"),$e.style.removeProperty("pointer-events"))},Re=function(){var N=(0,D.Z)(function*(j){return j.leavingEl&&j.animated&&0!==j.duration?j.animationBuilder?j.animationBuilder:"ios"===j.mode?(yield Promise.resolve().then(T.bind(T,3083))).iosTransitionAnimation:(yield Promise.resolve().then(T.bind(T,9944))).mdTransitionAnimation:void 0});return function($e){return N.apply(this,arguments)}}(),Pe=function(){var N=(0,D.Z)(function*(j,$e){yield V($e,!0);const ft=j($e.baseEl,$e);ve($e.enteringEl,$e.leavingEl);const It=yield de(ft,$e);return $e.progressCallback&&$e.progressCallback(void 0),It&&fe($e.enteringEl,$e.leavingEl),{hasCompleted:It,animation:ft}});return function($e,ft){return N.apply(this,arguments)}}(),ue=function(){var N=(0,D.Z)(function*(j){const $e=j.enteringEl,ft=j.leavingEl;return yield V(j,!1),ve($e,ft),fe($e,ft),{hasCompleted:!0}});return function($e){return N.apply(this,arguments)}}(),V=function(){var N=(0,D.Z)(function*(j,$e){(void 0!==j.deepWait?j.deepWait:$e)&&(yield Promise.all([ae(j.enteringEl),ae(j.leavingEl)])),yield q(j.viewIsReady,j.enteringEl)});return function($e,ft){return N.apply(this,arguments)}}(),q=function(){var N=(0,D.Z)(function*(j,$e){j&&(yield j($e))});return function($e,ft){return N.apply(this,arguments)}}(),de=(N,j)=>{const $e=j.progressCallback,ft=new Promise(It=>{N.onFinish(zt=>It(1===zt))});return $e?(N.progressStart(!0),$e(N)):N.play(),ft},ve=(N,j)=>{Je(j,K),Je(N,re)},fe=(N,j)=>{Je(N,H),Je(j,F)},Je=(N,j)=>{if(N){const $e=new CustomEvent(j,{bubbles:!1,cancelable:!1});N.dispatchEvent($e)}},Qe=()=>new Promise(N=>(0,ne.r)(()=>(0,ne.r)(()=>N()))),ae=function(){var N=(0,D.Z)(function*(j){const $e=j;if($e){if(null!=$e.componentOnReady){if(null!=(yield $e.componentOnReady()))return}else if(null!=$e.__registerHost)return void(yield new Promise(It=>(0,ne.r)(It)));yield Promise.all(Array.from($e.children).map(ae))}});return function($e){return N.apply(this,arguments)}}(),pe=(N,j)=>{j?(N.setAttribute("aria-hidden","true"),N.classList.add("ion-page-hidden")):(N.hidden=!1,N.removeAttribute("aria-hidden"),N.classList.remove("ion-page-hidden"))},rt=(N,j,$e)=>{void 0!==N&&(N.style.zIndex="back"===$e?"99":"101"),void 0!==j&&(j.style.zIndex="100")},ze=N=>N.classList.contains("ion-page")?N:N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||N},5821:(ke,Le,T)=>{"use strict";T.d(Le,{d:()=>d,w:()=>D});const D=typeof window<"u"?window:void 0,d=typeof document<"u"?document:void 0},6389:(ke,Le,T)=>{"use strict";T.d(Le,{B:()=>z,H:()=>ft,a:()=>Wi,b:()=>Ao,c:()=>Oe,d:()=>Ie,e:()=>un,f:()=>pt,g:()=>ot,h:()=>j,i:()=>uo,j:()=>$,r:()=>tr,w:()=>Ds});var D=T(8046);let ne,re,H,K=!1,F=!1,U=!1,le=!1,J=!1;const z={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},$=R=>{const E=new URL(R,Gn.$resourcesUrl$);return E.origin!==zo.location.origin?E.href:E.pathname},q="s-id",de="sty-id",Je="http://www.w3.org/1999/xlink",Qe={},ze=R=>"object"==(R=typeof R)||"function"===R;function N(R){var E,B,Q;return null!==(Q=null===(B=null===(E=R.head)||void 0===E?void 0:E.querySelector('meta[name="csp-nonce"]'))||void 0===B?void 0:B.getAttribute("content"))&&void 0!==Q?Q:void 0}const j=(R,E,...B)=>{let Q=null,ge=null,be=null,Ne=!1,ct=!1;const st=[],Ke=fn=>{for(let vn=0;vn<fn.length;vn++)Q=fn[vn],Array.isArray(Q)?Ke(Q):null!=Q&&"boolean"!=typeof Q&&((Ne="function"!=typeof R&&!ze(Q))&&(Q=String(Q)),Ne&&ct?st[st.length-1].$text$+=Q:st.push(Ne?$e(null,Q):Q),ct=Ne)};if(Ke(B),E){E.key&&(ge=E.key),E.name&&(be=E.name);{const fn=E.className||E.class;fn&&(E.class="object"!=typeof fn?fn:Object.keys(fn).filter(vn=>fn[vn]).join(" "))}}if("function"==typeof R)return R(null===E?{}:E,st,zt);const ut=$e(R,null);return ut.$attrs$=E,st.length>0&&(ut.$children$=st),ut.$key$=ge,ut.$name$=be,ut},$e=(R,E)=>({$flags$:0,$tag$:R,$text$:E,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ft={},zt={forEach:(R,E)=>R.map(Ge).forEach(E),map:(R,E)=>R.map(Ge).map(E).map(we)},Ge=R=>({vattrs:R.$attrs$,vchildren:R.$children$,vkey:R.$key$,vname:R.$name$,vtag:R.$tag$,vtext:R.$text$}),we=R=>{if("function"==typeof R.vtag){const B=Object.assign({},R.vattrs);return R.vkey&&(B.key=R.vkey),R.vname&&(B.name=R.vname),j(R.vtag,B,...R.vchildren||[])}const E=$e(R.vtag,R.vtext);return E.$attrs$=R.vattrs,E.$children$=R.vchildren,E.$key$=R.vkey,E.$name$=R.vname,E},et=(R,E,B,Q,ge,be,Ne)=>{let ct,st,Ke,ut;if(1===be.nodeType){for(ct=be.getAttribute("c-id"),ct&&(st=ct.split("."),(st[0]===Ne||"0"===st[0])&&(Ke={$flags$:0,$hostId$:st[0],$nodeId$:st[1],$depth$:st[2],$index$:st[3],$tag$:be.tagName.toLowerCase(),$elm$:be,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},E.push(Ke),be.removeAttribute("c-id"),R.$children$||(R.$children$=[]),R.$children$[Ke.$index$]=Ke,R=Ke,Q&&"0"===Ke.$depth$&&(Q[Ke.$index$]=Ke.$elm$))),ut=be.childNodes.length-1;ut>=0;ut--)et(R,E,B,Q,ge,be.childNodes[ut],Ne);if(be.shadowRoot)for(ut=be.shadowRoot.childNodes.length-1;ut>=0;ut--)et(R,E,B,Q,ge,be.shadowRoot.childNodes[ut],Ne)}else if(8===be.nodeType)st=be.nodeValue.split("."),(st[1]===Ne||"0"===st[1])&&(ct=st[0],Ke={$flags$:0,$hostId$:st[1],$nodeId$:st[2],$depth$:st[3],$index$:st[4],$elm$:be,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ct?(Ke.$elm$=be.nextSibling,Ke.$elm$&&3===Ke.$elm$.nodeType&&(Ke.$text$=Ke.$elm$.textContent,E.push(Ke),be.remove(),R.$children$||(R.$children$=[]),R.$children$[Ke.$index$]=Ke,Q&&"0"===Ke.$depth$&&(Q[Ke.$index$]=Ke.$elm$))):Ke.$hostId$===Ne&&("s"===ct?(Ke.$tag$="slot",be["s-sn"]=st[5]?Ke.$name$=st[5]:"",be["s-sr"]=!0,Q&&(Ke.$elm$=Hr.createElement(Ke.$tag$),Ke.$name$&&Ke.$elm$.setAttribute("name",Ke.$name$),be.parentNode.insertBefore(Ke.$elm$,be),be.remove(),"0"===Ke.$depth$&&(Q[Ke.$index$]=Ke.$elm$)),B.push(Ke),R.$children$||(R.$children$=[]),R.$children$[Ke.$index$]=Ke):"r"===ct&&(Q?be.remove():(ge["s-cr"]=be,be["s-cn"]=!0))));else if(R&&"style"===R.$tag$){const fn=$e(null,be.textContent);fn.$elm$=be,fn.$index$="0",R.$children$=[fn]}},jt=(R,E)=>{if(1===R.nodeType){let B=0;for(;B<R.childNodes.length;B++)jt(R.childNodes[B],E);if(R.shadowRoot)for(B=0;B<R.shadowRoot.childNodes.length;B++)jt(R.shadowRoot.childNodes[B],E)}else if(8===R.nodeType){const B=R.nodeValue.split(".");"o"===B[0]&&(E.set(B[1]+"."+B[2],R),R.nodeValue="",R["s-en"]=B[3])}},Oe=R=>no.push(R),ot=R=>po(R).$modeName$,pt=R=>po(R).$hostElement$,Ie=(R,E,B)=>{const Q=pt(R);return{emit:ge=>We(Q,E,{bubbles:!!(4&B),composed:!!(2&B),cancelable:!!(1&B),detail:ge})}},We=(R,E,B)=>{const Q=Gn.ce(E,B);return R.dispatchEvent(Q),Q},qe=new WeakMap,tt=(R,E,B)=>{let Q=xi.get(R);Ss&&B?(Q=Q||new CSSStyleSheet,"string"==typeof Q?Q=E:Q.replaceSync(E)):Q=E,xi.set(R,Q)},ht=(R,E,B)=>{var Q;const ge=wn(E,B),be=xi.get(ge);if(R=11===R.nodeType?R:Hr,be)if("string"==typeof be){let ct,Ne=qe.get(R=R.head||R);if(Ne||qe.set(R,Ne=new Set),!Ne.has(ge)){if(R.host&&(ct=R.querySelector(`[${de}="${ge}"]`)))ct.innerHTML=be;else{ct=Hr.createElement("style"),ct.innerHTML=be;const st=null!==(Q=Gn.$nonce$)&&void 0!==Q?Q:N(Hr);null!=st&&ct.setAttribute("nonce",st),R.insertBefore(ct,R.querySelector("link"))}Ne&&Ne.add(ge)}}else R.adoptedStyleSheets.includes(be)||(R.adoptedStyleSheets=[...R.adoptedStyleSheets,be]);return ge},wn=(R,E)=>"sc-"+(E&&32&R.$flags$?R.$tagName$+"-"+E:R.$tagName$),Jt=R=>R.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),In=(R,E,B,Q,ge,be)=>{if(B!==Q){let Ne=Po(R,E),ct=E.toLowerCase();if("class"===E){const st=R.classList,Ke=zr(B),ut=zr(Q);st.remove(...Ke.filter(fn=>fn&&!ut.includes(fn))),st.add(...ut.filter(fn=>fn&&!Ke.includes(fn)))}else if("style"===E){for(const st in B)(!Q||null==Q[st])&&(st.includes("-")?R.style.removeProperty(st):R.style[st]="");for(const st in Q)(!B||Q[st]!==B[st])&&(st.includes("-")?R.style.setProperty(st,Q[st]):R.style[st]=Q[st])}else if("key"!==E)if("ref"===E)Q&&Q(R);else if(Ne||"o"!==E[0]||"n"!==E[1]){const st=ze(Q);if((Ne||st&&null!==Q)&&!ge)try{if(R.tagName.includes("-"))R[E]=Q;else{const ut=Q??"";"list"===E?Ne=!1:(null==B||R[E]!=ut)&&(R[E]=ut)}}catch{}let Ke=!1;ct!==(ct=ct.replace(/^xlink\:?/,""))&&(E=ct,Ke=!0),null==Q||!1===Q?(!1!==Q||""===R.getAttribute(E))&&(Ke?R.removeAttributeNS(Je,E):R.removeAttribute(E)):(!Ne||4&be||ge)&&!st&&(Q=!0===Q?"":Q,Ke?R.setAttributeNS(Je,E,Q):R.setAttribute(E,Q))}else E="-"===E[2]?E.slice(3):Po(zo,ct)?ct.slice(2):ct[2]+E.slice(3),B&&Gn.rel(R,E,B,!1),Q&&Gn.ael(R,E,Q,!1)}},_n=/\s/,zr=R=>R?R.split(_n):[],Cr=(R,E,B,Q)=>{const ge=11===E.$elm$.nodeType&&E.$elm$.host?E.$elm$.host:E.$elm$,be=R&&R.$attrs$||Qe,Ne=E.$attrs$||Qe;for(Q in be)Q in Ne||In(ge,Q,be[Q],void 0,B,E.$flags$);for(Q in Ne)In(ge,Q,be[Q],Ne[Q],B,E.$flags$)},lr=(R,E,B,Q)=>{const ge=E.$children$[B];let Ne,ct,st,be=0;if(K||(U=!0,"slot"===ge.$tag$&&(ne&&Q.classList.add(ne+"-s"),ge.$flags$|=ge.$children$?2:1)),null!==ge.$text$)Ne=ge.$elm$=Hr.createTextNode(ge.$text$);else if(1&ge.$flags$)Ne=ge.$elm$=Hr.createTextNode("");else{if(le||(le="svg"===ge.$tag$),Ne=ge.$elm$=Hr.createElementNS(le?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ge.$flags$?"slot-fb":ge.$tag$),le&&"foreignObject"===ge.$tag$&&(le=!1),Cr(null,ge,le),(R=>null!=R)(ne)&&Ne["s-si"]!==ne&&Ne.classList.add(Ne["s-si"]=ne),ge.$children$)for(be=0;be<ge.$children$.length;++be)ct=lr(R,ge,be,Ne),ct&&Ne.appendChild(ct);"svg"===ge.$tag$?le=!1:"foreignObject"===Ne.tagName&&(le=!0)}return Ne["s-hn"]=H,3&ge.$flags$&&(Ne["s-sr"]=!0,Ne["s-cr"]=re,Ne["s-sn"]=ge.$name$||"",st=R&&R.$children$&&R.$children$[B],st&&st.$tag$===ge.$tag$&&R.$elm$&&_r(R.$elm$,!1)),Ne},_r=(R,E)=>{Gn.$flags$|=1;const B=R.childNodes;for(let Q=B.length-1;Q>=0;Q--){const ge=B[Q];ge["s-hn"]!==H&&ge["s-ol"]&&(Wt(ge).insertBefore(ge,Ze(ge)),ge["s-ol"].remove(),ge["s-ol"]=void 0,U=!0),E&&_r(ge,E)}Gn.$flags$&=-2},ii=(R,E,B,Q,ge,be)=>{let ct,Ne=R["s-cr"]&&R["s-cr"].parentNode||R;for(Ne.shadowRoot&&Ne.tagName===H&&(Ne=Ne.shadowRoot);ge<=be;++ge)Q[ge]&&(ct=lr(null,B,ge,R),ct&&(Q[ge].$elm$=ct,Ne.insertBefore(ct,Ze(E))))},No=(R,E,B)=>{for(let Q=E;Q<=B;++Q){const ge=R[Q];if(ge){const be=ge.$elm$;De(ge),be&&(F=!0,be["s-ol"]?be["s-ol"].remove():_r(be,!0),be.remove())}}},Go=(R,E)=>R.$tag$===E.$tag$&&("slot"===R.$tag$?R.$name$===E.$name$:R.$key$===E.$key$),Ze=R=>R&&R["s-ol"]||R,Wt=R=>(R["s-ol"]?R["s-ol"]:R).parentNode,Wr=(R,E)=>{const B=E.$elm$=R.$elm$,Q=R.$children$,ge=E.$children$,be=E.$tag$,Ne=E.$text$;let ct;null===Ne?(le="svg"===be||"foreignObject"!==be&&le,"slot"===be||Cr(R,E,le),null!==Q&&null!==ge?((R,E,B,Q)=>{let gt,it,ge=0,be=0,Ne=0,ct=0,st=E.length-1,Ke=E[0],ut=E[st],fn=Q.length-1,vn=Q[0],Kn=Q[fn];for(;ge<=st&&be<=fn;)if(null==Ke)Ke=E[++ge];else if(null==ut)ut=E[--st];else if(null==vn)vn=Q[++be];else if(null==Kn)Kn=Q[--fn];else if(Go(Ke,vn))Wr(Ke,vn),Ke=E[++ge],vn=Q[++be];else if(Go(ut,Kn))Wr(ut,Kn),ut=E[--st],Kn=Q[--fn];else if(Go(Ke,Kn))("slot"===Ke.$tag$||"slot"===Kn.$tag$)&&_r(Ke.$elm$.parentNode,!1),Wr(Ke,Kn),R.insertBefore(Ke.$elm$,ut.$elm$.nextSibling),Ke=E[++ge],Kn=Q[--fn];else if(Go(ut,vn))("slot"===Ke.$tag$||"slot"===Kn.$tag$)&&_r(ut.$elm$.parentNode,!1),Wr(ut,vn),R.insertBefore(ut.$elm$,Ke.$elm$),ut=E[--st],vn=Q[++be];else{for(Ne=-1,ct=ge;ct<=st;++ct)if(E[ct]&&null!==E[ct].$key$&&E[ct].$key$===vn.$key$){Ne=ct;break}Ne>=0?(it=E[Ne],it.$tag$!==vn.$tag$?gt=lr(E&&E[be],B,Ne,R):(Wr(it,vn),E[Ne]=void 0,gt=it.$elm$),vn=Q[++be]):(gt=lr(E&&E[be],B,be,R),vn=Q[++be]),gt&&Wt(Ke.$elm$).insertBefore(gt,Ze(Ke.$elm$))}ge>st?ii(R,null==Q[fn+1]?null:Q[fn+1].$elm$,B,Q,be,fn):be>fn&&No(E,ge,st)})(B,Q,E,ge):null!==ge?(null!==R.$text$&&(B.textContent=""),ii(B,null,E,ge,0,ge.length-1)):null!==Q&&No(Q,0,Q.length-1),le&&"svg"===be&&(le=!1)):(ct=B["s-cr"])?ct.parentNode.textContent=Ne:R.$text$!==Ne&&(B.data=Ne)},Ur=R=>{const E=R.childNodes;let B,Q,ge,be,Ne,ct;for(Q=0,ge=E.length;Q<ge;Q++)if(B=E[Q],1===B.nodeType){if(B["s-sr"])for(Ne=B["s-sn"],B.hidden=!1,be=0;be<ge;be++)if(ct=E[be].nodeType,E[be]["s-hn"]!==B["s-hn"]||""!==Ne){if(1===ct&&Ne===E[be].getAttribute("slot")){B.hidden=!0;break}}else if(1===ct||3===ct&&""!==E[be].textContent.trim()){B.hidden=!0;break}Ur(B)}},Tr=[],eo=R=>{let E,B,Q,ge,be,Ne,ct=0;const st=R.childNodes,Ke=st.length;for(;ct<Ke;ct++){if(E=st[ct],E["s-sr"]&&(B=E["s-cr"])&&B.parentNode)for(Q=B.parentNode.childNodes,ge=E["s-sn"],Ne=Q.length-1;Ne>=0;Ne--)B=Q[Ne],!B["s-cn"]&&!B["s-nr"]&&B["s-hn"]!==E["s-hn"]&&(Xn(B,ge)?(be=Tr.find(ut=>ut.$nodeToRelocate$===B),F=!0,B["s-sn"]=B["s-sn"]||ge,be?be.$slotRefNode$=E:Tr.push({$slotRefNode$:E,$nodeToRelocate$:B}),B["s-sr"]&&Tr.map(ut=>{Xn(ut.$nodeToRelocate$,B["s-sn"])&&(be=Tr.find(fn=>fn.$nodeToRelocate$===B),be&&!ut.$slotRefNode$&&(ut.$slotRefNode$=be.$slotRefNode$))})):Tr.some(ut=>ut.$nodeToRelocate$===B)||Tr.push({$nodeToRelocate$:B}));1===E.nodeType&&eo(E)}},Xn=(R,E)=>1===R.nodeType?null===R.getAttribute("slot")&&""===E||R.getAttribute("slot")===E:R["s-sn"]===E||""===E,De=R=>{R.$attrs$&&R.$attrs$.ref&&R.$attrs$.ref(null),R.$children$&&R.$children$.map(De)},Ht=(R,E)=>{E&&!R.$onRenderResolve$&&E["s-p"]&&E["s-p"].push(new Promise(B=>R.$onRenderResolve$=B))},Zt=(R,E)=>{if(R.$flags$|=16,!(4&R.$flags$))return Ht(R,R.$ancestorComponent$),Ds(()=>Hn(R,E));R.$flags$|=512},Hn=(R,E)=>{const Q=R.$lazyInstance$;let ge;return E&&(R.$flags$|=256,R.$queuedListeners$&&(R.$queuedListeners$.map(([be,Ne])=>Pt(Q,be,Ne)),R.$queuedListeners$=void 0),ge=Pt(Q,"componentWillLoad")),ge=ln(ge,()=>Pt(Q,"componentWillRender")),ln(ge,()=>co(R,Q,E))},ln=(R,E)=>wr(R)?R.then(E):E(),wr=R=>R instanceof Promise||R&&R.then&&"function"==typeof R.then,co=function(){var R=(0,D.Z)(function*(E,B,Q){var ge;const be=E.$hostElement$,ct=be["s-rc"];Q&&(R=>{const E=R.$cmpMeta$,B=R.$hostElement$,Q=E.$flags$,be=ht(B.shadowRoot?B.shadowRoot:B.getRootNode(),E,R.$modeName$);10&Q&&(B["s-sc"]=be,B.classList.add(be+"-h"),2&Q&&B.classList.add(be+"-s"))})(E);vr(E,B,be,Q),ct&&(ct.map(Ke=>Ke()),be["s-rc"]=void 0);{const Ke=null!==(ge=be["s-p"])&&void 0!==ge?ge:[],ut=()=>to(E);0===Ke.length?ut():(Promise.all(Ke).then(ut),E.$flags$|=4,Ke.length=0)}});return function(B,Q,ge){return R.apply(this,arguments)}}(),vr=(R,E,B,Q)=>{try{E=E.render&&E.render(),R.$flags$&=-17,R.$flags$|=2,((R,E,B=!1)=>{const Q=R.$hostElement$,ge=R.$cmpMeta$,be=R.$vnode$||$e(null,null),Ne=(R=>R&&R.$tag$===ft)(E)?E:j(null,null,E);if(H=Q.tagName,ge.$attrsToReflect$&&(Ne.$attrs$=Ne.$attrs$||{},ge.$attrsToReflect$.map(([ct,st])=>Ne.$attrs$[st]=Q[ct])),B&&Ne.$attrs$)for(const ct of Object.keys(Ne.$attrs$))Q.hasAttribute(ct)&&!["key","ref","style","class"].includes(ct)&&(Ne.$attrs$[ct]=Q[ct]);if(Ne.$tag$=null,Ne.$flags$|=4,R.$vnode$=Ne,Ne.$elm$=be.$elm$=Q.shadowRoot||Q,ne=Q["s-sc"],re=Q["s-cr"],K=0!=(1&ge.$flags$),F=!1,Wr(be,Ne),Gn.$flags$|=1,U){eo(Ne.$elm$);let ct,st,Ke,ut,fn,vn,Kn=0;for(;Kn<Tr.length;Kn++)ct=Tr[Kn],st=ct.$nodeToRelocate$,st["s-ol"]||(Ke=Hr.createTextNode(""),Ke["s-nr"]=st,st.parentNode.insertBefore(st["s-ol"]=Ke,st));for(Kn=0;Kn<Tr.length;Kn++)if(ct=Tr[Kn],st=ct.$nodeToRelocate$,ct.$slotRefNode$){for(ut=ct.$slotRefNode$.parentNode,fn=ct.$slotRefNode$.nextSibling,Ke=st["s-ol"];Ke=Ke.previousSibling;)if(vn=Ke["s-nr"],vn&&vn["s-sn"]===st["s-sn"]&&ut===vn.parentNode&&(vn=vn.nextSibling,!vn||!vn["s-nr"])){fn=vn;break}(!fn&&ut!==st.parentNode||st.nextSibling!==fn)&&st!==fn&&(!st["s-hn"]&&st["s-ol"]&&(st["s-hn"]=st["s-ol"].parentNode.nodeName),ut.insertBefore(st,fn))}else 1===st.nodeType&&(st.hidden=!0)}F&&Ur(Ne.$elm$),Gn.$flags$&=-2,Tr.length=0})(R,E,Q)}catch(ge){Ii(ge,R.$hostElement$)}return null},to=R=>{const B=R.$hostElement$,ge=R.$lazyInstance$,be=R.$ancestorComponent$;Pt(ge,"componentDidRender"),64&R.$flags$?Pt(ge,"componentDidUpdate"):(R.$flags$|=64,cn(B),Pt(ge,"componentDidLoad"),R.$onReadyResolve$(B),be||yr()),R.$onInstanceResolve$(B),R.$onRenderResolve$&&(R.$onRenderResolve$(),R.$onRenderResolve$=void 0),512&R.$flags$&&Zi(()=>Zt(R,!1)),R.$flags$&=-517},uo=R=>{{const E=po(R),B=E.$hostElement$.isConnected;return B&&2==(18&E.$flags$)&&Zt(E,!1),B}},yr=R=>{cn(Hr.documentElement),Zi(()=>We(zo,"appload",{detail:{namespace:"ionic"}}))},Pt=(R,E,B)=>{if(R&&R[E])try{return R[E](B)}catch(Q){Ii(Q)}},cn=R=>R.classList.add("hydrated"),bo=(R,E,B)=>{if(E.$members$){R.watchers&&(E.$watchers$=R.watchers);const Q=Object.entries(E.$members$),ge=R.prototype;if(Q.map(([be,[Ne]])=>{31&Ne||2&B&&32&Ne?Object.defineProperty(ge,be,{get(){return((R,E)=>po(this).$instanceValues$.get(E))(0,be)},set(ct){((R,E,B,Q)=>{const ge=po(R),be=ge.$hostElement$,Ne=ge.$instanceValues$.get(E),ct=ge.$flags$,st=ge.$lazyInstance$;B=((R,E)=>null==R||ze(R)?R:4&E?"false"!==R&&(""===R||!!R):2&E?parseFloat(R):1&E?String(R):R)(B,Q.$members$[E][0]);const Ke=Number.isNaN(Ne)&&Number.isNaN(B);if((!(8&ct)||void 0===Ne)&&B!==Ne&&!Ke&&(ge.$instanceValues$.set(E,B),st)){if(Q.$watchers$&&128&ct){const fn=Q.$watchers$[E];fn&&fn.map(vn=>{try{st[vn](B,Ne,E)}catch(Kn){Ii(Kn,be)}})}2==(18&ct)&&Zt(ge,!1)}})(this,be,ct,E)},configurable:!0,enumerable:!0}):1&B&&64&Ne&&Object.defineProperty(ge,be,{value(...ct){const st=po(this);return st.$onInstancePromise$.then(()=>st.$lazyInstance$[be](...ct))}})}),1&B){const be=new Map;ge.attributeChangedCallback=function(Ne,ct,st){Gn.jmp(()=>{const Ke=be.get(Ne);if(this.hasOwnProperty(Ke))st=this[Ke],delete this[Ke];else if(ge.hasOwnProperty(Ke)&&"number"==typeof this[Ke]&&this[Ke]==st)return;this[Ke]=(null!==st||"boolean"!=typeof this[Ke])&&st})},R.observedAttributes=Q.filter(([Ne,ct])=>15&ct[0]).map(([Ne,ct])=>{const st=ct[1]||Ne;return be.set(st,Ne),512&ct[0]&&E.$attrsToReflect$.push([Ne,st]),st})}}return R},Ni=function(){var R=(0,D.Z)(function*(E,B,Q,ge,be){if(!(32&B.$flags$)){B.$flags$|=32;{if((be=ws(Q)).then){const Ke=()=>{};be=yield be,Ke()}be.isProxied||(Q.$watchers$=be.watchers,bo(be,Q,2),be.isProxied=!0);const st=()=>{};B.$flags$|=8;try{new be(B)}catch(Ke){Ii(Ke)}B.$flags$&=-9,B.$flags$|=128,st(),ai(B.$lazyInstance$)}if(be.style){let st=be.style;"string"!=typeof st&&(st=st[B.$modeName$=(R=>no.map(E=>E(R)).find(E=>!!E))(E)]);const Ke=wn(Q,B.$modeName$);if(!xi.has(Ke)){const ut=()=>{};tt(Ke,st,!!(1&Q.$flags$)),ut()}}}const Ne=B.$ancestorComponent$,ct=()=>Zt(B,!0);Ne&&Ne["s-rc"]?Ne["s-rc"].push(ct):ct()});return function(B,Q,ge,be,Ne){return R.apply(this,arguments)}}(),ai=R=>{Pt(R,"connectedCallback")},k=R=>{const E=R["s-cr"]=Hr.createComment("");E["s-cn"]=!0,R.insertBefore(E,R.firstChild)},I=R=>{Pt(R,"disconnectedCallback")},x=function(){var R=(0,D.Z)(function*(E){if(!(1&Gn.$flags$)){const B=po(E);B.$rmListeners$&&(B.$rmListeners$.map(Q=>Q()),B.$rmListeners$=void 0),B?.$lazyInstance$?I(B.$lazyInstance$):B?.$onReadyPromise$&&B.$onReadyPromise$.then(()=>I(B.$lazyInstance$))}});return function(B){return R.apply(this,arguments)}}(),Ao=(R,E={})=>{var B;const ge=[],be=E.exclude||[],Ne=zo.customElements,ct=Hr.head,st=ct.querySelector("meta[charset]"),Ke=Hr.createElement("style"),ut=[],fn=Hr.querySelectorAll(`[${de}]`);let vn,Kn=!0,gt=0;for(Object.assign(Gn,E),Gn.$resourcesUrl$=new URL(E.resourcesUrl||"./",Hr.baseURI).href,Gn.$flags$|=2;gt<fn.length;gt++)tt(fn[gt].getAttribute(de),Jt(fn[gt].innerHTML),!0);R.map(it=>{it[1].map(ui=>{const yt={$flags$:ui[0],$tagName$:ui[1],$members$:ui[2],$listeners$:ui[3]};yt.$members$=ui[2],yt.$listeners$=ui[3],yt.$attrsToReflect$=[],yt.$watchers$={};const zn=yt.$tagName$,el=class extends HTMLElement{constructor(Li){super(Li),Lo(Li=this,yt),1&yt.$flags$&&Li.attachShadow({mode:"open",delegatesFocus:!!(16&yt.$flags$)})}connectedCallback(){vn&&(clearTimeout(vn),vn=null),Kn?ut.push(this):Gn.jmp(()=>(R=>{if(!(1&Gn.$flags$)){const E=po(R),B=E.$cmpMeta$,Q=()=>{};if(1&E.$flags$)li(R,E,B.$listeners$),E?.$lazyInstance$?ai(E.$lazyInstance$):E?.$onReadyPromise$&&E.$onReadyPromise$.then(()=>ai(E.$lazyInstance$));else{let ge;if(E.$flags$|=1,ge=R.getAttribute(q),ge){if(1&B.$flags$){const be=ht(R.shadowRoot,B,R.getAttribute("s-mode"));R.classList.remove(be+"-h",be+"-s")}((R,E,B,Q)=>{const be=R.shadowRoot,Ne=[],st=be?[]:null,Ke=Q.$vnode$=$e(E,null);Gn.$orgLocNodes$||jt(Hr.body,Gn.$orgLocNodes$=new Map),R[q]=B,R.removeAttribute(q),et(Ke,Ne,[],st,R,R,B),Ne.map(ut=>{const fn=ut.$hostId$+"."+ut.$nodeId$,vn=Gn.$orgLocNodes$.get(fn),Kn=ut.$elm$;vn&&ia&&""===vn["s-en"]&&vn.parentNode.insertBefore(Kn,vn.nextSibling),be||(Kn["s-hn"]=E,vn&&(Kn["s-ol"]=vn,Kn["s-ol"]["s-nr"]=Kn)),Gn.$orgLocNodes$.delete(fn)}),be&&st.map(ut=>{ut&&be.appendChild(ut)})})(R,B.$tagName$,ge,E)}ge||12&B.$flags$&&k(R);{let be=R;for(;be=be.parentNode||be.host;)if(1===be.nodeType&&be.hasAttribute("s-id")&&be["s-p"]||be["s-p"]){Ht(E,E.$ancestorComponent$=be);break}}B.$members$&&Object.entries(B.$members$).map(([be,[Ne]])=>{if(31&Ne&&R.hasOwnProperty(be)){const ct=R[be];delete R[be],R[be]=ct}}),Ni(R,E,B)}Q()}})(this))}disconnectedCallback(){Gn.jmp(()=>x(this))}componentOnReady(){return po(this).$onReadyPromise$}};yt.$lazyBundleId$=it[0],!be.includes(zn)&&!Ne.get(zn)&&(ge.push(zn),Ne.define(zn,bo(el,yt,1)))})});{Ke.innerHTML=ge+"{visibility:hidden}.hydrated{visibility:inherit}",Ke.setAttribute("data-styles","");const it=null!==(B=Gn.$nonce$)&&void 0!==B?B:N(Hr);null!=it&&Ke.setAttribute("nonce",it),ct.insertBefore(Ke,st?st.nextSibling:ct.firstChild)}Kn=!1,ut.length?ut.map(it=>it.connectedCallback()):Gn.jmp(()=>vn=setTimeout(yr,30))},li=(R,E,B,Q)=>{B&&B.map(([ge,be,Ne])=>{const ct=Co(R,ge),st=zi(E,Ne),Ke=Cs(ge);Gn.ael(ct,be,st,Ke),(E.$rmListeners$=E.$rmListeners$||[]).push(()=>Gn.rel(ct,be,st,Ke))})},zi=(R,E)=>B=>{try{256&R.$flags$?R.$lazyInstance$[E](B):(R.$queuedListeners$=R.$queuedListeners$||[]).push([E,B])}catch(Q){Ii(Q)}},Co=(R,E)=>4&E?Hr:8&E?zo:16&E?Hr.body:R,Cs=R=>0!=(2&R),Fr=new WeakMap,po=R=>Fr.get(R),tr=(R,E)=>Fr.set(E.$lazyInstance$=R,E),Lo=(R,E)=>{const B={$flags$:0,$hostElement$:R,$cmpMeta$:E,$instanceValues$:new Map};return B.$onInstancePromise$=new Promise(Q=>B.$onInstanceResolve$=Q),B.$onReadyPromise$=new Promise(Q=>B.$onReadyResolve$=Q),R["s-p"]=[],R["s-rc"]=[],li(R,B,E.$listeners$),Fr.set(R,B)},Po=(R,E)=>E in R,Ii=(R,E)=>(0,console.error)(R,E),ci=new Map,ws=(R,E,B)=>{const Q=R.$tagName$.replace(/-/g,"_"),ge=R.$lazyBundleId$,be=ci.get(ge);return be?be[Q]:T(863)(`./${ge}.entry.js`).then(Ne=>(ci.set(ge,Ne),Ne[Q]),Ii)},xi=new Map,no=[],zo=typeof window<"u"?window:{},Hr=zo.document||{head:{}},Gn={$flags$:0,$resourcesUrl$:"",jmp:R=>R(),raf:R=>requestAnimationFrame(R),ael:(R,E,B,Q)=>R.addEventListener(E,B,Q),rel:(R,E,B,Q)=>R.removeEventListener(E,B,Q),ce:(R,E)=>new CustomEvent(R,E)},Wi=R=>{Object.assign(Gn,R)},ia=!0,Ss=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Mi=[],Es=[],ds=(R,E)=>B=>{R.push(B),J||(J=!0,E&&4&Gn.$flags$?Zi(nr):Gn.raf(nr))},Gs=R=>{for(let E=0;E<R.length;E++)try{R[E](performance.now())}catch(B){Ii(B)}R.length=0},nr=()=>{Gs(Mi),Gs(Es),(J=Mi.length>0)&&Gn.raf(nr)},Zi=R=>Promise.resolve(void 0).then(R),un=ds(Mi,!1),Ds=ds(Es,!0)},7075:(ke,Le,T)=>{"use strict";T.d(Le,{m:()=>z});var D=T(8046),d=T(922),ne=T(6481),re=T(3149),H=T(2440);const K=$=>(0,H.c)().duration($?400:300),F=$=>{let L,G;const Re=$.width+8,Pe=(0,H.c)(),ue=(0,H.c)();$.isEndSide?(L=Re+"px",G="0px"):(L=-Re+"px",G="0px"),Pe.addElement($.menuInnerEl).fromTo("transform",`translateX(${L})`,`translateX(${G})`);const q="ios"===(0,re.b)($),de=q?.2:.25;return ue.addElement($.backdropEl).fromTo("opacity",.01,de),K(q).addAnimation([Pe,ue])},U=$=>{let L,G;const Re=(0,re.b)($),Pe=$.width;$.isEndSide?(L=-Pe+"px",G=Pe+"px"):(L=Pe+"px",G=-Pe+"px");const ue=(0,H.c)().addElement($.menuInnerEl).fromTo("transform",`translateX(${G})`,"translateX(0px)"),V=(0,H.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${L})`),q=(0,H.c)().addElement($.backdropEl).fromTo("opacity",.01,.32);return K("ios"===Re).addAnimation([ue,V,q])},le=$=>{const L=(0,re.b)($),G=$.width*($.isEndSide?-1:1)+"px",Re=(0,H.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${G})`);return K("ios"===L).addAnimation(Re)},z=(()=>{const $=new Map,L=[],G=function(){var we=(0,D.Z)(function*(He){const et=yield ve(He);return!!et&&et.open()});return function(et){return we.apply(this,arguments)}}(),Re=function(){var we=(0,D.Z)(function*(He){const et=yield void 0!==He?ve(He):fe();return void 0!==et&&et.close()});return function(et){return we.apply(this,arguments)}}(),Pe=function(){var we=(0,D.Z)(function*(He){const et=yield ve(He);return!!et&&et.toggle()});return function(et){return we.apply(this,arguments)}}(),ue=function(){var we=(0,D.Z)(function*(He,et){const jt=yield ve(et);return jt&&(jt.disabled=!He),jt});return function(et,jt){return we.apply(this,arguments)}}(),V=function(){var we=(0,D.Z)(function*(He,et){const jt=yield ve(et);return jt&&(jt.swipeGesture=He),jt});return function(et,jt){return we.apply(this,arguments)}}(),q=function(){var we=(0,D.Z)(function*(He){if(null!=He){const et=yield ve(He);return void 0!==et&&et.isOpen()}return void 0!==(yield fe())});return function(et){return we.apply(this,arguments)}}(),de=function(){var we=(0,D.Z)(function*(He){const et=yield ve(He);return!!et&&!et.disabled});return function(et){return we.apply(this,arguments)}}(),ve=function(){var we=(0,D.Z)(function*(He){return yield Ge(),"start"===He||"end"===He?zt(Vt=>Vt.side===He&&!Vt.disabled)||zt(Vt=>Vt.side===He):null!=He?zt(jt=>jt.menuId===He):zt(jt=>!jt.disabled)||(L.length>0?L[0].el:void 0)});return function(et){return we.apply(this,arguments)}}(),fe=function(){var we=(0,D.Z)(function*(){return yield Ge(),$e()});return function(){return we.apply(this,arguments)}}(),Je=function(){var we=(0,D.Z)(function*(){return yield Ge(),ft()});return function(){return we.apply(this,arguments)}}(),Qe=function(){var we=(0,D.Z)(function*(){return yield Ge(),It()});return function(){return we.apply(this,arguments)}}(),ae=(we,He)=>{$.set(we,He)},ze=we=>{const He=we.side;L.filter(et=>et.side===He&&et!==we).forEach(et=>et.disabled=!0)},N=function(){var we=(0,D.Z)(function*(He,et,jt){if(It())return!1;if(et){const Vt=yield fe();Vt&&He.el!==Vt&&(yield Vt.setOpen(!1,!1))}return He._setOpen(et,jt)});return function(et,jt,Vt){return we.apply(this,arguments)}}(),$e=()=>zt(we=>we._isOpen),ft=()=>L.map(we=>we.el),It=()=>L.some(we=>we.isAnimating),zt=we=>{const He=L.find(we);if(void 0!==He)return He.el},Ge=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(we=>new Promise(He=>(0,ne.c)(we,He))));return ae("reveal",le),ae("push",U),ae("overlay",F),typeof document<"u"&&document.addEventListener("ionBackButton",we=>{const He=$e();He&&we.detail.register(d.MENU_BACK_BUTTON_PRIORITY,()=>He.close())}),{registerAnimation:ae,get:ve,getMenus:Je,getOpen:fe,isEnabled:de,swipeGesture:V,isAnimating:Qe,isOpen:q,enable:ue,toggle:Pe,close:Re,open:G,_getOpenSync:$e,_createAnimation:(we,He)=>{const et=$.get(we);if(!et)throw new Error("animation not registered");return et(He)},_register:we=>{L.indexOf(we)<0&&(we.disabled||ze(we),L.push(we))},_unregister:we=>{const He=L.indexOf(we);He>-1&&L.splice(He,1)},_setOpen:N,_setActiveMenu:ze}})()},2208:(ke,Le,T)=>{"use strict";T.r(Le),T.d(Le,{GESTURE_CONTROLLER:()=>D.G,createGesture:()=>le});var D=T(1030);const d=(L,G,Re,Pe)=>{const ue=ne(L)?{capture:!!Pe.capture,passive:!!Pe.passive}:!!Pe.capture;let V,q;return L.__zone_symbol__addEventListener?(V="__zone_symbol__addEventListener",q="__zone_symbol__removeEventListener"):(V="addEventListener",q="removeEventListener"),L[V](G,Re,ue),()=>{L[q](G,Re,ue)}},ne=L=>{if(void 0===re)try{const G=Object.defineProperty({},"passive",{get:()=>{re=!0}});L.addEventListener("optsTest",()=>{},G)}catch{re=!1}return!!re};let re;const F=L=>L instanceof Document?L:L.ownerDocument,le=L=>{let G=!1,Re=!1,Pe=!0,ue=!1;const V=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},L),q=V.canStart,de=V.onWillStart,ve=V.onStart,fe=V.onEnd,Je=V.notCaptured,Qe=V.onMove,ae=V.threshold,pe=V.passive,rt=V.blurOnStart,ze={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},N=((L,G,Re)=>{const Pe=Re*(Math.PI/180),ue="x"===L,V=Math.cos(Pe),q=G*G;let de=0,ve=0,fe=!1,Je=0;return{start(Qe,ae){de=Qe,ve=ae,Je=0,fe=!0},detect(Qe,ae){if(!fe)return!1;const pe=Qe-de,rt=ae-ve,ze=pe*pe+rt*rt;if(ze<q)return!1;const N=Math.sqrt(ze),j=(ue?pe:rt)/N;return Je=j>V?1:j<-V?-1:0,fe=!1,!0},isGesture:()=>0!==Je,getDirection:()=>Je}})(V.direction,V.threshold,V.maxAngle),j=D.G.createGesture({name:L.gestureName,priority:L.gesturePriority,disableScroll:L.disableScroll}),It=()=>{G&&(ue=!1,Qe&&Qe(ze))},zt=()=>!!j.capture()&&(G=!0,Pe=!1,ze.startX=ze.currentX,ze.startY=ze.currentY,ze.startTime=ze.currentTime,de?de(ze).then(we):we(),!0),we=()=>{rt&&(()=>{if(typeof document<"u"){const Oe=document.activeElement;Oe?.blur&&Oe.blur()}})(),ve&&ve(ze),Pe=!0},He=()=>{G=!1,Re=!1,ue=!1,Pe=!0,j.release()},et=Oe=>{const ot=G,Et=Pe;if(He(),Et){if(J(ze,Oe),ot)return void(fe&&fe(ze));Je&&Je(ze)}},jt=((L,G,Re,Pe,ue)=>{let V,q,de,ve,fe,Je,Qe,ae=0;const pe=Ge=>{ae=Date.now()+2e3,G(Ge)&&(!q&&Re&&(q=d(L,"touchmove",Re,ue)),de||(de=d(Ge.target,"touchend",ze,ue)),ve||(ve=d(Ge.target,"touchcancel",ze,ue)))},rt=Ge=>{ae>Date.now()||G(Ge)&&(!Je&&Re&&(Je=d(F(L),"mousemove",Re,ue)),Qe||(Qe=d(F(L),"mouseup",N,ue)))},ze=Ge=>{j(),Pe&&Pe(Ge)},N=Ge=>{$e(),Pe&&Pe(Ge)},j=()=>{q&&q(),de&&de(),ve&&ve(),q=de=ve=void 0},$e=()=>{Je&&Je(),Qe&&Qe(),Je=Qe=void 0},ft=()=>{j(),$e()},It=(Ge=!0)=>{Ge?(V||(V=d(L,"touchstart",pe,ue)),fe||(fe=d(L,"mousedown",rt,ue))):(V&&V(),fe&&fe(),V=fe=void 0,ft())};return{enable:It,stop:ft,destroy:()=>{It(!1),Pe=Re=G=void 0}}})(V.el,Oe=>{const ot=$(Oe);return!(Re||!Pe||(z(Oe,ze),ze.startX=ze.currentX,ze.startY=ze.currentY,ze.startTime=ze.currentTime=ot,ze.velocityX=ze.velocityY=ze.deltaX=ze.deltaY=0,ze.event=Oe,q&&!1===q(ze))||(j.release(),!j.start()))&&(Re=!0,0===ae?zt():(N.start(ze.startX,ze.startY),!0))},Oe=>{G?!ue&&Pe&&(ue=!0,J(ze,Oe),requestAnimationFrame(It)):(J(ze,Oe),N.detect(ze.currentX,ze.currentY)&&(!N.isGesture()||!zt())&&Vt())},et,{capture:!1,passive:pe}),Vt=()=>{He(),jt.stop(),Je&&Je(ze)};return{enable(Oe=!0){Oe||(G&&et(void 0),He()),jt.enable(Oe)},destroy(){j.destroy(),jt.destroy()}}},J=(L,G)=>{if(!G)return;const Re=L.currentX,Pe=L.currentY,ue=L.currentTime;z(G,L);const V=L.currentX,q=L.currentY,ve=(L.currentTime=$(G))-ue;if(ve>0&&ve<100){const Je=(q-Pe)/ve;L.velocityX=(V-Re)/ve*.7+.3*L.velocityX,L.velocityY=.7*Je+.3*L.velocityY}L.deltaX=V-L.startX,L.deltaY=q-L.startY,L.event=G},z=(L,G)=>{let Re=0,Pe=0;if(L){const ue=L.changedTouches;if(ue&&ue.length>0){const V=ue[0];Re=V.clientX,Pe=V.clientY}else void 0!==L.pageX&&(Re=L.pageX,Pe=L.pageY)}G.currentX=Re,G.currentY=Pe},$=L=>L.timeStamp||Date.now()},3149:(ke,Le,T)=>{"use strict";T.d(Le,{a:()=>z,b:()=>It,c:()=>ne,g:()=>J,i:()=>zt});var D=T(6389);class d{constructor(){this.m=new Map}reset(we){this.m=new Map(Object.entries(we))}get(we,He){const et=this.m.get(we);return void 0!==et?et:He}getBoolean(we,He=!1){const et=this.m.get(we);return void 0===et?He:"string"==typeof et?"true"===et:!!et}getNumber(we,He){const et=parseFloat(this.m.get(we));return isNaN(et)?void 0!==He?He:NaN:et}set(we,He){this.m.set(we,He)}}const ne=new d,U="ionic:",le="ionic-persist-config",J=Ge=>$(Ge),z=(Ge,we)=>("string"==typeof Ge&&(we=Ge,Ge=void 0),J(Ge).includes(we)),$=(Ge=window)=>{if(typeof Ge>"u")return[];Ge.Ionic=Ge.Ionic||{};let we=Ge.Ionic.platforms;return null==we&&(we=Ge.Ionic.platforms=L(Ge),we.forEach(He=>Ge.document.documentElement.classList.add(`plt-${He}`))),we},L=Ge=>{const we=ne.get("platform");return Object.keys($e).filter(He=>{const et=we?.[He];return"function"==typeof et?et(Ge):$e[He](Ge)})},Re=Ge=>!!(N(Ge,/iPad/i)||N(Ge,/Macintosh/i)&&fe(Ge)),V=Ge=>N(Ge,/android|sink/i),fe=Ge=>j(Ge,"(any-pointer:coarse)"),Qe=Ge=>ae(Ge)||pe(Ge),ae=Ge=>!!(Ge.cordova||Ge.phonegap||Ge.PhoneGap),pe=Ge=>{const we=Ge.Capacitor;return!!we?.isNative},N=(Ge,we)=>we.test(Ge.navigator.userAgent),j=(Ge,we)=>{var He;return null===(He=Ge.matchMedia)||void 0===He?void 0:He.call(Ge,we).matches},$e={ipad:Re,iphone:Ge=>N(Ge,/iPhone/i),ios:Ge=>N(Ge,/iPhone|iPod/i)||Re(Ge),android:V,phablet:Ge=>{const we=Ge.innerWidth,He=Ge.innerHeight,et=Math.min(we,He),jt=Math.max(we,He);return et>390&&et<520&&jt>620&&jt<800},tablet:Ge=>{const we=Ge.innerWidth,He=Ge.innerHeight,et=Math.min(we,He),jt=Math.max(we,He);return Re(Ge)||(Ge=>V(Ge)&&!N(Ge,/mobile/i))(Ge)||et>460&&et<820&&jt>780&&jt<1400},cordova:ae,capacitor:pe,electron:Ge=>N(Ge,/electron/i),pwa:Ge=>{var we;return!!(null!==(we=Ge.matchMedia)&&void 0!==we&&we.call(Ge,"(display-mode: standalone)").matches||Ge.navigator.standalone)},mobile:fe,mobileweb:Ge=>fe(Ge)&&!Qe(Ge),desktop:Ge=>!fe(Ge),hybrid:Qe};let ft;const It=Ge=>Ge&&(0,D.g)(Ge)||ft,zt=(Ge={})=>{if(typeof window>"u")return;const we=window.document,He=window,et=He.Ionic=He.Ionic||{},jt={};Ge._ael&&(jt.ael=Ge._ael),Ge._rel&&(jt.rel=Ge._rel),Ge._ce&&(jt.ce=Ge._ce),(0,D.a)(jt);const Vt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ge=>{try{const we=Ge.sessionStorage.getItem(le);return null!==we?JSON.parse(we):{}}catch{return{}}})(He)),{persistConfig:!1}),et.config),(Ge=>{const we={};return Ge.location.search.slice(1).split("&").map(He=>He.split("=")).map(([He,et])=>[decodeURIComponent(He),decodeURIComponent(et)]).filter(([He])=>((Ge,we)=>Ge.substr(0,we.length)===we)(He,U)).map(([He,et])=>[He.slice(6),et]).forEach(([He,et])=>{we[He]=et}),we})(He)),Ge);ne.reset(Vt),ne.getBoolean("persistConfig")&&((Ge,we)=>{try{Ge.sessionStorage.setItem(le,JSON.stringify(we))}catch{return}})(He,Vt),$(He),et.config=ne,et.mode=ft=ne.get("mode",we.documentElement.getAttribute("mode")||(z(He,"ios")?"ios":"md")),ne.set("mode",ft),we.documentElement.setAttribute("mode",ft),we.documentElement.classList.add(ft),ne.getBoolean("_testing")&&ne.set("animated",!1);const Oe=Et=>{var pt;return null===(pt=Et.tagName)||void 0===pt?void 0:pt.startsWith("ION-")},ot=Et=>["ios","md"].includes(Et);(0,D.c)(Et=>{for(;Et;){const pt=Et.mode||Et.getAttribute("mode");if(pt){if(ot(pt))return pt;Oe(Et)&&console.warn('Invalid ionic mode: "'+pt+'", expected: "ios" or "md"')}Et=Et.parentElement}return ft})}},3083:(ke,Le,T)=>{"use strict";T.r(Le),T.d(Le,{iosTransitionAnimation:()=>L,shadow:()=>F});var D=T(2440),d=T(2704);T(5821),T(6389);const K=G=>document.querySelector(`${G}.ion-cloned-element`),F=G=>G.shadowRoot||G,U=G=>{const Re="ION-TABS"===G.tagName?G:G.querySelector("ion-tabs"),Pe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Re){const ue=Re.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ue?ue.querySelector(Pe):null}return G.querySelector(Pe)},le=(G,Re)=>{const Pe="ION-TABS"===G.tagName?G:G.querySelector("ion-tabs");let ue=[];if(null!=Pe){const V=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=V&&(ue=V.querySelectorAll("ion-buttons"))}else ue=G.querySelectorAll("ion-buttons");for(const V of ue){const q=V.closest("ion-header"),de=q&&!q.classList.contains("header-collapse-condense-inactive"),ve=V.querySelector("ion-back-button"),fe=V.classList.contains("buttons-collapse");if(null!==ve&&("start"===V.slot||""===V.slot)&&(fe&&de&&Re||!fe))return ve}return null},z=(G,Re,Pe,ue,V,q)=>{const de=Re?`calc(100% - ${q.right+4}px)`:q.left-4+"px",ve=Re?"7px":"-7px",fe=Re?"-4px":"4px",Je=Re?"-4px":"4px",Qe=Re?"right":"left",ae=Re?"left":"right",ze=Pe?[{offset:0,opacity:1,transform:`translate3d(${fe}, ${q.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ve}, ${V.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${ve}, ${V.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${fe}, ${q.top-46}px, 0) scale(1)`}],$e=Pe?[{offset:0,opacity:1,transform:`translate3d(${Je}, ${q.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Je}, ${q.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Je}, ${q.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Je}, ${q.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Je}, ${q.top-46}px, 0) scale(1)`}],ft=(0,D.c)(),It=(0,D.c)(),zt=K("ion-back-button"),Ge=F(zt).querySelector(".button-text"),we=F(zt).querySelector("ion-icon");zt.text=ue.text,zt.mode=ue.mode,zt.icon=ue.icon,zt.color=ue.color,zt.disabled=ue.disabled,zt.style.setProperty("display","block"),zt.style.setProperty("position","fixed"),It.addElement(we),ft.addElement(Ge),ft.beforeStyles({"transform-origin":`${Qe} center`}).beforeAddWrite(()=>{ue.style.setProperty("display","none"),zt.style.setProperty(Qe,de)}).afterAddWrite(()=>{ue.style.setProperty("display",""),zt.style.setProperty("display","none"),zt.style.removeProperty(Qe)}).keyframes(ze),It.beforeStyles({"transform-origin":`${ae} center`}).keyframes($e),G.addAnimation([ft,It])},$=(G,Re,Pe,ue,V,q)=>{const de=Re?`calc(100% - ${V.right}px)`:`${V.left}px`,ve=Re?"-18px":"18px",fe=Re?"right":"left",ae=Pe?[{offset:0,opacity:0,transform:`translate3d(${ve}, ${q.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${V.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${V.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ve}, ${q.top-4}px, 0) scale(0.5)`}],pe=K("ion-title"),rt=(0,D.c)();pe.innerText=ue.innerText,pe.size=ue.size,pe.color=ue.color,rt.addElement(pe),rt.beforeStyles({"transform-origin":`${fe} center`,height:"46px",display:"",position:"relative",[fe]:de}).beforeAddWrite(()=>{ue.style.setProperty("display","none")}).afterAddWrite(()=>{ue.style.setProperty("display",""),pe.style.setProperty("display","none")}).keyframes(ae),G.addAnimation(rt)},L=(G,Re)=>{var Pe;try{const ue="cubic-bezier(0.32,0.72,0,1)",V="opacity",q="transform",de="0%",fe="rtl"===G.ownerDocument.dir,Je=fe?"-99.5%":"99.5%",Qe=fe?"33%":"-33%",ae=Re.enteringEl,pe=Re.leavingEl,rt="back"===Re.direction,ze=ae.querySelector(":scope > ion-content"),N=ae.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),j=ae.querySelectorAll(":scope > ion-header > ion-toolbar"),$e=(0,D.c)(),ft=(0,D.c)();if($e.addElement(ae).duration((null!==(Pe=Re.duration)&&void 0!==Pe?Pe:0)||540).easing(Re.easing||ue).fill("both").beforeRemoveClass("ion-page-invisible"),pe&&null!=G){const we=(0,D.c)();we.addElement(G),$e.addAnimation(we)}if(ze||0!==j.length||0!==N.length?(ft.addElement(ze),ft.addElement(N)):ft.addElement(ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),$e.addAnimation(ft),rt?ft.beforeClearStyles([V]).fromTo("transform",`translateX(${Qe})`,`translateX(${de})`).fromTo(V,.8,1):ft.beforeClearStyles([V]).fromTo("transform",`translateX(${Je})`,`translateX(${de})`),ze){const we=F(ze).querySelector(".transition-effect");if(we){const He=we.querySelector(".transition-cover"),et=we.querySelector(".transition-shadow"),jt=(0,D.c)(),Vt=(0,D.c)(),Oe=(0,D.c)();jt.addElement(we).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Vt.addElement(He).beforeClearStyles([V]).fromTo(V,0,.1),Oe.addElement(et).beforeClearStyles([V]).fromTo(V,.03,.7),jt.addAnimation([Vt,Oe]),ft.addAnimation([jt])}}const It=ae.querySelector("ion-header.header-collapse-condense"),{forward:zt,backward:Ge}=((G,Re,Pe,ue,V)=>{const q=le(ue,Pe),de=U(V),ve=U(ue),fe=le(V,Pe),Je=null!==q&&null!==de&&!Pe,Qe=null!==ve&&null!==fe&&Pe;if(Je){const ae=de.getBoundingClientRect(),pe=q.getBoundingClientRect();$(G,Re,Pe,de,ae,pe),z(G,Re,Pe,q,ae,pe)}else if(Qe){const ae=ve.getBoundingClientRect(),pe=fe.getBoundingClientRect();$(G,Re,Pe,ve,ae,pe),z(G,Re,Pe,fe,ae,pe)}return{forward:Je,backward:Qe}})($e,fe,rt,ae,pe);if(j.forEach(we=>{const He=(0,D.c)();He.addElement(we),$e.addAnimation(He);const et=(0,D.c)();et.addElement(we.querySelector("ion-title"));const jt=(0,D.c)(),Vt=Array.from(we.querySelectorAll("ion-buttons,[menuToggle]")),Oe=we.closest("ion-header"),ot=Oe?.classList.contains("header-collapse-condense-inactive");let Et;Et=Vt.filter(rt?tt=>{const ht=tt.classList.contains("buttons-collapse");return ht&&!ot||!ht}:tt=>!tt.classList.contains("buttons-collapse")),jt.addElement(Et);const pt=(0,D.c)();pt.addElement(we.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ie=(0,D.c)();Ie.addElement(F(we).querySelector(".toolbar-background"));const We=(0,D.c)(),qe=we.querySelector("ion-back-button");if(qe&&We.addElement(qe),He.addAnimation([et,jt,pt,Ie,We]),jt.fromTo(V,.01,1),pt.fromTo(V,.01,1),rt)ot||et.fromTo("transform",`translateX(${Qe})`,`translateX(${de})`).fromTo(V,.01,1),pt.fromTo("transform",`translateX(${Qe})`,`translateX(${de})`),We.fromTo(V,.01,1);else if(It||et.fromTo("transform",`translateX(${Je})`,`translateX(${de})`).fromTo(V,.01,1),pt.fromTo("transform",`translateX(${Je})`,`translateX(${de})`),Ie.beforeClearStyles([V,"transform"]),Oe?.translucent?Ie.fromTo("transform",fe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ie.fromTo(V,.01,"var(--opacity)"),zt||We.fromTo(V,.01,1),qe&&!zt){const ht=(0,D.c)();ht.addElement(F(qe).querySelector(".button-text")).fromTo("transform",fe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),He.addAnimation(ht)}}),pe){const we=(0,D.c)(),He=pe.querySelector(":scope > ion-content"),et=pe.querySelectorAll(":scope > ion-header > ion-toolbar"),jt=pe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(He||0!==et.length||0!==jt.length?(we.addElement(He),we.addElement(jt)):we.addElement(pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),$e.addAnimation(we),rt){we.beforeClearStyles([V]).fromTo("transform",`translateX(${de})`,fe?"translateX(-100%)":"translateX(100%)");const Vt=(0,d.g)(pe);$e.afterAddWrite(()=>{"normal"===$e.getDirection()&&Vt.style.setProperty("display","none")})}else we.fromTo("transform",`translateX(${de})`,`translateX(${Qe})`).fromTo(V,1,.8);if(He){const Vt=F(He).querySelector(".transition-effect");if(Vt){const Oe=Vt.querySelector(".transition-cover"),ot=Vt.querySelector(".transition-shadow"),Et=(0,D.c)(),pt=(0,D.c)(),Ie=(0,D.c)();Et.addElement(Vt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pt.addElement(Oe).beforeClearStyles([V]).fromTo(V,.1,0),Ie.addElement(ot).beforeClearStyles([V]).fromTo(V,.7,.03),Et.addAnimation([pt,Ie]),we.addAnimation([Et])}}et.forEach(Vt=>{const Oe=(0,D.c)();Oe.addElement(Vt);const ot=(0,D.c)();ot.addElement(Vt.querySelector("ion-title"));const Et=(0,D.c)(),pt=Vt.querySelectorAll("ion-buttons,[menuToggle]"),Ie=Vt.closest("ion-header"),We=Ie?.classList.contains("header-collapse-condense-inactive"),qe=Array.from(pt).filter(In=>{const _n=In.classList.contains("buttons-collapse");return _n&&!We||!_n});Et.addElement(qe);const tt=(0,D.c)(),ht=Vt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ht.length>0&&tt.addElement(ht);const W=(0,D.c)();W.addElement(F(Vt).querySelector(".toolbar-background"));const wn=(0,D.c)(),Jt=Vt.querySelector("ion-back-button");if(Jt&&wn.addElement(Jt),Oe.addAnimation([ot,Et,tt,wn,W]),$e.addAnimation(Oe),wn.fromTo(V,.99,0),Et.fromTo(V,.99,0),tt.fromTo(V,.99,0),rt){if(We||ot.fromTo("transform",`translateX(${de})`,fe?"translateX(-100%)":"translateX(100%)").fromTo(V,.99,0),tt.fromTo("transform",`translateX(${de})`,fe?"translateX(-100%)":"translateX(100%)"),W.beforeClearStyles([V,"transform"]),Ie?.translucent?W.fromTo("transform","translateX(0px)",fe?"translateX(-100%)":"translateX(100%)"):W.fromTo(V,"var(--opacity)",0),Jt&&!Ge){const _n=(0,D.c)();_n.addElement(F(Jt).querySelector(".button-text")).fromTo("transform",`translateX(${de})`,`translateX(${(fe?-124:124)+"px"})`),Oe.addAnimation(_n)}}else We||ot.fromTo("transform",`translateX(${de})`,`translateX(${Qe})`).fromTo(V,.99,0).afterClearStyles([q,V]),tt.fromTo("transform",`translateX(${de})`,`translateX(${Qe})`).afterClearStyles([q,V]),wn.afterClearStyles([V]),ot.afterClearStyles([V]),Et.afterClearStyles([V])})}return $e}catch(ue){throw ue}}},9944:(ke,Le,T)=>{"use strict";T.r(Le),T.d(Le,{mdTransitionAnimation:()=>H});var D=T(2440),d=T(2704);T(5821),T(6389);const H=(K,F)=>{var U,le,J;const z="40px",L="back"===F.direction,Re=F.leavingEl,Pe=(0,d.g)(F.enteringEl),ue=Pe.querySelector("ion-toolbar"),V=(0,D.c)();if(V.addElement(Pe).fill("both").beforeRemoveClass("ion-page-invisible"),L?V.duration((null!==(U=F.duration)&&void 0!==U?U:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):V.duration((null!==(le=F.duration)&&void 0!==le?le:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${z})`,"translateY(0px)").fromTo("opacity",.01,1),ue){const q=(0,D.c)();q.addElement(ue),V.addAnimation(q)}if(Re&&L){V.duration((null!==(J=F.duration)&&void 0!==J?J:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const q=(0,D.c)();q.addElement((0,d.g)(Re)).onFinish(de=>{1===de&&q.elements.length>0&&q.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${z})`).fromTo("opacity",1,0),V.addAnimation(q)}return V}},4706:(ke,Le,T)=>{"use strict";T.d(Le,{B:()=>Oe,G:()=>ot,a:()=>z,b:()=>$,c:()=>Pe,d:()=>Et,e:()=>pt,f:()=>$e,g:()=>It,h:()=>we,i:()=>et,j:()=>V,k:()=>q,l:()=>L,m:()=>G,n:()=>le,o:()=>fe,q:()=>N,s:()=>Vt});var D=T(8046),d=T(3149),ne=T(2847),re=T(922),H=T(6481),K=T(1294);let F=0,U=0;const le=new WeakMap,J=Ie=>({create:We=>de(Ie,We),dismiss:(We,qe,tt)=>rt(document,We,qe,Ie,tt),getTop:()=>(0,D.Z)(function*(){return N(document,Ie)})()}),z=J("ion-alert"),$=J("ion-action-sheet"),L=J("ion-loading"),G=J("ion-modal"),Pe=J("ion-popover"),V=Ie=>{typeof document<"u"&&pe(document);const We=F++;Ie.overlayIndex=We},q=Ie=>(Ie.hasAttribute("id")||(Ie.id="ion-overlay-"+ ++U),Ie.id),de=(Ie,We)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ie).then(()=>{const qe=document.createElement(Ie);return qe.classList.add("overlay-hidden"),Object.assign(qe,Object.assign(Object.assign({},We),{hasController:!0})),zt(document).appendChild(qe),new Promise(tt=>(0,H.c)(qe,tt))}):Promise.resolve(),ve='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',fe=(Ie,We)=>{let qe=Ie.querySelector(ve);const tt=qe?.shadowRoot;tt&&(qe=tt.querySelector(ve)||qe),qe?(0,H.f)(qe):We.focus()},Qe=(Ie,We)=>{const qe=Array.from(Ie.querySelectorAll(ve));let tt=qe.length>0?qe[qe.length-1]:null;const ht=tt?.shadowRoot;ht&&(tt=ht.querySelector(ve)||tt),tt?tt.focus():We.focus()},pe=Ie=>{0===F&&(F=1,Ie.addEventListener("focus",We=>{((Ie,We)=>{const qe=N(We,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),tt=Ie.target;qe&&tt&&!qe.classList.contains("ion-disable-focus-trap")&&(qe.shadowRoot?(()=>{if(qe.contains(tt))qe.lastFocus=tt;else{const wn=qe.lastFocus;fe(qe,qe),wn===We.activeElement&&Qe(qe,qe),qe.lastFocus=We.activeElement}})():(()=>{if(qe===tt)qe.lastFocus=void 0;else{const wn=(0,H.g)(qe);if(!wn.contains(tt))return;const Jt=wn.querySelector(".ion-overlay-wrapper");if(!Jt)return;if(Jt.contains(tt)||tt===wn.querySelector("ion-backdrop"))qe.lastFocus=tt;else{const In=qe.lastFocus;fe(Jt,qe),In===We.activeElement&&Qe(Jt,qe),qe.lastFocus=We.activeElement}}})())})(We,Ie)},!0),Ie.addEventListener("ionBackButton",We=>{const qe=N(Ie);qe?.backdropDismiss&&We.detail.register(re.OVERLAY_BACK_BUTTON_PRIORITY,()=>qe.dismiss(void 0,Oe))}),Ie.addEventListener("keydown",We=>{if("Escape"===We.key){const qe=N(Ie);qe?.backdropDismiss&&qe.dismiss(void 0,Oe)}}))},rt=(Ie,We,qe,tt,ht)=>{const W=N(Ie,tt,ht);return W?W.dismiss(We,qe):Promise.reject("overlay does not exist")},N=(Ie,We,qe)=>{const tt=((Ie,We)=>(void 0===We&&(We="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ie.querySelectorAll(We)).filter(qe=>qe.overlayIndex>0)))(Ie,We).filter(ht=>!(Ie=>Ie.classList.contains("overlay-hidden"))(ht));return void 0===qe?tt[tt.length-1]:tt.find(ht=>ht.id===qe)},j=(Ie=!1)=>{const qe=zt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");qe&&(Ie?qe.setAttribute("aria-hidden","true"):qe.removeAttribute("aria-hidden"))},$e=function(){var Ie=(0,D.Z)(function*(We,qe,tt,ht,W){var wn,Jt;if(We.presented)return;j(!0),We.presented=!0,We.willPresent.emit(),null===(wn=We.willPresentShorthand)||void 0===wn||wn.emit();const In=(0,d.b)(We),_n=We.enterAnimation?We.enterAnimation:d.c.get(qe,"ios"===In?tt:ht);(yield Ge(We,_n,We.el,W))&&(We.didPresent.emit(),null===(Jt=We.didPresentShorthand)||void 0===Jt||Jt.emit()),"ION-TOAST"!==We.el.tagName&&ft(We.el),We.keyboardClose&&(null===document.activeElement||!We.el.contains(document.activeElement))&&We.el.focus()});return function(qe,tt,ht,W,wn){return Ie.apply(this,arguments)}}(),ft=function(){var Ie=(0,D.Z)(function*(We){let qe=document.activeElement;if(!qe)return;const tt=qe?.shadowRoot;tt&&(qe=tt.querySelector(ve)||qe),yield We.onDidDismiss(),qe.focus()});return function(qe){return Ie.apply(this,arguments)}}(),It=function(){var Ie=(0,D.Z)(function*(We,qe,tt,ht,W,wn,Jt){var In,_n;if(!We.presented)return!1;j(!1),We.presented=!1;try{We.el.style.setProperty("pointer-events","none"),We.willDismiss.emit({data:qe,role:tt}),null===(In=We.willDismissShorthand)||void 0===In||In.emit({data:qe,role:tt});const zr=(0,d.b)(We),Cr=We.leaveAnimation?We.leaveAnimation:d.c.get(ht,"ios"===zr?W:wn);tt!==ot&&(yield Ge(We,Cr,We.el,Jt)),We.didDismiss.emit({data:qe,role:tt}),null===(_n=We.didDismissShorthand)||void 0===_n||_n.emit({data:qe,role:tt}),le.delete(We),We.el.classList.add("overlay-hidden"),We.el.style.removeProperty("pointer-events"),void 0!==We.el.lastFocus&&(We.el.lastFocus=void 0)}catch(zr){console.error(zr)}return We.el.remove(),!0});return function(qe,tt,ht,W,wn,Jt,In){return Ie.apply(this,arguments)}}(),zt=Ie=>Ie.querySelector("ion-app")||Ie.body,Ge=function(){var Ie=(0,D.Z)(function*(We,qe,tt,ht){tt.classList.remove("overlay-hidden");const wn=qe(We.el,ht);(!We.animated||!d.c.getBoolean("animated",!0))&&wn.duration(0),We.keyboardClose&&wn.beforeAddWrite(()=>{const In=tt.ownerDocument.activeElement;In?.matches("input,ion-input, ion-textarea")&&In.blur()});const Jt=le.get(We)||[];return le.set(We,[...Jt,wn]),yield wn.play(),!0});return function(qe,tt,ht,W){return Ie.apply(this,arguments)}}(),we=(Ie,We)=>{let qe;const tt=new Promise(ht=>qe=ht);return He(Ie,We,ht=>{qe(ht.detail)}),tt},He=(Ie,We,qe)=>{const tt=ht=>{(0,H.b)(Ie,We,tt),qe(ht)};(0,H.a)(Ie,We,tt)},et=Ie=>"cancel"===Ie||Ie===Oe,jt=Ie=>Ie(),Vt=(Ie,We)=>{if("function"==typeof Ie)return d.c.get("_zoneGate",jt)(()=>{try{return Ie(We)}catch(tt){throw tt}})},Oe="backdrop",ot="gesture",Et=Ie=>{let qe,We=!1;const tt=(0,ne.C)(),ht=(Jt=!1)=>{if(qe&&!Jt)return{delegate:qe,inline:We};const{el:In,hasController:_n,delegate:zr}=Ie;return We=null!==In.parentNode&&!_n,qe=We?zr||tt:zr,{inline:We,delegate:qe}};return{attachViewToDom:function(){var Jt=(0,D.Z)(function*(In){const{delegate:_n}=ht(!0);if(_n)return yield _n.attachViewToDom(Ie.el,In);const{hasController:zr}=Ie;if(zr&&void 0!==In)throw new Error("framework delegate is missing");return null});return function(_n){return Jt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Jt}=ht();Jt&&void 0!==Ie.el&&Jt.removeViewFromDom(Ie.el.parentElement,Ie.el)}}},pt=()=>{let Ie;const We=()=>{Ie&&(Ie(),Ie=void 0)};return{addClickListener:(tt,ht)=>{We();const W=void 0!==ht?document.getElementById(ht):null;W?Ie=((Jt,In)=>{const _n=()=>{In.present()};return Jt.addEventListener("click",_n),()=>{Jt.removeEventListener("click",_n)}})(W,tt):(0,K.p)(`A trigger element with the ID "${ht}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,tt)},removeClickListener:We}}},6107:(ke,Le,T)=>{"use strict";var d=T(1074)("ArrayBuffer.prototype.byteLength",!0),ne=T(1064);ke.exports=function(H){return ne(H)?d?d(H):H.byteLength:NaN}},1074:(ke,Le,T)=>{"use strict";var D=T(5388),d=T(2327),ne=d(D("String.prototype.indexOf"));ke.exports=function(H,K){var F=D(H,!!K);return"function"==typeof F&&ne(H,".prototype.")>-1?d(F):F}},2327:(ke,Le,T)=>{"use strict";var D=T(9011),d=T(5388),ne=d("%Function.prototype.apply%"),re=d("%Function.prototype.call%"),H=d("%Reflect.apply%",!0)||D.call(re,ne),K=d("%Object.getOwnPropertyDescriptor%",!0),F=d("%Object.defineProperty%",!0),U=d("%Math.max%");if(F)try{F({},"a",{value:1})}catch{F=null}ke.exports=function(z){var $=H(D,re,arguments);return K&&F&&K($,"length").configurable&&F($,"length",{value:1+U(0,z.length-(arguments.length-1))}),$};var le=function(){return H(D,ne,arguments)};F?F(ke.exports,"apply",{value:le}):ke.exports.apply=le},1336:ke=>{var Le={utf8:{stringToBytes:function(T){return Le.bin.stringToBytes(unescape(encodeURIComponent(T)))},bytesToString:function(T){return decodeURIComponent(escape(Le.bin.bytesToString(T)))}},bin:{stringToBytes:function(T){for(var D=[],d=0;d<T.length;d++)D.push(255&T.charCodeAt(d));return D},bytesToString:function(T){for(var D=[],d=0;d<T.length;d++)D.push(String.fromCharCode(T[d]));return D.join("")}}};ke.exports=Le},7888:ke=>{var Le,T;Le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ke.exports=T={rotl:function(D,d){return D<<d|D>>>32-d},rotr:function(D,d){return D<<32-d|D>>>d},endian:function(D){if(D.constructor==Number)return 16711935&T.rotl(D,8)|4278255360&T.rotl(D,24);for(var d=0;d<D.length;d++)D[d]=T.endian(D[d]);return D},randomBytes:function(D){for(var d=[];D>0;D--)d.push(Math.floor(256*Math.random()));return d},bytesToWords:function(D){for(var d=[],ne=0,re=0;ne<D.length;ne++,re+=8)d[re>>>5]|=D[ne]<<24-re%32;return d},wordsToBytes:function(D){for(var d=[],ne=0;ne<32*D.length;ne+=8)d.push(D[ne>>>5]>>>24-ne%32&255);return d},bytesToHex:function(D){for(var d=[],ne=0;ne<D.length;ne++)d.push((D[ne]>>>4).toString(16)),d.push((15&D[ne]).toString(16));return d.join("")},hexToBytes:function(D){for(var d=[],ne=0;ne<D.length;ne+=2)d.push(parseInt(D.substr(ne,2),16));return d},bytesToBase64:function(D){for(var d=[],ne=0;ne<D.length;ne+=3)for(var re=D[ne]<<16|D[ne+1]<<8|D[ne+2],H=0;H<4;H++)d.push(8*ne+6*H<=8*D.length?Le.charAt(re>>>6*(3-H)&63):"=");return d.join("")},base64ToBytes:function(D){D=D.replace(/[^A-Z0-9+\/]/gi,"");for(var d=[],ne=0,re=0;ne<D.length;re=++ne%4)0!=re&&d.push((Le.indexOf(D.charAt(ne-1))&Math.pow(2,-2*re+8)-1)<<2*re|Le.indexOf(D.charAt(ne))>>>6-2*re);return d}}},5683:(ke,Le,T)=>{"use strict";var D=T(5658),d=T(1074),ne=T(4257),re=T(5388),H=T(1558),K=T(3147),F=T(2422),U=T(551),le=T(6975),J=T(1064),z=T(4315),$=T(6374),L=T(7905),G=T(7073),Re=T(5407),Pe=T(8549),ue=T(2485),V=T(6107),q=d("SharedArrayBuffer.prototype.byteLength",!0),de=d("Date.prototype.getTime"),ve=Object.getPrototypeOf,fe=d("Object.prototype.toString"),Je=re("%Set%",!0),Qe=d("Map.prototype.has",!0),ae=d("Map.prototype.get",!0),pe=d("Map.prototype.size",!0),rt=d("Set.prototype.add",!0),ze=d("Set.prototype.delete",!0),N=d("Set.prototype.has",!0),j=d("Set.prototype.size",!0);function $e(Oe,ot,Et,pt){for(var We,Ie=H(Oe);(We=Ie.next())&&!We.done;)if(we(ot,We.value,Et,pt))return ze(Oe,We.value),!0;return!1}function ft(Oe){return typeof Oe>"u"?null:"object"!=typeof Oe?"symbol"!=typeof Oe&&("string"!=typeof Oe&&"number"!=typeof Oe||+Oe==+Oe):void 0}function It(Oe,ot,Et,pt,Ie,We){var qe=ft(Et);if(null!=qe)return qe;var tt=ae(ot,qe),ht=D({},Ie,{strict:!1});return!(typeof tt>"u"&&!Qe(ot,qe)||!we(pt,tt,ht,We))&&!Qe(Oe,qe)&&we(pt,tt,ht,We)}function zt(Oe,ot,Et){var pt=ft(Et);return pt??(N(ot,pt)&&!N(Oe,pt))}function Ge(Oe,ot,Et,pt,Ie,We){for(var tt,ht,qe=H(Oe);(tt=qe.next())&&!tt.done;)if(we(Et,ht=tt.value,Ie,We)&&we(pt,ae(ot,ht),Ie,We))return ze(Oe,ht),!0;return!1}function we(Oe,ot,Et,pt){var Ie=Et||{};if(Ie.strict?F(Oe,ot):Oe===ot)return!0;if(Re(Oe)!==Re(ot))return!1;if(!Oe||!ot||"object"!=typeof Oe&&"object"!=typeof ot)return Ie.strict?F(Oe,ot):Oe==ot;var W,tt=pt.has(Oe),ht=pt.has(ot);if(tt&&ht){if(pt.get(Oe)===pt.get(ot))return!0}else W={};return tt||pt.set(Oe,W),ht||pt.set(ot,W),function Vt(Oe,ot,Et,pt){var Ie,We;if(typeof Oe!=typeof ot||null==Oe||null==ot||fe(Oe)!==fe(ot)||U(Oe)!==U(ot))return!1;if(le(Oe)!==le(ot))return!1;var ht=Oe instanceof Error,W=ot instanceof Error;if(ht!==W||(ht||W)&&(Oe.name!==ot.name||Oe.message!==ot.message))return!1;var wn=$(Oe),Jt=$(ot);if(wn!==Jt||(wn||Jt)&&(Oe.source!==ot.source||ne(Oe)!==ne(ot)))return!1;var In=z(Oe),_n=z(ot);if(In!==_n||(In||_n)&&de(Oe)!==de(ot)||Et.strict&&ve&&ve(Oe)!==ve(ot))return!1;var zr=ue(Oe),Cr=ue(ot);if(zr!==Cr)return!1;if(zr||Cr){if(Oe.length!==ot.length)return!1;for(Ie=0;Ie<Oe.length;Ie++)if(Oe[Ie]!==ot[Ie])return!1;return!0}var lr=He(Oe),_r=He(ot);if(lr!==_r)return!1;if(lr||_r){if(Oe.length!==ot.length)return!1;for(Ie=0;Ie<Oe.length;Ie++)if(Oe[Ie]!==ot[Ie])return!1;return!0}var ii=J(Oe),No=J(ot);if(ii!==No)return!1;if(ii||No)return V(Oe)===V(ot)&&"function"==typeof Uint8Array&&we(new Uint8Array(Oe),new Uint8Array(ot),Et,pt);var si=L(Oe),Go=L(ot);if(si!==Go)return!1;if(si||Go)return q(Oe)===q(ot)&&"function"==typeof Uint8Array&&we(new Uint8Array(Oe),new Uint8Array(ot),Et,pt);if(typeof Oe!=typeof ot)return!1;var Ze=G(Oe),Wt=G(ot);if(Ze.length!==Wt.length)return!1;for(Ze.sort(),Wt.sort(),Ie=Ze.length-1;Ie>=0;Ie--)if(Ze[Ie]!=Wt[Ie])return!1;for(Ie=Ze.length-1;Ie>=0;Ie--)if(!we(Oe[We=Ze[Ie]],ot[We],Et,pt))return!1;var Wr=Pe(Oe),Ur=Pe(ot);return Wr===Ur&&("Set"===Wr||"Set"===Ur?function et(Oe,ot,Et,pt){if(j(Oe)!==j(ot))return!1;for(var qe,tt,ht,Ie=H(Oe),We=H(ot);(qe=Ie.next())&&!qe.done;)if(qe.value&&"object"==typeof qe.value)ht||(ht=new Je),rt(ht,qe.value);else if(!N(ot,qe.value)){if(Et.strict||!zt(Oe,ot,qe.value))return!1;ht||(ht=new Je),rt(ht,qe.value)}if(ht){for(;(tt=We.next())&&!tt.done;)if(tt.value&&"object"==typeof tt.value){if(!$e(ht,tt.value,Et.strict,pt))return!1}else if(!Et.strict&&!N(Oe,tt.value)&&!$e(ht,tt.value,Et.strict,pt))return!1;return 0===j(ht)}return!0}(Oe,ot,Et,pt):"Map"!==Wr||function jt(Oe,ot,Et,pt){if(pe(Oe)!==pe(ot))return!1;for(var qe,tt,ht,W,wn,Jt,Ie=H(Oe),We=H(ot);(qe=Ie.next())&&!qe.done;)if(wn=qe.value[1],(W=qe.value[0])&&"object"==typeof W)ht||(ht=new Je),rt(ht,W);else if(typeof(Jt=ae(ot,W))>"u"&&!Qe(ot,W)||!we(wn,Jt,Et,pt)){if(Et.strict||!It(Oe,ot,W,wn,Et,pt))return!1;ht||(ht=new Je),rt(ht,W)}if(ht){for(;(tt=We.next())&&!tt.done;)if(Jt=tt.value[1],(W=tt.value[0])&&"object"==typeof W){if(!Ge(ht,Oe,W,Jt,Et,pt))return!1}else if(!(Et.strict||Oe.has(W)&&we(ae(Oe,W),Jt,Et,pt)||Ge(ht,Oe,W,Jt,D({},Et,{strict:!1}),pt)))return!1;return 0===j(ht)}return!0}(Oe,ot,Et,pt))}(Oe,ot,Ie,pt)}function He(Oe){return!(!Oe||"object"!=typeof Oe||"number"!=typeof Oe.length||"function"!=typeof Oe.copy||"function"!=typeof Oe.slice||Oe.length>0&&"number"!=typeof Oe[0]||!(Oe.constructor&&Oe.constructor.isBuffer&&Oe.constructor.isBuffer(Oe)))}ke.exports=function(ot,Et,pt){return we(ot,Et,pt,K())}},1299:(ke,Le,T)=>{"use strict";var D=T(7073),d="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ne=Object.prototype.toString,re=Array.prototype.concat,H=Object.defineProperty,F=T(517)(),U=H&&F,le=function(z,$,L,G){if($ in z)if(!0===G){if(z[$]===L)return}else if(!function(z){return"function"==typeof z&&"[object Function]"===ne.call(z)}(G)||!G())return;U?H(z,$,{configurable:!0,enumerable:!1,value:L,writable:!0}):z[$]=L},J=function(z,$){var L=arguments.length>2?arguments[2]:{},G=D($);d&&(G=re.call(G,Object.getOwnPropertySymbols($)));for(var Re=0;Re<G.length;Re+=1)le(z,G[Re],$[G[Re]],L[G[Re]])};J.supportsDescriptors=!!U,ke.exports=J},2466:function(ke,Le){!function(T){"use strict";var $,ne=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,re=536870912,H=2*re,F=new WeakMap,le=function($,L){return function(G){var Re=L.get(G),Pe=void 0===Re?G.size:Re<H?Re+1:0;if(!G.has(Pe))return $(G,Pe);if(G.size<re){for(;G.has(Pe);)Pe=Math.floor(Math.random()*H);return $(G,Pe)}if(G.size>ne)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;G.has(Pe);)Pe=Math.floor(Math.random()*ne);return $(G,Pe)}}(($=F,function(L,G){return $.set(L,G),G}),F),J=function($){return function(L){var G=$(L);return L.add(G),G}}(le);T.addUniqueNumber=J,T.generateUniqueNumber=le}(Le)},4411:(ke,Le,T)=>{"use strict";var D=T(705),d=Object.prototype.toString,ne=Object.prototype.hasOwnProperty;ke.exports=function(le,J,z){if(!D(J))throw new TypeError("iterator must be a function");var $;arguments.length>=3&&($=z),"[object Array]"===d.call(le)?function(le,J,z){for(var $=0,L=le.length;$<L;$++)ne.call(le,$)&&(null==z?J(le[$],$,le):J.call(z,le[$],$,le))}(le,J,$):"string"==typeof le?function(le,J,z){for(var $=0,L=le.length;$<L;$++)null==z?J(le.charAt($),$,le):J.call(z,le.charAt($),$,le)}(le,J,$):function(le,J,z){for(var $ in le)ne.call(le,$)&&(null==z?J(le[$],$,le):J.call(z,le[$],$,le))}(le,J,$)}},3337:ke=>{"use strict";var T=Array.prototype.slice,D=Object.prototype.toString;ke.exports=function(re){var H=this;if("function"!=typeof H||"[object Function]"!==D.call(H))throw new TypeError("Function.prototype.bind called on incompatible "+H);for(var F,K=T.call(arguments,1),le=Math.max(0,H.length-K.length),J=[],z=0;z<le;z++)J.push("$"+z);if(F=Function("binder","return function ("+J.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof F){var L=H.apply(this,K.concat(T.call(arguments)));return Object(L)===L?L:this}return H.apply(re,K.concat(T.call(arguments)))}),H.prototype){var $=function(){};$.prototype=H.prototype,F.prototype=new $,$.prototype=null}return F}},9011:(ke,Le,T)=>{"use strict";var D=T(3337);ke.exports=Function.prototype.bind||D},7993:ke=>{"use strict";var Le=function(){return"string"==typeof function(){}.name},T=Object.getOwnPropertyDescriptor;if(T)try{T([],"length")}catch{T=null}Le.functionsHaveConfigurableNames=function(){if(!Le()||!T)return!1;var ne=T(function(){},"name");return!!ne&&!!ne.configurable};var D=Function.prototype.bind;Le.boundFunctionsHaveNames=function(){return Le()&&"function"==typeof D&&""!==function(){}.bind().name},ke.exports=Le},5388:(ke,Le,T)=>{"use strict";var D,d=SyntaxError,ne=Function,re=TypeError,H=function(N){try{return ne('"use strict"; return ('+N+").constructor;")()}catch{}},K=Object.getOwnPropertyDescriptor;if(K)try{K({},"")}catch{K=null}var F=function(){throw new re},U=K?function(){try{return F}catch{try{return K(arguments,"callee").get}catch{return F}}}():F,le=T(1212)(),J=T(6636)(),z=Object.getPrototypeOf||(J?function(N){return N.__proto__}:null),$={},L=typeof Uint8Array>"u"||!z?D:z(Uint8Array),G={"%AggregateError%":typeof AggregateError>"u"?D:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?D:ArrayBuffer,"%ArrayIteratorPrototype%":le&&z?z([][Symbol.iterator]()):D,"%AsyncFromSyncIteratorPrototype%":D,"%AsyncFunction%":$,"%AsyncGenerator%":$,"%AsyncGeneratorFunction%":$,"%AsyncIteratorPrototype%":$,"%Atomics%":typeof Atomics>"u"?D:Atomics,"%BigInt%":typeof BigInt>"u"?D:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?D:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?D:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?D:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?D:Float32Array,"%Float64Array%":typeof Float64Array>"u"?D:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?D:FinalizationRegistry,"%Function%":ne,"%GeneratorFunction%":$,"%Int8Array%":typeof Int8Array>"u"?D:Int8Array,"%Int16Array%":typeof Int16Array>"u"?D:Int16Array,"%Int32Array%":typeof Int32Array>"u"?D:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":le&&z?z(z([][Symbol.iterator]())):D,"%JSON%":"object"==typeof JSON?JSON:D,"%Map%":typeof Map>"u"?D:Map,"%MapIteratorPrototype%":typeof Map>"u"||!le||!z?D:z((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?D:Promise,"%Proxy%":typeof Proxy>"u"?D:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?D:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?D:Set,"%SetIteratorPrototype%":typeof Set>"u"||!le||!z?D:z((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?D:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":le&&z?z(""[Symbol.iterator]()):D,"%Symbol%":le?Symbol:D,"%SyntaxError%":d,"%ThrowTypeError%":U,"%TypedArray%":L,"%TypeError%":re,"%Uint8Array%":typeof Uint8Array>"u"?D:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?D:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?D:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?D:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?D:WeakMap,"%WeakRef%":typeof WeakRef>"u"?D:WeakRef,"%WeakSet%":typeof WeakSet>"u"?D:WeakSet};if(z)try{null.error}catch(N){var Re=z(z(N));G["%Error.prototype%"]=Re}var Pe=function N(j){var $e;if("%AsyncFunction%"===j)$e=H("async function () {}");else if("%GeneratorFunction%"===j)$e=H("function* () {}");else if("%AsyncGeneratorFunction%"===j)$e=H("async function* () {}");else if("%AsyncGenerator%"===j){var ft=N("%AsyncGeneratorFunction%");ft&&($e=ft.prototype)}else if("%AsyncIteratorPrototype%"===j){var It=N("%AsyncGenerator%");It&&z&&($e=z(It.prototype))}return G[j]=$e,$e},ue={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},V=T(9011),q=T(3370),de=V.call(Function.call,Array.prototype.concat),ve=V.call(Function.apply,Array.prototype.splice),fe=V.call(Function.call,String.prototype.replace),Je=V.call(Function.call,String.prototype.slice),Qe=V.call(Function.call,RegExp.prototype.exec),ae=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pe=/\\(\\)?/g,ze=function(j,$e){var It,ft=j;if(q(ue,ft)&&(ft="%"+(It=ue[ft])[0]+"%"),q(G,ft)){var zt=G[ft];if(zt===$&&(zt=Pe(ft)),typeof zt>"u"&&!$e)throw new re("intrinsic "+j+" exists, but is not available. Please file an issue!");return{alias:It,name:ft,value:zt}}throw new d("intrinsic "+j+" does not exist!")};ke.exports=function(j,$e){if("string"!=typeof j||0===j.length)throw new re("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof $e)throw new re('"allowMissing" argument must be a boolean');if(null===Qe(/^%?[^%]*%?$/,j))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ft=function(j){var $e=Je(j,0,1),ft=Je(j,-1);if("%"===$e&&"%"!==ft)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===ft&&"%"!==$e)throw new d("invalid intrinsic syntax, expected opening `%`");var It=[];return fe(j,ae,function(zt,Ge,we,He){It[It.length]=we?fe(He,pe,"$1"):Ge||zt}),It}(j),It=ft.length>0?ft[0]:"",zt=ze("%"+It+"%",$e),Ge=zt.name,we=zt.value,He=!1,et=zt.alias;et&&(It=et[0],ve(ft,de([0,1],et)));for(var jt=1,Vt=!0;jt<ft.length;jt+=1){var Oe=ft[jt],ot=Je(Oe,0,1),Et=Je(Oe,-1);if(('"'===ot||"'"===ot||"`"===ot||'"'===Et||"'"===Et||"`"===Et)&&ot!==Et)throw new d("property names with quotes must have matching quotes");if(("constructor"===Oe||!Vt)&&(He=!0),q(G,Ge="%"+(It+="."+Oe)+"%"))we=G[Ge];else if(null!=we){if(!(Oe in we)){if(!$e)throw new re("base intrinsic for "+j+" exists, but the property is not available.");return}if(K&&jt+1>=ft.length){var pt=K(we,Oe);we=(Vt=!!pt)&&"get"in pt&&!("originalValue"in pt.get)?pt.get:we[Oe]}else Vt=q(we,Oe),we=we[Oe];Vt&&!He&&(G[Ge]=we)}}return we}},6831:(ke,Le,T)=>{"use strict";var d=T(5388)("%Object.getOwnPropertyDescriptor%",!0);if(d)try{d([],"length")}catch{d=null}ke.exports=d},1835:ke=>{"use strict";var Le=typeof BigInt<"u"&&BigInt;ke.exports=function(){return"function"==typeof Le&&"function"==typeof BigInt&&"bigint"==typeof Le(42)&&"bigint"==typeof BigInt(42)}},517:(ke,Le,T)=>{"use strict";var d=T(5388)("%Object.defineProperty%",!0),ne=function(){if(d)try{return d({},"a",{value:1}),!0}catch{return!1}return!1};ne.hasArrayLengthDefineBug=function(){if(!ne())return null;try{return 1!==d([],"length",{value:1}).length}catch{return!0}},ke.exports=ne},6636:ke=>{"use strict";var Le={foo:{}},T=Object;ke.exports=function(){return{__proto__:Le}.foo===Le.foo&&!({__proto__:null}instanceof T)}},1212:(ke,Le,T)=>{"use strict";var D=typeof Symbol<"u"&&Symbol,d=T(6646);ke.exports=function(){return"function"==typeof D&&"function"==typeof Symbol&&"symbol"==typeof D("foo")&&"symbol"==typeof Symbol("bar")&&d()}},6646:ke=>{"use strict";ke.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var T={},D=Symbol("test"),d=Object(D);if("string"==typeof D||"[object Symbol]"!==Object.prototype.toString.call(D)||"[object Symbol]"!==Object.prototype.toString.call(d))return!1;for(D in T[D]=42,T)return!1;if("function"==typeof Object.keys&&0!==Object.keys(T).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(T).length)return!1;var re=Object.getOwnPropertySymbols(T);if(1!==re.length||re[0]!==D||!Object.prototype.propertyIsEnumerable.call(T,D))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var H=Object.getOwnPropertyDescriptor(T,D);if(42!==H.value||!0!==H.enumerable)return!1}return!0}},1307:(ke,Le,T)=>{"use strict";var D=T(6646);ke.exports=function(){return D()&&!!Symbol.toStringTag}},3370:(ke,Le,T)=>{"use strict";var D=T(9011);ke.exports=D.call(Function.call,Object.prototype.hasOwnProperty)},9372:(ke,Le,T)=>{"use strict";var D=T(5388),d=T(3370),ne=T(3147)(),re=D("%TypeError%"),H={assert:function(K,F){if(!K||"object"!=typeof K&&"function"!=typeof K)throw new re("`O` is not an object");if("string"!=typeof F)throw new re("`slot` must be a string");if(ne.assert(K),!H.has(K,F))throw new re("`"+F+"` is not present on `O`")},get:function(K,F){if(!K||"object"!=typeof K&&"function"!=typeof K)throw new re("`O` is not an object");if("string"!=typeof F)throw new re("`slot` must be a string");var U=ne.get(K);return U&&U["$"+F]},has:function(K,F){if(!K||"object"!=typeof K&&"function"!=typeof K)throw new re("`O` is not an object");if("string"!=typeof F)throw new re("`slot` must be a string");var U=ne.get(K);return!!U&&d(U,"$"+F)},set:function(K,F,U){if(!K||"object"!=typeof K&&"function"!=typeof K)throw new re("`O` is not an object");if("string"!=typeof F)throw new re("`slot` must be a string");var le=ne.get(K);le||ne.set(K,le={}),le["$"+F]=U}};Object.freeze&&Object.freeze(H),ke.exports=H},551:(ke,Le,T)=>{"use strict";var D=T(1307)(),ne=T(1074)("Object.prototype.toString"),re=function(U){return!(D&&U&&"object"==typeof U&&Symbol.toStringTag in U)&&"[object Arguments]"===ne(U)},H=function(U){return!!re(U)||null!==U&&"object"==typeof U&&"number"==typeof U.length&&U.length>=0&&"[object Array]"!==ne(U)&&"[object Function]"===ne(U.callee)},K=function(){return re(arguments)}();re.isLegacyArguments=H,ke.exports=K?re:H},1064:(ke,Le,T)=>{"use strict";var D=T(2327),d=T(1074),ne=T(5388),re=T(8854),H=ne("ArrayBuffer",!0),K=ne("Float32Array",!0),F=d("ArrayBuffer.prototype.byteLength",!0),U=H&&!F&&(new H).slice,le=U&&D(U);ke.exports=F||le?function(z){if(!z||"object"!=typeof z)return!1;try{return F?F(z):le(z,0),!0}catch{return!1}}:K?function(z){try{return new K(z).buffer===z&&!re(z)}catch($){return"object"==typeof z&&"RangeError"===$.name}}:function(z){return!1}},3299:(ke,Le,T)=>{"use strict";if(T(1835)()){var d=BigInt.prototype.valueOf;ke.exports=function(H){return!(null===H||typeof H>"u"||"boolean"==typeof H||"string"==typeof H||"number"==typeof H||"symbol"==typeof H||"function"==typeof H)&&("bigint"==typeof H||function(H){try{return d.call(H),!0}catch{}return!1}(H))}}else ke.exports=function(H){return!1}},4783:(ke,Le,T)=>{"use strict";var D=T(1074),d=D("Boolean.prototype.toString"),ne=D("Object.prototype.toString"),K=T(1307)();ke.exports=function(U){return"boolean"==typeof U||null!==U&&"object"==typeof U&&(K&&Symbol.toStringTag in U?function(U){try{return d(U),!0}catch{return!1}}(U):"[object Boolean]"===ne(U))}},9843:ke=>{function Le(D){return!!D.constructor&&"function"==typeof D.constructor.isBuffer&&D.constructor.isBuffer(D)}ke.exports=function(D){return null!=D&&(Le(D)||function T(D){return"function"==typeof D.readFloatLE&&"function"==typeof D.slice&&Le(D.slice(0,0))}(D)||!!D._isBuffer)}},705:ke=>{"use strict";var D,d,Le=Function.prototype.toString,T="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof T&&"function"==typeof Object.defineProperty)try{D=Object.defineProperty({},"length",{get:function(){throw d}}),d={},T(function(){throw 42},null,D)}catch(ue){ue!==d&&(T=null)}else T=null;var ne=/^\s*class\b/,re=function(V){try{var q=Le.call(V);return ne.test(q)}catch{return!1}},H=function(V){try{return!re(V)&&(Le.call(V),!0)}catch{return!1}},K=Object.prototype.toString,L="function"==typeof Symbol&&!!Symbol.toStringTag,G=!(0 in[,]),Re=function(){return!1};if("object"==typeof document){var Pe=document.all;K.call(Pe)===K.call(document.all)&&(Re=function(V){if((G||!V)&&(typeof V>"u"||"object"==typeof V))try{var q=K.call(V);return("[object HTMLAllCollection]"===q||"[object HTML document.all class]"===q||"[object HTMLCollection]"===q||"[object Object]"===q)&&null==V("")}catch{}return!1})}ke.exports=T?function(V){if(Re(V))return!0;if(!V||"function"!=typeof V&&"object"!=typeof V)return!1;try{T(V,null,D)}catch(q){if(q!==d)return!1}return!re(V)&&H(V)}:function(V){if(Re(V))return!0;if(!V||"function"!=typeof V&&"object"!=typeof V)return!1;if(L)return H(V);if(re(V))return!1;var q=K.call(V);return!("[object Function]"!==q&&"[object GeneratorFunction]"!==q&&!/^\[object HTML/.test(q))&&H(V)}},4315:(ke,Le,T)=>{"use strict";var D=Date.prototype.getDay,ne=Object.prototype.toString,H=T(1307)();ke.exports=function(F){return"object"==typeof F&&null!==F&&(H?function(F){try{return D.call(F),!0}catch{return!1}}(F):"[object Date]"===ne.call(F))}},5575:ke=>{"use strict";var D,Le="function"==typeof Map&&Map.prototype?Map:null,T="function"==typeof Set&&Set.prototype?Set:null;Le||(D=function(H){return!1});var d=Le?Map.prototype.has:null,ne=T?Set.prototype.has:null;!D&&!d&&(D=function(H){return!1}),ke.exports=D||function(H){if(!H||"object"!=typeof H)return!1;try{if(d.call(H),ne)try{ne.call(H)}catch{return!0}return H instanceof Le}catch{}return!1}},3165:(ke,Le,T)=>{"use strict";var D=Number.prototype.toString,ne=Object.prototype.toString,H=T(1307)();ke.exports=function(F){return"number"==typeof F||"object"==typeof F&&(H?function(F){try{return D.call(F),!0}catch{return!1}}(F):"[object Number]"===ne.call(F))}},6374:(ke,Le,T)=>{"use strict";var ne,re,H,K,D=T(1074),d=T(1307)();if(d){ne=D("Object.prototype.hasOwnProperty"),re=D("RegExp.prototype.exec"),H={};var F=function(){throw H};K={toString:F,valueOf:F},"symbol"==typeof Symbol.toPrimitive&&(K[Symbol.toPrimitive]=F)}var U=D("Object.prototype.toString"),le=Object.getOwnPropertyDescriptor;ke.exports=d?function($){if(!$||"object"!=typeof $)return!1;var L=le($,"lastIndex");if(!L||!ne(L,"value"))return!1;try{re($,K)}catch(Re){return Re===H}}:function($){return!(!$||"object"!=typeof $&&"function"!=typeof $)&&"[object RegExp]"===U($)}},9540:ke=>{"use strict";var D,Le="function"==typeof Map&&Map.prototype?Map:null,T="function"==typeof Set&&Set.prototype?Set:null;T||(D=function(H){return!1});var d=Le?Map.prototype.has:null,ne=T?Set.prototype.has:null;!D&&!ne&&(D=function(H){return!1}),ke.exports=D||function(H){if(!H||"object"!=typeof H)return!1;try{if(ne.call(H),d)try{d.call(H)}catch{return!0}return H instanceof T}catch{}return!1}},7905:(ke,Le,T)=>{"use strict";var d=T(1074)("SharedArrayBuffer.prototype.byteLength",!0);ke.exports=d?function(re){if(!re||"object"!=typeof re)return!1;try{return d(re),!0}catch{return!1}}:function(re){return!1}},8581:(ke,Le,T)=>{"use strict";var D=String.prototype.valueOf,ne=Object.prototype.toString,H=T(1307)();ke.exports=function(F){return"string"==typeof F||"object"==typeof F&&(H?function(F){try{return D.call(F),!0}catch{return!1}}(F):"[object String]"===ne.call(F))}},7918:(ke,Le,T)=>{"use strict";var D=Object.prototype.toString;if(T(1212)()){var ne=Symbol.prototype.toString,re=/^Symbol\(.*\)$/;ke.exports=function(F){if("symbol"==typeof F)return!0;if("[object Symbol]"!==D.call(F))return!1;try{return function(F){return"symbol"==typeof F.valueOf()&&re.test(ne.call(F))}(F)}catch{return!1}}}else ke.exports=function(F){return!1}},8854:(ke,Le,T)=>{"use strict";var D=T(2485);ke.exports=function(ne){return!!D(ne)}},1118:ke=>{"use strict";var D,Le="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,T="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Le||(D=function(H){return!1});var d=Le?Le.prototype.has:null,ne=T?T.prototype.has:null;!D&&!d&&(D=function(H){return!1}),ke.exports=D||function(H){if(!H||"object"!=typeof H)return!1;try{if(d.call(H,d),ne)try{ne.call(H,ne)}catch{return!0}return H instanceof Le}catch{}return!1}},8987:(ke,Le,T)=>{"use strict";var D=T(5388),d=T(1074),ne=D("%WeakSet%",!0),re=d("WeakSet.prototype.has",!0);if(re){var H=d("WeakMap.prototype.has",!0);ke.exports=function(F){if(!F||"object"!=typeof F)return!1;try{if(re(F,re),H)try{H(F,H)}catch{return!0}return F instanceof ne}catch{}return!1}}else ke.exports=function(F){return!1}},6975:ke=>{var Le={}.toString;ke.exports=Array.isArray||function(T){return"[object Array]"==Le.call(T)}},6943:(ke,Le,T)=>{var D,d,ne,re,H;D=T(7888),d=T(1336).utf8,ne=T(9843),re=T(1336).bin,(H=function(K,F){K.constructor==String?K=F&&"binary"===F.encoding?re.stringToBytes(K):d.stringToBytes(K):ne(K)?K=Array.prototype.slice.call(K,0):!Array.isArray(K)&&K.constructor!==Uint8Array&&(K=K.toString());for(var U=D.bytesToWords(K),le=8*K.length,J=1732584193,z=-271733879,$=-1732584194,L=271733878,G=0;G<U.length;G++)U[G]=16711935&(U[G]<<8|U[G]>>>24)|4278255360&(U[G]<<24|U[G]>>>8);U[le>>>5]|=128<<le%32,U[14+(le+64>>>9<<4)]=le;var Re=H._ff,Pe=H._gg,ue=H._hh,V=H._ii;for(G=0;G<U.length;G+=16){var q=J,de=z,ve=$,fe=L;J=Re(J,z,$,L,U[G+0],7,-680876936),L=Re(L,J,z,$,U[G+1],12,-389564586),$=Re($,L,J,z,U[G+2],17,606105819),z=Re(z,$,L,J,U[G+3],22,-1044525330),J=Re(J,z,$,L,U[G+4],7,-176418897),L=Re(L,J,z,$,U[G+5],12,1200080426),$=Re($,L,J,z,U[G+6],17,-1473231341),z=Re(z,$,L,J,U[G+7],22,-45705983),J=Re(J,z,$,L,U[G+8],7,1770035416),L=Re(L,J,z,$,U[G+9],12,-1958414417),$=Re($,L,J,z,U[G+10],17,-42063),z=Re(z,$,L,J,U[G+11],22,-1990404162),J=Re(J,z,$,L,U[G+12],7,1804603682),L=Re(L,J,z,$,U[G+13],12,-40341101),$=Re($,L,J,z,U[G+14],17,-1502002290),J=Pe(J,z=Re(z,$,L,J,U[G+15],22,1236535329),$,L,U[G+1],5,-165796510),L=Pe(L,J,z,$,U[G+6],9,-1069501632),$=Pe($,L,J,z,U[G+11],14,643717713),z=Pe(z,$,L,J,U[G+0],20,-373897302),J=Pe(J,z,$,L,U[G+5],5,-701558691),L=Pe(L,J,z,$,U[G+10],9,38016083),$=Pe($,L,J,z,U[G+15],14,-660478335),z=Pe(z,$,L,J,U[G+4],20,-405537848),J=Pe(J,z,$,L,U[G+9],5,568446438),L=Pe(L,J,z,$,U[G+14],9,-1019803690),$=Pe($,L,J,z,U[G+3],14,-187363961),z=Pe(z,$,L,J,U[G+8],20,1163531501),J=Pe(J,z,$,L,U[G+13],5,-1444681467),L=Pe(L,J,z,$,U[G+2],9,-51403784),$=Pe($,L,J,z,U[G+7],14,1735328473),J=ue(J,z=Pe(z,$,L,J,U[G+12],20,-1926607734),$,L,U[G+5],4,-378558),L=ue(L,J,z,$,U[G+8],11,-2022574463),$=ue($,L,J,z,U[G+11],16,1839030562),z=ue(z,$,L,J,U[G+14],23,-35309556),J=ue(J,z,$,L,U[G+1],4,-1530992060),L=ue(L,J,z,$,U[G+4],11,1272893353),$=ue($,L,J,z,U[G+7],16,-155497632),z=ue(z,$,L,J,U[G+10],23,-1094730640),J=ue(J,z,$,L,U[G+13],4,681279174),L=ue(L,J,z,$,U[G+0],11,-358537222),$=ue($,L,J,z,U[G+3],16,-722521979),z=ue(z,$,L,J,U[G+6],23,76029189),J=ue(J,z,$,L,U[G+9],4,-640364487),L=ue(L,J,z,$,U[G+12],11,-421815835),$=ue($,L,J,z,U[G+15],16,530742520),J=V(J,z=ue(z,$,L,J,U[G+2],23,-995338651),$,L,U[G+0],6,-198630844),L=V(L,J,z,$,U[G+7],10,1126891415),$=V($,L,J,z,U[G+14],15,-1416354905),z=V(z,$,L,J,U[G+5],21,-57434055),J=V(J,z,$,L,U[G+12],6,1700485571),L=V(L,J,z,$,U[G+3],10,-1894986606),$=V($,L,J,z,U[G+10],15,-1051523),z=V(z,$,L,J,U[G+1],21,-2054922799),J=V(J,z,$,L,U[G+8],6,1873313359),L=V(L,J,z,$,U[G+15],10,-30611744),$=V($,L,J,z,U[G+6],15,-1560198380),z=V(z,$,L,J,U[G+13],21,1309151649),J=V(J,z,$,L,U[G+4],6,-145523070),L=V(L,J,z,$,U[G+11],10,-1120210379),$=V($,L,J,z,U[G+2],15,718787259),z=V(z,$,L,J,U[G+9],21,-343485551),J=J+q>>>0,z=z+de>>>0,$=$+ve>>>0,L=L+fe>>>0}return D.endian([J,z,$,L])})._ff=function(K,F,U,le,J,z,$){var L=K+(F&U|~F&le)+(J>>>0)+$;return(L<<z|L>>>32-z)+F},H._gg=function(K,F,U,le,J,z,$){var L=K+(F&le|U&~le)+(J>>>0)+$;return(L<<z|L>>>32-z)+F},H._hh=function(K,F,U,le,J,z,$){var L=K+(F^U^le)+(J>>>0)+$;return(L<<z|L>>>32-z)+F},H._ii=function(K,F,U,le,J,z,$){var L=K+(U^(F|~le))+(J>>>0)+$;return(L<<z|L>>>32-z)+F},H._blocksize=16,H._digestsize=16,ke.exports=function(K,F){if(null==K)throw new Error("Illegal argument "+K);var U=D.wordsToBytes(H(K,F));return F&&F.asBytes?U:F&&F.asString?re.bytesToString(U):D.bytesToHex(U)}},1634:(ke,Le)=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var T=[];T[0]=function(){return function(){}},T[1]=function(re,H){return typeof H>"u"?re:function(F){re(F,H)}};var ne=function(){function re(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return re.prototype.addHandler=function(H,K){return this.isHandlerAttached(H,K)||(this._handlers.push(H),this._contexts.push(K),this._createDispatcher(),this._updateHasHandlers()),this},re.prototype.removeHandler=function(H,K){var F=this._getHandlerIndex(H,K);return typeof F<"u"&&(this._handlers.splice(F,1),this._contexts.splice(F,1),this._createDispatcher(),this._updateHasHandlers()),this},re.prototype.isHandlerAttached=function(H,K){return typeof this._getHandlerIndex(H,K)<"u"},re.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},re.prototype._getHandlerIndex=function(H,K){var U,F=this._handlers.length;for(U=0;U<F&&(this._handlers[U]!==H||this._contexts[U]!==K);U++);return U<F?U:void 0},re.prototype._createDispatcher=function(){this.dispatch=function D(re){return T[re]||(T[re]=function d(re){for(var H="return function dispatcher"+re+"(payload) {\n",K=[],F=[],U=0;U<re;U++)K.push("cb"+U),F.push("ctx"+U),H+="    cb"+U+"(payload, ctx"+U+");\n";return H+="};",new(Function.bind.apply(Function,[void 0].concat(K.concat(F),[H])))}(re)),T[re]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},re}();Le.default=ne},5865:(ke,Le,T)=>{"use strict";var d=T(1634);Le.j=d.default},6920:(ke,Le,T)=>{var D="function"==typeof Map&&Map.prototype,d=Object.getOwnPropertyDescriptor&&D?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ne=D&&d&&"function"==typeof d.get?d.get:null,re=D&&Map.prototype.forEach,H="function"==typeof Set&&Set.prototype,K=Object.getOwnPropertyDescriptor&&H?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,F=H&&K&&"function"==typeof K.get?K.get:null,U=H&&Set.prototype.forEach,J="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,$="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,G="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Re=Boolean.prototype.valueOf,Pe=Object.prototype.toString,ue=Function.prototype.toString,V=String.prototype.match,q=String.prototype.slice,de=String.prototype.replace,ve=String.prototype.toUpperCase,fe=String.prototype.toLowerCase,Je=RegExp.prototype.test,Qe=Array.prototype.concat,ae=Array.prototype.join,pe=Array.prototype.slice,rt=Math.floor,ze="function"==typeof BigInt?BigInt.prototype.valueOf:null,N=Object.getOwnPropertySymbols,j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,$e="function"==typeof Symbol&&"object"==typeof Symbol.iterator,ft="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,It=Object.prototype.propertyIsEnumerable,zt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(De){return De.__proto__}:null);function Ge(De,me){if(De===1/0||De===-1/0||De!=De||De&&De>-1e3&&De<1e3||Je.call(/e/,me))return me;var Ht=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof De){var Zt=De<0?-rt(-De):rt(De);if(Zt!==De){var Hn=String(Zt),ln=q.call(me,Hn.length+1);return de.call(Hn,Ht,"$&_")+"."+de.call(de.call(ln,/([0-9]{3})/g,"$&_"),/_$/,"")}}return de.call(me,Ht,"$&_")}var we=T(4654),He=we.custom,et=tt(He)?He:null;function jt(De,me,Ht){var Zt="double"===(Ht.quoteStyle||me)?'"':"'";return Zt+De+Zt}function Vt(De){return de.call(String(De),/"/g,"&quot;")}function Oe(De){return!("[object Array]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}function Et(De){return!("[object RegExp]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}function tt(De){if($e)return De&&"object"==typeof De&&De instanceof Symbol;if("symbol"==typeof De)return!0;if(!De||"object"!=typeof De||!j)return!1;try{return j.call(De),!0}catch{}return!1}ke.exports=function De(me,Ht,Zt,Hn){var ln=Ht||{};if(wn(ln,"quoteStyle")&&"single"!==ln.quoteStyle&&"double"!==ln.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(wn(ln,"maxStringLength")&&("number"==typeof ln.maxStringLength?ln.maxStringLength<0&&ln.maxStringLength!==1/0:null!==ln.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var wr=!wn(ln,"customInspect")||ln.customInspect;if("boolean"!=typeof wr&&"symbol"!==wr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(wn(ln,"indent")&&null!==ln.indent&&"\t"!==ln.indent&&!(parseInt(ln.indent,10)===ln.indent&&ln.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(wn(ln,"numericSeparator")&&"boolean"!=typeof ln.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var co=ln.numericSeparator;if(typeof me>"u")return"undefined";if(null===me)return"null";if("boolean"==typeof me)return me?"true":"false";if("string"==typeof me)return si(me,ln);if("number"==typeof me){if(0===me)return 1/0/me>0?"0":"-0";var vr=String(me);return co?Ge(me,vr):vr}if("bigint"==typeof me){var to=String(me)+"n";return co?Ge(me,to):to}var uo=typeof ln.depth>"u"?5:ln.depth;if(typeof Zt>"u"&&(Zt=0),Zt>=uo&&uo>0&&"object"==typeof me)return Oe(me)?"[Array]":"[Object]";var yr=function Tr(De,me){var Ht;if("\t"===De.indent)Ht="\t";else{if(!("number"==typeof De.indent&&De.indent>0))return null;Ht=ae.call(Array(De.indent+1)," ")}return{base:Ht,prev:ae.call(Array(me+1),Ht)}}(ln,Zt);if(typeof Hn>"u")Hn=[];else if(_n(Hn,me)>=0)return"[Circular]";function Pt(Fr,po,tr){if(po&&(Hn=pe.call(Hn)).push(po),tr){var Lo={depth:ln.depth};return wn(ln,"quoteStyle")&&(Lo.quoteStyle=ln.quoteStyle),De(Fr,Lo,Zt+1,Hn)}return De(Fr,ln,Zt+1,Hn)}if("function"==typeof me&&!Et(me)){var cn=function In(De){if(De.name)return De.name;var me=V.call(ue.call(De),/^function\s*([\w$]+)/);return me?me[1]:null}(me),en=Xn(me,Pt);return"[Function"+(cn?": "+cn:" (anonymous)")+"]"+(en.length>0?" { "+ae.call(en,", ")+" }":"")}if(tt(me)){var To=$e?de.call(String(me),/^(Symbol\(.*\))_[^)]*$/,"$1"):j.call(me);return"object"!=typeof me||$e?To:Ze(To)}if(function No(De){return!(!De||"object"!=typeof De)&&(typeof HTMLElement<"u"&&De instanceof HTMLElement||"string"==typeof De.nodeName&&"function"==typeof De.getAttribute)}(me)){for(var bo="<"+fe.call(String(me.nodeName)),Ni=me.attributes||[],ai=0;ai<Ni.length;ai++)bo+=" "+Ni[ai].name+"="+jt(Vt(Ni[ai].value),"double",ln);return bo+=">",me.childNodes&&me.childNodes.length&&(bo+="..."),bo+"</"+fe.call(String(me.nodeName))+">"}if(Oe(me)){if(0===me.length)return"[]";var vi=Xn(me,Pt);return yr&&!function Ur(De){for(var me=0;me<De.length;me++)if(_n(De[me],"\n")>=0)return!1;return!0}(vi)?"["+eo(vi,yr)+"]":"[ "+ae.call(vi,", ")+" ]"}if(function pt(De){return!("[object Error]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}(me)){var k=Xn(me,Pt);return"cause"in Error.prototype||!("cause"in me)||It.call(me,"cause")?0===k.length?"["+String(me)+"]":"{ ["+String(me)+"] "+ae.call(k,", ")+" }":"{ ["+String(me)+"] "+ae.call(Qe.call("[cause]: "+Pt(me.cause),k),", ")+" }"}if("object"==typeof me&&wr){if(et&&"function"==typeof me[et]&&we)return we(me,{depth:uo-Zt});if("symbol"!==wr&&"function"==typeof me.inspect)return me.inspect()}if(function zr(De){if(!ne||!De||"object"!=typeof De)return!1;try{ne.call(De);try{F.call(De)}catch{return!0}return De instanceof Map}catch{}return!1}(me)){var I=[];return re&&re.call(me,function(Fr,po){I.push(Pt(po,me,!0)+" => "+Pt(Fr,me))}),Wr("Map",ne.call(me),I,yr)}if(function _r(De){if(!F||!De||"object"!=typeof De)return!1;try{F.call(De);try{ne.call(De)}catch{return!0}return De instanceof Set}catch{}return!1}(me)){var x=[];return U&&U.call(me,function(Fr){x.push(Pt(Fr,me))}),Wr("Set",F.call(me),x,yr)}if(function Cr(De){if(!J||!De||"object"!=typeof De)return!1;try{J.call(De,J);try{$.call(De,$)}catch{return!0}return De instanceof WeakMap}catch{}return!1}(me))return Wt("WeakMap");if(function ii(De){if(!$||!De||"object"!=typeof De)return!1;try{$.call(De,$);try{J.call(De,J)}catch{return!0}return De instanceof WeakSet}catch{}return!1}(me))return Wt("WeakSet");if(function lr(De){if(!G||!De||"object"!=typeof De)return!1;try{return G.call(De),!0}catch{}return!1}(me))return Wt("WeakRef");if(function We(De){return!("[object Number]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}(me))return Ze(Pt(Number(me)));if(function ht(De){if(!De||"object"!=typeof De||!ze)return!1;try{return ze.call(De),!0}catch{}return!1}(me))return Ze(Pt(ze.call(me)));if(function qe(De){return!("[object Boolean]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}(me))return Ze(Re.call(me));if(function Ie(De){return!("[object String]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}(me))return Ze(Pt(String(me)));if(!function ot(De){return!("[object Date]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}(me)&&!Et(me)){var Ao=Xn(me,Pt),li=zt?zt(me)===Object.prototype:me instanceof Object||me.constructor===Object,zi=me instanceof Object?"":"null prototype",Co=!li&&ft&&Object(me)===me&&ft in me?q.call(Jt(me),8,-1):zi?"Object":"",yi=(li||"function"!=typeof me.constructor?"":me.constructor.name?me.constructor.name+" ":"")+(Co||zi?"["+ae.call(Qe.call([],Co||[],zi||[]),": ")+"] ":"");return 0===Ao.length?yi+"{}":yr?yi+"{"+eo(Ao,yr)+"}":yi+"{ "+ae.call(Ao,", ")+" }"}return String(me)};var W=Object.prototype.hasOwnProperty||function(De){return De in this};function wn(De,me){return W.call(De,me)}function Jt(De){return Pe.call(De)}function _n(De,me){if(De.indexOf)return De.indexOf(me);for(var Ht=0,Zt=De.length;Ht<Zt;Ht++)if(De[Ht]===me)return Ht;return-1}function si(De,me){if(De.length>me.maxStringLength){var Ht=De.length-me.maxStringLength,Zt="... "+Ht+" more character"+(Ht>1?"s":"");return si(q.call(De,0,me.maxStringLength),me)+Zt}return jt(de.call(de.call(De,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Go),"single",me)}function Go(De){var me=De.charCodeAt(0),Ht={8:"b",9:"t",10:"n",12:"f",13:"r"}[me];return Ht?"\\"+Ht:"\\x"+(me<16?"0":"")+ve.call(me.toString(16))}function Ze(De){return"Object("+De+")"}function Wt(De){return De+" { ? }"}function Wr(De,me,Ht,Zt){return De+" ("+me+") {"+(Zt?eo(Ht,Zt):ae.call(Ht,", "))+"}"}function eo(De,me){if(0===De.length)return"";var Ht="\n"+me.prev+me.base;return Ht+ae.call(De,","+Ht)+"\n"+me.prev}function Xn(De,me){var Ht=Oe(De),Zt=[];if(Ht){Zt.length=De.length;for(var Hn=0;Hn<De.length;Hn++)Zt[Hn]=wn(De,Hn)?me(De[Hn],De):""}var wr,ln="function"==typeof N?N(De):[];if($e){wr={};for(var co=0;co<ln.length;co++)wr["$"+ln[co]]=ln[co]}for(var vr in De)wn(De,vr)&&(Ht&&String(Number(vr))===vr&&vr<De.length||$e&&wr["$"+vr]instanceof Symbol||(Je.call(/[^\w$]/,vr)?Zt.push(me(vr,De)+": "+me(De[vr],De)):Zt.push(vr+": "+me(De[vr],De))));if("function"==typeof N)for(var to=0;to<ln.length;to++)It.call(De,ln[to])&&Zt.push("["+me(ln[to])+"]: "+me(De[ln[to]],De));return Zt}},1086:ke=>{"use strict";var Le=function(T){return T!=T};ke.exports=function(D,d){return 0===D&&0===d?1/D==1/d:!!(D===d||Le(D)&&Le(d))}},2422:(ke,Le,T)=>{"use strict";var D=T(1299),d=T(2327),ne=T(1086),re=T(2868),H=T(1112),K=d(re(),Object);D(K,{getPolyfill:re,implementation:ne,shim:H}),ke.exports=K},2868:(ke,Le,T)=>{"use strict";var D=T(1086);ke.exports=function(){return"function"==typeof Object.is?Object.is:D}},1112:(ke,Le,T)=>{"use strict";var D=T(2868),d=T(1299);ke.exports=function(){var re=D();return d(Object,{is:re},{is:function(){return Object.is!==re}}),re}},2363:(ke,Le,T)=>{"use strict";var D;if(!Object.keys){var d=Object.prototype.hasOwnProperty,ne=Object.prototype.toString,re=T(8418),H=Object.prototype.propertyIsEnumerable,K=!H.call({toString:null},"toString"),F=H.call(function(){},"prototype"),U=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],le=function(L){var G=L.constructor;return G&&G.prototype===L},J={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},z=function(){if(typeof window>"u")return!1;for(var L in window)try{if(!J["$"+L]&&d.call(window,L)&&null!==window[L]&&"object"==typeof window[L])try{le(window[L])}catch{return!0}}catch{return!0}return!1}();D=function(G){var Re=null!==G&&"object"==typeof G,Pe="[object Function]"===ne.call(G),ue=re(G),V=Re&&"[object String]"===ne.call(G),q=[];if(!Re&&!Pe&&!ue)throw new TypeError("Object.keys called on a non-object");var de=F&&Pe;if(V&&G.length>0&&!d.call(G,0))for(var ve=0;ve<G.length;++ve)q.push(String(ve));if(ue&&G.length>0)for(var fe=0;fe<G.length;++fe)q.push(String(fe));else for(var Je in G)(!de||"prototype"!==Je)&&d.call(G,Je)&&q.push(String(Je));if(K)for(var Qe=function(L){if(typeof window>"u"||!z)return le(L);try{return le(L)}catch{return!1}}(G),ae=0;ae<U.length;++ae)(!Qe||"constructor"!==U[ae])&&d.call(G,U[ae])&&q.push(U[ae]);return q}}ke.exports=D},7073:(ke,Le,T)=>{"use strict";var D=Array.prototype.slice,d=T(8418),ne=Object.keys,re=ne?function(F){return ne(F)}:T(2363),H=Object.keys;re.shim=function(){if(Object.keys){var F=function(){var U=Object.keys(arguments);return U&&U.length===arguments.length}(1,2);F||(Object.keys=function(le){return d(le)?H(D.call(le)):H(le)})}else Object.keys=re;return Object.keys||re},ke.exports=re},8418:ke=>{"use strict";var Le=Object.prototype.toString;ke.exports=function(D){var d=Le.call(D),ne="[object Arguments]"===d;return ne||(ne="[object Array]"!==d&&null!==D&&"object"==typeof D&&"number"==typeof D.length&&D.length>=0&&"[object Function]"===Le.call(D.callee)),ne}},4797:(ke,Le,T)=>{"use strict";var D=T(7073),d=T(6646)(),ne=T(1074),re=Object,H=ne("Array.prototype.push"),K=ne("Object.prototype.propertyIsEnumerable"),F=d?Object.getOwnPropertySymbols:null;ke.exports=function(le,J){if(null==le)throw new TypeError("target must be an object");var z=re(le);if(1===arguments.length)return z;for(var $=1;$<arguments.length;++$){var L=re(arguments[$]),G=D(L),Re=d&&(Object.getOwnPropertySymbols||F);if(Re)for(var Pe=Re(L),ue=0;ue<Pe.length;++ue){var V=Pe[ue];K(L,V)&&H(G,V)}for(var q=0;q<G.length;++q){var de=G[q];K(L,de)&&(z[de]=L[de])}}return z}},5658:(ke,Le,T)=>{"use strict";var D=T(1299),d=T(2327),ne=T(4797),re=T(3202),H=T(56),K=d.apply(re()),F=function(le,J){return K(Object,arguments)};D(F,{getPolyfill:re,implementation:ne,shim:H}),ke.exports=F},3202:(ke,Le,T)=>{"use strict";var D=T(4797);ke.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var re="abcdefghijklmnopqrst",H=re.split(""),K={},F=0;F<H.length;++F)K[H[F]]=H[F];var U=Object.assign({},K),le="";for(var J in U)le+=J;return re!==le}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var re=Object.preventExtensions({1:2});try{Object.assign(re,"xy")}catch{return"y"===re[1]}return!1}()?D:Object.assign}},56:(ke,Le,T)=>{"use strict";var D=T(1299),d=T(3202);ke.exports=function(){var re=d();return D(Object,{assign:re},{assign:function(){return Object.assign!==re}}),re}},8692:(ke,Le)=>{"use strict";var T=Object.prototype.hasOwnProperty;function d(K){try{return decodeURIComponent(K.replace(/\+/g," "))}catch{return null}}function ne(K){try{return encodeURIComponent(K)}catch{return null}}Le.stringify=function H(K,F){F=F||"";var le,J,U=[];for(J in"string"!=typeof F&&(F="?"),K)if(T.call(K,J)){if(!(le=K[J])&&(null==le||isNaN(le))&&(le=""),J=ne(J),le=ne(le),null===J||null===le)continue;U.push(J+"="+le)}return U.length?F+U.join("&"):""},Le.parse=function re(K){for(var le,F=/([^=?#&]+)=?([^&]*)/g,U={};le=F.exec(K);){var J=d(le[1]),z=d(le[2]);null===J||null===z||J in U||(U[J]=z)}return U}},6227:(ke,Le,T)=>{"use strict";var D=T(7993).functionsHaveConfigurableNames(),d=Object,ne=TypeError;ke.exports=function(){if(null!=this&&this!==d(this))throw new ne("RegExp.prototype.flags getter called on non-object");var H="";return this.hasIndices&&(H+="d"),this.global&&(H+="g"),this.ignoreCase&&(H+="i"),this.multiline&&(H+="m"),this.dotAll&&(H+="s"),this.unicode&&(H+="u"),this.unicodeSets&&(H+="v"),this.sticky&&(H+="y"),H},D&&Object.defineProperty&&Object.defineProperty(ke.exports,"name",{value:"get flags"})},4257:(ke,Le,T)=>{"use strict";var D=T(1299),d=T(2327),ne=T(6227),re=T(5948),H=T(5353),K=d(re());D(K,{getPolyfill:re,implementation:ne,shim:H}),ke.exports=K},5948:(ke,Le,T)=>{"use strict";var D=T(6227),d=T(1299).supportsDescriptors,ne=Object.getOwnPropertyDescriptor;ke.exports=function(){if(d&&"gim"===/a/gim.flags){var H=ne(RegExp.prototype,"flags");if(H&&"function"==typeof H.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var K="",F={};if(Object.defineProperty(F,"hasIndices",{get:function(){K+="d"}}),Object.defineProperty(F,"sticky",{get:function(){K+="y"}}),"dy"===K)return H.get}}return D}},5353:(ke,Le,T)=>{"use strict";var D=T(1299).supportsDescriptors,d=T(5948),ne=Object.getOwnPropertyDescriptor,re=Object.defineProperty,H=TypeError,K=Object.getPrototypeOf,F=/a/;ke.exports=function(){if(!D||!K)throw new H("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var le=d(),J=K(F),z=ne(J,"flags");return(!z||z.get!==le)&&re(J,"flags",{configurable:!0,enumerable:!1,get:le}),le}},1813:ke=>{"use strict";ke.exports=function(T,D){if(D=D.split(":")[0],!(T=+T))return!1;switch(D){case"http":case"ws":return 80!==T;case"https":case"wss":return 443!==T;case"ftp":return 21!==T;case"gopher":return 70!==T;case"file":return!1}return 0!==T}},3147:(ke,Le,T)=>{"use strict";var D=T(5388),d=T(1074),ne=T(6920),re=D("%TypeError%"),H=D("%WeakMap%",!0),K=D("%Map%",!0),F=d("WeakMap.prototype.get",!0),U=d("WeakMap.prototype.set",!0),le=d("WeakMap.prototype.has",!0),J=d("Map.prototype.get",!0),z=d("Map.prototype.set",!0),$=d("Map.prototype.has",!0),L=function(ue,V){for(var de,q=ue;null!==(de=q.next);q=de)if(de.key===V)return q.next=de.next,de.next=ue.next,ue.next=de,de};ke.exports=function(){var V,q,de,ve={assert:function(fe){if(!ve.has(fe))throw new re("Side channel does not contain "+ne(fe))},get:function(fe){if(H&&fe&&("object"==typeof fe||"function"==typeof fe)){if(V)return F(V,fe)}else if(K){if(q)return J(q,fe)}else if(de)return function(ue,V){var q=L(ue,V);return q&&q.value}(de,fe)},has:function(fe){if(H&&fe&&("object"==typeof fe||"function"==typeof fe)){if(V)return le(V,fe)}else if(K){if(q)return $(q,fe)}else if(de)return function(ue,V){return!!L(ue,V)}(de,fe);return!1},set:function(fe,Je){H&&fe&&("object"==typeof fe||"function"==typeof fe)?(V||(V=new H),U(V,fe,Je)):K?(q||(q=new K),z(q,fe,Je)):(de||(de={key:{},next:null}),function(ue,V,q){var de=L(ue,V);de?de.value=q:ue.next={key:V,next:ue.next,value:q}}(de,fe,Je))}};return ve}},2419:(ke,Le,T)=>{"use strict";var D=T(9372),d=SyntaxError,ne="object"==typeof StopIteration?StopIteration:null;ke.exports=function(H){if(!ne)throw new d("this environment lacks StopIteration");D.set(H,"[[Done]]",!1);var K={next:function(){var U=D.get(this,"[[Iterator]]"),le=D.get(U,"[[Done]]");try{return{done:le,value:le?void 0:U.next()}}catch(J){if(D.set(U,"[[Done]]",!0),J!==ne)throw J;return{done:!0,value:void 0}}}};return D.set(K,"[[Iterator]]",H),K}},8062:(ke,Le,T)=>{"use strict";var D=T(1813),d=T(8692),ne=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,re=/[\n\r\t]/g,H=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,K=/:\d+$/,F=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,U=/^[a-zA-Z]:/;function le(q){return(q||"").toString().replace(ne,"")}var J=[["#","hash"],["?","query"],function(de,ve){return L(ve.protocol)?de.replace(/\\/g,"/"):de},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],z={hash:1,query:1};function $(q){var de;de=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qe,fe={},Je=typeof(q=q||de.location||{});if("blob:"===q.protocol)fe=new Pe(unescape(q.pathname),{});else if("string"===Je)for(Qe in fe=new Pe(q,{}),z)delete fe[Qe];else if("object"===Je){for(Qe in q)Qe in z||(fe[Qe]=q[Qe]);void 0===fe.slashes&&(fe.slashes=H.test(q.href))}return fe}function L(q){return"file:"===q||"ftp:"===q||"http:"===q||"https:"===q||"ws:"===q||"wss:"===q}function G(q,de){q=(q=le(q)).replace(re,""),de=de||{};var pe,ve=F.exec(q),fe=ve[1]?ve[1].toLowerCase():"",Je=!!ve[2],Qe=!!ve[3],ae=0;return Je?Qe?(pe=ve[2]+ve[3]+ve[4],ae=ve[2].length+ve[3].length):(pe=ve[2]+ve[4],ae=ve[2].length):Qe?(pe=ve[3]+ve[4],ae=ve[3].length):pe=ve[4],"file:"===fe?ae>=2&&(pe=pe.slice(2)):L(fe)?pe=ve[4]:fe?Je&&(pe=pe.slice(2)):ae>=2&&L(de.protocol)&&(pe=ve[4]),{protocol:fe,slashes:Je||L(fe),slashesCount:ae,rest:pe}}function Pe(q,de,ve){if(q=(q=le(q)).replace(re,""),!(this instanceof Pe))return new Pe(q,de,ve);var fe,Je,Qe,ae,pe,rt,ze=J.slice(),N=typeof de,j=this,$e=0;for("object"!==N&&"string"!==N&&(ve=de,de=null),ve&&"function"!=typeof ve&&(ve=d.parse),fe=!(Je=G(q||"",de=$(de))).protocol&&!Je.slashes,j.slashes=Je.slashes||fe&&de.slashes,j.protocol=Je.protocol||de.protocol||"",q=Je.rest,("file:"===Je.protocol&&(2!==Je.slashesCount||U.test(q))||!Je.slashes&&(Je.protocol||Je.slashesCount<2||!L(j.protocol)))&&(ze[3]=[/(.*)/,"pathname"]);$e<ze.length;$e++)"function"!=typeof(ae=ze[$e])?(rt=ae[1],(Qe=ae[0])!=Qe?j[rt]=q:"string"==typeof Qe?~(pe="@"===Qe?q.lastIndexOf(Qe):q.indexOf(Qe))&&("number"==typeof ae[2]?(j[rt]=q.slice(0,pe),q=q.slice(pe+ae[2])):(j[rt]=q.slice(pe),q=q.slice(0,pe))):(pe=Qe.exec(q))&&(j[rt]=pe[1],q=q.slice(0,pe.index)),j[rt]=j[rt]||fe&&ae[3]&&de[rt]||"",ae[4]&&(j[rt]=j[rt].toLowerCase())):q=ae(q,j);ve&&(j.query=ve(j.query)),fe&&de.slashes&&"/"!==j.pathname.charAt(0)&&(""!==j.pathname||""!==de.pathname)&&(j.pathname=function Re(q,de){if(""===q)return de;for(var ve=(de||"/").split("/").slice(0,-1).concat(q.split("/")),fe=ve.length,Je=ve[fe-1],Qe=!1,ae=0;fe--;)"."===ve[fe]?ve.splice(fe,1):".."===ve[fe]?(ve.splice(fe,1),ae++):ae&&(0===fe&&(Qe=!0),ve.splice(fe,1),ae--);return Qe&&ve.unshift(""),("."===Je||".."===Je)&&ve.push(""),ve.join("/")}(j.pathname,de.pathname)),"/"!==j.pathname.charAt(0)&&L(j.protocol)&&(j.pathname="/"+j.pathname),D(j.port,j.protocol)||(j.host=j.hostname,j.port=""),j.username=j.password="",j.auth&&(~(pe=j.auth.indexOf(":"))?(j.username=j.auth.slice(0,pe),j.username=encodeURIComponent(decodeURIComponent(j.username)),j.password=j.auth.slice(pe+1),j.password=encodeURIComponent(decodeURIComponent(j.password))):j.username=encodeURIComponent(decodeURIComponent(j.auth)),j.auth=j.password?j.username+":"+j.password:j.username),j.origin="file:"!==j.protocol&&L(j.protocol)&&j.host?j.protocol+"//"+j.host:"null",j.href=j.toString()}Pe.prototype={set:function ue(q,de,ve){var fe=this;switch(q){case"query":"string"==typeof de&&de.length&&(de=(ve||d.parse)(de)),fe[q]=de;break;case"port":fe[q]=de,D(de,fe.protocol)?de&&(fe.host=fe.hostname+":"+de):(fe.host=fe.hostname,fe[q]="");break;case"hostname":fe[q]=de,fe.port&&(de+=":"+fe.port),fe.host=de;break;case"host":fe[q]=de,K.test(de)?(de=de.split(":"),fe.port=de.pop(),fe.hostname=de.join(":")):(fe.hostname=de,fe.port="");break;case"protocol":fe.protocol=de.toLowerCase(),fe.slashes=!ve;break;case"pathname":case"hash":if(de){var Je="pathname"===q?"/":"#";fe[q]=de.charAt(0)!==Je?Je+de:de}else fe[q]=de;break;case"username":case"password":fe[q]=encodeURIComponent(de);break;case"auth":var Qe=de.indexOf(":");~Qe?(fe.username=de.slice(0,Qe),fe.username=encodeURIComponent(decodeURIComponent(fe.username)),fe.password=de.slice(Qe+1),fe.password=encodeURIComponent(decodeURIComponent(fe.password))):fe.username=encodeURIComponent(decodeURIComponent(de))}for(var ae=0;ae<J.length;ae++){var pe=J[ae];pe[4]&&(fe[pe[1]]=fe[pe[1]].toLowerCase())}return fe.auth=fe.password?fe.username+":"+fe.password:fe.username,fe.origin="file:"!==fe.protocol&&L(fe.protocol)&&fe.host?fe.protocol+"//"+fe.host:"null",fe.href=fe.toString(),fe},toString:function V(q){(!q||"function"!=typeof q)&&(q=d.stringify);var de,ve=this,fe=ve.host,Je=ve.protocol;Je&&":"!==Je.charAt(Je.length-1)&&(Je+=":");var Qe=Je+(ve.protocol&&ve.slashes||L(ve.protocol)?"//":"");return ve.username?(Qe+=ve.username,ve.password&&(Qe+=":"+ve.password),Qe+="@"):ve.password?(Qe+=":"+ve.password,Qe+="@"):"file:"!==ve.protocol&&L(ve.protocol)&&!fe&&"/"!==ve.pathname&&(Qe+="@"),(":"===fe[fe.length-1]||K.test(ve.hostname)&&!ve.port)&&(fe+=":"),Qe+=fe+ve.pathname,(de="object"==typeof ve.query?q(ve.query):ve.query)&&(Qe+="?"!==de.charAt(0)?"?"+de:de),ve.hash&&(Qe+=ve.hash),Qe}},Pe.extractProtocol=G,Pe.location=$,Pe.trimLeft=le,Pe.qs=d,ke.exports=Pe},5407:(ke,Le,T)=>{"use strict";var D=T(8581),d=T(3165),ne=T(4783),re=T(7918),H=T(3299);ke.exports=function(F){return null==F||"object"!=typeof F&&"function"!=typeof F?null:D(F)?"String":d(F)?"Number":ne(F)?"Boolean":re(F)?"Symbol":H(F)?"BigInt":void 0}},2485:(ke,Le,T)=>{"use strict";var D=T(4411),d=T(1951),ne=T(2327),re=T(1074),H=T(6831),K=re("Object.prototype.toString"),F=T(1307)(),U=typeof globalThis>"u"?global:globalThis,le=d(),J=re("String.prototype.slice"),z=Object.getPrototypeOf,$=re("Array.prototype.indexOf",!0)||function(ue,V){for(var q=0;q<ue.length;q+=1)if(ue[q]===V)return q;return-1},L={__proto__:null};D(le,F&&H&&z?function(Pe){var ue=new U[Pe];if(Symbol.toStringTag in ue){var V=z(ue),q=H(V,Symbol.toStringTag);if(!q){var de=z(V);q=H(de,Symbol.toStringTag)}L["$"+Pe]=ne(q.get)}}:function(Pe){var ue=new U[Pe];L["$"+Pe]=ne(ue.slice)}),ke.exports=function(ue){if(!ue||"object"!=typeof ue)return!1;if(!F){var V=J(K(ue),8,-1);return $(le,V)>-1?V:"Object"===V&&function(ue){var V=!1;return D(L,function(q,de){if(!V)try{q(ue),V=J(de,1)}catch{}}),V}(ue)}return H?function(ue){var V=!1;return D(L,function(q,de){if(!V)try{"$"+q(ue)===de&&(V=J(de,1))}catch{}}),V}(ue):null}},863:(ke,Le,T)=>{var D={"./ion-accordion_2.entry.js":[5496,8592,5496],"./ion-action-sheet.entry.js":[4221,8592,4221],"./ion-alert.entry.js":[4149,8592,4149],"./ion-app_8.entry.js":[2255,8592,2255],"./ion-avatar_3.entry.js":[6172,6172],"./ion-back-button.entry.js":[3838,8592,3838],"./ion-backdrop.entry.js":[2665,2665],"./ion-breadcrumb_2.entry.js":[8022,8592,8022],"./ion-button_2.entry.js":[2218,2218],"./ion-card_5.entry.js":[4366,4366],"./ion-checkbox.entry.js":[1615,8592,1615],"./ion-chip.entry.js":[6166,6166],"./ion-col_3.entry.js":[2656,2656],"./ion-datetime-button.entry.js":[2100,1284,2100],"./ion-datetime_3.entry.js":[5384,1284,8592,5384],"./ion-fab_3.entry.js":[5961,8592,5961],"./ion-img.entry.js":[8070,8070],"./ion-infinite-scroll_2.entry.js":[4303,8592,4303],"./ion-input.entry.js":[3655,8592,3655],"./ion-item-option_3.entry.js":[9963,8592,9963],"./ion-item_8.entry.js":[7137,8592,7137],"./ion-loading.entry.js":[4077,4077],"./ion-menu_3.entry.js":[4247,8592,4247],"./ion-modal.entry.js":[8405,8592,8405],"./ion-nav_2.entry.js":[2818,8592,2818],"./ion-picker-column-internal.entry.js":[4551,8592,4551],"./ion-picker-internal.entry.js":[5698,5698],"./ion-popover.entry.js":[4485,4485],"./ion-progress-bar.entry.js":[7278,7278],"./ion-radio_2.entry.js":[21,8592,21],"./ion-range.entry.js":[4439,8592,4439],"./ion-refresher_2.entry.js":[2049,8592,2049],"./ion-reorder_2.entry.js":[9320,8592,9320],"./ion-ripple-effect.entry.js":[2259,2259],"./ion-route_4.entry.js":[8482,8482],"./ion-searchbar.entry.js":[5293,8592,5293],"./ion-segment_2.entry.js":[6637,8592,6637],"./ion-select_3.entry.js":[3245,8592,3245],"./ion-spinner.entry.js":[2431,8592,2431],"./ion-split-pane.entry.js":[1048,1048],"./ion-tab-bar_2.entry.js":[9465,8592,9465],"./ion-tab_2.entry.js":[4245,4245],"./ion-text.entry.js":[8268,8268],"./ion-textarea.entry.js":[1864,8592,1864],"./ion-toast.entry.js":[7013,7013],"./ion-toggle.entry.js":[1713,8592,1713]};function d(ne){if(!T.o(D,ne))return Promise.resolve().then(()=>{var K=new Error("Cannot find module '"+ne+"'");throw K.code="MODULE_NOT_FOUND",K});var re=D[ne],H=re[0];return Promise.all(re.slice(1).map(T.e)).then(()=>T(H))}d.keys=()=>Object.keys(D),d.id=863,ke.exports=d},4654:()=>{},1951:ke=>{"use strict";var Le=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],T=typeof globalThis>"u"?global:globalThis;ke.exports=function(){for(var d=[],ne=0;ne<Le.length;ne++)"function"==typeof T[Le[ne]]&&(d[d.length]=Le[ne]);return d}},1558:(ke,Le,T)=>{"use strict";var D=T(551),d=T(2419);if(T(1212)()||T(6646)()){var ne=Symbol.iterator;ke.exports=function(pe){return null!=pe&&typeof pe[ne]<"u"?pe[ne]():D(pe)?Array.prototype[ne].call(pe):void 0}}else{var re=T(6975),H=T(8581),K=T(5388),F=K("%Map%",!0),U=K("%Set%",!0),le=T(1074),J=le("Array.prototype.push"),z=le("String.prototype.charCodeAt"),$=le("String.prototype.slice"),G=function(pe){var rt=0;return{next:function(){var j,N=rt>=pe.length;return N||(j=pe[rt],rt+=1),{done:N,value:j}}}},Re=function(pe,rt){if(re(pe)||D(pe))return G(pe);if(H(pe)){var ze=0;return{next:function(){var j=function(pe,rt){if(rt+1>=pe.length)return rt+1;var N=z(pe,rt);if(N<55296||N>56319)return rt+1;var j=z(pe,rt+1);return j<56320||j>57343?rt+1:rt+2}(pe,ze),$e=$(pe,ze,j);return ze=j,{done:j>pe.length,value:$e}}}}return rt&&typeof pe["_es6-shim iterator_"]<"u"?pe["_es6-shim iterator_"]():void 0};if(F||U){var Pe=T(5575),ue=T(9540),V=le("Map.prototype.forEach",!0),q=le("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var de=le("Map.prototype.iterator",!0),ve=le("Set.prototype.iterator",!0);var fe=le("Map.prototype.@@iterator",!0)||le("Map.prototype._es6-shim iterator_",!0),Je=le("Set.prototype.@@iterator",!0)||le("Set.prototype._es6-shim iterator_",!0);ke.exports=function(pe){return function(pe){if(Pe(pe)){if(de)return d(de(pe));if(fe)return fe(pe);if(V){var rt=[];return V(pe,function(N,j){J(rt,[j,N])}),G(rt)}}if(ue(pe)){if(ve)return d(ve(pe));if(Je)return Je(pe);if(q){var ze=[];return q(pe,function(N){J(ze,N)}),G(ze)}}}(pe)||Re(pe)}}else ke.exports=function(pe){if(null!=pe)return Re(pe,!0)}}},8549:(ke,Le,T)=>{"use strict";var D=T(5575),d=T(9540),ne=T(1118),re=T(8987);ke.exports=function(K){if(K&&"object"==typeof K){if(D(K))return"Map";if(d(K))return"Set";if(ne(K))return"WeakMap";if(re(K))return"WeakSet"}return!1}},8046:(ke,Le,T)=>{"use strict";function D(ne,re,H,K,F,U,le){try{var J=ne[U](le),z=J.value}catch($){return void H($)}J.done?re(z):Promise.resolve(z).then(K,F)}function d(ne){return function(){var re=this,H=arguments;return new Promise(function(K,F){var U=ne.apply(re,H);function le(z){D(U,K,F,le,J,"next",z)}function J(z){D(U,K,F,le,J,"throw",z)}le(void 0)})}}T.d(Le,{Z:()=>d})}},ke=>{ke(ke.s=8668)}]);
//# sourceMappingURL=main.ec489d308187efff.js.map