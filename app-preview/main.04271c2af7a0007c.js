(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{78:(K,Ee,y)=>{"use strict";var C=y(8447);K.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var W="abcdefghijklmnopqrst",R=W.split(""),f={},P=0;P<R.length;++P)f[R[P]]=R[P];var D=Object.assign({},f),F="";for(var N in D)F+=N;return W!==F}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var W=Object.preventExtensions({1:2});try{Object.assign(W,"xy")}catch{return"y"===W[1]}return!1}()?C:Object.assign}},158:(K,Ee,y)=>{"use strict";var C=y(8344),k=y(5712);if(y(1459)()||y(6497)()){var L=Symbol.iterator;K.exports=function(_e){return null!=_e&&typeof _e[L]<"u"?_e[L]():C(_e)?Array.prototype[L].call(_e):void 0}}else{var W=y(7638),R=y(6837),f=y(2521),P=f("%Map%",!0),D=f("%Set%",!0),F=y(3463),N=F("Array.prototype.push"),G=F("String.prototype.charCodeAt"),O=F("String.prototype.slice"),A=function(_e){var ge=0;return{next:function(){var X,U=ge>=_e.length;return U||(X=_e[ge],ge+=1),{done:U,value:X}}}},se=function(_e,ge){if(W(_e)||C(_e))return A(_e);if(R(_e)){var Ie=0;return{next:function(){var X=function(_e,ge){if(ge+1>=_e.length)return ge+1;var U=G(_e,ge);if(U<55296||U>56319)return ge+1;var X=G(_e,ge+1);return X<56320||X>57343?ge+1:ge+2}(_e,Ie),Ve=O(_e,Ie,X);return Ie=X,{done:X>_e.length,value:Ve}}}}return ge&&typeof _e["_es6-shim iterator_"]<"u"?_e["_es6-shim iterator_"]():void 0};if(P||D){var de=y(5217),Ce=y(9116),Q=F("Map.prototype.forEach",!0),Z=F("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var Y=F("Map.prototype.iterator",!0),ve=F("Set.prototype.iterator",!0);var Ae=F("Map.prototype.@@iterator",!0)||F("Map.prototype._es6-shim iterator_",!0),Ye=F("Set.prototype.@@iterator",!0)||F("Set.prototype._es6-shim iterator_",!0);K.exports=function(_e){return function(_e){if(de(_e)){if(Y)return k(Y(_e));if(Ae)return Ae(_e);if(Q){var ge=[];return Q(_e,function(U,X){N(ge,[X,U])}),A(ge)}}if(Ce(_e)){if(ve)return k(ve(_e));if(Ye)return Ye(_e);if(Z){var Ie=[];return Z(_e,function(U){N(Ie,U)}),A(Ie)}}}(_e)||se(_e)}}else K.exports=function(_e){if(null!=_e)return se(_e,!0)}}},159:K=>{"use strict";K.exports=Number.isNaN||function(y){return y!=y}},362:K=>{"use strict";var Ee=typeof BigInt<"u"&&BigInt;K.exports=function(){return"function"==typeof Ee&&"function"==typeof BigInt&&"bigint"==typeof Ee(42)&&"bigint"==typeof BigInt(42)}},497:(K,Ee,y)=>{"use strict";var C=y(159);K.exports=function(L){return C(L)||0===L?L:L<0?-1:1}},545:(K,Ee,y)=>{"use strict";var C=y(592),k=y(6283),L=y(9831),W=y(9110),R=y(5796),f=k(W(),Object);C(f,{getPolyfill:W,implementation:L,shim:R}),K.exports=f},566:(K,Ee,y)=>{"use strict";y.d(Ee,{B:()=>W,G:()=>R});class k{constructor(P,D,F,N,G){this.id=D,this.name=F,this.disableScroll=G,this.priority=1e6*N+D,this.ctrl=P}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const P=this.ctrl.capture(this.name,this.id,this.priority);return P&&this.disableScroll&&this.ctrl.disableScroll(this.id),P}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class L{constructor(P,D,F,N){this.id=D,this.disable=F,this.disableScroll=N,this.ctrl=P}block(){if(this.ctrl){if(this.disable)for(const P of this.disable)this.ctrl.disableGesture(P,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const P of this.disable)this.ctrl.enableGesture(P,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const W="backdrop-no-scroll",R=new class C{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(P){var D;return new k(this,this.newID(),P.name,null!==(D=P.priority)&&void 0!==D?D:0,!!P.disableScroll)}createBlocker(P={}){return new L(this,this.newID(),P.disable,!!P.disableScroll)}start(P,D,F){return this.canStart(P)?(this.requestedStart.set(D,F),!0):(this.requestedStart.delete(D),!1)}capture(P,D,F){if(!this.start(P,D,F))return!1;const N=this.requestedStart;let G=-1e4;if(N.forEach(O=>{G=Math.max(G,O)}),G===F){this.capturedId=D,N.clear();const O=new CustomEvent("ionGestureCaptured",{detail:{gestureName:P}});return document.dispatchEvent(O),!0}return N.delete(D),!1}release(P){this.requestedStart.delete(P),this.capturedId===P&&(this.capturedId=void 0)}disableGesture(P,D){let F=this.disabledGestures.get(P);void 0===F&&(F=new Set,this.disabledGestures.set(P,F)),F.add(D)}enableGesture(P,D){const F=this.disabledGestures.get(P);void 0!==F&&F.delete(D)}disableScroll(P){this.disabledScroll.add(P),1===this.disabledScroll.size&&document.body.classList.add(W)}enableScroll(P){this.disabledScroll.delete(P),0===this.disabledScroll.size&&document.body.classList.remove(W)}canStart(P){return!(void 0!==this.capturedId||this.isDisabled(P))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(P){const D=this.disabledGestures.get(P);return!!(D&&D.size>0)}newID(){return this.gestureId++,this.gestureId}}},575:(K,Ee,y)=>{"use strict";y.d(Ee,{d:()=>k,w:()=>C});const C=typeof window<"u"?window:void 0,k=typeof document<"u"?document:void 0},592:(K,Ee,y)=>{"use strict";var C=y(9209),k="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),L=Object.prototype.toString,W=Array.prototype.concat,R=y(1197),P=y(6652)(),D=function(N,G,O,I){if(G in N)if(!0===I){if(N[G]===O)return}else if(!function(N){return"function"==typeof N&&"[object Function]"===L.call(N)}(I)||!I())return;P?R(N,G,O,!0):R(N,G,O)},F=function(N,G){var O=arguments.length>2?arguments[2]:{},I=C(G);k&&(I=W.call(I,Object.getOwnPropertySymbols(G)));for(var A=0;A<I.length;A+=1)D(N,I[A],G[I[A]],O[I[A]])};F.supportsDescriptors=!!P,K.exports=F},603:(K,Ee,y)=>{"use strict";var C=y(2521),k=y(840),L=y(3687),W=y(2375),R=y(8519),f=C("%WeakMap%",!0),P=k("WeakMap.prototype.get",!0),D=k("WeakMap.prototype.set",!0),F=k("WeakMap.prototype.has",!0),N=k("WeakMap.prototype.delete",!0);K.exports=f?function(){var O,I,A={assert:function(se){if(!A.has(se))throw new R("Side channel does not contain "+L(se))},delete:function(se){if(f&&se&&("object"==typeof se||"function"==typeof se)){if(O)return N(O,se)}else if(W&&I)return I.delete(se);return!1},get:function(se){return f&&se&&("object"==typeof se||"function"==typeof se)&&O?P(O,se):I&&I.get(se)},has:function(se){return f&&se&&("object"==typeof se||"function"==typeof se)&&O?F(O,se):!!I&&I.has(se)},set:function(se,de){f&&se&&("object"==typeof se||"function"==typeof se)?(O||(O=new f),D(O,se,de)):W&&(I||(I=W()),I.set(se,de))}};return A}:W},767:(K,Ee,y)=>{"use strict";let C;function k(){return C}function L(e){const t=C;return C=e,t}const R=Symbol("NotFound");function P(e){return e===R||"\u0275NotFound"===e?.name}function D(e,t){return Object.is(e,t)}Error;let F=null,N=!1,G=1;const I=Symbol("SIGNAL");function A(e){const t=F;return F=e,t}const Q={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Z(e){if(N)throw new Error("");if(null===F)return;F.consumerOnSignalRead(e);const t=F.producersTail;if(void 0!==t&&t.producer===e)return;let n;const r=F.recomputing;if(r&&(n=void 0!==t?t.nextProducer:F.producers,void 0!==n&&n.producer===e))return F.producersTail=n,void(n.lastReadVersion=e.version);const o=e.consumersTail;if(void 0!==o&&o.consumer===F&&(!r||function ye(e,t){const n=t.producersTail;if(void 0!==n){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(void 0!==r)}return!1}(o,F)))return;const i=z(F),s={producer:e,consumer:F,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};F.producersTail=s,void 0!==t?t.nextProducer=s:F.producers=s,i&&X(e,s)}function ve(e){if((!z(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==G)){if(!e.producerMustRecompute(e)&&!Ie(e))return void De(e);e.producerRecomputeValue(e),De(e)}}function Ae(e){if(void 0===e.consumers)return;const t=N;N=!0;try{for(let n=e.consumers;void 0!==n;n=n.nextConsumer){const r=n.consumer;r.dirty||te(r)}}finally{N=t}}function Ye(){return!1!==F?.consumerAllowSignalWrites}function te(e){e.dirty=!0,Ae(e),e.consumerMarkedDirty?.(e)}function De(e){e.dirty=!1,e.lastCleanEpoch=G}function _e(e){return e&&(e.producersTail=void 0,e.recomputing=!0),A(e)}function ge(e,t){if(A(t),!e)return;e.recomputing=!1;const n=e.producersTail;let r=void 0!==n?n.nextProducer:e.producers;if(void 0!==r){if(z(e))do{r=Ve(r)}while(void 0!==r);void 0!==n?n.nextProducer=void 0:e.producers=void 0}}function Ie(e){for(let t=e.producers;void 0!==t;t=t.nextProducer){const n=t.producer,r=t.lastReadVersion;if(r!==n.version||(ve(n),r!==n.version))return!0}return!1}function U(e){if(z(e)){let t=e.producers;for(;void 0!==t;)t=Ve(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function X(e,t){const n=e.consumersTail,r=z(e);if(void 0!==n?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;void 0!==o;o=o.nextProducer)X(o.producer,o)}function Ve(e){const t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,void 0!==r?r.prevConsumer=o:t.consumersTail=o,void 0!==o)o.nextConsumer=r;else if(t.consumers=r,!z(t)){let i=t.producers;for(;void 0!==i;)i=Ve(i)}return n}function z(e){return e.consumerIsAlwaysLive||void 0!==e.consumers}const Fe=Symbol("UNSET"),we=Symbol("COMPUTING"),Je=Symbol("ERRORED"),Dt={...Q,value:Fe,dirty:!0,error:null,equal:D,kind:"computed",producerMustRecompute:e=>e.value===Fe||e.value===we,producerRecomputeValue(e){if(e.value===we)throw new Error("");const t=e.value;e.value=we;const n=_e(e);let r,o=!1;try{r=e.computation(),A(null),o=t!==Fe&&t!==Je&&r!==Je&&e.equal(t,r)}catch(i){r=Je,e.error=i}finally{ge(e,n)}o?e.value=t:(e.value=r,e.version++)}};let Ge=function xe(){throw new Error};function _t(e){Ge(e)}function ot(e,t){const n=Object.create(Dn);n.value=e,void 0!==t&&(n.equal=t);const r=()=>function Ke(e){return Z(e),e.value}(n);return r[I]=n,[r,s=>bt(n,s),s=>function $t(e,t){Ye()||_t(e),bt(e,t(e.value))}(n,s)]}function bt(e,t){Ye()||_t(e),e.equal(e.value,t)||(e.value=t,function qt(e){e.version++,function Y(){G++}(),Ae(e)}(e))}const Dn={...Q,equal:D,value:void 0,kind:"signal"};function Ot(e){return"function"==typeof e}function Ze(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ne=Ze(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ze(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ut{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ot(r))try{r()}catch(i){t=i instanceof Ne?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{Nn(i)}catch(s){t=t??[],s instanceof Ne?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ne(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Nn(t);else{if(t instanceof ut){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ze(n,t)}remove(t){const{_finalizers:n}=this;n&&ze(n,t),t instanceof ut&&t._removeParent(this)}}ut.EMPTY=(()=>{const e=new ut;return e.closed=!0,e})();const Qt=ut.EMPTY;function pn(e){return e instanceof ut||e&&"closed"in e&&Ot(e.remove)&&Ot(e.add)&&Ot(e.unsubscribe)}function Nn(e){Ot(e)?e():e.unsubscribe()}const sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bn={setTimeout(e,t,...n){const{delegate:r}=bn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=bn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function lr(e){bn.setTimeout(()=>{const{onUnhandledError:t}=sn;if(!t)throw e;t(e)})}function gr(){}const ro=Oo("C",void 0,void 0);function Oo(e,t,n){return{kind:e,value:t,error:n}}let oo=null;function Jt(e){if(sn.useDeprecatedSynchronousErrorHandling){const t=!oo;if(t&&(oo={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=oo;if(oo=null,n)throw r}}else e()}class Me extends ut{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,pn(t)&&t.add(this)):this.destination=Ir}static create(t,n,r){return new In(t,n,r)}next(t){this.isStopped?Wr(function zr(e){return Oo("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Wr(function So(e){return Oo("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Wr(ro,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function Zt(e,t){return Oe.call(e,t)}class Kn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){en(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){en(r)}else en(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){en(n)}}}class In extends Me{constructor(t,n,r){let o;if(super(),Ot(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&sn.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Zt(t.next,i),error:t.error&&Zt(t.error,i),complete:t.complete&&Zt(t.complete,i)}):o=t}this.destination=new Kn(o)}}function en(e){sn.useDeprecatedSynchronousErrorHandling?function ii(e){sn.useDeprecatedSynchronousErrorHandling&&oo&&(oo.errorThrown=!0,oo.error=e)}(e):lr(e)}function Wr(e,t){const{onStoppedNotification:n}=sn;n&&bn.setTimeout(()=>n(e,t))}const Ir={closed:!0,next:gr,error:function _o(e){throw e},complete:gr},fo="function"==typeof Symbol&&Symbol.observable||"@@observable";function io(e){return e}function Tr(e){return 0===e.length?io:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let Tn=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function yo(e){return e&&e instanceof Me||function si(e){return e&&Ot(e.next)&&Ot(e.error)&&Ot(e.complete)}(e)&&pn(e)}(n)?n:new In(n,r,o);return Jt(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Co(r))((o,i)=>{const s=new In({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[fo](){return this}pipe(...n){return Tr(n)(this)}toPromise(n){return new(n=Co(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Co(e){var t;return null!==(t=e??sn.Promise)&&void 0!==t?t:Promise}const Go=Ze(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let jn=(()=>{class e extends Tn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Po(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Go}next(n){Jt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Jt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Qt:(this.currentObservers=null,i.push(n),new ut(()=>{this.currentObservers=null,ze(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new Tn;return n.source=this,n}}return e.create=(t,n)=>new Po(t,n),e})();class Po extends jn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Qt}}class Ar extends jn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const zo="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class Pe extends Error{code;constructor(t,n){super(qr(t,n)),this.code=t}}function qr(e,t){return`${function dr(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const zn=globalThis;function gn(e){for(let t in e)if(e[t]===gn)return t;throw Error("")}function ai(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function jr(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(jr).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function Ni(e,t){return e?t?`${e} ${t}`:e:t||""}const Hs=gn({__forward_ref__:gn});function Vn(e){return e.__forward_ref__=Vn,e.toString=function(){return jr(this())},e}function Ut(e){return yr(e)?e():e}function yr(e){return"function"==typeof e&&e.hasOwnProperty(Hs)&&e.__forward_ref__===Vn}function Qe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Un(e){return{providers:e.providers||[],imports:e.imports||[]}}function vs(e){return function Ml(e,t){return e.hasOwnProperty(t)&&e[t]||null}(e,_s)}function Oi(e){return e&&e.hasOwnProperty(Gs)?e[Gs]:null}const _s=gn({\u0275prov:gn}),Gs=gn({\u0275inj:gn});class nt{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Qe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wi(e){return e&&!!e.\u0275providers}const qi=gn({\u0275cmp:gn}),Zi=gn({\u0275dir:gn}),qs=gn({\u0275pipe:gn}),ws=gn({\u0275mod:gn}),li=gn({\u0275fac:gn}),Xo=gn({__NG_ELEMENT_ID__:gn}),Ei=gn({__NG_ENV_ID__:gn});function zt(e){return"string"==typeof e?e:null==e?"":String(e)}const wo=gn({ngErrorCode:gn}),Es=gn({ngErrorMessage:gn}),Fi=gn({ngTokenPath:gn});function Ki(e,t){return Xs("",-200,t)}function Is(e,t){throw new Pe(-201,!1)}function Xs(e,t,n){const r=new Pe(t,e);return r[wo]=t,r[Es]=e,n&&(r[Fi]=n),r}let Eo;function Js(){return Eo}function so(e){const t=Eo;return Eo=e,t}function Yi(e,t,n){const r=vs(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==t?t:void Is()}const Fo={};class _a{injector;constructor(t){this.injector=t}retrieve(t,n){const r=ci(n)||0;try{return this.injector.get(t,8&r?null:Fo,r)}catch(o){if(P(o))return o;throw o}}}function ea(e,t=0){const n=k();if(void 0===n)throw new Pe(-203,!1);if(null===n)return Yi(e,void 0,t);{const r=function ya(e){return{optional:!!(8&e),host:!!(1&e),self:!!(2&e),skipSelf:!!(4&e)}}(t),o=n.retrieve(e,r);if(P(o)){if(r.optional)return null;throw o}return o}}function ae(e,t=0){return(Js()||ea)(Ut(e),t)}function Le(e,t){return ae(e,ci(t))}function ci(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function As(e){const t=[];for(let n=0;n<e.length;n++){const r=Ut(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Pe(900,!1);let o,i=0;for(let s=0;s<r.length;s++){const a=r[s],l=ll(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(ae(o,i))}else t.push(ae(r))}return t}function ll(e){return e.__NG_DI_FLAG__}function p(e,t){return e.hasOwnProperty(li)?e[li]:null}function x(e,t){e.forEach(n=>Array.isArray(n)?x(n,t):t(n))}function ee(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function J(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function be(e,t,n){let r=ft(e,t);return r>=0?e[1|r]=n:(r=~r,function qe(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function je(e,t){const n=ft(e,t);if(n>=0)return e[1|n]}function ft(e,t){return function dt(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const kt={},mt=[],Rt=new nt(""),cr=new nt("",-1),Yt=new nt("");class Xt{get(t,n=Fo){if(n===Fo){const o=Xs("",-201);throw o.name="\u0275NotFound",o}return n}}function $n(e){return e[ws]||null}function wt(e){return e[qi]||null}function hn(e){return e[Zi]||null}function Pn(e){return e[qs]||null}function $(e){return{\u0275providers:e}}function Be(...e){return{\u0275providers:Ft(0,e),\u0275fromNgModule:!0}}function Ft(e,...t){const n=[],r=new Set;let o;const i=s=>{n.push(s)};return x(t,s=>{const a=s;mn(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&on(o,i),n}function on(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Kr(o,i=>{t(i,r)})}}function mn(e,t,n,r){if(!(e=Ut(e)))return!1;let o=null,i=Oi(e);const s=!i&&wt(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=Oi(l),!i)return!1;o=l}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)mn(c,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;r.add(o);try{x(i.imports,d=>{mn(d,t,n,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&on(c,t)}if(!a){const c=p(o)||(()=>new o);t({provide:o,useFactory:c,deps:mt},o),t({provide:Yt,useValue:o,multi:!0},o),t({provide:Rt,useValue:()=>ae(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;Kr(l,d=>{t(d,c)})}}}return o!==e&&void 0!==e.providers}function Kr(e,t){for(let n of e)wi(n)&&(n=n.\u0275providers),Array.isArray(n)?Kr(n,t):t(n)}const dn=gn({provide:String,useValue:gn});function xr(e){return null!==e&&"object"==typeof e&&dn in e}function Nt(e){return"function"==typeof e}const tr=new nt(""),Mr={},pr={};let or;function g(){return void 0===or&&(or=new Xt),or}class j{}class Se extends j{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,ba(t,s=>this.processProvider(s)),this.records.set(cr,Ur(void 0,this)),o.has("environment")&&this.records.set(j,Ur(void 0,this));const i=this.records.get(tr);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Yt,mt,{self:!0}))}retrieve(t,n){const r=ci(n)||0;try{return this.get(t,Fo,r)}catch(o){if(P(o))return o;throw o}}destroy(){Bn(this),this._destroyed=!0;const t=A(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),A(t)}}onDestroy(t){return Bn(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Bn(this);const n=L(this),r=so(void 0);try{return t()}finally{L(n),so(r)}}get(t,n=Fo,r){if(Bn(this),t.hasOwnProperty(Ei))return t[Ei](this);const o=ci(r),s=L(this),a=so(void 0);try{if(!(4&o)){let c=this.records.get(t);if(void 0===c){const d=function Rl(e){return"function"==typeof e||"object"==typeof e&&"InjectionToken"===e.ngMetadataName}(t)&&vs(t);c=d&&this.injectableDefInScope(d)?Ur(st(t),Mr):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c,o)}return(2&o?g():this.parent).get(t,n=8&o&&n===Fo?null:n)}catch(l){const c=function ma(e){return e[wo]}(l);throw-200===c||-201===c?new Pe(c,null):l}finally{so(a),L(s)}}resolveInjectorInitializers(){const t=A(null),n=L(this),r=so(void 0);try{const i=this.get(Rt,mt,{self:!0});for(const s of i)s()}finally{L(n),so(r),A(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(jr(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){let n=Nt(t=Ut(t))?t:Ut(t&&t.provide);const r=function An(e){return xr(e)?Ur(void 0,e.useValue):Ur(Wn(e),Mr)}(t);if(!Nt(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Ur(void 0,Mr,!0),o.factory=()=>As(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){const o=A(null);try{if(n.value===pr)throw Ki(jr(t));return n.value===Mr&&(n.value=pr,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function kl(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{A(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ut(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function st(e){const t=vs(e),n=null!==t?t.factory:p(e);if(null!==n)return n;if(e instanceof nt)throw new Pe(204,!1);if(e instanceof Function)return function Wt(e){if(e.length>0)throw new Pe(204,!1);const n=function Ba(e){return(e?.[_s]??null)||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Pe(204,!1)}function Wn(e,t,n){let r;if(Nt(e)){const o=Ut(e);return p(o)||st(o)}if(xr(e))r=()=>Ut(e.useValue);else if(function fr(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...As(e.deps||[]));else if(function Vr(e){return!(!e||!e.useExisting)}(e))r=(o,i)=>ae(Ut(e.useExisting),void 0!==i&&8&i?8:void 0);else{const o=Ut(e&&(e.useClass||e.provide));if(!function Ua(e){return!!e.deps}(e))return p(o)||st(o);r=()=>new o(...As(e.deps))}return r}function Bn(e){if(e.destroyed)throw new Pe(205,!1)}function Ur(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ba(e,t){for(const n of e)Array.isArray(n)?ba(n,t):n&&wi(n)?ba(n.\u0275providers,t):t(n)}function Lo(e,t){let n;e instanceof Se?(Bn(e),n=e):n=new _a(e);const o=L(n),i=so(void 0);try{return t()}finally{L(o),so(i)}}function bc(){return void 0!==Js()||null!=k()}function Xr(e){return Array.isArray(e)&&"object"==typeof e[1]}function ui(e){return Array.isArray(e)&&!0===e[1]}function Rf(e){return!!(4&e.flags)}function wa(e){return e.componentOffset>-1}function Ll(e){return!(1&~e.flags)}function Bi(e){return!!e.template}function Wa(e){return!!(512&e[2])}function Ea(e){return!(256&~e[2])}function ko(e){for(;Array.isArray(e);)e=e[0];return e}function $l(e,t){return ko(t[e])}function bo(e,t){return ko(t[e.index])}function Bl(e,t){return e.data[t]}function fl(e,t){return e[t]}function di(e,t){const n=t[e];return Xr(n)?n:n[0]}function ad(e){return!(128&~e[2])}function Jo(e,t){return null==t?null:e[t]}function $f(e){e[17]=0}function Bf(e){1024&e[2]||(e[2]|=1024,ad(e)&&jl(e))}function iu(e){return!!(9216&e[2]||e[24]?.dirty)}function ld(e){e[10].changeDetectionScheduler?.notify(8),64&e[2]&&(e[2]|=1024),iu(e)&&jl(e)}function jl(e){e[10].changeDetectionScheduler?.notify(0);let t=Da(e);for(;null!==t&&!(8192&t[2])&&(t[2]|=8192,ad(t));)t=Da(t)}function su(e,t){if(Ea(e))throw new Pe(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function Da(e){const t=e[3];return ui(t)?t[3]:t}function Vf(e){return e[7]??=[]}function Uf(e){return e.cleanup??=[]}const vn={lFrame:Ii(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let dd=!1;function Gf(){vn.lFrame.elementDepthCount--}function fd(){return vn.bindingsEnabled}function zf(){return null!==vn.skipHydrationRootTNode}function Wf(e){return vn.skipHydrationRootTNode===e}function qf(){vn.skipHydrationRootTNode=null}function et(){return vn.lFrame.lView}function Sn(){return vn.lFrame.tView}function pt(e){return vn.lFrame.contextLView=e,e[8]}function ht(e){return vn.lFrame.contextLView=null,e}function yn(){let e=Zf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Zf(){return vn.lFrame.currentTNode}function qa(e,t){const n=vn.lFrame;n.currentTNode=e,n.isParent=t}function ag(){return vn.lFrame.isParent}function Ul(){vn.lFrame.isParent=!1}function vr(){return dd}function ji(e){const t=dd;return dd=e,t}function jt(){const e=vn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Za(){return vn.lFrame.bindingIndex}function Vi(){return vn.lFrame.bindingIndex++}function Ka(e){const t=vn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ei(e,t){const n=vn.lFrame;n.bindingIndex=n.bindingRootIndex=e,He(t)}function He(e){vn.lFrame.currentDirectiveIndex=e}function Qn(){return vn.lFrame.currentQueryIndex}function _r(e){vn.lFrame.currentQueryIndex=e}function fi(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[5]:null}function Di(e,t,n){if(4&n){let o=t,i=e;for(;!(o=o.parent,null!==o||1&n||(o=fi(i),null===o||(i=i[14],10&o.type))););if(null===o)return!1;t=o,e=i}const r=vn.lFrame=Ro();return r.currentTNode=t,r.lView=e,!0}function pi(e){const t=Ro(),n=e[1];vn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ro(){const e=vn.lFrame,t=null===e?null:e.child;return null===t?Ii(e):t}function Ii(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Hr(){const e=vn.lFrame;return vn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const tn=Hr;function hi(){const e=Hr();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function qn(){return vn.lFrame.selectedIndex}function br(e){vn.lFrame.selectedIndex=e}function Mt(){const e=vn.lFrame;return Bl(e.tView,e.selectedIndex)}let Kt=!0;function kn(){return Kt}function Zn(e){Kt=e}let er={elements:void 0};function lu(e,t=null,n=null,r){const o=cu(e,t,n,r);return o.resolveInjectorInitializers(),o}function cu(e,t=null,n=null,r,o=new Set){const i=[n||mt,Be(e)];return r=r||("object"==typeof e?void 0:jr(e)),new Se(i,t||g(),r||null,o)}class Cr{static THROW_IF_NOT_FOUND=Fo;static NULL=new Xt;static create(t,n){if(Array.isArray(t))return lu({name:""},n,t,"");{const r=t.name??"";return lu({name:r},t.parent,t.providers,r)}}static \u0275prov=Qe({token:Cr,providedIn:"any",factory:()=>ae(cr)});static __NG_ELEMENT_ID__=-1}const $o=new nt("");let Qi=(()=>class e{static __NG_ELEMENT_ID__=oy;static __NG_ENV_ID__=n=>n})();class Kf extends Qi{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Ea(this._lView)}onDestroy(t){const n=this._lView;return su(n,t),()=>function cd(e,t){if(null===e[21])return;const n=e[21].indexOf(t);-1!==n&&e[21].splice(n,1)}(n,t)}}function oy(){return new Kf(et())}class wc{_console=console;handleError(t){this._console.error("ERROR",t)}}const Ya=new nt("",{providedIn:"root",factory:()=>{const e=Le(j);let t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(wc),t.handleError(n))}}}),ZL={provide:Rt,useValue:()=>{Le(wc)},multi:!0};function gi(e,t){const[n,r,o]=ot(e,t?.equal),i=n;return i.set=r,i.update=o,i.asReadonly=iy.bind(i),i}function iy(){const e=this[I];if(void 0===e.readonlyFn){const t=()=>this();t[I]=e,e.readonlyFn=t}return e.readonlyFn}class pd{}const XD=new nt("",{providedIn:"root",factory:()=>!1}),QD=new nt(""),JD=new nt("");let sy=(()=>class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=YL})();function YL(){return new sy(et(),yn())}let Ec=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ar(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Tn(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e})}return e})(),fg=(()=>{class e{internalPendingTasks=Le(Ec);scheduler=Le(pd);errorHandler=Le(Ya);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){const r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e})}return e})();function Yf(...e){}let eI=(()=>{class e{static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new XL})}return e})();class XL{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){const r=this.queues.get(t.zone);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){const n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(const[n,r]of this.queues)t||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(const r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}let tI=null;function Dc(){return tI}class JL{}let ay=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(t$),providedIn:"platform"})}return e})();const e$=new nt("");let t$=(()=>{class e extends ay{_location;_history;_doc=Le($o);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dc().getBaseHref(this._doc)}onPopState(n){const r=Dc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Dc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function ly(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function nI(e){const t=e.search(/#|\?|$/);return"/"===e[t-1]?e.slice(0,t-1)+e.slice(t):e}function Hl(e){return e&&"?"!==e[0]?`?${e}`:e}let hl=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(oI),providedIn:"root"})}return e})();const rI=new nt("");let oI=(()=>{class e extends hl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Le($o).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ly(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Hl(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+Hl(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+Hl(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(ae(ay),ae(rI,8))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ic=(()=>{class e{_subject=new jn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function o$(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(nI(iI(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Hl(r))}normalize(n){return e.stripTrailingSlash(function r$(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,iI(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hl(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Hl;static joinWithSlash=ly;static stripTrailingSlash=nI;static \u0275fac=function(r){return new(r||e)(ae(hl))};static \u0275prov=Qe({token:e,factory:()=>function n$(){return new Ic(ae(hl))}(),providedIn:"root"})}return e})();function iI(e){return e.replace(/\/index.html$/,"")}function sI(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class aI{}var T=y(1890);function lI(e){return Ot(e?.lift)}function ni(e){return t=>{if(lI(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Bo(e,t,n,r,o){return new i$(e,t,n,r,o)}class i$ extends Me{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function nr(e,t){return ni((n,r)=>{let o=0;n.subscribe(Bo(r,i=>{r.next(e.call(t,i,o++))}))})}function Gl(e){return{toString:e}.toString()}class _${previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function dI(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const Ji=(()=>{const e=()=>fI;return e.ngInherit=!0,e})();function fI(e){return e.type.prototype.ngOnChanges&&(e.setInput=b$),y$}function y$(){const e=hI(this),t=e?.current;if(t){const n=e.previous;if(n===kt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function b$(e,t,n,r,o){const i=this.declaredInputs[r],s=hI(e)||function S$(e,t){return e[pI]=t}(e,{previous:kt,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new _$(c&&c.currentValue,n,l===kt),dI(e,t,o,n)}const pI="__ngSimpleChanges__";function hI(e){return e[pI]||null}const uu=[],Fr=function(e,t=null,n){for(let r=0;r<uu.length;r++)(0,uu[r])(e,t,n)};function gI(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=d&&(e.destroyHooks??=[]).push(n,d)}}function hg(e,t,n){mI(e,t,3,n)}function gg(e,t,n,r){(3&e[2])===n&&mI(e,t,n,r)}function dy(e,t){let n=e[2];(3&n)===t&&(n&=16383,n+=1,e[2]=n)}function mI(e,t,n,r){const i=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[17]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[17]+=65536),(a<i||-1==i)&&(I$(e,n,t,l),e[17]=(4294901760&e[17])+l+2),l++}function vI(e,t){Fr(4,e,t);const n=A(null);try{t.call(e)}finally{A(n),Fr(5,e,t)}}function I$(e,t,n,r){const o=n[r]<0,i=n[r+1],a=e[o?-n[r]:n[r]];o?e[2]>>14<e[17]>>16&&(3&e[2])===t&&(e[2]+=16384,vI(a,i)):vI(a,i)}class Qf{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}}function yI(e){return 3===e||4===e||6===e}function bI(e){return 64===e.charCodeAt(0)}function yd(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||SI(e,n,o,0,-1===n||2===n?t[++r]:null)}}return e}function SI(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===n)return void(null!==o&&(e[i+1]=o));i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}function py(e){return-1!==e}function Jf(e){return 32767&e}function ep(e,t){let n=function M$(e){return e>>16}(e),r=t;for(;n>0;)r=r[14],n--;return r}let hy=!0;function mg(e){const t=hy;return hy=e,t}let k$=0;const gl={};function vg(e,t){const n=EI(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,gy(r.data,e),gy(t,null),gy(r.blueprint,null));const o=_g(e,t),i=e.injectorIndex;if(py(o)){const s=Jf(o),a=ep(o,t),l=a[1].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function gy(e,t){e.push(0,0,0,0,0,0,0,0,t)}function EI(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function _g(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=kI(o),null===r)return-1;if(n++,o=o[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function my(e,t,n){!function R$(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xo)&&(r=n[Xo]),null==r&&(r=n[Xo]=k$++);const o=255&r;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function DI(e,t,n){if(8&n||void 0!==e)return e;Is()}function II(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const o=e[9],i=so(void 0);try{return o?o.get(t,r,8&n):Yi(t,r,8&n)}finally{so(i)}}return DI(r,0,n)}function TI(e,t,n,r=0,o){if(null!==e){if(2048&t[2]&&!(2&r)){const s=function L$(e,t,n,r,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[2]&&!Wa(s);){const a=AI(i,s,n,2|r,gl);if(a!==gl)return a;let l=i.parent;if(!l){const c=s[20];if(c){const d=c.get(n,gl,r);if(d!==gl)return d}l=kI(s),s=s[14]}i=l}return o}(e,t,n,r,gl);if(s!==gl)return s}const i=AI(e,t,n,r,gl);if(i!==gl)return i}return II(t,n,r,o)}function AI(e,t,n,r,o){const i=function P$(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Xo)?e[Xo]:void 0;return"number"==typeof t?t>=0?255&t:F$:t}(n);if("function"==typeof i){if(!Di(t,e,r))return 1&r?DI(o,0,r):II(t,n,r,o);try{let s;if(s=i(r),null!=s||8&r)return s;Is()}finally{tn()}}else if("number"==typeof i){let s=null,a=EI(e,t),l=-1,c=1&r?t[15][5]:null;for((-1===a||4&r)&&(l=-1===a?_g(e,t):t[a+8],-1!==l&&MI(r,!1)?(s=t[1],a=Jf(l),t=ep(l,t)):a=-1);-1!==a;){const d=t[1];if(xI(i,a,d.data)){const h=O$(a,t,n,s,r,c);if(h!==gl)return h}l=t[a+8],-1!==l&&MI(r,t[1].data[a+8]===c)&&xI(i,a,t)?(s=d,a=Jf(l),t=ep(l,t)):a=-1}}return o}function O$(e,t,n,r,o,i){const s=t[1],a=s.data[e+8],d=yg(a,s,n,null==r?wa(a)&&hy:r!=s&&!!(3&a.type),1&o&&i===a);return null!==d?tp(t,s,d,a,o):gl}function yg(e,t,n,r,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,d=i>>20,m=o?a+d:e.directiveEnd;for(let S=r?a:a+d;S<m;S++){const M=s[S];if(S<l&&n===M||S>=l&&M.type===n)return S}if(o){const S=s[l];if(S&&Bi(S)&&S.type===n)return l}return null}function tp(e,t,n,r,o){let i=e[n];const s=t.data;if(i instanceof Qf){const a=i;if(a.resolving)throw function un(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():zt(e)}(s[n]),Ki();const l=mg(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?so(a.injectImpl):null;Di(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function D$(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=fI(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,s[n],t)}finally{null!==h&&so(h),mg(l),a.resolving=!1,tn()}}return i}function xI(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function MI(e,t){return!(2&e||1&e&&t)}class Do{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return TI(this._tNode,this._lView,t,ci(r),n)}}function F$(){return new Do(yn(),et())}function Jr(e){return Gl(()=>{const t=e.prototype.constructor,n=t[li]||vy(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[li]||vy(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function vy(e){return yr(e)?()=>{const t=vy(Ut(e));return t&&t()}:p(e)}function kI(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[5]:null}function zl(e){return function N$(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(yI(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(yn(),e)}function z$(){return bd(yn(),et())}function bd(e,t){return new rt(bo(e,t))}let rt=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=z$})();function FI(e){return e instanceof rt?e.nativeElement:e}function W$(){return this._results[Symbol.iterator]()}class q${_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new jn}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function w(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function v(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=W$}function np(e){return!(128&~e.flags)}var Sg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Sg||{});const Cg=new Map;let Y$=0;function by(e){Cg.delete(e[19])}const Cy="__ngContext__";function Ms(e,t){Xr(t)?(e[Cy]=t[19],function Q$(e){Cg.set(e[19],e)}(t)):e[Cy]=t}function qI(e){return KI(e[12])}function ZI(e){return KI(e[4])}function KI(e){for(;null!==e&&!ui(e);)e=e[4];return e}let wy;const op=new nt("",{providedIn:"root",factory:()=>bB}),bB="ng",n1=new nt(""),Eg=new nt("",{providedIn:"platform",factory:()=>"unknown"}),r1=new nt("",{providedIn:"root",factory:()=>function Ac(){if(void 0!==wy)return wy;if(typeof document<"u")return document;throw new Pe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),AB=new nt("",{providedIn:"root",factory:()=>!1}),RB=new nt("");function Ag(e){return!(32&~e.flags)}function A1(e,t){const n=e.contentQueries;if(null!==n){const r=A(null);try{for(let o=0;o<n.length;o+=2){const s=n[o+1];if(-1!==s){const a=e.data[s];_r(n[o]),a.contentQueries(2,t[s],s)}}}finally{A(r)}}}function jy(e,t,n){_r(0);const r=A(null);try{t(e,n)}finally{A(r)}}function Vy(e,t,n){if(Rf(t)){const r=A(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{A(r)}}}var Wl=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Wl||{});let Ng;function Dd(e){return function x1(){if(void 0===Ng&&(Ng=null,zn.trustedTypes))try{Ng=zn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ng}()?.createHTML(e)||e}class fu{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zo})`}}class o3 extends fu{getTypeName(){return"HTML"}}class i3 extends fu{getTypeName(){return"Style"}}class s3 extends fu{getTypeName(){return"Script"}}class a3 extends fu{getTypeName(){return"URL"}}class l3 extends fu{getTypeName(){return"ResourceURL"}}function na(e){return e instanceof fu?e.changingThisBreaksApplicationSecurity:e}function ml(e,t){const n=function c3(e){return e instanceof fu&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${zo})`)}return n===t}class g3{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Dd(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class m3{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=Dd(t),n}}const _3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pg(e){return(e=String(e)).match(_3)?e:"unsafe:"+e}function ql(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ap(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const O1=ql("area,br,col,hr,img,wbr"),P1=ql("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),F1=ql("rp,rt"),Hy=ap(O1,ap(P1,ql("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ap(F1,ql("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ap(F1,P1)),Gy=ql("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),L1=ap(Gy,ql("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ql("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),y3=ql("script,style,template");class b3{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,o=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)o.push(n),n=w3(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=C3(n);if(i){n=i;break}n=o.pop()}return this.buf.join("")}startElement(t){const n=$1(t).toLowerCase();if(!Hy.hasOwnProperty(n))return this.sanitizedSomething=!0,!y3.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!L1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;Gy[a]&&(l=Pg(l)),this.buf.push(" ",s,'="',j1(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=$1(t).toLowerCase();Hy.hasOwnProperty(n)&&!O1.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(j1(t))}}function C3(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw B1(t);return t}function w3(e){const t=e.firstChild;if(t&&function S3(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw B1(t);return t}function $1(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function B1(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const E3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,D3=/([^\#-~ |!])/g;function j1(e){return e.replace(/&/g,"&amp;").replace(E3,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(D3,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fg;function V1(e,t){let n=null;try{Fg=Fg||function N1(e){const t=new m3(e);return function v3(){try{return!!(new window.DOMParser).parseFromString(Dd(""),"text/html")}catch{return!1}}()?new g3(t):t}(e);let r=t?String(t):"";n=Fg.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=Fg.getInertBodyElement(r)}while(r!==i);return Dd((new b3).sanitizeChildren(zy(n)||n))}finally{if(n){const r=zy(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function zy(e){return"content"in e&&function I3(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ks=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ks||{});const N3=/^>|^->|<!--|-->|--!>|<!-$/g,O3=/(<|>)/g;function vl(e){return e instanceof Function?e():e}function q3(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}const J1="ng-template";function Z3(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==q3(t[o+1].toLowerCase(),n,0))return!0}else if(Zy(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&"string"==typeof(i=t[o]);)if(i.toLowerCase()===n)return!0}return!1}function Zy(e){return 4===e.type&&e.value!==J1}function K3(e,t,n){return t===(4!==e.type||n?e.value:J1)}function Y3(e,t,n){let r=4;const o=e.attrs,i=null!==o?function J3(e){for(let t=0;t<e.length;t++)if(yI(e[t]))return t;return e.length}(o):0;let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!K3(e,l,n)||""===l&&1===t.length){if(Xa(r))return!1;s=!0}}else if(8&r){if(null===o||!Z3(e,o,l,n)){if(Xa(r))return!1;s=!0}}else{const c=t[++a],d=X3(l,o,Zy(e),n);if(-1===d){if(Xa(r))return!1;s=!0;continue}if(""!==c){let h;if(h=d>i?"":o[d+1].toLowerCase(),2&r&&c!==h){if(Xa(r))return!1;s=!0}}}}else{if(!s&&!Xa(r)&&!Xa(l))return!1;if(s&&Xa(l))continue;s=!1,r=l|1&r}}return Xa(r)||s}function Xa(e){return!(1&e)}function X3(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function ej(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function eT(e,t,n=!1){for(let r=0;r<t.length;r++)if(Y3(e,t[r],n))return!0;return!1}function tj(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function tT(e,t){return e?":not("+t.trim()+")":t}function nj(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Xa(s)&&(t+=tT(i,o),o=""),r=s,i=i||!Xa(r);n++}return""!==o&&(t+=tT(i,o)),t}const Rr={};function Yy(e,t){return e.createComment(function z1(e){return e.replace(N3,t=>t.replace(O3,"\u200b$1\u200b"))}(t))}function Bg(e,t,n){return e.createElement(t,n)}function pu(e,t,n,r,o){e.insertBefore(t,n,r,o)}function rT(e,t,n){e.appendChild(t,n)}function oT(e,t,n,r,o){null!==r?pu(e,t,n,r,o):rT(e,t,n)}function sT(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&function x$(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{const i=o,s=n[++r];bI(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}}(e,t,r),null!==o&&function sj(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,o),null!==i&&function ij(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function Xy(e,t,n,r,o,i,s,a,l,c,d){const h=26+r,m=h+o,S=function aj(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Rr);return n}(h,m),M="function"==typeof c?c():c;return S[1]={type:e,blueprint:S,template:n,queries:null,viewQuery:a,declTNode:t,data:S.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:M,incompleteFirstPass:!1,ssrId:d}}function jg(e,t,n,r,o,i,s,a,l,c,d){const h=t.blueprint.slice();return h[0]=o,h[2]=1228|r,(null!==c||e&&2048&e[2])&&(h[2]|=2048),$f(h),h[3]=h[14]=e,h[8]=n,h[10]=s||e&&e[10],h[11]=a||e&&e[11],h[9]=l||e&&e[9]||null,h[5]=i,h[19]=function X$(){return Y$++}(),h[6]=d,h[20]=c,h[15]=2==t.type?e[15]:h,h}function Qy(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function up(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Jy(e,t){return e[12]?e[13][4]=t:e[12]=t,e[13]=t,t}function ue(e=1){lT(Sn(),et(),qn()+e,!1)}function lT(e,t,n,r){if(!r)if(3&~t[2]){const i=e.preOrderHooks;null!==i&&gg(t,i,0,n)}else{const i=e.preOrderCheckHooks;null!==i&&hg(t,i,n)}br(n)}var Vg=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Vg||{});function dp(e,t,n,r){const o=A(null);try{const[i,s,a]=e.inputs[n];let l=null;0!==(s&Vg.SignalBased)&&(l=t[i][I]),null!==l&&void 0!==l.transformFn?r=l.transformFn(r):null!==a&&(r=a.call(t,r)),null!==e.setInput?e.setInput(t,l,r,n,i):dI(t,l,i,r)}finally{A(o)}}var Mc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Mc||{});function tb(e,t){return undefined(e,t)}function Td(e,t,n,r,o){if(null!=r){let i,s=!1;ui(r)?i=r:Xr(r)&&(s=!0,r=r[0]);const a=ko(r);0===e&&null!==n?null==o?rT(t,n,a):pu(t,n,a,o||null,!0):1===e&&null!==n?pu(t,n,a,o||null,!0):2===e?function cp(e,t,n){e.removeChild(null,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function gj(e,t,n,r,o){const i=n[7];i!==ko(n)&&Td(t,e,r,i,o);for(let a=10;a<n.length;a++){const l=n[a];Hg(l[1],l,e,t,r,i)}}(t,e,i,n,o)}}function uT(e,t){t[10].changeDetectionScheduler?.notify(9),Hg(e,t,t[11],2,null,null)}function nb(e,t){const n=e[9],r=n.indexOf(t);n.splice(r,1)}function fp(e,t){if(Ea(t))return;const n=t[11];n.destroyNode&&Hg(e,t,n,3,null,null),function dj(e){let t=e[12];if(!t)return rb(e[1],e);for(;t;){let n=null;if(Xr(t))n=t[12];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Xr(t)&&rb(t[1],t),t=t[3];null===t&&(t=e),Xr(t)&&rb(t[1],t),n=t&&t[4]}t=n}}(t)}function rb(e,t){if(Ea(t))return;const n=A(null);try{t[2]&=-129,t[2]|=256,t[24]&&U(t[24]),function pj(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Qf)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Fr(4,a,l);try{l.call(a)}finally{Fr(5,a,l)}}else{Fr(4,o,i);try{i.call(o)}finally{Fr(5,o,i)}}}}}(e,t),function fj(e,t){const n=e.cleanup,r=t[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[7]=null);const o=t[21];if(null!==o){t[21]=null;for(let s=0;s<o.length;s++)(0,o[s])()}const i=t[23];if(null!==i){t[23]=null;for(const s of i)s.destroy()}}(e,t),1===t[1].type&&t[11].destroy();const r=t[16];if(null!==r&&ui(t[3])){r!==t[3]&&nb(r,t);const o=t[18];null!==o&&o.detachView(e)}by(t)}finally{A(n)}}function ob(e,t,n){return function dT(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[0];if(wa(r)){const{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Wl.None||o===Wl.Emulated)return null}return bo(r,n)}(e,t.parent,n)}function fT(e,t,n){return hT(e,t,n)}let hT=function pT(e,t,n){return 40&e.type?bo(e,n):null};function sb(e,t,n,r){const o=ob(e,r,t),i=t[11],a=fT(r.parent||t[5],r,t);if(null!=o)if(Array.isArray(n))for(let l=0;l<n.length;l++)oT(i,o,n[l],a,!1);else oT(i,o,n,a,!1)}function hu(e,t){if(null!==t){const n=t.type;if(3&n)return bo(t,e);if(4&n)return Ug(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return hu(e,r);{const o=e[t.index];return ui(o)?Ug(-1,o):ko(o)}}if(128&n)return hu(e,t.next);if(32&n)return tb(t,e)()||ko(e[t.index]);{const r=mT(e,t);return null!==r?Array.isArray(r)?r[0]:hu(Da(e[15]),r):hu(e,t.next)}}return null}function mT(e,t){return null!==t?e[15][5].projection[t.projection]:null}function Ug(e,t){const n=10+e+1;if(n<t.length){const r=t[n],o=r[1].firstChild;if(null!==o)return hu(r,o)}return t[7]}function ab(e,t,n,r,o,i,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],l=n.type;if(s&&0===t&&(a&&Ms(ko(a),r),n.flags|=2),!Ag(n))if(8&l)ab(e,t,n.child,r,o,i,!1),Td(t,e,o,a,i);else if(32&l){const c=tb(n,r);let d;for(;d=c();)Td(t,e,o,d,i);Td(t,e,o,a,i)}else 16&l?vT(e,t,r,n,o,i):Td(t,e,o,a,i);n=s?n.projectionNext:n.next}}function Hg(e,t,n,r,o,i){ab(n,r,e.firstChild,t,o,i,!1)}function vT(e,t,n,r,o,i){const s=n[15],l=s[5].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Td(t,e,o,l[c],i);else{let c=l;const d=s[3];np(r)&&(c.flags|=128),ab(e,t,c,d,o,i,!0)}}function _T(e,t,n,r,o){const i=qn(),s=2&r;try{br(-1),s&&t.length>26&&lT(e,t,26,!1),Fr(s?2:0,o,n),n(r,o)}finally{br(i),Fr(s?3:1,o,n)}}function Gg(e,t,n){(function Sj(e,t,n){const r=n.directiveStart,o=n.directiveEnd;wa(n)&&function lj(e,t,n){const r=bo(t,e),o=function aT(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Xy(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(n),i=e[10].rendererFactory,s=Jy(e,jg(e,o,null,Qy(n),r,t,null,i.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||vg(n,t);const i=n.initialInputs;for(let s=r;s<o;s++){const a=e.data[s],l=tp(t,e,s,n);Ms(l,t),null!==i&&Dj(0,s-r,l,a,0,i),Bi(a)&&(di(n.index,t)[8]=tp(t,e,s,n))}})(e,t,n),!(64&~n.flags)&&function Cj(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function Xn(){return vn.lFrame.currentDirectiveIndex}();try{br(i);for(let a=r;a<o;a++){const l=e.data[a],c=t[a];He(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&wj(l,c)}}finally{br(-1),He(s)}}(e,t,n)}function Ad(e,t,n=bo){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}let yT=()=>null;function lb(e,t,n,r,o,i){Zg(e,t[1],t,n,r)?wa(e)&&function bT(e,t){const n=di(t,e);16&n[2]||(n[2]|=64)}(t,e.index):(3&e.type&&(n=function bj(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),function cb(e,t,n,r,o,i){if(3&e.type){const s=bo(e,t);r=null!=i?i(r,e.value||"",n):r,o.setProperty(s,n,r)}}(e,t,n,r,o,i))}function wj(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ub(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let o=0;o<n.length;o++){const i=n[o];eT(t,i.selectors,!1)&&(r??=[],Bi(i)?r.unshift(i):r.push(i))}return r}function Dj(e,t,n,r,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;a+=2)dp(r,n,s[a],s[a+1])}function Wg(e,t,n,r,o){const i=26+n,s=t[1],a=o(s,t,e,r,n);t[i]=a,qa(e,!0);const l=2===e.type;return l?(sT(t[11],a,e),(0===function rg(){return vn.lFrame.elementDepthCount}()||Ll(e))&&Ms(a,t),function og(){vn.lFrame.elementDepthCount++}()):Ms(a,t),kn()&&(!l||!Ag(e))&&sb(s,t,a,e),e}function qg(e){let t=e;return ag()?Ul():(t=t.parent,qa(t,!1)),t}function Zg(e,t,n,r,o){const i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r];let a=!1;if(s)for(let l=0;l<s.length;l+=2){const c=s[l];dp(t.data[c],n[c],s[l+1],o),a=!0}if(i)for(const l of i)dp(t.data[l],n[l],r,o),a=!0;return a}function Tj(e,t){const n=di(t,e),r=n[1];!function Aj(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[0];null!==o&&null===n[6]&&(n[6]=null),Fr(18),Kg(r,n,n[8]),Fr(19,n[8])}function Kg(e,t,n){pi(t);try{const r=e.viewQuery;null!==r&&jy(1,r,n);const o=e.template;null!==o&&_T(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[18]?.finishViewCreation(e),e.staticContentQueries&&A1(e,t),e.staticViewQueries&&jy(2,e.viewQuery,n);const i=e.components;null!==i&&function xj(e,t){for(let n=0;n<t.length;n++)Tj(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,hi()}}function xd(e,t,n,r){const o=A(null);try{const i=t.tView,l=jg(e,i,n,4096&e[2]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[16]=e[t.index];const d=e[18];return null!==d&&(l[18]=d.createEmbeddedView(i)),Kg(i,l,n),l}finally{A(o)}}function gu(e,t){return!t||null===t.firstChild||np(e)}function pp(e,t,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const i=t[n.index];null!==i&&r.push(ko(i)),ui(i)&&kj(i,r);const s=n.type;if(8&s)pp(e,t,n.child,r);else if(32&s){const a=tb(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=mT(t,n);if(Array.isArray(a))r.push(...a);else{const l=Da(t[15]);pp(l[1],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function kj(e,t){for(let n=10;n<e.length;n++){const r=e[n],o=r[1].firstChild;null!==o&&pp(r[1],r,o,t)}e[7]!==e[0]&&t.push(e[7])}function ET(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let DT=[];const Pj={...Q,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{jl(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},Lj={...Q,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Da(e.lView);for(;t&&!IT(t[1]);)t=Da(t);t&&Bf(t)},consumerOnSignalRead(){this.lView[24]=this}};function IT(e){return 2!==e.type}function TT(e){if(null===e[23])return;let t=!0;for(;t;){let n=!1;for(const r of e[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[2])}}function Yg(e,t=0){const r=e[10].rendererFactory;r.begin?.();try{!function Bj(e,t){const n=vr();try{ji(!0),fb(e,t);let r=0;for(;iu(e);){if(100===r)throw new Pe(103,!1);r++,fb(e,1)}}finally{ji(n)}}(e,t)}finally{r.end?.()}}function AT(e,t,n,r){if(Ea(t))return;const o=t[2];pi(t);let a=!0,l=null,c=null;IT(e)?(c=function Rj(e){return e[24]??function Nj(e){const t=DT.pop()??Object.create(Pj);return t.lView=e,t}(e)}(t),l=_e(c)):null===function se(){return F}()?(a=!1,c=function Fj(e){const t=e[24]??Object.create(Lj);return t.lView=e,t}(t),l=_e(c)):t[24]&&(U(t[24]),t[24]=null);try{$f(t),function dg(e){return vn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&_T(e,t,n,2,r);const d=!(3&~o);if(d){const S=e.preOrderCheckHooks;null!==S&&hg(t,S,null)}else{const S=e.preOrderHooks;null!==S&&gg(t,S,0,null),dy(t,0)}if(function Vj(e){for(let t=qI(e);null!==t;t=ZI(t)){if(!(2&t[2]))continue;const n=t[9];for(let r=0;r<n.length;r++)Bf(n[r])}}(t),TT(t),xT(t,0),null!==e.contentQueries&&A1(e,t),d){const S=e.contentCheckHooks;null!==S&&hg(t,S)}else{const S=e.contentHooks;null!==S&&gg(t,S,1),dy(t,1)}!function Hj(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)br(~o);else{const i=o,s=n[++r],a=n[++r];ei(s,i);const l=t[i];Fr(24,l),a(2,l),Fr(25,l)}}}finally{br(-1)}}(e,t);const h=e.components;null!==h&&kT(t,h,0);const m=e.viewQuery;if(null!==m&&jy(2,m,r),d){const S=e.viewCheckHooks;null!==S&&hg(t,S)}else{const S=e.viewHooks;null!==S&&gg(t,S,2),dy(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const S of t[22])S();t[22]=null}ET(t),t[2]&=-73}catch(d){throw jl(t),d}finally{null!==c&&(ge(c,l),a&&function Oj(e){e.lView[24]!==e&&(e.lView=null,DT.push(e))}(c)),hi()}}function xT(e,t){for(let n=qI(e);null!==n;n=ZI(n))for(let r=10;r<n.length;r++)MT(n[r],t)}function Uj(e,t,n){Fr(18);const r=di(t,e);MT(r,n),Fr(19,r[8])}function MT(e,t){ad(e)&&fb(e,t)}function fb(e,t){const r=e[1],o=e[2],i=e[24];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!Ie(i)),s||=!1,i&&(i.dirty=!1),e[2]&=-9217,s)AT(r,e,r.template,e[8]);else if(8192&o){const a=A(null);try{TT(e),xT(e,1);const l=r.components;null!==l&&kT(e,l,1),ET(e)}finally{A(a)}}}function kT(e,t,n){for(let r=0;r<t.length;r++)Uj(e,t[r],n)}function Md(e,t){const n=vr()?64:1088;for(e[10].changeDetectionScheduler?.notify(t);e;){e[2]|=n;const r=Da(e);if(Wa(e)&&!r)return e;e=r}return null}function RT(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function kd(e,t,n,r=!0){const o=t[1];if(function Gj(e,t,n,r){const o=10+r,i=n.length;r>0&&(n[o-1][4]=t),r<i-10?(t[4]=n[o],ee(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[16];null!==s&&n!==s&&OT(s,t);const a=t[18];null!==a&&a.insertView(e),ld(t),t[2]|=128}(o,t,e,n),r){const s=Ug(n,e),a=t[11],l=a.parentNode(e[7]);null!==l&&function uj(e,t,n,r,o,i){r[0]=o,r[5]=t,Hg(e,r,n,1,o,i)}(o,e[5],a,t,l,s)}const i=t[6];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function hp(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const o=r[16];null!==o&&o!==e&&nb(o,r),t>0&&(e[n-1][4]=r[4]);const i=J(e,10+t);!function cT(e,t){uT(e,t),t[0]=null,t[5]=null}(r[1],r);const s=i[18];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function OT(e,t){const n=e[9],r=t[3];(Xr(r)||t[15]!==r[3][15])&&(e[2]|=2),null===n?e[9]=[t]:n.push(t)}class gp{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[1];return pp(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return Ea(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ui(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(hp(t,r),J(n,r))}this._attachedToViewContainer=!1}fp(this._lView[1],this._lView)}onDestroy(t){su(this._lView,t)}markForCheck(){Md(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){ld(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Yg(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Wa(this._lView),n=this._lView[16];null!==n&&!t&&nb(n,this._lView),uT(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Pe(902,!1);this._appRef=t;const n=Wa(this._lView),r=this._lView[16];null!==r&&!n&&OT(r,this._lView),ld(this._lView)}}let Qa=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=zj;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const i=xd(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new gp(i)}})();function zj(){return Xg(yn(),et())}function Xg(e,t){return 4&e.type?new Qa(t,e,bd(e,t)):null}function mu(e,t,n,r,o){let i=e.data[t];if(null===i)i=function vb(e,t,n,r,o){const i=Zf(),s=ag(),l=e.data[t]=function eV(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return zf()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,r,o);return function Jj(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,l,i,s),l}(e,t,n,r,o),function ry(){return vn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function au(){const e=vn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return qa(i,!0),i}let FV=class{},iA=class{};class LV{resolveComponentFactory(t){throw new Pe(917,!1)}}let im=class{static NULL=new LV};class Eb{}let Zl=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function $V(){const e=et(),n=di(yn().index,e);return(Xr(n)?n:e)[11]}()})(),BV=(()=>{class e{static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>null})}return e})();const Ib={};class Nd{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const o=this.injector.get(t,Ib,r);return o!==Ib||n===Ib?o:this.parentInjector.get(t,n,r)}}function am(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Ni(o,a):2==i&&(r=Ni(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function _(e,t=0){const n=et();return null===n?ae(e,t):TI(yn(),n,Ut(e),t)}function lA(e,t,n,r,o){const i=null===r?null:{"":-1},s=o(e,n);if(null!==s){let a=s,l=null,c=null;for(const d of s)if(null!==d.resolveHostDirectives){[a,l,c]=d.resolveHostDirectives(s);break}!function zV(e,t,n,r,o,i,s){const a=r.length;let l=!1;for(let m=0;m<a;m++){const S=r[m];!l&&Bi(S)&&(l=!0,GV(e,n,m)),my(vg(n,t),e,S.type)}!function XV(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,a);for(let m=0;m<a;m++){const S=r[m];S.providersResolver&&S.providersResolver(S)}let c=!1,d=!1,h=up(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){const S=r[m];if(n.mergedAttrs=yd(n.mergedAttrs,S.hostAttrs),qV(e,n,t,h,S),YV(h,S,o),null!==s&&s.has(S)){const[V,re]=s.get(S);n.directiveToIndex.set(S.type,[h,V+n.directiveStart,re+n.directiveStart])}else(null===i||!i.has(S))&&n.directiveToIndex.set(S.type,h);null!==S.contentQueries&&(n.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(n.flags|=64);const M=S.type.prototype;!c&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!d&&(M.ngOnChanges||M.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),h++}!function WV(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const o=e.data[r];if(null!==n&&n.has(o)){const i=n.get(o);uA(0,t,i,r),uA(1,t,i,r),fA(t,r,!0)}else cA(0,t,o,r),cA(1,t,o,r),fA(t,r,!1)}}(e,n,i)}(e,t,n,a,i,l,c)}null!==i&&null!==r&&function HV(e,t,n){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new Pe(-301,!1);r.push(t[o],i)}}(n,r,i)}function GV(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function cA(e,t,n,r){const o=0===e?n.inputs:n.outputs;for(const i in o)if(o.hasOwnProperty(i)){let s;s=0===e?t.inputs??={}:t.outputs??={},s[i]??=[],s[i].push(r),dA(t,i)}}function uA(e,t,n,r){const o=0===e?n.inputs:n.outputs;for(const i in o)if(o.hasOwnProperty(i)){const s=o[i];let a;a=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),dA(t,s)}}function dA(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function fA(e,t,n){const{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(null===r||!n&&null===o||n&&null===i||Zy(e))return e.initialInputs??=[],void e.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(!n&&o.hasOwnProperty(l)){const c=o[l];for(const d of c)if(d===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&i.hasOwnProperty(l)){const c=i[l];for(let d=0;d<c.length;d+=2)if(c[d]===t){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}e.initialInputs??=[],e.initialInputs.push(s)}function qV(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=p(o.type)),s=new Qf(i,Bi(o),_,null);e.blueprint[r]=s,n[r]=s,function ZV(e,t,n,r,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function KV(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,i)}}(e,t,r,up(e,n,o.hostVars,Rr),o)}function YV(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Bi(t)&&(n[""]=e)}}function Tb(e,t,n,r,o,i,s,a){const l=t[1],c=l.consts,h=mu(l,e,n,r,Jo(c,s));return i&&lA(l,t,h,Jo(c,a),o),h.mergedAttrs=yd(h.mergedAttrs,h.attrs),null!==h.attrs&&am(h,h.attrs,!1),null!==h.mergedAttrs&&am(h,h.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,h),h}function Ab(e,t){gI(e,t),Rf(t)&&e.queries.elementEnd(t)}function lm(e){return!!function xb(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function _l(e,t,n){return e[t]=n}function co(e,t,n){return n!==Rr&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function yu(e,t,n,r){const o=co(e,t,n);return co(e,t+1,r)||o}function Ip(e,t,n){return function r(o){Md(wa(e)?di(e.index,t):t,5);const s=t[8];let a=hA(t,s,n,o),l=r.__ngNextListenerFn__;for(;l;)a=hA(t,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function hA(e,t,n,r){const o=A(null);try{return Fr(6,t,n),!1!==n(r)}catch(i){return function db(e,t){const n=e[9];if(!n)return;let r;try{r=n.get(Ya,null)}catch{r=null}r?.(t)}(e,i),!1}finally{Fr(7,t,n),A(o)}}function gA(e,t,n,r,o,i,s,a){const l=Ll(e);let c=!1,d=null;if(!r&&l&&(d=function tU(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const a=t[7],l=o[i+2];return a&&a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(t,n,i,e.index)),null!==d)(d.__ngLastListenerFn__||d).__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0;else{const h=bo(e,n),m=r?r(h):h,S=o.listen(m,i,a);mA(r?V=>r(ko(V[e.index])):e.index,t,n,i,a,S,!1)}return c}function mA(e,t,n,r,o,i,s){const a=t.firstCreatePass?Uf(t):null,l=Vf(n),c=l.length;l.push(o,i),a&&a.push(r,e,c,(c+1)*(s?-1:1))}function um(e,t,n,r,o,i){const a=t[1],h=t[n][a.data[n].outputs[r]].subscribe(i);mA(e.index,a,t,o,i,h,!0)}const Rc=Symbol("BINDING");class vA extends im{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=wt(t);return new Tp(n,this.ngModule)}}class Tp extends iA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function cU(e){return Object.keys(e).map(t=>{const[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:0!==(r&Vg.SignalBased)};return o&&(i.transform=o),i})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function uU(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function rj(e){return e.map(nj).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){Fr(22);const a=A(null);try{const l=this.componentDef,c=function gU(e,t,n,r){const o=e?["ng-version","20.3.0"]:function oj(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Xa(o))break;o=i}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let i=null,s=null,a=0;if(n)for(const d of n)a+=d[Rc].requiredVars,d.create&&(d.targetIdx=0,(i??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){const h=r[d];if("function"!=typeof h)for(const m of h.bindings){a+=m[Rc].requiredVars;const S=d+1;m.create&&(m.targetIdx=S,(i??=[]).push(m)),m.update&&(m.targetIdx=S,(s??=[]).push(m))}}const l=[t];if(r)for(const d of r){const m=hn("function"==typeof d?d:d.type);l.push(m)}return Xy(0,null,function mU(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(i,s),1,a,l,null,null,null,[o],null)}(r,l,s,i),d=function dU(e,t,n){let r=t instanceof j?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new Nd(n,r):n}(l,o||this.ngModule,t),h=function fU(e){const t=e.get(Eb,null);if(null===t)throw new Pe(407,!1);return{rendererFactory:t,sanitizer:e.get(BV,null),changeDetectionScheduler:e.get(pd,null),ngReflect:!1}}(d),m=h.rendererFactory.createRenderer(null,l),S=r?function vj(e,t,n,r){const i=r.get(AB,!1)||n===Wl.ShadowDom,s=e.selectRootElement(t,i);return function _j(e){yT(e)}(s),s}(m,r,l.encapsulation,d):function pU(e,t){const n=function hU(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return Bg(t,n,"svg"===n?"svg":"math"===n?"math":null)}(l,m),M=s?.some(_A)||i?.some(pe=>"function"!=typeof pe&&pe.bindings.some(_A)),V=jg(null,c,null,512|Qy(l),null,null,h,m,d,null,null);V[26]=S,pi(V);let re=null;try{const pe=Tb(26,V,2,"#host",()=>c.directiveRegistry,!0,0);S&&(sT(m,S,pe),Ms(S,V)),Gg(c,V,pe),Vy(c,pe,V),Ab(c,pe),void 0!==n&&function _U(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i&&i.length?Array.from(i):null)}}(pe,this.ngContentSelectors,n),re=di(pe.index,V),V[8]=re[8],Kg(c,V,null)}catch(pe){throw null!==re&&by(re),by(V),pe}finally{Fr(23),hi()}return new vU(this.componentType,V,!!M)}finally{A(a)}}}function _A(e){const t=e[Rc].kind;return"input"===t||"twoWay"===t}class vU extends FV{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Bl(n[1],26),this.location=bd(this._tNode,n),this.instance=di(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new gp(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Zg(r,o[1],o,t,n),this.previousInputValues.set(t,n),Md(di(r.index,o),1)}get injector(){return new Do(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let es=(()=>class e{static __NG_ELEMENT_ID__=yU})();function yU(){return SA(yn(),et())}const bU=es,yA=class extends bU{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return bd(this._hostTNode,this._hostLView)}get injector(){return new Do(this._hostTNode,this._hostLView)}get parentInjector(){const t=_g(this._hostTNode,this._hostLView);if(py(t)){const n=ep(t,this._hostLView),r=Jf(t);return new Do(n[1].data[r+8],n)}return new Do(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=bA(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=t.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(a,o,gu(this._hostTNode,null)),a}createComponent(t,n,r,o,i,s,a){const l=t&&!function Xf(e){return"function"==typeof e}(t);let c;if(l)c=n;else{const re=n||{};c=re.index,r=re.injector,o=re.projectableNodes,i=re.environmentInjector||re.ngModuleRef,s=re.directives,a=re.bindings}const d=l?t:new Tp(wt(t)),h=r||this.parentInjector;if(!i&&null==d.ngModule){const pe=(l?h:this.parentInjector).get(j,null);pe&&(i=pe)}wt(d.componentType??{});const V=d.create(h,o,null,i,s,a);return this.insertImpl(V.hostView,c,gu(this._hostTNode,null)),V}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function ng(e){return ui(e[3])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[3],c=new yA(l,l[5],l[3]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(n),s=this._lContainer;return kd(s,o,i,r),t.attachToViewContainerRef(),ee(Mb(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=bA(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=hp(this._lContainer,n);r&&(J(Mb(this._lContainer),n),fp(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=hp(this._lContainer,n);return r&&null!=J(Mb(this._lContainer),n)?new gp(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function bA(e){return e[8]}function Mb(e){return e[8]||(e[8]=[])}function SA(e,t){let n;const r=t[e.index];return ui(r)?n=r:(n=RT(r,t,null,e),t[e.index]=n,Jy(t,n)),CA(n,t,e,r),new yA(n,e,t)}let CA=function EA(e,t,n,r){if(e[7])return;let o;o=8&n.type?ko(r):function SU(e,t){const n=e[11],r=n.createComment(""),o=bo(t,e),i=n.parentNode(o);return pu(n,i,r,n.nextSibling(o),!1),r}(t,n),e[7]=o};class Rb{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Rb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nb{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const s=n.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Nb(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==$b(t,n).matches&&this.queries[n].setDirty()}}class DA{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function AU(e){return e.split(",").map(t=>t.trim())}(t):t}}class Ob{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Ob(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pb{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Pb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,EU(n,i)),this.matchTNodeWithReadOption(t,n,yg(n,t,i,!1,!1))}else r===Qa?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,yg(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===rt||o===es||o===Qa&&4&n.type)this.addMatch(n.index,-2);else{const i=yg(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function EU(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function IU(e,t,n,r){return-1===n?function DU(e,t){return 11&e.type?bd(e,t):4&e.type?Xg(e,t):null}(t,e):-2===n?function TU(e,t,n){return n===rt?bd(t,e):n===Qa?Xg(t,e):n===es?SA(t,e):void 0}(e,t,r):tp(e,e[1],n,t)}function IA(e,t,n,r){const o=t[18].queries[r];if(null===o.matches){const i=e.data,s=n.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:IU(t,i[c],s[l+1],n.metadata.read))}o.matches=a}return o.matches}function Fb(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const s=IA(e,t,o,n);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)r.push(s[a/2]);else{const c=i[a+1],d=t[-l];for(let h=10;h<d.length;h++){const m=d[h];m[16]===m[3]&&Fb(m[1],m,c,r)}if(null!==d[9]){const h=d[9];for(let m=0;m<h.length;m++){const S=h[m];Fb(S[1],S,c,r)}}}}}return r}function TA(e,t,n){const r=new q$(!(4&~n));return function Hf(e,t,n,r){const o=Vf(t);o.push(n),e.firstCreatePass&&Uf(e).push(r,o.length-1)}(e,t,r,r.destroy),(t[18]??=new Nb).queries.push(new Rb(r))-1}function MA(e,t,n){null===e.queries&&(e.queries=new Ob),e.queries.track(new Pb(t,n))}function $b(e,t){return e.queries.getByIndex(t)}function kA(e,t){const n=e[1],r=$b(n,t);return r.crossesNgTemplate?Fb(n,e,t,[]):IA(n,e,r,t)}const FA=new Set;function Ti(e){FA.has(e)||(FA.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let bu=class{},LA=class{};class Vb extends bu{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new vA(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;const i=$n(t);this._bootstrapComponents=vl(i.bootstrap),this._r3Injector=cu(t,n,[{provide:bu,useValue:this},{provide:im,useValue:this.componentFactoryResolver},...r],jr(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $A extends LA{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Vb(this.moduleType,t,[])}}class VU extends bu{injector;componentFactoryResolver=new vA(this);instance=null;constructor(t){super();const n=new Se([...t.providers,{provide:bu,useValue:this},{provide:im,useValue:this.componentFactoryResolver}],t.parent||g(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function dm(e,t,n=null){return new VU({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let UU=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Ft(0,n.type),o=r.length>0?dm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Qe({token:e,providedIn:"environment",factory:()=>new e(ae(j))})}return e})();function Xe(e){return Gl(()=>{const t=jA(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Sg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(UU).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Wl.Emulated,styles:e.styles||mt,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Ti("NgStandalone"),VA(n);const r=e.dependencies;return n.directiveDefs=fm(r,BA),n.pipeDefs=fm(r,Pn),n.id=function WU(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function BA(e){return wt(e)||hn(e)}function jo(e){return Gl(()=>({type:e.type,bootstrap:e.bootstrap||mt,declarations:e.declarations||mt,imports:e.imports||mt,exports:e.exports||mt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function HU(e,t){if(null==e)return kt;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=Vg.None,l=null),n[i]=[r,a,l],t[i]=s}return n}function GU(e){if(null==e)return kt;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ht(e){return Gl(()=>{const t=jA(e);return VA(t),t})}function mi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function jA(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||kt,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||mt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:HU(e.inputs,t),outputs:GU(e.outputs),debugInfo:null}}function VA(e){e.features?.forEach(t=>t(e))}function fm(e,t){return e?()=>{const n="function"==typeof e?e():e,r=[];for(const o of n){const i=t(o);null!==i&&r.push(i)}return r}:null}function Fn(e){let t=function UA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Bi(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Pe(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const s=e;s.inputs=Ub(e.inputs),s.declaredInputs=Ub(e.declaredInputs),s.outputs=Ub(e.outputs);const a=o.hostBindings;a&&XU(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&KU(e,l),c&&YU(e,c),qU(e,o),ai(e.outputs,o.outputs),Bi(o)&&o.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===Fn&&(n=!1)}}t=Object.getPrototypeOf(t)}!function ZU(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=yd(o.hostAttrs,n=yd(n,o.hostAttrs))}}(r)}function qU(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Ub(e){return e===kt?{}:e===mt?[]:e}function KU(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function YU(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function XU(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function qA(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=yd(e.mergedAttrs,e.attrs);const d=e.tView=Xy(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),d.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),qa(e,!1);const l=KA(n,t,e,r);kn()&&sb(n,t,l,e),Ms(l,t);const c=RT(l,t,l,e);t[r+26]=c,Jy(t,c)}function Su(e,t,n,r,o,i,s,a,l,c,d){const h=n+26;let m;if(t.firstCreatePass){if(m=mu(t,h,4,s||null,a||null),null!=c){const S=Jo(t.consts,c);m.localNames=[];for(let M=0;M<S.length;M+=2)m.localNames.push(S[M],-1)}}else m=t.data[h];return qA(m,e,t,n,r,o,i,l),null!=c&&Ad(e,m,d),m}function nn(e,t,n,r,o,i,s,a){const l=et(),c=Sn();return function oH(e,t,n,r,o,i,s,a,l,c,d){const h=n+26;let m;t.firstCreatePass?(m=mu(t,h,4,s||null,a||null),fd()&&lA(t,e,m,Jo(t.consts,c),ub),gI(t,m)):m=t.data[h],qA(m,e,t,n,r,o,i,l),Ll(m)&&Gg(t,e,m),null!=c&&Ad(e,m,d)}(l,c,e,t,n,r,o,Jo(c.consts,i),void 0,s,a),nn}let KA=function YA(e,t,n,r){return Zn(!0),t[11].createComment("")};var Gb=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Gb||{});const kp=new nt(""),tx=!1,_n=class uH extends jn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,bc()&&(this.destroyRef=Le(Qi,{optional:!0})??void 0,this.pendingTasks=Le(Ec,{optional:!0})??void 0)}emit(t){const n=A(null);try{super.next(t)}finally{A(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof ut&&t.add(a),a}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function nx(e){let t,n;function r(){e=Yf;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function rx(e){return queueMicrotask(()=>e()),()=>{e=Yf}}const zb="isAngularZone",mm=zb+"_ID";let dH=0;class We{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _n(!1);onMicrotaskEmpty=new _n(!1);onStable=new _n(!1);onError=new _n(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=tx}=t;if(typeof Zone>"u")throw new Pe(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,function hH(e){const t=()=>{!function pH(e){function t(){nx(()=>{e.callbackScheduled=!1,qb(e),e.isCheckStableRunning=!0,Wb(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),qb(e))}(e)},n=dH++;e._inner=e._inner.fork({name:"angular",properties:{[zb]:!0,[mm]:n,[mm+n]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(function gH(e){return sx(e,"__ignore_ng_zone__")}(l))return r.invokeTask(i,s,a,l);try{return ox(e),r.invokeTask(i,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),ix(e)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return ox(e),r.invoke(i,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function mH(e){return sx(e,"__scheduler_tick__")}(l)&&t(),ix(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,qb(e),Wb(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(zb)}static assertInAngularZone(){if(!We.isInAngularZone())throw new Pe(909,!1)}static assertNotInAngularZone(){if(We.isInAngularZone())throw new Pe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,fH,Yf,Yf);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const fH={};function Wb(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function qb(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function ox(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ix(e){e._nesting--,Wb(e)}class Zb{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _n;onMicrotaskEmpty=new _n;onStable=new _n;onError=new _n;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}function sx(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}let ax=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e})}return e})();const lx=[0,1,2,3];let _H=(()=>{class e{ngZone=Le(We);scheduler=Le(pd);errorHandler=Le(wc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Le(kp,{optional:!0})}execute(){const n=this.sequences.size>0;n&&Fr(16),this.executing=!0;for(const r of lx)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,o.hooks[r])(o.pipelinedValue),o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Fr(17)}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),jl(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Gb.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e})}return e})();class cx{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(n=>n!==this))}}function Kb(e,t){const n=t?.injector??Le(Cr);return Ti("NgAfterNextRender"),function ux(e,t,n,r){const o=t.get(ax);o.impl??=t.get(_H);const i=t.get(kp,null,{optional:!0}),s=!0!==n?.manualCleanup?t.get(Qi):null,a=t.get(sy,null,{optional:!0}),l=new cx(o.impl,function bH(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(l),l}(e,n,t,!0)}let yx=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Ox=new nt(""),Sm=new nt("");let oS,nS=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,o){this._ngZone=n,this.registry=r,bc()&&(this._destroyRef=Le(Qi,{optional:!0})??void 0),oS||(function wG(e){oS=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n()},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static \u0275fac=function(r){return new(r||e)(ae(We),ae(rS),ae(Sm))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})(),rS=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return oS?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Op(e){return!!e&&"function"==typeof e.then}function Px(e){return!!e&&"function"==typeof e.subscribe}const iS=new nt("");function sS(e){return $([{provide:iS,multi:!0,useValue:e}])}let Fx=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Le(iS,{optional:!0})??[];injector=Le(Cr);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=Lo(this.injector,o);if(Op(i))n.push(i);else if(Px(i)){const s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Lx=new nt("");function $x(e,t){return Array.isArray(t)?t.reduce($x,e):{...e,...t}}let Aa=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Le(Ya);afterRenderManager=Le(ax);zonelessEnabled=Le(XD);rootEffectScheduler=Le(eI);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new jn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Le(Ec);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(nr(n=>!n))}constructor(){Le(kp,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Le(j);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Cr.NULL){return this._injector.get(We).run(()=>{Fr(10);const s=n instanceof iA;if(!this._injector.get(Fx).done)throw new Pe(405,"");let l;l=s?n:this._injector.get(im).resolveComponentFactory(n),this.componentTypes.push(l.componentType);const c=function DG(e){return e.isBoundToModule}(l)?void 0:this._injector.get(bu),h=l.create(o,[],r||l.selector,c),m=h.location.nativeElement,S=h.injector.get(Ox,null);return S?.registerApplication(m),h.onDestroy(()=>{this.detachView(h.hostView),Cm(this.components,h),S?.unregisterApplication(m)}),this._loadComponent(h),Fr(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Fr(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Gb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Pe(101,!1);const n=A(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,A(n),this.afterTick.next(),Fr(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Eb,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)Fr(14),this.synchronizeOnce(),Fr(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews)(r||iu(o))&&(Yg(o,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>iu(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Cm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Lx,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Cm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Pe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function ra(e,t,n,r){const o=et();return co(o,Vi(),t)&&(Sn(),function Ej(e,t,n,r,o,i){const s=bo(e,t);!function zg(e,t,n,r,o,i,s){if(null==i)e.removeAttribute(t,o,n);else{const a=null==s?zt(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}(t[11],s,i,e.value,n,r,o)}(Mt(),o,e,t,n,r)),ra}const Zx=new nt("",{providedIn:"root",factory:()=>!1}),l4=new nt("",{providedIn:"root",factory:()=>c4}),c4=4e3;function Gd(e,t,n,r,o,i,s,a){Ti("NgControlFlow");const l=et(),c=Sn();return Su(l,c,e,t,n,r,o,Jo(c.consts,i),256,s,a),_S}function _S(e,t,n,r,o,i,s,a){Ti("NgControlFlow");const l=et(),c=Sn();return Su(l,c,e,t,n,r,o,Jo(c.consts,i),512,s,a),_S}function zd(e,t){Ti("NgControlFlow");const n=et(),r=Vi(),o=n[r]!==Rr?n[r]:-1,i=-1!==o?Am(n,26+o):void 0;if(co(n,r,e)){const a=A(null);try{if(void 0!==i&&function pb(e,t){const n=hp(e,t);return void 0!==n&&fp(n[1],n),n}(i,0),-1!==e){const l=26+e,c=Am(n,l),d=function yS(e,t){return Bl(e,t)}(n[1],l),h=null;kd(c,xd(n,d,t,{dehydratedView:h}),0,gu(d,h))}}finally{A(a)}}else if(void 0!==i){const a=function NT(e,t){const n=10+t;if(n<e.length)return e[n]}(i,0);void 0!==a&&(a[8]=t)}}function Am(e,t){return e[t]}function he(e,t,n){const r=et();return co(r,Vi(),t)&&(Sn(),lb(Mt(),r,e,t,r[11],n)),he}function bS(e,t,n,r,o){Zg(t,e,n,o?"class":"style",r)}function B(e,t,n,r){const o=et(),i=o[1],s=e+26,a=i.firstCreatePass?Tb(s,o,2,t,ub,fd(),n,r):i.data[s];if(Wg(a,o,e,t,SS),Ll(a)){const l=o[1];Gg(l,o,a),Vy(l,a,o)}return null!=r&&Ad(o,a),B}function H(){const e=Sn(),n=qg(yn());return e.firstCreatePass&&Ab(e,n),Wf(n)&&qf(),Gf(),null!=n.classesWithoutHost&&function T$(e){return!!(8&e.flags)}(n)&&bS(e,n,et(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function A$(e){return!!(16&e.flags)}(n)&&bS(e,n,et(),n.stylesWithoutHost,!1),H}function tt(e,t,n,r){return B(e,t,n,r),H(),tt}function xm(e,t,n,r){const o=et(),i=o[1],s=e+26,a=i.firstCreatePass?function pA(e,t,n,r,o,i){const s=t.consts,l=mu(t,e,n,r,Jo(s,o));if(l.mergedAttrs=yd(l.mergedAttrs,l.attrs),null!=i){const c=Jo(s,i);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return null!==l.attrs&&am(l,l.attrs,!1),null!==l.mergedAttrs&&am(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,2,t,n,r):i.data[s];return Wg(a,o,e,t,SS),null!=r&&Ad(o,a),xm}function Mm(){return Wf(qg(yn()))&&qf(),Gf(),Mm}typeof document<"u"&&document;let SS=(e,t,n,r,o)=>(Zn(!0),Bg(t[11],r,function lt(){return vn.lFrame.currentNamespace}()));function Kl(e,t,n){const r=et(),o=r[1],i=e+26,s=o.firstCreatePass?Tb(i,r,8,"ng-container",ub,fd(),t,n):o.data[i];if(Wg(s,r,e,"ng-container",wS),Ll(s)){const a=r[1];Gg(a,r,s),Vy(a,s,r)}return null!=n&&Ad(r,s),Kl}function yl(){const e=Sn(),n=qg(yn());return e.firstCreatePass&&Ab(e,n),yl}let wS=(e,t,n,r,o)=>(Zn(!0),Yy(t[11],""));function Cn(){return et()}const Rm="en-US";let fM=Rm;function $e(e,t,n){const r=et(),o=Sn(),i=yn();return function TS(e,t,n,r,o,i,s){let a=!0,l=null;if((3&r.type||s)&&(l??=Ip(r,t,i),gA(r,e,t,s,n,o,i,l)&&(a=!1)),a){const c=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let h=0;h<d.length;h+=2){const m=d[h],S=d[h+1];l??=Ip(r,t,i),um(r,t,m,S,o,l)}if(c&&c.length)for(const h of c)l??=Ip(r,t,i),um(r,t,h,o,o,l)}}(o,r,r[11],i,e,t,n),$e}function IS(e,t,n){const r=et(),o=Sn(),i=yn();return(3&i.type||n)&&gA(i,o,r,n,r[11],e,t,Ip(i,r,t)),IS}function it(e=1){return function Mn(e){return(vn.lFrame.contextLView=function jf(e,t){for(;e>0;)t=t[14],e--;return t}(e,vn.lFrame.contextLView))[8]}(e)}function Iz(e,t){let n=null;const r=function Q3(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===r?eT(e,i,!0):tj(r,i))return o}else n=o}return n}function St(e){const t=et()[15][5];if(!t.projection){const r=t.projection=function Ue(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(e?e.length:1,null),o=r.slice();let i=t.child;for(;null!==i;){if(128!==i.type){const s=e?Iz(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function yt(e,t=0,n,r,o,i){const s=et(),a=Sn(),l=r?e+1:null;null!==l&&Su(s,a,l,r,o,i,null,n);const c=mu(a,26+e,16,null,n||null);null===c.projection&&(c.projection=t),Ul();const h=!s[6]||zf();null===s[15][5].projection[c.projection]&&null!==l?function Tz(e,t,n){const r=26+n,o=t.data[r],i=e[r];kd(i,xd(e,o,void 0,{dehydratedView:null}),0,gu(o,null))}(s,a,l):h&&!Ag(c)&&function hj(e,t,n){vT(t[11],0,t,n,ob(e,n,t),fT(n.parent||t[5],n,t))}(a,s,c)}function Au(e,t,n,r){!function xA(e,t,n,r){const o=Sn();if(o.firstCreatePass){const i=yn();MA(o,new DA(t,n,r),i.index),function xU(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),!(2&~n)&&(o.staticContentQueries=!0)}return TA(o,et(),n)}(e,t,n,r)}function Yl(e,t,n){!function AA(e,t,n){const r=Sn();return r.firstCreatePass&&(MA(r,new DA(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),TA(r,et(),t)}(e,t,n)}function ns(e){const t=et(),n=Sn(),r=Qn();_r(r+1);const o=$b(n,r);if(e.dirty&&function tg(e){return!(4&~e[2])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const i=kA(t,r);e.reset(i,FI),e.notifyOnChanges()}return!0}return!1}function rs(){return function Lb(e,t){return e[18].queries[t].queryList}(et(),Qn())}function oa(e){return fl(function lg(){return vn.lFrame.contextLView}(),26+e)}function Fm(e,t){return e<<17|t<<2}function xu(e){return e>>17&32767}function AS(e){return 2|e}function qd(e){return(131068&e)>>2}function xS(e,t){return-131069&e|t<<2}function MS(e){return 1|e}function kM(e,t,n,r){const o=e[n+1],i=null===t;let s=r?xu(o):qd(o),a=!1;for(;0!==s&&(!1===a||i);){const c=e[s+1];Fz(e[s],t)&&(a=!0,e[s+1]=r?MS(c):AS(c)),s=r?xu(c):qd(c)}a&&(e[n+1]=r?AS(o):MS(o))}function Fz(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ft(e,t)>=0}function Mu(e,t,n){return $M(e,t,n,!1),Mu}function ia(e,t){return $M(e,t,null,!0),ia}function $M(e,t,n,r){const o=et(),i=Sn(),s=Ka(2);i.firstUpdatePass&&function VM(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[qn()],s=function jM(e,t){return t>=e.expandoStartIndex}(e,n);(function zM(e,t){return!!(e.flags&(t?8:16))})(i,r)&&null===t&&!s&&(t=!1),t=function qz(e,t,n,r){const o=function Qr(e){const t=vn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Vp(n=kS(null,e,t,n,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=kS(o,e,t,n,r),null===i){let l=function Zz(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==qd(r))return e[xu(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=kS(null,e,t,l[1],r),l=Vp(l,t.attrs,r),function Kz(e,t,n,r){e[xu(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else i=function Yz(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=Vp(r,e[i].hostAttrs,n);return Vp(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function Oz(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=xu(s),l=qd(s);e[r]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||ft(n,d)>0)&&(c=!0)):d=n,o)if(0!==l){const m=xu(e[a+1]);e[r+1]=Fm(m,a),0!==m&&(e[m+1]=xS(e[m+1],r)),e[a+1]=function Rz(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Fm(a,0),0!==a&&(e[a+1]=xS(e[a+1],r)),a=r;else e[r+1]=Fm(l,0),0===a?a=r:e[l+1]=xS(e[l+1],r),l=r;c&&(e[r+1]=AS(e[r+1])),kM(e,d,r,!0),kM(e,d,r,!1),function Pz(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&ft(i,t)>=0&&(n[r+1]=MS(n[r+1]))}(t,d,e,r,i),s=Fm(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,n,s,r)}}(i,e,s,r),t!==Rr&&co(o,s,t)&&function HM(e,t,n,r,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],d=function Nz(e){return!(1&~e)}(c)?GM(l,t,n,o,qd(c),s):void 0;Lm(d)||(Lm(i)||function kz(e){return!(2&~e)}(c)&&(i=GM(l,null,n,o,a,s)),function mj(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:Mc.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Mc.Important),e.setStyle(n,r,o,i))}}(r,s,$l(qn(),n),o,i))}(i,i.data[qn()],o,o[11],e,o[s+1]=function e6(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=jr(na(e)))),e}(t,n),r,s)}function kS(e,t,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=t[a],r=Vp(r,i.hostAttrs,o),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Vp(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),be(e,s,!!n||t[++i]))}return void 0===e?null:e}function GM(e,t,n,r,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),d=c?l[1]:l,h=null===d;let m=n[o+1];m===Rr&&(m=h?mt:void 0);let S=h?je(m,r):d===r?m:void 0;if(c&&!Lm(S)&&(S=je(l,r)),Lm(S)&&(a=S,s))return a;const M=e[o+1];o=s?xu(M):qd(M)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=je(l,r))}return a}function Lm(e){return void 0!==e}function Te(e,t=""){const n=et(),r=Sn(),o=e+26,i=r.firstCreatePass?mu(r,o,1,t,null):r.data[o],s=WM(r,n,i,t,e);n[o]=s,kn()&&sb(r,n,s,i),qa(i,!1)}let WM=(e,t,n,r,o)=>(Zn(!0),function Ky(e,t){return e.createText(t)}(t[11],r));function ZM(e,t,n,r=""){return co(e,Vi(),n)?t+zt(n)+r:Rr}function YM(e,t,n,r,o,i,s,a=""){const c=function cm(e,t,n,r,o){const i=yu(e,t,n,r);return co(e,t+2,o)||i}(e,Za(),n,o,s);return Ka(3),c?t+zt(n)+r+zt(o)+i+zt(s)+a:Rr}function Ps(e){return vi("",e),Ps}function vi(e,t,n){const r=et(),o=ZM(r,e,t,n);return o!==Rr&&Xl(r,qn(),o),vi}function Up(e,t,n,r,o){const i=et(),s=function KM(e,t,n,r,o,i=""){const a=yu(e,Za(),n,o);return Ka(2),a?t+zt(n)+r+zt(o)+i:Rr}(i,e,t,n,r,o);return s!==Rr&&Xl(i,qn(),s),Up}function RS(e,t,n,r,o,i,s){const a=et(),l=YM(a,e,t,n,r,o,i,s);return l!==Rr&&Xl(a,qn(),l),RS}function Xl(e,t,n){const r=$l(t,e);!function nT(e,t,n){e.setValue(t,n)}(e[11],r,n)}function Hp(e){return co(et(),Vi(),e)?zt(e):Rr}function NS(e,t,n=""){return ZM(et(),e,t,n)}function OS(e,t,n,r,o){if(e=Ut(e),Array.isArray(e))for(let i=0;i<e.length;i++)OS(e[i],t,n,r,o);else{const i=Sn(),s=et(),a=yn();let l=Nt(e)?e:Ut(e.provide);const c=Wn(e),d=1048575&a.providerIndexes,h=a.directiveStart,m=a.providerIndexes>>20;if(Nt(e)||!e.multi){const S=new Qf(c,o,_,null),M=FS(l,t,o?d:d+m,h);-1===M?(my(vg(a,s),i,l),PS(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(S),s.push(S)):(n[M]=S,s[M]=S)}else{const S=FS(l,t,d+m,h),M=FS(l,t,d,d+m),re=M>=0&&n[M];if(o&&!re||!o&&!(S>=0&&n[S])){my(vg(a,s),i,l);const pe=function v6(e,t,n,r,o){const s=new Qf(e,n,_,null);return s.multi=[],s.index=t,s.componentProviders=0,fk(s,o,r&&!n),s}(o?m6:g6,n.length,o,r,c);!o&&re&&(n[M].providerFactory=pe),PS(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(pe),s.push(pe)}else PS(i,e,S>-1?S:M,fk(n[o?M:S],c,!o&&r));!o&&r&&re&&n[M].componentProviders++}}}function PS(e,t,n,r){const o=Nt(t),i=function Pr(e){return!!e.useClass}(t);if(o||i){const l=(i?Ut(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const d=c.indexOf(n);-1===d?c.push(n,[r,l]):c[d+1].push(r,l)}else c.push(n,l)}}}function fk(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function FS(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function g6(e,t,n,r,o){return LS(this.multi,[])}function m6(e,t,n,r,o){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=tp(r,r[1],this.providerFactory.index,o);s=l.slice(0,a),LS(i,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],LS(i,s);return s}function LS(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function wr(e,t=[]){return n=>{n.providersResolver=(r,o)=>function h6(e,t,n){const r=Sn();if(r.firstCreatePass){const o=Bi(e);OS(n,r.data,r.blueprint,o,!0),OS(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}function mk(e,t,n,r,o,i){const s=t+n;return co(e,s,o)?_l(e,s+1,i?r.call(i,o):r(o)):function Gp(e,t){const n=e[t];return n===Rr?void 0:n}(e,s+1)}function Fc(e,t){const n=Sn();let r;const o=e+26;n.firstCreatePass?(r=function M6(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=p(r.type)),a=so(_);try{const l=mg(!1),c=i();return mg(l),function sd(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,et(),o,c),c}finally{so(a)}}function Lc(e,t,n){const r=e+26,o=et(),i=fl(o,r);return function zp(e,t){return e[1].data[t].pure}(o,r)?mk(o,jt(),t,i.transform,n,i):i.transform(n)}class c5{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let u5=(()=>{class e{compileModuleSync(n){return new $A(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=vl($n(n).declarations).reduce((s,a)=>{const l=wt(a);return l&&s.push(new Tp(l)),s},[]);return new c5(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),f5=(()=>{class e{zone=Le(We);changeDetectionScheduler=Le(pd);applicationRef=Le(Aa);applicationErrorHandler=Le(Ya);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $k({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new We({...US(),scheduleInRootZone:n}),[{provide:We,useFactory:e},{provide:Rt,multi:!0,useFactory:()=>{const r=Le(f5,{optional:!0});return()=>r.initialize()}},{provide:Rt,multi:!0,useFactory:()=>{const r=Le(h5);return()=>{r.initialize()}}},!0===t?{provide:QD,useValue:!0}:[],{provide:JD,useValue:n??tx},{provide:Ya,useFactory:()=>{const r=Le(We),o=Le(j);let i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(wc),i.handleError(s))})}}}]}function US(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let h5=(()=>{class e{subscription=new ut;initialized=!1;zone=Le(We);pendingTasks=Le(Ec);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vk=(()=>{class e{applicationErrorHandler=Le(Ya);appRef=Le(Aa);taskService=Le(Ec);ngZone=Le(We);zonelessEnabled=Le(XD);tracing=Le(kp,{optional:!0});disableScheduling=Le(QD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ut;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(mm):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Le(JD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Zb||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const o=this.useMicrotaskScheduler?rx:nx;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(mm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rx(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Bc=new nt("",{providedIn:"root",factory:()=>Le(Bc,{optional:!0,skipSelf:!0})||function g5(){return typeof $localize<"u"&&$localize.locale||Rm}()}),Hm=Symbol("InputSignalNode#UNSET"),zk={...Dn,transformFn:void 0,applyValueToInputSignal(e,t){bt(e,t)}};function Wk(e,t){const n=Object.create(zk);function r(){if(Z(n),n.value===Hm)throw new Pe(-950,null);return n.value}return n.value=e,n.transformFn=t?.transform,r[I]=n,r}function qk(e,t){return Wk(e,t)}new nt("").__NG_ELEMENT_ID__=e=>{const t=yn();if(null===t)throw new Pe(204,!1);if(2&t.type)return t.value;if(8&e)return null;throw new Pe(204,!1)};const I5=(qk.required=function D5(e){return Wk(Hm,e)},qk),zm=new nt(""),k5=new nt("");function qp(e){return!e.moduleRef}let Jk;function eR(){Jk=R5}function R5(e,t){const n=e.injector.get(Aa);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Pe(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}let tR=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,r){const o=r?.scheduleInRootZone,s=r?.ignoreChangesOutsideZone,a=[$k({ngZoneFactory:()=>function vH(e="zone.js",t){return"noop"===e?new Zb:"zone.js"===e?new We(t):e}(r?.ngZone,{...US({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:s}),{provide:pd,useExisting:Vk},ZL],l=function jU(e,t,n){return new Vb(e,t,n,!1)}(n.moduleType,this.injector,a);return eR(),function Qk(e){const t=qp(e)?e.r3Injector:e.moduleRef.injector,n=t.get(We);return n.run(()=>{qp(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(Ya);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),qp(e)){const i=()=>t.destroy(),s=e.platformInjector.get(zm);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{const i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(zm);s.add(i),e.moduleRef.onDestroy(()=>{Cm(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return function N5(e,t,n){try{const r=n();return Op(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}(r,n,()=>{const i=t.get(Ec),s=i.add(),a=t.get(Fx);return a.runInitializers(),a.donePromise.then(()=>{if(function H4(e){"string"==typeof e&&(fM=e.toLowerCase().replace(/_/g,"-"))}(t.get(Bc,Rm)||Rm),!t.get(k5,!0))return qp(e)?t.get(Aa):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(qp(e)){const d=t.get(Aa);return void 0!==e.rootComponent&&d.bootstrap(e.rootComponent),d}return Jk?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{i.remove(s)})})})}({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){const o=$x({},r);return eR(),function T5(e,t,n){const r=new $A(n);return Promise.resolve(r)}(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(zm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(ae(Cr))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Xd=null;function nR(e,t,n=[]){const r=`Platform: ${t}`,o=new nt(r);return(i=[])=>{let s=Wm();if(!s){const a=[...n,...i,{provide:o,useValue:!0}];s=e?.(a)??function O5(e){if(Wm())throw new Pe(400,!1);(function EG(){!function gt(e){Ge=e}(()=>{throw new Pe(600,"")})})(),Xd=e;const t=e.get(tR);return function oR(e){const t=e.get(n1,null);Lo(e,()=>{t?.forEach(n=>n())})}(e),t}(function rR(e=[],t){return Cr.create({name:t,providers:[{provide:tr,useValue:"platform"},{provide:zm,useValue:new Set([()=>Xd=null])},...e]})}(a,r))}return function P5(){const t=Wm();if(!t)throw new Pe(401,!1);return t}()}}function Wm(){return Xd?.get(tR)??null}let vt=(()=>class e{static __NG_ELEMENT_ID__=L5})();function L5(e){return function $5(e,t,n){if(wa(e)&&!n){const r=di(e.index,t);return new gp(r,r)}return 175&e.type?new gp(t[15],t):null}(yn(),et(),!(16&~e))}class sR{constructor(){}supports(t){return lm(t)}create(t){return new j5(t)}}const B5=(e,t)=>t;class j5{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||B5}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const s=!r||n&&n.currentIndex<lR(r,o,i)?n:r,a=lR(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,d=l-o;if(c!=d){for(let m=0;m<c;m++){const S=m<i.length?i[m]:i[m]=0,M=S+m;d<=M&&M<c&&(i[m]=S+1)}i[s.previousIndex]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!lm(t))throw new Pe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,s,a),r=!0),n=n._next}else o=0,function JV(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new V5(n,r),i,o),t}_verifyReinsertion(t,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new aR),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aR),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class V5{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}}class U5{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class aR{map=new Map;put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new U5,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lR(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function uR(){return new qS([new sR])}let qS=(()=>{class e{factories;static \u0275prov=Qe({token:e,providedIn:"root",factory:uR});constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{const r=Le(e,{optional:!0,skipSelf:!0});return e.create(n,r||uR())}}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Pe(901,!1)}}return e})();const q5=nR(null,"core",[]);let Z5=(()=>{class e{constructor(n){}static \u0275fac=function(r){return new(r||e)(ae(Aa))};static \u0275mod=jo({type:e});static \u0275inj=Un({})}return e})();function IR(e){const t=wt(e);if(!t)return null;const n=new Tp(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}const TR="browser";function Jd(e){return e===TR}let w8=(()=>{class e{static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new E8(Le($o),window)})}return e})();class E8{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo({...n,left:t[0],top:t[1]})}scrollToAnchor(t,n){const r=function D8(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(qr(2400,!1))}}scrollToElement(t,n){const r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo({...n,left:o-s[0],top:i-s[1]})}}function eo(e){return function nW(e){const t=A(null);try{return e()}finally{A(t)}}(e)}function _i(e,t){return function Re(e,t){const n=Object.create(Dt);n.computation=e,void 0!==t&&(n.equal=t);const r=()=>{if(ve(n),Z(n),n.value===Je)throw n.error;return n.value};return r[I]=n,r}(e,t?.equal)}Error,Error;let WR=(()=>{class e extends hl{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=ly(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+Hl(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+Hl(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(ae(ay),ae(rI,8))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class o9{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jl=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new o9(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),rN(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{rN(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(_(es),_(Qa),_(qS))};static \u0275dir=Ht({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function rN(e,t){e.context.$implicit=t.item}let To=(()=>{class e{_viewContainer;_context=new i9;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){oN(n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){oN(n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(_(es),_(Qa))};static \u0275dir=Ht({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})();class i9{$implicit=null;ngIf=null}function oN(e,t){if(e&&!e.createEmbeddedView)throw new Pe(2020,!1)}class uC{_viewContainerRef;_templateRef;_created=!1;constructor(t,n){this._viewContainerRef=t,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let fv=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ht({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})(),iN=(()=>{class e{ngSwitch;_view;ngSwitchCase;constructor(n,r,o){this.ngSwitch=o,o._addCase(),this._view=new uC(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||e)(_(es),_(Qa),_(fv,9))};static \u0275dir=Ht({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return e})(),sN=(()=>{class e{constructor(n,r,o){o._addDefault(new uC(n,r))}static \u0275fac=function(r){return new(r||e)(_(es),_(Qa),_(fv,9))};static \u0275dir=Ht({type:e,selectors:[["","ngSwitchDefault",""]]})}return e})(),ec=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=jo({type:e});static \u0275inj=Un({})}return e})();const hC=new nt("");let cN=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new Pe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(ae(hC),ae(We))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class uN{_doc;constructor(t){this._doc=t}manager}const gC="ng-app-id";function dN(e){for(const t of e)t.remove()}function fN(e,t){const n=t.createElement("style");return n.textContent=e,n}function mC(e,t){const n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}let pN=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,function M9(e,t,n,r){const o=e.head?.querySelectorAll(`style[${gC}="${t}"],link[${gC}="${t}"]`);if(o)for(const i of o)i.removeAttribute(gC),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const o of n)this.addUsage(o,this.inline,fN);r?.forEach(o=>this.addUsage(o,this.external,mC))}removeStyles(n,r){for(const o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){const i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){const o=r.get(n);o&&(o.usage--,o.usage<=0&&(dN(o.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])dN(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:o}]of this.inline)o.push(this.addElement(n,fN(r,this.doc)));for(const[r,{elements:o}]of this.external)o.push(this.addElement(n,mC(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(ae($o),ae(op),ae(r1,8),ae(Eg))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const vC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_C=/%COMP%/g,F9=new nt("",{providedIn:"root",factory:()=>!0});function gN(e,t){return t.map(n=>n.replace(_C,e))}let mN=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,o,i,s,a,l,c=null,d,h,m=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.animationDisabled=d,this.maxAnimationTimeout=h,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new yC(n,s,l,this.platformIsServer,this.tracingService,this.registry=function pl(){return er}(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(n,r);return o instanceof _N?o.applyToHost(n):o instanceof bC&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Wl.Emulated:i=new _N(l,c,r,this.appId,d,s,a,h,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Wl.ShadowDom:return new j9(l,c,n,r,s,a,this.nonce,h,m,this.registry,this.maxAnimationTimeout);default:i=new bC(l,c,r,d,s,a,h,m,this.registry,this.animationDisabled,this.maxAnimationTimeout)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(ae(cN),ae(pN),ae(op),ae(F9),ae($o),ae(Eg),ae(We),ae(r1),ae(Zx),ae(l4),ae(kp,8))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class yC{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i,s,a){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(vC[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(vN(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(vN(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){const{elements:r}=this.registry;r?r.animate(n,()=>n.remove(),this.maxAnimationTimeout):n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Pe(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const i=vC[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=vC[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Mc.DashCase|Mc.Important)?t.style.setProperty(n,r,o&Mc.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Mc.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if("string"==typeof t&&!(t=Dc().getGlobalEventTarget(this.doc,t)))throw new Pe(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&n.preventDefault()}}}function vN(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class j9 extends yC{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,l,c,d,h){super(t,i,s,l,c,d,h),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=o.styles;m=gN(o.id,m);for(const M of m){const V=document.createElement("style");a&&V.setAttribute("nonce",a),V.textContent=M,this.shadowRoot.appendChild(V)}const S=o.getExternalStyles?.();if(S)for(const M of S){const V=mC(M,i);a&&V.setAttribute("nonce",a),this.shadowRoot.appendChild(V)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bC extends yC{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(t,n,r,o,i,s,a,l,c,d,h,m){super(t,i,s,a,l,c,h),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this._animationDisabled=d;let S=r.styles;this.styles=m?gN(m,S):S,this.styleUrls=r.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements)return void this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}}class _N extends bC{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,l,c,d,h,m){const S=o+"-"+r.id;super(t,n,r,i,s,a,l,c,d,h,m,S),this.contentAttr=function L9(e){return"_ngcontent-%COMP%".replace(_C,e)}(S),this.hostAttr=function $9(e){return"_nghost-%COMP%".replace(_C,e)}(S)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class SC extends JL{supportsDOMEvents=!0;static makeCurrent(){!function QL(e){tI??=e}(new SC)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function V9(){return Jp=Jp||document.head.querySelector("base"),Jp?Jp.getAttribute("href"):null}();return null==n?null:function U9(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Jp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return sI(document.cookie,t)}}let Jp=null,G9=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})(),z9=(()=>{class e extends uN{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(ae($o))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const yN=["alt","control","meta","shift"],W9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q9={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Z9=(()=>{class e extends uN{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o,i){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dc().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),yN.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=i,0!=r.length||0===i.length)return null;const l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let o=W9[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),yN.forEach(s=>{s!==o&&(0,q9[s])(n)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||e)(ae($o))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const Q9=nR(q5,"browser",[{provide:Eg,useValue:TR},{provide:n1,useValue:function K9(){SC.makeCurrent()},multi:!0},{provide:$o,useFactory:function X9(){return function yB(e){wy=e}(document),document}}]),CN=[{provide:Sm,useClass:class H9{addToWindow(t){zn.getAngularTestability=(r,o=!0)=>{const i=t.findTestabilityInTree(r,o);if(null==i)throw new Pe(5103,!1);return i},zn.getAllAngularTestabilities=()=>t.getAllTestabilities(),zn.getAllAngularRootElements=()=>t.getAllRootElements(),zn.frameworkStabilizers||(zn.frameworkStabilizers=[]),zn.frameworkStabilizers.push(r=>{const o=zn.getAllAngularTestabilities();let i=o.length;const s=function(){i--,0==i&&r()};o.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Dc().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}}},{provide:Ox,useClass:nS,deps:[We,rS,Sm]},{provide:nS,useClass:nS,deps:[We,rS,Sm]}],wN=[{provide:tr,useValue:"root"},{provide:wc,useFactory:function Y9(){return new wc}},{provide:hC,useClass:z9,multi:!0,deps:[$o]},{provide:hC,useClass:Z9,multi:!0,deps:[$o]},mN,pN,cN,{provide:Eb,useExisting:mN},{provide:aI,useClass:G9},[]];let J9=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=jo({type:e});static \u0275inj=Un({providers:[...wN,...CN],imports:[ec,Z5]})}return e})(),e7=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(ae($o))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let CC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:function(r){let o=null;return o=r?new(r||e):ae(i7),o},providedIn:"root"})}return e})(),i7=(()=>{class e extends CC{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case ks.NONE:return r;case ks.HTML:return ml(r,"HTML")?na(r):V1(this._doc,String(r)).toString();case ks.STYLE:return ml(r,"Style")?na(r):r;case ks.SCRIPT:if(ml(r,"Script"))return na(r);throw new Pe(5200,!1);case ks.URL:return ml(r,"URL")?na(r):Pg(String(r));case ks.RESOURCE_URL:if(ml(r,"ResourceURL"))return na(r);throw new Pe(5201,!1);default:throw new Pe(5202,!1)}}bypassSecurityTrustHtml(n){return function u3(e){return new o3(e)}(n)}bypassSecurityTrustStyle(n){return function d3(e){return new i3(e)}(n)}bypassSecurityTrustScript(n){return function f3(e){return new s3(e)}(n)}bypassSecurityTrustUrl(n){return function p3(e){return new a3(e)}(n)}bypassSecurityTrustResourceUrl(n){return function h3(e){return new l3(e)}(n)}static \u0275fac=function(r){return new(r||e)(ae($o))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const tf="safari"in window,mo=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,IN=mo&&!navigator.userAgent.match(/(crios)|(fxios)/i),bl=!!navigator.userAgent.match(/pwashell/i),wC=(tf||mo||!!navigator.userAgent.match(/Safari/)&&navigator.userAgent.match(/Chrome/),!!navigator.userAgent.match(/android/i)),s7=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;function pv(e){return e+"-preview"}function EC(e){return localStorage.getItem(pv(e))}function DC(e,t){localStorage.setItem(pv(e),t)}const TN="DYNAMIC_FONTS";function AN(){return!!nf()&&"1"===(EC(TN)??"1")}function nf(){return mo}function xN(){nf()&&(AN()?document.documentElement.style.removeProperty("--ion-dynamic-font"):document.documentElement.style.setProperty("--ion-dynamic-font","initial"))}const MN="cp-indicator-fix-portrait",kN="cp-indicator-fix-landscape",RN="cloudpilot-indicator-fix-mode";let hv;function NN(){return function a7(e){return localStorage.getItem(pv(e))??localStorage.getItem(e)}(RN)??"none"}function IC(){return IN&&!navigator?.standalone}function ON(e){if(!IC())return;hv||(hv=document.createElement("style"),hv.textContent=`\n           @media (orientation: portrait) and (min-height: ${window.screen.height-110}px) {\n                html.${MN} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n\n            @media (orientation: landscape) {\n                html.${kN} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n        `,document.head.appendChild(hv)),void 0!==e?DC(RN,e):e=NN();const t=document.documentElement.classList;t.toggle(MN,"all"===e||"portrait"===e),t.toggle(kN,"all"===e||"landscape"===e)}const gv="cloudpilot-session";function PN(){!function l7(e){localStorage.removeItem(pv(e))}(gv)}var fn=y(6784),h7=y(3028),rf=y.n(h7);let mv,vv;function FN(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const n=t.split("&").map(r=>r.split("="));for(const[r,o]of n)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function LN(){return void 0!==vv}class $N{constructor(){this.requestEvent=new fn.J}dispatchRequest(t){if(t){try{t=new(rf())(t).toString()}catch(n){return void console.error(`invalid URL: ${t}`,n)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let TC=(()=>{var e;class t{constructor(){this.installation=new $N,this.import=new $N,mv&&this.installation.dispatchRequest(mv),vv&&this.import.dispatchRequest(vv)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function ie(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function Vc(e){return this instanceof Vc?(this.v=e,this):new Vc(e)}function UN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function kC(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const NC=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function HN(e){return Ot(e?.then)}function GN(e){return Ot(e[fo])}function zN(e){return Symbol.asyncIterator&&Ot(e?.[Symbol.asyncIterator])}function WN(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const qN=function U7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ZN(e){return Ot(e?.[qN])}function KN(e){return function VN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(S){return function(M){return Promise.resolve(M).then(S,h)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(S,M){r[S]&&(o[S]=function(V){return new Promise(function(re,pe){i.push([S,V,re,pe])>1||l(S,V)})},M&&(o[S]=M(o[S])))}function l(S,M){try{!function c(S){S.value instanceof Vc?Promise.resolve(S.value.v).then(d,h):m(i[0][2],S)}(r[S](M))}catch(V){m(i[0][3],V)}}function d(S){l("next",S)}function h(S){l("throw",S)}function m(S,M){S(M),i.shift(),i.length&&l(i[0][0],i[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Vc(n.read());if(o)return yield Vc(void 0);yield yield Vc(r)}}finally{n.releaseLock()}})}function YN(e){return Ot(e?.getReader)}function Fs(e){if(e instanceof Tn)return e;if(null!=e){if(GN(e))return function H7(e){return new Tn(t=>{const n=e[fo]();if(Ot(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(NC(e))return function G7(e){return new Tn(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(HN(e))return function z7(e){return new Tn(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,lr)})}(e);if(zN(e))return XN(e);if(ZN(e))return function W7(e){return new Tn(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(YN(e))return function q7(e){return XN(KN(e))}(e)}throw WN(e)}function XN(e){return new Tn(t=>{(function Z7(e,t){var n,r,o,i;return function BN(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=UN(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function tc(e,t,n,r=0,o=!1){const i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function xi(e,t,n=1/0){return Ot(t)?xi((r,o)=>nr((i,s)=>t(r,i,o,s))(Fs(e(r,o))),n):("number"==typeof t&&(n=t),ni((r,o)=>function K7(e,t,n,r,o,i,s,a){const l=[];let c=0,d=0,h=!1;const m=()=>{h&&!l.length&&!c&&t.complete()},S=V=>c<r?M(V):l.push(V),M=V=>{i&&t.next(V),c++;let re=!1;Fs(n(V,d++)).subscribe(Bo(t,pe=>{o?.(pe),i?S(pe):t.next(pe)},()=>{re=!0},void 0,()=>{if(re)try{for(c--;l.length&&c<r;){const pe=l.shift();s?tc(t,s,()=>M(pe)):M(pe)}m()}catch(pe){t.error(pe)}}))};return e.subscribe(Bo(t,S,()=>{h=!0,m()})),()=>{a?.()}}(r,o,e,n)))}function sf(e,t){return Ot(t)?xi(e,t,1):xi(e,1)}function Ra(e,t){return ni((n,r)=>{let o=0;n.subscribe(Bo(r,i=>e.call(t,i,o++)&&r.next(i)))})}function th(e){return ni((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function yi(e,t){return ni((n,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();n.subscribe(Bo(r,l=>{o?.unsubscribe();let c=0;const d=i++;Fs(e(l,d)).subscribe(o=Bo(r,h=>r.next(t?t(l,h,d,c++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function QN(e){return e&&Ot(e.schedule)}function OC(e){return e[e.length-1]}function JN(e){return Ot(OC(e))?e.pop():void 0}function nh(e){return QN(OC(e))?e.pop():void 0}function eO(e,t=0){return ni((n,r)=>{n.subscribe(Bo(r,o=>tc(r,e,()=>r.next(o),t),()=>tc(r,e,()=>r.complete(),t),o=>tc(r,e,()=>r.error(o),t)))})}function tO(e,t=0){return ni((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function nO(e,t){if(!e)throw new Error("Iterable cannot be null");return new Tn(n=>{tc(n,t,()=>{const r=e[Symbol.asyncIterator]();tc(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function oi(e,t){return t?function nq(e,t){if(null!=e){if(GN(e))return function X7(e,t){return Fs(e).pipe(tO(t),eO(t))}(e,t);if(NC(e))return function J7(e,t){return new Tn(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(HN(e))return function Q7(e,t){return Fs(e).pipe(tO(t),eO(t))}(e,t);if(zN(e))return nO(e,t);if(ZN(e))return function eq(e,t){return new Tn(n=>{let r;return tc(n,t,()=>{r=e[qN](),tc(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>Ot(r?.return)&&r.return()})}(e,t);if(YN(e))return function tq(e,t){return nO(KN(e),t)}(e,t)}throw WN(e)}(e,t):Fs(e)}function cn(...e){return oi(e,nh(e))}class _v{}class yv{}class tl{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof tl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new tl;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof tl?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}addHeaderEntry(t,n){const r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class rq{encodeKey(t){return rO(t)}encodeValue(t){return rO(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const iq=/%(\d[a-f0-9])/gi,sq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rO(e){return encodeURIComponent(e).replace(iq,(t,n)=>sq[n]??t)}function bv(e){return`${e}`}class Uc{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new rq,t.fromString){if(t.fromObject)throw new Pe(2805,!1);this.map=function oq(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(bv):[bv(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Uc({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(bv(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(bv(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class aq{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function oO(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function iO(e){return typeof Blob<"u"&&e instanceof Blob}function sO(e){return typeof FormData<"u"&&e instanceof FormData}const rh="Content-Type",PC="X-Request-URL",aO="text/plain",lO="application/json",cO=`${lO}, ${aO}, */*`;class oh{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,o){let i;if(this.url=n,this.method=t.toUpperCase(),function lq(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),"number"==typeof i.timeout){if(i.timeout<1||!Number.isInteger(i.timeout))throw new Pe(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new tl,this.context??=new aq,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Uc,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||oO(this.body)||iO(this.body)||sO(this.body)||function cq(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Uc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sO(this.body)?null:iO(this.body)?this.body.type||null:oO(this.body)?null:"string"==typeof this.body?aO:this.body instanceof Uc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?lO:null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,l=t.mode||this.mode,c=t.redirect||this.redirect,d=t.credentials||this.credentials,h=t.referrer||this.referrer,m=t.integrity||this.integrity,S=t.transferCache??this.transferCache,M=t.timeout??this.timeout,V=void 0!==t.body?t.body:this.body,re=t.withCredentials??this.withCredentials,pe=t.reportProgress??this.reportProgress;let fe=t.headers||this.headers,at=t.params||this.params;const Tt=t.context??this.context;return void 0!==t.setHeaders&&(fe=Object.keys(t.setHeaders).reduce((Et,wn)=>Et.set(wn,t.setHeaders[wn]),fe)),t.setParams&&(at=Object.keys(t.setParams).reduce((Et,wn)=>Et.set(wn,t.setParams[wn]),at)),new oh(n,r,V,{params:at,headers:fe,context:Tt,reportProgress:pe,responseType:o,withCredentials:re,transferCache:S,keepalive:i,cache:a,priority:s,timeout:M,mode:l,redirect:c,credentials:d,referrer:h,integrity:m})}}var Hc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Hc||{});class FC{headers;status;statusText;url;ok;type;redirected;constructor(t,n=200,r="OK"){this.headers=t.headers||new tl,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}}class Cv extends FC{constructor(t={}){super(t)}type=Hc.ResponseHeader;clone(t={}){return new Cv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ih extends FC{body;constructor(t={}){super(t),this.body=void 0!==t.body?t.body:null}type=Hc.Response;clone(t={}){return new ih({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}}class Ru extends FC{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function LC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}let $C=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof oh)i=n;else{let l,c;l=o.headers instanceof tl?o.headers:new tl(o.headers),o.params&&(c=o.params instanceof Uc?o.params:new Uc({fromObject:o.params})),i=new oh(n,r,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}const s=cn(i).pipe(sf(l=>this.handler.handle(l)));if(n instanceof oh||"events"===o.observe)return s;const a=s.pipe(Ra(l=>l instanceof ih));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(nr(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Pe(2806,!1);return l.body}));case"blob":return a.pipe(nr(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Pe(2807,!1);return l.body}));case"text":return a.pipe(nr(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Pe(2808,!1);return l.body}));default:return a.pipe(nr(l=>l.body))}case"response":return a;default:throw new Pe(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Uc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,LC(o,r))}post(n,r,o={}){return this.request("POST",n,LC(o,r))}put(n,r,o={}){return this.request("PUT",n,LC(o,r))}static \u0275fac=function(r){return new(r||e)(ae(_v))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const fO=new nt("");function pO(e,t){return t(e)}function gq(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const vq=new nt(""),sh=new nt(""),_q=new nt(""),hO=new nt("",{providedIn:"root",factory:()=>!0});function yq(){let e=null;return(t,n)=>{null===e&&(e=(Le(vq,{optional:!0})??[]).reduceRight(gq,pO));const r=Le(fg);if(Le(hO)){const i=r.add();return e(t,n).pipe(th(i))}return e(t,n)}}let gO=(()=>{class e extends _v{backend;injector;chain=null;pendingTasks=Le(fg);contributeToStability=Le(hO);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(sh),...this.injector.get(_q,[])]));this.chain=r.reduceRight((o,i)=>function mq(e,t,n){return(r,o)=>Lo(n,()=>t(r,i=>e(i,o)))}(o,i,this.injector),pO)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(th(r))}return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(ae(yv),ae(j))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const wq=/^\)\]\}',?\n/,Eq=RegExp(`^${PC}:`,"m");let vO=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Pe(-2800,!1);const r=this.xhrFactory;return cn(null).pipe(yi(()=>new Tn(i=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((re,pe)=>s.setRequestHeader(re,pe.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept",cO),!n.headers.has(rh)){const re=n.detectContentTypeHeader();null!==re&&s.setRequestHeader(rh,re)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){const re=n.responseType.toLowerCase();s.responseType="json"!==re?re:"text"}const a=n.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const re=s.statusText||"OK",pe=new tl(s.getAllResponseHeaders()),fe=function Dq(e){return"responseURL"in e&&e.responseURL?e.responseURL:Eq.test(e.getAllResponseHeaders())?e.getResponseHeader(PC):null}(s)||n.url;return l=new Cv({headers:pe,status:s.status,statusText:re,url:fe}),l},d=()=>{let{headers:re,status:pe,statusText:fe,url:at}=c(),Tt=null;204!==pe&&(Tt=typeof s.response>"u"?s.responseText:s.response),0===pe&&(pe=Tt?200:0);let Et=pe>=200&&pe<300;if("json"===n.responseType&&"string"==typeof Tt){const wn=Tt;Tt=Tt.replace(wq,"");try{Tt=""!==Tt?JSON.parse(Tt):null}catch(Rn){Tt=wn,Et&&(Et=!1,Tt={error:Rn,text:Tt})}}Et?(i.next(new ih({body:Tt,headers:re,status:pe,statusText:fe,url:at||void 0})),i.complete()):i.error(new Ru({error:Tt,headers:re,status:pe,statusText:fe,url:at||void 0}))},h=re=>{const{url:pe}=c(),fe=new Ru({error:re,status:s.status||0,statusText:s.statusText||"Unknown Error",url:pe||void 0});i.error(fe)};let m=h;n.timeout&&(m=re=>{const{url:pe}=c(),fe=new Ru({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:pe||void 0});i.error(fe)});let S=!1;const M=re=>{S||(i.next(c()),S=!0);let pe={type:Hc.DownloadProgress,loaded:re.loaded};re.lengthComputable&&(pe.total=re.total),"text"===n.responseType&&s.responseText&&(pe.partialText=s.responseText),i.next(pe)},V=re=>{let pe={type:Hc.UploadProgress,loaded:re.loaded};re.lengthComputable&&(pe.total=re.total),i.next(pe)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",m),s.addEventListener("abort",h),n.reportProgress&&(s.addEventListener("progress",M),null!==a&&s.upload&&s.upload.addEventListener("progress",V)),s.send(a),i.next({type:Hc.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",m),n.reportProgress&&(s.removeEventListener("progress",M),null!==a&&s.upload&&s.upload.removeEventListener("progress",V)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(ae(aI))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const VC=new nt(""),_O=new nt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),yO=new nt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class bO{}let Aq=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=sI(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(ae($o),ae(_O))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();function xq(e,t){const n=e.url.toLowerCase();if(!Le(VC)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=Le(bO).getToken(),o=Le(yO);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var Gc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Gc||{});function Nu(e,t){return{\u0275kind:e,\u0275providers:t}}function Mq(...e){const t=[$C,vO,gO,{provide:_v,useExisting:gO},{provide:yv,useFactory:()=>Le(fO,{optional:!0})??Le(vO)},{provide:sh,useValue:xq,multi:!0},{provide:VC,useValue:!0},{provide:bO,useClass:Aq}];for(const n of e)t.push(...n.\u0275providers);return $(t)}const SO=new nt(""),{isArray:Nq}=Array,{getPrototypeOf:Oq,prototype:Pq,keys:Fq}=Object;function CO(e){if(1===e.length){const t=e[0];if(Nq(t))return{args:t,keys:null};if(function Lq(e){return e&&"object"==typeof e&&Oq(e)===Pq}(t)){const n=Fq(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:$q}=Array;function UC(e){return nr(t=>function Bq(e,t){return $q(t)?e(...t):e(t)}(e,t))}function wO(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function wv(...e){const t=nh(e),n=JN(e),{args:r,keys:o}=CO(e);if(0===r.length)return oi([],t);const i=new Tn(function jq(e,t,n=io){return r=>{EO(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)EO(t,()=>{const c=oi(e[l],t);let d=!1;c.subscribe(Bo(r,h=>{i[l]=h,d||(d=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,o?s=>wO(o,s):io));return n?i.pipe(UC(n)):i}function EO(e,t,n){e?tc(n,e,t):t()}const Ev=Ze(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function af(e=1/0){return xi(io,e)}function HC(...e){return function Vq(){return af(1)}()(oi(e,nh(e)))}function GC(e){return new Tn(t=>{Fs(e()).subscribe(t)})}function Dv(e,t){const n=Ot(e)?e:()=>e,r=o=>o.error(n());return new Tn(t?o=>t.schedule(r,0,o):r)}const Na=new Tn(e=>e.complete());function zC(){return ni((e,t)=>{let n=null;e._refCount++;const r=Bo(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class DO extends Tn{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,lI(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ut;const n=this.getSubject();t.add(this.source.subscribe(Bo(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ut.EMPTY)}return t}refCount(){return zC()(this)}}function lf(e){return e<=0?()=>Na:ni((t,n)=>{let r=0;t.subscribe(Bo(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Iv(e){return ni((t,n)=>{let r=!1;t.subscribe(Bo(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function IO(e=Gq){return ni((t,n)=>{let r=!1;t.subscribe(Bo(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Gq(){return new Ev}function zc(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ra((o,i)=>e(o,i,r)):io,lf(1),n?Iv(t):IO(()=>new Ev))}function Ui(e,t,n){const r=Ot(e)||t||n?{next:e,error:t,complete:n}:e;return r?ni((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(Bo(i,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),i.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),i.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),i.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):io}function Ou(e){return ni((t,n)=>{let i,r=null,o=!1;r=t.subscribe(Bo(n,void 0,void 0,s=>{i=Fs(e(s,Ou(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function WC(e){return e<=0?()=>Na:ni((t,n)=>{let r=[];t.subscribe(Bo(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function qC(e){return ni((t,n)=>{Fs(e).subscribe(Bo(n,()=>n.complete(),gr)),!n.closed&&t.subscribe(n)})}const Ln="primary",ah=Symbol("RouteTitle");class Zq{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function cf(e){return new Zq(e)}function Kq(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=e[i];if(":"===s[0])o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Sl(e,t){const n=e?ZC(e):void 0,r=t?ZC(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!TO(e[o],t[o]))return!1;return!0}function ZC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function TO(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}return e===t}function AO(e){return e.length>0?e[e.length-1]:null}function nc(e){return function Rq(e){return!!e&&(e instanceof Tn||Ot(e.lift)&&Ot(e.subscribe))}(e)?e:Op(e)?oi(Promise.resolve(e)):cn(e)}const Xq={exact:function kO(e,t,n){if(!Fu(e.segments,t.segments)||!Tv(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!kO(e.children[r],t.children[r],n))return!1;return!0},subset:RO},xO={exact:function Qq(e,t){return Sl(e,t)},subset:function Jq(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>TO(e[n],t[n]))},ignored:()=>!0};function MO(e,t,n){return Xq[n.paths](e.root,t.root,n.matrixParams)&&xO[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function RO(e,t,n){return NO(e,t,t.segments,n)}function NO(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!Fu(o,n)||t.hasChildren()||!Tv(o,n,r))}if(e.segments.length===n.length){if(!Fu(e.segments,n)||!Tv(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!RO(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!(Fu(e.segments,o)&&Tv(e.segments,o,r)&&e.children[Ln])&&NO(e.children[Ln],t,i,r)}}function Tv(e,t,n){return t.every((r,o)=>xO[n](e[o].parameters,r.parameters))}class Pu{root;queryParams;fragment;_queryParamMap;constructor(t=new Br([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=cf(this.queryParams),this._queryParamMap}toString(){return nZ.serialize(this)}}class Br{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xv(this)}}class lh{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=cf(this.parameters),this._parameterMap}toString(){return FO(this)}}function Fu(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let uf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>new Av,providedIn:"root"})}return e})();class Av{parse(t){const n=new pZ(t);return new Pu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${ch(t.root,!0)}`,r=function iZ(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Mv(n)}=${Mv(o)}`).join("&"):`${Mv(n)}=${Mv(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function rZ(e){return encodeURI(e)}(t.fragment)}`:""}`}}const nZ=new Av;function xv(e){return e.segments.map(t=>FO(t)).join("/")}function ch(e,t){if(!e.hasChildren())return xv(e);if(t){const n=e.children[Ln]?ch(e.children[Ln],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Ln&&r.push(`${o}:${ch(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function tZ(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===Ln&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==Ln&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===Ln?[ch(e.children[Ln],!1)]:[`${o}:${ch(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ln]?`${xv(e)}/${n[0]}`:`${xv(e)}/(${n.join("//")})`}}function OO(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mv(e){return OO(e).replace(/%3B/gi,";")}function KC(e){return OO(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kv(e){return decodeURIComponent(e)}function PO(e){return kv(e.replace(/\+/g,"%20"))}function FO(e){return`${KC(e.path)}${function oZ(e){return Object.entries(e).map(([t,n])=>`;${KC(t)}=${KC(n)}`).join("")}(e.parameters)}`}const sZ=/^[^\/()?;#]+/;function YC(e){const t=e.match(sZ);return t?t[0]:""}const aZ=/^[^\/()?;=#]+/,cZ=/^[^=?&#]+/,dZ=/^[^&#]+/;class pZ{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Br([],{}):new Br([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Ln]=new Br(t,n)),r}parseSegment(){const t=YC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Pe(4009,!1);return this.capture(t),new lh(kv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function lZ(e){const t=e.match(aZ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=YC(this.remaining);o&&(r=o,this.capture(r))}t[kv(n)]=kv(r)}parseQueryParam(t){const n=function uZ(e){const t=e.match(cZ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function fZ(e){const t=e.match(dZ);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=PO(n),i=PO(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=YC(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Pe(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ln);const s=this.parseChildren();n[i]=1===Object.keys(s).length?s[Ln]:new Br([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Pe(4011,!1)}}function LO(e){return e.segments.length>0?new Br([],{[Ln]:e}):e}function $O(e){const t={};for(const[r,o]of Object.entries(e.children)){const i=$O(o);if(r===Ln&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}return function hZ(e){if(1===e.numberOfChildren&&e.children[Ln]){const t=e.children[Ln];return new Br(e.segments.concat(t.segments),t.children)}return e}(new Br(e.segments,t))}function Lu(e){return e instanceof Pu}function BO(e){let t;const o=LO(function n(i){const s={};for(const l of i.children){const c=n(l);s[l.outlet]=c}const a=new Br(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function jO(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return XC(o,o,o,n,r);const i=function mZ(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new UO(!0,0,e);let t=0,n=!1;const r=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new UO(n,t,r)}(t);if(i.toRoot())return XC(o,o,new Br([],{}),n,r);const s=function vZ(e,t,n){if(e.isAbsolute)return new Nv(t,!0,0);if(!n)return new Nv(t,!1,NaN);if(null===n.parent)return new Nv(n,!0,0);const r=Rv(e.commands[0])?0:1;return function _Z(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Pe(4005,!1);o=r.segments.length}return new Nv(r,!1,o-i)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?dh(s.segmentGroup,s.index,i.commands):HO(s.segmentGroup,s.index,i.commands);return XC(o,s.segmentGroup,a,n,r)}function Rv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function uh(e){return"object"==typeof e&&null!=e&&e.outlets}function XC(e,t,n,r,o){let s,i={};r&&Object.entries(r).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=e===t?n:VO(e,t,n);const a=LO($O(s));return new Pu(a,i,o)}function VO(e,t,n){const r={};return Object.entries(e.children).forEach(([o,i])=>{r[o]=i===t?n:VO(i,t,n)}),new Br(e.segments,r)}class UO{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Rv(r[0]))throw new Pe(4003,!1);const o=r.find(uh);if(o&&o!==AO(r))throw new Pe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nv{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function HO(e,t,n){if(e??=new Br([],{}),0===e.segments.length&&e.hasChildren())return dh(e,t,n);const r=function bZ(e,t,n){let r=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;const s=e.segments[o],a=n[r];if(uh(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!zO(l,c,s))return i;r+=2}else{if(!zO(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const i=new Br(e.segments.slice(0,r.pathIndex),{});return i.children[Ln]=new Br(e.segments.slice(r.pathIndex),e.children),dh(i,0,o)}return r.match&&0===o.length?new Br(e.segments,{}):r.match&&!e.hasChildren()?QC(e,t,n):r.match?dh(e,0,o):QC(e,t,n)}function dh(e,t,n){if(0===n.length)return new Br(e.segments,{});{const r=function yZ(e){return uh(e[0])?e[0].outlets:{[Ln]:e}}(n),o={};if(Object.keys(r).some(i=>i!==Ln)&&e.children[Ln]&&1===e.numberOfChildren&&0===e.children[Ln].segments.length){const i=dh(e.children[Ln],t,n);return new Br(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=HO(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new Br(e.segments,o)}}function QC(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const i=n[o];if(uh(i)){const l=SZ(i.outlets);return new Br(r,l)}if(0===o&&Rv(n[0])){r.push(new lh(e.segments[t].path,GO(n[0]))),o++;continue}const s=uh(i)?i.outlets[Ln]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Rv(a)?(r.push(new lh(s,GO(a))),o+=2):(r.push(new lh(s,{})),o++)}return new Br(r,{})}function SZ(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=QC(new Br([],{}),0,r))}),t}function GO(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function zO(e,t,n){return e==n.path&&Sl(t,n.parameters)}const fh="imperative";var sr=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(sr||{});class Cl{id;url;constructor(t,n){this.id=t,this.url=n}}class ph extends Cl{type=sr.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rc extends Cl{urlAfterRedirects;type=sr.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ls=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Ls||{}),Ov=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ov||{});class $u extends Cl{reason;code;type=sr.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class df extends Cl{reason;code;type=sr.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}}class JC extends Cl{error;target;type=sr.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WO extends Cl{urlAfterRedirects;state;type=sr.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CZ extends Cl{urlAfterRedirects;state;type=sr.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wZ extends Cl{urlAfterRedirects;state;shouldActivate;type=sr.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class EZ extends Cl{urlAfterRedirects;state;type=sr.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DZ extends Cl{urlAfterRedirects;state;type=sr.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IZ{route;type=sr.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class TZ{route;type=sr.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class AZ{snapshot;type=sr.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xZ{snapshot;type=sr.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MZ{snapshot;type=sr.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kZ{snapshot;type=sr.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qO{routerEvent;position;anchor;type=sr.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class e0{}class Pv{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}}function nl(e){return e.outlet||Ln}function ff(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class $Z{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ff(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Bu(this.rootInjector)}}let Bu=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new $Z(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(ae(j))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class ZO{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=t0(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=t0(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=n0(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return n0(t,this._root).map(n=>n.value)}}function t0(e,t){if(e===t.value)return t;for(const n of t.children){const r=t0(e,n);if(r)return r}return null}function n0(e,t){if(e===t.value)return[t];for(const n of t.children){const r=n0(e,n);if(r.length)return r.unshift(t),r}return[]}class rl{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function pf(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class KO extends ZO{snapshot;constructor(t,n){super(t),this.snapshot=n,r0(this,t)}toString(){return this.snapshot.toString()}}function YO(e){const t=function BZ(e){const i=new Lv([],{},{},"",{},Ln,e,null,{});return new XO("",new rl(i,[]))}(e),n=new Ar([new lh("",{})]),r=new Ar({}),o=new Ar({}),i=new Ar({}),s=new Ar(""),a=new oc(n,r,i,s,o,Ln,e,t.root);return a.snapshot=t.root,new KO(new rl(a,[]),t)}class oc{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(nr(c=>c[ah]))??cn(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(nr(t=>cf(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(nr(t=>cf(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fv(e,t,n="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&JO(o)&&(r.resolve[ah]=o.title),r}class Lv{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ah]}constructor(t,n,r,o,i,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=cf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=cf(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XO extends ZO{url;constructor(t,n){super(n),this.url=t,r0(this,n)}toString(){return QO(this._root)}}function r0(e,t){t.value._routerState=e,t.children.forEach(n=>r0(e,n))}function QO(e){const t=e.children.length>0?` { ${e.children.map(QO).join(", ")} } `:"";return`${e.value}${t}`}function o0(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Sl(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Sl(t.params,n.params)||e.paramsSubject.next(n.params),function Yq(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Sl(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Sl(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function s0(e,t){const n=Sl(e.params,t.params)&&function eZ(e,t){return Fu(e,t)&&e.every((n,r)=>Sl(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||s0(e.parent,t.parent))}function JO(e){return"string"==typeof e.title||null===e.title}const jZ=new nt("");let eP=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ln;activateEvents=new _n;deactivateEvents=new _n;attachEvents=new _n;detachEvents=new _n;routerOutletData=I5(void 0);parentContexts=Le(Bu);location=Le(es);changeDetector=Le(vt);inputBinder=Le($v,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Pe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Pe(4013,!1);this._activatedRoute=n;const o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new VZ(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ht({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ji]})}return e})();class VZ{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===oc?this.route:t===Bu?this.childContexts:t===jZ?this.outletData:this.parent.get(t,n)}}const $v=new nt("");let tP=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=wv([r.queryParams,r.params,r.data]).pipe(yi(([i,s,a],l)=>(a={...i,...s,...a},0===l?cn(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=IR(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})(),nP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Xe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){1&r&&tt(0,"router-outlet")},dependencies:[eP],encapsulation:2})}return e})();function a0(e){const t=e.children&&e.children.map(a0),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ln&&(n.component=nP),n}function hh(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function HZ(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return hh(e,r,o);return hh(e,r)})}(e,t,n);return new rl(r,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>hh(e,a)),s}}const r=function GZ(e){return new oc(new Ar(e.url),new Ar(e.params),new Ar(e.queryParams),new Ar(e.fragment),new Ar(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>hh(e,i));return new rl(r,o)}}class l0{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}}const rP="ngNavigationCancelingError";function Bv(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Lu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=oP(!1,Ls.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function oP(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[rP]=!0,n.cancellationCode=t,n}function iP(e){return!!e&&e[rP]}class qZ{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),o0(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=pf(n);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=pf(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=pf(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=pf(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new kZ(i.value.snapshot))}),t.children.length&&this.forwardEvent(new xZ(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(o0(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),o0(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}}class sP{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jv{component;route;constructor(t,n){this.component=t,this.route=n}}function ZZ(e,t,n){const r=e._root;return gh(r,t?t._root:null,n,[r.value])}function hf(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function fa(e){return null!==vs(e)}(e)?t.get(e):e:r}function gh(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=pf(t);return e.children.forEach(s=>{(function YZ(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function XZ(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Fu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Fu(e.url,t.url)||!Sl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!s0(e,t)||!Sl(e.queryParams,t.queryParams);default:return!s0(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new sP(r)):(i.data=s.data,i._resolvedData=s._resolvedData),gh(e,t,i.component?a?a.children:null:n,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new jv(a.outlet.component,s))}else s&&mh(t,a,o),o.canActivateChecks.push(new sP(r)),gh(e,null,i.component?a?a.children:null:n,r,o)})(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>mh(a,n.getContext(s),o)),o}function mh(e,t,n){const r=pf(e),o=e.value;Object.entries(r).forEach(([i,s])=>{mh(s,o.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new jv(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function vh(e){return"function"==typeof e}function aP(e){return e instanceof Ev||"EmptyError"===e?.name}const Vv=Symbol("INITIAL_VALUE");function gf(){return yi(e=>wv(e.map(t=>t.pipe(lf(1),function Hq(...e){const t=nh(e);return ni((n,r)=>{(t?HC(e,n,t):HC(e,n)).subscribe(r)})}(Vv)))).pipe(nr(t=>{for(const n of t)if(!0!==n){if(n===Vv)return Vv;if(!1===n||oK(n))return n}return!0}),Ra(t=>t!==Vv),lf(1)))}function oK(e){return Lu(e)||e instanceof l0}function lP(e){return function xo(...e){return Tr(e)}(Ui(t=>{if("boolean"!=typeof t)throw Bv(0,t)}),nr(t=>!0===t))}class c0{segmentGroup;constructor(t){this.segmentGroup=t||null}}class u0 extends Error{urlTree;constructor(t){super(),this.urlTree=t}}function mf(e){return Dv(new c0(e))}function gK(e){return Dv(new Pe(4e3,!1))}class vK{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return cn(r);if(o.numberOfChildren>1||!o.children[Ln])return gK();o=o.children[Ln]}}applyRedirectCommands(t,n,r,o,i){return function _K(e,t,n){if("string"==typeof e)return cn(e);const r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,params:c,data:d,title:h}=t;return nc(Lo(n,()=>r({params:c,data:d,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,title:h})))}(n,o,i).pipe(nr(s=>{if(s instanceof Pu)throw new u0(s);const a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if("/"===s[0])throw new u0(a);return a}))}applyRedirectCreateUrlTree(t,n,r,o){const i=this.createSegmentGroup(t,n.root,r,o);return new Pu(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&":"===i[0]){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){const i=this.createSegments(t,n.segments,r,o);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,o)}),new Br(i,s)}createSegments(t,n,r,o){return n.map(i=>":"===i.path[0]?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new Pe(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const d0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yK(e,t,n,r,o){const i=cP(e,t,n);return i.matched?(r=function NZ(e,t){return e.providers&&!e._injector&&(e._injector=dm(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function hK(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?cn(o.map(s=>{const a=hf(s,e);return nc(function rK(e){return e&&vh(e.canMatch)}(a)?a.canMatch(t,n):Lo(e,()=>a(t,n)))})).pipe(gf(),lP()):cn(!0)}(r,t,n).pipe(nr(s=>!0===s?i:{...d0}))):cn(i)}function cP(e,t,n){if("**"===t.path)return function bK(e){return{matched:!0,parameters:e.length>0?AO(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...d0}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Kq)(n,e,t);if(!o)return{...d0};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function uP(e,t,n,r){return n.length>0&&function wK(e,t,n){return n.some(r=>Uv(e,t,r)&&nl(r)!==Ln)}(e,n,r)?{segmentGroup:new Br(t,CK(r,new Br(n,e.children))),slicedSegments:[]}:0===n.length&&function EK(e,t,n){return n.some(r=>Uv(e,t,r))}(e,n,r)?{segmentGroup:new Br(e.segments,SK(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Br(e.segments,e.children),slicedSegments:n}}function SK(e,t,n,r){const o={};for(const i of n)if(Uv(e,t,i)&&!r[nl(i)]){const s=new Br([],{});o[nl(i)]=s}return{...r,...o}}function CK(e,t){const n={};n[Ln]=t;for(const r of e)if(""===r.path&&nl(r)!==Ln){const o=new Br([],{});n[nl(r)]=o}return n}function Uv(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class IK{}class xK{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new vK(this.urlSerializer,this.urlTree)}noMatchError(t){return new Pe(4002,`'${t.segmentGroup}'`)}recognize(){const t=uP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(nr(({children:n,rootSnapshot:r})=>{const o=new rl(r,n),i=new XO("",o),s=function gZ(e,t,n=null,r=null){return jO(BO(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){const n=new Lv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ln,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Ln,n).pipe(nr(r=>({children:r,rootSnapshot:n})),Ou(r=>{if(r instanceof u0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof c0?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(nr(s=>s instanceof rl?[s]:[]))}processChildren(t,n,r,o){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return oi(i).pipe(sf(s=>{const a=r.children[s],l=function LZ(e,t){const n=e.filter(r=>nl(r)===t);return n.push(...e.filter(r=>nl(r)!==t)),n}(n,s);return this.processSegmentGroup(t,l,a,s,o)}),function Wq(e,t){return ni(function zq(e,t,n,r,o){return(i,s)=>{let a=n,l=t,c=0;i.subscribe(Bo(s,d=>{const h=c++;l=a?e(l,d,h):(a=!0,d),r&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Iv(null),function qq(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ra((o,i)=>e(o,i,r)):io,WC(1),n?Iv(t):IO(()=>new Ev))}(),xi(s=>{if(null===s)return mf(r);const a=dP(s);return function MK(e){e.sort((t,n)=>t.value.outlet===Ln?-1:n.value.outlet===Ln?1:t.value.outlet.localeCompare(n.value.outlet))}(a),cn(a)}))}processSegment(t,n,r,o,i,s,a){return oi(n).pipe(sf(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,o,i,s,a).pipe(Ou(c=>{if(c instanceof c0)return cn(null);throw c}))),zc(l=>!!l),Ou(l=>{if(aP(l))return function DK(e,t,n){return 0===t.length&&!e.children[n]}(r,o,i)?cn(new IK):mf(r);throw l}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,l){return nl(r)===s||s!==Ln&&Uv(o,i,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,i,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,l):mf(o):mf(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){const{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=cP(n,o,i);if(!l)return mf(n);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const S=new Lv(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fP(o),nl(o),o.component??o._loadedComponent??null,o,pP(o)),M=Fv(S,a,this.paramsInheritanceStrategy);return S.params=Object.freeze(M.params),S.data=Object.freeze(M.data),this.applyRedirects.applyRedirectCommands(d,o.redirectTo,h,S,t).pipe(yi(re=>this.applyRedirects.lineralizeSegments(o,re)),xi(re=>this.processSegment(t,r,n,re.concat(m),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){const a=yK(n,r,o,t);return"**"===r.path&&(n.children={}),a.pipe(yi(l=>l.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(yi(({routes:c})=>{const d=r._loadedInjector??t,{parameters:h,consumedSegments:m,remainingSegments:S}=l,M=new Lv(m,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fP(r),nl(r),r.component??r._loadedComponent??null,r,pP(r)),V=Fv(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(V.params),M.data=Object.freeze(V.data);const{segmentGroup:re,slicedSegments:pe}=uP(n,m,S,c);if(0===pe.length&&re.hasChildren())return this.processChildren(d,c,re,M).pipe(nr(at=>new rl(M,at)));if(0===c.length&&0===pe.length)return cn(new rl(M,[]));const fe=nl(r)===i;return this.processSegment(d,c,re,pe,fe?Ln:i,!0,M).pipe(nr(at=>new rl(M,at instanceof rl?[at]:[])))})):mf(n)))}getChildConfig(t,n,r){return n.children?cn({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?cn({routes:n._loadedRoutes,injector:n._loadedInjector}):function pK(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?cn(!0):cn(o.map(s=>{const a=hf(s,e);return nc(function JZ(e){return e&&vh(e.canLoad)}(a)?a.canLoad(t,n):Lo(e,()=>a(t,n)))})).pipe(gf(),lP())}(t,n,r).pipe(xi(o=>o?this.configLoader.loadChildren(t,n).pipe(Ui(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function mK(){return Dv(oP(!1,Ls.GuardRejected))}())):cn({routes:[],injector:t})}}function kK(e){const t=e.value.routeConfig;return t&&""===t.path}function dP(e){const t=[],n=new Set;for(const r of e){if(!kK(r)){t.push(r);continue}const o=t.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=dP(r.children);t.push(new rl(r.value,o))}return t.filter(r=>!n.has(r))}function fP(e){return e.data||{}}function pP(e){return e.resolve||{}}function hP(e){const t=e.children.map(n=>hP(n)).flat();return[e,...t]}function f0(e){return yi(t=>{const n=e(t);return n?oi(n).pipe(nr(()=>t)):cn(t)})}let gP=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Ln);return r}getResolvedTitleForRoute(n){return n.data[ah]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(LK),providedIn:"root"})}return e})(),LK=(()=>{class e extends gP{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(ae(e7))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const vf=new nt("",{providedIn:"root",factory:()=>({})}),Hv=new nt("");let p0=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Le(u5);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return cn(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const o=nc(Lo(n,()=>r.loadComponent())).pipe(nr(mP),yi(vP),Ui(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),th(()=>{this.componentLoaders.delete(r)})),i=new DO(o,()=>new jn).pipe(zC());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return cn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=function $K(e,t,n,r){return nc(Lo(n,()=>e.loadChildren())).pipe(nr(mP),yi(vP),xi(o=>o instanceof LA||Array.isArray(o)?cn(o):oi(t.compileModuleAsync(o))),nr(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(n).injector,s=i.get(Hv,[],{optional:!0,self:!0}).flat()),{routes:s.map(a0),injector:i}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(th(()=>{this.childrenLoaders.delete(r)})),s=new DO(i,()=>new jn).pipe(zC());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mP(e){return function BK(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}function vP(e){return cn(e)}let h0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(jK),providedIn:"root"})}return e})(),jK=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const _P=new nt(""),yP=new nt("");function VK(e,t,n){const r=e.get(yP),o=e.get($o);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function UK(e){return new Promise(t=>{Kb({read:()=>setTimeout(t)},{injector:e})})}(e)));a.ready.catch(c=>{});const{onViewTransitionCreated:l}=r;return l&&Lo(e,()=>l({transition:a,from:t,to:n})),s}const bP=new nt("");let g0=(()=>{class e{currentNavigation=gi(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new jn;transitionAbortWithErrorSubject=new jn;configLoader=Le(p0);environmentInjector=Le(j);destroyRef=Le(Qi);urlSerializer=Le(uf);rootContexts=Le(Bu);location=Le(Ic);inputBindingEnabled=null!==Le($v,{optional:!0});titleStrategy=Le(gP);options=Le(vf,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Le(h0);createViewTransition=Le(_P,{optional:!0});navigationErrorHandler=Le(bP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>cn(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=o=>this.events.next(new TZ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new IZ(o)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;eo(()=>{this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r})})}setupNavigations(n){return this.transitions=new Ar(null),this.transitions.pipe(Ra(r=>null!==r),yi(r=>{let o=!1;return cn(r).pipe(yi(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ls.SupersededByNewNavigation),Na;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:"string"==typeof i.extras.browserUrl?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>i.abortController.abort()});const s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!s&&"reload"!==(i.extras.onSameUrlNavigation??n.onSameUrlNavigation))return this.events.next(new df(i.id,this.urlSerializer.serialize(i.rawUrl),"",Ov.IgnoredSameUrlNavigation)),i.resolve(!1),Na;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return cn(i).pipe(yi(l=>(this.events.next(new ph(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Na:Promise.resolve(l))),function RK(e,t,n,r,o,i){return xi(s=>function TK(e,t,n,r,o,i,s="emptyOnly"){return new xK(e,t,n,r,o,s,i).recognize()}(e,t,n,r,s.extractedUrl,o,i).pipe(nr(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ui(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=l.urlAfterRedirects,d));const c=new WO(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){const{id:l,extractedUrl:c,source:d,restoredState:h,extras:m}=i,S=new ph(l,this.urlSerializer.serialize(c),d,h);this.events.next(S);const M=YO(this.rootComponentType).snapshot;return this.currentTransition=r={...i,targetSnapshot:M,urlAfterRedirects:c,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(V=>(V.finalUrl=c,V)),cn(r)}return this.events.next(new df(i.id,this.urlSerializer.serialize(i.extractedUrl),"",Ov.IgnoredByUrlHandlingStrategy)),i.resolve(!1),Na}),Ui(i=>{const s=new CZ(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),nr(i=>(this.currentTransition=r={...i,guards:ZZ(i.targetSnapshot,i.currentSnapshot,this.rootContexts)},r)),function iK(e,t){return xi(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?cn({...n,guardsResult:!0}):function sK(e,t,n,r){return oi(e).pipe(xi(o=>function fK(e,t,n,r,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?cn(i.map(a=>{const l=ff(t)??o,c=hf(a,l);return nc(function nK(e){return e&&vh(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):Lo(l,()=>c(e,t,n,r))).pipe(zc())})).pipe(gf()):cn(!0)}(o.component,o.route,n,t,r)),zc(o=>!0!==o,!0))}(s,r,o,e).pipe(xi(a=>a&&function QZ(e){return"boolean"==typeof e}(a)?function aK(e,t,n,r){return oi(t).pipe(sf(o=>HC(function cK(e,t){return null!==e&&t&&t(new AZ(e)),cn(!0)}(o.route.parent,r),function lK(e,t){return null!==e&&t&&t(new MZ(e)),cn(!0)}(o.route,r),function dK(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function KZ(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>GC(()=>cn(s.guards.map(l=>{const c=ff(s.node)??n,d=hf(l,c);return nc(function tK(e){return e&&vh(e.canActivateChild)}(d)?d.canActivateChild(r,e):Lo(c,()=>d(r,e))).pipe(zc())})).pipe(gf())));return cn(i).pipe(gf())}(e,o.path,n),function uK(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return cn(!0);const o=r.map(i=>GC(()=>{const s=ff(t)??n,a=hf(i,s);return nc(function eK(e){return e&&vh(e.canActivate)}(a)?a.canActivate(t,e):Lo(s,()=>a(t,e))).pipe(zc())}));return cn(o).pipe(gf())}(e,o.route,n))),zc(o=>!0!==o,!0))}(r,i,e,t):cn(a)),nr(a=>({...n,guardsResult:a})))})}(this.environmentInjector,i=>this.events.next(i)),Ui(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&"boolean"!=typeof i.guardsResult)throw Bv(0,i.guardsResult);const s=new wZ(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),Ra(i=>!!i.guardsResult||(this.cancelNavigationTransition(i,"",Ls.GuardRejected),!1)),f0(i=>{if(0!==i.guards.canActivateChecks.length)return cn(i).pipe(Ui(s=>{const a=new EZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),yi(s=>{let a=!1;return cn(s).pipe(function NK(e,t){return xi(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return cn(n);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of hP(l))s.add(c);let a=0;return oi(s).pipe(sf(l=>i.has(l)?function OK(e,t,n,r){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!JO(o)&&(i[ah]=o.title),GC(()=>(e.data=Fv(e,e.parent,n).resolve,function PK(e,t,n,r){const o=ZC(e);if(0===o.length)return cn({});const i={};return oi(o).pipe(xi(s=>function FK(e,t,n,r){const o=ff(t)??r,i=hf(e,o);return nc(i.resolve?i.resolve(t,n):Lo(o,()=>i(t,n)))}(e[s],t,n,r).pipe(zc(),Ui(a=>{if(a instanceof l0)throw Bv(new Av,a);i[s]=a}))),WC(1),nr(()=>i),Ou(s=>aP(s)?Na:Dv(s)))}(i,e,t,r).pipe(nr(s=>(e._resolvedData=s,e.data={...e.data,...s},null)))))}(l,r,e,t):(l.data=Fv(l,l.parent,e).resolve,cn(void 0))),Ui(()=>a++),WC(1),xi(l=>a===s.size?cn(n):Na))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ui({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ls.NoDataFromResolver)}}))}),Ui(s=>{const a=new DZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),f0(i=>{const s=a=>{const l=[];if(a.routeConfig?.loadComponent){const c=ff(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Ui(d=>{a.component=d}),nr(()=>{})))}for(const c of a.children)l.push(...s(c));return l};return wv(s(i.targetSnapshot.root)).pipe(Iv(null),lf(1))}),f0(()=>this.afterPreactivation()),yi(()=>{const{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?oi(a).pipe(nr(()=>r)):cn(r)}),nr(i=>{const s=function UZ(e,t,n){const r=hh(e,t._root,n?n._root:void 0);return new KO(r,t)}(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r={...i,targetRouterState:s},this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Ui(()=>{this.events.next(new e0)}),((e,t,n,r)=>nr(o=>(new qZ(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),lf(1),qC(new Tn(i=>{const s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ra(()=>!o&&!r.targetRouterState),Ui(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ls.Aborted)}))),Ui({next:i=>{o=!0,this.lastSuccessfulNavigation=eo(this.currentNavigation),this.events.next(new rc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),qC(this.transitionAbortWithErrorSubject.pipe(Ui(i=>{throw i}))),th(()=>{o||this.cancelNavigationTransition(r,"",Ls.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ou(i=>{if(this.destroyed)return r.resolve(!1),Na;if(o=!0,iP(i))this.events.next(new $u(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),function zZ(e){return iP(e)&&Lu(e.url)}(i)?this.events.next(new Pv(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{const s=new JC(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{const a=Lo(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(!(a instanceof l0))throw this.events.next(s),i;{const{message:l,cancellationCode:c}=Bv(0,a);this.events.next(new $u(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new Pv(a.redirectTo,a.navigationBehaviorOptions))}}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Na}))}))}cancelNavigationTransition(n,r,o){const i=new $u(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=eo(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function HK(e){return e!==fh}let SP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(zK),providedIn:"root"})}return e})();class GK{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let zK=(()=>{class e extends GK{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jr(e)))(o||e)}})();static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),CP=(()=>{class e{urlSerializer=Le(uf);options=Le(vf,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Le(Ic);urlHandlingStrategy=Le(h0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Pu;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){const i=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Pu?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=YO(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(WK),providedIn:"root"})}return e})(),WK=(()=>{class e extends CP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ph?this.updateStateMemento():n instanceof df?this.commitTransition(r):n instanceof WO?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof e0?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof $u&&n.code!==Ls.SupersededByNewNavigation&&n.code!==Ls.Redirect?this.restoreHistory(r):n instanceof JC?this.restoreHistory(r,!0):n instanceof rc&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){const{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){const a=this.browserPageId,l={...s,...this.generateNgRouterState(o,a)};this.location.replaceState(n,"",l)}else{const a={...s,...this.generateNgRouterState(o,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&0===i&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jr(e)))(o||e)}})();static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wP(e,t){e.events.pipe(Ra(n=>n instanceof rc||n instanceof $u||n instanceof JC||n instanceof df),nr(n=>n instanceof rc||n instanceof df?0:n instanceof $u&&(n.code===Ls.Redirect||n.code===Ls.SupersededByNewNavigation)?2:1),Ra(n=>2!==n),lf(1)).subscribe(()=>{t()})}const qK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mi=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Le(yx);stateManager=Le(CP);options=Le(vf,{optional:!0})||{};pendingTasks=Le(Ec);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Le(g0);urlSerializer=Le(uf);location=Le(Ic);urlHandlingStrategy=Le(h0);injector=Le(j);_events=new jn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Le(SP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Le(Hv,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Le($v,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ut;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,i=eo(this.navigationTransitions.currentNavigation);if(null!==o&&null!==i)if(this.stateManager.handleRouterEvent(r,i),r instanceof $u&&r.code!==Ls.Redirect&&r.code!==Ls.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rc)this.navigated=!0;else if(r instanceof Pv){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||HK(o.source),...s};this.scheduleNavigation(a,fh,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function RZ(e){return!(e instanceof e0||e instanceof Pv)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(i.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(l=>{this.disposed||this.injector.get(Ya)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return eo(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(a0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let h,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...i};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}null!==d&&(d=this.removeEmptyProps(d));try{h=BO(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),h=this.currentUrlTree.root}return jO(h,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Lu(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,fh,null,r)}navigate(n,r={skipLocationChange:!1}){return function KK(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Pe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...qK}:!1===r?{...ZK}:r,Lu(n))return MO(this.currentUrlTree,n,o);const i=this.parseUrl(n);return MO(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(null!=i&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,m)=>{a=h,l=m});const d=this.pendingTasks.add();return wP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var JK=y(7510),eY=y.n(JK),q=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e.te2="Tungsten-E2",e.frankene2="Franken-E2",e}(q||{});function EP(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const n=t.getPointer(e.GetCurrentEntryContent()),r=e.GetCurrentEntrySize();return n>0&&r>0?t.HEAPU8.subarray(n,n+r):void 0}},e)}function m0(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}let tY=0;const DP=[q.palmPilot,q.pilot,q.iii,q.palmVx,q.palmV,q.palmVII,q.palmVIIEZ,q.palmVIIx,q.iiixe,q.iiix,q.iiie,q.m500,q.m505,q.m515,q.m520,q.iiic,q.m100,q.m105,q.m125,q.m130,q.i705,q.i710,q.handera330,q.handera330c,q.pegS300,q.pegS320,q.pegS500c,q.pegT400,q.pegN600c,q.pegT600c,q.pegN700c,q.pegT650c,q.pegNR70,q.acerS11,q.lp168];function Vt(){return(e,t,n)=>{const r=n.value;return n.value=function(o,i){return this.guard(()=>r.call(this,o,i))},n}}function IP(e){switch(e){case 0:return q.te2;case 1:return q.frankene2;default:return}}class Lt{constructor(t){this.module=t,this.fatalErrorEvent=new fn.J,this.pwmUpdateEvent=new fn.J,this.proxyDisconnectEvent=new fn.J,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((n,r)=>this.pwmUpdateEvent.dispatch({frequency:n,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(()=>this.proxyDisconnectEvent.dispatch(),"v")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,T.A)(function*(){const n=tY++;return new Lt(yield eY()({print:r=>console.log(`${n}: ${r}`),printErr:r=>console.warn(`${n}: ${r}`),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}enableLogging(t){this.cloudpilot.EnableLogging(t)}getRomInfo(t){const n=this.copyIn(t);try{return this.getRomInfoCloudpilot(n,t.length)||this.getRomInfoUarm(n,t.length)}finally{this.cloudpilot.Free(n)}}initializeSession(t,n){const r=this.copyIn(t);return this.cloudpilot.InitializeSession(r,t.length,n)}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),n=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(n,n+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,n){this.cloudpilot.QueuePenMove(t,n)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t){this.cloudpilot.QueueKeyboardEvent(t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const n=this.copyIn(t),r=this.cloudpilot.InstallDb(n,t.length);return this.cloudpilot.Free(n),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),n=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((n>>>13)+(n%8192==0?0:1)))}loadMemory(t){const n=this.getMemory32();if((()=>{if(t.length!==n.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==n[n.length-o])return!1;if(4294967295===n[n.length-o])break}return!0})())return n.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const n=this.copyIn(t),r=this.cloudpilot.LoadState(n,t.length);return this.cloudpilot.Free(n),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var n=this;return(0,T.A)(function*(){const r=n.guard(()=>n.cloudpilot.StartBackup());try{return yield t(n.wrap(r))}finally{n.module.destroy(r)}})()}getArchive(t){const n=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),n)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.IsSuspended()?this.cloudpilot.GetSuspendContext().GetKind():void 0}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}getSuspendContextSerialSync(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){t&&this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,n){const r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+n)}withZipfileWalker(t,n){var r=this;return(0,T.A)(function*(){const o=r.guard(()=>{const i=r.copyIn(t),s=new r.module.ZipfileWalker(t.length,i);return r.cloudpilot.Free(i),s});try{return yield n(EP(r.wrap(o),r.module))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(t,n){const r=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return n(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(t){if("cloudpilot"===t.engine&&t.nand)throw new Error("cloudpilot image cannot have nand");const n=this.copyIn(t.rom),r=t.memory&&this.copyIn(t.memory),o=t.savestate&&this.copyIn(t.savestate),i=t.nand&&this.copyIn(t.nand);let s,a;if(void 0!==t.metadata){const l=(new TextEncoder).encode(JSON.stringify(t.metadata));a=l.length,s=this.copyIn(l)}try{switch(t.engine){case"cloudpilot":return this.serializeSessionImageCloudpilot(t.deviceId,{rom:n,romLength:t.rom.length,memory:r,memoryLength:t.memory?.length,savestate:o,savestateLength:t.savestate?.length,metadata:s,metadataLength:a});case"uarm":return this.serializeSessionImageUarm(t.deviceId,{rom:n,romLength:t.rom.length,nand:i,nandLength:t.nand?.length,memory:r,memoryLength:t.memory?.length,savestate:o,savestateLength:t.savestate?.length,metadata:s,metadataLength:a});default:throw new Error("unreachable")}}finally{[n,i,r,o,s].forEach(l=>this.freeBuffer(l))}}deserializeSessionImage(t){if(!t)return;const n=function QK(e){if(!(e.length<4))switch(new DataView(e.buffer,e.byteOffset).getUint32(0,!0)){case 538247427:return"cloudpilot";case 427821081:return"uarm";default:return}}(t);if(void 0===n)return;const r=this.copyIn(t);try{switch(n){case"cloudpilot":return this.deserializeSessionImageCloudpilot(r,t.length);case"uarm":return this.deserializeSessionImageUarm(r,t.length);default:return}}finally{this.cloudpilot.Free(r)}}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const n=this.copyIn(t.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(n,32);return this.cloudpilot.Free(n),r}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,n){return this.cloudpilot.AllocateCard(t,n>>>9)}decompressCard(t,n){const r=this.copyIn(n);let o;try{for(o=new this.module.GunzipContext(r,n.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(r),o&&this.module.destroy(o)}}getCardData(t){const n=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==n)return this.module.HEAPU32.subarray(n>>>2,n+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const n=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===n)return;const r=m0(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(n,n+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()||void 0}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}remountFailed(){return this.cloudpilot.RemountFailed()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const n=new this.module.SkinLoader(t);try{const r=this.module.getPointer(n.GetData());return 0===r?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(r,r+n.GetSize()))}finally{this.module.destroy(n)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(n){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(n instanceof Error?n:new Error("unknown error")),n}}getRomInfoCloudpilot(t,n){const r=new this.module.RomInfo(t,n);try{return r.IsValid()?{engine:"cloudpilot",cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:DP.filter(r.Supports.bind(r))}:void 0}finally{this.module.destroy(r)}}getRomInfoUarm(t,n){const r=new this.module.RomInfo5(t,n);if(!r.IsValid())return;const o=r.GetDeviceType(),i=IP(o);if(void 0!==i)try{return r.IsValid()?{engine:"uarm",romName:r.GetRomName(),cardName:r.GetCardName(),manufacturer:r.GetManufacturer(),companyId:r.GetCompanyId(),halId:r.GetHalId(),needsNand:r.NeedsNand(),deviceType:o,recommendedRamSize:r.GetRecommendedRamSize(),supportedDevices:[i]}:void 0}finally{this.module.destroy(r)}}deserializeSessionImageCloudpilot(t,n){const r=new this.module.SessionImage;try{if(!r.Deserialize(t,n))return;const o=r.GetDeviceId();if(!DP.includes(o))throw new Error(`unsupported device ${o}`);const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize());if(!i)throw new Error("invalid session image: no ROM or memory");let l;const c=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(c)try{l={engine:"cloudpilot",...JSON.parse((new TextDecoder).decode(c))}}catch(d){console.warn("ignoring invalid metadata",d)}return{engine:"cloudpilot",deviceId:o,rom:i,memory:s,savestate:a,metadata:l,version:r.GetVersion()}}catch(o){console.error(o)}finally{this.module.destroy(r)}}deserializeSessionImageUarm(t,n){const r=new this.module.SessionFile5;try{if(!r.Deserialize(n,t))return;const o=IP(r.GetDeviceId());if(void 0===o)throw new Error(`unsupported uARM device ${o}`);const i=this.copyOut(r.GetNor(),r.GetNorSize()),s=this.copyOut(r.GetMemory(),r.GetMemorySize()),a=this.copyOut(r.GetNand(),r.GetNandSize()),l=this.copyOut(r.GetSavestate(),r.GetSavestateSize());if(!i)throw new Error("invalid session image: no ROM or memory");const c=this.copyOut(r.GetMetadata(),r.GetMetadataSize());let d;if(c)try{d={engine:"uarm",...JSON.parse((new TextDecoder).decode(c))}}catch(h){console.warn("invalid metadata",h)}return{engine:"uarm",deviceId:o,rom:i,memory:s,nand:a,savestate:l,metadata:d,version:r.GetVersion()}}finally{this.module.destroy(r)}}serializeSessionImageCloudpilot(t,{rom:n,romLength:r,memory:o,memoryLength:i,savestate:s,savestateLength:a,metadata:l,metadataLength:c}){const d=new this.module.SessionImage;try{return d.SetDeviceId(t),d.SetRomImage(n,r),o&&d.SetMemoryImage(o,i??0),s&&d.SetSavestate(s,a??0),l&&d.SetMetadata(l,c??0),d.Serialize()?this.copyOut(d.GetSerializedImage(),d.GetSerializedImageSize()):void 0}finally{this.module.destroy(d)}}serializeSessionImageUarm(t,{rom:n,romLength:r,memory:o,memoryLength:i,nand:s,nandLength:a,savestate:l,savestateLength:c,metadata:d,metadataLength:h}){const m=new this.module.SessionFile5;try{return m.SetDeviceId(function nY(e){switch(e){case q.te2:return 0;case q.frankene2:return 1;default:return-1}}(t)),m.SetNor(r,n),o&&m.SetMemory(i??0,o),s&&m.SetNand(a??0,s),l&&m.SetSavestate(c??0,l),d&&m.SetMetadata(h??0,d),m.Serialize()?this.copyOut(m.GetSerializedSession(),m.GetSerializedSessionSize()):void 0}finally{this.module.destroy(m)}}copyIn(t){const n=this.cloudpilot.Malloc(t.length),r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+t.length).set(t),n}copyIn32(t){const n=this.cloudpilot.Malloc(t.length<<2),r=this.module.getPointer(n);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+t.length).set(t),n}copyOut(t,n){const r=this.module.getPointer(t);return r>0&&n>0?this.module.HEAPU8.subarray(r,r+n).slice():void 0}wrap(t){return new Proxy(t,{get:(n,r)=>{const o=n[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(n,i))}})}wrapTransport(t){const n=new fn.J;return t.SetRequestTransferCallback(this.module.addFunction(()=>n.dispatch(),"v")),this.wrap(Object.setPrototypeOf({Receive:()=>{const r=t.RxBytesPending();return this.copyOut(t.Receive(),r)},Send:(r,o)=>{const i=r&&this.copyIn(r);t.Send(r?.length??0,i??this.cloudpilot.Nullptr(),o),i&&this.cloudpilot.Free(i)},frameCompleteEvent:n},t))}}ie([Vt()],Lt.prototype,"enableLogging",null),ie([Vt()],Lt.prototype,"getRomInfo",null),ie([Vt()],Lt.prototype,"initializeSession",null),ie([Vt()],Lt.prototype,"cyclesPerSecond",null),ie([Vt()],Lt.prototype,"runEmulation",null),ie([Vt()],Lt.prototype,"getFrame",null),ie([Vt()],Lt.prototype,"isScreenDirty",null),ie([Vt()],Lt.prototype,"markScreenClean",null),ie([Vt()],Lt.prototype,"minRamForDevice",null),ie([Vt()],Lt.prototype,"framebufferSizeForDevice",null),ie([Vt()],Lt.prototype,"totalMemorySizeForDevice",null),ie([Vt()],Lt.prototype,"queuePenMove",null),ie([Vt()],Lt.prototype,"queuePenUp",null),ie([Vt()],Lt.prototype,"queueButtonDown",null),ie([Vt()],Lt.prototype,"queueButtonUp",null),ie([Vt()],Lt.prototype,"queueKeyboardEvent",null),ie([Vt()],Lt.prototype,"isPowerOff",null),ie([Vt()],Lt.prototype,"isUiInitialized",null),ie([Vt()],Lt.prototype,"isSetupComplete",null),ie([Vt()],Lt.prototype,"getOSVersion",null),ie([Vt()],Lt.prototype,"reset",null),ie([Vt()],Lt.prototype,"resetNoExtensions",null),ie([Vt()],Lt.prototype,"resetHard",null),ie([Vt()],Lt.prototype,"installDb",null),ie([Vt()],Lt.prototype,"getPalette2bitMapping",null),ie([Vt()],Lt.prototype,"getMemory",null),ie([Vt()],Lt.prototype,"getMemory32",null),ie([Vt()],Lt.prototype,"getDirtyPages",null),ie([Vt()],Lt.prototype,"loadMemory",null),ie([Vt()],Lt.prototype,"getRomImage",null),ie([Vt()],Lt.prototype,"getSavestate",null),ie([Vt()],Lt.prototype,"saveState",null),ie([Vt()],Lt.prototype,"loadState",null),ie([Vt()],Lt.prototype,"getHotsyncName",null),ie([Vt()],Lt.prototype,"setClockFactor",null),ie([Vt()],Lt.prototype,"setHotsyncName",null),ie([Vt()],Lt.prototype,"setClipboardIntegration",null),ie([Vt()],Lt.prototype,"getClipboardIntegration",null),ie([Vt()],Lt.prototype,"isSuspended",null),ie([Vt()],Lt.prototype,"getSuspendKind",null),ie([Vt()],Lt.prototype,"cancelSuspend",null),ie([Vt()],Lt.prototype,"getSuspendContextClipboardCopy",null),ie([Vt()],Lt.prototype,"getSuspendContextClipboardPaste",null),ie([Vt()],Lt.prototype,"setNetworkRedirection",null),ie([Vt()],Lt.prototype,"getNetworkRedirection",null),ie([Vt()],Lt.prototype,"getSuspendContextNetworkConnect",null),ie([Vt()],Lt.prototype,"getSuspendContextNetworkRpc",null),ie([Vt()],Lt.prototype,"getSuspendContextSerialSync",null),ie([Vt()],Lt.prototype,"copyBuffer",null),ie([Vt()],Lt.prototype,"freeBuffer",null),ie([Vt()],Lt.prototype,"setHotsyncNameManagement",null),ie([Vt()],Lt.prototype,"resolveBuffer",null),ie([Vt()],Lt.prototype,"serializeSessionImage",null),ie([Vt()],Lt.prototype,"deserializeSessionImage",null),ie([Vt()],Lt.prototype,"launchAppByName",null),ie([Vt()],Lt.prototype,"launchAppByDbHeader",null),ie([Vt()],Lt.prototype,"clearExternalStorage",null),ie([Vt()],Lt.prototype,"allocateCard",null),ie([Vt()],Lt.prototype,"decompressCard",null),ie([Vt()],Lt.prototype,"getCardData",null),ie([Vt()],Lt.prototype,"getCardDirtyPages",null),ie([Vt()],Lt.prototype,"getMountedKey",null),ie([Vt()],Lt.prototype,"mountCard",null),ie([Vt()],Lt.prototype,"removeCard",null),ie([Vt()],Lt.prototype,"remountCards",null),ie([Vt()],Lt.prototype,"remountFailed",null),ie([Vt()],Lt.prototype,"getCardSupportLevel",null),ie([Vt()],Lt.prototype,"loadSkin",null);const v0="application/wasm";function TP(e){return _0.apply(this,arguments)}function _0(){return(_0=(0,T.A)(function*(e){const t=yield fetch(e);if(!t.ok)throw new Error(`request for ${e} failed with ${t.status}: ${t.statusText}`);const n=t.headers.get("Content-Type")??"no mime type";if(n!==v0&&console.warn(`response for ${e} has wrong mime type: expected ${v0}, got ${n}`),n===v0&&WebAssembly.compileStreaming)return WebAssembly.compileStreaming(t);const r=yield t.arrayBuffer();return WebAssembly.compile(r)})).apply(this,arguments)}class AP{}let sY=(()=>{class e{preload(n,r){return r().pipe(Ou(()=>cn(null)))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),aY=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(Ra(n=>n instanceof rc),sf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=dm(i.providers,n,`Route: ${i.path}`));const s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return oi(o).pipe(af())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):cn(null);const i=o.pipe(xi(s=>null===s?cn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?oi([i,this.loader.loadComponent(n,r)]).pipe(af()):i})}static \u0275fac=function(r){return new(r||e)(ae(Mi),ae(j),ae(AP),ae(p0))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const y0=new nt("");let xP=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=fh;restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ph?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof rc?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof df&&n.code===Ov.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof qO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){var o=this;this.zone.runOutsideAngular((0,T.A)(function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),o.zone.run(()=>{o.transitions.events.next(new qO(n,"popstate"===o.lastSource?o.store[o.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){!function aA(){throw new Error("invalid")}()};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();function wl(e,t){return{\u0275kind:e,\u0275providers:t}}function kP(){const e=Le(Cr);return t=>{const n=e.get(Aa);if(t!==n.components[0])return;const r=e.get(Mi),o=e.get(RP);1===e.get(b0)&&r.initialNavigation(),e.get(NP,null,{optional:!0})?.setUpPreloading(),e.get(y0,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const RP=new nt("",{factory:()=>new jn}),b0=new nt("",{providedIn:"root",factory:()=>1}),NP=new nt("");function dY(e){return wl(0,[{provide:NP,useExisting:aY},{provide:AP,useExisting:e}])}function pY(e){return Ti("NgRouterViewTransitions"),wl(9,[{provide:_P,useValue:VK},{provide:yP,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const hY=[Ic,{provide:uf,useClass:Av},Mi,Bu,{provide:oc,useFactory:function MP(e){return e.routerState.root},deps:[Mi]},p0,[]];let Gv=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[hY,[],{provide:Hv,multi:!0,useValue:n},[],r?.errorHandler?{provide:bP,useValue:r.errorHandler}:[],{provide:vf,useValue:r||{}},r?.useHash?{provide:hl,useClass:WR}:{provide:hl,useClass:oI},{provide:y0,useFactory:()=>{const e=Le(w8),t=Le(We),n=Le(vf),r=Le(g0),o=Le(uf);return n.scrollOffset&&e.setOffset(n.scrollOffset),new xP(o,r,e,t,n)}},r?.preloadingStrategy?dY(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?_Y(r):[],r?.bindToComponentInputs?wl(8,[tP,{provide:$v,useExisting:tP}]).\u0275providers:[],r?.enableViewTransitions?pY().\u0275providers:[],[{provide:OP,useFactory:kP},{provide:Lx,multi:!0,useExisting:OP}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Hv,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=jo({type:e});static \u0275inj=Un({})}return e})();function _Y(e){return["disabled"===e.initialNavigation?wl(3,[sS(()=>{Le(Mi).setUpLocationChangeListener()}),{provide:b0,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?wl(2,[{provide:RB,useValue:!0},{provide:b0,useValue:0},sS(()=>{const t=Le(Cr);return t.get(e$,Promise.resolve()).then(()=>new Promise(r=>{const o=t.get(Mi),i=t.get(RP);wP(o,()=>{r(!0)}),t.get(g0).afterPreactivation=()=>(r(!0),i.closed?cn(void 0):i),o.initialNavigation()}))})]).\u0275providers:[]]}const OP=new nt("");var bY=y(5886);const PP=e=>LP(e),LP=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=SY(e),t.forEach(n=>e.document.documentElement.classList.add(`plt-${n}`))),t},SY=e=>{const t=bY.c.get("platform");return Object.keys(UP).filter(n=>{const r=t?.[n];return"function"==typeof r?r(e):UP[n](e)})},S0=e=>!!(ju(e,/iPad/i)||ju(e,/Macintosh/i)&&zv(e)),$P=e=>ju(e,/android|sink/i),zv=e=>kY(e,"(any-pointer:coarse)"),BP=e=>jP(e)||VP(e),jP=e=>!!(e.cordova||e.phonegap||e.PhoneGap),VP=e=>{const t=e.Capacitor;return!!(t?.isNative||t?.isNativePlatform&&t.isNativePlatform())},ju=(e,t)=>t.test(e.navigator.userAgent),kY=(e,t)=>{var n;return null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,t).matches},UP={ipad:S0,iphone:e=>ju(e,/iPhone/i),ios:e=>ju(e,/iPhone|iPod/i)||S0(e),android:$P,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),o=Math.max(t,n);return r>390&&r<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),o=Math.max(t,n);return S0(e)||(e=>$P(e)&&!ju(e,/mobile/i))(e)||r>460&&r<820&&o>780&&o<1400},cordova:jP,capacitor:VP,electron:e=>ju(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:zv,mobileweb:e=>zv(e)&&!BP(e),desktop:e=>!zv(e),hybrid:BP};var yh=y(3112);const $Y=["addListener","removeListener"],BY=["addEventListener","removeEventListener"],jY=["on","off"];function Wv(e,t,n,r){if(Ot(n)&&(r=n,n=void 0),r)return Wv(e,t,n).pipe(UC(r));const[o,i]=function HY(e){return Ot(e.addEventListener)&&Ot(e.removeEventListener)}(e)?BY.map(s=>a=>e[s](t,a,n)):function VY(e){return Ot(e.addListener)&&Ot(e.removeListener)}(e)?$Y.map(HP(e,t)):function UY(e){return Ot(e.on)&&Ot(e.off)}(e)?jY.map(HP(e,t)):[];if(!o&&NC(e))return xi(s=>Wv(s,t,n))(Fs(e));if(!o)throw new TypeError("Invalid event target");return new Tn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function HP(e,t){return n=>r=>e[n](t,r)}function GP(e,t=io){return e=e??GY,ni((n,r)=>{let o,i=!0;n.subscribe(Bo(r,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function GY(e,t){return e===t}let zP=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(_(Zl),_(rt))};static \u0275dir=Ht({type:e})}return e})(),Vu=(()=>{class e extends zP{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jr(e)))(o||e)}})();static \u0275dir=Ht({type:e,features:[Fn]})}return e})();const $s=new nt(""),qY={provide:$s,useExisting:Vn(()=>C0),multi:!0},KY=new nt("");let C0=(()=>{class e extends zP{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,null==this._compositionMode&&(this._compositionMode=!function ZY(){const e=Dc()?Dc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(_(Zl),_(rt),_(KY,8))};static \u0275dir=Ht({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&$e("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[wr([qY]),Fn]})}return e})();function w0(e){return null==e||0===E0(e)}function E0(e){return null==e?null:Array.isArray(e)||"string"==typeof e?e.length:e instanceof Set?e.size:null}const bi=new nt(""),Wc=new nt(""),YY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bh{static min(t){return qP(t)}static max(t){return ZP(t)}static required(t){return function KP(e){return w0(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function YP(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function XP(e){return w0(e.value)||YY.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function QP(e){return t=>{const n=t.value?.length??E0(t.value);return null===n||0===n?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}(t)}static maxLength(t){return JP(t)}static pattern(t){return function eF(e){if(!e)return qv;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(w0(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return sF(t)}static composeAsync(t){return aF(t)}}function qP(e){return t=>{if(null==t.value||null==e)return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function ZP(e){return t=>{if(null==t.value||null==e)return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function JP(e){return t=>{const n=t.value?.length??E0(t.value);return null!==n&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function qv(e){return null}function tF(e){return null!=e}function nF(e){return Op(e)?oi(e):e}function rF(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function oF(e,t){return t.map(n=>n(e))}function iF(e){return e.map(t=>function XY(e){return!e.validate}(t)?t:n=>t.validate(n))}function sF(e){if(!e)return null;const t=e.filter(tF);return 0==t.length?null:function(n){return rF(oF(n,t))}}function D0(e){return null!=e?sF(iF(e)):null}function aF(e){if(!e)return null;const t=e.filter(tF);return 0==t.length?null:function(n){return function zY(...e){const t=JN(e),{args:n,keys:r}=CO(e),o=new Tn(i=>{const{length:s}=n;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let d=0;d<s;d++){let h=!1;Fs(n[d]).subscribe(Bo(i,m=>{h||(h=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(r?wO(r,a):a),i.complete())}))}});return t?o.pipe(UC(t)):o}(oF(n,t).map(nF)).pipe(nr(rF))}}function I0(e){return null!=e?aF(iF(e)):null}function lF(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function cF(e){return e._rawValidators}function uF(e){return e._rawAsyncValidators}function T0(e){return e?Array.isArray(e)?e:[e]:[]}function Zv(e,t){return Array.isArray(e)?e.includes(t):e===t}function dF(e,t){const n=T0(t);return T0(e).forEach(o=>{Zv(n,o)||n.push(o)}),n}function fF(e,t){return T0(t).filter(n=>!Zv(e,n))}class pF{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=D0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=I0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class is extends pF{name;get formDirective(){return null}get path(){return null}}class ic extends pF{_parent=null;name=null;valueAccessor=null}class hF{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let sc=(()=>{class e extends hF{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(_(ic,2))};static \u0275dir=Ht({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&ia("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Fn]})}return e})(),ac=(()=>{class e extends hF{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(_(is,10))};static \u0275dir=Ht({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&ia("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Fn]})}return e})();const Sh="VALID",Yv="INVALID",yf="PENDING",Ch="DISABLED";class bf{}class mF extends bf{value;source;constructor(t,n){super(),this.value=t,this.source=n}}class M0 extends bf{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}}class k0 extends bf{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}}class Xv extends bf{status;source;constructor(t,n){super(),this.status=t,this.source=n}}class vF extends bf{source;constructor(t){super(),this.source=t}}class _F extends bf{source;constructor(t){super(),this.source=t}}function R0(e){return(Qv(e)?e.validators:e)||null}function N0(e,t){return(Qv(t)?t.asyncValidators:e)||null}function Qv(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class O0{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return eo(this.statusReactive)}set status(t){eo(()=>this.statusReactive.set(t))}_status=_i(()=>this.statusReactive());statusReactive=gi(void 0);get valid(){return this.status===Sh}get invalid(){return this.status===Yv}get pending(){return this.status==yf}get disabled(){return this.status===Ch}get enabled(){return this.status!==Ch}errors;get pristine(){return eo(this.pristineReactive)}set pristine(t){eo(()=>this.pristineReactive.set(t))}_pristine=_i(()=>this.pristineReactive());pristineReactive=gi(!0);get dirty(){return!this.pristine}get touched(){return eo(this.touchedReactive)}set touched(t){eo(()=>this.touchedReactive.set(t))}_touched=_i(()=>this.touchedReactive());touchedReactive=gi(!1);get untouched(){return!this.touched}_events=new jn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(dF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(dF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(fF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(fF(t,this._rawAsyncValidators))}hasValidator(t){return Zv(this._rawValidators,t)}hasAsyncValidator(t){return Zv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const n=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new k0(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&!1!==t.emitEvent&&this._events.next(new k0(!1,r))}markAsDirty(t={}){const n=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new M0(!1,r))}markAsPristine(t={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&!1!==t.emitEvent&&this._events.next(new M0(!0,r))}markAsPending(t={}){this.status=yf;const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new Xv(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:n})}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Ch,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new mF(this.value,r)),this._events.next(new Xv(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Sh,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sh||this.status===yf)&&this._runAsyncValidator(r,t.emitEvent)}const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new mF(this.value,n)),this._events.next(new Xv(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:n})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ch:Sh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=yf,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n,shouldHaveEmitted:!1!==t};const r=nF(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Xv(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new _n,this.statusChanges=new _n}_calculateStatus(){return this._allControlsDisabled()?Ch:this.errors?Yv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yf)?yf:this._anyControlsHaveStatus(Yv)?Yv:Sh}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new M0(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new k0(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function oX(e){return Array.isArray(e)?D0(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function iX(e){return Array.isArray(e)?I0(e):e||null}(this._rawAsyncValidators)}}class qc extends O0{constructor(t,n,r){super(R0(n),N0(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function bF(e,t,n){e._forEachChild((r,o)=>{if(void 0===n[o])throw new Pe(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function yF(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new Pe(1e3,"");if(!r[n])throw new Pe(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Jv=qc,Uu=new nt("",{providedIn:"root",factory:()=>wh}),wh="always";function Eh(e,t,n=wh){P0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function lX(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&SF(e,t)})}(e,t),function uX(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function cX(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&SF(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function aX(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function t_(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),r_(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function n_(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function P0(e,t){const n=cF(e);null!==t.validator?e.setValidators(lF(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=uF(e);null!==t.asyncValidator?e.setAsyncValidators(lF(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();n_(t._rawValidators,o),n_(t._rawAsyncValidators,o)}function r_(e,t){let n=!1;if(null!==e){if(null!==t.validator){const o=cF(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=uF(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return n_(t._rawValidators,r),n_(t._rawAsyncValidators,r),n}function SF(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function EF(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function DF(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const Bs=class extends O0{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(R0(n),N0(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=DF(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){EF(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){EF(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){DF(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Nr=Bs;Promise.resolve();let lc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ht({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();const B0=new nt(""),IX={provide:is,useExisting:Vn(()=>Oa)};let Oa=(()=>{class e extends is{callSetDisabledState;get submitted(){return eo(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=_i(()=>this._submittedReactive());_submittedReactive=gi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new _n;constructor(n,r,o){super(),this.callSetDisabledState=o,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(r_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Eh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){t_(n.control||null,n,!1),function hX(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),function wF(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new vF(this.control)),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),!1!==r?.emitEvent&&this.form._events.next(new _F(this.form))}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,o=this.form.get(n.path);r!==o&&(t_(r||null,n),(e=>e instanceof Bs)(o)&&(Eh(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function CF(e,t){P0(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function dX(e,t){return r_(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){P0(this.form,this),this._oldForm&&r_(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(_(bi,10),_(Wc,10),_(Uu,8))};static \u0275dir=Ht({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&$e("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[wr([IX]),Fn,Ji]})}return e})();const xX={provide:ic,useExisting:Vn(()=>El)};let El=(()=>{class e extends ic{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new _n;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function $0(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(i=>{i.constructor===C0?n=i:function pX(e){return Object.getPrototypeOf(e.constructor)===Vu}(i)?r=i:o=i}),o||r||n||null}(0,i)}ngOnChanges(n){this._added||this._setUpControl(),function L0(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function e_(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(_(is,13),_(bi,10),_(Wc,10),_($s,10),_(B0,8))};static \u0275dir=Ht({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[wr([xX]),Fn,Ji]})}return e})();function FF(e){return"number"==typeof e?e:parseFloat(e)}let Hu=(()=>{class e{_validator=qv;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):qv,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ht({type:e,features:[Ji]})}return e})();const FX={provide:bi,useExisting:Vn(()=>U0),multi:!0};let U0=(()=>{class e extends Hu{max;inputName="max";normalizeInput=n=>FF(n);createValidator=n=>ZP(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jr(e)))(o||e)}})();static \u0275dir=Ht({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ra("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[wr([FX]),Fn]})}return e})();const LX={provide:bi,useExisting:Vn(()=>H0),multi:!0};let H0=(()=>{class e extends Hu{min;inputName="min";normalizeInput=n=>FF(n);createValidator=n=>qP(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jr(e)))(o||e)}})();static \u0275dir=Ht({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ra("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[wr([LX]),Fn]})}return e})();const UX={provide:bi,useExisting:Vn(()=>z0),multi:!0};let z0=(()=>{class e extends Hu{maxlength;inputName="maxlength";normalizeInput=n=>function PF(e){return"number"==typeof e?e:parseInt(e,10)}(n);createValidator=n=>JP(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jr(e)))(o||e)}})();static \u0275dir=Ht({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ra("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[wr([UX]),Fn]})}return e})(),VF=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=jo({type:e});static \u0275inj=Un({})}return e})(),Gu=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Uu,useValue:n.callSetDisabledState??wh}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=jo({type:e});static \u0275inj=Un({imports:[VF]})}return e})(),l_=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:B0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Uu,useValue:n.callSetDisabledState??wh}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=jo({type:e});static \u0275inj=Un({imports:[VF]})}return e})();const zX=["tabsInner"];let WX=(()=>{class e{doc;_readyPromise;win;backButton=new jn;keyboardDidShow=new jn;keyboardDidHide=new jn;pause=new jn;resume=new jn;resize=new jn;constructor(n,r){this.doc=n,r.run(()=>{let o;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>r.run(()=>s(l))))},Sf(this.pause,n,"pause",r),Sf(this.resume,n,"resume",r),Sf(this.backButton,n,"ionBackButton",r),Sf(this.resize,this.win,"resize",r),Sf(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),Sf(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?n.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(n){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),PP(e).includes(t)))(this.win,n)}platforms(){return PP(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return qX(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(r){return new(r||e)(ae($o),ae(We))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const qX=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Sf=(e,t,n,r)=>{t&&t.addEventListener(n,o=>{r.run(()=>{const i=o?.detail;e.next(i)})})};let Cf=(()=>{class e{location;serializer;router;topOutlet;direction=UF;animated=HF;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(n,r,o,i){this.location=r,this.serializer=o,this.router=i,i&&i.events.subscribe(s=>{if(s instanceof ph){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=this.guessAnimation=a<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?s.id:a}}),n.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,T.A)(function*(){let r=n.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(n,r,o,i){this.direction=n,this.animated=ZX(n,r,o),this.animationBuilder=i}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const o=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=UF,this.animated=HF,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:o}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const o=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(o.queryParams={...r.queryParams}),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}static \u0275fac=function(r){return new(r||e)(ae(WX),ae(Ic),ae(uf),ae(Mi,8))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ZX=(e,t,n)=>{if(!1!==t){if(void 0!==n)return n;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},UF="auto",HF=void 0;let Th=(()=>{class e{get(n,r){const o=q0();return o?o.get(n,r):null}getBoolean(n,r){const o=q0();return!!o&&o.getBoolean(n,r)}getNumber(n,r){const o=q0();return o?o.getNumber(n,r):0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const W0=new nt("USERCONFIG"),q0=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class GF{data;constructor(t={}){this.data=t,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(t){return this.data[t]}}const KX=new nt("IonModalToken");let Ah=(()=>{class e{zone=Le(We);applicationRef=Le(Aa);config=Le(W0);create(n,r,o){return new YX(n,r,this.applicationRef,this.zone,o,this.config.useSetInputAPI??!1)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class YX{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(t,n,r,o,i,s){this.environmentInjector=t,this.injector=n,this.applicationRef=r,this.zone=o,this.elementReferenceKey=i,this.enableSignalsSupport=s}attachViewToDom(t,n,r,o){return this.zone.run(()=>new Promise(i=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(XX(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,n,s,o,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(t,n){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(n);if(o){o.destroy(),this.elRefMap.delete(n);const i=this.elEventsMap.get(n);i&&(i(),this.elEventsMap.delete(n))}r()}))}}const XX=(e,t,n,r,o,i,s,a,l,c,d,h)=>{const m=JX(l);"ion-modal"===s.tagName.toLowerCase()&&m.push({provide:KX,useValue:s});const M=function S8(e,t){const n=wt(e),r=t.elementInjector||g();return new Tp(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}(a,{environmentInjector:t,elementInjector:Cr.create({providers:m,parent:n})}),V=M.instance,re=M.location.nativeElement;if(l)if(d&&void 0!==V[d]&&console.error(`[Ionic Error]: ${d} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${d}" property from ${a.name}.`),!0===h&&void 0!==M.setInput){const{modal:fe,popover:at,...Tt}=l;for(const Et in Tt)M.setInput(Et,Tt[Et]);void 0!==fe&&Object.assign(V,{modal:fe}),void 0!==at&&Object.assign(V,{popover:at})}else Object.assign(V,l);if(c)for(const fe of c)re.classList.add(fe);const pe=zF(e,V,re);return s.appendChild(re),r.attachView(M.hostView),o.set(re,M),i.set(re,pe),re},QX=[yh.L,yh.a,yh.b,yh.c,yh.d],zF=(e,t,n)=>e.run(()=>{const r=QX.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return n.addEventListener(o,i),()=>n.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),WF=new nt("NavParamsToken"),JX=e=>[{provide:WF,useValue:e},{provide:GF,useFactory:eQ,deps:[WF]}],eQ=e=>new GF(e),tQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},nQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{n[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})};function c_(e){return function(n){const{defineCustomElementFn:r,inputs:o,methods:i}=e;return void 0!==r&&r(),o&&tQ(n,o),i&&nQ(n,i),n}}const qF=(e,t)=>((e=e.filter(n=>n.stackId!==t.stackId)).push(t),e),K0=(e,t)=>{const n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},ZF=(e,t)=>!t||e.stackId!==t.stackId,fQ=(e,t)=>{if(!e)return;const n=KF(t);for(let r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},KF=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),YF=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class pQ{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(t,n,r,o,i,s){this.containerEl=n,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.tabsPrefix=void 0!==t?KF(t):void 0}createView(t,n){const r=K0(this.router,n),o=t?.location?.nativeElement,i=zF(this.zone,t.instance,o);return{id:this.nextId++,stackId:fQ(this.tabsPrefix,r),unlistenEvents:i,element:o,ref:t,url:r}}getExistingView(t){const n=K0(this.router,t),r=this.views.find(o=>o.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(t){const n=this.navCtrl.consumeTransition();let{direction:r,animation:o,animationBuilder:i}=n;const s=this.activeView,a=ZF(t,s);a&&(r="back",o=void 0);const l=this.views.slice();let c;const d=this.router;d.getCurrentNavigation?c=d.getCurrentNavigation():d.navigations?.value&&(c=d.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const h=this.views.includes(t),m=this.insertView(t,r);h||t.ref.changeDetectorRef.detectChanges();const S=t.animationBuilder;return void 0===i&&"back"===r&&!a&&void 0!==S&&(i=S),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>hQ(t,m,l,this.location,this.zone)).then(()=>({enteringView:t,direction:r,animation:o,tabSwitch:a})))))}canGoBack(t,n=this.getActiveStackId()){return this.getStack(n).length>t}pop(t,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=t)return Promise.resolve(!1);const o=r[r.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const n=this.getStack(t.stackId),r=n[n.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&XF(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const n=this.getStack(t);return n.length>0?n[n.length-1]:void 0}getRootUrl(t){const n=this.getStack(t);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(YF),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(n=>n.stackId===t)}insertView(t,n){return this.activeView=t,this.views=((e,t,n)=>"root"===n?qF(e,t):"forward"===n?((e,t)=>(e.indexOf(t)>=0?e=e.filter(r=>r.stackId!==t.stackId||r.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(r=>r.stackId!==t.stackId||r.id<=t.id):qF(e,t))(e,t))(this.views,t,n),this.views.slice()}transition(t,n,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=n?n.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),c.commit)?c.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var n=this;return(0,T.A)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=t();return r.finally(()=>n.runningTask=void 0),r})()}}const hQ=(e,t,n,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{XF(e,t,n,r,o),i()})}):Promise.resolve(),XF=(e,t,n,r,o)=>{o.run(()=>n.filter(i=>!t.includes(i)).forEach(YF)),t.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let QF=(()=>{class e{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new Ar(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ln;stackWillChange=new _n;stackDidChange=new _n;activateEvents=new _n;deactivateEvents=new _n;parentContexts=Le(Bu);location=Le(es);environmentInjector=Le(j);inputBinder=Le(JF,{optional:!0});supportsBindingToComponentInputs=!0;config=Le(Th);navCtrl=Le(Cf);set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}constructor(n,r,o,i,s,a,l,c){this.parentOutlet=c,this.nativeEl=i.nativeElement,this.name=n||Ln,this.tabsPrefix="true"===r?K0(s,l):void 0,this.stackCtrl=new pQ(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();n?.route&&this.activateWith(n.route,n.injector)}new Promise(n=>((e,t)=>{e.componentOnReady?e.componentOnReady().then(n=>t(n)):(e=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)})(()=>t(e))})(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route={...r.route}),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let o,i=this.stackCtrl.getExistingView(n);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,n)}else{const a=n._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Ar(null),d=this.createActivatedRouteProxy(c,n),h=new gQ(d,l,this.location.injector);o=this.activated=this.outletContent.createComponent(a.routeConfig.component??a.component,{index:this.outletContent.length,injector:h,environmentInjector:r??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(o.instance,d),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:n})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:ZF(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const o=new oc;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(n,"paramMap"),o._queryParamMap=this.proxyObservable(n,"queryParamMap"),o.url=this.proxyObservable(n,"url"),o.params=this.proxyObservable(n,"params"),o.queryParams=this.proxyObservable(n,"queryParams"),o.fragment=this.proxyObservable(n,"fragment"),o.data=this.proxyObservable(n,"data"),o}proxyObservable(n,r){return n.pipe(Ra(o=>!!o),yi(o=>this.currentActivatedRoute$.pipe(Ra(i=>null!==i&&i.component===o),yi(i=>i&&i.activatedRoute[r]),GP())))}updateActivatedRouteProxy(n,r){const o=this.proxyMap.get(n);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}static \u0275fac=function(r){return new(r||e)(zl("name"),zl("tabs"),_(Ic),_(rt),_(Mi),_(We),_(oc),_(e,12))};static \u0275dir=Ht({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"],standalone:!1})}return e})();class gQ{route;childContexts;parent;constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===oc?this.route:t===Bu?this.childContexts:this.parent.get(t,n)}}const JF=new nt("");let mQ=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=wv([r.queryParams,r.params,r.data]).pipe(yi(([i,s,a],l)=>(a={...i,...s,...a},0===l?cn(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=IR(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();function _Q(e){return e?.componentInputBindingEnabled?new mQ:null}const e2=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let u_=(()=>{class e{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(n,r){this.injector=n,this.elementRef=r}writeValue(n){this.elementRef.nativeElement.value=this.lastValue=n,wf(this.elementRef)}handleValueChange(n,r){n===this.elementRef.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),wf(this.elementRef))}_handleBlurEvent(n){n===this.elementRef.nativeElement?(this.onTouched(),wf(this.elementRef)):n.closest("ion-radio-group")===this.elementRef.nativeElement&&this.onTouched()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.elementRef.nativeElement.disabled=n}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let n;try{n=this.injector.get(ic)}catch{}if(!n)return;n.statusChanges&&(this.statusChanges=n.statusChanges.subscribe(()=>wf(this.elementRef)));const r=n.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),wf(this.elementRef)}}})}static \u0275fac=function(r){return new(r||e)(_(Cr),_(rt))};static \u0275dir=Ht({type:e,hostBindings:function(r,o){1&r&&$e("ionBlur",function(s){return o._handleBlurEvent(s.target)})},standalone:!1})}return e})();const wf=e=>{e2(()=>{const t=e.nativeElement,n=null!=t.value&&t.value.toString().length>0,r=yQ(t);Y0(t,r);const o=t.closest("ion-item");o&&Y0(o,n?[...r,"item-has-value"]:r)})},yQ=e=>{const t=e.classList,n=[];for(let r=0;r<t.length;r++){const o=t.item(r);null!==o&&bQ(o,"ng-")&&n.push(`ion-${o.substring(3)}`)}return n},Y0=(e,t)=>{const n=e.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add(...t)},bQ=(e,t)=>e.substring(0,t.length)===t,SQ=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let CQ=(()=>{let e=class fE{routerOutlet;navCtrl;config;r;z;el;constructor(n,r,o,i,s,a){this.routerOutlet=n,this.navCtrl=r,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(n){const r=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),n.preventDefault()):null!=r&&(this.navCtrl.navigateBack(r,{animation:this.routerAnimation}),n.preventDefault())}static \u0275fac=function(r){return new(r||fE)(_(QF,8),_(Cf),_(Th),_(rt),_(We),_(vt))};static \u0275dir=Ht({type:fE,hostBindings:function(r,o){1&r&&$e("click",function(s){return o.onClick(s)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},standalone:!1})};return e=ie([c_({inputs:SQ})],e),e})();const wQ=["animated","animation","root","rootParams","swipeGesture"],EQ=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let DQ=(()=>{let e=class pE{z;el;constructor(n,r,o,i,s,a){this.z=s,a.detach(),this.el=n.nativeElement,n.nativeElement.delegate=i.create(r,o),((e,t,n)=>{n.forEach(r=>e[r]=Wv(t,r))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(r){return new(r||pE)(_(rt),_(j),_(Cr),_(Ah),_(We),_(vt))};static \u0275dir=Ht({type:pE,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},standalone:!1})};return e=ie([c_({inputs:wQ,methods:EQ})],e),e})(),AQ=(()=>{class e{navCtrl;tabsInner;ionTabsWillChange=new _n;ionTabsDidChange=new _n;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(n){this.navCtrl=n}ngAfterViewInit(){const n=this.tabs.length>0?this.tabs.first:void 0;n&&(this.hasTab=!0,this.setActiveTab(n.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:n,tabSwitch:r}){const o=n.stackId;r&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:n,tabSwitch:r}){const o=n.stackId;r&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(n){const r="string"==typeof n,o=r?n:n.detail.tab;if(this.hasTab)return this.setActiveTab(o),void this.tabSwitch();const i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||n.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}setActiveTab(n){const o=this.tabs.find(i=>i.tab===n);o?(this.leavingTab=this.selectedTab,this.selectedTab=o,this.ionTabsWillChange.emit({tab:n}),o.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${n}" does not exist`)}tabSwitch(){const{selectedTab:n,leavingTab:r}=this;this.tabBar&&n&&(this.tabBar.selectedTab=n.tab),r?.tab!==n?.tab&&r?.el&&(r.el.active=!1),n&&this.ionTabsDidChange.emit({tab:n.tab})}getSelected(){return this.hasTab?this.selectedTab?.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(n=>{const r=n.el.getAttribute("slot");r!==this.tabBarSlot&&(this.tabBarSlot=r,this.relocateTabBar())})}relocateTabBar(){const n=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(n):this.tabsInner.nativeElement.after(n)}static \u0275fac=function(r){return new(r||e)(_(Cf))};static \u0275dir=Ht({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,o){if(1&r&&Yl(zX,7,rt),2&r){let i;ns(i=rs())&&(o.tabsInner=i.first)}},hostBindings:function(r,o){1&r&&$e("ionTabButtonClick",function(s){return o.select(s)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},standalone:!1})}return e})();class xh{ctrl;constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,n,r){return this.ctrl.dismiss(t,n,r)}getTop(){return this.ctrl.getTop()}}class xQ{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,n){}retrieve(t){return null}shouldReuseRoute(t,n){if(t.routeConfig!==n.routeConfig)return!1;const r=t.params,o=n.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}y(7133),y(6780),y(9805),y(1393),y(5860);var MQ=y(9919),kQ=(y(6721),y(9335)),X0=y(3460),Mh=(y(5989),y(7433));y(575),y(566),y(4896),y(5827);const RQ=MQ.i,NQ=function(){var e=(0,T.A)(function*(t,n){if(!(typeof window>"u"))return yield RQ(),(0,kQ.b)(JSON.parse('[["ion-menu_3",[[289,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[289,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[257,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[289,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[289,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[257,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[257,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[256,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[288,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[289,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16,"router-animation"]}]]],["ion-toast",[[289,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16,"html-attributes"],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[289,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1]}],[288,"ion-card-content"],[289,"ion-card-header",{"color":[513],"translucent":[4]}],[289,"ion-card-subtitle",{"color":[513]}],[289,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[289,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[288,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[256,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[305,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[289,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[288,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[256,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[289,"ion-reorder",null,[[2,"click","onClick"]]],[256,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[289,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[289,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[289,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[294,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16,"counter-formatter"],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-searchbar",[[290,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[289,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[257,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16,"root-params"],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[256,"ion-nav-link",{"component":[1],"componentProps":[16,"component-props"],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"]}]]],["ion-tab_2",[[257,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[257,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[294,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16,"counter-formatter"],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-backdrop",[[289,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[290,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[289,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"]}],[289,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[289,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[289,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[289,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16,"component-props"],"beforeLeave":[16,"before-leave"],"beforeEnter":[16,"before-enter"]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[257,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1]}]]],["ion-avatar_3",[[289,"ion-avatar"],[289,"ion-badge",{"color":[513]}],[257,"ion-thumbnail"]]],["ion-col_3",[[257,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[257,"ion-grid",{"fixed":[4]}],[257,"ion-row"]]],["ion-img",[[257,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-input-otp",[[294,"ion-input-otp",{"autocapitalize":[1],"color":[513],"disabled":[516],"fill":[1],"inputmode":[1],"length":[2],"pattern":[1],"readonly":[516],"separators":[1],"shape":[1],"size":[1],"type":[1],"value":[1032],"inputValues":[32],"hasFocus":[32],"previousInputValues":[32],"setFocus":[64]},null,{"value":["valueChanged"],"separators":["processSeparators"],"length":["processSeparators"]}]]],["ion-progress-bar",[[289,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[289,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16,"pin-formatter"],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"step":["stepChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[257,"ion-segment-content"]]],["ion-segment-view",[[289,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[289,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[257,"ion-text",{"color":[513]}]]],["ion-select-modal",[[290,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[289,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16,"format-options"],"readonly":[4],"isDateEnabled":[16,"is-date-enabled"],"showAdjacentDays":[4,"show-adjacent-days"],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16,"title-selected-dates-formatter"],"multiple":[4],"highlightedDates":[16,"highlighted-dates"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[290,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[288,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[290,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[290,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[289,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"breakpoints":[16],"expandToScroll":[4,"expand-to-scroll"],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16,"component-props"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16,"presenting-element"],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},[[9,"resize","onWindowResize"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[289,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[257,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[289,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[289,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"component":[1],"componentProps":[16,"component-props"],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[289,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"setFocus":[64]}]]],["ion-item_8",[[289,"ion-item-divider",{"color":[513],"sticky":[4]}],[288,"ion-item-group"],[289,"ion-note",{"color":[513]}],[257,"ion-skeleton-text",{"animated":[4]}],[294,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[289,"ion-list-header",{"color":[513],"lines":[1]}],[289,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16,"router-animation"],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"isInteractive":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[288,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[256,"ion-app",{"setFocus":[64]}],[292,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[257,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16,"swipe-handler"],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[257,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[292,"ion-header",{"collapse":[1],"translucent":[4]}],[289,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[289,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[294,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[289,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"required":[4],"isExpanded":[32],"hasFocus":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[257,"ion-select-option",{"disabled":[4],"value":[8]}],[290,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[257,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[289,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[292,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"helperText":[1,"helper-text"],"errorText":[1,"error-text"],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[257,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[289,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"],"aria-checked":["onAriaChanged"],"aria-label":["onAriaChanged"]}],[257,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),n)});return function(n,r){return e.apply(this,arguments)}}();!function(){if(typeof window<"u"&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}();const It=["*"],OQ=["outletContent"],PQ=["outlet"],FQ=[[["","slot","top"]],"*",[["ion-tab"]]],LQ=["[slot=top]","*","ion-tab"];function $Q(e,t){if(1&e){const n=Cn();B(0,"ion-router-outlet",5,1),$e("stackWillChange",function(o){return pt(n),ht(it().onStackWillChange(o))})("stackDidChange",function(o){return pt(n),ht(it().onStackDidChange(o))}),H()}}function BQ(e,t){1&e&&yt(0,2,["*ngIf","tabs.length > 0"])}let Ef=(()=>{class e extends u_{constructor(n,r){super(n,r)}writeValue(n){this.elementRef.nativeElement.checked=this.lastValue=n,wf(this.elementRef)}_handleIonChange(n){this.handleValueChange(n,n.checked)}static \u0275fac=function(r){return new(r||e)(_(Cr),_(rt))};static \u0275dir=Ht({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,o){1&r&&$e("ionChange",function(s){return o._handleIonChange(s.target)})},standalone:!1,features:[wr([{provide:$s,useExisting:e,multi:!0}]),Fn]})}return e})(),Q0=(()=>{class e extends u_{el;constructor(n,r){super(n,r),this.el=r}handleInputEvent(n){this.handleValueChange(n,n.value)}registerOnChange(n){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName||"ION-INPUT-OTP"===this.el.nativeElement.tagName?r=>{n(""===r?null:parseFloat(r))}:n)}static \u0275fac=function(r){return new(r||e)(_(Cr),_(rt))};static \u0275dir=Ht({type:e,selectors:[["ion-input","type","number"],["ion-input-otp",3,"type","text"],["ion-range"]],hostBindings:function(r,o){1&r&&$e("ionInput",function(s){return o.handleInputEvent(s.target)})},standalone:!1,features:[wr([{provide:$s,useExisting:e,multi:!0}]),Fn]})}return e})(),kh=(()=>{class e extends u_{constructor(n,r){super(n,r)}_handleChangeEvent(n){this.handleValueChange(n,n.value)}static \u0275fac=function(r){return new(r||e)(_(Cr),_(rt))};static \u0275dir=Ht({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,o){1&r&&$e("ionChange",function(s){return o._handleChangeEvent(s.target)})},standalone:!1,features:[wr([{provide:$s,useExisting:e,multi:!0}]),Fn]})}return e})(),cc=(()=>{class e extends u_{constructor(n,r){super(n,r)}_handleInputEvent(n){this.handleValueChange(n,n.value)}static \u0275fac=function(r){return new(r||e)(_(Cr),_(rt))};static \u0275dir=Ht({type:e,selectors:[["ion-input",3,"type","number"],["ion-input-otp","type","text"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(r,o){1&r&&$e("ionInput",function(s){return o._handleInputEvent(s.target)})},standalone:!1,features:[wr([{provide:$s,useExisting:e,multi:!0}]),Fn]})}return e})();const UQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)},configurable:!0})})},HQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{n[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},ur=(e,t,n)=>{n.forEach(r=>e[r]=Wv(t,r))};function xt(e){return function(n){const{defineCustomElementFn:r,inputs:o,methods:i}=e;return void 0!==r&&r(),o&&UQ(n,o),i&&HQ(n,i),n}}let t2=(()=>{let e=class _E{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||_E)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:_E,selectors:[["ion-app"]],standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({methods:["setFocus"]})],e),e})(),ss=(()=>{let e=class EE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,ur(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||EE)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:EE,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),as=(()=>{let e=class DE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||DE)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:DE,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["collapse"]})],e),e})(),n2=(()=>{let e=class kE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,ur(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||kE)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:kE,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",errorText:"errorText",helperText:"helperText",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["alignment","checked","color","disabled","errorText","helperText","indeterminate","justify","labelPlacement","mode","name","required","value"]})],e),e})(),ls=(()=>{let e=class OE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,ur(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(r){return new(r||OE)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:OE,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),cs=(()=>{let e=class UE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||UE)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:UE,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["collapse","mode","translucent"]})],e),e})(),Ho=(()=>{let e=class HE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||HE)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:HE,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),uc=(()=>{let e=class qE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,ur(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(r){return new(r||qE)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:qE,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Ao=(()=>{let e=class YE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||YE)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:YE,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),d_=(()=>{let e=class JE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||JE)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:JE,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),f_=(()=>{let e=class eD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,ur(this,this.el,["ionSwipe"])}static \u0275fac=function(r){return new(r||eD)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:eD,selectors:[["ion-item-options"]],inputs:{side:"side"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["side"]})],e),e})(),p_=(()=>{let e=class tD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,ur(this,this.el,["ionDrag"])}static \u0275fac=function(r){return new(r||tD)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:tD,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),zu=(()=>{let e=class nD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||nD)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:nD,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["color","mode","position"]})],e),e})(),aa=(()=>{let e=class rD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||rD)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:rD,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),J0=(()=>{let e=class _D{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,ur(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}static \u0275fac=function(r){return new(r||_D)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:_D,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),Rh=(()=>{let e=class MD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,ur(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||MD)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:MD,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",errorText:"errorText",expandedIcon:"expandedIcon",fill:"fill",helperText:"helperText",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",required:"required",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["cancelText","color","compareWith","disabled","errorText","expandedIcon","fill","helperText","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","required","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),Nh=(()=>{let e=class RD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||RD)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:RD,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["disabled","value"]})],e),e})(),Oh=(()=>{let e=class OD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||OD)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:OD,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["color","duration","name","paused"]})],e),e})(),r2=(()=>{let e=class FD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||FD)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:FD,selectors:[["ion-tab"]],inputs:{component:"component",tab:"tab"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["component","tab"],methods:["setActive"]})],e),e})(),h_=(()=>{let e=class LD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||LD)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:LD,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),o2=(()=>{let e=class $D{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||$D)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:$D,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),us=(()=>{let e=class UD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||UD)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:UD,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["color","size"]})],e),e})(),Ph=(()=>{let e=class GD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,ur(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||GD)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:GD,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",errorText:"errorText",helperText:"helperText",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","errorText","helperText","justify","labelPlacement","mode","name","required","value"]})],e),e})(),ds=(()=>{let e=class zD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||zD)(_(vt),_(rt),_(We))};static \u0275cmp=Xe({type:zD,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})};return e=ie([xt({inputs:["color","mode"]})],e),e})(),Fh=(()=>{class e extends QF{parentOutlet;outletContent;constructor(n,r,o,i,s,a,l,c){super(n,r,o,i,s,a,l,c),this.parentOutlet=c}static \u0275fac=function(r){return new(r||e)(zl("name"),zl("tabs"),_(Ic),_(rt),_(Mi),_(We),_(oc),_(e,12))};static \u0275cmp=Xe({type:e,selectors:[["ion-router-outlet"]],viewQuery:function(r,o){if(1&r&&Yl(OQ,7,es),2&r){let i;ns(i=rs())&&(o.outletContent=i.first)}},standalone:!1,features:[Fn],ngContentSelectors:It,decls:3,vars:0,consts:[["outletContent",""]],template:function(r,o){1&r&&(St(),Kl(0,null,0),yt(2),yl())},encapsulation:2})}return e})(),i2=(()=>{class e extends AQ{outlet;tabBar;tabBars;tabs;static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jr(e)))(o||e)}})();static \u0275cmp=Xe({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,o,i){if(1&r&&(Au(i,h_,5),Au(i,h_,4),Au(i,r2,4)),2&r){let s;ns(s=rs())&&(o.tabBar=s.first),ns(s=rs())&&(o.tabBars=s),ns(s=rs())&&(o.tabs=s)}},viewQuery:function(r,o){if(1&r&&Yl(PQ,5,Fh),2&r){let i;ns(i=rs())&&(o.outlet=i.first)}},standalone:!1,features:[Fn],ngContentSelectors:LQ,decls:6,vars:2,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange",4,"ngIf"],[4,"ngIf"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(r,o){1&r&&(St(FQ),yt(0),B(1,"div",2,0),nn(3,$Q,2,0,"ion-router-outlet",3)(4,BQ,1,0,"ng-content",4),H(),yt(5,1)),2&r&&(ue(3),he("ngIf",0===o.tabs.length),ue(),he("ngIf",o.tabs.length>0))},dependencies:[To,Fh],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})}return e})(),s2=(()=>{class e extends CQ{constructor(n,r,o,i,s,a){super(n,r,o,i,s,a)}static \u0275fac=function(r){return new(r||e)(_(Fh,8),_(Cf),_(Th),_(rt),_(We),_(vt))};static \u0275cmp=Xe({type:e,selectors:[["ion-back-button"]],standalone:!1,features:[Fn],ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})}return e})(),ew=(()=>{class e extends DQ{constructor(n,r,o,i,s,a){super(n,r,o,i,s,a)}static \u0275fac=function(r){return new(r||e)(_(rt),_(j),_(Cr),_(Ah),_(We),_(vt))};static \u0275cmp=Xe({type:e,selectors:[["ion-nav"]],standalone:!1,features:[Fn],ngContentSelectors:It,decls:1,vars:0,template:function(r,o){1&r&&(St(),yt(0))},encapsulation:2,changeDetection:0})}return e})();const nee={provide:bi,useExisting:Vn(()=>a2),multi:!0};let a2=(()=>{class e extends U0{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jr(e)))(o||e)}})();static \u0275dir=Ht({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ra("max",o._enabled?o.max:null)},standalone:!1,features:[wr([nee]),Fn]})}return e})();const ree={provide:bi,useExisting:Vn(()=>l2),multi:!0};let l2=(()=>{class e extends H0{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jr(e)))(o||e)}})();static \u0275dir=Ht({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ra("min",o._enabled?o.min:null)},standalone:!1,features:[wr([ree]),Fn]})}return e})(),tw=(()=>{class e extends xh{constructor(){super(Mh.a)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Lh=(()=>{class e extends xh{constructor(){super(Mh.b)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),oee=(()=>{class e extends xh{constructor(){super(Mh.l)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),js=(()=>{class e extends xh{angularDelegate=Le(Ah);injector=Le(Cr);environmentInjector=Le(j);constructor(){super(Mh.m)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class dc extends xh{angularDelegate=Le(Ah);injector=Le(Cr);environmentInjector=Le(j);constructor(){super(Mh.c)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const iee=(e,t,n)=>()=>{const r=t.defaultView;if(r&&typeof window<"u"){(0,X0.s)({...e,_zoneGate:i=>n.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return NQ(r,{exclude:["ion-tabs"],syncQueue:!0,raf:e2,jmp:i=>n.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}})}};let Zc=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:W0,useValue:n},{provide:iS,useFactory:iee,multi:!0,deps:[W0,$o,We]},Ah,{provide:JF,useFactory:_Q,deps:[Mi]}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=jo({type:e});static \u0275inj=Un({providers:[js,dc],imports:[ec]})}return e})();const see=y.p+"wasm/uarm_web_optimized-1275363ff37c1d42.wasm",aee=y.p+"wasm/cloudpilot_web-8b90109531a18310.wasm";var nw=y(1051);function cee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var rw={exports:{}};!function(t,n){function o(l){var c=this,d=function a(){var l=4022871197;return function(d){d=String(d);for(var h=0;h<d.length;h++){var m=.02519603282416938*(l+=d.charCodeAt(h));m-=l=m>>>0,l=(m*=l)>>>0,l+=4294967296*(m-=l)}return 2.3283064365386963e-10*(l>>>0)}}();c.next=function(){var h=2091639*c.s0+2.3283064365386963e-10*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=h-(c.c=0|h)},c.c=1,c.s0=d(" "),c.s1=d(" "),c.s2=d(" "),c.s0-=d(l),c.s0<0&&(c.s0+=1),c.s1-=d(l),c.s1<0&&(c.s1+=1),c.s2-=d(l),c.s2<0&&(c.s2+=1),d=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var d=new o(l),h=c&&c.state,m=d.next;return m.int32=function(){return 4294967296*d.next()|0},m.double=function(){return m()+11102230246251565e-32*(2097152*m()|0)},m.quick=m,h&&("object"==typeof h&&i(h,d),m.state=function(){return i(d,{})}),m}n&&n.exports?n.exports=s:this.alea=s}(0,rw);const dee=cee(rw.exports),c2=nw.compile({WhiteSpace:{match:/[\t\v\f\ufeff\p{Zs}]+/u,lineBreaks:!0},Lines:{match:/\r?\n|[\r\u2028\u2029]/u,lineBreaks:!0},ObjectKey:/\[?(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+\]?(?=:)/u,Punctuator:/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![/*]))=?|[?~,:;[\](){}]/u,BooleanLiteral:/true|false/u,NumericLiteral:/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/u,StringLiteral:{match:/(?:'(?:(?!')[^\\\n\r]|\\(?:\r\n|[^]))*')|(?:"(?:(?!")[^\\\n\r]|\\(?:\r\n|[^]))*")/u,value:e=>`"${e.slice(1,-1)}"`},Identifier:/(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/u}),vee=new RegExp("(?<==)(?:true|false)"),_ee=new RegExp("(?<==)-?(?:(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|-?0n|-?[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|-?0[0-7]+)"),yee=new RegExp("(?<==)'(?!.*&[0-9a-zA-Z]+;)[^'\\\\]*(?:\\\\.|\\\\n[^\"\\\\]*|&[^0-9a-zA-Z;]*)*'"),bee=new RegExp('(?<==)"(?!.*&[0-9a-zA-Z]+;)[^"\\\\]*(?:\\\\.|\\\\n[^"\\\\]*|&[^0-9a-zA-Z;]*)*"'),See=new RegExp("(?<==)[^\"\\s'`=<>\\x00]+");function ow(e){const t="string"==typeof e&&/^(['"]).*?\1$/.test(e)?e.slice(1,-1):e;return t.startsWith("[")&&t.endsWith("]")||t.startsWith("{")&&t.endsWith("}")?JSON.parse(function fee(e,t={}){const n=e.trim().replace(/[,]+$/,"");if(""===n)return"{}";if(!function pee(e){return e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")}(n))throw new TypeError("Unexpected input format");let r="";c2.reset(n);for(const o of c2)if("WhiteSpace"!==o.type&&"Lines"!==o.type){switch(o.type){case"Identifier":o.value=`"${t[o.value]||o.value}"`;break;case"ObjectKey":o.value="["===o.value.slice(0,1)&&"]"===o.value.slice(-1)?`"${t[o.value.slice(1,-1)]||o.value.slice(1,-1)}"`:`"${o.value}"`}r+=o.value}return r.replace(/,([}\]])/g,"$1")}(t)):t}const u2=nw.states({main:{WhiteSpace:/[ \t\v\f\ufeff]+/,AttributeShorthand:/[.#](?:(?!-?\d)(?:[a-zA-Z0-9\xA0-\uFFFF_-])+)/,BooleanLiteral:{match:vee,value:e=>"true"===e},NumericLiteral:{match:_ee,value(e){const t=Number(e);return Number.isNaN(t)?Number(e.replace(/_|n$/g,"")):Number(e)}},SingleQuotedValue:{match:yee,value:ow,type:()=>"StringLiteral"},DoubleQuotedLiteral:{match:bee,value:ow,type:()=>"StringLiteral"},UnquotedLiteral:{match:See,value:ow,type:()=>"StringLiteral"},AttributeName:/(?:(?![\s\x00\x22\x27\x3E\x2F\x3D\x00-\x1F\x7F-\x9F])[^\s\x00-\x1F\x7F-\x9F\x22\x27\x3E\x2F\x3D])+/,Separator:"="}});const Eee=nw.compile({spaces:/[\t\v\f\ufeff ]+/,name:/[a-zA-Z][\w-]*/,attrs:{match:/\{.*\}/,value:e=>function wee(e){let t=null;const n=u2.reset(e),r={};Object.defineProperties(r,{toString:{writable:!1,enumerable:!1,configurable:!1,value:()=>function Cee(e){let t="";for(const n in e){const r=e[n];switch(typeof r){case"object":t+=` ${n}='${JSON.stringify(r)}'`;break;case"string":t+=` ${n}="${r}"`;break;case"number":case"boolean":t+=` ${n}=${r}`}}return t.slice(1)}(r)},getTokens:{writable:!1,enumerable:!1,configurable:!1,value:()=>Array.from(u2.reset(e))}});const o=[];for(const{type:i,value:s}of n)switch(i){case"AttributeName":t=s,r[t]=t;break;case"AttributeShorthand":"."===s[0]?o.push(s.slice(1)):"#"===s[0]&&(r.id=s.slice(1));break;case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":t&&("class"===t&&o.push(s),r[t]=s,t=null)}return o.length&&(r.class=o.join(" ")),r}(e.slice(1,-1))},text:{match:/\[.*\]/,value:e=>e.slice(1,-1)},blockText:{match:/[\s\S]+/,lineBreaks:!0}});function Dee(e){const{type:t,level:n,raw:r,content:o,marker:i,tag:s}=e,a=Eee.reset(o);let l,c,d="",h=[];for(const{type:m,value:S}of a)switch(m){case"name":l=S;break;case"attrs":c=S;break;case"text":case"blockText":d=S,h="container"===n?this.lexer.blockTokens(S):this.lexer.inlineTokens(S)}return{type:t,raw:r,meta:{level:n,marker:i,tag:s,name:l},attrs:c,text:d,tokens:h}}function d2(e){return["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"].includes(e)}function Aee(e){const{meta:t,attrs:n,tokens:r=[]}=e,o=t.name||t.tag;let i=`<${o}`;return i+=n?" "+n.toString():"",i+=d2(o)?" />":">",i+="container"===t.level?"\n":"",d2(o)||(i+="container"===t.level?this.parser.parse(r):this.parser.parseInline(r),i+=`</${o}>`),i+="inline"===t.level?"":"\n",i}const xee=[{level:"container",marker:":::"},{level:"block",marker:"::"},{level:"inline",marker:":"}];function Mee(e=xee){return{extensions:e.map(({level:t,marker:n,tag:r,renderer:o})=>{const i=dee(n).int32(),s=`directive${function Tee(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}(t)}${i}`;return{name:s,level:"inline"===t?"inline":"block",start:a=>{var l;return null==(l=a.match(new RegExp(n)))?void 0:l.index},tokenizer(a){const l=function Iee(e,t){switch(e){case"container":return`^${t}([\\s\\S]*?)\\n${t}`;case"block":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{\\[].*?[\\}\\]])+)`;case"inline":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{].*?[\\}]+|[\\[].*?[\\]])+)`}}(t,n),c=a.match(new RegExp(l));if(c){const[d,h=""]=c;return Dee.call(this,{type:s,level:t,raw:d,content:h,marker:n,tag:r||("inline"===t?"span":"div")})}},renderer:o||Aee}})}}var Wu={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function f2(e){Wu=e}var $h={exec:()=>null};function Er(e,t=""){let n="string"==typeof e?e:e.source,r={replace:(o,i)=>{let s="string"==typeof i?i:i.source;return s=s.replace(fs.caret,"$1"),n=n.replace(o,s),r},getRegex:()=>new RegExp(n,t)};return r}var fs={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Bh=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,sw=/(?:[*+-]|\d{1,9}[.)])/,p2=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,h2=Er(p2).replace(/bull/g,sw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Pee=Er(p2).replace(/bull/g,sw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),aw=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,lw=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Lee=Er(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",lw).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$ee=Er(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,sw).getRegex(),g_="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",cw=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Bee=Er("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",cw).replace("tag",g_).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),g2=Er(aw).replace("hr",Bh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",g_).getRegex(),uw={blockquote:Er(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",g2).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:Lee,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Bh,html:Bee,lheading:h2,list:$ee,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:g2,table:$h,text:/^[^\n]+/},m2=Er("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Bh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",g_).getRegex(),Vee={...uw,lheading:Pee,table:m2,paragraph:Er(aw).replace("hr",Bh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",m2).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",g_).getRegex()},Uee={...uw,html:Er("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",cw).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:$h,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Er(aw).replace("hr",Bh).replace("heading"," *#{1,6} *[^\n]").replace("lheading",h2).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},v2=/^( {2,}|\\)\n(?!\s*$)/,m_=/[\p{P}\p{S}]/u,dw=/[\s\p{P}\p{S}]/u,_2=/[^\s\p{P}\p{S}]/u,Wee=Er(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,dw).getRegex(),y2=/(?!~)[\p{P}\p{S}]/u,b2=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Yee=Er(b2,"u").replace(/punct/g,m_).getRegex(),Xee=Er(b2,"u").replace(/punct/g,y2).getRegex(),S2="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Qee=Er(S2,"gu").replace(/notPunctSpace/g,_2).replace(/punctSpace/g,dw).replace(/punct/g,m_).getRegex(),Jee=Er(S2,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,y2).getRegex(),ete=Er("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,_2).replace(/punctSpace/g,dw).replace(/punct/g,m_).getRegex(),tte=Er(/\\(punct)/,"gu").replace(/punct/g,m_).getRegex(),nte=Er(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),rte=Er(cw).replace("(?:--\x3e|$)","--\x3e").getRegex(),ote=Er("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",rte).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),v_=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,ite=Er(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",v_).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),C2=Er(/^!?\[(label)\]\[(ref)\]/).replace("label",v_).replace("ref",lw).getRegex(),w2=Er(/^!?\[(ref)\](?:\[\])?/).replace("ref",lw).getRegex(),fw={_backpedal:$h,anyPunctuation:tte,autolink:nte,blockSkip:/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,br:v2,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:$h,emStrongLDelim:Yee,emStrongRDelimAst:Qee,emStrongRDelimUnd:ete,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:ite,nolink:w2,punctuation:Wee,reflink:C2,reflinkSearch:Er("reflink|nolink(?!\\()","g").replace("reflink",C2).replace("nolink",w2).getRegex(),tag:ote,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:$h},ate={...fw,link:Er(/^!?\[(label)\]\((.*?)\)/).replace("label",v_).getRegex(),reflink:Er(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",v_).getRegex()},pw={...fw,emStrongRDelimAst:Jee,emStrongLDelim:Xee,url:Er(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},lte={...pw,br:Er(v2).replace("{2,}","*").getRegex(),text:Er(pw.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},__={normal:uw,gfm:Vee,pedantic:Uee},jh={normal:fw,gfm:pw,breaks:lte,pedantic:ate},cte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},E2=e=>cte[e];function Dl(e,t){if(t){if(fs.escapeTest.test(e))return e.replace(fs.escapeReplace,E2)}else if(fs.escapeTestNoEncode.test(e))return e.replace(fs.escapeReplaceNoEncode,E2);return e}function D2(e){try{e=encodeURI(e).replace(fs.percentDecode,"%")}catch{return null}return e}function I2(e,t){let r=e.replace(fs.findPipe,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(fs.splitPipe),o=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(fs.slashPipe,"|");return r}function Vh(e,t,n){let r=e.length;if(0===r)return"";let o=0;for(;o<r;){let i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.slice(0,r-o)}function T2(e,t,n,r,o){let i=t.href,s=t.title||null,a=e[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}var y_=class{options;rules;lexer;constructor(e){this.options=e||Wu}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Vh(n,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=function dte(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(null===r)return t;let o=r[1];return t.split("\n").map(i=>{let s=i.match(n.other.beginningSpace);if(null===s)return i;let[a]=s;return a.length>=o.length?i.slice(o.length):i}).join("\n")}(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=Vh(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Vh(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=Vh(t[0],"\n").split("\n"),r="",o="",i=[];for(;n.length>0;){let l,s=!1,a=[];for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),s=!0;else{if(s)break;a.push(n[l])}n=n.slice(l);let c=a.join("\n"),d=c.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}\n${c}`:c,o=o?`${o}\n${d}`:d;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,i,!0),this.lexer.state.top=h,0===n.length)break;let m=i.at(-1);if("code"===m?.type)break;if("blockquote"===m?.type){let S=m,M=S.raw+"\n"+n.join("\n"),V=this.blockquote(M);i[i.length-1]=V,r=r.substring(0,r.length-S.raw.length)+V.raw,o=o.substring(0,o.length-S.text.length)+V.text;break}if("list"===m?.type){let S=m,M=S.raw+"\n"+n.join("\n"),V=this.list(M);i[i.length-1]=V,r=r.substring(0,r.length-m.raw.length)+V.raw,o=o.substring(0,o.length-S.raw.length)+V.raw,n=M.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:r,tokens:i,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),s=!1;for(;e;){let l=!1,c="",d="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let h=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,pe=>" ".repeat(3*pe.length)),m=e.split("\n",1)[0],S=!h.trim(),M=0;if(this.options.pedantic?(M=2,d=h.trimStart()):S?M=t[1].length+1:(M=t[2].search(this.rules.other.nonSpaceChar),M=M>4?1:M,d=h.slice(M),M+=t[1].length),S&&this.rules.other.blankLine.test(m)&&(c+=m+"\n",e=e.substring(m.length+1),l=!0),!l){let pe=this.rules.other.nextBulletRegex(M),fe=this.rules.other.hrRegex(M),at=this.rules.other.fencesBeginRegex(M),Tt=this.rules.other.headingBeginRegex(M),Et=this.rules.other.htmlBeginRegex(M);for(;e;){let Rn,wn=e.split("\n",1)[0];if(m=wn,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),Rn=m):Rn=m.replace(this.rules.other.tabCharGlobal,"    "),at.test(m)||Tt.test(m)||Et.test(m)||pe.test(m)||fe.test(m))break;if(Rn.search(this.rules.other.nonSpaceChar)>=M||!m.trim())d+="\n"+Rn.slice(M);else{if(S||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||at.test(h)||Tt.test(h)||fe.test(h))break;d+="\n"+m}!S&&!m.trim()&&(S=!0),c+=wn+"\n",e=e.substring(wn.length+1),h=Rn.slice(M)}}o.loose||(s?o.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(s=!0));let re,V=null;this.options.gfm&&(V=this.rules.other.listIsTask.exec(d),V&&(re="[ ] "!==V[0],d=d.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:c,task:!!V,checked:re,loose:!1,text:d,tokens:[]}),o.raw+=c}let a=o.items.at(-1);if(!a)return;a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd(),o.raw=o.raw.trimEnd();for(let l=0;l<o.items.length;l++)if(this.lexer.state.top=!1,o.items[l].tokens=this.lexer.blockTokens(o.items[l].text,[]),!o.loose){let c=o.items[l].tokens.filter(h=>"space"===h.type),d=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));o.loose=d}if(o.loose)for(let l=0;l<o.items.length;l++)o.items[l].loose=!0;return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:o}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=I2(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?i.align.push("right"):this.rules.other.tableAlignCenter.test(s)?i.align.push("center"):this.rules.other.tableAlignLeft.test(s)?i.align.push("left"):i.align.push(null);for(let s=0;s<n.length;s++)i.header.push({text:n[s],tokens:this.lexer.inline(n[s]),header:!0,align:i.align[s]});for(let s of o)i.rows.push(I2(s,i.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:i.align[l]})));return i}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=Vh(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{let i=function ute(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===i)return;if(i>-1){let s=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],o=i[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(r=this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r.slice(1):r.slice(1,-1)),T2(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let o=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!o){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return T2(n,o,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){let i,s,o=[...r[0]].length-1,a=o,l=0,c="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+o);null!=(r=c.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(s=[...i].length,r[3]||r[4]){a+=s;continue}if((r[5]||r[6])&&o%3&&!((o+s)%3)){l+=s;continue}if(a-=s,a>0)continue;s=Math.min(s,s+a+l);let d=[...r[0]][0].length,h=e.slice(0,o+r.index+d+s);if(Math.min(o,s)%2){let S=h.slice(1,-1);return{type:"em",raw:h,text:S,tokens:this.lexer.inlineTokens(S)}}let m=h.slice(2,-2);return{type:"strong",raw:h,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return"@"===t[2]?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if("@"===t[2])n=t[0],r="mailto:"+n;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(o!==t[0]);n=t[0],r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],escaped:this.lexer.state.inRawBlock}}},fc=class WD{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Wu,this.options.tokenizer=this.options.tokenizer||new y_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:fs,block:__.normal,inline:jh.normal};this.options.pedantic?(n.block=__.pedantic,n.inline=jh.pedantic):this.options.gfm&&(n.block=__.gfm,n.inline=this.options.breaks?jh.breaks:jh.gfm),this.tokenizer.rules=n}static get rules(){return{block:__,inline:jh}}static lex(t,n){return new WD(n).lex(t)}static lexInline(t,n){return new WD(n).inlineTokens(t)}lex(t){t=t.replace(fs.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){for(this.options.pedantic&&(t=t.replace(fs.tabCharGlobal,"    ").replace(fs.spaceLine,""));t;){let o;if(this.options.extensions?.block?.some(s=>!!(o=s.call({lexer:this},t,n))&&(t=t.substring(o.raw.length),n.push(o),!0)))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);let s=n.at(-1);1===o.raw.length&&void 0!==s?s.raw+="\n":n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);let s=n.at(-1);"paragraph"===s?.type||"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.at(-1).src=s.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);let s=n.at(-1);"paragraph"===s?.type||"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}let i=t;if(this.options.extensions?.startBlock){let l,s=1/0,a=t.slice(1);this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),"number"==typeof l&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(i=t.substring(0,s+1))}if(this.state.top&&(o=this.tokenizer.paragraph(i))){let s=n.at(-1);r&&"paragraph"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(o),r=i.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);let s=n.at(-1);"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(o);continue}if(t){let s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r=t,o=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(r));)a.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,o.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(r));)r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,s="";for(;t;){let a;if(i||(s=""),i=!1,this.options.extensions?.inline?.some(c=>!!(a=c.call({lexer:this},t,n))&&(t=t.substring(a.raw.length),n.push(a),!0)))continue;if(a=this.tokenizer.escape(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(a.raw.length);let c=n.at(-1);"text"===a.type&&"text"===c?.type?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(t,r,s)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(t)){t=t.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(t))){t=t.substring(a.raw.length),n.push(a);continue}let l=t;if(this.options.extensions?.startInline){let h,c=1/0,d=t.slice(1);this.options.extensions.startInline.forEach(m=>{h=m.call({lexer:this},d),"number"==typeof h&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){t=t.substring(a.raw.length),"_"!==a.raw.slice(-1)&&(s=a.raw.slice(-1)),i=!0;let c=n.at(-1);"text"===c?.type?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}return n}},Kc=class{options;parser;constructor(e){this.options=e||Wu}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(fs.notSpaceStart)?.[0],o=e.replace(fs.endingNewline,"")+"\n";return r?'<pre><code class="language-'+Dl(r)+'">'+(n?o:Dl(o,!0))+"</code></pre>\n":"<pre><code>"+(n?o:Dl(o,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,r="";for(let s=0;s<e.items.length;s++)r+=this.listitem(e.items[s]);let o=t?"ol":"ul";return"<"+o+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+o+">\n"}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+Dl(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);t+=this.tablerow({text:n});let r="";for(let o=0;o<e.rows.length;o++){let i=e.rows[o];n="";for(let s=0;s<i.length;s++)n+=this.tablecell(i[s]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Dl(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),o=D2(e);if(null===o)return r;let i='<a href="'+(e=o)+'"';return t&&(i+=' title="'+Dl(t)+'"'),i+=">"+r+"</a>",i}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let o=D2(e);if(null===o)return Dl(n);let i=`<img src="${e=o}" alt="${n}"`;return t&&(i+=` title="${Dl(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Dl(e.text)}},hw=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},pc=class qD{options;renderer;textRenderer;constructor(t){this.options=t||Wu,this.options.renderer=this.options.renderer||new Kc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new hw}static parse(t,n){return new qD(n).parse(t)}static parseInline(t,n){return new qD(n).parseInline(t)}parse(t,n=!0){let r="";for(let o=0;o<t.length;o++){let i=t[o];if(this.options.extensions?.renderers?.[i.type]){let a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==l||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){r+=l||"";continue}}let s=i;switch(s.type){case"space":r+=this.renderer.space(s);continue;case"hr":r+=this.renderer.hr(s);continue;case"heading":r+=this.renderer.heading(s);continue;case"code":r+=this.renderer.code(s);continue;case"table":r+=this.renderer.table(s);continue;case"blockquote":r+=this.renderer.blockquote(s);continue;case"list":r+=this.renderer.list(s);continue;case"html":r+=this.renderer.html(s);continue;case"def":r+=this.renderer.def(s);continue;case"paragraph":r+=this.renderer.paragraph(s);continue;case"text":{let a=s,l=this.renderer.text(a);for(;o+1<t.length&&"text"===t[o+1].type;)a=t[++o],l+="\n"+this.renderer.text(a);r+=n?this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):l;continue}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(t,n=this.renderer){let r="";for(let o=0;o<t.length;o++){let i=t[o];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==a||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=a||"";continue}}let s=i;switch(s.type){case"escape":case"text":r+=n.text(s);break;case"html":r+=n.html(s);break;case"link":r+=n.link(s);break;case"image":r+=n.image(s);break;case"strong":r+=n.strong(s);break;case"em":r+=n.em(s);break;case"codespan":r+=n.codespan(s);break;case"br":r+=n.br(s);break;case"del":r+=n.del(s);break;default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},b_=class{options;block;constructor(e){this.options=e||Wu}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?fc.lex:fc.lexInline}provideParser(){return this.block?pc.parse:pc.parseInline}},qu=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=pc;Renderer=Kc;TextRenderer=hw;Lexer=fc;Tokenizer=y_;Hooks=b_;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let o=r;for(let i of o.header)n=n.concat(this.walkTokens(i.tokens,t));for(let i of o.rows)for(let s of i)n=n.concat(this.walkTokens(s.tokens,t));break}case"list":n=n.concat(this.walkTokens(r.items,t));break;default:{let o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(i=>{let s=o[i].flat(1/0);n=n.concat(this.walkTokens(s,t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let i=t.renderers[o.name];t.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if("tokenizer"in o){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");let i=t[o.level];i?i.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&("block"===o.level?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:"inline"===o.level&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),n.renderer){let o=this.defaults.renderer||new Kc(this.defaults);for(let i in n.renderer){if(!(i in o))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let a=n.renderer[i],l=o[i];o[i]=(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d||""}}r.renderer=o}if(n.tokenizer){let o=this.defaults.tokenizer||new y_(this.defaults);for(let i in n.tokenizer){if(!(i in o))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let a=n.tokenizer[i],l=o[i];o[i]=(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d}}r.tokenizer=o}if(n.hooks){let o=this.defaults.hooks||new b_;for(let i in n.hooks){if(!(i in o))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let a=n.hooks[i],l=o[i];o[i]=b_.passThroughHooks.has(i)?c=>{if(this.defaults.async)return Promise.resolve(a.call(o,c)).then(h=>l.call(o,h));let d=a.call(o,c);return l.call(o,d)}:(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d}}r.hooks=o}if(n.walkTokens){let o=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(s){let a=[];return a.push(i.call(this,s)),o&&(a=a.concat(o.call(this,s))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return fc.lex(e,t??this.defaults)}parser(e,t){return pc.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},o={...this.defaults,...r},i=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===r.async)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);let s=o.hooks?o.hooks.provideLexer():e?fc.lex:fc.lexInline,a=o.hooks?o.hooks.provideParser():e?pc.parse:pc.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(l=>s(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>a(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(i);try{o.hooks&&(t=o.hooks.preprocess(t));let l=s(t,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let c=a(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return i(l)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let r="<p>An error occurred:</p><pre>"+Dl(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};function hr(e,t){return qu.parse(e,t)}hr.options=hr.setOptions=function(e){return qu.setOptions(e),f2(hr.defaults=qu.defaults),hr},hr.getDefaults=function iw(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},hr.defaults=Wu,hr.use=function(...e){return qu.use(...e),f2(hr.defaults=qu.defaults),hr},hr.walkTokens=function(e,t){return qu.walkTokens(e,t)},hr.parseInline=qu.parseInline,hr.Parser=pc,hr.parser=pc.parse,hr.Renderer=Kc,hr.TextRenderer=hw,hr.Lexer=fc,hr.lexer=fc.lex,hr.Tokenizer=y_,hr.Hooks=b_,hr.parse=hr;class _te extends ut{constructor(t,n){super()}schedule(t,n=0){return this}}const S_={setInterval(e,t,...n){const{delegate:r}=S_;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=S_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},gw={now:()=>(gw.delegate||Date).now(),delegate:void 0};class Uh{constructor(t,n=Uh.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Uh.now=gw.now;const Ste=new class bte extends Uh{constructor(t,n=Uh.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class yte extends _te{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return S_.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&S_.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ze(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});class Dte extends jn{constructor(t=1/0,n=1/0,r=gw){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function mw(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new In({next:()=>{r.unsubscribe(),e()}});return Fs(t(...n)).subscribe(r)}const Ate=["*"];let A2=(()=>{var e;class t{constructor(){this._buttonClick$=new jn,this.copied=function gte(e,t){const r=t?.manualCleanup?null:t?.injector?.get(Qi)??Le(Qi),o=function mte(e=Object.is){return(t,n)=>1===t.kind&&1===n.kind&&e(t.value,n.value)}(t?.equal);let i,s;i=gi(t?.requireSync?{kind:0}:{kind:1,value:t?.initialValue},{equal:o});const a=e.subscribe({next:l=>i.set({kind:1,value:l}),error:l=>{i.set({kind:2,error:l}),s?.()},complete:()=>{s?.()}});if(t?.requireSync&&0===i().kind)throw new Pe(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),_i(()=>{const l=i();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new Pe(601,!1)}},{equal:t?.equal})}(this._buttonClick$.pipe(yi(()=>function vte(...e){const t=nh(e),n=function Y7(e,t){return"number"==typeof OC(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Fs(r[0]):af(n)(oi(r,t)):Na}(cn(!0),function wte(e=0,t,n=Ste){let r=-1;return null!=t&&(QN(t)?n=t:r=t),new Tn(o=>{let i=function Cte(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}(3e3).pipe(function Ete(e){return nr(()=>e)}(!1)))),GP(),function Tte(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function Ite(e={}){const{connector:t=()=>new jn,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,d=!1,h=!1;const m=()=>{a?.unsubscribe(),a=void 0},S=()=>{m(),s=l=void 0,d=h=!1},M=()=>{const V=s;S(),V?.unsubscribe()};return ni((V,re)=>{c++,!h&&!d&&m();const pe=l=l??t();re.add(()=>{c--,0===c&&!h&&!d&&(a=mw(M,o))}),pe.subscribe(re),!s&&c>0&&(s=new In({next:fe=>pe.next(fe),error:fe=>{h=!0,m(),a=mw(S,n,fe),pe.error(fe)},complete:()=>{d=!0,m(),a=mw(S,r),pe.complete()}}),Fs(V).subscribe(s))})(i)}}({connector:()=>new Dte(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1))),this.copiedText=_i(()=>this.copied()?"Copied":"Copy")}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["markdown-clipboard"]],decls:2,vars:3,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(o,i){1&o&&(xm(0,"button",0),IS("click",function(){return i.onCopyToClipboardClick()}),Te(1),Mm()),2&o&&(ia("copied",i.copied()),ue(),Ps(i.copiedText()))},encapsulation:2,changeDetection:0}))}return e(),t})();const kte=new nt("CLIPBOARD_OPTIONS");var vw=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(vw||{});const x2=new nt("MARKED_EXTENSIONS"),M2=new nt("MARKED_OPTIONS"),Nte=new nt("MERMAID_OPTIONS"),k2=new nt("SANITIZE");let _w=(()=>{var e;class t{get options(){return this._options}set options(r){this._options={...this.DEFAULT_MARKED_OPTIONS,...r}}get renderer(){return this.options.renderer}set renderer(r){this.options.renderer=r}constructor(r,o,i,s,a,l,c,d){this.clipboardOptions=r,this.extensions=o,this.mermaidOptions=s,this.platform=a,this.sanitize=l,this.http=c,this.sanitizer=d,this.DEFAULT_MARKED_OPTIONS={renderer:new Kc},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new jn,this.reload$=this._reload$.asObservable(),this.options=i}parse(r,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,d={...this.options,...o.markedOptions},h=d.renderer||this.renderer||new Kc;this.extensions&&(this.renderer=this.extendsRendererForExtensions(h)),l&&(this.renderer=this.extendsRendererForMermaid(h));const m=this.trimIndentation(r),S=i?this.decodeHtml(m):m,M=a?this.parseEmoji(S):S,V=this.parseMarked(M,d,s);return c?V:this.sanitizeHtml(V)}render(r,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:d,mermaidOptions:h}=o;l&&this.renderKatex(r,{...this.DEFAULT_KATEX_OPTIONS,...c}),d&&this.renderMermaid(r,{...this.DEFAULT_MERMAID_OPTIONS,...this.mermaidOptions,...h}),s&&this.renderClipboard(r,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),this.highlight(r)}reload(){this._reload$.next()}getSource(r){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(r,{responseType:"text"}).pipe(nr(o=>this.handleExtension(r,o)))}highlight(r){if(!Jd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;r||(r=document);const o=r.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(r)}decodeHtml(r){if(!Jd(this.platform))return r;const o=document.createElement("textarea");return o.innerHTML=r,o.value}extendsRendererForExtensions(r){const o=r;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&hr.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),r}extendsRendererForMermaid(r){const o=r;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return r;const i=r.code;return r.code=s=>"mermaid"===s.lang?`<div class="mermaid">${s.text}</div>`:i(s),o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,r}handleExtension(r,o){const i=r.lastIndexOf("://"),s=i>-1?r.substring(i+4):r,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),d=c>-1?l.substring(c+1):"";return d&&"md"!==d?"```"+d+"\n"+o+"\n```":o}parseMarked(r,o,i=!1){if(o.renderer){const s={...o.renderer};delete s.\u0275NgxMarkdownRendererExtendedForExtensions,delete s.\u0275NgxMarkdownRendererExtendedForMermaid,delete o.renderer,hr.use({renderer:s})}return i?hr.parseInline(r,o):hr.parse(r,o)}parseEmoji(r){if(!Jd(this.platform))return r;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(r)}renderKatex(r,o){if(Jd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(r,o)}}renderClipboard(r,o,i){if(!Jd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=r.querySelectorAll("pre");for(let c=0;c<l.length;c++){const d=l.item(c),h=document.createElement("div");h.style.position="relative",d.parentNode.insertBefore(h,d),h.appendChild(d);const m=document.createElement("div");let S,M;if(m.classList.add("markdown-clipboard-toolbar"),m.style.position="absolute",m.style.top=".5em",m.style.right=".5em",m.style.zIndex="1",h.insertAdjacentElement("beforeend",m),h.onmouseenter=()=>m.classList.add("hover"),h.onmouseleave=()=>m.classList.remove("hover"),s){const V=o.createComponent(s);S=V.hostView,V.changeDetectorRef.markForCheck()}else if(a)S=o.createEmbeddedView(a);else{const V=o.createComponent(A2);S=V.hostView,V.changeDetectorRef.markForCheck()}S.rootNodes.forEach(V=>{m.appendChild(V),M=new ClipboardJS(V,{text:()=>d.innerText})}),S.onDestroy(()=>M.destroy())}}renderMermaid(r,o=this.DEFAULT_MERMAID_OPTIONS){if(!Jd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=r.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(r){if(!r)return"";let o;return r.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}sanitizeHtml(r){var o=this;return(0,T.A)(function*(){return function Ote(e){return"function"==typeof e}(o.sanitize)?o.sanitize(yield r):o.sanitize!==ks.NONE?o.sanitizer.sanitize(o.sanitize,r)??"":r})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(kte,8),ae(x2,8),ae(M2,8),ae(Nte,8),ae(Eg),ae(k2),ae($C,8),ae(CC))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac}))}return e(),t})(),yw=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(r){this._disableSanitizer=this.coerceBooleanProperty(r)}get inline(){return this._inline}set inline(r){this._inline=this.coerceBooleanProperty(r)}get clipboard(){return this._clipboard}set clipboard(r){this._clipboard=this.coerceBooleanProperty(r)}get emoji(){return this._emoji}set emoji(r){this._emoji=this.coerceBooleanProperty(r)}get katex(){return this._katex}set katex(r){this._katex=this.coerceBooleanProperty(r)}get mermaid(){return this._mermaid}set mermaid(r){this._mermaid=this.coerceBooleanProperty(r)}get lineHighlight(){return this._lineHighlight}set lineHighlight(r){this._lineHighlight=this.coerceBooleanProperty(r)}get lineNumbers(){return this._lineNumbers}set lineNumbers(r){this._lineNumbers=this.coerceBooleanProperty(r)}get commandLine(){return this._commandLine}set commandLine(r){this._commandLine=this.coerceBooleanProperty(r)}constructor(r,o,i){this.element=r,this.markdownService=o,this.viewContainerRef=i,this.error=new _n,this.load=new _n,this.ready=new _n,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new jn}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(qC(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(r){var o=this;return(0,T.A)(function*(i,s=!1){const a={decodeHtml:s,inline:o.inline,emoji:o.emoji,mermaid:o.mermaid,disableSanitizer:o.disableSanitizer},l={clipboard:o.clipboard,clipboardOptions:o.getClipboardOptions(),katex:o.katex,katexOptions:o.katexOptions,mermaid:o.mermaid,mermaidOptions:o.mermaidOptions},c=yield o.markdownService.parse(i,a);o.element.nativeElement.innerHTML=c,o.handlePlugins(),o.markdownService.render(o.element.nativeElement,l,o.viewContainerRef),o.ready.emit()}).apply(this,arguments)}coerceBooleanProperty(r){return null!=r&&"false"!=`${String(r)}`}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:r=>{this.render(r).then(()=>{this.load.emit(r)})},error:r=>this.error.emit(r)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,vw.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,vw.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(r,o){const i=r.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(r,o){const i=r.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(r){const o=r.match(/([A-Z])/g);if(!o)return r;let i=r.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(rt),_(_w),_(es))},this.\u0275cmp=Xe({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Ji],ngContentSelectors:Ate,decls:1,vars:0,template:function(o,i){1&o&&(St(),yt(0))},encapsulation:2}))}return e(),t})();function Ute(e){return[_w,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],e?.mermaidOptions??[],e?.markedExtensions??[],Gte(e?.sanitize)??[]]}function Gte(e){return function Hte(e){return null!=e&&null!=e.provide}(e)?e:{provide:k2,useValue:e??ks.HTML}}let bw=(()=>{var e;class t{static forRoot(r){return{ngModule:t,providers:[Ute(r)]}}static forChild(){return{ngModule:t}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=jo({type:t}),this.\u0275inj=Un({}))}return e(),t})(),R2=(()=>{var e;class t{constructor(){}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-dummy"]],standalone:!1,decls:2,vars:0,template:function(o,i){1&o&&(B(0,"div"),Te(1,"Dummy"),H())},encapsulation:2}))}return e(),t})(),N2=(()=>{var e;class t{constructor(r,o){this.linkApi=r,this.router=o}canActivate(r){return r.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(r.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!r.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(r.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(TC),ae(Mi))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Hh=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=jo({type:t}),this.\u0275inj=Un({imports:[ec,bw.forChild(),Zc,Gu,l_]}))}return e(),t})(),zte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=jo({type:t}),this.\u0275inj=Un({imports:[ec,Gu,Zc,Hh,bw.forChild()]}))}return e(),t})(),Wte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=jo({type:t}),this.\u0275inj=Un({imports:[ec,Gu,Zc,Hh]}))}return e(),t})(),qte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=jo({type:t}),this.\u0275inj=Un({imports:[ec,Gu,Zc,l_,Hh]}))}return e(),t})(),Zte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=jo({type:t}),this.\u0275inj=Un({imports:[ec,Gu,Zc,Hh,l_]}))}return e(),t})(),Kte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=jo({type:t}),this.\u0275inj=Un({imports:[ec,Zc,Gu,l_,Hh]}))}return e(),t})();const Yte=y.p+"assets/doc/about-00e76979ffc42d47.md",O2=y.p+"assets/doc/CHANGELOG-b984091be88e5b80.md";function Xte(e,t){1&e&&(B(0,"div",5),tt(1,"ion-spinner"),H())}let Zu=(()=>{var e;class t{constructor(r){this.modalController=r,this.title="Help",this.loading=!0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(js))},this.\u0275cmp=Xe({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},standalone:!1,decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"load","src"],[1,"loader"]],template:function(o,i){1&o&&(B(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Te(3),H(),B(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.modalController.dismiss()}),Te(6,"Close"),H()()()(),B(7,"ion-content",2),nn(8,Xte,2,0,"div",3),B(9,"markdown",4),$e("load",function(){return i.loading=!1}),H()()),2&o&&(ue(3),Ps(i.title),ue(5),he("ngIf",i.loading),ue(),he("src",i.url))},dependencies:[To,yw,ss,as,ls,cs,Oh,us,ds],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}))}return e(),t})();function Yn(){return(e,t,n)=>{const r=n.value;let o=!1;return n.value=(0,T.A)(function*(...i){if(!o){o=!0;try{return yield r.apply(this,i)}finally{o=!1}}}),n}}const Ku="2.0.2-2c36477 (preview)",ene=(new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked"),new Error("request for lock canceled"));class nne{constructor(t,n=ene){this._value=t,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}acquire(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,o)=>{const i={resolve:r,reject:o,weight:t,priority:n},s=F2(this._queue,a=>n<=a.priority);-1===s&&t<=this._value?this._dispatchItem(i):this._queue.splice(s+1,0,i)})}runExclusive(t){return function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,arguments,void 0,function*(n,r=1,o=0){const[i,s]=yield this.acquire(r,o);try{return yield n(i)}finally{s()}})}waitForUnlock(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,n)?Promise.resolve():new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),function rne(e,t){const n=F2(e,r=>t.priority<=r.priority);e.splice(n+1,0,t)}(this._weightedWaiters[t-1],{resolve:r,priority:n})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const n=this._value;this._value-=t.weight,t.resolve([n,this._newReleaser(t.weight)])}_newReleaser(t){let n=!1;return()=>{n||(n=!0,this.release(t))}}_drainUnlockWaiters(){if(0===this._queue.length)for(let t=this._value;t>0;t--){const n=this._weightedWaiters[t-1];n&&(n.forEach(r=>r.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let n=this._value;n>0;n--){const r=this._weightedWaiters[n-1];if(!r)continue;const o=r.findIndex(i=>i.priority<=t);(-1===o?r:r.splice(0,o)).forEach(i=>i.resolve())}}}_couldLockImmediately(t,n){return(0===this._queue.length||this._queue[0].priority<n)&&t<=this._value}}function F2(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}class Vs{constructor(t){this._semaphore=new nne(1,t)}acquire(){return e=this,t=arguments,r=function*(t=0){const[,n]=yield this._semaphore.acquire(1,t);return n},new((n=void 0)||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())});var e,t,n,r}runExclusive(t,n=0){return this._semaphore.runExclusive(()=>t(),1,n)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}class sne{constructor(t,n,r=()=>performance.now()){var o=this;this.adapter=t,this.hideDelay=n,this.now=r,this.show=(0,T.A)(function*(){if(o.showHandle=void 0,o.stack.length<=0)return;o.loaderVisible=!0;const i=o.getMessage();yield o.mutex.runExclusive(()=>o.adapter.show(i,o.getLoaderOptions()))}),this.hide=()=>{this.hideHandle=void 0,!(this.stack.length>0)&&(this.loaderVisible=!1,this.mutex.runExclusive(()=>this.adapter.hide()))},this.stack=[],this.nextHandle=0,this.showAt=0,this.loaderVisible=!1,this.mutex=new Vs}add(t){var n=this;return(0,T.A)(function*(r,o=0,i){(o<0||n.loaderVisible)&&(o=0);const s=n.nextHandle++;return n.stack.push({message:r,handle:s,loaderOptions:i,resolved:!1}),yield n.scheduleShow(o),s}).apply(this,arguments)}resolve(t){let n;for(n=this.stack.length-1;n>=0&&this.stack[n].handle!==t;n--);const r=this.stack[n];if(void 0===r||r.resolved)throw new Error("double resolve loader");for(n!==this.stack.length-1&&console.error("BUG: loader resolved out of order"),r.resolved=!0,n=this.stack.length-1;n>=0&&this.stack[n].resolved;n--)this.stack.pop();0===this.stack.length?this.scheduleHide():void 0===this.showHandle&&this.show()}updateMessage(t,n){const r=this.stack.find(o=>o.handle===t);if(!r)throw new Error(`invalid handle ${t}`);if(r.resolved)throw new Error(`handle ${t} already resolved`);r.message=n,void 0===this.showHandle&&this.show()}showWhile(t,n,r,o){var i=this;return(0,T.A)(function*(){const s=yield i.add(n,r,o);try{return yield t(s)}finally{i.resolve(s)}})()}scheduleShow(t){const n=this.now();return void 0!==this.hideHandle&&(clearTimeout(this.hideHandle),this.hideHandle=void 0),void 0!==this.showHandle&&t>0&&n+t>=this.showAt?Promise.resolve():(void 0!==this.showHandle&&clearTimeout(this.showHandle),this.showHandle=void 0,this.showAt=n+t,t<=0?this.show():(this.showHandle=setTimeout(this.show,t),Promise.resolve()))}scheduleHide(){this.showHandle&&(clearTimeout(this.showHandle),this.showHandle=void 0),void 0===this.hideHandle&&(this.hideDelay<=0?this.hide():this.hideHandle=setTimeout(this.hide,this.hideDelay))}getMessage(){for(const t of this.stack)if(void 0!==t.message&&!t.resolved)return t.message.replace(/\.\.\./g,"\u2026")}getLoaderOptions(){return this.stack.length>0?this.stack[this.stack.length-1].loaderOptions:void 0}}class ane{constructor(t){this.loadingController=t}show(t){var n=this;return(0,T.A)(function*(r,{onTop:o}={}){n.loader?n.loader.message=r:(n.loader=yield n.loadingController.create({message:r}),yield n.loader.present()),n.loader.style.zIndex=o?"10000000":""}).apply(this,arguments)}hide(){var t=this;return(0,T.A)(function*(){t.loader&&(yield t.loader.dismiss(),t.loader=void 0)})()}}let ps=(()=>{var e;class t extends sne{constructor(r){super(new ane(r),50)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(oee))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),hc=(()=>{var e;class t{constructor(){this._context=gi(void 0),this._session=_i(()=>this._context()?.session),this._engine=_i(()=>this._context()?.engine)}get session(){return this._session}get engine(){return this._engine}get context(){return this._context}setContext(r,o){this._context.set({session:r,engine:o})}clearContext(){this._context.set(void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var $2;class B2{constructor(t){this.markup=t}}class Dr{constructor(t,n){this.alertController=t,this.emulationContext=n,this.emergencySaveEvent=new fn.J,this.sanitizeDiv=document.createElement("div")}verbatim(t){return new B2(t)}errorMessage(t){var n=this;return(0,T.A)(function*(r,o="Close"){const i=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(r),buttons:[{text:o,role:"cancel"}],cssClass:"cpe-alert-error"});yield i.present(),yield i.onDidDismiss()}).apply(this,arguments)}message(t,n){var r=this;return(0,T.A)(function*(o,i,s={},a="Close"){const l=yield r.alertController.create({header:o,message:r.sanitizeMessage(i),backdropDismiss:!1,buttons:[{text:a,role:"cancel"},...Object.keys(s).map(c=>({text:c,handler:()=>{s[c](),l.dismiss()}}))],cssClass:"cpe-alert-message"});yield l.present(),yield l.onDidDismiss()}).apply(this,arguments)}messageWithChoice(t,n,r,o){var i=this;return(0,T.A)(function*(s,a,l,c,d={},h="Close"){const m=yield i.alertController.create({header:s,message:i.sanitizeMessage(a),backdropDismiss:!1,buttons:[{text:h,role:"cancel"},...Object.keys(d).map(S=>({text:S,handler:()=>{d[S](),m.dismiss()}}))],inputs:[{type:"checkbox",label:l,checked:!1,handler:S=>c=!0===S.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border cpe-alert-message"});return yield m.present(),yield m.onDidDismiss(),c}).apply(this,arguments)}updateAvailable(t){var n=this;return(0,T.A)(function*(){const r=yield n.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield r.present(),yield r.onDidDismiss()})()}fatalError(t){var n=this;return(0,T.A)(function*(r,o=!0){const i=!!n.emulationContext.session(),s=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${r}\n                <br/><br/>\n                Please close or reload this window.\n                ${i&&o?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...i&&o?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"cpe-alert-error"});yield s.present(),yield s.onDidDismiss()}).apply(this,arguments)}errorInNativeCode(t){var n=this;return(0,T.A)(function*(){const r=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}snapshotTimeout(){var t=this;return(0,T.A)(function*(){yield t.message("Timeout while saving state","Your browser's IndexedDB is either slow to respond or has crashed. You can either retry or reload CloudpilotEmu.",{Reload:()=>window.location.reload()},"Retry")})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new X0.I(t instanceof B2?t.markup:t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(n=>(this.sanitizeDiv.textContent=n,this.sanitizeDiv.innerHTML)).join("<br/>"))}static#e=$2=()=>(this.\u0275fac=function(n){return new(n||Dr)(ae(tw),ae(hc))},this.\u0275prov=Qe({token:Dr,factory:Dr.\u0275fac,providedIn:"root"}))}$2(),ie([Yn()],Dr.prototype,"updateAvailable",null),ie([Yn()],Dr.prototype,"fatalError",null),ie([Yn()],Dr.prototype,"errorInNativeCode",null),ie([Yn()],Dr.prototype,"snapshotTimeout",null);const Df=function cne(){if(!bl)return 0;const e=navigator.userAgent.match(/cpe-native-api-(\d+)/);if(!e)return 0;const t=parseInt(e[1],10);return isNaN(t)?0:t}(),Sw=new fn.J;Df>0&&(window.__cpeCallFromNative=e=>Sw.dispatch(e));let la=(()=>{var e;class t{constructor(){this.netRpcResult=new fn.J,this.onNativeMessage=r=>{"netRpcResult"===r.type?this.netRpcResult.dispatch({sessionId:r.sessionId,rpcData:new Uint8Array(r.rpcData)}):console.error("unhandled native message",r)},Sw.addHandler(this.onNativeMessage)}ngOnDestroy(){Sw.removeHandler(this.onNativeMessage)}netOpenSession(){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netOpenSession"})}netCloseSession(r){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netCloseSession",sessionId:r})}netDispatchRpc(r,o){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netDispatchRpc",sessionId:r,rpcData:Array.from(o)}).then(i=>!!i)}clipboardRead(){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardRead"})}clipboardWrite(r){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardWrite",data:r})}isResumeFromBackground(){return void 0!==window.__cpeLastResume&&Date.now()-window.__cpeLastResume<=3e3}setWorkerRegistered(r){return(0,T.A)(function*(){Df>2&&(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"setWorkerRegistered",workerRegistered:r}))})()}getWorkerFailed(){return(0,T.A)(function*(){return!(Df<3||!(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"getWorkerFailed"})))})()}clearWorkerFailed(){Df>2&&window.webkit.messageHandlers.nativeCall.postMessage({type:"clearWorkerFailed"})}assertNativeNetworkIntegrationSupported(){if(!t.supportsNativeNetworkIntegration())throw new Error("native network integration not supported")}assertNativeClipboardSupported(){if(!t.supportsNativeClipboard())throw new Error("native clipboard is not supported")}static supportsNativeNetworkIntegration(){return bl&&Df>0}static supportsNativeClipboard(){return bl&&Df>1}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),w_=(()=>{var e;class t{constructor(r,o,i){var s=this;this.loaderService=r,this.alertService=o,this.nativeAppService=i,this.updateNativeAppRegistrationStatus=a=>this.updateNativeAppRegistrationStatusMutex.runExclusive(()=>this.nativeAppService.setWorkerRegistered(a)),this.register=()=>this.registerMutex.runExclusive((0,T.A)(function*(){if(s.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>s.reloadOnControllerChange&&window.location.reload()),yield new Promise(a=>setTimeout(a,3e3));try{s.setupRegistration(yield s.doRegister())}catch(a){console.error(a)}}})),this.reloadOnControllerChange=!1,this.registerMutex=new Vs,this.updateNativeAppRegistrationStatusMutex=new Vs,this.updateAvailableEvent=new fn.J,this.register(),this.isEnabled()&&this.updateNativeAppRegistrationStatus(this.isRegistered())}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}reset(){var r=this;return(0,T.A)(function*(){try{yield r.loaderService.showWhile((0,T.A)(function*(){if(!(yield(yield navigator.serviceWorker.getRegistration())?.unregister()))throw new Error("failed to unregister worker");yield r.updateNativeAppRegistrationStatus(!1)}))}catch(o){return console.error(o),void(yield r.alertService.errorMessage("Failed to unregister service worker."))}yield r.alertService.message("Service worker unregistered","\n            The current service worker has been unregistered. Please reload the app\n            in order to register a new worker for offline usage.\n        ",{},"Reload"),window.location.reload()})()}update(){var r=this;return(0,T.A)(function*(){r.registration&&r.registration.update()})()}activateUpdate(){var r=this;return(0,T.A)(function*(){r.registration?.waiting&&(yield r.loaderService.showWhile((0,T.A)(function*(){r.registration.waiting.postMessage({type:"SKIP_WAITING"})}),"Updating..."))})()}doRegister(){return(0,T.A)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(r){this.registration=r,r.waiting&&this.dispatchUpdate(),r.installing&&this.handleInstallingWorker(r.installing),r.addEventListener("updatefound",()=>r.installing&&this.handleInstallingWorker(r.installing))}handleInstallingWorker(r){let o=!1;r.addEventListener("statechange",()=>{"installed"!==r.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(ps),ae(Dr),ae(la))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const fne=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function j2(e){let t=-1;for(let n=0;n<e.length;n++)t=fne[255&(t^e[n])]^t>>>8;return~t}function Gh(e){switch(e){case q.i710:case q.m520:case q.te2:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case q.handera330:case q.handera330c:case q.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case q.pegS300:case q.pegS320:case q.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case q.pegT600c:case q.pegT400:case q.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case q.pegN600c:case q.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case q.pegNR70:case q.frankene2:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case q.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function Cw(e){switch(e){case q.pilot:case q.palmPilot:case q.iii:case q.palmV:case q.palmVx:case q.iiix:case q.iiixe:case q.iiie:case q.m100:case q.m105:case q.m125:case q.m500:case q.palmVII:case q.palmVIIEZ:case q.palmVIIx:case q.i705:case q.handera330:case q.pegS300:case q.pegS320:case q.pegT400:case q.acerS11:return!1;default:return!0}}function V2(e){switch(e){case q.pilot:return"Pilot";case q.palmPilot:return"Palm Pilot";case q.iii:return"Palm III";case q.m500:return"Palm m500";case q.m505:return"Palm m505";case q.m515:return"Palm m515";case q.m520:return"Palm m520";case q.palmVx:return"Palm Vx";case q.iiix:return"Palm IIIx";case q.iiixe:return"Palm IIIxe";case q.iiie:return"Palm IIIe";case q.palmV:return"Palm V";case q.palmVII:return"Palm VII";case q.palmVIIEZ:return"Palm VII EZ";case q.palmVIIx:return"Palm VIIx";case q.iiic:return"Palm IIIc";case q.m100:return"Palm m100";case q.m105:return"Palm m105";case q.m125:return"Palm m125";case q.m130:return"Palm m130";case q.i705:return"Palm i705";case q.i710:return"Tungsten W";case q.handera330:return"Handera 330";case q.handera330c:return"Handera 330c";case q.pegS300:return"Sony PEG-S300";case q.pegS320:return"Sony PEG-S320";case q.pegT400:return"Sony PEG-T400 series";case q.pegN600c:return"Sony PEG-N600C series";case q.pegT600c:return"Sony PEG-T600C series";case q.pegN700c:return"Sony PEG-N700C series";case q.pegT650c:return"Sony PEG-T650C series";case q.pegNR70:return"Sony PEG-NR70 series";case q.pegS500c:return"Sony PEG-S500C series";case q.acerS11:return"Acer S1x series";case q.lp168:return"Legend P168";case q.te2:return"Tungsten E2";case q.frankene2:return"Tungsten E3";default:throw new Error("bad device ID")}}function ww(e){switch(e){case q.m500:case q.m505:case q.m515:case q.m520:case q.m125:case q.m130:case q.i705:case q.i710:case q.handera330:case q.handera330c:case q.te2:case q.frankene2:return"sdcard";case q.pegS300:case q.pegS500c:case q.pegS320:case q.pegT400:case q.pegN600c:case q.pegT600c:case q.pegN700c:case q.pegT650c:case q.pegNR70:case q.acerS11:return"memorystick";default:return"none"}}function Ew(e){switch(e){case q.te2:case q.frankene2:return"uarm";default:return"cloudpilot"}}function E_(e){return"uarm"===Ew(e)?34603008:void 0}function U2(e){switch(e){case q.te2:case q.frankene2:return!0;default:return!1}}var mne=y(6243),vne=y.n(mne);const H2={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Dw;const _ne=new Uint8Array(16),ki=[];for(let e=0;e<256;++e)ki.push((e+256).toString(16).slice(1));function bne(e,t,n){const r=(e=e||{}).random??e.rng?.()??function yne(){if(!Dw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dw=crypto.getRandomValues.bind(crypto)}return Dw(_ne)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let o=0;o<16;++o)t[n+o]=r[o];return t}return function G2(e,t=0){return(ki[e[t+0]]+ki[e[t+1]]+ki[e[t+2]]+ki[e[t+3]]+"-"+ki[e[t+4]]+ki[e[t+5]]+"-"+ki[e[t+6]]+ki[e[t+7]]+"-"+ki[e[t+8]]+ki[e[t+9]]+"-"+ki[e[t+10]]+ki[e[t+11]]+ki[e[t+12]]+ki[e[t+13]]+ki[e[t+14]]+ki[e[t+15]]).toLowerCase()}(r)}const z2=function Sne(e,t,n){return!H2.randomUUID||t||e?bne(e,t,n):H2.randomUUID()};let Yu=(()=>{var e;class t{constructor(r,o,i){this.alertService=r,this.nativeAppService=o,this.ngZone=i,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>{this.nativeAppService.isResumeFromBackground()?window.location.reload():this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1)},this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=s=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${s}.`),this.fatalInNativeCode=s=>this.fatalWithMessage(s.message,!0,!1),this.fatalWithMessage=(s,a=!0,l=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,a&&PN(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(s,l))}),this.fatalErrorEvent=new fn.J,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Dr),ae(la),ae(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),D_=(()=>{var e;class t{constructor(r){this.errorService=r,this.ownershipMmap=new Map}getOwner(r){return this.ownershipMmap.get(r)??"none"}claim(r,o){this.assertOwnership(r,"none"),this.ownershipMmap.set(r,o)}release(r,o){this.assertOwnership(r,o),this.ownershipMmap.delete(r)}assertOwnership(r,o){if(this.getOwner(r)===o)return;const i="none"===o?`Card already claimed for ${this.getOwner(r)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(r)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(r,o,i){this.assertOwnership(r,o),this.ownershipMmap.set(r,i)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Yu))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class Xu extends Error{constructor(t){super(t)}}const Yc="session",If="rom",Xc="memory",gc="state",I_="kvs",Qc="memory-meta",Il="storage",Pa="storage-card",zh="lock",Jc="nand",Wh="session",Tw="memory",Z2="storage-meta",K2="storage-card";function Aw(){return(Aw=(0,T.A)(function*(e,t){function n(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(Wh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+n(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function xw(){return(xw=(0,T.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");const n=t.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=n.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(n.put(r,"credentials"),n.delete("proxyCredentials"))})).apply(this,arguments)}function Mw(){return(Mw=(0,T.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");const n=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(Z2,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(Wh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(n.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function kw(){return(kw=(0,T.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(Z2).name=K2})).apply(this,arguments)}function Rw(){return(Rw=(0,T.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(K2).createIndex("storageId","storageId")})).apply(this,arguments)}function Nw(){return(Nw=(0,T.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}function Ow(){return(Ow=(0,T.A)(function*(e,t){if(e.createObjectStore("nand"),!t)throw new Error("no version change transaction!");const r=t.objectStore(Wh).openCursor();return new Promise((o,i)=>{r.onsuccess=()=>{const s=r.result;if(!s)return void o();const a={engine:"cloudpilot",wasResetForcefully:!1,deviceOrientation:"portrait",hotsyncName:"",dontManageHotsyncName:!1,speed:1,...s.value};s.update(a),s.continue()},r.onerror=s=>i(s)})})).apply(this,arguments)}function ar(e){return new Promise((t,n)=>{!function Lne(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>n(new Xu(e.error?.message))})}function Y2(e){let t=255&e[0];t|=t<<8,t|=t<<16;const n=e.length;for(let r=0;r<n;r++)if(e[r]!==t)return e;return 255&e[0]}function Pw(e){const t=e[0],n=e.length;for(let r=1;r<n;r++)if(e[r]!==t)return e;return t}var X2;const Fw=new Error("page lock lost"),Q2=new Error("version mismatch"),J2=z2();function vo(){return(e,t,n)=>{const r=n.value;return n.value=(0,T.A)(function*(...o){const i=this.errorService;try{return yield r.apply(this,o)}catch(s){throw console.error(s),s instanceof Xu?i?.fatalIDBDead():s===Q2?i?.fatalVersionMismatch():s===Fw?i?.fatalPageLockLost():s instanceof Error?i?.fatalBug(s?.message):i?.fatalBug("unknown reason"),s}}),n}}class Jn{constructor(t,n,r){this.ngZone=t,this.errorService=n,this.storageCardContext=r,this.sessionChangeEvent=new fn.J,this.storageCardChangeEvent=new fn.J,this.sessionUpdateMutex=new Vs,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,{rom:n,memory:r,nand:o,state:i}){var s=this;return this.ngZone.runOutsideAngular((0,T.A)(function*(){const a=vne()(n),l=yield s.newTransaction(Yc,If,gc,Xc,Qc,Jc),c=l.objectStore(Yc),d=l.objectStore(If);(yield ar(d.get(a)))||d.put(n,a);const{id:m,...S}=t,M=yield ar(c.add({...S,rom:a})),V=yield ar(c.get(M));return s.saveMemory(l,t.engine,V.id,r),s.saveNand(l,V.id,o),s.saveState(l,V.id,i),yield ar(l),V}))}getAllSessions(){var t=this;return(0,T.A)(function*(){const[n]=yield t.prepareObjectStore(Yc);return yield ar(n.getAll())})()}getSession(t){var n=this;return(0,T.A)(function*(){const[r]=yield n.prepareObjectStore(Yc);return yield ar(r.get(t))})()}deleteSession(t){var n=this;return(0,T.A)(function*(){const r=yield n.newTransaction(Yc,If,gc,Xc,Qc,Jc),o=r.objectStore(Yc),i=r.objectStore(If);(t=yield ar(o.get(t.id)))&&(o.delete(t.id),0===(yield ar(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),n.deleteMemory(r,t.id),n.deleteState(r,t.id),n.deleteNand(r,t.id),yield ar(r),n.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,n){var r=this;return this.sessionUpdateMutex.runExclusive((0,T.A)(function*(){const{id:o,rom:i,ram:s,device:a,engine:l,nand:c,...d}=n,[h,m]=yield r.prepareObjectStore(Yc),S=yield ar(h.get(t));if(!S)throw new Error(`no session with id ${t}`);const M={...S,...d};h.put(M),yield ar(m),r.sessionChangeEvent.dispatch([S.id,M])}))}updateSession(t){var n=this;return this.sessionUpdateMutex.runExclusive((0,T.A)(function*(){const[r,o]=yield n.prepareObjectStore(Yc),i=yield ar(r.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.engine!==t.engine)throw new Error("attempt to change session engine");if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");if(i.nand!==t.nand)throw new Error("attempt to change NAND size");r.put(t),yield ar(o),n.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,n){var r=this;return this.ngZone.runOutsideAngular((0,T.A)(function*(){const o=yield r.newTransaction(If,gc,Xc,Qc,Jc),i=o.objectStore(If);return{rom:yield ar(i.get(t.rom)),memory:yield r.loadMemory(o,t.id,n),savestate:yield r.loadState(o,t.id),nand:yield r.loadNand(o,t.id,t.device)}}))}deleteStateForSession(t){var n=this;return(0,T.A)(function*(){const[r,o]=yield n.prepareObjectStore(gc);r.delete(t.id),yield ar(o)})()}addEmptyStorageCard(t){var n=this;return(0,T.A)(function*(){const[r]=yield n.prepareObjectStore(Pa),o=yield ar(r.add(t)),i=yield ar(r.get(o));return n.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,n){var r=this;return this.ngZone.runOutsideAngular((0,T.A)(function*(){const o=yield r.newTransaction(Pa,Il),i=o.objectStore(Pa),s=o.objectStore(Il),a=yield ar(i.add(t));if("number"!=typeof a)throw new Error("invalid key");r.savePagedData(s,8192,Pw,a,0,new Uint8Array(n.buffer,n.byteOffset,n.byteLength));const l=yield ar(i.get(a));return yield ar(o),r.storageCardChangeEvent.dispatch(l.id),l}))}getAllStorageCards(){var t=this;return(0,T.A)(function*(){const[n]=yield t.prepareObjectStore(Pa);return ar(n.getAll())})()}getCard(t){var n=this;return(0,T.A)(function*(){const[r]=yield n.prepareObjectStore(Pa);return ar(r.get(t))})()}updateStorageCardPartial(t,n){var r=this;return(0,T.A)(function*(){const{storageId:o,size:i,id:s,...a}=n,[l,c]=yield r.prepareObjectStore(Pa),d=yield ar(l.get(t));if(!d)throw new Error(`no card with id ${t}`);const h={...d,...a};l.put(h),yield ar(c),r.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var n=this;return(0,T.A)(function*(){const r=yield n.newTransaction(Pa,Il);n.storageCardContext.assertOwnership(t,"none");const o=r.objectStore(Pa),i=r.objectStore(Il);o.delete(t),n.deletePagedData(i,t),yield ar(r),n.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,n,r){var o=this;return this.ngZone.runOutsideAngular((0,T.A)(function*(){const i=yield o.newTransaction(Il);o.storageCardContext.assertOwnership(t,r);const s=i.objectStore(Il);yield o.loadPagedData(t,s,8192,0,n)}))}updateCardData(t,n,r,o){var i=this;return this.ngZone.runOutsideAngular((0,T.A)(function*(){const s=yield i.newTransaction(Pa,Il);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(Pa),l=s.objectStore(Il),c=yield ar(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(n.length!==c.size>>>2)throw new Error("data size mismatch");const d=(c.size>>>13)+(c.size%8192>0?1:0);if((d>>>3)+(d%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let h=0;for(let m=0;m<r.length;m++)for(let S=1;S<256&&!(h>=d);S<<=1)r[m]&S&&l.put(n.subarray(2048*h,2048*(h+1)).slice(),[c.id,h]),h++;yield ar(s)}))}kvsGet(t){var n=this;return(0,T.A)(function*(){const[r]=yield n.prepareObjectStore(I_);return ar(r.get(t))})()}kvsSet(t){var n=this;return(0,T.A)(function*(){const[r,o]=yield n.prepareObjectStore(I_);for(const i of Object.keys(t))r.put(t[i],i);yield ar(o)})()}kvsLoad(){var t=this;return(0,T.A)(function*(){const[n]=yield t.prepareObjectStore(I_);return new Promise((r,o)=>{const i={},s=n.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Xu(s.error?.message))})})()}kvsDelete(t){var n=this;return(0,T.A)(function*(){const[r,o]=yield n.prepareObjectStore(I_);r.delete(t),yield ar(o)})()}acquireLock(t){var n=this;return(0,T.A)(function*(){if(n.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield ar(t.objectStore(zh).get(0)))!==J2)throw t.abort(),t.db.close(),Fw})()}newTransaction(...t){var n=this;return(0,T.A)(function*(){const r=(yield n.db).transaction([zh,...t],"readwrite",{durability:"relaxed"});return yield n.acquireLock(r),r})()}prepareObjectStore(t){var n=this;return(0,T.A)(function*(){const r=yield n.newTransaction(t);return[r.objectStore(t),r]})()}loadState(t,n){return ar(t.objectStore(gc).get(n))}saveState(t,n,r){const o=t.objectStore(gc);r?o.put(r,n):o.delete(n)}deleteState(t,n){t.objectStore(gc).delete(n)}loadMemory(t,n,r){return(0,T.A)(function*(){const o=t.objectStore(Qc),i=yield ar(o.get(n));if(!i)return;const s=yield new Promise(function(){var a=(0,T.A)(function*(l,c){const d=t.objectStore(Xc),h=new Uint32Array(i.totalSize>>>2),m=d.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));m.onsuccess=()=>{const S=m.result;if(!S)return l(new Uint8Array(h.buffer));const M=S.value,[,V]=S.key;"number"==typeof M?h.subarray(256*V,256*(V+1)).fill(M|M<<8|M<<16|M<<24):h.subarray(256*V,256*(V+1)).set(1024===M.length?new Uint32Array(M.buffer):M),S.continue()},m.onerror=()=>c(new Xu(m.error?.message))});return function(l,c){return a.apply(this,arguments)}}());if(void 0!==i.crc32&&r&&i.crc32!==j2(s))throw new Error("snapshot CRC mismatch");return s})()}saveMemory(t,n,r,o){const i=t.objectStore(Xc),s=t.objectStore(Qc);s.delete(r),o&&s.put({sessionId:r,totalSize:o.length}),this.savePagedData(i,1024,Y2,r,0,o)}deleteMemory(t,n){const r=t.objectStore(Xc),o=t.objectStore(Qc);this.deletePagedData(r,n),o.delete(n)}saveNand(t,n,r){this.savePagedData(t.objectStore(Jc),4224,Pw,n,255,r)}loadNand(t,n,r){var o=this;return(0,T.A)(function*(){const i=E_(r);if(void 0===i)return;const s=new Uint8Array(i),a=new Uint32Array(s.buffer),l=t.objectStore(Jc);return yield o.loadPagedData(n,l,4224,255,a),s})()}deleteNand(t,n){this.deletePagedData(t.objectStore(Jc),n)}savePagedData(t,n,r,o,i,s){if(i=i|i<<8|i<<16|i<<24,t.delete(IDBKeyRange.bound([o,0],[o+1,0],!1,!0)),!s)return;const a=new Uint32Array(s.buffer,s.byteOffset,s.byteLength>>>2),l=n>>>2,c=(s.length/n|0)+(s.length%n===0?0:1),d=new Uint32Array(l);for(let h=0;h<c;h++){let m=a.subarray(h*l,(h+1)*l);h===c-1&&(d.set(m),m=d);const S=r(m);"number"==typeof S&&(0|S)===i||t.put("number"==typeof S?S:S.slice(),[o,h])}}loadPagedData(t,n,r,o,i){const s=r>>>2;return i.fill(o=o|o<<8|o<<16|o<<24),new Promise((a,l)=>{const c=n.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));c.onsuccess=()=>{const d=c.result;if(!d)return a();let h=d.value;const[,m]=d.key;if("number"==typeof h)i.subarray(m*s,(m+1)*s).fill(h);else{if((m+1)*s>i.length){if((m+1)*s>i.length+s)throw new Error("bad page index");h=h.subarray(0,s-(m+1)*s+i.length)}i.subarray(m*s,(m+1)*s).set(h)}d.continue()},c.onerror=()=>l(new Xu(c.error?.message))})}deletePagedData(t,n){t.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0))}initializeLock(t){return(0,T.A)(function*(){const n=t.transaction(zh,"readwrite");yield ar(n.objectStore(zh).put(J2,0))})()}setupDb(){var t=this;return(0,T.A)(function*(){const n=setTimeout(()=>mo&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(n),o&&void 0!==o.version&&o.version>10)throw Q2}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",10);s.onerror=()=>{i(new Xu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new Xu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,T.A)(function*(l){clearTimeout(n),l.oldVersion<1&&function Ane(e){e.createObjectStore(Wh,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function xne(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(Tw)&&e.deleteObjectStore(Tw),t.objectStore(Wh).clear(),e.createObjectStore("rom"),e.createObjectStore(Tw),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function Mne(e,t){return Aw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function kne(e,t){return xw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function Rne(e,t){return Mw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function Nne(e,t){return kw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function One(e,t){return Rw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function Pne(e,t){return Nw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<10&&(yield function Fne(e,t){return Ow.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(r),r}finally{clearTimeout(n)}})()}requestPersistentStorage(){return(0,T.A)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}static#e=X2=()=>(this.\u0275fac=function(n){return new(n||Jn)(ae(We),ae(Yu),ae(D_))},this.\u0275prov=Qe({token:Jn,factory:Jn.\u0275fac,providedIn:"root"}))}X2(),ie([vo()],Jn.prototype,"addSession",null),ie([vo()],Jn.prototype,"getAllSessions",null),ie([vo()],Jn.prototype,"getSession",null),ie([vo()],Jn.prototype,"deleteSession",null),ie([vo()],Jn.prototype,"updateSessionPartial",null),ie([vo()],Jn.prototype,"updateSession",null),ie([vo()],Jn.prototype,"loadSession",null),ie([vo()],Jn.prototype,"deleteStateForSession",null),ie([vo()],Jn.prototype,"addEmptyStorageCard",null),ie([vo()],Jn.prototype,"importStorageCard",null),ie([vo()],Jn.prototype,"getAllStorageCards",null),ie([vo()],Jn.prototype,"getCard",null),ie([vo()],Jn.prototype,"updateStorageCardPartial",null),ie([vo()],Jn.prototype,"deleteStorageCard",null),ie([vo()],Jn.prototype,"loadCardData",null),ie([vo()],Jn.prototype,"updateCardData",null),ie([vo()],Jn.prototype,"kvsGet",null),ie([vo()],Jn.prototype,"kvsSet",null),ie([vo()],Jn.prototype,"kvsLoad",null),ie([vo()],Jn.prototype,"kvsDelete",null),ie([vo()],Jn.prototype,"newTransaction",null),ie([vo()],Jn.prototype,"prepareObjectStore",null),ie([vo()],Jn.prototype,"initializeLock",null),ie([vo()],Jn.prototype,"setupDb",null);const eL={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,networkRedirectionMode:la.supportsNativeNetworkIntegration()?"native":"proxy",proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Hi=(()=>{var e;class t{constructor(r){var o=this;this.storageService=r,this.set=i=>this.storageMutex.runExclusive((0,T.A)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new fn.J,this.mutex=new Vs,this.storageMutex=new Vs,this.initializationPromise=this.startInitialization().then(()=>this.migrate())}initialize(){var r=this;return(0,T.A)(function*(){return r.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialization(){var r=this;return(0,T.A)(function*(){const o=r;try{const i={...eL,...yield r.storageService.kvsLoad()};r.rawKvs=i,r.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive((0,T.A)(function*(){yield o.storageService.kvsSet({[a]:l})})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),r.kvsProxy={...eL}}})()}migrate(){var r=this;return(0,T.A)(function*(){switch(r.kvs.networkRedirectionMode){case"native":la.supportsNativeNetworkIntegration()||(yield r.set({networkRedirectionMode:"proxy",networkRedirection:!1}));break;case"proxy":break;default:yield r.set({networkRedirectionMode:"proxy"})}})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Jn))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const tL='<a href="https://apps.apple.com/us/app/cloudpilotemu/id6478502699" target="_blank">App Store</a>',jne=`\n    You can install CloudpilotEmu as an app either from the\n    ${tL} or by selecting "Share" and "Add to Home Screen"\n    in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`,Une=`\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app either from the\n    ${tL} or by selecting "Share"\n    and "Add to Home Screen" in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`;let T_=(()=>{var e;class t{constructor(r,o){var i=this;this.kvsService=r,this.alertService=o,this.serviceWorkerKeepalive=(0,T.A)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch(s){console.error(s)}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(mo||wC)&&"web"===this.installationMode}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.alertService.verbatim(this.getInstallMessage()))}invite(){(mo||wC||tf)&&"web"===this.installationMode&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,Object.prototype.hasOwnProperty.call(window,"onbeforeinstallprompt")||this.alertService.message("App available",this.alertService.verbatim(this.getInviteMessage()))))}getInstallMessage(){return mo?jne:'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return mo?Une:tf?'\n    Howdy! It seems that you are running CloudpilotEmu on a Mac. Safari will delete all\n    data after seven days of inactivity. However, you can click the "Share"\n    icon in the browser toolbar and select "Add to dock" to install\n    CloudpilotEmu as an app.\n    <br><br>\n    This will keep Safari from deleting your\n    data.\n':'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?"pwa":document.referrer.startsWith("android-app://")?"twa":window.matchMedia("(display-mode: standalone)").matches?"pwa":"web"}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Hi),ae(Dr))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function Gne(e,t){if(1&e){const n=Cn();B(0,"ion-button",1),$e("click",function(){return pt(n),ht(it().onClick())}),tt(1,"ion-icon",2),H()}if(2&e){const n=it();ue(),he("name",n.iconName)}}let A_=(()=>{var e;class t{constructor(r){this.pwaService=r}onClick(){this.pwaService.install()}get iconName(){return mo?"logo-apple-appstore":wC?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(T_))},this.\u0275cmp=Xe({type:t,selectors:[["app-pwa-prompt"]],standalone:!1,decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(o,i){1&o&&nn(0,Gne,2,1,"ion-button",0),2&o&&he("ngIf",i.show)},dependencies:[To,ss,Ho],encapsulation:2}))}return e(),t})();var nL;function zne(e,t){1&e&&(B(0,"div",12),tt(1,"ion-spinner"),H())}function Wne(e,t){if(1&e){const n=Cn();B(0,"div"),Te(1,"app cached for offline use"),H(),B(2,"a",10),$e("click",function(){return pt(n),ht(it().resetWorker())}),Te(3,"reset worker"),H()}}class qh{constructor(t,n){this.modalController=t,this.serviceWorkerService=n,this.loading=!0}get version(){return Ku}get url(){return Yte}showChangelog(){var t=this;return(0,T.A)(function*(){yield(yield t.modalController.create({component:Zu,componentProps:{url:O2,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}resetWorker(){var t=this;return(0,T.A)(function*(){yield t.serviceWorkerService.reset()})()}static#e=nL=()=>(this.\u0275fac=function(n){return new(n||qh)(_(js),_(w_))},this.\u0275cmp=Xe({type:qh,selectors:[["app-about"]],standalone:!1,decls:22,vars:7,consts:[[3,"translucent"],["slot","secondary"],[3,"fullscreen"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"load","src","disableSanitizer"],[1,"version"],[1,"text-selectable"],["href","javascript:",3,"click"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,r){1&n&&(B(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Te(3,"About"),H(),B(4,"ion-buttons",1),tt(5,"app-pwa-prompt"),H()()(),B(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),Te(10,"About"),H()()(),nn(11,zne,2,0,"div",5),B(12,"div",6)(13,"markdown",7),$e("load",function(){return r.loading=!1}),H()(),B(14,"div",8)(15,"span",9),Te(16),H(),tt(17,"br"),B(18,"a",10),$e("click",function(){return r.showChangelog()}),Te(19,"Changelog"),H(),Gd(20,Wne,4,0),H(),tt(21,"img",11),H()),2&n&&(he("translucent",!0),ue(6),he("fullscreen",!0),ue(5),he("ngIf",r.loading),ue(2),he("src",r.url)("disableSanitizer",!0),ue(3),vi("CloudpilotEmu version ",r.version),ue(4),zd(r.serviceWorkerAvailable?20:-1))},dependencies:[To,as,ls,cs,Oh,us,ds,A_,yw],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:1em;margin-right:1em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}))}nL(),ie([Yn()],qh.prototype,"resetWorker",null);const qne=y.p+"assets/doc/emulation-57fd091f66800f1c.md";function Zne(e,t){if(1&e){const n=Cn();B(0,"ion-item",2),$e("click",function(){const o=pt(n).$implicit;return ht(it(2).onSelect(o))}),B(1,"div",3),Te(2),H()()}if(2&e){const n=t.$implicit,r=t.index,o=it(2);he("detail",!1)("lines",r===o.sessions.length-1?"none":"full"),ue(2),Ps(n.name)}}function Kne(e,t){if(1&e&&(B(0,"ion-list"),nn(1,Zne,3,3,"ion-item",1),H()),2&e){const n=it();ue(),he("ngForOf",n.sessions)}}let Yne=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"click","detail","lines"],[1,"text-wrapper"]],template:function(o,i){1&o&&nn(0,Kne,2,1,"ion-list",0),2&o&&he("ngIf",i.sessions)},dependencies:[Jl,To,Ao,aa],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}))}return e(),t})();var Or=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Or||{});function Zh(e){let t,n,r=!1;return o=>((!r||o!==t)&&(t=o,r=!0,n=e(o)),n)}function Xne(e){switch(e.engine){case"cloudpilot":return{name:"",deviceOrientation:Or.portrait,hotsyncName:"",dontManageHotsyncName:!1,speed:1,...e};case"uarm":return{name:"",deviceOrientation:Or.portrait,disableAudio:!1,maxHostLoad:1,targetMips:100,warnSlowdownThreshold:.5,...e};default:throw new Error("unreachable")}}function oL(e){switch(e.engine){case"cloudpilot":{const{engine:t,name:n,deviceOrientation:r,hotsyncName:o,dontManageHotsyncName:i,speed:s}=e;return{engine:t,name:n,deviceOrientation:r,hotsyncName:o,dontManageHotsyncName:i,speed:s}}case"uarm":{const{engine:t,name:n,deviceOrientation:r,targetMips:o,disableAudio:i,warnSlowdownThreshold:s,maxHostLoad:a}=e;return{engine:t,name:n,deviceOrientation:r,targetMips:o,disableAudio:i,warnSlowdownThreshold:s,maxHostLoad:a}}default:throw new Error("unreachable")}}function iL(e,t){if(e.engine!==t.engine)throw new Error("engine mismatch");return{...e,...t}}function sL(e,t){switch(e){case"cloudpilot":return{engine:e,name:t?.name??"",deviceOrientation:t?.deviceOrientation??Or.portrait,hotsyncName:t?.hotsyncName??"",dontManageHotsyncName:t?.dontManageHotsyncName??!1,speed:t?.speed??1};case"uarm":return{engine:e,name:t?.name??"",deviceOrientation:t?.deviceOrientation??Or.portrait,disableAudio:t?.disableAudio??!1,maxHostLoad:t?.maxHostLoad??1,targetMips:t?.targetMips??100,warnSlowdownThreshold:t?.warnSlowdownThreshold??.5};default:throw new Error("unreachable")}}function Tf(e,t){let n=e,r=1;for(;t(n);)n=`${e} (${r++})`;return n}function Qu(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function aL(e){return`${Qu(e.name)}.img`}function lL(e,t){return`backup_${Qu(e.name)}${t?"_with_rom":""}.zip`}function jw(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}function cL(e){switch(e.engine){case"cloudpilot":{const{name:t,hotsyncName:n,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:n,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}case"uarm":{const{name:t,osVersion:n,deviceOrientation:r,disableAudio:o,targetMips:i,warnSlowdownThreshold:s,maxHostLoad:a}=e;return{name:t,osVersion:n,deviceOrientation:r,disableAudio:o,targetMips:i,warnSlowdownThreshold:s,maxHostLoad:a}}default:throw new Error("unreachable")}}const Kh=new nt("emulator lock"),x_=new nt("cloudpilot instance"),uL=new nt("uarm module");let Yh=(()=>{var e;class t{constructor(r){this.cloudpilot=r}ramSizeForDevice(r,o){var i=this;return(0,T.A)(function*(){switch(r){case q.te2:case q.frankene2:{const s=(yield i.cloudpilot).getRomInfo(o);if("uarm"!==s?.engine)throw new Error(`${r} is OS5, but ROM is invalid`);return s.recommendedRamSize}default:return(yield i.cloudpilot).minRamForDevice(r)}})()}serializeSessionImage(r){return this.cloudpilot.then(o=>o.serializeSessionImage(r))}deserializeSessionImage(r){return this.cloudpilot.then(o=>o.deserializeSessionImage(r))}deviceSupportsCard(r,o){var i=this;return(0,T.A)(function*(){const s=ww(r);if("none"===s)return!1;switch((yield i.cloudpilot).getCardSupportLevel(o)){case 2:return!0;case 1:return"sdcard"===s;default:return!1}})()}getRomInfo(r){return this.cloudpilot.then(o=>o.getRomInfo(r))}getCardSupportLevel(r){return this.cloudpilot.then(o=>o.getCardSupportLevel(r))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(x_))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var nre=y(6778),Af=y.n(nre);const Vw=524288;class Uw{constructor(t,n){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(n))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const r=new t.FSTools;this.chunkBufferPtr=r.Malloc(Vw),t.destroy(r)}static create(t,n){return(0,T.A)(function*(){return new Uw(yield Af()({print:r=>console.log(r),printErr:r=>console.warn(r),instantiateWasm:n}),t)})()}addEntry(t,n){var r=this;return(0,T.A)(function*(){if(!r.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${r.nativeContext.GetLastError()}`);const o=r.module.getPointer(r.chunkBufferPtr);for(let i=0;i<n.length;i+=Vw){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(n.length-i,Vw);if(r.module.HEAPU8.subarray(o,o+s).set(n.subarray(i,i+s)),!r.nativeContext.WriteData(r.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${r.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class Hw{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,T.A)(function*(){return new Hw(yield Af()({print:n=>console.log(n),printErr:n=>console.warn(n),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),n=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==n)return this.module.HEAPU32.subarray(n>>>2,n+t>>>2)}}class Gw{constructor(t,n){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(n>>>9)}static create(t,n){return(0,T.A)(function*(){const r=yield Af()({print:o=>console.log(o),printErr:o=>console.warn(o),instantiateWasm:n});return new Gw(r,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),n=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(n>>>2,n+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),n=m0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+n)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class M_{constructor(t,n){this.module=t,n&&this.initialize(n)}static create(t,n){return(0,T.A)(function*(){const r=yield Af()({print:o=>console.log(o),printErr:o=>console.warn(o),instantiateWasm:t});return new M_(r,n)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const n=new this.module.FSTools;this.bufferPtr&&n.Free(this.bufferPtr),this.bufferPtr=n.Malloc(t.length);const r=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(r,r+t.length).set(t),this.module.destroy(n),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,T.A)(function*(){const n=t.getNativeContext();for(;0===n.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==n.GetState()||(console.error(`gunzip failed: ${n.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),n=t.GetUncompressedSize(),r=t.GetUncompressedData(),o=this.module.getPointer(r);return this.module.HEAPU8.subarray(o,o+n)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class zw{constructor(t,n){this.module=t,void 0!==n&&this.initialize(n)}static create(t,n){return(0,T.A)(function*(){const r=yield Af()({print:o=>console.log(o),printErr:o=>console.warn(o),instantiateWasm:t});return new zw(r,n)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const n=new this.module.FSTools;this.bufferPtr&&n.Free(this.bufferPtr),this.bufferPtr=n.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(n),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,T.A)(function*(){const n=t.getNativeContext();for(n.Continue();1===n.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==n.GetState()||(console.error(`gzip failed: ${n.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),n=t.GetGzipSize(),r=t.GetGzipData(),o=this.module.getPointer(r);return this.module.HEAPU8.subarray(o,o+n)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const dL=new Map;class ire{constructor(t){let n=dL.get(t);n||(n=function rY(e){const t=TP(e);return(n,r)=>{t.then(o=>WebAssembly.instantiate(o,n)).then(o=>r(o))}}(t),dL.set(t,n)),this.instantiante=n}mkfs(t){var n=this;return(0,T.A)(function*(){const r=yield Hw.create(n.instantiante);if(r.mkfs(t))return r.getImage()})()}gunzip(t){var n=this;return(0,T.A)(function*(){const r=yield M_.create(n.instantiante,t);if(yield r.gunzip())return r.getDecompressedData()})()}createGunzipContext(t){return M_.create(this.instantiante,t)}createGzipContext(t){return zw.create(this.instantiante,t)}createFsckContext(t){return Gw.create(t,this.instantiante)}createZipContext(t){return Uw.create(t,this.instantiante)}createZipfileWalker(t){var n=this;return(0,T.A)(function*(){const r=yield Af()({print:a=>console.log(a),printErr:a=>console.warn(a),instantiateWasm:n.instantiante}),o=new r.FSTools,i=o.Malloc(t.length),s=r.getPointer(i);return r.HEAPU8.subarray(s,s+t.length).set(t),r.destroy(o),EP(new r.ZipfileWalker(t.length,i),r)})()}}const sre=y.p+"wasm/fstools_web-0a9aa5c041d6d048.wasm";let k_=(()=>{var e;class t extends ire{constructor(){super(sre)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function are(e,t){1&e&&(B(0,"p",9),Te(1,"ERROR: URL must be served via HTTPS."),H())}function lre(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(rf())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let cre=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(r){"Enter"===r.key&&this.continue()}continue(){this.onContinue(new(rf())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const r=this.formGroup.get("url")?.value;if(!r)return!1;try{const o=new(rf())(r);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Jv({url:new Nr("",lre)})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},standalone:!1,decls:19,vars:3,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown","formGroup"],["lines","inset"],["label","URL","labelPlacement","stacked","placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(o,i){1&o&&(B(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Te(3,"Enter download URL"),H(),B(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.continue()}),Te(6,"OK"),H()(),B(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancel()}),Te(9,"Cancel"),H()()()(),B(10,"ion-content",4)(11,"form",5),$e("keydown",function(a){return i.formKeyDown(a)}),B(12,"p"),Te(13,"Please enter the URL from which to download:"),H(),B(14,"ion-item",6),tt(15,"ion-input",7),H(),nn(16,are,2,0,"p",8),B(17,"p"),Te(18,"Note that the remote server needs to support the CORS protocol."),H()()()),2&o&&(ue(5),he("disabled",i.formGroup.invalid),ue(6),he("formGroup",i.formGroup),ue(5),he("ngIf",i.isMixedContent))},dependencies:[To,ss,as,ls,cs,uc,Ao,us,ds,cc,lc,sc,ac,Oa,El],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}))}return e(),t})(),ure=(()=>{var e;class t{constructor(r){this.kvs=r,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(r){"Enter"===r.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const r=this.kvs.kvs.credentials[this.origin];this.formGroup=new Jv({username:new Nr(r?.username??""),password:new Nr(r?.password??"")})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(Hi))},this.\u0275cmp=Xe({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},standalone:!1,decls:18,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"keydown","formGroup"],["lines","inset"],["label","Username","labelPlacement","stacked","placeholder","Enter username","formControlName","username"],["label","Password","labelPlacement","stacked","placeholder","Enter password","formControlName","password","type","password"]],template:function(o,i){1&o&&(B(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Te(3,"Authenticate"),H(),B(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.saveAndContinue()}),Te(6,"OK"),H()(),B(7,"ion-buttons",2)(8,"ion-button",1),$e("click",function(){return i.onCancel()}),Te(9,"Cancel"),H()()()(),B(10,"ion-content",3)(11,"form",4),$e("keydown",function(a){return i.formKeyDown(a)}),B(12,"p"),Te(13,"The server requires authentication."),H(),B(14,"ion-item",5),tt(15,"ion-input",6),H(),B(16,"ion-item",5),tt(17,"ion-input",7),H()()()),2&o&&(ue(11),he("formGroup",i.formGroup))},dependencies:[ss,as,ls,cs,uc,Ao,us,ds,cc,lc,sc,ac,Oa,El],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}))}return e(),t})(),fL=(()=>{var e;class t{constructor(r,o,i){this.loaderService=r,this.kvsService=o,this.modalController=i}fetch(r,o){var i=this;return(0,T.A)(function*(){const s=o?.loaderDelay??0,a=void 0===o?.timeout?5e3:o?.timeout,l=new(rf())("string"==typeof r?r:r.url);let c=!1;return i.loaderService.showWhile((0,T.A)(function*(){for(;;){const d=i.kvsService.kvs.credentials[l.origin],h=new AbortController,m=window.setTimeout(()=>h.abort(),a);try{const S=yield fetch(r,{...i.requestInit(o),signal:h.signal,headers:{...o?.headers||{},...c&&d?{Authorization:"Basic "+btoa(`${d.username}:${d.password}`)}:{}}});if(clearTimeout(m),401===S.status){if(!c&&d){c=!0;continue}if(c=!0,yield i.authenticate(l.origin))continue}return S}catch(S){throw clearTimeout(m),S}}}),"Loading...",s)})()}requestInit(r){if(!r)return;const{timeout:o,loaderDelay:i,...s}=r;return s}authenticate(r){var o=this;return(0,T.A)(function*(){const i=yield new Promise(s=>o.modalController.create({component:ure,backdropDismiss:!1,componentProps:{origin:r,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(ps),ae(Hi),ae(js))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Tl=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a,this.loaderService=l}openFile(r){this.openFilesImpl(!1,o=>{o.length>0&&r(o[0])})}openFiles(r){this.openFilesImpl(!0,r)}openFromDrop(r,o){"drop"!==r.type||!r.dataTransfer?.files||o(Array.from(r.dataTransfer.files).map(this.readFile.bind(this)))}saveFile(r,o,i="application/octet-stream"){this.saveBlob(r,new Blob([o],{type:i}))}saveBlob(r,o){const i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=r,s.click()}openUrl(r,o){var i=this;return(0,T.A)(function*(){let s,a;try{s=new(rf())(r)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${r}`))}try{if(a=yield i.fetchService.fetch(r,{loaderDelay:-1}),!a.ok)throw new Error("request failed")}catch(c){return console.log(c),void(yield i.alertService.errorMessage(`Download from ${r} failed.`))}const l=a.arrayBuffer().then(c=>new Uint8Array(c));o({name:s.pathname.replace(/.*\//,""),getContent:c=>i.loaderService.showWhile(()=>l,"Loading...",100,c)})})()}openFilesImpl(r,o){var i=this;return(0,T.A)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(r,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(r,o)})()}queryAndOpenFileRemote(r){var o=this;return(0,T.A)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:cre,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>r([s]))})()}openFilesLocal(r,o){var i=this;const s=tf||IN;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=r,this.input.type="file",mo&&!this.kvsService.kvs.dontRestrictFilePicker&&(this.input.accept="application/octet-stream"),this.input.addEventListener("change",function(){var a=(0,T.A)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(r){let o;return{name:r.name,getContent:s=>this.loaderService.showWhile(()=>o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(r)}),o),"Loading...",100,s)}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Lh),ae(Hi),ae(js),ae(Dr),ae(fL),ae(ps))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class hL extends Error{constructor(t){super(t)}}let eu=(()=>{var e;class t{constructor(r,o,i,s,a,l){var c=this;this.nativeSupportService=r,this.storageService=o,this.loaderService=i,this.fsTools=s,this.alertService=a,this.fileService=l,this.addSessionFromImage=(d,h)=>this.loaderService.showWhile(()=>this.doAddSessionFromImage(d,h),"Importing..."),this.addSessionsFromArchive=d=>this.loaderService.showWhile(function(){var h=(0,T.A)(function*(m){try{const S=yield c.fsTools.createZipfileWalker(d);if(-1===S.GetState())return void(yield c.alertService.errorMessage("Import failed: unable to read zip file."));const M=S.GetTotalEntries(),V=new Set(c._sessions().map(at=>at.name));let re=1,pe=!1;const fe=[];for(;0===S.GetState();)try{c.loaderService.updateMessage(m,`Importing ${re++}/${M}...`);const at=/\.(bin|img)$/i.test(S.GetCurrentEntryName())?yield c.nativeSupportService.deserializeSessionImage(S.GetCurrentEntryContent()):void 0;if(!at)throw new hL(`${S.GetCurrentEntryName()} is not a valid session.`);const Tt=Tf(at.metadata?.name??S.GetCurrentEntryName(),Et=>V.has(Et));yield c.doAddSessionFromImage(at,{...sL(at.engine,at.metadata),name:Tt})}catch(at){if(!(at instanceof hL))throw at;fe.push(S.GetCurrentEntryName()),pe||(pe=yield c.alertService.messageWithChoice("Error",at.message,"Skip further errors",pe,{},"Continue"))}finally{S.Next()}fe.length<=3&&fe.length>0?yield c.alertService.errorMessage(`The following files could not be imported: <br><br>${fe.join("<br>")}`):fe.length>3&&(yield c.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${fe.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${fe.length-3} more files.\n                    `))}catch(S){yield c.alertService.errorMessage(`Failed to import sessions: ${S?.message??"unknown error"}.`)}});return function(m){return h.apply(this,arguments)}}(),"Installing..."),this.saveSessions=d=>this.loaderService.showWhile(function(){var h=(0,T.A)(function*(m){const S=yield c.fsTools.createZipContext(0),M=new Set;try{let V=1;for(const re of d){c.loaderService.updateMessage(m,`Exporting ${V++}/${d.length}...`);const pe=yield c.serializeSession(re);if(pe){const fe=Tf(re.name.replace(/[/\\]/,"_").substring(0,200),at=>M.has(at));M.add(fe),yield S.addEntry(fe+".img",pe)}else yield c.alertService.errorMessage(`Failed  to export session '${re.name}'.`,"Continue")}c.fileService.saveFile(function Qne(){return`${Qu("sessions")}.zip`}(),S.getContent())}catch(V){c.alertService.errorMessage(`Failed to export sessions: ${V.message??"unknown error"}`)}});return function(m){return h.apply(this,arguments)}}(),"Exporting..."),this._sessions=gi([]),this._loading=gi(!0),this.updateMutex=new Vs,this.updateSessionsFromStorage().then(()=>this._loading.set(!1)),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}get loading(){return this._loading}addSessionFromRom(r,o,i,s){var a=this;return(0,T.A)(function*(){if(Ew(o)!==i.engine)throw new Error("settings do not match engine");if(s&&s?.length!==E_(o))throw new Error("NAND size mismatch");const c={...i,id:-1,device:o,ram:(yield a.nativeSupportService.ramSizeForDevice(o,r))>>>20,rom:"",wasResetForcefully:!1,nand:E_(o)};return a.loaderService.showWhile((0,T.A)(function*(){const d=yield a.storageService.addSession(c,{rom:r,nand:s});return yield a.updateSessionsFromStorage(),d}),"Importing...")})()}get sessions(){return this._sessions}deleteSession(r){var o=this;return(0,T.A)(function*(){yield o.storageService.deleteSession(r)})()}updateSession(r){var o=this;return(0,T.A)(function*(){yield o.storageService.updateSession(r)})()}saveSession(r){var o=this;return(0,T.A)(function*(){yield o.loaderService.showWhile((0,T.A)(function*(){const i=yield o.serializeSession(r);if(!i)throw new Error("Failed to save session.");o.fileService.saveFile(aL(r),i)}),"Exporting...")})()}emergencySaveSession(r,o,i,s,a){var l=this;return(0,T.A)(function*(){yield l.loaderService.showWhile((0,T.A)(function*(){const c={engine:r.engine,deviceId:r.device,metadata:cL(r),rom:o,memory:i,nand:s,savestate:a},d=yield l.nativeSupportService.serializeSessionImage(c);d&&l.fileService.saveFile(aL(r),d)}),"Exporting...",void 0,{onTop:!0})})()}serializeSession(r){var o=this;return(0,T.A)(function*(){const{rom:i,memory:s,savestate:a,nand:l}=yield o.storageService.loadSession(r,!1);if(!i)throw new Error(`invalid ROM ${r.rom}`);const c={engine:r.engine,deviceId:r.device,metadata:cL(r),rom:i,memory:s,savestate:a,nand:l};return o.nativeSupportService.serializeSessionImage(c)})()}updateSessionsFromStorage(){var r=this;return(0,T.A)(function*(){r._sessions.set(yield r.updateMutex.runExclusive((0,T.A)(function*(){return(yield r.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))})))})()}doAddSessionFromImage(r,o){var i=this;return(0,T.A)(function*(){if(o.engine!==r.engine)throw new Error("settings do not match session type");const s={...o,id:-1,device:r.deviceId,ram:yield i.getRamSizeForSession(r),rom:"",osVersion:r?.metadata?.osVersion,wasResetForcefully:!1},a=yield i.storageService.addSession(s,{rom:r.rom,memory:r.memory,state:r.savestate,nand:r.nand});return yield i.updateSessionsFromStorage(),a})()}getRamSizeForSession(r){var o=this;return(0,T.A)(function*(){return"uarm"===r.engine&&r.memory?r.memory?.length>=32<<20?32:16:(yield o.nativeSupportService.ramSizeForDevice(r.deviceId,r.rom))>>>20})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Yh),ae(Jn),ae(ps),ae(k_),ae(Dr),ae(Tl))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function fre(e,t){if(1&e&&(B(0,"ion-select-option",11),Te(1),H()),2&e){const n=t.$implicit;he("value",n[0]),ue(),vi("",n[1]," ")}}function pre(e,t){if(1&e&&(B(0,"ion-select-option",11),Te(1),H()),2&e){const n=t.$implicit;he("value",n[0]),ue(),vi("",n[1]," ")}}function hre(e,t){if(1&e){const n=Cn();B(0,"ion-item",6)(1,"div",12)(2,"ion-input",13),$e("click",function(){return pt(n),ht(it().onNandClick())}),H(),B(3,"ion-button",1),$e("click",function(){return pt(n),ht(it().onNandClearClick())}),Te(4," Clear "),H()()()}if(2&e){const n=it();ue(2),he("readonly",!0),ue(),he("disabled",!n.formControlNand.value)}}function gre(e,t){if(1&e){const n=Cn();B(0,"h1"),Te(1,"Performance"),H(),B(2,"ion-item",6)(3,"ion-toggle",14),Te(4,"Disable audio emulation"),H()(),B(5,"ion-item",6)(6,"ion-range",15),$e("ionInput",function(o){return pt(n),ht(it().onTargetMipsDrag(o))})("ionKnobMoveEnd",function(){return pt(n),ht(it().targetMipsTransient=void 0)}),H()(),B(7,"ion-item",6)(8,"ion-range",16),$e("ionInput",function(o){return pt(n),ht(it().onWarnSlowdownThresholdDrag(o))})("ionKnobMoveEnd",function(){return pt(n),ht(it().warnSlowdownThresholdTransient=void 0)}),H()(),B(9,"ion-item",6)(10,"ion-range",17),$e("ionInput",function(o){return pt(n),ht(it().onMaxHostLoadDrag(o))})("ionKnobMoveEnd",function(){return pt(n),ht(it().maxHostLoadTransient=void 0)}),H()()}if(2&e){const n=it();ue(6),he("label",Hp(n.targetMipsLabel)),ue(2),he("label",Hp(n.warnSlowdownThresholdLabel)),ue(2),he("label",Hp(n.maxHostLoadLabel))}}function mre(e,t){if(1&e){const n=Cn();B(0,"ion-item",6)(1,"ion-range",18),$e("ionInput",function(o){return pt(n),ht(it().onSpeedDrag(o))})("ionKnobMoveEnd",function(){return pt(n),ht(it().speedTransient=void 0)}),H()()}if(2&e){const n=it();ue(),he("label",Hp(n.speedLabel))}}function vre(e,t){1&e&&(B(0,"ion-item",6),tt(1,"ion-input",21),H())}function _re(e,t){if(1&e&&(B(0,"h1"),Te(1,"Hotsync"),H(),B(2,"ion-item",6)(3,"ion-toggle",19),Te(4,"Manage hotsync name"),H()(),nn(5,vre,2,0,"ion-item",20)),2&e){const n=it();ue(5),he("ngIf",n.showHotsyncNameInput)}}let gL=(()=>{var e;class t{constructor(r,o,i){this.sessionService=r,this.alertService=o,this.fileService=i,this.memoizedDevicelist=Zh(s=>s.map(a=>[a,V2(a)])),this.validateNameUnique=s=>s.value!==this.settings.name&&this.sessionService.sessions().some(a=>a.name===s.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Or.portrait,"Portrait"],[Or.landscape90,"Landscape 90\xb0"],[Or.landscape270,"Landscape 270\xb0"],[Or.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get formControlTargetMips(){return this.formGroup.get("targetMips")}get formControlWarnSlowdownThreshold(){return this.formGroup.get("warnSlowdownThreshold")}get formControlMaxHostLoad(){return this.formGroup.get("maxHostLoad")}get formControlDisableAudioEmulation(){return this.formGroup.get("disableAudioEmulation")}get formControlNand(){return this.formGroup.get("nand")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get isCloudpilot(){return"cloudpilot"===this.settings.engine}get isUarm(){return"uarm"===this.settings.engine}get deviceList(){return this.memoizedDevicelist(this.availableDevices)}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.settings.name=this.formControlName.value,this.settings.deviceOrientation=this.formControlOrientation.value,this.saveCloudpilot(),this.saveUarm(),this.onSave(this.formControlDevice.value,this.nand))}onEnter(){this.save()}get speedValue(){const r=this.speedTransient??this.formControlSpeed.value??0;return r>=0?1+r:1/(1-r)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function pne(e){switch(e){case q.palmPilot:case q.pilot:case q.iii:case q.palmVII:case q.palmVx:case q.palmV:case q.palmVIIEZ:case q.palmVIIx:case q.iiic:case q.iiix:case q.iiixe:case q.iiie:case q.m100:case q.m105:case q.pegS300:case q.pegS500c:return 16;case q.m500:case q.m505:case q.m515:case q.m520:case q.m125:case q.m130:case q.i705:case q.i710:case q.handera330:case q.handera330c:case q.pegS320:case q.pegT400:case q.pegN600c:case q.pegT600c:case q.pegN700c:case q.acerS11:return 33;case q.pegT650c:case q.pegNR70:case q.lp168:return 66;case q.te2:case q.frankene2:return 100}}(this.formControlDevice.value))}MHz`)}get targetMipsValue(){return this.targetMipsTransient??this.formControlTargetMips.value??100}get targetMipsLabel(){return`Target speed: ${this.targetMipsValue} MIPS`}get warnSlowdownThresholdValue(){return this.warnSlowdownThresholdTransient??this.formControlWarnSlowdownThreshold.value??50}get warnSlowdownThresholdLabel(){return`Minimum speed: ${this.warnSlowdownThresholdValue}%`}get maxHostLoadValue(){return this.maxHostLoadTransient??this.formControlMaxHostLoad.value??100}get maxHostLoadLabel(){return`Load limit: ${this.maxHostLoadValue}%`}onSpeedDrag(r){this.speedTransient=r.detail?.value}onTargetMipsDrag(r){this.targetMipsTransient=r.detail?.value}onWarnSlowdownThresholdDrag(r){this.warnSlowdownThresholdTransient=r.detail?.value}onMaxHostLoadDrag(r){this.maxHostLoadTransient=r.detail?.value}onNandClick(){var r=this;this.fileService.openFile(function(){var o=(0,T.A)(function*(i){let s;try{s=yield i.getContent({onTop:!0})}catch(a){return console.warn(a),void(yield r.alertService.errorMessage(`Unable to open ${i.name}.`))}s.length===r.selectNandSize?(r.nand=s,r.formControlNand.setValue(i.name)):r.alertService.errorMessage(`${i.name} is not a valid NAND image.`)});return function(i){return o.apply(this,arguments)}}())}onNandClearClick(){this.nand=void 0,this.formControlNand.setValue(void 0)}createFormGroup(){this.formGroup=new Jv({name:new Nr(this.settings.name,{validators:[bh.required,this.validateNameUnique]}),device:new Nr({value:this.device,disabled:1===this.availableDevices.length}),orientation:new Nr(this.settings.deviceOrientation),manageHotsyncName:new Nr("cloudpilot"===this.settings.engine&&!this.settings.dontManageHotsyncName),hotsyncName:new Nr("cloudpilot"===this.settings.engine?this.settings.hotsyncName:""),speed:new Nr("cloudpilot"===this.settings.engine?this.settings.speed>=1?this.settings.speed-1:1-1/this.settings.speed:0),targetMips:new Nr("uarm"===this.settings.engine?this.settings.targetMips:0),warnSlowdownThreshold:new Nr("uarm"===this.settings.engine?Math.round(100*this.settings.warnSlowdownThreshold):0),maxHostLoad:new Nr("uarm"===this.settings.engine?Math.round(100*this.settings.maxHostLoad):0),disableAudioEmulation:new Nr("uarm"===this.settings.engine&&this.settings.disableAudio),nand:new Nr})}saveCloudpilot(){"cloudpilot"===this.settings.engine&&(this.formControlManageHotsyncName.value?this.settings.dontManageHotsyncName?(this.settings.dontManageHotsyncName=!1,this.settings.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.settings.hotsyncName=this.formControlHotsyncName.value||this.settings.hotsyncName:this.settings.dontManageHotsyncName=!0,this.settings.speed=this.speedValue)}saveUarm(){"uarm"===this.settings.engine&&(this.settings.targetMips=this.targetMipsValue,this.settings.warnSlowdownThreshold=this.warnSlowdownThresholdValue/100,this.settings.maxHostLoad=this.maxHostLoadValue/100,this.settings.disableAudio=this.formControlDisableAudioEmulation.value)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(eu),_(Dr),_(Tl))},this.\u0275cmp=Xe({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",settings:"settings",availableDevices:"availableDevices",device:"device",selectNandSize:"selectNandSize"},standalone:!1,decls:28,vars:12,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Session name","labelPlacement","stacked","placeholder","Enter session name","formControlName","name"],["label","Device type","labelPlacement","stacked","formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["label","Orientation","labelPlacement","stacked","formControlName","orientation"],[3,"value"],[1,"nand-container"],["label","NAND flash contents","labelPlacement","stacked","placeholder","blank","formControlName","nand","tabindex","-1",1,"input-nand",3,"click","readonly"],["labelPlacement","fixed","formControlName","disableAudioEmulation"],["labelPlacement","fixed","min","20","max","300","step","1","snaps","true","ticks","false","formControlName","targetMips",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","min","0","max","100","step","1","snaps","true","ticks","false","formControlName","warnSlowdownThreshold",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","min","10","max","100","step","1","snaps","true","ticks","false","formControlName","maxHostLoad",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],["label","Hotsync name","labelPlacement","stacked","placeholder","Enter hotsync name","formControlName","hotsyncName","maxlength","40"]],template:function(o,i){1&o&&(B(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Te(3,"Session settings"),H(),B(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.save()}),Te(6,"Save"),H()(),B(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancel()}),Te(9,"Cancel"),H()()()(),B(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return i.onEnter()}),B(12,"h1"),Te(13,"Session"),H(),B(14,"ion-item",6),tt(15,"ion-input",7),H(),B(16,"h1"),Te(17,"Device"),H(),B(18,"ion-item",6)(19,"ion-select",8),nn(20,fre,2,2,"ion-select-option",9),H()(),B(21,"ion-item",6)(22,"ion-select",10),nn(23,pre,2,2,"ion-select-option",9),H()(),Gd(24,hre,5,2,"ion-item",6),Gd(25,gre,11,6),Gd(26,mre,2,2,"ion-item",6),Gd(27,_re,6,1),H()()),2&o&&(ue(5),he("disabled",i.formGroup.invalid),ue(5),ia("engine-uarm",i.isUarm)("engine-cloudpilot",i.isCloudpilot),ue(),he("formGroup",i.formGroup),ue(9),he("ngForOf",i.deviceList),ue(3),he("ngForOf",i.orientations),ue(),zd(i.isUarm&&void 0!==i.selectNandSize?24:-1),ue(),zd(i.isUarm?25:-1),ue(),zd(i.isCloudpilot?26:-1),ue(),zd(i.isCloudpilot?27:-1))},dependencies:[Jl,To,ss,as,ls,cs,uc,Ao,J0,Rh,Nh,us,Ph,ds,Ef,Q0,kh,cc,lc,sc,ac,z0,Oa,El],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.engine-cloudpilot[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]::part(label){min-width:7.5rem}.engine-uarm[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]::part(label){min-width:11rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.nand-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.nand-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}.nand-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{max-height:1.5em;align-self:end}ion-toggle[_ngcontent-%COMP%]{padding-right:0}.input-nand[_ngcontent-%COMP%]     *{cursor:pointer!important}"]}))}return e(),t})();class mL{constructor(t,n){this.queue=new Array(t).fill(0),this.reset(n)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let n=0;n<this.size;n++)t+=this.queue[n];return t/this.size}}class yre{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const bre=[135,135,105],Sre=[0,0,0],tu=new Array(16).fill(0).map((e,t)=>Sre.map((n,r)=>Math.floor((t*n+(15-t)*bre[r])/15))).map(([e,t,n])=>4278190080|n<<16|t<<8|e),Ww=tu.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var qw=y(8081);const vL=new WeakMap,wre=e=>({...e,connect:({call:t})=>(0,T.A)(function*(){const{port1:n,port2:r}=new MessageChannel,o=yield t("connect",{port:n},[n]);return vL.set(r,o),r}),disconnect:({call:t})=>function(){var n=(0,T.A)(function*(r){const o=vL.get(r);if(void 0===o)throw new Error("The given port is not connected.");yield t("disconnect",{portId:o})});return function(r){return n.apply(this,arguments)}}(),isSupported:({call:t})=>()=>t("isSupported")}),Zw=new WeakMap,Ju=new Map([[0,null]]),ed=new Map([[0,null]]),Ire=(e=>{const t=wre(e);return n=>{const r=(e=>{if(Zw.has(e))return Zw.get(e);const t=new Map;return Zw.set(e,t),t})(n);n.addEventListener("message",({data:a})=>{const{id:l}=a;if(null!==l&&r.has(l)){const{reject:c,resolve:d}=r.get(l);r.delete(l),void 0===a.error?d(a.result):c(new Error(a.error.message))}}),(e=>"function"==typeof e.start)(n)&&n.start();const o=(a,l=null,c=[])=>new Promise((d,h)=>{const m=(0,qw.generateUniqueNumber)(r);r.set(m,{reject:h,resolve:d}),n.postMessage(null===l?{id:m,method:a}:{id:m,method:a,params:l},c)}),i=(a,l,c=[])=>{n.postMessage({id:null,method:a,params:l},c)};let s={};for(const[a,l]of Object.entries(t))s={...s,[a]:l({call:o,notify:i})};return{...s}}})({clearInterval:({call:e})=>t=>{"symbol"==typeof Ju.get(t)&&(Ju.set(t,null),e("clear",{timerId:t,timerType:"interval"}).then(()=>{Ju.delete(t)}))},clearTimeout:({call:e})=>t=>{"symbol"==typeof ed.get(t)&&(ed.set(t,null),e("clear",{timerId:t,timerType:"timeout"}).then(()=>{ed.delete(t)}))},setInterval:({call:e})=>(t,n=0,...r)=>{const o=Symbol(),i=(0,qw.generateUniqueNumber)(Ju);Ju.set(i,o);const s=()=>e("set",{delay:n,now:performance.timeOrigin+performance.now(),timerId:i,timerType:"interval"}).then(()=>{const a=Ju.get(i);if(void 0===a)throw new Error("The timer is in an undefined state.");a===o&&(t(...r),Ju.get(i)===o&&s())});return s(),i},setTimeout:({call:e})=>(t,n=0,...r)=>{const o=Symbol(),i=(0,qw.generateUniqueNumber)(ed);return ed.set(i,o),e("set",{delay:n,now:performance.timeOrigin+performance.now(),timerId:i,timerType:"timeout"}).then(()=>{const s=ed.get(i);if(void 0===s)throw new Error("The timer is in an undefined state.");s===o&&(ed.delete(i),t(...r))}),i}}),R_=(()=>{let n=null;return()=>{if(null!==n)return n;const r=new Blob(['(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<s?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*s);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,u=r(i),c=a(u,i),l=t(c);e.addUniqueNumber=l,e.generateUniqueNumber=c}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,o=(e,t)=>Object.assign(new Error(e),{status:t}),s=t=>o(\'The handler of the method called "\'.concat(t,\'" returned an unexpected result.\'),e),a=(t,r)=>async({data:{id:a,method:i,params:u}})=>{const c=r[i];try{if(void 0===c)throw(e=>o(\'The requested method called "\'.concat(e,\'" is not supported.\'),n))(i);const r=void 0===u?c():c(u);if(void 0===r)throw(t=>o(\'The handler of the method called "\'.concat(t,\'" returned no required result.\'),e))(i);const l=r instanceof Promise?await r:r;if(null===a){if(void 0!==l.result)throw s(i)}else{if(void 0===l.result)throw s(i);const{result:e,transferables:r=[]}=l;t.postMessage({id:a,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:a})}};var i=r(455);const u=new Map,c=(e,r,n)=>({...r,connect:({port:t})=>{t.start();const n=e(t,r),o=(0,i.generateUniqueNumber)(u);return u.set(o,()=>{n(),t.close(),u.delete(o)}),{result:o}},disconnect:({portId:e})=>{const r=u.get(e);if(void 0===r)throw(e=>o(\'The specified parameter called "portId" with the given value "\'.concat(e,\'" does not identify a port connected to this worker.\'),t))(e);return r(),{result:null}},isSupported:async()=>{if(await new Promise(e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])})){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),l=(e,t,r=()=>!0)=>{const n=c(l,t,r),o=a(e,n);return e.addEventListener("message",o),()=>e.removeEventListener("message",o)},d=(e,t)=>r=>{const n=t.get(r);if(void 0===n)return Promise.resolve(!1);const[o,s]=n;return e(o),t.delete(r),s(!1),Promise.resolve(!0)},f=(e,t,r,n)=>(o,s,a)=>{const i=o+s-t.timeOrigin,u=i-t.now();return new Promise(t=>{e.set(a,[r(n,u,i,e,t,a),t])})},m=new Map,h=d(globalThis.clearTimeout,m),p=new Map,v=d(globalThis.clearTimeout,p),w=((e,t)=>{const r=(n,o,s,a)=>{const i=n-e.now();i>0?o.set(a,[t(r,i,n,o,s,a),s]):(o.delete(a),s(!0))};return r})(performance,globalThis.setTimeout),g=f(m,performance,globalThis.setTimeout,w),T=f(p,performance,globalThis.setTimeout,w);l(self,{clear:async({timerId:e,timerType:t})=>({result:await("interval"===t?h(e):v(e))}),set:async({delay:e,now:t,timerId:r,timerType:n})=>({result:await("interval"===n?g:T)(e,t,r)})})})()})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return n=(e=>{const t=new Worker(e);return Ire(t)})(o),setTimeout(()=>URL.revokeObjectURL(o)),n}})();class _L{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return 0}}class xre{constructor(t,n=60){this.callback=t,this.fps=n}schedule(){if(void 0!==this.handle)return;const t=performance.now(),n=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((...e)=>R_().setTimeout(...e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(n-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,R_().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return 1}}class yL{constructor(){this.onFrameComplete=()=>{this.transport&&this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()})},this.receiveEvent=new fn.J,this.dispatchEvent=new fn.J,this.isSync=!1}bind(t){this.transport!==t&&(this.unbind(),t.frameCompleteEvent.addHandler(this.onFrameComplete),t.SetModeSync(this.isSync),this.transport=t)}unbind(){this.transport&&(this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete),this.transport=void 0)}send(t,n){if(this.transport){if(!this.transport.IsOpen()&&this.transport.GetModeSync())return void this.receiveEvent.dispatch({data:void 0,isFrameComplete:!0});this.transport.Send(t,n),setTimeout(()=>this.dispatchEvent.dispatch(),0)}}setModeSync(t){this.isSync=t,this.transport?.SetModeSync(t)}getModeSync(){return this.transport?.GetModeSync()??!1}dispatch(){if(!this.transport)return;const t=this.transport.RxBytesPending();0!==t&&(this.transport.GetModeSync()&&t<1024||this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()}))}}class kre{constructor(){this.timer=0}reset(){this.timer=0}exec(t){const n=performance.now();try{return t()}finally{this.timer+=performance.now()-n}}get(){return this.timer}}class Rre{constructor(t){this.cloudpilotInstance=t,this.materialize=()=>this.timed.exec(()=>{if(this.cloudpilotInstance.isSuspended())return this.state="idle",!1;switch(this.state){case"scheduled":break;case"materialized":this.mergeBack();break;default:throw new Error(`bad snapshot state in materialize: ${this.state}`)}if(!this.snapshotMemory)throw new Error("snapshot not initialized");this.materializeSnapshot(this.snapshotMemory,this.cloudpilotInstance.getDirtyPages(),this.cloudpilotInstance.getMemory32()),this.updateMemoryCrc(),this.size=this.snapshotMemory.pageCount*this.snapshotMemory.pageSize*4;const n=this.cloudpilotInstance.getMountedKey()||void 0;if(this.updateSnapshotStorage(n),this.snapshotStorage){if(void 0===this.storageKey)throw new Error("unreachable");const r=this.cloudpilotInstance.getCardDirtyPages(this.storageKey),o=this.cloudpilotInstance.getCardData(this.storageKey);if(void 0===r||void 0===o)throw new Error(`storage key ${this.storageKey} not registered`);this.materializeSnapshot(this.snapshotStorage,r,o),this.size+=this.snapshotStorage.pageCount*this.snapshotStorage.pageSize*4}return this.savestate=this.cloudpilotInstance.saveState()?this.cloudpilotInstance.getSavestate():void 0,this.size+=this.savestate?.length??0,this.state="materialized",!0}),this.snapshotSuccessEvent=new fn.J,this.snapshotReleaseEvent=new fn.J,this.state="idle",this.memoryCrcCheck=!1,this.timed=new kre,this.timestampStart=0,this.size=0}initializeMemory(){const t=this.cloudpilotInstance.getMemory32(),n=t.length>>>8;this.snapshotMemory={pageSize:256,pageCount:0,pageCountTotal:n,pages:new Uint32Array(n),offsets:new Uint32Array(n),pageData:t}}schedule(t){if("idle"!==this.state)throw new Error("snapshot already in progress");return this.state="scheduled",this.memoryCrcCheck=t,this.timed.reset(),this.timestampStart=Date.now(),this}isIdle(){return"idle"===this.state}getStorageKey(){return this.storageKey}refresh(){return(0,T.A)(function*(){})()}release(t,n,r){try{this.timed.exec(()=>{const o=this.state;this.state="idle","materialized"===o&&(t||this.mergeBack())}),this.snapshotSuccessEvent.dispatch({size:this.size,timeBlocking:n+this.timed.get(),timeTotal:n+r+this.timed.get(),timestamp:this.timestampStart})}finally{this.snapshotReleaseEvent.dispatch()}}getSnapshotMemory(){if(!this.snapshotMemory)throw new Error("snapshot not initialized");if("materialized"!==this.state)throw new Error("snapshot not materialized");return this.snapshotMemory}getSnapshotNand(){}getSnapshotStorage(){if("materialized"!==this.state)throw new Error("snapshot not materialized");return this.snapshotStorage}getSavestate(){if("materialized"!==this.state||!this.savestate)throw new Error("snapshot not materialized");return this.savestate}getMemoryCrc(){return this.memoryCrc}mergeBackSnapshot(t,n){for(let r=0;r<t.pageCount;r++){const o=t.pages[r];n[o>>>3]|=1<<(7&o)}}mergeBack(){if(!this.snapshotMemory)throw new Error("snapshot not materialized");if(this.mergeBackSnapshot(this.snapshotMemory,this.cloudpilotInstance.getDirtyPages()),this.snapshotStorage){if(void 0===this.storageKey)throw new Error("unreachable");const t=this.cloudpilotInstance.getCardDirtyPages(this.storageKey);void 0===t?console.warn(`seems like storage ${this.storageKey} was ejected; nothing to merge back, changes are lost`):this.mergeBackSnapshot(this.snapshotStorage,t)}}materializeSnapshot(t,n,r){const{pageCountTotal:o,pageSize:i,pages:s,offsets:a}=t;let l=0,c=0;for(let d=0;d<n.length;d++){const h=n[d];if(n[d]=0,0!==h)for(let m=1;m<256&&!(c>=o);m<<=1)h&m&&(s[l]=c,a[l]=c*i,l++),c++;else c+=8}t.pageCount=l,t.pageData=r}updateMemoryCrc(){if(this.memoryCrcCheck){const t=this.cloudpilotInstance.getMemory32();this.memoryCrc=j2(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}else this.memoryCrc=void 0}updateSnapshotStorage(t){if(this.storageKey===t||(this.storageKey=t,this.snapshotStorage=void 0,void 0===t))return;const n=this.cloudpilotInstance.getCardData(t);if(!n)throw new Error(`storage key ${t} not registered`);const r=n.length>>>11;this.snapshotStorage={pageSize:2048,pageCount:0,pageCountTotal:r,pages:new Uint32Array(r),offsets:new Uint32Array(r),pageData:n}}}class Bre{constructor(t,n,r){this.cloudpilotInstance=t,this.clandestineExecute=n,this.settings=r,this.type="cloudpilot",this.onPwmUpdate=o=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(o):this.pendingPwmUpdates.push(o)},this.onSerialPortDispatch=()=>{this.processTimesliceNow()},this.onSchedule=o=>{this.cloudpilotInstance.isScreenDirty()&&this.newFrameEvent.dispatch(),this.pendingPwmUpdates.count()>0&&o-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=o),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(o)},0)),this.timePerFrameAverage.push(Math.max(0,o-this.timestampLastFrame)),this.timestampLastFrame=o,this.schedule()},this.onSnapshotRelease=()=>{0!==this.snapshotReleaseCallbacks.length&&(this.snapshotReleaseCallbacks.forEach(o=>o()),this.snapshotReleaseCallbacks=[])},this.pwmUpdateEvent=new fn.J,this.configuredHotsyncNameUpdateEvent=new fn.J,this.newFrameEvent=new fn.J,this.timesliceEvent=new fn.J,this.suspendEvent=new fn.J,this.snapshotEvent=new fn.J,this.palmosStateChangeEvent=new fn.J,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.suspended=!1,this.emulationSpeed=1,this.speedAverage=new mL(20),this.timePerFrameAverage=new mL(60),this.timestampLastFrame=0,this.frameCounter=0,this.clockEmulator=0,this.scheduler=new _L(o=>this.onSchedule(o)),this.serialPortIR=new yL,this.serialPortSerial=new yL,this.pendingPwmUpdates=new yre(10),this.lastPwmUpdateEvent=0,this.canvasTmp=document.createElement("canvas"),this.serialSyncStartedAt=0,this.lastSnapshotAt=0,this.snapshotReleaseCallbacks=[],this.snapshotContainer=new Rre(t),this.snapshotContainer.snapshotReleaseEvent.addHandler(this.onSnapshotRelease),t.clearExternalStorage(),this.serialPortIR.bind(t.getTransportIR()),this.serialPortSerial.bind(t.getTransportSerial()),this.serialPortIR.dispatchEvent.addHandler(this.onSerialPortDispatch),this.serialPortSerial.dispatchEvent.addHandler(this.onSerialPortDispatch),t.pwmUpdateEvent.addHandler(this.onPwmUpdate)}supportsKeyboardIO(){return!0}shutdown(){this.serialPortIR.unbind(),this.serialPortSerial.unbind(),this.serialPortIR.dispatchEvent.removeHandler(this.onSerialPortDispatch),this.serialPortSerial.dispatchEvent.removeHandler(this.onSerialPortDispatch),this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate)}get fatalError(){return this.cloudpilotInstance.fatalErrorEvent}get snapshotSuccessEvent(){return this.snapshotContainer.snapshotSuccessEvent}penDown(t,n){this.cloudpilotInstance.queuePenMove(t,n)}penUp(){this.cloudpilotInstance.queuePenUp()}buttonDown(t){this.cloudpilotInstance.queueButtonDown(t)}buttonUp(t){this.cloudpilotInstance.queueButtonUp(t)}keyStroke(t){this.cloudpilotInstance.queueKeyboardEvent(t)}reset(){this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isLcdEnabled(){return!this.isPowerOff()}isUIInitialized(){return this.uiInitialized}isSuspended(){return this.suspended}isSlowdown(){return this.emulationSpeed<1}getDeviceId(){return this.deviceId??q.m515}openSession(t,n,r,o,i,s){var a=this;return(0,T.A)(function*(){if(r)throw new Error("Cloudpilot devices do not support NAND");let l=!1;if(a.cloudpilotInstance.clearExternalStorage(),s&&(yield s.load(a)),!a.cloudpilotInstance.initializeSession(t,n))return!1;o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(l=a.cloudpilotInstance.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),l||console.warn("failed to load memory"))),l&&i&&a.cloudpilotInstance.loadState(i),a.cloudpilotInstance.remountCards(),void 0===a.cloudpilotInstance.getMountedKey()&&s&&!a.cloudpilotInstance.remountFailed()&&a.cloudpilotInstance.mountCard(s.storageKey),a.deviceId=n,a.speedAverage.reset(1),a.powerOff=a.cloudpilotInstance.isPowerOff(),a.uiInitialized=a.cloudpilotInstance.isUiInitialized();const c=Gh(n);return a.canvasTmp.width=c.width,a.canvasTmp.height=c.height,a.snapshotContainer.initializeMemory(),!0})()}resume(){var t=this;return(0,T.A)(function*(){t.running||(t.clockEmulator=performance.now(),t.schedule(),t.running=!0,t.resetFPS())})()}stop(){var t=this;return(0,T.A)(function*(){t.running&&(t.scheduler.cancel(),void 0!==t.advanceEmulationHandle&&(window.clearTimeout(t.advanceEmulationHandle),t.advanceEmulationHandle=void 0),t.running=!1)})()}processTimesliceNow(){this.advanceEmulation(performance.now())}requestSnapshot(){var t=this;return(0,T.A)(function*(){return t.snapshotContainer.schedule(t.settings.memoryCrc)})()}waitForPendingSnapshot(){var t=this;return(0,T.A)(function*(){if(!t.snapshotContainer.isIdle())return new Promise(n=>t.snapshotReleaseCallbacks.push(n))})()}blitFrame(t){if(!this.cloudpilotInstance.isScreenDirty()||this.cloudpilotInstance.isPowerOff())return;const n=this.cloudpilotInstance.getFrame();if(!n.hasChanges)return;if(n.lines*n.scaleY===t.height&&n.lineWidth*n.scaleX===t.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const s=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const a=tu[15],l=tu[0];let c=0;for(let d=n.firstDirtyLine;d<=n.lastDirtyLine;d++){const h=d*n.bytesPerLine;for(let m=n.margin;m<n.lineWidth+n.margin;m++)s[c++]=n.buffer[h+(m>>>3)]&128>>>(7&m)?a:l}break}case 2:{const a=this.cloudpilotInstance.getPalette2bitMapping(),l=[tu[15&a],tu[a>>>4&15],tu[a>>>8&15],tu[a>>>12&15]];let c=0;for(let d=n.firstDirtyLine;d<=n.lastDirtyLine;d++){const h=d*n.bytesPerLine;for(let m=n.margin;m<n.lineWidth+n.margin;m++)s[c++]=l[n.buffer[h+(m>>>2)]>>6-2*(3&m)&3]}break}case 4:{let a=0;for(let l=n.firstDirtyLine;l<=n.lastDirtyLine;l++){const c=l*n.bytesPerLine;for(let d=n.margin;d<n.lineWidth+n.margin;d++)s[a++]=tu[n.buffer[c+(d>>>1)]>>>4-4*(1&d)&15]}break}case 24:{const a=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)s.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(a.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let l=0;for(let c=n.firstDirtyLine;c<=n.lastDirtyLine;c++){let d=c*(n.bytesPerLine>>>2)+n.margin;for(let h=0;h<n.lineWidth;h++)s[l++]=a[d++]}}}}}if(!this.imageData)return;const r=1!==n.scaleX||1!==n.scaleY,o=t.getContext("2d"),i=r?this.canvasTmp.getContext("2d"):void 0;if(!o||r&&!i)throw new Error("unable to retrieve rendering context");(r?i:o).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),r&&(o.imageSmoothingEnabled=!1,o.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.cloudpilotInstance.markScreenClean(),this.frameCounter++}updateSettings(t){this.cloudpilotInstance.getClipboardIntegration()!==t.clipboardIntegration&&this.cloudpilotInstance.setClipboardIntegration(t.clipboardIntegration),this.cloudpilotInstance.getNetworkRedirection()!==t.networkIntegration&&this.cloudpilotInstance.setNetworkRedirection(this.settings.networkIntegration),this.cloudpilotInstance.setHotsyncNameManagement(t.manageHotsyncName),this.settings=t}allocateCard(t,n){if(!this.cloudpilotInstance.allocateCard(t,n))throw new Error(`failed to allocate card "${t}" @ ${n} bytes`);const r=this.cloudpilotInstance.getCardData(t);if(!r)throw new Error(`failed to get card data for key ${t}`);return r}releaseCard(t){var n=this;return(0,T.A)(function*(){n.cloudpilotInstance.removeCard(t)||console.warn(`failed to release card for key ${t}`)})()}getMountedKey(){var t=this;return(0,T.A)(function*(){return t.cloudpilotInstance.getMountedKey()})()}getCardData(t){var n=this;return(0,T.A)(function*(){return n.cloudpilotInstance.getCardData(t)})()}mountCard(t){var n=this;return(0,T.A)(function*(){return n.cloudpilotInstance.mountCard(t)})()}getFullState(){var t=this;return(0,T.A)(function*(){if(void 0!==t.deviceId)return t.cloudpilotInstance.saveState(),{rom:t.cloudpilotInstance.getRomImage().slice(),memory:t.cloudpilotInstance.getMemory().slice(),savestate:t.cloudpilotInstance.getSavestate().slice()}})()}getSerialPortSerial(){return this.serialPortSerial}getSerialPortIR(){return this.serialPortIR}getStatistics(){return{type:"cloudpilot",hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getOSVersion(){return this.cloudpilotInstance.getOSVersion()}installDb(t){var n=this;return(0,T.A)(function*(){return n.cloudpilotInstance.installDb(t)})()}backup(t){var n=this;return(0,T.A)(function*(){return n.cloudpilotInstance.backup(function(){var r=(0,T.A)(function*(o){const i=[];for(o.Init(t);o.IsInProgress();){const a=o.GetCurrentDatabase();o.Save()||i.push(a),yield new Promise(l=>setTimeout(l,0))}const s=n.cloudpilotInstance.getArchive(o);return s?{archive:s,failedDatabases:i}:void 0});return function(o){return r.apply(this,arguments)}}())})()}schedule(){this.scheduler.cancel(),this.settings.schedulerKind!==this.scheduler.getKind()&&(this.scheduler=0===this.settings.schedulerKind?new _L(t=>this.onSchedule(t)):new xre(t=>this.onSchedule(t))),this.clandestineExecute(()=>this.scheduler.schedule())}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const n=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=n<=this.emulationSpeed||t-n>=.05?n:this.emulationSpeed}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.settings.hotsyncName;void 0===t?this.configuredHotsyncNameUpdateEvent.dispatch(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}advanceEmulation(t){if(!this.isRunning||t<this.clockEmulator)return;this.cloudpilotInstance.isSuspended()&&5===this.cloudpilotInstance.getSuspendKind()&&t-this.serialSyncStartedAt>250&&(console.log("serial sync timeout, waking emulator"),this.cloudpilotInstance.getSuspendContextSerialSync().Cancel());const n=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.settings.speed),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i,c=Math.max(a,l);this.clockEmulator+=c,this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!n&&(5===this.cloudpilotInstance.getSuspendKind()?this.serialSyncStartedAt=performance.now():this.suspendEvent.dispatch());const d=this.cloudpilotInstance.isPowerOff(),h=this.cloudpilotInstance.isUiInitialized();(d!==this.powerOff||h!==this.uiInitialized)&&(this.powerOff=d,this.uiInitialized=h,this.palmosStateChangeEvent.dispatch()),h&&!d&&this.settings.manageHotsyncName&&!r&&this.checkAndUpdateHotsyncName(),this.serialPortIR.dispatch(),this.serialPortSerial.dispatch(),this.settings.automaticSnapshotInterval>0&&t-this.lastSnapshotAt>this.settings.automaticSnapshotInterval&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotContainer.isIdle()&&this.snapshotEvent.dispatch(this.snapshotContainer.schedule(this.settings.memoryCrc)),this.lastSnapshotAt=t),this.timesliceEvent.dispatch(c)}}class jre{constructor(t){this.dispatchMessage=t,this.nextRpcId=0,this.pendingCalls=new Map}call(t,n,r){return new Promise((o,i)=>{const s=this.nextRpcId++;this.pendingCalls.set(s,{resolve:o,reject:i}),this.dispatchMessage({type:"rpcCall",id:s,method:t,args:n},r)})}dispatchRpcMessage(t){switch(t.type){case"rpcSuccess":this.getContext(t.id).resolve(t.result);break;case"rpcError":this.getContext(t.id).reject(t.error)}}getContext(t){const n=this.pendingCalls.get(t);if(!n)throw new Error(`RPC failed: no context with ID ${t}`);return this.pendingCalls.delete(t),n}}function Kw(e){return e?[e.pagePool,e.scheduledPages]:[]}class Vre{constructor(t,n,r,o){if(this.rpcHost=r,this.dispatch=o,this.snapshotSuccessEvent=new fn.J,this.savestate=new Uint8Array,this.sdSize=0,t%1024!=0)throw new Error("invalid memory size");if(n%4224!=0)throw new Error("invalid NAND size");const i=t>>>10,s=new Uint32Array(i);for(let c=0;c<i;c++)s[c]=256*c;this.snapshotMemory={pageCount:0,pageCountTotal:i,offsets:s,pages:new Uint32Array,pageData:new Uint32Array,pageSize:256};const a=n/4224|0,l=new Uint32Array(a);for(let c=0;c<a;c++)l[c]=1056*c;this.snapshotNand={pageCount:0,pageCountTotal:a,offsets:l,pages:new Uint32Array,pageData:new Uint32Array,pageSize:1056}}schedule(t){if(this.uarmSnapshot)throw new Error("snapshot already pending");return t.memory&&this.updateSnapshot(this.snapshotMemory,t.memory),t.nand&&this.updateSnapshot(this.snapshotNand,t.nand),this.updateSnapshotSd(t),this.savestate=new Uint8Array(t.savestate),this.uarmSnapshot=t,this}materialize(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return!0}refresh(){var t=this;return(0,T.A)(function*(){if(!t.uarmSnapshot)throw new Error("no pending snapshot");const n=t.uarmSnapshot;t.uarmSnapshot=void 0,t.schedule(yield t.rpcHost.call("refreshSnapshot",n))})()}release(t,n,r){if(!this.uarmSnapshot)throw new Error("no pending snapshot");let o=1024*(this.uarmSnapshot.memory?.scheduledPageCount??0)+4224*(this.uarmSnapshot.nand?.scheduledPageCount??0)+this.uarmSnapshot.savestate.byteLength;this.uarmSnapshot.sd&&(o+=8192*this.uarmSnapshot.sd.snapshot.scheduledPageCount),this.dispatch({type:"returnSnapshot",snapshot:this.uarmSnapshot,success:t},[...Kw(this.uarmSnapshot.memory),...Kw(this.uarmSnapshot.nand),...Kw(this.uarmSnapshot.sd?.snapshot),this.uarmSnapshot.savestate]);const i=this.uarmSnapshot.time,s=i+r+n,a=this.uarmSnapshot.timestamp;this.uarmSnapshot=void 0,this.snapshotSuccessEvent.dispatch({size:o,timeBlocking:i,timeTotal:s,timestamp:a})}getStorageKey(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.sd?.key}getSnapshotMemory(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.memory?this.snapshotMemory:void 0}getSnapshotNand(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.nand?this.snapshotNand:void 0}getSnapshotStorage(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.sd?this.snapshotSd:void 0}getMemoryCrc(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.memory?.crc}getSavestate(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.savestate}updateSnapshot(t,n){t.pageCount=n.scheduledPageCount,t.pages=new Uint32Array(n.scheduledPages),t.pageData=new Uint32Array(n.pagePool)}updateSnapshotSd(t){if(t.sd){if(this.snapshotSd||(this.snapshotSd={pageCount:0,pageCountTotal:0,offsets:new Uint32Array,pages:new Uint32Array,pageData:new Uint32Array,pageSize:2048}),this.sdSize!==t.sd.size){this.snapshotSd.pageCountTotal=t.sd.size>>>13,t.sd.size>this.snapshotSd.pageCountTotal<<13&&this.snapshotSd.pageCountTotal++,this.snapshotSd.offsets=new Uint32Array(this.snapshotSd.pageCountTotal);for(let n=0;n<this.snapshotSd.pageCountTotal;n++)this.snapshotSd.offsets[n]=2048*n;this.sdSize=t.sd.size}this.updateSnapshot(this.snapshotSd,t.sd.snapshot)}}}class Yw{constructor(t,n,r){this.worker=t,this.settings=n,this.type="uarm",this.dispatchMessage=(o,i)=>{this.worker.postMessage(o,i)},this.onVisibilityChange=()=>{"hidden"===document.visibilityState?this.dispatchMessage({type:"setBackgrounded",backgrounded:!0}):this.dispatchMessage({type:"setBackgrounded",backgrounded:!1})},this.onMessage=o=>{const i=o.data;switch(i.type){case"ready":return this.fatal("duplicate ready event");case"rpcError":case"rpcSuccess":return this.rpcHost.dispatchRpcMessage(i);case"fatalError":return this.fatal(i.error);case"timeslice":{this.timesliceEvent.dispatch(i.sizeSeconds),this.currentIps=i.currentIps,this.currentIpsMax=i.currentIpsMax;const s=this.lcdEnabled;this.lcdEnabled=i.lcdEnabled,i.frame&&i.lcdEnabled?(this.returnPendingFrame(),this.pendingFrame=i.frame,this.newFrameEvent.dispatch()):!i.lcdEnabled&&(s??!0)&&this.newFrameEvent.dispatch(),this.lcdEnabled=i.lcdEnabled;break}case"snapshot":try{if(!this.snapshotContainer)throw new Error("Unreachable: emulator runs, but snapshots are not initialized");this.snapshotEvent.dispatch(this.snapshotContainer.schedule(i.snapshot))}catch(s){throw this.fatal(`${s}`),s}break;case"systemStateChanged":this.uiInitialized=i.uiInitialized,this.osVersion=i.osVersion,this.palmosStateChangeEvent.dispatch()}},this.newFrameEvent=new fn.J,this.timesliceEvent=new fn.J,this.suspendEvent=new fn.J,this.snapshotEvent=new fn.J,this.palmosStateChangeEvent=new fn.J,this.fatalError=new fn.J,this.snapshotSuccessEvent=new fn.J,this.running=!1,this.currentIps=0,this.currentIpsMax=0,this.card={state:0},this.pcmChannel=new MessageChannel,this.uiInitialized=!1,this.rpcHost=new jre(this.dispatchMessage),r(()=>t.addEventListener("message",this.onMessage))}static create(t,n,r){return(0,T.A)(function*(){const o=new Worker(y.tu(new URL(y.p+y.u(9689),y.b)));return(yield new Promise((s,a)=>{const l=[],c=()=>l.forEach(([m,S])=>o.removeEventListener(m,S)),d=m=>{c(),a(m.error)},h=m=>{c(),"ready"===m.data.type?s(new Yw(o,n,r)):a(new Error("invalid message from worker"))};o.addEventListener("error",d),o.addEventListener("message",h,{once:!0}),l.push(["error",d],["message",h])})).initialize(t)})()}supportsKeyboardIO(){return!1}shutdown(){this.worker.removeEventListener("message",this.onMessage),this.worker.terminate(),document.removeEventListener("visibilitychange",this.onVisibilityChange)}getStatistics(){return{type:"uarm",currentSpeedMips:this.currentIps/1e6|0,currentMaxSpeedMips:this.currentIpsMax/1e6|0}}getPcmPort(){return this.pcmChannel.port1}enablePcmStreaming(){console.log("streaming enabled"),this.dispatchMessage({type:"setPcmStreaming",pcmStreaming:!0})}disablePcmStreaming(){console.log("streaming disabled"),this.dispatchMessage({type:"setPcmStreaming",pcmStreaming:!1})}penDown(t,n){this.dispatchMessage({type:"penDown",x:t,y:n})}penUp(){this.dispatchMessage({type:"penUp"})}buttonDown(t){this.dispatchMessage({type:"buttonDown",button:t})}buttonUp(t){this.dispatchMessage({type:"buttonUp",button:t})}keyStroke(t,n){}reset(){this.dispatchMessage({type:"reset",resetType:0})}resetNoExtensions(){this.dispatchMessage({type:"reset",resetType:1})}resetHard(){this.dispatchMessage({type:"reset",resetType:2})}isRunning(){return this.running}isPowerOff(){return!1}isLcdEnabled(){return this.lcdEnabled??!1}isUIInitialized(){return this.uiInitialized}isSlowdown(){return this.currentIps/1e6<this.settings.targetMips*this.settings.warnSlowdownThreshold}getOSVersion(){return this.osVersion??0}getDeviceId(){if(void 0===this.deviceId)throw new Error("not initialized");return this.deviceId}openSession(t,n,r,o,i,s){var a=this;return(0,T.A)(function*(){if(void 0!==a.deviceId)throw new Error("already initialized");a.deviceId=n,s&&(yield s.load(a));const l=1===a.card.state?[new Uint8Array(a.card.data.buffer),a.card.key]:void 0;if(!(yield a.rpcHost.call("openSession",{rom:t,nand:r,memory:o,state:i,card:l},[t.buffer,r?.buffer,o?.buffer,i?.buffer,1===a.card.state?a.card.data.buffer:void 0].filter(h=>void 0!==h))))return!1;const c=yield a.rpcHost.call("getMemorySize",void 0);a.snapshotContainer=new Vre(c.memory,c.nand,a.rpcHost,a.dispatchMessage),a.snapshotContainer.snapshotSuccessEvent.addHandler(h=>a.snapshotSuccessEvent.dispatch(h));const d=yield a.rpcHost.call("getSdCardState",void 0);return a.card=d.inserted?{state:2,key:d.key}:{state:0},!0})()}resume(){var t=this;return(0,T.A)(function*(){yield t.rpcHost.call("start",void 0),t.running=!0})()}stop(){var t=this;return(0,T.A)(function*(){yield t.rpcHost.call("stop",void 0),t.running=!1,t.returnPendingFrame()})()}processTimesliceNow(){console.log("processTimesliceNow not implemented for uARM")}requestSnapshot(){var t=this;return(0,T.A)(function*(){if(!t.snapshotContainer)throw new Error("emulator not initialized");return t.snapshotContainer.schedule(yield t.rpcHost.call("takeSnapshot",void 0))})()}waitForPendingSnapshot(){return this.rpcHost.call("waitForPendingSnapshot",void 0)}blitFrame(t){if(!this.pendingFrame)return;const n=new ImageData(new Uint8ClampedArray(this.pendingFrame),320);t.getContext("2d")?.putImageData(n,0,0),this.returnPendingFrame()}updateSettings(t){this.settings=t,this.dispatchMessage({type:"updateSettings",settings:t})}allocateCard(t,n){if(0!==this.card.state)throw new Error(`bad card state ${this.card.state}`);if(3&n)throw new Error(`invalid card size ${n}`);return this.card={state:1,key:t,data:new Uint32Array(n>>>2)},this.card.data}releaseCard(t){var n=this;return(0,T.A)(function*(){0!==n.card.state&&(yield n.rpcHost.call("sdCardEject",void 0),n.card={state:0})})()}mountCard(t){var n=this;return(0,T.A)(function*(){if(1!==n.card.state)throw new Error("no card allocated");if(n.card.key!==t)throw new Error(`wrong key: got ${t}, expected ${n.card.key}`);return(yield n.rpcHost.call("sdCardInsert",{data:n.card.data,key:n.card.key},[n.card.data.buffer]))?(n.card={state:2,key:t},!0):(n.card={state:0},!1)})()}getMountedKey(){var t=this;return(0,T.A)(function*(){return 2===t.card.state?t.card.key:void 0})()}getCardData(t){if(2!==this.card.state)throw new Error("no card mounted");if(this.card.key!==t)throw new Error(`invalid key: expected ${this.card.key}, got ${t}`);return this.rpcHost.call("getSdCardData",void 0)}getFullState(){var t=this;return(0,T.A)(function*(){return void 0===t.deviceId?void 0:t.rpcHost.call("getFullState",void 0)})()}installDb(t){return this.rpcHost.call("installDb",t)}backup(t){return this.rpcHost.call("backup",{includeRom:t})}initialize(t){var n=this;return(0,T.A)(function*(){return yield n.rpcHost.call("initialize",{module:t,settings:n.settings,pcmPort:n.pcmChannel.port2},[n.pcmChannel.port2]),document.addEventListener("visibilitychange",n.onVisibilityChange),n})()}fatal(t){this.fatalError.dispatch(t instanceof Error?t:new Error(t))}returnPendingFrame(){this.pendingFrame&&this.dispatchMessage({type:"returnFrame",frame:this.pendingFrame},[this.pendingFrame]),this.pendingFrame=void 0}}const Hre={automaticSnapshotInterval:0,memoryCrc:!1,speed:1,hotsyncName:"",manageHotsyncName:!1,schedulerKind:0,networkIntegration:!1,clipboardIntegration:!1,disableAudio:!1,maxHostLoad:1,targetMips:100,warnSlowdownThreshold:.5,runInBackground:!1};class Gre{constructor(t){this.cloudpilotPromise=t,this.onEngineNewFrameEvent=()=>{if(!this.engine)throw new Error("invalid state");this.engine.isLcdEnabled()?this.engine.blitFrame(this.canvas):this.clearCanvas(),this.newFrameEvent.dispatch(this.canvas)},this.onEngineTimesliceEvent=n=>this.onAfterAdvanceEmulation(n),this.onEngineSuspendEvent=()=>this.handleSuspend(),this.onEngineConfigureHotsyncNameEvent=n=>this.updateConfiguredHotsyncName(n),this.onSnapshotEvent=n=>this.handleSnapshot(n),this.onSnapshotSuccessEvent=n=>this.snapshotSuccessEvent.dispatch(n),this.onPalmosStateChangeEvent=()=>{this.handlePalmosStateChange(),this.palmosStateChangeEvent.dispatch()},this.onFatalError=n=>this.handleFatalInNativeCode(n),this.newFrameEvent=new fn.J,this.newSessionEvent=new fn.J,this.emulationStateChangeEvent=new fn.J,this.palmosStateChangeEvent=new fn.J,this.openSessionEvent=new fn.J,this.snapshotSuccessEvent=new fn.J,this.canvas=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.engineSettings={...Hre},this.shouldRun=!1,this.blocked=!1,t.then(n=>n.fatalErrorEvent.addHandler(this.onFatalError))}handlePointerMove(t,n,r){if(!this.engine?.isRunning())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)){if(r){const i=Gh(this.deviceId());t=this.transformSilkscreenX(t,i),n=this.transformSilkscreenY(n,i)}this.engine.penDown(Math.floor(t),Math.floor(n)),this.lastPenUpdate=o}}handlePointerUp(){this.engine?.isRunning()&&(this.engine&&this.penDown&&this.engine.penUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.engine?.isRunning()&&this.engine?.buttonDown(t)}handleButtonUp(t){this.engine?.isRunning()&&this.engine?.buttonUp(t)}handleKeyDown(t){this.engine?.isRunning()&&this.engine?.keyStroke(t)}reset(){this.engine?.reset()}resetNoExtensions(){this.engine?.resetNoExtensions()}resetHard(){this.engine?.resetHard()}isRunning(){return this.engine?.isRunning()??!1}isPowerOff(){return this.engine?.isPowerOff()??!1}isUiInitialized(){return this.engine?.isUIInitialized()??!1}getCanvas(){return this.canvas}getStatistics(){return this.engine?.getStatistics()}isSlowdown(){return this.engine?.isSlowdown()??!1}isSuspended(){return"cloudpilot"===this.engine?.type&&this.engine.isSuspended()}isBlocked(){return this.blocked}getSerialPortSerial(){return"cloudpilot"===this.engine?.type?this.engine.getSerialPortSerial():void 0}getSerialPortIR(){return"cloudpilot"===this.engine?.type?this.engine.getSerialPortIR():void 0}updateEngineSettings(t){this.engineSettings={...this.engineSettings,...t},this.engine?.updateSettings(this.engineSettings)}deviceId(){return this.engine?.getDeviceId()??q.m515}pwmUpdateEvent(){return"cloudpilot"===this.engine?.type?this.engine.pwmUpdateEvent:void 0}pcmPort(){return"uarm"===this.engine?.type?this.engine.getPcmPort():void 0}enablePcmStreaming(){"uarm"===this.engine?.type&&this.engine.enablePcmStreaming()}disablePcmStreaming(){"uarm"===this.engine?.type&&this.engine.disablePcmStreaming()}supportsKeyboardIO(){return this.engine?.supportsKeyboardIO()??!1}processTimesliceNow(){this.engine?.processTimesliceNow()}openSession(t,n,r,o,i,s){var a=this;return(0,T.A)(function*(){a.unbindEngineHandlers(a.engine),a.engine?.shutdown(),a.engine=void 0,a.shouldRun=!1;const l=yield a.createEngine(Ew(n));return l.updateSettings(a.engineSettings),!!(yield l.openSession(t,n,r,o,i,s))&&(a.bindEngineHandlers(l),a.engine=l,a.resetCanvas(),a.openSessionEvent.dispatch(),!0)})()}resetCanvas(){const t=Gh(this.deviceId());this.canvas.width=t.width,this.canvas.height=t.height,this.clearCanvas()}doResume(){var t=this;return(0,T.A)(function*(){t.shouldRun=!0,yield t.enforceRunState()})()}doStop(){var t=this;return(0,T.A)(function*(){t.shouldRun=!1,yield t.enforceRunState()})()}doBlock(){var t=this;return(0,T.A)(function*(){t.blocked=!0,yield t.enforceRunState()})()}doUnblock(){var t=this;return(0,T.A)(function*(){t.blocked=!1,yield t.enforceRunState()})()}clearCanvas(){const t=this.deviceId(),n=this.canvas.getContext("2d");if(!n)throw new Error("Unable to get rendering context. Get a new browser.");n.beginPath(),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=Cw(t)?"white":Ww[0],n.fill()}transformSilkscreenX(t,n){return void 0===n.silkscreenOvershoot?t:(t-n.width/2)/(n.width/(n.width+2*n.silkscreenOvershoot))+n.width/2}transformSilkscreenY(t,n){return void 0===n.siklscreenShift?t:t+n.siklscreenShift}requestSnapshot(){var t=this;return(0,T.A)(function*(){return yield t.engine?.requestSnapshot()})()}getOSVersion(){return this.engine?.getOSVersion()??0}enforceRunState(){var t=this;return(0,T.A)(function*(){t.engine&&(t.shouldRun&&!t.blocked?yield t.engine.resume():yield t.engine.stop(),t.emulationStateChangeEvent.dispatch(t.engine.isRunning()))})()}createEngine(t){var n=this;return(0,T.A)(function*(){switch(t){case"cloudpilot":return new Bre(yield n.cloudpilotPromise,n.clandestineExecute,n.engineSettings);case"uarm":return Yw.create(yield n.getUarmModule(),n.engineSettings,n.clandestineExecute);default:throw new Error("unreachable")}})()}bindEngineHandlers(t){if(t)switch(t.newFrameEvent.addHandler(this.onEngineNewFrameEvent),t.suspendEvent.addHandler(this.onEngineSuspendEvent),t.timesliceEvent.addHandler(this.onEngineTimesliceEvent),t.snapshotEvent.addHandler(this.onSnapshotEvent),t.palmosStateChangeEvent.addHandler(this.onPalmosStateChangeEvent),t.snapshotSuccessEvent.addHandler(this.onSnapshotSuccessEvent),t.type){case"cloudpilot":t.configuredHotsyncNameUpdateEvent.addHandler(this.onEngineConfigureHotsyncNameEvent);break;case"uarm":t.fatalError.addHandler(this.onFatalError)}}unbindEngineHandlers(t){if(t)switch(t.newFrameEvent.removeHandler(this.onEngineNewFrameEvent),t.suspendEvent.removeHandler(this.onEngineSuspendEvent),t.timesliceEvent.removeHandler(this.onEngineTimesliceEvent),t.snapshotEvent.removeHandler(this.onSnapshotEvent),t.palmosStateChangeEvent.removeHandler(this.onPalmosStateChangeEvent),t.snapshotSuccessEvent.removeHandler(this.onSnapshotSuccessEvent),t.type){case"cloudpilot":t.configuredHotsyncNameUpdateEvent.removeHandler(this.onEngineConfigureHotsyncNameEvent);break;case"uarm":t.fatalError.removeHandler(this.onFatalError)}}}class SL{constructor(t,n,r=window.document){this.timeoutRemaining=t,this.cb=n,this.document=r,this.onVisibilityChange=()=>{switch(this.tainted=!0,this.document.visibilityState){case"hidden":if("running"!==this.state)return;this.cancelTimeout(),this.update(),"finished"!==this.state&&(this.state="paused");break;case"visible":if("paused"!==this.state||this.timeoutRemaining<0)return;this.schedule(),this.state="running"}},this.onTimeout=()=>{this.handle=void 0,this.update(),this.timeoutRemaining>0&&"running"===this.state&&this.schedule()},this.state="created",this.timoutStartedAt=performance.now(),this.tainted=!1,this.accumulatedTimeout=0}start(){return this.setState("running"),this.schedule(),this.document.addEventListener("visibilitychange",this.onVisibilityChange),this}increase(t){return this.timeoutRemaining+=t,this}cancel(){return this.setState("finished"),this}isTainted(){return this.tainted}getAccumulatedTimeout(){return this.accumulatedTimeout}schedule(){void 0===this.handle&&(this.timoutStartedAt=performance.now(),this.handle=setTimeout(()=>this.onTimeout(),this.timeoutRemaining))}update(){if("running"!==this.state)return;const t=performance.now()-this.timoutStartedAt;this.timeoutRemaining-=t,this.accumulatedTimeout+=t,this.timeoutRemaining<=0&&(this.setState("finished"),this.cb())}cancelTimeout(){void 0!==this.handle&&(clearTimeout(this.handle),this.handle=void 0)}setState(t){if(t!==this.state){if("finished"===this.state||"created"===t)throw new Error(`invalid state transition: ${this.state} -> ${t}`);"finished"===t&&(this.cancelTimeout(),this.document.removeEventListener("visibilitychange",this.onVisibilityChange)),this.state=t}}}class Xw{constructor(){this.pages=[],this.nextPage=-1}clear(){this.pages=[],this.nextPage=-1}reset(){this.nextPage=this.pages.length-1}duplicate(t){if("number"==typeof t)return t;if(this.nextPage>=0){const r=this.pages[this.nextPage--];return r.set(t),r}const n=t.slice();return this.pages.push(n),n}}function Qw(e){return e?e.pageSize*e.pageCount*4:0}let Jw=(()=>{var e;class t{constructor(r,o,i,s,a){var l=this;this.storageService=r,this.errorService=o,this.alertService=i,this.loaderService=s,this.ngZone=a,this.storeSnapshot=(c,d)=>this.ngZone.runOutsideAngular((0,T.A)(function*(){if(l.snapshotInProgress)throw new Error("cannot happen: snapshot while snapshot is in progress");if(l.snapshotInProgress=!0,d!==l.sessionId)throw new Error(`bad snapshot: session ID mismatch: ${l.sessionId} vs ${d}`);try{yield l.storeSnapshotUnguarded(c)}finally{l.snapshotInProgress=!1}})),this.snapshotRequestEvent=new fn.J,this.sessionId=-1,this.consecutiveErrorCount=0,this.timeoutDeltaMsecPerKbStart=.5,this.timeoutDeltaMsecPerKb=.5,this.timeBlocking=0,this.timeBackground=0,this.snapshotInProgress=!1,this.clonePoolMemory=new Xw,this.clonePoolNand=new Xw,this.clonePoolStorage=new Xw}initialize(r){var o=this;return(0,T.A)(function*(){if(!o.errorService.hasFatalError()){if(o.snapshotInProgress)return void o.errorService.fatalBug("Attempt to reinitialize snapshots while snapshot is still in progress");o.sessionId=r.id,o.clonePoolMemory.clear(),o.clonePoolNand.clear(),o.clonePoolStorage.clear(),o.savestateClone=void 0,o.db=yield o.storageService.getDb()}})()}triggerSnapshot(){return new Promise((r,o)=>this.snapshotRequestEvent.dispatch(i=>{void 0!==i?o(i):r()}))}storeSnapshotUnguarded(r){var o=this;return(0,T.A)(function*(){for(o.timeBlocking=o.timeBackground=0,o.timeoutDeltaMsecPerKb=o.timeoutDeltaMsecPerKbStart;;)try{return r.release(yield o.attemptToStoreSnapshot(r),o.timeBlocking,o.timeBackground),o.consecutiveErrorCount=0,void o.hideLoader()}catch(i){if(o.hideLoader(),i instanceof SL){if(i.isTainted())continue;console.log(`snapshot timeout expired after ${i.getAccumulatedTimeout()} msec`),o.timeoutDeltaMsecPerKb>.5&&(yield o.alertService.snapshotTimeout(),yield o.showLoader()),o.timeoutDeltaMsecPerKb*=2,o.timeoutDeltaMsecPerKbStart=Math.min(2*o.timeoutDeltaMsecPerKbStart,4);continue}if(console.error("snapshot error",i),i===Fw)throw o.errorService.fatalPageLockLost(),i;if(++o.consecutiveErrorCount>3)throw o.errorService.fatalIDBDead(),i;yield r.refresh()}})()}attemptToStoreSnapshot(r){var o=this;return(0,T.A)(function*(){const i=o.db.transaction([Xc,Qc,gc,Il,Pa,Jc,zh],"readwrite",{durability:"relaxed"});yield o.storageService.acquireLock(i);const s=yield ar(i.objectStore(Pa).getAll());return!!r.materialize()&&new Promise((a,l)=>{let c=!1,d=0;o.clonePoolMemory.reset(),o.clonePoolNand.reset(),o.clonePoolStorage.reset();const h=r.getSnapshotMemory(),m=r.getSnapshotNand(),S=r.getSnapshotStorage(),M=r.getSavestate(),V=r.getStorageKey(),re=r.getMemoryCrc(),pe=Qw(h)+Qw(m)+Qw(S)+(M?.length??0),at=new SL(500+(o.timeoutDeltaMsecPerKb*pe>>>10),()=>{c=!0,l(at);try{i.abort()}catch{}});i.oncomplete=()=>{at.cancel(),o.timeBackground+=performance.now()-d,a(!0)},i.onerror=()=>{at.cancel(),o.timeBackground+=performance.now()-d,l(new Error(i.error?.message))};try{const Tt=performance.now();if(h&&o.saveSnapshotMemory(i,h,re),m&&o.saveSnapshotOther(i,m,o.sessionId,Jc,o.clonePoolNand),S&&void 0!==V){const Et=s.find(wn=>wn.storageId===V);if(!Et)throw new Error(`no storage card with key ${V}`);o.saveSnapshotOther(i,S,Et.id,Il,o.clonePoolStorage)}o.saveSavestate(i,M),at.start(),o.timeBlocking+=performance.now()-Tt,d=performance.now()}catch(Tt){throw c||(at.cancel(),i.abort()),Tt}})})()}saveSnapshotMemory(r,o,i){const{pageCount:s,pageSize:a,offsets:l,pageData:c,pageCountTotal:d,pages:h}=o,m=r.objectStore(Xc);r.objectStore(Qc).put({sessionId:this.sessionId,totalSize:d*a<<2,crc32:i});for(let V=0;V<s;V++){const re=c.subarray(l[V],l[V]+a),pe=this.clonePoolMemory.duplicate(Y2(re));m.put(pe,[this.sessionId,h[V]])}}saveSnapshotOther(r,o,i,s,a){const{pageCount:l,pageSize:c,offsets:d,pageData:h,pages:m}=o,S=r.objectStore(s);for(let M=0;M<l;M++){const V=h.subarray(d[M],d[M]+c),re=a.duplicate(Pw(V));S.put(re,[i,m[M]])}}saveSavestate(r,o){const i=r.objectStore(gc);o?(this.savestateClone?this.savestateClone.set(o):this.savestateClone=o.slice(),i.put(this.savestateClone,this.sessionId)):i.delete(this.sessionId)}showLoader(){var r=this;return(0,T.A)(function*(){void 0===r.loaderHandle&&(r.loaderHandle=yield r.loaderService.add("Saving..."))})()}hideLoader(){void 0!==this.loaderHandle&&(this.loaderService.resolve(this.loaderHandle),this.loaderHandle=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Jn),ae(Yu),ae(Dr),ae(ps),ae(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const O_=new Error("permission denied");let eE=(()=>{var e;class t{constructor(r,o,i){this.alertController=r,this.alertService=o,this.nativeAppService=i,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText||la.supportsNativeClipboard()}handleSuspend(r){switch(r.getSuspendKind()){case 1:this.handleCopy(r);break;case 2:this.handlePaste(r)}}handleCopy(r){var o=this;return(0,T.A)(function*(){const i=r.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();if(la.supportsNativeClipboard())try{yield o.nativeAppService.clipboardWrite(s),i.Resume()}catch(a){console.error(a),i.Cancel()}else{try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===O_)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}}})()}tryCopyDirect(r){var o=this;return(0,T.A)(function*(){try{yield navigator.clipboard.writeText(r)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?O_:i}})()}tryCopyWithInteraction(r){var o=this;return new Promise(function(){var i=(0,T.A)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,T.A)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(r),s(!0)}catch(d){a(d)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(r){var o=this;return(0,T.A)(function*(){const i=r.getSuspendContextClipboardPaste();if(la.supportsNativeClipboard()){try{i.Resume(yield o.nativeAppService.clipboardRead())}catch(a){console.error(a),i.Resume("")}return}const s=yield o.tryPaste();i.Resume(s??""),void 0!==s&&(o.clipboardContent=s,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var r=this;return(0,T.A)(function*(){if(performance.now()-r.lastClipboardReadAt<3e3)return r.clipboardContent;try{return yield r.tryPasteDirect()}catch(o){if(o===O_)return void(yield r.msgPermissionDenied())}try{return yield r.tryPasteWithInteraction()}catch{return void(yield r.msgPasteFailed())}})()}tryPasteDirect(){var r=this;return(0,T.A)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield r.isPermissionDenied("clipboard-read"))?O_:o}})()}tryPasteWithInteraction(){var r=this;return new Promise(function(){var o=(0,T.A)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,T.A)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}isPermissionDenied(r){return(0,T.A)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:r}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(tw),ae(Dr),ae(la))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class Kre{constructor(t){this.nativeAppService=t,this.onNetRpcResult=({sessionId:n,rpcData:r})=>n===this.sessionId&&this.rpcResultEvent.dispatch(r),this.rpcResultEvent=new fn.J,this.unexpectedCloseEvent=new fn.J}connect(){var t=this;return(0,T.A)(function*(){if(void 0!==t.sessionId)throw new Error("session already open");return t.sessionId=yield t.nativeAppService.netOpenSession(),t.nativeAppService.netRpcResult.addHandler(t.onNetRpcResult),!0})()}disconnect(){var t=this;return(0,T.A)(function*(){void 0!==t.sessionId&&(t.nativeAppService.netRpcResult.removeHandler(t.onNetRpcResult),yield t.nativeAppService.netCloseSession(t.sessionId),t.sessionId=void 0)})()}handleRpc(t){var n=this;return(0,T.A)(function*(){if(void 0===n.sessionId)throw new Error("no open session");return n.nativeAppService.netDispatchRpc(n.sessionId,t)})()}}const Yre="https:"===window.location.protocol?8667:8666,Xre=/^[\da-z\-.]+$/i,Qre=/^[\da-z\-.]+:\d+$/i;function tE(e){if(!e)return;const t=window.location.protocol;if(e.match(Xre))return`${t}//${e}:${Yre}`;if(e.match(Qre))return`${t}//${e}`;try{const n=new URL(e);if("https:"===n.protocol||"http:"===n.protocol)return n.toString().replace(/\/+$/,"")}catch{}}function Jre(e){return void 0!==tE(e.value)?null:{proxyAddress:"invalid"}}class noe{constructor(t,n,r){this.proxyServer=t,this.alertService=n,this.fetchService=r,this.onSocketMessage=o=>{if(!(o.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),void this.unexpectedCloseEvent.dispatch(void 0);this.rpcResultEvent.dispatch(new Uint8Array(o.data))},this.onSocketError=o=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),this.unexpectedCloseEvent.dispatch(),console.error("ERROR: socket error",o)},this.onSocketClose=()=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.disconnect(),this.unexpectedCloseEvent.dispatch()},this.rpcResultEvent=new fn.J,this.unexpectedCloseEvent=new fn.J}connect(){var t=this;return(0,T.A)(function*(){const n=tE(t.proxyServer);if(!n)return yield t.alertService.errorMessage(`Invalid proxy address: ${t.proxyServer}`),!1;const r=yield t.handshake(500);switch(r.status){case"failed":return t.alertService.errorMessage("Failed to connect to proxy."),!1;case"version_mismatch":return yield t.alertService.proxyVersionMismatchError(),!1;case"success":break;default:throw new Error("unreachable")}const o=new WebSocket(`${n.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(r.token)}`);o.binaryType="arraybuffer";const i=setTimeout(()=>o.close(),5e3);let s,a,l;try{return yield new Promise((c,d)=>{s=()=>c(),l=h=>d(h),a=()=>d(new Error("connection timeout")),o.addEventListener("open",s),o.addEventListener("error",l),o.addEventListener("close",a)}),clearTimeout(i),o.addEventListener("error",t.onSocketError),o.addEventListener("message",t.onSocketMessage),o.addEventListener("close",t.onSocketClose),t.socket=o,!0}catch(c){return console.error("socket failed to connect",c),!1}finally{o.removeEventListener("open",s),o.removeEventListener("error",l),o.removeEventListener("close",a)}})()}disconnect(){var t=this;return(0,T.A)(function*(){t.socket&&(t.socket.removeEventListener("error",t.onSocketError),t.socket.removeEventListener("message",t.onSocketMessage),t.socket.removeEventListener("close",t.onSocketClose),t.socket.close(),t.socket=void 0)})()}handleRpc(t){var n=this;return(0,T.A)(function*(){return!!n.socket&&(n.socket.send(t),!0)})()}handshake(){var t=this;return(0,T.A)(function*(n=-1){const r=tE(t.proxyServer);if(!r)return{status:"failed"};try{const o=yield t.fetchService.fetch(`${r}/network-proxy/handshake`,{method:"POST",loaderDelay:n});if(!o.ok)return{status:"failed"};const i=yield o.json();return i.version<3||i.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:i.token}}catch{return{status:"failed"}}}).apply(this,arguments)}}let wL=(()=>{var e;class t{constructor(r,o,i,s){this.kvsService=r,this.alertService=o,this.fetchService=i,this.nativeAppService=s}createBackendProxy(r=this.kvsService.kvs.proxyServer){return new noe(r,this.alertService,this.fetchService)}createBackend(){if(this.kvsService.kvs.networkRedirection)return"native"===this.kvsService.kvs.networkRedirectionMode&&la.supportsNativeNetworkIntegration()?new Kre(this.nativeAppService):this.createBackendProxy()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Hi),ae(Dr),ae(fL),ae(la))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),EL=(()=>{var e;class t{constructor(r,o){this.ngZone=r,this.backendFactory=o,this.onProxyDisconnect=()=>{this.reset()},this.onUnexpectedBackendClose=()=>{switch(this.cloudpilot?.getSuspendKind()){case 4:this.cloudpilot.getSuspendContextNetworkConnect().Cancel();break;case 3:this.cloudpilot.getSuspendContextNetworkRpc().Cancel()}this.reset()},this.onSessionResume=()=>this.resumeEvent.dispatch(),this.resumeEvent=new fn.J}initialize(r){this.cloudpilot=r,r.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}isConnected(){return void 0!==this.session}reset(){this.session&&(this.session.backend.unexpectedCloseEvent.removeHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.removeHandler(this.onSessionResume),this.session.terminate(),this.ngZone.run(()=>this.session=void 0))}handleSuspend(){if(this.cloudpilot)switch(this.cloudpilot.getSuspendKind()){case 4:this.createNewSession(),this.session?this.session.handleConnect().then(r=>r||this.reset()):4===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkConnect().Cancel();break;case 3:this.session?this.session.handleRpc():3===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkRpc().Cancel()}}createNewSession(){this.reset(),this.ngZone.run(()=>this.session=nE.create(this.backendFactory.createBackend(),this.cloudpilot)),this.session&&(this.session.backend.unexpectedCloseEvent.addHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.addHandler(this.onSessionResume))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(We),ae(wL))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class nE{static create(t,n){if(n&&t)return new nE(t,n)}constructor(t,n){var r=this;this.backend=t,this.handleConnect=()=>this.mutex.runExclusive((0,T.A)(function*(){try{const o=yield r.backend.connect();return 4===r.cloudpilot?.getSuspendKind()&&(o?r.cloudpilot.getSuspendContextNetworkConnect().Resume():r.cloudpilot.getSuspendContextNetworkConnect().Cancel()),o}catch(o){return console.error("failed to connect to backend",o),4===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkConnect().Cancel(),!1}})),this.handleRpc=()=>this.mutex.runExclusive((0,T.A)(function*(){if(3!==r.cloudpilot?.getSuspendKind())return;const o=r.cloudpilot.getSuspendContextNetworkRpc(),i=r.cloudpilot.resolveBuffer(o.GetRequestData(),o.GetRequestSize());try{!(yield r.backend.handleRpc(i))&&3===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkRpc().Cancel()}catch(s){console.error("failed to process rpc request",s),3===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkRpc().Cancel()}})),this.disconnect=()=>{this.mutex.runExclusive((0,T.A)(function*(){r.backend&&(yield r.backend.disconnect())}))},this.onRpcResult=o=>{if(!this.cloudpilot)return;if(3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");const i=this.cloudpilot.copyBuffer(o);this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(i,o.length),this.cloudpilot.freeBuffer(i),this.resumeEvent.dispatch()},this.resumeEvent=new fn.J,this.mutex=new Vs,this.cloudpilot=n,t.rpcResultEvent.addHandler(this.onRpcResult)}terminate(){this.cloudpilot=void 0,this.backend.rpcResultEvent.removeHandler(this.onRpcResult),this.disconnect()}}let DL=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(r){this.engine=r,this.buttons.clear(),[6,7].forEach(o=>r.buttonUp(o))}engage(r){this.buttons.has(r)?this.buttons.get(r).timer=0:(this.buttons.set(r,{button:r,timer:0}),this.engine?.buttonDown(r))}tick(r){for(const[o,i]of this.buttons)i.timer+=1e3*r,i.timer>250&&(this.engine?.buttonUp(o),this.buttons.delete(o))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),IL=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(r=>this.hasRenderedResolve=r)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var ooe=y(2922),ioe=y.n(ooe);function soe(e){return{readonly:!!(1&e),hidden:!!(2&e),system:!!(4&e)}}function TL(e,t){const n=e.GetName(),r=e.GetModifiedTS();return{path:t,name:n,size:e.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:soe(e.GetAttributes())}}class rE{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,T.A)(function*(){return new rE(yield ioe()({print:n=>console.log(n),printErr:n=>console.warn(n),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),n=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==n)return this.module.HEAPU32.subarray(t>>>2,t+n>>>2)}getImageInSlot(t){const n=this.module.getPointer(this.vfsNative.GetImage(t)),r=this.vfsNative.GetSize(t);if(0!==n&&0!==r)return this.module.HEAPU32.subarray(n>>>2,n+r>>>2)}getDirtyPagesForSlot(t){const n=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===n)return;const r=m0(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(n,n+r)}readdir(t){const n=new this.module.ReaddirContext(t);try{const r=[];for(;0===n.GetStatus();){const o=n.GetEntry();r.push(TL(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),n.Next()}if(2===n.GetStatus()){console.warn(`readdir failed: ${n.GetErrorDescription()}`);const o=n.GetError();return{error:0===o?2:o,reason:n.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(n)}}rename(t,n){return this.vfsNative.RenameFile(t,n)}chmod(t,n){let r=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(n.hidden,2),i(n.readonly,1),i(n.system,4),this.vfsNative.ChmodFile(t,r,o)}stat(t){const n=this.vfsNative.StatFile(t);return 0!==n?{result:n,entry:void 0}:{entry:TL(this.vfsNative.GetEntry(),t),result:n}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const n=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(n,n+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive(t){var n=this;return(0,T.A)(function*({files:r,directories:o,prefix:i}){const s=new n.module.ExportZipContext(i,25),a=[];try{for(r&&r.forEach(h=>s.AddFile(h)),o&&o.forEach(h=>s.AddDirectory(h));2!==s.GetState();){switch(s.Continue()){case-2:case-1:a.push(s.GetErrorItem())}2!==s.GetState()&&(yield new Promise(h=>setTimeout(h,0)))}let l;const c=n.module.getPointer(s.GetZipContent()),d=s.GetZipSize();return 0!==c&&0!==d&&(l=n.module.HEAPU8.subarray(c,c+d).slice()),{archive:l,failedItems:a}}finally{n.module.destroy(s)}}).apply(this,arguments)}deleteRecursive(t){var n=this;return(0,T.A)(function*(){const r=new n.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>r.AddFile(o));1===r.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{n.module.destroy(r)}})()}writeFile(t,n){const r=this.copyIn(n);try{return this.vfsNative.WriteFile(t,n.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(t,n,r){var o=this;return(0,T.A)(function*(){const i=o.copyIn(n),s=new o.module.UnzipContext(25,t,i,n.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(0);case-3:return a(3);case-1:return a(2);case-2:return a(1);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,n,r,o,i){var s=this;return(0,T.A)(function*(){const a=new s.module.PasteContext(25,t,n);r.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return 0;case-2:return 2;case-1:return 1;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const n=this.vfsNative.Malloc(t.length),r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+t.length).set(t),n}}const aoe=y.p+"wasm/vfs_web-46a89cac7e59fb52.wasm";var loe=y(9250),coe=y.n(loe);function AL(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}let td=(()=>{var e;class t{constructor(r,o,i,s,a){var l=this;this.storageService=r,this.storageCardContext=o,this.fileService=i,this.loaderService=s,this.alertService=a,this.saveFile=function(){var c=(0,T.A)(function*(d){return l.loaderService.showWhile((0,T.A)(function*(){const m=(yield l.vfs).readFile(d.path);m?(l.fileService.saveFile(d.name,m),l._change.emit()):yield l.alertService.errorMessage(`Could not read file '${d.name}'.`)}),"Preparing file...")});return function(d){return c.apply(this,arguments)}}(),this.onReleaseCard=new fn.J,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=rE.create(aoe),this.directoryCache=new Map,this._bytesFree=gi(0),this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this._change=new _n,this.vfs.then(c=>this.vfsInstance=c)}setStorageCardService(r){this.storageCardService=r,r.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),r.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(r){return("/"+r).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(r){return this.normalizePath(r).replace(/^\/+/,"").split("/")}dirname(r){return this.normalizePath(r).replace(/\/[^/]*$/,"")}isFilenameValid(r){return void 0===r||!/[/\\]/.test(r)}isEntryInClipboard(r){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(r.path)?this.clipboard.operation:void 0}activateCard(r){var o=this;return(0,T.A)(function*(){if(o.primaryCard?.id!==r){if(o.secondaryCard?.id===r)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${r} not mounted in VFS`)}})()}mountCardUnchecked(r,o,i){var s=this;return(0,T.A)(function*(){const a=yield s.storageService.getCard(r);if(!a)throw new Error(`no card with id ${r}`);if(s.primaryCard?.id===r||s.secondaryCard?.id===r)throw new Error(`card ${r} already mounted in VFS`);s.storageCardContext.claim(r,"vfs"),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(r,c,"vfs"),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(r,"vfs"),!1)})()}releaseCard(r){var o=this;return(0,T.A)(function*(){let i;if(o.primaryCard?.id===r)i=o.primarySlot;else{if(o.secondaryCard?.id!==r)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(r,"vfs"),o.onReleaseCard.dispatch(r)})()}readdir(r){if(!this.vfsInstance)return[];const o=this.normalizePath(r);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(r);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(r,o){var i=this;return(0,T.A)(function*(){const s=yield i.vfs;if(r=i.normalizePath(r),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(r);if(0===a)try{if(void 0!==o.attributes&&!coe()(o.attributes,l.attributes)&&0!==(i.directoryCache.delete(i.dirname(r)),s.chmod(r,o.attributes)))return void(yield i.fatalError("Unable to write the updated file attributes."));if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(r)),s.rename(r,`${i.dirname(r)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to rename file."))}yield i.sync()}finally{i._change.emit()}else yield i.error(`The path ${r} is invalid. This is a bug in CloudpilotEmu.`)})()}archiveFiles(r,o){var i=this;return(0,T.A)(function*(){if(0===r.length||!i.primaryCard)return;const{archive:s,failedItems:a}=yield i.loaderService.showWhile((0,T.A)(function*(){const c=yield i.vfs,d=r.filter(m=>m.isDirectory).map(m=>i.normalizePath(m.path)),h=r.filter(m=>!m.isDirectory).map(m=>i.normalizePath(m.path));return yield c.createZipArchive({directories:d,files:h,prefix:o})}),"Creating archive..."),l=1===r.length?`${r[0].name}.zip`:function ere(e){return`files_${Qu(e.name)}.zip`}(i.primaryCard);a.length>0&&(a.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${a.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${a.slice(0,3).join("<br>")}<br><br> and ${a.length-3} other file`)),s&&i.fileService.saveFile(l,s)})()}unlinkEntry(r){var o=this;return(0,T.A)(function*(){if(r.isDirectory)return;const s=(yield o.vfs).unlinkFile(r.path);if(0!==s)return console.error(`failed to unlink ${r.path}: ${s}`),void(yield o.error(`Failed to delete: ${r.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(r.path)),o._change.emit()})()}deleteRecursive(r){var o=this;return(0,T.A)(function*(){const i=r.map(a=>o.normalizePath(a.path)),s=yield o.loaderService.add("Deleting...");try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return o.loaderService.resolve(s),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{o.loaderService.resolve(s),o._change.emit()}})()}mkdir(r){var o=this;return(0,T.A)(function*(){switch((yield o.vfs).mkdir(r)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${r}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(r)),o._change.emit()})()}get bytesFree(){return this._bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const r=this.storageCardService.cards().find(o=>o.storageId===this.clipboard?.storageId);return!!r&&("clean"===r.status||"dirty"===r.status&&!!r.dontFsckAutomatically)}invalidateClipboardForCard(r){this.clipboard?.storageId===r.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(r,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(r),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${r}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this._change.emit())}unpackArchive(r,o){var i=this;return(0,T.A)(function*(){const{entriesTotal:s,entriesSuccess:a,result:l}=yield i.loaderService.showWhile(()=>i.unpackArchiveUnchecked(r,o),"Extracting...");let c,d;switch(l){case 0:c="The archive was extracted successfully, but some entries were skipped.",d="Skipped entries";break;case 2:return void(yield i.fatalError("There was an error writing to the card."));case 3:c="No space left on card.",d="No space left";break;case 1:c="There was an error reading from the archive.",d="Error reading archive";break;default:throw new Error("unreachable")}const h=s-a,m=S=>S>1?`${S} entries`:"one entry";s>0&&h===s&&(yield i.alertService.message(d,`\n                ${c}\n                <br><br>\n                The archive contains ${m(s)}, but none could be unpacked.\n            `)),h>0&&a>0&&(yield i.alertService.message(d,`\n                ${c}\n                <br><br>\n                ${AL(m(a))} unpacked succesfully, but ${m(h)} could not be unpacked.\n            `)),i._change.emit()})()}paste(r){var o=this;return(0,T.A)(function*(){if(o.isClipboardPopulated())try{switch(yield o.loaderService.showWhile(()=>o.pasteUnchecked(r),"Pasting files...")){case 2:yield o.alertService.message("No space left","No space left on card.");break;case 1:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(i){yield o.alertService.errorMessage(i instanceof Error?i.message:"Unknown error.")}finally{o._change.emit()}})()}addFiles(r,o){var i=this;return(0,T.A)(function*(){if(0===r.length)return;const s=yield i.loaderService.showWhile(()=>i.addFilesUnchecked(r,o),"Adding files"),a=l=>l>1?`${l} entries`:"one file";s.length===r.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==s.length&&(yield i.alertService.message("Skipped files",`Successfully added ${a(r.length-s.length)} to card. ${AL(a(s.length))} could not be added.\n            `)),i._change.emit()})()}get change(){return this._change}addFilesUnchecked(r,o){var i=this;return(0,T.A)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,d=!1,h=!1,m=!1;e:for(let S=0;S<r.length;S++){const M=r[S],V=s.find(pe=>pe.name===M.name);if(V&&V.isDirectory){if(!h){const{overwrite:fe,rememberChoice:at}=yield i.overwriteFileDialog(M.name,"directory");m=fe,h=at}let pe=!0;if(m&&(pe=!(yield l.deleteRecursive([i.normalizePath(`${o}/${M.name}`)])).success),pe){a.push(M.name);continue}}if(V&&!V.isDirectory){if(!c){const{overwrite:pe,rememberChoice:fe}=yield i.overwriteFileDialog(M.name,"file");d=pe,c=fe}if(!d){a.push(M.name);continue}}let re;try{re=yield M.getContent()}catch(pe){console.warn(pe),a.push(M.name),yield i.alertService.errorMessage(`Unable to open ${M.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${M.name}`),re)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...r.slice(S).map(pe=>pe.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(M.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var r=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,T.A)(function*(c){if(i)return o;const{overwrite:d,rememberChoice:h}=yield r.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=d,i=h,o}),function(d){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,T.A)(function*(c){if(a)return s;const{overwrite:d,rememberChoice:h}=yield r.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=d,a=h,s});return function(d){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(r,o){var i=this;return(0,T.A)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),r,{...i.collisionHandlers(),onInvalidEntry:(l=(0,T.A)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(d){return l.apply(this,arguments)})});var l;return 2!==a.result&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(r){var o=this;return(0,T.A)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(r)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return 1===a||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var r=this;return(0,T.A)(function*(){if(!r.clipboard||!r.primaryCard||!r.storageCardService)throw new Error("invalid state for paste");if(r.clipboard.storageId===r.primaryCard.storageId)return r.primarySlot;if(r.secondaryCard&&r.clipboard.storageId===r.secondaryCard.storageId)return r.secondarySlot;r.secondaryCard&&(yield r.releaseCard(r.secondaryCard.id));const o=r.storageCardService.cards().find(a=>a.storageId===r.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield r.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(r.storageCardContext.claim(o.id,"vfs"),yield r.storageService.loadCardData(o.id,s,"vfs"),!i.mountImage(r.secondarySlot))throw r.storageCardContext.release(o.id,"vfs"),new Error("unable to mount card");return r.secondaryCard=o,r.secondarySlot})()}overwriteFileDialog(r,o){var i=this;return(0,T.A)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${r}?`:`\n                     Do you want to overwrite the existing directory ${r}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(r){var o=this;return(0,T.A)(function*(){yield o.alertService.errorMessage(r)})()}fatalError(r){var o=this;return(0,T.A)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:"dirty"}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${r}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var r=this;return(0,T.A)(function*(o=r.primarySlot){const i=r.mountedCards[o];if(!i)return;const s=yield r.vfs,a=s.getImageInSlot(o),l=s.getDirtyPagesForSlot(o);!a||!l||(yield r.storageService.updateCardData(i.id,a,l,"vfs"),l.fill(0))}).apply(this,arguments)}activatePrimaryCard(){var r=this;return(0,T.A)(function*(){const o=yield r.vfs;o.switchSlot(r.primarySlot),r._bytesFree.set(o.bytesFree(r.primarySlot)),r.bytesTotal=o.bytesTotal(r.primarySlot),r.directoryCache.clear()})()}updateBytesFree(){var r=this;return(0,T.A)(function*(){r._bytesFree.set((yield r.vfs).bytesFree(r.primarySlot))})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(r){this.mountedCards[this.primarySlot]=r}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(r){this.mountedCards[this.secondarySlot]=r}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Jn),ae(D_),ae(Tl),ae(ps),ae(Dr))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class uoe{constructor(){this.lockEvent=new fn.J,this.unlockEvent=new fn.J,this.lockCount=0}lock(){this.lockCount++,1===this.lockCount&&this.lockEvent.dispatch()}unlock(){0!==this.lockCount&&0===--this.lockCount&&this.unlockEvent.dispatch()}isLocked(){return this.lockCount>0}runGuarded(t){var n=this;return(0,T.A)(function*(){n.lock();try{return yield t()}finally{n.unlock()}})()}}class F_ extends Error{constructor(t){super(t)}}function xL(){return z2().replace(/-/g,"")}let xf=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d,h,m,S,M,V){var re=this;this.sessionService=r,this.storageService=o,this.emulationContext=i,this.nativeSupportService=s,this.loaderService=a,this.snapshotService=l,this.alertService=c,this.errorService=d,this.fileService=h,this.vfsService=m,this.storageCardContext=S,this.fstools=M,this.emulatorLock=V,this.createEmptyCard=function(){var pe=(0,T.A)(function*(fe,at,Tt){return re.loaderService.showWhile((0,T.A)(function*(){const Et=yield re.fstools.mkfs(function doe(e){switch(e){case 0:return 4;case 1:return 8;case 2:return 16;case 3:return 32;case 4:return 64;case 5:return 128;default:throw new Error(`bad card size ${e}`)}}(at));if(!Et)throw new Error("failed to create image");const wn={storageId:xL(),name:fe,size:4*Et.length,status:"clean",dontFsckAutomatically:Tt};return yield re.storageService.importStorageCard(wn,Et)}),"Formatting...")});return function(fe,at,Tt){return pe.apply(this,arguments)}}(),this.createCardFromImage=function(){var pe=(0,T.A)(function*(fe,at,Tt){return re.loaderService.showWhile(()=>re.doCreateCardFromImage(fe,at,Tt),"Importing...")});return function(fe,at,Tt){return pe.apply(this,arguments)}}(),this.deleteCard=function(){var pe=(0,T.A)(function*(fe){return re.loaderService.showWhile((0,T.A)(function*(){const at=re._cards().find(Tt=>Tt.id===fe);yield re.vfsService.releaseCard(fe),yield re.ejectCard(fe),yield re.storageService.deleteStorageCard(fe),at&&re.deleteCardEvent.dispatch(at)}),"Deleting...")});return function(fe){return pe.apply(this,arguments)}}(),this.executeFsckAndUpdateCard=function(){var pe=(0,T.A)(function*(fe){return re.loaderService.showWhile((0,T.A)(function*(){if(yield re.cardIsMounted(fe))throw new Error("attempt to fsck a mounted card");const at=yield re.storageService.getCard(fe);if(!at)throw new Error(`no card with id ${fe}`);yield re.vfsService.releaseCard(fe),re.storageCardContext.claim(fe,"fstools");const Tt=yield re.fstools.createFsckContext(at.size);switch(yield re.storageService.loadCardData(at.id,Tt.getImageData(),"fstools"),Tt.fsck()){case 1:yield re.storageService.updateStorageCardPartial(fe,{status:"clean"}),re.storageCardContext.release(fe,"fstools");break;case 3:yield re.storageService.updateStorageCardPartial(fe,{status:"unformatted"}),re.storageCardContext.release(fe,"fstools");break;case 2:yield re.storageService.updateStorageCardPartial(fe,{status:"dirty"});break;case 4:yield re.storageService.updateStorageCardPartial(fe,{status:"unfixable"}),re.storageCardContext.release(fe,"fstools");break;default:throw new Error("unrachable: invalid fsck result")}return Tt}),"Checking card...")});return function(fe){return pe.apply(this,arguments)}}(),this.mountCardForBrowsing=function(){var pe=(0,T.A)(function*(fe,at,Tt){return re.loaderService.showWhile((0,T.A)(function*(){return yield re.vfsService.mountCardUnchecked(fe,at,Tt)}),"Mounting...")});return function(fe,at,Tt){return pe.apply(this,arguments)}}(),this.mountCardEvent=new fn.J,this.deleteCardEvent=new fn.J,this.loading=!0,this._cards=gi([]),this.updateMutex=new Vs,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}get cards(){return this._cards}onEmulatorStop(){const r=this.emulationContext.session()?.mountedCard;void 0!==r&&this.storageCardContext.release(r,"cloudpilot")}loadCardInEmulator(r,o,i){var s=this;return(0,T.A)(function*(){const a=yield s.storageService.getCard(r);if(!a)throw new Error(`no card with id ${r}`);if(yield s.vfsService.releaseCard(r),void 0!==(yield o.getMountedKey()))throw new Error("attempt to mount a card while another card is mounted");const l=o.allocateCard(a.storageId,a.size);if(!l)throw new Error("unable to allocate card data");return s.storageCardContext.claim(r,"cloudpilot"),i?l.set(i):yield s.storageService.loadCardData(a.id,l,"cloudpilot"),a})()}ejectCurrentCard(){var r=this;return(0,T.A)(function*(){const o=r.emulationContext.context();if(!o)throw new Error("no running session");const i=o.session.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield r.storageService.getCard(i);if(!s)return console.warn(`no card with id ${i}`),void(yield r.storageService.updateSessionPartial(o.session.id,{mountedCard:void 0}));yield r.emulatorLock.runGuarded((0,T.A)(function*(){yield r.storageService.updateStorageCardPartial(i,{status:"dirty"}),yield r.snapshotService.triggerSnapshot(),yield r.storageService.updateSessionPartial(o.session.id,{mountedCard:void 0}),yield o.engine.releaseCard(s.storageId),r.storageCardContext.release(i,"cloudpilot")}))})()}checkCard(r){var o=this;return(0,T.A)(function*(){const i=o.mountedInSession(r.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(r.id)}const s=yield o.executeFsckAndUpdateCard(r.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${r.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(r.id,s):o.storageCardContext.release(r.id,"fstools"))}}})()}insertCard(r){return this.checkAndClaimCard(r,"insert")}browseCard(r){var o=this;return(0,T.A)(function*(){if("vfs"===o.storageCardContext.getOwner(r.id))return yield o.vfsService.activateCard(r.id),!0;const i=o.mountedInSession(r.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(r.id)}return o.checkAndClaimCard(r.id,"vfs")})()}updateCard(r,o){var i=this;return(0,T.A)(function*(){const s=yield i.storageService.getCard(r);if(!s)throw new Error(`no card with id ${r}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status="dirty"),i.storageService.updateStorageCardPartial(r,o)})()}saveCard(r,o,i){var s=this;return(0,T.A)(function*(){const a=yield s.getCard(r);if(!a)throw new Error(`no card with id ${r}`);const l=yield s.loaderService.showWhile((0,T.A)(function*(){return yield s.getCardData(a,i?o:void 0)}),"Exporting...");l&&s.fileService.saveFile(i?`${o}.gz`:o,l)})()}saveCards(r){var o=this;return(0,T.A)(function*(){const i=yield o.fstools.createZipContext(0);try{yield o.loaderService.showWhile(function(){var s=(0,T.A)(function*(a){const l=new Set,c=yield o.fstools.createGzipContext();let d=0;for(const h of r){d++;const m=yield o.getCard(h);if(!m)continue;o.loaderService.updateMessage(a,`Exporting ${d}/${r.length}...`);const S=Tf(m.name,V=>l.has(V));l.add(S);const M=yield o.getCardData(m,S,c);M&&(yield i.addEntry(`${S}.img.gz`,M))}});return function(a){return s.apply(this,arguments)}}())}catch(s){return void(yield o.alertService.errorMessage(`Failed to export card images: ${s?.message??"unknown error"}`))}o.fileService.saveFile(function Jne(){return`${Qu("cards")}.zip`}(),i.getContent())})()}getCard(r){var o=this;return(0,T.A)(function*(){return o.storageService.getCard(r)})()}mountedInSession(r){return this.sessionService.sessions().find(o=>o.mountedCard===r)}isLoading(){return this.loading}addAllCardsFromArchive(r){var o=this;return(0,T.A)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=mo?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"";try{yield o.loaderService.showWhile(function(){var a=(0,T.A)(function*(l){const c=yield o.fstools.createZipfileWalker(r);if(-1===c.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const d=c.GetTotalEntries(),h=new Set(o.cards().map(re=>re.name)),m=yield o.fstools.createGunzipContext();let S=1,M=!1;const V=[];for(;0===c.GetState();){o.loaderService.updateMessage(l,`Importing ${S++}/${d}...`);let re=c.GetCurrentEntryName();try{if(!i.test(re))throw new F_(`${re} has the wrong suffix to be considered as a card image.`);let pe=c.GetCurrentEntryContent();if(re.endsWith(".gz")&&pe&&(m.initialize(pe),pe=(yield m.gunzip())?m.getDecompressedData():void 0,re=re.substring(0,re.length-3)),void 0===pe)throw new F_(`Failed to extract ${re}. ${s}`);if(0===(yield o.nativeSupportService.getCardSupportLevel(pe.length)))throw new F_(`${re} is not a valid card image.`);const fe=Tf(re.replace(i,""),at=>h.has(at));yield o.doCreateCardFromImage(fe,pe,!1,!0)}catch(pe){if(!(pe instanceof F_))throw pe;V.push(re),M||(M=yield o.alertService.messageWithChoice("Error",pe.message,"Skip further errors",M,{},"Continue"))}finally{c.Next()}}V.length<=3&&V.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${V.join("<br>")}`):V.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${V.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${V.length-3} more files.\n                    `))});return function(l){return a.apply(this,arguments)}}(),"Importing...")}catch(a){yield o.alertService.errorMessage(`Failed to import card images: ${a?.message??"unknown error"}<br><br>${s}`)}})()}doCreateCardFromImage(r,o,i){var s=this;return(0,T.A)(function*(a,l,c,d=!1){const h={storageId:xL(),name:a,size:l.length,status:d?"dirty":"clean",dontFsckAutomatically:c},m=new Uint32Array(l.buffer,l.byteOffset,l.byteLength>>>2);if(d||c)yield s.storageService.importStorageCard(h,m);else{const[S,M]=yield s.fsckNewCard(m,h);yield s.storageService.importStorageCard(M,S)}}).apply(this,arguments)}getCardData(r,o,i){var s=this;return(0,T.A)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(r.size),i){const d=i.getBuffer();a=new Uint32Array(d.buffer,d.byteOffset,d.byteLength>>2)}const l=s.mountedInSession(r.id);let c;if(l&&l.id===s.emulationContext.session()?.id){const d=s.emulationContext.engine();if(!d)throw new Error("unreachable");c=yield d.getCardData(r.storageId),c&&(a?a.set(c):a=c)}return c||(a||(a=new Uint32Array(r.size>>>2)),yield s.storageService.loadCardData(r.id,a,s.storageCardContext.getOwner(r.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var r=this;return(0,T.A)(function*(){r._cards.set(yield r.updateMutex.runExclusive((0,T.A)(function*(){return(yield r.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))})))})()}cardIsMounted(r){var o=this;return(0,T.A)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===r)})()}checkAndClaimCard(r,o){var i=this;return(0,T.A)(function*(){if(yield i.cardIsMounted(r))throw new Error("card already mounted");let s=yield i.getCard(r);if(!s)throw new Error(`no card with id ${r}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if("dirty"===s.status){if(a=yield i.executeFsckAndUpdateCard(r),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(r,"fstools"),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(r),!s)throw new Error(`no card with id ${r}`)}switch(s.status){case"clean":break;case"unformatted":if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;break;case"dirty":return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case"unfixable":if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(r),yield i.mountCardInEmulator(r,a?.getImageData())):(yield i.mountCardForBrowsing(r,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(d){return i.errorService.fatalBug(d instanceof Error?d.message:"mount failed"),!1}return!0})()}applyFsckResult(r,o){var i=this;return(0,T.A)(function*(){2===o.getResult()&&(yield i.loaderService.showWhile((0,T.A)(function*(){yield i.storageService.updateCardData(r,o.getImageData(),o.getDirtyPages(),"fstools"),yield i.storageService.updateStorageCardPartial(r,{status:"clean"}),i.storageCardContext.release(r,"fstools")}),"Fixing errors..."))})()}fsckNewCard(r,o){var i=this;return(0,T.A)(function*(){const[s,a]=yield i.loaderService.showWhile((0,T.A)(function*(){const l=yield i.fstools.createFsckContext(o.size);l.getImageData().set(r);const c=l.fsck();return[l,c]}),"Checking card...");switch(a){case 1:return[r,{...o,status:"clean"}];case 2:{let l=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>l=!0},"Skip"),l?[s.getImageData(),{...o,status:"clean"}]:[r,{...o,status:"dirty"}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[r,{...o,status:"unformatted"}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[r,{...o,status:"unfixable"}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(r){var o=this;return(0,T.A)(function*(){const i=o.mountedInSession(r),s=yield o.storageService.getCard(r);!i||!s||(i.id===o.emulationContext.session()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(r,{status:"dirty"})))})()}mountCardInEmulator(r,o){var i=this;return(0,T.A)(function*(){if(yield i.cardIsMounted(r))throw new Error("card already mounted");const s=i.emulationContext.engine();if(!s)throw new Error("emulation engine not initialized");return yield i.loaderService.showWhile(()=>i.emulatorLock.runGuarded((0,T.A)(function*(){yield i.vfsService.releaseCard(r);const a=i.emulationContext.session();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(r,s,o);if(yield i.storageService.updateStorageCardPartial(r,{status:"dirty"}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:r}),!(yield s.mountCard(l.storageId)))throw yield s.releaseCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l})),"Inserting...")})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(eu),ae(Jn),ae(hc),ae(Yh),ae(ps),ae(Jw),ae(Dr),ae(Yu),ae(Tl),ae(td),ae(D_),ae(k_),ae(Kh))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),oE=(()=>{var e;class t{constructor(r,o){this.pwaService=r,this.clipboardService=o,this.injectStyles()}get runHidden(){return"pwa"!==this.pwaService.getInstallationMode()}get nativeNetworkIntegration(){return la.supportsNativeNetworkIntegration()}get nativeClipboard(){return la.supportsNativeClipboard()}featureStyle(r,o){return(o?"":`.feature-${r} { display: none }\n`)+(o?`.no-feature-${r} { display: none }`:"")}injectStyles(){const r=document.createElement("style");r.textContent=`\n            ${this.featureStyle("run-hidden",this.runHidden)}\n            ${this.featureStyle("indicator-fix",IC())}\n            ${this.featureStyle("clipboard-integration",this.clipboardService.isSupported())}\n            ${this.featureStyle("native-app",bl)}\n            ${this.featureStyle("ios-not-native",mo&&!bl)}\n            ${this.featureStyle("ios-or-safari",mo&&!bl||tf)}\n            ${this.featureStyle("ios",mo)}\n            ${this.featureStyle("native-network",this.nativeNetworkIntegration)}\n            ${this.featureStyle("dynamic-font-size",nf())}\n        `,document.head.appendChild(r)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(T_),ae(eE))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),ML=(()=>{var e;class t{constructor(r){this.zone=r,this.modalVisibilityChangeEvent=new fn.J,this.modalActive=!1,this.enabled=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}enable(){this.enabled||(this.enabled=!0,this.modalActive&&this.modalVisibilityChangeEvent.dispatch(!0))}update(){const r=document.querySelectorAll("ion-alert, ion-modal").length>0;r!==this.modalActive&&this.zone.run(()=>{this.modalActive=r,this.enabled&&this.modalVisibilityChangeEvent.dispatch(r)})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),ol=(()=>{var e;class t extends Gre{constructor(r,o,i,s,a,l,c,d,h,m,S,M,V,re,pe,fe,at,Tt,Et,wn){var Rn;super(Tt),Rn=this,this.storageService=r,this.ngZone=o,this.loaderService=i,this.emulationContext=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.clipboardService=d,this.kvsService=h,this.networkService=m,this.buttonService=S,this.bootstrapService=M,this.storageCardService=V,this.storageCardContext=re,this.sessionsService=pe,this.featureService=fe,this.uarmModulePromise=Et,this.switchSession=(no,Us={})=>this.mutex.runExclusive((0,T.A)(function*(){if(no===Rn.emulationContext.session()?.id)return!0;let mc;yield Rn.stopUnchecked(),yield Rn.bootstrapService.hasRendered(),(Us.showLoader??1)&&(mc=yield Rn.loaderService.add("Loading..."));try{const B_=yield Rn.storageService.getSession(no);if(!B_)throw new Error(`invalid session ${no}`);if(Rn.emulationContext.clearContext(),!(yield Rn.restoreSession(B_)))return!1;if(!Rn.engine)throw new Error("engine failed to initialize");Rn.emulationContext.setContext(B_,Rn.engine),yield Rn.sessionsService.updateSession({...B_,lastLaunch:Date.now()}),function p7(e){DC(gv,e+"")}(no)}finally{void 0!==mc&&Rn.loaderService.resolve(mc)}return!0})),this.resume=()=>this.mutex.runExclusive((0,T.A)(function*(){yield Rn.kvsService.mutex.runExclusive(()=>Rn.updateSettings()),yield Rn.doResume()})),this.pause=()=>this.mutex.runExclusive(()=>this.doStop()),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.block=()=>this.mutex.runExclusive(()=>this.doBlock()),this.unblock=()=>this.mutex.runExclusive(()=>this.doUnblock()),this.onSessionChange=([no,Us])=>{const mc=this.emulationContext.context();no===mc?.session?.id&&(void 0!==mc?.session?.mountedCard&&void 0===Us&&this.storageCardContext.release(mc.session.mountedCard,"cloudpilot"),void 0===Us?(PN(),this.stop()):(mc&&this.emulationContext.setContext(Us,mc.engine),this.updateSettings()))},this.onEmergencySave=()=>this.mutex.runExclusive((0,T.A)(function*(){const no=Rn.emulationContext.session();if(!no||!Rn.engine)return;const Us=yield Rn.engine.getFullState();Us&&Rn.sessionsService.emergencySaveSession(no,Us.rom,Us.memory,Us.nand,Us.savestate)})),this.clandestineExecute=no=>this.ngZone.runOutsideAngular(no),this.mutex=new Vs,this.isDirty=!1,r.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.stop),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),Tt.then(no=>{this.cloudpilotInstance=no,this.networkService.initialize(no),this.networkService.resumeEvent.addHandler(()=>this.processTimesliceNow())}),this.snapshotService.snapshotRequestEvent.addHandler(no=>this.mutex.runExclusive(()=>this.snapshotNow()).then(()=>no()).catch(no)),wn.lockEvent.addHandler(()=>{this.block()}),wn.unlockEvent.addHandler(()=>{this.unblock()}),at.modalVisibilityChangeEvent.addHandler(no=>no?void wn.lock():void wn.unlock()),this.newFrameEvent.addHandler(()=>at.enable());const hs=function f7(){const e=EC(gv);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==hs&&!LN()&&(this.bootstrapCompletePromise=this.recoverStoredSession(hs))}bootstrapComplete(){return this.bootstrapCompletePromise}waitForPendingSnapshot(){var r=this;return(0,T.A)(function*(){return r.engine?.waitForPendingSnapshot()})()}flush(){return this.mutex.waitForUnlock()}updateConfiguredHotsyncName(r){const o=this.emulationContext.session();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:r})}handleFatalInNativeCode(r){this.errorService.fatalInNativeCode(r)}handlePalmosStateChange(){this.isDirty=!0}onAfterAdvanceEmulation(r){const o=this.emulationContext.session(),i=this.getOSVersion();this.isUiInitialized()&&o&&o.osVersion!==i&&this.storageService.updateSessionPartial(o.id,{osVersion:i}),this.buttonService.tick(r),this.isDirty&&(this.ngZone.run(()=>{}),this.isDirty=!1)}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.networkService.handleSuspend())}handleSnapshot(r){const o=this.emulationContext.session();if(!o)throw new Error("unreachable: handleSnapshot without session");this.snapshotService.storeSnapshot(r,o.id)}getUarmModule(){return this.uarmModulePromise}snapshotNow(){var r=this;return(0,T.A)(function*(){if(!r.engine)return;if(r.isRunning()){const s=new Error("Immediate snapshot request while emulator is running");throw r.errorService.fatalBug(s.message),s}const o=r.emulationContext.session();if(!o)throw new Error("unreachable: emulator running w/o session");yield r.engine.waitForPendingSnapshot();const i=yield r.requestSnapshot();i?(yield r.snapshotService.storeSnapshot(i,o.id),yield r.engine.waitForPendingSnapshot()):console.warn("failed to take snapshot")})()}stopUnchecked(){var r=this;return(0,T.A)(function*(){r.emulationContext.session()&&(yield r.doStop(),yield r.snapshotNow(),r.storageCardService.onEmulatorStop(),r.emulationContext.clearContext())})()}updateSettings(){const r=this.emulationContext.session();if(!r)return;const o=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported(),s="cloudpilot"===r.engine?{speed:r.speed,manageHotsyncName:!r.dontManageHotsyncName,hotsyncName:r.hotsyncName,schedulerKind:this.kvsService.kvs.runHidden&&this.featureService.runHidden?1:0,clipboardIntegration:o,networkIntegration:this.kvsService.kvs.networkRedirection}:{disableAudio:r.disableAudio,targetMips:r.targetMips,warnSlowdownThreshold:r.warnSlowdownThreshold,maxHostLoad:r.maxHostLoad,runInBackground:this.kvsService.kvs.runHidden};s.networkIntegration!==this.engineSettings.networkIntegration&&this.networkService.reset(),this.updateEngineSettings({...s,memoryCrc:this.kvsService.kvs.snapshotIntegrityCheck&&true})}recoverStoredSession(r){var o=this;return(0,T.A)(function*(){try{yield o.loaderService.showWhile(()=>o.switchSession(r,{showLoader:!1}),"Loading...",1)}catch(i){mo&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience."),console.error(i)}})()}restoreSession(r){var o=this;return(0,T.A)(function*(){const{rom:i,memory:s,savestate:a,nand:l}=yield o.storageService.loadSession(r,o.kvsService.kvs.snapshotIntegrityCheck);if(!i)throw new Error(`invalid ROM ${r.rom}`);const c=void 0!==r.mountedCard?yield o.storageService.getCard(r.mountedCard):void 0,d=void 0!==c?{storageKey:c?.storageId,load:h=>o.storageCardService.loadCardInEmulator(c.id,h).then(()=>{})}:void 0;if(!(yield o.openSession(i,r.device,l,s,a,d)))return!1;if(!o.engine)throw new Error("engine failed to initialize");return o.networkService.reset(),o.buttonService.reset(o.engine),o.updateEngineSettings({automaticSnapshotInterval:1e3}),yield o.snapshotService.initialize(r),!0})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Jn),ae(We),ae(ps),ae(hc),ae(Jw),ae(Yu),ae(Dr),ae(eE),ae(Hi),ae(EL),ae(DL),ae(IL),ae(xf),ae(D_),ae(eu),ae(oE),ae(ML),ae(x_),ae(uL),ae(Kh))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),hoe=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.loaderService=r,this.emulationService=o,this.fileService=i,this.emulationContext=s,this.emulatorLock=a,this.alertService=l}saveBackup(r){var o=this;return(0,T.A)(function*(){const i=o.emulationContext.session();if(!i)return;const{failedDatabases:s,archive:a}=yield o.emulatorLock.runGuarded((0,T.A)(function*(){return o.loaderService.showWhile((0,T.A)(function*(){yield o.emulationService.flush(),yield o.emulationService.waitForPendingSnapshot();const l=o.emulationContext.engine();if(!l)throw new Error("emulator not running");return(yield l.backup(r))??{failedDatabases:void 0,archive:void 0}}),"Backing up...")}));a?void 0!==s&&s.length>0?yield o.alertService.message("Backup complete",`\n                    ${jw(s)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(lL(i,r),a)},"Cancel"):o.fileService.saveFile(lL(i,r),a):yield o.alertService.errorMessage("Backup failed.")})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(ps),ae(ol),ae(Tl),ae(hc),ae(Kh),ae(Dr))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const iE=window.AudioContext||window.webkitAudioContext;function kL(e,t=500){return new Promise((n,r)=>{setTimeout(()=>r(new Error("timeout")),t),e.then(n,r)})}class goe{constructor(t){var n=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,T.A)(function*(){return n.initializeAudioUnguarded()})),this.updateState=()=>{this.mutex.runExclusive((0,T.A)(function*(){if(!n.audio||(n.audio.gainNode.gain.value=n.shouldMute()?0:n.gain(),n.shouldRun()?n.emulationService.enablePcmStreaming():n.emulationService.disablePcmStreaming(),n.isRunning()===n.shouldRun()))return;const r=n.audio.context.state;switch(r){case"interrupted":break;case"closed":return void console.warn("audio context closed unexpectedly, no more audio will be played")}if(n.shouldRun())try{yield kL(n.audio.context.resume()),console.log("resume audio context")}catch(o){console.error(`failed to resume audio from state ${r}`,o)}else try{yield kL(n.audio.context.suspend()),console.log("suspend audio context")}catch(o){console.error(`failed to suspend audio from state ${r}`,o)}}))},this.onPwmUpdate=function(){var r=(0,T.A)(function*(o){n.pendingPwmUpdate=o,n.applyPwmUpdate()});return function(o){return r.apply(this,arguments)}}(),this.onContextStateChange=()=>{if(this.audio)switch(console.log(`audio context state change ${this.oldAudioState} -> ${this.audio.context.state}`),this.oldAudioState=this.audio.context.state,this.audio.context.state){case"suspended":"interrupted"===this.oldAudioState&&this.shouldRun()&&this.updateState(),this.emulationService.disablePcmStreaming();break;case"running":this.emulationService.enablePcmStreaming(),this.audio.gainNode.gain.value=this.shouldMute()?0:this.gain()}},this.mutex=new Vs,this.muted=!1,this.workletBound=!1,this.oldAudioState="[new]",this.bind(),this.emulationService.openSessionEvent.addHandler(()=>this.bind()),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.palmosStateChangeEvent.addHandler(()=>this.updateState()),document.addEventListener("visibilitychange",()=>{mo&&"visible"===document.visibilityState?setTimeout(()=>this.updateState(),500):this.updateState()}),window.__cpeAudioDriver=this}isInitialized(){return void 0!==this.audio}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}reactivateRequired(){return(this.audio??!1)&&("suspended"===this.audio?.context.state||"interrupted"===this.audio?.context.state)&&this.shouldRun()}reactivate(){this.mute(!1),this.updateState()}shouldRun(){return this.gain()>0&&("hidden"!==document.visibilityState||this.runHidden())}shouldMute(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||this.muted}bind(){this.unbind(),this.pwmUpdateEvent=this.emulationService.pwmUpdateEvent(),this.pwmUpdateEvent?.addHandler(this.onPwmUpdate),this.emulationService.pcmPort()&&this.bindWorkletNode()}unbind(){this.pwmUpdateEvent?.removeHandler(this.onPwmUpdate),this.disconnectPwmSource(),this.pwmUpdateEvent=void 0,this.unbindWorkletNode()}registerWorklet(t){return(0,T.A)(function*(){const n=window.Worker;window.Worker=class{constructor(o){this.ready=t.audioWorklet.addModule(o)}};const r=new Worker(y.tu(new URL(y.p+y.u(9193),y.b)));window.Worker=n,yield r.ready})()}initializeAudioUnguarded(){var t=this;return(0,T.A)(function*(){if(t.audio)return!0;let n,r;try{n=t.createAudioContext()}catch(i){return console.error("web audio not available",i),!1}try{n.destination.channelCount=2}catch(i){console.warn("audio driver: failed to set channel count",i)}try{yield t.registerWorklet(n),r=new AudioWorkletNode(n,"pcm-processor",{channelCount:2,numberOfOutputs:1,outputChannelCount:[2],processorOptions:{sampleRateTo:n.sampleRate}})}catch(i){console.error("failed to load audio worklet, PCM audio not available",i)}const o=n.createGain();return o.channelInterpretation="speakers",o.gain.value=t.gain(),o.connect(n.destination),t.audio={context:n,gainNode:o,workletNode:r},n.addEventListener("statechange",t.onContextStateChange),t.updateState(),t.applyPwmUpdate(),t.bindWorkletNode(),console.log(`audio initialised at ${n.sampleRate}Hz`),!0})()}createAudioContext(){try{return new iE({sampleRate:44100,latencyHint:"interactive"})}catch(t){console.warn("failed to request context at 44100Hz , latency interactive",t)}try{return new iE({latencyHint:"interactive"})}catch(t){console.warn("failed to request context at arbitrary rate, latency interactive",t)}try{return new iE}catch(t){throw console.error("failed to request context at arbitrary rate and latency",t),t}}isRunning(){return"running"===this.audio?.context.state}applyPwmUpdate(){if(!this.audio||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:n}=this.pendingPwmUpdate,r=this.audio.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||n<=0||t>=r)return void this.disconnectPwmSource();const o=this.audio.context.createBuffer(1,Math.round(r/t),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<n?.5:0;const s=this.audio.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectPwmSource(),s.connect(this.audio.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectPwmSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}dispatchPcmControlMessage(t,n){this.audio?.workletNode?.port.postMessage(t,n)}bindWorkletNode(){if(this.workletBound||!this.audio?.workletNode)return;const t=this.emulationService.pcmPort();t&&(this.audio.workletNode.connect(this.audio.gainNode),this.dispatchPcmControlMessage({type:"setStreamMessagePort",port:t},[t]),this.shouldRun()?this.emulationService.enablePcmStreaming():this.emulationService.disablePcmStreaming(),this.workletBound=!0,console.log("bound worklet"))}unbindWorkletNode(){this.workletBound&&(this.audio?.workletNode?.disconnect(),this.dispatchPcmControlMessage({type:"reset"}),this.emulationService.disablePcmStreaming(),this.workletBound=!1,console.log("unbound worklet"))}}let L_=(()=>{var e;class t extends goe{constructor(r,o,i){super(r),this.kvs=o,this.featureService=i,this.activated=!1}activate(){this.activated=!0,this.updateState()}suspend(){this.activated=!1,this.updateState()}shouldRun(){return super.shouldRun()&&this.activated}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden&&this.featureService.runHidden}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(ol),ae(Hi),ae(oE))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),NL=(()=>{var e;class t{constructor(r,o){this.emulationService=r,this.ngZone=o,this.onInterval=()=>{this.emulationService.isSlowdown()?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.onOpenSession=()=>{this.reset()},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged),this.emulationService.openSessionEvent.addHandler(this.onOpenSession)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(ol),ae(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const sE=q.m515,voe=Ww[2],_oe=Ww[0],il="rgba(0,0,0,0.2)";function OL(e,t){const n=Gh(e),r=(0===n.screenSize?3:2)*t,o={frameDevice:1,frameCanvas:r},i=c=>({frameDevice:c,frameCanvas:c*r}),s=c=>({frameDevice:c,frameCanvas:o.frameCanvas+c*r}),a=i(n.silkscreenHeight>0?1:0),l=i(function Coe(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(n.screenSize));return{scale:r,borderWidth:o,height:i(2*o.frameDevice+n.height+a.frameDevice+n.silkscreenHeight+l.frameDevice),width:i(2*o.frameDevice+n.width),screenHeight:i(n.height),screenWidth:i(n.width),screenLeft:s(0),screenTop:s(0),screenBottom:s(n.height),separatorHeight:a,silkscreenHeight:i(n.silkscreenHeight),silkscreenTop:s(n.height+a.frameDevice),silkscreenBottom:s(n.height+a.frameDevice+n.silkscreenHeight),softSilkscreenHeight:i(n.silkscreenHeight>0?0:n.height-n.width),buttonHeight:l,buttonWidth:l,buttonTop:s(n.height+a.frameDevice+n.silkscreenHeight),buttonBottom:s(n.height+a.frameDevice+n.silkscreenHeight+l.frameDevice),radiusDpadSelect:{frameCanvas:l.frameCanvas/5,frameDevice:l.frameDevice/5},angleDpad:Math.PI/2-Math.atan((n.width-4*l.frameDevice)/l.frameDevice)}}class PL{constructor(t){this.skinLoader=t,this.layout=OL(sE,this.pixelRatio()),this.dpad=!1,this.onResize=new fn.J}get width(){switch(this.getOrientation()){case Or.portrait:case Or.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Or.portrait:case Or.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.setupTransformation(),this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,n=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Or.landscape90:{const h=c;c=this.layout.height.frameDevice-l,l=h;break}case Or.landscape270:{const h=c;c=l,l=this.layout.width.frameDevice-h;break}case Or.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const d=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(n)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=d&&(c=d-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=d)return;return[l,c]}isSilkscreen(t){const[,n]=t;return!this.isButtons(t)&&n>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,n]){if(t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice)return 3;if(t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice)return 2;if(t>=2*this.layout.buttonWidth.frameDevice){if(this.dpad){const r={x:this.layout.screenWidth.frameDevice/2,y:this.layout.buttonTop.frameDevice+this.layout.buttonHeight.frameDevice/2},o={x:Math.abs(t-r.x),y:Math.abs(n-r.y)},i=Math.tan(this.layout.angleDpad);return o.x**2+o.y**2<=this.layout.radiusDpadSelect.frameDevice**2?16:n<r.y&&o.y/o.x>=i?4:n>r.y&&o.y/o.x>=i?5:t<r.x&&o.y/o.x<i?14:15}return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4}return t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t){var n=this;return(0,T.A)(function*(r,o=n.ctx?.canvas){if(!o)return;n.dpad=r,n.layout=OL(n.getDeviceId(),n.pixelRatio()),n.onResize.dispatch(),o.width=n.width,o.height=n.height;const i=o.getContext("2d");if(!i)throw new Error("canvas not supported - get a new browser");n.ctx=i,n.setupTransformation(),n.fillCanvasRect(0,0,n.layout.width.frameCanvas,n.layout.height.frameCanvas,n.frameColor()),n.fillRect(0,0,n.layout.screenWidth.frameDevice,n.layout.screenHeight.frameDevice+n.layout.silkscreenHeight.frameDevice+n.layout.separatorHeight.frameDevice+n.layout.buttonHeight.frameDevice,n.backgroundColor()),n.drawEmulationCanvas(),yield Promise.all([n.drawSilkscreen(),n.drawButtons()])}).apply(this,arguments)}drawButtons(){var t=this;return(0,T.A)(function*(n=[]){if(t.ctx)if(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),n.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,il),n.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,il),n.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,il),n.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,il),t.dpad){const r={x:t.layout.borderWidth.frameCanvas+t.layout.screenWidth.frameCanvas/2,y:t.layout.buttonTop.frameCanvas+t.layout.buttonHeight.frameCanvas/2},o={x:t.layout.borderWidth.frameCanvas+2*t.layout.buttonWidth.frameCanvas,y:t.layout.buttonTop.frameCanvas},i={x:t.layout.borderWidth.frameCanvas+t.layout.screenWidth.frameCanvas-2*t.layout.buttonWidth.frameCanvas,y:t.layout.buttonTop.frameCanvas},s={x:o.x,y:t.layout.buttonTop.frameCanvas+t.layout.buttonHeight.frameCanvas},a={x:i.x,y:t.layout.buttonTop.frameCanvas+t.layout.buttonHeight.frameCanvas},l=t.layout.radiusDpadSelect.frameCanvas,c=t.layout.angleDpad;n.includes(4)&&(t.ctx.beginPath(),t.ctx.moveTo(o.x,o.y),t.ctx.lineTo(i.x,i.y),t.ctx.lineTo(r.x+l*Math.cos(c),r.y-l*Math.sin(c)),t.ctx.arc(r.x,r.y,l,-c,c-Math.PI,!0),t.ctx.lineTo(o.x,o.y),t.ctx.fillStyle=il,t.ctx.fill()),n.includes(5)&&(t.ctx.beginPath(),t.ctx.moveTo(s.x,s.y),t.ctx.lineTo(a.x,a.y),t.ctx.lineTo(r.x+l*Math.cos(c),r.y+l*Math.sin(c)),t.ctx.arc(r.x,r.y,l,c,Math.PI-c,!1),t.ctx.lineTo(s.x,s.y),t.ctx.fillStyle=il,t.ctx.fill()),n.includes(14)&&(t.ctx.beginPath(),t.ctx.moveTo(o.x,o.y),t.ctx.lineTo(s.x,s.y),t.ctx.lineTo(r.x-l*Math.cos(c),r.y+l*Math.sin(c)),t.ctx.arc(r.x,r.y,l,Math.PI-c,Math.PI+c,!1),t.ctx.lineTo(o.x,o.y),t.ctx.fillStyle=il,t.ctx.fill()),n.includes(15)&&(t.ctx.beginPath(),t.ctx.moveTo(i.x,i.y),t.ctx.lineTo(a.x,a.y),t.ctx.lineTo(r.x+l*Math.cos(c),r.y+l*Math.sin(c)),t.ctx.arc(r.x,r.y,l,c,-c,!0),t.ctx.lineTo(i.x,i.y),t.ctx.fillStyle=il,t.ctx.fill()),n.includes(16)&&(t.ctx.beginPath(),t.ctx.arc(r.x,r.y,l,0,2*Math.PI),t.ctx.fillStyle=il,t.ctx.fill())}else n.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,il),n.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,il)}).apply(this,arguments)}onAfterUpdateCanvas(){}pixelRatio(){return devicePixelRatio}setupTransformation(){if(this.ctx)switch(this.ctx.resetTransform(),this.getOrientation()){case Or.portrait:case void 0:break;case Or.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Or.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Or.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,T.A)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,voe),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,n,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,n,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,n,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case q.pegT600c:case q.pegT650c:return"silkscreen/clie-t600.svg";case q.pegN700c:case q.pegN600c:return"silkscreen/clie-n610.svg";case q.pegS320:case q.pegS300:return"silkscreen/clie-s300.svg";case q.pegS500c:return"silkscreen/clie-s500.svg";case q.pegT400:return"silkscreen/clie-t415.svg";case q.acerS11:return"silkscreen/acer-s10.svg";case q.palmPilot:case q.pilot:case q.iii:case q.palmVII:return"silkscreen/pilot.svg";case q.m500:return"silkscreen/m500.svg";case q.m505:case q.m515:case q.m520:return"silkscreen/m515.svg";case q.iiic:return"silkscreen/iiic.svg";case q.m100:case q.m105:case q.m125:return"silkscreen/m100.svg";case q.m130:return"silkscreen/m130.svg";case q.i710:case q.te2:return"silkscreen/tungstenw.svg";case q.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case q.acerS11:return"hard-buttons/acer-s10.svg";case q.pegNR70:return"hard-buttons/clie-nr70.svg";case q.pegN700c:return"hard-buttons/clie-n700.svg";case q.pegN600c:return"hard-buttons/clie-n610.svg";case q.pegS300:return"hard-buttons/clie-s300.svg";case q.pegS500c:return"hard-buttons/clie-s500.svg";case q.pegS320:return"hard-buttons/clie-s320.svg";case q.pegT400:case q.pegT600c:case q.pegT650c:return"hard-buttons/clie-t415.svg";case q.pilot:case q.palmPilot:return"hard-buttons/pilot.svg";case q.m500:return"hard-buttons/m500.svg";case q.m505:case q.m515:case q.m520:return"hard-buttons/m515.svg";case q.iiic:return"hard-buttons/iiic.svg";case q.m100:case q.m105:return"hard-buttons/m100.svg";case q.m125:return"hard-buttons/m125.svg";case q.m130:return"hard-buttons/m130.svg";case q.i710:return"hard-buttons/tungstenw.svg";case q.te2:case q.frankene2:return"hard-buttons/te2.svg";case q.iii:case q.iiix:case q.iiixe:case q.palmVII:case q.palmVIIEZ:case q.palmVIIx:return"hard-buttons/iiix.svg";case q.iiie:return"hard-buttons/iiie.svg";case q.i705:return"hard-buttons/i705.svg";case q.handera330:return"hard-buttons/handera330.svg";case q.handera330c:return"hard-buttons/handera330c.svg";case q.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return Cw(this.getDeviceId())?"white":_oe}frameColor(){return Cw(this.getDeviceId())?"white":"#ccc"}}function Eoe(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(),r.src=e})}class Ioe{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const n=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,Eoe((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),r=function woe(e,t){let n,r;const o=document.createElement("canvas");return function(){var i=(0,T.A)(function*(s,a){if(n===s&&r===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(tf||mo)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),n=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(n.then(([,o])=>o),n.then(([o])=>o));return this.images.set(t,r),r}}class Aoe extends PL{constructor(t,n,r,o){super(o),this.deviceId=t,this.orientation=n,this._pixelRatio=r}setCanvas(t){return this.initWithCanvas(!1,t)}getDeviceId(){return this.deviceId}getOrientation(){return this.orientation}pixelRatio(){return this._pixelRatio}}let $_=(()=>{var e;class t extends PL{constructor(r,o){var i;super(new Ioe(r)),i=this,this.kvsService=o,this.initialize=(s,a=this.session)=>this.mutex.runExclusive((0,T.A)(function*(){i.initializedSession.set(void 0),i.session=a,a?.device!==i.session?.device&&(i.lastEmulationCanvas=void 0),yield i.initWithCanvas(void 0!==i.session&&U2(i.session.device)&&!i.kvsService.kvs.dontEmulateDPad,s),i.initializedSession.set(i.session)})),this.initializedSession=gi(void 0),this.statisticsVisible=!1,this.initialized=!1,this.mutex=new Vs}clearStatistics(){var r=this;return(0,T.A)(function*(){r.statisticsVisible=!1,r.layout.silkscreenHeight.frameCanvas>0?yield r.drawSilkscreen():yield r.drawEmulationCanvas()})()}updateStatistics(r,o){var i=this;return(0,T.A)(function*(){yield i.clearStatistics(),i.drawStatistics(r,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=r,i.statisticsVisible=!0})()}screenshot(r){var o=this;return(0,T.A)(function*(){if(!o.ctx)return;const i=new Aoe(o.getDeviceId(),o.getOrientation(),r,o.skinLoader),s=document.createElement("canvas");return s.width=i.width,s.height=i.height,yield i.setCanvas(s),i.updateEmulationCanvas(o.lastEmulationCanvas),new Promise((a,l)=>{s.toBlob(c=>c?a(c):l(new Error("unable to create screenshot")))})})()}getDeviceId(){return this.session?.device??sE}getOrientation(){return this.session?.deviceOrientation??Or.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(r,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function Toe(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Gh(this.session?.device??sE).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...r||o?[]:["collecting statistics..."],...r?[`last snapshot          : ${new Date(r.timestamp).toLocaleTimeString()}`,`snapshot size          : ${r.size>>>10} kB`,`snapshot time total    : ${r.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${r.timeBlocking.toFixed(2)} msec`]:[],..."cloudpilot"===o?.type?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[],..."uarm"===o?.type?[`current MIPS           : ${o.currentSpeedMips.toFixed(2)}`,`current MIPS limit     : ${o.currentMaxSpeedMips.toFixed(2)}`,`current load           : ${(o.currentSpeedMips/o.currentMaxSpeedMips*100).toFixed(2)}%`]:[]].forEach((c,d)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*d)))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(x_),ae(Hi))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function xoe(e,t){if(1&e){const n=Cn();B(0,"ion-item",4),$e("click",function(){return pt(n),ht(it().power())}),B(1,"ion-label"),Te(2,"Power"),H(),tt(3,"ion-icon",5),H()}if(2&e){const n=it();he("detail",!1)("disabled",!n.emulationService.isRunning())}}function Moe(e,t){if(1&e){const n=Cn();B(0,"ion-item",4),$e("click",function(){return pt(n),ht(it().hotsync())}),B(1,"ion-label"),Te(2,"Hotsync"),H(),tt(3,"ion-icon",6),H()}if(2&e){const n=it();he("detail",!1)("disabled",!n.emulationService.isRunning())}}function koe(e,t){if(1&e){const n=Cn();B(0,"ion-item",4),$e("click",function(){return pt(n),ht(it().reset())}),B(1,"ion-label"),Te(2,"Reset"),H(),tt(3,"ion-icon",7),H()}if(2&e){const n=it();he("detail",!1)("disabled",!n.emulationService.isRunning())}}function Roe(e,t){if(1&e){const n=Cn();B(0,"ion-item",8),$e("click",function(){return pt(n),ht(it().insertCard())}),B(1,"ion-label"),Te(2),H(),tt(3,"ion-icon",9),H()}if(2&e){const n=it();he("detail",!1),ue(2),vi("Insert ",n.hasMemorystick?"stick":"SD card")}}function Noe(e,t){if(1&e){const n=Cn();B(0,"ion-item",8),$e("click",function(){return pt(n),ht(it().ejectCard())}),B(1,"ion-label"),Te(2),H(),tt(3,"ion-icon",10),H()}if(2&e){const n=it();he("detail",!1),ue(2),vi('Eject "',n.mountedCardName(),'"')}}function Ooe(e,t){if(1&e){const n=Cn();B(0,"ion-item",8),$e("click",function(){return pt(n),ht(it().mute(!1))}),B(1,"ion-label"),Te(2),H(),tt(3,"ion-icon",11),H()}if(2&e){const n=it();he("detail",!1),ue(2),vi("",n.audioRequiresReactivate?"Reactivate":n.isInitialized?"Unmute":"Enable"," audio")}}function Poe(e,t){if(1&e){const n=Cn();B(0,"ion-item",8),$e("click",function(){return pt(n),ht(it().mute(!0))}),B(1,"ion-label"),Te(2,"Mute audio"),H(),tt(3,"ion-icon",12),H()}2&e&&he("detail",!1)}function Foe(e,t){if(1&e){const n=Cn();B(0,"ion-item",4),$e("click",function(){return pt(n),ht(it().backup())}),B(1,"ion-label"),Te(2,"Save backup"),H(),tt(3,"ion-icon",13),H()}if(2&e){const n=it();he("detail",!1)("disabled",n.backupDisabled)}}function Loe(e,t){if(1&e){const n=Cn();B(0,"ion-item",8),$e("click",function(){return pt(n),ht(it().rotate())}),B(1,"ion-label"),Te(2,"Rotate"),H(),tt(3,"ion-icon",14),H()}2&e&&he("detail",!1)}function $oe(e,t){if(1&e){const n=Cn();B(0,"ion-item",8),$e("click",function(){return pt(n),ht(it().editSettings())}),B(1,"ion-label"),Te(2,"Settings"),H(),tt(3,"ion-icon",15),H()}2&e&&he("detail",!1)}function Boe(e,t){if(1&e){const n=Cn();B(0,"ion-item",8),$e("click",function(){return pt(n),ht(it().saveScreenshot())}),B(1,"ion-label"),Te(2,"Save screenshot"),H(),tt(3,"ion-icon",16),H()}2&e&&he("detail",!1)}function joe(e){switch(e){case Or.portrait:case void 0:return Or.landscape90;case Or.landscape90:return Or.portrait180;case Or.portrait180:return Or.landscape270;case Or.landscape270:return Or.portrait;default:throw new Error("cannot happen")}}let Uoe=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d,h,m,S,M,V,re,pe,fe,at,Tt,Et,wn){this.emulationService=r,this.emulationContext=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=d,this.modalController=h,this.sessionService=m,this.performanceWatchdogService=S,this.canvasDisplayService=M,this.nativeSupportService=V,this.storageCardService=re,this.alertService=pe,this.alertController=fe,this.storageService=at,this.errorService=Tt,this.loaderService=Et,this.fileService=wn,this.showHelp=()=>{},this.mountedCardName=_i(()=>{const Rn=this.emulationContext.session()?.mountedCard,hs=void 0!==Rn?this.storageCardService.cards().find(no=>no.id===Rn)?.name:void 0;return console.log(Rn,this.storageCardService.cards()),hs??(this.hasMemorystick?"stick":"SD card")})}reset(){var r=this;return(0,T.A)(function*(){r.popoverController.dismiss(),(yield r.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>r.emulationService.reset()},{text:"No extensions",handler:()=>r.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>r.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var r=this;return(0,T.A)(function*(){r.popoverController.dismiss(),(yield r.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>r.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>r.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isInitialized(){return this.audioService.isInitialized()}get isAudioOff(){return this.kvsService.kvs.volume<=0}get audioRequiresReactivate(){return this.audioService.reactivateRequired()}mute(r){r?this.audioService.mute(!0):this.audioService.reactivateRequired()?this.audioService.reactivate():this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const r=this.emulationContext.session();return!!r&&function hne(e){switch(e){case q.i705:case q.i710:case q.pegNR70:case q.pegT650c:case q.lp168:case q.frankene2:case q.te2:return!0;default:return!1}}(r.device)}get hotsyncDisabled(){const r=this.emulationContext.session();return!!r&&function gne(e){switch(e){case q.frankene2:case q.te2:return!0;default:return!1}}(r.device)}get hasActiveSession(){return!!this.emulationContext.session()}get supportsStorageCard(){const r=this.emulationContext.session();return!!r&&"none"!==ww(r.device)}get hasMemorystick(){const r=this.emulationContext.session();return!!r&&"memorystick"===ww(r.device)}get hasMountedCard(){return void 0!==this.emulationContext.session()?.mountedCard}editSettings(){var r=this;return(0,T.A)(function*(){const o=r.emulationContext.session();if(!o)return;const i=oL(o),s={...i},a=yield r.modalController.create({component:gL,backdropDismiss:!1,componentProps:{settings:i,availableDevices:[o.device],device:o.device,onSave:(l=(0,T.A)(function*(){const c=iL(o,i);(function Voe(e,t){if("cloudpilot"===e.engine&&"cloudpilot"===t.engine)return e.speed!==t.speed;if("uarm"===e.engine&&"uarm"===t.engine)return e.targetMips!==t.targetMips||e.maxHostLoad!==t.maxHostLoad||e.warnSlowdownThreshold!==t.warnSlowdownThreshold;throw new Error("unreachable")})(s,i)&&r.performanceWatchdogService.reset(),s.deviceOrientation!==i.deviceOrientation&&(r.canvasDisplayService.initialize(void 0,c),r.canvasDisplayService.updateEmulationCanvas()),yield r.sessionService.updateSession(c),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield r.popoverController.dismiss(),yield a.present()})()}rotate(){var r=this;return(0,T.A)(function*(){const o=r.emulationContext.session();if(!o)return;yield r.storageService.updateSessionPartial(o.id,{deviceOrientation:joe(o.deviceOrientation)});const i=r.emulationContext.session();yield r.canvasDisplayService.initialize(void 0,i),r.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var r=this;return(0,T.A)(function*(){r.popoverController.dismiss();const o=r.emulationContext.session()?.device;if(void 0===o)return;const i=(yield Promise.all(r.storageCardService.cards().map(a=>r.nativeSupportService.deviceSupportsCard(o,a.size).then(l=>[a,l])))).filter(([a,l])=>l&&!r.storageCardService.mountedInSession(a.id)).map(([a])=>a);0!==i.length?yield(yield r.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>r.storageCardService.insertCard(a)}],inputs:i.map((a,l)=>({label:a.name,type:"radio",value:a.id,checked:0===l})),backdropDismiss:!1})).present():r.alertService.message("No image available",`There is no ${r.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var r=this;return(0,T.A)(function*(){try{yield r.storageCardService.ejectCurrentCard()}catch(o){r.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}r.popoverController.dismiss()})()}saveScreenshot(){var r=this;return(0,T.A)(function*(){r.popoverController.dismiss();try{yield r.loaderService.showWhile((0,T.A)(function*(){const o=r.emulationContext.session();if(!o)return;const i=yield r.canvasDisplayService.screenshot(2);if(!i)throw new Error("screenshot is undefined");r.fileService.saveBlob(function tre(e){return`${Qu(e.name)}.png`}(o),i)}))}catch(o){console.error(o),r.alertService.errorMessage("Failed to create screenshot.")}})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(ol),_(hc),_(hoe),_(DL),_(Lh),_(dc),_(L_),_(Hi),_(js),_(eu),_(NL),_($_),_(Yh),_(xf),_(Dr),_(tw),_(Jn),_(Yu),_(ps),_(Tl))},this.\u0275cmp=Xe({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},standalone:!1,decls:16,vars:12,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"],["lines","full","button","",3,"click","detail","disabled"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"click","detail"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"],["name","camera-outline","slot","end"]],template:function(o,i){1&o&&(B(0,"ion-list"),nn(1,xoe,4,2,"ion-item",0)(2,Moe,4,2,"ion-item",0)(3,koe,4,2,"ion-item",0)(4,Roe,4,2,"ion-item",1)(5,Noe,4,2,"ion-item",1)(6,Ooe,4,2,"ion-item",1)(7,Poe,4,1,"ion-item",1)(8,Foe,4,2,"ion-item",0)(9,Loe,4,1,"ion-item",1)(10,$oe,4,1,"ion-item",1)(11,Boe,4,1,"ion-item",1),B(12,"ion-item",2),$e("click",function(){return i.help()}),B(13,"ion-label"),Te(14,"Help"),H(),tt(15,"ion-icon",3),H()()),2&o&&(ue(),he("ngIf",i.hasActiveSession&&!i.powerDisabled),ue(),he("ngIf",i.hasActiveSession&&!i.hotsyncDisabled),ue(),he("ngIf",i.hasActiveSession),ue(),he("ngIf",i.supportsStorageCard&&!i.hasMountedCard),ue(),he("ngIf",i.supportsStorageCard&&i.hasMountedCard),ue(),he("ngIf",(i.isMuted||i.audioRequiresReactivate)&&!i.isAudioOff),ue(),he("ngIf",!i.isMuted&&!i.isAudioOff&&!i.audioRequiresReactivate),ue(),he("ngIf",i.hasActiveSession),ue(),he("ngIf",i.hasActiveSession),ue(),he("ngIf",i.hasActiveSession),ue(),he("ngIf",i.hasActiveSession),ue(),he("detail",!1))},dependencies:[To,Ho,Ao,zu,aa],encapsulation:2}))}return e(),t})();class Hoe{constructor(t,n){this.emulationService=t,this.canvasDisplayService=n,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const d=this.canvasDisplayService.determineButton(c);d===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):d!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=d,this.handleButtonDown(d));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&!r.ctrlKey&&!r.metaKey&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0,this.dpad=!1}bind(t,n,r=window){this.dpad=n,this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,n,r,o){t.addEventListener(n,r,o)}removeEventListener(t,n,r,o){t.removeEventListener(n,r,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey||!this.emulationService.supportsKeyboardIO()}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t)){switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":return 0;case"ArrowLeft":return this.dpad?14:0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":return 3;case"ArrowRight":return this.dpad?15:3}if(this.dpad)switch(t.key){case"Enter":case" ":return 16}}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let Goe=(()=>{var e;class t extends Hoe{constructor(r,o,i,s){super(r,o),this.modalWatcher=i,this.ngZone=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.ngZone.run(()=>{})}addEventListener(r,o,i,s){this.ngZone.runOutsideAngular(()=>r.addEventListener(o,i,s))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(ol),ae($_),ae(ML),ae(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function FL(e){return/\.(prc|pdb|pqa)$/i.test(e)}class LL extends Error{}class Koe{constructor(t,n,r,o,i){this.fstools=t,this.alertService=n,this.snapshotService=r,this.files=o,this.emulationContext=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,T.A)(function*(){for(const n of t.files){let r;try{r=yield n.getContent()}catch(o){console.warn(o),t.filesFail.push(n.name);continue}if(/\.zip/i.test(n.name)&&r.length<33554432)try{yield t.installZip(n)}catch{t.filesFail.push(n.name)}else FL(n.name)?yield t.installOne(n.name,r):t.filesFail.push(n.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,n){var r=this;return(0,T.A)(function*(){const o=yield r.emulationContext.engine();if(!o)throw new Error("emulator not running");const i=yield o.installDb(n);switch(i){case 2:r.filesRequireReset.push(t),r.filesSuccess.push(t),r.sizeInstalledSinceLastsnapshot+=n.length;break;case 1:r.filesSuccess.push(t),r.sizeInstalledSinceLastsnapshot+=n.length;break;case-7:throw new LL("DB installation not currently possible");default:r.filesFail.push(t),yield r.reportError(t,i)}if(2===i||1===i)try{const s=function Zoe(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(n);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${t} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,t)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var n=this;return(0,T.A)(function*(){const r=yield n.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===r.GetState();){const i=r.GetCurrentEntryName().replace(/^.*\//,"");if(!FL(r.GetCurrentEntryName())){r.Next();continue}const s=r.GetCurrentEntryContent();s?(yield n.installOne(i,s),o++):n.filesFail.push(i),r.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,n){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function qoe(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(n)}.`)}errorDialog(t,n){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,n,"Skip any remaining errors",!1,{},"Continue").then(r=>{this.skipErrors=r})}}let Yoe=(()=>{var e;class t{constructor(r,o,i,s,a,l,c){this.emulationService=r,this.loaderService=o,this.snapshotService=i,this.alertService=s,this.fstools=a,this.emulationContext=l,this.emulatorLock=c}installFiles(r){var o=this;return(0,T.A)(function*(){try{yield o.installFilesUnguarded(r)}catch(i){if(i instanceof LL)return void o.alertService.errorMessage("Installation is not currently possible. Navigate to the PalmOS launcher and try again.");throw i}})()}installFilesUnguarded(r){var o=this;return(0,T.A)(function*(){const[i,s,a]=yield o.emulatorLock.runGuarded((0,T.A)(function*(){return o.loaderService.showWhile((0,T.A)(function*(){return yield o.emulationService.flush(),yield o.emulationService.waitForPendingSnapshot(),yield new Koe(o.fstools,o.alertService,o.snapshotService,r,o.emulationContext).run()}),"Installing...")})),l=[o.messageSuccess(i),o.messageFailed(a),o.messageRequireReset(s)].filter(d=>!!d).join("<br/><br/>");let c;c=0===a.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",o.alertService.message(c,l,s.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(r){switch(r.length){case 0:return;case 1:return`Installation of ${r[0]} successful.`;default:return`Installation of ${r.length} items successful.`}}messageFailed(r){return r.length>0?`Installation of  ${jw(r)} failed.`:void 0}messageRequireReset(r){return r.length>0?`${jw(r)} require a device reset.`:void 0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(ol),ae(ps),ae(Jw),ae(Dr),ae(k_),ae(hc),ae(Kh))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),aE=(()=>{var e;class t{constructor(r,o,i){this.router=r,this.canvasDisplayService=o,this.emulationContext=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=function Xoe(e){const t=document.querySelectorAll(e);for(let n=0;n<t.length;n++){const r=t[n].getBoundingClientRect();if(r.height>0)return r.height}return 0}("ion-header");this.useSmallUI=void 0!==a&&this.canvasArea(window.innerHeight-a-(s?56:50)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationContext.session()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(r,o){let i,s;return r=Math.min(r,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/r>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=r,i=r/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(Mi),_($_),_(hc))},this.\u0275cmp=Xe({type:t,selectors:[["app-tabs"]],standalone:!1,decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(o,i){1&o&&(B(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),tt(4,"ion-icon",3),B(5,"ion-label"),Te(6,"Emulator"),H()(),B(7,"ion-tab-button",4),tt(8,"ion-icon",5),B(9,"ion-label"),Te(10,"Sessions"),H()(),B(11,"ion-tab-button",6),tt(12,"ion-icon",7),B(13,"ion-label"),Te(14,"Cards"),H()(),B(15,"ion-tab-button",8),tt(16,"ion-icon",9),B(17,"ion-label"),Te(18,"Settings"),H()(),B(19,"ion-tab-button",10),tt(20,"ion-icon",11),B(21,"ion-label"),Te(22,"About"),H()()()()()),2&o&&(ue(2),ia("small-ui",i.smallUI)("disabled",i.isLocked()))},dependencies:[Ho,zu,h_,o2,i2],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px;position:absolute;bottom:1px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}))}return e(),t})(),lE=(()=>{var e;class t{constructor(){this.onDragOver=r=>{r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=r=>{r.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(r)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(r){this.currentClient=r}unregisterClient(r){r===this.currentClient&&(this.currentClient=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const Qoe=["*"];function Joe(e,t){1&e&&tt(0,"div",2)}let eie=0,$L=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new _n,this.triggerId="breadcrumb-trigger-"+eie++}handleClick(r){this.disabled||(r.preventDefault(),this.trigger.emit(this.triggerId))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(o,i){1&o&&$e("click",function(a){return i.handleClick(a)}),2&o&&(ra("id",i.triggerId),ia("disabled",i.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},standalone:!1,ngContentSelectors:Qoe,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(o,i){1&o&&(St(),B(0,"div",0),yt(1),H(),nn(2,Joe,1,0,"div",1)),2&o&&(ue(2),he("ngIf",!i.disabled))},dependencies:[To],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}))}return e(),t})();var BL;const tie=["canvas"];function nie(e,t){1&e&&tt(0,"div",11),2&e&&Mu("width",it().iosPlaceholderWidth)}function rie(e,t){if(1&e){const n=Cn();B(0,"ion-button",12),$e("click",function(){return pt(n),ht(it().navigation.lock())}),tt(1,"ion-icon",13),H()}}function oie(e,t){if(1&e){const n=Cn();B(0,"ion-button",12),$e("click",function(){return pt(n),ht(it().navigation.unlock())}),tt(1,"ion-icon",14),H()}}function iie(e,t){if(1&e){const n=Cn();B(0,"ion-button",12),$e("click",function(o){return pt(n),ht(it().openContextMenu(o))}),tt(1,"ion-icon",15),H()}}function sie(e,t){if(1&e){const n=Cn();B(0,"ion-button",12),$e("click",function(){return pt(n),ht(it().showGameModeHint())}),tt(1,"ion-icon",16),H()}}function aie(e,t){if(1&e){const n=Cn();B(0,"ion-button",12),$e("click",function(){return pt(n),ht(it().showProxyConnectedHint())}),tt(1,"ion-icon",17),H()}}function lie(e,t){if(1&e){const n=Cn();B(0,"ion-button",12),$e("click",function(){return pt(n),ht(it().showSlowdowndHint())}),tt(1,"ion-icon",18),H()}}function cie(e,t){if(1&e){const n=Cn();B(0,"ion-button",12),$e("click",function(o){return pt(n),ht(it().openContextMenu(o))}),tt(1,"ion-icon",15),H()}}function uie(e,t){if(1&e){const n=Cn();B(0,"div",19),Te(1," The device was reset forcefully. How do you want to boot? "),B(2,"ion-button",20),$e("click",function(){return pt(n),ht(it().bootAfterForcefulReset())}),Te(3,"Normal boot"),H(),B(4,"ion-button",20),$e("click",function(){return pt(n),ht(it().bootAfterForcefulResetNoExtensions())}),Te(5,"No extensions"),H(),B(6,"ion-button",20),$e("click",function(){return pt(n),ht(it().bootAfterForcefulResetHardReset())}),Te(7,"Hard reset"),H()()}}function die(e,t){1&e&&(B(0,"div",19)(1,"div"),Te(2,"No session selected"),H()())}class ca{constructor(t,n,r,o,i,s,a,l,c,d,h,m,S,M,V,re,pe,fe,at,Tt){var Et=this;this.emulationService=t,this.emulationContext=n,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=d,this.installlationService=h,this.networkService=m,this.navigation=S,this.linkApi=M,this.performanceWatchdogService=V,this.dragDropService=re,this.sessionService=pe,this.loaderService=fe,this.audioService=at,this.config=Tt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,T.A)(function*(){yield Et.emulationService.bootstrapComplete(),Et.bootstrapComplete=!0,Et.audioService.activate();const wn=Et.emulationContext.session();wn&&!wn.wasResetForcefully&&(yield Et.launchEmulator()),Et.linkApi.installation.requestEvent.addHandler(Et.handleLinkApiInstallationRequest),Et.handleLinkApiInstallationRequest(),Et.dragDropService.registerClient(Et)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.audioService.suspend(),this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.emulationService.snapshotSuccessEvent.removeHandler(this.onSnapshotSuccess),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onNewFrame=wn=>{this.canvasDisplayService.updateEmulationCanvas(wn)},this.onSnapshotSuccess=wn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(wn,this.emulationService.getStatistics())},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const wn=this.linkApi.installation.receivePendingUrl();wn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationContext.session()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${wn} ?`,{OK:()=>this.fileService.openUrl(wn,hs=>this.installlationService.installFiles([hs]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${wn} .`,{},"Cancel"))},this.switchSession=wn=>this.loaderService.showWhile((0,T.A)(function*(){Et.lastTitle=Et.title,Et.switching=!0;try{if(yield Et.emulationService.pause(),!(yield Et.emulationService.switchSession(wn.id,{showLoader:!1})))return void(yield Et.alertService.errorMessage("Failed to launch session"));wn.wasResetForcefully||(yield Et.launchEmulator())}finally{Et.switching=!1}}),"Loading..."),this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new Vs,this.showCanvas=_i(()=>void 0!==this.emulationContext.session()&&this.emulationContext.session()?.id===this.canvasDisplayService.initializedSession()?.id)}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t){var n=this;return(0,T.A)(function*(r,o="trigger"){(yield n.popoverController.create({component:Uoe,event:r,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:o})).present()}).apply(this,arguments)}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,T.A)(function*(){yield(yield t.modalController.create({component:Zu,componentProps:{url:qne}})).present()})()}showGameModeHint(){var t=this;return(0,T.A)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,T.A)(function*(){"native"===t.kvsService.kvs.networkRedirectionMode?yield t.alertService.message("Network session","PalmOS has opened a network session."):yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,T.A)(function*(){"cloudpilot"===t.emulationContext.engine()?.type&&(yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")),"uarm"===t.emulationContext.engine()?.type&&(yield t.alertService.message("Slow emulation","\n                Your host is too slow to run your virtual device at the minimum\n                speed configured in your session settings.\n        "))})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,T.A)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,T.A)(function*(){yield t.clearForcefulReset(),yield t.emulationContext.engine()?.resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,T.A)(function*(){yield t.clearForcefulReset(),yield t.emulationContext.engine()?.resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.networkService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationContext.session()&&!this.emulationContext.session()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var n=this;return(0,T.A)(function*(){(yield n.popoverController.create({component:Yne,componentProps:{sessions:n.sessionService.sessions().filter(o=>o.id!==n.emulationContext.session()?.id),onSelect:o=>n.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===n.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.sessions()}clearForcefulReset(){var t=this;return(0,T.A)(function*(){const n=t.emulationContext.session();n&&(yield t.storageService.updateSessionPartial(n.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationContext.session()?.name??"No session":""}launchEmulator(){var t=this;return(0,T.A)(function*(){const n=t.emulationContext.session();n&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,n).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.emulationService.snapshotSuccessEvent.addHandler(t.onSnapshotSuccess),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement,U2(n.device)&&!t.kvsService.kvs.dontEmulateDPad))})()}static#e=BL=()=>(this.\u0275fac=function(n){return new(n||ca)(_(ol),_(hc),_(Jn),_(Goe),_($_),_(Hi),_(dc),_(js),_(Dr),_(Tl),_(Yoe),_(EL),_(aE),_(TC),_(NL),_(lE),_(eu),_(ps),_(L_),_(Th))},this.\u0275cmp=Xe({type:ca,selectors:[["app-emulation"]],viewQuery:function(n,r){if(1&n&&Yl(tie,5),2&n){let o;ns(o=rs())&&(r.canvasRef=o.first)}},standalone:!1,decls:23,vars:23,consts:[["canvas",""],[3,"trigger","disabled"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"click","disabled"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(n,r){if(1&n){const o=Cn();B(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",1),$e("trigger",function(s){return pt(o),ht(r.onBreadcrumbTrigger(s))}),nn(4,nie,1,2,"div",2),Te(5),H()(),B(6,"ion-buttons",3)(7,"ion-button",4),$e("click",function(){return pt(o),ht(r.installFiles())}),tt(8,"ion-icon",5),H(),nn(9,rie,2,0,"ion-button",6)(10,oie,2,0,"ion-button",6),H(),B(11,"ion-buttons",7),nn(12,iie,2,0,"ion-button",6)(13,sie,2,0,"ion-button",6)(14,aie,2,0,"ion-button",6)(15,lie,2,0,"ion-button",6)(16,cie,2,0,"ion-button",6),H()()(),B(17,"ion-content",8),$e("contextmenu",function(s){return pt(o),ht(r.onContextMenu(s))}),B(18,"div",9),$e("touchstart",function(s){return pt(o),ht(r.cancelIfEmulationActive(s))})("touchmove",function(s){return pt(o),ht(r.cancelIfEmulationActive(s))}),tt(19,"canvas",null,0),H(),nn(21,uie,8,0,"div",10)(22,die,3,0,"div",10),H()}if(2&n){let o,i;ue(3),he("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.emulationContext.session()||0===r.sessions.length),ue(),he("ngIf","ios"===r.config.get("mode")),ue(),vi(" ",r.title),ue(2),he("disabled",r.installFileDisabled),ue(2),he("ngIf",!r.navigation.isLocked()),ue(),he("ngIf",r.navigation.isLocked()),ue(2),he("ngIf","ios"===r.config.get("mode")),ue(),he("ngIf",r.eventHandlingService.isGameMode()),ue(),he("ngIf",r.networkService.isConnected()),ue(),he("ngIf",r.performanceWatchdogService.isSlowdownDetected()),ue(),he("ngIf","ios"!==r.config.get("mode")),ue(),ia("locked",r.navigation.isLocked()),ue(),Mu("display",!r.emulationContext.session()||null!=(o=r.emulationContext.session())&&o.wasResetForcefully?"none":void 0),ue(),Mu("width",r.cssWidth)("height",r.cssHeight)("display",r.showCanvas()?"block":"none"),ue(2),he("ngIf",null!=(i=r.emulationContext.session())&&i.wasResetForcefully?"none":void 0),ue(),he("ngIf",!r.emulationContext.session()&&r.bootstrapComplete&&!r.switching)}},dependencies:[To,ss,as,ls,cs,Ho,us,ds,$L],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{cursor:default;text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc,#eee)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}))}BL(),ie([Yn()],ca.prototype,"openContextMenu",null),ie([Yn()],ca.prototype,"showHelp",null),ie([Yn()],ca.prototype,"showGameModeHint",null),ie([Yn()],ca.prototype,"showProxyConnectedHint",null),ie([Yn()],ca.prototype,"showSlowdowndHint",null),ie([Yn()],ca.prototype,"bootAfterForcefulReset",null),ie([Yn()],ca.prototype,"bootAfterForcefulResetNoExtensions",null),ie([Yn()],ca.prototype,"bootAfterForcefulResetHardReset",null),ie([Yn()],ca.prototype,"onBreadcrumbTrigger",null);const fie=y.p+"assets/doc/sessions-cd17c9bd6449d60b.md";let pie=(()=>{var e;class t{constructor(){this.sessionCount=0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},standalone:!1,decls:10,vars:5,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(B(0,"ion-list")(1,"ion-item",0),$e("click",function(){return null==i.onExport?null:i.onExport()}),tt(2,"ion-icon",1),Te(3," Export "),H(),B(4,"ion-item",0),$e("click",function(){return null==i.onDelete?null:i.onDelete()}),tt(5,"ion-icon",2),Te(6," Delete "),H(),B(7,"ion-item",3),$e("click",function(){return null==i.onHelp?null:i.onHelp()}),tt(8,"ion-icon",4),Te(9," Help "),H()()),2&o&&(ue(),he("detail",!1)("disabled",0===i.sessionCount),ue(3),he("detail",!1)("disabled",0===i.sessionCount),ue(3),he("detail",!1))},dependencies:[Ho,Ao,aa],encapsulation:2}))}return e(),t})(),gie=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},standalone:!1,decls:13,vars:4,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(B(0,"ion-list")(1,"ion-item",0),$e("click",function(){return i.onEdit()}),tt(2,"ion-icon",1),Te(3," Edit "),H(),B(4,"ion-item",0),$e("click",function(){return i.onSave()}),tt(5,"ion-icon",2),Te(6," Export "),H(),B(7,"ion-item",0),$e("click",function(){return i.onReset()}),tt(8,"ion-icon",3),Te(9," Reset "),H(),B(10,"ion-item",4),$e("click",function(){return i.onDelete()}),tt(11,"ion-icon",5),Te(12," Delete "),H()()),2&o&&(ue(),he("detail",!1),ue(3),he("detail",!1),ue(3),he("detail",!1),ue(3),he("detail",!1))},dependencies:[Ho,Ao,aa],encapsulation:2}))}return e(),t})();const mie=["slidingItem"];function vie(e,t){if(1&e&&(B(0,"span"),Te(1),H()),2&e){const n=it();ue(),vi(", OS ",n.decodeVersion(null==n.session?null:n.session.osVersion))}}function _ie(e,t){1&e&&tt(0,"ion-icon",16)}function yie(e,t){1&e&&tt(0,"ion-icon",17)}let bie=(()=>{var e;class t{constructor(r){this.popoverController=r,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new _n,this.resetSession=new _n,this.edit=new _n,this.save=new _n,this.selectItem=new _n,this.interaction=new _n}get device(){return this.session?V2(this.session.device):""}onContextmenu(r){var o=this;return(0,T.A)(function*(){r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:gie,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(r){if(void 0===r)return"";const o=function hie(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(r);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(dc))},this.\u0275cmp=Xe({type:t,selectors:[["app-session-item"]],viewQuery:function(o,i){if(1&o&&Yl(mie,5),2&o){let s;ns(s=rs())&&(i.slidingItem=s.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},standalone:!1,decls:21,vars:12,consts:[["slidingItem",""],[3,"contextmenu","ionDrag","disabled"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=Cn();B(0,"ion-item-sliding",1,0),$e("contextmenu",function(l){return pt(s),ht(i.onContextmenu(l))})("ionDrag",function(){return pt(s),ht(i.interaction.emit())}),B(2,"ion-item-options",2)(3,"ion-item-option",3),$e("click",function(){return pt(s),oa(1).close(),ht(i.edit.emit(i.session))}),tt(4,"ion-icon",4),H(),B(5,"ion-item-option",5),$e("click",function(){return pt(s),oa(1).close(),ht(i.save.emit(i.session))}),tt(6,"ion-icon",6),H()(),B(7,"ion-item-options",7)(8,"ion-item-option",8),$e("click",function(){return pt(s),oa(1).close(),ht(i.resetSession.emit(i.session))}),tt(9,"ion-icon",9),H(),B(10,"ion-item-option",10),$e("click",function(){return pt(s),oa(1).close(),ht(i.delete.emit(i.session))}),tt(11,"ion-icon",11),H()(),B(12,"ion-item",12),$e("click",function(){return pt(s),ht(i.selectItem.emit())}),B(13,"ion-label")(14,"h2"),Te(15),H(),B(16,"p"),Te(17),nn(18,vie,2,1,"span",13),H()(),nn(19,_ie,1,0,"ion-icon",14)(20,yie,1,0,"ion-icon",15),H()()}2&o&&(he("disabled",i.selecting),ue(12),he("color",i.color),ue(),ia("in-item-color",i.selected)("selecting",i.selecting),ue(2),Ps(null==i.session?null:i.session.name),ue(2),Up(" ",i.device,", ",null==i.session?null:i.session.ram,"MB RAM"),ue(),he("ngIf",null==i.session?null:i.session.osVersion),ue(),he("ngIf",i.selecting&&!i.selectedForExport),ue(),he("ngIf",i.selecting&&i.selectedForExport))},dependencies:[To,Ho,Ao,d_,f_,p_,zu],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}))}return e(),t})();var jL;function Sie(e,t){if(1&e){const n=Cn();B(0,"ion-toolbar")(1,"ion-title"),Te(2,"Sessions"),H(),B(3,"ion-buttons",7)(4,"ion-button",8),$e("click",function(){return pt(n),ht(it().importSession())}),tt(5,"ion-icon",9),H()(),B(6,"ion-buttons",10)(7,"ion-button",8),$e("click",function(o){return pt(n),ht(it().openActionMenu(o))}),tt(8,"ion-icon",11),H(),tt(9,"app-pwa-prompt"),H()()}}function Cie(e,t){1&e&&(B(0,"ion-title"),Te(1,"Export"),H())}function wie(e,t){1&e&&(B(0,"ion-title"),Te(1,"Delete"),H())}function Eie(e,t){if(1&e){const n=Cn();B(0,"ion-buttons",10)(1,"ion-button",8),$e("click",function(){return pt(n),ht(it(2).onSelectAll())}),Te(2,"Select all"),H()()}}function Die(e,t){if(1&e){const n=Cn();B(0,"ion-buttons",10)(1,"ion-button",8),$e("click",function(){return pt(n),ht(it(2).selection.clear())}),Te(2,"Clear"),H()()}}function Iie(e,t){if(1&e){const n=Cn();B(0,"ion-toolbar"),nn(1,Cie,2,0,"ion-title",1)(2,wie,2,0,"ion-title",1),B(3,"ion-buttons",7)(4,"ion-button",8),$e("click",function(){return pt(n),ht(it().onSelectionDone())}),Te(5),H()(),nn(6,Eie,3,0,"ion-buttons",12)(7,Die,3,0,"ion-buttons",12),H()}if(2&e){const n=it();ue(),he("ngIf","select-for-export"===n.mode),ue(),he("ngIf","select-for-delete"===n.mode),ue(3),Ps(0===n.selection.size?"Cancel":"select-for-export"===n.mode?"Export":"Delete"),ue(),he("ngIf",n.selection.size!==n.sessionCount),ue(),he("ngIf",n.selection.size===n.sessionCount)}}function Tie(e,t){1&e&&(B(0,"ion-title",13),Te(1,"Sessions"),H())}function Aie(e,t){1&e&&(B(0,"ion-title",13),Te(1,"Select for export"),H())}function xie(e,t){1&e&&(B(0,"ion-title",13),Te(1,"Select for delete"),H())}function Mie(e,t){1&e&&(B(0,"div",14),tt(1,"ion-spinner"),H())}function kie(e,t){1&e&&(Kl(0),tt(1,"br")(2,"br"),Te(3," You can find a collection of compatible ROMs on "),B(4,"a",17),Te(5,"PalmDB"),H(),Te(6,". "),yl())}function Rie(e,t){1&e&&(Kl(0),tt(1,"br")(2,"br"),Te(3," Please check "),B(4,"a",18),Te(5,'"About"'),H(),Te(6," for a comprehensive list of supported devices running PalmOS up to version 5.x. "),yl())}function Nie(e,t){if(1&e&&(B(0,"div",15)(1,"div",16),Te(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),nn(3,kie,7,0,"ng-container",1)(4,Rie,7,0,"ng-container",1),H()()),2&e){const n=it();ue(3),he("ngIf",n.showPalmdbLink),ue(),he("ngIf",!n.showPalmdbLink)}}function Oie(e,t){if(1&e){const n=Cn();B(0,"app-session-item",20),$e("delete",function(){const o=pt(n).$implicit;return ht(it(2).deleteSession(o))})("selectItem",function(){const o=pt(n).$implicit,i=it(2);return ht("manage"===i.mode?i.launchSession(o):i.toggleSelection(o))})("edit",function(){const o=pt(n).$implicit;return ht(it(2).editSession(o))})("save",function(){const o=pt(n).$implicit;return ht(it(2).saveSession(o))})("resetSession",function(){const o=pt(n).$implicit;return ht(it(2).resetSession(o))})("interaction",function(){const o=pt(n).$implicit;return ht(it(2).lastSessionTouched=o.id)}),H()}if(2&e){const n=t.$implicit,r=it(2);he("session",n)("selected",r.currentSessionId()===n.id)("touched",n.id===r.lastSessionTouched)("selecting","manage"!==r.mode)("selectedForExport",r.selection.has(n.id))}}function Pie(e,t){if(1&e&&(B(0,"ion-list"),nn(1,Oie,1,5,"app-session-item",19),H()),2&e){const n=it();ue(),he("ngForOf",n.sessions)("ngForTrackBy",n.trackSessionBy)}}class sl{constructor(t,n,r,o,i,s,a,l,c,d,h,m,S,M){this.sessionService=t,this.fileService=n,this.alertService=r,this.emulationService=o,this.emulationContext=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.nativeSupportService=d,this.dragDropService=h,this.popoverController=m,this.loaderService=S,this.cd=M,this.memoizedSessions=Zh(V=>[...V].sort((re,pe)=>re.name.localeCompare(pe.name))),this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const V=this.linkApi.import.receivePendingUrl();V&&this.alertService.message("Import request",`Do you want to import<br>${V} ?`,{OK:()=>this.fileService.openUrl(V,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.currentSessionOverride=gi(void 0),this.currentSessionId=_i(()=>this.currentSessionOverride()??this.emulationContext.session()?.id)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.memoizedSessions(this.sessionService.sessions())}get sessionCount(){return this.sessionService.sessions().length}deleteSession(t){var n=this;return(0,T.A)(function*(){let r=!0;yield n.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),!r&&(yield n.loaderService.showWhile(()=>n.sessionService.deleteSession(t),"Deleting..."))})()}editSession(t){var n=this;return(0,T.A)(function*(){const r=oL(t);void 0!==(yield n.editSettings(r,t.device))&&(yield n.sessionService.updateSession(iL(t,r)))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,n){return n.id}launchSession(t){var n=this;return(0,T.A)(function*(){n.lastSessionTouched=t.id,n.currentSessionOverride.set(t.id);const r=yield n.emulationService.switchSession(t.id);n.currentSessionOverride.set(void 0),r?n.router.navigateByUrl("/tab/emulation"):yield n.alertService.errorMessage("Failed to launch session.")})()}resetSession(t){var n=this;return(0,T.A)(function*(){const r=t.id===n.emulationContext.session()?.id;r&&(yield n.emulationService.stop()),yield n.storageService.deleteStateForSession(t),yield n.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),r&&!(yield n.emulationService.switchSession(t.id))&&(yield n.alertService.errorMessage("Failed to relaunch session.")),yield n.alertService.message("Done",`Session ${t.name} has been reset.`)})()}showHelp(){var t=this;return(0,T.A)(function*(){yield(yield t.modalController.create({component:Zu,componentProps:{url:fie}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,T.A)(function*(){const n=new Map(t.sessionService.sessions().map(i=>[i.id,i])),r=Array.from(t.selection).map(i=>n.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(r);break;case"select-for-export":yield t.executeMassExport(r)}})()}onSelectAll(){this.sessionService.sessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t){var n=this;return(0,T.A)(function*(r,o="trigger"){const i=yield n.popoverController.create({component:pie,event:r,componentProps:{sessionCount:n.sessionCount,onExport:()=>{i.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{i.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{i.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:o});i.present()}).apply(this,arguments)}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}get showPalmdbLink(){return!(mo&&bl)}executeMassExport(t){var n=this;return(0,T.A)(function*(){1===t.length&&(yield n.sessionService.saveSession(t[0])),t.length>1&&(yield n.sessionService.saveSessions(t))})()}executeMassDelete(t){var n=this;return(0,T.A)(function*(){if(1===t.length&&(yield n.deleteSession(t[0])),t.length>1){let r=!0;if(yield n.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;yield n.loaderService.showWhile((0,T.A)(function*(){for(const o of t)yield n.sessionService.deleteSession(o)}),"Deleting...")}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var n=this;return(0,T.A)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void n.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let r;try{r=yield t.getContent()}catch(i){return console.warn(i),void(yield n.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield n.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield n.sessionService.addSessionsFromArchive(r)))}const o=yield n.nativeSupportService.deserializeSessionImage(r);if(o){const i={...sL(o.engine,o.metadata),name:n.disambiguateSessionName(o.metadata?.name??t.name)};if(void 0!==(yield n.editSettings(i,o.deviceId))){const s=yield n.sessionService.addSessionFromImage(o,i);n.lastSessionTouched=s.id}}else{const i=yield n.nativeSupportService.getRomInfo(r);if(!i)return void n.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void n.alertService.errorMessage("No supported device for this ROM.");const s={...Xne({engine:i.engine,name:n.disambiguateSessionName(t.name)}),name:n.disambiguateSessionName(t.name)},[a,l]=(yield n.editSettings(s,i.supportedDevices[0],i.supportedDevices,E_(i.supportedDevices[0]),"uarm"===i.engine&&i.needsNand))??[];if(void 0!==a){const c=yield n.sessionService.addSessionFromRom(r,a,s,l);n.lastSessionTouched=c.id}}})()}editSettings(t,n,r=[n],o,i=!1){var s=this;return new Promise(a=>{let l;var c;this.modalController.create({component:gL,backdropDismiss:!1,componentProps:{settings:t,availableDevices:r,device:n,selectNandSize:o,onSave:(c=(0,T.A)(function*(d,h){i&&void 0!==o&&!h&&!(yield s.continueWithoutNand())||(l.dismiss(),a([d,h]))}),function(h,m){return c.apply(this,arguments)}),onCancel:()=>{l.dismiss(),a(void 0)}}}).then(c=>{l=c,l.present()})})}continueWithoutNand(){var t=this;return(0,T.A)(function*(){let n=!0;return yield t.alertService.message("NAND image required","\n                You are creating a session from an original Palm ROM. This requires and additional NAND\n                image for proper operation. You can continue without it, but PalmOS is known to be\n                buggy in this configuration.\n            ",{Cancel:()=>{n=!1}},"Continue"),n})()}disambiguateSessionName(t){const n=this.sessionService.sessions();return Tf(t,r=>n.some(o=>o.name===r))}static#e=jL=()=>(this.\u0275fac=function(n){return new(n||sl)(_(eu),_(Tl),_(Dr),_(ol),_(hc),_(Jn),_(js),_(TC),_(Mi),_(Yh),_(lE),_(dc),_(ps),_(vt))},this.\u0275cmp=Xe({type:sl,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},standalone:!1,decls:12,vars:10,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],["href","#/tab/about"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","selectItem","edit","save","resetSession","interaction","session","selected","touched","selecting","selectedForExport"]],template:function(n,r){1&n&&(B(0,"ion-header",0),nn(1,Sie,10,0,"ion-toolbar",1)(2,Iie,8,5,"ion-toolbar",1),H(),B(3,"ion-content",2),$e("contextmenu",function(i){return r.onContextMenu(i)}),B(4,"ion-header",3)(5,"ion-toolbar"),nn(6,Tie,2,0,"ion-title",4)(7,Aie,2,0,"ion-title",4)(8,xie,2,0,"ion-title",4),H()(),nn(9,Mie,2,0,"div",5)(10,Nie,5,2,"div",6)(11,Pie,2,2,"ion-list",1),H()),2&n&&(he("translucent",!0),ue(),he("ngIf","manage"===r.mode),ue(),he("ngIf","manage"!==r.mode),ue(),he("fullscreen",!0),ue(3),he("ngIf","manage"===r.mode),ue(),he("ngIf","select-for-export"===r.mode),ue(),he("ngIf","select-for-delete"===r.mode),ue(),he("ngIf",r.sessionService.loading()),ue(),he("ngIf",!r.sessionService.loading()&&0===r.sessionCount),ue(),he("ngIf",!r.sessionService.loading()&&r.sessionCount>0))},dependencies:[Jl,To,ss,as,ls,cs,Ho,aa,Oh,us,ds,A_,bie],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}))}jL(),ie([Yn()],sl.prototype,"deleteSession",null),ie([Yn()],sl.prototype,"editSession",null),ie([Yn()],sl.prototype,"saveSession",null),ie([Yn()],sl.prototype,"launchSession",null),ie([Yn()],sl.prototype,"resetSession",null),ie([Yn()],sl.prototype,"onSelectionDone",null),ie([Yn()],sl.prototype,"openActionMenu",null);const Fie=["nav"],Lie=()=>({}),$ie=e=>({selfReference:e});let Bie=(()=>{var e;class t{constructor(){this.navRoot=sl}ionViewDidLeave(){var r=this;return(0,T.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave()})()}ionViewWillLeave(){var r=this;return(0,T.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave()})()}ionViewDidEnter(){var r=this;return(0,T.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-sessions-wrapper"]],viewQuery:function(o,i){if(1&o&&Yl(Fie,5),2&o){let s;ns(s=rs())&&(i.nav=s.first)}},standalone:!1,decls:2,vars:6,consts:[["nav",""],[3,"animated","root","rootParams"]],template:function(o,i){1&o&&tt(0,"ion-nav",1,0),2&o&&he("animated",!1)("root",i.navRoot)("rootParams",function gk(e,t,n,r){return mk(et(),jt(),e,t,n,r)}(4,$ie,function hk(e,t,n){const r=jt()+e,o=et();return o[r]===Rr?_l(o,r,n?t.call(n):t()):function Dp(e,t){return e[t]}(o,r)}(3,Lie)))},dependencies:[ew],encapsulation:2}))}return e(),t})();const jie=y.p+"assets/doc/settings-a7ec602db02c1847.md";function Vie(e,t){1&e&&(B(0,"ion-item",9)(1,"ion-toggle",19),Te(2,"Run when hidden"),H()())}function Uie(e,t){1&e&&(B(0,"ion-item",9)(1,"ion-toggle",20),Te(2,"Clipboard integration"),H()())}function Hie(e,t){if(1&e&&(B(0,"ion-select-option",23),Te(1),H()),2&e){const n=t.$implicit;he("value",n[0]),ue(),vi("",n[1]," ")}}function Gie(e,t){if(1&e&&(B(0,"ion-item",9)(1,"ion-select",21),nn(2,Hie,2,2,"ion-select-option",22),H()()),2&e){const n=it();ue(2),he("ngForOf",n.networkRedirectionModes)}}function zie(e,t){if(1&e){const n=Cn();B(0,"ion-item",9)(1,"div",24),tt(2,"ion-input",25),B(3,"ion-button",26),$e("click",function(o){pt(n);const i=it();return o.preventDefault(),o.stopPropagation(),ht(i.testProxyConnection())})("touchstart",function(o){pt(n);const i=it();return o.preventDefault(),o.stopPropagation(),ht(i.testProxyConnection())}),Te(4," Test "),H()()()}if(2&e){const n=it();ue(3),he("disabled",!n.proxyServerValid)}}function Wie(e,t){1&e&&(B(0,"ion-item",9)(1,"ion-toggle",27),Te(2,"Fixed font size"),H()())}function qie(e,t){1&e&&(B(0,"h1"),Te(1,"Interface quirks"),H())}function Zie(e,t){1&e&&(B(0,"ion-item",9)(1,"ion-toggle",28),Te(2,"Don't restrict file picker"),H()())}function Kie(e,t){if(1&e&&(B(0,"ion-item",9)(1,"ion-select",29)(2,"ion-select-option",23),Te(3,"Off"),H(),B(4,"ion-select-option",23),Te(5,"Portrait"),H(),B(6,"ion-select-option",23),Te(7,"Landscape"),H(),B(8,"ion-select-option",23),Te(9,"Always"),H()()()),2&e){const n=it();ue(2),he("value",n.indicatorFixNone),ue(2),he("value",n.indicatorFixPortrait),ue(2),he("value",n.indicatorFixLandscape),ue(2),he("value",n.indicatorFixAll)}}function Yie(e,t){1&e&&(Kl(0),B(1,"h1"),Te(2,"Debug"),H(),B(3,"ion-item",9)(4,"ion-toggle",30),Te(5,"Snapshot validation (slow)"),H()(),yl())}let Xie=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.modalController=r,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.networkBackendFactory=a,this.featureService=l,this.onAudioOnStartChange=c=>{this.kvsService.kvs.enableAudioOnFirstInteraction=c,mo&&bl?this.alertService.message("Enable audio on start","\n                    This option will take effect the next time the app restarts.\n                "):c&&this.alertService.message("Enable audio on start","\n                Audio will automatically turn on after the first interaction with the application\n                (i.e. touch, click or keyboard event).\n                <br><br>\n                This option will take effect the next time CloudpilotEmu reloads.\n            ")},this.networkRedirectionModes=[["native","Native"],["proxy","Proxy"]],this.onIndicatorFixModeChange=c=>ON(c),this.onFixedFontSizeChange=c=>function u7(e){nf()&&(DC(TN,e?"1":"0"),xN())}(!c),this.indicatorFixNone="none",this.indicatorFixPortrait="portrait",this.indicatorFixLandscape="landscape",this.indicatorFixAll="all",this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var r=this;return(0,T.A)(function*(){yield(yield r.modalController.create({component:Zu,componentProps:{url:jie}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var r=this;return(0,T.A)(function*(){r.formGroup.get("networkRedirection")?.value&&"proxy"===r.formGroup.get("networkRedirectionMode")?.value&&!r.formGroup.get("proxyServer")?.valid&&(r.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),r.formGroup.get("networkRedirection").setValue(!1)),r.formGroup.get("networkRedirection")?.value||r.formGroup.get("proxyServer")?.setValue(r.kvsService.kvs.proxyServer),yield r.kvsService.set({volume:r.formGroup.get("volume").value,showStatistics:r.formGroup.get("showStatistics").value,clipboardIntegration:r.formGroup.get("clipboardIntegration")?.value,networkRedirection:r.formGroup.get("networkRedirection")?.value,networkRedirectionMode:r.featureService.nativeNetworkIntegration?r.formGroup.get("networkRedirectionMode")?.value??"proxy":"proxy",proxyServer:r.formGroup.get("proxyServer")?.value,runHidden:r.formGroup.get("runHidden")?.value,autoLockUI:r.formGroup.get("autoLockUI")?.value,enableRemoteInstall:r.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:r.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:r.formGroup.get("snapshotIntegrityCheck")?.value,dontEmulateDPad:!r.formGroup.get("emulateDPad")?.value,dontRestrictFilePicker:!!r.formGroup.get("dontRestrictFilePicker")?.value}),r.mutexReleasePromise&&(yield r.mutexReleasePromise)()})()}testProxyConnection(){var r=this;return(0,T.A)(function*(){if(!r.connectionTestInProgress){r.connectionTestInProgress=!0;try{switch((yield r.networkBackendFactory.createBackendProxy(r.formGroup.get("proxyServer")?.value).handshake(0)).status){case"failed":r.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":r.alertService.proxyVersionMismatchError();break;default:r.alertService.message("Success","Connection to proxy successful.")}}finally{r.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value&&"native"!==this.formGroup.get("networkRedirectionMode")?.value}get showRedirectionMode(){return this.formGroup.get("networkRedirection")?.value&&this.featureService.nativeNetworkIntegration}get proxyServerValid(){const r=this.formGroup.get("proxyServer");return!(!r?.value||!r?.valid)}get showDebugOptions(){return true}get isIndicatorFixApplicable(){return IC()}get isIOS(){return mo}get dynmicFontsSupprted(){return nf()}get featureRunHidden(){return this.featureService.runHidden}createFormGroup(){this.formGroup=new Jv({volume:new Nr(this.kvsService.kvs.volume),showStatistics:new Nr(this.kvsService.kvs.showStatistics),runHidden:new Nr(this.kvsService.kvs.runHidden),clipboardIntegration:new Nr(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Nr(this.kvsService.kvs.networkRedirection),networkRedirectionMode:new Nr(this.kvsService.kvs.networkRedirectionMode),proxyServer:new Nr(this.kvsService.kvs.proxyServer,{validators:[Jre]}),autoLockUI:new Nr(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Nr(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Nr(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new Nr(this.kvsService.kvs.snapshotIntegrityCheck),indicatorFixMode:new Nr(NN()),fixedFontSize:new Nr(!AN()),dontRestrictFilePicker:new Nr(!!this.kvsService.kvs.dontRestrictFilePicker),emulateDPad:new Nr(!this.kvsService.kvs.dontEmulateDPad)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("indicatorFixMode")?.valueChanges.subscribe(this.onIndicatorFixModeChange),this.formGroup.get("fixedFontSize")?.valueChanges.subscribe(this.onFixedFontSizeChange)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(js),_(Hi),_(eE),_(Dr),_(wL),_(oE))},this.\u0275cmp=Xe({type:t,selectors:[["app-settings"]],standalone:!1,decls:50,vars:12,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["label","Volume","labelPlacement","fixed","min","0","max","1","step","0.1","formControlName","volume"],["labelPlacement","fixed","formControlName","audioOnStart"],["lines","none",4,"ngIf"],["labelPlacement","fixed","formControlName","emulateDPad"],["labelPlacement","fixed","formControlName","networkRedirection"],["labelPlacement","fixed","formControlName","autoLockUI"],["labelPlacement","fixed","formControlName","showStatistics"],["labelPlacement","fixed","formControlName","enableRemoteInstall"],[4,"ngIf"],["labelPlacement","fixed","formControlName","runHidden"],["labelPlacement","fixed","formControlName","clipboardIntegration"],["formControlName","networkRedirectionMode","label","Redirection method",1,"redirection-mode-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"server-container"],["label","Proxy server","labelPlacement","stacked","placeholder","Proxy server host or URL","formControlName","proxyServer"],[1,"test-proxy-button",3,"click","touchstart","disabled"],["labelPlacement","fixed","formControlName","fixedFontSize"],["labelPlacement","fixed","formControlName","dontRestrictFilePicker"],["label","Fix iOS home indicator","formControlName","indicatorFixMode"],["labelPlacement","fixed","formControlName","snapshotIntegrityCheck"]],template:function(o,i){1&o&&(B(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Te(3,"Settings"),H(),B(4,"ion-buttons",1)(5,"ion-button",2),$e("click",function(){return i.showHelp()}),tt(6,"ion-icon",3),H(),tt(7,"app-pwa-prompt"),H()()(),B(8,"ion-content",4)(9,"ion-header",5)(10,"ion-toolbar")(11,"ion-title",6),Te(12,"Settings"),H()()(),B(13,"div",7)(14,"form",8)(15,"h1"),Te(16,"Emulation"),H(),B(17,"ion-item",9),tt(18,"ion-range",10),H(),B(19,"ion-item",9)(20,"ion-toggle",11),Te(21,"Enable audio on start"),H()(),nn(22,Vie,3,0,"ion-item",12),B(23,"ion-item",9)(24,"ion-toggle",13),Te(25,"Emulate D-Pad"),H()(),B(26,"h1"),Te(27,"Host integration"),H(),nn(28,Uie,3,0,"ion-item",12),B(29,"ion-item",9)(30,"ion-toggle",14),Te(31,"Network redirection"),H()(),nn(32,Gie,3,1,"ion-item",12)(33,zie,5,1,"ion-item",12),B(34,"h1"),Te(35,"User interface"),H(),B(36,"ion-item",9)(37,"ion-toggle",15),Te(38,"Auto-lock UI"),H()(),nn(39,Wie,3,0,"ion-item",12),B(40,"ion-item",9)(41,"ion-toggle",16),Te(42,"Show statistics"),H()(),B(43,"ion-item",9)(44,"ion-toggle",17),Te(45,"Open from remote sources"),H()(),nn(46,qie,2,0,"h1",18)(47,Zie,3,0,"ion-item",12)(48,Kie,10,4,"ion-item",12)(49,Yie,6,0,"ng-container",18),H()()()),2&o&&(he("translucent",!0),ue(8),he("fullscreen",!0),ue(6),he("formGroup",i.formGroup),ue(8),he("ngIf",i.featureRunHidden),ue(6),he("ngIf",i.clipboardService.isSupported()),ue(4),he("ngIf",i.showRedirectionMode),ue(),he("ngIf",i.showProxyServer),ue(6),he("ngIf",i.dynmicFontsSupprted),ue(7),he("ngIf",i.isIOS),ue(),he("ngIf",i.isIOS),ue(),he("ngIf",i.isIndicatorFixApplicable),ue(),he("ngIf",i.showDebugOptions))},dependencies:[Jl,To,lc,sc,ac,ss,as,ls,cs,Ho,uc,Ao,J0,Rh,Nh,us,Ph,ds,Ef,Q0,kh,cc,A_,Oa,El],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-bottom:2em}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}ion-select[_ngcontent-%COMP%]{margin-right:.5em}.test-proxy-button[_ngcontent-%COMP%]{max-height:1.5em;align-self:end;margin-right:12px}"]}))}return e(),t})();const Qie=y.p+"assets/doc/cards-75195154c07dfe52.md";let cE=(()=>{var e;class t{transform(r){return void 0!==r?`${Math.round(r/1024/1024)} MB`:""}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275pipe=mi({name:"cardSize",type:t,pure:!0,standalone:!1}))}return e(),t})();function Jie(e,t){1&e&&(B(0,"div",12)(1,"b"),Te(2,"WARNING:"),H(),Te(3," This image cannot be used as a memory stick image. "),H())}let VL=(()=>{var e;class t{constructor(r){this.storageCardService=r,this.validateNameUnique=o=>this.storageCardService.cards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new qc({name:new Bs("",{nonNullable:!0,validators:[bh.required,this.validateNameUnique]}),size:new Bs({value:"dummy",disabled:!0}),checkAutomatically:new Bs(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(xf))},this.\u0275cmp=Xe({type:t,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},standalone:!1,decls:23,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Card name","labelPlacement","stacked","placeholder","Enter card name","formControlName","name"],["label","Card size","labelPlacement","stacked","formControlName","size"],["value","dummy"],["labelPlacement","fixed","formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(o,i){1&o&&(B(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Te(3),H(),B(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.save()}),Te(6,"Save"),H()(),B(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancel()}),Te(9,"Cancel"),H()()()(),B(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return i.onEnter()}),B(12,"ion-item",6),tt(13,"ion-input",7),H(),B(14,"ion-item",6)(15,"ion-select",8)(16,"ion-select-option",9),Te(17),Fc(18,"cardSize"),H()()(),B(19,"ion-item",6)(20,"ion-toggle",10),Te(21,"Check for errors automatically"),H()()(),nn(22,Jie,4,0,"div",11),H()),2&o&&(ue(3),Ps(i.newCard?"New memory card":"Edit memory card"),ue(2),he("disabled",i.formGroup.invalid),ue(6),he("formGroup",i.formGroup),ue(6),vi("",Lc(18,5,null==i.card?null:i.card.size)," "),ue(5),he("ngIf",!i.memoryStickSupported))},dependencies:[To,ss,as,ls,cs,uc,Ao,Rh,Nh,us,Ph,ds,Ef,kh,cc,lc,sc,ac,Oa,El,cE],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}))}return e(),t})(),ese=(()=>{var e;class t{constructor(){this.cardCount=0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},standalone:!1,decls:10,vars:5,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(B(0,"ion-list")(1,"ion-item",0),$e("click",function(){return null==i.onExport?null:i.onExport()}),tt(2,"ion-icon",1),Te(3," Export "),H(),B(4,"ion-item",0),$e("click",function(){return null==i.onDelete?null:i.onDelete()}),tt(5,"ion-icon",2),Te(6," Delete "),H(),B(7,"ion-item",3),$e("click",function(){return null==i.onHelp?null:i.onHelp()}),tt(8,"ion-icon",4),Te(9," Help "),H()()),2&o&&(ue(),he("detail",!1)("disabled",0===i.cardCount),ue(3),he("detail",!1)("disabled",0===i.cardCount),ue(3),he("detail",!1))},dependencies:[Ho,Ao,aa],encapsulation:2}))}return e(),t})();function tse(e,t){if(1&e&&(B(0,"ion-select-option",11),Te(1),Fc(2,"cardSize"),H()),2&e){const n=t.$implicit,r=it();he("value",n),ue(),vi("",Lc(2,2,r.sizeBytes(n))," ")}}const nse=[0,1,2,3,4,5];let rse=(()=>{var e;class t{constructor(r){this.storageCardService=r,this.validateNameUnique=o=>this.storageCardService.cards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new qc({name:new Bs("",{nonNullable:!0,validators:[bh.required,this.validateNameUnique]}),size:new Bs(3,{nonNullable:!0}),checkAutomatically:new Bs(!0,{nonNullable:!0})})}get sizes(){return nse}sizeBytes(r){return function foe(e){switch(e){case 0:return 4046848;case 1:return 8110080;case 2:return 16220160;case 3:return 32473088;case 4:return 64978944;case 5:return 129990656;default:throw new Error(`bad card size ${e}`)}}(r)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(xf))},this.\u0275cmp=Xe({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},standalone:!1,decls:20,vars:3,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Card name","labelPlacement","stacked","placeholder","Enter card name","formControlName","name"],["label","Card size","labelPlacement","stacked","formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["labelPlacement","fixed","formControlName","checkAutomatically"],[3,"value"]],template:function(o,i){1&o&&(B(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Te(3,"New memory card"),H(),B(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.create()}),Te(6,"Create"),H()(),B(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancel()}),Te(9,"Cancel"),H()()()(),B(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return i.onEnter()}),B(12,"ion-item",6),tt(13,"ion-input",7),H(),B(14,"ion-item",6)(15,"ion-select",8),nn(16,tse,3,4,"ion-select-option",9),H()(),B(17,"ion-item",6)(18,"ion-toggle",10),Te(19,"Check for errors automatically"),H()()()()),2&o&&(ue(5),he("disabled",i.formGroup.invalid),ue(6),he("formGroup",i.formGroup),ue(5),he("ngForOf",i.sizes))},dependencies:[Jl,ss,as,ls,cs,uc,Ao,Rh,Nh,us,Ph,ds,Ef,kh,cc,lc,sc,ac,Oa,El,cE],encapsulation:2}))}return e(),t})(),ose=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},standalone:!1,decls:13,vars:4,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(B(0,"ion-list")(1,"ion-item",0),$e("click",function(){return i.onEdit()}),tt(2,"ion-icon",1),Te(3," Edit "),H(),B(4,"ion-item",0),$e("click",function(){return i.onSave()}),tt(5,"ion-icon",2),Te(6," Export "),H(),B(7,"ion-item",0),$e("click",function(){return i.onCheck()}),tt(8,"ion-icon",3),Te(9," Check "),H(),B(10,"ion-item",4),$e("click",function(){return i.onDelete()}),tt(11,"ion-icon",5),Te(12," Delete "),H()()),2&o&&(ue(),he("detail",!1),ue(3),he("detail",!1),ue(3),he("detail",!1),ue(3),he("detail",!1))},dependencies:[Ho,Ao,aa],encapsulation:2}))}return e(),t})();function ise(e,t){1&e&&tt(0,"ion-icon",15)}function sse(e,t){1&e&&tt(0,"ion-icon",16)}let ase=(()=>{var e;class t{constructor(r,o,i){this.storageCardService=r,this.popoverController=o,this.sessionService=i,this.touched=!1,this.interaction=new _n,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new _n,this.edit=new _n,this.check=new _n,this.delete=new _n,this.save=new _n}onContextmenu(r){var o=this;return(0,T.A)(function*(){r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:ose,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";this.sessionService.sessions();const r=this.storageCardService.mountedInSession(this.card?.id);if(r)return`attached to '${r.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case"dirty":return"needs check";case"clean":return"no errors";case"unformatted":return"no filesystem";case"unfixable":return"uncorrectable errors";default:throw new Error("unreachable")}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(xf),_(dc),_(eu))},this.\u0275cmp=Xe({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},standalone:!1,decls:21,vars:10,consts:[["slidingItem",""],[3,"contextmenu","ionDrag"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=Cn();B(0,"ion-item-sliding",1,0),$e("contextmenu",function(l){return pt(s),ht(i.onContextmenu(l))})("ionDrag",function(){return pt(s),ht(i.interaction.emit(i.card))}),B(2,"ion-item-options",2)(3,"ion-item-option",3),$e("click",function(){return pt(s),oa(1).close(),ht(i.edit.emit(i.card))}),tt(4,"ion-icon",4),H(),B(5,"ion-item-option",5),$e("click",function(){return pt(s),oa(1).close(),ht(i.save.emit(i.card))}),tt(6,"ion-icon",6),H()(),B(7,"ion-item-options",7)(8,"ion-item-option",8),$e("click",function(){return pt(s),oa(1).close(),ht(i.check.emit(i.card))}),tt(9,"ion-icon",9),H(),B(10,"ion-item-option",10),$e("click",function(){return pt(s),oa(1).close(),ht(i.delete.emit(i.card))}),tt(11,"ion-icon",11),H()(),B(12,"ion-item",12),$e("click",function(){return pt(s),i.selectCard.emit(),ht(i.interaction.emit())}),B(13,"ion-label")(14,"h2"),Te(15),H(),B(16,"p"),Te(17),Fc(18,"cardSize"),H()(),nn(19,ise,1,0,"ion-icon",13)(20,sse,1,0,"ion-icon",14),H()()}2&o&&(ue(12),he("color",i.color),ue(),ia("selecting",i.selecting),ue(2),Ps(null==i.card?null:i.card.name),ue(2),Up("",Lc(18,8,null==i.card?null:i.card.size),", ",i.status),ue(2),he("ngIf",i.selecting&&!i.selectedForExport),ue(),he("ngIf",i.selecting&&i.selectedForExport))},dependencies:[To,Ho,Ao,d_,f_,p_,zu,cE],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}))}return e(),t})();var UL;function lse(e,t){if(1&e){const n=Cn();B(0,"ion-toolbar")(1,"ion-title"),Te(2,"Memory cards"),H(),B(3,"ion-buttons",7)(4,"ion-button",8),$e("click",function(){return pt(n),ht(it().addCardImage())}),tt(5,"ion-icon",9),H()(),B(6,"ion-buttons",10)(7,"ion-button",8),$e("click",function(o){return pt(n),ht(it().openActionMenu(o))}),tt(8,"ion-icon",11),H(),tt(9,"app-pwa-prompt"),H()()}}function cse(e,t){1&e&&(B(0,"ion-title"),Te(1,"Export"),H())}function use(e,t){1&e&&(B(0,"ion-title"),Te(1,"Delete"),H())}function dse(e,t){if(1&e){const n=Cn();B(0,"ion-buttons",10)(1,"ion-button",8),$e("click",function(){return pt(n),ht(it(2).onSelectAll())}),Te(2,"Select all"),H()()}}function fse(e,t){if(1&e){const n=Cn();B(0,"ion-buttons",10)(1,"ion-button",8),$e("click",function(){return pt(n),ht(it(2).selection.clear())}),Te(2,"Clear"),H()()}}function pse(e,t){if(1&e){const n=Cn();B(0,"ion-toolbar"),nn(1,cse,2,0,"ion-title",1)(2,use,2,0,"ion-title",1),B(3,"ion-buttons",7)(4,"ion-button",8),$e("click",function(){return pt(n),ht(it().onSelectionDone())}),Te(5),H()(),nn(6,dse,3,0,"ion-buttons",12)(7,fse,3,0,"ion-buttons",12),H()}if(2&e){const n=it();ue(),he("ngIf","select-for-export"===n.mode),ue(),he("ngIf","select-for-delete"===n.mode),ue(3),Ps(0===n.selection.size?"Cancel":"select-for-export"===n.mode?"Export":"Delete"),ue(),he("ngIf",n.selection.size!==n.cards.length),ue(),he("ngIf",n.selection.size===n.cards.length)}}function hse(e,t){1&e&&(B(0,"ion-title",13),Te(1,"Memory cards"),H())}function gse(e,t){1&e&&(B(0,"ion-title",13),Te(1,"Select for export"),H())}function mse(e,t){1&e&&(B(0,"ion-title",13),Te(1,"Select for delete"),H())}function vse(e,t){1&e&&(B(0,"div",14),tt(1,"ion-spinner"),H())}function _se(e,t){1&e&&(B(0,"div",15)(1,"div",16),Te(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),H()())}function yse(e,t){if(1&e){const n=Cn();B(0,"app-storage-card",18),$e("delete",function(){const o=pt(n).$implicit;return ht(it(2).deleteCard(o))})("selectCard",function(){const o=pt(n).$implicit,i=it(2);return ht("manage"===i.mode?i.browseCard(o):i.toggleSelection(o))})("edit",function(){const o=pt(n).$implicit;return ht(it(2).editCard(o))})("check",function(){const o=pt(n).$implicit;return ht(it(2).checkCard(o))})("interaction",function(){const o=pt(n).$implicit;return ht(it(2).lastCardTouched=o.id)})("save",function(){const o=pt(n).$implicit;return ht(it(2).saveCard(o))}),H()}if(2&e){const n=t.$implicit,r=it(2);he("card",n)("touched",n.id===r.lastCardTouched)("selecting","manage"!==r.mode)("selectedForExport",r.selection.has(n.id))}}function bse(e,t){if(1&e&&(B(0,"ion-list"),nn(1,yse,1,4,"app-storage-card",17),H()),2&e){const n=it();ue(),he("ngForOf",n.cards)("ngForTrackBy",n.trackCardBy)}}class Fa{constructor(t,n,r,o,i,s,a,l,c,d,h){var m=this;this.actionSheetController=t,this.storageCardService=n,this.modalController=r,this.nativeSupportService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loaderService=l,this.fstools=c,this.popoverController=d,this.cd=h,this.handleCardImport=function(){var S=(0,T.A)(function*(M){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(M.name))return void m.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");let V;try{V=yield M.getContent()}catch(fe){return console.warn(fe),void(yield m.alertService.errorMessage(`Unable to open ${M.name}".`))}if(M.name.endsWith(".zip")){let fe=!1;return yield m.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>fe=!0},"Cancel"),void(fe&&(yield m.storageCardService.addAllCardsFromArchive(V)))}/\.gz$/.test(M.name)&&(V=yield m.loaderService.showWhile(()=>m.fstools.gunzip(V),"Unpacking..."));const re=V?yield m.nativeSupportService.getCardSupportLevel(V.length):0;if(void 0===V||0===re)return void m.alertService.errorMessage("This is not a supported card image.");const pe=yield new Promise(function(){var fe=(0,T.A)(function*(at){const Tt=yield m.modalController.create({component:VL,backdropDismiss:!1,componentProps:{card:{name:m.disambiguateName(M.name.replace(/\.gz$/,"")),size:V.length},cardSupportLevel:re,newCard:!0,onCancel:()=>{Tt.dismiss(),at(void 0)},onSave:Et=>{at(Et),Tt.dismiss()}}});yield Tt.present()});return function(at){return fe.apply(this,arguments)}}());pe&&(yield m.storageCardService.createCardFromImage(pe.name,V,!!pe.dontFsckAutomatically))});return function(M){return S.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.cards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,T.A)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,T.A)(function*(){yield(yield t.modalController.create({component:Zu,componentProps:{url:Qie}})).present()})()}browseCard(t){var n=this;return(0,T.A)(function*(){(yield n.storageCardService.browseCard(t))&&n.onMountForBrowse(t)})()}editCard(t){var n=this;return(0,T.A)(function*(){const r=yield n.modalController.create({component:VL,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:yield n.nativeSupportService.getCardSupportLevel(t.size),onCancel:()=>r.dismiss(),onSave:(o=(0,T.A)(function*(i){yield n.storageCardService.updateCard(t.id,i),yield r.dismiss()}),function(s){return o.apply(this,arguments)})}});var o;yield r.present()})()}saveCard(t){var n=this;return(0,T.A)(function*(){const r=`${Qu(t.name.replace(/\.img$/,""))}.img`;yield(yield n.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>n.storageCardService.saveCard(t.id,r,!0)},{text:"Export uncompressed image",handler:()=>n.storageCardService.saveCard(t.id,r,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var n=this;return(0,T.A)(function*(){let r=!0;yield n.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),!r&&(yield n.loaderService.showWhile((0,T.A)(function*(){try{yield n.storageCardService.deleteCard(t.id)}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"delete failed")}}),"Deleting..."))})()}trackCardBy(t,n){return n.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,T.A)(function*(){const n=t.mode;switch(t.mode="manage",n){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t){var n=this;return(0,T.A)(function*(r,o="trigger"){const i=yield n.popoverController.create({component:ese,event:r,componentProps:{cardCount:n.cards.length,onExport:()=>{i.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{i.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{i.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:o});i.present()}).apply(this,arguments)}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var n=this;return(0,T.A)(function*(){switch(t.length){case 0:break;case 1:{const r=yield n.storageCardService.getCard(t[0]);r&&(yield n.saveCard(r));break}default:yield n.exportSelection(t)}})()}executeMassDelete(t){var n=this;return(0,T.A)(function*(){switch(t.length){case 0:break;case 1:{const r=yield n.storageCardService.getCard(t[0]);r&&(yield n.deleteCard(r));break}default:{let r=!0;if(yield n.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;yield n.loaderService.showWhile((0,T.A)(function*(){try{for(const o of t)yield n.storageCardService.deleteCard(o)}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"delete failed")}}),"Deleting...")}}})()}exportSelection(t){var n=this;return(0,T.A)(function*(){const r=new Map(yield n.storageCardService.cards().map(i=>[i.id,i]));if(t.map(i=>r.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield n.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield n.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,T.A)(function*(){const n=yield t.modalController.create({component:rse,backdropDismiss:!1,componentProps:{onCancel:()=>n.dismiss(),onCreate:(r=(0,T.A)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield n.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield n.present()})()}disambiguateName(t){const n=this.storageCardService.cards();return Tf(t,r=>n.some(o=>o.name===r))}static#e=UL=()=>(this.\u0275fac=function(n){return new(n||Fa)(_(Lh),_(xf),_(js),_(Yh),_(Dr),_(Yu),_(Tl),_(ps),_(k_),_(dc),_(vt))},this.\u0275cmp=Xe({type:Fa,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},standalone:!1,decls:12,vars:10,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","selectCard","edit","check","interaction","save","card","touched","selecting","selectedForExport"]],template:function(n,r){1&n&&(B(0,"ion-header",0),nn(1,lse,10,0,"ion-toolbar",1)(2,pse,8,5,"ion-toolbar",1),H(),B(3,"ion-content",2),$e("contextmenu",function(i){return r.onContextMenu(i)}),B(4,"ion-header",3)(5,"ion-toolbar"),nn(6,hse,2,0,"ion-title",4)(7,gse,2,0,"ion-title",4)(8,mse,2,0,"ion-title",4),H()(),nn(9,vse,2,0,"div",5)(10,_se,3,0,"div",6)(11,bse,2,2,"ion-list",1),H()),2&n&&(he("translucent",!0),ue(),he("ngIf","manage"===r.mode),ue(),he("ngIf","manage"!==r.mode),ue(),he("fullscreen",!0),ue(3),he("ngIf","manage"===r.mode),ue(),he("ngIf","select-for-export"===r.mode),ue(),he("ngIf","select-for-delete"===r.mode),ue(),he("ngIf",r.storageCardService.isLoading()),ue(),he("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),ue(),he("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Jl,To,ss,as,ls,cs,Ho,aa,Oh,us,ds,A_,ase],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}))}UL(),ie([Yn()],Fa.prototype,"addCardImage",null),ie([Yn()],Fa.prototype,"browseCard",null),ie([Yn()],Fa.prototype,"editCard",null),ie([Yn()],Fa.prototype,"saveCard",null),ie([Yn()],Fa.prototype,"checkCard",null),ie([Yn()],Fa.prototype,"deleteCard",null),ie([Yn()],Fa.prototype,"onSelectionDone",null),ie([Yn()],Fa.prototype,"openActionMenu",null);const Sse=y.p+"assets/doc/card-browser-5a0261814255810d.md";function wse(e,t){1&e&&tt(0,"ion-icon",8)}function Ese(e,t){1&e&&tt(0,"ion-icon",9)}function Dse(e,t){1&e&&tt(0,"ion-icon",10)}function Ise(e,t){if(1&e){const n=Cn();B(0,"ion-item",2),$e("click",function(){const o=pt(n).index;return ht(it(2).onSelect(o))}),Kl(1,3),nn(2,wse,1,0,"ion-icon",4)(3,Ese,1,0,"ion-icon",5)(4,Dse,1,0,"ion-icon",6),yl(),B(5,"div",7),Te(6),H()()}if(2&e){const n=t.$implicit,r=t.index,o=it(2);he("detail",!1)("lines",r===o.entries.length-1?"none":"full"),ue(),he("ngSwitch",o.entries.length),ue(),he("ngSwitchCase",r+1),ue(),he("ngSwitchCase",r+2),ue(3),Ps(n)}}function Tse(e,t){if(1&e&&(B(0,"ion-list"),nn(1,Ise,7,6,"ion-item",1),H()),2&e){const n=it();ue(),he("ngForOf",n.entries)}}let Ase=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"click","detail","lines"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(o,i){1&o&&nn(0,Tse,2,1,"ion-list",0),2&o&&he("ngIf",i.entries)},dependencies:[Jl,To,fv,iN,sN,Ho,Ao,aa],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}))}return e(),t})(),xse=(()=>{var e;class t{constructor(r){this.vfsService=r,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(td))},this.\u0275cmp=Xe({type:t,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},standalone:!1,decls:19,vars:8,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"click","detail"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(B(0,"ion-list")(1,"ion-item",0),$e("click",function(){return i.onStartSelection()}),tt(2,"ion-icon",1),Te(3," Start selection "),H(),B(4,"ion-item",2),$e("click",function(){return i.onAddFiles()}),tt(5,"ion-icon",3),Te(6," Add files "),H(),B(7,"ion-item",2),$e("click",function(){return i.onCreateDirectry()}),tt(8,"ion-icon",4),Te(9," Add directory "),H(),B(10,"ion-item",2),$e("click",function(){return i.onExtractZipfile()}),tt(11,"ion-icon",5),Te(12," Extract zip "),H(),B(13,"ion-item",0),$e("click",function(){return i.onPaste()}),tt(14,"ion-icon",6),Te(15," Paste "),H(),B(16,"ion-item",7),$e("click",function(){return i.onHelp()}),tt(17,"ion-icon",8),Te(18," Help "),H()()),2&o&&(ue(),he("detail",!1)("disabled",i.emptyDirectory),ue(3),he("detail",!1),ue(3),he("detail",!1),ue(3),he("detail",!1),ue(3),he("detail",!1)("disabled",!i.vfsService.isClipboardPopulated()),ue(3),he("detail",!1))},dependencies:[Ho,Ao,aa],encapsulation:2}))}return e(),t})();var HL;class Mf{constructor(t,n){this.modalController=t,this.vfsService=n,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new qc({name:new Bs("",{nonNullable:!0,validators:[bh.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new Bs(!1,{nonNullable:!0}),attrHidden:new Bs(!1,{nonNullable:!0}),attrSystem:new Bs(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,T.A)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,T.A)(function*(){yield t.save()})()}save(){var t=this;return(0,T.A)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}static#e=HL=()=>(this.\u0275fac=function(n){return new(n||Mf)(_(js),_(td))},this.\u0275cmp=Xe({type:Mf,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},standalone:!1,decls:29,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["labelPlacement","stacked","formControlName","name",3,"label","placeholder"],["labelPlacement","fixed","formControlName","attrReadonly"],["name","lock-closed-outline","size","small"],["labelPlacement","fixed","formControlName","attrHidden"],["name","eye-off-outline","size","small"],["labelPlacement","fixed","formControlName","attrSystem"],["name","cog-outline","size","small"]],template:function(n,r){1&n&&(B(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Te(3),H(),B(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return r.onSaveClick()}),Te(6,"Save"),H()(),B(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return r.onCancelClick()}),Te(9,"Cancel"),H()()()(),B(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return r.onEnter()}),B(12,"ion-item",6),tt(13,"ion-input",7),H(),B(14,"ion-item",6)(15,"h2"),Te(16,"Attributes"),H()(),B(17,"ion-item",6)(18,"ion-checkbox",8),tt(19,"ion-icon",9),Te(20,"Readonly"),H()(),B(21,"ion-item",6)(22,"ion-checkbox",10),tt(23,"ion-icon",11),Te(24,"Hidden"),H()(),B(25,"ion-item",6)(26,"ion-checkbox",12),tt(27,"ion-icon",13),Te(28,"System"),H()()()()),2&n&&(ue(3),vi("Edit ",r.subjectName.toLowerCase()),ue(2),he("disabled",r.formGroup.invalid),ue(6),he("formGroup",r.formGroup),ue(2),he("label",NS("",r.subjectName," name"))("placeholder",NS("Enter ",r.subjectName.toLowerCase()," name")))},dependencies:[ss,as,n2,ls,cs,Ho,uc,Ao,us,ds,Ef,cc,lc,sc,ac,Oa,El],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}))}HL(),ie([Yn()],Mf.prototype,"onSaveClick",null),ie([Yn()],Mf.prototype,"onEnter",null);let Mse=(()=>{var e;class t{constructor(r,o){this.el=r,this.zone=o;const i=r.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const r=this.el.nativeElement.querySelector("input");r&&(setTimeout(()=>r.focus(),100),this.observer?.disconnect())}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(rt),_(We))},this.\u0275dir=Ht({type:t,selectors:[["","appAutofocus",""]],standalone:!1}))}return e(),t})(),kse=(()=>{var e;class t{constructor(r,o){this.vfsService=r,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new qc({name:new Bs("",{nonNullable:!0,validators:[bh.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(td),_(js))},this.\u0275cmp=Xe({type:t,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},standalone:!1,decls:14,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"click","disabled"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Directory name","labelPlacement","stacked","placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(o,i){1&o&&(B(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Te(3,"Create directory"),H(),B(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.onCreateClick()}),Te(6,"Create"),H()(),B(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancelClick()}),Te(9,"Cancel"),H()()()(),B(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return i.onEnter()}),B(12,"ion-item",6),tt(13,"ion-input",7),H()()()),2&o&&(ue(5),he("disabled",i.formGroup.invalid),ue(6),he("formGroup",i.formGroup))},dependencies:[ss,as,ls,cs,uc,Ao,us,ds,cc,lc,sc,ac,Oa,El,Mse],encapsulation:2}))}return e(),t})(),Rse=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},standalone:!1,decls:16,vars:5,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(B(0,"ion-list")(1,"ion-item",0),$e("click",function(){return i.onEdit()}),tt(2,"ion-icon",1),Te(3," Edit "),H(),B(4,"ion-item",0),$e("click",function(){return i.onSave()}),tt(5,"ion-icon",2),Te(6," Save "),H(),B(7,"ion-item",0),$e("click",function(){return i.onCopy()}),tt(8,"ion-icon",3),Te(9," Copy "),H(),B(10,"ion-item",0),$e("click",function(){return i.onCut()}),tt(11,"ion-icon",4),Te(12," Cut "),H(),B(13,"ion-item",5),$e("click",function(){return i.onDelete()}),tt(14,"ion-icon",6),Te(15," Delete "),H()()),2&o&&(ue(),he("detail",!1),ue(3),he("detail",!1),ue(3),he("detail",!1),ue(3),he("detail",!1),ue(3),he("detail",!1))},dependencies:[Ho,Ao,aa],encapsulation:2}))}return e(),t})(),GL=(()=>{var e;class t{transform(r){return void 0===r?"":r<1024?`${r} bytes`:r<1048576?`${(r/1024).toFixed(1)} kB`:`${(r/1024/1024).toFixed(1)} MB`}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275pipe=mi({name:"fileSize",type:t,pure:!0,standalone:!1}))}return e(),t})();const Nse=["slidingItem"];function Ose(e,t){1&e&&tt(0,"ion-icon",24)}function Pse(e,t){1&e&&tt(0,"ion-icon",25)}function Fse(e,t){1&e&&tt(0,"ion-icon",26)}function Lse(e,t){1&e&&tt(0,"ion-icon",27)}function $se(e,t){1&e&&tt(0,"ion-icon",28)}function Bse(e,t){1&e&&tt(0,"ion-icon",29)}function jse(e,t){1&e&&tt(0,"ion-icon",30)}function Vse(e,t){1&e&&tt(0,"ion-icon",31)}function Use(e,t){1&e&&tt(0,"ion-icon",32)}function Hse(e,t){if(1&e&&(Kl(0),Te(1),Fc(2,"fileSize"),yl()),2&e){const n=it();ue(),vi(" - ",Lc(2,1,null==n.entry?null:n.entry.size)," ")}}let Gse=(()=>{var e;class t{constructor(r,o,i){this.actionSheetController=r,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new _n,this.selectEntry=new _n,this.editEntry=new _n,this.copyEntry=new _n,this.cutEntry=new _n,this.deleteEntry=new _n,this.saveEntry=new _n,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(r){r.selecting&&r.selecting.currentValue&&!r.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(r){var o=this;return(0,T.A)(function*(){o.selecting||(r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Rse,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var r=this;return(0,T.A)(function*(){const o=r.entry?.isDirectory?"directory":"file";(yield r.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>r.copyEntry.emit(r.entry)},{text:`Cut ${o}`,handler:()=>r.cutEntry.emit(r.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let r=0;return this.entry?.attributes.readonly&&(r+=1.7),this.entry?.attributes.hidden&&(r+=1.7),this.entry?.attributes.system&&(r+=1.7),(this.markedForCopy||this.markedForCut)&&(r+=1.7),0===r?"0":(r+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,r+"em")}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(Lh),_(dc),_(td))},this.\u0275cmp=Xe({type:t,selectors:[["app-file-entry"]],viewQuery:function(o,i){if(1&o&&Yl(Nse,5),2&o){let s;ns(s=rs())&&(i.slidingItem=s.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},standalone:!1,features:[Ji],decls:29,vars:23,consts:[["slidingItem",""],[3,"contextmenu","ionDrag","disabled"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color","detail"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=Cn();B(0,"ion-item-sliding",1,0),$e("contextmenu",function(l){return pt(s),ht(i.onContextmenu(l))})("ionDrag",function(){return pt(s),ht(i.interaction.emit(i.entry))}),B(2,"ion-item-options",2)(3,"ion-item-option",3),$e("click",function(){return pt(s),oa(1).close(),ht(i.editEntry.emit(i.entry))}),tt(4,"ion-icon",4),H(),B(5,"ion-item-option",5),$e("click",function(){return pt(s),oa(1).close(),ht(i.saveEntry.emit(i.entry))}),tt(6,"ion-icon",6),H()(),B(7,"ion-item-options",7)(8,"ion-item-option",8),$e("click",function(){return pt(s),oa(1).close(),ht(i.cutOrCopyEntry())}),tt(9,"ion-icon",9),H(),B(10,"ion-item-option",10),$e("click",function(){return pt(s),oa(1).close(),ht(i.deleteEntry.emit(i.entry))}),tt(11,"ion-icon",11),H()(),B(12,"ion-item",12),$e("click",function(){return pt(s),i.selectEntry.emit(),ht(i.interaction.emit())}),nn(13,Ose,1,0,"ion-icon",13)(14,Pse,1,0,"ion-icon",14),B(15,"div",15),nn(16,Fse,1,0,"ion-icon",16)(17,Lse,1,0,"ion-icon",17)(18,$se,1,0,"ion-icon",18)(19,Bse,1,0,"ion-icon",19)(20,jse,1,0,"ion-icon",20),H(),nn(21,Vse,1,0,"ion-icon",21)(22,Use,1,0,"ion-icon",22),B(23,"ion-label")(24,"h2"),Te(25),H(),B(26,"p"),Te(27),nn(28,Hse,3,3,"ng-container",23),H()()()()}2&o&&(he("disabled",i.selecting),ue(12),Mu("opacity",i.touched?1:.99999),ia("is-directory",null==i.entry?null:i.entry.isDirectory),he("color",i.color)("detail",(null==i.entry?null:i.entry.isDirectory)&&!i.selecting),ue(),he("ngIf",null==i.entry?null:i.entry.isDirectory),ue(),he("ngIf",!(null!=i.entry&&i.entry.isDirectory)),ue(2),he("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.readonly),ue(),he("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.hidden),ue(),he("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.system),ue(),he("ngIf",i.markedForCopy),ue(),he("ngIf",i.markedForCut),ue(),he("ngIf",i.selecting&&!i.selected),ue(),he("ngIf",i.selecting&&i.selected),ue(),Mu("padding-right",i.safetyMargin),ia("selecting",i.selecting),ue(2),Ps(null==i.entry?null:i.entry.name),ue(2),vi(" ",null==i.entry?null:i.entry.lastModifiedLocalDate," "),ue(),he("ngIf",!(null!=i.entry&&i.entry.isDirectory)))},dependencies:[To,Ho,Ao,d_,f_,p_,zu,GL],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}))}return e(),t})();var zL;function zse(e,t){if(1&e){const n=Cn();B(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",7),$e("trigger",function(o){return pt(n),ht(it().openBreadcrumbMenu(o))}),Te(3),H()(),B(4,"ion-buttons",8),tt(5,"ion-back-button"),H(),B(6,"ion-buttons",9)(7,"ion-button",10),$e("click",function(o){return pt(n),ht(it().openContextMenu(o,"trigger"))}),tt(8,"ion-icon",11),H()()()}if(2&e){const n=it();ue(3),Ps(n.title)}}function Wse(e,t){if(1&e){const n=Cn();B(0,"ion-buttons",13)(1,"ion-button",10),$e("click",function(){return pt(n),ht(it(2).onSelectAll())}),Te(2,"Select all"),H()()}}function qse(e,t){if(1&e){const n=Cn();B(0,"ion-buttons",13)(1,"ion-button",10),$e("click",function(){return pt(n),ht(it(2).selection.clear())}),Te(2,"Clear"),H()()}}function Zse(e,t){if(1&e){const n=Cn();B(0,"ion-toolbar")(1,"ion-title"),Te(2,"Selection"),H(),B(3,"ion-buttons",9)(4,"ion-button",10),$e("click",function(){return pt(n),ht(it().onSelectionDone())}),Te(5),H()(),nn(6,Wse,3,0,"ion-buttons",12)(7,qse,3,0,"ion-buttons",12),H()}if(2&e){const n=it();ue(5),Ps(0===n.selection.size?"Cancel":"Done"),ue(),he("ngIf",n.selection.size!==(null==n.entries?null:n.entries.length)),ue(),he("ngIf",n.selection.size===(null==n.entries?null:n.entries.length))}}function Kse(e,t){if(1&e&&(B(0,"div",14)(1,"div",15),Te(2),H()()),2&e){const n=it();ue(2),vi("empty ",n.isRoot?"card":"directory")}}function Yse(e,t){if(1&e){const n=Cn();B(0,"app-file-entry",16),$e("selectEntry",function(){const o=pt(n).$implicit;return ht(it().onSelect(o))})("editEntry",function(){const o=pt(n).$implicit;return ht(it().onEditEntry(o))})("saveEntry",function(){const o=pt(n).$implicit;return ht(it().onSaveEntry(o))})("copyEntry",function(){const o=pt(n).$implicit;return ht(it().onCopyEntry(o))})("cutEntry",function(){const o=pt(n).$implicit;return ht(it().onCutEntry(o))})("deleteEntry",function(){const o=pt(n).$implicit;return ht(it().onDeleteEntry(o))})("interaction",function(){const o=pt(n).$implicit;return ht(it().lastEntryTouched=o.name)}),H()}if(2&e){const n=t.$implicit,r=it();he("entry",n)("selecting","select"===r.mode)("selected",r.selection.has(n.name))("touched",n.name===r.lastEntryTouched)}}function Xse(e,t){if(1&e&&(B(0,"p"),Te(1),Fc(2,"fileSize"),Fc(3,"fileSize"),H()),2&e){const n=it(2);ue(),Up("",Lc(2,2,n.bytesFree())," free, ",Lc(3,4,n.bytesTotal)," total")}}function Qse(e,t){if(1&e&&(B(0,"p"),Te(1),Fc(2,"fileSize"),H()),2&e){const n=it(2);ue(),RS(" ",Lc(2,3,n.bytesInFiles)," in ",n.fileCount," ",1===n.fileCount?"file":"files"," ")}}function Jse(e,t){if(1&e&&(B(0,"ion-item",17)(1,"ion-label",18),nn(2,Xse,4,6,"p",1)(3,Qse,3,5,"p",1),H()()),2&e){const n=it();ue(2),he("ngIf",n.isRoot),ue(),he("ngIf",n.fileCount>0)}}const eae=[];function tae(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class ua{constructor(t,n,r,o,i,s,a,l,c){this.vfsService=t,this.popoverController=n,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.loaderService=l,this.cd=c,this.memoizedEntries=Zh(d=>[...d].sort(tae)),this.bytesInFilesMemoized=Zh(d=>d?.reduce((h,m)=>h+(m.isDirectory?0:m.size),0)??0),this.fileCountMemoized=Zh(d=>d?.filter(h=>!h.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.subscriptions=[],t.change.subscribe(function Cse(e,t,n){return()=>{const r=n();r!==t&&(e.markForCheck(),t=r)}}(c,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0))}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}handleDragDropEvent(t){this.fileService.openFromDrop(t,n=>this.vfsService.addFiles(n,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.bytesFree}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?this.memoizedEntries(this.vfsService.readdir(this.path)):eae}trackEntryBy(t,n){return n.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var n=this;return(0,T.A)(function*(){yield(yield n.modalController.create({component:Mf,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var n=this;return(0,T.A)(function*(){n.path&&(t.isDirectory?yield n.vfsService.archiveFiles([t],n.path):yield n.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var n=this;return(0,T.A)(function*(){t.isDirectory?yield n.vfsService.deleteRecursive([t]):yield n.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,T.A)(function*(){yield(yield t.modalController.create({component:kse,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:r=>t.vfsService.mkdir(`${t.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,T.A)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,T.A)(function*(){yield(yield t.modalController.create({component:Zu,componentProps:{url:Sse}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,T.A)(function*(){if(!t.entries)return;const n=Array.from(t.selection),r=new Map(t.entries.map(a=>[a.name,a])),o=n.every(a=>!r.get(a)?.isDirectory),i=n.every(a=>r.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,T.A)(function*(){const n=t.materializeSelection();!n||!t.path||(yield t.vfsService.archiveFiles(n,t.path))})()}onDeleteSelection(){var t=this;return(0,T.A)(function*(){const n=t.materializeSelection();!n||!t.path||(yield t.vfsService.deleteRecursive(n))})()}openBreadcrumbMenu(t){var n=this;return(0,T.A)(function*(){if(!n.card||!n.path)return;const r=[..."/"===n.path?[]:[...n.vfsService.splitPath(n.path).reverse().slice(1),n.card.name],"Memory cards"];(yield n.popoverController.create({component:Ase,componentProps:{entries:r,onSelect:i=>n.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===n.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,n){var r=this;return(0,T.A)(function*(){(yield r.popoverController.create({component:xse,componentProps:{emptyDirectory:0===r.entries?.length,onStartSelection:r.onStartSelection.bind(r),onAddFiles:r.onAddFiles.bind(r),onCreateDirectry:r.onCreateDirectory.bind(r),onExtractZipfile:r.onExtractZipfile.bind(r),onPaste:r.onPaste.bind(r),onHelp:r.onHelp.bind(r)},event:t,dismissOnSelect:!0,arrow:!1,reference:n})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(n=>[n.name,n]));return Array.from(this.selection).map(n=>t.get(n)).filter(n=>!!n)}extractZipArchive(t){var n=this;return(0,T.A)(function*(){if(!/\.zip$/.test(t.name))return void(yield n.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported"));let r;try{r=yield t.getContent()}catch(o){throw console.warn(o),new Error(`Unable to open ${t.name}.`)}n.vfsService.unpackArchive(r,n.path||"/")})()}static#e=zL=()=>(this.\u0275fac=function(n){return new(n||ua)(_(td),_(dc),_(Th),_(Dr),_(Lh),_(js),_(Tl),_(ps),_(vt))},this.\u0275cmp=Xe({type:ua,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},standalone:!1,decls:9,vars:8,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction","entry","selecting","selected","touched"],["lines","none",1,"metadata"],[1,"directory-stats"]],template:function(n,r){1&n&&(B(0,"ion-header",0),nn(1,zse,9,1,"ion-toolbar",1)(2,Zse,8,3,"ion-toolbar",1),H(),B(3,"ion-content",2),$e("contextmenu",function(i){return r.onContextMenu(i)}),B(4,"div",3),nn(5,Kse,3,1,"div",4),B(6,"ion-list"),nn(7,Yse,1,4,"app-file-entry",5)(8,Jse,4,2,"ion-item",6),H()()()),2&n&&(he("translucent",!0),ue(),he("ngIf","browse"===r.mode),ue(),he("ngIf","select"===r.mode),ue(),he("fullscreen",!0),ue(2),he("ngIf",0===(null==r.entries?null:r.entries.length)),ue(2),he("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),ue(),he("ngIf",r.isRoot||r.fileCount>0))},dependencies:[Jl,To,ss,as,ls,cs,Ho,Ao,zu,aa,us,ds,s2,$L,Gse,GL],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}.directory-stats[_ngcontent-%COMP%]{cursor:default}"],changeDetection:0}))}zL(),ie([Yn()],ua.prototype,"onSaveEntry",null),ie([Yn()],ua.prototype,"onDeleteEntry",null),ie([Yn()],ua.prototype,"onCreateDirectory",null),ie([Yn()],ua.prototype,"onPaste",null),ie([Yn()],ua.prototype,"onHelp",null),ie([Yn()],ua.prototype,"onSelectionDone",null),ie([Yn()],ua.prototype,"onSaveZip",null),ie([Yn()],ua.prototype,"onDeleteSelection",null);const nae=["nav"],rae=[{path:"tab",component:aE,children:[{path:"emulation",component:ca},{path:"sessions",component:Bie},{path:"storage",component:(()=>{var e;class t{constructor(r,o){this.vfsService=r,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(ua,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=Fa,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var r=this;return(0,T.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(r){var o=this;return(0,T.A)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent(r)})()}get animateNav(){return!s7}browseCard(r){this.currentlyBrowsingCard=r,this.nav?.push(ua,{card:r,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(r){r!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(td),_(lE))},this.\u0275cmp=Xe({type:t,selectors:[["app-storage"]],viewQuery:function(o,i){if(1&o&&Yl(nae,5),2&o){let s;ns(s=rs())&&(i.nav=s.first)}},standalone:!1,decls:2,vars:3,consts:[["nav",""],[3,"animated","root","rootParams"]],template:function(o,i){1&o&&tt(0,"ion-nav",1,0),2&o&&he("animated",i.animateNav)("root",i.navRoot)("rootParams",i.navRootProps)},dependencies:[ew],encapsulation:2}))}return e(),t})()},{path:"settings",component:Xie},{path:"about",component:qh},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let oae=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=jo({type:t}),this.\u0275inj=Un({imports:[Gv.forChild(rae),Gv]}))}return e(),t})(),iae=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=jo({type:t}),this.\u0275inj=Un({imports:[Zc,ec,Gu,oae,Wte,qte,Zte,Kte,zte]}))}return e(),t})(),sae=(()=>{var e;class t extends WR{pushState(r,o,i,s){this.replaceState(r,o,i,s)}static#e=e=()=>(this.\u0275fac=(()=>{let r;return function(i){return(r||(r=Jr(t)))(i||t)}})(),this.\u0275prov=Qe({token:t,factory:t.\u0275fac}))}return e(),t})();const aae=[{path:"install",component:R2,canActivate:[N2]},{path:"import",component:R2,canActivate:[N2]},{path:"",component:aE}];let lae=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=jo({type:t}),this.\u0275inj=Un({providers:[{provide:hl,useClass:sae}],imports:[Gv.forRoot(aae,{preloadingStrategy:sY,useHash:!0}),iae,Gv]}))}return e(),t})(),WL=(()=>{var e;class t{constructor(r,o,i,s,a){var l=this;this.kvsService=r,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,T.A)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==Ku&&(yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Ku}.`,{Changes:()=>l.showChangelog()}),yield l.kvsService.set({version:Ku,previousVersion:c,latestVersion:Ku})):l.kvsService.kvs.version=Ku})),this.mutex=new Vs,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var r=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,T.A)(function*(){yield r.emulationService.bootstrapComplete(),r.alertService.updateAvailable(()=>r.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var r=this;return(0,T.A)(function*(){if(yield r.kvsService.initialize(),r.kvsService.kvs.previousVersion===Ku){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield r.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var r=this;return(0,T.A)(function*(){yield(yield r.modalController.create({component:Zu,componentProps:{url:O2,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var r=this;setTimeout((0,T.A)(function*(){yield r.serviceWorkerService.update(),r.scheduleUpdateCheck()}),9e5)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Hi),ae(ol),ae(Dr),ae(js),ae(w_))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),uae=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.kvsService=r,this.alertService=o,this.emulationService=i,this.pwaService=s,this.nativeAppService=a,this.serviceWorkerService=l}start(){var r=this;return(0,T.A)(function*(){yield r.handleiOSNativeAppServiceWorkerBug();const o=r.kvsService.kvs.infoId??0;r.kvsService.kvs.infoId=yield r.showInfo(o),"pwa"===r.pwaService.getInstallationMode()&&mo&&!bl&&(r.kvsService.kvs.ios174UpdateWarningId=yield r.showIOS174UpdateWarning(r.kvsService.kvs.ios174UpdateWarningId))})()}handleiOSNativeAppServiceWorkerBug(){var r=this;return(0,T.A)(function*(){if(!r.serviceWorkerService.isEnabled()||!(yield r.nativeAppService.getWorkerFailed()))return;let i=!1;yield r.alertService.message("App failed to load offline",'\n            It seems the app failed to load without internet. This is caused by an iOS bug.\n            <br><br>\n            You can fix by resetting the service worker now or by tapping\n            "reset worker" at the bottom of the "About" tab later.\n            ',{"Fix now":()=>i=!0},"Close"),i?yield r.serviceWorkerService.reset():r.nativeAppService.clearWorkerFailed()})()}showInfo(r){var o=this;return(0,T.A)(function*(){return 2===r&&mo&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(r){var o=this;return(0,T.A)(function*(){return(r??0)>0&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("Update to iOS 17.4","\n                    Apple has backpedaled and will not disable homescreen apps in the European\n                    Union. The update to 17.4 is expected to be safe, and CloudpilotEmu will\n                    continue to work as before.\n                ")),0})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Hi),ae(Dr),ae(ol),ae(T_),ae(la),ae(w_))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),dae=(()=>{var e;class t{constructor(r,o,i,s){this.pwaService=r,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var r=this;return(0,T.A)(function*(){r.bootstrapService.notifyHasRendered(),yield r.infoService.start(),r.pwaService.invite(),r.updateService.start()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(_(T_),_(WL),_(IL),_(uae))},this.\u0275cmp=Xe({type:t,selectors:[["app-root"]],standalone:!1,decls:2,vars:0,template:function(o,i){1&o&&(B(0,"ion-app"),tt(1,"ion-router-outlet"),H())},dependencies:[t2,Fh],encapsulation:2}))}return e(),t})();const qL=["touchstart","click","keydown"];let fae=(()=>{var e;class t{constructor(r,o){this.kvsService=r,this.audioService=o,this.initialize()}initialize(){var r=this;return(0,T.A)(function*(){if(yield r.kvsService.initialize(),!r.kvsService.kvs.enableAudioOnFirstInteraction)return;mo&&bl&&r.audioService.initialize();const o=()=>{qL.forEach(i=>window.removeEventListener(i,o,!0)),r.audioService.initialize()};qL.forEach(i=>window.addEventListener(i,o,!0))})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Hi),ae(L_))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const pae=()=>{const e=new Kc;return e.link=function({href:t,tokens:n}){return`<a href="${t}" target="_blank" rel="external">${this.parser.parseInline(n)||t}</a>`},{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let hae=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d){}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(ae(Jn),ae(ol),ae(L_),ae(eu),ae(Hi),ae(WL),ae(fae),ae(w_))},this.\u0275mod=jo({type:t,bootstrap:[dae]}),this.\u0275inj=Un({providers:[{provide:SP,useClass:xQ},{provide:Kh,useClass:uoe},{provide:x_,useFactory:()=>{const r=Lt.create(aee);return window.__cp_enableLogging=o=>r.then(i=>i.enableLogging(o)),r}},{provide:uL,useFactory:()=>TP(see)},sS(()=>{return(o=Le(Hi)).initialize.bind(o)();var o}),Mq(Nu(Gc.LegacyInterceptors,[{provide:SO,useFactory:yq},{provide:sh,useExisting:SO,multi:!0}]))],imports:[J9,Zc.forRoot({innerHTMLTemplatesEnabled:!0}),lae,bw.forRoot({loader:$C,markedOptions:{provide:M2,useFactory:pae},markedExtensions:[{provide:x2,useFactory:Mee,multi:!0}]})]}))}return e(),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function c7(){nf()&&xN()}(),function g7(){mv=FN("#/install?"),vv=FN("#/import?")}(),function d7(){return!!EC(gv)}()&&!LN()||function m7(){return void 0!==mv}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),mo&&(CSS.supports("height","100dvh")?document.body.style.height="100dvh":window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),ON()),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),Q9().bootstrapModule(hae).then(e=>true).catch(e=>console.log(e))},814:K=>{"use strict";K.exports=Function.prototype.apply},840:(K,Ee,y)=>{"use strict";var C=y(2521),k=y(2282),L=k([C("%String.prototype.indexOf%")]);K.exports=function(R,f){var P=C(R,!!f);return"function"==typeof P&&L(R,".prototype.")>-1?k([P]):P}},863:(K,Ee,y)=>{"use strict";var C=y(3687),k=y(8519),L=function(D,F,N){for(var O,G=D;null!=(O=G.next);G=O)if(O.key===F)return G.next=O.next,N||(O.next=D.next,D.next=O),O};K.exports=function(){var F,N={assert:function(G){if(!N.has(G))throw new k("Side channel does not contain "+C(G))},delete:function(G){var O=F&&F.next,I=function(D,F){if(D)return L(D,F,!0)}(F,G);return I&&O&&O===I&&(F=void 0),!!I},get:function(G){return function(D,F){if(D){var N=L(D,F);return N&&N.value}}(F,G)},has:function(G){return function(D,F){return!!D&&!!L(D,F)}(F,G)},set:function(G,O){F||(F={next:void 0}),function(D,F,N){var G=L(D,F);G?G.value=N:D.next={key:F,next:D.next,value:N}}(F,G,O)}};return N}},1051:function(K,Ee){var y,k;void 0!==(k="function"==typeof(y=function(){"use strict";var L=Object.prototype.hasOwnProperty,W=Object.prototype.toString,R="boolean"==typeof(new RegExp).sticky;function f(U){return U&&"[object RegExp]"===W.call(U)}function P(U){return U&&"object"==typeof U&&!f(U)&&!Array.isArray(U)}function F(U){return new RegExp("|"+U).exec("").length-1}function N(U){return"("+U+")"}function G(U){return U.length?"(?:"+U.map(function(Ve){return"(?:"+Ve+")"}).join("|")+")":"(?!)"}function O(U){if("string"==typeof U)return"(?:"+function D(U){return U.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(U)+")";if(f(U)){if(U.ignoreCase)throw new Error("RegExp /i flag not allowed");if(U.global)throw new Error("RegExp /g flag is implied");if(U.sticky)throw new Error("RegExp /y flag is implied");if(U.multiline)throw new Error("RegExp /m flag is implied");return U.source}throw new Error("Not a pattern: "+U)}function I(U,X){return U.length>X?U:Array(X-U.length+1).join(" ")+U}function Ce(U,X){if(P(X)||(X={match:X}),X.include)throw new Error("Matching rules cannot also include states");var Ve={defaultType:U,lineBreaks:!!X.error||!!X.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var z in X)L.call(X,z)&&(Ve[z]=X[z]);if("string"==typeof Ve.type&&U!==Ve.type)throw new Error("Type transform cannot be a string (type '"+Ve.type+"' for token '"+U+"')");var ne=Ve.match;return Ve.match=Array.isArray(ne)?ne:ne?[ne]:[],Ve.match.sort(function(le,ye){return f(le)&&f(ye)?0:f(ye)?-1:f(le)?1:ye.length-le.length}),Ve}function Q(U){return Array.isArray(U)?function de(U){for(var X=[],Ve=0;Ve<U.length;Ve++){var z=U[Ve];if(z.include)for(var ne=[].concat(z.include),le=0;le<ne.length;le++)X.push({include:ne[le]});else{if(!z.type)throw new Error("Rule has no type: "+JSON.stringify(z));X.push(Ce(z.type,z))}}return X}(U):function se(U){for(var X=Object.getOwnPropertyNames(U),Ve=[],z=0;z<X.length;z++){var ne=X[z],ye=[].concat(U[ne]);if("include"!==ne){var Fe=[];ye.forEach(function(we){P(we)?(Fe.length&&Ve.push(Ce(ne,Fe)),Ve.push(Ce(ne,we)),Fe=[]):Fe.push(we)}),Fe.length&&Ve.push(Ce(ne,Fe))}else for(var Re=0;Re<ye.length;Re++)Ve.push({include:ye[Re]})}return Ve}(U)}var Z=Ce("error",{lineBreaks:!0,shouldThrow:!0});function Y(U,X){for(var Ve=null,z=Object.create(null),ne=!0,le=null,ye=[],Re=[],Fe=0;Fe<U.length;Fe++)U[Fe].fallback&&(ne=!1);for(Fe=0;Fe<U.length;Fe++){var we=U[Fe];if(we.include)throw new Error("Inheritance is not allowed in stateless lexers");if(we.error||we.fallback){if(Ve)throw!we.fallback==!Ve.fallback?new Error("Multiple "+(we.fallback?"fallback":"error")+" rules not allowed (for token '"+we.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+we.defaultType+"')");Ve=we}var Je=we.match.slice();if(ne)for(;Je.length&&"string"==typeof Je[0]&&1===Je[0].length;)z[Je.shift().charCodeAt(0)]=we;if(we.pop||we.push||we.next){if(!X)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+we.defaultType+"')");if(we.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+we.defaultType+"')")}if(0!==Je.length){ne=!1,ye.push(we);for(var xe=0;xe<Je.length;xe++){var Ge=Je[xe];if(f(Ge))if(null===le)le=Ge.unicode;else if(le!==Ge.unicode&&!1===we.fallback)throw new Error("If one rule is /u then all must be")}var _t=G(Je.map(O)),gt=new RegExp(_t);if(gt.test(""))throw new Error("RegExp matches empty string: "+gt);if(F(_t)>0)throw new Error("RegExp has capture groups: "+gt+"\nUse (?: \u2026 ) instead");if(!we.lineBreaks&&gt.test("\n"))throw new Error("Rule should declare lineBreaks: "+gt);Re.push(N(_t))}}var ot=Ve&&Ve.fallback,At=R&&!ot?"ym":"gm",Ke=R||ot?"":"|";return!0===le&&(At+="u"),{regexp:new RegExp(G(Re)+Ke,At),groups:ye,fast:z,error:Ve||Z}}function Ae(U,X,Ve){var z=U&&(U.push||U.next);if(z&&!Ve[z])throw new Error("Missing state '"+z+"' (in token '"+U.defaultType+"' of state '"+X+"')");if(U&&U.pop&&1!=+U.pop)throw new Error("pop must be 1 (in token '"+U.defaultType+"' of state '"+X+"')")}var De=function(U,X){this.startState=X,this.states=U,this.buffer="",this.stack=[],this.reset()};De.prototype.reset=function(U,X){return this.buffer=U||"",this.index=0,this.line=X?X.line:1,this.col=X?X.col:1,this.queuedToken=X?X.queuedToken:null,this.queuedText=X?X.queuedText:"",this.queuedThrow=X?X.queuedThrow:null,this.setState(X?X.state:this.startState),this.stack=X&&X.stack?X.stack.slice():[],this},De.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},De.prototype.setState=function(U){if(U&&this.state!==U){this.state=U;var X=this.states[U];this.groups=X.groups,this.error=X.error,this.re=X.regexp,this.fast=X.fast}},De.prototype.popState=function(){this.setState(this.stack.pop())},De.prototype.pushState=function(U){this.stack.push(this.state),this.setState(U)};var _e=R?function(U,X){return U.exec(X)}:function(U,X){var Ve=U.exec(X);return 0===Ve[0].length?null:Ve};function ge(){return this.value}if(De.prototype._getGroup=function(U){for(var X=this.groups.length,Ve=0;Ve<X;Ve++)if(void 0!==U[Ve+1])return this.groups[Ve];throw new Error("Cannot find token type for matched text")},De.prototype.next=function(){var U=this.index;if(this.queuedGroup){var X=this._token(this.queuedGroup,this.queuedText,U);return this.queuedGroup=null,this.queuedText="",X}var Ve=this.buffer;if(U!==Ve.length){if(ye=this.fast[Ve.charCodeAt(U)])return this._token(ye,Ve.charAt(U),U);var z=this.re;z.lastIndex=U;var ne=_e(z,Ve),le=this.error;if(null==ne)return this._token(le,Ve.slice(U,Ve.length),U);var ye=this._getGroup(ne),Re=ne[0];return le.fallback&&ne.index!==U?(this.queuedGroup=ye,this.queuedText=Re,this._token(le,Ve.slice(U,ne.index),U)):this._token(ye,Re,U)}},De.prototype._token=function(U,X,Ve){var z=0;if(U.lineBreaks){var ne=/\n/g,le=1;if("\n"===X)z=1;else for(;ne.exec(X);)z++,le=ne.lastIndex}var ye={type:"function"==typeof U.type&&U.type(X)||U.defaultType,value:"function"==typeof U.value?U.value(X):X,text:X,toString:ge,offset:Ve,lineBreaks:z,line:this.line,col:this.col},Re=X.length;if(this.index+=Re,this.line+=z,0!==z?this.col=Re-le+1:this.col+=Re,U.shouldThrow)throw new Error(this.formatError(ye,"invalid syntax"));return U.pop?this.popState():U.push?this.pushState(U.push):U.next&&this.setState(U.next),ye},typeof Symbol<"u"&&Symbol.iterator){var Ie=function(U){this.lexer=U};Ie.prototype.next=function(){var U=this.lexer.next();return{value:U,done:!U}},Ie.prototype[Symbol.iterator]=function(){return this},De.prototype[Symbol.iterator]=function(){return new Ie(this)}}return De.prototype.formatError=function(U,X){if(null==U){var Ve=this.buffer.slice(this.index);U={text:Ve,offset:this.index,lineBreaks:-1===Ve.indexOf("\n")?0:1,line:this.line,col:this.col}}var ne=Math.max(U.line-2,1),ye=String(U.line+2).length,Re=function A(U,X){for(var Ve=U.length,z=0;;){var ne=U.lastIndexOf("\n",Ve-1);if(-1===ne||(Ve=ne,++z===X)||0===Ve)break}return U.substring(z<X?0:Ve+1).split("\n")}(this.buffer,this.line-U.line+2+1).slice(0,5),Fe=[];Fe.push(X+" at line "+U.line+" col "+U.col+":"),Fe.push("");for(var we=0;we<Re.length;we++){var Je=Re[we],Dt=ne+we;Fe.push(I(String(Dt),ye)+"  "+Je),Dt===U.line&&Fe.push(I("",ye+U.col+1)+"^")}return Fe.join("\n")},De.prototype.clone=function(){return new De(this.states,this.state)},De.prototype.has=function(U){return!0},{compile:function ve(U){var X=Y(Q(U));return new De({start:X},"start")},states:function Ye(U,X){var Ve=U.$all?Q(U.$all):[];delete U.$all;var z=Object.getOwnPropertyNames(U);X||(X=z[0]);for(var ne=Object.create(null),le=0;le<z.length;le++)ne[ye=z[le]]=Q(U[ye]).concat(Ve);for(le=0;le<z.length;le++)for(var Re=ne[ye=z[le]],Fe=Object.create(null),we=0;we<Re.length;we++){var Je=Re[we];if(Je.include){var Dt=[we,1];if(Je.include!==ye&&!Fe[Je.include]){Fe[Je.include]=!0;var xe=ne[Je.include];if(!xe)throw new Error("Cannot include nonexistent state '"+Je.include+"' (in state '"+ye+"')");for(var Ge=0;Ge<xe.length;Ge++){var _t=xe[Ge];-1===Re.indexOf(_t)&&Dt.push(_t)}}Re.splice.apply(Re,Dt),we--}}var gt=Object.create(null);for(le=0;le<z.length;le++){var ye;gt[ye=z[le]]=Y(ne[ye],!0)}for(le=0;le<z.length;le++){var Ct=z[le],ot=gt[Ct],At=ot.groups;for(we=0;we<At.length;we++)Ae(At[we],Ct,gt);var Ke=Object.getOwnPropertyNames(ot.fast);for(we=0;we<Ke.length;we++)Ae(ot.fast[Ke[we]],Ct,gt)}return new De(gt,X)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function te(U){for(var X=typeof Map<"u",Ve=X?new Map:Object.create(null),z=Object.getOwnPropertyNames(U),ne=0;ne<z.length;ne++){var le=z[ne],ye=U[le];(Array.isArray(ye)?ye:[ye]).forEach(function(Fe){if("string"!=typeof Fe)throw new Error("keyword must be string (in keyword '"+le+"')");X?Ve.set(Fe,le):Ve[Fe]=le})}return function(Fe){return X?Ve.get(Fe):Ve[Fe]}}}})?y.apply(Ee,[]):y)&&(K.exports=k)},1123:K=>{"use strict";K.exports=Error},1143:(K,Ee,y)=>{"use strict";var C=y(6330),k=y(8519),L=Object;K.exports=C(function(){if(null==this||this!==L(this))throw new k("RegExp.prototype.flags getter called on non-object");var R="";return this.hasIndices&&(R+="d"),this.global&&(R+="g"),this.ignoreCase&&(R+="i"),this.multiline&&(R+="m"),this.dotAll&&(R+="s"),this.unicode&&(R+="u"),this.unicodeSets&&(R+="v"),this.sticky&&(R+="y"),R},"get flags",!0)},1197:(K,Ee,y)=>{"use strict";var C=y(1963),k=y(4880),L=y(8519),W=y(9263);K.exports=function(f,P,D){if(!f||"object"!=typeof f&&"function"!=typeof f)throw new L("`obj` must be an object or a function`");if("string"!=typeof P&&"symbol"!=typeof P)throw new L("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new L("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new L("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new L("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new L("`loose`, if provided, must be a boolean");var F=arguments.length>3?arguments[3]:null,N=arguments.length>4?arguments[4]:null,G=arguments.length>5?arguments[5]:null,O=arguments.length>6&&arguments[6],I=!!W&&W(f,P);if(C)C(f,P,{configurable:null===G&&I?I.configurable:!G,enumerable:null===F&&I?I.enumerable:!F,value:D,writable:null===N&&I?I.writable:!N});else{if(!O&&(F||N||G))throw new k("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");f[P]=D}}},1393:(K,Ee,y)=>{"use strict";y.r(Ee),y.d(Ee,{mdTransitionAnimation:()=>f});var C=y(7133),k=y(6780);y(9335),y(575),y(6721);const f=(P,D)=>{var F,N,G;const O="40px",A="back"===D.direction,de=D.leavingEl,Ce=(0,k.g)(D.enteringEl),Q=Ce.querySelector("ion-toolbar"),Z=(0,C.c)();if(Z.addElement(Ce).fill("both").beforeRemoveClass("ion-page-invisible"),A?Z.duration((null!==(F=D.duration)&&void 0!==F?F:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Z.duration((null!==(N=D.duration)&&void 0!==N?N:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${O})`,"translateY(0px)").fromTo("opacity",.01,1),Q){const Y=(0,C.c)();Y.addElement(Q),Z.addAnimation(Y)}if(de&&A){Z.duration((null!==(G=D.duration)&&void 0!==G?G:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Y=(0,C.c)();Y.addElement((0,k.g)(de)).onFinish(ve=>{1===ve&&Y.elements.length>0&&Y.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${O})`).fromTo("opacity",1,0),Z.addAnimation(Y)}return Z}},1459:(K,Ee,y)=>{"use strict";var C=typeof Symbol<"u"&&Symbol,k=y(6497);K.exports=function(){return"function"==typeof C&&"function"==typeof Symbol&&"symbol"==typeof C("foo")&&"symbol"==typeof Symbol("bar")&&k()}},1516:K=>{"use strict";K.exports=Math.pow},1568:(K,Ee,y)=>{"use strict";var C=y(3996),k=y(9364),L=y(8580);K.exports=C?function(R){return C(R)}:k?function(R){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new TypeError("getProto: not an object");return k(R)}:L?function(R){return L(R)}:null},1890:(K,Ee,y)=>{"use strict";function C(L,W,R,f,P,D,F){try{var N=L[D](F),G=N.value}catch(O){return void R(O)}N.done?W(G):Promise.resolve(G).then(f,P)}function k(L){return function(){var W=this,R=arguments;return new Promise(function(f,P){var D=L.apply(W,R);function F(G){C(D,f,P,F,N,"next",G)}function N(G){C(D,f,P,F,N,"throw",G)}F(void 0)})}}y.d(Ee,{A:()=>k})},1963:K=>{"use strict";var Ee=Object.defineProperty||!1;if(Ee)try{Ee({},"a",{value:1})}catch{Ee=!1}K.exports=Ee},2090:(K,Ee,y)=>{"use strict";var k=y(840)("SharedArrayBuffer.prototype.byteLength",!0);K.exports=k?function(W){if(!W||"object"!=typeof W)return!1;try{return k(W),!0}catch{return!1}}:function(W){return!1}},2136:K=>{"use strict";K.exports=Math.max},2179:(K,Ee,y)=>{"use strict";var C=y(3889),k=y(5492)(),L=y(8519),W={assert:function(R,f){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");if(k.assert(R),!W.has(R,f))throw new L("`"+f+"` is not present on `O`")},get:function(R,f){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var P=k.get(R);return P&&P["$"+f]},has:function(R,f){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var P=k.get(R);return!!P&&C(P,"$"+f)},set:function(R,f,P){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var D=k.get(R);D||k.set(R,D={}),D["$"+f]=P}};Object.freeze&&Object.freeze(W),K.exports=W},2219:(K,Ee,y)=>{"use strict";var k=y(840)("ArrayBuffer.prototype.byteLength",!0),L=y(3066);K.exports=function(R){return L(R)?k?k(R):R.byteLength:NaN}},2282:(K,Ee,y)=>{"use strict";var C=y(7707),k=y(8519),L=y(7648),W=y(5124);K.exports=function(f){if(f.length<1||"function"!=typeof f[0])throw new k("a function is required");return W(C,L,f)}},2375:(K,Ee,y)=>{"use strict";var C=y(2521),k=y(840),L=y(3687),W=y(8519),R=C("%Map%",!0),f=k("Map.prototype.get",!0),P=k("Map.prototype.set",!0),D=k("Map.prototype.has",!0),F=k("Map.prototype.delete",!0),N=k("Map.prototype.size",!0);K.exports=!!R&&function(){var O,I={assert:function(A){if(!I.has(A))throw new W("Side channel does not contain "+L(A))},delete:function(A){if(O){var se=F(O,A);return 0===N(O)&&(O=void 0),se}return!1},get:function(A){if(O)return f(O,A)},has:function(A){return!!O&&D(O,A)},set:function(A,se){O||(O=new R),P(O,A,se)}};return I}},2490:K=>{function Ee(C){return!!C.constructor&&"function"==typeof C.constructor.isBuffer&&C.constructor.isBuffer(C)}K.exports=function(C){return null!=C&&(Ee(C)||function y(C){return"function"==typeof C.readFloatLE&&"function"==typeof C.slice&&Ee(C.slice(0,0))}(C)||!!C._isBuffer)}},2521:(K,Ee,y)=>{"use strict";var C,k=y(7888),L=y(1123),W=y(2905),R=y(7718),f=y(3286),P=y(4880),D=y(8519),F=y(2781),N=y(7598),G=y(3116),O=y(2136),I=y(3462),A=y(1516),se=y(5714),de=y(497),Ce=Function,Q=function(ot){try{return Ce('"use strict"; return ('+ot+").constructor;")()}catch{}},Z=y(9263),Y=y(1963),ve=function(){throw new D},Ae=Z?function(){try{return ve}catch{try{return Z(arguments,"callee").get}catch{return ve}}}():ve,Ye=y(1459)(),te=y(1568),De=y(9364),_e=y(3996),ge=y(814),Ie=y(7648),U={},X=typeof Uint8Array>"u"||!te?C:te(Uint8Array),Ve={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?C:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?C:ArrayBuffer,"%ArrayIteratorPrototype%":Ye&&te?te([][Symbol.iterator]()):C,"%AsyncFromSyncIteratorPrototype%":C,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":typeof Atomics>"u"?C:Atomics,"%BigInt%":typeof BigInt>"u"?C:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?C:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?C:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?C:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":L,"%eval%":eval,"%EvalError%":W,"%Float16Array%":typeof Float16Array>"u"?C:Float16Array,"%Float32Array%":typeof Float32Array>"u"?C:Float32Array,"%Float64Array%":typeof Float64Array>"u"?C:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?C:FinalizationRegistry,"%Function%":Ce,"%GeneratorFunction%":U,"%Int8Array%":typeof Int8Array>"u"?C:Int8Array,"%Int16Array%":typeof Int16Array>"u"?C:Int16Array,"%Int32Array%":typeof Int32Array>"u"?C:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ye&&te?te(te([][Symbol.iterator]())):C,"%JSON%":"object"==typeof JSON?JSON:C,"%Map%":typeof Map>"u"?C:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ye||!te?C:te((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":k,"%Object.getOwnPropertyDescriptor%":Z,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?C:Promise,"%Proxy%":typeof Proxy>"u"?C:Proxy,"%RangeError%":R,"%ReferenceError%":f,"%Reflect%":typeof Reflect>"u"?C:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?C:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ye||!te?C:te((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?C:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ye&&te?te(""[Symbol.iterator]()):C,"%Symbol%":Ye?Symbol:C,"%SyntaxError%":P,"%ThrowTypeError%":Ae,"%TypedArray%":X,"%TypeError%":D,"%Uint8Array%":typeof Uint8Array>"u"?C:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?C:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?C:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?C:Uint32Array,"%URIError%":F,"%WeakMap%":typeof WeakMap>"u"?C:WeakMap,"%WeakRef%":typeof WeakRef>"u"?C:WeakRef,"%WeakSet%":typeof WeakSet>"u"?C:WeakSet,"%Function.prototype.call%":Ie,"%Function.prototype.apply%":ge,"%Object.defineProperty%":Y,"%Object.getPrototypeOf%":De,"%Math.abs%":N,"%Math.floor%":G,"%Math.max%":O,"%Math.min%":I,"%Math.pow%":A,"%Math.round%":se,"%Math.sign%":de,"%Reflect.getPrototypeOf%":_e};if(te)try{null.error}catch(ot){var z=te(te(ot));Ve["%Error.prototype%"]=z}var ne=function ot(At){var Ke;if("%AsyncFunction%"===At)Ke=Q("async function () {}");else if("%GeneratorFunction%"===At)Ke=Q("function* () {}");else if("%AsyncGeneratorFunction%"===At)Ke=Q("async function* () {}");else if("%AsyncGenerator%"===At){var bt=ot("%AsyncGeneratorFunction%");bt&&(Ke=bt.prototype)}else if("%AsyncIteratorPrototype%"===At){var $t=ot("%AsyncGenerator%");$t&&te&&(Ke=te($t.prototype))}return Ve[At]=Ke,Ke},le={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ye=y(7707),Re=y(3889),Fe=ye.call(Ie,Array.prototype.concat),we=ye.call(ge,Array.prototype.splice),Je=ye.call(Ie,String.prototype.replace),Dt=ye.call(Ie,String.prototype.slice),xe=ye.call(Ie,RegExp.prototype.exec),Ge=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_t=/\\(\\)?/g,Ct=function(At,Ke){var $t,bt=At;if(Re(le,bt)&&(bt="%"+($t=le[bt])[0]+"%"),Re(Ve,bt)){var En=Ve[bt];if(En===U&&(En=ne(bt)),typeof En>"u"&&!Ke)throw new D("intrinsic "+At+" exists, but is not available. Please file an issue!");return{alias:$t,name:bt,value:En}}throw new P("intrinsic "+At+" does not exist!")};K.exports=function(At,Ke){if("string"!=typeof At||0===At.length)throw new D("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Ke)throw new D('"allowMissing" argument must be a boolean');if(null===xe(/^%?[^%]*%?$/,At))throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var bt=function(At){var Ke=Dt(At,0,1),bt=Dt(At,-1);if("%"===Ke&&"%"!==bt)throw new P("invalid intrinsic syntax, expected closing `%`");if("%"===bt&&"%"!==Ke)throw new P("invalid intrinsic syntax, expected opening `%`");var $t=[];return Je(At,Ge,function(En,Dn,qt,Ot){$t[$t.length]=qt?Je(Ot,_t,"$1"):Dn||En}),$t}(At),$t=bt.length>0?bt[0]:"",En=Ct("%"+$t+"%",Ke),Dn=En.name,qt=En.value,Ot=!1,Ze=En.alias;Ze&&($t=Ze[0],we(bt,Fe([0,1],Ze)));for(var Ne=1,ze=!0;Ne<bt.length;Ne+=1){var ut=bt[Ne],Qt=Dt(ut,0,1),pn=Dt(ut,-1);if(('"'===Qt||"'"===Qt||"`"===Qt||'"'===pn||"'"===pn||"`"===pn)&&Qt!==pn)throw new P("property names with quotes must have matching quotes");if(("constructor"===ut||!ze)&&(Ot=!0),Re(Ve,Dn="%"+($t+="."+ut)+"%"))qt=Ve[Dn];else if(null!=qt){if(!(ut in qt)){if(!Ke)throw new D("base intrinsic for "+At+" exists, but the property is not available.");return}if(Z&&Ne+1>=bt.length){var Nn=Z(qt,ut);qt=(ze=!!Nn)&&"get"in Nn&&!("originalValue"in Nn.get)?Nn.get:qt[ut]}else ze=Re(qt,ut),qt=qt[ut];ze&&!Ot&&(Ve[Dn]=qt)}}return qt}},2634:()=>{},2781:K=>{"use strict";K.exports=URIError},2905:K=>{"use strict";K.exports=EvalError},2922:(K,Ee,y)=>{var L,C=y(5e3).default,k=(L=typeof document<"u"?document.currentScript?.src:void 0,C(function*(W={}){var f=W,P="object"==typeof window,D=typeof WorkerGlobalScope<"u",G=("object"==typeof process&&process.versions?.node&&process,"./this.program"),O=(g,j)=>{throw j};D&&(L=self.location.href);var se,de,I="";if(P||D){try{I=new URL(".",L).href}catch{}D&&(de=g=>{var j=new XMLHttpRequest;return j.open("GET",g,!1),j.responseType="arraybuffer",j.send(null),new Uint8Array(j.response)}),se=function(){var g=C(function*(j){var Se=yield fetch(j,{credentials:"same-origin"});if(Se.ok)return Se.arrayBuffer();throw new Error(Se.status+" : "+Se.url)});return function(Se){return g.apply(this,arguments)}}()}var Z,ve,Ce=console.log.bind(console),Q=console.error.bind(console),Y=!1;function Ae(g,j){g||Ke(j)}function te(){if(!Y){var g=cr();0==g&&(g+=4);var j=ne[g>>2],Se=ne[g+4>>2];(34821223!=j||2310721022!=Se)&&Ke(`Stack overflow! Stack cookie has been overwritten at ${zr(g)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${zr(Se)} ${zr(j)}`),1668509029!=ne[0]&&Ke("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var De,_e,ge,Ie,U,z,ne,Re,we=!1;function Je(){var g=ge.buffer;Ie=new Int8Array(g),new Int16Array(g),f.HEAPU8=U=new Uint8Array(g),new Uint16Array(g),z=new Int32Array(g),f.HEAPU32=ne=new Uint32Array(g),new Float32Array(g),new Float64Array(g),Re=new BigInt64Array(g),new BigUint64Array(g)}var bt,gt=0,Ct=null;function Ke(g){f.onAbort?.(g),Q(g="Aborted("+g+")"),Y=!0,g+=". Build with -sASSERTIONS for more info.";var j=new WebAssembly.RuntimeError(g);throw _e?.(j),j}function qt(){return(qt=C(function*(g){if(!Z)try{var j=yield se(g);return new Uint8Array(j)}catch{}return function En(g){if(g==bt&&Z)return new Uint8Array(Z);if(de)return de(g);throw"both async and sync fetching of the wasm failed"}(g)})).apply(this,arguments)}function Ze(){return Ze=C(function*(g,j){try{var Se=yield function Dn(g){return qt.apply(this,arguments)}(g);return yield WebAssembly.instantiate(Se,j)}catch(Wt){Q(`failed to asynchronously prepare wasm: ${Wt}`),Ke(Wt)}}),Ze.apply(this,arguments)}function ze(){return ze=C(function*(g,j,Se){if(!g&&"function"==typeof WebAssembly.instantiateStreaming)try{var st=fetch(j,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(st,Se)}catch(An){Q(`wasm streaming compile failed: ${An}`),Q("falling back to ArrayBuffer instantiation")}return function Ot(g,j){return Ze.apply(this,arguments)}(j,Se)}),ze.apply(this,arguments)}function pn(){return pn=C(function*(){function g(An,Wn){return ge=(wt=An.exports).s,Je(),ms=wt.Sa,function $n(g){f._main=fa=g.u,f._webidl_free=g.v,f._webidl_malloc=g.w,f._emscripten_bind_VoidPtr___destroy___0=Oi=g.x,f._emscripten_bind_FileEntry_GetName_0=_s=g.y,f._emscripten_bind_FileEntry_IsDirectory_0=Gs=g.z,f._emscripten_bind_FileEntry_GetSize_0=nt=g.A,f._emscripten_bind_FileEntry_GetModifiedTS_0=zs=g.B,f._emscripten_bind_FileEntry_GetAttributes_0=zi=g.C,f._emscripten_bind_FileEntry___destroy___0=Pi=g.D,f._emscripten_bind_Vfs_Vfs_0=Ko=g.E,f._emscripten_bind_Vfs_Malloc_1=pa=g.F,f._emscripten_bind_Vfs_Free_1=ys=g.G,f._emscripten_bind_Vfs_Nullptr_0=Ws=g.H,f._emscripten_bind_Vfs_AllocateImage_1=Yo=g.I,f._emscripten_bind_Vfs_MountImage_1=bs=g.J,f._emscripten_bind_Vfs_UnmountImage_1=Ci=g.K,f._emscripten_bind_Vfs_SwitchSlot_1=Ss=g.L,f._emscripten_bind_Vfs_GetPendingImageSize_0=Cs=g.M,f._emscripten_bind_Vfs_GetSize_1=Wi=g.N,f._emscripten_bind_Vfs_GetPendingImage_0=ho=g.O,f._emscripten_bind_Vfs_GetImage_1=wi=g.P,f._emscripten_bind_Vfs_GetDirtyPages_1=qi=g.Q,f._emscripten_bind_Vfs_RenameFile_2=Zi=g.R,f._emscripten_bind_Vfs_ChmodFile_3=qs=g.S,f._emscripten_bind_Vfs_StatFile_1=ws=g.T,f._emscripten_bind_Vfs_UnlinkFile_1=li=g.U,f._emscripten_bind_Vfs_Mkdir_1=Xo=g.V,f._emscripten_bind_Vfs_GetEntry_0=Ei=g.W,f._emscripten_bind_Vfs_BytesFree_1=zt=g.X,f._emscripten_bind_Vfs_BytesTotal_1=un=g.Y,f._emscripten_bind_Vfs_ReadFile_1=ha=g.Z,f._emscripten_bind_Vfs_GetCurrentFileSize_0=Zs=g._,f._emscripten_bind_Vfs_GetCurrentFileContent_0=wo=g.$,f._emscripten_bind_Vfs_ReleaseCurrentFile_0=Es=g.aa,f._emscripten_bind_Vfs_WriteFile_3=Fi=g.ba,f._emscripten_bind_Vfs___destroy___0=Ki=g.ca,f._emscripten_bind_ReaddirContext_ReaddirContext_1=Ds=g.da,f._emscripten_bind_ReaddirContext_Next_0=ja=g.ea,f._emscripten_bind_ReaddirContext_GetEntry_0=Ks=g.fa,f._emscripten_bind_ReaddirContext_GetStatus_0=Is=g.ga,f._emscripten_bind_ReaddirContext_GetError_0=ga=g.ha,f._emscripten_bind_ReaddirContext_GetErrorDescription_0=Ys=g.ia,f._emscripten_bind_ReaddirContext___destroy___0=Xs=g.ja,f._emscripten_bind_ExportZipContext_ExportZipContext_2=ma=g.ka,f._emscripten_bind_ExportZipContext_AddFile_1=Qs=g.la,f._emscripten_bind_ExportZipContext_AddDirectory_1=Eo=g.ma,f._emscripten_bind_ExportZipContext_Continue_0=Js=g.na,f._emscripten_bind_ExportZipContext_GetState_0=so=g.oa,f._emscripten_bind_ExportZipContext_GetZipContent_0=Yi=g.pa,f._emscripten_bind_ExportZipContext_GetZipSize_0=va=g.qa,f._emscripten_bind_ExportZipContext_GetErrorItem_0=Va=g.ra,f._emscripten_bind_ExportZipContext___destroy___0=Fo=g.sa,f._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=Ts=g.ta,f._emscripten_bind_DeleteRecursiveContext_AddFile_1=_a=g.ua,f._emscripten_bind_DeleteRecursiveContext_Continue_0=ea=g.va,f._emscripten_bind_DeleteRecursiveContext_GetState_0=ae=g.wa,f._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=ta=g.xa,f._emscripten_bind_DeleteRecursiveContext___destroy___0=Le=g.ya,f._emscripten_bind_UnzipContext_UnzipContext_4=ci=g.za,f._emscripten_bind_UnzipContext_GetState_0=ya=g.Aa,f._emscripten_bind_UnzipContext_Continue_0=As=g.Ba,f._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=Li=g.Ca,f._emscripten_bind_UnzipContext_GetCurrentEntry_0=ll=g.Da,f._emscripten_bind_UnzipContext_GetCollisionPath_0=p=g.Ea,f._emscripten_bind_UnzipContext_GetEntriesTotal_0=v=g.Fa,f._emscripten_bind_UnzipContext_GetEntriesSuccess_0=w=g.Ga,f._emscripten_bind_UnzipContext___destroy___0=x=g.Ha,f._emscripten_bind_PasteContext_PasteContext_3=ee=g.Ia,f._emscripten_bind_PasteContext_AddFile_1=J=g.Ja,f._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=Ue=g.Ka,f._emscripten_bind_PasteContext_GetState_0=me=g.La,f._emscripten_bind_PasteContext_Continue_0=qe=g.Ma,f._emscripten_bind_PasteContext_ContinueWithOverwrite_0=be=g.Na,f._emscripten_bind_PasteContext_GetCurrentEntry_0=je=g.Oa,f._emscripten_bind_PasteContext_GetCollisionPath_0=ft=g.Pa,f._emscripten_bind_PasteContext_GetEntriesSuccess_0=dt=g.Qa,f._emscripten_bind_PasteContext___destroy___0=kt=g.Ra,mt=g.Ta,Rt=g.Ua,cr=g.Va,Yt=g.Wa,f.___original_main=g.Xa}(wt),function At(){if(gt--,f.monitorRunDependencies?.(gt),0==gt&&Ct){var j=Ct;Ct=null,j()}}(),wt}!function ot(){gt++,f.monitorRunDependencies?.(gt)}();var Se=function ut(){return{a:an}}();if(f.instantiateWasm)return new Promise((An,Wn)=>{f.instantiateWasm(Se,(Bn,Ur)=>{An(g(Bn))})});bt??=function $t(){return function A(g){return f.locateFile?f.locateFile(g,I):I+g}("vfs_web.wasm")}();var st=yield function Ne(g,j,Se){return ze.apply(this,arguments)}(Z,bt,Se);return function j(An){return g(An.instance)}(st)}),pn.apply(this,arguments)}class Nn{name="ExitStatus";constructor(j){this.message=`Program terminated with exit(${j})`,this.status=j}}var ms,Zo,fa,Oi,_s,Gs,nt,zs,zi,Pi,Ko,pa,ys,Ws,Yo,bs,Ci,Ss,Cs,Wi,ho,wi,qi,Zi,qs,ws,li,Xo,Ei,zt,un,ha,Zs,wo,Es,Fi,Ki,Ds,ja,Ks,Is,ga,Ys,Xs,ma,Qs,Eo,Js,so,Yi,va,Va,Fo,Ts,_a,ea,ae,ta,Le,ci,ya,As,Li,ll,p,v,w,x,ee,J,Ue,me,qe,be,je,ft,dt,kt,mt,Rt,cr,Yt,sn=g=>{for(;g.length>0;)g.shift()(f)},bn=[],lr=g=>bn.push(g),gr=[],ro=g=>gr.push(g),So=!0,zr=g=>"0x"+(g>>>=0).toString(16).padStart(8,"0"),Oo=typeof TextDecoder<"u"?new TextDecoder:void 0,oo=(g,j=0,Se=NaN)=>{for(var st=j+Se,Wt=j;g[Wt]&&!(Wt>=st);)++Wt;if(Wt-j>16&&g.buffer&&Oo)return Oo.decode(g.subarray(j,Wt));for(var An="";j<Wt;){var Wn=g[j++];if(128&Wn){var Bn=63&g[j++];if(192!=(224&Wn)){var Ur=63&g[j++];if((Wn=224==(240&Wn)?(15&Wn)<<12|Bn<<6|Ur:(7&Wn)<<18|Bn<<12|Ur<<6|63&g[j++])<65536)An+=String.fromCharCode(Wn);else{var Ua=Wn-65536;An+=String.fromCharCode(55296|Ua>>10,56320|1023&Ua)}}else An+=String.fromCharCode((31&Wn)<<6|Bn)}else An+=String.fromCharCode(Wn)}return An},Jt=(g,j)=>g?oo(U,g,j):"",Zt=g=>g<-9007199254740992||g>9007199254740992?NaN:Number(g),en=0,Ir=[0,31,60,91,121,152,182,213,244,274,305,335],fo=[0,31,59,90,120,151,181,212,243,273,304,334],io=g=>((g=>g%4==0&&(g%100!=0||g%400==0))(g.getFullYear())?Ir:fo)[g.getMonth()]+g.getDate()-1,Tn={},Co=g=>{if(g instanceof Nn||"unwind"==g)return ve;te(),g instanceof WebAssembly.RuntimeError&&Yt()<=0&&Q("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),O(0,g)},si=()=>So||en>0,yo=g=>{ve=g,si()||(f.onExit?.(g),Y=!0),O(0,new Nn(g))},Go=(g,j)=>{ve=g,yo(g)},jn=Go,Si=()=>performance.now(),Pe=(g,j,Se,st)=>{if(!(st>0))return 0;for(var Wt=Se,An=Se+st-1,Wn=0;Wn<g.length;++Wn){var Bn=g.codePointAt(Wn);if(Bn<=127){if(Se>=An)break;j[Se++]=Bn}else if(Bn<=2047){if(Se+1>=An)break;j[Se++]=192|Bn>>6,j[Se++]=128|63&Bn}else if(Bn<=65535){if(Se+2>=An)break;j[Se++]=224|Bn>>12,j[Se++]=128|Bn>>6&63,j[Se++]=128|63&Bn}else{if(Se+3>=An)break;j[Se++]=240|Bn>>18,j[Se++]=128|Bn>>12&63,j[Se++]=128|Bn>>6&63,j[Se++]=128|63&Bn,Wn++}}return j[Se]=0,Se-Wt},dr=(g,j,Se)=>Pe(g,U,j,Se),zn=()=>Date.now(),jr=(g,j)=>Math.ceil(g/j)*j,Ni=g=>{var Se=(g-ge.buffer.byteLength+65535)/65536|0;try{return ge.grow(Se),Je(),1}catch{}},Hs={},Ut=()=>{if(!Ut.strings){var j={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:G||"./this.program"};for(var Se in Hs)void 0===Hs[Se]?delete j[Se]:j[Se]=Hs[Se];var st=[];for(var Se in j)st.push(`${Se}=${j[Se]}`);Ut.strings=st}return Ut.strings},ke=g=>{for(var j=0,Se=0;Se<g.length;++Se){var st=g.charCodeAt(Se);st<=127?j++:st<=2047?j+=2:st>=55296&&st<=57343?(j+=4,++Se):j+=3}return j},Wo=[null,[],[]],qo=(g,j)=>{var Se=Wo[g];0===j||10===j?((1===g?Ce:Q)(oo(Se)),Se.length=0):Se.push(j)},La=[],gs=(g,j)=>{g<128?j.push(g):j.push(g%128|128,g>>7)},Bt=[],yc=g=>{var j=Bt[g];return j||(Bt[g]=j=ms.get(g)),j},Qe=[],Un=(g,j)=>{ms.set(g,j),Bt[g]=ms.get(g)};f.noExitRuntime&&(So=f.noExitRuntime),f.print&&(Ce=f.print),f.printErr&&(Q=f.printErr),f.wasmBinary&&(Z=f.wasmBinary),f.thisProgram&&(G=f.thisProgram),f.addFunction=(g,j)=>{var Se=(g=>(Zo||(Zo=new WeakMap,((g,j)=>{if(Zo)for(var Se=0;Se<0+j;Se++){var st=yc(Se);st&&Zo.set(st,Se)}})(0,ms.length)),Zo.get(g)||0))(g);if(Se)return Se;var st=(()=>{if(Qe.length)return Qe.pop();try{ms.grow(1)}catch(g){throw g instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":g}return ms.length-1})();try{Un(st,g)}catch(An){if(!(An instanceof TypeError))throw An;var Wt=((g,j)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((g=>{for(var j={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Se={parameters:[],results:"v"==g[0]?[]:[j[g[0]]]},st=1;st<g.length;++st)Se.parameters.push(j[g[st]]);return Se})(j),g);var Se=[1];((g,j)=>{var Se=g.slice(0,1),st=g.slice(1),Wt={i:127,p:127,j:126,f:125,d:124,e:111};for(var An of(j.push(96),gs(st.length,j),st))j.push(Wt[An]);"v"==Se?j.push(0):j.push(1,Wt[Se])})(j,Se);var st=[0,97,115,109,1,0,0,0,1];gs(Se.length,st),st.push(...Se),st.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Wt=new WebAssembly.Module(new Uint8Array(st));return new WebAssembly.Instance(Wt,{e:{f:g}}).exports.f})(g,j);Un(st,Wt)}return Zo.set(g,st),st},f.UTF8ToString=Jt;var an={a:(g,j,Se,st)=>Ke(`Assertion failed: ${Jt(g)}, at: `+[j?Jt(j):"unknown filename",Se,st?Jt(st):"unknown function"]),e:function Kn(g,j){j=Zt(j)},r:()=>Ke(""),k:()=>{So=!1,en=0},q:function xo(g,j){g=Zt(g);var Se=new Date(1e3*g);z[j>>2]=Se.getSeconds(),z[j+4>>2]=Se.getMinutes(),z[j+8>>2]=Se.getHours(),z[j+12>>2]=Se.getDate(),z[j+16>>2]=Se.getMonth(),z[j+20>>2]=Se.getFullYear()-1900,z[j+24>>2]=Se.getDay();var st=0|io(Se);z[j+28>>2]=st,z[j+36>>2]=-60*Se.getTimezoneOffset();var Wt=new Date(Se.getFullYear(),0,1),An=new Date(Se.getFullYear(),6,1).getTimezoneOffset(),Wn=Wt.getTimezoneOffset(),Bn=0|(An!=Wn&&Se.getTimezoneOffset()==Math.min(Wn,An));z[j+32>>2]=Bn},b:function(g){var j=(()=>{var Se=new Date(z[g+20>>2]+1900,z[g+16>>2],z[g+12>>2],z[g+8>>2],z[g+4>>2],z[g>>2],0),st=z[g+32>>2],Wt=Se.getTimezoneOffset(),An=new Date(Se.getFullYear(),0,1),Wn=new Date(Se.getFullYear(),6,1).getTimezoneOffset(),Bn=An.getTimezoneOffset(),Ur=Math.min(Bn,Wn);if(st<0)z[g+32>>2]=+(Wn!=Bn&&Ur==Wt);else if(st>0!=(Ur==Wt)){var Ua=Math.max(Bn,Wn),kl=st>0?Ur:Ua;Se.setTime(Se.getTime()+6e4*(kl-Wt))}z[g+24>>2]=Se.getDay();var Rl=0|io(Se);z[g+28>>2]=Rl,z[g>>2]=Se.getSeconds(),z[g+4>>2]=Se.getMinutes(),z[g+8>>2]=Se.getHours(),z[g+12>>2]=Se.getDate(),z[g+16>>2]=Se.getMonth(),z[g+20>>2]=Se.getYear();var ba=Se.getTime();return isNaN(ba)?-1:ba/1e3})();return BigInt(j)},l:(g,j)=>{if(Tn[g]&&(clearTimeout(Tn[g].id),delete Tn[g]),!j)return 0;var Se=setTimeout(()=>{delete Tn[g],(g=>{if(!Y)try{g(),(()=>{if(!si())try{jn(ve)}catch(g){Co(g)}})()}catch(j){Co(j)}})(()=>mt(g,Si()))},j);return Tn[g]={id:Se,timeout_ms:j},0},c:(g,j,Se,st)=>{var Wt=(new Date).getFullYear(),An=new Date(Wt,0,1),Wn=new Date(Wt,6,1),Bn=An.getTimezoneOffset(),Ur=Wn.getTimezoneOffset(),Ua=Math.max(Bn,Ur);ne[g>>2]=60*Ua,z[j>>2]=+(Bn!=Ur);var kl=Lo=>{var bc=Lo>=0?"-":"+",rd=Math.abs(Lo);return`UTC${bc}${String(Math.floor(rd/60)).padStart(2,"0")}${String(rd%60).padStart(2,"0")}`},Rl=kl(Bn),ba=kl(Ur);Ur<Bn?(dr(Rl,Se,17),dr(ba,st,17)):(dr(Rl,st,17),dr(ba,Se,17))},o:function gn(g,j,Se){if(j=Zt(j),!(g=>g>=0&&g<=3)(g))return 28;var st;st=0===g?zn():Si();var Wt=Math.round(1e3*st*1e3);return Re[Se>>3]=BigInt(Wt),0},i:zn,p:g=>{var j=U.length,Se=2147483648;if((g>>>=0)>Se)return!1;for(var st=1;st<=4;st*=2){var Wt=j*(1+.2/st);Wt=Math.min(Wt,g+100663296);var An=Math.min(Se,jr(Math.max(g,Wt),65536));if(Ni(An))return!0}return!1},m:(g,j)=>{var Se=0,st=0;for(var Wt of Ut()){var An=j+Se;ne[g+st>>2]=An,Se+=dr(Wt,An,1/0)+1,st+=4}return 0},n:(g,j)=>{var Se=Ut();ne[g>>2]=Se.length;var st=0;for(var Wt of Se)st+=ke(Wt)+1;return ne[j>>2]=st,0},f:g=>52,h:(g,j,Se,st)=>52,d:function rr(g,j,Se,st){return j=Zt(j),70},g:(g,j,Se,st)=>{for(var Wt=0,An=0;An<Se;An++){var Wn=ne[j>>2],Bn=ne[j+4>>2];j+=8;for(var Ur=0;Ur<Bn;Ur++)qo(g,U[Wn+Ur]);Wt+=Bn}return ne[st>>2]=Wt,0},j:yo},wt=yield function Qt(){return pn.apply(this,arguments)}();function $(){}function ce(g){return(g||$).__cache__}function Be(g,j){var Se=ce(j),st=Se[g];return st||((st=Object.create((j||$).prototype)).ptr=g,Se[g]=st)}(function b(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function Pn(){function g(){f.calledRun=!0,Y||(function xe(){we=!0,te(),sn(La),wt.t()}(),function Ge(){te()}(),De?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function Hn(){var g=fa;try{var st=g(0,0);return Go(st),st}catch(Wt){return Co(Wt)}}(),function _t(){if(te(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)lr(f.postRun.shift());sn(bn)}())}gt>0?Ct=Pn:(function hn(){Rt(),function Ye(){var g=cr();0==g&&(g+=4),ne[g>>2]=34821223,ne[g+4>>2]=2310721022,ne[0]=1668509029}()}(),function Dt(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)ro(f.preRun.shift());sn(gr)}(),gt>0?Ct=Pn:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),g()},1)):g(),te()))}(),($.prototype=Object.create($.prototype)).constructor=$,$.prototype.__class__=$,$.__cache__={},f.WrapperObject=$,f.getCache=ce,f.wrapPointer=Be,f.castObject=function Ft(g,j){return Be(g.ptr,j)},f.NULL=Be(0),f.destroy=function on(g){if(!g.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";g.__destroy__(),delete ce(g.__class__)[g.ptr]},f.compare=function mn(g,j){return g.ptr===j.ptr},f.getPointer=function Gn(g){return g.ptr},f.getClass=function Kr(g){return g.__class__};var dn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(dn.needed){for(var g=0;g<dn.temps.length;g++)f._webidl_free(dn.temps[g]);dn.temps.length=0,f._webidl_free(dn.buffer),dn.buffer=0,dn.size+=dn.needed,dn.needed=0}dn.buffer||(dn.size+=128,dn.buffer=f._webidl_malloc(dn.size),Ae(dn.buffer)),dn.pos=0},alloc(g,j){Ae(dn.buffer);var Wt,st=g.length*j.BYTES_PER_ELEMENT;return st=jr(st,8),dn.pos+st>=dn.size?(Ae(st>0),dn.needed+=st,Wt=f._webidl_malloc(st),dn.temps.push(Wt)):(Wt=dn.buffer+dn.pos,dn.pos+=st),Wt},copy(g,j,Se){Se/=j.BYTES_PER_ELEMENT;for(var st=0;st<g.length;st++)j[Se+st]=g[st]}};function xr(g){if("string"==typeof g){var j=(g=>{var st=ke(g)+1,Wt=new Array(st);Pe(g,Wt,0,Wt.length);return Wt})(g),Se=dn.alloc(j,Ie);return dn.copy(j,Ie,Se),Se}return g}function Vr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function fr(){throw"cannot construct a FileEntry, no constructor in IDL"}function Nt(){this.ptr=Ko(),ce(Nt)[this.ptr]=this}function Pr(g){dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),this.ptr=Ds(g),ce(Pr)[this.ptr]=this}function tr(g,j){dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),j&&"object"==typeof j&&(j=j.ptr),this.ptr=ma(g,j),ce(tr)[this.ptr]=this}function Mr(g){g&&"object"==typeof g&&(g=g.ptr),this.ptr=Ts(g),ce(Mr)[this.ptr]=this}function pr(g,j,Se,st){dn.prepare(),g&&"object"==typeof g&&(g=g.ptr),j=j&&"object"==typeof j?j.ptr:xr(j),Se&&"object"==typeof Se&&(Se=Se.ptr),st&&"object"==typeof st&&(st=st.ptr),this.ptr=ci(g,j,Se,st),ce(pr)[this.ptr]=this}function or(g,j,Se){dn.prepare(),g&&"object"==typeof g&&(g=g.ptr),j=j&&"object"==typeof j?j.ptr:xr(j),Se=Se&&"object"==typeof Se?Se.ptr:xr(Se),this.ptr=ee(g,j,Se),ce(or)[this.ptr]=this}return(Vr.prototype=Object.create($.prototype)).constructor=Vr,Vr.prototype.__class__=Vr,Vr.__cache__={},f.VoidPtr=Vr,Vr.prototype.__destroy__=Vr.prototype.__destroy__=function(){Oi(this.ptr)},(fr.prototype=Object.create($.prototype)).constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},f.FileEntry=fr,fr.prototype.GetName=fr.prototype.GetName=function(){return Jt(_s(this.ptr))},fr.prototype.IsDirectory=fr.prototype.IsDirectory=function(){return!!Gs(this.ptr)},fr.prototype.GetSize=fr.prototype.GetSize=function(){return nt(this.ptr)},fr.prototype.GetModifiedTS=fr.prototype.GetModifiedTS=function(){return zs(this.ptr)},fr.prototype.GetAttributes=fr.prototype.GetAttributes=function(){return zi(this.ptr)},fr.prototype.__destroy__=fr.prototype.__destroy__=function(){Pi(this.ptr)},(Nt.prototype=Object.create($.prototype)).constructor=Nt,Nt.prototype.__class__=Nt,Nt.__cache__={},f.Vfs=Nt,Nt.prototype.Malloc=Nt.prototype.Malloc=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(pa(this.ptr,g),Vr)},Nt.prototype.Free=Nt.prototype.Free=function(g){g&&"object"==typeof g&&(g=g.ptr),ys(this.ptr,g)},Nt.prototype.Nullptr=Nt.prototype.Nullptr=function(){return Be(Ws(this.ptr),Vr)},Nt.prototype.AllocateImage=Nt.prototype.AllocateImage=function(g){g&&"object"==typeof g&&(g=g.ptr),Yo(this.ptr,g)},Nt.prototype.MountImage=Nt.prototype.MountImage=function(g){return g&&"object"==typeof g&&(g=g.ptr),!!bs(this.ptr,g)},Nt.prototype.UnmountImage=Nt.prototype.UnmountImage=function(g){g&&"object"==typeof g&&(g=g.ptr),Ci(this.ptr,g)},Nt.prototype.SwitchSlot=Nt.prototype.SwitchSlot=function(g){g&&"object"==typeof g&&(g=g.ptr),Ss(this.ptr,g)},Nt.prototype.GetPendingImageSize=Nt.prototype.GetPendingImageSize=function(){return Cs(this.ptr)},Nt.prototype.GetSize=Nt.prototype.GetSize=function(g){return g&&"object"==typeof g&&(g=g.ptr),Wi(this.ptr,g)},Nt.prototype.GetPendingImage=Nt.prototype.GetPendingImage=function(){return Be(ho(this.ptr),Vr)},Nt.prototype.GetImage=Nt.prototype.GetImage=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(wi(this.ptr,g),Vr)},Nt.prototype.GetDirtyPages=Nt.prototype.GetDirtyPages=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(qi(this.ptr,g),Vr)},Nt.prototype.RenameFile=Nt.prototype.RenameFile=function(g,j){var Se=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),j=j&&"object"==typeof j?j.ptr:xr(j),Zi(Se,g,j)},Nt.prototype.ChmodFile=Nt.prototype.ChmodFile=function(g,j,Se){var st=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),j&&"object"==typeof j&&(j=j.ptr),Se&&"object"==typeof Se&&(Se=Se.ptr),qs(st,g,j,Se)},Nt.prototype.StatFile=Nt.prototype.StatFile=function(g){var j=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),ws(j,g)},Nt.prototype.UnlinkFile=Nt.prototype.UnlinkFile=function(g){var j=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),li(j,g)},Nt.prototype.Mkdir=Nt.prototype.Mkdir=function(g){var j=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),Xo(j,g)},Nt.prototype.GetEntry=Nt.prototype.GetEntry=function(){return Be(Ei(this.ptr),fr)},Nt.prototype.BytesFree=Nt.prototype.BytesFree=function(g){return g&&"object"==typeof g&&(g=g.ptr),zt(this.ptr,g)},Nt.prototype.BytesTotal=Nt.prototype.BytesTotal=function(g){return g&&"object"==typeof g&&(g=g.ptr),un(this.ptr,g)},Nt.prototype.ReadFile=Nt.prototype.ReadFile=function(g){var j=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),!!ha(j,g)},Nt.prototype.GetCurrentFileSize=Nt.prototype.GetCurrentFileSize=function(){return Zs(this.ptr)},Nt.prototype.GetCurrentFileContent=Nt.prototype.GetCurrentFileContent=function(){return Be(wo(this.ptr),Vr)},Nt.prototype.ReleaseCurrentFile=Nt.prototype.ReleaseCurrentFile=function(){Es(this.ptr)},Nt.prototype.WriteFile=Nt.prototype.WriteFile=function(g,j,Se){var st=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),j&&"object"==typeof j&&(j=j.ptr),Se&&"object"==typeof Se&&(Se=Se.ptr),Fi(st,g,j,Se)},Nt.prototype.__destroy__=Nt.prototype.__destroy__=function(){Ki(this.ptr)},(Pr.prototype=Object.create($.prototype)).constructor=Pr,Pr.prototype.__class__=Pr,Pr.__cache__={},f.ReaddirContext=Pr,Pr.prototype.Next=Pr.prototype.Next=function(){return ja(this.ptr)},Pr.prototype.GetEntry=Pr.prototype.GetEntry=function(){return Be(Ks(this.ptr),fr)},Pr.prototype.GetStatus=Pr.prototype.GetStatus=function(){return Is(this.ptr)},Pr.prototype.GetError=Pr.prototype.GetError=function(){return ga(this.ptr)},Pr.prototype.GetErrorDescription=Pr.prototype.GetErrorDescription=function(){return Jt(Ys(this.ptr))},Pr.prototype.__destroy__=Pr.prototype.__destroy__=function(){Xs(this.ptr)},(tr.prototype=Object.create($.prototype)).constructor=tr,tr.prototype.__class__=tr,tr.__cache__={},f.ExportZipContext=tr,tr.prototype.AddFile=tr.prototype.AddFile=function(g){var j=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),Be(Qs(j,g),tr)},tr.prototype.AddDirectory=tr.prototype.AddDirectory=function(g){var j=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),Be(Eo(j,g),tr)},tr.prototype.Continue=tr.prototype.Continue=function(){return Js(this.ptr)},tr.prototype.GetState=tr.prototype.GetState=function(){return so(this.ptr)},tr.prototype.GetZipContent=tr.prototype.GetZipContent=function(){return Be(Yi(this.ptr),Vr)},tr.prototype.GetZipSize=tr.prototype.GetZipSize=function(){return va(this.ptr)},tr.prototype.GetErrorItem=tr.prototype.GetErrorItem=function(){return Jt(Va(this.ptr))},tr.prototype.__destroy__=tr.prototype.__destroy__=function(){Fo(this.ptr)},(Mr.prototype=Object.create($.prototype)).constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},f.DeleteRecursiveContext=Mr,Mr.prototype.AddFile=Mr.prototype.AddFile=function(g){var j=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),Be(_a(j,g),Mr)},Mr.prototype.Continue=Mr.prototype.Continue=function(){return ea(this.ptr)},Mr.prototype.GetState=Mr.prototype.GetState=function(){return ae(this.ptr)},Mr.prototype.GetFailingPath=Mr.prototype.GetFailingPath=function(){return Jt(ta(this.ptr))},Mr.prototype.__destroy__=Mr.prototype.__destroy__=function(){Le(this.ptr)},(pr.prototype=Object.create($.prototype)).constructor=pr,pr.prototype.__class__=pr,pr.__cache__={},f.UnzipContext=pr,pr.prototype.GetState=pr.prototype.GetState=function(){return ya(this.ptr)},pr.prototype.Continue=pr.prototype.Continue=function(){return As(this.ptr)},pr.prototype.ContinueWithOverwrite=pr.prototype.ContinueWithOverwrite=function(){return Li(this.ptr)},pr.prototype.GetCurrentEntry=pr.prototype.GetCurrentEntry=function(){return Jt(ll(this.ptr))},pr.prototype.GetCollisionPath=pr.prototype.GetCollisionPath=function(){return Jt(p(this.ptr))},pr.prototype.GetEntriesTotal=pr.prototype.GetEntriesTotal=function(){return v(this.ptr)},pr.prototype.GetEntriesSuccess=pr.prototype.GetEntriesSuccess=function(){return w(this.ptr)},pr.prototype.__destroy__=pr.prototype.__destroy__=function(){x(this.ptr)},(or.prototype=Object.create($.prototype)).constructor=or,or.prototype.__class__=or,or.__cache__={},f.PasteContext=or,or.prototype.AddFile=or.prototype.AddFile=function(g){var j=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),Be(J(j,g),or)},or.prototype.SetDeleteAfterCopy=or.prototype.SetDeleteAfterCopy=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(Ue(this.ptr,g),or)},or.prototype.GetState=or.prototype.GetState=function(){return me(this.ptr)},or.prototype.Continue=or.prototype.Continue=function(){return qe(this.ptr)},or.prototype.ContinueWithOverwrite=or.prototype.ContinueWithOverwrite=function(){return be(this.ptr)},or.prototype.GetCurrentEntry=or.prototype.GetCurrentEntry=function(){return Jt(je(this.ptr))},or.prototype.GetCollisionPath=or.prototype.GetCollisionPath=function(){return Jt(ft(this.ptr))},or.prototype.GetEntriesSuccess=or.prototype.GetEntriesSuccess=function(){return dt(this.ptr)},or.prototype.__destroy__=or.prototype.__destroy__=function(){kt(this.ptr)},we?f:new Promise((g,j)=>{De=g,_e=j})}));K.exports=k,K.exports.default=k},3016:(K,Ee,y)=>{"use strict";var C=y(840),k=C("Object.prototype.toString"),L=y(1459)(),W=y(7653);if(L){var R=C("Symbol.prototype.toString"),f=W(/^Symbol\(.*\)$/);K.exports=function(F){if("symbol"==typeof F)return!0;if(!F||"object"!=typeof F||"[object Symbol]"!==k(F))return!1;try{return function(F){return"symbol"==typeof F.valueOf()&&f(R(F))}(F)}catch{return!1}}}else K.exports=function(F){return!1}},3028:(K,Ee,y)=>{"use strict";var C=y(5979),k=y(7308),L=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,W=/[\n\r\t]/g,R=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,f=/:\d+$/,P=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,D=/^[a-zA-Z]:/;function F(Z){return(Z||"").toString().replace(L,"")}var N=[["#","hash"],["?","query"],function(Y,ve){return I(ve.protocol)?Y.replace(/\\/g,"/"):Y},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],G={hash:1,query:1};function O(Z){var Y;Y=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var te,Ae={},Ye=typeof(Z=Z||Y.location||{});if("blob:"===Z.protocol)Ae=new de(unescape(Z.pathname),{});else if("string"===Ye)for(te in Ae=new de(Z,{}),G)delete Ae[te];else if("object"===Ye){for(te in Z)te in G||(Ae[te]=Z[te]);void 0===Ae.slashes&&(Ae.slashes=R.test(Z.href))}return Ae}function I(Z){return"file:"===Z||"ftp:"===Z||"http:"===Z||"https:"===Z||"ws:"===Z||"wss:"===Z}function A(Z,Y){Z=(Z=F(Z)).replace(W,""),Y=Y||{};var _e,ve=P.exec(Z),Ae=ve[1]?ve[1].toLowerCase():"",Ye=!!ve[2],te=!!ve[3],De=0;return Ye?te?(_e=ve[2]+ve[3]+ve[4],De=ve[2].length+ve[3].length):(_e=ve[2]+ve[4],De=ve[2].length):te?(_e=ve[3]+ve[4],De=ve[3].length):_e=ve[4],"file:"===Ae?De>=2&&(_e=_e.slice(2)):I(Ae)?_e=ve[4]:Ae?Ye&&(_e=_e.slice(2)):De>=2&&I(Y.protocol)&&(_e=ve[4]),{protocol:Ae,slashes:Ye||I(Ae),slashesCount:De,rest:_e}}function de(Z,Y,ve){if(Z=(Z=F(Z)).replace(W,""),!(this instanceof de))return new de(Z,Y,ve);var Ae,Ye,te,De,_e,ge,Ie=N.slice(),U=typeof Y,X=this,Ve=0;for("object"!==U&&"string"!==U&&(ve=Y,Y=null),ve&&"function"!=typeof ve&&(ve=k.parse),Ae=!(Ye=A(Z||"",Y=O(Y))).protocol&&!Ye.slashes,X.slashes=Ye.slashes||Ae&&Y.slashes,X.protocol=Ye.protocol||Y.protocol||"",Z=Ye.rest,("file:"===Ye.protocol&&(2!==Ye.slashesCount||D.test(Z))||!Ye.slashes&&(Ye.protocol||Ye.slashesCount<2||!I(X.protocol)))&&(Ie[3]=[/(.*)/,"pathname"]);Ve<Ie.length;Ve++)"function"!=typeof(De=Ie[Ve])?(ge=De[1],(te=De[0])!=te?X[ge]=Z:"string"==typeof te?~(_e="@"===te?Z.lastIndexOf(te):Z.indexOf(te))&&("number"==typeof De[2]?(X[ge]=Z.slice(0,_e),Z=Z.slice(_e+De[2])):(X[ge]=Z.slice(_e),Z=Z.slice(0,_e))):(_e=te.exec(Z))&&(X[ge]=_e[1],Z=Z.slice(0,_e.index)),X[ge]=X[ge]||Ae&&De[3]&&Y[ge]||"",De[4]&&(X[ge]=X[ge].toLowerCase())):Z=De(Z,X);ve&&(X.query=ve(X.query)),Ae&&Y.slashes&&"/"!==X.pathname.charAt(0)&&(""!==X.pathname||""!==Y.pathname)&&(X.pathname=function se(Z,Y){if(""===Z)return Y;for(var ve=(Y||"/").split("/").slice(0,-1).concat(Z.split("/")),Ae=ve.length,Ye=ve[Ae-1],te=!1,De=0;Ae--;)"."===ve[Ae]?ve.splice(Ae,1):".."===ve[Ae]?(ve.splice(Ae,1),De++):De&&(0===Ae&&(te=!0),ve.splice(Ae,1),De--);return te&&ve.unshift(""),("."===Ye||".."===Ye)&&ve.push(""),ve.join("/")}(X.pathname,Y.pathname)),"/"!==X.pathname.charAt(0)&&I(X.protocol)&&(X.pathname="/"+X.pathname),C(X.port,X.protocol)||(X.host=X.hostname,X.port=""),X.username=X.password="",X.auth&&(~(_e=X.auth.indexOf(":"))?(X.username=X.auth.slice(0,_e),X.username=encodeURIComponent(decodeURIComponent(X.username)),X.password=X.auth.slice(_e+1),X.password=encodeURIComponent(decodeURIComponent(X.password))):X.username=encodeURIComponent(decodeURIComponent(X.auth)),X.auth=X.password?X.username+":"+X.password:X.username),X.origin="file:"!==X.protocol&&I(X.protocol)&&X.host?X.protocol+"//"+X.host:"null",X.href=X.toString()}de.prototype={set:function Ce(Z,Y,ve){var Ae=this;switch(Z){case"query":"string"==typeof Y&&Y.length&&(Y=(ve||k.parse)(Y)),Ae[Z]=Y;break;case"port":Ae[Z]=Y,C(Y,Ae.protocol)?Y&&(Ae.host=Ae.hostname+":"+Y):(Ae.host=Ae.hostname,Ae[Z]="");break;case"hostname":Ae[Z]=Y,Ae.port&&(Y+=":"+Ae.port),Ae.host=Y;break;case"host":Ae[Z]=Y,f.test(Y)?(Y=Y.split(":"),Ae.port=Y.pop(),Ae.hostname=Y.join(":")):(Ae.hostname=Y,Ae.port="");break;case"protocol":Ae.protocol=Y.toLowerCase(),Ae.slashes=!ve;break;case"pathname":case"hash":if(Y){var Ye="pathname"===Z?"/":"#";Ae[Z]=Y.charAt(0)!==Ye?Ye+Y:Y}else Ae[Z]=Y;break;case"username":case"password":Ae[Z]=encodeURIComponent(Y);break;case"auth":var te=Y.indexOf(":");~te?(Ae.username=Y.slice(0,te),Ae.username=encodeURIComponent(decodeURIComponent(Ae.username)),Ae.password=Y.slice(te+1),Ae.password=encodeURIComponent(decodeURIComponent(Ae.password))):Ae.username=encodeURIComponent(decodeURIComponent(Y))}for(var De=0;De<N.length;De++){var _e=N[De];_e[4]&&(Ae[_e[1]]=Ae[_e[1]].toLowerCase())}return Ae.auth=Ae.password?Ae.username+":"+Ae.password:Ae.username,Ae.origin="file:"!==Ae.protocol&&I(Ae.protocol)&&Ae.host?Ae.protocol+"//"+Ae.host:"null",Ae.href=Ae.toString(),Ae},toString:function Q(Z){(!Z||"function"!=typeof Z)&&(Z=k.stringify);var Y,ve=this,Ae=ve.host,Ye=ve.protocol;Ye&&":"!==Ye.charAt(Ye.length-1)&&(Ye+=":");var te=Ye+(ve.protocol&&ve.slashes||I(ve.protocol)?"//":"");return ve.username?(te+=ve.username,ve.password&&(te+=":"+ve.password),te+="@"):ve.password?(te+=":"+ve.password,te+="@"):"file:"!==ve.protocol&&I(ve.protocol)&&!Ae&&"/"!==ve.pathname&&(te+="@"),(":"===Ae[Ae.length-1]||f.test(ve.hostname)&&!ve.port)&&(Ae+=":"),te+=Ae+ve.pathname,(Y="object"==typeof ve.query?Z(ve.query):ve.query)&&(te+="?"!==Y.charAt(0)?"?"+Y:Y),ve.hash&&(te+=ve.hash),te}},de.extractProtocol=A,de.location=O,de.trimLeft=F,de.qs=k,K.exports=de},3066:(K,Ee,y)=>{"use strict";var C=y(6283),k=y(840),W=y(2521)("%ArrayBuffer%",!0),R=k("ArrayBuffer.prototype.byteLength",!0),f=k("Object.prototype.toString"),P=!!W&&!R&&new W(0).slice,D=!!P&&C(P);K.exports=R||D?function(N){if(!N||"object"!=typeof N)return!1;try{return R?R(N):D(N,0),!0}catch{return!1}}:W?function(N){return"[object ArrayBuffer]"===f(N)}:function(N){return!1}},3112:(K,Ee,y)=>{"use strict";y.d(Ee,{L:()=>k,a:()=>L,b:()=>W,c:()=>R,d:()=>f,g:()=>Ve}),y(5886);const k="ionViewWillEnter",L="ionViewDidEnter",W="ionViewWillLeave",R="ionViewDidLeave",f="ionViewWillUnload",Ve=z=>z.classList.contains("ion-page")?z:z.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||z},3116:K=>{"use strict";K.exports=Math.floor},3286:K=>{"use strict";K.exports=ReferenceError},3460:(K,Ee,y)=>{"use strict";y.d(Ee,{E:()=>G,I:()=>D,a:()=>k,s:()=>F});var C=y(9335);const k=O=>{try{if(O instanceof D)return O.value;if(!R()||"string"!=typeof O||""===O)return O;if(O.includes("onload="))return"";const I=document.createDocumentFragment(),A=document.createElement("div");I.appendChild(A),A.innerHTML=O,P.forEach(Q=>{const Z=I.querySelectorAll(Q);for(let Y=Z.length-1;Y>=0;Y--){const ve=Z[Y];ve.parentNode?ve.parentNode.removeChild(ve):I.removeChild(ve);const Ae=W(ve);for(let Ye=0;Ye<Ae.length;Ye++)L(Ae[Ye])}});const se=W(I);for(let Q=0;Q<se.length;Q++)L(se[Q]);const de=document.createElement("div");de.appendChild(I);const Ce=de.querySelector("div");return null!==Ce?Ce.innerHTML:de.innerHTML}catch(I){return(0,C.j)("sanitizeDOMString",I),""}},L=O=>{if(O.nodeType&&1!==O.nodeType)return;if(typeof NamedNodeMap<"u"&&!(O.attributes instanceof NamedNodeMap))return void O.remove();for(let A=O.attributes.length-1;A>=0;A--){const se=O.attributes.item(A),de=se.name;if(!f.includes(de.toLowerCase())){O.removeAttribute(de);continue}const Ce=se.value,Q=O[de];(null!=Ce&&Ce.toLowerCase().includes("javascript:")||null!=Q&&Q.toLowerCase().includes("javascript:"))&&O.removeAttribute(de)}const I=W(O);for(let A=0;A<I.length;A++)L(I[A])},W=O=>null!=O.children?O.children:O.childNodes,R=()=>{var O;const I=window,A=null===(O=I?.Ionic)||void 0===O?void 0:O.config;return!A||(A.get?A.get("sanitizerEnabled",!0):!0===A.sanitizerEnabled||void 0===A.sanitizerEnabled)},f=["class","id","href","src","name","slot"],P=["script","style","iframe","meta","link","object","embed"];class D{constructor(I){this.value=I}}const F=O=>{const I=window,A=I.Ionic;if(!A||!A.config||"Object"===A.config.constructor.name)return I.Ionic=I.Ionic||{},I.Ionic.config=Object.assign(Object.assign({},I.Ionic.config),O),I.Ionic.config},G=!1},3462:K=>{"use strict";K.exports=Math.min},3463:(K,Ee,y)=>{"use strict";var C=y(2521),k=y(6283),L=k(C("String.prototype.indexOf"));K.exports=function(R,f){var P=C(R,!!f);return"function"==typeof P&&L(R,".prototype.")>-1?k(P):P}},3687:(K,Ee,y)=>{var C="function"==typeof Map&&Map.prototype,k=Object.getOwnPropertyDescriptor&&C?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,L=C&&k&&"function"==typeof k.get?k.get:null,W=C&&Map.prototype.forEach,R="function"==typeof Set&&Set.prototype,f=Object.getOwnPropertyDescriptor&&R?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,P=R&&f&&"function"==typeof f.get?f.get:null,D=R&&Set.prototype.forEach,N="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,O="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,A="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,se=Boolean.prototype.valueOf,de=Object.prototype.toString,Ce=Function.prototype.toString,Q=String.prototype.match,Z=String.prototype.slice,Y=String.prototype.replace,ve=String.prototype.toUpperCase,Ae=String.prototype.toLowerCase,Ye=RegExp.prototype.test,te=Array.prototype.concat,De=Array.prototype.join,_e=Array.prototype.slice,ge=Math.floor,Ie="function"==typeof BigInt?BigInt.prototype.valueOf:null,U=Object.getOwnPropertySymbols,X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ve="function"==typeof Symbol&&"object"==typeof Symbol.iterator,z="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ne=Object.prototype.propertyIsEnumerable,le=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Me){return Me.__proto__}:null);function ye(Me,Oe){if(Me===1/0||Me===-1/0||Me!=Me||Me&&Me>-1e3&&Me<1e3||Ye.call(/e/,Oe))return Oe;var Zt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Me){var Kn=Me<0?-ge(-Me):ge(Me);if(Kn!==Me){var In=String(Kn),en=Z.call(Oe,In.length+1);return Y.call(In,Zt,"$&_")+"."+Y.call(Y.call(en,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Y.call(Oe,Zt,"$&_")}var Re=y(2634),Fe=Re.custom,we=En(Fe)?Fe:null,Je={__proto__:null,double:'"',single:"'"},Dt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function xe(Me,Oe,Zt){var In=Je[Zt.quoteStyle||Oe];return In+Me+In}function Ge(Me){return Y.call(String(Me),/"/g,"&quot;")}function _t(Me){return!z||!("object"==typeof Me&&(z in Me||typeof Me[z]<"u"))}function gt(Me){return"[object Array]"===Ze(Me)&&_t(Me)}function ot(Me){return"[object RegExp]"===Ze(Me)&&_t(Me)}function En(Me){if(Ve)return Me&&"object"==typeof Me&&Me instanceof Symbol;if("symbol"==typeof Me)return!0;if(!Me||"object"!=typeof Me||!X)return!1;try{return X.call(Me),!0}catch{}return!1}K.exports=function Me(Oe,Zt,Kn,In){var en=Zt||{};if(Ot(en,"quoteStyle")&&!Ot(Je,en.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ot(en,"maxStringLength")&&("number"==typeof en.maxStringLength?en.maxStringLength<0&&en.maxStringLength!==1/0:null!==en.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var _o=!Ot(en,"customInspect")||en.customInspect;if("boolean"!=typeof _o&&"symbol"!==_o)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ot(en,"indent")&&null!==en.indent&&"\t"!==en.indent&&!(parseInt(en.indent,10)===en.indent&&en.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ot(en,"numericSeparator")&&"boolean"!=typeof en.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Wr=en.numericSeparator;if(typeof Oe>"u")return"undefined";if(null===Oe)return"null";if("boolean"==typeof Oe)return Oe?"true":"false";if("string"==typeof Oe)return lr(Oe,en);if("number"==typeof Oe){if(0===Oe)return 1/0/Oe>0?"0":"-0";var Ir=String(Oe);return Wr?ye(Oe,Ir):Ir}if("bigint"==typeof Oe){var fo=String(Oe)+"n";return Wr?ye(Oe,fo):fo}var io=typeof en.depth>"u"?5:en.depth;if(typeof Kn>"u"&&(Kn=0),Kn>=io&&io>0&&"object"==typeof Oe)return gt(Oe)?"[Array]":"[Object]";var xo=function oo(Me,Oe){var Zt;if("\t"===Me.indent)Zt="\t";else{if(!("number"==typeof Me.indent&&Me.indent>0))return null;Zt=De.call(Array(Me.indent+1)," ")}return{base:Zt,prev:De.call(Array(Oe+1),Zt)}}(en,Kn);if(typeof In>"u")In=[];else if(ze(In,Oe)>=0)return"[Circular]";function Tr(gn,ai,jr){if(ai&&(In=_e.call(In)).push(ai),jr){var Ni={depth:en.depth};return Ot(en,"quoteStyle")&&(Ni.quoteStyle=en.quoteStyle),Me(gn,Ni,Kn+1,In)}return Me(gn,en,Kn+1,In)}if("function"==typeof Oe&&!ot(Oe)){var Tn=function Ne(Me){if(Me.name)return Me.name;var Oe=Q.call(Ce.call(Me),/^function\s*([\w$]+)/);return Oe?Oe[1]:null}(Oe),Co=ii(Oe,Tr);return"[Function"+(Tn?": "+Tn:" (anonymous)")+"]"+(Co.length>0?" { "+De.call(Co,", ")+" }":"")}if(En(Oe)){var si=Ve?Y.call(String(Oe),/^(Symbol\(.*\))_[^)]*$/,"$1"):X.call(Oe);return"object"!=typeof Oe||Ve?si:ro(si)}if(function bn(Me){return!(!Me||"object"!=typeof Me)&&(typeof HTMLElement<"u"&&Me instanceof HTMLElement||"string"==typeof Me.nodeName&&"function"==typeof Me.getAttribute)}(Oe)){for(var yo="<"+Ae.call(String(Oe.nodeName)),Go=Oe.attributes||[],jn=0;jn<Go.length;jn++)yo+=" "+Go[jn].name+"="+xe(Ge(Go[jn].value),"double",en);return yo+=">",Oe.childNodes&&Oe.childNodes.length&&(yo+="..."),yo+"</"+Ae.call(String(Oe.nodeName))+">"}if(gt(Oe)){if(0===Oe.length)return"[]";var Po=ii(Oe,Tr);return xo&&!function Oo(Me){for(var Oe=0;Oe<Me.length;Oe++)if(ze(Me[Oe],"\n")>=0)return!1;return!0}(Po)?"["+Jt(Po,xo)+"]":"[ "+De.call(Po,", ")+" ]"}if(function At(Me){return"[object Error]"===Ze(Me)&&_t(Me)}(Oe)){var Ar=ii(Oe,Tr);return"cause"in Error.prototype||!("cause"in Oe)||ne.call(Oe,"cause")?0===Ar.length?"["+String(Oe)+"]":"{ ["+String(Oe)+"] "+De.call(Ar,", ")+" }":"{ ["+String(Oe)+"] "+De.call(te.call("[cause]: "+Tr(Oe.cause),Ar),", ")+" }"}if("object"==typeof Oe&&_o){if(we&&"function"==typeof Oe[we]&&Re)return Re(Oe,{depth:io-Kn});if("symbol"!==_o&&"function"==typeof Oe.inspect)return Oe.inspect()}if(function ut(Me){if(!L||!Me||"object"!=typeof Me)return!1;try{L.call(Me);try{P.call(Me)}catch{return!0}return Me instanceof Map}catch{}return!1}(Oe)){var Si=[];return W&&W.call(Oe,function(gn,ai){Si.push(Tr(ai,Oe,!0)+" => "+Tr(gn,Oe))}),zr("Map",L.call(Oe),Si,xo)}if(function Nn(Me){if(!P||!Me||"object"!=typeof Me)return!1;try{P.call(Me);try{L.call(Me)}catch{return!0}return Me instanceof Set}catch{}return!1}(Oe)){var zo=[];return D&&D.call(Oe,function(gn){zo.push(Tr(gn,Oe))}),zr("Set",P.call(Oe),zo,xo)}if(function Qt(Me){if(!N||!Me||"object"!=typeof Me)return!1;try{N.call(Me,N);try{O.call(Me,O)}catch{return!0}return Me instanceof WeakMap}catch{}return!1}(Oe))return So("WeakMap");if(function sn(Me){if(!O||!Me||"object"!=typeof Me)return!1;try{O.call(Me,O);try{N.call(Me,N)}catch{return!0}return Me instanceof WeakSet}catch{}return!1}(Oe))return So("WeakSet");if(function pn(Me){if(!A||!Me||"object"!=typeof Me)return!1;try{return A.call(Me),!0}catch{}return!1}(Oe))return So("WeakRef");if(function bt(Me){return"[object Number]"===Ze(Me)&&_t(Me)}(Oe))return ro(Tr(Number(Oe)));if(function Dn(Me){if(!Me||"object"!=typeof Me||!Ie)return!1;try{return Ie.call(Me),!0}catch{}return!1}(Oe))return ro(Tr(Ie.call(Oe)));if(function $t(Me){return"[object Boolean]"===Ze(Me)&&_t(Me)}(Oe))return ro(se.call(Oe));if(function Ke(Me){return"[object String]"===Ze(Me)&&_t(Me)}(Oe))return ro(Tr(String(Oe)));if(typeof window<"u"&&Oe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Oe===globalThis||typeof global<"u"&&Oe===global)return"{ [object globalThis] }";if(!function Ct(Me){return"[object Date]"===Ze(Me)&&_t(Me)}(Oe)&&!ot(Oe)){var Pe=ii(Oe,Tr),dr=le?le(Oe)===Object.prototype:Oe instanceof Object||Oe.constructor===Object,qr=Oe instanceof Object?"":"null prototype",zn=!dr&&z&&Object(Oe)===Oe&&z in Oe?Z.call(Ze(Oe),8,-1):qr?"Object":"",Gi=(dr||"function"!=typeof Oe.constructor?"":Oe.constructor.name?Oe.constructor.name+" ":"")+(zn||qr?"["+De.call(te.call([],zn||[],qr||[]),": ")+"] ":"");return 0===Pe.length?Gi+"{}":xo?Gi+"{"+Jt(Pe,xo)+"}":Gi+"{ "+De.call(Pe,", ")+" }"}return String(Oe)};var qt=Object.prototype.hasOwnProperty||function(Me){return Me in this};function Ot(Me,Oe){return qt.call(Me,Oe)}function Ze(Me){return de.call(Me)}function ze(Me,Oe){if(Me.indexOf)return Me.indexOf(Oe);for(var Zt=0,Kn=Me.length;Zt<Kn;Zt++)if(Me[Zt]===Oe)return Zt;return-1}function lr(Me,Oe){if(Me.length>Oe.maxStringLength){var Zt=Me.length-Oe.maxStringLength,Kn="... "+Zt+" more character"+(Zt>1?"s":"");return lr(Z.call(Me,0,Oe.maxStringLength),Oe)+Kn}var In=Dt[Oe.quoteStyle||"single"];return In.lastIndex=0,xe(Y.call(Y.call(Me,In,"\\$1"),/[\x00-\x1f]/g,gr),"single",Oe)}function gr(Me){var Oe=Me.charCodeAt(0),Zt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Oe];return Zt?"\\"+Zt:"\\x"+(Oe<16?"0":"")+ve.call(Oe.toString(16))}function ro(Me){return"Object("+Me+")"}function So(Me){return Me+" { ? }"}function zr(Me,Oe,Zt,Kn){return Me+" ("+Oe+") {"+(Kn?Jt(Zt,Kn):De.call(Zt,", "))+"}"}function Jt(Me,Oe){if(0===Me.length)return"";var Zt="\n"+Oe.prev+Oe.base;return Zt+De.call(Me,","+Zt)+"\n"+Oe.prev}function ii(Me,Oe){var Zt=gt(Me),Kn=[];if(Zt){Kn.length=Me.length;for(var In=0;In<Me.length;In++)Kn[In]=Ot(Me,In)?Oe(Me[In],Me):""}var _o,en="function"==typeof U?U(Me):[];if(Ve){_o={};for(var Wr=0;Wr<en.length;Wr++)_o["$"+en[Wr]]=en[Wr]}for(var Ir in Me)Ot(Me,Ir)&&(Zt&&String(Number(Ir))===Ir&&Ir<Me.length||Ve&&_o["$"+Ir]instanceof Symbol||(Ye.call(/[^\w$]/,Ir)?Kn.push(Oe(Ir,Me)+": "+Oe(Me[Ir],Me)):Kn.push(Ir+": "+Oe(Me[Ir],Me))));if("function"==typeof U)for(var fo=0;fo<en.length;fo++)ne.call(Me,en[fo])&&Kn.push("["+Oe(en[fo])+"]: "+Oe(Me[en[fo]],Me));return Kn}},3889:(K,Ee,y)=>{"use strict";var C=Function.prototype.call,k=Object.prototype.hasOwnProperty,L=y(7707);K.exports=L.call(C,k)},3933:K=>{"use strict";var y=Object.prototype.toString,C=Math.max,L=function(P,D){for(var F=[],N=0;N<P.length;N+=1)F[N]=P[N];for(var G=0;G<D.length;G+=1)F[G+P.length]=D[G];return F};K.exports=function(P){var D=this;if("function"!=typeof D||"[object Function]"!==y.apply(D))throw new TypeError("Function.prototype.bind called on incompatible "+D);for(var N,F=function(P){for(var F=[],N=1,G=0;N<P.length;N+=1,G+=1)F[G]=P[N];return F}(arguments),O=C(0,D.length-F.length),I=[],A=0;A<O;A++)I[A]="$"+A;if(N=Function("binder","return function ("+function(f){for(var D="",F=0;F<f.length;F+=1)D+=f[F],F+1<f.length&&(D+=",");return D}(I)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof N){var de=D.apply(this,L(F,arguments));return Object(de)===de?de:this}return D.apply(P,L(F,arguments))}),D.prototype){var se=function(){};se.prototype=D.prototype,N.prototype=new se,se.prototype=null}return N}},3948:(K,Ee)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});var y=[];y[0]=function(){return function(){}},y[1]=function(W,R){return typeof R>"u"?W:function(P){W(P,R)}};var L=function(){function W(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return W.prototype.addHandler=function(R,f){return this.isHandlerAttached(R,f)||(this._handlers.push(R),this._contexts.push(f),this._createDispatcher(),this._updateHasHandlers()),this},W.prototype.removeHandler=function(R,f){var P=this._getHandlerIndex(R,f);return typeof P<"u"&&(this._handlers.splice(P,1),this._contexts.splice(P,1),this._createDispatcher(),this._updateHasHandlers()),this},W.prototype.isHandlerAttached=function(R,f){return typeof this._getHandlerIndex(R,f)<"u"},W.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},W.prototype._getHandlerIndex=function(R,f){var D,P=this._handlers.length;for(D=0;D<P&&(this._handlers[D]!==R||this._contexts[D]!==f);D++);return D<P?D:void 0},W.prototype._createDispatcher=function(){this.dispatch=function C(W){return y[W]||(y[W]=function k(W){for(var R="return function dispatcher"+W+"(payload) {\n",f=[],P=[],D=0;D<W;D++)f.push("cb"+D),P.push("ctx"+D),R+="    cb"+D+"(payload, ctx"+D+");\n";return R+="};",new(Function.bind.apply(Function,[void 0].concat(f.concat(P),[R])))}(W)),y[W]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},W}();Ee.default=L},3996:K=>{"use strict";K.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},4198:(K,Ee,y)=>{"use strict";var C=y(1143),k=y(592).supportsDescriptors,L=Object.getOwnPropertyDescriptor;K.exports=function(){if(k&&"gim"===/a/gim.flags){var R=L(RegExp.prototype,"flags");if(R&&"function"==typeof R.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var f="",P={};if(Object.defineProperty(P,"hasIndices",{get:function(){f+="d"}}),Object.defineProperty(P,"sticky",{get:function(){f+="y"}}),R.get.call(P),"dy"===f)return R.get}}return C}},4880:K=>{"use strict";K.exports=SyntaxError},4896:(K,Ee,y)=>{"use strict";y.r(Ee),y.d(Ee,{MENU_BACK_BUTTON_PRIORITY:()=>D,OVERLAY_BACK_BUTTON_PRIORITY:()=>P,blockHardwareBackButton:()=>R,shouldUseCloseWatcher:()=>W,startHardwareBackButton:()=>f});var C=y(1890),k=y(575),L=y(9335);const W=()=>L.e.get("experimentalCloseWatcher",!1)&&void 0!==k.w&&"CloseWatcher"in k.w,R=()=>{document.addEventListener("backbutton",()=>{})},f=()=>{const F=document;let N=!1;const G=()=>{if(N)return;let O=0,I=[];const A=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ce,Q){I.push({priority:Ce,handler:Q,id:O++})}}});F.dispatchEvent(A);const se=function(){var Ce=(0,C.A)(function*(Q){try{if(Q?.handler){const Z=Q.handler(de);null!=Z&&(yield Z)}}catch(Z){(0,L.j)("[ion-app] - Exception in startHardwareBackButton:",Z)}});return function(Z){return Ce.apply(this,arguments)}}(),de=()=>{if(I.length>0){let Ce={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};I.forEach(Q=>{Q.priority>=Ce.priority&&(Ce=Q)}),N=!0,I=I.filter(Q=>Q.id!==Ce.id),se(Ce).then(()=>N=!1)}};de()};if(W()){let O;const I=()=>{O?.destroy(),O=new k.w.CloseWatcher,O.onclose=()=>{G(),I()}};I()}else F.addEventListener("backbutton",G)},P=100,D=99},5e3:K=>{function Ee(C,k,L,W,R,f,P){try{var D=C[f](P),F=D.value}catch(N){return void L(N)}D.done?k(F):Promise.resolve(F).then(W,R)}K.exports=function y(C){return function(){var k=this,L=arguments;return new Promise(function(W,R){var f=C.apply(k,L);function P(F){Ee(f,W,R,P,D,"next",F)}function D(F){Ee(f,W,R,P,D,"throw",F)}P(void 0)})}},K.exports.__esModule=!0,K.exports.default=K.exports},5028:(K,Ee,y)=>{"use strict";var C=y(2521),k=y(840),L=C("%WeakSet%",!0),W=k("WeakSet.prototype.has",!0);if(W){var R=k("WeakMap.prototype.has",!0);K.exports=function(P){if(!P||"object"!=typeof P)return!1;try{if(W(P,W),R)try{R(P,R)}catch{return!0}return P instanceof L}catch{}return!1}}else K.exports=function(P){return!1}},5124:(K,Ee,y)=>{"use strict";var C=y(7707),k=y(814),L=y(7648),W=y(8963);K.exports=W||C.call(L,k)},5217:K=>{"use strict";var C,Ee="function"==typeof Map&&Map.prototype?Map:null,y="function"==typeof Set&&Set.prototype?Set:null;Ee||(C=function(R){return!1});var k=Ee?Map.prototype.has:null,L=y?Set.prototype.has:null;!C&&!k&&(C=function(R){return!1}),K.exports=C||function(R){if(!R||"object"!=typeof R)return!1;try{if(k.call(R),L)try{L.call(R)}catch{return!0}return R instanceof Ee}catch{}return!1}},5328:(K,Ee,y)=>{"use strict";var C=y(6497);K.exports=function(){return C()&&!!Symbol.toStringTag}},5370:K=>{"use strict";var Ee=function(){return"string"==typeof function(){}.name},y=Object.getOwnPropertyDescriptor;if(y)try{y([],"length")}catch{y=null}Ee.functionsHaveConfigurableNames=function(){if(!Ee()||!y)return!1;var L=y(function(){},"name");return!!L&&!!L.configurable};var C=Function.prototype.bind;Ee.boundFunctionsHaveNames=function(){return Ee()&&"function"==typeof C&&""!==function(){}.bind().name},K.exports=Ee},5492:(K,Ee,y)=>{"use strict";var C=y(8519),k=y(3687),L=y(863),W=y(2375),f=y(603)||W||L;K.exports=function(){var D,F={assert:function(N){if(!F.has(N))throw new C("Side channel does not contain "+k(N))},delete:function(N){return!!D&&D.delete(N)},get:function(N){return D&&D.get(N)},has:function(N){return!!D&&D.has(N)},set:function(N,G){D||(D=f()),D.set(N,G)}};return F}},5500:(K,Ee,y)=>{"use strict";var C=y(840),k=C("Date.prototype.getDay"),W=C("Object.prototype.toString"),f=y(5328)();K.exports=function(D){return"object"==typeof D&&null!==D&&(f?function(D){try{return k(D),!0}catch{return!1}}(D):"[object Date]"===W(D))}},5557:(K,Ee,y)=>{"use strict";var C=y(2521),k=y(1197),L=y(6652)(),W=y(9263),R=y(8519),f=C("%Math.floor%");K.exports=function(D,F){if("function"!=typeof D)throw new R("`fn` is not a function");if("number"!=typeof F||F<0||F>4294967295||f(F)!==F)throw new R("`length` must be a positive 32-bit integer");var N=arguments.length>2&&!!arguments[2],G=!0,O=!0;if("length"in D&&W){var I=W(D,"length");I&&!I.configurable&&(G=!1),I&&!I.writable&&(O=!1)}return(G||O||!N)&&(L?k(D,"length",F,!0,!0):k(D,"length",F)),D}},5712:(K,Ee,y)=>{"use strict";var C=y(2179),k=y(4880),L="object"==typeof StopIteration?StopIteration:null;K.exports=function(R){if(!L)throw new k("this environment lacks StopIteration");C.set(R,"[[Done]]",!1);var f={next:function(){var D=C.get(this,"[[Iterator]]"),F=!!C.get(D,"[[Done]]");try{return{done:F,value:F?void 0:D.next()}}catch(N){if(C.set(D,"[[Done]]",!0),N!==L)throw N;return{done:!0,value:void 0}}}};return C.set(f,"[[Iterator]]",R),f}},5714:K=>{"use strict";K.exports=Math.round},5757:(K,Ee,y)=>{"use strict";var C=y(5217),k=y(9116),L=y(9462),W=y(5028);K.exports=function(f){if(f&&"object"==typeof f){if(C(f))return"Map";if(k(f))return"Set";if(L(f))return"WeakMap";if(W(f))return"WeakSet"}return!1}},5796:(K,Ee,y)=>{"use strict";var C=y(9110),k=y(592);K.exports=function(){var W=C();return k(Object,{is:W},{is:function(){return Object.is!==W}}),W}},5827:(K,Ee,y)=>{"use strict";y.d(Ee,{C:()=>R,a:()=>L,d:()=>W});var C=y(1890),k=y(6721);const L=function(){var f=(0,C.A)(function*(P,D,F,N,G,O){var I;if(P)return P.attachViewToDom(D,F,G,N);if(!(O||"string"==typeof F||F instanceof HTMLElement))throw new Error("framework delegate is missing");const A="string"==typeof F?null===(I=D.ownerDocument)||void 0===I?void 0:I.createElement(F):F;return N&&N.forEach(se=>A.classList.add(se)),G&&Object.assign(A,G),D.appendChild(A),yield new Promise(se=>(0,k.c)(A,se)),A});return function(D,F,N,G,O,I){return f.apply(this,arguments)}}(),W=(f,P)=>{if(P){if(f)return f.removeViewFromDom(P.parentElement,P);P.remove()}return Promise.resolve()},R=()=>{let f,P;return{attachViewToDom:function(){var N=(0,C.A)(function*(G,O,I={},A=[]){var se,de;let Ce;if(f=G,O){const Z="string"==typeof O?null===(se=f.ownerDocument)||void 0===se?void 0:se.createElement(O):O;A.forEach(Y=>Z.classList.add(Y)),Object.assign(Z,I),f.appendChild(Z),Ce=Z,yield new Promise(Y=>(0,k.c)(Z,Y))}else if(f.children.length>0&&("ION-MODAL"===f.tagName||"ION-POPOVER"===f.tagName)&&!(Ce=f.children[0]).classList.contains("ion-delegate-host")){const Y=null===(de=f.ownerDocument)||void 0===de?void 0:de.createElement("div");Y.classList.add("ion-delegate-host"),A.forEach(ve=>Y.classList.add(ve)),Y.append(...f.children),f.appendChild(Y),Ce=Y}const Q=document.querySelector("ion-app")||document.body;return P=document.createComment("ionic teleport"),f.parentNode.insertBefore(P,f),Q.appendChild(f),Ce??f});return function(O,I){return N.apply(this,arguments)}}(),removeViewFromDom:()=>(f&&P&&(P.parentNode.insertBefore(f,P),P.remove()),Promise.resolve())}}},5831:(K,Ee,y)=>{"use strict";var R,C=y(840),k=y(5328)(),L=y(3889),W=y(9263);if(k){var f=C("RegExp.prototype.exec"),P={},D=function(){throw P},F={toString:D,valueOf:D};"symbol"==typeof Symbol.toPrimitive&&(F[Symbol.toPrimitive]=D),R=function(I){if(!I||"object"!=typeof I)return!1;var A=W(I,"lastIndex");if(!A||!L(A,"value"))return!1;try{f(I,F)}catch(de){return de===P}}}else{var N=C("Object.prototype.toString");R=function(I){return!(!I||"object"!=typeof I&&"function"!=typeof I)&&"[object RegExp]"===N(I)}}K.exports=R},5860:(K,Ee,y)=>{"use strict";y.r(Ee),y.d(Ee,{GESTURE_CONTROLLER:()=>C.G,createGesture:()=>F});var C=y(566);const k=(I,A,se,de)=>{const Ce=!!L(I)&&{capture:!1,passive:!!de.passive};let Q,Z;return I.__zone_symbol__addEventListener?(Q="__zone_symbol__addEventListener",Z="__zone_symbol__removeEventListener"):(Q="addEventListener",Z="removeEventListener"),I[Q](A,se,Ce),()=>{I[Z](A,se,Ce)}},L=I=>{if(void 0===W)try{const A=Object.defineProperty({},"passive",{get:()=>{W=!0}});I.addEventListener("optsTest",()=>{},A)}catch{W=!1}return!!W};let W;const P=I=>I instanceof Document?I:I.ownerDocument,F=I=>{let A=!1,se=!1,de=!0,Ce=!1;const Q=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},I),Z=Q.canStart,Y=Q.onWillStart,ve=Q.onStart,Ae=Q.onEnd,Ye=Q.notCaptured,te=Q.onMove,De=Q.threshold,_e=Q.passive,ge=Q.blurOnStart,Ie={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},U=((I,A,se)=>{const de=se*(Math.PI/180),Ce="x"===I,Q=Math.cos(de),Z=A*A;let Y=0,ve=0,Ae=!1,Ye=0;return{start(te,De){Y=te,ve=De,Ye=0,Ae=!0},detect(te,De){if(!Ae)return!1;const _e=te-Y,ge=De-ve,Ie=_e*_e+ge*ge;if(Ie<Z)return!1;const U=Math.sqrt(Ie),X=(Ce?_e:ge)/U;return Ye=X>Q?1:X<-Q?-1:0,Ae=!1,!0},isGesture:()=>0!==Ye,getDirection:()=>Ye}})(Q.direction,Q.threshold,Q.maxAngle),X=C.G.createGesture({name:I.gestureName,priority:I.gesturePriority,disableScroll:I.disableScroll}),ne=()=>{A&&(Ce=!1,te&&te(Ie))},le=()=>!!X.capture()&&(A=!0,de=!1,Ie.startX=Ie.currentX,Ie.startY=Ie.currentY,Ie.startTime=Ie.currentTime,Y?Y(Ie).then(Re):Re(),!0),Re=()=>{ge&&(()=>{if(typeof document<"u"){const xe=document.activeElement;xe?.blur&&xe.blur()}})(),ve&&ve(Ie),de=!0},Fe=()=>{A=!1,se=!1,Ce=!1,de=!0,X.release()},we=xe=>{const Ge=A,_t=de;if(Fe(),_t){if(N(Ie,xe),Ge)return void(Ae&&Ae(Ie));Ye&&Ye(Ie)}},Je=((I,A,se,de,Ce)=>{let Q,Z,Y,ve,Ae,Ye,te,De=0;const _e=ye=>{De=Date.now()+2e3,A(ye)&&(!Z&&se&&(Z=k(I,"touchmove",se,Ce)),Y||(Y=k(ye.target,"touchend",Ie,Ce)),ve||(ve=k(ye.target,"touchcancel",Ie,Ce)))},ge=ye=>{De>Date.now()||A(ye)&&(!Ye&&se&&(Ye=k(P(I),"mousemove",se,Ce)),te||(te=k(P(I),"mouseup",U,Ce)))},Ie=ye=>{X(),de&&de(ye)},U=ye=>{Ve(),de&&de(ye)},X=()=>{Z&&Z(),Y&&Y(),ve&&ve(),Z=Y=ve=void 0},Ve=()=>{Ye&&Ye(),te&&te(),Ye=te=void 0},z=()=>{X(),Ve()},ne=(ye=!0)=>{ye?(Q||(Q=k(I,"touchstart",_e,Ce)),Ae||(Ae=k(I,"mousedown",ge,Ce))):(Q&&Q(),Ae&&Ae(),Q=Ae=void 0,z())};return{enable:ne,stop:z,destroy:()=>{ne(!1),de=se=A=void 0}}})(Q.el,xe=>{const Ge=O(xe);return!(se||!de||(G(xe,Ie),Ie.startX=Ie.currentX,Ie.startY=Ie.currentY,Ie.startTime=Ie.currentTime=Ge,Ie.velocityX=Ie.velocityY=Ie.deltaX=Ie.deltaY=0,Ie.event=xe,Z&&!1===Z(Ie))||(X.release(),!X.start()))&&(se=!0,0===De?le():(U.start(Ie.startX,Ie.startY),!0))},xe=>{A?!Ce&&de&&(Ce=!0,N(Ie,xe),requestAnimationFrame(ne)):(N(Ie,xe),U.detect(Ie.currentX,Ie.currentY)&&(!U.isGesture()||!le())&&Dt())},we,{passive:_e}),Dt=()=>{Fe(),Je.stop(),Ye&&Ye(Ie)};return{enable(xe=!0){xe||(A&&we(void 0),Fe()),Je.enable(xe)},destroy(){X.destroy(),Je.destroy()}}},N=(I,A)=>{if(!A)return;const se=I.currentX,de=I.currentY,Ce=I.currentTime;G(A,I);const Q=I.currentX,Z=I.currentY,ve=(I.currentTime=O(A))-Ce;if(ve>0&&ve<100){const Ye=(Z-de)/ve;I.velocityX=(Q-se)/ve*.7+.3*I.velocityX,I.velocityY=.7*Ye+.3*I.velocityY}I.deltaX=Q-I.startX,I.deltaY=Z-I.startY,I.event=A},G=(I,A)=>{let se=0,de=0;if(I){const Ce=I.changedTouches;if(Ce&&Ce.length>0){const Q=Ce[0];se=Q.clientX,de=Q.clientY}else void 0!==I.pageX&&(se=I.pageX,de=I.pageY)}A.currentX=se,A.currentY=de},O=I=>I.timeStamp||Date.now()},5886:(K,Ee,y)=>{"use strict";y.d(Ee,{a:()=>G,c:()=>k,p:()=>N});class C{constructor(){this.m=new Map}reset(A){this.m=new Map(Object.entries(A))}get(A,se){const de=this.m.get(A);return void 0!==de?de:se}getBoolean(A,se=!1){const de=this.m.get(A);return void 0===de?se:"string"==typeof de?"true"===de:!!de}getNumber(A,se){const de=parseFloat(this.m.get(A));return isNaN(de)?void 0!==se?se:NaN:de}set(A,se){this.m.set(A,se)}}const k=new C;var F=function(I){return I.OFF="OFF",I.ERROR="ERROR",I.WARN="WARN",I}(F||{});const N=(I,...A)=>{const se=k.get("logLevel",F.WARN);if([F.WARN].includes(se))return console.warn(`[Ionic Warning]: ${I}`,...A)},G=(I,...A)=>{const se=k.get("logLevel",F.ERROR);if([F.ERROR,F.WARN].includes(se))return console.error(`[Ionic Error]: ${I}`,...A)}},5979:K=>{"use strict";K.exports=function(y,C){if(C=C.split(":")[0],!(y=+y))return!1;switch(C){case"http":case"ws":return 80!==y;case"https":case"wss":return 443!==y;case"ftp":return 21!==y;case"gopher":return 70!==y;case"file":return!1}return 0!==y}},5989:(K,Ee,y)=>{"use strict";y.d(Ee,{m:()=>I});var C=y(1890),k=y(575),L=y(4896),W=y(9335),R=y(6721),f=y(9919),P=y(7133);const D=A=>(0,P.c)().duration(A?400:300),F=A=>{let se,de;const Ce=A.width+8,Q=(0,P.c)(),Z=(0,P.c)();A.isEndSide?(se=Ce+"px",de="0px"):(se=-Ce+"px",de="0px"),Q.addElement(A.menuInnerEl).fromTo("transform",`translateX(${se})`,`translateX(${de})`);const ve="ios"===(0,f.b)(A),Ae=ve?.2:.25;return Z.addElement(A.backdropEl).fromTo("opacity",.01,Ae),D(ve).addAnimation([Q,Z])},N=A=>{let se,de;const Ce=(0,f.b)(A),Q=A.width;A.isEndSide?(se=-Q+"px",de=Q+"px"):(se=Q+"px",de=-Q+"px");const Z=(0,P.c)().addElement(A.menuInnerEl).fromTo("transform",`translateX(${de})`,"translateX(0px)"),Y=(0,P.c)().addElement(A.contentEl).fromTo("transform","translateX(0px)",`translateX(${se})`),ve=(0,P.c)().addElement(A.backdropEl).fromTo("opacity",.01,.32);return D("ios"===Ce).addAnimation([Z,Y,ve])},G=A=>{const se=(0,f.b)(A),de=A.width*(A.isEndSide?-1:1)+"px",Ce=(0,P.c)().addElement(A.contentEl).fromTo("transform","translateX(0px)",`translateX(${de})`);return D("ios"===se).addAnimation(Ce)},I=(()=>{const A=new Map,se=[],de=function(){var Fe=(0,C.A)(function*(we){const Je=yield Ye(we,!0);return!!Je&&Je.open()});return function(Je){return Fe.apply(this,arguments)}}(),Ce=function(){var Fe=(0,C.A)(function*(we){const Je=yield void 0!==we?Ye(we,!0):te();return void 0!==Je&&Je.close()});return function(Je){return Fe.apply(this,arguments)}}(),Q=function(){var Fe=(0,C.A)(function*(we){const Je=yield Ye(we,!0);return!!Je&&Je.toggle()});return function(Je){return Fe.apply(this,arguments)}}(),Z=function(){var Fe=(0,C.A)(function*(we,Je){const Dt=yield Ye(Je);return Dt&&(Dt.disabled=!we),Dt});return function(Je,Dt){return Fe.apply(this,arguments)}}(),Y=function(){var Fe=(0,C.A)(function*(we,Je){const Dt=yield Ye(Je);return Dt&&(Dt.swipeGesture=we),Dt});return function(Je,Dt){return Fe.apply(this,arguments)}}(),ve=function(){var Fe=(0,C.A)(function*(we){if(null!=we){const Je=yield Ye(we);return void 0!==Je&&Je.isOpen()}return void 0!==(yield te())});return function(Je){return Fe.apply(this,arguments)}}(),Ae=function(){var Fe=(0,C.A)(function*(we){const Je=yield Ye(we);return!!Je&&!Je.disabled});return function(Je){return Fe.apply(this,arguments)}}(),Ye=function(){var Fe=(0,C.A)(function*(we,Je=!1){if(yield Re(),"start"===we||"end"===we){const xe=se.filter(_t=>_t.side===we&&!_t.disabled);if(xe.length>=1)return xe.length>1&&Je&&(0,W.f)(`menuController queried for a menu on the "${we}" side, but ${xe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,xe.map(_t=>_t.el)),xe[0].el;const Ge=se.filter(_t=>_t.side===we);if(Ge.length>=1)return Ge.length>1&&Je&&(0,W.f)(`menuController queried for a menu on the "${we}" side, but ${Ge.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ge.map(_t=>_t.el)),Ge[0].el}else if(null!=we)return ye(xe=>xe.menuId===we);return ye(xe=>!xe.disabled)||(se.length>0?se[0].el:void 0)});return function(Je){return Fe.apply(this,arguments)}}(),te=function(){var Fe=(0,C.A)(function*(){return yield Re(),z()});return function(){return Fe.apply(this,arguments)}}(),De=function(){var Fe=(0,C.A)(function*(){return yield Re(),ne()});return function(){return Fe.apply(this,arguments)}}(),_e=function(){var Fe=(0,C.A)(function*(){return yield Re(),le()});return function(){return Fe.apply(this,arguments)}}(),ge=(Fe,we)=>{A.set(Fe,we)},X=function(){var Fe=(0,C.A)(function*(we,Je,Dt,xe){if(le())return!1;if(Je){const Ge=yield te();Ge&&we.el!==Ge&&(yield Ge.setOpen(!1,!1))}return we._setOpen(Je,Dt,xe)});return function(Je,Dt,xe,Ge){return Fe.apply(this,arguments)}}(),z=()=>ye(Fe=>Fe._isOpen),ne=()=>se.map(Fe=>Fe.el),le=()=>se.some(Fe=>Fe.isAnimating),ye=Fe=>{const we=se.find(Fe);if(void 0!==we)return we.el},Re=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Fe=>new Promise(we=>(0,R.c)(Fe,we))));return ge("reveal",G),ge("push",N),ge("overlay",F),null==k.d||k.d.addEventListener("ionBackButton",Fe=>{const we=z();we&&Fe.detail.register(L.MENU_BACK_BUTTON_PRIORITY,()=>we.close())}),{registerAnimation:ge,get:Ye,getMenus:De,getOpen:te,isEnabled:Ae,swipeGesture:Y,isAnimating:_e,isOpen:ve,enable:Z,toggle:Q,close:Ce,open:de,_getOpenSync:z,_createAnimation:(Fe,we)=>{const Je=A.get(Fe);if(!Je)throw new Error("animation not registered");return Je(we)},_register:Fe=>{se.indexOf(Fe)<0&&se.push(Fe)},_unregister:Fe=>{const we=se.indexOf(Fe);we>-1&&se.splice(we,1)},_setOpen:X}})()},6062:(K,Ee,y)=>{"use strict";var C=y(7268),k=Object.prototype.toString,L=Object.prototype.hasOwnProperty;K.exports=function(F,N,G){if(!C(N))throw new TypeError("iterator must be a function");var O;arguments.length>=3&&(O=G),function P(D){return"[object Array]"===k.call(D)}(F)?function(F,N,G){for(var O=0,I=F.length;O<I;O++)L.call(F,O)&&(null==G?N(F[O],O,F):N.call(G,F[O],O,F))}(F,N,O):"string"==typeof F?function(F,N,G){for(var O=0,I=F.length;O<I;O++)null==G?N(F.charAt(O),O,F):N.call(G,F.charAt(O),O,F)}(F,N,O):function(F,N,G){for(var O in F)L.call(F,O)&&(null==G?N(F[O],O,F):N.call(G,F[O],O,F))}(F,N,O)}},6243:(K,Ee,y)=>{var C,k,L,W,R;C=y(7031),k=y(8251).utf8,L=y(2490),W=y(8251).bin,(R=function(f,P){f.constructor==String?f=P&&"binary"===P.encoding?W.stringToBytes(f):k.stringToBytes(f):L(f)?f=Array.prototype.slice.call(f,0):!Array.isArray(f)&&f.constructor!==Uint8Array&&(f=f.toString());for(var D=C.bytesToWords(f),F=8*f.length,N=1732584193,G=-271733879,O=-1732584194,I=271733878,A=0;A<D.length;A++)D[A]=16711935&(D[A]<<8|D[A]>>>24)|4278255360&(D[A]<<24|D[A]>>>8);D[F>>>5]|=128<<F%32,D[14+(F+64>>>9<<4)]=F;var se=R._ff,de=R._gg,Ce=R._hh,Q=R._ii;for(A=0;A<D.length;A+=16){var Z=N,Y=G,ve=O,Ae=I;N=se(N,G,O,I,D[A+0],7,-680876936),I=se(I,N,G,O,D[A+1],12,-389564586),O=se(O,I,N,G,D[A+2],17,606105819),G=se(G,O,I,N,D[A+3],22,-1044525330),N=se(N,G,O,I,D[A+4],7,-176418897),I=se(I,N,G,O,D[A+5],12,1200080426),O=se(O,I,N,G,D[A+6],17,-1473231341),G=se(G,O,I,N,D[A+7],22,-45705983),N=se(N,G,O,I,D[A+8],7,1770035416),I=se(I,N,G,O,D[A+9],12,-1958414417),O=se(O,I,N,G,D[A+10],17,-42063),G=se(G,O,I,N,D[A+11],22,-1990404162),N=se(N,G,O,I,D[A+12],7,1804603682),I=se(I,N,G,O,D[A+13],12,-40341101),O=se(O,I,N,G,D[A+14],17,-1502002290),N=de(N,G=se(G,O,I,N,D[A+15],22,1236535329),O,I,D[A+1],5,-165796510),I=de(I,N,G,O,D[A+6],9,-1069501632),O=de(O,I,N,G,D[A+11],14,643717713),G=de(G,O,I,N,D[A+0],20,-373897302),N=de(N,G,O,I,D[A+5],5,-701558691),I=de(I,N,G,O,D[A+10],9,38016083),O=de(O,I,N,G,D[A+15],14,-660478335),G=de(G,O,I,N,D[A+4],20,-405537848),N=de(N,G,O,I,D[A+9],5,568446438),I=de(I,N,G,O,D[A+14],9,-1019803690),O=de(O,I,N,G,D[A+3],14,-187363961),G=de(G,O,I,N,D[A+8],20,1163531501),N=de(N,G,O,I,D[A+13],5,-1444681467),I=de(I,N,G,O,D[A+2],9,-51403784),O=de(O,I,N,G,D[A+7],14,1735328473),N=Ce(N,G=de(G,O,I,N,D[A+12],20,-1926607734),O,I,D[A+5],4,-378558),I=Ce(I,N,G,O,D[A+8],11,-2022574463),O=Ce(O,I,N,G,D[A+11],16,1839030562),G=Ce(G,O,I,N,D[A+14],23,-35309556),N=Ce(N,G,O,I,D[A+1],4,-1530992060),I=Ce(I,N,G,O,D[A+4],11,1272893353),O=Ce(O,I,N,G,D[A+7],16,-155497632),G=Ce(G,O,I,N,D[A+10],23,-1094730640),N=Ce(N,G,O,I,D[A+13],4,681279174),I=Ce(I,N,G,O,D[A+0],11,-358537222),O=Ce(O,I,N,G,D[A+3],16,-722521979),G=Ce(G,O,I,N,D[A+6],23,76029189),N=Ce(N,G,O,I,D[A+9],4,-640364487),I=Ce(I,N,G,O,D[A+12],11,-421815835),O=Ce(O,I,N,G,D[A+15],16,530742520),N=Q(N,G=Ce(G,O,I,N,D[A+2],23,-995338651),O,I,D[A+0],6,-198630844),I=Q(I,N,G,O,D[A+7],10,1126891415),O=Q(O,I,N,G,D[A+14],15,-1416354905),G=Q(G,O,I,N,D[A+5],21,-57434055),N=Q(N,G,O,I,D[A+12],6,1700485571),I=Q(I,N,G,O,D[A+3],10,-1894986606),O=Q(O,I,N,G,D[A+10],15,-1051523),G=Q(G,O,I,N,D[A+1],21,-2054922799),N=Q(N,G,O,I,D[A+8],6,1873313359),I=Q(I,N,G,O,D[A+15],10,-30611744),O=Q(O,I,N,G,D[A+6],15,-1560198380),G=Q(G,O,I,N,D[A+13],21,1309151649),N=Q(N,G,O,I,D[A+4],6,-145523070),I=Q(I,N,G,O,D[A+11],10,-1120210379),O=Q(O,I,N,G,D[A+2],15,718787259),G=Q(G,O,I,N,D[A+9],21,-343485551),N=N+Z>>>0,G=G+Y>>>0,O=O+ve>>>0,I=I+Ae>>>0}return C.endian([N,G,O,I])})._ff=function(f,P,D,F,N,G,O){var I=f+(P&D|~P&F)+(N>>>0)+O;return(I<<G|I>>>32-G)+P},R._gg=function(f,P,D,F,N,G,O){var I=f+(P&F|D&~F)+(N>>>0)+O;return(I<<G|I>>>32-G)+P},R._hh=function(f,P,D,F,N,G,O){var I=f+(P^D^F)+(N>>>0)+O;return(I<<G|I>>>32-G)+P},R._ii=function(f,P,D,F,N,G,O){var I=f+(D^(P|~F))+(N>>>0)+O;return(I<<G|I>>>32-G)+P},R._blocksize=16,R._digestsize=16,K.exports=function(f,P){if(null==f)throw new Error("Illegal argument "+f);var D=C.wordsToBytes(R(f,P));return P&&P.asBytes?D:P&&P.asString?W.bytesToString(D):C.bytesToHex(D)}},6283:(K,Ee,y)=>{"use strict";var C=y(5557),k=y(1963),L=y(2282),W=y(9713);K.exports=function(f){var P=L(arguments),D=f.length-(arguments.length-1);return C(P,1+(D>0?D:0),!0)},k?k(K.exports,"apply",{value:W}):K.exports.apply=W},6321:K=>{"use strict";var Ee=Object.prototype.toString;K.exports=function(C){var k=Ee.call(C),L="[object Arguments]"===k;return L||(L="[object Array]"!==k&&null!==C&&"object"==typeof C&&"number"==typeof C.length&&C.length>=0&&"[object Function]"===Ee.call(C.callee)),L}},6330:(K,Ee,y)=>{"use strict";var C=y(1197),k=y(6652)(),L=y(5370).functionsHaveConfigurableNames(),W=y(8519);K.exports=function(f,P){if("function"!=typeof f)throw new W("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||L)&&(k?C(f,"name",P,!0,!0):C(f,"name",P)),f}},6484:(K,Ee,y)=>{"use strict";var C=y(840),k=C("Boolean.prototype.toString"),L=C("Object.prototype.toString"),f=y(5328)();K.exports=function(D){return"boolean"==typeof D||null!==D&&"object"==typeof D&&(f?function(D){try{return k(D),!0}catch{return!1}}(D):"[object Boolean]"===L(D))}},6497:K=>{"use strict";K.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var y={},C=Symbol("test"),k=Object(C);if("string"==typeof C||"[object Symbol]"!==Object.prototype.toString.call(C)||"[object Symbol]"!==Object.prototype.toString.call(k))return!1;for(var W in y[C]=42,y)return!1;if("function"==typeof Object.keys&&0!==Object.keys(y).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(y).length)return!1;var R=Object.getOwnPropertySymbols(y);if(1!==R.length||R[0]!==C||!Object.prototype.propertyIsEnumerable.call(y,C))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(y,C);if(42!==f.value||!0!==f.enumerable)return!1}return!0}},6547:(K,Ee,y)=>{"use strict";var C=y(6062),k=y(9819),L=y(6283),W=y(840),R=y(9263),f=y(1568),P=W("Object.prototype.toString"),D=y(5328)(),F=typeof globalThis>"u"?global:globalThis,N=k(),G=W("String.prototype.slice"),O=W("Array.prototype.indexOf",!0)||function(Ce,Q){for(var Z=0;Z<Ce.length;Z+=1)if(Ce[Z]===Q)return Z;return-1},I={__proto__:null};C(N,D&&R&&f?function(de){var Ce=new F[de];if(Symbol.toStringTag in Ce&&f){var Q=f(Ce),Z=R(Q,Symbol.toStringTag);if(!Z&&Q){var Y=f(Q);Z=R(Y,Symbol.toStringTag)}I["$"+de]=L(Z.get)}}:function(de){var Ce=new F[de],Q=Ce.slice||Ce.set;Q&&(I["$"+de]=L(Q))}),K.exports=function(Ce){if(!Ce||"object"!=typeof Ce)return!1;if(!D){var Q=G(P(Ce),8,-1);return O(N,Q)>-1?Q:"Object"===Q&&function(Ce){var Q=!1;return C(I,function(Z,Y){if(!Q)try{Z(Ce),Q=G(Y,1)}catch{}}),Q}(Ce)}return R?function(Ce){var Q=!1;return C(I,function(Z,Y){if(!Q)try{"$"+Z(Ce)===Y&&(Q=G(Y,1))}catch{}}),Q}(Ce):null}},6652:(K,Ee,y)=>{"use strict";var C=y(1963),k=function(){return!!C};k.hasArrayLengthDefineBug=function(){if(!C)return null;try{return 1!==C([],"length",{value:1}).length}catch{return!0}},K.exports=k},6721:(K,Ee,y)=>{"use strict";y.d(Ee,{a:()=>se,b:()=>f,c:()=>W,d:()=>Y,e:()=>de,f:()=>F,g:()=>G,h:()=>R,i:()=>D,j:()=>Ye,k:()=>I,l:()=>Ce,m:()=>N,n:()=>A,o:()=>Z,p:()=>ve,q:()=>Q,r:()=>O,s:()=>Ae,t:()=>k});var C=y(9335);const k=(te,De=0)=>new Promise(_e=>{L(te,De,_e)}),L=(te,De=0,_e)=>{let ge,Ie;const U={passive:!0},Ve=()=>{ge&&ge()},z=ne=>{(void 0===ne||te===ne.target)&&(Ve(),_e(ne))};return te&&(te.addEventListener("webkitTransitionEnd",z,U),te.addEventListener("transitionend",z,U),Ie=setTimeout(z,De+500),ge=()=>{void 0!==Ie&&(clearTimeout(Ie),Ie=void 0),te.removeEventListener("webkitTransitionEnd",z,U),te.removeEventListener("transitionend",z,U)}),Ve},W=(te,De)=>{te.componentOnReady?te.componentOnReady().then(_e=>De(_e)):O(()=>De(te))},R=te=>void 0!==te.componentOnReady,f=(te,De=[])=>{const _e={};return De.forEach(ge=>{te.hasAttribute(ge)&&(null!==te.getAttribute(ge)&&(_e[ge]=te.getAttribute(ge)),te.removeAttribute(ge))}),_e},P=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],D=(te,De)=>f(te,P),F=(te,De,_e,ge)=>te.addEventListener(De,_e,ge),N=(te,De,_e,ge)=>te.removeEventListener(De,_e,ge),G=(te,De=te)=>te.shadowRoot||De,O=te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(te):"function"==typeof requestAnimationFrame?requestAnimationFrame(te):setTimeout(te),I=te=>!!te.shadowRoot&&!!te.attachShadow,A=te=>{if(te.focus(),te.classList.contains("ion-focusable")){const De=te.closest("ion-app");De&&De.setFocus([te])}},se=(te,De,_e,ge,Ie)=>{{let U=De.querySelector("input.aux-input");U||(U=De.ownerDocument.createElement("input"),U.type="hidden",U.classList.add("aux-input"),De.appendChild(U)),U.disabled=Ie,U.name=_e,U.value=ge||""}},de=(te,De,_e)=>Math.max(te,Math.min(De,_e)),Ce=(te,De)=>{if(!te){const _e="ASSERT: "+De;throw(0,C.j)(_e),new Error(_e)}},Q=te=>{if(te){const De=te.changedTouches;if(De&&De.length>0){const _e=De[0];return{x:_e.clientX,y:_e.clientY}}if(void 0!==te.pageX)return{x:te.pageX,y:te.pageY}}return{x:0,y:0}},Z=te=>{const De="rtl"===document.dir;switch(te){case"start":return De;case"end":return!De;default:throw new Error(`"${te}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Y=(te,De)=>{const _e=te._original||te;return{_original:te,emit:ve(_e.emit.bind(_e),De)}},ve=(te,De=0)=>{let _e;return(...ge)=>{clearTimeout(_e),_e=setTimeout(te,De,...ge)}},Ae=(te,De)=>{if(te??(te={}),De??(De={}),te===De)return!0;const _e=Object.keys(te);if(_e.length!==Object.keys(De).length)return!1;for(const ge of _e)if(!(ge in De)||te[ge]!==De[ge])return!1;return!0},Ye=te=>"number"==typeof te&&!isNaN(te)&&isFinite(te)},6778:(K,Ee,y)=>{var L,C=y(5e3).default,k=(L=typeof document<"u"?document.currentScript?.src:void 0,C(function*(W={}){var f=W,P="object"==typeof window,D=typeof WorkerGlobalScope<"u",G=("object"==typeof process&&process.versions?.node&&process,"./this.program"),O=(b,$)=>{throw $};D&&(L=self.location.href);var se,de,I="";if(P||D){try{I=new URL(".",L).href}catch{}D&&(de=b=>{var $=new XMLHttpRequest;return $.open("GET",b,!1),$.responseType="arraybuffer",$.send(null),new Uint8Array($.response)}),se=function(){var b=C(function*($){var ce=yield fetch($,{credentials:"same-origin"});if(ce.ok)return ce.arrayBuffer();throw new Error(ce.status+" : "+ce.url)});return function(ce){return b.apply(this,arguments)}}()}var Z,ve,Ce=console.log.bind(console),Q=console.error.bind(console),Y=!1;function Ae(b,$){b||Ke($)}function te(){if(!Y){var b=ci();0==b&&(b+=4);var $=ne[b>>2],ce=ne[b+4>>2];(34821223!=$||2310721022!=ce)&&Ke(`Stack overflow! Stack cookie has been overwritten at ${zr(b)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${zr(ce)} ${zr($)}`),1668509029!=ne[0]&&Ke("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var De,_e,ge,Ie,U,z,ne,ye,Re,we=!1;function Je(){var b=ge.buffer;Ie=new Int8Array(b),new Int16Array(b),f.HEAPU8=U=new Uint8Array(b),new Uint16Array(b),z=new Int32Array(b),f.HEAPU32=ne=new Uint32Array(b),new Float32Array(b),ye=new Float64Array(b),Re=new BigInt64Array(b),new BigUint64Array(b)}var bt,gt=0,Ct=null;function Ke(b){f.onAbort?.(b),Q(b="Aborted("+b+")"),Y=!0,b+=". Build with -sASSERTIONS for more info.";var $=new WebAssembly.RuntimeError(b);throw _e?.($),$}function qt(){return(qt=C(function*(b){if(!Z)try{var $=yield se(b);return new Uint8Array($)}catch{}return function En(b){if(b==bt&&Z)return new Uint8Array(Z);if(de)return de(b);throw"both async and sync fetching of the wasm failed"}(b)})).apply(this,arguments)}function Ze(){return Ze=C(function*(b,$){try{var ce=yield function Dn(b){return qt.apply(this,arguments)}(b);return yield WebAssembly.instantiate(ce,$)}catch(Ft){Q(`failed to asynchronously prepare wasm: ${Ft}`),Ke(Ft)}}),Ze.apply(this,arguments)}function ze(){return ze=C(function*(b,$,ce){if(!b&&"function"==typeof WebAssembly.instantiateStreaming)try{var Be=fetch($,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(Be,ce)}catch(on){Q(`wasm streaming compile failed: ${on}`),Q("falling back to ArrayBuffer instantiation")}return function Ot(b,$){return Ze.apply(this,arguments)}($,ce)}),ze.apply(this,arguments)}function pn(){return pn=C(function*(){function b(on,mn){return ge=(w=on.exports).v,Je(),Zr=w.xa,function p(b){f._main=Gs=b.x,f._webidl_free=b.y,f._webidl_malloc=b.z,f._emscripten_bind_VoidPtr___destroy___0=zi=b.A,f._emscripten_bind_FSTools_FSTools_0=Pi=b.B,f._emscripten_bind_FSTools_Malloc_1=Ko=b.C,f._emscripten_bind_FSTools_Free_1=pa=b.D,f._emscripten_bind_FSTools_Nullptr_0=ys=b.E,f._emscripten_bind_FSTools___destroy___0=Ws=b.F,f._emscripten_bind_MkfsContext_MkfsContext_0=Yo=b.G,f._emscripten_bind_MkfsContext_Mkfs_2=bs=b.H,f._emscripten_bind_MkfsContext_GetImage_0=Ci=b.I,f._emscripten_bind_MkfsContext_GetImageSize_0=Ss=b.J,f._emscripten_bind_MkfsContext___destroy___0=Cs=b.K,f._emscripten_bind_FsckContext_FsckContext_1=Wi=b.L,f._emscripten_bind_FsckContext_GetImage_0=ho=b.M,f._emscripten_bind_FsckContext_GetDirtyPages_0=wi=b.N,f._emscripten_bind_FsckContext_GetImageSize_0=qi=b.O,f._emscripten_bind_FsckContext_Fsck_0=Zi=b.P,f._emscripten_bind_FsckContext_GetResult_0=qs=b.Q,f._emscripten_bind_FsckContext___destroy___0=ws=b.R,f._emscripten_bind_GunzipContext_GunzipContext_3=li=b.S,f._emscripten_bind_GunzipContext_GetState_0=Xo=b.T,f._emscripten_bind_GunzipContext_Continue_0=Ei=b.U,f._emscripten_bind_GunzipContext_GetUncompressedData_0=zt=b.V,f._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=un=b.W,f._emscripten_bind_GunzipContext_GetUncompressedSize_0=ha=b.X,f._emscripten_bind_GunzipContext_GetError_0=Zs=b.Y,f._emscripten_bind_GunzipContext___destroy___0=wo=b.Z,f._emscripten_bind_GzipContext_GzipContext_3=Es=b._,f._emscripten_bind_GzipContext_SetFilename_1=Fi=b.$,f._emscripten_bind_GzipContext_SetMtime_1=Ki=b.aa,f._emscripten_bind_GzipContext_Continue_0=Ds=b.ba,f._emscripten_bind_GzipContext_GetState_0=ja=b.ca,f._emscripten_bind_GzipContext_GetGzipData_0=Ks=b.da,f._emscripten_bind_GzipContext_GetGzipSize_0=Is=b.ea,f._emscripten_bind_GzipContext_GetError_0=ga=b.fa,f._emscripten_bind_GzipContext___destroy___0=Ys=b.ga,f._emscripten_bind_CreateZipContext_CreateZipContext_0=Xs=b.ha,f._emscripten_bind_CreateZipContext_Initialize_1=ma=b.ia,f._emscripten_bind_CreateZipContext_AddEntry_1=Qs=b.ja,f._emscripten_bind_CreateZipContext_WriteData_2=Eo=b.ka,f._emscripten_bind_CreateZipContext_GetZipData_0=Js=b.la,f._emscripten_bind_CreateZipContext_GetZipDataSize_0=so=b.ma,f._emscripten_bind_CreateZipContext_GetLastError_0=Yi=b.na,f._emscripten_bind_CreateZipContext___destroy___0=va=b.oa,f._emscripten_bind_ZipfileWalker_ZipfileWalker_2=Va=b.pa,f._emscripten_bind_ZipfileWalker_GetState_0=Fo=b.qa,f._emscripten_bind_ZipfileWalker_Next_0=Ts=b.ra,f._emscripten_bind_ZipfileWalker_GetTotalEntries_0=_a=b.sa,f._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=ea=b.ta,f._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=ae=b.ua,f._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=ta=b.va,f._emscripten_bind_ZipfileWalker___destroy___0=Le=b.wa,ci=b.ya,ya=b.za,As=b.Aa,Li=b.Ba,f.___original_main=b.Ca}(w),function At(){if(gt--,f.monitorRunDependencies?.(gt),0==gt&&Ct){var $=Ct;Ct=null,$()}}(),w}!function ot(){gt++,f.monitorRunDependencies?.(gt)}();var ce=function ut(){return{a:v}}();if(f.instantiateWasm)return new Promise((on,mn)=>{f.instantiateWasm(ce,(Gn,Kr)=>{on(b(Gn))})});bt??=function $t(){return function A(b){return f.locateFile?f.locateFile(b,I):I+b}("fstools_web.wasm")}();var Be=yield function Ne(b,$,ce){return ze.apply(this,arguments)}(Z,bt,ce);return function $(on){return b(on.instance)}(Be)}),pn.apply(this,arguments)}class Nn{name="ExitStatus";constructor($){this.message=`Program terminated with exit(${$})`,this.status=$}}var Zr,Un,sn=b=>{for(;b.length>0;)b.shift()(f)},bn=[],lr=b=>bn.push(b),gr=[],ro=b=>gr.push(b),So=!0,zr=b=>"0x"+(b>>>=0).toString(16).padStart(8,"0"),Oo=typeof TextDecoder<"u"?new TextDecoder:void 0,oo=(b,$=0,ce=NaN)=>{for(var Be=$+ce,Ft=$;b[Ft]&&!(Ft>=Be);)++Ft;if(Ft-$>16&&b.buffer&&Oo)return Oo.decode(b.subarray($,Ft));for(var on="";$<Ft;){var mn=b[$++];if(128&mn){var Gn=63&b[$++];if(192!=(224&mn)){var Kr=63&b[$++];if((mn=224==(240&mn)?(15&mn)<<12|Gn<<6|Kr:(7&mn)<<18|Gn<<12|Kr<<6|63&b[$++])<65536)on+=String.fromCharCode(mn);else{var dn=mn-65536;on+=String.fromCharCode(55296|dn>>10,56320|1023&dn)}}else on+=String.fromCharCode((31&mn)<<6|Gn)}else on+=String.fromCharCode(mn)}return on},Jt=(b,$)=>b?oo(U,b,$):"",Zt=b=>b<-9007199254740992||b>9007199254740992?NaN:Number(b),In={varargs:void 0,getStr:b=>Jt(b)},Wr=0,xo=[0,31,60,91,121,152,182,213,244,274,305,335],Tr=[0,31,59,90,120,151,181,212,243,273,304,334],Tn=b=>((b=>b%4==0&&(b%100!=0||b%400==0))(b.getFullYear())?xo:Tr)[b.getMonth()]+b.getDate()-1,yo={},Go=b=>{if(b instanceof Nn||"unwind"==b)return ve;te(),b instanceof WebAssembly.RuntimeError&&Li()<=0&&Q("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),O(0,b)},jn=()=>So||Wr>0,Po=b=>{ve=b,jn()||(f.onExit?.(b),Y=!0),O(0,new Nn(b))},Ar=(b,$)=>{ve=b,Po(b)},Si=Ar,zn=(b,$,ce,Be)=>{if(!(Be>0))return 0;for(var Ft=ce,on=ce+Be-1,mn=0;mn<b.length;++mn){var Gn=b.codePointAt(mn);if(Gn<=127){if(ce>=on)break;$[ce++]=Gn}else if(Gn<=2047){if(ce+1>=on)break;$[ce++]=192|Gn>>6,$[ce++]=128|63&Gn}else if(Gn<=65535){if(ce+2>=on)break;$[ce++]=224|Gn>>12,$[ce++]=128|Gn>>6&63,$[ce++]=128|63&Gn}else{if(ce+3>=on)break;$[ce++]=240|Gn>>18,$[ce++]=128|Gn>>12&63,$[ce++]=128|Gn>>6&63,$[ce++]=128|63&Gn,mn++}}return $[ce]=0,ce-Ft},Ri=(b,$,ce)=>zn(b,U,$,ce),gn=[],Vn=(b,$)=>Math.ceil(b/$)*$,Ut=b=>{var ce=(b-ge.buffer.byteLength+65535)/65536|0;try{return ge.grow(ce),Je(),1}catch{}},ke={},Gt=()=>{if(!Gt.strings){var $={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:G||"./this.program"};for(var ce in ke)void 0===ke[ce]?delete $[ce]:$[ce]=ke[ce];var Be=[];for(var ce in $)Be.push(`${ce}=${$[ce]}`);Gt.strings=Be}return Gt.strings},rr=b=>{for(var $=0,ce=0;ce<b.length;++ce){var Be=b.charCodeAt(ce);Be<=127?$++:Be<=2047?$+=2:Be>=55296&&Be<=57343?($+=4,++ce):$+=3}return $},La=[null,[],[]],gs=(b,$)=>{var ce=La[b];0===$||10===$?((1===b?Ce:Q)(oo(ce)),ce.length=0):ce.push($)},po=[],Bt=(b,$)=>{b<128?$.push(b):$.push(b%128|128,b>>7)},Zo=[],Qe=b=>{var $=Zo[b];return $||(Zo[b]=$=Zr.get(b)),$},fa=[],Ba=(b,$)=>{Zr.set(b,$),Zo[b]=Zr.get(b)};f.noExitRuntime&&(So=f.noExitRuntime),f.print&&(Ce=f.print),f.printErr&&(Q=f.printErr),f.wasmBinary&&(Z=f.wasmBinary),f.thisProgram&&(G=f.thisProgram),f.addFunction=(b,$)=>{var ce=(b=>(Un||(Un=new WeakMap,((b,$)=>{if(Un)for(var ce=0;ce<0+$;ce++){var Be=Qe(ce);Be&&Un.set(Be,ce)}})(0,Zr.length)),Un.get(b)||0))(b);if(ce)return ce;var Be=(()=>{if(fa.length)return fa.pop();try{Zr.grow(1)}catch(b){throw b instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":b}return Zr.length-1})();try{Ba(Be,b)}catch(on){if(!(on instanceof TypeError))throw on;var Ft=((b,$)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((b=>{for(var $={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},ce={parameters:[],results:"v"==b[0]?[]:[$[b[0]]]},Be=1;Be<b.length;++Be)ce.parameters.push($[b[Be]]);return ce})($),b);var ce=[1];((b,$)=>{var ce=b.slice(0,1),Be=b.slice(1),Ft={i:127,p:127,j:126,f:125,d:124,e:111};for(var on of($.push(96),Bt(Be.length,$),Be))$.push(Ft[on]);"v"==ce?$.push(0):$.push(1,Ft[ce])})($,ce);var Be=[0,97,115,109,1,0,0,0,1];Bt(ce.length,Be),Be.push(...ce),Be.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Ft=new WebAssembly.Module(new Uint8Array(Be));return new WebAssembly.Instance(Ft,{e:{f:b}}).exports.f})(b,$);Ba(Be,Ft)}return Un.set(b,Be),Be},f.UTF8ToString=Jt;var Gs,zi,Pi,Ko,pa,ys,Ws,Yo,bs,Ci,Ss,Cs,Wi,ho,wi,qi,Zi,qs,ws,li,Xo,Ei,zt,un,ha,Zs,wo,Es,Fi,Ki,Ds,ja,Ks,Is,ga,Ys,Xs,ma,Qs,Eo,Js,so,Yi,va,Va,Fo,Ts,_a,ea,ae,ta,Le,ci,ya,As,Li,_s={46212:()=>{throw new Error("terminated")}},v={b:(b,$,ce,Be)=>Ke(`Assertion failed: ${Jt(b)}, at: `+[$?Jt($):"unknown filename",ce,Be?Jt(Be):"unknown function"]),f:function Kn(b,$){$=Zt($)},h:function en(b,$,ce,Be){In.varargs=Be},i:()=>Ke(""),k:()=>{So=!1,Wr=0},n:function fo(b,$){b=Zt(b);var ce=new Date(1e3*b);z[$>>2]=ce.getUTCSeconds(),z[$+4>>2]=ce.getUTCMinutes(),z[$+8>>2]=ce.getUTCHours(),z[$+12>>2]=ce.getUTCDate(),z[$+16>>2]=ce.getUTCMonth(),z[$+20>>2]=ce.getUTCFullYear()-1900,z[$+24>>2]=ce.getUTCDay();var Be=Date.UTC(ce.getUTCFullYear(),0,1,0,0,0,0),Ft=(ce.getTime()-Be)/864e5|0;z[$+28>>2]=Ft},o:function Co(b,$){b=Zt(b);var ce=new Date(1e3*b);z[$>>2]=ce.getSeconds(),z[$+4>>2]=ce.getMinutes(),z[$+8>>2]=ce.getHours(),z[$+12>>2]=ce.getDate(),z[$+16>>2]=ce.getMonth(),z[$+20>>2]=ce.getFullYear()-1900,z[$+24>>2]=ce.getDay();var Be=0|Tn(ce);z[$+28>>2]=Be,z[$+36>>2]=-60*ce.getTimezoneOffset();var Ft=new Date(ce.getFullYear(),0,1),on=new Date(ce.getFullYear(),6,1).getTimezoneOffset(),mn=Ft.getTimezoneOffset(),Gn=0|(on!=mn&&ce.getTimezoneOffset()==Math.min(mn,on));z[$+32>>2]=Gn},p:function(b){var $=(()=>{var ce=new Date(z[b+20>>2]+1900,z[b+16>>2],z[b+12>>2],z[b+8>>2],z[b+4>>2],z[b>>2],0),Be=z[b+32>>2],Ft=ce.getTimezoneOffset(),on=new Date(ce.getFullYear(),0,1),mn=new Date(ce.getFullYear(),6,1).getTimezoneOffset(),Gn=on.getTimezoneOffset(),Kr=Math.min(Gn,mn);if(Be<0)z[b+32>>2]=+(mn!=Gn&&Kr==Ft);else if(Be>0!=(Kr==Ft)){var dn=Math.max(Gn,mn),xr=Be>0?Kr:dn;ce.setTime(ce.getTime()+6e4*(xr-Ft))}z[b+24>>2]=ce.getDay();var Vr=0|Tn(ce);z[b+28>>2]=Vr,z[b>>2]=ce.getSeconds(),z[b+4>>2]=ce.getMinutes(),z[b+8>>2]=ce.getHours(),z[b+12>>2]=ce.getDate(),z[b+16>>2]=ce.getMonth(),z[b+20>>2]=ce.getYear();var fr=ce.getTime();return isNaN(fr)?-1:fr/1e3})();return BigInt($)},l:(b,$)=>{if(yo[b]&&(clearTimeout(yo[b].id),delete yo[b]),!$)return 0;var ce=setTimeout(()=>{delete yo[b],(b=>{if(!Y)try{b(),(()=>{if(!jn())try{Si(ve)}catch(b){Go(b)}})()}catch($){Go($)}})(()=>ya(b,performance.now()))},$);return yo[b]={id:ce,timeout_ms:$},0},q:(b,$,ce,Be)=>{var Ft=(new Date).getFullYear(),on=new Date(Ft,0,1),mn=new Date(Ft,6,1),Gn=on.getTimezoneOffset(),Kr=mn.getTimezoneOffset(),dn=Math.max(Gn,Kr);ne[b>>2]=60*dn,z[$>>2]=+(Gn!=Kr);var xr=Nt=>{var Pr=Nt>=0?"-":"+",tr=Math.abs(Nt);return`UTC${Pr}${String(Math.floor(tr/60)).padStart(2,"0")}${String(tr%60).padStart(2,"0")}`},Vr=xr(Gn),fr=xr(Kr);Kr<Gn?(Ri(Vr,ce,17),Ri(fr,Be,17)):(Ri(Vr,Be,17),Ri(fr,ce,17))},a:(b,$,ce)=>((b,$,ce)=>{var Be=((b,$)=>{gn.length=0;for(var ce;ce=U[b++];){var Be=105!=ce;$+=(Be&=112!=ce)&&$%8?4:0,gn.push(112==ce?ne[$>>2]:106==ce?Re[$>>3]:105==ce?z[$>>2]:ye[$>>3]),$+=Be?8:4}return gn})($,ce);return _s[b](...Be)})(b,$,ce),d:()=>Date.now(),m:b=>{var $=U.length,ce=2147483648;if((b>>>=0)>ce)return!1;for(var Be=1;Be<=4;Be*=2){var Ft=$*(1+.2/Be);Ft=Math.min(Ft,b+100663296);var on=Math.min(ce,Vn(Math.max(b,Ft),65536));if(Ut(on))return!0}return!1},s:(b,$)=>{var ce=0,Be=0;for(var Ft of Gt()){var on=$+ce;ne[b+Be>>2]=on,ce+=Ri(Ft,on,1/0)+1,Be+=4}return 0},t:(b,$)=>{var ce=Gt();ne[b>>2]=ce.length;var Be=0;for(var Ft of ce)Be+=rr(Ft)+1;return ne[$>>2]=Be,0},u:Si,e:b=>52,c:(b,$,ce,Be)=>52,r:function Al(b,$,ce,Be){return $=Zt($),70},g:(b,$,ce,Be)=>{for(var Ft=0,on=0;on<ce;on++){var mn=ne[$>>2],Gn=ne[$+4>>2];$+=8;for(var Kr=0;Kr<Gn;Kr++)gs(b,U[mn+Kr]);Ft+=Gn}return ne[Be>>2]=Ft,0},j:Po},w=yield function Qt(){return pn.apply(this,arguments)}();function me(){}function qe(b){return(b||me).__cache__}function be(b,$){var ce=qe($),Be=ce[b];return Be||((Be=Object.create(($||me).prototype)).ptr=b,ce[b]=Be)}(function Ue(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function J(){function b(){f.calledRun=!0,Y||(function xe(){we=!0,te(),sn(po),w.w()}(),function Ge(){te()}(),De?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function x(){var b=Gs;try{var Be=b(0,0);return Ar(Be),Be}catch(Ft){return Go(Ft)}}(),function _t(){if(te(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)lr(f.postRun.shift());sn(bn)}())}gt>0?Ct=J:(function ee(){As(),function Ye(){var b=ci();0==b&&(b+=4),ne[b>>2]=34821223,ne[b+4>>2]=2310721022,ne[0]=1668509029}()}(),function Dt(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)ro(f.preRun.shift());sn(gr)}(),gt>0?Ct=J:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),b()},1)):b(),te()))}(),(me.prototype=Object.create(me.prototype)).constructor=me,me.prototype.__class__=me,me.__cache__={},f.WrapperObject=me,f.getCache=qe,f.wrapPointer=be,f.castObject=function je(b,$){return be(b.ptr,$)},f.NULL=be(0),f.destroy=function ft(b){if(!b.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";b.__destroy__(),delete qe(b.__class__)[b.ptr]},f.compare=function dt(b,$){return b.ptr===$.ptr},f.getPointer=function kt(b){return b.ptr},f.getClass=function mt(b){return b.__class__};var Rt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Rt.needed){for(var b=0;b<Rt.temps.length;b++)f._webidl_free(Rt.temps[b]);Rt.temps.length=0,f._webidl_free(Rt.buffer),Rt.buffer=0,Rt.size+=Rt.needed,Rt.needed=0}Rt.buffer||(Rt.size+=128,Rt.buffer=f._webidl_malloc(Rt.size),Ae(Rt.buffer)),Rt.pos=0},alloc(b,$){Ae(Rt.buffer);var Ft,Be=b.length*$.BYTES_PER_ELEMENT;return Be=Vn(Be,8),Rt.pos+Be>=Rt.size?(Ae(Be>0),Rt.needed+=Be,Ft=f._webidl_malloc(Be),Rt.temps.push(Ft)):(Ft=Rt.buffer+Rt.pos,Rt.pos+=Be),Ft},copy(b,$,ce){ce/=$.BYTES_PER_ELEMENT;for(var Be=0;Be<b.length;Be++)$[ce+Be]=b[Be]}};function cr(b){if("string"==typeof b){var $=(b=>{var Be=rr(b)+1,Ft=new Array(Be);zn(b,Ft,0,Ft.length);return Ft})(b),ce=Rt.alloc($,Ie);return Rt.copy($,Ie,ce),ce}return b}function Yt(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Xt(){this.ptr=Pi(),qe(Xt)[this.ptr]=this}function $n(){this.ptr=Yo(),qe($n)[this.ptr]=this}function an(b){b&&"object"==typeof b&&(b=b.ptr),this.ptr=Wi(b),qe(an)[this.ptr]=this}function wt(b,$,ce){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),ce&&"object"==typeof ce&&(ce=ce.ptr),this.ptr=li(b,$,ce),qe(wt)[this.ptr]=this}function Hn(b,$,ce){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),ce&&"object"==typeof ce&&(ce=ce.ptr),this.ptr=Es(b,$,ce),qe(Hn)[this.ptr]=this}function hn(){this.ptr=Xs(),qe(hn)[this.ptr]=this}function Pn(b,$){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),this.ptr=Va(b,$),qe(Pn)[this.ptr]=this}return(Yt.prototype=Object.create(me.prototype)).constructor=Yt,Yt.prototype.__class__=Yt,Yt.__cache__={},f.VoidPtr=Yt,Yt.prototype.__destroy__=Yt.prototype.__destroy__=function(){zi(this.ptr)},(Xt.prototype=Object.create(me.prototype)).constructor=Xt,Xt.prototype.__class__=Xt,Xt.__cache__={},f.FSTools=Xt,Xt.prototype.Malloc=Xt.prototype.Malloc=function(b){return b&&"object"==typeof b&&(b=b.ptr),be(Ko(this.ptr,b),Yt)},Xt.prototype.Free=Xt.prototype.Free=function(b){b&&"object"==typeof b&&(b=b.ptr),pa(this.ptr,b)},Xt.prototype.Nullptr=Xt.prototype.Nullptr=function(){return be(ys(this.ptr),Yt)},Xt.prototype.__destroy__=Xt.prototype.__destroy__=function(){Ws(this.ptr)},($n.prototype=Object.create(me.prototype)).constructor=$n,$n.prototype.__class__=$n,$n.__cache__={},f.MkfsContext=$n,$n.prototype.Mkfs=$n.prototype.Mkfs=function(b,$){var ce=this.ptr;return Rt.prepare(),b&&"object"==typeof b&&(b=b.ptr),$=$&&"object"==typeof $?$.ptr:cr($),!!bs(ce,b,$)},$n.prototype.GetImage=$n.prototype.GetImage=function(){return be(Ci(this.ptr),Yt)},$n.prototype.GetImageSize=$n.prototype.GetImageSize=function(){return Ss(this.ptr)},$n.prototype.__destroy__=$n.prototype.__destroy__=function(){Cs(this.ptr)},(an.prototype=Object.create(me.prototype)).constructor=an,an.prototype.__class__=an,an.__cache__={},f.FsckContext=an,an.prototype.GetImage=an.prototype.GetImage=function(){return be(ho(this.ptr),Yt)},an.prototype.GetDirtyPages=an.prototype.GetDirtyPages=function(){return be(wi(this.ptr),Yt)},an.prototype.GetImageSize=an.prototype.GetImageSize=function(){return qi(this.ptr)},an.prototype.Fsck=an.prototype.Fsck=function(){return Zi(this.ptr)},an.prototype.GetResult=an.prototype.GetResult=function(){return qs(this.ptr)},an.prototype.__destroy__=an.prototype.__destroy__=function(){ws(this.ptr)},(wt.prototype=Object.create(me.prototype)).constructor=wt,wt.prototype.__class__=wt,wt.__cache__={},f.GunzipContext=wt,wt.prototype.GetState=wt.prototype.GetState=function(){return Xo(this.ptr)},wt.prototype.Continue=wt.prototype.Continue=function(){return Ei(this.ptr)},wt.prototype.GetUncompressedData=wt.prototype.GetUncompressedData=function(){return be(zt(this.ptr),Yt)},wt.prototype.ReleaseUncompressedData=wt.prototype.ReleaseUncompressedData=function(){return be(un(this.ptr),Yt)},wt.prototype.GetUncompressedSize=wt.prototype.GetUncompressedSize=function(){return ha(this.ptr)},wt.prototype.GetError=wt.prototype.GetError=function(){return Jt(Zs(this.ptr))},wt.prototype.__destroy__=wt.prototype.__destroy__=function(){wo(this.ptr)},(Hn.prototype=Object.create(me.prototype)).constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},f.GzipContext=Hn,Hn.prototype.SetFilename=Hn.prototype.SetFilename=function(b){var $=this.ptr;return Rt.prepare(),b=b&&"object"==typeof b?b.ptr:cr(b),be(Fi($,b),Hn)},Hn.prototype.SetMtime=Hn.prototype.SetMtime=function(b){return b&&"object"==typeof b&&(b=b.ptr),be(Ki(this.ptr,b),Hn)},Hn.prototype.Continue=Hn.prototype.Continue=function(){return Ds(this.ptr)},Hn.prototype.GetState=Hn.prototype.GetState=function(){return ja(this.ptr)},Hn.prototype.GetGzipData=Hn.prototype.GetGzipData=function(){return be(Ks(this.ptr),Yt)},Hn.prototype.GetGzipSize=Hn.prototype.GetGzipSize=function(){return Is(this.ptr)},Hn.prototype.GetError=Hn.prototype.GetError=function(){return Jt(ga(this.ptr))},Hn.prototype.__destroy__=Hn.prototype.__destroy__=function(){Ys(this.ptr)},(hn.prototype=Object.create(me.prototype)).constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},f.CreateZipContext=hn,hn.prototype.Initialize=hn.prototype.Initialize=function(b){return b&&"object"==typeof b&&(b=b.ptr),!!ma(this.ptr,b)},hn.prototype.AddEntry=hn.prototype.AddEntry=function(b){var $=this.ptr;return Rt.prepare(),b=b&&"object"==typeof b?b.ptr:cr(b),!!Qs($,b)},hn.prototype.WriteData=hn.prototype.WriteData=function(b,$){return b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),!!Eo(this.ptr,b,$)},hn.prototype.GetZipData=hn.prototype.GetZipData=function(){return be(Js(this.ptr),Yt)},hn.prototype.GetZipDataSize=hn.prototype.GetZipDataSize=function(){return so(this.ptr)},hn.prototype.GetLastError=hn.prototype.GetLastError=function(){return Jt(Yi(this.ptr))},hn.prototype.__destroy__=hn.prototype.__destroy__=function(){va(this.ptr)},(Pn.prototype=Object.create(me.prototype)).constructor=Pn,Pn.prototype.__class__=Pn,Pn.__cache__={},f.ZipfileWalker=Pn,Pn.prototype.GetState=Pn.prototype.GetState=function(){return Fo(this.ptr)},Pn.prototype.Next=Pn.prototype.Next=function(){return Ts(this.ptr)},Pn.prototype.GetTotalEntries=Pn.prototype.GetTotalEntries=function(){return _a(this.ptr)},Pn.prototype.GetCurrentEntrySize=Pn.prototype.GetCurrentEntrySize=function(){return ea(this.ptr)},Pn.prototype.GetCurrentEntryName=Pn.prototype.GetCurrentEntryName=function(){return Jt(ae(this.ptr))},Pn.prototype.GetCurrentEntryContent=Pn.prototype.GetCurrentEntryContent=function(){return be(ta(this.ptr),Yt)},Pn.prototype.__destroy__=Pn.prototype.__destroy__=function(){Le(this.ptr)},we?f:new Promise((b,$)=>{De=b,_e=$})}));K.exports=k,K.exports.default=k},6780:(K,Ee,y)=>{"use strict";y.d(Ee,{b:()=>f,c:()=>P,d:()=>D,e:()=>X,g:()=>ne,l:()=>Ie,s:()=>Ve,t:()=>de,w:()=>U});var C=y(1890),k=y(9335),L=y(6721);const f="ionViewWillLeave",P="ionViewDidLeave",D="ionViewWillUnload",F=le=>{le.tabIndex=-1,le.focus()},N=le=>null!==le.offsetParent,O="ion-last-focus",se_saveViewFocus=Re=>{if(k.e.get("focusManagerPriority",!1)){const we=document.activeElement;null!==we&&Re?.contains(we)&&we.setAttribute(O,"true")}},se_setViewFocus=Re=>{const Fe=k.e.get("focusManagerPriority",!1);if(Array.isArray(Fe)&&!Re.contains(document.activeElement)){const we=Re.querySelector(`[${O}]`);if(we&&N(we))return void F(we);for(const Je of Fe)switch(Je){case"content":const Dt=Re.querySelector('main, [role="main"]');if(Dt&&N(Dt))return void F(Dt);break;case"heading":const xe=Re.querySelector('h1, [role="heading"][aria-level="1"]');if(xe&&N(xe))return void F(xe);break;case"banner":const Ge=Re.querySelector('header, [role="banner"]');if(Ge&&N(Ge))return void F(Ge);break;default:(0,k.f)(`Unrecognized focus manager priority value ${Je}`)}F(Re)}},de=le=>new Promise((ye,Re)=>{(0,k.w)(()=>{Ce(le),Q(le).then(Fe=>{Fe.animation&&Fe.animation.destroy(),Z(le),ye(Fe)},Fe=>{Z(le),Re(Fe)})})}),Ce=le=>{const ye=le.enteringEl,Re=le.leavingEl;se_saveViewFocus(Re),z(ye,Re,le.direction),le.showGoBack?ye.classList.add("can-go-back"):ye.classList.remove("can-go-back"),Ve(ye,!1),ye.style.setProperty("pointer-events","none"),Re&&(Ve(Re,!1),Re.style.setProperty("pointer-events","none"))},Q=function(){var le=(0,C.A)(function*(ye){const Re=yield Y(ye);return Re&&k.B.isBrowser?ve(Re,ye):Ae(ye)});return function(Re){return le.apply(this,arguments)}}(),Z=le=>{const ye=le.enteringEl,Re=le.leavingEl;ye.classList.remove("ion-page-invisible"),ye.style.removeProperty("pointer-events"),void 0!==Re&&(Re.classList.remove("ion-page-invisible"),Re.style.removeProperty("pointer-events")),se_setViewFocus(ye)},Y=function(){var le=(0,C.A)(function*(ye){return ye.leavingEl&&ye.animated&&0!==ye.duration?ye.animationBuilder?ye.animationBuilder:"ios"===ye.mode?(yield Promise.resolve().then(y.bind(y,9805))).iosTransitionAnimation:(yield Promise.resolve().then(y.bind(y,1393))).mdTransitionAnimation:void 0});return function(Re){return le.apply(this,arguments)}}(),ve=function(){var le=(0,C.A)(function*(ye,Re){yield Ye(Re,!0);const Fe=ye(Re.baseEl,Re);_e(Re.enteringEl,Re.leavingEl);const we=yield De(Fe,Re);return Re.progressCallback&&Re.progressCallback(void 0),we&&ge(Re.enteringEl,Re.leavingEl),{hasCompleted:we,animation:Fe}});return function(Re,Fe){return le.apply(this,arguments)}}(),Ae=function(){var le=(0,C.A)(function*(ye){const Re=ye.enteringEl,Fe=ye.leavingEl,we=k.e.get("focusManagerPriority",!1);return yield Ye(ye,we),_e(Re,Fe),ge(Re,Fe),{hasCompleted:!0}});return function(Re){return le.apply(this,arguments)}}(),Ye=function(){var le=(0,C.A)(function*(ye,Re){(void 0!==ye.deepWait?ye.deepWait:Re)&&(yield Promise.all([X(ye.enteringEl),X(ye.leavingEl)])),yield te(ye.viewIsReady,ye.enteringEl)});return function(Re,Fe){return le.apply(this,arguments)}}(),te=function(){var le=(0,C.A)(function*(ye,Re){ye&&(yield ye(Re))});return function(Re,Fe){return le.apply(this,arguments)}}(),De=(le,ye)=>{const Re=ye.progressCallback,Fe=new Promise(we=>{le.onFinish(Je=>we(1===Je))});return Re?(le.progressStart(!0),Re(le)):le.play(),Fe},_e=(le,ye)=>{Ie(ye,f),Ie(le,"ionViewWillEnter")},ge=(le,ye)=>{Ie(le,"ionViewDidEnter"),Ie(ye,P)},Ie=(le,ye)=>{if(le){const Re=new CustomEvent(ye,{bubbles:!1,cancelable:!1});le.dispatchEvent(Re)}},U=()=>new Promise(le=>(0,L.r)(()=>(0,L.r)(()=>le()))),X=function(){var le=(0,C.A)(function*(ye){const Re=ye;if(Re){if(null!=Re.componentOnReady){if(null!=(yield Re.componentOnReady()))return}else if(null!=Re.__registerHost)return void(yield new Promise(we=>(0,L.r)(we)));yield Promise.all(Array.from(Re.children).map(X))}});return function(Re){return le.apply(this,arguments)}}(),Ve=(le,ye)=>{ye?(le.setAttribute("aria-hidden","true"),le.classList.add("ion-page-hidden")):(le.hidden=!1,le.removeAttribute("aria-hidden"),le.classList.remove("ion-page-hidden"))},z=(le,ye,Re)=>{void 0!==le&&(le.style.zIndex="back"===Re?"99":"101"),void 0!==ye&&(ye.style.zIndex="100")},ne=le=>le.classList.contains("ion-page")?le:le.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||le},6784:(K,Ee,y)=>{"use strict";var k=y(3948);Ee.J=k.default},6837:(K,Ee,y)=>{"use strict";var C=y(840),k=C("String.prototype.valueOf"),W=C("Object.prototype.toString"),f=y(5328)();K.exports=function(D){return"string"==typeof D||!(!D||"object"!=typeof D)&&(f?function(D){try{return k(D),!0}catch{return!1}}(D):"[object String]"===W(D))}},6959:(K,Ee,y)=>{"use strict";var C=y(6837),k=y(8979),L=y(6484),W=y(3016),R=y(7671);K.exports=function(P){return null==P||"object"!=typeof P&&"function"!=typeof P?null:C(P)?"String":k(P)?"Number":L(P)?"Boolean":W(P)?"Symbol":R(P)?"BigInt":void 0}},6969:(K,Ee,y)=>{"use strict";var C=y(592),k=y(6283),L=y(8447),W=y(78),R=y(7100),f=k.apply(W()),P=function(F,N){return f(Object,arguments)};C(P,{getPolyfill:W,implementation:L,shim:R}),K.exports=P},6998:K=>{"use strict";K.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},7031:K=>{var Ee,y;Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K.exports=y={rotl:function(C,k){return C<<k|C>>>32-k},rotr:function(C,k){return C<<32-k|C>>>k},endian:function(C){if(C.constructor==Number)return 16711935&y.rotl(C,8)|4278255360&y.rotl(C,24);for(var k=0;k<C.length;k++)C[k]=y.endian(C[k]);return C},randomBytes:function(C){for(var k=[];C>0;C--)k.push(Math.floor(256*Math.random()));return k},bytesToWords:function(C){for(var k=[],L=0,W=0;L<C.length;L++,W+=8)k[W>>>5]|=C[L]<<24-W%32;return k},wordsToBytes:function(C){for(var k=[],L=0;L<32*C.length;L+=8)k.push(C[L>>>5]>>>24-L%32&255);return k},bytesToHex:function(C){for(var k=[],L=0;L<C.length;L++)k.push((C[L]>>>4).toString(16)),k.push((15&C[L]).toString(16));return k.join("")},hexToBytes:function(C){for(var k=[],L=0;L<C.length;L+=2)k.push(parseInt(C.substr(L,2),16));return k},bytesToBase64:function(C){for(var k=[],L=0;L<C.length;L+=3)for(var W=C[L]<<16|C[L+1]<<8|C[L+2],R=0;R<4;R++)k.push(8*L+6*R<=8*C.length?Ee.charAt(W>>>6*(3-R)&63):"=");return k.join("")},base64ToBytes:function(C){C=C.replace(/[^A-Z0-9+\/]/gi,"");for(var k=[],L=0,W=0;L<C.length;W=++L%4)0!=W&&k.push((Ee.indexOf(C.charAt(L-1))&Math.pow(2,-2*W+8)-1)<<2*W|Ee.indexOf(C.charAt(L))>>>6-2*W);return k}}},7057:(K,Ee,y)=>{"use strict";var C=y(592),k=y(6283),L=y(1143),W=y(4198),R=y(8436),f=k(W());C(f,{getPolyfill:W,implementation:L,shim:R}),K.exports=f},7100:(K,Ee,y)=>{"use strict";var C=y(592),k=y(78);K.exports=function(){var W=k();return C(Object,{assign:W},{assign:function(){return Object.assign!==W}}),W}},7133:(K,Ee,y)=>{"use strict";y.d(Ee,{c:()=>P});var C=y(9335),k=y(575);let L;const R=(D,F,N)=>{const G=F.startsWith("animation")?(D=>(void 0===L&&(L=void 0===D.style.animationName&&void 0!==D.style.webkitAnimationName?"-webkit-":""),L))(D):"";D.style.setProperty(G+F,N)},f=(D=[],F)=>{if(void 0!==F){const N=Array.isArray(F)?F:[F];return[...D,...N]}return D},P=D=>{let F,N,G,O,I,A,Z,ge,Ie,U,ne,se=[],de=[],Ce=[],Q=!1,Y={},ve=[],Ae=[],Ye={},te=0,De=!1,_e=!1,X=!0,Ve=!1,z=!0,le=!1;const ye=D,Re=[],Fe=[],we=[],Je=[],Dt=[],xe=[],Ge=[],_t=[],gt=[],Ct=[],ot=[],At="function"==typeof AnimationEffect||void 0!==k.w&&"function"==typeof k.w.AnimationEffect,Ke="function"==typeof Element&&"function"==typeof Element.prototype.animate&&At,bt=()=>ot,Ot=(ke,Pt)=>{const Gt=Pt.findIndex(mr=>mr.c===ke);Gt>-1&&Pt.splice(Gt,1)},Ne=(ke,Pt)=>((Pt?.oneTimeCallback?Fe:Re).push({c:ke,o:Pt}),ne),ut=()=>{Ke&&(ot.forEach(ke=>{ke.cancel()}),ot.length=0)},Qt=()=>{xe.forEach(ke=>{ke?.parentNode&&ke.parentNode.removeChild(ke)}),xe.length=0},ii=()=>void 0!==I?I:Z?Z.getFill():"both",Me=()=>void 0!==ge?ge:void 0!==A?A:Z?Z.getDirection():"normal",Oe=()=>De?"linear":void 0!==G?G:Z?Z.getEasing():"linear",Zt=()=>_e?0:void 0!==Ie?Ie:void 0!==N?N:Z?Z.getDuration():0,Kn=()=>void 0!==O?O:Z?Z.getIterations():1,In=()=>void 0!==U?U:void 0!==F?F:Z?Z.getDelay():0,Po=()=>{0!==te&&(te--,0===te&&((()=>{gt.forEach(rr=>rr()),Ct.forEach(rr=>rr());const ke=X?1:0,Pt=ve,Gt=Ae,mr=Ye;Je.forEach(rr=>{const Wo=rr.classList;Pt.forEach(qo=>Wo.add(qo)),Gt.forEach(qo=>Wo.remove(qo));for(const qo in mr)mr.hasOwnProperty(qo)&&R(rr,qo,mr[qo])}),Ie=void 0,ge=void 0,U=void 0,Re.forEach(rr=>rr.c(ke,ne)),Fe.forEach(rr=>rr.c(ke,ne)),Fe.length=0,z=!0,X&&(Ve=!0),X=!0})(),Z&&Z.animationFinish()))},Si=()=>{(()=>{Ge.forEach(mr=>mr()),_t.forEach(mr=>mr());const ke=de,Pt=Ce,Gt=Y;Je.forEach(mr=>{const rr=mr.classList;ke.forEach(Wo=>rr.add(Wo)),Pt.forEach(Wo=>rr.remove(Wo));for(const Wo in Gt)Gt.hasOwnProperty(Wo)&&R(mr,Wo,Gt[Wo])})})(),se.length>0&&Ke&&(Je.forEach(ke=>{const Pt=ke.animate(se,{id:ye,delay:In(),duration:Zt(),easing:Oe(),iterations:Kn(),fill:ii(),direction:Me()});Pt.pause(),ot.push(Pt)}),ot.length>0&&(ot[0].onfinish=()=>{Po()})),Q=!0},zo=ke=>{ke=Math.min(Math.max(ke,0),.9999),Ke&&ot.forEach(Pt=>{Pt.currentTime=Pt.effect.getComputedTiming().delay+Zt()*ke,Pt.pause()})},Pe=ke=>{ot.forEach(Pt=>{Pt.effect.updateTiming({delay:In(),duration:Zt(),easing:Oe(),iterations:Kn(),fill:ii(),direction:Me()})}),void 0!==ke&&zo(ke)},dr=(ke=!1,Pt=!0,Gt)=>(ke&&Dt.forEach(mr=>{mr.update(ke,Pt,Gt)}),Ke&&Pe(Gt),ne),Gi=()=>{Q&&(Ke?ot.forEach(ke=>{ke.pause()}):Je.forEach(ke=>{R(ke,"animation-play-state","paused")}),le=!0)},da=ke=>new Promise(Pt=>{ke?.sync&&(_e=!0,Ne(()=>_e=!1,{oneTimeCallback:!0})),Q||Si(),Ve&&(Ke&&(zo(0),Pe()),Ve=!1),z&&(te=Dt.length+1,z=!1);const Gt=()=>{Ot(mr,Fe),Pt()},mr=()=>{Ot(Gt,we),Pt()};Ne(mr,{oneTimeCallback:!0}),(ke=>{we.push({c:ke,o:{oneTimeCallback:!0}})})(Gt),Dt.forEach(rr=>{rr.play()}),Ke?(ot.forEach(ke=>{ke.play()}),(0===se.length||0===Je.length)&&Po()):Po(),le=!1}),Vn=(ke,Pt)=>{const Gt=se[0];return void 0===Gt||void 0!==Gt.offset&&0!==Gt.offset?se=[{offset:0,[ke]:Pt},...se]:Gt[ke]=Pt,ne};return ne={parentAnimation:Z,elements:Je,childAnimations:Dt,id:ye,animationFinish:Po,from:Vn,to:(ke,Pt)=>{const Gt=se[se.length-1];return void 0===Gt||void 0!==Gt.offset&&1!==Gt.offset?se=[...se,{offset:1,[ke]:Pt}]:Gt[ke]=Pt,ne},fromTo:(ke,Pt,Gt)=>Vn(ke,Pt).to(ke,Gt),parent:ke=>(Z=ke,ne),play:da,pause:()=>(Dt.forEach(ke=>{ke.pause()}),Gi(),ne),stop:()=>{Dt.forEach(ke=>{ke.stop()}),Q&&(ut(),Q=!1),De=!1,_e=!1,z=!0,ge=void 0,Ie=void 0,U=void 0,te=0,Ve=!1,X=!0,le=!1,we.forEach(ke=>ke.c(0,ne)),we.length=0},destroy:ke=>(Dt.forEach(Pt=>{Pt.destroy(ke)}),(ke=>{ut(),ke&&Qt()})(ke),Je.length=0,Dt.length=0,se.length=0,Re.length=0,Fe.length=0,Q=!1,z=!0,ne),keyframes:ke=>{const Pt=se!==ke;return se=ke,Pt&&(ke=>{Ke&&bt().forEach(Pt=>{const Gt=Pt.effect;if(Gt.setKeyframes)Gt.setKeyframes(ke);else{const mr=new KeyframeEffect(Gt.target,ke,Gt.getTiming());Pt.effect=mr}})})(se),ne},addAnimation:ke=>{if(null!=ke)if(Array.isArray(ke))for(const Pt of ke)Pt.parent(ne),Dt.push(Pt);else ke.parent(ne),Dt.push(ke);return ne},addElement:ke=>{if(null!=ke)if(1===ke.nodeType)Je.push(ke);else if(ke.length>=0)for(let Pt=0;Pt<ke.length;Pt++)Je.push(ke[Pt]);else(0,C.j)("createAnimation - Invalid addElement value.");return ne},update:dr,fill:ke=>(I=ke,dr(!0),ne),direction:ke=>(A=ke,dr(!0),ne),iterations:ke=>(O=ke,dr(!0),ne),duration:ke=>(!Ke&&0===ke&&(ke=1),N=ke,dr(!0),ne),easing:ke=>(G=ke,dr(!0),ne),delay:ke=>(F=ke,dr(!0),ne),getWebAnimations:bt,getKeyframes:()=>se,getFill:ii,getDirection:Me,getDelay:In,getIterations:Kn,getEasing:Oe,getDuration:Zt,afterAddRead:ke=>(gt.push(ke),ne),afterAddWrite:ke=>(Ct.push(ke),ne),afterClearStyles:(ke=[])=>{for(const Pt of ke)Ye[Pt]="";return ne},afterStyles:(ke={})=>(Ye=ke,ne),afterRemoveClass:ke=>(Ae=f(Ae,ke),ne),afterAddClass:ke=>(ve=f(ve,ke),ne),beforeAddRead:ke=>(Ge.push(ke),ne),beforeAddWrite:ke=>(_t.push(ke),ne),beforeClearStyles:(ke=[])=>{for(const Pt of ke)Y[Pt]="";return ne},beforeStyles:(ke={})=>(Y=ke,ne),beforeRemoveClass:ke=>(Ce=f(Ce,ke),ne),beforeAddClass:ke=>(de=f(de,ke),ne),onFinish:Ne,isRunning:()=>0!==te&&!le,progressStart:(ke=!1,Pt)=>(Dt.forEach(Gt=>{Gt.progressStart(ke,Pt)}),Gi(),De=ke,Q||Si(),dr(!1,!0,Pt),ne),progressStep:ke=>(Dt.forEach(Pt=>{Pt.progressStep(ke)}),zo(ke),ne),progressEnd:(ke,Pt,Gt)=>(De=!1,Dt.forEach(mr=>{mr.progressEnd(ke,Pt,Gt)}),void 0!==Gt&&(Ie=Gt),Ve=!1,X=!0,0===ke?(ge="reverse"===Me()?"normal":"reverse","reverse"===ge&&(X=!1),Ke?(dr(),zo(1-Pt)):(U=(1-Pt)*Zt()*-1,dr(!1,!1))):1===ke&&(Ke?(dr(),zo(Pt)):(U=Pt*Zt()*-1,dr(!1,!1))),void 0!==ke&&!Z&&da(),ne)}}},7268:K=>{"use strict";var C,k,Ee=Function.prototype.toString,y="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof y&&"function"==typeof Object.defineProperty)try{C=Object.defineProperty({},"length",{get:function(){throw k}}),k={},y(function(){throw 42},null,C)}catch(Ce){Ce!==k&&(y=null)}else y=null;var L=/^\s*class\b/,W=function(Q){try{var Z=Ee.call(Q);return L.test(Z)}catch{return!1}},R=function(Q){try{return!W(Q)&&(Ee.call(Q),!0)}catch{return!1}},f=Object.prototype.toString,I="function"==typeof Symbol&&!!Symbol.toStringTag,A=!(0 in[,]),se=function(){return!1};if("object"==typeof document){var de=document.all;f.call(de)===f.call(document.all)&&(se=function(Q){if((A||!Q)&&(typeof Q>"u"||"object"==typeof Q))try{var Z=f.call(Q);return("[object HTMLAllCollection]"===Z||"[object HTML document.all class]"===Z||"[object HTMLCollection]"===Z||"[object Object]"===Z)&&null==Q("")}catch{}return!1})}K.exports=y?function(Q){if(se(Q))return!0;if(!Q||"function"!=typeof Q&&"object"!=typeof Q)return!1;try{y(Q,null,C)}catch(Z){if(Z!==k)return!1}return!W(Q)&&R(Q)}:function(Q){if(se(Q))return!0;if(!Q||"function"!=typeof Q&&"object"!=typeof Q)return!1;if(I)return R(Q);if(W(Q))return!1;var Z=f.call(Q);return!("[object Function]"!==Z&&"[object GeneratorFunction]"!==Z&&!/^\[object HTML/.test(Z))&&R(Q)}},7308:(K,Ee)=>{"use strict";var y=Object.prototype.hasOwnProperty;function k(f){try{return decodeURIComponent(f.replace(/\+/g," "))}catch{return null}}function L(f){try{return encodeURIComponent(f)}catch{return null}}Ee.stringify=function R(f,P){P=P||"";var F,N,D=[];for(N in"string"!=typeof P&&(P="?"),f)if(y.call(f,N)){if(!(F=f[N])&&(null==F||isNaN(F))&&(F=""),N=L(N),F=L(F),null===N||null===F)continue;D.push(N+"="+F)}return D.length?P+D.join("&"):""},Ee.parse=function W(f){for(var F,P=/([^=?#&]+)=?([^&]*)/g,D={};F=P.exec(f);){var N=k(F[1]),G=k(F[2]);null===N||null===G||N in D||(D[N]=G)}return D}},7433:(K,Ee,y)=>{"use strict";y.d(Ee,{B:()=>ot,F:()=>Ot,G:()=>At,O:()=>Ke,a:()=>Ce,b:()=>Q,c:()=>Ae,d:()=>bt,e:()=>$t,f:()=>Re,g:()=>we,h:()=>xe,i:()=>_t,j:()=>te,k:()=>De,l:()=>Z,m:()=>Y,n:()=>N,o:()=>le,q:()=>G,s:()=>Ct});var C=y(1890),k=y(575),L=y(6721),W=y(4896),R=y(9335),f=y(9919),P=y(5827),D=y(566);const F='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',N=(Ze,Ne)=>{const ze=Ze.querySelector(F);O(ze,Ne??Ze)},G=(Ze,Ne)=>{const ze=Array.from(Ze.querySelectorAll(F));O(ze.length>0?ze[ze.length-1]:null,Ne??Ze)},O=(Ze,Ne)=>{let ze=Ze;const ut=Ze?.shadowRoot;if(ut&&(ze=ut.querySelector(F)||Ze),ze){const Qt=ze.closest("ion-radio-group");Qt?Qt.setFocus():(0,L.n)(ze)}else Ne.focus()};let I=0,A=0;const se=new WeakMap,de=Ze=>({create:Ne=>_e(Ze,Ne),dismiss:(Ne,ze,ut)=>Ve(document,Ne,ze,Ze,ut),getTop:()=>(0,C.A)(function*(){return le(document,Ze)})()}),Ce=de("ion-alert"),Q=de("ion-action-sheet"),Z=de("ion-loading"),Y=de("ion-modal"),Ae=de("ion-popover"),te=Ze=>{typeof document<"u"&&X(document);const Ne=I++;Ze.overlayIndex=Ne},De=Ze=>(Ze.hasAttribute("id")||(Ze.id="ion-overlay-"+ ++A),Ze.id),_e=(Ze,Ne)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ze).then(()=>{const ze=document.createElement(Ze);return ze.classList.add("overlay-hidden"),Object.assign(ze,Object.assign(Object.assign({},Ne),{hasController:!0})),Je(document).appendChild(ze),new Promise(ut=>(0,L.c)(ze,ut))}):Promise.resolve(),Ie=(Ze,Ne)=>{let ze=Ze;const ut=Ze?.shadowRoot;ut&&(ze=ut.querySelector(F)||Ze),ze?(0,L.n)(ze):Ne.focus()},X=Ze=>{0===I&&(I=1,Ze.addEventListener("focus",Ne=>{((Ze,Ne)=>{const ze=le(Ne,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),ut=Ze.target;ze&&ut&&!ze.classList.contains(Ot)&&(ze.shadowRoot?(()=>{if(ze.contains(ut))ze.lastFocus=ut;else if("ION-TOAST"===ut.tagName)Ie(ze.lastFocus,ze);else{const Nn=ze.lastFocus;N(ze),Nn===Ne.activeElement&&G(ze),ze.lastFocus=Ne.activeElement}})():(()=>{if(ze===ut)ze.lastFocus=void 0;else if("ION-TOAST"===ut.tagName)Ie(ze.lastFocus,ze);else{const Nn=(0,L.g)(ze);if(!Nn.contains(ut))return;const sn=Nn.querySelector(".ion-overlay-wrapper");if(!sn)return;if(sn.contains(ut)||ut===Nn.querySelector("ion-backdrop"))ze.lastFocus=ut;else{const bn=ze.lastFocus;N(sn,ze),bn===Ne.activeElement&&G(sn,ze),ze.lastFocus=Ne.activeElement}}})())})(Ne,Ze)},!0),Ze.addEventListener("ionBackButton",Ne=>{const ze=le(Ze);ze?.backdropDismiss&&Ne.detail.register(W.OVERLAY_BACK_BUTTON_PRIORITY,()=>{ze.dismiss(void 0,ot)})}),(0,W.shouldUseCloseWatcher)()||Ze.addEventListener("keydown",Ne=>{if("Escape"===Ne.key){const ze=le(Ze);ze?.backdropDismiss&&ze.dismiss(void 0,ot)}}))},Ve=(Ze,Ne,ze,ut,Qt)=>{const pn=le(Ze,ut,Qt);return pn?pn.dismiss(Ne,ze):Promise.reject("overlay does not exist")},ne=(Ze,Ne)=>((Ze,Ne)=>(void 0===Ne&&(Ne="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ze.querySelectorAll(Ne)).filter(ze=>ze.overlayIndex>0)))(Ze,Ne).filter(ze=>!(Ze=>Ze.classList.contains("overlay-hidden"))(ze)),le=(Ze,Ne,ze)=>{const ut=ne(Ze,Ne);return void 0===ze?ut[ut.length-1]:ut.find(Qt=>Qt.id===ze)},ye=(Ze=!1)=>{const ze=Je(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ze&&(Ze?ze.setAttribute("aria-hidden","true"):ze.removeAttribute("aria-hidden"))},Re=function(){var Ze=(0,C.A)(function*(Ne,ze,ut,Qt,pn){var Nn,sn;if(Ne.presented)return;"ION-TOAST"!==Ne.el.tagName&&(ye(!0),document.body.classList.add(D.B)),Dn(Ne.el),En(Ne.el),Ne.presented=!0,Ne.willPresent.emit(),null===(Nn=Ne.willPresentShorthand)||void 0===Nn||Nn.emit();const bn=(0,f.b)(Ne),lr=Ne.enterAnimation?Ne.enterAnimation:R.e.get(ze,"ios"===bn?ut:Qt);(yield Dt(Ne,lr,Ne.el,pn))&&(Ne.didPresent.emit(),null===(sn=Ne.didPresentShorthand)||void 0===sn||sn.emit()),"ION-TOAST"!==Ne.el.tagName&&Fe(Ne.el),Ne.keyboardClose&&(null===document.activeElement||!Ne.el.contains(document.activeElement))&&Ne.el.focus(),Ne.el.removeAttribute("aria-hidden")});return function(ze,ut,Qt,pn,Nn){return Ze.apply(this,arguments)}}(),Fe=function(){var Ze=(0,C.A)(function*(Ne){let ze=document.activeElement;if(!ze)return;const ut=ze?.shadowRoot;ut&&(ze=ut.querySelector(F)||ze),yield Ne.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&ze.focus()});return function(ze){return Ze.apply(this,arguments)}}(),we=function(){var Ze=(0,C.A)(function*(Ne,ze,ut,Qt,pn,Nn,sn){var bn,lr;if(!Ne.presented)return!1;const ro=(void 0!==k.d?ne(k.d):[]).filter(zr=>"ION-TOAST"!==zr.tagName);1===ro.length&&ro[0].id===Ne.el.id&&(ye(!1),document.body.classList.remove(D.B)),Ne.presented=!1;try{En(Ne.el),Ne.el.style.setProperty("pointer-events","none"),Ne.willDismiss.emit({data:ze,role:ut}),null===(bn=Ne.willDismissShorthand)||void 0===bn||bn.emit({data:ze,role:ut});const zr=(0,f.b)(Ne),Oo=Ne.leaveAnimation?Ne.leaveAnimation:R.e.get(Qt,"ios"===zr?pn:Nn);ut!==At&&(yield Dt(Ne,Oo,Ne.el,sn)),Ne.didDismiss.emit({data:ze,role:ut}),null===(lr=Ne.didDismissShorthand)||void 0===lr||lr.emit({data:ze,role:ut}),(se.get(Ne)||[]).forEach(Jt=>Jt.destroy()),se.delete(Ne),Ne.el.classList.add("overlay-hidden"),Ne.el.style.removeProperty("pointer-events"),void 0!==Ne.el.lastFocus&&(Ne.el.lastFocus=void 0)}catch(zr){(0,R.j)(`[${Ne.el.tagName.toLowerCase()}] - `,zr)}return Ne.el.remove(),qt(),!0});return function(ze,ut,Qt,pn,Nn,sn,bn){return Ze.apply(this,arguments)}}(),Je=Ze=>Ze.querySelector("ion-app")||Ze.body,Dt=function(){var Ze=(0,C.A)(function*(Ne,ze,ut,Qt){ut.classList.remove("overlay-hidden");const Nn=ze(Ne.el,Qt);(!Ne.animated||!R.e.getBoolean("animated",!0))&&Nn.duration(0),Ne.keyboardClose&&Nn.beforeAddWrite(()=>{const bn=ut.ownerDocument.activeElement;bn?.matches("input,ion-input, ion-textarea")&&bn.blur()});const sn=se.get(Ne)||[];return se.set(Ne,[...sn,Nn]),yield Nn.play(),!0});return function(ze,ut,Qt,pn){return Ze.apply(this,arguments)}}(),xe=(Ze,Ne)=>{let ze;const ut=new Promise(Qt=>ze=Qt);return Ge(Ze,Ne,Qt=>{ze(Qt.detail)}),ut},Ge=(Ze,Ne,ze)=>{const ut=Qt=>{(0,L.m)(Ze,Ne,ut),ze(Qt)};(0,L.f)(Ze,Ne,ut)},_t=Ze=>"cancel"===Ze||Ze===ot,gt=Ze=>Ze(),Ct=(Ze,Ne)=>{if("function"==typeof Ze)return R.e.get("_zoneGate",gt)(()=>{try{return Ze(Ne)}catch(ut){throw ut}})},ot="backdrop",At="gesture",Ke=39,bt=Ze=>{let ze,Ne=!1;const ut=(0,P.C)(),Qt=(sn=!1)=>{if(ze&&!sn)return{delegate:ze,inline:Ne};const{el:bn,hasController:lr,delegate:gr}=Ze;return Ne=null!==bn.parentNode&&!lr,ze=Ne?gr||ut:gr,{inline:Ne,delegate:ze}};return{attachViewToDom:function(){var sn=(0,C.A)(function*(bn){const{delegate:lr}=Qt(!0);if(lr)return yield lr.attachViewToDom(Ze.el,bn);const{hasController:gr}=Ze;if(gr&&void 0!==bn)throw new Error("framework delegate is missing");return null});return function(lr){return sn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:sn}=Qt();sn&&void 0!==Ze.el&&sn.removeViewFromDom(Ze.el.parentElement,Ze.el)}}},$t=()=>{let Ze;const Ne=()=>{Ze&&(Ze(),Ze=void 0)};return{addClickListener:(ut,Qt)=>{Ne();const pn=void 0!==Qt?document.getElementById(Qt):null;pn?Ze=((sn,bn)=>{const lr=()=>{bn.present()};return sn.addEventListener("click",lr),()=>{sn.removeEventListener("click",lr)}})(pn,ut):(0,R.f)(`[${ut.tagName.toLowerCase()}] - A trigger element with the ID "${Qt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ut)},removeClickListener:Ne}},En=Ze=>{void 0!==k.d&&(0,f.a)("android")&&Ze.setAttribute("aria-hidden","true")},Dn=Ze=>{var Ne;if(void 0===k.d)return;const ze=ne(k.d);for(let ut=ze.length-1;ut>=0;ut--){const Qt=ze[ut],pn=null!==(Ne=ze[ut+1])&&void 0!==Ne?Ne:Ze;(pn.hasAttribute("aria-hidden")||"ION-TOAST"!==pn.tagName)&&Qt.setAttribute("aria-hidden","true")}},qt=()=>{if(void 0===k.d)return;const Ze=ne(k.d);for(let Ne=Ze.length-1;Ne>=0;Ne--){const ze=Ze[Ne];if(ze.removeAttribute("aria-hidden"),"ION-TOAST"!==ze.tagName)break}},Ot="ion-disable-focus-trap"},7510:(K,Ee,y)=>{var L,C=y(5e3).default,k=(L=typeof document<"u"?document.currentScript?.src:void 0,C(function*(W={}){var f=W,P="object"==typeof window,D=typeof WorkerGlobalScope<"u",G=("object"==typeof process&&process.versions?.node&&process,"./this.program"),O=(u,E)=>{throw E};D&&(L=self.location.href);var se,de,I="";if(P||D){try{I=new URL(".",L).href}catch{}D&&(de=u=>{var E=new XMLHttpRequest;return E.open("GET",u,!1),E.responseType="arraybuffer",E.send(null),new Uint8Array(E.response)}),se=function(){var u=C(function*(E){var oe=yield fetch(E,{credentials:"same-origin"});if(oe.ok)return oe.arrayBuffer();throw new Error(oe.status+" : "+oe.url)});return function(oe){return u.apply(this,arguments)}}()}var Z,ve,Ce=console.log.bind(console),Q=console.error.bind(console),Y=!1;function Ae(u,E){u||Ke(E)}function te(){if(!Y){var u=pt();0==u&&(u+=4);var E=ne[u>>2],oe=ne[u+4>>2];(34821223!=E||2310721022!=oe)&&Ke(`Stack overflow! Stack cookie has been overwritten at ${zr(u)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${zr(oe)} ${zr(E)}`),1668509029!=ne[0]&&Ke("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var De,_e,ge,Ie,U,z,ne,ye,Re,we=!1;function Je(){var u=ge.buffer;Ie=new Int8Array(u),new Int16Array(u),f.HEAPU8=U=new Uint8Array(u),new Uint16Array(u),z=new Int32Array(u),f.HEAPU32=ne=new Uint32Array(u),new Float32Array(u),ye=new Float64Array(u),Re=new BigInt64Array(u),new BigUint64Array(u)}var bt,gt=0,Ct=null;function Ke(u){f.onAbort?.(u),Q(u="Aborted("+u+")"),Y=!0,u+=". Build with -sASSERTIONS for more info.";var E=new WebAssembly.RuntimeError(u);throw _e?.(E),E}function qt(){return(qt=C(function*(u){if(!Z)try{var E=yield se(u);return new Uint8Array(E)}catch{}return function En(u){if(u==bt&&Z)return new Uint8Array(Z);if(de)return de(u);throw"both async and sync fetching of the wasm failed"}(u)})).apply(this,arguments)}function Ze(){return Ze=C(function*(u,E){try{var oe=yield function Dn(u){return qt.apply(this,arguments)}(u);return yield WebAssembly.instantiate(oe,E)}catch(Kt){Q(`failed to asynchronously prepare wasm: ${Kt}`),Ke(Kt)}}),Ze.apply(this,arguments)}function ze(){return ze=C(function*(u,E,oe){if(!u&&"function"==typeof WebAssembly.instantiateStreaming)try{var lt=fetch(E,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(lt,oe)}catch(kn){Q(`wasm streaming compile failed: ${kn}`),Q("falling back to ArrayBuffer instantiation")}return function Ot(u,E){return Ze.apply(this,arguments)}(E,oe)}),ze.apply(this,arguments)}function pn(){return pn=C(function*(){function u(kn,Zn){return ge=(Ul=kn.exports).u,Je(),Zr=Ul.Ed,function qa(u){f._main=nt=u.w,f._webidl_free=u.x,f._webidl_malloc=u.y,f._emscripten_bind_VoidPtr___destroy___0=Pi=u.z,f._emscripten_bind_Cloudpilot_Cloudpilot_0=Ko=u.A,f._emscripten_bind_Cloudpilot_Malloc_1=pa=u.B,f._emscripten_bind_Cloudpilot_Free_1=ys=u.C,f._emscripten_bind_Cloudpilot_Nullptr_0=Ws=u.D,f._emscripten_bind_Cloudpilot_EnableLogging_1=Yo=u.E,f._emscripten_bind_Cloudpilot_InitializeSession_3=bs=u.F,f._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=Ci=u.G,f._emscripten_bind_Cloudpilot_RunEmulation_1=Ss=u.H,f._emscripten_bind_Cloudpilot_SetClockFactor_1=Cs=u.I,f._emscripten_bind_Cloudpilot_CopyFrame_0=Wi=u.J,f._emscripten_bind_Cloudpilot_IsScreenDirty_0=ho=u.K,f._emscripten_bind_Cloudpilot_MarkScreenClean_0=wi=u.L,f._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=qi=u.M,f._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=Zi=u.N,f._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=qs=u.O,f._emscripten_bind_Cloudpilot_QueuePenMove_2=ws=u.P,f._emscripten_bind_Cloudpilot_QueuePenUp_0=li=u.Q,f._emscripten_bind_Cloudpilot_QueueButtonDown_1=Xo=u.R,f._emscripten_bind_Cloudpilot_QueueButtonUp_1=Ei=u.S,f._emscripten_bind_Cloudpilot_QueueKeyboardEvent_1=zt=u.T,f._emscripten_bind_Cloudpilot_IsPowerOff_0=un=u.U,f._emscripten_bind_Cloudpilot_IsUIInitialized_0=ha=u.V,f._emscripten_bind_Cloudpilot_GetOSVersion_0=Zs=u.W,f._emscripten_bind_Cloudpilot_IsSetupComplete_0=wo=u.X,f._emscripten_bind_Cloudpilot_Reset_0=Es=u.Y,f._emscripten_bind_Cloudpilot_ResetNoExtensions_0=Fi=u.Z,f._emscripten_bind_Cloudpilot_ResetHard_0=Ki=u._,f._emscripten_bind_Cloudpilot_InstallDb_2=Ds=u.$,f._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=ja=u.aa,f._emscripten_bind_Cloudpilot_GetMemoryPtr_0=Ks=u.ba,f._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=Is=u.ca,f._emscripten_bind_Cloudpilot_GetMemorySize_0=ga=u.da,f._emscripten_bind_Cloudpilot_ImportMemoryImage_2=Ys=u.ea,f._emscripten_bind_Cloudpilot_GetRomPtr_0=Xs=u.fa,f._emscripten_bind_Cloudpilot_GetRomSize_0=ma=u.ga,f._emscripten_bind_Cloudpilot_GetSavestatePtr_0=Qs=u.ha,f._emscripten_bind_Cloudpilot_GetSavestateSize_0=Eo=u.ia,f._emscripten_bind_Cloudpilot_SaveState_0=Js=u.ja,f._emscripten_bind_Cloudpilot_LoadState_2=so=u.ka,f._emscripten_bind_Cloudpilot_GetHotsyncName_0=Yi=u.la,f._emscripten_bind_Cloudpilot_SetHotsyncName_1=va=u.ma,f._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=Va=u.na,f._emscripten_bind_Cloudpilot_StartBackup_0=Fo=u.oa,f._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=Ts=u.pa,f._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=_a=u.qa,f._emscripten_bind_Cloudpilot_IsSuspended_0=ea=u.ra,f._emscripten_bind_Cloudpilot_GetSuspendContext_0=ae=u.sa,f._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=ta=u.ta,f._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=Le=u.ua,f._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=ci=u.va,f._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=ya=u.wa,f._emscripten_bind_Cloudpilot_LaunchAppByName_1=As=u.xa,f._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=Li=u.ya,f._emscripten_bind_Cloudpilot_ClearExternalStorage_0=ll=u.za,f._emscripten_bind_Cloudpilot_AllocateCard_2=p=u.Aa,f._emscripten_bind_Cloudpilot_AdoptCard_3=v=u.Ba,f._emscripten_bind_Cloudpilot_MountCard_1=w=u.Ca,f._emscripten_bind_Cloudpilot_RemoveCard_1=x=u.Da,f._emscripten_bind_Cloudpilot_GetCardData_1=ee=u.Ea,f._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=J=u.Fa,f._emscripten_bind_Cloudpilot_GetCardSize_1=Ue=u.Ga,f._emscripten_bind_Cloudpilot_RemountCards_0=me=u.Ha,f._emscripten_bind_Cloudpilot_GetSupportLevel_1=qe=u.Ia,f._emscripten_bind_Cloudpilot_GetMountedKey_0=be=u.Ja,f._emscripten_bind_Cloudpilot_GetTransportIR_0=je=u.Ka,f._emscripten_bind_Cloudpilot_GetTransportSerial_0=ft=u.La,f._emscripten_bind_Cloudpilot___destroy___0=dt=u.Ma,f._emscripten_bind_RomInfo_RomInfo_2=kt=u.Na,f._emscripten_bind_RomInfo_IsValid_0=mt=u.Oa,f._emscripten_bind_RomInfo_CardVersion_0=Rt=u.Pa,f._emscripten_bind_RomInfo_CardName_0=cr=u.Qa,f._emscripten_bind_RomInfo_RomVersion_0=Yt=u.Ra,f._emscripten_bind_RomInfo_RomVersionString_0=Xt=u.Sa,f._emscripten_bind_RomInfo_Supports_1=$n=u.Ta,f._emscripten_bind_RomInfo___destroy___0=an=u.Ua,f._emscripten_bind_Frame_GetLineWidth_0=wt=u.Va,f._emscripten_bind_Frame_GetBpp_0=Hn=u.Wa,f._emscripten_bind_Frame_GetLines_0=hn=u.Xa,f._emscripten_bind_Frame_GetMargin_0=Pn=u.Ya,f._emscripten_bind_Frame_GetBytesPerLine_0=b=u.Za,f._emscripten_bind_Frame_GetFirstDirtyLine_0=$=u._a,f._emscripten_bind_Frame_GetLastDirtyLine_0=ce=u.$a,f._emscripten_bind_Frame_GetHasChanges_0=Be=u.ab,f._emscripten_bind_Frame_GetBuffer_0=Ft=u.bb,f._emscripten_bind_Frame_GetBufferSize_0=on=u.cb,f._emscripten_bind_Frame_GetScaleX_0=mn=u.db,f._emscripten_bind_Frame_GetScaleY_0=Gn=u.eb,f._emscripten_bind_Frame___destroy___0=Kr=u.fb,f._emscripten_bind_DbBackup_Init_1=dn=u.gb,f._emscripten_bind_DbBackup_IsInProgress_0=xr=u.hb,f._emscripten_bind_DbBackup_IsDone_0=Vr=u.ib,f._emscripten_bind_DbBackup_GetCurrentDatabase_0=fr=u.jb,f._emscripten_bind_DbBackup_Save_0=Nt=u.kb,f._emscripten_bind_DbBackup_Skip_0=Pr=u.lb,f._emscripten_bind_DbBackup_GetArchivePtr_0=tr=u.mb,f._emscripten_bind_DbBackup_GetArchiveSize_0=Mr=u.nb,f._emscripten_bind_DbBackup___destroy___0=pr=u.ob,f._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=or=u.pb,f._emscripten_bind_SuspendContextClipboardCopy_Resume_0=g=u.qb,f._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=j=u.rb,f._emscripten_bind_SuspendContextClipboardCopy___destroy___0=Se=u.sb,f._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=st=u.tb,f._emscripten_bind_SuspendContextClipboardPaste_Resume_1=Wt=u.ub,f._emscripten_bind_SuspendContextClipboardPaste___destroy___0=An=u.vb,f._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=Wn=u.wb,f._emscripten_bind_SuspendContextNetworkConnect_Resume_0=Bn=u.xb,f._emscripten_bind_SuspendContextNetworkConnect___destroy___0=Ur=u.yb,f._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=Ua=u.zb,f._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=kl=u.Ab,f._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=Rl=u.Bb,f._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=ba=u.Cb,f._emscripten_bind_SuspendContextNetworkRpc___destroy___0=Lo=u.Db,f._emscripten_bind_SuspendContextSerialSync_Cancel_0=bc=u.Eb,f._emscripten_bind_SuspendContextSerialSync_Resume_0=rd=u.Fb,f._emscripten_bind_SuspendContextSerialSync___destroy___0=ao=u.Gb,f._emscripten_bind_SuspendContext_GetKind_0=ct=u.Hb,f._emscripten_bind_SuspendContext_Cancel_0=ln=u.Ib,f._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=lo=u.Jb,f._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=Qo=u.Kb,f._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=Mo=u.Lb,f._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=cl=u.Mb,f._emscripten_bind_SuspendContext_AsContextSerialSync_0=Sc=u.Nb,f._emscripten_bind_SuspendContext___destroy___0=ir=u.Ob,f._emscripten_bind_SessionImage_SessionImage_0=kr=u.Pb,f._emscripten_bind_SessionImage_GetDeviceId_0=Xi=u.Qb,f._emscripten_bind_SessionImage_SetDeviceId_1=xn=u.Rb,f._emscripten_bind_SessionImage_GetRomImage_0=ul=u.Sb,f._emscripten_bind_SessionImage_GetRomImageSize_0=nu=u.Tb,f._emscripten_bind_SessionImage_SetRomImage_2=Nl=u.Ub,f._emscripten_bind_SessionImage_GetMemoryImage_0=go=u.Vb,f._emscripten_bind_SessionImage_GetMemoryImageSize_0=Ha=u.Wb,f._emscripten_bind_SessionImage_SetMemoryImage_2=Ol=u.Xb,f._emscripten_bind_SessionImage_GetMetadata_0=Sa=u.Yb,f._emscripten_bind_SessionImage_GetMetadataSize_0=Cc=u.Zb,f._emscripten_bind_SessionImage_SetMetadata_2=kf=u._b,f._emscripten_bind_SessionImage_GetSavestate_0=Ga=u.$b,f._emscripten_bind_SessionImage_GetSavestateSize_0=od=u.ac,f._emscripten_bind_SessionImage_SetSavestate_2=dl=u.bc,f._emscripten_bind_SessionImage_GetVersion_0=$i=u.cc,f._emscripten_bind_SessionImage_Serialize_0=Pl=u.dc,f._emscripten_bind_SessionImage_GetSerializedImage_0=rn=u.ec,f._emscripten_bind_SessionImage_GetSerializedImageSize_0=id=u.fc,f._emscripten_bind_SessionImage_Deserialize_2=za=u.gc,f._emscripten_bind_SessionImage___destroy___0=Ca=u.hc,f._emscripten_bind_SkinLoader_SkinLoader_1=ru=u.ic,f._emscripten_bind_SkinLoader_GetData_0=Fl=u.jc,f._emscripten_bind_SkinLoader_GetSize_0=Yr=u.kc,f._emscripten_bind_SkinLoader___destroy___0=Xr=u.lc,f._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=ui=u.mc,f._emscripten_bind_EmTransportSerialBuffer_Receive_0=Rf=u.nc,f._emscripten_bind_EmTransportSerialBuffer_Send_3=wa=u.oc,f._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=Ll=u.pc,f._emscripten_bind_EmTransportSerialBuffer_Rts_0=Bi=u.qc,f._emscripten_bind_EmTransportSerialBuffer_Dtr_0=Wa=u.rc,f._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=j_=u.sc,f._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=V_=u.tc,f._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=Ea=u.uc,f._emscripten_bind_EmTransportSerialBuffer_GetParity_0=Nf=u.vc,f._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=U_=u.wc,f._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=Xh=u.xc,f._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=ou=u.yc,f._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=H_=u.zc,f._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=G_=u.Ac,f._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=z_=u.Bc,f._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=W_=u.Cc,f._emscripten_bind_EmTransportSerialBuffer___destroy___0=q_=u.Dc,f._emscripten_bind_GunzipContext_GunzipContext_3=Z_=u.Ec,f._emscripten_bind_GunzipContext_GetState_0=Qh=u.Fc,f._emscripten_bind_GunzipContext_Continue_0=K_=u.Gc,f._emscripten_bind_GunzipContext_GetUncompressedData_0=Y_=u.Hc,f._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=X_=u.Ic,f._emscripten_bind_GunzipContext_GetUncompressedSize_0=Q_=u.Jc,f._emscripten_bind_GunzipContext_GetError_0=Of=u.Kc,f._emscripten_bind_GunzipContext___destroy___0=Pf=u.Lc,f._emscripten_bind_ZipfileWalker_ZipfileWalker_2=J_=u.Mc,f._emscripten_bind_ZipfileWalker_GetState_0=ey=u.Nc,f._emscripten_bind_ZipfileWalker_Next_0=ty=u.Oc,f._emscripten_bind_ZipfileWalker_GetTotalEntries_0=Ff=u.Pc,f._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=Lf=u.Qc,f._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=ko=u.Rc,f._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=Jh=u.Sc,f._emscripten_bind_ZipfileWalker___destroy___0=$l=u.Tc,f._emscripten_bind_SessionFile5_SessionFile5_0=bo=u.Uc,f._emscripten_bind_SessionFile5_IsSessionFile_2=eg=u.Vc,f._emscripten_bind_SessionFile5_GetDeviceId_0=Bl=u.Wc,f._emscripten_bind_SessionFile5_SetDeviceId_1=fl=u.Xc,f._emscripten_bind_SessionFile5_GetMetadata_0=sd=u.Yc,f._emscripten_bind_SessionFile5_GetMetadataSize_0=di=u.Zc,f._emscripten_bind_SessionFile5_SetMetadata_2=tg=u._c,f._emscripten_bind_SessionFile5_GetNor_0=ad=u.$c,f._emscripten_bind_SessionFile5_GetNorSize_0=ng=u.ad,f._emscripten_bind_SessionFile5_SetNor_2=Jo=u.bd,f._emscripten_bind_SessionFile5_GetNand_0=$f=u.cd,f._emscripten_bind_SessionFile5_GetNandSize_0=Bf=u.dd,f._emscripten_bind_SessionFile5_SetNand_2=jf=u.ed,f._emscripten_bind_SessionFile5_GetMemory_0=iu=u.fd,f._emscripten_bind_SessionFile5_GetMemorySize_0=ld=u.gd,f._emscripten_bind_SessionFile5_SetMemory_2=jl=u.hd,f._emscripten_bind_SessionFile5_GetSavestate_0=su=u.id,f._emscripten_bind_SessionFile5_GetSavestateSize_0=cd=u.jd,f._emscripten_bind_SessionFile5_SetSavestate_2=Da=u.kd,f._emscripten_bind_SessionFile5_GetRamSize_0=Vf=u.ld,f._emscripten_bind_SessionFile5_SetRamSize_1=Uf=u.md,f._emscripten_bind_SessionFile5_Serialize_0=Hf=u.nd,f._emscripten_bind_SessionFile5_GetSerializedSession_0=vn=u.od,f._emscripten_bind_SessionFile5_GetSerializedSessionSize_0=Vl=u.pd,f._emscripten_bind_SessionFile5_GetVersion_0=ud=u.qd,f._emscripten_bind_SessionFile5_Deserialize_2=dd=u.rd,f._emscripten_bind_SessionFile5___destroy___0=rg=u.sd,f._emscripten_bind_RomInfo5_RomInfo5_2=og=u.td,f._emscripten_bind_RomInfo5_IsValid_0=Gf=u.ud,f._emscripten_bind_RomInfo5_GetCardName_0=fd=u.vd,f._emscripten_bind_RomInfo5_GetManufacturer_0=zf=u.wd,f._emscripten_bind_RomInfo5_GetRomName_0=Wf=u.xd,f._emscripten_bind_RomInfo5_GetCompanyId_0=ig=u.yd,f._emscripten_bind_RomInfo5_GetHalId_0=ny=u.zd,f._emscripten_bind_RomInfo5_NeedsNand_0=sg=u.Ad,f._emscripten_bind_RomInfo5_GetDeviceType_0=qf=u.Bd,f._emscripten_bind_RomInfo5_GetRecommendedRamSize_0=et=u.Cd,f._emscripten_bind_RomInfo5___destroy___0=Sn=u.Dd,pt=u.Fd,ht=u.Gd,yn=u.Hd,Zf=u.Id,f.___original_main=u.Jd}(Ul),function At(){if(gt--,f.monitorRunDependencies?.(gt),0==gt&&Ct){var E=Ct;Ct=null,E()}}(),Ul}!function ot(){gt++,f.monitorRunDependencies?.(gt)}();var oe=function ut(){return{a:ag}}();if(f.instantiateWasm)return new Promise((kn,Zn)=>{f.instantiateWasm(oe,(er,ti)=>{kn(u(er))})});bt??=function $t(){return function A(u){return f.locateFile?f.locateFile(u,I):I+u}("cloudpilot_web.wasm")}();var lt=yield function Ne(u,E,oe){return ze.apply(this,arguments)}(Z,bt,oe);return function E(kn){return u(kn.instance)}(lt)}),pn.apply(this,arguments)}class Nn{name="ExitStatus";constructor(E){this.message=`Program terminated with exit(${E})`,this.status=E}}var Zr,Un,sn=u=>{for(;u.length>0;)u.shift()(f)},bn=[],lr=u=>bn.push(u),gr=[],ro=u=>gr.push(u),So=!0,zr=u=>"0x"+(u>>>=0).toString(16).padStart(8,"0"),Oo=typeof TextDecoder<"u"?new TextDecoder:void 0,oo=(u,E=0,oe=NaN)=>{for(var lt=E+oe,Kt=E;u[Kt]&&!(Kt>=lt);)++Kt;if(Kt-E>16&&u.buffer&&Oo)return Oo.decode(u.subarray(E,Kt));for(var kn="";E<Kt;){var Zn=u[E++];if(128&Zn){var er=63&u[E++];if(192!=(224&Zn)){var ti=63&u[E++];if((Zn=224==(240&Zn)?(15&Zn)<<12|er<<6|ti:(7&Zn)<<18|er<<12|ti<<6|63&u[E++])<65536)kn+=String.fromCharCode(Zn);else{var pl=Zn-65536;kn+=String.fromCharCode(55296|pl>>10,56320|1023&pl)}}else kn+=String.fromCharCode((31&Zn)<<6|er)}else kn+=String.fromCharCode(Zn)}return kn},Jt=(u,E)=>u?oo(U,u,E):"",Zt=u=>u<-9007199254740992||u>9007199254740992?NaN:Number(u),en=0,Ir=[0,31,60,91,121,152,182,213,244,274,305,335],fo=[0,31,59,90,120,151,181,212,243,273,304,334],io=u=>((u=>u%4==0&&(u%100!=0||u%400==0))(u.getFullYear())?Ir:fo)[u.getMonth()]+u.getDate()-1,Tn={},Co=u=>{if(u instanceof Nn||"unwind"==u)return ve;te(),u instanceof WebAssembly.RuntimeError&&Zf()<=0&&Q("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),O(0,u)},si=()=>So||en>0,yo=u=>{ve=u,si()||(f.onExit?.(u),Y=!0),O(0,new Nn(u))},Go=(u,E)=>{ve=u,yo(u)},jn=Go,Si=()=>performance.now(),Pe=(u,E,oe,lt)=>{if(!(lt>0))return 0;for(var Kt=oe,kn=oe+lt-1,Zn=0;Zn<u.length;++Zn){var er=u.codePointAt(Zn);if(er<=127){if(oe>=kn)break;E[oe++]=er}else if(er<=2047){if(oe+1>=kn)break;E[oe++]=192|er>>6,E[oe++]=128|63&er}else if(er<=65535){if(oe+2>=kn)break;E[oe++]=224|er>>12,E[oe++]=128|er>>6&63,E[oe++]=128|63&er}else{if(oe+3>=kn)break;E[oe++]=240|er>>18,E[oe++]=128|er>>12&63,E[oe++]=128|er>>6&63,E[oe++]=128|63&er,Zn++}}return E[oe]=0,oe-Kt},dr=(u,E,oe)=>Pe(u,U,E,oe),zn=()=>Date.now(),ai=[],Vn=(u,E)=>Math.ceil(u/E)*E,Ut=u=>{var oe=(u-ge.buffer.byteLength+65535)/65536|0;try{return ge.grow(oe),Je(),1}catch{}},ke={},Gt=()=>{if(!Gt.strings){var E={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:G||"./this.program"};for(var oe in ke)void 0===ke[oe]?delete E[oe]:E[oe]=ke[oe];var lt=[];for(var oe in E)lt.push(`${oe}=${E[oe]}`);Gt.strings=lt}return Gt.strings},rr=u=>{for(var E=0,oe=0;oe<u.length;++oe){var lt=u.charCodeAt(oe);lt<=127?E++:lt<=2047?E+=2:lt>=55296&&lt<=57343?(E+=4,++oe):E+=3}return E},La=[null,[],[]],gs=(u,E)=>{var oe=La[u];0===E||10===E?((1===u?Ce:Q)(oo(oe)),oe.length=0):oe.push(E)},po=[],Bt=(u,E)=>{u<128?E.push(u):E.push(u%128|128,u>>7)},Zo=[],Qe=u=>{var E=Zo[u];return E||(Zo[u]=E=Zr.get(u)),E},fa=[],Ba=(u,E)=>{Zr.set(u,E),Zo[u]=Zr.get(u)};f.noExitRuntime&&(So=f.noExitRuntime),f.print&&(Ce=f.print),f.printErr&&(Q=f.printErr),f.wasmBinary&&(Z=f.wasmBinary),f.thisProgram&&(G=f.thisProgram),f.addFunction=(u,E)=>{var oe=(u=>(Un||(Un=new WeakMap,((u,E)=>{if(Un)for(var oe=0;oe<0+E;oe++){var lt=Qe(oe);lt&&Un.set(lt,oe)}})(0,Zr.length)),Un.get(u)||0))(u);if(oe)return oe;var lt=(()=>{if(fa.length)return fa.pop();try{Zr.grow(1)}catch(u){throw u instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":u}return Zr.length-1})();try{Ba(lt,u)}catch(kn){if(!(kn instanceof TypeError))throw kn;var Kt=((u,E)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((u=>{for(var E={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},oe={parameters:[],results:"v"==u[0]?[]:[E[u[0]]]},lt=1;lt<u.length;++lt)oe.parameters.push(E[u[lt]]);return oe})(E),u);var oe=[1];((u,E)=>{var oe=u.slice(0,1),lt=u.slice(1),Kt={i:127,p:127,j:126,f:125,d:124,e:111};for(var kn of(E.push(96),Bt(lt.length,E),lt))E.push(Kt[kn]);"v"==oe?E.push(0):E.push(1,Kt[oe])})(E,oe);var lt=[0,97,115,109,1,0,0,0,1];Bt(oe.length,lt),lt.push(...oe),lt.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Kt=new WebAssembly.Module(new Uint8Array(lt));return new WebAssembly.Instance(Kt,{e:{f:u}}).exports.f})(u,E);Ba(lt,Kt)}return Un.set(u,lt),lt},f.UTF8ToString=Jt;var nt,Pi,Ko,pa,ys,Ws,Yo,bs,Ci,Ss,Cs,Wi,ho,wi,qi,Zi,qs,ws,li,Xo,Ei,zt,un,ha,Zs,wo,Es,Fi,Ki,Ds,ja,Ks,Is,ga,Ys,Xs,ma,Qs,Eo,Js,so,Yi,va,Va,Fo,Ts,_a,ea,ae,ta,Le,ci,ya,As,Li,ll,p,v,w,x,ee,J,Ue,me,qe,be,je,ft,dt,kt,mt,Rt,cr,Yt,Xt,$n,an,wt,Hn,hn,Pn,b,$,ce,Be,Ft,on,mn,Gn,Kr,dn,xr,Vr,fr,Nt,Pr,tr,Mr,pr,or,g,j,Se,st,Wt,An,Wn,Bn,Ur,Ua,kl,Rl,ba,Lo,bc,rd,ao,ct,ln,lo,Qo,Mo,cl,Sc,ir,kr,Xi,xn,ul,nu,Nl,go,Ha,Ol,Sa,Cc,kf,Ga,od,dl,$i,Pl,rn,id,za,Ca,ru,Fl,Yr,Xr,ui,Rf,wa,Ll,Bi,Wa,j_,V_,Ea,Nf,U_,Xh,ou,H_,G_,z_,W_,q_,Z_,Qh,K_,Y_,X_,Q_,Of,Pf,J_,ey,ty,Ff,Lf,ko,Jh,$l,bo,eg,Bl,fl,sd,di,tg,ad,ng,Jo,$f,Bf,jf,iu,ld,jl,su,cd,Da,Vf,Uf,Hf,vn,Vl,ud,dd,rg,og,Gf,fd,zf,Wf,ig,ny,sg,qf,et,Sn,pt,ht,yn,Zf,_s={433584:u=>{Zr.grow(65536);for(let E=0;E<=65535;E++)Zr.set(Zr.length-65535-1+E,Zr.get(ne[(u>>>2)+E]));return Zr.length-65535-1}},ag={a:(u,E,oe,lt)=>Ke(`Assertion failed: ${Jt(u)}, at: `+[E?Jt(E):"unknown filename",oe,lt?Jt(lt):"unknown function"]),s:function Gs(u){const E=new Error(Jt(u));throw E.isAssert=!0,E},c:function Kn(u,E){E=Zt(E)},h:()=>Ke(""),j:()=>{So=!1,en=0},p:function xo(u,E){u=Zt(u);var oe=new Date(1e3*u);z[E>>2]=oe.getSeconds(),z[E+4>>2]=oe.getMinutes(),z[E+8>>2]=oe.getHours(),z[E+12>>2]=oe.getDate(),z[E+16>>2]=oe.getMonth(),z[E+20>>2]=oe.getFullYear()-1900,z[E+24>>2]=oe.getDay();var lt=0|io(oe);z[E+28>>2]=lt,z[E+36>>2]=-60*oe.getTimezoneOffset();var Kt=new Date(oe.getFullYear(),0,1),kn=new Date(oe.getFullYear(),6,1).getTimezoneOffset(),Zn=Kt.getTimezoneOffset(),er=0|(kn!=Zn&&oe.getTimezoneOffset()==Math.min(Zn,kn));z[E+32>>2]=er},q:function(u){var E=(()=>{var oe=new Date(z[u+20>>2]+1900,z[u+16>>2],z[u+12>>2],z[u+8>>2],z[u+4>>2],z[u>>2],0),lt=z[u+32>>2],Kt=oe.getTimezoneOffset(),kn=new Date(oe.getFullYear(),0,1),Zn=new Date(oe.getFullYear(),6,1).getTimezoneOffset(),er=kn.getTimezoneOffset(),ti=Math.min(er,Zn);if(lt<0)z[u+32>>2]=+(Zn!=er&&ti==Kt);else if(lt>0!=(ti==Kt)){var pl=Math.max(er,Zn),lu=lt>0?ti:pl;oe.setTime(oe.getTime()+6e4*(lu-Kt))}z[u+24>>2]=oe.getDay();var cu=0|io(oe);z[u+28>>2]=cu,z[u>>2]=oe.getSeconds(),z[u+4>>2]=oe.getMinutes(),z[u+8>>2]=oe.getHours(),z[u+12>>2]=oe.getDate(),z[u+16>>2]=oe.getMonth(),z[u+20>>2]=oe.getYear();var Cr=oe.getTime();return isNaN(Cr)?-1:Cr/1e3})();return BigInt(E)},k:(u,E)=>{if(Tn[u]&&(clearTimeout(Tn[u].id),delete Tn[u]),!E)return 0;var oe=setTimeout(()=>{delete Tn[u],(u=>{if(!Y)try{u(),(()=>{if(!si())try{jn(ve)}catch(u){Co(u)}})()}catch(E){Co(E)}})(()=>ht(u,Si()))},E);return Tn[u]={id:oe,timeout_ms:E},0},r:(u,E,oe,lt)=>{var Kt=(new Date).getFullYear(),kn=new Date(Kt,0,1),Zn=new Date(Kt,6,1),er=kn.getTimezoneOffset(),ti=Zn.getTimezoneOffset(),pl=Math.max(er,ti);ne[u>>2]=60*pl,z[E>>2]=+(er!=ti);var lu=$o=>{var Qi=$o>=0?"-":"+",Kf=Math.abs($o);return`UTC${Qi}${String(Math.floor(Kf/60)).padStart(2,"0")}${String(Kf%60).padStart(2,"0")}`},cu=lu(er),Cr=lu(ti);ti<er?(dr(cu,oe,17),dr(Cr,lt,17)):(dr(cu,lt,17),dr(Cr,oe,17))},n:function gn(u,E,oe){if(E=Zt(E),!(u=>u>=0&&u<=3)(u))return 28;var lt;lt=0===u?zn():Si();var Kt=Math.round(1e3*lt*1e3);return Re[oe>>3]=BigInt(Kt),0},t:(u,E,oe)=>((u,E,oe)=>{var lt=((u,E)=>{ai.length=0;for(var oe;oe=U[u++];){var lt=105!=oe;E+=(lt&=112!=oe)&&E%8?4:0,ai.push(112==oe?ne[E>>2]:106==oe?Re[E>>3]:105==oe?z[E>>2]:ye[E>>3]),E+=lt?8:4}return ai})(E,oe);return _s[u](...lt)})(u,E,oe),g:zn,o:u=>{var E=U.length,oe=2147483648;if((u>>>=0)>oe)return!1;for(var lt=1;lt<=4;lt*=2){var Kt=E*(1+.2/lt);Kt=Math.min(Kt,u+100663296);var kn=Math.min(oe,Vn(Math.max(u,Kt),65536));if(Ut(kn))return!0}return!1},l:(u,E)=>{var oe=0,lt=0;for(var Kt of Gt()){var kn=E+oe;ne[u+lt>>2]=kn,oe+=dr(Kt,kn,1/0)+1,lt+=4}return 0},m:(u,E)=>{var oe=Gt();ne[u>>2]=oe.length;var lt=0;for(var Kt of oe)lt+=rr(Kt)+1;return ne[E>>2]=lt,0},d:u=>52,f:(u,E,oe,lt)=>52,b:function Al(u,E,oe,lt){return E=Zt(E),70},e:(u,E,oe,lt)=>{for(var Kt=0,kn=0;kn<oe;kn++){var Zn=ne[E>>2],er=ne[E+4>>2];E+=8;for(var ti=0;ti<er;ti++)gs(u,U[Zn+ti]);Kt+=er}return ne[lt>>2]=Kt,0},i:yo},Ul=yield function Qt(){return pn.apply(this,arguments)}();function vr(){}function ji(u){return(u||vr).__cache__}function jt(u,E){var oe=ji(E),lt=oe[u];return lt||((lt=Object.create((E||vr).prototype)).ptr=u,oe[u]=lt)}(function ug(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function cg(){function u(){f.calledRun=!0,Y||(function xe(){we=!0,te(),sn(po),Ul.v()}(),function Ge(){te()}(),De?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function lg(){var u=nt;try{var lt=u(0,0);return Go(lt),lt}catch(Kt){return Co(Kt)}}(),function _t(){if(te(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)lr(f.postRun.shift());sn(bn)}())}gt>0?Ct=cg:(function ZD(){yn(),function Ye(){var u=pt();0==u&&(u+=4),ne[u>>2]=34821223,ne[u+4>>2]=2310721022,ne[0]=1668509029}()}(),function Dt(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)ro(f.preRun.shift());sn(gr)}(),gt>0?Ct=cg:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),u()},1)):u(),te()))}(),(vr.prototype=Object.create(vr.prototype)).constructor=vr,vr.prototype.__class__=vr,vr.__cache__={},f.WrapperObject=vr,f.getCache=ji,f.wrapPointer=jt,f.castObject=function Za(u,E){return jt(u.ptr,E)},f.NULL=jt(0),f.destroy=function dg(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete ji(u.__class__)[u.ptr]},f.compare=function Vi(u,E){return u.ptr===E.ptr},f.getPointer=function Ka(u){return u.ptr},f.getClass=function ry(u){return u.__class__};var On={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(On.needed){for(var u=0;u<On.temps.length;u++)f._webidl_free(On.temps[u]);On.temps.length=0,f._webidl_free(On.buffer),On.buffer=0,On.size+=On.needed,On.needed=0}On.buffer||(On.size+=128,On.buffer=f._webidl_malloc(On.size),Ae(On.buffer)),On.pos=0},alloc(u,E){Ae(On.buffer);var Kt,lt=u.length*E.BYTES_PER_ELEMENT;return lt=Vn(lt,8),On.pos+lt>=On.size?(Ae(lt>0),On.needed+=lt,Kt=f._webidl_malloc(lt),On.temps.push(Kt)):(Kt=On.buffer+On.pos,On.pos+=lt),Kt},copy(u,E,oe){oe/=E.BYTES_PER_ELEMENT;for(var lt=0;lt<u.length;lt++)E[oe+lt]=u[lt]}};function ei(u){if("string"==typeof u){var E=(u=>{var lt=rr(u)+1,Kt=new Array(lt);Pe(u,Kt,0,Kt.length);return Kt})(u),oe=On.alloc(E,Ie);return On.copy(E,Ie,oe),oe}return u}function Xn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function He(){this.ptr=Ko(),ji(He)[this.ptr]=this}function Qr(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),this.ptr=kt(u,E),ji(Qr)[this.ptr]=this}function Qn(){throw"cannot construct a Frame, no constructor in IDL"}function _r(){throw"cannot construct a DbBackup, no constructor in IDL"}function fi(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Di(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function pi(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function Ro(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Ii(){throw"cannot construct a SuspendContextSerialSync, no constructor in IDL"}function Hr(){throw"cannot construct a SuspendContext, no constructor in IDL"}function tn(){this.ptr=kr(),ji(tn)[this.ptr]=this}function hi(u){On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),this.ptr=ru(u),ji(hi)[this.ptr]=this}function Mn(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function qn(u,E,oe){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),oe&&"object"==typeof oe&&(oe=oe.ptr),this.ptr=Z_(u,E,oe),ji(qn)[this.ptr]=this}function br(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),this.ptr=J_(u,E),ji(br)[this.ptr]=this}function Mt(){this.ptr=bo(),ji(Mt)[this.ptr]=this}function Sr(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),this.ptr=og(u,E),ji(Sr)[this.ptr]=this}return(Xn.prototype=Object.create(vr.prototype)).constructor=Xn,Xn.prototype.__class__=Xn,Xn.__cache__={},f.VoidPtr=Xn,Xn.prototype.__destroy__=Xn.prototype.__destroy__=function(){Pi(this.ptr)},(He.prototype=Object.create(vr.prototype)).constructor=He,He.prototype.__class__=He,He.__cache__={},f.Cloudpilot=He,He.prototype.Malloc=He.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),jt(pa(this.ptr,u),Xn)},He.prototype.Free=He.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),ys(this.ptr,u)},He.prototype.Nullptr=He.prototype.Nullptr=function(){return jt(Ws(this.ptr),Xn)},He.prototype.EnableLogging=He.prototype.EnableLogging=function(u){u&&"object"==typeof u&&(u=u.ptr),Yo(this.ptr,u)},He.prototype.InitializeSession=He.prototype.InitializeSession=function(u,E,oe){var lt=this.ptr;return On.prepare(),u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),oe=oe&&"object"==typeof oe?oe.ptr:ei(oe),!!bs(lt,u,E,oe)},He.prototype.GetCyclesPerSecond=He.prototype.GetCyclesPerSecond=function(){return Ci(this.ptr)},He.prototype.RunEmulation=He.prototype.RunEmulation=function(u){return u&&"object"==typeof u&&(u=u.ptr),Ss(this.ptr,u)},He.prototype.SetClockFactor=He.prototype.SetClockFactor=function(u){u&&"object"==typeof u&&(u=u.ptr),Cs(this.ptr,u)},He.prototype.CopyFrame=He.prototype.CopyFrame=function(){return jt(Wi(this.ptr),Qn)},He.prototype.IsScreenDirty=He.prototype.IsScreenDirty=function(){return!!ho(this.ptr)},He.prototype.MarkScreenClean=He.prototype.MarkScreenClean=function(){wi(this.ptr)},He.prototype.MinMemoryForDevice=He.prototype.MinMemoryForDevice=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),qi(E,u)},He.prototype.FramebufferSizeForDevice=He.prototype.FramebufferSizeForDevice=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),Zi(E,u)},He.prototype.TotalMemoryForDevice=He.prototype.TotalMemoryForDevice=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),qs(E,u)},He.prototype.QueuePenMove=He.prototype.QueuePenMove=function(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),ws(this.ptr,u,E)},He.prototype.QueuePenUp=He.prototype.QueuePenUp=function(){li(this.ptr)},He.prototype.QueueButtonDown=He.prototype.QueueButtonDown=function(u){u&&"object"==typeof u&&(u=u.ptr),Xo(this.ptr,u)},He.prototype.QueueButtonUp=He.prototype.QueueButtonUp=function(u){u&&"object"==typeof u&&(u=u.ptr),Ei(this.ptr,u)},He.prototype.QueueKeyboardEvent=He.prototype.QueueKeyboardEvent=function(u){u&&"object"==typeof u&&(u=u.ptr),zt(this.ptr,u)},He.prototype.IsPowerOff=He.prototype.IsPowerOff=function(){return!!un(this.ptr)},He.prototype.IsUIInitialized=He.prototype.IsUIInitialized=function(){return!!ha(this.ptr)},He.prototype.GetOSVersion=He.prototype.GetOSVersion=function(){return Zs(this.ptr)},He.prototype.IsSetupComplete=He.prototype.IsSetupComplete=function(){return!!wo(this.ptr)},He.prototype.Reset=He.prototype.Reset=function(){Es(this.ptr)},He.prototype.ResetNoExtensions=He.prototype.ResetNoExtensions=function(){Fi(this.ptr)},He.prototype.ResetHard=He.prototype.ResetHard=function(){Ki(this.ptr)},He.prototype.InstallDb=He.prototype.InstallDb=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Ds(this.ptr,u,E)},He.prototype.GetPalette2bitMapping=He.prototype.GetPalette2bitMapping=function(){return ja(this.ptr)},He.prototype.GetMemoryPtr=He.prototype.GetMemoryPtr=function(){return jt(Ks(this.ptr),Xn)},He.prototype.GetDirtyPagesPtr=He.prototype.GetDirtyPagesPtr=function(){return jt(Is(this.ptr),Xn)},He.prototype.GetMemorySize=He.prototype.GetMemorySize=function(){return ga(this.ptr)},He.prototype.ImportMemoryImage=He.prototype.ImportMemoryImage=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!Ys(this.ptr,u,E)},He.prototype.GetRomPtr=He.prototype.GetRomPtr=function(){return jt(Xs(this.ptr),Xn)},He.prototype.GetRomSize=He.prototype.GetRomSize=function(){return ma(this.ptr)},He.prototype.GetSavestatePtr=He.prototype.GetSavestatePtr=function(){return jt(Qs(this.ptr),Xn)},He.prototype.GetSavestateSize=He.prototype.GetSavestateSize=function(){return Eo(this.ptr)},He.prototype.SaveState=He.prototype.SaveState=function(){return!!Js(this.ptr)},He.prototype.LoadState=He.prototype.LoadState=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!so(this.ptr,u,E)},He.prototype.GetHotsyncName=He.prototype.GetHotsyncName=function(){return Jt(Yi(this.ptr))},He.prototype.SetHotsyncName=He.prototype.SetHotsyncName=function(u){var E=this.ptr;On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),va(E,u)},He.prototype.RegisterPwmHandler=He.prototype.RegisterPwmHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),Va(this.ptr,u)},He.prototype.StartBackup=He.prototype.StartBackup=function(){return jt(Fo(this.ptr),_r)},He.prototype.SetClipboardIntegration=He.prototype.SetClipboardIntegration=function(u){u&&"object"==typeof u&&(u=u.ptr),Ts(this.ptr,u)},He.prototype.GetClipboardIntegration=He.prototype.GetClipboardIntegration=function(){return!!_a(this.ptr)},He.prototype.IsSuspended=He.prototype.IsSuspended=function(){return!!ea(this.ptr)},He.prototype.GetSuspendContext=He.prototype.GetSuspendContext=function(){return jt(ae(this.ptr),Hr)},He.prototype.SetNetworkRedirection=He.prototype.SetNetworkRedirection=function(u){u&&"object"==typeof u&&(u=u.ptr),ta(this.ptr,u)},He.prototype.GetNetworkRedirection=He.prototype.GetNetworkRedirection=function(){return!!Le(this.ptr)},He.prototype.RegisterProxyDisconnectHandler=He.prototype.RegisterProxyDisconnectHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),ci(this.ptr,u)},He.prototype.SetHotsyncNameManagement=He.prototype.SetHotsyncNameManagement=function(u){u&&"object"==typeof u&&(u=u.ptr),ya(this.ptr,u)},He.prototype.LaunchAppByName=He.prototype.LaunchAppByName=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),!!As(E,u)},He.prototype.LaunchAppByDbHeader=He.prototype.LaunchAppByDbHeader=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!Li(this.ptr,u,E)},He.prototype.ClearExternalStorage=He.prototype.ClearExternalStorage=function(){ll(this.ptr)},He.prototype.AllocateCard=He.prototype.AllocateCard=function(u,E){var oe=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),E&&"object"==typeof E&&(E=E.ptr),!!p(oe,u,E)},He.prototype.AdoptCard=He.prototype.AdoptCard=function(u,E,oe){var lt=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),E&&"object"==typeof E&&(E=E.ptr),oe&&"object"==typeof oe&&(oe=oe.ptr),!!v(lt,u,E,oe)},He.prototype.MountCard=He.prototype.MountCard=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),!!w(E,u)},He.prototype.RemoveCard=He.prototype.RemoveCard=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),!!x(E,u)},He.prototype.GetCardData=He.prototype.GetCardData=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),jt(ee(E,u),Xn)},He.prototype.GetCardDirtyPages=He.prototype.GetCardDirtyPages=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),jt(J(E,u),Xn)},He.prototype.GetCardSize=He.prototype.GetCardSize=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),Ue(E,u)},He.prototype.RemountCards=He.prototype.RemountCards=function(){me(this.ptr)},He.prototype.GetSupportLevel=He.prototype.GetSupportLevel=function(u){return u&&"object"==typeof u&&(u=u.ptr),qe(this.ptr,u)},He.prototype.GetMountedKey=He.prototype.GetMountedKey=function(){return Jt(be(this.ptr))},He.prototype.GetTransportIR=He.prototype.GetTransportIR=function(){return jt(je(this.ptr),Mn)},He.prototype.GetTransportSerial=He.prototype.GetTransportSerial=function(){return jt(ft(this.ptr),Mn)},He.prototype.__destroy__=He.prototype.__destroy__=function(){dt(this.ptr)},(Qr.prototype=Object.create(vr.prototype)).constructor=Qr,Qr.prototype.__class__=Qr,Qr.__cache__={},f.RomInfo=Qr,Qr.prototype.IsValid=Qr.prototype.IsValid=function(){return!!mt(this.ptr)},Qr.prototype.CardVersion=Qr.prototype.CardVersion=function(){return Rt(this.ptr)},Qr.prototype.CardName=Qr.prototype.CardName=function(){return Jt(cr(this.ptr))},Qr.prototype.RomVersion=Qr.prototype.RomVersion=function(){return Yt(this.ptr)},Qr.prototype.RomVersionString=Qr.prototype.RomVersionString=function(){return Jt(Xt(this.ptr))},Qr.prototype.Supports=Qr.prototype.Supports=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),!!$n(E,u)},Qr.prototype.__destroy__=Qr.prototype.__destroy__=function(){an(this.ptr)},(Qn.prototype=Object.create(vr.prototype)).constructor=Qn,Qn.prototype.__class__=Qn,Qn.__cache__={},f.Frame=Qn,Qn.prototype.GetLineWidth=Qn.prototype.GetLineWidth=function(){return wt(this.ptr)},Qn.prototype.GetBpp=Qn.prototype.GetBpp=function(){return Hn(this.ptr)},Qn.prototype.GetLines=Qn.prototype.GetLines=function(){return hn(this.ptr)},Qn.prototype.GetMargin=Qn.prototype.GetMargin=function(){return Pn(this.ptr)},Qn.prototype.GetBytesPerLine=Qn.prototype.GetBytesPerLine=function(){return b(this.ptr)},Qn.prototype.GetFirstDirtyLine=Qn.prototype.GetFirstDirtyLine=function(){return $(this.ptr)},Qn.prototype.GetLastDirtyLine=Qn.prototype.GetLastDirtyLine=function(){return ce(this.ptr)},Qn.prototype.GetHasChanges=Qn.prototype.GetHasChanges=function(){return!!Be(this.ptr)},Qn.prototype.GetBuffer=Qn.prototype.GetBuffer=function(){return jt(Ft(this.ptr),Xn)},Qn.prototype.GetBufferSize=Qn.prototype.GetBufferSize=function(){return on(this.ptr)},Qn.prototype.GetScaleX=Qn.prototype.GetScaleX=function(){return mn(this.ptr)},Qn.prototype.GetScaleY=Qn.prototype.GetScaleY=function(){return Gn(this.ptr)},Qn.prototype.__destroy__=Qn.prototype.__destroy__=function(){Kr(this.ptr)},(_r.prototype=Object.create(vr.prototype)).constructor=_r,_r.prototype.__class__=_r,_r.__cache__={},f.DbBackup=_r,_r.prototype.Init=_r.prototype.Init=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!dn(this.ptr,u)},_r.prototype.IsInProgress=_r.prototype.IsInProgress=function(){return!!xr(this.ptr)},_r.prototype.IsDone=_r.prototype.IsDone=function(){return!!Vr(this.ptr)},_r.prototype.GetCurrentDatabase=_r.prototype.GetCurrentDatabase=function(){return Jt(fr(this.ptr))},_r.prototype.Save=_r.prototype.Save=function(){return!!Nt(this.ptr)},_r.prototype.Skip=_r.prototype.Skip=function(){Pr(this.ptr)},_r.prototype.GetArchivePtr=_r.prototype.GetArchivePtr=function(){return jt(tr(this.ptr),Xn)},_r.prototype.GetArchiveSize=_r.prototype.GetArchiveSize=function(){return Mr(this.ptr)},_r.prototype.__destroy__=_r.prototype.__destroy__=function(){pr(this.ptr)},(fi.prototype=Object.create(vr.prototype)).constructor=fi,fi.prototype.__class__=fi,fi.__cache__={},f.SuspendContextClipboardCopy=fi,fi.prototype.Cancel=fi.prototype.Cancel=function(){or(this.ptr)},fi.prototype.Resume=fi.prototype.Resume=function(){g(this.ptr)},fi.prototype.GetClipboardContent=fi.prototype.GetClipboardContent=function(){return Jt(j(this.ptr))},fi.prototype.__destroy__=fi.prototype.__destroy__=function(){Se(this.ptr)},(Di.prototype=Object.create(vr.prototype)).constructor=Di,Di.prototype.__class__=Di,Di.__cache__={},f.SuspendContextClipboardPaste=Di,Di.prototype.Cancel=Di.prototype.Cancel=function(){st(this.ptr)},Di.prototype.Resume=Di.prototype.Resume=function(u){var E=this.ptr;On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),Wt(E,u)},Di.prototype.__destroy__=Di.prototype.__destroy__=function(){An(this.ptr)},(pi.prototype=Object.create(vr.prototype)).constructor=pi,pi.prototype.__class__=pi,pi.__cache__={},f.SuspendContextNetworkConnect=pi,pi.prototype.Cancel=pi.prototype.Cancel=function(){Wn(this.ptr)},pi.prototype.Resume=pi.prototype.Resume=function(){Bn(this.ptr)},pi.prototype.__destroy__=pi.prototype.__destroy__=function(){Ur(this.ptr)},(Ro.prototype=Object.create(vr.prototype)).constructor=Ro,Ro.prototype.__class__=Ro,Ro.__cache__={},f.SuspendContextNetworkRpc=Ro,Ro.prototype.Cancel=Ro.prototype.Cancel=function(){Ua(this.ptr)},Ro.prototype.GetRequestSize=Ro.prototype.GetRequestSize=function(){return kl(this.ptr)},Ro.prototype.GetRequestData=Ro.prototype.GetRequestData=function(){return jt(Rl(this.ptr),Xn)},Ro.prototype.ReceiveResponse=Ro.prototype.ReceiveResponse=function(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),ba(this.ptr,u,E)},Ro.prototype.__destroy__=Ro.prototype.__destroy__=function(){Lo(this.ptr)},(Ii.prototype=Object.create(vr.prototype)).constructor=Ii,Ii.prototype.__class__=Ii,Ii.__cache__={},f.SuspendContextSerialSync=Ii,Ii.prototype.Cancel=Ii.prototype.Cancel=function(){bc(this.ptr)},Ii.prototype.Resume=Ii.prototype.Resume=function(){rd(this.ptr)},Ii.prototype.__destroy__=Ii.prototype.__destroy__=function(){ao(this.ptr)},(Hr.prototype=Object.create(vr.prototype)).constructor=Hr,Hr.prototype.__class__=Hr,Hr.__cache__={},f.SuspendContext=Hr,Hr.prototype.GetKind=Hr.prototype.GetKind=function(){return ct(this.ptr)},Hr.prototype.Cancel=Hr.prototype.Cancel=function(){ln(this.ptr)},Hr.prototype.AsContextClipboardCopy=Hr.prototype.AsContextClipboardCopy=function(){return jt(lo(this.ptr),fi)},Hr.prototype.AsContextClipboardPaste=Hr.prototype.AsContextClipboardPaste=function(){return jt(Qo(this.ptr),Di)},Hr.prototype.AsContextNetworkConnect=Hr.prototype.AsContextNetworkConnect=function(){return jt(Mo(this.ptr),pi)},Hr.prototype.AsContextNetworkRpc=Hr.prototype.AsContextNetworkRpc=function(){return jt(cl(this.ptr),Ro)},Hr.prototype.AsContextSerialSync=Hr.prototype.AsContextSerialSync=function(){return jt(Sc(this.ptr),Ii)},Hr.prototype.__destroy__=Hr.prototype.__destroy__=function(){ir(this.ptr)},(tn.prototype=Object.create(vr.prototype)).constructor=tn,tn.prototype.__class__=tn,tn.__cache__={},f.SessionImage=tn,tn.prototype.GetDeviceId=tn.prototype.GetDeviceId=function(){return Jt(Xi(this.ptr))},tn.prototype.SetDeviceId=tn.prototype.SetDeviceId=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:ei(u),jt(xn(E,u),tn)},tn.prototype.GetRomImage=tn.prototype.GetRomImage=function(){return jt(ul(this.ptr),Xn)},tn.prototype.GetRomImageSize=tn.prototype.GetRomImageSize=function(){return nu(this.ptr)},tn.prototype.SetRomImage=tn.prototype.SetRomImage=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),jt(Nl(this.ptr,u,E),tn)},tn.prototype.GetMemoryImage=tn.prototype.GetMemoryImage=function(){return jt(go(this.ptr),Xn)},tn.prototype.GetMemoryImageSize=tn.prototype.GetMemoryImageSize=function(){return Ha(this.ptr)},tn.prototype.SetMemoryImage=tn.prototype.SetMemoryImage=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),jt(Ol(this.ptr,u,E),tn)},tn.prototype.GetMetadata=tn.prototype.GetMetadata=function(){return jt(Sa(this.ptr),Xn)},tn.prototype.GetMetadataSize=tn.prototype.GetMetadataSize=function(){return Cc(this.ptr)},tn.prototype.SetMetadata=tn.prototype.SetMetadata=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),jt(kf(this.ptr,u,E),tn)},tn.prototype.GetSavestate=tn.prototype.GetSavestate=function(){return jt(Ga(this.ptr),Xn)},tn.prototype.GetSavestateSize=tn.prototype.GetSavestateSize=function(){return od(this.ptr)},tn.prototype.SetSavestate=tn.prototype.SetSavestate=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),jt(dl(this.ptr,u,E),tn)},tn.prototype.GetVersion=tn.prototype.GetVersion=function(){return $i(this.ptr)},tn.prototype.Serialize=tn.prototype.Serialize=function(){return!!Pl(this.ptr)},tn.prototype.GetSerializedImage=tn.prototype.GetSerializedImage=function(){return jt(rn(this.ptr),Xn)},tn.prototype.GetSerializedImageSize=tn.prototype.GetSerializedImageSize=function(){return id(this.ptr)},tn.prototype.Deserialize=tn.prototype.Deserialize=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!za(this.ptr,u,E)},tn.prototype.__destroy__=tn.prototype.__destroy__=function(){Ca(this.ptr)},(hi.prototype=Object.create(vr.prototype)).constructor=hi,hi.prototype.__class__=hi,hi.__cache__={},f.SkinLoader=hi,hi.prototype.GetData=hi.prototype.GetData=function(){return jt(Fl(this.ptr),Xn)},hi.prototype.GetSize=hi.prototype.GetSize=function(){return Yr(this.ptr)},hi.prototype.__destroy__=hi.prototype.__destroy__=function(){Xr(this.ptr)},(Mn.prototype=Object.create(vr.prototype)).constructor=Mn,Mn.prototype.__class__=Mn,Mn.__cache__={},f.EmTransportSerialBuffer=Mn,Mn.prototype.RxBytesPending=Mn.prototype.RxBytesPending=function(){return ui(this.ptr)},Mn.prototype.Receive=Mn.prototype.Receive=function(){return jt(Rf(this.ptr),Xn)},Mn.prototype.Send=Mn.prototype.Send=function(u,E,oe){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),oe&&"object"==typeof oe&&(oe=oe.ptr),wa(this.ptr,u,E,oe)},Mn.prototype.IsOpen=Mn.prototype.IsOpen=function(){return!!Ll(this.ptr)},Mn.prototype.Rts=Mn.prototype.Rts=function(){return Bi(this.ptr)},Mn.prototype.Dtr=Mn.prototype.Dtr=function(){return!!Wa(this.ptr)},Mn.prototype.IsBreak=Mn.prototype.IsBreak=function(){return!!j_(this.ptr)},Mn.prototype.BufferSize=Mn.prototype.BufferSize=function(){return V_(this.ptr)},Mn.prototype.GetBaud=Mn.prototype.GetBaud=function(){return Ea(this.ptr)},Mn.prototype.GetParity=Mn.prototype.GetParity=function(){return Nf(this.ptr)},Mn.prototype.GetStopBits=Mn.prototype.GetStopBits=function(){return U_(this.ptr)},Mn.prototype.GetDataBits=Mn.prototype.GetDataBits=function(){return Xh(this.ptr)},Mn.prototype.GetHwrHandshake=Mn.prototype.GetHwrHandshake=function(){return ou(this.ptr)},Mn.prototype.GetModeSync=Mn.prototype.GetModeSync=function(){return!!H_(this.ptr)},Mn.prototype.SetModeSync=Mn.prototype.SetModeSync=function(u){u&&"object"==typeof u&&(u=u.ptr),G_(this.ptr,u)},Mn.prototype.IsFrameComplete=Mn.prototype.IsFrameComplete=function(){return!!z_(this.ptr)},Mn.prototype.SetRequestTransferCallback=Mn.prototype.SetRequestTransferCallback=function(u){u&&"object"==typeof u&&(u=u.ptr),W_(this.ptr,u)},Mn.prototype.__destroy__=Mn.prototype.__destroy__=function(){q_(this.ptr)},(qn.prototype=Object.create(vr.prototype)).constructor=qn,qn.prototype.__class__=qn,qn.__cache__={},f.GunzipContext=qn,qn.prototype.GetState=qn.prototype.GetState=function(){return Qh(this.ptr)},qn.prototype.Continue=qn.prototype.Continue=function(){return K_(this.ptr)},qn.prototype.GetUncompressedData=qn.prototype.GetUncompressedData=function(){return jt(Y_(this.ptr),Xn)},qn.prototype.ReleaseUncompressedData=qn.prototype.ReleaseUncompressedData=function(){return jt(X_(this.ptr),Xn)},qn.prototype.GetUncompressedSize=qn.prototype.GetUncompressedSize=function(){return Q_(this.ptr)},qn.prototype.GetError=qn.prototype.GetError=function(){return Jt(Of(this.ptr))},qn.prototype.__destroy__=qn.prototype.__destroy__=function(){Pf(this.ptr)},(br.prototype=Object.create(vr.prototype)).constructor=br,br.prototype.__class__=br,br.__cache__={},f.ZipfileWalker=br,br.prototype.GetState=br.prototype.GetState=function(){return ey(this.ptr)},br.prototype.Next=br.prototype.Next=function(){return ty(this.ptr)},br.prototype.GetTotalEntries=br.prototype.GetTotalEntries=function(){return Ff(this.ptr)},br.prototype.GetCurrentEntrySize=br.prototype.GetCurrentEntrySize=function(){return Lf(this.ptr)},br.prototype.GetCurrentEntryName=br.prototype.GetCurrentEntryName=function(){return Jt(ko(this.ptr))},br.prototype.GetCurrentEntryContent=br.prototype.GetCurrentEntryContent=function(){return jt(Jh(this.ptr),Xn)},br.prototype.__destroy__=br.prototype.__destroy__=function(){$l(this.ptr)},(Mt.prototype=Object.create(vr.prototype)).constructor=Mt,Mt.prototype.__class__=Mt,Mt.__cache__={},f.SessionFile5=Mt,Mt.prototype.IsSessionFile=Mt.prototype.IsSessionFile=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!eg(this.ptr,u,E)},Mt.prototype.GetDeviceId=Mt.prototype.GetDeviceId=function(){return Bl(this.ptr)},Mt.prototype.SetDeviceId=Mt.prototype.SetDeviceId=function(u){return u&&"object"==typeof u&&(u=u.ptr),jt(fl(this.ptr,u),Mt)},Mt.prototype.GetMetadata=Mt.prototype.GetMetadata=function(){return jt(sd(this.ptr),Xn)},Mt.prototype.GetMetadataSize=Mt.prototype.GetMetadataSize=function(){return di(this.ptr)},Mt.prototype.SetMetadata=Mt.prototype.SetMetadata=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),jt(tg(this.ptr,u,E),Mt)},Mt.prototype.GetNor=Mt.prototype.GetNor=function(){return jt(ad(this.ptr),Xn)},Mt.prototype.GetNorSize=Mt.prototype.GetNorSize=function(){return ng(this.ptr)},Mt.prototype.SetNor=Mt.prototype.SetNor=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),jt(Jo(this.ptr,u,E),Mt)},Mt.prototype.GetNand=Mt.prototype.GetNand=function(){return jt($f(this.ptr),Xn)},Mt.prototype.GetNandSize=Mt.prototype.GetNandSize=function(){return Bf(this.ptr)},Mt.prototype.SetNand=Mt.prototype.SetNand=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),jt(jf(this.ptr,u,E),Mt)},Mt.prototype.GetMemory=Mt.prototype.GetMemory=function(){return jt(iu(this.ptr),Xn)},Mt.prototype.GetMemorySize=Mt.prototype.GetMemorySize=function(){return ld(this.ptr)},Mt.prototype.SetMemory=Mt.prototype.SetMemory=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),jt(jl(this.ptr,u,E),Mt)},Mt.prototype.GetSavestate=Mt.prototype.GetSavestate=function(){return jt(su(this.ptr),Xn)},Mt.prototype.GetSavestateSize=Mt.prototype.GetSavestateSize=function(){return cd(this.ptr)},Mt.prototype.SetSavestate=Mt.prototype.SetSavestate=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),jt(Da(this.ptr,u,E),Mt)},Mt.prototype.GetRamSize=Mt.prototype.GetRamSize=function(){return Vf(this.ptr)},Mt.prototype.SetRamSize=Mt.prototype.SetRamSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),jt(Uf(this.ptr,u),Mt)},Mt.prototype.Serialize=Mt.prototype.Serialize=function(){return!!Hf(this.ptr)},Mt.prototype.GetSerializedSession=Mt.prototype.GetSerializedSession=function(){return jt(vn(this.ptr),Xn)},Mt.prototype.GetSerializedSessionSize=Mt.prototype.GetSerializedSessionSize=function(){return Vl(this.ptr)},Mt.prototype.GetVersion=Mt.prototype.GetVersion=function(){return ud(this.ptr)},Mt.prototype.Deserialize=Mt.prototype.Deserialize=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!dd(this.ptr,u,E)},Mt.prototype.__destroy__=Mt.prototype.__destroy__=function(){rg(this.ptr)},(Sr.prototype=Object.create(vr.prototype)).constructor=Sr,Sr.prototype.__class__=Sr,Sr.__cache__={},f.RomInfo5=Sr,Sr.prototype.IsValid=Sr.prototype.IsValid=function(){return!!Gf(this.ptr)},Sr.prototype.GetCardName=Sr.prototype.GetCardName=function(){return Jt(fd(this.ptr))},Sr.prototype.GetManufacturer=Sr.prototype.GetManufacturer=function(){return Jt(zf(this.ptr))},Sr.prototype.GetRomName=Sr.prototype.GetRomName=function(){return Jt(Wf(this.ptr))},Sr.prototype.GetCompanyId=Sr.prototype.GetCompanyId=function(){return ig(this.ptr)},Sr.prototype.GetHalId=Sr.prototype.GetHalId=function(){return ny(this.ptr)},Sr.prototype.NeedsNand=Sr.prototype.NeedsNand=function(){return!!sg(this.ptr)},Sr.prototype.GetDeviceType=Sr.prototype.GetDeviceType=function(){return qf(this.ptr)},Sr.prototype.GetRecommendedRamSize=Sr.prototype.GetRecommendedRamSize=function(){return et(this.ptr)},Sr.prototype.__destroy__=Sr.prototype.__destroy__=function(){Sn(this.ptr)},we?f:new Promise((u,E)=>{De=u,_e=E})}));K.exports=k,K.exports.default=k},7598:K=>{"use strict";K.exports=Math.abs},7638:K=>{var Ee={}.toString;K.exports=Array.isArray||function(y){return"[object Array]"==Ee.call(y)}},7648:K=>{"use strict";K.exports=Function.prototype.call},7653:(K,Ee,y)=>{"use strict";var C=y(840),k=y(5831),L=C("RegExp.prototype.exec"),W=y(8519);K.exports=function(f){if(!k(f))throw new W("`regex` must be a RegExp");return function(D){return null!==L(f,D)}}},7671:(K,Ee,y)=>{"use strict";if(y(362)()){var k=BigInt.prototype.valueOf;K.exports=function(R){return!(null===R||typeof R>"u"||"boolean"==typeof R||"string"==typeof R||"number"==typeof R||"symbol"==typeof R||"function"==typeof R)&&("bigint"==typeof R||function(R){try{return k.call(R),!0}catch{}return!1}(R))}}else K.exports=function(R){return!1}},7707:(K,Ee,y)=>{"use strict";var C=y(3933);K.exports=Function.prototype.bind||C},7718:K=>{"use strict";K.exports=RangeError},7888:K=>{"use strict";K.exports=Object},7935:(K,Ee,y)=>{"use strict";var C;if(!Object.keys){var k=Object.prototype.hasOwnProperty,L=Object.prototype.toString,W=y(6321),R=Object.prototype.propertyIsEnumerable,f=!R.call({toString:null},"toString"),P=R.call(function(){},"prototype"),D=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],F=function(I){var A=I.constructor;return A&&A.prototype===I},N={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},G=function(){if(typeof window>"u")return!1;for(var I in window)try{if(!N["$"+I]&&k.call(window,I)&&null!==window[I]&&"object"==typeof window[I])try{F(window[I])}catch{return!0}}catch{return!0}return!1}();C=function(A){var se=null!==A&&"object"==typeof A,de="[object Function]"===L.call(A),Ce=W(A),Q=se&&"[object String]"===L.call(A),Z=[];if(!se&&!de&&!Ce)throw new TypeError("Object.keys called on a non-object");var Y=P&&de;if(Q&&A.length>0&&!k.call(A,0))for(var ve=0;ve<A.length;++ve)Z.push(String(ve));if(Ce&&A.length>0)for(var Ae=0;Ae<A.length;++Ae)Z.push(String(Ae));else for(var Ye in A)(!Y||"prototype"!==Ye)&&k.call(A,Ye)&&Z.push(String(Ye));if(f)for(var te=function(I){if(typeof window>"u"||!G)return F(I);try{return F(I)}catch{return!1}}(A),De=0;De<D.length;++De)(!te||"constructor"!==D[De])&&k.call(A,D[De])&&Z.push(D[De]);return Z}}K.exports=C},8081:function(K,Ee){!function(y){"use strict";var O,L=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,W=536870912,R=2*W,P=new WeakMap,F=function(O,I){return function(A){var se=I.get(A),de=void 0===se?A.size:se<R?se+1:0;if(!A.has(de))return O(A,de);if(A.size<W){for(;A.has(de);)de=Math.floor(Math.random()*R);return O(A,de)}if(A.size>L)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;A.has(de);)de=Math.floor(Math.random()*L);return O(A,de)}}((O=P,function(I,A){return O.set(I,A),A}),P),N=function(O){return function(I){var A=O(I);return I.add(A),A}}(F);y.addUniqueNumber=N,y.generateUniqueNumber=F}(Ee)},8251:K=>{var Ee={utf8:{stringToBytes:function(y){return Ee.bin.stringToBytes(unescape(encodeURIComponent(y)))},bytesToString:function(y){return decodeURIComponent(escape(Ee.bin.bytesToString(y)))}},bin:{stringToBytes:function(y){for(var C=[],k=0;k<y.length;k++)C.push(255&y.charCodeAt(k));return C},bytesToString:function(y){for(var C=[],k=0;k<y.length;k++)C.push(String.fromCharCode(y[k]));return C.join("")}}};K.exports=Ee},8344:(K,Ee,y)=>{"use strict";var C=y(5328)(),L=y(840)("Object.prototype.toString"),W=function(D){return!(C&&D&&"object"==typeof D&&Symbol.toStringTag in D)&&"[object Arguments]"===L(D)},R=function(D){return!!W(D)||null!==D&&"object"==typeof D&&"length"in D&&"number"==typeof D.length&&D.length>=0&&"[object Array]"!==L(D)&&"callee"in D&&"[object Function]"===L(D.callee)},f=function(){return W(arguments)}();W.isLegacyArguments=R,K.exports=f?W:R},8436:(K,Ee,y)=>{"use strict";var C=y(592).supportsDescriptors,k=y(4198),L=y(9263),W=Object.defineProperty,R=y(1123),f=y(1568),P=/a/;K.exports=function(){if(!C||!f)throw new R("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var F=k(),N=f(P),G=L(N,"flags");return(!G||G.get!==F)&&W(N,"flags",{configurable:!0,enumerable:!1,get:F}),F}},8447:(K,Ee,y)=>{"use strict";var C=y(9209),k=y(6497)(),L=y(840),W=y(7888),R=L("Array.prototype.push"),f=L("Object.prototype.propertyIsEnumerable"),P=k?W.getOwnPropertySymbols:null;K.exports=function(F,N){if(null==F)throw new TypeError("target must be an object");var G=W(F);if(1===arguments.length)return G;for(var O=1;O<arguments.length;++O){var I=W(arguments[O]),A=C(I),se=k&&(W.getOwnPropertySymbols||P);if(se)for(var de=se(I),Ce=0;Ce<de.length;++Ce){var Q=de[Ce];f(I,Q)&&R(A,Q)}for(var Z=0;Z<A.length;++Z){var Y=A[Z];f(I,Y)&&(G[Y]=I[Y])}}return G}},8519:K=>{"use strict";K.exports=TypeError},8580:(K,Ee,y)=>{"use strict";var L,C=y(2282),k=y(9263);try{L=[].__proto__===Array.prototype}catch(P){if(!P||"object"!=typeof P||!("code"in P)||"ERR_PROTO_ACCESS"!==P.code)throw P}var W=!!L&&k&&k(Object.prototype,"__proto__"),R=Object,f=R.getPrototypeOf;K.exports=W&&"function"==typeof W.get?C([W.get]):"function"==typeof f&&function(D){return f(null==D?D:R(D))}},8963:K=>{"use strict";K.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},8979:(K,Ee,y)=>{"use strict";var C=y(840),k=C("Number.prototype.toString"),W=C("Object.prototype.toString"),f=y(5328)();K.exports=function(D){return"number"==typeof D||!(!D||"object"!=typeof D)&&(f?function(D){try{return k(D),!0}catch{return!1}}(D):"[object Number]"===W(D))}},8996:(K,Ee,y)=>{var C={"./ion-accordion_2.entry.js":[7518,2076,7518],"./ion-action-sheet.entry.js":[1981,2076,1981],"./ion-alert.entry.js":[1603,2076,1603],"./ion-app_8.entry.js":[2273,2076,2273],"./ion-avatar_3.entry.js":[9642,9642],"./ion-back-button.entry.js":[2095,2076,2095],"./ion-backdrop.entry.js":[2335,2335],"./ion-breadcrumb_2.entry.js":[8221,2076,8221],"./ion-button_2.entry.js":[7184,7184],"./ion-card_5.entry.js":[8759,8759],"./ion-checkbox.entry.js":[4248,4248],"./ion-chip.entry.js":[9863,9863],"./ion-col_3.entry.js":[1769,1769],"./ion-datetime-button.entry.js":[2569,6948,2569],"./ion-datetime_3.entry.js":[6534,6948,2076,6534],"./ion-fab_3.entry.js":[5458,2076,5458],"./ion-img.entry.js":[654,654],"./ion-infinite-scroll_2.entry.js":[6034,2076,6034],"./ion-input-otp.entry.js":[381,2076,381],"./ion-input-password-toggle.entry.js":[5196,2076,5196],"./ion-input.entry.js":[761,2076,761],"./ion-item-option_3.entry.js":[6492,2076,6492],"./ion-item_8.entry.js":[9557,2076,9557],"./ion-loading.entry.js":[8353,2076,8353],"./ion-menu_3.entry.js":[1024,2076,1024],"./ion-modal.entry.js":[9160,2076,9160],"./ion-nav_2.entry.js":[393,2076,393],"./ion-picker-column-option.entry.js":[8442,8442],"./ion-picker-column.entry.js":[3110,2076,3110],"./ion-picker.entry.js":[5575,5575],"./ion-popover.entry.js":[6772,2076,6772],"./ion-progress-bar.entry.js":[4810,4810],"./ion-radio_2.entry.js":[4639,2076,4639],"./ion-range.entry.js":[628,2076,628],"./ion-refresher_2.entry.js":[852,2076,852],"./ion-reorder_2.entry.js":[1479,2076,1479],"./ion-ripple-effect.entry.js":[4065,4065],"./ion-route_4.entry.js":[7971,7971],"./ion-searchbar.entry.js":[3184,2076,3184],"./ion-segment-content.entry.js":[4312,4312],"./ion-segment-view.entry.js":[4540,4540],"./ion-segment_2.entry.js":[469,2076,469],"./ion-select-modal.entry.js":[7101,7101],"./ion-select_3.entry.js":[8471,2076,8471],"./ion-spinner.entry.js":[388,2076,388],"./ion-split-pane.entry.js":[2392,2392],"./ion-tab-bar_2.entry.js":[6059,2076,6059],"./ion-tab_2.entry.js":[5427,5427],"./ion-text.entry.js":[198,198],"./ion-textarea.entry.js":[1735,2076,1735],"./ion-toast.entry.js":[5129,2076,7510],"./ion-toggle.entry.js":[5297,2076,5297]};function k(L){if(!y.o(C,L))return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+L+"'");throw f.code="MODULE_NOT_FOUND",f});var W=C[L],R=W[0];return Promise.all(W.slice(1).map(y.e)).then(()=>y(R))}k.keys=()=>Object.keys(C),k.id=8996,K.exports=k},9110:(K,Ee,y)=>{"use strict";var C=y(9831);K.exports=function(){return"function"==typeof Object.is?Object.is:C}},9116:K=>{"use strict";var C,Ee="function"==typeof Map&&Map.prototype?Map:null,y="function"==typeof Set&&Set.prototype?Set:null;y||(C=function(R){return!1});var k=Ee?Map.prototype.has:null,L=y?Set.prototype.has:null;!C&&!L&&(C=function(R){return!1}),K.exports=C||function(R){if(!R||"object"!=typeof R)return!1;try{if(L.call(R),k)try{k.call(R)}catch{return!0}return R instanceof y}catch{}return!1}},9209:(K,Ee,y)=>{"use strict";var C=Array.prototype.slice,k=y(6321),L=Object.keys,W=L?function(P){return L(P)}:y(7935),R=Object.keys;W.shim=function(){if(Object.keys){var P=function(){var D=Object.keys(arguments);return D&&D.length===arguments.length}(1,2);P||(Object.keys=function(F){return k(F)?R(C.call(F)):R(F)})}else Object.keys=W;return Object.keys||W},K.exports=W},9250:(K,Ee,y)=>{"use strict";var C=y(6969),k=y(3463),L=y(7057),W=y(2521),R=y(158),f=y(5492),P=y(545),D=y(8344),F=y(7638),N=y(3066),G=y(5500),O=y(5831),I=y(2090),A=y(9209),se=y(6959),de=y(5757),Ce=y(6547),Q=y(2219),Z=k("SharedArrayBuffer.prototype.byteLength",!0),Y=k("Date.prototype.getTime"),ve=Object.getPrototypeOf,Ae=k("Object.prototype.toString"),Ye=W("%Set%",!0),te=k("Map.prototype.has",!0),De=k("Map.prototype.get",!0),_e=k("Map.prototype.size",!0),ge=k("Set.prototype.add",!0),Ie=k("Set.prototype.delete",!0),U=k("Set.prototype.has",!0),X=k("Set.prototype.size",!0);function Ve(xe,Ge,_t,gt){for(var ot,Ct=R(xe);(ot=Ct.next())&&!ot.done;)if(Re(Ge,ot.value,_t,gt))return Ie(xe,ot.value),!0;return!1}function z(xe){return typeof xe>"u"?null:"object"!=typeof xe?"symbol"!=typeof xe&&("string"!=typeof xe&&"number"!=typeof xe||+xe==+xe):void 0}function ne(xe,Ge,_t,gt,Ct,ot){var At=z(_t);if(null!=At)return At;var Ke=De(Ge,At),bt=C({},Ct,{strict:!1});return!(typeof Ke>"u"&&!te(Ge,At)||!Re(gt,Ke,bt,ot))&&!te(xe,At)&&Re(gt,Ke,bt,ot)}function le(xe,Ge,_t){var gt=z(_t);return gt??(U(Ge,gt)&&!U(xe,gt))}function ye(xe,Ge,_t,gt,Ct,ot){for(var Ke,bt,At=R(xe);(Ke=At.next())&&!Ke.done;)if(Re(_t,bt=Ke.value,Ct,ot)&&Re(gt,De(Ge,bt),Ct,ot))return Ie(xe,bt),!0;return!1}function Re(xe,Ge,_t,gt){var Ct=_t||{};if(Ct.strict?P(xe,Ge):xe===Ge)return!0;if(se(xe)!==se(Ge))return!1;if(!xe||!Ge||"object"!=typeof xe&&"object"!=typeof Ge)return Ct.strict?P(xe,Ge):xe==Ge;var $t,Ke=gt.has(xe),bt=gt.has(Ge);if(Ke&&bt){if(gt.get(xe)===gt.get(Ge))return!0}else $t={};return Ke||gt.set(xe,$t),bt||gt.set(Ge,$t),function Dt(xe,Ge,_t,gt){var Ct,ot;if(typeof xe!=typeof Ge||null==xe||null==Ge||Ae(xe)!==Ae(Ge)||D(xe)!==D(Ge))return!1;if(F(xe)!==F(Ge))return!1;var bt=xe instanceof Error,$t=Ge instanceof Error;if(bt!==$t||(bt||$t)&&(xe.name!==Ge.name||xe.message!==Ge.message))return!1;var En=O(xe),Dn=O(Ge);if(En!==Dn||(En||Dn)&&(xe.source!==Ge.source||L(xe)!==L(Ge)))return!1;var qt=G(xe),Ot=G(Ge);if(qt!==Ot||(qt||Ot)&&Y(xe)!==Y(Ge)||_t.strict&&ve&&ve(xe)!==ve(Ge))return!1;var Ze=Ce(xe),Ne=Ce(Ge);if(Ze!==Ne)return!1;if(Ze||Ne){if(xe.length!==Ge.length)return!1;for(Ct=0;Ct<xe.length;Ct++)if(xe[Ct]!==Ge[Ct])return!1;return!0}var ze=Fe(xe),ut=Fe(Ge);if(ze!==ut)return!1;if(ze||ut){if(xe.length!==Ge.length)return!1;for(Ct=0;Ct<xe.length;Ct++)if(xe[Ct]!==Ge[Ct])return!1;return!0}var Qt=N(xe),pn=N(Ge);if(Qt!==pn)return!1;if(Qt||pn)return Q(xe)===Q(Ge)&&"function"==typeof Uint8Array&&Re(new Uint8Array(xe),new Uint8Array(Ge),_t,gt);var Nn=I(xe),sn=I(Ge);if(Nn!==sn)return!1;if(Nn||sn)return Z(xe)===Z(Ge)&&"function"==typeof Uint8Array&&Re(new Uint8Array(xe),new Uint8Array(Ge),_t,gt);if(typeof xe!=typeof Ge)return!1;var bn=A(xe),lr=A(Ge);if(bn.length!==lr.length)return!1;for(bn.sort(),lr.sort(),Ct=bn.length-1;Ct>=0;Ct--)if(bn[Ct]!=lr[Ct])return!1;for(Ct=bn.length-1;Ct>=0;Ct--)if(!Re(xe[ot=bn[Ct]],Ge[ot],_t,gt))return!1;var gr=de(xe),ro=de(Ge);return gr===ro&&("Set"===gr||"Set"===ro?function we(xe,Ge,_t,gt){if(X(xe)!==X(Ge))return!1;for(var At,Ke,bt,Ct=R(xe),ot=R(Ge);(At=Ct.next())&&!At.done;)if(At.value&&"object"==typeof At.value)bt||(bt=new Ye),ge(bt,At.value);else if(!U(Ge,At.value)){if(_t.strict||!le(xe,Ge,At.value))return!1;bt||(bt=new Ye),ge(bt,At.value)}if(bt){for(;(Ke=ot.next())&&!Ke.done;)if(Ke.value&&"object"==typeof Ke.value){if(!Ve(bt,Ke.value,_t.strict,gt))return!1}else if(!_t.strict&&!U(xe,Ke.value)&&!Ve(bt,Ke.value,_t.strict,gt))return!1;return 0===X(bt)}return!0}(xe,Ge,_t,gt):"Map"!==gr||function Je(xe,Ge,_t,gt){if(_e(xe)!==_e(Ge))return!1;for(var At,Ke,bt,$t,En,Dn,Ct=R(xe),ot=R(Ge);(At=Ct.next())&&!At.done;)if(En=At.value[1],($t=At.value[0])&&"object"==typeof $t)bt||(bt=new Ye),ge(bt,$t);else if(typeof(Dn=De(Ge,$t))>"u"&&!te(Ge,$t)||!Re(En,Dn,_t,gt)){if(_t.strict||!ne(xe,Ge,$t,En,_t,gt))return!1;bt||(bt=new Ye),ge(bt,$t)}if(bt){for(;(Ke=ot.next())&&!Ke.done;)if(Dn=Ke.value[1],($t=Ke.value[0])&&"object"==typeof $t){if(!ye(bt,xe,$t,Dn,_t,gt))return!1}else if(!(_t.strict||xe.has($t)&&Re(De(xe,$t),Dn,_t,gt)||ye(bt,xe,$t,Dn,C({},_t,{strict:!1}),gt)))return!1;return 0===X(bt)}return!0}(xe,Ge,_t,gt))}(xe,Ge,Ct,gt)}function Fe(xe){return!(!xe||"object"!=typeof xe||"number"!=typeof xe.length||"function"!=typeof xe.copy||"function"!=typeof xe.slice||xe.length>0&&"number"!=typeof xe[0]||!(xe.constructor&&xe.constructor.isBuffer&&xe.constructor.isBuffer(xe)))}K.exports=function(Ge,_t,gt){return Re(Ge,_t,gt,f())}},9263:(K,Ee,y)=>{"use strict";var C=y(9817);if(C)try{C([],"length")}catch{C=null}K.exports=C},9335:(K,Ee,y)=>{"use strict";y.d(Ee,{B:()=>Q,F:()=>Le,a:()=>Nn,b:()=>ta,c:()=>Gs,d:()=>al,e:()=>R,f:()=>I,g:()=>_s,h:()=>La,i:()=>ma,j:()=>A,k:()=>bn,l:()=>f,m:()=>D,n:()=>P,o:()=>Ba,q:()=>Ml,r:()=>ge,t:()=>se,w:()=>sn});var C=y(1890);class W{constructor(){this.m=new Map}reset(v){this.m=new Map(Object.entries(v))}get(v,w){const x=this.m.get(v);return void 0!==x?x:w}getBoolean(v,w=!1){const x=this.m.get(v);return void 0===x?w:"string"==typeof x?"true"===x:!!x}getNumber(v,w){const x=parseFloat(this.m.get(v));return isNaN(x)?void 0!==w?w:NaN:x}set(v,w){this.m.set(v,w)}}const R=new W,f=p=>{try{const v=p.sessionStorage.getItem(G);return null!==v?JSON.parse(v):{}}catch{return{}}},P=(p,v)=>{try{p.sessionStorage.setItem(G,JSON.stringify(v))}catch{return}},D=p=>{const v={};return p.location.search.slice(1).split("&").map(w=>w.split("=")).map(([w,x])=>{try{return[decodeURIComponent(w),decodeURIComponent(x)]}catch{return["",""]}}).filter(([w])=>F(w,N)).map(([w,x])=>[w.slice(N.length),x]).forEach(([w,x])=>{v[w]=x}),v},F=(p,v)=>p.substr(0,v.length)===v,N="ionic:",G="ionic-persist-config";var O=function(p){return p.OFF="OFF",p.ERROR="ERROR",p.WARN="WARN",p}(O||{});const I=(p,...v)=>{const w=R.get("logLevel",O.WARN);if([O.WARN].includes(w))return console.warn(`[Ionic Warning]: ${p}`,...v)},A=(p,...v)=>{const w=R.get("logLevel",O.ERROR);if([O.ERROR,O.WARN].includes(w))return console.error(`[Ionic Error]: ${p}`,...v)},se=(p,...v)=>console.error(`<${p.tagName.toLowerCase()}> must be used inside ${v.join(" or ")}.`);var de=Object.defineProperty,Q={isBrowser:!0},ve=(p=>(p.Undefined="undefined",p.Null="null",p.String="string",p.Number="number",p.SpecialNumber="number",p.Boolean="boolean",p.BigInt="bigint",p))(ve||{}),Ae=(p=>(p.Array="array",p.Date="date",p.Map="map",p.Object="object",p.RegularExpression="regexp",p.Set="set",p.Channel="channel",p.Symbol="symbol",p))(Ae||{}),Ye="type",te="value",De="serialized:",_e=p=>{if(p.__stencil__getHostRef)return p.__stencil__getHostRef()},ge=(p,v)=>{p.__stencil__getHostRef=()=>v,v.$lazyInstance$=p},U=(p,v)=>v in p,X=(p,v)=>(0,console.error)(p,v),Ve=new Map,ne=new Map,le=[],Dt="s-id",xe="sty-id",gt="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ct="http://www.w3.org/1999/xlink",ot=typeof window<"u"?window:{},Ke={$flags$:0,$resourcesUrl$:"",jmp:p=>p(),raf:p=>requestAnimationFrame(p),ael:(p,v,w,x)=>p.addEventListener(v,w,x),rel:(p,v,w,x)=>p.removeEventListener(v,w,x),ce:(p,v)=>new CustomEvent(p,v)},$t=(()=>{var p;let v=!1;try{null==(p=ot.document)||p.addEventListener("e",null,Object.defineProperty({},"passive",{get(){v=!0}}))}catch{}return v})(),Dn=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),qt=!!Dn&&!!ot.document&&Object.getOwnPropertyDescriptor(ot.document.adoptedStyleSheets,"length").writable,Ot=!1,Ze=[],Ne=[],ze=(p,v)=>w=>{p.push(w),Ot||(Ot=!0,v&&4&Ke.$flags$?pn(Qt):Ke.raf(Qt))},ut=p=>{for(let v=0;v<p.length;v++)try{p[v](performance.now())}catch(w){X(w)}p.length=0},Qt=()=>{ut(Ze),ut(Ne),(Ot=Ze.length>0)&&Ke.raf(Qt)},pn=p=>Promise.resolve(void 0).then(p),Nn=ze(Ze,!1),sn=ze(Ne,!0),bn=p=>{const v=new URL(p,Ke.$resourcesUrl$);return v.origin!==ot.location.origin?v.href:v.pathname},gr=p=>"object"==(p=typeof p)||"function"===p;function ro(p){var v,w,x;return null!=(x=null==(w=null==(v=p.head)?void 0:v.querySelector('meta[name="csp-nonce"]'))?void 0:w.getAttribute("content"))?x:void 0}var zr=class nd{static fromLocalValue(v){const w=v[Ye],x=te in v?v[te]:void 0;switch(w){case"string":case"boolean":return x;case"bigint":return BigInt(x);case"undefined":return;case"null":return null;case"number":return"NaN"===x?NaN:"-0"===x?-0:"Infinity"===x?1/0:"-Infinity"===x?-1/0:x;case"array":return x.map(be=>nd.fromLocalValue(be));case"date":return new Date(x);case"map":const ee=new Map;for(const[be,je]of x){const ft="object"==typeof be&&null!==be?nd.fromLocalValue(be):be,dt=nd.fromLocalValue(je);ee.set(ft,dt)}return ee;case"object":const J={};for(const[be,je]of x)J[be]=nd.fromLocalValue(je);return J;case"regexp":const{pattern:Ue,flags:me}=x;return new RegExp(Ue,me);case"set":const qe=new Set;for(const be of x)qe.add(nd.fromLocalValue(be));return qe;case"symbol":return Symbol(x);default:throw new Error(`Unsupported type: ${w}`)}}static fromLocalValueArray(v){return v.map(w=>nd.fromLocalValue(w))}static isLocalValueObject(v){if("object"!=typeof v||null===v||!v.hasOwnProperty(Ye))return!1;const w=v[Ye];return!!Object.values({...ve,...Ae}).includes(w)&&("null"===w||"undefined"===w||v.hasOwnProperty(te))}};((p,v)=>{for(var w in v)de(p,w,{get:v[w],enumerable:!0})})({},{err:()=>Jt,map:()=>ii,ok:()=>oo,unwrap:()=>Me,unwrapErr:()=>Oe});var oo=p=>({isOk:!0,isErr:!1,value:p}),Jt=p=>({isOk:!1,isErr:!0,value:p});function ii(p,v){if(p.isOk){const w=v(p.value);return w instanceof Promise?w.then(x=>oo(x)):oo(w)}if(p.isErr)return Jt(p.value);throw"should never get here"}var In,Me=p=>{if(p.isOk)return p.value;throw p.value},Oe=p=>{if(p.isErr)return p.value;throw p.value};function en(p){const w=this.attachShadow({mode:"open",delegatesFocus:!!(16&p.$flags$)});void 0===In&&(In=null),In&&(qt?w.adoptedStyleSheets.push(In):w.adoptedStyleSheets=[...w.adoptedStyleSheets,In])}var _o=p=>{const v=yr(p,"childNodes");p.tagName&&p.tagName.includes("-")&&p["s-cr"]&&"SLOT-FB"!==p.tagName&&Ir(v,p.tagName).forEach(x=>{1===x.nodeType&&"SLOT-FB"===x.tagName&&(x.hidden=!!fo(x,Tr(x),!1).length)});let w=0;for(w=0;w<v.length;w++){const x=v[w];1===x.nodeType&&yr(x,"childNodes").length&&_o(x)}},Wr=p=>{const v=[];for(let w=0;w<p.length;w++){const x=p[w]["s-nr"]||void 0;x&&x.isConnected&&v.push(x)}return v};function Ir(p,v,w){let J,x=0,ee=[];for(;x<p.length;x++){if(J=p[x],J["s-sr"]&&(!v||J["s-hn"]===v)&&(void 0===w||Tr(J)===w)&&(ee.push(J),typeof w<"u"))return ee;ee=[...ee,...Ir(J.childNodes,v,w)]}return ee}var fo=(p,v,w=!0)=>{const x=[];(w&&p["s-sr"]||!p["s-sr"])&&x.push(p);let ee=p;for(;ee=ee.nextSibling;)Tr(ee)===v&&(w||!ee["s-sr"])&&x.push(ee);return x},io=(p,v)=>1===p.nodeType?null===p.getAttribute("slot")&&""===v||p.getAttribute("slot")===v:p["s-sn"]===v||""===v,xo=(p,v,w,x)=>{if(p["s-ol"]&&p["s-ol"].isConnected)return;const ee=document.createTextNode("");if(ee["s-nr"]=p,!v["s-cr"]||!v["s-cr"].parentNode)return;const J=v["s-cr"].parentNode,Ue=yr(J,w?"prepend":"appendChild");if(typeof x<"u"){ee["s-oo"]=x;const me=yr(J,"childNodes"),qe=[ee];me.forEach(be=>{be["s-nr"]&&qe.push(be)}),qe.sort((be,je)=>!be["s-oo"]||be["s-oo"]<(je["s-oo"]||0)?-1:!je["s-oo"]||je["s-oo"]<be["s-oo"]?1:0),qe.forEach(be=>Ue.call(J,be))}else Ue.call(J,ee);p["s-ol"]=ee,p["s-sh"]=v["s-hn"]},Tr=p=>"string"==typeof p["s-sn"]?p["s-sn"]:1===p.nodeType&&p.getAttribute("slot")||void 0;function Tn(p){if(p.assignedElements||p.assignedNodes||!p["s-sr"])return;const v=w=>function(x){const ee=[],J=this["s-sn"];x?.flatten&&console.error("\n          Flattening is not supported for Stencil non-shadow slots.\n          You can use `.childNodes` to nested slot fallback content.\n          If you have a particular use case, please open an issue on the Stencil repo.\n        ");const Ue=this["s-cr"].parentElement;return(Ue.__childNodes?Ue.childNodes:Wr(Ue.childNodes)).forEach(qe=>{J===Tr(qe)&&ee.push(qe)}),w?ee.filter(qe=>1===qe.nodeType):ee}.bind(p);p.assignedElements=v(!0),p.assignedNodes=v(!1)}function Co(p){p.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1,composed:!1}))}function si(p,v){var w;if(!(v=v||(null==(w=p["s-ol"])?void 0:w.parentElement)))return{slotNode:null,slotName:""};const x=p["s-sn"]=Tr(p)||"";return{slotNode:Ir(yr(v,"childNodes"),v.tagName,x)[0],slotName:x}}var Go=p=>{const v=p.cloneNode;p.cloneNode=function(w){const ee=this.shadowRoot&&true,J=v.call(this,!!ee&&w);if(!ee&&w){let me,qe,Ue=0;const be=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"],je=this.__childNodes||this.childNodes;for(;Ue<je.length;Ue++)me=je[Ue]["s-nr"],qe=be.every(ft=>!je[Ue][ft]),me&&(J.__appendChild?J.__appendChild(me.cloneNode(!0)):J.appendChild(me.cloneNode(!0))),qe&&J.appendChild(je[Ue].cloneNode(!0))}return J}},jn=p=>{p.__appendChild=p.appendChild,p.appendChild=function(v){const{slotName:w,slotNode:x}=si(v,this);if(x){xo(v,x);const ee=fo(x,w),J=ee[ee.length-1],Ue=yr(J,"parentNode"),me=yr(Ue,"insertBefore")(v,J.nextSibling);return Co(x),_o(this),me}return this.__appendChild(v)}},Po=p=>{p.__removeChild=p.removeChild,p.removeChild=function(v){return v&&typeof v["s-sn"]<"u"&&Ir(this.__childNodes||this.childNodes,this.tagName,v["s-sn"])&&v.isConnected?(v.remove(),void _o(this)):this.__removeChild(v)}},Ar=p=>{p.__prepend=p.prepend,p.prepend=function(...v){v.forEach(w=>{"string"==typeof w&&(w=this.ownerDocument.createTextNode(w));const x=(w["s-sn"]=Tr(w))||"",J=Ir(yr(this,"childNodes"),this.tagName,x)[0];if(J){xo(w,J,!0);const me=fo(J,x)[0],qe=yr(me,"parentNode"),be=yr(qe,"insertBefore")(w,yr(me,"nextSibling"));return Co(J),be}return 1===w.nodeType&&w.getAttribute("slot")&&(w.hidden=!0),p.__prepend(w)})}},Si=p=>{p.__append=p.append,p.append=function(...v){v.forEach(w=>{"string"==typeof w&&(w=this.ownerDocument.createTextNode(w)),this.appendChild(w)})}},zo=p=>{const v=p.insertAdjacentHTML;p.insertAdjacentHTML=function(w,x){if("afterbegin"!==w&&"beforeend"!==w)return v.call(this,w,x);const ee=this.ownerDocument.createElement("_");let J;if(ee.innerHTML=x,"afterbegin"===w)for(;J=ee.firstChild;)this.prepend(J);else if("beforeend"===w)for(;J=ee.firstChild;)this.append(J)}},Pe=p=>{p.insertAdjacentText=function(v,w){this.insertAdjacentHTML(v,w)}},dr=p=>{p.__insertBefore||(p.__insertBefore=p.insertBefore,p.insertBefore=function(w,x){const{slotName:ee,slotNode:J}=si(w,this),Ue=this.__childNodes?this.childNodes:Wr(this.childNodes);if(J){let qe=!1;if(Ue.forEach(be=>{if(be!==x&&null!==x);else{if(qe=!0,null===x||ee!==x["s-sn"])return void this.appendChild(w);if(ee===x["s-sn"]){xo(w,J);const je=yr(x,"parentNode");yr(je,"insertBefore")(w,x),Co(J)}}}),qe)return w}const me=x?.__parentNode;return me&&!this.isSameNode(me)?this.appendChild(w):this.__insertBefore(w,x)})},qr=p=>{const v=p.insertAdjacentElement;p.insertAdjacentElement=function(w,x){return"afterbegin"!==w&&"beforeend"!==w?v.call(this,w,x):"afterbegin"===w?(this.prepend(x),x):("beforeend"===w&&this.append(x),x)}},zn=p=>{Ut("textContent",p),Object.defineProperty(p,"textContent",{get:function(){let v="";return(this.__childNodes?this.childNodes:Wr(this.childNodes)).forEach(x=>v+=x.textContent||""),v},set:function(v){(this.__childNodes?this.childNodes:Wr(this.childNodes)).forEach(x=>{x["s-ol"]&&x["s-ol"].remove(),x.remove()}),this.insertAdjacentHTML("beforeend",v)}})},Ri=p=>{class v extends Array{item(x){return this[x]}}Ut("children",p),Object.defineProperty(p,"children",{get(){return this.childNodes.filter(w=>1===w.nodeType)}}),Object.defineProperty(p,"childElementCount",{get(){return this.children.length}}),Ut("firstChild",p),Object.defineProperty(p,"firstChild",{get(){return this.childNodes[0]}}),Ut("lastChild",p),Object.defineProperty(p,"lastChild",{get(){return this.childNodes[this.childNodes.length-1]}}),Ut("childNodes",p),Object.defineProperty(p,"childNodes",{get(){const w=new v;return w.push(...Wr(this.__childNodes)),w}})},Gi=p=>{!p||void 0!==p.__nextSibling||!globalThis.Node||(gn(p),jr(p),da(p),p.nodeType===Node.ELEMENT_NODE&&(ai(p),Ni(p)))},gn=p=>{!p||p.__nextSibling||(Ut("nextSibling",p),Object.defineProperty(p,"nextSibling",{get:function(){var v;const w=null==(v=this["s-ol"])?void 0:v.parentNode.childNodes,x=w?.indexOf(this);return w&&x>-1?w[x+1]:this.__nextSibling}}))},ai=p=>{!p||p.__nextElementSibling||(Ut("nextElementSibling",p),Object.defineProperty(p,"nextElementSibling",{get:function(){var v;const w=null==(v=this["s-ol"])?void 0:v.parentNode.children,x=w?.indexOf(this);return w&&x>-1?w[x+1]:this.__nextElementSibling}}))},jr=p=>{!p||p.__previousSibling||(Ut("previousSibling",p),Object.defineProperty(p,"previousSibling",{get:function(){var v;const w=null==(v=this["s-ol"])?void 0:v.parentNode.childNodes,x=w?.indexOf(this);return w&&x>-1?w[x-1]:this.__previousSibling}}))},Ni=p=>{!p||p.__previousElementSibling||(Ut("previousElementSibling",p),Object.defineProperty(p,"previousElementSibling",{get:function(){var v;const w=null==(v=this["s-ol"])?void 0:v.parentNode.children,x=w?.indexOf(this);return w&&x>-1?w[x-1]:this.__previousElementSibling}}))},da=p=>{!p||p.__parentNode||(Ut("parentNode",p),Object.defineProperty(p,"parentNode",{get:function(){var v;return(null==(v=this["s-ol"])?void 0:v.parentNode)||this.__parentNode},set:function(v){this.__parentNode=v}}))},Hs=["children","nextElementSibling","previousElementSibling"],Vn=["childNodes","firstChild","lastChild","nextSibling","previousSibling","textContent","parentNode"];function Ut(p,v){if(!globalThis.Node||!globalThis.Element)return;let w;Hs.includes(p)?w=Object.getOwnPropertyDescriptor(Element.prototype,p):Vn.includes(p)&&(w=Object.getOwnPropertyDescriptor(Node.prototype,p)),w||(w=Object.getOwnPropertyDescriptor(v,p)),w&&Object.defineProperty(v,"__"+p,w)}function yr(p,v){if("__"+v in p){const w=p["__"+v];return"function"!=typeof w?w:w.bind(p)}return"function"!=typeof p[v]?p[v]:p[v].bind(p)}var Gt=new WeakMap,mr=(p,v,w)=>{let x=ne.get(p);Dn&&w?(x=x||new CSSStyleSheet,"string"==typeof x?x=v:x.replaceSync(v)):x=v,ne.set(p,x)},rr=(p,v,w)=>{var x;const ee=qo(v,w),J=ne.get(ee);if(!ot.document)return ee;if(p=11===p.nodeType?p:ot.document,J)if("string"==typeof J){let me,Ue=Gt.get(p=p.head||p);if(Ue||Gt.set(p,Ue=new Set),!Ue.has(ee)){if(p.host&&(me=p.querySelector(`[${xe}="${ee}"]`)))me.innerHTML=J;else{me=ot.document.createElement("style"),me.innerHTML=J;const qe=null!=(x=Ke.$nonce$)?x:ro(ot.document);if(null!=qe&&me.setAttribute("nonce",qe),!(1&v.$flags$))if("HEAD"===p.nodeName){const be=p.querySelectorAll("link[rel=preconnect]"),je=be.length>0?be[be.length-1].nextSibling:p.querySelector("style");p.insertBefore(me,je?.parentNode===p?je:null)}else if("host"in p)if(Dn){const be=new CSSStyleSheet;be.replaceSync(J),qt?p.adoptedStyleSheets.unshift(be):p.adoptedStyleSheets=[be,...p.adoptedStyleSheets]}else{const be=p.querySelector("style");be?be.innerHTML=J+be.innerHTML:p.prepend(me)}else p.append(me);1&v.$flags$&&p.insertBefore(me,null)}4&v.$flags$&&(me.innerHTML+=gt),Ue&&Ue.add(ee)}}else p.adoptedStyleSheets.includes(J)||(qt?p.adoptedStyleSheets.push(J):p.adoptedStyleSheets=[...p.adoptedStyleSheets,J]);return ee},qo=(p,v)=>"sc-"+(v&&32&p.$flags$?p.$tagName$+"-"+v:p.$tagName$),vc=p=>p.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),La=(p,v,...w)=>{let x=null,ee=null,J=null,Ue=!1,me=!1;const qe=[],be=ft=>{for(let dt=0;dt<ft.length;dt++)x=ft[dt],Array.isArray(x)?be(x):null!=x&&"boolean"!=typeof x&&((Ue="function"!=typeof p&&!gr(x))&&(x=String(x)),Ue&&me?qe[qe.length-1].$text$+=x:qe.push(Ue?gs(null,x):x),me=Ue)};if(be(w),v){v.key&&(ee=v.key),v.name&&(J=v.name);{const ft=v.className||v.class;ft&&(v.class="object"!=typeof ft?ft:Object.keys(ft).filter(dt=>ft[dt]).join(" "))}}if("function"==typeof p)return p(null===v?{}:v,qe,po);const je=gs(p,null);return je.$attrs$=v,qe.length>0&&(je.$children$=qe),je.$key$=ee,je.$name$=J,je},gs=(p,v)=>({$flags$:0,$tag$:p,$text$:v,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),al={},po={forEach:(p,v)=>p.map(Bt).forEach(v),map:(p,v)=>p.map(Bt).map(v).map(ms)},Bt=p=>({vattrs:p.$attrs$,vchildren:p.$children$,vkey:p.$key$,vname:p.$name$,vtag:p.$tag$,vtext:p.$text$}),ms=p=>{if("function"==typeof p.vtag){const w={...p.vattrs};return p.vkey&&(w.key=p.vkey),p.vname&&(w.name=p.vname),La(p.vtag,w,...p.vchildren||[])}const v=gs(p.vtag,p.vtext);return v.$attrs$=p.vattrs,v.$children$=p.vchildren,v.$key$=p.vkey,v.$name$=p.vname,v},$a=(p,v,w,x,ee,J,Ue,me=[])=>{let qe,be,je,ft;const dt=ee["s-sc"];if(1===J.nodeType){if(qe=J.getAttribute("c-id"),qe&&(be=qe.split("."),be[0]===Ue||"0"===be[0])){je=Zr({$flags$:0,$hostId$:be[0],$nodeId$:be[1],$depth$:be[2],$index$:be[3],$tag$:J.tagName.toLowerCase(),$elm$:J,$attrs$:{class:J.className||""}}),v.push(je),J.removeAttribute("c-id"),p.$children$||(p.$children$=[]),dt&&be[0]===Ue&&(J["s-si"]=dt,je.$attrs$.class+=" "+dt);const mt=je.$elm$.getAttribute("s-sn");"string"==typeof mt&&("slot-fb"===je.$tag$&&(Qe(mt,be[2],je,J,p,v,w,x,me),dt&&J.classList.add(dt)),je.$elm$["s-sn"]=mt,je.$elm$.removeAttribute("s-sn")),void 0!==je.$index$&&(p.$children$[je.$index$]=je),p=je,x&&"0"===je.$depth$&&(x[je.$index$]=je.$elm$)}if(J.shadowRoot)for(ft=J.shadowRoot.childNodes.length-1;ft>=0;ft--)$a(p,v,w,x,ee,J.shadowRoot.childNodes[ft],Ue,me);const kt=J.__childNodes||J.childNodes;for(ft=kt.length-1;ft>=0;ft--)$a(p,v,w,x,ee,kt[ft],Ue,me)}else if(8===J.nodeType)be=J.nodeValue.split("."),(be[1]===Ue||"0"===be[1])&&(qe=be[0],je=Zr({$hostId$:be[1],$nodeId$:be[2],$depth$:be[3],$index$:be[4]||"0",$elm$:J,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null}),"t"===qe?(je.$elm$=Un(J,3),je.$elm$&&3===je.$elm$.nodeType&&(je.$text$=je.$elm$.textContent,v.push(je),J.remove(),Ue===je.$hostId$&&(p.$children$||(p.$children$=[]),p.$children$[je.$index$]=je),x&&"0"===je.$depth$&&(x[je.$index$]=je.$elm$))):"c"===qe?(je.$elm$=Un(J,8),je.$elm$&&8===je.$elm$.nodeType&&(v.push(je),J.remove())):je.$hostId$===Ue&&("s"===qe?Qe(J["s-sn"]=be[5]||"",be[2],je,J,p,v,w,x,me):"r"===qe&&(x?J.remove():(ee["s-cr"]=J,J["s-cn"]=!0))));else if(p&&"style"===p.$tag$){const kt=gs(null,J.textContent);kt.$elm$=J,kt.$index$="0",p.$children$=[kt]}else 3===J.nodeType&&!J.wholeText.trim()&&!J["s-nr"]&&J.remove();return p},Zo=(p,v)=>{if(1===p.nodeType){const w=p[Dt]||p.getAttribute(Dt);w&&v.set(w,p);let x=0;if(p.shadowRoot)for(;x<p.shadowRoot.childNodes.length;x++)Zo(p.shadowRoot.childNodes[x],v);const ee=p.__childNodes||p.childNodes;for(x=0;x<ee.length;x++)Zo(ee[x],v)}else if(8===p.nodeType){const w=p.nodeValue.split(".");"o"===w[0]&&(v.set(w[1]+"."+w[2],p),p.nodeValue="",p["s-en"]=w[3])}},Zr=p=>({$flags$:0,$hostId$:null,$nodeId$:null,$depth$:null,$index$:"0",$elm$:null,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null,...p});function Qe(p,v,w,x,ee,J,Ue,me,qe){x["s-sr"]=!0,w.$name$=p||null,w.$tag$="slot";const be=ee?.$elm$?ee.$elm$["s-id"]||ee.$elm$.getAttribute("s-id"):"";if(me&&ot.document){const je=w.$elm$=ot.document.createElement(w.$tag$);w.$name$&&w.$elm$.setAttribute("name",p),ee.$elm$.shadowRoot&&be&&be!==w.$hostId$?yr(ee.$elm$,"insertBefore")(je,yr(ee.$elm$,"children")[0]):yr(yr(x,"parentNode"),"insertBefore")(je,x),xl(qe,v,p,x,w.$hostId$),x.remove(),"0"===w.$depth$&&(me[w.$index$]=w.$elm$)}else{const je=w.$elm$,ft=be&&be!==w.$hostId$&&ee.$elm$.shadowRoot;xl(qe,v,p,x,ft?be:w.$hostId$),Tn(x),ft&&ee.$elm$.insertBefore(je,ee.$elm$.children[0])}J.push(w),Ue.push(w),ee.$children$||(ee.$children$=[]),ee.$children$[w.$index$]=w}var xl=(p,v,w,x,ee)=>{var J,Ue;let me=x.nextSibling;if(p[v]=p[v]||[],me&&(null==(J=me.nodeValue)||!J.startsWith("s.")))do{me&&((me.getAttribute&&me.getAttribute("slot")||me["s-sn"])===w||""===w&&!me["s-sn"]&&(!me.getAttribute||!me.getAttribute("slot"))&&(8===me.nodeType||3===me.nodeType))&&(me["s-sn"]=w,p[v].push({slot:x,node:me,hostId:ee})),me=me?.nextSibling}while(me&&(null==(Ue=me.nodeValue)||!Ue.startsWith("s.")))},Un=(p,v)=>{let w=p;do{w=w.nextSibling}while(w&&(w.nodeType!==v||!w.nodeValue));return w},vs=p=>{const v=(p=>p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(p);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${v}))(${v}\\b)`,"g")};vs("::slotted"),vs(":host"),vs(":host-context");var Ml=p=>le.push(p),Ba=p=>{var v;return null==(v=_e(p))?void 0:v.$modeName$},Oi=(p,v,w)=>{if("string"==typeof p&&p.startsWith(De))return function Zt(p){return"string"==typeof p&&p.startsWith(De)?zr.fromLocalValue(JSON.parse(atob(p.slice(11)))):p}(p);if("string"==typeof p&&(16&v||8&v)&&(p.startsWith("{")&&p.endsWith("}")||p.startsWith("[")&&p.endsWith("]")))try{return JSON.parse(p)}catch{}return null==p||gr(p)?p:4&v?"false"!==p&&(""===p||!!p):2&v?"string"==typeof p?parseFloat(p):"number"==typeof p?p:NaN:1&v?String(p):p},_s=p=>{var v;return null==(v=_e(p))?void 0:v.$hostElement$},Gs=(p,v,w)=>{const x=_s(p);return{emit:ee=>nt(x,v,{bubbles:!!(4&w),composed:!!(2&w),cancelable:!!(1&w),detail:ee})}},nt=(p,v,w)=>{const x=Ke.ce(v,w);return p.dispatchEvent(x),x},zs=(p,v,w,x,ee,J,Ue)=>{if(w===x)return;let me=U(p,v),qe=v.toLowerCase();if("class"===v){const be=p.classList,je=Pi(w);let ft=Pi(x);if((p["s-si"]||p["s-sc"])&&Ue){const dt=p["s-sc"]||p["s-si"];ft.push(dt),je.forEach(kt=>{kt.startsWith(dt)&&ft.push(kt)}),ft=[...new Set(ft)].filter(kt=>kt),be.add(...ft)}else be.remove(...je.filter(dt=>dt&&!ft.includes(dt))),be.add(...ft.filter(dt=>dt&&!je.includes(dt)))}else if("style"===v){for(const be in w)(!x||null==x[be])&&(be.includes("-")?p.style.removeProperty(be):p.style[be]="");for(const be in x)(!w||x[be]!==w[be])&&(be.includes("-")?p.style.setProperty(be,x[be]):p.style[be]=x[be])}else if("key"!==v)if("ref"===v)x&&x(p);else if(me||"o"!==v[0]||"n"!==v[1]){const be=gr(x);if((me||be&&null!==x)&&!ee)try{if(p.tagName.includes("-"))p[v]!==x&&(p[v]=x);else{const ft=x??"";"list"===v?me=!1:(null==w||p[v]!=ft)&&("function"==typeof p.__lookupSetter__(v)?p[v]=ft:p.setAttribute(v,ft))}}catch{}let je=!1;qe!==(qe=qe.replace(/^xlink\:?/,""))&&(v=qe,je=!0),null==x||!1===x?(!1!==x||""===p.getAttribute(v))&&(je?p.removeAttributeNS(Ct,v):p.removeAttribute(v)):(!me||4&J||ee)&&!be&&1===p.nodeType&&(x=!0===x?"":x,je?p.setAttributeNS(Ct,v,x):p.setAttribute(v,x))}else if(v="-"===v[2]?v.slice(3):U(ot,qe)?qe.slice(2):qe[2]+v.slice(3),w||x){const be=v.endsWith(Ko);v=v.replace(pa,""),w&&Ke.rel(p,v,w,be),x&&Ke.ael(p,v,x,be)}},zi=/\s/,Pi=p=>("object"==typeof p&&p&&"baseVal"in p&&(p=p.baseVal),p&&"string"==typeof p?p.split(zi):[]),Ko="Capture",pa=new RegExp(Ko+"$"),ys=(p,v,w,x)=>{const ee=11===v.$elm$.nodeType&&v.$elm$.host?v.$elm$.host:v.$elm$,J=p&&p.$attrs$||{},Ue=v.$attrs$||{};for(const me of Ws(Object.keys(J)))me in Ue||zs(ee,me,J[me],void 0,w,v.$flags$,x);for(const me of Ws(Object.keys(Ue)))zs(ee,me,J[me],Ue[me],w,v.$flags$,x)};function Ws(p){return p.includes("ref")?[...p.filter(v=>"ref"!==v),"ref"]:p}var Yo,bs,Ci,Ss=!1,Cs=!1,Wi=!1,ho=!1,wi=(p,v,w)=>{var x;const ee=v.$children$[w];let Ue,me,qe,J=0;if(Ss||(Wi=!0,"slot"===ee.$tag$&&(ee.$flags$|=ee.$children$?2:1)),null!==ee.$text$)Ue=ee.$elm$=ot.document.createTextNode(ee.$text$);else if(1&ee.$flags$)Ue=ee.$elm$=ot.document.createTextNode(""),ys(null,ee,ho);else{if(ho||(ho="svg"===ee.$tag$),!ot.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(Ue=ee.$elm$=ot.document.createElementNS(ho?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Ss&&2&ee.$flags$?"slot-fb":ee.$tag$),ho&&"foreignObject"===ee.$tag$&&(ho=!1),ys(null,ee,ho),(p=>null!=p&&void 0!==p)(Yo)&&Ue["s-si"]!==Yo&&Ue.classList.add(Ue["s-si"]=Yo),ee.$children$)for(J=0;J<ee.$children$.length;++J)me=wi(p,ee,J),me&&Ue.appendChild(me);"svg"===ee.$tag$?ho=!1:"foreignObject"===Ue.tagName&&(ho=!0)}return Ue["s-hn"]=Ci,3&ee.$flags$&&(Ue["s-sr"]=!0,Ue["s-cr"]=bs,Ue["s-sn"]=ee.$name$||"",Ue["s-rf"]=null==(x=ee.$attrs$)?void 0:x.ref,Tn(Ue),qe=p&&p.$children$&&p.$children$[w],qe&&qe.$tag$===ee.$tag$&&p.$elm$&&qi(p.$elm$),Es(bs,Ue,v.$elm$,p?.$elm$)),Ue},qi=p=>{Ke.$flags$|=1;const v=p.closest(Ci.toLowerCase());if(null!=v){const w=Array.from(v.__childNodes||v.childNodes).find(ee=>ee["s-cr"]),x=Array.from(p.__childNodes||p.childNodes);for(const ee of w?x.reverse():x)null!=ee["s-sh"]&&(wo(v,ee,w??null),ee["s-sh"]=void 0,Wi=!0)}Ke.$flags$&=-2},Zi=(p,v)=>{Ke.$flags$|=1;const w=Array.from(p.__childNodes||p.childNodes);if(p["s-sr"]){let x=p;for(;x=x.nextSibling;)x&&x["s-sn"]===p["s-sn"]&&x["s-sh"]===Ci&&w.push(x)}for(let x=w.length-1;x>=0;x--){const ee=w[x];ee["s-hn"]!==Ci&&ee["s-ol"]&&(wo(Ei(ee).parentNode,ee,Ei(ee)),ee["s-ol"].remove(),ee["s-ol"]=void 0,ee["s-sh"]=void 0,Wi=!0),v&&Zi(ee,v)}Ke.$flags$&=-2},qs=(p,v,w,x,ee,J)=>{let me,Ue=p["s-cr"]&&p["s-cr"].parentNode||p;for(Ue.shadowRoot&&Ue.tagName===Ci&&(Ue=Ue.shadowRoot);ee<=J;++ee)x[ee]&&(me=wi(null,w,ee),me&&(x[ee].$elm$=me,wo(Ue,me,Ei(v))))},ws=(p,v,w)=>{for(let x=v;x<=w;++x){const ee=p[x];if(ee){const J=ee.$elm$;Zs(ee),J&&(Cs=!0,J["s-ol"]?J["s-ol"].remove():Zi(J,!0),J.remove())}}},Xo=(p,v,w=!1)=>p.$tag$===v.$tag$&&("slot"===p.$tag$?p.$name$===v.$name$:w?(w&&!p.$key$&&v.$key$&&(p.$key$=v.$key$),!0):p.$key$===v.$key$),Ei=p=>p&&p["s-ol"]||p,zt=(p,v,w=!1)=>{const x=v.$elm$=p.$elm$,ee=p.$children$,J=v.$children$,Ue=v.$tag$,me=v.$text$;let qe;null===me?(ho="svg"===Ue||"foreignObject"!==Ue&&ho,"slot"===Ue&&!Ss&&p.$name$!==v.$name$&&(v.$elm$["s-sn"]=v.$name$||"",qi(v.$elm$.parentElement)),ys(p,v,ho,w),null!==ee&&null!==J?((p,v,w,x,ee=!1)=>{let Rt,cr,J=0,Ue=0,me=0,qe=0,be=v.length-1,je=v[0],ft=v[be],dt=x.length-1,kt=x[0],mt=x[dt];for(;J<=be&&Ue<=dt;)if(null==je)je=v[++J];else if(null==ft)ft=v[--be];else if(null==kt)kt=x[++Ue];else if(null==mt)mt=x[--dt];else if(Xo(je,kt,ee))zt(je,kt,ee),je=v[++J],kt=x[++Ue];else if(Xo(ft,mt,ee))zt(ft,mt,ee),ft=v[--be],mt=x[--dt];else if(Xo(je,mt,ee))("slot"===je.$tag$||"slot"===mt.$tag$)&&Zi(je.$elm$.parentNode,!1),zt(je,mt,ee),wo(p,je.$elm$,ft.$elm$.nextSibling),je=v[++J],mt=x[--dt];else if(Xo(ft,kt,ee))("slot"===je.$tag$||"slot"===mt.$tag$)&&Zi(ft.$elm$.parentNode,!1),zt(ft,kt,ee),wo(p,ft.$elm$,je.$elm$),ft=v[--be],kt=x[++Ue];else{for(me=-1,qe=J;qe<=be;++qe)if(v[qe]&&null!==v[qe].$key$&&v[qe].$key$===kt.$key$){me=qe;break}me>=0?(cr=v[me],cr.$tag$!==kt.$tag$?Rt=wi(v&&v[Ue],w,me):(zt(cr,kt,ee),v[me]=void 0,Rt=cr.$elm$),kt=x[++Ue]):(Rt=wi(v&&v[Ue],w,Ue),kt=x[++Ue]),Rt&&wo(Ei(je.$elm$).parentNode,Rt,Ei(je.$elm$))}J>be?qs(p,null==x[dt+1]?null:x[dt+1].$elm$,w,x,Ue,dt):Ue>dt&&ws(v,J,be)})(x,ee,v,J,w):null!==J?(null!==p.$text$&&(x.textContent=""),qs(x,null,v,J,0,J.length-1)):w||null===ee?w&&null!==ee&&null===J&&(v.$children$=ee):ws(ee,0,ee.length-1),ho&&"svg"===Ue&&(ho=!1)):(qe=x["s-cr"])?qe.parentNode.textContent=me:p.$text$!==me&&(x.data=me)},un=[],ha=p=>{let v,w,x;const ee=p.__childNodes||p.childNodes;for(const J of ee){if(J["s-sr"]&&(v=J["s-cr"])&&v.parentNode){w=v.parentNode.__childNodes||v.parentNode.childNodes;const Ue=J["s-sn"];for(x=w.length-1;x>=0;x--)if(v=w[x],!(v["s-cn"]||v["s-nr"]||v["s-hn"]===J["s-hn"]||v["s-sh"]&&v["s-sh"]===J["s-hn"]))if(io(v,Ue)){let me=un.find(qe=>qe.$nodeToRelocate$===v);Cs=!0,v["s-sn"]=v["s-sn"]||Ue,me?(me.$nodeToRelocate$["s-sh"]=J["s-hn"],me.$slotRefNode$=J):(v["s-sh"]=J["s-hn"],un.push({$slotRefNode$:J,$nodeToRelocate$:v})),v["s-sr"]&&un.map(qe=>{io(qe.$nodeToRelocate$,v["s-sn"])&&(me=un.find(be=>be.$nodeToRelocate$===v),me&&!qe.$slotRefNode$&&(qe.$slotRefNode$=me.$slotRefNode$))})}else un.some(me=>me.$nodeToRelocate$===v)||un.push({$nodeToRelocate$:v})}1===J.nodeType&&ha(J)}},Zs=p=>{p.$attrs$&&p.$attrs$.ref&&p.$attrs$.ref(null),p.$children$&&p.$children$.map(Zs)},wo=(p,v,w)=>{if("string"==typeof v["s-sn"]&&v["s-sr"]&&v["s-cr"])Es(v["s-cr"],v,p,v.parentElement);else if("string"==typeof v["s-sn"]){11!==p.getRootNode().nodeType&&da(v),p.insertBefore(v,w);const{slotNode:x}=si(v);return x&&Co(x),v}return p.__insertBefore?p.__insertBefore(v,w):p?.insertBefore(v,w)};function Es(p,v,w,x){var ee,J;let Ue;if(p&&"string"==typeof v["s-sn"]&&v["s-sr"]&&p.parentNode&&p.parentNode["s-sc"]&&(Ue=v["s-si"]||p.parentNode["s-sc"])){const me=v["s-sn"],qe=v["s-hn"];if(null==(ee=w.classList)||ee.add(Ue+"-s"),x&&null!=(J=x.classList)&&J.contains(Ue+"-s")){let be=(x.__childNodes||x.childNodes)[0],je=!1;for(;be;){if(be["s-sn"]!==me&&be["s-hn"]===qe&&be["s-sr"]){je=!0;break}be=be.nextSibling}je||x.classList.remove(Ue+"-s")}}}var Ki=(p,v)=>{if(v&&!p.$onRenderResolve$&&v["s-p"]){const w=v["s-p"].push(new Promise(x=>p.$onRenderResolve$=()=>{v["s-p"].splice(w-1,1),x()}))}},Ds=(p,v)=>{if(p.$flags$|=16,4&p.$flags$)return void(p.$flags$|=512);Ki(p,p.$ancestorComponent$);const w=()=>ja(p,v);if(!v)return sn(w);queueMicrotask(()=>{w()})},ja=(p,v)=>{const w=p.$hostElement$,ee=p.$lazyInstance$;if(!ee)throw new Error(`Can't render component <${w.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let J;return v?(p.$flags$|=256,p.$queuedListeners$&&(p.$queuedListeners$.map(([Ue,me])=>Eo(ee,Ue,me,w)),p.$queuedListeners$=void 0),J=Eo(ee,"componentWillLoad",void 0,w)):J=Eo(ee,"componentWillUpdate",void 0,w),J=Ks(J,()=>Eo(ee,"componentWillRender",void 0,w)),Ks(J,()=>ga(p,ee,v))},Ks=(p,v)=>Is(p)?p.then(v).catch(w=>{console.error(w),v()}):v(),Is=p=>p instanceof Promise||p&&p.then&&"function"==typeof p.then,ga=function(){var p=(0,C.A)(function*(v,w,x){var ee;const J=v.$hostElement$,me=J["s-rc"];x&&(p=>{const v=p.$cmpMeta$,w=p.$hostElement$,x=v.$flags$,J=rr(w.shadowRoot?w.shadowRoot:w.getRootNode(),v,p.$modeName$);10&x&&(w["s-sc"]=J,w.classList.add(J+"-h"))})(v);Ys(v,w,J,x),me&&(me.map(be=>be()),J["s-rc"]=void 0);{const be=null!=(ee=J["s-p"])?ee:[],je=()=>Xs(v);0===be.length?je():(Promise.all(be).then(je),v.$flags$|=4,be.length=0)}});return function(w,x,ee){return p.apply(this,arguments)}}(),Ys=(p,v,w,x)=>{try{v=v.render&&v.render(),p.$flags$&=-17,p.$flags$|=2,((p,v,w=!1)=>{var x,ee,J,Ue,me;const qe=p.$hostElement$,be=p.$cmpMeta$,je=p.$vnode$||gs(null,null),dt=(p=>p&&p.$tag$===al)(v)?v:La(null,null,v);if(Ci=qe.tagName,be.$attrsToReflect$&&(dt.$attrs$=dt.$attrs$||{},be.$attrsToReflect$.map(([kt,mt])=>dt.$attrs$[mt]=qe[kt])),w&&dt.$attrs$)for(const kt of Object.keys(dt.$attrs$))qe.hasAttribute(kt)&&!["key","ref","style","class"].includes(kt)&&(dt.$attrs$[kt]=qe[kt]);if(dt.$tag$=null,dt.$flags$|=4,p.$vnode$=dt,dt.$elm$=je.$elm$=qe.shadowRoot||qe,Yo=qe["s-sc"],Ss=!(!(1&be.$flags$)||128&be.$flags$),bs=qe["s-cr"],Cs=!1,zt(je,dt,w),Ke.$flags$|=1,Wi){ha(dt.$elm$);for(const kt of un){const mt=kt.$nodeToRelocate$;if(!mt["s-ol"]&&ot.document){const Rt=ot.document.createTextNode("");Rt["s-nr"]=mt,wo(mt.parentNode,mt["s-ol"]=Rt,mt)}}for(const kt of un){const mt=kt.$nodeToRelocate$,Rt=kt.$slotRefNode$;if(Rt){const cr=Rt.parentNode;let Yt=Rt.nextSibling;if(Yt&&1===Yt.nodeType){let an=null==(x=mt["s-ol"])?void 0:x.previousSibling;for(;an;){let wt=null!=(ee=an["s-nr"])?ee:null;if(wt&&wt["s-sn"]===mt["s-sn"]&&cr===(wt.__parentNode||wt.parentNode)){for(wt=wt.nextSibling;wt===mt||wt?.["s-sr"];)wt=wt?.nextSibling;if(!wt||!wt["s-nr"]){Yt=wt;break}}an=an.previousSibling}}(!Yt&&cr!==(mt.__parentNode||mt.parentNode)||(mt.__nextSibling||mt.nextSibling)!==Yt)&&mt!==Yt&&(wo(cr,mt,Yt),1===mt.nodeType&&"SLOT-FB"!==mt.tagName&&(mt.hidden=null!=(J=mt["s-ih"])&&J)),mt&&"function"==typeof Rt["s-rf"]&&Rt["s-rf"](Rt)}else 1===mt.nodeType&&(w&&(mt["s-ih"]=null!=(Ue=mt.hidden)&&Ue),mt.hidden=!0)}}if(Cs&&_o(dt.$elm$),Ke.$flags$&=-2,un.length=0,2&be.$flags$){const kt=dt.$elm$.__childNodes||dt.$elm$.childNodes;for(const mt of kt)mt["s-hn"]!==Ci&&!mt["s-sh"]&&(w&&null==mt["s-ih"]&&(mt["s-ih"]=null!=(me=mt.hidden)&&me),mt.hidden=!0)}bs=void 0})(p,v,x)}catch(ee){X(ee,p.$hostElement$)}return null},Xs=p=>{const w=p.$hostElement$,ee=p.$lazyInstance$,J=p.$ancestorComponent$;Eo(ee,"componentDidRender",void 0,w),64&p.$flags$?Eo(ee,"componentDidUpdate",void 0,w):(p.$flags$|=64,Js(w),Eo(ee,"componentDidLoad",void 0,w),p.$onReadyResolve$(w),J||Qs()),p.$onInstanceResolve$(w),p.$onRenderResolve$&&(p.$onRenderResolve$(),p.$onRenderResolve$=void 0),512&p.$flags$&&pn(()=>Ds(p,!1)),p.$flags$&=-517},ma=p=>{var v;{const w=_e(p),x=null==(v=w?.$hostElement$)?void 0:v.isConnected;return x&&2==(18&w.$flags$)&&Ds(w,!1),x}},Qs=p=>{var v;pn(()=>nt(ot,"appload",{detail:{namespace:"ionic"}})),null!=(v=Ke.$orgLocNodes$)&&v.size&&Ke.$orgLocNodes$.clear()},Eo=(p,v,w,x)=>{if(p&&p[v])try{return p[v](w)}catch(ee){X(ee,x)}},Js=p=>p.classList.add("hydrated"),Yi=(p,v,w,x)=>{const ee=_e(p);if(!ee)return;if(!ee)throw new Error(`Couldn't find host element for "${x.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const J=ee.$hostElement$,Ue=ee.$instanceValues$.get(v),me=ee.$flags$,qe=ee.$lazyInstance$;w=Oi(w,x.$members$[v][0]);const be=Number.isNaN(Ue)&&Number.isNaN(w);if((!(8&me)||void 0===Ue)&&w!==Ue&&!be&&(ee.$instanceValues$.set(v,w),qe)){if(x.$watchers$&&128&me){const ft=x.$watchers$[v];ft&&ft.map(dt=>{try{qe[dt](w,Ue,v)}catch(kt){X(kt,J)}})}if(2==(18&me)){if(qe.componentShouldUpdate&&!1===qe.componentShouldUpdate(w,Ue,v))return;Ds(ee,!1)}}},va=(p,v,w)=>{var x,ee;const J=p.prototype;if(v.$members$||v.$watchers$||p.watchers){p.watchers&&!v.$watchers$&&(v.$watchers$=p.watchers);const Ue=Object.entries(null!=(x=v.$members$)?x:{});if(Ue.map(([me,[qe]])=>{if(31&qe||2&w&&32&qe){const{get:be,set:je}=Object.getOwnPropertyDescriptor(J,me)||{};be&&(v.$members$[me][0]|=2048),je&&(v.$members$[me][0]|=4096),(1&w||!be)&&Object.defineProperty(J,me,{get(){{if(!(2048&v.$members$[me][0]))return((p,v)=>_e(this).$instanceValues$.get(v))(0,me);const ft=_e(this),dt=ft?ft.$lazyInstance$:J;return dt?dt[me]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(J,me,{set(ft){const dt=_e(this);if(dt){if(je){const kt=32&qe?this[me]:dt.$hostElement$[me];return typeof kt>"u"&&dt.$instanceValues$.get(me)?ft=dt.$instanceValues$.get(me):!dt.$instanceValues$.get(me)&&kt&&dt.$instanceValues$.set(me,kt),je.apply(this,[Oi(ft,qe)]),void Yi(this,me,ft=32&qe?this[me]:dt.$hostElement$[me],v)}{if(!(1&w&&4096&v.$members$[me][0]))return Yi(this,me,ft,v),void(1&w&&!dt.$lazyInstance$&&dt.$onReadyPromise$.then(()=>{4096&v.$members$[me][0]&&dt.$lazyInstance$[me]!==dt.$instanceValues$.get(me)&&(dt.$lazyInstance$[me]=ft)}));const kt=()=>{const mt=dt.$lazyInstance$[me];!dt.$instanceValues$.get(me)&&mt&&dt.$instanceValues$.set(me,mt),dt.$lazyInstance$[me]=Oi(ft,qe),Yi(this,me,dt.$lazyInstance$[me],v)};dt.$lazyInstance$?kt():dt.$onReadyPromise$.then(()=>kt())}}}})}else 1&w&&64&qe&&Object.defineProperty(J,me,{value(...be){var je;const ft=_e(this);return null==(je=ft?.$onInstancePromise$)?void 0:je.then(()=>{var dt;return null==(dt=ft.$lazyInstance$)?void 0:dt[me](...be)})}})}),1&w){const me=new Map;J.attributeChangedCallback=function(qe,be,je){Ke.jmp(()=>{var ft;const dt=me.get(qe);if(this.hasOwnProperty(dt))je=this[dt],delete this[dt];else{if(J.hasOwnProperty(dt)&&"number"==typeof this[dt]&&this[dt]==je)return;if(null==dt){const mt=_e(this),Rt=mt?.$flags$;if(mt&&Rt&&!(8&Rt)&&128&Rt&&je!==be){const cr=mt.$lazyInstance$,Yt=null==(ft=v.$watchers$)?void 0:ft[qe];Yt?.forEach(Xt=>{null!=cr[Xt]&&cr[Xt].call(cr,je,be,qe)})}return}}const kt=Object.getOwnPropertyDescriptor(J,dt);(je=(null!==je||"boolean"!=typeof this[dt])&&je)!==this[dt]&&(!kt.get||kt.set)&&(this[dt]=je)})},p.observedAttributes=Array.from(new Set([...Object.keys(null!=(ee=v.$watchers$)?ee:{}),...Ue.filter(([qe,be])=>15&be[0]).map(([qe,be])=>{var je;const ft=be[1]||qe;return me.set(ft,qe),512&be[0]&&(null==(je=v.$attrsToReflect$)||je.push([qe,ft])),ft})]))}}return p},Va=function(){var p=(0,C.A)(function*(v,w,x,ee){let J;if(!(32&w.$flags$)){if(w.$flags$|=32,x.$lazyBundleId$){const be=((p,v)=>{const x=p.$tagName$.replace(/-/g,"_"),ee=p.$lazyBundleId$;if(!ee)return;const J=Ve.get(ee);return J?J[x]:y(8996)(`./${ee}.entry.js`).then(Ue=>(Ve.set(ee,Ue),Ue[x]),Ue=>{X(Ue,v.$hostElement$)})})(x,w);if(be&&"then"in be){const ft=()=>{};J=yield be,ft()}else J=be;if(!J)throw new Error(`Constructor for "${x.$tagName$}#${w.$modeName$}" was not found`);J.isProxied||(x.$watchers$=J.watchers,va(J,x,2),J.isProxied=!0);const je=()=>{};w.$flags$|=8;try{new J(w)}catch(ft){X(ft,v)}w.$flags$&=-9,w.$flags$|=128,je(),Fo(w.$lazyInstance$,v)}else J=v.constructor,customElements.whenDefined(v.localName).then(()=>w.$flags$|=128);if(J&&J.style){let be;"string"==typeof J.style?be=J.style:"string"!=typeof J.style&&(w.$modeName$=(p=>le.map(v=>v(p)).find(v=>!!v))(v),w.$modeName$&&(be=J.style[w.$modeName$]));const je=qo(x,w.$modeName$);if(!ne.has(je)){const ft=()=>{};mr(je,be,!!(1&x.$flags$)),ft()}}}const Ue=w.$ancestorComponent$,me=()=>Ds(w,!0);Ue&&Ue["s-rc"]?Ue["s-rc"].push(me):me()});return function(w,x,ee,J){return p.apply(this,arguments)}}(),Fo=(p,v)=>{Eo(p,"connectedCallback",void 0,v)},_a=p=>{if(!ot.document)return;const v=p["s-cr"]=ot.document.createComment("");v["s-cn"]=!0,wo(p,v,p.firstChild)},ea=(p,v)=>{Eo(p,"disconnectedCallback",void 0,v||p)},ae=function(){var p=(0,C.A)(function*(v){if(!(1&Ke.$flags$)){const w=_e(v);w?.$rmListeners$&&(w.$rmListeners$.map(x=>x()),w.$rmListeners$=void 0),w?.$lazyInstance$?ea(w.$lazyInstance$,v):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>ea(w.$lazyInstance$,v))}Gt.has(v)&&Gt.delete(v),v.shadowRoot&&Gt.has(v.shadowRoot)&&Gt.delete(v.shadowRoot)});return function(w){return p.apply(this,arguments)}}(),ta=(p,v={})=>{var w;if(!ot.document)return void console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");const ee=[],J=v.exclude||[],Ue=ot.customElements,me=ot.document.head,qe=me.querySelector("meta[charset]"),be=ot.document.createElement("style"),je=[];let ft,dt=!0;Object.assign(Ke,v),Ke.$resourcesUrl$=new URL(v.resourcesUrl||"./",ot.document.baseURI).href,Ke.$flags$|=2,(()=>{if(!ot.document)return;const p=ot.document.querySelectorAll(`[${xe}]`);let v=0;for(;v<p.length;v++)mr(p[v].getAttribute(xe),vc(p[v].innerHTML),!0)})();let kt=!1;if(p.map(mt=>{mt[1].map(Rt=>{var cr;const Yt={$flags$:Rt[0],$tagName$:Rt[1],$members$:Rt[2],$listeners$:Rt[3]};4&Yt.$flags$&&(kt=!0),Yt.$members$=Rt[2],Yt.$listeners$=Rt[3],Yt.$attrsToReflect$=[],Yt.$watchers$=null!=(cr=Rt[4])?cr:{};const Xt=Yt.$tagName$,$n=class extends HTMLElement{constructor(an){if(super(an),this.hasRegisteredEventListeners=!1,((p,v)=>{const w={$flags$:0,$hostElement$:p,$cmpMeta$:v,$instanceValues$:new Map};w.$onInstancePromise$=new Promise(ee=>w.$onInstanceResolve$=ee),w.$onReadyPromise$=new Promise(ee=>w.$onReadyResolve$=ee),p["s-p"]=[],p["s-rc"]=[];const x=w;p.__stencil__getHostRef=()=>x})(an=this,Yt),1&Yt.$flags$)if(an.shadowRoot){if("open"!==an.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Yt.$tagName$}! Mode is set to ${an.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else en.call(an,Yt)}connectedCallback(){const an=_e(this);an&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,ci(this,an,Yt.$listeners$)),ft&&(clearTimeout(ft),ft=null),dt?je.push(this):Ke.jmp(()=>(p=>{if(!(1&Ke.$flags$)){const v=_e(p);if(!v)return;const w=v.$cmpMeta$,x=()=>{};if(1&v.$flags$)ci(p,v,w.$listeners$),v?.$lazyInstance$?Fo(v.$lazyInstance$,p):v?.$onReadyPromise$&&v.$onReadyPromise$.then(()=>Fo(v.$lazyInstance$,p));else{let ee;if(v.$flags$|=1,ee=p.getAttribute(Dt),ee){if(1&w.$flags$){const J=rr(p.shadowRoot,w,p.getAttribute("s-mode"));p.classList.remove(J+"-h",J+"-s")}else if(2&w.$flags$){const J=qo(w,p.getAttribute("s-mode"));p["s-sc"]=J}((p,v,w,x)=>{var ee,J,Ue;const qe=p.shadowRoot,be=[],je=[],ft=[],dt=qe?[]:null,kt=gs(v,null);let Rt;kt.$elm$=p,Object.entries((null==(ee=x.$cmpMeta$)?void 0:ee.$members$)||{}).forEach(([$,[ce,Be]])=>{var Ft;if(!(31&ce))return;const mn=p.getAttribute(Be||$);if(null!==mn){const Gn=Oi(mn,ce);null==(Ft=x?.$instanceValues$)||Ft.set($,Gn)}});{const $=x.$cmpMeta$;$&&10&$.$flags$&&p["s-sc"]?(Rt=p["s-sc"],p.classList.add(Rt+"-h")):p["s-sc"]&&delete p["s-sc"]}ot.document&&(!Ke.$orgLocNodes$||!Ke.$orgLocNodes$.size)&&Zo(ot.document.body,Ke.$orgLocNodes$=new Map),p[Dt]=w,p.removeAttribute(Dt),x.$vnode$=$a(kt,be,je,dt,p,p,w,ft);let cr=0;const Yt=be.length;let Xt;for(;cr<Yt;cr++){Xt=be[cr];const $=Xt.$hostId$+"."+Xt.$nodeId$,ce=Ke.$orgLocNodes$.get($),Be=Xt.$elm$;if(qe){if(null!=(J=Xt.$tag$)&&J.toString().includes("-")&&"slot-fb"!==Xt.$tag$&&!Xt.$elm$.shadowRoot){const Ft=_e(Xt.$elm$);if(Ft){const on=qo(Ft.$cmpMeta$,Xt.$elm$.getAttribute("s-mode")),mn=ot.document.querySelector(`style[sty-id="${on}"]`);mn&&p.shadowRoot.append(mn.cloneNode(!0))}}}else Be["s-hn"]=v.toUpperCase(),"slot"===Xt.$tag$&&(Be["s-cr"]=p["s-cr"]);"slot"===Xt.$tag$&&(Xt.$name$=Xt.$elm$["s-sn"]||Xt.$elm$.name||null,Xt.$children$?(Xt.$flags$|=2,Xt.$elm$.childNodes.length||Xt.$children$.forEach(Ft=>{Xt.$elm$.appendChild(Ft.$elm$)})):Xt.$flags$|=1),ce&&ce.isConnected&&(ce.parentElement.shadowRoot&&""===ce["s-en"]&&ce.parentNode.insertBefore(Be,ce.nextSibling),ce.parentNode.removeChild(ce),qe||(Be["s-oo"]=parseInt(Xt.$nodeId$))),ce&&!ce["s-id"]&&Ke.$orgLocNodes$.delete($)}const $n=[],an=ft.length;let Hn,hn,Pn,b,wt=0;for(;wt<an;wt++)if(Hn=ft[wt],Hn&&Hn.length)for(Pn=Hn.length,hn=0;hn<Pn;hn++){if(b=Hn[hn],$n[b.hostId]||($n[b.hostId]=Ke.$orgLocNodes$.get(b.hostId)),!$n[b.hostId])continue;const $=$n[b.hostId];$.shadowRoot&&b.node.parentElement!==$&&$.appendChild(b.node),(!$.shadowRoot||!qe)&&(b.slot["s-cr"]||(b.slot["s-cr"]=$["s-cr"],b.slot["s-cr"]=!b.slot["s-cr"]&&$.shadowRoot?$:($.__childNodes||$.childNodes)[0]),xo(b.node,b.slot,!1,b.node["s-oo"]),null!=(Ue=b.node.parentElement)&&Ue.shadowRoot&&b.node.getAttribute&&b.node.getAttribute("slot")&&b.node.removeAttribute("slot"),Gi(b.node))}if(Rt&&je.length&&je.forEach($=>{$.$elm$.parentElement.classList.add(Rt+"-s")}),qe){let $=0;const ce=dt.length;if(ce){for(;$<ce;$++){const Be=dt[$];Be&&qe.appendChild(Be)}Array.from(p.childNodes).forEach(Be=>{"string"!=typeof Be["s-en"]&&"string"!=typeof Be["s-sn"]&&(1===Be.nodeType&&Be.slot&&Be.hidden?Be.removeAttribute("hidden"):(8===Be.nodeType&&!Be.nodeValue||3===Be.nodeType&&!Be.wholeText.trim())&&Be.parentNode.removeChild(Be))})}}x.$hostElement$=p})(p,w.$tagName$,ee,v)}ee||12&w.$flags$&&_a(p);{let J=p;for(;J=J.parentNode||J.host;)if(1===J.nodeType&&J.hasAttribute("s-id")&&J["s-p"]||J["s-p"]){Ki(v,v.$ancestorComponent$=J);break}}w.$members$&&Object.entries(w.$members$).map(([J,[Ue]])=>{if(31&Ue&&p.hasOwnProperty(J)){const me=p[J];delete p[J],p[J]=me}}),Va(p,v,w)}x()}})(this)))}disconnectedCallback(){Ke.jmp(()=>ae(this)),Ke.raf(()=>{var an;const wt=_e(this);if(!wt)return;const Hn=je.findIndex(hn=>hn===this);Hn>-1&&je.splice(Hn,1),(null==(an=wt?.$vnode$)?void 0:an.$elm$)instanceof Node&&!wt.$vnode$.$elm$.isConnected&&delete wt.$vnode$.$elm$})}componentOnReady(){var an;return null==(an=_e(this))?void 0:an.$onReadyPromise$}};!(1&Yt.$flags$)&&256&Yt.$flags$&&(p=>{Go(p),jn(p),Si(p),Ar(p),qr(p),zo(p),Pe(p),dr(p),zn(p),Ri(p),Po(p)})($n.prototype),Yt.$lazyBundleId$=mt[0],!J.includes(Xt)&&!Ue.get(Xt)&&(ee.push(Xt),Ue.define(Xt,va($n,Yt,1)))})}),ee.length>0&&(kt&&(be.textContent+=gt),be.textContent+=ee.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",be.innerHTML.length)){be.setAttribute("data-styles","");const mt=null!=(w=Ke.$nonce$)?w:ro(ot.document);null!=mt&&be.setAttribute("nonce",mt),me.insertBefore(be,qe?qe.nextSibling:me.firstChild)}dt=!1,je.length?je.map(mt=>mt.connectedCallback()):Ke.jmp(()=>ft=setTimeout(Qs,30))},Le=(p,v)=>v,ci=(p,v,w,x)=>{w&&ot.document&&w.map(([ee,J,Ue])=>{const me=As(ot.document,p,ee),qe=ya(v,Ue),be=Li(ee);Ke.ael(me,J,qe,be),(v.$rmListeners$=v.$rmListeners$||[]).push(()=>Ke.rel(me,J,qe,be))})},ya=(p,v)=>w=>{var x;try{256&p.$flags$?null==(x=p.$lazyInstance$)||x[v](w):(p.$queuedListeners$=p.$queuedListeners$||[]).push([v,w])}catch(ee){X(ee,p.$hostElement$)}},As=(p,v,w)=>4&w?p:8&w?ot:16&w?p.body:v,Li=p=>$t?{passive:!!(1&p),capture:!!(2&p)}:!!(2&p)},9364:(K,Ee,y)=>{"use strict";var C=y(7888);K.exports=C.getPrototypeOf||null},9462:K=>{"use strict";var C,Ee="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,y="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Ee||(C=function(R){return!1});var k=Ee?Ee.prototype.has:null,L=y?y.prototype.has:null;!C&&!k&&(C=function(R){return!1}),K.exports=C||function(R){if(!R||"object"!=typeof R)return!1;try{if(k.call(R,k),L)try{L.call(R,L)}catch{return!0}return R instanceof Ee}catch{}return!1}},9713:(K,Ee,y)=>{"use strict";var C=y(7707),k=y(814),L=y(5124);K.exports=function(){return L(C,k,arguments)}},9805:(K,Ee,y)=>{"use strict";y.r(Ee),y.d(Ee,{iosTransitionAnimation:()=>A,shadow:()=>D});var C=y(7133),k=y(6780);y(9335),y(575),y(6721);const P=de=>document.querySelector(`${de}.ion-cloned-element`),D=de=>de.shadowRoot||de,F=de=>{const Ce="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs"),Q="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ce){const Z=Ce.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Z?Z.querySelector(Q):null}return de.querySelector(Q)},N=(de,Ce)=>{const Q="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs");let Z=[];if(null!=Q){const Y=Q.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Y&&(Z=Y.querySelectorAll("ion-buttons"))}else Z=de.querySelectorAll("ion-buttons");for(const Y of Z){const ve=Y.closest("ion-header"),Ae=ve&&!ve.classList.contains("header-collapse-condense-inactive"),Ye=Y.querySelector("ion-back-button"),te=Y.classList.contains("buttons-collapse");if(null!==Ye&&("start"===Y.slot||""===Y.slot)&&(te&&Ae&&Ce||!te))return Ye}return null},O=(de,Ce,Q,Z,Y,ve,Ae,Ye,te)=>{var De,_e;const ge=Ce?`calc(100% - ${Y.right+4}px)`:Y.left-4+"px",Ie=Ce?"right":"left",U=Ce?"left":"right",X=Ce?"right":"left";let Ve=1,z=1,ne=`scale(${z})`;const le="scale(1)";if(ve&&Ae){const Ne=(null===(De=ve.textContent)||void 0===De?void 0:De.trim())===(null===(_e=Ye.textContent)||void 0===_e?void 0:_e.trim());Ve=te.width/Ae.width,z=(te.height-se)/Ae.height,ne=Ne?`scale(${Ve}, ${z})`:`scale(${z})`}const Re=D(Z).querySelector("ion-icon").getBoundingClientRect(),Fe=Ce?Re.width/2-(Re.right-Y.right)+"px":Y.left-Re.width/2+"px",we=Ce?`-${window.innerWidth-Y.right}px`:`${Y.left}px`,Je=`${te.top}px`,Dt=`${Y.top}px`,_t=Q?[{offset:0,transform:`translate3d(${we}, ${Dt}, 0)`},{offset:1,transform:`translate3d(${Fe}, ${Je}, 0)`}]:[{offset:0,transform:`translate3d(${Fe}, ${Je}, 0)`},{offset:1,transform:`translate3d(${we}, ${Dt}, 0)`}],ot=Q?[{offset:0,opacity:1,transform:le},{offset:1,opacity:0,transform:ne}]:[{offset:0,opacity:0,transform:ne},{offset:1,opacity:1,transform:le}],bt=Q?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],$t=(0,C.c)(),En=(0,C.c)(),Dn=(0,C.c)(),qt=P("ion-back-button"),Ot=D(qt).querySelector(".button-text"),Ze=D(qt).querySelector("ion-icon");qt.text=Z.text,qt.mode=Z.mode,qt.icon=Z.icon,qt.color=Z.color,qt.disabled=Z.disabled,qt.style.setProperty("display","block"),qt.style.setProperty("position","fixed"),En.addElement(Ze),$t.addElement(Ot),Dn.addElement(qt),Dn.beforeStyles({position:"absolute",top:"0px",[X]:"0px"}).beforeAddWrite(()=>{Z.style.setProperty("display","none"),qt.style.setProperty(Ie,ge)}).afterAddWrite(()=>{Z.style.setProperty("display",""),qt.style.setProperty("display","none"),qt.style.removeProperty(Ie)}).keyframes(_t),$t.beforeStyles({"transform-origin":`${Ie} top`}).keyframes(ot),En.beforeStyles({"transform-origin":`${U} center`}).keyframes(bt),de.addAnimation([$t,En,Dn])},I=(de,Ce,Q,Z,Y,ve,Ae,Ye,te)=>{var De,_e;const ge=Ce?"right":"left",Ie=Ce?`calc(100% - ${Y.right}px)`:`${Y.left}px`,X=`${Y.top}px`;let z=Ce?`-${window.innerWidth-Ae.right-8}px`:`${Ae.x+8}px`,ne=.5;const le="scale(1)";let ye=`scale(${ne})`;if(Ye&&te){z=Ce?`-${window.innerWidth-te.right-8}px`:te.x-8+"px";const gt=(null===(De=Ye.textContent)||void 0===De?void 0:De.trim())===(null===(_e=Z.textContent)||void 0===_e?void 0:_e.trim());ne=te.height/(ve.height-se),ye=gt?`scale(${te.width/ve.width}, ${ne})`:`scale(${ne})`}const we=Ae.top+Ae.height/2-Y.height*ne/2+"px",xe=Q?[{offset:0,opacity:0,transform:`translate3d(${z}, ${we}, 0) ${ye}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${X}, 0) ${le}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${X}, 0) ${le}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${z}, ${we}, 0) ${ye}`}],Ge=P("ion-title"),_t=(0,C.c)();Ge.innerText=Z.innerText,Ge.size=Z.size,Ge.color=Z.color,_t.addElement(Ge),_t.beforeStyles({"transform-origin":`${ge} top`,height:`${Y.height}px`,display:"",position:"relative",[ge]:Ie}).beforeAddWrite(()=>{Z.style.setProperty("opacity","0")}).afterAddWrite(()=>{Z.style.setProperty("opacity",""),Ge.style.setProperty("display","none")}).keyframes(xe),de.addAnimation(_t)},A=(de,Ce)=>{var Q;try{const Z="cubic-bezier(0.32,0.72,0,1)",Y="opacity",ve="transform",te="rtl"===de.ownerDocument.dir,De=te?"-99.5%":"99.5%",_e=te?"33%":"-33%",ge=Ce.enteringEl,Ie=Ce.leavingEl,U="back"===Ce.direction,X=ge.querySelector(":scope > ion-content"),Ve=ge.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),z=ge.querySelectorAll(":scope > ion-header > ion-toolbar"),ne=(0,C.c)(),le=(0,C.c)();if(ne.addElement(ge).duration((null!==(Q=Ce.duration)&&void 0!==Q?Q:0)||540).easing(Ce.easing||Z).fill("both").beforeRemoveClass("ion-page-invisible"),Ie&&null!=de){const we=(0,C.c)();we.addElement(de),ne.addAnimation(we)}if(X||0!==z.length||0!==Ve.length?(le.addElement(X),le.addElement(Ve)):le.addElement(ge.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(le),U?le.beforeClearStyles([Y]).fromTo("transform",`translateX(${_e})`,"translateX(0%)").fromTo(Y,.8,1):le.beforeClearStyles([Y]).fromTo("transform",`translateX(${De})`,"translateX(0%)"),X){const we=D(X).querySelector(".transition-effect");if(we){const Je=we.querySelector(".transition-cover"),Dt=we.querySelector(".transition-shadow"),xe=(0,C.c)(),Ge=(0,C.c)(),_t=(0,C.c)();xe.addElement(we).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ge.addElement(Je).beforeClearStyles([Y]).fromTo(Y,0,.1),_t.addElement(Dt).beforeClearStyles([Y]).fromTo(Y,.03,.7),xe.addAnimation([Ge,_t]),le.addAnimation([xe])}}const ye=ge.querySelector("ion-header.header-collapse-condense"),{forward:Re,backward:Fe}=((de,Ce,Q,Z,Y)=>{const ve=N(Z,Q),Ae=F(Y),Ye=F(Z),te=N(Y,Q),De=null!==ve&&null!==Ae&&!Q,_e=null!==Ye&&null!==te&&Q;if(De){const ge=Ae.getBoundingClientRect(),Ie=ve.getBoundingClientRect(),U=D(ve).querySelector(".button-text"),X=U?.getBoundingClientRect(),z=D(Ae).querySelector(".toolbar-title").getBoundingClientRect();I(de,Ce,Q,Ae,ge,z,Ie,U,X),O(de,Ce,Q,ve,Ie,U,X,Ae,z)}else if(_e){const ge=Ye.getBoundingClientRect(),Ie=te.getBoundingClientRect(),U=D(te).querySelector(".button-text"),X=U?.getBoundingClientRect(),z=D(Ye).querySelector(".toolbar-title").getBoundingClientRect();I(de,Ce,Q,Ye,ge,z,Ie,U,X),O(de,Ce,Q,te,Ie,U,X,Ye,z)}return{forward:De,backward:_e}})(ne,te,U,ge,Ie);if(z.forEach(we=>{const Je=(0,C.c)();Je.addElement(we),ne.addAnimation(Je);const Dt=(0,C.c)();Dt.addElement(we.querySelector("ion-title"));const xe=(0,C.c)(),Ge=Array.from(we.querySelectorAll("ion-buttons,[menuToggle]")),_t=we.closest("ion-header"),gt=_t?.classList.contains("header-collapse-condense-inactive");let Ct;Ct=Ge.filter(U?$t=>{const En=$t.classList.contains("buttons-collapse");return En&&!gt||!En}:$t=>!$t.classList.contains("buttons-collapse")),xe.addElement(Ct);const ot=(0,C.c)();ot.addElement(we.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const At=(0,C.c)();At.addElement(D(we).querySelector(".toolbar-background"));const Ke=(0,C.c)(),bt=we.querySelector("ion-back-button");if(bt&&Ke.addElement(bt),Je.addAnimation([Dt,xe,ot,At,Ke]),xe.fromTo(Y,.01,1),ot.fromTo(Y,.01,1),U)gt||Dt.fromTo("transform",`translateX(${_e})`,"translateX(0%)").fromTo(Y,.01,1),ot.fromTo("transform",`translateX(${_e})`,"translateX(0%)"),Ke.fromTo(Y,.01,1);else if(ye||Dt.fromTo("transform",`translateX(${De})`,"translateX(0%)").fromTo(Y,.01,1),ot.fromTo("transform",`translateX(${De})`,"translateX(0%)"),At.beforeClearStyles([Y,"transform"]),_t?.translucent?At.fromTo("transform",te?"translateX(-100%)":"translateX(100%)","translateX(0px)"):At.fromTo(Y,.01,"var(--opacity)"),Re||Ke.fromTo(Y,.01,1),bt&&!Re){const En=(0,C.c)();En.addElement(D(bt).querySelector(".button-text")).fromTo("transform",te?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Je.addAnimation(En)}}),Ie){const we=(0,C.c)(),Je=Ie.querySelector(":scope > ion-content"),Dt=Ie.querySelectorAll(":scope > ion-header > ion-toolbar"),xe=Ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Je||0!==Dt.length||0!==xe.length?(we.addElement(Je),we.addElement(xe)):we.addElement(Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(we),U){we.beforeClearStyles([Y]).fromTo("transform","translateX(0%)",te?"translateX(-100%)":"translateX(100%)");const Ge=(0,k.g)(Ie);ne.afterAddWrite(()=>{"normal"===ne.getDirection()&&Ge.style.setProperty("display","none")})}else we.fromTo("transform","translateX(0%)",`translateX(${_e})`).fromTo(Y,1,.8);if(Je){const Ge=D(Je).querySelector(".transition-effect");if(Ge){const _t=Ge.querySelector(".transition-cover"),gt=Ge.querySelector(".transition-shadow"),Ct=(0,C.c)(),ot=(0,C.c)(),At=(0,C.c)();Ct.addElement(Ge).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ot.addElement(_t).beforeClearStyles([Y]).fromTo(Y,.1,0),At.addElement(gt).beforeClearStyles([Y]).fromTo(Y,.7,.03),Ct.addAnimation([ot,At]),we.addAnimation([Ct])}}Dt.forEach(Ge=>{const _t=(0,C.c)();_t.addElement(Ge);const gt=(0,C.c)();gt.addElement(Ge.querySelector("ion-title"));const Ct=(0,C.c)(),ot=Ge.querySelectorAll("ion-buttons,[menuToggle]"),At=Ge.closest("ion-header"),Ke=At?.classList.contains("header-collapse-condense-inactive"),bt=Array.from(ot).filter(Ze=>{const Ne=Ze.classList.contains("buttons-collapse");return Ne&&!Ke||!Ne});Ct.addElement(bt);const $t=(0,C.c)(),En=Ge.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");En.length>0&&$t.addElement(En);const Dn=(0,C.c)();Dn.addElement(D(Ge).querySelector(".toolbar-background"));const qt=(0,C.c)(),Ot=Ge.querySelector("ion-back-button");if(Ot&&qt.addElement(Ot),_t.addAnimation([gt,Ct,$t,qt,Dn]),ne.addAnimation(_t),qt.fromTo(Y,.99,0),Ct.fromTo(Y,.99,0),$t.fromTo(Y,.99,0),U){if(Ke||gt.fromTo("transform","translateX(0%)",te?"translateX(-100%)":"translateX(100%)").fromTo(Y,.99,0),$t.fromTo("transform","translateX(0%)",te?"translateX(-100%)":"translateX(100%)"),Dn.beforeClearStyles([Y,"transform"]),At?.translucent?Dn.fromTo("transform","translateX(0px)",te?"translateX(-100%)":"translateX(100%)"):Dn.fromTo(Y,"var(--opacity)",0),Ot&&!Fe){const Ne=(0,C.c)();Ne.addElement(D(Ot).querySelector(".button-text")).fromTo("transform","translateX(0%)",`translateX(${(te?-124:124)+"px"})`),_t.addAnimation(Ne)}}else Ke||gt.fromTo("transform","translateX(0%)",`translateX(${_e})`).fromTo(Y,.99,0).afterClearStyles([ve,Y]),$t.fromTo("transform","translateX(0%)",`translateX(${_e})`).afterClearStyles([ve,Y]),qt.afterClearStyles([Y]),gt.afterClearStyles([Y]),Ct.afterClearStyles([Y])})}return ne}catch(Z){throw Z}},se=10},9817:K=>{"use strict";K.exports=Object.getOwnPropertyDescriptor},9819:(K,Ee,y)=>{"use strict";var C=y(6998),k=typeof globalThis>"u"?global:globalThis;K.exports=function(){for(var W=[],R=0;R<C.length;R++)"function"==typeof k[C[R]]&&(W[W.length]=C[R]);return W}},9831:K=>{"use strict";var Ee=function(y){return y!=y};K.exports=function(C,k){return 0===C&&0===k?1/C==1/k:!!(C===k||Ee(C)&&Ee(k))}},9919:(K,Ee,y)=>{"use strict";y.d(Ee,{a:()=>L,b:()=>De,i:()=>_e});var C=y(9335);const L=(ge,Ie)=>("string"==typeof ge&&(Ie=ge,ge=void 0),(ge=>W(ge))(ge).includes(Ie)),W=(ge=window)=>{if(typeof ge>"u")return[];ge.Ionic=ge.Ionic||{};let Ie=ge.Ionic.platforms;return null==Ie&&(Ie=ge.Ionic.platforms=R(ge),Ie.forEach(U=>ge.document.documentElement.classList.add(`plt-${U}`))),Ie},R=ge=>{const Ie=C.e.get("platform");return Object.keys(Ye).filter(U=>{const X=Ie?.[U];return"function"==typeof X?X(ge):Ye[U](ge)})},P=ge=>!!(ve(ge,/iPad/i)||ve(ge,/Macintosh/i)&&A(ge)),N=ge=>ve(ge,/android|sink/i),A=ge=>Ae(ge,"(any-pointer:coarse)"),de=ge=>Ce(ge)||Q(ge),Ce=ge=>!!(ge.cordova||ge.phonegap||ge.PhoneGap),Q=ge=>{const Ie=ge.Capacitor;return!!(Ie?.isNative||Ie?.isNativePlatform&&Ie.isNativePlatform())},ve=(ge,Ie)=>Ie.test(ge.navigator.userAgent),Ae=(ge,Ie)=>{var U;return null===(U=ge.matchMedia)||void 0===U?void 0:U.call(ge,Ie).matches},Ye={ipad:P,iphone:ge=>ve(ge,/iPhone/i),ios:ge=>ve(ge,/iPhone|iPod/i)||P(ge),android:N,phablet:ge=>{const Ie=ge.innerWidth,U=ge.innerHeight,X=Math.min(Ie,U),Ve=Math.max(Ie,U);return X>390&&X<520&&Ve>620&&Ve<800},tablet:ge=>{const Ie=ge.innerWidth,U=ge.innerHeight,X=Math.min(Ie,U),Ve=Math.max(Ie,U);return P(ge)||(ge=>N(ge)&&!ve(ge,/mobile/i))(ge)||X>460&&X<820&&Ve>780&&Ve<1400},cordova:Ce,capacitor:Q,electron:ge=>ve(ge,/electron/i),pwa:ge=>{var Ie;return!!(null!==(Ie=ge.matchMedia)&&void 0!==Ie&&Ie.call(ge,"(display-mode: standalone)").matches||ge.navigator.standalone)},mobile:A,mobileweb:ge=>A(ge)&&!de(ge),desktop:ge=>!A(ge),hybrid:de};let te;const De=ge=>ge&&(0,C.o)(ge)||te,_e=(ge={})=>{if(typeof window>"u")return;const Ie=window.document,U=window,X=U.Ionic=U.Ionic||{},Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,C.l)(U)),{persistConfig:!1}),X.config),(0,C.m)(U)),ge);C.e.reset(Ve),C.e.getBoolean("persistConfig")&&(0,C.n)(U,Ve),W(U),X.config=C.e,X.mode=te=C.e.get("mode",Ie.documentElement.getAttribute("mode")||(L(U,"ios")?"ios":"md")),C.e.set("mode",te),Ie.documentElement.setAttribute("mode",te),Ie.documentElement.classList.add(te),C.e.getBoolean("_testing")&&C.e.set("animated",!1);const z=le=>{var ye;return null===(ye=le.tagName)||void 0===ye?void 0:ye.startsWith("ION-")},ne=le=>["ios","md"].includes(le);(0,C.q)(le=>{for(;le;){const ye=le.mode||le.getAttribute("mode");if(ye){if(ne(ye))return ye;z(le)&&(0,C.f)('Invalid ionic mode: "'+ye+'", expected: "ios" or "md"')}le=le.parentElement}return te})}}},K=>{K(K.s=767)}]);
//# sourceMappingURL=main.04271c2af7a0007c.js.map