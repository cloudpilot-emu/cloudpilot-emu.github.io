(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{919:(Be,We,A)=>{"use strict";function I(n){return"function"==typeof n}function l(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const re=l(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function te(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class z{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(i){e=i instanceof re?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{V(i)}catch(s){e=e??[],s instanceof re?e=[...e,...s.errors]:e.push(s)}}if(e)throw new re(e)}}add(e){var t;if(e&&e!==this)if(this.closed)V(e);else{if(e instanceof z){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&te(t,e)}remove(e){const{_finalizers:t}=this;t&&te(t,e),e instanceof z&&e._removeParent(this)}}z.EMPTY=(()=>{const n=new z;return n.closed=!0,n})();const Q=z.EMPTY;function L(n){return n instanceof z||n&&"closed"in n&&I(n.remove)&&I(n.add)&&I(n.unsubscribe)}function V(n){I(n)?n():n.unsubscribe()}const ue={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},X={setTimeout(n,e,...t){const{delegate:r}=X;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=X;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function se(n){X.setTimeout(()=>{const{onUnhandledError:e}=ue;if(!e)throw n;e(n)})}function B(){}const $=$e("C",void 0,void 0);function $e(n,e,t){return{kind:n,value:e,error:t}}let he=null;function Z(n){if(ue.useDeprecatedSynchronousErrorHandling){const e=!he;if(e&&(he={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=he;if(he=null,t)throw r}}else n()}class fe extends z{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,L(e)&&e.add(this)):this.destination=Oe}static create(e,t,r){return new ce(e,t,r)}next(e){this.isStopped?Qe(function Pe(n){return $e("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Qe(function U(n){return $e("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qe($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function de(n,e){return Fe.call(n,e)}class it{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){be(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){be(r)}else be(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){be(t)}}}class ce extends fe{constructor(e,t,r){let o;if(super(),I(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&ue.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&de(e.next,i),error:e.error&&de(e.error,i),complete:e.complete&&de(e.complete,i)}):o=e}this.destination=new it(o)}}function be(n){ue.useDeprecatedSynchronousErrorHandling?function Y(n){ue.useDeprecatedSynchronousErrorHandling&&he&&(he.errorThrown=!0,he.error=n)}(n):se(n)}function Qe(n,e){const{onStoppedNotification:t}=ue;t&&X.setTimeout(()=>t(n,e))}const Oe={closed:!0,next:B,error:function Ie(n){throw n},complete:B},Me="function"==typeof Symbol&&Symbol.observable||"@@observable";function ne(n){return n}function Je(n){return 0===n.length?ne:1===n.length?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}let yt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function O(n){return n&&n instanceof fe||function Ze(n){return n&&I(n.next)&&I(n.error)&&I(n.complete)}(n)&&L(n)}(t)?t:new ce(t,r,o);return Z(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=dn(r))((o,i)=>{const s=new ce({next:a=>{try{t(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Me](){return this}pipe(...t){return Je(t)(this)}toPromise(t){return new(t=dn(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function dn(n){var e;return null!==(e=n??ue.Promise)&&void 0!==e?e:Promise}const ge=l(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let tt=(()=>{class n extends yt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new nt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ge}next(t){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Q:(this.currentObservers=null,i.push(t),new z(()=>{this.currentObservers=null,te(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new yt;return t.source=this,t}}return n.create=(e,t)=>new nt(e,t),n})();class nt extends tt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Q}}function Ve(n){return I(n?.lift)}function q(n){return e=>{if(Ve(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(n,e,t,r,o){return new ft(n,e,t,r,o)}class ft extends fe{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ae(n,e){return q((t,r)=>{let o=0;t.subscribe(_e(r,i=>{r.next(n.call(e,i,o++))}))})}function j(n,e,t,r){var s,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function Pn(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(y){s(y)}}function u(m){try{f(r.throw(m))}catch(y){s(y)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}function mn(n){return this instanceof mn?(this.v=n,this):new mn(n)}function lo(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(n,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(k){r[k]&&(o[k]=function(M){return new Promise(function(K,Se){i.push([k,M,K,Se])>1||a(k,M)})})}function a(k,M){try{!function u(k){k.value instanceof mn?Promise.resolve(k.value.v).then(f,m):y(i[0][2],k)}(r[k](M))}catch(K){y(i[0][3],K)}}function f(k){a("next",k)}function m(k){a("throw",k)}function y(k,M){k(M),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Yr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function no(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=n[i](s)).done,s.value)})}}}const wr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Kt(n){return I(n?.then)}function er(n){return I(n[Me])}function tr(n){return Symbol.asyncIterator&&I(n?.[Symbol.asyncIterator])}function on(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const E=function Bt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function S(n){return I(n?.[E])}function qn(n){return lo(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield mn(t.read());if(o)return yield mn(void 0);yield yield mn(r)}}finally{t.releaseLock()}})}function D(n){return I(n?.getReader)}function On(n){if(n instanceof yt)return n;if(null!=n){if(er(n))return function Qo(n){return new yt(e=>{const t=n[Me]();if(I(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(wr(n))return function ci(n){return new yt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Kt(n))return function To(n){return new yt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,se)})}(n);if(tr(n))return Jo(n);if(S(n))return function Zi(n){return new yt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(D(n))return function Pi(n){return Jo(qn(n))}(n)}throw on(n)}function Jo(n){return new yt(e=>{(function Ri(n,e){var t,r,o,i;return Pn(this,void 0,void 0,function*(){try{for(t=Yr(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ho(n,e,t,r=0,o=!1){const i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Sr(n,e,t=1/0){return I(e)?Sr((r,o)=>Ae((i,s)=>e(r,i,o,s))(On(n(r,o))),t):("number"==typeof e&&(t=e),q((r,o)=>function ei(n,e,t,r,o,i,s,a){const u=[];let f=0,m=0,y=!1;const k=()=>{y&&!u.length&&!f&&e.complete()},M=Se=>f<r?K(Se):u.push(Se),K=Se=>{i&&e.next(Se),f++;let Ge=!1;On(t(Se,m++)).subscribe(_e(e,Ke=>{o?.(Ke),i?M(Ke):e.next(Ke)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(f--;u.length&&f<r;){const Ke=u.shift();s?ho(e,s,()=>K(Ke)):K(Ke)}k()}catch(Ke){e.error(Ke)}}))};return n.subscribe(_e(e,M,()=>{y=!0,k()})),()=>{a?.()}}(r,o,n,t)))}function ti(n=1/0){return Sr(ne,n)}const co=new yt(n=>n.complete());function Ao(n){return n&&I(n.schedule)}function ro(n){return n[n.length-1]}function ds(n){return I(ro(n))?n.pop():void 0}function di(n){return Ao(ro(n))?n.pop():void 0}function mo(n,e=0){return q((t,r)=>{t.subscribe(_e(r,o=>ho(r,n,()=>r.next(o),e),()=>ho(r,n,()=>r.complete(),e),o=>ho(r,n,()=>r.error(o),e)))})}function fs(n,e=0){return q((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ps(n,e){if(!n)throw new Error("Iterable cannot be null");return new yt(t=>{ho(t,e,()=>{const r=n[Symbol.asyncIterator]();ho(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function mr(n,e){return e?function Hs(n,e){if(null!=n){if(er(n))return function Eo(n,e){return On(n).pipe(fs(e),mo(e))}(n,e);if(wr(n))return function ks(n,e){return new yt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Kt(n))return function Fi(n,e){return On(n).pipe(fs(e),mo(e))}(n,e);if(tr(n))return ps(n,e);if(S(n))return function yi(n,e){return new yt(t=>{let r;return ho(t,e,()=>{r=n[E](),ho(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>I(r?.return)&&r.return()})}(n,e);if(D(n))return function Us(n,e){return ps(qn(n),e)}(n,e)}throw on(n)}(n,e):On(n)}function vi(...n){const e=di(n),t=function Lo(n,e){return"number"==typeof ro(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?On(r[0]):ti(t)(mr(r,e)):co}function xs(n={}){const{connector:e=(()=>new tt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,u,f=0,m=!1,y=!1;const k=()=>{a?.unsubscribe(),a=void 0},M=()=>{k(),s=u=void 0,m=y=!1},K=()=>{const Se=s;M(),Se?.unsubscribe()};return q((Se,Ge)=>{f++,!y&&!m&&k();const Ke=u=u??e();Ge.add(()=>{f--,0===f&&!y&&!m&&(a=qi(K,o))}),Ke.subscribe(Ge),!s&&f>0&&(s=new ce({next:vt=>Ke.next(vt),error:vt=>{y=!0,k(),a=qi(M,t,vt),Ke.error(vt)},complete:()=>{m=!0,k(),a=qi(M,r),Ke.complete()}}),On(Se).subscribe(s))})(i)}}function qi(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ce({next:()=>{r.unsubscribe(),n()}});return On(e(...t)).subscribe(r)}function nr(n){for(let e in n)if(n[e]===nr)return e;throw Error("Could not find renamed property on target object.")}function T(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function N(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(N).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function me(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Ee=nr({__forward_ref__:nr});function Ne(n){return n.__forward_ref__=Ne,n.toString=function(){return N(this())},n}function R(n){return pe(n)?n():n}function pe(n){return"function"==typeof n&&n.hasOwnProperty(Ee)&&n.__forward_ref__===Ne}function xe(n){return n&&!!n.\u0275providers}const ot="https://g.co/ng/security#xss";class Te extends Error{constructor(e,t){super(function Vt(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Ct(n){return"string"==typeof n?n:null==n?"":String(n)}function bi(n,e){throw new Te(-201,!1)}function Vo(n,e){null==n&&function zn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function mt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Er(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ms(n){return go(n,Gs)||go(n,wa)}function go(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ca(n){return n&&(n.hasOwnProperty(ra)||n.hasOwnProperty(el))?n[ra]:null}const Gs=nr({\u0275prov:nr}),ra=nr({\u0275inj:nr}),wa=nr({ngInjectableDef:nr}),el=nr({ngInjectorDef:nr});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let oa;function ur(n){const e=oa;return oa=n,e}function oo(n,e,t){const r=Ms(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&xt.Optional?null:void 0!==e?e:void bi(N(n))}const p=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),G={},ye="__NG_DI_FLAG__",De="ngTempTokenPath",wt=/\n/gm,Tn="__source";let An;function jt(n){const e=An;return An=n,e}function zt(n,e=xt.Default){if(void 0===An)throw new Te(-203,!1);return null===An?oo(n,void 0,e):An.get(n,e&xt.Optional?null:void 0,e)}function ee(n,e=xt.Default){return(function Do(){return oa}()||zt)(R(n),e)}function gn(n,e=xt.Default){return ee(n,Kr(e))}function Kr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ht(n){const e=[];for(let t=0;t<n.length;t++){const r=R(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Te(900,!1);let o,i=xt.Default;for(let s=0;s<r.length;s++){const a=r[s],u=Xr(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}e.push(ee(o,i))}else e.push(ee(r))}return e}function Ht(n,e){return n[ye]=e,n.prototype[ye]=e,n}function Xr(n){return n[ye]}function gr(n){return{toString:n}.toString()}var Ci=(()=>((Ci=Ci||{})[Ci.OnPush=0]="OnPush",Ci[Ci.Default=1]="Default",Ci))(),Li=(()=>{return(n=Li||(Li={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Li;var n})();const Yi={},rr=[],Sa=nr({\u0275cmp:nr}),tl=nr({\u0275dir:nr}),nl=nr({\u0275pipe:nr}),Nl=nr({\u0275mod:nr}),gs=nr({\u0275fac:nr}),Ea=nr({__NG_ELEMENT_ID__:nr});let xd=0;function ut(n){return gr(()=>{const t=!0===n.standalone,r={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ci.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||rr,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Li.Emulated,id:"c"+xd++,styles:n.styles||rr,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=n.dependencies,s=n.features;return o.inputs=Ki(n.inputs,r),o.outputs=Ki(n.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(mc).filter(Ll):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(jo).filter(Ll):null,o})}function mc(n){return dr(n)||Po(n)}function Ll(n){return null!==n}function Fr(n){return gr(()=>({type:n.type,bootstrap:n.bootstrap||rr,declarations:n.declarations||rr,imports:n.imports||rr,exports:n.exports||rr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ki(n,e){if(null==n)return Yi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),t[o]=r,e&&(e[o]=i)}return t}const Mt=ut;function yo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function dr(n){return n[Sa]||null}function Po(n){return n[tl]||null}function jo(n){return n[nl]||null}function _n(n,e){const t=n[Nl]||null;if(!t&&!0===e)throw new Error(`Type ${N(n)} does not have '\u0275mod' property.`);return t}const b=11;function Lr(n){return Array.isArray(n)&&"object"==typeof n[1]}function yr(n){return Array.isArray(n)&&!0===n[1]}function iu(n){return 0!=(4&n.flags)}function $l(n){return n.componentOffset>-1}function gc(n){return 1==(1&n.flags)}function _s(n){return null!==n.template}function Tp(n){return 0!=(256&n[2])}function Da(n,e){return n.hasOwnProperty(gs)?n[gs]:null}class Rp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Uo(){return Ad}function Ad(n){return n.type.prototype.ngOnChanges&&(n.setInput=Op),Fp}function Fp(){const n=Rd(this),e=n?.current;if(e){const t=n.previous;if(t===Yi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Op(n,e,t,r){const o=this.declaredInputs[t],i=Rd(n)||function Np(n,e){return n[Pd]=e}(n,{previous:Yi,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[o];s[o]=new Rp(u&&u.currentValue,e,a===Yi),n[r]=e}Uo.ngInherit=!0;const Pd="__ngSimpleChanges__";function Rd(n){return n[Pd]||null}function Ho(n){for(;Array.isArray(n);)n=n[0];return n}function _c(n,e){return Ho(e[n])}function $i(n,e){return Ho(e[n.index])}function Nd(n,e){return n.data[e]}function ol(n,e){return n[e]}function Bi(n,e){const t=e[n];return Lr(t)?t:t[0]}function yc(n){return 64==(64&n[2])}function sa(n,e){return null==e?null:n[e]}function Up(n){n[18]=0}function Hp(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Fn={lFrame:Vn(null),bindingsEnabled:!0};function zs(){return Fn.bindingsEnabled}function pt(){return Fn.lFrame.lView}function lr(){return Fn.lFrame.tView}function ln(n){return Fn.lFrame.contextLView=n,n[8]}function cn(n){return Fn.lFrame.contextLView=null,n}function un(){let n=Ro();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ro(){return Fn.lFrame.currentTNode}function qe(n,e){const t=Fn.lFrame;t.currentTNode=n,t.isParent=e}function Jr(){return Fn.lFrame.isParent}function Yn(){Fn.lFrame.isParent=!1}function Br(){return Fn.lFrame.bindingIndex}function Gr(){return Fn.lFrame.bindingIndex++}function nn(n){const e=Fn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function c(n,e){const t=Fn.lFrame;t.bindingIndex=t.bindingRootIndex=n,v(e)}function v(n){Fn.lFrame.currentDirectiveIndex=n}function H(){return Fn.lFrame.currentQueryIndex}function ve(n){Fn.lFrame.currentQueryIndex=n}function ke(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function He(n,e,t){if(t&xt.SkipSelf){let o=e,i=n;for(;!(o=o.parent,null!==o||t&xt.Host||(o=ke(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;e=o,n=i}const r=Fn.lFrame=yn();return r.currentTNode=e,r.lView=n,!0}function St(n){const e=yn(),t=n[1];Fn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function yn(){const n=Fn.lFrame,e=null===n?null:n.child;return null===e?Vn(n):e}function Vn(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Kn(){const n=Fn.lFrame;return Fn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const hn=Kn;function an(){const n=Kn();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vr(){return Fn.lFrame.selectedIndex}function bo(n){Fn.lFrame.selectedIndex=n}function lt(){const n=Fn.lFrame;return Nd(n.tView,n.selectedIndex)}function Wp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:m}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=m&&(n.destroyHooks||(n.destroyHooks=[])).push(t,m)}}function Zp(n,e,t){Bb(n,e,3,t)}function qp(n,e,t,r){(3&n[2])===t&&Bb(n,e,t,r)}function kg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Bb(n,e,t,r){const i=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<i||-1==i)&&(Jx(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function Jx(n,e,t,r){const o=t[r]<0,i=t[r+1],a=n[o?-t[r]:t[r]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Ld{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Mg(n,e,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{const i=o,s=t[++r];jb(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function Vb(n){return 3===n||4===n||6===n}function jb(n){return 64===n.charCodeAt(0)}function $d(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?t=o:0===t||Ub(n,t,o,null,-1===t||2===t?e[++r]:null)}}return n}function Ub(n,e,t,r,o){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}function Hb(n){return-1!==n}function Yp(n){return 32767&n}function Kp(n,e){let t=function rM(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Tg=!0;function Xp(n){const e=Tg;return Tg=n,e}let oM=0;const Ia={};function Qp(n,e){const t=Wb(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Ag(r.data,n),Ag(e,null),Ag(r.blueprint,null));const o=Pg(n,e),i=n.injectorIndex;if(Hb(o)){const s=Yp(o),a=Kp(o,e),u=a[1].data;for(let f=0;f<8;f++)e[i+f]=a[s+f]|u[s+f]}return e[i+8]=o,i}function Ag(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Wb(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Pg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;null!==o;){if(r=Jb(o),null===r)return-1;if(t++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Rg(n,e,t){!function iM(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ea)&&(r=t[Ea]),null==r&&(r=t[Ea]=oM++);const o=255&r;e.data[n+(o>>5)]|=1<<o}(n,e,t)}function Zb(n,e,t){if(t&xt.Optional||void 0!==n)return n;bi()}function qb(n,e,t,r){if(t&xt.Optional&&void 0===r&&(r=null),!(t&(xt.Self|xt.Host))){const o=n[9],i=ur(void 0);try{return o?o.get(e,r,t&xt.Optional):oo(e,r,t&xt.Optional)}finally{ur(i)}}return Zb(r,0,t)}function Yb(n,e,t,r=xt.Default,o){if(null!==n){if(1024&e[2]){const s=function uM(n,e,t,r,o){let i=n,s=e;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Kb(i,s,t,r|xt.Self,Ia);if(a!==Ia)return a;let u=i.parent;if(!u){const f=s[21];if(f){const m=f.get(t,Ia,r);if(m!==Ia)return m}u=Jb(s),s=s[15]}i=u}return o}(n,e,t,r,Ia);if(s!==Ia)return s}const i=Kb(n,e,t,r,Ia);if(i!==Ia)return i}return qb(e,t,r,o)}function Kb(n,e,t,r,o){const i=function lM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ea)?n[Ea]:void 0;return"number"==typeof e?e>=0?255&e:cM:e}(t);if("function"==typeof i){if(!He(e,n,r))return r&xt.Host?Zb(o,0,r):qb(e,t,r,o);try{const s=i(r);if(null!=s||r&xt.Optional)return s;bi()}finally{hn()}}else if("number"==typeof i){let s=null,a=Wb(n,e),u=-1,f=r&xt.Host?e[16][6]:null;for((-1===a||r&xt.SkipSelf)&&(u=-1===a?Pg(n,e):e[a+8],-1!==u&&Qb(r,!1)?(s=e[1],a=Yp(u),e=Kp(u,e)):a=-1);-1!==a;){const m=e[1];if(Xb(i,a,m.data)){const y=aM(a,e,t,s,r,f);if(y!==Ia)return y}u=e[a+8],-1!==u&&Qb(r,e[1].data[a+8]===f)&&Xb(i,a,e)?(s=m,a=Yp(u),e=Kp(u,e)):a=-1}}return o}function aM(n,e,t,r,o,i){const s=e[1],a=s.data[n+8],m=Jp(a,s,t,null==r?$l(a)&&Tg:r!=s&&0!=(3&a.type),o&xt.Host&&i===a);return null!==m?bc(e,s,m,a):Ia}function Jp(n,e,t,r,o){const i=n.providerIndexes,s=e.data,a=1048575&i,u=n.directiveStart,m=i>>20,k=o?a+m:n.directiveEnd;for(let M=r?a:a+m;M<k;M++){const K=s[M];if(M<u&&t===K||M>=u&&K.type===t)return M}if(o){const M=s[u];if(M&&_s(M)&&M.type===t)return u}return null}function bc(n,e,t,r){let o=n[t];const i=e.data;if(function eM(n){return n instanceof Ld}(o)){const s=o;s.resolving&&function $o(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Te(-200,`Circular dependency in DI detected for ${n}${t}`)}(function fn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ct(n)}(i[t]));const a=Xp(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?ur(s.injectImpl):null;He(n,r,xt.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Qx(n,e,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=Ad(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),i&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,i),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,i))}(t,i[t],e)}finally{null!==u&&ur(u),Xp(a),s.resolving=!1,hn()}}return o}function Xb(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Qb(n,e){return!(n&xt.Self||n&xt.Host&&e)}class lu{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Yb(this._tNode,this._lView,e,Kr(r),t)}}function cM(){return new lu(un(),pt())}function pi(n){return gr(()=>{const e=n.prototype.constructor,t=e[gs]||Fg(e),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[gs]||Fg(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Fg(n){return pe(n)?()=>{const e=Fg(R(n));return e&&e()}:Da(n)}function Jb(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function cu(n){return function sM(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const i=t[o];if(Vb(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(i===e)return t[o+1];o+=2}}}return null}(un(),n)}const du="__parameters__";function pu(n,e,t){return gr(()=>{const r=function Og(n){return function(...t){if(n){const r=n(...t);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(u,f,m){const y=u.hasOwnProperty(du)?u[du]:Object.defineProperty(u,du,{value:[]})[du];for(;y.length<=m;)y.push(null);return(y[m]=y[m]||[]).push(s),u}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class tn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=mt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Cc(n,e){n.forEach(t=>Array.isArray(t)?Cc(t,e):e(t))}function t0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function eh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function jd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function As(n,e,t){let r=hu(n,e);return r>=0?n[1|r]=t:(r=~r,function hM(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(1===o)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Lg(n,e){const t=hu(n,e);if(t>=0)return n[1|t]}function hu(n,e){return function n0(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}(n,e,1)}const Ud=Ht(pu("Optional"),8),Hd=Ht(pu("SkipSelf"),4);var ys=(()=>((ys=ys||{})[ys.Important=1]="Important",ys[ys.DashCase=2]="DashCase",ys))();const Hg=new Map;let NM=0;const zg="__ngContext__";function ji(n,e){Lr(e)?(n[zg]=e[20],function $M(n){Hg.set(n[20],n)}(e)):n[zg]=e}function Zg(n,e){return undefined(n,e)}function Zd(n){const e=n[3];return yr(e)?e[3]:e}function qg(n){return S0(n[13])}function Yg(n){return S0(n[4])}function S0(n){for(;null!==n&&!yr(n);)n=n[4];return n}function gu(n,e,t,r,o){if(null!=r){let i,s=!1;yr(r)?i=r:Lr(r)&&(s=!0,r=r[0]);const a=Ho(r);0===n&&null!==t?null==o?M0(e,t,a):wc(e,t,a,o||null,!0):1===n&&null!==t?wc(e,t,a,o||null,!0):2===n?function n_(n,e,t){const r=oh(n,e);r&&function oT(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=i&&function aT(n,e,t,r,o){const i=t[7];i!==Ho(t)&&gu(e,n,r,i,o);for(let a=10;a<t.length;a++){const u=t[a];qd(u[1],u,n,e,r,i)}}(e,n,i,t,o)}}function Xg(n,e,t){return n.createElement(e,t)}function D0(n,e){const t=n[9],r=t.indexOf(e),o=e[3];512&e[2]&&(e[2]&=-513,Hp(o,-1)),t.splice(r,1)}function Qg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const o=r[17];null!==o&&o!==n&&D0(o,r),e>0&&(n[t-1][4]=r[4]);const i=eh(n,10+e);!function KM(n,e){qd(n,e,e[b],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function I0(n,e){if(!(128&e[2])){const t=e[b];t.destroyNode&&qd(n,e,t,3,null,null),function JM(n){let e=n[13];if(!e)return Jg(n[1],n);for(;e;){let t=null;if(Lr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Lr(e)&&Jg(e[1],e),e=e[3];null===e&&(e=n),Lr(e)&&Jg(e[1],e),t=e&&e[4]}e=t}}(e)}}function Jg(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function rT(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const o=e[t[r]];if(!(o instanceof Ld)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(n,e),function nT(n,e){const t=n.cleanup,r=e[7];let o=-1;if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=t[i+1]];t[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();e[7]=null}}(n,e),1===e[1].type&&e[b].destroy();const t=e[17];if(null!==t&&yr(e[3])){t!==e[3]&&D0(t,e);const r=e[19];null!==r&&r.detachView(n)}!function BM(n){Hg.delete(n[20])}(e)}}function k0(n,e,t){return function x0(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=n.data[r.directiveStart+o];if(i===Li.None||i===Li.Emulated)return null}return $i(r,t)}}(n,e.parent,t)}function wc(n,e,t,r,o){n.insertBefore(e,t,r,o)}function M0(n,e,t){n.appendChild(e,t)}function T0(n,e,t,r,o){null!==r?wc(n,e,t,r,o):M0(n,e,t)}function oh(n,e){return n.parentNode(e)}function A0(n,e,t){return R0(n,e,t)}let ah,i_,R0=function P0(n,e,t){return 40&n.type?$i(n,t):null};function ih(n,e,t,r){const o=k0(n,r,e),i=e[b],a=A0(r.parent||e[6],r,e);if(null!=o)if(Array.isArray(t))for(let u=0;u<t.length;u++)T0(i,o,t[u],a,!1);else T0(i,o,t,a,!1)}function sh(n,e){if(null!==e){const t=e.type;if(3&t)return $i(e,n);if(4&t)return t_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return sh(n,r);{const o=n[e.index];return yr(o)?t_(-1,o):Ho(o)}}if(32&t)return Zg(e,n)()||Ho(n[e.index]);{const r=O0(n,e);return null!==r?Array.isArray(r)?r[0]:sh(Zd(n[16]),r):sh(n,e.next)}}return null}function O0(n,e){return null!==e?n[16][6].projection[e.projection]:null}function t_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],o=r[1].firstChild;if(null!==o)return sh(r,o)}return e[7]}function r_(n,e,t,r,o,i,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&ji(Ho(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)r_(n,e,t.child,r,o,i,!1),gu(e,n,o,a,i);else if(32&u){const f=Zg(t,r);let m;for(;m=f();)gu(e,n,o,m,i);gu(e,n,o,a,i)}else 16&u?N0(n,e,r,t,o,i):gu(e,n,o,a,i);t=s?t.projectionNext:t.next}}function qd(n,e,t,r,o,i){r_(t,r,n.firstChild,e,o,i,!1)}function N0(n,e,t,r,o,i){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)gu(e,n,o,u[f],i);else r_(n,e,u,s[3],o,i,!0)}function L0(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function $0(n,e,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&Mg(n,e,r),null!==o&&L0(n,e,o),null!==i&&function cT(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function Sc(n){return function o_(){if(void 0===ah&&(ah=null,p.trustedTypes))try{ah=p.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ah}()?.createHTML(n)||n}class Ec{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}class hT extends Ec{getTypeName(){return"HTML"}}class mT extends Ec{getTypeName(){return"Style"}}class gT extends Ec{getTypeName(){return"Script"}}class _T extends Ec{getTypeName(){return"URL"}}class yT extends Ec{getTypeName(){return"ResourceURL"}}function Ps(n){return n instanceof Ec?n.changingThisBreaksApplicationSecurity:n}function ka(n,e){const t=function vT(n){return n instanceof Ec&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ot})`)}return t===e}class DT{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Sc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class IT{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Sc(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Sc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let o=t.length-1;0<o;o--){const s=t.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const xT=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ch(n){return(n=String(n)).match(xT)?n:"unsafe:"+n}function il(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Yd(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const G0=il("area,br,col,hr,img,wbr"),z0=il("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),W0=il("rp,rt"),a_=Yd(G0,Yd(z0,il("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yd(W0,il("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yd(W0,z0)),l_=il("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Z0=Yd(l_,il("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),il("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),MT=il("script,style,template");class TT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!a_.hasOwnProperty(t))return this.sanitizedSomething=!0,!MT.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!Z0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=i.value;l_[a]&&(u=ch(u)),this.buf.push(" ",s,'="',q0(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();a_.hasOwnProperty(t)&&!G0.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(q0(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const AT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,PT=/([^\#-~ |!])/g;function q0(n){return n.replace(/&/g,"&amp;").replace(AT,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(PT,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let uh;function Y0(n,e){let t=null;try{uh=uh||function H0(n){const e=new IT(n);return function kT(){try{return!!(new window.DOMParser).parseFromString(Sc(""),"text/html")}catch{return!1}}()?new DT(e):e}(n);let r=e?String(e):"";t=uh.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=uh.getInertBodyElement(r)}while(r!==i);return Sc((new TT).sanitizeChildren(c_(t)||t))}finally{if(t){const r=c_(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function c_(n){return"content"in n&&function RT(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Wr=(()=>((Wr=Wr||{})[Wr.NONE=0]="NONE",Wr[Wr.HTML=1]="HTML",Wr[Wr.STYLE=2]="STYLE",Wr[Wr.SCRIPT=3]="SCRIPT",Wr[Wr.URL=4]="URL",Wr[Wr.RESOURCE_URL=5]="RESOURCE_URL",Wr))();const dh=new tn("ENVIRONMENT_INITIALIZER"),J0=new tn("INJECTOR",-1),eC=new tn("INJECTOR_DEF_TYPES");class tC{get(e,t=G){if(t===G){const r=new Error(`NullInjectorError: No provider for ${N(e)}!`);throw r.name="NullInjectorError",r}return t}}function jT(...n){return{\u0275providers:nC(0,n),\u0275fromNgModule:!0}}function nC(n,...e){const t=[],r=new Set;let o;return Cc(e,i=>{const s=i;u_(s,t,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&rC(o,t),t}function rC(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];d_(o,i=>{e.push(i)})}}function u_(n,e,t,r){if(!(n=R(n)))return!1;let o=null,i=Ca(n);const s=!i&&dr(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const u=n.ngModule;if(i=Ca(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)u_(f,e,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{Cc(i.imports,m=>{u_(m,e,t,r)&&(f||(f=[]),f.push(m))})}finally{}void 0!==f&&rC(f,e)}if(!a){const f=Da(o)||(()=>new o);e.push({provide:o,useFactory:f,deps:rr},{provide:eC,useValue:o,multi:!0},{provide:dh,useValue:()=>ee(o),multi:!0})}const u=i.providers;null==u||a||d_(u,m=>{e.push(m)})}}return o!==n&&void 0!==n.providers}function d_(n,e){for(let t of n)xe(t)&&(t=t.\u0275providers),Array.isArray(t)?d_(t,e):e(t)}const UT=nr({provide:String,useValue:nr});function f_(n){return null!==n&&"object"==typeof n&&UT in n}function Dc(n){return"function"==typeof n}const p_=new tn("Set Injector scope."),fh={},GT={};let h_;function ph(){return void 0===h_&&(h_=new tC),h_}class xa{}class sC extends xa{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,g_(e,s=>this.processProvider(s)),this.records.set(J0,_u(void 0,this)),o.has("environment")&&this.records.set(xa,_u(void 0,this));const i=this.records.get(p_);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(eC.multi,rr,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=jt(this),r=ur(void 0);try{return e()}finally{jt(t),ur(r)}}get(e,t=G,r=xt.Default){this.assertNotDestroyed(),r=Kr(r);const o=jt(this),i=ur(void 0);try{if(!(r&xt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function YT(n){return"function"==typeof n||"object"==typeof n&&n instanceof tn}(e)&&Ms(e);a=u&&this.injectableDefInScope(u)?_u(m_(e),fh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&xt.Self?ph():this.parent).get(e,t=r&xt.Optional&&t===G?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[De]=s[De]||[]).unshift(N(e)),o)throw s;return function Cr(n,e,t,r){const o=n[De];throw e[Tn]&&o.unshift(e[Tn]),n.message=function ni(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=N(e);if(Array.isArray(e))o=e.map(N).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):N(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(wt,"\n  ")}`}("\n"+n.message,o,t,r),n.ngTokenPath=o,n[De]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{ur(i),jt(o)}}resolveInjectorInitializers(){const e=jt(this),t=ur(void 0);try{const r=this.get(dh.multi,rr,xt.Self);for(const o of r)o()}finally{jt(e),ur(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(N(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(e){let t=Dc(e=R(e))?e:R(e&&e.provide);const r=function WT(n){return f_(n)?_u(void 0,n.useValue):_u(aC(n),fh)}(e);if(Dc(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=_u(void 0,fh,!0),o.factory=()=>ht(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===fh&&(t.value=GT,t.value=t.factory()),"object"==typeof t.value&&t.value&&function qT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=R(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function m_(n){const e=Ms(n),t=null!==e?e.factory:Da(n);if(null!==t)return t;if(n instanceof tn)throw new Te(204,!1);if(n instanceof Function)return function zT(n){const e=n.length;if(e>0)throw jd(e,"?"),new Te(204,!1);const t=function ms(n){const e=n&&(n[Gs]||n[wa]);if(e){const t=function Ni(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Te(204,!1)}function aC(n,e,t){let r;if(Dc(n)){const o=R(n);return Da(o)||m_(o)}if(f_(n))r=()=>R(n.useValue);else if(function iC(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...ht(n.deps||[]));else if(function oC(n){return!(!n||!n.useExisting)}(n))r=()=>ee(R(n.useExisting));else{const o=R(n&&(n.useClass||n.provide));if(!function ZT(n){return!!n.deps}(n))return Da(o)||m_(o);r=()=>new o(...ht(n.deps))}return r}function _u(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function g_(n,e){for(const t of n)Array.isArray(t)?g_(t,e):t&&xe(t)?g_(t.\u0275providers,e):e(t)}class KT{}class lC{}class QT{resolveComponentFactory(e){throw function XT(n){const e=Error(`No component factory found for ${N(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let sl=(()=>{class n{}return n.NULL=new QT,n})();function JT(){return yu(un(),pt())}function yu(n,e){return new _t($i(n,e))}let _t=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=JT,n})();function eA(n){return n instanceof _t?n.nativeElement:n}class uC{}let al=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function tA(){const n=pt(),t=Bi(un().index,n);return(Lr(t)?t:n)[b]}(),n})(),nA=(()=>{class n{}return n.\u0275prov=mt({token:n,providedIn:"root",factory:()=>null}),n})();class Xd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const rA=new Xd("15.1.3"),__={};function v_(n){return n.ngOriginalError}class vu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&v_(e);for(;t&&v_(t);)t=v_(t);return t||null}}function ll(n){return n instanceof Function?n():n}function fC(n,e,t){let r=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}const pC="ng-template";function hA(n,e,t){let r=0;for(;r<n.length;){let o=n[r++];if(t&&"class"===o){if(o=n[r],-1!==fC(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function hC(n){return 4===n.type&&n.value!==pC}function mA(n,e,t){return e===(4!==n.type||t?n.value:pC)}function gA(n,e,t){let r=4;const o=n.attrs||[],i=function vA(n){for(let e=0;e<n.length;e++)if(Vb(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!mA(n,u,t)||""===u&&1===e.length){if(aa(r))return!1;s=!0}}else{const f=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!hA(n.attrs,f,t)){if(aa(r))return!1;s=!0}continue}const y=_A(8&r?"class":u,o,hC(n),t);if(-1===y){if(aa(r))return!1;s=!0;continue}if(""!==f){let k;k=y>i?"":o[y+1].toLowerCase();const M=8&r?k:null;if(M&&-1!==fC(M,f,0)||2&r&&f!==k){if(aa(r))return!1;s=!0}}}}else{if(!s&&!aa(r)&&!aa(u))return!1;if(s&&aa(u))continue;s=!1,r=u|1&r}}return aa(r)||s}function aa(n){return 0==(1&n)}function _A(n,e,t,r){if(null===e)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function bA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function mC(n,e,t=!1){for(let r=0;r<e.length;r++)if(gA(n,e[r],t))return!0;return!1}function CA(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function gC(n,e){return n?":not("+e.trim()+")":e}function wA(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!aa(s)&&(e+=gC(i,o),o=""),r=s,i=i||!aa(r);t++}return""!==o&&(e+=gC(i,o)),e}const Ln={};function Xe(n){_C(lr(),pt(),Vr()+n,!1)}function _C(n,e,t,r){if(!r)if(3==(3&e[2])){const i=n.preOrderCheckHooks;null!==i&&Zp(e,i,t)}else{const i=n.preOrderHooks;null!==i&&qp(e,i,0,t)}bo(t)}function CC(n,e=null,t=null,r){const o=wC(n,e,t,r);return o.resolveInjectorInitializers(),o}function wC(n,e=null,t=null,r,o=new Set){const i=[t||rr,jT(n)];return r=r||("object"==typeof n?void 0:N(n)),new sC(i,e||ph(),r||null,o)}let Co=(()=>{class n{static create(t,r){if(Array.isArray(t))return CC({name:""},r,t,"");{const o=t.name??"";return CC({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=G,n.NULL=new tC,n.\u0275prov=mt({token:n,providedIn:"any",factory:()=>ee(J0)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,e=xt.Default){const t=pt();return null===t?ee(n,e):Yb(un(),t,R(n),e)}function TC(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r+1];if(-1!==i){const s=n.data[i];ve(t[r]),s.contentQueries(2,e[i],i)}}}function mh(n,e,t,r,o,i,s,a,u,f,m){const y=e.blueprint.slice();return y[0]=o,y[2]=76|r,(null!==m||n&&1024&n[2])&&(y[2]|=1024),Up(y),y[3]=y[15]=n,y[8]=t,y[10]=s||n&&n[10],y[b]=a||n&&n[b],y[12]=u||n&&n[12]||null,y[9]=f||n&&n[9]||null,y[6]=i,y[20]=function LM(){return NM++}(),y[21]=m,y[16]=2==e.type?n[16]:y,y}function wu(n,e,t,r,o){let i=n.data[e];if(null===i)i=function E_(n,e,t,r,o){const i=Ro(),s=Jr(),u=n.data[e]=function qA(n,e,t,r,o,i){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,e,r,o);return null===n.firstChild&&(n.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(n,e,t,r,o),function Vi(){return Fn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function pr(){const n=Fn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return qe(i,!0),i}function Qd(n,e,t,r){if(0===t)return-1;const o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function D_(n,e,t){St(e);try{const r=n.viewQuery;null!==r&&O_(1,r,t);const o=n.template;null!==o&&AC(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&TC(n,e),n.staticViewQueries&&O_(2,n.viewQuery,t);const i=n.components;null!==i&&function zA(n,e){for(let t=0;t<e.length;t++)pP(n,e[t])}(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,an()}}function gh(n,e,t,r){const o=e[2];if(128!=(128&o)){St(e);try{Up(e),function io(n){return Fn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&AC(n,e,t,2,r);const s=3==(3&o);if(s){const f=n.preOrderCheckHooks;null!==f&&Zp(e,f,null)}else{const f=n.preOrderHooks;null!==f&&qp(e,f,0,null),kg(e,0)}if(function dP(n){for(let e=qg(n);null!==e;e=Yg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const o=t[r];512&o[2]||Hp(o[3],1),o[2]|=512}}}(e),function uP(n){for(let e=qg(n);null!==e;e=Yg(e))for(let t=10;t<e.length;t++){const r=e[t],o=r[1];yc(r)&&gh(o,r,o.template,r[8])}}(e),null!==n.contentQueries&&TC(n,e),s){const f=n.contentCheckHooks;null!==f&&Zp(e,f)}else{const f=n.contentHooks;null!==f&&qp(e,f,1),kg(e,1)}!function HA(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)bo(~o);else{const i=o,s=t[++r],a=t[++r];c(s,i),a(2,e[i])}}}finally{bo(-1)}}(n,e);const a=n.components;null!==a&&function GA(n,e){for(let t=0;t<e.length;t++)fP(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&O_(2,u,r),s){const f=n.viewCheckHooks;null!==f&&Zp(e,f)}else{const f=n.viewHooks;null!==f&&qp(e,f,2),kg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Hp(e[3],-1))}finally{an()}}}function AC(n,e,t,r,o){const i=Vr(),s=2&r;try{bo(-1),s&&e.length>22&&_C(n,e,22,!1),t(r,o)}finally{bo(i)}}function I_(n,e,t){if(iu(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,t[i],i)}}}function k_(n,e,t){zs()&&(function eP(n,e,t,r){const o=t.directiveStart,i=t.directiveEnd;$l(t)&&function aP(n,e,t){const r=$i(e,n),o=PC(t),i=n[10],s=_h(n,mh(n,o,null,t.onPush?32:16,r,e,i,i.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Qp(t,e),ji(r,e);const s=t.initialInputs;for(let a=o;a<i;a++){const u=n.data[a],f=bc(e,n,a,t);ji(f,e),null!==s&&lP(0,a-o,f,u,0,s),_s(u)&&(Bi(t.index,e)[8]=bc(e,n,a,t))}}(n,e,t,$i(t,e)),64==(64&t.flags)&&$C(n,e,t))}function x_(n,e,t=$i){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function PC(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=M_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function M_(n,e,t,r,o,i,s,a,u,f){const m=22+r,y=m+o,k=function WA(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ln);return t}(m,y),M="function"==typeof f?f():f;return k[1]={type:n,blueprint:k,template:t,queries:null,viewQuery:a,declTNode:e,data:k.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1}}function RC(n,e,t,r){const o=VC(e);null===t?o.push(r):(o.push(t),n.firstCreatePass&&jC(n).push(r,o.length-1))}function FC(n,e,t,r){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const i=n[o];null===r?OC(t,e,o,i):r.hasOwnProperty(o)&&OC(t,e,r[o],i)}return t}function OC(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Rs(n,e,t,r,o,i,s,a){const u=$i(e,t);let m,f=e.inputs;!a&&null!=f&&(m=f[r])?(N_(n,t,m,r,o),$l(e)&&NC(t,e.index)):3&e.type&&(r=function KA(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(u,r,o))}function NC(n,e){const t=Bi(e,n);16&t[2]||(t[2]|=32)}function T_(n,e,t,r){let o=!1;if(zs()){const i=null===r?null:{"":-1},s=function nP(n,e){const t=n.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(mC(e,s.selectors,!1))if(r||(r=[]),_s(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),A_(n,e,a.length)}else r.unshift(s),A_(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(n,t);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(o=!0,LC(n,e,t,a,i,u)),i&&function rP(n,e,t){if(e){const r=n.localNames=[];for(let o=0;o<e.length;o+=2){const i=t[e[o+1]];if(null==i)throw new Te(-301,!1);r.push(e[o],i)}}}(t,r,i)}return t.mergedAttrs=$d(t.mergedAttrs,t.attrs),o}function LC(n,e,t,r,o,i){for(let f=0;f<r.length;f++)Rg(Qp(t,e),n,r[f].type);!function iP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let f=0;f<r.length;f++){const m=r[f];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,u=Qd(n,e,r.length,null);for(let f=0;f<r.length;f++){const m=r[f];t.mergedAttrs=$d(t.mergedAttrs,m.hostAttrs),sP(n,t,e,u,m),oP(u,m,o),null!==m.contentQueries&&(t.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=64);const y=m.type.prototype;!s&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function YA(n,e,t){const o=e.directiveEnd,i=n.data,s=e.attrs,a=[];let u=null,f=null;for(let m=e.directiveStart;m<o;m++){const y=i[m],k=t?t.get(y):null,K=k?k.outputs:null;u=FC(y.inputs,m,u,k?k.inputs:null),f=FC(y.outputs,m,f,K);const Se=null===u||null===s||hC(e)?null:cP(u,m,s);a.push(Se)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=f}(n,t,i)}function $C(n,e,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function h(){return Fn.lFrame.currentDirectiveIndex}();try{bo(i);for(let a=r;a<o;a++){const u=n.data[a],f=e[a];v(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&tP(u,f)}}finally{bo(-1),v(s)}}function tP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function A_(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function oP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;_s(e)&&(t[""]=n)}}function sP(n,e,t,r,o){n.data[r]=o;const i=o.factory||(o.factory=Da(o.type)),s=new Ld(i,_s(o),C);n.blueprint[r]=s,t[r]=s,function QA(n,e,t,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function JA(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(n,e,r,Qd(n,t,o.hostVars,Ln),o)}function Ma(n,e,t,r,o,i){const s=$i(n,e);!function P_(n,e,t,r,o,i,s){if(null==i)n.removeAttribute(e,o,t);else{const a=null==s?Ct(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}(e[b],s,i,n.value,t,r,o)}function lP(n,e,t,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const f=s[u++],m=s[u++],y=s[u++];null!==a?r.setInput(t,y,f,m):t[m]=y}}}function cP(n,e,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(n.hasOwnProperty(i)){null===r&&(r=[]);const s=n[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function BC(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function fP(n,e){const t=Bi(e,n);if(yc(t)){const r=t[1];48&t[2]?gh(r,t,r.template,t[8]):t[5]>0&&R_(t)}}function R_(n){for(let r=qg(n);null!==r;r=Yg(r))for(let o=10;o<r.length;o++){const i=r[o];if(yc(i))if(512&i[2]){const s=i[1];gh(s,i,s.template,i[8])}else i[5]>0&&R_(i)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const o=Bi(t[r],n);yc(o)&&o[5]>0&&R_(o)}}function pP(n,e){const t=Bi(e,n),r=t[1];(function hP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),D_(r,t,t[8])}function _h(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function F_(n){for(;n;){n[2]|=32;const e=Zd(n);if(Tp(n)&&!e)return n;n=e}return null}function yh(n,e,t,r=!0){const o=e[10];o.begin&&o.begin();try{gh(n,e,n.template,t)}catch(s){throw r&&HC(e,s),s}finally{o.end&&o.end()}}function O_(n,e,t){ve(0),e(n,t)}function VC(n){return n[7]||(n[7]=[])}function jC(n){return n.cleanup||(n.cleanup=[])}function HC(n,e){const t=n[9],r=t?t.get(vu,null):null;r&&r.handleError(e)}function N_(n,e,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++],u=e[s],f=n.data[s];null!==f.setInput?f.setInput(u,o,r,a):u[a]=o}}function cl(n,e,t){const r=_c(e,n);!function E0(n,e,t){n.setValue(e,t)}(n[b],r,t)}function vh(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=me(o,a):2==i&&(r=me(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function bh(n,e,t,r,o=!1){for(;null!==t;){const i=e[t.index];if(null!==i&&r.push(Ho(i)),yr(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&bh(u[1],u,f,r)}const s=t.type;if(8&s)bh(n,e,t.child,r);else if(32&s){const a=Zg(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=O0(e,t);if(Array.isArray(a))r.push(...a);else{const u=Zd(e[16]);bh(u[1],u,a,r,!0)}}t=o?t.projectionNext:t.next}return r}class Jd{get rootNodes(){const e=this._lView,t=e[1];return bh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(yr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Qg(e,r),eh(t,r))}this._attachedToViewContainer=!1}I0(this._lView[1],this._lView)}onDestroy(e){RC(this._lView[1],this._lView,null,e)}markForCheck(){F_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function QM(n,e){qd(n,e,e[b],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=e}}class mP extends Jd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;yh(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class GC extends sl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=dr(e);return new ef(t,this.ngModule)}}function zC(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class _P{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Kr(r);const o=this.injector.get(e,__,r);return o!==__||t===__?o:this.parentInjector.get(e,t,r)}}class ef extends lC{get inputs(){return zC(this.componentDef.inputs)}get outputs(){return zC(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function SA(n){return n.map(wA).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=(o=o||this.ngModule)instanceof xa?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new _P(e,i):e,a=s.get(uC,null);if(null===a)throw new Te(407,!1);const u=s.get(nA,null),f=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=r?function ZA(n,e,t){return n.selectRootElement(e,t===Li.ShadowDom)}(f,r,this.componentDef.encapsulation):Xg(f,m,function gP(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),k=this.componentDef.onPush?288:272,M=M_(0,null,null,1,0,null,null,null,null,null),K=mh(null,M,null,k,null,null,a,f,u,s,null);let Se,Ge;St(K);try{const Ke=this.componentDef;let vt,Le=null;Ke.findHostDirectiveDefs?(vt=[],Le=new Map,Ke.findHostDirectiveDefs(Ke,vt,Le),vt.push(Ke)):vt=[Ke];const Ot=function vP(n,e){const t=n[1];return n[22]=e,wu(t,22,2,"#host",null)}(K,y),Dn=function bP(n,e,t,r,o,i,s,a){const u=o[1];!function CP(n,e,t,r){for(const o of n)e.mergedAttrs=$d(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(vh(e,e.mergedAttrs,!0),null!==t&&$0(r,t,e))}(r,n,e,s);const f=i.createRenderer(e,t),m=mh(o,PC(t),null,t.onPush?32:16,o[n.index],n,i,f,a||null,null,null);return u.firstCreatePass&&A_(u,n,r.length-1),_h(o,m),o[n.index]=m}(Ot,y,Ke,vt,K,a,f);Ge=Nd(M,22),y&&function SP(n,e,t,r){if(r)Mg(n,t,["ng-version",rA.full]);else{const{attrs:o,classes:i}=function EA(n){const e=[],t=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&e.push(i,n[++r]):8===o&&t.push(i);else{if(!aa(o))break;o=i}r++}return{attrs:e,classes:t}}(e.selectors[0]);o&&Mg(n,t,o),i&&i.length>0&&L0(n,t,i.join(" "))}}(f,Ke,y,r),void 0!==t&&function EP(n,e,t){const r=n.projection=[];for(let o=0;o<e.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(Ge,this.ngContentSelectors,t),Se=function wP(n,e,t,r,o,i){const s=un(),a=o[1],u=$i(s,o);LC(a,o,s,t,null,r);for(let m=0;m<t.length;m++)ji(bc(o,a,s.directiveStart+m,s),o);$C(a,o,s),u&&ji(u,o);const f=bc(o,a,s.directiveStart+s.componentOffset,s);if(n[8]=o[8]=f,null!==i)for(const m of i)m(f,e);return I_(a,s,n),f}(Dn,Ke,vt,Le,K,[DP]),D_(M,K,null)}finally{an()}return new yP(this.componentType,Se,yu(Ge,K),K,Ge)}}class yP extends KT{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new mP(o),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){const i=this._rootLView;N_(i[1],i,o,e,t),NC(i,this._tNode.index)}}get injector(){return new lu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function DP(){const n=un();Wp(pt()[1],n)}function vr(n){let e=function WC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let o;if(_s(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Te(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);const s=n;s.inputs=L_(n.inputs),s.declaredInputs=L_(n.declaredInputs),s.outputs=L_(n.outputs);const a=o.hostBindings;a&&MP(n,a);const u=o.viewQuery,f=o.contentQueries;if(u&&kP(n,u),f&&xP(n,f),T(n.inputs,o.inputs),T(n.declaredInputs,o.declaredInputs),T(n.outputs,o.outputs),_s(o)&&o.data.animation){const m=n.data;m.animation=(m.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===vr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function IP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=$d(o.hostAttrs,t=$d(t,o.hostAttrs))}}(r)}function L_(n){return n===Yi?{}:n===rr?[]:n}function kP(n,e){const t=n.viewQuery;n.viewQuery=t?(r,o)=>{e(r,o),t(r,o)}:e}function xP(n,e){const t=n.contentQueries;n.contentQueries=t?(r,o,i)=>{e(r,o,i),t(r,o,i)}:e}function MP(n,e){const t=n.hostBindings;n.hostBindings=t?(r,o)=>{e(r,o),t(r,o)}:e}let Ch=null;function Ic(){if(!Ch){const n=p.Symbol;if(n&&n.iterator)Ch=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ch=r)}}}return Ch}function wh(n){return!!function $_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ic()in n)}function Ui(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function kc(n,e,t,r){const o=Ui(n,e,t);return Ui(n,e+1,r)||o}function Aa(n,e,t,r){const o=pt();return Ui(o,Gr(),e)&&(lr(),Ma(lt(),o,n,e,t,r)),Aa}function Eu(n,e,t,r){return Ui(n,Gr(),t)?e+Ct(t)+r:Ln}function Iu(n,e,t,r,o,i,s,a){const f=function Sh(n,e,t,r,o){const i=kc(n,e,t,r);return Ui(n,e+2,o)||i}(n,Br(),t,o,s);return nn(3),f?e+Ct(t)+r+Ct(o)+i+Ct(s)+a:Ln}function Qt(n,e,t,r,o,i,s,a){const u=pt(),f=lr(),m=n+22,y=f.firstCreatePass?function BP(n,e,t,r,o,i,s,a,u){const f=e.consts,m=wu(e,n,4,s||null,sa(f,a));T_(e,t,m,sa(f,u)),Wp(e,m);const y=m.tViews=M_(2,m,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,m),y.queries=e.queries.embeddedTView(m)),m}(m,f,u,e,t,r,o,i,s):f.data[m];qe(y,!1);const k=u[b].createComment("");ih(f,u,k,y),ji(k,u),_h(u,u[m]=BC(k,u,k,y)),gc(y)&&k_(f,u,y),null!=s&&x_(u,y,a)}function Fs(n){return ol(function $r(){return Fn.lFrame.contextLView}(),22+n)}function rt(n,e,t){const r=pt();return Ui(r,Gr(),e)&&Rs(lr(),lt(),r,n,e,r[b],t,!1),rt}function B_(n,e,t,r,o){const s=o?"class":"style";N_(n,t,e.inputs[s],s,r)}function oe(n,e,t,r){const o=pt(),i=lr(),s=22+n,a=o[b],u=o[s]=Xg(a,e,function Fo(){return Fn.lFrame.currentNamespace}()),f=i.firstCreatePass?function jP(n,e,t,r,o,i,s){const a=e.consts,f=wu(e,n,2,o,sa(a,i));return T_(e,t,f,sa(a,s)),null!==f.attrs&&vh(f,f.attrs,!1),null!==f.mergedAttrs&&vh(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,i,o,0,e,t,r):i.data[s];return qe(f,!0),$0(a,u,f),32!=(32&f.flags)&&ih(i,o,u,f),0===function Gp(){return Fn.lFrame.elementDepthCount}()&&ji(u,o),function zp(){Fn.lFrame.elementDepthCount++}(),gc(f)&&(k_(i,o,f),I_(i,f,o)),null!==r&&x_(o,f),oe}function J(){let n=un();Jr()?Yn():(n=n.parent,qe(n,!1));const e=n;!function Qr(){Fn.lFrame.elementDepthCount--}();const t=lr();return t.firstCreatePass&&(Wp(t,n),iu(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function tM(n){return 0!=(8&n.flags)}(e)&&B_(t,e,pt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function nM(n){return 0!=(16&n.flags)}(e)&&B_(t,e,pt(),e.stylesWithoutHost,!1),J}function ct(n,e,t,r){return oe(n,e,t,r),J(),ct}function nf(n,e,t){const r=pt(),o=lr(),i=n+22,s=o.firstCreatePass?function UP(n,e,t,r,o){const i=e.consts,s=sa(i,r),a=wu(e,n,8,"ng-container",s);return null!==s&&vh(a,s,!0),T_(e,t,a,sa(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,t):o.data[i];qe(s,!0);const a=r[i]=r[b].createComment("");return ih(o,r,a,s),ji(a,r),gc(s)&&(k_(o,r,s),I_(o,s,r)),null!=t&&x_(r,s),nf}function rf(){let n=un();const e=lr();return Jr()?Yn():(n=n.parent,qe(n,!1)),e.firstCreatePass&&(Wp(e,n),iu(n)&&e.queries.elementEnd(n)),rf}function Tr(){return pt()}function sf(n){return!!n&&"function"==typeof n.then}function iw(n){return!!n&&"function"==typeof n.subscribe}const V_=iw;function st(n,e,t,r){const o=pt(),i=lr(),s=un();return function aw(n,e,t,r,o,i,s){const a=gc(r),f=n.firstCreatePass&&jC(n),m=e[8],y=VC(e);let k=!0;if(3&r.type||s){const Se=$i(r,e),Ge=s?s(Se):Se,Ke=y.length,vt=s?Ot=>s(Ho(Ot[r.index])):r.index;let Le=null;if(!s&&a&&(Le=function HP(n,e,t,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=e[7],u=o[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(n,e,o,r.index)),null!==Le)(Le.__ngLastListenerFn__||Le).__ngNextListenerFn__=i,Le.__ngLastListenerFn__=i,k=!1;else{i=cw(r,e,m,i,!1);const Ot=t.listen(Ge,o,i);y.push(i,Ot),f&&f.push(o,vt,Ke,Ke+1)}}else i=cw(r,e,m,i,!1);const M=r.outputs;let K;if(k&&null!==M&&(K=M[o])){const Se=K.length;if(Se)for(let Ge=0;Ge<Se;Ge+=2){const Dn=e[K[Ge]][K[Ge+1]].subscribe(i),Gn=y.length;y.push(i,Dn),f&&f.push(o,r.index,Gn,-(Gn+1))}}}(i,o,o[b],s,n,e,r),st}function lw(n,e,t,r){try{return!1!==t(r)}catch(o){return HC(n,o),!1}}function cw(n,e,t,r,o){return function i(s){if(s===Function)return r;F_(n.componentOffset>-1?Bi(n.index,e):e);let u=lw(e,0,r,s),f=i.__ngNextListenerFn__;for(;f;)u=lw(e,0,f,s)&&u,f=f.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Lt(n=1){return function Zn(n){return(Fn.lFrame.contextLView=function Io(n,e){for(;n>0;)e=e[15],n--;return e}(n,Fn.lFrame.contextLView))[8]}(n)}function GP(n,e){let t=null;const r=function yA(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const i=e[o];if("*"!==i){if(null===r?mC(n,i,!0):CA(r,i))return o}else t=o}return t}function Rt(n){const e=pt()[16][6];if(!e.projection){const r=e.projection=jd(n?n.length:1,null),o=r.slice();let i=e.child;for(;null!==i;){const s=n?GP(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function At(n,e=0,t){const r=pt(),o=lr(),i=wu(o,22+n,16,null,t||null);null===i.projection&&(i.projection=e),Yn(),32!=(32&i.flags)&&function sT(n,e,t){N0(e[b],0,e,t,k0(n,t,e),A0(t.parent||e[6],t,e))}(o,r,i)}function Dh(n,e,t,r,o){const i=pt(),s=Eu(i,e,t,r);return s!==Ln&&Rs(lr(),lt(),i,n,s,i[b],o,!1),Dh}function Ih(n,e){return n<<17|e<<2}function Bl(n){return n>>17&32767}function j_(n){return 2|n}function xc(n){return(131068&n)>>2}function U_(n,e){return-131069&n|e<<2}function H_(n){return 1|n}function vw(n,e,t,r,o){const i=n[t+1],s=null===e;let a=r?Bl(i):xc(i),u=!1;for(;0!==a&&(!1===u||s);){const m=n[a+1];KP(n[a],e)&&(u=!0,n[a+1]=r?H_(m):j_(m)),a=r?Bl(m):xc(m)}u&&(n[t+1]=r?j_(i):H_(i))}function KP(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&hu(n,e)>=0}function af(n,e,t){return la(n,e,t,!1),af}function ul(n,e){return la(n,e,null,!0),ul}function la(n,e,t,r){const o=pt(),i=lr(),s=nn(2);i.firstUpdatePass&&function kw(n,e,t,r){const o=n.data;if(null===o[t+1]){const i=o[Vr()],s=function Iw(n,e){return e>=n.expandoStartIndex}(n,t);(function Aw(n,e){return 0!=(n.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function iR(n,e,t,r){const o=function x(n){const e=Fn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(t=lf(t=G_(null,n,e,t,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=G_(o,n,e,t,r),null===i){let u=function sR(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==xc(r))return n[Bl(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=G_(null,n,e,u[1],r),u=lf(u,e.attrs,r),function aR(n,e,t,r){n[Bl(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else i=function lR(n,e,t){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=lf(r,n[i].hostAttrs,t);return lf(r,e.attrs,t)}(n,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),t}(o,i,e,r),function qP(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Bl(s),u=xc(s);n[r]=t;let m,f=!1;if(Array.isArray(t)?(m=t[1],(null===m||hu(t,m)>0)&&(f=!0)):m=t,o)if(0!==u){const k=Bl(n[a+1]);n[r+1]=Ih(k,a),0!==k&&(n[k+1]=U_(n[k+1],r)),n[a+1]=function WP(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Ih(a,0),0!==a&&(n[a+1]=U_(n[a+1],r)),a=r;else n[r+1]=Ih(u,0),0===a?a=r:n[u+1]=U_(n[u+1],r),u=r;f&&(n[r+1]=j_(n[r+1])),vw(n,m,r,!0),vw(n,m,r,!1),function YP(n,e,t,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&hu(i,e)>=0&&(t[r+1]=H_(t[r+1]))}(e,m,n,r,i),s=Ih(a,u),i?e.classBindings=s:e.styleBindings=s}(o,i,e,t,s,r)}}(i,n,s,r),e!==Ln&&Ui(o,s,e)&&function Mw(n,e,t,r,o,i,s,a){if(!(3&e.type))return;const u=n.data,f=u[a+1],m=function ZP(n){return 1==(1&n)}(f)?Tw(u,e,t,o,xc(f),s):void 0;kh(m)||(kh(i)||function zP(n){return 2==(2&n)}(f)&&(i=Tw(u,null,t,o,a,s)),function lT(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:ys.DashCase;null==o?n.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ys.Important),n.setStyle(t,r,o,i))}}(r,s,_c(Vr(),t),o,i))}(i,i.data[Vr()],o,o[b],n,o[s+1]=function dR(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=N(Ps(n)))),n}(e,t),r,s)}function G_(n,e,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],r=lf(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function lf(n,e,t){const r=t?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),As(n,s,!!t||e[++i]))}return void 0===n?null:n}function Tw(n,e,t,r,o,i){const s=null===e;let a;for(;o>0;){const u=n[o],f=Array.isArray(u),m=f?u[1]:u,y=null===m;let k=t[o+1];k===Ln&&(k=y?rr:void 0);let M=y?Lg(k,r):m===r?k:void 0;if(f&&!kh(M)&&(M=Lg(u,r)),kh(M)&&(a=M,s))return a;const K=n[o+1];o=s?Bl(K):xc(K)}if(null!==e){let u=i?e.residualClasses:e.residualStyles;null!=u&&(a=Lg(u,r))}return a}function kh(n){return void 0!==n}function Ye(n,e=""){const t=pt(),r=lr(),o=n+22,i=r.firstCreatePass?wu(r,o,1,e,null):r.data[o],s=t[o]=function Kg(n,e){return n.createText(e)}(t[b],e);ih(r,t,s,i),qe(i,!1)}function Os(n){return Hi("",n,""),Os}function Hi(n,e,t){const r=pt(),o=Eu(r,n,e,t);return o!==Ln&&cl(r,Vr(),o),Hi}function cf(n,e,t,r,o){const i=pt(),s=function Du(n,e,t,r,o,i){const a=kc(n,Br(),t,o);return nn(2),a?e+Ct(t)+r+Ct(o)+i:Ln}(i,n,e,t,r,o);return s!==Ln&&cl(i,Vr(),s),cf}function z_(n,e,t,r,o,i,s){const a=pt(),u=Iu(a,n,e,t,r,o,i,s);return u!==Ln&&cl(a,Vr(),u),z_}const Fu="en-US";let Xw=Fu;function q_(n,e,t,r,o){if(n=R(n),Array.isArray(n))for(let i=0;i<n.length;i++)q_(n[i],e,t,r,o);else{const i=lr(),s=pt();let a=Dc(n)?n:R(n.provide),u=aC(n);const f=un(),m=1048575&f.providerIndexes,y=f.directiveStart,k=f.providerIndexes>>20;if(Dc(n)||!n.multi){const M=new Ld(u,o,C),K=K_(a,e,o?m:m+k,y);-1===K?(Rg(Qp(f,s),i,a),Y_(i,n,e.length),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(M),s.push(M)):(t[K]=M,s[K]=M)}else{const M=K_(a,e,m+k,y),K=K_(a,e,m,m+k),Ge=K>=0&&t[K];if(o&&!Ge||!o&&!(M>=0&&t[M])){Rg(Qp(f,s),i,a);const Ke=function MF(n,e,t,r,o){const i=new Ld(n,t,C);return i.multi=[],i.index=e,i.componentProviders=0,wS(i,o,r&&!t),i}(o?xF:kF,t.length,o,r,u);!o&&Ge&&(t[K].providerFactory=Ke),Y_(i,n,e.length,0),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(Ke),s.push(Ke)}else Y_(i,n,M>-1?M:K,wS(t[o?K:M],u,!o&&r));!o&&r&&Ge&&t[K].componentProviders++}}}function Y_(n,e,t,r){const o=Dc(e),i=function HT(n){return!!n.useClass}(e);if(o||i){const u=(i?R(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const m=f.indexOf(t);-1===m?f.push(t,[r,u]):f[m+1].push(r,u)}else f.push(t,u)}}}function wS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function K_(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function kF(n,e,t,r){return X_(this.multi,[])}function xF(n,e,t,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=bc(t,t[1],this.providerFactory.index,r);i=a.slice(0,s),X_(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],X_(o,i);return i}function X_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Nr(n,e=[]){return t=>{t.providersResolver=(r,o)=>function IF(n,e,t){const r=lr();if(r.firstCreatePass){const o=_s(n);q_(t,r.data,r.blueprint,o,!0),q_(e,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,e)}}class Ou{}class SS{}class ES extends Ou{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new GC(this);const r=_n(e);this._bootstrapComponents=ll(r.bootstrap),this._r3Injector=wC(e,t,[{provide:Ou,useValue:this},{provide:sl,useValue:this.componentFactoryResolver}],N(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Q_ extends SS{constructor(e){super(),this.moduleType=e}create(e){return new ES(this.moduleType,e)}}class AF extends Ou{constructor(e,t,r){super(),this.componentFactoryResolver=new GC(this),this.instance=null;const o=new sC([...e,{provide:Ou,useValue:this},{provide:sl,useValue:this.componentFactoryResolver}],t||ph(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ph(n,e,t=null){return new AF(n,e,t).injector}let PF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=nC(0,t.type),o=r.length>0?Ph([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=mt({token:n,providedIn:"environment",factory:()=>new n(ee(xa))}),n})();function DS(n){n.getStandaloneInjector=e=>e.get(PF).getOrCreateStandaloneInjector(n)}function PS(n,e,t,r,o,i){const s=e+t;return Ui(n,s,o)?function Ta(n,e,t){return n[e]=t}(n,s+1,i?r.call(i,o):r(o)):function mf(n,e){const t=n[e];return t===Ln?void 0:t}(n,s+1)}function Fa(n,e){const t=lr();let r;const o=n+22;t.firstCreatePass?(r=function XF(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=Da(r.type)),s=ur(C);try{const a=Xp(!1),u=i();return Xp(a),function VP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,pt(),o,u),u}finally{ur(s)}}function Oa(n,e,t){const r=n+22,o=pt(),i=ol(o,r);return function gf(n,e){return n[1].data[e].pure}(o,r)?PS(o,function Mr(){const n=Fn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,i.transform,t,i):i.transform(t)}function ey(n){return e=>{setTimeout(n,void 0,e)}}const xn=class n2 extends tt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=ey(i),o&&(o=ey(o)),s&&(s=ey(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof z&&e.add(a),a}};function r2(){return this._results[Ic()]()}class ty{get changes(){return this._changes||(this._changes=new xn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ic(),r=ty.prototype;r[t]||(r[t]=r2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const o=function Ws(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function fM(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let bs=(()=>{class n{}return n.__NG_ELEMENT_ID__=s2,n})();const o2=bs,i2=class extends o2{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,o=mh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),D_(r,o,e),new Jd(o)}};function s2(){return Rh(un(),pt())}function Rh(n,e){return 4&n.type?new i2(e,n,yu(n,e)):null}let Gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=a2,n})();function a2(){return BS(un(),pt())}const l2=Gi,LS=class extends l2{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new lu(this._hostTNode,this._hostLView)}get parentInjector(){const e=Pg(this._hostTNode,this._hostLView);if(Hb(e)){const t=Kp(e,this._hostLView),r=Yp(e);return new lu(t[1].data[r+8],t)}return new lu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=$S(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=e.createEmbeddedView(t||{},i);return this.insert(s,o),s}createComponent(e,t,r,o,i){const s=e&&!function Vd(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const y=t||{};a=y.index,r=y.injector,o=y.projectableNodes,i=y.environmentInjector||y.ngModuleRef}const u=s?e:new ef(dr(e)),f=r||this.parentInjector;if(!i&&null==u.ngModule){const k=(s?f:this.parentInjector).get(xa,null);k&&(i=k)}const m=u.create(f,o,void 0,i);return this.insert(m.hostView,a),m}insert(e,t){const r=e._lView,o=r[1];if(function jp(n){return yr(n[3])}(r)){const m=this.indexOf(e);if(-1!==m)this.detach(m);else{const y=r[3],k=new LS(y,y[6],y[3]);k.detach(k.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function eT(n,e,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=e),r<i-10?(e[4]=t[o],t0(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function tT(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(o,r,s,i);const a=t_(i,s),u=r[b],f=oh(u,s[7]);return null!==f&&function XM(n,e,t,r,o,i){r[0]=o,r[6]=e,qd(n,r,t,1,o,i)}(o,s[6],u,r,f,a),e.attachToViewContainerRef(),t0(ny(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=$S(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Qg(this._lContainer,t);r&&(eh(ny(this._lContainer),t),I0(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Qg(this._lContainer,t);return r&&null!=eh(ny(this._lContainer),t)?new Jd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function $S(n){return n[8]}function ny(n){return n[8]||(n[8]=[])}function BS(n,e){let t;const r=e[n.index];if(yr(r))t=r;else{let o;if(8&n.type)o=Ho(r);else{const i=e[b];o=i.createComment("");const s=$i(n,e);wc(i,oh(i,s),o,function iT(n,e){return n.nextSibling(e)}(i,s),!1)}e[n.index]=t=BC(r,e,o,n),_h(e,t)}return new LS(t,n,e)}class ry{constructor(e){this.queryList=e,this.matches=null}clone(){return new ry(this.queryList)}setDirty(){this.queryList.setDirty()}}class oy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new oy(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==GS(e,t).matches&&this.queries[t].setDirty()}}class VS{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class iy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new iy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class sy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new sy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,t,c2(t,i)),this.matchTNodeWithReadOption(e,t,Jp(t,e,i,!1,!1))}else r===bs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Jp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===_t||o===Gi||o===bs&&4&t.type)this.addMatch(t.index,-2);else{const i=Jp(t,e,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function c2(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function d2(n,e,t,r){return-1===t?function u2(n,e){return 11&n.type?yu(n,e):4&n.type?Rh(n,e):null}(e,n):-2===t?function f2(n,e,t){return t===_t?yu(e,n):t===bs?Rh(e,n):t===Gi?BS(e,n):void 0}(n,e,r):bc(n,n[1],t,e)}function jS(n,e,t,r){const o=e[19].queries[r];if(null===o.matches){const i=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const f=s[u];a.push(f<0?null:d2(e,i[f],s[u+1],t.metadata.read))}o.matches=a}return o.matches}function ay(n,e,t,r){const o=n.queries.getByIndex(t),i=o.matches;if(null!==i){const s=jS(n,e,o,t);for(let a=0;a<i.length;a+=2){const u=i[a];if(u>0)r.push(s[a/2]);else{const f=i[a+1],m=e[-u];for(let y=10;y<m.length;y++){const k=m[y];k[17]===k[3]&&ay(k[1],k,f,r)}if(null!==m[9]){const y=m[9];for(let k=0;k<y.length;k++){const M=y[k];ay(M[1],M,f,r)}}}}}return r}function Ns(n){const e=pt(),t=lr(),r=H();ve(r+1);const o=GS(t,r);if(n.dirty&&function Vp(n){return 4==(4&n[2])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?ay(t,e,r,[]):jS(t,e,o,r);n.reset(i,eA),n.notifyOnChanges()}return!0}return!1}function Nu(n,e,t){const r=lr();r.firstCreatePass&&(HS(r,new VS(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),US(r,pt(),e)}function Ls(){return function p2(n,e){return n[19].queries[e].queryList}(pt(),H())}function US(n,e,t){const r=new ty(4==(4&t));RC(n,e,r,r.destroy),null===e[19]&&(e[19]=new oy),e[19].queries.push(new ry(r))}function HS(n,e,t){null===n.queries&&(n.queries=new iy),n.queries.track(new sy(e,t))}function GS(n,e){return n.queries.getByIndex(e)}function Oh(...n){}const Tc=new tn("Application Initializer");let Nh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Oh,this.reject=Oh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(sf(i))t.push(i);else if(V_(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ee(Tc,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yf=new tn("AppId",{providedIn:"root",factory:function cE(){return`${fy()}${fy()}${fy()}`}});function fy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uE=new tn("Platform Initializer"),Bu=new tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dE=new tn("appBootstrapListener");let O2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const dl=new tn("LocaleId",{providedIn:"root",factory:()=>gn(dl,xt.Optional|xt.SkipSelf)||function N2(){return typeof $localize<"u"&&$localize.locale||Fu}()});class $2{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let fE=(()=>{class n{compileModuleSync(t){return new Q_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=ll(_n(t).declarations).reduce((s,a)=>{const u=dr(a);return u&&s.push(new ef(u)),s},[]);return new $2(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j2=(()=>Promise.resolve(0))();function py(n){typeof Zone>"u"?j2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xn(!1),this.onMicrotaskEmpty=new xn(!1),this.onStable=new xn(!1),this.onError=new xn(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function U2(){let n=p.requestAnimationFrame,e=p.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function z2(n){const e=()=>{!function G2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(p,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,my(n),n.isCheckStableRunning=!0,hy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),my(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{try{return mE(n),t.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),gE(n)}},onInvoke:(t,r,o,i,s,a,u)=>{try{return mE(n),t.invoke(o,i,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),gE(n)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,my(n),hy(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new Te(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,H2,Oh,Oh);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const H2={};function hy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function my(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function mE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gE(n){n._nesting--,hy(n)}class W2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xn,this.onMicrotaskEmpty=new xn,this.onStable=new xn,this.onError=new xn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}}const _E=new tn(""),Lh=new tn("");let yy,gy=(()=>{class n{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yy||(function Z2(n){yy=n}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),py(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())py(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(ee(dt),ee(_y),ee(Lh))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),_y=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return yy?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),jl=null;const yE=new tn("AllowMultipleToken"),vy=new tn("PlatformDestroyListeners");class vE{constructor(e,t){this.name=e,this.token=t}}function CE(n,e,t=[]){const r=`Platform: ${e}`,o=new tn(r);return(i=[])=>{let s=by();if(!s||s.injector.get(yE,!1)){const a=[...t,...i,{provide:o,useValue:!0}];n?n(a):function K2(n){if(jl&&!jl.get(yE,!1))throw new Te(400,!1);jl=n;const e=n.get(SE);(function bE(n){const e=n.get(uE,null);e&&e.forEach(t=>t())})(n)}(function wE(n=[],e){return Co.create({name:e,providers:[{provide:p_,useValue:"platform"},{provide:vy,useValue:new Set([()=>jl=null])},...n]})}(a,r))}return function Q2(n){const e=by();if(!e)throw new Te(401,!1);return e}()}}function by(){return jl?.get(SE)??null}let SE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function DE(n,e){let t;return t="noop"===n?new W2:("zone.js"===n?void 0:n)||new dt(e),t}(r?.ngZone,function EE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:dt,useValue:o}];return o.run(()=>{const s=Co.create({providers:i,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(vu,null);if(!u)throw new Te(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:m=>{u.handleError(m)}});a.onDestroy(()=>{$h(this._modules,a),f.unsubscribe()})}),function IE(n,e,t){try{const r=t();return sf(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,o,()=>{const f=a.injector.get(Nh);return f.runInitializers(),f.donePromise.then(()=>(function Qw(n){Vo(n,"Expected localeId to be defined"),"string"==typeof n&&(Xw=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(dl,Fu)||Fu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const o=kE({},r);return function q2(n,e,t){const r=new Q_(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get(Ul);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new Te(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(vy,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ee(Co))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function kE(n,e){return Array.isArray(e)?e.reduce(kE,n):{...n,...e}}let Ul=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,o){this._zone=t,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new yt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new yt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{dt.assertNotInAngularZone(),py(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{dt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=vi(i,s.pipe(xs()))}bootstrap(t,r){const o=t instanceof lC;if(!this._injector.get(Nh).done)throw!o&&function ia(n){const e=dr(n)||Po(n)||jo(n);return null!==e&&e.standalone}(t),new Te(405,false);let s;s=o?t:this._injector.get(sl).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Y2(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Ou),f=s.create(Co.NULL,[],r||s.selector,a),m=f.location.nativeElement,y=f.injector.get(_E,null);return y?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),$h(this.components,f),y?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;$h(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(dE,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$h(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Te(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(ee(dt),ee(xa),ee(vu))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $h(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let kt=(()=>{class n{}return n.__NG_ELEMENT_ID__=eO,n})();function eO(n){return function tO(n,e,t){if($l(n)&&!t){const r=Bi(n.index,e);return new Jd(r,r)}return 47&n.type?new Jd(e[16],e):null}(un(),pt(),16==(16&n))}class PE{constructor(){}supports(e){return wh(e)}create(e){return new aO(e)}}const sO=(n,e)=>e;class aO{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sO}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<FE(r,o,i)?t:r,a=FE(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,m=u-o;if(f!=m){for(let k=0;k<f;k++){const M=k<i.length?i[k]:i[k]=0,K=M+k;m<=K&&K<f&&(i[k]=M+1)}i[s.previousIndex]=m-f}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!wh(e))throw new Te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function NP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Ic()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new lO(t,r),i,o),e}_verifyReinsertion(e,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new RE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class lO{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cO{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class RE{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new cO,this.map.set(t,r)),r.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FE(n,e,t){const r=n.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function NE(){return new vf([new PE])}let vf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||NE()),deps:[[n,new Hd,new Ud]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new Te(901,!1)}}return n.\u0275prov=mt({token:n,providedIn:"root",factory:NE}),n})();const hO=CE(null,"core",[]);let mO=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ee(Ul))},n.\u0275mod=Fr({type:n}),n.\u0275inj=Er({}),n})(),Dy=null;function Na(){return Dy}class yO{}const ii=new tn("DocumentToken");let Iy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return function vO(){return ee($E)}()},providedIn:"platform"}),n})();const bO=new tn("Location Initialized");let $E=(()=>{class n extends Iy{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Na().getBaseHref(this._doc)}onPopState(t){const r=Na().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Na().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){BE()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){BE()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(ee(ii))},n.\u0275prov=mt({token:n,factory:function(){return function CO(){return new $E(ee(ii))}()},providedIn:"platform"}),n})();function BE(){return!!window.history.pushState}function ky(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function VE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function pl(n){return n&&"?"!==n[0]?"?"+n:n}let La=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return gn(UE)},providedIn:"root"}),n})();const jE=new tn("appBaseHref");let UE=(()=>{class n extends La{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??gn(ii).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ky(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+pl(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+pl(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+pl(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Iy),ee(jE,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HE=(()=>{class n extends La{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ky(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+pl(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+pl(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Iy),ee(jE,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),Cf=(()=>{class n{constructor(t){this._subject=new xn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function EO(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(VE(GE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+pl(r))}normalize(t){return n.stripTrailingSlash(function SO(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,GE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pl(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=pl,n.joinWithSlash=ky,n.stripTrailingSlash=VE,n.\u0275fac=function(t){return new(t||n)(ee(La))},n.\u0275prov=mt({token:n,factory:function(){return function wO(){return new Cf(ee(La))}()},providedIn:"root"}),n})();function GE(n){return n.replace(/\/index.html$/,"")}function JE(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}class cN{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new cN(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),rD(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{rD(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(Gi),C(bs),C(vf))},n.\u0275dir=Mt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function rD(n,e){n.context.$implicit=e.item}let hi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new dN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){oD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){oD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(Gi),C(bs))},n.\u0275dir=Mt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class dN{constructor(){this.$implicit=null,this.ngIf=null}}function oD(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${N(e)}'.`)}class $y{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Kh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Mt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),iD=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new $y(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(C(Gi),C(bs),C(Kh,9))},n.\u0275dir=Mt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),sD=(()=>{class n{constructor(t,r,o){o._addDefault(new $y(t,r))}}return n.\u0275fac=function(t){return new(t||n)(C(Gi),C(bs),C(Kh,9))},n.\u0275dir=Mt({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();class hN{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class mN{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const gN=new mN,_N=new hN;let lD=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(sf(t))return gN;if(iw(t))return _N;throw function fa(n,e){return new Te(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(C(kt,16))},n.\u0275pipe=yo({name:"async",type:n,pure:!1,standalone:!0}),n})(),$a=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=Er({}),n})();const uD="browser";function Hl(n){return n===uD}let $N=(()=>{class n{}return n.\u0275prov=mt({token:n,providedIn:"root",factory:()=>new BN(ee(ii),window)}),n})();class BN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function VN(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=dD(this.window.history)||dD(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function dD(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fD{}class pL extends yO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zy extends pL{static makeCurrent(){!function _O(n){Dy||(Dy=n)}(new zy)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function hL(){return Df=Df||document.querySelector("base"),Df?Df.getAttribute("href"):null}();return null==t?null:function mL(n){Qh=Qh||document.createElement("a"),Qh.setAttribute("href",n);const e=Qh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Df=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return JE(document.cookie,e)}}let Qh,Df=null;const _D=new tn("TRANSITION_ID"),_L=[{provide:Tc,useFactory:function gL(n,e,t){return()=>{t.get(Nh).donePromise.then(()=>{const r=Na(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[_D,ii,Co],multi:!0}];let vL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const Jh=new tn("EventManagerPlugins");let em=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ee(Jh),ee(dt))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();class yD{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=Na().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let vD=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),If=(()=>{class n extends vD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(bD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(bD))}}return n.\u0275fac=function(t){return new(t||n)(ee(ii))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();function bD(n){Na().remove(n)}const Wy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Zy=/%COMP%/g;function qy(n,e){return e.flat(100).map(t=>t.replace(Zy,n))}function SD(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Yy=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ky(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Li.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new DL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case Li.ShadowDom:return new IL(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=qy(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ee(em),ee(If),ee(yf))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();class Ky{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Wy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(DD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(DD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const i=Wy[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Wy[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(ys.DashCase|ys.Important)?e.style.setProperty(t,r,o&ys.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ys.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,SD(r)):this.eventManager.addEventListener(e,t,SD(r))}}function DD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class DL extends Ky{constructor(e,t,r,o){super(e),this.component=r;const i=qy(o+"-"+r.id,r.styles);t.addStyles(i),this.contentAttr=function wL(n){return"_ngcontent-%COMP%".replace(Zy,n)}(o+"-"+r.id),this.hostAttr=function SL(n){return"_nghost-%COMP%".replace(Zy,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class IL extends Ky{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=qy(o.id,o.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let kL=(()=>{class n extends yD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(ee(ii))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const ID=["alt","control","meta","shift"],xL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ML={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let TL=(()=>{class n extends yD{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Na().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ID.forEach(f=>{const m=r.indexOf(f);m>-1&&(r.splice(m,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let o=xL[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ID.forEach(s=>{s!==o&&(0,ML[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ee(ii))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const FL=CE(hO,"browser",[{provide:Bu,useValue:uD},{provide:uE,useValue:function AL(){zy.makeCurrent()},multi:!0},{provide:ii,useFactory:function RL(){return function pT(n){i_=n}(document),document},deps:[]}]),MD=new tn(""),TD=[{provide:Lh,useClass:class yL{addToWindow(e){p.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},p.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.getAllAngularRootElements=()=>e.getAllRootElements(),p.frameworkStabilizers||(p.frameworkStabilizers=[]),p.frameworkStabilizers.push(r=>{const o=p.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(u){s=s||u,i--,0==i&&r(s)};o.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Na().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:_E,useClass:gy,deps:[dt,_y,Lh]},{provide:gy,useClass:gy,deps:[dt,_y,Lh]}],AD=[{provide:p_,useValue:"root"},{provide:vu,useFactory:function PL(){return new vu},deps:[]},{provide:Jh,useClass:kL,multi:!0,deps:[ii,dt,Bu]},{provide:Jh,useClass:TL,multi:!0,deps:[ii]},{provide:Yy,useClass:Yy,deps:[em,If,yf]},{provide:uC,useExisting:Yy},{provide:vD,useExisting:If},{provide:If,useClass:If,deps:[ii]},{provide:em,useClass:em,deps:[Jh,dt]},{provide:fD,useClass:vL,deps:[]},[]];let OL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:yf,useValue:t.appId},{provide:_D,useExisting:yf},_L]}}}return n.\u0275fac=function(t){return new(t||n)(ee(MD,12))},n.\u0275mod=Fr({type:n}),n.\u0275inj=Er({providers:[...AD,...TD],imports:[$a,mO]}),n})(),PD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(ee(ii))},n.\u0275prov=mt({token:n,factory:function(t){let r=null;return r=t?new t:function LL(){return new PD(ee(ii))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Jy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(t){let r=null;return r=t?new(t||n):ee(OD),r},providedIn:"root"}),n})(),OD=(()=>{class n extends Jy{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Wr.NONE:return r;case Wr.HTML:return ka(r,"HTML")?Ps(r):Y0(this._doc,String(r)).toString();case Wr.STYLE:return ka(r,"Style")?Ps(r):r;case Wr.SCRIPT:if(ka(r,"Script"))return Ps(r);throw new Error("unsafe value used in a script context");case Wr.URL:return ka(r,"URL")?Ps(r):ch(String(r));case Wr.RESOURCE_URL:if(ka(r,"ResourceURL"))return Ps(r);throw new Error(`unsafe value used in a resource URL context (see ${ot})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${ot})`)}}bypassSecurityTrustHtml(t){return function bT(n){return new hT(n)}(t)}bypassSecurityTrustStyle(t){return function CT(n){return new mT(n)}(t)}bypassSecurityTrustScript(t){return function wT(n){return new gT(n)}(t)}bypassSecurityTrustUrl(t){return function ST(n){return new _T(n)}(t)}bypassSecurityTrustResourceUrl(t){return function ET(n){return new yT(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(ii))},n.\u0275prov=mt({token:n,factory:function(t){let r=null;return r=t?new t:function GL(n){return new OD(n.get(ii))}(ee(Co)),r},providedIn:"root"}),n})();var qo=A(1158),zL=A(9233),ju=A.n(zL);let tm,nm;function ND(n){if(!window.location.hash.startsWith(n))return;const e=window.location.hash.split("?")[1];if(!e)return;const t=e.split("&").map(r=>r.split("="));for(const[r,o]of t)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function LD(){return void 0!==nm}class $D{constructor(){this.requestEvent=new qo.j}dispatchRequest(e){if(e){try{e=new(ju())(e).toString()}catch{return void console.error(`invalid URL: ${e}`)}this.url=e,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const e=this.url;return this.url=void 0,e}}class zl{constructor(){this.installation=new $D,this.import=new $D,tm&&this.installation.dispatchRequest(tm),nm&&this.import.dispatchRequest(nm)}}function bn(...n){return mr(n,di(n))}function Wl(n,e){return I(e)?Sr(n,e,1):Sr(n,1)}function Ei(n,e){return q((t,r)=>{let o=0;t.subscribe(_e(r,i=>n.call(e,i,o++)&&r.next(i)))})}zl.\u0275fac=function(e){return new(e||zl)},zl.\u0275prov=mt({token:zl,factory:zl.\u0275fac,providedIn:"root"});class rm{}class ev{}class ml{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ml?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ml;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ml?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class qL{encodeKey(e){return BD(e)}encodeValue(e){return BD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const KL=/%(\d[a-f0-9])/gi,XL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BD(n){return encodeURIComponent(n).replace(KL,(e,t)=>XL[t]??e)}function om(n){return`${n}`}class Zl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(om):[om(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Zl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(om(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(om(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class QL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function VD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function jD(n){return typeof Blob<"u"&&n instanceof Blob}function UD(n){return typeof FormData<"u"&&n instanceof FormData}class kf{constructor(e,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function JL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new ml),this.context||(this.context=new QL),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Zl,this.urlWithParams=t}serializeBody(){return null===this.body?null:VD(this.body)||jD(this.body)||UD(this.body)||function e3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||UD(this.body)?null:jD(this.body)?this.body.type||null:VD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,f=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((y,k)=>y.set(k,e.setHeaders[k]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((y,k)=>y.set(k,e.setParams[k]),f)),new kf(t,r,i,{params:f,headers:u,context:m,reportProgress:a,responseType:o,withCredentials:s})}}var Yo=(()=>((Yo=Yo||{})[Yo.Sent=0]="Sent",Yo[Yo.UploadProgress=1]="UploadProgress",Yo[Yo.ResponseHeader=2]="ResponseHeader",Yo[Yo.DownloadProgress=3]="DownloadProgress",Yo[Yo.Response=4]="Response",Yo[Yo.User=5]="User",Yo))();class tv{constructor(e,t=200,r="OK"){this.headers=e.headers||new ml,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class nv extends tv{constructor(e={}){super(e),this.type=Yo.ResponseHeader}clone(e={}){return new nv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class im extends tv{constructor(e={}){super(e),this.type=Yo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new im({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class HD extends tv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function rv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ov=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof kf)i=t;else{let u,f;u=o.headers instanceof ml?o.headers:new ml(o.headers),o.params&&(f=o.params instanceof Zl?o.params:new Zl({fromObject:o.params})),i=new kf(t,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=bn(i).pipe(Wl(u=>this.handler.handle(u)));if(t instanceof kf||"events"===o.observe)return s;const a=s.pipe(Ei(u=>u instanceof im));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Ae(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ae(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ae(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ae(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Zl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,rv(o,r))}post(t,r,o={}){return this.request("POST",t,rv(o,r))}put(t,r,o={}){return this.request("PUT",t,rv(o,r))}}return n.\u0275fac=function(t){return new(t||n)(ee(rm))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();function GD(n,e){return e(n)}function t3(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const r3=new tn("HTTP_INTERCEPTORS"),xf=new tn("HTTP_INTERCEPTOR_FNS");function o3(){let n=null;return(e,t)=>(null===n&&(n=(gn(r3,{optional:!0})??[]).reduceRight(t3,GD)),n(e,t))}let zD=(()=>{class n extends rm{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(xf)));this.chain=r.reduceRight((o,i)=>function n3(n,e,t){return(r,o)=>t.runInContext(()=>e(r,i=>n(i,o)))}(o,i,this.injector),GD)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(ee(ev),ee(xa))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const l3=/^\)\]\}',?\n/;let ZD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new yt(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((M,K)=>o.setRequestHeader(M,K.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const M=t.detectContentTypeHeader();null!==M&&o.setRequestHeader("Content-Type",M)}if(t.responseType){const M=t.responseType.toLowerCase();o.responseType="json"!==M?M:"text"}const i=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const M=o.statusText||"OK",K=new ml(o.getAllResponseHeaders()),Se=function c3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return s=new nv({headers:K,status:o.status,statusText:M,url:Se}),s},u=()=>{let{headers:M,status:K,statusText:Se,url:Ge}=a(),Ke=null;204!==K&&(Ke=typeof o.response>"u"?o.responseText:o.response),0===K&&(K=Ke?200:0);let vt=K>=200&&K<300;if("json"===t.responseType&&"string"==typeof Ke){const Le=Ke;Ke=Ke.replace(l3,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(Ot){Ke=Le,vt&&(vt=!1,Ke={error:Ot,text:Ke})}}vt?(r.next(new im({body:Ke,headers:M,status:K,statusText:Se,url:Ge||void 0})),r.complete()):r.error(new HD({error:Ke,headers:M,status:K,statusText:Se,url:Ge||void 0}))},f=M=>{const{url:K}=a(),Se=new HD({error:M,status:o.status||0,statusText:o.statusText||"Unknown Error",url:K||void 0});r.error(Se)};let m=!1;const y=M=>{m||(r.next(a()),m=!0);let K={type:Yo.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(K.total=M.total),"text"===t.responseType&&o.responseText&&(K.partialText=o.responseText),r.next(K)},k=M=>{let K={type:Yo.UploadProgress,loaded:M.loaded};M.lengthComputable&&(K.total=M.total),r.next(K)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",y),null!==i&&o.upload&&o.upload.addEventListener("progress",k)),o.send(i),r.next({type:Yo.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",y),null!==i&&o.upload&&o.upload.removeEventListener("progress",k)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(ee(fD))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const iv=new tn("XSRF_ENABLED"),qD="XSRF-TOKEN",YD=new tn("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>qD}),KD="X-XSRF-TOKEN",XD=new tn("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>KD});class QD{}let u3=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=JE(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(ee(ii),ee(Bu),ee(YD))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();function d3(n,e){const t=n.url.toLowerCase();if(!gn(iv)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=gn(QD).getToken(),o=gn(XD);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var No=(()=>((No=No||{})[No.Interceptors=0]="Interceptors",No[No.LegacyInterceptors=1]="LegacyInterceptors",No[No.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",No[No.NoXsrfProtection=3]="NoXsrfProtection",No[No.JsonpSupport=4]="JsonpSupport",No[No.RequestsMadeViaParent=5]="RequestsMadeViaParent",No))();function Uu(n,e){return{\u0275kind:n,\u0275providers:e}}function f3(...n){const e=[ov,ZD,zD,{provide:rm,useExisting:zD},{provide:ev,useExisting:ZD},{provide:xf,useValue:d3,multi:!0},{provide:iv,useValue:!0},{provide:QD,useClass:u3}];for(const t of n)e.push(...t.\u0275providers);return function VT(n){return{\u0275providers:n}}(e)}const JD=new tn("LEGACY_INTERCEPTOR_FN");function h3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:YD,useValue:n}),void 0!==e&&t.push({provide:XD,useValue:e}),Uu(No.CustomXsrfConfiguration,t)}let m3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=Er({providers:[f3(Uu(No.LegacyInterceptors,[{provide:JD,useFactory:o3},{provide:xf,useExisting:JD,multi:!0}]),h3({cookieName:qD,headerName:KD}))]}),n})();const{isArray:g3}=Array,{getPrototypeOf:_3,prototype:y3,keys:v3}=Object;function e1(n){if(1===n.length){const e=n[0];if(g3(e))return{args:e,keys:null};if(function b3(n){return n&&"object"==typeof n&&_3(n)===y3}(e)){const t=v3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:C3}=Array;function sv(n){return Ae(e=>function w3(n,e){return C3(e)?n(...e):n(e)}(n,e))}function t1(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let n1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(al),C(_t))},n.\u0275dir=Mt({type:n}),n})(),Rc=(()=>{class n extends n1{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pi(n)))(r||n)}}(),n.\u0275dir=Mt({type:n,features:[vr]}),n})();const es=new tn("NgValueAccessor"),D3={provide:es,useExisting:Ne(()=>av),multi:!0},k3=new tn("CompositionEventMode");let av=(()=>{class n extends n1{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function I3(){const n=Na()?Na().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(al),C(_t),C(k3,8))},n.\u0275dir=Mt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&st("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[Nr([D3]),vr]}),n})();function ql(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function o1(n){return null!=n&&"number"==typeof n.length}const zi=new tn("NgValidators"),Yl=new tn("NgAsyncValidators"),M3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mf{static min(e){return function i1(n){return e=>{if(ql(e.value)||ql(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function s1(n){return e=>{if(ql(e.value)||ql(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function a1(n){return ql(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function l1(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function c1(n){return ql(n.value)||M3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function u1(n){return e=>ql(e.value)||!o1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return d1(e)}static pattern(e){return function f1(n){if(!n)return sm;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ql(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return y1(e)}static composeAsync(e){return v1(e)}}function d1(n){return e=>o1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function sm(n){return null}function p1(n){return null!=n}function h1(n){return sf(n)?mr(n):n}function m1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function g1(n,e){return e.map(t=>t(n))}function _1(n){return n.map(e=>function T3(n){return!n.validate}(e)?e:t=>e.validate(t))}function y1(n){if(!n)return null;const e=n.filter(p1);return 0==e.length?null:function(t){return m1(g1(t,e))}}function lv(n){return null!=n?y1(_1(n)):null}function v1(n){if(!n)return null;const e=n.filter(p1);return 0==e.length?null:function(t){return function S3(...n){const e=ds(n),{args:t,keys:r}=e1(n),o=new yt(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let u=s,f=s;for(let m=0;m<s;m++){let y=!1;On(t[m]).subscribe(_e(i,k=>{y||(y=!0,f--),a[m]=k},()=>u--,void 0,()=>{(!u||!y)&&(f||i.next(r?t1(r,a):a),i.complete())}))}});return e?o.pipe(sv(e)):o}(g1(t,e).map(h1)).pipe(Ae(m1))}}function cv(n){return null!=n?v1(_1(n)):null}function b1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function C1(n){return n._rawValidators}function w1(n){return n._rawAsyncValidators}function uv(n){return n?Array.isArray(n)?n:[n]:[]}function am(n,e){return Array.isArray(n)?n.includes(e):n===e}function S1(n,e){const t=uv(e);return uv(n).forEach(o=>{am(t,o)||t.push(o)}),t}function E1(n,e){return uv(e).filter(t=>!am(n,t))}class D1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=lv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ts extends D1{get formDirective(){return null}get path(){return null}}class gl extends D1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class I1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _l=(()=>{class n extends I1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(gl,2))},n.\u0275dir=Mt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&ul("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[vr]}),n})(),yl=(()=>{class n extends I1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(ts,10))},n.\u0275dir=Mt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&ul("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[vr]}),n})();const Tf="VALID",cm="INVALID",Hu="PENDING",Af="DISABLED";function hv(n){return(um(n)?n.validators:n)||null}function mv(n,e){return(um(e)?e.asyncValidators:n)||null}function um(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class T1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tf}get invalid(){return this.status===cm}get pending(){return this.status==Hu}get disabled(){return this.status===Af}get enabled(){return this.status!==Af}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(S1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(S1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(E1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(E1(e,this._rawAsyncValidators))}hasValidator(e){return am(this._rawValidators,e)}hasAsyncValidator(e){return am(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Hu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Af,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tf||this.status===Hu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Af:Tf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Hu,this._hasOwnPendingAsyncValidator=!0;const t=h1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new xn,this.statusChanges=new xn}_calculateStatus(){return this._allControlsDisabled()?Af:this.errors?cm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hu)?Hu:this._anyControlsHaveStatus(cm)?cm:Tf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){um(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function L3(n){return Array.isArray(n)?lv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $3(n){return Array.isArray(n)?cv(n):n||null}(this._rawAsyncValidators)}}class Kl extends T1{constructor(e,t,r){super(hv(t),mv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function M1(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new Te(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function x1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new Te(1e3,"");if(!r[t])throw new Te(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const dm=Kl,Gu=new tn("CallSetDisabledState",{providedIn:"root",factory:()=>fm}),fm="always";function Pf(n,e,t=fm){gv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function j3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&A1(n,e)})}(n,e),function H3(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function U3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&A1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function V3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function hm(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),gm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function mm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gv(n,e){const t=C1(n);null!==e.validator?n.setValidators(b1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=w1(n);null!==e.asyncValidator?n.setAsyncValidators(b1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();mm(e._rawValidators,o),mm(e._rawAsyncValidators,o)}function gm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=C1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const o=w1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}const r=()=>{};return mm(e._rawValidators,r),mm(e._rawAsyncValidators,r),t}function A1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function O1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ws=class extends T1{constructor(e=null,t,r){super(hv(t),mv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),um(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=O1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){F1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){F1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){O1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},mi=ws;let vl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Mt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),j1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=Er({}),n})();const Cv=new tn("NgModelWithFormControlWarning"),r$={provide:ts,useExisting:Ne(()=>pa)};let pa=(()=>{class n extends ts{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Pf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){hm(t.control||null,t,!1),function Z3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function R1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(hm(r||null,t),(n=>n instanceof ws)(o)&&(Pf(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function P1(n,e){gv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function G3(n,e){return gm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gv(this.form,this),this._oldForm&&gm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(C(zi,10),C(Yl,10),C(Gu,8))},n.\u0275dir=Mt({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&st("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nr([r$]),vr,Uo]}),n})();const s$={provide:gl,useExisting:Ne(()=>Ba)};let Ba=(()=>{class n extends gl{set isDisabled(t){}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new xn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function vv(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===av?t=i:function W3(n){return Object.getPrototypeOf(n.constructor)===Rc}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){this._added||this._setUpControl(),function yv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function pm(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(C(ts,13),C(zi,10),C(Yl,10),C(es,10),C(Cv,8))},n.\u0275dir=Mt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Nr([s$]),vr,Uo]}),n})();let Fc=(()=>{class n{constructor(){this._validator=sm}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):sm,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Mt({type:n,features:[Uo]}),n})();const v$={provide:zi,useExisting:Ne(()=>kv),multi:!0};let kv=(()=>{class n extends Fc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function q1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>d1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pi(n)))(r||n)}}(),n.\u0275dir=Mt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Aa("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Nr([v$]),vr]}),n})(),nI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=Er({imports:[j1]}),n})(),Oc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gu,useValue:t.callSetDisabledState??fm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=Er({imports:[nI]}),n})(),_m=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Cv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Gu,useValue:t.callSetDisabledState??fm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=Er({imports:[nI]}),n})();const w$=["addListener","removeListener"],S$=["addEventListener","removeEventListener"],E$=["on","off"];function Ff(n,e,t,r){if(I(t)&&(r=t,t=void 0),r)return Ff(n,e,t).pipe(sv(r));const[o,i]=function k$(n){return I(n.addEventListener)&&I(n.removeEventListener)}(n)?S$.map(s=>a=>n[s](e,a,t)):function D$(n){return I(n.addListener)&&I(n.removeListener)}(n)?w$.map(rI(n,e)):function I$(n){return I(n.on)&&I(n.off)}(n)?E$.map(rI(n,e)):[];if(!o&&wr(n))return Sr(s=>Ff(s,e,t))(On(n));if(!o)throw new TypeError("Invalid event target");return new yt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function rI(n,e){return t=>r=>n[t](e,r)}class $s extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ym=l(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oI(...n){const e=di(n),t=ds(n),{args:r,keys:o}=e1(n);if(0===r.length)return mr([],e);const i=new yt(function x$(n,e,t=ne){return r=>{iI(e,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let u=0;u<o;u++)iI(e,()=>{const f=mr(n[u],e);let m=!1;f.subscribe(_e(r,y=>{i[u]=y,m||(m=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>t1(o,s):ne));return t?i.pipe(sv(t)):i}function iI(n,e,t){n?ho(t,n,e):e()}function Of(...n){return function M$(){return ti(1)}()(mr(n,di(n)))}function vm(n){return new yt(e=>{On(n()).subscribe(e)})}function zu(n,e){const t=I(n)?n:()=>n,r=o=>o.error(t());return new yt(e?o=>e.schedule(r,0,o):r)}function xv(){return q((n,e)=>{let t=null;n._refCount++;const r=_e(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Mv extends yt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ve(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new z;const t=this.getSubject();e.add(this.source.subscribe(_e(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=z.EMPTY)}return e}refCount(){return xv()(this)}}function Di(n,e){return q((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(_e(r,u=>{o?.unsubscribe();let f=0;const m=i++;On(n(u,m)).subscribe(o=_e(r,y=>r.next(e?e(u,y,m,f++):y),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Bs(n){return n<=0?()=>co:q((e,t)=>{let r=0;e.subscribe(_e(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function sI(...n){const e=di(n);return q((t,r)=>{(e?Of(n,t,e):Of(n,t)).subscribe(r)})}function bm(n){return q((e,t)=>{let r=!1;e.subscribe(_e(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function aI(n=T$){return q((e,t)=>{let r=!1;e.subscribe(_e(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function T$(){return new ym}function bl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ei((o,i)=>n(o,i,r)):ne,Bs(1),t?bm(e):aI(()=>new ym))}function Ii(n,e,t){const r=I(n)||e||t?{next:n,error:e,complete:t}:n;return r?q((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(_e(i,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),i.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,u),i.error(u)},()=>{var u,f;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):ne}function Cl(n){return q((e,t)=>{let i,r=null,o=!1;r=e.subscribe(_e(t,void 0,void 0,s=>{i=On(n(s,Cl(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function A$(n,e,t,r,o){return(i,s)=>{let a=t,u=e,f=0;i.subscribe(_e(s,m=>{const y=f++;u=a?n(u,m,y):(a=!0,m),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function lI(n,e){return q(A$(n,e,arguments.length>=2,!0))}function Tv(n){return n<=0?()=>co:q((e,t)=>{let r=[];e.subscribe(_e(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function cI(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ei((o,i)=>n(o,i,r)):ne,Tv(1),t?bm(e):aI(()=>new ym))}function Av(n){return Ae(()=>n)}function Pv(n){return q((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const $n="primary",Nf=Symbol("RouteTitle");class R${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wu(n){return new R$(n)}function F$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Va(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!uI(n[o],e[o]))return!1;return!0}function uI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}return n===e}function dI(n){return Array.prototype.concat.apply([],n)}function fI(n){return n.length>0?n[n.length-1]:null}function ki(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Xl(n){return V_(n)?n:sf(n)?mr(Promise.resolve(n)):bn(n)}const Cm=!1,N$={exact:function mI(n,e,t){if(!Lc(n.segments,e.segments)||!wm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!mI(n.children[r],e.children[r],t))return!1;return!0},subset:gI},pI={exact:function L$(n,e){return Va(n,e)},subset:function $$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uI(n[t],e[t]))},ignored:()=>!0};function hI(n,e,t){return N$[t.paths](n.root,e.root,t.matrixParams)&&pI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function gI(n,e,t){return _I(n,e,e.segments,t)}function _I(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Lc(o,t)||e.hasChildren()||!wm(o,t,r))}if(n.segments.length===t.length){if(!Lc(n.segments,t)||!wm(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!gI(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(Lc(n.segments,o)&&wm(n.segments,o,r)&&n.children[$n])&&_I(n.children[$n],e,i,r)}}function wm(n,e,t){return e.every((r,o)=>pI[t](n[o].parameters,r.parameters))}class Nc{constructor(e=new Xn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wu(this.queryParams)),this._queryParamMap}toString(){return j$.serialize(this)}}class Xn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ki(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sm(this)}}class Lf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wu(this.parameters)),this._parameterMap}toString(){return bI(this)}}function Lc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Zu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return new Rv},providedIn:"root"}),n})();class Rv{parse(e){const t=new K$(e);return new Nc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$f(e.root,!0)}`,r=function G$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Em(t)}=${Em(o)}`).join("&"):`${Em(t)}=${Em(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function U$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const j$=new Rv;function Sm(n){return n.segments.map(e=>bI(e)).join("/")}function $f(n,e){if(!n.hasChildren())return Sm(n);if(e){const t=n.children[$n]?$f(n.children[$n],!1):"",r=[];return ki(n.children,(o,i)=>{i!==$n&&r.push(`${i}:${$f(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function V$(n,e){let t=[];return ki(n.children,(r,o)=>{o===$n&&(t=t.concat(e(r,o)))}),ki(n.children,(r,o)=>{o!==$n&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===$n?[$f(n.children[$n],!1)]:[`${o}:${$f(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$n]?`${Sm(n)}/${t[0]}`:`${Sm(n)}/(${t.join("//")})`}}function yI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Em(n){return yI(n).replace(/%3B/gi,";")}function Fv(n){return yI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dm(n){return decodeURIComponent(n)}function vI(n){return Dm(n.replace(/\+/g,"%20"))}function bI(n){return`${Fv(n.path)}${function H$(n){return Object.keys(n).map(e=>`;${Fv(e)}=${Fv(n[e])}`).join("")}(n.parameters)}`}const z$=/^[^\/()?;=#]+/;function Im(n){const e=n.match(z$);return e?e[0]:""}const W$=/^[^=?&#]+/,q$=/^[^&#]+/;class K${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[$n]=new Xn(e,t)),r}parseSegment(){const e=Im(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Te(4009,Cm);return this.capture(e),new Lf(Dm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Im(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Im(this.remaining);o&&(r=o,this.capture(r))}e[Dm(t)]=Dm(r)}parseQueryParam(e){const t=function Z$(n){const e=n.match(W$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Y$(n){const e=n.match(q$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=vI(t),i=vI(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Im(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Te(4010,Cm);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=$n);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[$n]:new Xn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Te(4011,Cm)}}function Ov(n){return n.segments.length>0?new Xn([],{[$n]:n}):n}function km(n){const e={};for(const r of Object.keys(n.children)){const i=km(n.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function X$(n){if(1===n.numberOfChildren&&n.children[$n]){const e=n.children[$n];return new Xn(n.segments.concat(e.segments),e.children)}return n}(new Xn(n.segments,e))}function $c(n){return n instanceof Nc}function e4(n,e,t,r,o){if(0===t.length)return qu(e.root,e.root,e.root,r,o);const i=function SI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wI(!0,0,n);let e=0,t=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return ki(i.outlets,(u,f)=>{a[f]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new wI(t,e,r)}(t);return i.toRoot()?qu(e.root,e.root,new Xn([],{}),r,o):function s(u){const f=function n4(n,e,t,r){if(n.isAbsolute)return new Yu(e.root,!0,0);if(-1===r)return new Yu(t,t===e.root,0);return function EI(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Te(4005,!1);o=r.segments.length}return new Yu(r,!1,o-i)}(t,r+(Bf(n.commands[0])?0:1),n.numberOfDoubleDots)}(i,e,n.snapshot?._urlSegment,u),m=f.processChildren?Ku(f.segmentGroup,f.index,i.commands):Lv(f.segmentGroup,f.index,i.commands);return qu(e.root,f.segmentGroup,m,r,o)}(n.snapshot?._lastPathIndex)}function Bf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vf(n){return"object"==typeof n&&null!=n&&n.outlets}function qu(n,e,t,r,o){let s,i={};r&&ki(r,(u,f)=>{i[f]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),s=n===e?t:CI(n,e,t);const a=Ov(km(s));return new Nc(a,i,o)}function CI(n,e,t){const r={};return ki(n.children,(o,i)=>{r[i]=o===e?t:CI(o,e,t)}),new Xn(n.segments,r)}class wI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bf(r[0]))throw new Te(4003,!1);const o=r.find(Vf);if(o&&o!==fI(r))throw new Te(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Lv(n,e,t){if(n||(n=new Xn([],{})),0===n.segments.length&&n.hasChildren())return Ku(n,e,t);const r=function o4(n,e,t){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;const s=n.segments[o],a=t[r];if(Vf(a))break;const u=`${a}`,f=r<t.length-1?t[r+1]:null;if(o>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!II(u,f,s))return i;r+=2}else{if(!II(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Xn(n.segments.slice(0,r.pathIndex),{});return i.children[$n]=new Xn(n.segments.slice(r.pathIndex),n.children),Ku(i,0,o)}return r.match&&0===o.length?new Xn(n.segments,{}):r.match&&!n.hasChildren()?$v(n,e,t):r.match?Ku(n,0,o):$v(n,e,t)}function Ku(n,e,t){if(0===t.length)return new Xn(n.segments,{});{const r=function r4(n){return Vf(n[0])?n[0].outlets:{[$n]:n}}(t),o={};return!r[$n]&&n.children[$n]&&1===n.numberOfChildren&&0===n.children[$n].segments.length?Ku(n.children[$n],e,t):(ki(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=Lv(n.children[s],e,i))}),ki(n.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Xn(n.segments,o))}}function $v(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const i=t[o];if(Vf(i)){const u=i4(i.outlets);return new Xn(r,u)}if(0===o&&Bf(t[0])){r.push(new Lf(n.segments[e].path,DI(t[0]))),o++;continue}const s=Vf(i)?i.outlets[$n]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Bf(a)?(r.push(new Lf(s,DI(a))),o+=2):(r.push(new Lf(s,{})),o++)}return new Xn(r,{})}function i4(n){const e={};return ki(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=$v(new Xn([],{}),0,t))}),e}function DI(n){const e={};return ki(n,(t,r)=>e[r]=`${t}`),e}function II(n,e,t){return n==t.path&&Va(e,t.parameters)}const jf="imperative";class ja{constructor(e,t){this.id=e,this.url=t}}class xm extends ja{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bc extends ja{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mm extends ja{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kI extends ja{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class xI extends ja{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class s4 extends ja{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a4 extends ja{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l4 extends ja{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class c4 extends ja{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u4 extends ja{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class f4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class p4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MI{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let y4=(()=>{class n{createUrlTree(t,r,o,i,s,a){return e4(t||r.root,o,i,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),v4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(e){return y4.\u0275fac(e)},providedIn:"root"}),n})();class TI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Bv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Bv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Vv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Vv(e,this._root).map(t=>t.value)}}function Bv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Bv(n,t);if(r)return r}return null}function Vv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Vv(n,t);if(r.length)return r.unshift(e),r}return[]}class wl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Xu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class AI extends TI{constructor(e,t){super(e),this.snapshot=t,jv(this,e)}toString(){return this.snapshot.toString()}}function PI(n,e){const t=function b4(n,e){const s=new Tm([],{},{},"",{},$n,e,null,n.root,-1,{});return new FI("",new wl(s,[]))}(n,e),r=new $s([new Lf("",{})]),o=new $s({}),i=new $s({}),s=new $s({}),a=new $s(""),u=new Sl(r,o,s,a,i,$n,e,t.root);return u.snapshot=t.root,new AI(new wl(u,[]),t)}class Sl{constructor(e,t,r,o,i,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(Ae(f=>f[Nf]))??bn(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(e=>Wu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(e=>Wu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function RI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],i=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function C4(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Tm{get title(){return this.data?.[Nf]}constructor(e,t,r,o,i,s,a,u,f,m,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=m,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FI extends TI{constructor(e,t){super(t),this.url=e,jv(this,t)}toString(){return OI(this._root)}}function jv(n,e){e.value._routerState=n,e.children.forEach(t=>jv(n,t))}function OI(n){const e=n.children.length>0?` { ${n.children.map(OI).join(", ")} } `:"";return`${n.value}${e}`}function Uv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Va(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Va(e.params,t.params)||n.params.next(t.params),function O$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Va(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Va(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hv(n,e){const t=Va(n.params,e.params)&&function B$(n,e){return Lc(n,e)&&n.every((t,r)=>Va(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Hv(n.parent,e.parent))}function Uf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function S4(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Uf(n,r,o);return Uf(n,r)})}(n,e,t);return new wl(r,o)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Uf(n,a)),s}}const r=function E4(n){return new Sl(new $s(n.url),new $s(n.params),new $s(n.queryParams),new $s(n.fragment),new $s(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(i=>Uf(n,i));return new wl(r,o)}}const Gv="ngNavigationCancelingError";function NI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=$c(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=LI(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function LI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Gv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function $I(n){return BI(n)&&$c(n.url)}function BI(n){return n&&n[Gv]}class D4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vc,this.attachRef=null}}let Vc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new D4,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Am=!1;let VI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$n,this.activateEvents=new xn,this.deactivateEvents=new xn,this.attachEvents=new xn,this.detachEvents=new xn,this.parentContexts=gn(Vc),this.location=gn(Gi),this.changeDetector=gn(kt),this.environmentInjector=gn(xa)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Te(4012,Am);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Te(4012,Am);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Te(4012,Am);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Te(4013,Am);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new I4(t,a,o.injector);if(r&&function k4(n){return!!n.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,u)}else this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Mt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Uo]}),n})();class I4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Sl?this.route:e===Vc?this.childContexts:this.parent.get(e,t)}}let zv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["ng-component"]],standalone:!0,features:[DS],decls:1,vars:0,template:function(t,r){1&t&&ct(0,"router-outlet")},dependencies:[VI],encapsulation:2}),n})();function jI(n,e){return n.providers&&!n._injector&&(n._injector=Ph(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Zv(n){const e=n.children&&n.children.map(Zv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$n&&(t.component=zv),t}function Ks(n){return n.outlet||$n}function UI(n,e){const t=n.filter(r=>Ks(r)===e);return t.push(...n.filter(r=>Ks(r)!==e)),t}function Hf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class P4{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Uv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Xu(t);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),ki(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Xu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Xu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Xu(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new g4(i.value.snapshot))}),e.children.length&&this.forwardEvent(new h4(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(Uv(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Uv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Hf(o.snapshot),u=a?.get(sl)??null;s.attachRef=null,s.route=o,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class HI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pm{constructor(e,t){this.component=e,this.route=t}}function R4(n,e,t){const r=n._root;return Gf(r,e?e._root:null,t,[r.value])}function Qu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function ba(n){return null!==Ms(n)}(n)?e.get(n):n:r}function Gf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Xu(e);return n.children.forEach(s=>{(function O4(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function N4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Lc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Lc(n.url,e.url)||!Va(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hv(n,e)||!Va(n.queryParams,e.queryParams);default:return!Hv(n,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new HI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Gf(n,e,i.component?a?a.children:null:t,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Pm(a.outlet.component,s))}else s&&zf(e,a,o),o.canActivateChecks.push(new HI(r)),Gf(n,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),ki(i,(s,a)=>zf(s,t.getContext(a),o)),o}function zf(n,e,t){const r=Xu(n),o=n.value;ki(r,(i,s)=>{zf(i,o.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Pm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Wf(n){return"function"==typeof n}function qv(n){return n instanceof ym||"EmptyError"===n?.name}const Rm=Symbol("INITIAL_VALUE");function Ju(){return Di(n=>oI(n.map(e=>e.pipe(Bs(1),sI(Rm)))).pipe(Ae(e=>{for(const t of e)if(!0!==t){if(t===Rm)return Rm;if(!1===t||t instanceof Nc)return t}return!0}),Ei(e=>e!==Rm),Bs(1)))}function GI(n){return function je(...n){return Je(n)}(Ii(e=>{if($c(e))throw NI(0,e)}),Ae(e=>!0===e))}const Yv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zI(n,e,t,r,o){const i=Kv(n,e,t);return i.matched?function J4(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?bn(o.map(s=>{const a=Qu(s,n);return Xl(function U4(n){return n&&Wf(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ju(),GI()):bn(!0)}(r=jI(e,r),e,t).pipe(Ae(s=>!0===s?i:{...Yv})):bn(i)}function Kv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Yv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||F$)(t,n,e);if(!o)return{...Yv};const i={};ki(o.posParams,(a,u)=>{i[u]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Fm(n,e,t,r){if(t.length>0&&function nB(n,e,t){return t.some(r=>Om(n,e,r)&&Ks(r)!==$n)}(n,t,r)){const i=new Xn(e,function tB(n,e,t,r){const o={};o[$n]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const i of t)if(""===i.path&&Ks(i)!==$n){const s=new Xn([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[Ks(i)]=s}return o}(n,e,r,new Xn(t,n.children)));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===t.length&&function rB(n,e,t){return t.some(r=>Om(n,e,r))}(n,t,r)){const i=new Xn(n.segments,function eB(n,e,t,r,o){const i={};for(const s of r)if(Om(n,t,s)&&!o[Ks(s)]){const a=new Xn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Ks(s)]=a}return{...o,...i}}(n,e,t,r,n.children));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}const o=new Xn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Om(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function WI(n,e,t,r){return!!(Ks(n)===r||r!==$n&&Om(e,t,n))&&("**"===n.path||Kv(e,n,t).matched)}function ZI(n,e,t){return 0===e.length&&!n.children[t]}const Nm=!1;class Lm{constructor(e){this.segmentGroup=e||null}}class qI{constructor(e){this.urlTree=e}}function Zf(n){return zu(new Lm(n))}function YI(n){return zu(new qI(n))}class aB{constructor(e,t,r,o,i){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const e=Fm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,$n).pipe(Ae(i=>this.createUrlTree(km(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cl(i=>{if(i instanceof qI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Lm?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,$n).pipe(Ae(o=>this.createUrlTree(km(o),e.queryParams,e.fragment))).pipe(Cl(o=>{throw o instanceof Lm?this.noMatchError(o):o}))}noMatchError(e){return new Te(4002,Nm)}createUrlTree(e,t,r){const o=Ov(e);return new Nc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Ae(i=>new Xn([],i))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return mr(o).pipe(Wl(i=>{const s=r.children[i],a=UI(t,i);return this.expandSegmentGroup(e,a,s,i).pipe(Ae(u=>({segment:u,outlet:i})))}),lI((i,s)=>(i[s.outlet]=s.segment,i),{}),cI())}expandSegment(e,t,r,o,i,s){return mr(r).pipe(Wl(a=>this.expandSegmentAgainstRoute(e,t,r,a,o,i,s).pipe(Cl(f=>{if(f instanceof Lm)return bn(null);throw f}))),bl(a=>!!a),Cl((a,u)=>{if(qv(a))return ZI(t,o,i)?bn(new Xn([],{})):Zf(t);throw a}))}expandSegmentAgainstRoute(e,t,r,o,i,s,a){return WI(o,t,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s):Zf(t):Zf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?YI(i):this.lineralizeSegments(r,i).pipe(Sr(s=>{const a=new Xn(s,{});return this.expandSegment(e,a,t,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){const{matched:a,consumedSegments:u,remainingSegments:f,positionalParamSegments:m}=Kv(t,o,i);if(!a)return Zf(t);const y=this.applyRedirectCommands(u,o.redirectTo,m);return o.redirectTo.startsWith("/")?YI(y):this.lineralizeSegments(o,y).pipe(Sr(k=>this.expandSegment(e,t,r,k.concat(f),s,!1)))}matchSegmentAgainstRoute(e,t,r,o,i){return"**"===r.path?(e=jI(r,e),r.loadChildren?(r._loadedRoutes?bn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Ae(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Xn(o,{})))):bn(new Xn(o,{}))):zI(t,r,o,e).pipe(Di(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,o).pipe(Sr(m=>{const y=m.injector??e,k=m.routes,{segmentGroup:M,slicedSegments:K}=Fm(t,a,u,k),Se=new Xn(M.segments,M.children);if(0===K.length&&Se.hasChildren())return this.expandChildren(y,k,Se).pipe(Ae(Le=>new Xn(a,Le)));if(0===k.length&&0===K.length)return bn(new Xn(a,{}));const Ge=Ks(r)===i;return this.expandSegment(y,Se,k,K,Ge?$n:i,!0).pipe(Ae(vt=>new Xn(a.concat(vt.segments),vt.children)))})):Zf(t)))}getChildConfig(e,t,r){return t.children?bn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?bn({routes:t._loadedRoutes,injector:t._loadedInjector}):function Q4(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?bn(!0):bn(o.map(s=>{const a=Qu(s,n);return Xl(function $4(n){return n&&Wf(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ju(),GI())}(e,t,r).pipe(Sr(o=>o?this.configLoader.loadChildren(e,t).pipe(Ii(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function iB(n){return zu(LI(Nm,3))}())):bn({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return bn(r);if(o.numberOfChildren>1||!o.children[$n])return zu(new Te(4e3,Nm));o=o.children[$n]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const i=this.createSegmentGroup(e,t.root,r,o);return new Nc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ki(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,o){const i=this.createSegments(e,t.segments,r,o);let s={};return ki(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,o)}),new Xn(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Te(4001,Nm);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class cB{}class fB{constructor(e,t,r,o,i,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=Fm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,$n).pipe(Ae(t=>{if(null===t)return null;const r=new Tm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$n,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new wl(r,t),i=new FI(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(e){const t=e.value,r=RI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return mr(Object.keys(r.children)).pipe(Wl(o=>{const i=r.children[o],s=UI(t,o);return this.processSegmentGroup(e,s,i,o)}),lI((o,i)=>o&&i?(o.push(...i),o):null),function P$(n,e=!1){return q((t,r)=>{let o=0;t.subscribe(_e(r,i=>{const s=n(i,o++);(s||e)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),bm(null),cI(),Ae(o=>{if(null===o)return null;const i=XI(o);return function pB(n){n.sort((e,t)=>e.value.outlet===$n?-1:t.value.outlet===$n?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}))}processSegment(e,t,r,o,i){return mr(t).pipe(Wl(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,o,i)),bl(s=>!!s),Cl(s=>{if(qv(s))return ZI(r,o,i)?bn([]):bn(null);throw s}))}processSegmentAgainstRoute(e,t,r,o,i){if(t.redirectTo||!WI(t,r,o,i))return bn(null);let s;if("**"===t.path){const a=o.length>0?fI(o).parameters:{},u=JI(r)+o.length;s=bn({snapshot:new Tm(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ek(t),Ks(t),t.component??t._loadedComponent??null,t,QI(r),u,tk(t)),consumedSegments:[],remainingSegments:[]})}else s=zI(r,t,o,e).pipe(Ae(({matched:a,consumedSegments:u,remainingSegments:f,parameters:m})=>{if(!a)return null;const y=JI(r)+u.length;return{snapshot:new Tm(u,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ek(t),Ks(t),t.component??t._loadedComponent??null,t,QI(r),y,tk(t)),consumedSegments:u,remainingSegments:f}}));return s.pipe(Di(a=>{if(null===a)return bn(null);const{snapshot:u,consumedSegments:f,remainingSegments:m}=a;e=t._injector??e;const y=t._loadedInjector??e,k=function hB(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:M,slicedSegments:K}=Fm(r,f,m,k.filter(Ge=>void 0===Ge.redirectTo));if(0===K.length&&M.hasChildren())return this.processChildren(y,k,M).pipe(Ae(Ge=>null===Ge?null:[new wl(u,Ge)]));if(0===k.length&&0===K.length)return bn([new wl(u,[])]);const Se=Ks(t)===i;return this.processSegment(y,k,M,K,Se?$n:i).pipe(Ae(Ge=>null===Ge?null:[new wl(u,Ge)]))}))}}function mB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function XI(n){const e=[],t=new Set;for(const r of n){if(!mB(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=XI(r.children);e.push(new wl(r.value,o))}return e.filter(r=>!t.has(r))}function QI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function JI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ek(n){return n.data||{}}function tk(n){return n.resolve||{}}function nk(n){return"string"==typeof n.title||null===n.title}function Xv(n){return Di(e=>{const t=n(e);return t?mr(t).pipe(Ae(()=>e)):bn(e)})}const ed=new tn("ROUTES");let Qv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return bn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Xl(t.loadComponent()).pipe(Ae(ok),Ii(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),Pv(()=>{this.componentLoaders.delete(t)})),o=new Mv(r,()=>new tt).pipe(xv());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return bn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ae(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,f,m=!1;Array.isArray(a)?f=a:(u=a.create(t).injector,f=dI(u.get(ed,[],xt.Self|xt.Optional)));return{routes:f.map(Zv),injector:u}}),Pv(()=>{this.childrenLoaders.delete(r)})),s=new Mv(i,()=>new tt).pipe(xv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Xl(t()).pipe(Ae(ok),Sr(o=>o instanceof SS||Array.isArray(o)?bn(o):mr(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(ee(Co),ee(fE))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ok(n){return function EB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Bm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.configLoader=gn(Qv),this.environmentInjector=gn(xa),this.urlSerializer=gn(Zu),this.rootContexts=gn(Vc),this.navigationId=0,this.afterPreactivation=()=>bn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new f4(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new d4(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new $s({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ei(r=>0!==r.id),Ae(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Di(r=>{let o=!1,i=!1;return bn(r).pipe(Ii(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Di(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new kI(s.id,t.serializeUrl(r.rawUrl),m,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),co}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ik(s.source)&&(t.browserUrlTree=s.extractedUrl),bn(s).pipe(Di(m=>{const y=this.transitions?.getValue();return this.events.next(new xm(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?co:Promise.resolve(m)}),function lB(n,e,t,r){return Di(o=>function sB(n,e,t,r,o){return new aB(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe(Ae(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Ii(m=>{this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},r.urlAfterRedirects=m.urlAfterRedirects}),function _B(n,e,t,r,o){return Sr(i=>function dB(n,e,t,r,o,i,s="emptyOnly"){return new fB(n,e,t,r,o,s,i).recognize().pipe(Di(a=>null===a?function uB(n){return new yt(e=>e.error(n))}(new cB):bn(a)))}(n,e,t,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(Ae(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ii(m=>{if(r.targetSnapshot=m.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!m.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);t.setBrowserUrl(k,m)}t.browserUrlTree=m.urlAfterRedirects}const y=new s4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:m,extractedUrl:y,source:k,restoredState:M,extras:K}=s,Se=new xm(m,this.urlSerializer.serialize(y),k,M);this.events.next(Se);const Ge=PI(y,this.rootComponentType).snapshot;return bn(r={...s,targetSnapshot:Ge,urlAfterRedirects:y,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}{const m="";return this.events.next(new kI(s.id,t.serializeUrl(r.extractedUrl),m,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),co}}),Ii(s=>{const a=new a4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ae(s=>r={...s,guards:R4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function G4(n,e){return Sr(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?bn({...t,guardsResult:!0}):function z4(n,e,t,r){return mr(n).pipe(Sr(o=>function X4(n,e,t,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?bn(i.map(a=>{const u=Hf(e)??o,f=Qu(a,u);return Xl(function j4(n){return n&&Wf(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,r):u.runInContext(()=>f(n,e,t,r))).pipe(bl())})).pipe(Ju()):bn(!0)}(o.component,o.route,t,e,r)),bl(o=>!0!==o,!0))}(s,r,o,n).pipe(Sr(a=>a&&function L4(n){return"boolean"==typeof n}(a)?function W4(n,e,t,r){return mr(e).pipe(Wl(o=>Of(function q4(n,e){return null!==n&&e&&e(new p4(n)),bn(!0)}(o.route.parent,r),function Z4(n,e){return null!==n&&e&&e(new m4(n)),bn(!0)}(o.route,r),function K4(n,e,t){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function F4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>vm(()=>bn(s.guards.map(u=>{const f=Hf(s.node)??t,m=Qu(u,f);return Xl(function V4(n){return n&&Wf(n.canActivateChild)}(m)?m.canActivateChild(r,n):f.runInContext(()=>m(r,n))).pipe(bl())})).pipe(Ju())));return bn(i).pipe(Ju())}(n,o.path,t),function Y4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return bn(!0);const o=r.map(i=>vm(()=>{const s=Hf(e)??t,a=Qu(i,s);return Xl(function B4(n){return n&&Wf(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(bl())}));return bn(o).pipe(Ju())}(n,o.route,t))),bl(o=>!0!==o,!0))}(r,i,n,e):bn(a)),Ae(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Ii(s=>{if(r.guardsResult=s.guardsResult,$c(s.guardsResult))throw NI(0,s.guardsResult);const a=new l4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ei(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Xv(s=>{if(s.guards.canActivateChecks.length)return bn(s).pipe(Ii(a=>{const u=new c4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Di(a=>{let u=!1;return bn(a).pipe(function yB(n,e){return Sr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return bn(t);let i=0;return mr(o).pipe(Wl(s=>function vB(n,e,t,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!nk(o)&&(i[Nf]=o.title),function bB(n,e,t,r){const o=function CB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return bn({});const i={};return mr(o).pipe(Sr(s=>function wB(n,e,t,r){const o=Hf(e)??r,i=Qu(n,o);return Xl(i.resolve?i.resolve(e,t):o.runInContext(()=>i(e,t)))}(n[s],e,t,r).pipe(bl(),Ii(a=>{i[s]=a}))),Tv(1),Av(i),Cl(s=>qv(s)?co:zu(s)))}(i,n,e,r).pipe(Ae(s=>(n._resolvedData=s,n.data=RI(n,t).resolve,o&&nk(o)&&(n.data[Nf]=o.title),null)))}(s.route,r,n,e)),Ii(()=>i++),Tv(1),Sr(s=>i===o.length?bn(t):co))})}(t.paramsInheritanceStrategy,this.environmentInjector),Ii({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Ii(a=>{const u=new u4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Xv(s=>{const a=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ii(m=>{u.component=m}),Ae(()=>{})));for(const m of u.children)f.push(...a(m));return f};return oI(a(s.targetSnapshot.root)).pipe(bm(),Bs(1))}),Xv(()=>this.afterPreactivation()),Ae(s=>{const a=function w4(n,e,t){const r=Uf(n,e._root,t?t._root:void 0);return new AI(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Ii(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>Ae(r=>(new P4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),Ii({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Bc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Pv(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Cl(s=>{if(i=!0,BI(s)){$I(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Mm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),$I(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ik(r.source)};t.scheduleNavigation(u,jf,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new xI(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return co}))}))}cancelNavigationTransition(t,r,o){const i=new Mm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ik(n){return n!==jf}let sk=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===$n);return r}getResolvedTitleForRoute(t){return t.data[Nf]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return gn(DB)},providedIn:"root"}),n})(),DB=(()=>{class n extends sk{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(ee(PD))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ak=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return gn(kB)},providedIn:"root"}),n})();class IB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let kB=(()=>{class n extends IB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pi(n)))(r||n)}}(),n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vm=new tn("",{providedIn:"root",factory:()=>({})});let MB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return gn(TB)},providedIn:"root"}),n})(),TB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AB(n){throw n}function PB(n,e,t){return e.parse("/")}const RB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ko=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=gn(O2),this.isNgZoneEnabled=!1,this.options=gn(Vm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||AB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||PB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=gn(MB),this.routeReuseStrategy=gn(ak),this.urlCreationStrategy=gn(v4),this.titleStrategy=gn(sk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=dI(gn(ed,{optional:!0})??[]),this.navigationTransitions=gn(Bm),this.urlSerializer=gn(Zu),this.location=gn(Cf),this.isNgZoneEnabled=gn(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Nc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=PI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),jf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Zv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s;let m=null;switch(a){case"merge":m={...this.currentUrlTree.queryParams,...i};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=i||null}return null!==m&&(m=this.removeEmptyProps(m)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,m,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=$c(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,jf,null,r)}navigate(t,r={skipLocationChange:!1}){return function OB(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new Te(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...RB}:!1===r?{...FB}:r,$c(t))return hI(this.currentUrlTree,t,o);const i=this.parseUrl(t);return hI(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const i=t[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,f,m;return s?(a=s.resolve,u=s.reject,f=s.promise):f=new Promise((y,k)=>{a=y,u=k}),m="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:m,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ck{}let $B=(()=>{class n{preload(t,r){return r().pipe(Cl(()=>bn(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BB=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ei(t=>t instanceof Bc),Wl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=Ph(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return mr(o).pipe(ti())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):bn(null);const i=o.pipe(Sr(s=>null===s?bn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?mr([i,this.loader.loadComponent(r)]).pipe(ti()):i})}}return n.\u0275fac=function(t){return new(t||n)(ee(Ko),ee(fE),ee(xa),ee(ck),ee(Qv))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jv=new tn("");let uk=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Bc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof MI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new MI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function MC(){throw new Error("invalid")}()},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();function jc(n,e){return{\u0275kind:n,\u0275providers:e}}function fk(){const n=gn(Co);return e=>{const t=n.get(Ul);if(e!==t.components[0])return;const r=n.get(Ko),o=n.get(pk);1===n.get(tb)&&r.initialNavigation(),n.get(hk,null,xt.Optional)?.setUpPreloading(),n.get(Jv,null,xt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const pk=new tn("",{factory:()=>new tt}),tb=new tn("",{providedIn:"root",factory:()=>1});const hk=new tn("");function GB(n){return jc(0,[{provide:hk,useExisting:BB},{provide:ck,useExisting:n}])}const mk=new tn("ROUTER_FORROOT_GUARD"),zB=[Cf,{provide:Zu,useClass:Rv},Ko,Vc,{provide:Sl,useFactory:function dk(n){return n.routerState.root},deps:[Ko]},Qv,[]];function WB(){return new vE("Router",Ko)}let jm=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[zB,[],{provide:ed,multi:!0,useValue:t},{provide:mk,useFactory:KB,deps:[[Ko,new Ud,new Hd]]},{provide:Vm,useValue:r||{}},r?.useHash?{provide:La,useClass:HE}:{provide:La,useClass:UE},{provide:Jv,useFactory:()=>{const n=gn($N),e=gn(dt),t=gn(Vm),r=gn(Bm),o=gn(Zu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new uk(o,r,n,e,t)}},r?.preloadingStrategy?GB(r.preloadingStrategy).\u0275providers:[],{provide:vE,multi:!0,useFactory:WB},r?.initialNavigation?XB(r):[],[{provide:gk,useFactory:fk},{provide:dE,multi:!0,useExisting:gk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ed,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(ee(mk,8))},n.\u0275mod=Fr({type:n}),n.\u0275inj=Er({imports:[zv]}),n})();function KB(n){return"guarded"}function XB(n){return["disabled"===n.initialNavigation?jc(3,[{provide:Tc,multi:!0,useFactory:()=>{const e=gn(Ko);return()=>{e.setUpLocationChangeListener()}}},{provide:tb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?jc(2,[{provide:tb,useValue:0},{provide:Tc,multi:!0,deps:[Co],useFactory:e=>{const t=e.get(bO,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const i=e.get(Ko),s=e.get(pk);(function r(o){e.get(Ko).events.pipe(Ei(s=>s instanceof Bc||s instanceof Mm||s instanceof xI),Ae(s=>s instanceof Bc||s instanceof Mm&&(0===s.code||1===s.code)&&null),Ei(s=>null!==s),Bs(1)).subscribe(()=>{o()})})(()=>{o(!0)}),e.get(Bm).afterPreactivation=()=>(o(!0),s.closed?bn(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const gk=new tn("");A(5933),A(9078),A(4199),A(8759);var nb=A(5823),nd=A(9259),Kf=A(609),Xf=(A(7351),A(7580)),_k=(A(2286),A(6379),A(1559));function vk(n,e=ne){return n=n??eV,q((t,r)=>{let o,i=!0;t.subscribe(_e(r,s=>{const a=e(s);(i||!n(o,a))&&(i=!1,o=a,r.next(s))}))})}function eV(n,e){return n===e}const nV=nb.i,Nt=["*"],iV=["outlet"],sV=[[["","slot","top"]],"*"],aV=["[slot=top]","*"],bk=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n),Ck=n=>!!n.resolveComponentFactory;let Qf=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??"",rd(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),rd(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),rd(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(gl)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>rd(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),rd(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(C(Co),C(_t))},n.\u0275dir=Mt({type:n,hostBindings:function(t,r){1&t&&st("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),n})();const rd=n=>{bk(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=uV(e);rb(e,r);const o=e.closest("ion-item");o&&rb(o,t?[...r,"item-has-value"]:r)})},uV=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const o=e.item(r);null!==o&&dV(o,"ng-")&&t.push(`ion-${o.substring(3)}`)}return t},rb=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},dV=(n,e)=>n.substring(0,e.length)===e;let od=(()=>{class n extends Qf{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=t??!1,rd(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(C(Co),C(_t))},n.\u0275dir=Mt({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&st("ionChange",function(i){return r._handleIonChange(i.target)})},features:[Nr([{provide:es,useExisting:n,multi:!0}]),vr]}),n})(),Jf=(()=>{class n extends Qf{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(Co),C(_t))},n.\u0275dir=Mt({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&st("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[Nr([{provide:es,useExisting:n,multi:!0}]),vr]}),n})(),El=(()=>{class n extends Qf{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(Co),C(_t))},n.\u0275dir=Mt({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&st("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[Nr([{provide:es,useExisting:n,multi:!0}]),vr]}),n})();const hV=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},mV=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},Dr=(n,e,t)=>{t.forEach(r=>n[r]=Ff(e,r))};function Ft(n){return function(t){const{defineCustomElementFn:r,inputs:o,methods:i}=n;return void 0!==r&&r(),o&&hV(t,o),i&&mV(t,i),t}}let wk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-app"]],ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0})],n),n})(),Sk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],n),n})(),ns=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),rs=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),Ek=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],n),n})(),os=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),is=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),gi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),Dl=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),ai=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),Um=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})(),Hm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionSwipe"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["side"]})],n),n})(),Gm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionDrag"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})(),ss=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),Ua=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),Dk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})(),ob=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],n),n})(),zm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],n),n})(),Wm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["disabled","value"]})],n),n})(),ep=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],n),n})(),ib=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],n),n})(),Ik=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],n),n})(),as=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),tp=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],n),n})(),ls=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=j([Ft({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class kk{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Zm=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,o,i){return new pj(t,r,o,this.appRef,this.zone,i)}}return n.\u0275fac=function(t){return new(t||n)(ee(dt),ee(Ul))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();class pj{constructor(e,t,r,o,i,s){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=o,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,o){return this.zone.run(()=>new Promise(i=>{const s=Object.assign({},r);void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),i(hj(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,s,o))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(t);if(o){o.destroy(),this.elRefMap.delete(t);const i=this.elEventsMap.get(t);i&&(i(),this.elEventsMap.delete(t))}r()}))}}const hj=(n,e,t,r,o,i,s,a,u,f,m)=>{let y;const k=Co.create({providers:gj(f),parent:t});if(e&&Ck(e)){const Ge=e.resolveComponentFactory(u);y=r?r.createComponent(Ge,r.length,k):Ge.create(k)}else{if(!r)return null;y=r.createComponent(u,{index:r.indexOf,injector:k,environmentInjector:e})}const M=y.instance,K=y.location.nativeElement;if(f&&Object.assign(M,f),m)for(const Ge of m)K.classList.add(Ge);const Se=xk(n,M,K);return a.appendChild(K),r||o.attachView(y.hostView),y.changeDetectorRef.reattach(),i.set(K,y),s.set(K,Se),K},mj=[Kf.L,Kf.a,Kf.b,Kf.c,Kf.d],xk=(n,e,t)=>n.run(()=>{const r=mj.filter(o=>"function"==typeof e[o]).map(o=>{const i=s=>e[o](s.detail);return t.addEventListener(o,i),()=>t.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),Mk=new tn("NavParamsToken"),gj=n=>[{provide:Mk,useValue:n},{provide:kk,useFactory:_j,deps:[Mk]}],_j=n=>new kk(n),Tk=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),sb=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},wj=(n,e)=>{if(!n)return;const t=Ak(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},Ak=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),Pk=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class Sj{constructor(e,t,r,o,i,s){this.containerEl=t,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?Ak(e):void 0}createView(e,t){var r;const o=sb(this.router,t),i=null===(r=e?.location)||void 0===r?void 0:r.nativeElement,s=xk(this.zone,e.instance,i);return{id:this.nextId++,stackId:wj(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:e,url:o}}getExistingView(e){const t=sb(this.router,e),r=this.views.find(o=>o.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const u=this.activeView,f=((n,e)=>!e||n.stackId!==e.stackId)(e,u);f&&(i="back",s=void 0);const m=this.views.slice();let y;const k=this.router;k.getCurrentNavigation?y=k.getCurrentNavigation():!(null===(t=k.navigations)||void 0===t)&&t.value&&(y=k.navigations.value),null!==(r=y?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const M=this.views.includes(e),K=this.insertView(e,i);M||e.ref.changeDetectorRef.detectChanges();const Se=e.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==Se&&(a=Se),u&&(u.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,u,s,this.canGoBack(1),!1,a).then(()=>Ej(e,K,m,this.location,this.zone)).then(()=>({enteringView:e,direction:i,animation:s,tabSwitch:f})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(t);if(i.length<=e)return Promise.resolve(!1);const s=i[i.length-e-1];let a=s.url;const u=s.savedData;if(u){const m=u.get("primary");null!==(o=null===(r=m?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=m.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Rk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Pk),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?Tk(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):Tk(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const a=e?e.element:void 0,u=t?t.element:void 0,f=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,u,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){return Pn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const Ej=(n,e,t,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Rk(n,e,t,r,o),i()})}):Promise.resolve(),Rk=(n,e,t,r,o)=>{o.run(()=>t.filter(i=>!e.includes(i)).forEach(Pk)),e.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==n&&i.url!==a){const u=i.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let ab=(()=>{class n{get(t,r){const o=lb();return o?o.get(t,r):null}getBoolean(t,r){const o=lb();return!!o&&o.getBoolean(t,r)}getNumber(t,r){const o=lb();return o?o.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fk=new tn("USERCONFIG"),lb=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};let Dj=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new tt,this.keyboardDidShow=new tt,this.keyboardDidHide=new tt,this.pause=new tt,this.resume=new tt,this.resize=new tt,r.run(()=>{var o;let i;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(u=>u.register(s,f=>r.run(()=>a(f))))},id(this.pause,t,"pause"),id(this.resume,t,"resume"),id(this.backButton,t,"ionBackButton"),id(this.resize,this.win,"resize"),id(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),id(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?t.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(t){return(0,nb.a)(this.win,t)}platforms(){return(0,nb.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return Ij(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(ee(ii),ee(dt))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ij=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},id=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(r?.detail)})};let np=(()=>{class n{constructor(t,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=Ok,this.animated=Nk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof xm){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),t.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return Pn(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,o,i){this.direction=t,this.animated=kj(t,r,o),this.animationBuilder=i}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const o=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=Ok,this.animated=Nk,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:o}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const o=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return n.\u0275fac=function(t){return new(t||n)(ee(Dj),ee(Cf),ee(Zu),ee(Ko,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kj=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},Ok="auto",Nk=void 0;let rp=(()=>{class n{constructor(t,r,o,i,s,a,u,f,m,y,k,M,K){this.parentContexts=t,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=u,this.parentOutlet=K,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new $s(null),this.stackEvents=new xn,this.activateEvents=new xn,this.deactivateEvents=new xn,this.nativeEl=m.nativeElement,this.name=o||$n,this.tabsPrefix="true"===i?sb(y,M):void 0,this.stackCtrl=new Sj(this.tabsPrefix,this.nativeEl,y,a,k,f),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t?.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,nd.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,t)}else{const a=t._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const u=this.parentContexts.getOrCreateContext(this.name).children,f=new $s(null),m=this.createActivatedRouteProxy(f,t),y=new xj(m,u,this.location.injector),k=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&Ck(r)){const M=r.resolveComponentFactory(k);i=this.activated=this.location.createComponent(M,this.location.length,y)}else i=this.activated=this.location.createComponent(k,{index:this.location.length,injector:y,environmentInjector:r??this.environmentInjector});f.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,m),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const o=new Sl;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(t,"paramMap"),o._queryParamMap=this.proxyObservable(t,"queryParamMap"),o.url=this.proxyObservable(t,"url"),o.params=this.proxyObservable(t,"params"),o.queryParams=this.proxyObservable(t,"queryParams"),o.fragment=this.proxyObservable(t,"fragment"),o.data=this.proxyObservable(t,"data"),o}proxyObservable(t,r){return t.pipe(Ei(o=>!!o),Di(o=>this.currentActivatedRoute$.pipe(Ei(i=>null!==i&&i.component===o),Di(i=>i&&i.activatedRoute[r]),vk())))}updateActivatedRouteProxy(t,r){const o=this.proxyMap.get(t);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(C(Vc),C(Gi),cu("name"),cu("tabs"),C(ab),C(np),C(sl,8),C(Cf),C(_t),C(Ko),C(dt),C(Sl),C(n,12))},n.\u0275dir=Mt({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class xj{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Sl?this.route:e===Vc?this.childContexts:this.parent.get(e,t)}}let Lk=(()=>{class n{constructor(t){this.navCtrl=t,this.ionTabsWillChange=new xn,this.ionTabsDidChange=new xn}onPageSelected(t){const r=t.enteringView.stackId;t.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(t){const r="string"==typeof t,o=r?t:t.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||t.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return n.\u0275fac=function(t){return new(t||n)(C(np))},n.\u0275cmp=ut({type:n,selectors:[["ion-tabs"]],contentQueries:function(t,r,o){if(1&t&&function Vl(n,e,t,r){const o=lr();if(o.firstCreatePass){const i=un();HS(o,new VS(e,t,r),i.index),function h2(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(o,n),2==(2&t)&&(o.staticContentQueries=!0)}US(o,pt(),t)}(o,ib,5),2&t){let i;Ns(i=Ls())&&(r.tabBar=i.first)}},viewQuery:function(t,r){if(1&t&&Nu(iV,5,rp),2&t){let o;Ns(o=Ls())&&(r.outlet=o.first)}},hostBindings:function(t,r){1&t&&st("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:aV,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(t,r){1&t&&(Rt(sV),At(0),oe(1,"div",0)(2,"ion-router-outlet",1,2),st("stackEvents",function(i){return r.onPageSelected(i)}),J()(),At(4,1)),2&t&&(Xe(2),rt("environmentInjector",r.environmentInjector))},dependencies:[rp],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),n})(),$k=(()=>{class n{constructor(t,r,o){this.routerOutlet=t,this.navCtrl=r,this.config=o}onClick(t){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),t.preventDefault())}}return n.\u0275fac=function(t){return new(t||n)(C(rp,8),C(np),C(ab))},n.\u0275dir=Mt({type:n,selectors:[["ion-back-button"]],hostBindings:function(t,r){1&t&&st("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),n})(),Bk=(()=>{let n=class{constructor(t,r,o,i,s){this.el=t.nativeElement,t.nativeElement.delegate=i.create(r,o,s),Dr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(_t),C(sl),C(Co),C(Zm),C(Gi))},n.\u0275dir=Mt({type:n,selectors:[["ion-nav"]]}),n=j([Ft({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})();class op{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let ip=(()=>{class n extends op{constructor(){super(Xf.b)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uc=(()=>{class n extends op{constructor(){super(Xf.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ql=(()=>{class n extends op{constructor(){super(Xf.l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Hk{}let Ss=(()=>{class n extends op{constructor(t,r,o,i){super(Xf.m),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"modal")}))}}return n.\u0275fac=function(t){return new(t||n)(ee(Zm),ee(sl),ee(Co),ee(Hk,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),Hc=(()=>{class n extends op{constructor(t,r,o,i){super(Xf.c),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"popover")}))}}return n.\u0275fac=function(t){return new(t||n)(ee(Zm),ee(sl),ee(Co),ee(Hk,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const Nj=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:i=>t.run(i)}));const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function tV(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(A.e(6748).then(A.t.bind(A,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(A.e(2214).then(A.t.bind(A,7320,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,_k.p)().then(()=>(nV(),(0,_k.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:bk,jmp:i=>t.runOutsideAngular(i),ael(i,s,a,u){i[o](s,a,u)},rel(i,s,a,u){i.removeEventListener(s,a,u)}}))}};let Jl=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Fk,useValue:t},{provide:Tc,useFactory:Nj,multi:!0,deps:[Fk,ii,dt]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=Er({providers:[Zm,Ss,Hc],imports:[[$a]]}),n})();let sd={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const zk=/[&<>"']/,$j=new RegExp(zk.source,"g"),Wk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Bj=new RegExp(Wk.source,"g"),Vj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zk=n=>Vj[n];function xi(n,e){if(e){if(zk.test(n))return n.replace($j,Zk)}else if(Wk.test(n))return n.replace(Bj,Zk);return n}const jj=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function qk(n){return n.replace(jj,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const Uj=/(^|[^\[])\^/g;function Zr(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,o)=>(o=(o=o.source||o).replace(Uj,"$1"),n=n.replace(r,o),t),getRegex:()=>new RegExp(n,e)};return t}const Hj=/[^\w:]/g,Gj=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Yk(n,e,t){if(n){let r;try{r=decodeURIComponent(qk(t)).replace(Hj,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!Gj.test(t)&&(t=function qj(n,e){qm[" "+n]||(qm[" "+n]=zj.test(n)?n+"/":Km(n,"/",!0));const t=-1===(n=qm[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(Wj,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(Zj,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const qm={},zj=/^[^:]+:\/*[^/]*$/,Wj=/^([^:]+:)[\s\S]*$/,Zj=/^([^:]+:\/*[^/]*)[\s\S]*$/,Ym={exec:function(){}};function ha(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function Kk(n,e){const r=n.replace(/\|/g,(i,s,a)=>{let u=!1,f=s;for(;--f>=0&&"\\"===a[f];)u=!u;return u?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Km(n,e,t){const r=n.length;if(0===r)return"";let o=0;for(;o<r;){const i=n.charAt(r-o-1);if(i!==e||t){if(i===e||!t)break;o++}else o++}return n.slice(0,r-o)}function Xk(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Qk(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function Jk(n,e,t,r){const o=e.href,i=e.title?xi(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:t,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:o,title:i,text:xi(s)}}class cb{constructor(e){this.options=e||sd}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Km(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],o=function Kj(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const o=Km(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,i,s,a,u,f,m,y,k,M,K,Se=t[1].trim();const Ge=Se.length>1,Ke={type:"list",raw:"",ordered:Ge,start:Ge?+Se.slice(0,-1):"",loose:!1,items:[]};Se=Ge?`\\d{1,9}\\${Se.slice(-1)}`:`\\${Se}`,this.options.pedantic&&(Se=Ge?Se:"[*+-]");const vt=new RegExp(`^( {0,3}${Se})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(K=!1,(t=vt.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),m=t[2].split("\n",1)[0].replace(/^\t+/,Ot=>" ".repeat(3*Ot.length)),y=e.split("\n",1)[0],this.options.pedantic?(s=2,M=m.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,M=m.slice(s),s+=t[1].length),u=!1,!m&&/^ *$/.test(y)&&(r+=y+"\n",e=e.substring(y.length+1),K=!0),!K){const Ot=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Dn=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Gn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),Is=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(k=e.split("\n",1)[0],y=k,this.options.pedantic&&(y=y.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Gn.test(y)||Is.test(y)||Ot.test(y)||Dn.test(e)));){if(y.search(/[^ ]/)>=s||!y.trim())M+="\n"+y.slice(s);else{if(u||m.search(/[^ ]/)>=4||Gn.test(m)||Is.test(m)||Dn.test(m))break;M+="\n"+y}!u&&!y.trim()&&(u=!0),r+=k+"\n",e=e.substring(k.length+1),m=y.slice(s)}}Ke.loose||(f?Ke.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(M),o&&(i="[ ] "!==o[0],M=M.replace(/^\[[ xX]\] +/,""))),Ke.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:M}),Ke.raw+=r}Ke.items[Ke.items.length-1].raw=r.trimRight(),Ke.items[Ke.items.length-1].text=M.trimRight(),Ke.raw=Ke.raw.trimRight();const Le=Ke.items.length;for(a=0;a<Le;a++)if(this.lexer.state.top=!1,Ke.items[a].tokens=this.lexer.blockTokens(Ke.items[a].text,[]),!Ke.loose){const Ot=Ke.items[a].tokens.filter(Gn=>"space"===Gn.type),Dn=Ot.length>0&&Ot.some(Gn=>/\n.*\n/.test(Gn.raw));Ke.loose=Dn}if(Ke.loose)for(a=0;a<Le;a++)Ke.items[a].loose=!0;return Ke}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):xi(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:Kk(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let i,s,a,u,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=Kk(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(u=r.rows[s],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:xi(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):xi(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Km(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function Yj(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,o=0;for(;o<t;o++)if("\\"===n[o])o++;else if(n[o]===e[0])r++;else if(n[o]===e[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(s>-1){const u=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),Jk(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return Jk(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,u,f=s,m=0;const y="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(y.lastIndex=0,t=t.slice(-1*e.length+s);null!=(o=y.exec(t));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(u=a.length,o[3]||o[4]){f+=u;continue}if((o[5]||o[6])&&s%3&&!((s+u)%3)){m+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+m);const k=e.slice(0,s+o.index+(o[0].length-a.length)+u);if(Math.min(s,u)%2){const K=k.slice(1,-1);return{type:"em",raw:k,text:K,tokens:this.lexer.inlineTokens(K)}}const M=k.slice(2,-2);return{type:"strong",raw:k,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=xi(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let o,i;return"@"===r[2]?(o=xi(this.options.mangle?t(r[1]):r[1]),i="mailto:"+o):(o=xi(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if("@"===r[2])o=xi(this.options.mangle?t(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=xi(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):xi(r[0]):r[0]:xi(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const En={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ym,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};En.def=Zr(En.def).replace("label",En._label).replace("title",En._title).getRegex(),En.bullet=/(?:[*+-]|\d{1,9}[.)])/,En.listItemStart=Zr(/^( *)(bull) */).replace("bull",En.bullet).getRegex(),En.list=Zr(En.list).replace(/bull/g,En.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+En.def.source+")").getRegex(),En._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",En._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,En.html=Zr(En.html,"i").replace("comment",En._comment).replace("tag",En._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),En.paragraph=Zr(En._paragraph).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.blockquote=Zr(En.blockquote).replace("paragraph",En.paragraph).getRegex(),En.normal=ha({},En),En.gfm=ha({},En.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),En.gfm.table=Zr(En.gfm.table).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.gfm.paragraph=Zr(En._paragraph).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",En.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.pedantic=ha({},En.normal,{html:Zr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",En._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ym,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Zr(En.normal._paragraph).replace("hr",En.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",En.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Zt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ym,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ym,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Xj(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function ex(n){let t,r,e="";const o=n.length;for(t=0;t<o;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}Zt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Zt.punctuation=Zr(Zt.punctuation).replace(/punctuation/g,Zt._punctuation).getRegex(),Zt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Zt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Zt._comment=Zr(En._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Zt.emStrong.lDelim=Zr(Zt.emStrong.lDelim).replace(/punct/g,Zt._punctuation).getRegex(),Zt.emStrong.rDelimAst=Zr(Zt.emStrong.rDelimAst,"g").replace(/punct/g,Zt._punctuation).getRegex(),Zt.emStrong.rDelimUnd=Zr(Zt.emStrong.rDelimUnd,"g").replace(/punct/g,Zt._punctuation).getRegex(),Zt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Zt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Zt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Zt.autolink=Zr(Zt.autolink).replace("scheme",Zt._scheme).replace("email",Zt._email).getRegex(),Zt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Zt.tag=Zr(Zt.tag).replace("comment",Zt._comment).replace("attribute",Zt._attribute).getRegex(),Zt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Zt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Zt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Zt.link=Zr(Zt.link).replace("label",Zt._label).replace("href",Zt._href).replace("title",Zt._title).getRegex(),Zt.reflink=Zr(Zt.reflink).replace("label",Zt._label).replace("ref",En._label).getRegex(),Zt.nolink=Zr(Zt.nolink).replace("ref",En._label).getRegex(),Zt.reflinkSearch=Zr(Zt.reflinkSearch,"g").replace("reflink",Zt.reflink).replace("nolink",Zt.nolink).getRegex(),Zt.normal=ha({},Zt),Zt.pedantic=ha({},Zt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Zr(/^!?\[(label)\]\((.*?)\)/).replace("label",Zt._label).getRegex(),reflink:Zr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zt._label).getRegex()}),Zt.gfm=ha({},Zt.normal,{escape:Zr(Zt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Zt.gfm.url=Zr(Zt.gfm.url,"i").replace("email",Zt.gfm._extended_email).getRegex(),Zt.breaks=ha({},Zt.gfm,{br:Zr(Zt.br).replace("{2,}","*").getRegex(),text:Zr(Zt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Il{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||sd,this.options.tokenizer=this.options.tokenizer||new cb,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:En.normal,inline:Zt.normal};this.options.pedantic?(t.block=En.pedantic,t.inline=Zt.pedantic):this.options.gfm&&(t.block=En.gfm,t.inline=this.options.breaks?Zt.breaks:Zt.gfm),this.tokenizer.rules=t}static get rules(){return{block:En,inline:Zt}}static lex(e,t){return new Il(t).lex(e)}static lexInline(e,t){return new Il(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,o,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,f)=>u+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},u),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=t[t.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,i,a,u,f,s=e;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+Qk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+Qk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>!!(r=m.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,f)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,ex)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,ex))){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const y=e.slice(1);let k;this.options.extensions.startInline.forEach(function(M){k=M.call({lexer:this},y),"number"==typeof k&&k>=0&&(m=Math.min(m,k))}),m<1/0&&m>=0&&(i=e.substring(0,m+1))}if(r=this.tokenizer.inlineText(i,Xj)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),u=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}}return t}}class ad{constructor(e){this.options=e||sd}code(e,t,r){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,o);null!=i&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+xi(o)+'">'+(r?e:xi(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:xi(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,o){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+o.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=Yk(this.options.sanitize,this.options.baseUrl,e)))return r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(null===(e=Yk(this.options.sanitize,this.options.baseUrl,e)))return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class tx{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class nx{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do{o++,r=e+"-"+o}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class Ha{constructor(e){this.options=e||sd,this.options.renderer=this.options.renderer||new ad,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new tx,this.slugger=new nx}static parse(e,t){return new Ha(t).parse(e)}static parseInline(e,t){return new Ha(t).parseInline(e)}parse(e,t=!0){let o,i,s,a,u,f,m,y,k,M,K,Se,Ge,Ke,vt,Le,Ot,Dn,Gn,r="";const Is=e.length;for(o=0;o<Is;o++)if(M=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[M.type]&&(Gn=this.options.extensions.renderers[M.type].call({parser:this},M),!1!==Gn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(M.type)))r+=Gn||"";else switch(M.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(M.tokens),M.depth,qk(this.parseInline(M.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(M.text,M.lang,M.escaped);continue;case"table":for(y="",m="",a=M.header.length,i=0;i<a;i++)m+=this.renderer.tablecell(this.parseInline(M.header[i].tokens),{header:!0,align:M.align[i]});for(y+=this.renderer.tablerow(m),k="",a=M.rows.length,i=0;i<a;i++){for(f=M.rows[i],m="",u=f.length,s=0;s<u;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:M.align[s]});k+=this.renderer.tablerow(m)}r+=this.renderer.table(y,k);continue;case"blockquote":k=this.parse(M.tokens),r+=this.renderer.blockquote(k);continue;case"list":for(K=M.ordered,Se=M.start,Ge=M.loose,a=M.items.length,k="",i=0;i<a;i++)vt=M.items[i],Le=vt.checked,Ot=vt.task,Ke="",vt.task&&(Dn=this.renderer.checkbox(Le),Ge?vt.tokens.length>0&&"paragraph"===vt.tokens[0].type?(vt.tokens[0].text=Dn+" "+vt.tokens[0].text,vt.tokens[0].tokens&&vt.tokens[0].tokens.length>0&&"text"===vt.tokens[0].tokens[0].type&&(vt.tokens[0].tokens[0].text=Dn+" "+vt.tokens[0].tokens[0].text)):vt.tokens.unshift({type:"text",text:Dn}):Ke+=Dn),Ke+=this.parse(vt.tokens,Ge),k+=this.renderer.listitem(Ke,Ot,Le);r+=this.renderer.list(k,K,Se);continue;case"html":r+=this.renderer.html(M.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(M.tokens));continue;case"text":for(k=M.tokens?this.parseInline(M.tokens):M.text;o+1<Is&&"text"===e[o+1].type;)M=e[++o],k+="\n"+(M.tokens?this.parseInline(M.tokens):M.text);r+=t?this.renderer.paragraph(k):k;continue;default:{const cg='Token with "'+M.type+'" type was not found.';if(this.options.silent)return void console.error(cg);throw new Error(cg)}}return r}parseInline(e,t){t=t||this.renderer;let o,i,s,r="";const a=e.length;for(o=0;o<a;o++)if(i=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:{const u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}function kn(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),Xk(e=ha({},kn.defaults,e||{})),t){const o=e.highlight;let i;try{i=Il.lex(n,e)}catch(u){return t(u)}const s=function(u){let f;if(!u)try{e.walkTokens&&kn.walkTokens(i,e.walkTokens),f=Ha.parse(i,e)}catch(m){u=m}return e.highlight=o,u?t(u):t(null,f)};if(!o||o.length<3||(delete e.highlight,!i.length))return s();let a=0;return kn.walkTokens(i,function(u){"code"===u.type&&(a++,setTimeout(()=>{o(u.text,u.lang,function(f,m){if(f)return s(f);null!=m&&m!==u.text&&(u.text=m,u.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+xi(o.message+"",!0)+"</pre>";throw o}try{const o=Il.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(kn.walkTokens(o,e.walkTokens)).then(()=>Ha.parse(o,e)).catch(r);kn.walkTokens(o,e.walkTokens)}return Ha.parse(o,e)}catch(o){r(o)}}kn.options=kn.setOptions=function(n){return ha(kn.defaults,n),function Lj(n){sd=n}(kn.defaults),kn},kn.getDefaults=function Gk(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},kn.defaults=sd,kn.use=function(...n){const e=kn.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=ha({},t);if(r.async=kn.defaults.async||r.async,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=e.renderers[o.name];e.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&("block"===o.level?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:"inline"===o.level&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){const o=kn.defaults.renderer||new ad;for(const i in t.renderer){const s=o[i];o[i]=(...a)=>{let u=t.renderer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.renderer=o}if(t.tokenizer){const o=kn.defaults.tokenizer||new cb;for(const i in t.tokenizer){const s=o[i];o[i]=(...a)=>{let u=t.tokenizer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.tokenizer=o}if(t.walkTokens){const o=kn.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(t.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}kn.setOptions(r)})},kn.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(kn,r)),r.type){case"table":for(const o of r.header)t=t.concat(kn.walkTokens(o.tokens,e));for(const o of r.rows)for(const i of o)t=t.concat(kn.walkTokens(i.tokens,e));break;case"list":t=t.concat(kn.walkTokens(r.items,e));break;default:kn.defaults.extensions&&kn.defaults.extensions.childTokens&&kn.defaults.extensions.childTokens[r.type]?kn.defaults.extensions.childTokens[r.type].forEach(function(o){t=t.concat(kn.walkTokens(r[o],e))}):r.tokens&&(t=t.concat(kn.walkTokens(r.tokens,e)))}return t},kn.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");Xk(e=ha({},kn.defaults,e||{}));try{const t=Il.lexInline(n,e);return e.walkTokens&&kn.walkTokens(t,e.walkTokens),Ha.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+xi(t.message+"",!0)+"</pre>";throw t}},kn.Parser=Ha,kn.parser=Ha.parse,kn.Renderer=ad,kn.TextRenderer=tx,kn.Lexer=Il,kn.lexer=Il.lex,kn.Tokenizer=cb,kn.Slugger=nx,kn.parse=kn;class Qj extends z{constructor(e,t){super()}schedule(e,t=0){return this}}const Xm={setInterval(n,e,...t){const{delegate:r}=Xm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Xm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},ub={now:()=>(ub.delegate||Date).now(),delegate:void 0};class sp{constructor(e,t=sp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}sp.now=ub.now;const rx=new class eU extends sp{constructor(e,t=sp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class Jj extends Qj{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Xm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Xm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,te(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),tU=rx;function ox(n=0,e,t=tU){let r=-1;return null!=e&&(Ao(e)?t=e:r=e),new yt(o=>{let i=function nU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class rU extends tt{constructor(e=1/0,t=1/0,r=ub){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}const sU=["*"];let db=(()=>{class n{constructor(){this._buttonClick$=new tt,this.copied$=this._buttonClick$.pipe(Di(()=>vi(bn(!0),ox(3e3).pipe(Av(!1)))),vk(),function oU(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,xs({connector:()=>new rU(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(sI(!1),Ae(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(oe(0,"button",0),st("click",function(){return r.onCopyToClipboardClick()}),Fa(1,"async"),Ye(2),Fa(3,"async"),J()),2&t&&(ul("copied",Oa(1,3,r.copied$)),Xe(2),Os(Oa(3,5,r.copiedText$)))},dependencies:[lD],encapsulation:2,changeDetection:0}),n})();class cU{}var ap=(()=>{return(n=ap||(ap={})).CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",ap;var n})();class ix{}const sx=new tn("SECURITY_CONTEXT");let fb=(()=>{class n{constructor(t,r,o,i,s,a){this.platform=t,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new ad},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new tt,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:u}=r,f={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(f.renderer||new ad));const m=this.trimIndentation(t),y=o?this.decodeHtml(m):m,k=s?this.parseEmoji(y):y,M=this.parseMarked(k,f,i);return(u?M:this.sanitizer.sanitize(this.securityContext,M))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:u,mermaid:f,mermaidOptions:m}=r;i&&this.renderClipboard(t,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...m}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Ae(r=>this.handleExtension(t,r)))}highlight(t){if(!Hl(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Hl(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const o=t.code;return t.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const o=t.lastIndexOf("://"),i=o>-1?t.substring(o+4):t,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",u=a.lastIndexOf("."),f=u>-1?a.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(t,r,o=!1){return o?kn.parseInline(t,r):kn.parse(t,r)}parseEmoji(t){if(!Hl(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Hl(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,o){if(!Hl(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=t.querySelectorAll("pre");for(let u=0;u<a.length;u++){const f=a.item(u),m=document.createElement("div");m.style.position="relative",f.parentNode.insertBefore(m,f),m.appendChild(f);const y=document.createElement("div");let k,M;y.style.position="absolute",y.style.top=".5em",y.style.right=".5em",y.style.opacity="0",y.style.transition="opacity 250ms ease-out",m.insertAdjacentElement("beforeend",y),f.onmouseover=()=>y.style.opacity="1",f.onmouseout=()=>y.style.opacity="0",k=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(db).hostView,k.rootNodes.forEach(K=>{K.onmouseover=()=>y.style.opacity="1",y.appendChild(K),M=new ClipboardJS(K,{text:()=>f.innerText})}),k.onDestroy(()=>M.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Hl(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=t.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(ee(Bu),ee(sx),ee(ov,8),ee(cU,8),ee(ix,8),ee(Jy))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),pb=(()=>{class n{constructor(t,r,o){this.element=t,this.markdownService=r,this.viewContainerRef=o,this.error=new xn,this.load=new xn,this.ready=new xn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new tt}get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function iU(n){return q((e,t)=>{On(n).subscribe(_e(t,()=>t.complete(),B)),!t.closed&&e.subscribe(t)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(t,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,ap.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,ap.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const u=this.toLispCase(s);o.item(i).setAttribute(u,a.toString())}})}toLispCase(t){const r=t.match(/([A-Z])/g);if(!r)return t;let o=t.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return n.\u0275fac=function(t){return new(t||n)(C(_t),C(fb),C(Gi))},n.\u0275cmp=ut({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Uo],ngContentSelectors:sU,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2}),n})(),hb=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[fb,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:sx,useValue:t&&null!=t.sanitize?t.sanitize:Wr.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=Er({imports:[$a]}),n})();var ax;!function(n){let e;var o;let t,r;(o=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(ax||(ax={}));var ae=A(3918);const _U="safari"in window,lx=!navigator.userAgent.match(/(crios)|(fxios)/i),ma=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,cx=!!navigator.userAgent.match(/android/i),yU=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var ec=(()=>{return(n=ec||(ec={})).web="web",n.pwa="pwa",n.twa="twa",ec;var n})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const CU=new Error("request for lock canceled");class SU{constructor(e,t=CU){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,r)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:r}),this._dispatch()})}runExclusive(e,t=1){return function(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(y){s(y)}}function u(m){try{f(r.throw(m))}catch(y){s(y)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(t);try{return yield e(r)}finally{o()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const r=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!r)continue;const o=this._value,i=t;this._value-=t,t=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}}class Ga{constructor(e){this._semaphore=new SU(1,e)}acquire(){return n=this,e=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((t=void 0)||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(y){s(y)}}function u(m){try{f(r.throw(m))}catch(y){s(y)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())});var n,e,t,r}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Qm="cloudpilot-session-preview";function dx(){localStorage.removeItem(Qm)}function fo(){return(n,e,t)=>{const r=t.value;let o=!1;return t.value=(0,ae.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),t}}class Es{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}Es.\u0275fac=function(e){return new(e||Es)},Es.\u0275prov=mt({token:Es,factory:Es.\u0275fac,providedIn:"root"});class to{constructor(e,t){this.alertController=e,this.emulationState=t,this.emergencySaveEvent=new qo.j}errorMessage(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}],cssClass:"alert-error"})).present()})()}message(e,t,r={},o="Close"){var i=this;return(0,ae.Z)(function*(){const s=yield i.alertController.create({header:e,message:t,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var e=this;return(0,ae.Z)(function*(){const t=yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield t.present(),yield t.onDidDismiss()})()}fatalError(e,t=!0){var r=this;return(0,ae.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&t?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&t?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}to.\u0275fac=function(e){return new(e||to)(ee(Uc),ee(Es))},to.\u0275prov=mt({token:to,factory:to.\u0275fac,providedIn:"root"}),j([fo()],to.prototype,"updateAvailable",null),j([fo()],to.prototype,"fatalError",null),j([fo()],to.prototype,"errorInNativeCode",null);class Xs{constructor(e,t){this.alertService=e,this.ngZone=t,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=r=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${r}.`),this.fatalInNativeCode=r=>this.fatalWithMessage(r.message,!0,!1),this.fatalWithMessage=(r,o=!0,i=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,o&&dx(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(r,i))}),this.fatalErrorEvent=new qo.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}Xs.\u0275fac=function(e){return new(e||Xs)(ee(to),ee(dt))},Xs.\u0275prov=mt({token:Xs,factory:Xs.\u0275fac,providedIn:"root"});var Ir=(()=>{return(n=Ir||(Ir={})).cloudpilot="cloudpilot",n.fstools="fstools",n.vfs="vfs",n.none="none",Ir;var n})();class za{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Ir.none}claim(e,t){this.assertOwnership(e,Ir.none),this.ownershipMmap.set(e,t)}release(e,t){this.assertOwnership(e,t),this.ownershipMmap.delete(e)}assertOwnership(e,t){if(this.getOwner(e)===t)return;const r=t===Ir.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${t}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(r),new Error(r)}transferOwnership(e,t,r){this.assertOwnership(e,t),this.ownershipMmap.set(e,r)}}za.\u0275fac=function(e){return new(e||za)(ee(Xs))},za.\u0275prov=mt({token:za,factory:za.\u0275fac,providedIn:"root"});const nc="session",ld="rom",rc="memory",kl="state",Jm="kvs",oc="memory-meta",Wa="storage",Vs="storage-card",lp="lock";class cd extends Error{constructor(e){super(e)}}function hr(n){return new Promise((e,t)=>{!function TU(n){return!!n.abort}(n)?n.onsuccess=()=>e(n.result):n.oncomplete=()=>e(void 0),n.onerror=()=>t(new cd(n.error?.message))})}function px(n){let e=255&n[0];e|=e<<8,e|=e<<16;for(let t=1;t<256;t++)if(n[t]!==e)return n;return 255&n[0]}function AU(n){const e=n[0];for(let t=1;t<2048;t++)if(n[t]!==e)return n;return e}const eg="session",gb="memory",RU="memory-meta",FU="storage",mx="storage-meta",gx="storage-card",NU="storageId";function _b(){return(_b=(0,ae.Z)(function*(n,e){function t(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!e)throw new Error("no version change transaction!");const o=e.objectStore(eg).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value,f={...u,totalMemory:1024*u.ram*1024+t(u.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function yb(){return(yb=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=e.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=t.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(t.put(r,"credentials"),t.delete("proxyCredentials"))})).apply(this,arguments)}function vb(){return(vb=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=n.createObjectStore(RU,{keyPath:"sessionId"});n.createObjectStore(FU),n.createObjectStore(mx,{keyPath:"id",autoIncrement:!0});const o=e.objectStore(eg).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value;void 0!==u.totalMemory&&(t.put({sessionId:u.id,totalSize:u.totalMemory}),delete u.totalMemory,a.update(u)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function bb(){return(bb=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(mx).name=gx})).apply(this,arguments)}function Cb(){return(Cb=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(gx).createIndex(NU,"storageId")})).apply(this,arguments)}function wb(){return(wb=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");n.createObjectStore("lock")})).apply(this,arguments)}var zU=A(5023),WU=A.n(zU);const _x={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let tg;const ZU=new Uint8Array(16);function qU(){if(!tg&&(tg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tg(ZU)}const Mi=[];for(let n=0;n<256;++n)Mi.push((n+256).toString(16).slice(1));const Sb=function YU(n,e,t){if(_x.randomUUID&&!e&&!n)return _x.randomUUID();const r=(n=n||{}).random||(n.rng||qU)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function yx(n,e=0){return(Mi[n[e+0]]+Mi[n[e+1]]+Mi[n[e+2]]+Mi[n[e+3]]+"-"+Mi[n[e+4]]+Mi[n[e+5]]+"-"+Mi[n[e+6]]+Mi[n[e+7]]+"-"+Mi[n[e+8]]+Mi[n[e+9]]+"-"+Mi[n[e+10]]+Mi[n[e+11]]+Mi[n[e+12]]+Mi[n[e+13]]+Mi[n[e+14]]+Mi[n[e+15]]).toLowerCase()}(r)},Eb=new Error("page lock lost"),vx=new Error("version mismatch"),bx=Sb();function xo(){return(n,e,t)=>{const r=t.value;return t.value=(0,ae.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof cd?o.fatalIDBDead():i===vx?o.fatalVersionMismatch():i===Eb?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),t}}class Qn{constructor(e,t,r){this.ngZone=e,this.errorService=t,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(rc),u=o.objectStore(oc),f=new Uint32Array(256),m=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),u.put({sessionId:i,totalSize:s.length});const k=s.length>>>10;for(let M=0;M<k;M++){m.set(s.subarray(1024*M,1024*(M+1)));const K=px(f);if("number"==typeof K)a.put(K,[i,M]);else{const Se=new Uint32Array(256);Se.set(K),a.put(Se,[i,M])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,ae.Z)(function*(){const s=o.objectStore(oc),a=yield hr(s.get(i));if(a)return new Promise(function(){var u=(0,ae.Z)(function*(f,m){const y=o.objectStore(rc),k=new Uint32Array(a.totalSize>>>2),M=y.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));M.onsuccess=()=>{const K=M.result;if(!K)return f(new Uint8Array(k.buffer));const Se=K.value,[,Ge]=K.key;"number"==typeof Se?k.subarray(256*Ge,256*(Ge+1)).fill(Se|Se<<8|Se<<16|Se<<24):k.subarray(256*Ge,256*(Ge+1)).set(1024===Se.length?new Uint32Array(Se.buffer):Se),K.continue()},M.onerror=()=>m(new cd(M.error?.message))});return function(f,m){return u.apply(this,arguments)}}())})),this.sessionChangeEvent=new qo.j,this.storageCardChangeEvent=new qo.j,this.sessionUpdateMutex=new Ga,this.db=this.requestPersistentStorage().then(()=>e.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(e,t,r,o){var i=this;return(0,ae.Z)(function*(){const s=WU()(t),a=yield i.newTransaction(nc,ld,kl,rc,oc),u=a.objectStore(nc),f=a.objectStore(ld);(yield hr(f.get(s)))||f.put(t,s);const{id:y,...k}=e,M=yield hr(u.add({...k,rom:s})),K=yield hr(u.get(M));return r&&i.saveMemory(a,K.id,r),o&&i.saveState(a,K.id,o),yield hr(a),K})()}getAllSessions(){var e=this;return(0,ae.Z)(function*(){const[t]=yield e.prepareObjectStore(nc);return yield hr(t.getAll())})()}getSession(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(nc);return yield hr(r.get(e))})()}deleteSession(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(nc,ld,kl,rc,oc),o=r.objectStore(nc),i=r.objectStore(ld);(e=yield hr(o.get(e.id)))&&(o.delete(e.id),0===(yield hr(o.index("rom").getAll(e.rom))).length&&i.delete(e.rom),t.deleteMemory(r,e.id),t.deleteState(r,e.id),yield hr(r),t.sessionChangeEvent.dispatch([e.id,void 0]))})()}updateSessionPartial(e,t){var r=this;return this.sessionUpdateMutex.runExclusive((0,ae.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...u}=t,[f,m]=yield r.prepareObjectStore(nc),y=yield hr(f.get(e));if(!y)throw new Error(`no session with id ${e}`);const k={...y,...u};f.put(k),yield hr(m),r.sessionChangeEvent.dispatch([y.id,k])}))}updateSession(e){var t=this;return this.sessionUpdateMutex.runExclusive((0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(nc),i=yield hr(r.get(e.id));if(!i)throw new Error(`no session with id ${e.id}`);if(i.rom!==e.rom)throw new Error("attempt to change ROM reference");if(i.ram!==e.ram)throw new Error("attempt to change RAM size");if(i.device!==e.device)throw new Error("attempt to change device type");r.put(e),yield hr(o),t.sessionChangeEvent.dispatch([e.id,e])}))}loadSession(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(ld,kl,rc,oc),o=r.objectStore(ld);return[yield hr(o.get(e.rom)),yield t.loadMemory(r,e.id),yield t.loadState(r,e.id)]})()}deleteStateForSession(e){var t=this;return(0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(kl);r.delete(e.id),yield hr(o)})()}addEmptyStorageCard(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(Vs),o=yield hr(r.add(e)),i=yield hr(r.get(o));return t.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(e,t){var r=this;return(0,ae.Z)(function*(){return r.ngZone.runOutsideAngular((0,ae.Z)(function*(){const o=yield r.newTransaction(Vs,Wa),i=o.objectStore(Vs),s=o.objectStore(Wa),a=yield hr(i.add(e)),u=(e.size>>>13)+(t.length%8192==0?0:1),f=new Uint32Array(2048);for(let y=0;y<u;y++){const k=t.subarray(2048*y,2048*(y+1));y===u-1&&f.set(k);const M=AU(y===u-1?f:k);0!==M&&s.put("number"==typeof M?M:M?.slice(),[a,y])}const m=yield hr(i.get(a));return yield hr(o),r.storageCardChangeEvent.dispatch(m.id),m}))})()}getAllStorageCards(){var e=this;return(0,ae.Z)(function*(){const[t]=yield e.prepareObjectStore(Vs);return hr(t.getAll())})()}getCard(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(Vs);return hr(r.get(e))})()}updateStorageCardPartial(e,t){var r=this;return(0,ae.Z)(function*(){const{storageId:o,size:i,id:s,...a}=t,[u,f]=yield r.prepareObjectStore(Vs),m=yield hr(u.get(e));if(!m)throw new Error(`no card with id ${e}`);const y={...m,...a};u.put(y),yield hr(f),r.storageCardChangeEvent.dispatch(e)})()}deleteStorageCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(Vs,Wa);t.storageCardContext.assertOwnership(e,Ir.none);const o=r.objectStore(Vs),i=r.objectStore(Wa);o.delete(e),i.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),yield hr(r),t.storageCardChangeEvent.dispatch(e)})()}loadCardData(e,t,r){var o=this;return this.ngZone.runOutsideAngular((0,ae.Z)(function*(){const i=yield o.newTransaction(Vs,Wa);o.storageCardContext.assertOwnership(e,r);const s=i.objectStore(Wa);yield new Promise(function(){var a=(0,ae.Z)(function*(u,f){const m=s.openCursor(IDBKeyRange.bound([e,0],[e+1,0],!1,!0));m.onsuccess=()=>{const y=m.result;if(!y)return u();let k=y.value;const[,M]=y.key;"number"==typeof k?t.subarray(2048*M,2048*(M+1)).fill(k):(2048*(M+1)>t.length&&(k=k.subarray(0,2048-2048*(M+1)+t.length)),t.subarray(2048*M,2048*(M+1)).set(k)),y.continue()},m.onerror=()=>f(new cd(m.error?.message))});return function(u,f){return a.apply(this,arguments)}}())}))}updateCardData(e,t,r,o){var i=this;return this.ngZone.runOutsideAngular((0,ae.Z)(function*(){const s=yield i.newTransaction(Vs,Wa);i.storageCardContext.assertOwnership(e,o);const a=s.objectStore(Vs),u=s.objectStore(Wa),f=yield hr(a.get(e));if(!f)throw new Error(`no card with ID ${e}`);if(t.length!==f.size>>>2)throw new Error("data size mismatch");const m=(f.size>>>13)+(f.size%8192>0?1:0);if((m>>>3)+(m%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let y=0;for(let k=0;k<r.length;k++)for(let M=1;M<256&&!(y>=m);M<<=1)r[k]&M&&u.put(t.subarray(2048*y,2048*(y+1)).slice(),[f.id,y]),y++;yield hr(s)}))}kvsGet(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(Jm);return hr(r.get(e))})()}kvsSet(e){var t=this;return(0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Jm);for(const i of Object.keys(e))r.put(e[i],i);yield hr(o)})()}kvsLoad(){var e=this;return(0,ae.Z)(function*(){const[t]=yield e.prepareObjectStore(Jm);return new Promise((r,o)=>{const i={},s=t.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new cd(s.error?.message))})})()}kvsDelete(e){var t=this;return(0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Jm);r.delete(e),yield hr(o)})()}acquireLock(e){var t=this;return(0,ae.Z)(function*(){if(t.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield hr(e.objectStore(lp).get(0)))!==bx)throw e.abort(),e.db.close(),Eb})()}newTransaction(...e){var t=this;return(0,ae.Z)(function*(){const r=(yield t.db).transaction([lp,...e],"readwrite",{durability:"relaxed"});return yield t.acquireLock(r),r})()}prepareObjectStore(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(e);return[r.objectStore(e),r]})()}saveState(e,t,r){const o=e.objectStore(kl);r?o.put(r,t):o.delete(t)}deleteState(e,t){e.objectStore(kl).delete(t)}loadState(e,t){return hr(e.objectStore(kl).get(t))}deleteMemory(e,t){const r=e.objectStore(rc),o=e.objectStore(oc);r.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),o.delete(t)}initializeLock(e){return(0,ae.Z)(function*(){const t=e.transaction(lp,"readwrite");yield hr(t.objectStore(lp).put(bx,0))})()}setupDb(){var e=this;return(0,ae.Z)(function*(){const t=setTimeout(()=>ma&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(t),o&&void 0!==o.version&&o.version>9)throw vx}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new cd("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,ae.Z)(function*(u){clearTimeout(t),u.oldVersion<1&&function LU(n){n.createObjectStore(eg,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),n.createObjectStore("state")}(s.result),u.oldVersion<2&&function $U(n,e){if(!e)throw new Error("no version change transaction!");n.objectStoreNames.contains("rom")&&n.deleteObjectStore("rom"),n.objectStoreNames.contains(gb)&&n.deleteObjectStore(gb),e.objectStore(eg).clear(),n.createObjectStore("rom"),n.createObjectStore(gb),n.createObjectStore("kvs")}(s.result,s.transaction),u.oldVersion<4&&(yield function BU(n,e){return _b.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<5&&(yield function VU(n,e){return yb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<6&&(yield function jU(n,e){return vb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<7&&(yield function UU(n,e){return bb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<8&&(yield function HU(n,e){return Cb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<9&&(yield function GU(n,e){return wb.apply(this,arguments)}(s.result,s.transaction))});return function(u){return a.apply(this,arguments)}}()});return yield e.initializeLock(r),r}finally{clearTimeout(t)}})()}requestPersistentStorage(){return(0,ae.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(e){console.warn(e),console.log("failed to request persistent storage")}})()}}Qn.\u0275fac=function(e){return new(e||Qn)(ee(dt),ee(Xs),ee(za))},Qn.\u0275prov=mt({token:Qn,factory:Qn.\u0275fac,providedIn:"root"}),j([xo()],Qn.prototype,"addSession",null),j([xo()],Qn.prototype,"getAllSessions",null),j([xo()],Qn.prototype,"getSession",null),j([xo()],Qn.prototype,"deleteSession",null),j([xo()],Qn.prototype,"updateSessionPartial",null),j([xo()],Qn.prototype,"updateSession",null),j([xo()],Qn.prototype,"loadSession",null),j([xo()],Qn.prototype,"deleteStateForSession",null),j([xo()],Qn.prototype,"addEmptyStorageCard",null),j([xo()],Qn.prototype,"importStorageCard",null),j([xo()],Qn.prototype,"getAllStorageCards",null),j([xo()],Qn.prototype,"getCard",null),j([xo()],Qn.prototype,"updateStorageCardPartial",null),j([xo()],Qn.prototype,"deleteStorageCard",null),j([xo()],Qn.prototype,"loadCardData",null),j([xo()],Qn.prototype,"kvsGet",null),j([xo()],Qn.prototype,"kvsSet",null),j([xo()],Qn.prototype,"kvsDelete",null),j([xo()],Qn.prototype,"newTransaction",null),j([xo()],Qn.prototype,"prepareObjectStore",null),j([xo()],Qn.prototype,"initializeLock",null),j([xo()],Qn.prototype,"setupDb",null);const Cx={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};class li{constructor(e){var t=this;this.storageService=e,this.set=r=>this.storageMutex.runExclusive((0,ae.Z)(function*(){yield t.storageService.kvsSet(r);for(const o of Object.keys(r))t.rawKvs[o]=r[o];t.updateEvent.dispatch()})),this.updateEvent=new qo.j,this.mutex=new Ga,this.storageMutex=new Ga,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,ae.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,ae.Z)(function*(){const t=e;try{const r={...Cx,...yield e.storageService.kvsLoad()};e.rawKvs=r,e.kvsProxy=new Proxy(r,{set:(o,i,s)=>(o[i]=s,t.storageMutex.runExclusive(()=>t.storageService.kvsSet({[i]:s})),t.updateEvent.dispatch(),!0),deleteProperty:(o,i)=>(delete o[i],t.storageMutex.runExclusive(()=>t.storageService.kvsDelete(i)),t.updateEvent.dispatch(),!0)})}catch(r){console.error("failed to load KVS"),console.error(r),e.kvsProxy={...Cx}}})()}}li.\u0275fac=function(e){return new(e||li)(ee(Qn))},li.\u0275prov=mt({token:li,factory:li.\u0275fac,providedIn:"root"});class Gc{constructor(e,t){var r=this;this.kvsService=e,this.alertService=t,this.serviceWorkerKeepalive=(0,ae.Z)(function*(){if(navigator.serviceWorker)try{const o=yield navigator.serviceWorker.getRegistration();o?.active?.postMessage&&o.active.postMessage({})}catch{}setTimeout(r.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(ma||cx)&&this.installationMode===ec.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return ma&&lx?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ma?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return ma&&lx?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ma?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?ec.pwa:document.referrer.startsWith("android-app://")?ec.twa:window.matchMedia("(display-mode: standalone)").matches?ec.pwa:ec.web}}function r6(n,e){1&n&&(oe(0,"div",6),ct(1,"ion-spinner"),J())}Gc.\u0275fac=function(e){return new(e||Gc)(ee(li),ee(to))},Gc.\u0275prov=mt({token:Gc,factory:Gc.\u0275fac,providedIn:"root"});class ga{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}ga.\u0275fac=function(e){return new(e||ga)(C(Ss))},ga.\u0275cmp=ut({type:ga,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ye(3),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.modalController.dismiss()}),Ye(6,"Close"),J()()()(),oe(7,"ion-content",3),Qt(8,r6,2,0,"div",4),oe(9,"markdown",5),st("load",function(){return t.loading=!1}),J()()),2&e&&(Xe(3),Os(t.title),Xe(5),rt("ngIf",t.loading),Xe(1),rt("src",t.url))},dependencies:[hi,pb,ns,rs,os,is,ep,as,ls],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]});const zc="1.8.0-b74838b (preview)";var ng=A(9897);const rg=((n,e)=>{let t=null;return()=>{if(null!==t)return t;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return t=(n=>{const e=new Map([[0,()=>{}]]),t=new Map([[0,()=>{}]]),r=new Map,o=new Worker(n);return o.addEventListener("message",({data:f})=>{if((n=>void 0!==n.method&&"call"===n.method)(f)){const{params:{timerId:m,timerType:y}}=f;if("interval"===y){const k=e.get(m);if("number"==typeof k){const M=r.get(k);if(void 0===M||M.timerId!==m||M.timerType!==y)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k()}}else if("timeout"===y){const k=t.get(m);if("number"==typeof k){const M=r.get(k);if(void 0===M||M.timerId!==m||M.timerType!==y)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k(),t.delete(m)}}}else{if(!(n=>null===n.error&&"number"==typeof n.id)(f)){const{error:{message:m}}=f;throw new Error(m)}{const{id:m}=f,y=r.get(m);if(void 0===y)throw new Error("The timer is in an undefined state.");const{timerId:k,timerType:M}=y;r.delete(m),"interval"===M?e.delete(k):t.delete(k)}}}),{clearInterval:f=>{const m=(0,ng.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"interval"}),e.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const m=(0,ng.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"timeout"}),t.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,m)=>{const y=(0,ng.generateUniqueNumber)(e);return e.set(y,()=>{f(),"function"==typeof e.get(y)&&o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:y,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:y,timerType:"interval"}}),y},setTimeout:(f,m)=>{const y=(0,ng.generateUniqueNumber)(t);return t.set(y,f),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:y,timerType:"timeout"}}),y}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),t}})();var ic=(()=>{return(n=ic||(ic={}))[n.animationFrame=0]="animationFrame",n[n.timeout=1]="timeout",ic;var n})();class Sx{constructor(e){this.callback=e}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(e=>{this.handle=void 0,this.callback(e)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return ic.animationFrame}}class c6{constructor(e,t=60){this.callback=e,this.fps=t}schedule(){if(void 0!==this.handle)return;const e=performance.now(),t=1e3*Math.ceil(e/1e3*this.fps)/this.fps;this.handle=((n,e)=>rg().setTimeout(n,e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(t-e,0))}cancel(){var n;void 0!==this.handle&&(n=this.handle,rg().clearTimeout(n),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return ic.timeout}}const u6=[135,135,105],d6=[0,0,0],sc=new Array(16).fill(0).map((n,e)=>d6.map((t,r)=>Math.floor((e*t+(15-e)*u6[r])/15))).map(([n,e,t])=>4278190080|t<<16|e<<8|n),Db=sc.map(n=>"#"+(16777215&n).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var ie=(()=>{return(n=ie||(ie={})).palmPilot="PalmPilot",n.pilot="Pilot",n.iii="PalmIII",n.palmVx="PalmVx",n.palmV="PalmV",n.palmVII="PalmVII",n.palmVIIEZ="PalmVIIEZ",n.palmVIIx="PalmVIIx",n.iiic="PalmIIIc",n.iiix="PalmIIIx",n.iiixe="PalmIIIxe",n.iiie="PalmIIIe",n.m500="PalmM500",n.m505="PalmM505",n.m515="PalmM515",n.m520="PalmM520",n.m100="PalmM100",n.m105="PalmM105",n.m125="PalmM125",n.m130="PalmM130",n.i705="Palmi705",n.i710="PalmI710",n.handera330="HandEra330",n.handera330c="HandEra330c",n.pegS300="PEG-S300",n.pegS320="PEG-S320",n.pegS500c="PEG-S500C",n.pegT400="PEG-T400",n.pegN600c="PEG-N600C/N610C",n.pegT600c="PEG-T600",n.pegN700c="PEG-N700C/N710C",n.pegT650c="YSX1230",n.pegNR70="NR70",n.acerS11="Acer-S11",ie;var n})(),ac=(()=>{return(n=ac||(ac={})).sdcard="sdcard",n.memorystick="memorystick",n.none="none",ac;var n})();function cp(n){switch(n){case ie.i710:case ie.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.handera330:case ie.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case ie.pegS300:case ie.pegS320:case ie.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case ie.pegT600c:case ie.pegT400:case ie.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case ie.pegN600c:case ie.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case ie.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function Ib(n){switch(n){case ie.pilot:case ie.palmPilot:case ie.iii:case ie.palmV:case ie.palmVx:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.m125:case ie.m500:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:case ie.i705:case ie.handera330:case ie.pegS300:case ie.pegS320:case ie.pegT400:case ie.acerS11:return!1;default:return!0}}function Ex(n){switch(n){case ie.pilot:return"Pilot";case ie.palmPilot:return"Palm Pilot";case ie.iii:return"Palm III";case ie.m500:return"Palm m500";case ie.m505:return"Palm m505";case ie.m515:return"Palm m515";case ie.m520:return"Palm m520";case ie.palmVx:return"Palm Vx";case ie.iiix:return"Palm IIIx";case ie.iiixe:return"Palm IIIxe";case ie.iiie:return"Palm IIIe";case ie.palmV:return"Palm V";case ie.palmVII:return"Palm VII";case ie.palmVIIEZ:return"Palm VII EZ";case ie.palmVIIx:return"Palm VIIx";case ie.iiic:return"Palm IIIc";case ie.m100:return"Palm m100";case ie.m105:return"Palm m105";case ie.m125:return"Palm m125";case ie.m130:return"Palm m130";case ie.i705:return"Palm i705";case ie.i710:return"Tungsten W";case ie.handera330:return"Handera 330";case ie.handera330c:return"Handera 330c";case ie.pegS300:return"Sony PEG-S300";case ie.pegS320:return"Sony PEG-S320";case ie.pegT400:return"Sony PEG-T400 series";case ie.pegN600c:return"Sony PEG-N600C series";case ie.pegT600c:return"Sony PEG-T600C series";case ie.pegN700c:return"Sony PEG-N700C series";case ie.pegT650c:return"Sony PEG-T650C series";case ie.pegNR70:return"Sony PEG-NR70 series";case ie.pegS500c:return"Sony PEG-S500C series";case ie.acerS11:return"Acer S1x series";default:throw new Error("bad device ID")}}function Dx(n){switch(n){case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:return ac.sdcard;case ie.pegS300:case ie.pegS500c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.pegT650c:case ie.pegNR70:case ie.acerS11:return ac.memorystick;default:return ac.none}}class Ix{constructor(e,t){this.queue=new Array(e).fill(0),this.reset(t)}reset(e=0){this.next=1,this.size=1,this.queue[0]=e}push(e){return this.queue[this.next]=e,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let e=0;for(let t=0;t<this.size;t++)e+=this.queue[t];return e/this.size}}class h6{constructor(e){this.start=0,this.size=0,this.buffer=new Array(e)}push(e){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=e:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}pop(){if(0===this.size)return;const e=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,e}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(e){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class C6{constructor(){this.onPwmUpdate=e=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(e):this.pendingPwmUpdates.push(e)},this.advanceEmulation=e=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||e<this.clockEmulator)return;const t=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),e-this.clockEmulator>1e3/30&&(this.clockEmulator=e-1e3/30);const o=(e-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,u=performance.now()-i;if(this.clockEmulator+=Math.max(a,u),this.speedAverage.push(a/(u>0?u:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!t)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||m!==this.uiInitialized){const y=this.powerOff;this.powerOff=f,this.uiInitialized=m,y!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}m&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(e,s)},this.newFrameEvent=new qo.j,this.pwmUpdateEvent=new qo.j,this.emulationStateChangeEvent=new qo.j,this.powerOffChangeEvent=new qo.j,this.deviceId=ie.m515,this.clockEmulator=0,this.scheduler=new Sx(e=>this.onSchedule(e)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new h6(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new Ix(20),this.timePerFrameAverage=new Ix(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(e,t,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=cp(this.deviceId);e=this.transformSilkscreenX(e,i),t=this.transformSilkscreenY(t,i)}this.cloudpilotInstance.queuePenMove(Math.floor(e),Math.floor(t)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(e)}handleButtonUp(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(e)}handleKeyDown(e,t=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(e,t)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(e,t){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(e,t,r,o,i){let s=!1;return!!e.initializeSession(t,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=e.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&e.loadState(i),e.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),e.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=e,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=e.isPowerOff(),this.uiInitialized=e.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const e=cp(this.deviceId);this.canvas.width=this.canvasTmp.width=e.width,this.canvas.height=this.canvasTmp.height=e.height;const t=this.canvas.getContext("2d");if(!t)throw new Error("get a new browser");this.context=t;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const e=this.timePerFrameAverage.calculateAverage();return e&&1e3/e}transformSilkscreenX(e,t){return void 0===t.silkscreenOvershoot?e:(e-t.width/2)/(t.width/(t.width+2*t.silkscreenOvershoot))+t.width/2}transformSilkscreenY(e,t){return void 0===t.siklscreenShift?e:e+t.siklscreenShift}setRunning(e){e!==this.running&&(this.running=e,this.emulationStateChangeEvent.dispatch(e))}updateEmulationSpeed(e){if(e>=1&&this.emulationSpeed>=1)return;const t=Math.min(Math.max(Math.floor(10*e)/10,.1),1);this.emulationSpeed=t<=this.emulationSpeed||e-t>=.05?t:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(e){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&e-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=e),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(e)},0)),this.timePerFrameAverage.push(Math.max(0,e-this.timestampLastFrame)),this.timestampLastFrame=e),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===ic.animationFrame?new Sx(e=>this.onSchedule(e)):new c6(e=>this.onSchedule(e))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const e=this.getConfiguredHotsyncName();void 0===e?this.updateConfiguredHotsyncName(this.deviceHotsyncName):e!==this.deviceHotsyncName&&e.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(e),this.deviceHotsyncName=e)}clearCanvas(){const e=this.deviceId,t=cp(e);this.context.beginPath(),this.context.rect(0,0,t.width,t.height),this.context.fillStyle=Ib(e)?"white":Db[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const e=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!e.hasChanges)return;if(e.lines*e.scaleY===this.canvas.height&&e.lineWidth*e.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==e.lineWidth||this.imageData.height!==e.lines)&&(this.imageData=new ImageData(e.lineWidth,e.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(e.bpp){case 1:{const o=sc[15],i=sc[0];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=e.buffer[u+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[sc[15&o],sc[o>>>4&15],sc[o>>>8&15],sc[o>>>12&15]];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=i[e.buffer[u+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=e.firstDirtyLine;i<=e.lastDirtyLine;i++){const s=i*e.bytesPerLine;for(let a=e.margin;a<e.lineWidth+e.margin;a++)r[o++]=sc[e.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(e.buffer.buffer,e.buffer.byteOffset,e.buffer.byteLength>>>2);if(0===e.margin)r.subarray(0,e.lineWidth*(e.lastDirtyLine-e.firstDirtyLine+1)).set(o.subarray(e.firstDirtyLine*e.lineWidth,e.lineWidth*(e.lastDirtyLine+1)));else{let i=0;for(let s=e.firstDirtyLine;s<=e.lastDirtyLine;s++){let a=s*(e.bytesPerLine>>>2)+e.margin;for(let u=0;u<e.lineWidth;u++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const t=1!==e.scaleX||1!==e.scaleY;(t?this.contextTmp:this.context).putImageData(this.imageData,0,e.firstDirtyLine,0,0,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1),t&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,e.firstDirtyLine,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1,0,e.firstDirtyLine*e.scaleY,e.lineWidth*e.scaleX,(e.lastDirtyLine-e.firstDirtyLine+1)*e.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class w6{constructor(e,t){this.timeoutRemaining=e,this.cb=t,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,e)}increase(e){this.timeoutRemaining+=e}cancel(){clearTimeout(this.handle)}}const D6=new Error("transaction timeout"),Mx=new Error("session does not match emulation");class Za{constructor(e,t,r,o,i){var s=this;this.storageService=e,this.emulationState=t,this.errorService=r,this.storageCardContext=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,ae.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new qo.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,t){var r=this;return(0,ae.Z)(function*(){r.errorService.hasFatalError()||(r.sessionId=e.id,r.dirtyPages=void 0,r.pages=void 0,r.state=void 0,r.db=yield r.storageService.getDb(),r.cloudpilot=t,r.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,ae.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(t){if(console.error("snapshot error",t),t===Mx)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),t;if(t===Eb)throw e.errorService.fatalPageLockLost(),t;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),t}})()}triggerSnapshotOnce(){var e=this;return(0,ae.Z)(function*(){const t=e.db.transaction([rc,oc,kl,Wa,Vs,lp],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(t),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw Mx;let r;const o=e.cloudpilot.getMountedKey();o&&(r=yield hr(t.objectStore(Vs).index("storageId").get(o)));const i=yield new Promise((s,a)=>{let u=!1;const f=performance.now();let m=0,y=0,k=0,M=new w6(500,()=>{u=!0;try{t.abort()}catch{}a(D6)});t.oncomplete=(0,ae.Z)(function*(){M.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),s({timestamp:Date.now(),pages:k,timeBlocking:y-m,timeTotal:performance.now()-f})}),t.onerror=()=>{M.cancel(),a(new Error(t.error?.message))};try{m=performance.now(),k=e.saveDirtyMemory(t,M),r&&(k+=e.saveDirtyStorage(r,t,M)),e.saveSession(t),y=performance.now()}catch(K){throw u||(M.cancel(),t.abort()),K}});e.snapshotEvent.dispatch(i)})()}saveDirtyMemory(e,t){let r=0;const o=e.objectStore(rc),i=e.objectStore(oc),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let u=0;if(!this.dirtyPages||!this.pages){const m=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(m);for(let y=0;y<m;y++)this.pages[y]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let m=0;m<s.length;m++)if(this.dirtyPages[m]|=s[m],s[m]=0,0!==this.dirtyPages[m])for(let y=1;y<256&&!(r>=this.pages.length);y<<=1){if(this.dirtyPages[m]&y){const k=px(a.subarray(256*r,256*(r+1)));"number"==typeof k?o.put(k,[this.sessionId,r]):(this.pages[r].set(k),o.put(this.pages[r],[this.sessionId,r])),t.increase(.5),u++}r++}else r+=8;return u}saveDirtyStorage(e,t,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Ir.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,u=0;const f=t.objectStore(Wa),m=(i.length>>11)+(i.length%2048>0?1:0);for(let y=0;y<o.length;y++)if(this.cardDirtyPages[y]|=o[y],o[y]=0,0!==this.cardDirtyPages[y])for(let k=1;k<256&&!(s>=m);k<<=1){if(this.cardDirtyPages[y]&k){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const M=this.cardPagePool[a++];M.set(i.subarray(2048*s,2048*(s+1))),f.put(M,[e.id,s]),r.increase(4),u++}s++}else s+=8;return 8*u}saveSession(e){const t=e.objectStore(kl);if(this.cloudpilot.saveState()){const r=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(r.length)),this.state.set(r),t.put(this.state,this.sessionId)}else console.log("save state failed"),t.delete(this.sessionId)}}function I6(n,e){1&n&&(oe(0,"p",11),Ye(1," ERROR: URL must be served via HTTPS. "),J())}function k6(n){if(!n.value)return{url:"URL empty"};let e;try{e=new(ju())(n.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==e.protocol?{url:"mixed content"}:null}Za.\u0275fac=function(e){return new(e||Za)(ee(Qn),ee(Es),ee(Xs),ee(za),ee(dt))},Za.\u0275prov=mt({token:Za,factory:Za.\u0275fac,providedIn:"root"});class up{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(ju())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const t=new(ju())(e);return"https:"===location.protocol&&"https:"!==t.protocol}catch{}return!1}createFormGroup(){this.formGroup=new dm({url:new mi("",k6)})}}function og(n){const e=new Date;return`${n}_${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}-${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}${e.getSeconds().toString().padStart(2,"0")}`}function Tx(n){return`${og(n.name)}.bin`}function Ax(n,e){return`backup_${og(n.name)}${e?"_with_rom":""}.zip`}function kb(n,e=3){return 0===n.length?"":1===n.length?n[0]:`${n.slice(0,n.length>e?e:n.length-1).join(", ")} and ${n.length>e?n.length-e+" more files":n[n.length-1]}`}function Px(n){const{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=n;return{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}up.\u0275fac=function(e){return new(e||up)},up.\u0275cmp=ut({type:up,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ye(3,"Enter download URL"),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.continue()}),Ye(6,"OK"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),Ye(9,"Cancel"),J()()()(),oe(10,"ion-content",5)(11,"form",6),st("keydown",function(o){return t.formKeyDown(o)}),oe(12,"p"),Ye(13," Please enter the URL from which to download: "),J(),oe(14,"ion-item",7)(15,"ion-label",8),Ye(16,"URL"),J(),ct(17,"ion-input",9),J(),Qt(18,I6,2,0,"p",10),oe(19,"p"),Ye(20," Note that the remote server needs to support the CORS protocol. "),J()()()),2&e&&(Xe(5),rt("disabled",t.formGroup.invalid),Xe(6),rt("formGroup",t.formGroup),Xe(7),rt("ngIf",t.isMixedContent))},dependencies:[hi,ns,rs,os,is,Dl,ai,ss,as,ls,El,vl,_l,yl,pa,Ba],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]});class dp{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new dm({username:new mi(e?.username??""),password:new mi(e?.password??"")})}}dp.\u0275fac=function(e){return new(e||dp)(C(li))},dp.\u0275cmp=ut({type:dp,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ye(3,"Authenticate"),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.saveAndContinue()}),Ye(6,"OK"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",2),st("click",function(){return t.onCancel()}),Ye(9,"Cancel"),J()()()(),oe(10,"ion-content",4)(11,"form",5),st("keydown",function(o){return t.formKeyDown(o)}),oe(12,"p"),Ye(13," The server requires authentication. "),J(),oe(14,"ion-item",6)(15,"ion-label",7),Ye(16,"Username"),J(),ct(17,"ion-input",8),J(),oe(18,"ion-item",6)(19,"ion-label",7),Ye(20,"Password"),J(),ct(21,"ion-input",9),J()()()),2&e&&(Xe(11),rt("formGroup",t.formGroup))},dependencies:[ns,rs,os,is,Dl,ai,ss,as,ls,El,vl,_l,yl,pa,Ba],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]});class Wc{constructor(e,t,r){this.loadingController=e,this.kvsService=t,this.modalController=r}fetch(e,t){var r=this;return(0,ae.Z)(function*(){let o=t?.loaderDelay;const i=void 0===t?.timeout?5e3:t?.timeout,s=new(ju())("string"==typeof e?e:e.url);let a,u,f=!1;for(;;)try{void 0!==o&&o>=0&&!a&&(a=yield r.loadingController.create({message:"Loading..."}),u=window.setTimeout(()=>a.present(),o));const m=r.kvsService.kvs.credentials[s.origin],y=new AbortController,k=window.setTimeout(()=>y.abort(),i),M=yield fetch(e,{...r.requestInit(t),signal:y.signal,headers:{...t?.headers||{},...f&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(k),401===M.status){if(!f&&m){f=!0;continue}if(a&&(a.dismiss(),clearTimeout(u),o=0,a=void 0),f=!0,yield r.authenticate(s.origin))continue}return M}finally{a&&(yield a.dismiss()),clearTimeout(u)}})()}requestInit(e){if(!e)return;const{timeout:t,loaderDelay:r,...o}=e;return o}authenticate(e){var t=this;return(0,ae.Z)(function*(){const r=yield new Promise(o=>t.modalController.create({component:dp,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>o(!0),onCancel:()=>o(!1)}}).then(i=>i.present()));return t.modalController.dismiss(),r})()}}Wc.\u0275fac=function(e){return new(e||Wc)(ee(Ql),ee(li),ee(Ss))},Wc.\u0275prov=mt({token:Wc,factory:Wc.\u0275fac,providedIn:"root"});var T6=A(3272),A6=A.n(T6);function xb(n){const e=(n>>>13)+(n%8192>0?1:0);return(e>>>3)+(e%8>0?1:0)}const Rx=[ie.palmPilot,ie.pilot,ie.iii,ie.palmVx,ie.palmV,ie.palmVII,ie.palmVIIEZ,ie.palmVIIx,ie.iiixe,ie.iiix,ie.iiie,ie.m500,ie.m505,ie.m515,ie.m520,ie.iiic,ie.m100,ie.m105,ie.m125,ie.m130,ie.i705,ie.i710,ie.handera330,ie.handera330c,ie.pegS300,ie.pegS320,ie.pegS500c,ie.pegT400,ie.pegN600c,ie.pegT600c,ie.pegN700c,ie.pegT650c,ie.pegNR70,ie.acerS11];function qt(){return(n,e,t)=>{const r=t.value;return t.value=function(o,i){return this.guard(()=>r.call(this,o,i))},t}}class Ut{constructor(e){this.module=e,this.fatalErrorEvent=new qo.j,this.pwmUpdateEvent=new qo.j,this.proxyDisconnectEvent=new qo.j,this.amIdead=!1,this.cloudpilot=new e.Cloudpilot,this.cloudpilot.RegisterPwmHandler(e.addFunction((t,r)=>this.pwmUpdateEvent.dispatch({frequency:t,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(e.addFunction(t=>this.proxyDisconnectEvent.dispatch(e.UTF8ToString(t)),"vi"))}static create(e){return(0,ae.Z)(function*(){return new Ut(yield A6()({print:t=>console.log(t),printErr:t=>console.error(t),..."string"==typeof e?{locateFile:()=>e}:{},..."function"==typeof e?{instantiateWasm:e}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(e){const t=this.copyIn(e),r=new this.module.RomInfo(t,e.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:Rx.filter(r.Supports.bind(r))}),this.cloudpilot.Free(t),this.module.destroy(r),o}initializeSession(e,t){const r=this.copyIn(e),o=this.cloudpilot.InitializeSession(r,e.length,t);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(e){return this.cloudpilot.RunEmulation(e)}getFrame(){const e=this.cloudpilot.CopyFrame(),t=this.module.getPointer(e.GetBuffer());return{bpp:e.GetBpp(),bytesPerLine:e.GetBytesPerLine(),lines:e.GetLines(),lineWidth:e.GetLineWidth(),margin:e.GetMargin(),firstDirtyLine:e.GetFirstDirtyLine(),lastDirtyLine:e.GetLastDirtyLine(),hasChanges:e.GetHasChanges(),scaleX:e.GetScaleX(),scaleY:e.GetScaleY(),buffer:this.module.HEAPU8.subarray(t,t+e.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(e){return 1024*this.cloudpilot.MinMemoryForDevice(e)}framebufferSizeForDevice(e){return 1024*this.cloudpilot.FramebufferSizeForDevice(e)}totalMemorySizeForDevice(e){return 1024*this.cloudpilot.TotalMemoryForDevice(e)}queuePenMove(e,t){this.cloudpilot.QueuePenMove(e,t)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(e){this.cloudpilot.QueueButtonDown(e)}queueButtonUp(e){this.cloudpilot.QueueButtonUp(e)}queueKeyboardEvent(e,t){this.cloudpilot.QueueKeyboardEvent(e,t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(e){const t=this.copyIn(e),r=this.cloudpilot.InstallDb(t,e.length);return this.cloudpilot.Free(t),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetMemorySize())}getMemory32(){let e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&e)throw new Error("unaligned pointer");return e>>>=2,this.module.HEAPU32.subarray(e,e+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const e=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),t=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(e,e+((t>>>13)+(t%8192==0?0:1)))}loadMemory(e){const t=this.getMemory32();if((()=>{if(e.length!==t.length||e.length<256)return!1;for(let o=256;o>0;o--){if(e[e.length-o]!==t[t.length-o])return!1;if(4294967295===t[t.length-o])break}return!0})())return t.set(e),!0;{const o=this.copyIn32(e),i=this.cloudpilot.ImportMemoryImage(o,e.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const e=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetRomSize())}getSavestate(){const e=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(e){const t=this.copyIn(e),r=this.cloudpilot.LoadState(t,e.length);return this.cloudpilot.Free(t),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(e){this.cloudpilot.SetClockFactor(e)}setHotsyncName(e){this.cloudpilot.SetHotsyncName(e)}backup(e){var t=this;return(0,ae.Z)(function*(){const r=t.guard(()=>t.cloudpilot.StartBackup());try{return yield e(t.wrap(r))}finally{t.module.destroy(r)}})()}getArchive(e){const t=e.GetArchiveSize();return this.copyOut(e.GetArchivePtr(),t)}setClipboardIntegration(e){this.cloudpilot.SetClipboardIntegration(e)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(e){this.cloudpilot.SetNetworkRedirection(e)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(e){return this.copyIn(e)}freeBuffer(e){this.cloudpilot.Free(e)}setHotsyncNameManagement(e){this.cloudpilot.SetHotsyncNameManagement(e)}resolveBuffer(e,t){const r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+t)}withZipfileWalker(e,t){var r=this;return(0,ae.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(e),s=new r.module.ZipfileWalker(e.length,i);return r.cloudpilot.Free(i),s});try{return yield t(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(e,t){const r=this.guard(()=>{const o=this.copyIn(e),i=new this.module.ZipfileWalker(e.length,o);return this.cloudpilot.Free(o),i});try{return t(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(e){const t=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(e.rom),i=e.memory?this.copyIn(e.memory):r,s=void 0!==e.savestate?this.copyIn(e.savestate):r;let a=r,u=0;if(void 0!==e.metadata){const m=(new TextEncoder).encode(JSON.stringify(e.metadata));u=m.length,a=this.copyIn(m)}t.SetRomImage(o,e.rom.length),t.SetMemoryImage(i,e.memory?.length||0),t.SetDeviceId(e.deviceId),t.SetSavestate(s,e.savestate?.length||0),t.SetMetadata(a,u);const f=t.Serialize()?this.copyOut(t.GetSerializedImage(),t.GetSerializedImageSize()):void 0;return this.module.destroy(t),[o,i,s,a].forEach(m=>this.cloudpilot.Free(m)),f}deserializeSessionImage(e){const t=new this.module.SessionImage,r=this.copyIn(e),o=(()=>{if(!t.Deserialize(r,e.length))return;const i=this.copyOut(t.GetRomImage(),t.GetRomImageSize()),s=this.copyOut(t.GetMemoryImage(),t.GetMemoryImageSize()),a=this.copyOut(t.GetSavestate(),t.GetSavestateSize()),u=t.GetDeviceId();if(!Rx.includes(u))return void console.warn(`unsupported device ${u}`);let f;const m=this.copyOut(t.GetMetadata(),t.GetMetadataSize());if(m)try{f=JSON.parse((new TextDecoder).decode(m))}catch(y){console.warn("invalid metadata",y)}return{deviceId:u,rom:i,memory:s,savestate:a,metadata:f,version:t.GetVersion()}})();return this.module.destroy(t),this.cloudpilot.Free(r),o}launchAppByName(e){return this.cloudpilot.LaunchAppByName(e)}launchAppByDbHeader(e){if(e.length<32)return!1;const t=this.copyIn(e.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(t,32);return this.cloudpilot.Free(t),r}deviceSupportsCardSize(e){return this.cloudpilot.DeviceSupportsCardSize(e)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(e,t){return this.cloudpilot.AllocateCard(e,t>>>9)}decompressCard(e,t){const r=this.copyIn(t);let o;try{for(o=new this.module.GunzipContext(r,t.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(e,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(r),o&&this.module.destroy(o)}}getCardData(e){const t=this.module.getPointer(this.cloudpilot.GetCardData(e));if(0!==t)return this.module.HEAPU32.subarray(t>>>2,t+this.cloudpilot.GetCardSize(e)>>2)}getCardDirtyPages(e){const t=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(e));if(0===t)return;const r=xb(this.cloudpilot.GetCardSize(e));return this.module.HEAPU8.subarray(t,t+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(e){return this.cloudpilot.MountCard(e)}removeCard(e){return this.cloudpilot.RemoveCard(e)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(e){return this.cloudpilot.GetSupportLevel(e)}loadSkin(e){const t=new this.module.SkinLoader(e);try{const r=this.module.getPointer(t.GetData());return 0===r?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(r,r+t.GetSize()))}finally{this.module.destroy(t)}}copyIn(e){const t=this.cloudpilot.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}copyIn32(e){const t=this.cloudpilot.Malloc(e.length<<2),r=this.module.getPointer(t);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+e.length).set(e),t}copyOut(e,t){const r=this.module.getPointer(e);return r>0&&t>0?this.module.HEAPU8.subarray(r,r+t).slice():void 0}wrap(e){return new Proxy(e,{get:(t,r)=>{const o=t[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(t,i))}})}guard(e){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return e()}catch(t){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(t instanceof Error?t:new Error("unknown error")),t}}}j([qt()],Ut.prototype,"getRomInfo",null),j([qt()],Ut.prototype,"initializeSession",null),j([qt()],Ut.prototype,"cyclesPerSecond",null),j([qt()],Ut.prototype,"runEmulation",null),j([qt()],Ut.prototype,"getFrame",null),j([qt()],Ut.prototype,"isScreenDirty",null),j([qt()],Ut.prototype,"markScreenClean",null),j([qt()],Ut.prototype,"minRamForDevice",null),j([qt()],Ut.prototype,"framebufferSizeForDevice",null),j([qt()],Ut.prototype,"totalMemorySizeForDevice",null),j([qt()],Ut.prototype,"queuePenMove",null),j([qt()],Ut.prototype,"queuePenUp",null),j([qt()],Ut.prototype,"queueButtonDown",null),j([qt()],Ut.prototype,"queueButtonUp",null),j([qt()],Ut.prototype,"queueKeyboardEvent",null),j([qt()],Ut.prototype,"isPowerOff",null),j([qt()],Ut.prototype,"isUiInitialized",null),j([qt()],Ut.prototype,"isSetupComplete",null),j([qt()],Ut.prototype,"getOSVersion",null),j([qt()],Ut.prototype,"reset",null),j([qt()],Ut.prototype,"resetNoExtensions",null),j([qt()],Ut.prototype,"resetHard",null),j([qt()],Ut.prototype,"installDb",null),j([qt()],Ut.prototype,"getPalette2bitMapping",null),j([qt()],Ut.prototype,"getMemory",null),j([qt()],Ut.prototype,"getMemory32",null),j([qt()],Ut.prototype,"getDirtyPages",null),j([qt()],Ut.prototype,"loadMemory",null),j([qt()],Ut.prototype,"getRomImage",null),j([qt()],Ut.prototype,"getSavestate",null),j([qt()],Ut.prototype,"saveState",null),j([qt()],Ut.prototype,"loadState",null),j([qt()],Ut.prototype,"getHotsyncName",null),j([qt()],Ut.prototype,"setClockFactor",null),j([qt()],Ut.prototype,"setHotsyncName",null),j([qt()],Ut.prototype,"setClipboardIntegration",null),j([qt()],Ut.prototype,"getClipboardIntegration",null),j([qt()],Ut.prototype,"isSuspended",null),j([qt()],Ut.prototype,"getSuspendKind",null),j([qt()],Ut.prototype,"cancelSuspend",null),j([qt()],Ut.prototype,"getSuspendContextClipboardCopy",null),j([qt()],Ut.prototype,"getSuspendContextClipboardPaste",null),j([qt()],Ut.prototype,"setNetworkRedirection",null),j([qt()],Ut.prototype,"getNetworkRedirection",null),j([qt()],Ut.prototype,"getSuspendContextNetworkConnect",null),j([qt()],Ut.prototype,"getSuspendContextNetworkRpc",null),j([qt()],Ut.prototype,"copyBuffer",null),j([qt()],Ut.prototype,"freeBuffer",null),j([qt()],Ut.prototype,"setHotsyncNameManagement",null),j([qt()],Ut.prototype,"resolveBuffer",null),j([qt()],Ut.prototype,"serializeSessionImage",null),j([qt()],Ut.prototype,"deserializeSessionImage",null),j([qt()],Ut.prototype,"launchAppByName",null),j([qt()],Ut.prototype,"launchAppByDbHeader",null),j([qt()],Ut.prototype,"deviceSupportsCardSize",null),j([qt()],Ut.prototype,"clearExternalStorage",null),j([qt()],Ut.prototype,"allocateCard",null),j([qt()],Ut.prototype,"decompressCard",null),j([qt()],Ut.prototype,"getCardData",null),j([qt()],Ut.prototype,"getCardDirtyPages",null),j([qt()],Ut.prototype,"getMountedKey",null),j([qt()],Ut.prototype,"mountCard",null),j([qt()],Ut.prototype,"removeCard",null),j([qt()],Ut.prototype,"remountCards",null),j([qt()],Ut.prototype,"getCardSupportLevel",null),j([qt()],Ut.prototype,"loadSkin",null);class Wi{constructor(){this.cloudpilot=Ut.create()}}Wi.\u0275fac=function(e){return new(e||Wi)},Wi.\u0275prov=mt({token:Wi,factory:Wi.\u0275fac,providedIn:"root"});class js{constructor(e,t,r,o,i,s,a,u){this.storageService=e,this.loadingController=t,this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a,this.cloudpilotService=u}openFile(e){this.openFilesImpl(!1,t=>{t.length>0&&e(t[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,t){"drop"!==e.type||!e.dataTransfer?.files||t(Array.from(e.dataTransfer.files).map(this.readFile.bind(this)))}saveSession(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create({message:"Exporting..."});yield r.present();try{const[o,i,s]=yield t.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);const a={deviceId:e.device,metadata:Px(e),rom:o,memory:i,savestate:s},u=(yield t.cloudpilotService.cloudpilot).serializeSessionImage(a);u?t.saveFile(Tx(e),u):(yield r.dismiss(),t.alertService.errorMessage("Failed to save session."))}finally{r.dismiss()}})()}emergencySaveSession(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});o.style.zIndex="10000000",yield o.present();try{const i=t.getRomImage().slice(),s=t.getMemory().slice(),a=t.saveState()?t.getSavestate().slice():void 0;if(t.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const f={deviceId:e.device,metadata:Px(e),rom:i,memory:s,savestate:a},m=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(f);m&&r.saveFile(Tx(e),m)}finally{o.dismiss()}})()}saveFile(e,t){const r=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=e,i.click()}openUrl(e,t){var r=this;return(0,ae.Z)(function*(){let o;try{o=new(ju())(e)}catch{return void(yield r.alertService.errorMessage(`Invalid URL: ${e}`))}try{const i=yield r.fetchService.fetch(e);if(!i.ok)throw new Error("request failed");const s=i.arrayBuffer().then(a=>new Uint8Array(a));return void t({name:o.pathname.replace(/.*\//,""),getContent:()=>s})}catch{yield r.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,t){var r=this;return(0,ae.Z)(function*(){r.kvsService.kvs.enableRemoteInstall?(yield r.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>r.openFilesLocal(e,t)},{text:"File on remote server",handler:()=>r.queryAndOpenFileRemote(t)},{text:"Cancel"}]})).present():r.openFilesLocal(e,t)})()}queryAndOpenFileRemote(e){var t=this;return(0,ae.Z)(function*(){let r;try{r=yield new Promise((o,i)=>t.modalController.create({component:up,backdropDismiss:!1,componentProps:{onContinue:o,onCancel:i}}).then(s=>s.present()))}catch{return}finally{t.modalController.dismiss()}yield t.openUrl(r,o=>e([o]))})()}openFilesLocal(e,t){var r=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,ae.Z)(function*(i){const s=i.target;s?.files&&t(Array.from(s.files).map(r.readFile.bind(r)))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){let t,r=function(){var o=(0,ae.Z)(function*(){return t||(t=new Promise((i,s)=>{const a=new FileReader;a.onload=()=>i(new Uint8Array(a.result)),a.onerror=()=>{console.warn(a.error),s(a.error)},a.readAsArrayBuffer(e)}),t)});return function(){return o.apply(this,arguments)}}();return{name:e.name,getContent:r}}}js.\u0275fac=function(e){return new(e||js)(ee(Qn),ee(Ql),ee(ip),ee(li),ee(Ss),ee(to),ee(Wc),ee(Wi))},js.\u0275prov=mt({token:js,factory:js.\u0275fac,providedIn:"root"});class lc{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new qo.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}lc.\u0275fac=function(e){return new(e||lc)(ee(dt))},lc.\u0275prov=mt({token:lc,factory:lc.\u0275fac,providedIn:"root"});const ig=new Error("permission denied");class Zc{constructor(e,t){this.alertController=e,this.alertService=t,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var t=this;return(0,ae.Z)(function*(){const r=e.getSuspendContextClipboardCopy(),o=r.GetClipboardContent();try{return yield t.tryCopyDirect(o),void r.Resume()}catch(i){if(i===ig)return r.Cancel(),t.msgPermissionDenied()}try{yield t.tryCopyWithInteraction(o),r.Resume()}catch{yield t.msgCopyFailed(),r.Cancel()}})()}tryCopyDirect(e){var t=this;return(0,ae.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(r){throw(yield t.isPermissionDenied("clipboard-write"))?ig:r}})()}tryCopyWithInteraction(e){var t=this;return new Promise(function(){var r=(0,ae.Z)(function*(o,i){try{const s=yield t.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(a=(0,ae.Z)(function*(){s.dismiss();try{yield navigator.clipboard.writeText(e),o(!0)}catch(u){i(u)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(!1)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePaste(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.tryPaste();e.getSuspendContextClipboardPaste().Resume(r??""),void 0!==r&&(t.clipboardContent=r,t.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,ae.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(t){if(t===ig)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,ae.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(t){throw(yield e.isPermissionDenied("clipboard-read"))?ig:t}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var t=(0,ae.Z)(function*(r,o){try{const i=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,ae.Z)(function*(){i.dismiss();try{r(yield navigator.clipboard.readText())}catch(a){o(a)}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),r(void 0)}}]});i.present()}catch(i){o(i)}var s});return function(r,o){return t.apply(this,arguments)}}())}handlePasteSafari(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(o=(0,ae.Z)(function*(){try{t.clipboardContent=yield navigator.clipboard.readText(),t.lastClipboardReadAt=performance.now(),r.dismiss(),e.Resume(t.clipboardContent)}catch{r.dismiss(),yield t.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return o.apply(this,arguments)})},{text:"Cancel",handler:()=>{r.dismiss(),e.Resume("")}}]});var o;yield r.present()})()}isPermissionDenied(e){return(0,ae.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}Zc.\u0275fac=function(e){return new(e||Zc)(ee(Uc),ee(to))},Zc.\u0275prov=mt({token:Zc,factory:Zc.\u0275fac,providedIn:"root"});const R6="https:"===window.location.protocol?8667:8666,F6=/^[\da-z\-\.]+$/i,O6=/^[\da-z\-\.]+:\d+$/i;function Mb(n){if(!n)return;const e=window.location.protocol;if(n.match(F6))return`${e}//${n}:${R6}`;if(n.match(O6))return`${e}//${n}`;try{const t=new URL(n);if("https:"===t.protocol||"http:"===t.protocol)return t.toString().replace(/\/+$/,"")}catch{}}function N6(n){return void 0!==Mb(n.value)?null:{proxyAddress:"invalid"}}class cc{constructor(e,t,r,o){var i=this;this.kvsService=e,this.alertService=t,this.ngZone=r,this.fetchService=o,this.handleConnect=()=>this.mutex.runExclusive((0,ae.Z)(function*(){i.socket&&i.disconnect(i.socket);const s=Mb(i.kvsService.kvs.proxyServer);if(!s)return yield i.alertService.errorMessage(`Invalid proxy address: ${i.kvsService.kvs.proxyServer}`),void i.cloudpilot.getSuspendContextNetworkConnect().Cancel();const a=yield i.handshake(void 0,500);switch(a.status){case"failed":return void i.onSocketError(void 0);case"version_mismatch":return yield i.alertService.proxyVersionMismatchError(),void i.cancelSuspend();case"success":break;default:throw new Error("unreachable")}i.socket=new WebSocket(`${s.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(a.token)}`),i.socket.binaryType="arraybuffer",i.bindListeners(i.socket),i.ngZone.run(()=>i.connectTimeoutHandle=setTimeout(i.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=Sb(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=s=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(s.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const a=this.cloudpilot.copyBuffer(new Uint8Array(s.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(a,s.data.byteLength),this.cloudpilot.freeBuffer(a),this.resumeEvent.dispatch()},this.onSocketError=s=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",s)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=s=>{s!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new qo.j,this.mutex=new Ga,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,t=-1){var r=this;return(0,ae.Z)(function*(){const o=Mb(e);if(!o)return{status:"failed"};try{const i=yield r.fetchService.fetch(`${o}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!i.ok)return{status:"failed"};const s=yield i.json();return s.version<3||s.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:s.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}cc.\u0275fac=function(e){return new(e||cc)(ee(li),ee(to),ee(dt),ee(Wc))},cc.\u0275prov=mt({token:cc,factory:cc.\u0275fac,providedIn:"root"});class qc{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(t=>e.queueButtonUp(t))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[t,r]of this.buttons)r.timer+=1e3*e,r.timer>250&&(this.cloudpilot.queueButtonUp(t),this.buttons.delete(t))}}qc.\u0275fac=function(e){return new(e||qc)},qc.\u0275prov=mt({token:qc,factory:qc.\u0275fac,providedIn:"root"});class Yc{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}Yc.\u0275fac=function(e){return new(e||Yc)},Yc.\u0275prov=mt({token:Yc,factory:Yc.\u0275fac,providedIn:"root"});var V6=A(9084),Ox=A.n(V6);function Tb(){return(Tb=(0,ae.Z)(function*(n){const e=yield Ab.create();if(e.mkfs(n))return e.getImage()})).apply(this,arguments)}const Nx=function j6(n){const e=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(n)):fetch(n).then(t=>t.arrayBuffer()).then(t=>WebAssembly.compile(t));return function(){var t=(0,ae.Z)(function*(r,o){return o(yield WebAssembly.instantiate(yield e,r))});return function(r,o){return t.apply(this,arguments)}}()}("fstools_web.wasm");class Ab{constructor(e){this.module=e,this.nativeContext=new e.MkfsContext}static create(){return(0,ae.Z)(function*(){return new Ab(yield Ox()({print:e=>console.log(e),printErr:e=>console.error(e),instantiateWasm:Nx}))})()}mkfs(e){return this.nativeContext.Mkfs(e,"card")}getImage(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());if(0!==e&&0!==t)return this.module.HEAPU32.subarray(t>>>2,t+e>>>2)}}class sg{constructor(e,t){this.module=e,this.result=0,this.nativeContext=new e.FsckContext(t>>>9)}static create(e){return(0,ae.Z)(function*(){const t=yield Ox()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:Nx});return new sg(t,e)})()}getImageData(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(t>>>2,t+e>>2)}getDirtyPages(){const e=this.module.getPointer(this.nativeContext.GetDirtyPages()),t=xb(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(e,e+t)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(e){return console.warn("fsck failed",e),this.result=4,this.result}}getResult(){return this.result}}var kr=(()=>{return(n=kr||(kr={})).dirty="dirty",n.clean="clean",n.unformatted="unformatted",n.unfixable="unfixable",kr;var n})(),Ar=(()=>{return(n=Ar||(Ar={})).portrait="portrait",n.landscape90="landscape90",n.landscape270="landscape270",n.portrait180="portrait180",Ar;var n})();class qa{constructor(e,t,r){this.cloudpilotService=e,this.storageService=t,this.loadingController=r,this.sessions=[],this.loading=!0,this.updateMutex=new Ga,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,t,r={}){var o=this;return(0,ae.Z)(function*(){const i={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Ar.portrait,...r,id:-1,name:t,device:e.deviceId,ram:(yield o.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},s=yield o.loadingController.create({message:"Importing..."});yield s.present();const a=yield o.storageService.addSession(i,e.rom,e.memory,e.savestate);return yield o.updateSessionsFromStorage(),yield s.dismiss(),a})()}addSessionFromRom(e,t,r,o={}){var i=this;return(0,ae.Z)(function*(){const s={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Ar.portrait,...o,id:-1,name:t,device:r,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(r)/1024/1024,rom:""},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const u=yield i.storageService.addSession(s,e);return yield i.updateSessionsFromStorage(),yield a.dismiss(),u})()}getSessions(){return this.sessions}deleteSession(e){var t=this;return(0,ae.Z)(function*(){yield t.storageService.deleteSession(e)})()}updateSession(e){var t=this;return(0,ae.Z)(function*(){yield t.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,ae.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,ae.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}}qa.\u0275fac=function(e){return new(e||qa)(ee(Wi),ee(Qn),ee(Ql))},qa.\u0275prov=mt({token:qa,factory:qa.\u0275fac,providedIn:"root"});var H6=A(7971),G6=A.n(H6),Qs=(()=>{return(n=Qs||(Qs={}))[n.success=0]="success",n[n.zipfileError=1]="zipfileError",n[n.ioError=2]="ioError",n[n.cardFull=3]="cardFull",Qs;var n})(),xl=(()=>{return(n=xl||(xl={}))[n.success=0]="success",n[n.ioError=1]="ioError",n[n.cardFull=2]="cardFull",xl;var n})();function z6(n){return{readonly:0!=(1&n),hidden:0!=(2&n),system:0!=(4&n)}}function Lx(n,e){const t=n.GetName(),r=n.GetModifiedTS();return{path:e,name:t,size:n.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:n.IsDirectory(),attributes:z6(n.GetAttributes())}}class Pb{constructor(e){this.module=e,this.vfsNative=new e.Vfs}static create(){return(0,ae.Z)(function*(){return new Pb(yield G6()({print:e=>console.log(e),printErr:e=>console.error(e)}))})()}allocateImage(e){this.vfsNative.AllocateImage(e>>>9)}mountImage(e){return this.vfsNative.MountImage(e)}unmountImage(e){this.vfsNative.UnmountImage(e)}getPendingImage(){const e=this.module.getPointer(this.vfsNative.GetPendingImage()),t=this.vfsNative.GetPendingImageSize();if(0!==e&&0!==t)return this.module.HEAPU32.subarray(e>>>2,e+t>>>2)}getImageInSlot(e){const t=this.module.getPointer(this.vfsNative.GetImage(e)),r=this.vfsNative.GetSize(e);if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getDirtyPagesForSlot(e){const t=this.module.getPointer(this.vfsNative.GetDirtyPages(e));if(0===t)return;const r=xb(this.vfsNative.GetSize(e));return this.module.HEAPU8.subarray(t,t+r)}readdir(e){const t=new this.module.ReaddirContext(e);try{const r=[];for(;0===t.GetStatus();){const o=t.GetEntry();r.push(Lx(o,`${e.replace(/\/*$/,"")}/${o.GetName()}`)),t.Next()}if(2===t.GetStatus()){console.warn(`readdir failed: ${t.GetErrorDescription()}`);const o=t.GetError();return{error:0===o?2:o,reason:t.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(t)}}rename(e,t){return this.vfsNative.RenameFile(e,t)}chmod(e,t){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(t.hidden,2),i(t.readonly,1),i(t.system,4),this.vfsNative.ChmodFile(e,r,o)}stat(e){const t=this.vfsNative.StatFile(e);return 0!==t?{result:t,entry:void 0}:{entry:Lx(this.vfsNative.GetEntry(),e),result:t}}bytesFree(e){return this.vfsNative.BytesFree(e)}bytesTotal(e){return this.vfsNative.BytesTotal(e)}readFile(e){if(!this.vfsNative.ReadFile(e))return;const t=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(t,t+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(e){return this.vfsNative.UnlinkFile(e)}mkdir(e){return this.vfsNative.Mkdir(e)}switchSlot(e){this.vfsNative.SwitchSlot(e)}createZipArchive({files:e,directories:t,prefix:r}){var o=this;return(0,ae.Z)(function*(){const i=new o.module.CreateZipContext(r,25),s=[];try{for(e&&e.forEach(m=>i.AddFile(m)),t&&t.forEach(m=>i.AddDirectory(m));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(m=>setTimeout(m,0)))}let a;const u=o.module.getPointer(i.GetZipContent()),f=i.GetZipSize();return 0!==u&&0!==f&&(a=o.module.HEAPU8.subarray(u,u+f).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(e){var t=this;return(0,ae.Z)(function*(){const r=new t.module.DeleteRecursiveContext(25);try{for(e.forEach(o=>r.AddFile(o));1===r.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{t.module.destroy(r)}})()}writeFile(e,t){const r=this.copyIn(t);try{return this.vfsNative.WriteFile(e,t.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=o.copyIn(t),s=new o.module.UnzipContext(25,e,i,t.length),a=u=>({result:u,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),s.GetState()){case 1:return a(Qs.success);case-3:return a(Qs.cardFull);case-1:return a(Qs.ioError);case-2:return a(Qs.zipfileError);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(e,t,r,o,i){var s=this;return(0,ae.Z)(function*(){const a=new s.module.PasteContext(25,e,t);r.forEach(u=>a.AddFile(u)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),a.GetState()){case 1:return xl.success;case-2:return xl.cardFull;case-1:return xl.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(e){const t=this.vfsNative.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}}var W6=A(5541),$x=A.n(W6);function Bx(n){return 0===n.length?n:n[0].toUpperCase()+n.substring(1)}class Js{constructor(e,t,r,o,i,s){this.storageService=e,this.storageCardContext=t,this.fileService=r,this.loadingController=o,this.alertController=i,this.alertService=s,this.onReleaseCard=new qo.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=Pb.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(a=>this.vfsInstance=a)}setStorageCardService(e){this.storageCardService=e,e.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),e.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}isEntryInClipboard(e){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(e.path)?this.clipboard.operation:void 0}activateCard(e){var t=this;return(0,ae.Z)(function*(){if(t.primaryCard?.id!==e){if(t.secondaryCard?.id===e)return t.primarySlot=t.secondarySlot,void(yield t.activatePrimaryCard());throw new Error(`card ${e} not mounted in VFS`)}})()}mountCardUnchecked(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);if(o.primaryCard?.id===e||o.secondaryCard?.id===e)throw new Error(`card ${e} already mounted in VFS`);o.storageCardContext.claim(e,Ir.vfs),o.primaryCard&&o.primaryCard.storageId===o.clipboard?.storageId&&(o.primarySlot=o.secondarySlot),o.primaryCard&&(yield o.releaseCard(o.primaryCard.id));const s=yield o.vfs;s.allocateImage(i.size);const a=s.getPendingImage();if(!a)throw new Error("failed to allocate image");return r?a.set(r):yield o.storageService.loadCardData(e,a,Ir.vfs),s.mountImage(o.primarySlot)?(o.primaryCard=i,yield o.activatePrimaryCard(),!0):(o.storageCardContext.release(e,Ir.vfs),!1)})()}releaseCard(e){var t=this;return(0,ae.Z)(function*(){let r;if(t.primaryCard?.id===e)r=t.primarySlot;else{if(t.secondaryCard?.id!==e)return;r=t.secondarySlot}(yield t.vfs).unmountImage(r),t.mountedCards[r]=void 0,t.storageCardContext.release(e,Ir.vfs),t.onReleaseCard.dispatch(e)})()}readdir(e){if(!this.vfsInstance)return[];const t=this.normalizePath(e);if(!this.directoryCache.has(t)){const r=this.vfsInstance.readdir(e);this.directoryCache.set(t,0===r.error?r.entries:[])}return this.directoryCache.get(t)||[]}updateFileEntry(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.vfs;if(e=r.normalizePath(e),!r.isFilenameValid(t.name))return void(yield r.error("The provided file name is invalid."));const{result:i,entry:s}=o.stat(e);if(0===i)if(void 0===t.attributes||$x()(t.attributes,s.attributes)||0===(r.directoryCache.delete(r.dirname(e)),o.chmod(e,t.attributes))){if(void 0!==t.name&&t.name!==s.name)switch(r.directoryCache.delete(r.dirname(e)),o.rename(e,`${r.dirname(e)}/${t.name}`)){case 0:break;case 6:return void(yield r.error("The provided file name is invalid."));default:return void(yield r.fatalError("Unable to write the updated file attributes."))}yield r.sync()}else yield r.fatalError("Unable to write the updated file attributes.");else yield r.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const i=(yield t.vfs).readFile(e.path);if(!i)return void(yield t.alertService.errorMessage(`Could not read file '${e.name}'.`));t.fileService.saveFile(e.name,i)}finally{yield r.dismiss()}})()}archiveFiles(e,t){var r=this;return(0,ae.Z)(function*(){if(0===e.length||!r.primaryCard)return;const o=yield r.loadingController.create({message:"Creating archive..."});yield o.present();try{const i=yield r.vfs,s=e.filter(y=>y.isDirectory).map(y=>r.normalizePath(y.path)),a=e.filter(y=>!y.isDirectory).map(y=>r.normalizePath(y.path)),u=1===e.length?`${e[0].name}.zip`:function x6(n){return`files_${og(n.name)}.zip`}(r.primaryCard),{archive:f,failedItems:m}=yield i.createZipArchive({directories:s,files:a,prefix:t});yield o.dismiss(),m.length>0&&(m.length<=3?yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),f&&r.fileService.saveFile(u,f)}finally{yield o.dismiss()}})()}unlinkEntry(e){var t=this;return(0,ae.Z)(function*(){if(e.isDirectory)return;const o=(yield t.vfs).unlinkFile(e.path);if(0!==o)return console.error(`failed to unlink ${e.path}: ${o}`),void(yield t.error(`Failed to delete: ${e.path}`));yield t.updateBytesFree(),yield t.sync(),t.directoryCache.delete(t.dirname(e.path))})()}deleteRecursive(e){var t=this;return(0,ae.Z)(function*(){const r=e.map(i=>t.normalizePath(i.path)),o=yield t.loadingController.create({message:"Deleting..."});yield o.present();try{const s=yield(yield t.vfs).deleteRecursive(r);if(!s.success)return yield o.dismiss(),void(yield t.fatalError(`Failed to delete ${s.failingItem}`));yield t.updateBytesFree(),yield t.sync(),e.map(a=>a.path).forEach(a=>t.directoryCache.delete(t.dirname(a)))}finally{yield o.dismiss()}})()}mkdir(e){var t=this;return(0,ae.Z)(function*(){switch((yield t.vfs).mkdir(e)){case 6:return void(yield t.alertService.errorMessage("Invalid name."));case 7:return void(yield t.alertService.errorMessage("No space left on card."));case 8:return void(yield t.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield t.error(`Failed to create ${e}.`))}yield t.updateBytesFree(),yield t.sync(),t.directoryCache.delete(t.dirname(e))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const e=this.storageCardService.getAllCards().find(t=>t.storageId===this.clipboard?.storageId);return!!e&&(e.status===kr.clean||e.status===kr.dirty&&!!e.dontFsckAutomatically)}invalidateClipboardForCard(e){this.clipboard?.storageId===e.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(e,t,r){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:r,prefix:this.normalizePath(e),storageId:this.primaryCard.storageId,items:t.map(o=>({name:o,path:this.normalizePath(`${e}/${o}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(o=>o.path).forEach(o=>this.clipboardSet.add(o)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.loadingController.create();yield o.present();try{const{entriesTotal:i,entriesSuccess:s,result:a}=yield r.unpackArchiveUnchecked(e,t);let u,f;switch(yield o.dismiss(),a){case Qs.success:u="The archive was extracted successfully, but some entries were skipped.",f="Skipped entries";break;case Qs.ioError:return void(yield r.fatalError("There was an error writing to the card."));case Qs.cardFull:u="No space left on card.",f="No space left";break;case Qs.zipfileError:u="There was an error reading from the archive.",f="Error reading archive";break;default:throw new Error("unreachable")}const m=i-s,y=k=>k>1?`${k} entries`:"one entry";i>0&&m===i&&(yield r.alertService.message(f,`\n                    ${u}\n                    <br><br>\n                    The archive contains ${y(i)}, but none could be unpacked.\n                `)),m>0&&s>0&&(yield r.alertService.message(f,`\n                    ${u}\n                    <br><br>\n                    ${Bx(y(s))} unpacked succesfully, but ${y(m)} could not be unpacked.\n                `))}finally{o.dismiss()}})()}paste(e){var t=this;return(0,ae.Z)(function*(){if(!t.isClipboardPopulated())return;const r=yield t.loadingController.create();yield r.present();try{const o=yield t.pasteUnchecked(e);switch(yield r.dismiss(),o){case xl.cardFull:yield t.alertService.message("No space left","No space left on card.");break;case xl.ioError:return void(yield t.fatalError("There was an error copying files to the card."))}}catch(o){yield t.alertService.errorMessage(o?.message||"Unknown error.")}finally{r.dismiss()}})()}addFiles(e,t){var r=this;return(0,ae.Z)(function*(){if(0===e.length)return;const o=yield r.loadingController.create();yield o.present();try{const i=yield r.addFilesUnchecked(e,t);yield o.dismiss();const s=a=>a>1?`${a} entries`:"one file";i.length===e.length?yield r.alertService.message("Skipped files","No files were added to the card."):0!==i.length&&(yield r.alertService.message("Skipped files",`Successfully added ${s(e.length-i.length)} to card. ${Bx(s(i.length))} could not be added.\n                `))}finally{o.dismiss()}})()}addFilesUnchecked(e,t){var r=this;return(0,ae.Z)(function*(){const o=r.readdir(t),i=[],s=yield r.vfs;let a=!1,u=!1,f=!1,m=!1;e:for(let y=0;y<e.length;y++){const k=e[y],M=o.find(Se=>Se.name===k.name);if(M&&M.isDirectory){if(!f){const{overwrite:Ge,rememberChoice:Ke}=yield r.overwriteFileDialog(k.name,"directory");m=Ge,f=Ke}let Se=!0;if(m&&(Se=!(yield s.deleteRecursive([r.normalizePath(`${t}/${k.name}`)])).success),Se){i.push(k.name);continue}}if(M&&!M.isDirectory){if(!a){const{overwrite:Se,rememberChoice:Ge}=yield r.overwriteFileDialog(k.name,"file");u=Se,a=Ge}if(!u){i.push(k.name);continue}}let K;try{K=yield k.getContent()}catch(Se){console.warn(Se),i.push(k.name),yield r.alertService.errorMessage(`Unable to open ${k.name}`);continue}switch(s.writeFile(r.normalizePath(`${t}/${k.name}`),K)){case 3:yield r.alertService.errorMessage("Card full."),i.push(...e.slice(y).map(Se=>Se.name));break e;case 4:throw yield r.fatalError("Unable to write file."),new Error;case 0:break;default:i.push(k.name)}}return yield r.updateBytesFree(),yield r.sync(),r.directoryCache.delete(r.normalizePath(t)),i})()}collisionHandlers(){var e=this;let t=!1,r=!1,o=!1,i=!1;return{onFileCollision:(s=(0,ae.Z)(function*(a){if(r)return t;const{overwrite:u,rememberChoice:f}=yield e.overwriteFileDialog(a,"file");return t=u,r=f,t}),function(u){return s.apply(this,arguments)}),onDirectoryCollision:function(){var s=(0,ae.Z)(function*(a){if(i)return o;const{overwrite:u,rememberChoice:f}=yield e.overwriteFileDialog(a,"directory");return o=u,i=f,o});return function(u){return s.apply(this,arguments)}}()};var s}unpackArchiveUnchecked(e,t){var r=this;return(0,ae.Z)(function*(){const i=yield(yield r.vfs).unzipArchive(r.normalizePath(t),e,{...r.collisionHandlers(),onInvalidEntry:(s=(0,ae.Z)(function*(a){yield r.alertService.message("Invalid entry",`Could not extract ${a}`,{},"Continue")}),function(u){return s.apply(this,arguments)})});var s;return i.result!==Qs.ioError&&(yield r.updateBytesFree(),yield r.sync(),r.directoryCache.clear()),i})()}pasteUnchecked(e){var t=this;return(0,ae.Z)(function*(){if(!t.clipboard||!t.primaryCard)throw new Error("invalid state for paste");const r=yield t.mountClipboard(),i=yield(yield t.vfs).paste(`${t.primarySlot}:${t.normalizePath(e)}`,`${r}:${t.normalizePath(t.clipboard.prefix)}`,t.clipboard.items.map(s=>s.name),t.clipboard.operation,t.collisionHandlers());return i===xl.ioError||(yield t.updateBytesFree(),yield t.sync(t.primarySlot),r!==t.primarySlot&&(yield t.sync(r)),t.directoryCache.clear(),"cut"===t.clipboard.operation&&(t.clipboard=void 0,t.clipboardSet.clear())),i})()}mountClipboard(){var e=this;return(0,ae.Z)(function*(){if(!e.clipboard||!e.primaryCard||!e.storageCardService)throw new Error("invalid state for paste");if(e.clipboard.storageId===e.primaryCard.storageId)return e.primarySlot;if(e.secondaryCard&&e.clipboard.storageId===e.secondaryCard.storageId)return e.secondarySlot;e.secondaryCard&&(yield e.releaseCard(e.secondaryCard.id));const t=e.storageCardService.getAllCards().find(i=>i.storageId===e.clipboard?.storageId);if(!t)throw new Error("invalid storage card in clipboard");const r=yield e.vfs;r.allocateImage(t.size);const o=r.getPendingImage();if(!o)throw new Error("failed to allocate image");if(e.storageCardContext.claim(t.id,Ir.vfs),yield e.storageService.loadCardData(t.id,o,Ir.vfs),!r.mountImage(e.secondarySlot))throw e.storageCardContext.release(t.id,Ir.vfs),new Error("unable to mount card");return e.secondaryCard=t,e.secondarySlot})()}overwriteFileDialog(e,t){var r=this;return(0,ae.Z)(function*(){let o=!1,i=!1;const s=yield r.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:"file"===t?`Do you want to overwrite the existing file ${e}?`:`\n                    Do you want to overwrite the existing directory ${e}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `,buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>o=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:a=>i=!0===a.checked,cssClass:"alert-checkbox"}]});return yield s.present(),yield s.onDidDismiss(),{overwrite:o,rememberChoice:i}})()}error(e){var t=this;return(0,ae.Z)(function*(){yield t.alertService.errorMessage(e)})()}fatalError(e){var t=this;return(0,ae.Z)(function*(){t.primaryCard&&(yield t.storageService.updateStorageCardPartial(t.primaryCard.id,{status:kr.dirty}),yield t.releaseCard(t.primaryCard.id),t.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(e=this.primarySlot){var t=this;return(0,ae.Z)(function*(){const r=t.mountedCards[e];if(!r)return;const o=yield t.vfs,i=o.getImageInSlot(e),s=o.getDirtyPagesForSlot(e);!i||!s||(yield t.storageService.updateCardData(r.id,i,s,Ir.vfs),s.fill(0))})()}activatePrimaryCard(){var e=this;return(0,ae.Z)(function*(){const t=yield e.vfs;t.switchSlot(e.primarySlot),e.bytesFree=t.bytesFree(e.primarySlot),e.bytesTotal=t.bytesTotal(e.primarySlot),e.directoryCache.clear()})()}updateBytesFree(){var e=this;return(0,ae.Z)(function*(){e.bytesFree=(yield e.vfs).bytesFree(e.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(e){this.mountedCards[this.primarySlot]=e}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(e){this.mountedCards[this.secondarySlot]=e}}Js.\u0275fac=function(e){return new(e||Js)(ee(Qn),ee(za),ee(js),ee(Ql),ee(Uc),ee(to))},Js.\u0275prov=mt({token:Js,factory:Js.\u0275fac,providedIn:"root"});var Mo=(()=>{return(n=Mo||(Mo={}))[n.mb4=0]="mb4",n[n.mb8=1]="mb8",n[n.mb16=2]="mb16",n[n.mb32=3]="mb32",n[n.mb64=4]="mb64",n[n.mb128=5]="mb128",Mo;var n})();function Vx(){return Sb().replace(/-/g,"")}class _a{constructor(e,t,r,o,i,s,a,u,f,m,y){this.sessionService=e,this.storageService=t,this.emulationStateService=r,this.cloudpilotService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.errorService=u,this.fileService=f,this.vfsService=m,this.storageCardContext=y,this.mountCardEvent=new qo.j,this.deleteCardEvent=new qo.j,this.loading=!0,this.cards=[],this.updateMutex=new Ga,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),t.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=yield o.loadingController.create({message:"Formatting..."});try{yield i.present();const s=yield function U6(n){return Tb.apply(this,arguments)}(function Z6(n){switch(n){case Mo.mb4:return 4;case Mo.mb8:return 8;case Mo.mb16:return 16;case Mo.mb32:return 32;case Mo.mb64:return 64;case Mo.mb128:return 128;default:throw new Error(`bad card size ${n}`)}}(t));if(!s)throw new Error("failed to create image");const a={storageId:Vx(),name:e,size:4*s.length,status:kr.clean,dontFsckAutomatically:r};return yield o.storageService.importStorageCard(a,s)}finally{i.dismiss()}})()}createCardFromImage(e,t,r){var o=this;return(0,ae.Z)(function*(){const i={storageId:Vx(),name:e,size:t.length,status:kr.clean,dontFsckAutomatically:r},s=new Uint32Array(t.buffer,t.byteOffset,t.byteLength>>>2),a=yield o.loadingController.create({message:"Importing..."});try{if(r)yield a.present(),yield o.storageService.importStorageCard(i,s);else{const[u,f]=yield o.fsckNewCard(s,i);yield a.present(),yield o.storageService.importStorageCard(f,u)}}finally{a.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Ir.cloudpilot)}loadCardInEmulator(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e);const i=yield r.cloudpilotService.cloudpilot;if(i.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!i.allocateCard(o.storageId,o.size))throw new Error("failed to allocate card");const s=i.getCardData(o.storageId);if(!s)throw new Error("failed to access card data");return r.storageCardContext.claim(e,Ir.cloudpilot),t?s.set(t):yield r.storageService.loadCardData(o.id,s,Ir.cloudpilot),o})()}ejectCurrentCard(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)throw new Error("no running session");const r=t?.mountedCard;if(void 0===r)throw new Error("no mounted card");const o=yield e.storageService.getCard(r);if(!o)throw new Error(`no card with id ${r}`);yield e.storageService.updateStorageCardPartial(r,{status:kr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(t.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(o.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(r,Ir.cloudpilot)})()}checkCard(e){var t=this;return(0,ae.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let i=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be checked.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield t.ejectCard(e.id)}const o=yield t.executeFsckAndUpdateCard(e.id);switch(o.getResult()){case 1:return void t.alertService.cardIsClean();case 3:return void t.alertService.cardHasNoValidFileSystem();case 4:t.alertService.cardHasUncorrectableErrors();break;case 2:{let i=!1;return yield t.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>i=!0},"Cancel"),void(i?yield t.applyFsckResult(e.id,o):t.storageCardContext.release(e.id,Ir.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var t=this;return(0,ae.Z)(function*(){if(t.storageCardContext.getOwner(e.id)===Ir.vfs)return yield t.vfsService.activateCard(e.id),!0;const r=t.mountedInSession(e.id);if(r){let o=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be browsed.`,{"Eject now":()=>o=!0},"Cancel"),!o)return!1;yield t.ejectCard(e.id)}return t.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);return!t.dontFsckAutomatically&&o.dontFsckAutomatically&&(t.status=kr.dirty),r.storageService.updateStorageCardPartial(e,t)})()}deleteCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const o=t.cards.find(i=>i.id===e);yield t.vfsService.releaseCard(e),yield t.ejectCard(e),yield t.storageService.deleteStorageCard(e),o&&t.deleteCardEvent.dispatch(o)}finally{r.dismiss()}})()}saveCard(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);const i=yield r.loadingController.create({message:"Exporting..."});let s;try{yield i.present();const a=r.mountedInSession(e);a&&a.id===r.emulationStateService.getCurrentSession()?.id&&(yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),s=(yield r.cloudpilotService.cloudpilot).getCardData(o.storageId)),s||(s=new Uint32Array(o.size>>>2),yield r.storageService.loadCardData(o.id,s,r.storageCardContext.getOwner(e)))}finally{i.dismiss()}r.fileService.saveFile(t,new Uint8Array(s.buffer,s.byteOffset,s.length<<2))})()}getCard(e){var t=this;return(0,ae.Z)(function*(){return t.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(t=>t.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,ae.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,ae.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}cardIsMounted(e){var t=this;return(0,ae.Z)(function*(){return(yield t.storageService.getAllSessions()).some(o=>o.mountedCard===e)})()}checkAndClaimCard(e,t){var r=this;return(0,ae.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");let o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);let i,s=!0,a=!1;if(!o.dontFsckAutomatically){if(o.status===kr.dirty){if(i=yield r.executeFsckAndUpdateCard(e),2===i.getResult()){if(s=!1,yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===t?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),!s)return r.storageCardContext.release(e,Ir.fstools),!1;yield r.applyFsckResult(o.id,i)}if(o=yield r.getCard(e),!o)throw new Error(`no card with id ${e}`)}switch(o.status){case kr.clean:break;case kr.unformatted:if("vfs"===t)return yield r.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case kr.dirty:return yield r.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===t?"inserted":"browsed"}.`),!1;case kr.unfixable:if(s=!1,a=!0,yield r.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>s=!0},"Cancel"),!s)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===t?(yield r.vfsService.releaseCard(e),yield r.mountCardInEmulator(e,i?.getImageData())):(yield r.mountCardForBrowsing(e,a,i?.getImageData()))||(yield r.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(u){return r.errorService.fatalBug(u instanceof Error?u.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create({message:"Checking card..."});try{if(yield r.present(),yield t.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const o=yield t.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield t.vfsService.releaseCard(e),t.storageCardContext.claim(e,Ir.fstools);const i=yield sg.create(o.size);switch(yield t.storageService.loadCardData(o.id,i.getImageData(),Ir.fstools),i.fsck()){case 1:yield t.storageService.updateStorageCardPartial(e,{status:kr.clean}),t.storageCardContext.release(e,Ir.fstools);break;case 3:yield t.storageService.updateStorageCardPartial(e,{status:kr.unformatted}),t.storageCardContext.release(e,Ir.fstools);break;case 2:yield t.storageService.updateStorageCardPartial(e,{status:kr.dirty});break;case 4:yield t.storageService.updateStorageCardPartial(e,{status:kr.unfixable}),t.storageCardContext.release(e,Ir.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return i}finally{r.dismiss()}})()}applyFsckResult(e,t){var r=this;return(0,ae.Z)(function*(){if(2!==t.getResult())return;const o=yield r.loadingController.create({message:"Fixing errors..."});try{yield o.present(),yield r.storageService.updateCardData(e,t.getImageData(),t.getDirtyPages(),Ir.fstools),yield r.storageService.updateStorageCardPartial(e,{status:kr.clean}),r.storageCardContext.release(e,Ir.fstools)}finally{o.dismiss()}})()}fsckNewCard(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});let i,s;try{yield o.present(),i=yield sg.create(t.size),i.getImageData().set(e),s=i.fsck()}finally{o.dismiss()}switch(s){case 1:return[e,{...t,status:kr.clean}];case 2:{let a=!1;return yield r.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>a=!0},"Skip"),a?[i.getImageData(),{...t,status:kr.clean}]:[e,{...t,status:kr.dirty}]}case 3:return yield r.alertService.cardHasNoValidFileSystem(),[e,{...t,status:kr.unformatted}];case 4:return yield r.alertService.cardHasUncorrectableErrors(),[e,{...t,status:kr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var t=this;return(0,ae.Z)(function*(){const r=t.mountedInSession(e),o=yield t.storageService.getCard(e);!r||!o||(r.id===t.emulationStateService.getCurrentSession()?.id?yield t.ejectCurrentCard():(yield t.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),yield t.storageService.updateStorageCardPartial(e,{status:kr.dirty})))})()}mountCardInEmulator(e,t){var r=this;return(0,ae.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");const o=yield r.loadingController.create({message:"Inserting..."});try{yield o.present(),yield r.vfsService.releaseCard(e);const i=r.emulationStateService.getCurrentSession();if(!i)throw new Error("no current session");if(void 0!==i.mountedCard)throw new Error("session already has a mounted card");const s=yield r.loadCardInEmulator(e,t),a=yield r.cloudpilotService.cloudpilot;if(yield r.storageService.updateStorageCardPartial(e,{status:kr.dirty}),yield r.storageService.updateSessionPartial(i.id,{mountedCard:e}),!a.mountCard(s.storageId))throw a.removeCard(s.storageId),new Error("failed to mount card");return r.mountCardEvent.dispatch(s),s}finally{o.dismiss()}})()}mountCardForBrowsing(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=yield o.loadingController.create({message:"Mounting..."});try{return yield i.present(),yield o.vfsService.mountCardUnchecked(e,t,r)}finally{i.dismiss()}})()}}_a.\u0275fac=function(e){return new(e||_a)(ee(qa),ee(Qn),ee(Es),ee(Wi),ee(Ql),ee(Za),ee(to),ee(Xs),ee(js),ee(Js),ee(za))},_a.\u0275prov=mt({token:_a,factory:_a.\u0275fac,providedIn:"root"});class cs extends C6{constructor(e,t,r,o,i,s,a,u,f,m,y,k,M,K,Se,Ge,Ke,vt){var Le;super(),Le=this,this.storageService=e,this.ngZone=t,this.loadingController=r,this.emulationState=o,this.snapshotService=i,this.errorService=s,this.fileService=a,this.alertService=u,this.modalWatcher=f,this.clipboardService=m,this.kvsService=y,this.proxyService=k,this.buttonService=M,this.bootstrapService=K,this.cloudpilotService=Se,this.storageCardService=Ge,this.storageCardContext=Ke,this.app=vt,this.switchSession=Dn=>this.mutex.runExclusive((0,ae.Z)(function*(){if(Dn===Le.emulationState.getCurrentSession()?.id)return!0;yield Le.stopUnchecked(),yield Le.bootstrapService.hasRendered();const Gn=yield Le.loadingController.create({message:"Loading..."});yield Gn.present();try{const Is=yield Le.storageService.getSession(Dn);if(!Is)throw new Error(`invalid session ${Dn}`);Le.emulationState.setCurrentSession(void 0);const cg=yield Le.cloudpilotService.cloudpilot;if(!(yield Le.restoreSession(Is,cg)))return Le.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Le.emulationState.setCurrentSession(Is),function xU(n){localStorage.setItem(Qm,n+"")}(Dn)}finally{yield Gn.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,ae.Z)(function*(){!Le.emulationState.getCurrentSession()||Le.running||Le.errorService.hasFatalError()||!Le.cloudpilotInstance||(yield Le.kvsService.mutex.runExclusive(()=>Le.updateFeatures()),Le.doResume(),Le.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,ae.Z)(function*(){Le.doPause(),!Le.errorService.hasFatalError()&&Le.emulationState.getCurrentSession()&&(yield Le.snapshotService.waitForPendingSnapshot(),yield Le.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Dn,Gn])=>this.mutex.runExclusive((0,ae.Z)(function*(){const Is=Le.emulationState.getCurrentSession();Dn===Is?.id&&(void 0!==Is.mountedCard&&void 0===Gn&&Le.storageCardContext.release(Is.mountedCard,Ir.cloudpilot),Le.emulationState.setCurrentSession(Gn),Le.emulationState.getCurrentSession()||(dx(),Le.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,ae.Z)(function*(){const Dn=Le.emulationState.getCurrentSession();Dn&&Le.fileService.emergencySaveSession(Dn,yield Le.cloudpilotService.cloudpilot)})),this.mutex=new Ga,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),s.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Dn=>{Dn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Dn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Ot=function kU(){const n=localStorage.getItem(Qm);return n?parseInt(n,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Ot&&!LD()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Ot))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const t=this.emulationState.getCurrentSession();t&&this.storageService.updateSessionPartial(t.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?ic.timeout:ic.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,t){if(!this.cloudpilotInstance)return;const r=this.emulationState.getCurrentSession();this.uiInitialized&&r&&void 0===r.osVersion&&this.storageService.updateSessionPartial(r.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(t/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,ae.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var t=this;return(0,ae.Z)(function*(){try{yield t.switchSession(e)}catch{ma&&t.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,t){var r=this;return(0,ae.Z)(function*(){const[o,i,s]=yield r.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);return t.clearExternalStorage(),void 0!==e.mountedCard&&(yield r.storageCardService.loadCardInEmulator(e.mountedCard)),!!r.openSession(t,o,e.device,i,s)&&(r.proxyService.reset(),r.buttonService.reset(t),yield r.snapshotService.initialize(e,yield r.cloudpilotService.cloudpilot),!0)})()}}cs.\u0275fac=function(e){return new(e||cs)(ee(Qn),ee(dt),ee(Ql),ee(Es),ee(Za),ee(Xs),ee(js),ee(to),ee(lc),ee(Zc),ee(li),ee(cc),ee(qc),ee(Yc),ee(Wi),ee(_a),ee(za),ee(Ul))},cs.\u0275prov=mt({token:cs,factory:cs.\u0275fac,providedIn:"root"});const uc=new yt(B),X6={connector:()=>new tt};function jx(n,e=X6){const{connector:t}=e;return q((r,o)=>{const i=t();On(n(function K6(n){return new yt(e=>n.subscribe(e))}(i))).subscribe(o),o.add(r.subscribe(i))})}function Ux(n,e){return e?t=>Of(e.pipe(Bs(1),function eH(){return q((n,e)=>{n.subscribe(_e(e,B))})}()),t.pipe(Ux(n))):Sr((t,r)=>On(n(t,r)).pipe(Bs(1),Av(t)))}const fp="Service workers are disabled or not supported by this browser";class lg{constructor(e){if(this.serviceWorker=e,e){const r=Ff(e,"controllerchange").pipe(Ae(()=>e.controller)),i=Of(vm(()=>bn(e.controller)),r);this.worker=i.pipe(Ei(m=>!!m)),this.registration=this.worker.pipe(Di(()=>e.getRegistration()));const f=Ff(e,"message").pipe(Ae(m=>m.data)).pipe(Ei(m=>m&&m.type)).pipe(function J6(n){return n?e=>jx(n)(e):e=>function Q6(n,e){const t=I(n)?n:()=>n;return I(e)?jx(e,{connector:t}):r=>new Mv(r,t)}(new tt)(e)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function nH(n){return vm(()=>zu(new Error(n)))}(fp)}postMessage(e,t){return this.worker.pipe(Bs(1),Ii(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(e,t);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Ei(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Bs(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ei(t=>t.nonce===e),Bs(1),Ae(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let rH=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new tt,!t.isEnabled)return this.messages=uc,this.notificationClicks=uc,void(this.subscription=uc);this.messages=this.sw.eventsOfType("PUSH").pipe(Ae(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ae(o=>o.data)),this.pushManager=this.sw.registration.pipe(Ae(o=>o.pushManager));const r=this.pushManager.pipe(Di(o=>o.getSubscription()));this.subscription=vi(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(fp));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(Di(s=>s.subscribe(r)),Bs(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Bs(1),Di(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(fp))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(lg))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),Rb=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=uc,this.available=uc,this.activated=uc,void(this.unrecoverable=uc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Ei(r=>"VERSION_READY"===r.type),Ae(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(ee(lg))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();class Fb{}const Hx=new tn("NGSW_REGISTER_SCRIPT");function oH(n,e,t,r){return()=>{if(!Hl(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=bn(null);break;case"registerWithDelay":o=Gx(+a[0]||0);break;case"registerWhenStable":o=a[0]?vi(zx(n),Gx(+a[0])):zx(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(dt).runOutsideAngular(()=>o.pipe(Bs(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function Gx(n){return bn(null).pipe(function tH(n,e=rx){const t=ox(n,e);return Ux(()=>t)}(n))}function zx(n){return n.get(Ul).isStable.pipe(Ei(t=>t))}function iH(n,e){return new lg(Hl(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let sH=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:Hx,useValue:t},{provide:Fb,useValue:r},{provide:lg,useFactory:iH,deps:[Fb,Bu]},{provide:Tc,useFactory:oH,deps:[Co,Hx,Fb,Bu],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=Er({providers:[rH,Rb]}),n})();class Kc{constructor(e,t,r,o,i){var s=this;this.kvsService=e,this.emulationService=t,this.alertService=r,this.modalController=o,this.updates=i,this.checkForUpgrade=()=>this.mutex.runExclusive((0,ae.Z)(function*(){const a=s.kvsService.kvs.version;void 0!==a?a!==zc&&(yield s.kvsService.set({version:zc,previousVersion:a,latestVersion:zc}),yield s.emulationService.bootstrapComplete(),s.alertService.message("Update complete",`CloudpilotEmu was updated to version ${zc}.`,{Changes:()=>s.showChangelog()})):s.kvsService.kvs.version=zc})),this.mutex=new Ga,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,ae.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,ae.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===zc){const t=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),t&&(yield t.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:ga,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}Kc.\u0275fac=function(e){return new(e||Kc)(ee(li),ee(cs),ee(to),ee(Ss),ee(Rb))},Kc.\u0275prov=mt({token:Kc,factory:Kc.\u0275fac,providedIn:"root"});class pp{constructor(e,t,r){this.pwaService=e,this.updateService=t,this.bootstrapService=r}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}pp.\u0275fac=function(e){return new(e||pp)(C(Gc),C(Kc),C(Yc))},pp.\u0275cmp=ut({type:pp,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(oe(0,"ion-app"),ct(1,"ion-router-outlet"),J())},dependencies:[wk,rp]});class ud{constructor(){}}ud.\u0275fac=function(e){return new(e||ud)},ud.\u0275cmp=ut({type:ud,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,t){1&e&&(oe(0,"div"),Ye(1,"Dummy"),J())},encapsulation:2});class Xc{constructor(e,t){this.linkApi=e,this.router=t}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}Xc.\u0275fac=function(e){return new(e||Xc)(ee(zl),ee(Ko))},Xc.\u0275prov=mt({token:Xc,factory:Xc.\u0275fac,providedIn:"root"});const Ob=ie.m515,lH=Db[2],cH=Db[0],dd="rgba(0,0,0,0.2)";function Wx(n){const e=cp(n),t=(0===e.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:t},o=u=>({frameDevice:u,frameCanvas:u*t}),i=u=>({frameDevice:u,frameCanvas:r.frameCanvas+u*t}),s=o(e.silkscreenHeight>0?1:0),a=o(function pH(n){switch(n){case 3:case 1:return 60;case 2:return 45;default:return 30}}(e.screenSize));return{scale:t,borderWidth:r,height:o(2*r.frameDevice+e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+e.width),screenHeight:o(e.height),screenWidth:o(e.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(e.height),separatorHeight:s,silkscreenHeight:o(e.silkscreenHeight),silkscreenTop:i(e.height+s.frameDevice),silkscreenBottom:i(e.height+s.frameDevice+e.silkscreenHeight),softSilkscreenHeight:o(e.silkscreenHeight>0?0:e.height-e.width),buttonHeight:a,buttonWidth:a,buttonTop:i(e.height+s.frameDevice+e.silkscreenHeight),buttonBottom:i(e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice)}}class hH{constructor(e){this.skinLoader=e,this.layout=Wx(Ob),this.onResize=new qo.j}get width(){switch(this.getOrientation()){case Ar.portrait:case Ar.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Ar.portrait:case Ar.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(e){this.drawEmulationCanvas(e),this.onAfterUpdateCanvas()}eventToPalmCoordinates(e,t=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let u=(e.clientX-o)/s*this.width/this.layout.scale,f=(e.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Ar.landscape90:{const y=f;f=this.layout.height.frameDevice-u,u=y;break}case Ar.landscape270:{const y=f;f=u,u=this.layout.width.frameDevice-y;break}case Ar.portrait180:u=this.layout.width.frameDevice-u,f=this.layout.height.frameDevice-f}u-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const m=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(t)u<0&&(u=0),u>=this.layout.screenWidth.frameDevice&&(u=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=m&&(f=m-1);else if(u<0||u>=this.layout.screenWidth.frameDevice||f<0||f>=m)return;return[u,f]}isSilkscreen(e){const[,t]=e;return!this.isButtons(e)&&t>=this.layout.screenHeight.frameDevice}isButtons([,e]){return e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([e,t]){return e>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:e>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:e>=2*this.layout.buttonWidth.frameDevice?t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:e>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(e=this.ctx?.canvas){var t=this;return(0,ae.Z)(function*(){if(!e)return;t.layout=Wx(t.getDeviceId()),t.onResize.dispatch(),e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])})()}drawButtons(e=[]){var t=this;return(0,ae.Z)(function*(){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),e.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,dd),e.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,dd),e.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,dd),e.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,dd),e.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,dd),e.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,dd))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Ar.portrait:case void 0:break;case Ar.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Ar.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Ar.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var e=this;return(0,ae.Z)(function*(){0===e.layout.silkscreenHeight.frameCanvas||!e.ctx||(e.setupTransformation(),e.fillRect(e.layout.screenLeft.frameDevice,e.layout.silkscreenTop.frameDevice,e.layout.screenWidth.frameDevice,e.layout.silkscreenHeight.frameDevice,lH),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.silkscreenImage()(e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas),e.layout.borderWidth.frameCanvas,e.layout.silkscreenTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(e=this.lastEmulationCanvas){!e||!this.ctx||(this.lastEmulationCanvas=e,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(e,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(e,t,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case ie.pegT600c:case ie.pegT650c:return"silkscreen/clie-t600.svg";case ie.pegN700c:case ie.pegN600c:return"silkscreen/clie-n610.svg";case ie.pegS320:case ie.pegS300:return"silkscreen/clie-s300.svg";case ie.pegS500c:return"silkscreen/clie-s500.svg";case ie.pegT400:return"silkscreen/clie-t415.svg";case ie.acerS11:return"silkscreen/acer-s10.svg";case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:return"silkscreen/pilot.svg";case ie.m500:return"silkscreen/m500.svg";case ie.m505:case ie.m515:case ie.m520:return"silkscreen/m515.svg";case ie.iiic:return"silkscreen/iiic.svg";case ie.m100:case ie.m105:case ie.m125:return"silkscreen/m100.svg";case ie.m130:return"silkscreen/m130.svg";case ie.i710:return"silkscreen/tungstenw.svg";case ie.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case ie.acerS11:return"hard-buttons/acer-s10.svg";case ie.pegNR70:return"hard-buttons/clie-nr70.svg";case ie.pegN700c:return"hard-buttons/clie-n700.svg";case ie.pegN600c:return"hard-buttons/clie-n610.svg";case ie.pegS300:return"hard-buttons/clie-s300.svg";case ie.pegS500c:return"hard-buttons/clie-s500.svg";case ie.pegS320:return"hard-buttons/clie-s320.svg";case ie.pegT400:case ie.pegT600c:case ie.pegT650c:return"hard-buttons/clie-t415.svg";case ie.pilot:case ie.palmPilot:return"hard-buttons/pilot.svg";case ie.m500:return"hard-buttons/m500.svg";case ie.m505:case ie.m515:case ie.m520:return"hard-buttons/m515.svg";case ie.iiic:return"hard-buttons/iiic.svg";case ie.m100:case ie.m105:return"hard-buttons/m100.svg";case ie.m125:return"hard-buttons/m125.svg";case ie.m130:return"hard-buttons/m130.svg";case ie.i710:return"hard-buttons/tungstenw.svg";case ie.iii:case ie.iiix:case ie.iiixe:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:return"hard-buttons/iiix.svg";case ie.iiie:return"hard-buttons/iiie.svg";case ie.i705:return"hard-buttons/i705.svg";case ie.handera330:return"hard-buttons/handera330.svg";case ie.handera330c:return"hard-buttons/handera330c.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return Ib(this.getDeviceId())?"white":cH}frameColor(){return Ib(this.getDeviceId())?"white":"#ccc"}}function gH(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(),r.src=n})}class yH{constructor(e){this.cloudpilot=e,this.images=new Map}loadSkinElement(e){if(this.images.has(e))return this.images.get(e);const t=this.cloudpilot.then(o=>o.loadSkin(e)).then(o=>{return o?Promise.all([o,gH((n=o,`data:image/svg+xml;base64,${btoa(n)}`))]):Promise.reject(new Error(`failed to load skin ${e}`));var n}),r=function mH(n,e){let t,r;const o=document.createElement("canvas");return function(){var i=(0,ae.Z)(function*(s,a){if(t===s&&r===a)return o;o.width=s,o.height=a;const u=o.getContext("2d");if(!u)throw new Error("get a new browser");return u.drawImage(yield n,0,0,o.width,o.height),(_U||ma)&&(yield e).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),u.drawImage(yield n,0,0,o.width,o.height)),t=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(t.then(([,o])=>o),t.then(([o])=>o));return this.images.set(e,r),r}}class Ml extends hH{constructor(e){super(new yH(e.cloudpilot)),this.cloudpilotService=e,this.statisticsVisible=!1}initialize(e,t=this.session){var r=this;return(0,ae.Z)(function*(){r.session=t,yield r.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,ae.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,t){var r=this;return(0,ae.Z)(function*(){yield r.clearStatistics(),r.drawStatistics(e,t),r.lastEmulationStatistics=t,r.lastSnapshotStatistics=e,r.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??Ob}getOrientation(){return this.session?.deviceOrientation??Ar.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,t){if(!this.ctx)return;this.setupTransformation();const r=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,o=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-r.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-r.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,o.frameDevice,this.layout.screenWidth.frameDevice,r.frameDevice,"rgba(255,255,255,0.6)");const s=function vH(n){switch(n){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(cp(this.session?.device??Ob).screenSize);this.ctx.font=6*this.layout.scale*s+"px monospace",this.ctx.fillStyle="black",[...e||t?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...t?[`host speed             : ${t.hostSpeed.toFixed(2)}x`,`emulation speed        : ${t.emulationSpeed.toFixed(2)}x`,`average FPS            : ${t.averageFps.toFixed(2)}`]:[]].forEach((a,u)=>this.ctx.fillText(a,this.layout.screenLeft.frameCanvas+s*this.layout.scale,o.frameCanvas+s*this.layout.scale*(8+6*u)))}}Ml.\u0275fac=function(e){return new(e||Ml)(ee(Wi))},Ml.\u0275prov=mt({token:Ml,factory:Ml.\u0275fac,providedIn:"root"});class Qc{constructor(e,t,r){this.router=e,this.canvasDisplayService=t,this.emulationStateService=r,this.updateUseSmallUI=()=>{const o=!!document.querySelector("html.md"),i=o?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-i-(o?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-i-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),t.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,t){let r,o;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(t=Math.min(t,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(o=e,r=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(r=t,o=t/this.canvasDisplayService.width*this.canvasDisplayService.height),r*o}}Qc.\u0275fac=function(e){return new(e||Qc)(C(Ko),C(Ml),C(Es))},Qc.\u0275cmp=ut({type:Qc,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,t){1&e&&(oe(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),ct(4,"ion-icon",3),oe(5,"ion-label"),Ye(6,"Emulator"),J()(),oe(7,"ion-tab-button",4),ct(8,"ion-icon",5),oe(9,"ion-label"),Ye(10,"Sessions"),J()(),oe(11,"ion-tab-button",6),ct(12,"ion-icon",7),oe(13,"ion-label"),Ye(14,"Cards"),J()(),oe(15,"ion-tab-button",8),ct(16,"ion-icon",9),oe(17,"ion-label"),Ye(18,"Settings"),J()(),oe(19,"ion-tab-button",10),ct(20,"ion-icon",11),oe(21,"ion-label"),Ye(22,"About"),J()()()()()),2&e&&(Xe(2),ul("small-ui",t.smallUI)("disabled",t.isLocked()))},dependencies:[gi,ss,ib,Ik,Lk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]});class Ya{}Ya.\u0275fac=function(e){return new(e||Ya)},Ya.\u0275mod=Fr({type:Ya}),Ya.\u0275inj=Er({imports:[$a,hb.forChild(),Jl,Oc,_m]});class fd{}fd.\u0275fac=function(e){return new(e||fd)},fd.\u0275mod=Fr({type:fd}),fd.\u0275inj=Er({imports:[$a,Oc,Jl,Ya,hb.forChild()]});class pd{}pd.\u0275fac=function(e){return new(e||pd)},pd.\u0275mod=Fr({type:pd}),pd.\u0275inj=Er({imports:[$a,Oc,Jl,Ya]});class hd{}hd.\u0275fac=function(e){return new(e||hd)},hd.\u0275mod=Fr({type:hd}),hd.\u0275inj=Er({imports:[$a,Oc,Jl,_m,Ya]});class md{}md.\u0275fac=function(e){return new(e||md)},md.\u0275mod=Fr({type:md}),md.\u0275inj=Er({imports:[$a,Oc,Jl,Ya,_m]});class gd{}function bH(n,e){if(1&n){const t=Tr();oe(0,"ion-button",1),st("click",function(){return ln(t),cn(Lt().onClick())}),ct(1,"ion-icon",2),J()}if(2&n){const t=Lt();Xe(1),rt("name",t.iconName)}}gd.\u0275fac=function(e){return new(e||gd)},gd.\u0275mod=Fr({type:gd}),gd.\u0275inj=Er({imports:[$a,Jl,Oc,_m,Ya]});class dc{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return ma?"logo-apple-appstore":cx?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}function CH(n,e){1&n&&(oe(0,"div",11),ct(1,"ion-spinner"),J())}function wH(n,e){1&n&&(oe(0,"div"),Ye(1,"app cached for offline use"),J())}dc.\u0275fac=function(e){return new(e||dc)(C(Gc))},dc.\u0275cmp=ut({type:dc,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,t){1&e&&Qt(0,bH,2,1,"ion-button",0),2&e&&rt("ngIf",t.show)},dependencies:[hi,ns,gi]});class hp{constructor(e,t){this.modalController=e,this.updates=t,this.loading=!0}get version(){return zc}showChangelog(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:ga,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}function SH(n,e){if(1&n&&(oe(0,"ion-select-option",17),Ye(1),J()),2&n){const t=e.$implicit;rt("value",t[0]),Xe(1),Hi("",t[1]," ")}}function EH(n,e){if(1&n&&(oe(0,"ion-select-option",17),Ye(1),J()),2&n){const t=e.$implicit;rt("value",t[0]),Xe(1),Hi("",t[1]," ")}}function DH(n,e){if(1&n&&(oe(0,"ion-item",7)(1,"ion-label",8),Ye(2,"Hotsync name"),J(),ct(3,"ion-input",18),J()),2&n){const t=Lt();Xe(3),rt("placeholder",t.placeholder)}}hp.\u0275fac=function(e){return new(e||hp)(C(Ss),C(Rb))},hp.\u0275cmp=ut({type:hp,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ye(3,"About"),J(),oe(4,"ion-buttons",1),ct(5,"app-pwa-prompt"),J()()(),oe(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),Ye(10,"About"),J()()(),Qt(11,CH,2,0,"div",4),oe(12,"div",5)(13,"markdown",6),st("load",function(){return t.loading=!1}),J()(),oe(14,"div",7),Ye(15),ct(16,"br"),oe(17,"a",8),st("click",function(){return t.showChangelog()}),Ye(18,"Changelog"),J(),Qt(19,wH,2,0,"div",9),J(),ct(20,"img",10),J()),2&e&&(rt("translucent",!0),Xe(11),rt("ngIf",t.loading),Xe(4),Hi(" CloudpilotEmu version ",t.version," "),Xe(4),rt("ngIf",t.serviceWorkerAvailable))},dependencies:[hi,rs,os,is,ep,as,ls,dc,pb],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]});class _d{constructor(e,t){this.sessionService=e,this.alertService=t,this.validateNameUnique=r=>r.value!==this.session.name&&this.sessionService.getSessions().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Ar.portrait,"Portrait"],[Ar.landscape90,"Landscape 90\xb0"],[Ar.landscape270,"Landscape 270\xb0"],[Ar.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,Ex(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function f6(n){switch(n){case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:case ie.palmVx:case ie.palmV:case ie.palmVIIEZ:case ie.palmVIIx:case ie.iiic:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.pegS300:case ie.pegS500c:return 16;case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.acerS11:return 33;case ie.pegT650c:case ie.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new dm({name:new mi(this.session.name,{validators:[Mf.required,this.validateNameUnique]}),manageHotsyncName:new mi(!this.session.dontManageHotsyncName),hotsyncName:new mi(this.session.hotsyncName||""),device:new mi({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new mi((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new mi(this.session.deviceOrientation||Ar.portrait)})}}_d.\u0275fac=function(e){return new(e||_d)(C(qa),C(to))},_d.\u0275cmp=ut({type:_d,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ye(3,"Session settings"),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.save()}),Ye(6,"Save"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),Ye(9,"Cancel"),J()()()(),oe(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),oe(12,"h1"),Ye(13,"Session"),J(),oe(14,"ion-item",7)(15,"ion-label",8),Ye(16,"Session name"),J(),ct(17,"ion-input",9),J(),oe(18,"h1"),Ye(19,"Device"),J(),oe(20,"ion-item",7)(21,"ion-label",8),Ye(22,"Device type"),J(),oe(23,"ion-select",10),Qt(24,SH,2,2,"ion-select-option",11),J()(),oe(25,"ion-item",7)(26,"ion-label",8),Ye(27,"Orientation"),J(),oe(28,"ion-select",12),Qt(29,EH,2,2,"ion-select-option",11),J()(),oe(30,"ion-item",7)(31,"ion-label",13),Ye(32),J(),ct(33,"ion-range",14),J(),oe(34,"h1"),Ye(35,"Hotsync"),J(),oe(36,"ion-item",7)(37,"ion-label"),Ye(38,"Manage hotsync name"),J(),ct(39,"ion-toggle",15),J(),Qt(40,DH,4,1,"ion-item",16),J()()),2&e&&(Xe(5),rt("disabled",t.formGroup.invalid),Xe(6),rt("formGroup",t.formGroup),Xe(13),rt("ngForOf",t.deviceList),Xe(5),rt("ngForOf",t.orientations),Xe(3),Os(t.speedLabel),Xe(8),rt("ngIf",t.showHotsyncNameInput))},dependencies:[Pc,hi,ns,rs,os,is,Dl,ai,ss,ob,zm,Wm,as,tp,ls,od,Jf,El,vl,_l,yl,kv,pa,Ba],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]});class yd{constructor(e,t,r,o,i,s,a){this.emulationService=e,this.loadingController=t,this.snapshotService=r,this.fileService=o,this.emulationStateService=i,this.alertService=s,this.cloudpilotService=a}saveBackup(e){var t=this;return(0,ae.Z)(function*(){const r=t.emulationStateService.getCurrentSession();if(!r)return;const o=yield t.loadingController.create({message:"Backing up..."});yield o.present();let s,i=[];yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();try{const a=yield t.cloudpilotService.cloudpilot;yield a.backup(function(){var u=(0,ae.Z)(function*(f){for(f.Init(e);f.IsInProgress();){const m=f.GetCurrentDatabase();f.Save()||i.push(m),yield new Promise(y=>setTimeout(y,0))}s=a.getArchive(f)});return function(f){return u.apply(this,arguments)}}())}finally{yield o.dismiss(),yield t.emulationService.resume()}s?i.length>0?yield t.alertService.message("Backup complete",`\n                    ${kb(i)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>t.fileService.saveFile(Ax(r,e),s)},"Cancel"):t.fileService.saveFile(Ax(r,e),s):yield t.alertService.errorMessage("Backup failed.")})()}}yd.\u0275fac=function(e){return new(e||yd)(ee(cs),ee(Ql),ee(Za),ee(js),ee(Es),ee(to),ee(Wi))},yd.\u0275prov=mt({token:yd,factory:yd.\u0275fac,providedIn:"root"});const IH=window.AudioContext||window.webkitAudioContext;function Nb(n,e=100){return new Promise((t,r)=>{setTimeout(()=>r(new Error("timeout")),e),n.then(t,r)})}class kH{constructor(e){var t=this;this.emulationService=e,this.initialize=()=>this.mutex.runExclusive((0,ae.Z)(function*(){if(!t.initialized){try{t.context=new IH}catch(r){return console.error(r),void console.error("web audio not available")}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,ae.Z)(function*(){if(!t.context||t.isRunning()===t.shouldRun())return;!r&&!t.isRunning()&&t.shouldRun()&&t.applyPwmUpdate();const o=t.context.state;if(t.shouldRun())try{t.updateGain(),yield Nb(t.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield Nb(t.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${t.context.state}`)})),this.onPwmUpdate=function(){var r=(0,ae.Z)(function*(o){t.pendingPwmUpdate=o,t.initialized&&(t.shouldRun()!==t.isRunning()&&t.updateState(!0),t.shouldRun()&&t.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Ga,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),ma||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(e){this.muted=e,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||ma||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var e=this;return(0,ae.Z)(function*(){e.context&&(yield Nb(e.context.resume()),e.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:e,dutyCycle:t}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,e<=0||t<=0||e>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/e),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<t?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}class fc extends kH{constructor(e,t,r){super(e),this.kvs=t,this.modalWatcher=r,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}fc.\u0275fac=function(e){return new(e||fc)(ee(cs),ee(li),ee(lc))},fc.\u0275prov=mt({token:fc,factory:fc.\u0275fac,providedIn:"root"});class Jc{constructor(e,t){this.emulationService=e,this.ngZone=t,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=r=>{this.reset(),r&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!r&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}function MH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",4),st("click",function(){return ln(t),cn(Lt().power())}),oe(1,"ion-label"),Ye(2,"Power"),J(),ct(3,"ion-icon",5),J()}if(2&n){const t=Lt();rt("detail",!1)("disabled",!t.emulationService.isRunning())}}function TH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",4),st("click",function(){return ln(t),cn(Lt().hotsync())}),oe(1,"ion-label"),Ye(2,"Hotsync"),J(),ct(3,"ion-icon",6),J()}if(2&n){const t=Lt();rt("detail",!1)("disabled",!t.emulationService.isRunning())}}function AH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",4),st("click",function(){return ln(t),cn(Lt().reset())}),oe(1,"ion-label"),Ye(2,"Reset"),J(),ct(3,"ion-icon",7),J()}if(2&n){const t=Lt();rt("detail",!1)("disabled",!t.emulationService.isRunning())}}function PH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8),st("click",function(){return ln(t),cn(Lt().insertCard())}),oe(1,"ion-label"),Ye(2),J(),ct(3,"ion-icon",9),J()}if(2&n){const t=Lt();rt("detail",!1),Xe(2),Hi("Insert ",t.hasMemorystick?"stick":"SD card","")}}function RH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8),st("click",function(){return ln(t),cn(Lt().ejectCard())}),oe(1,"ion-label"),Ye(2),J(),ct(3,"ion-icon",10),J()}if(2&n){const t=Lt();rt("detail",!1),Xe(2),Hi("Eject ",t.hasMemorystick?"stick":"SD card","")}}function FH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8),st("click",function(){return ln(t),cn(Lt().mute(!1))}),oe(1,"ion-label"),Ye(2,"Enable audio"),J(),ct(3,"ion-icon",11),J()}2&n&&rt("detail",!1)}function OH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8),st("click",function(){return ln(t),cn(Lt().mute(!0))}),oe(1,"ion-label"),Ye(2,"Disable audio"),J(),ct(3,"ion-icon",12),J()}2&n&&rt("detail",!1)}function NH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",4),st("click",function(){return ln(t),cn(Lt().backup())}),oe(1,"ion-label"),Ye(2,"Save backup"),J(),ct(3,"ion-icon",13),J()}if(2&n){const t=Lt();rt("detail",!1)("disabled",t.backupDisabled)}}function LH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8),st("click",function(){return ln(t),cn(Lt().rotate())}),oe(1,"ion-label"),Ye(2,"Rotate"),J(),ct(3,"ion-icon",14),J()}2&n&&rt("detail",!1)}function $H(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8),st("click",function(){return ln(t),cn(Lt().editSettings())}),oe(1,"ion-label"),Ye(2,"Settings"),J(),ct(3,"ion-icon",15),J()}2&n&&rt("detail",!1)}function BH(n){switch(n){case Ar.portrait:case void 0:return Ar.landscape90;case Ar.landscape90:return Ar.portrait180;case Ar.portrait180:return Ar.landscape270;case Ar.landscape270:return Ar.portrait;default:throw new Error("cannot happen")}}Jc.\u0275fac=function(e){return new(e||Jc)(ee(cs),ee(dt))},Jc.\u0275prov=mt({token:Jc,factory:Jc.\u0275fac,providedIn:"root"});class mp{constructor(e,t,r,o,i,s,a,u,f,m,y,k,M,K,Se,Ge,Ke,vt){this.emulationService=e,this.emulationStateService=t,this.backupService=r,this.buttonService=o,this.actionSheetController=i,this.popoverController=s,this.audioService=a,this.kvsService=u,this.modalController=f,this.sessionService=m,this.performanceWatchdogService=y,this.canvasDisplayService=k,this.cloudpilotService=M,this.storageCardService=K,this.alertService=Se,this.alertController=Ge,this.storageService=Ke,this.errorService=vt,this.showHelp=()=>{}}reset(){var e=this;return(0,ae.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,ae.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function p6(n){return[ie.i705,ie.i710,ie.pegNR70,ie.pegT650c].includes(n)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&Dx(e.device)!==ac.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&Dx(e.device)===ac.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;const r=t.speed,o=t.deviceOrientation,i=yield e.modalController.create({component:_d,backdropDismiss:!1,componentProps:{session:t,availableDevices:[t.device],onSave:(s=(0,ae.Z)(function*(){r!==t.speed&&e.performanceWatchdogService.reset(),o!==t.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,t),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(t),i.dismiss()}),function(){return s.apply(this,arguments)}),onCancel:()=>i.dismiss()}});var s;yield e.popoverController.dismiss(),yield i.present()})()}rotate(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;yield e.storageService.updateSessionPartial(t.id,{deviceOrientation:BH(t.deviceOrientation)});const r=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,ae.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const r=yield e.cloudpilotService.cloudpilot,o=e.storageCardService.getAllCards().filter(s=>r.deviceSupportsCardSize(s.size)&&!e.storageCardService.mountedInSession(s.id));0!==o.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:s=>e.storageCardService.insertCard(s)}],inputs:o.map((s,a)=>({label:s.name,type:"radio",value:s.id,checked:0===a})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,ae.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(t){e.errorService.fatalBug(t instanceof Error?t.message:"eject failed")}e.popoverController.dismiss()})()}}mp.\u0275fac=function(e){return new(e||mp)(C(cs),C(Es),C(yd),C(qc),C(ip),C(Hc),C(fc),C(li),C(Ss),C(qa),C(Jc),C(Ml),C(Wi),C(_a),C(to),C(Uc),C(Qn),C(Xs))},mp.\u0275cmp=ut({type:mp,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,t){1&e&&(oe(0,"ion-list"),Qt(1,MH,4,2,"ion-item",0),Qt(2,TH,4,2,"ion-item",0),Qt(3,AH,4,2,"ion-item",0),Qt(4,PH,4,2,"ion-item",1),Qt(5,RH,4,2,"ion-item",1),Qt(6,FH,4,1,"ion-item",1),Qt(7,OH,4,1,"ion-item",1),Qt(8,NH,4,2,"ion-item",0),Qt(9,LH,4,1,"ion-item",1),Qt(10,$H,4,1,"ion-item",1),oe(11,"ion-item",2),st("click",function(){return t.help()}),oe(12,"ion-label"),Ye(13,"Help"),J(),ct(14,"ion-icon",3),J()()),2&e&&(Xe(1),rt("ngIf",t.hasActiveSession&&!t.powerDisabled),Xe(1),rt("ngIf",t.hasActiveSession),Xe(1),rt("ngIf",t.hasActiveSession),Xe(1),rt("ngIf",t.supportsStorageCard&&!t.hasMountedCard),Xe(1),rt("ngIf",t.supportsStorageCard&&t.hasMountedCard),Xe(1),rt("ngIf",t.isMuted&&!t.isAudioOff),Xe(1),rt("ngIf",!t.isMuted&&!t.isAudioOff),Xe(1),rt("ngIf",t.hasActiveSession),Xe(1),rt("ngIf",t.hasActiveSession),Xe(1),rt("ngIf",t.hasActiveSession),Xe(1),rt("detail",!1))},dependencies:[hi,gi,ai,ss,Ua]});class VH{constructor(e,t){this.emulationService=e,this.canvasDisplayService=t,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const u=this.determineArea(a);if(2===u){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:u,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:u}),this.emulationService.handlePointerMove(...a,1===u)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const u=a.area;switch(u){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const m=this.canvasDisplayService.determineButton(f);m===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):m!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=m,this.handleButtonDown(m));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===u);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(e,t=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=e,this.keyEventTarget=t||window,this.addEventListener(e,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(e,"touchstart",this.handleTouchStart),this.addEventListener(e,"touchmove",this.handleTouchMove),this.addEventListener(e,"touchend",this.handleTouchEnd),this.addEventListener(e,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const e of this.activeButtons)this.handleButtonUp(e);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(e){this.gameMode=e,this.onToggleGameMode()}setGameModeHotkeyEnabled(e){this.enableGamemodeHotkey=e}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(e,t,r,o){e.addEventListener(t,r,o)}removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}determineArea(e){return this.canvasDisplayService.isButtons(e)?2:this.canvasDisplayService.isSilkscreen(e)?1:0}handleButtonDown(e){this.activeButtons.has(e)||(this.activeButtons.add(e),this.emulationService.handleButtonDown(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(e){void 0===e||!this.activeButtons.has(e)||(this.activeButtons.delete(e),this.emulationService.handleButtonUp(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(e){return this.isGameModeHotkeyEnabled()&&("Shift"===e.key&&e.ctrlKey||"Control"===e.key&&e.shiftKey)}isGameModeActive(e){return!this.gameMode&&e.ctrlKey||this.gameMode&&!e.ctrlKey}buttonFromEvent(e){switch(e.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(e))switch(e.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(e){if(!this.isGameModeActive(e)){if(1===e.key.length&&e.key.charCodeAt(0)<=255)return e.key.charCodeAt(0);switch(e.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}class vd extends VH{constructor(e,t,r,o,i){super(e,t),this.modalWatcher=r,this.ngZone=o,this.app=i}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,t,r,o){this.ngZone.runOutsideAngular(()=>e.addEventListener(t,r,o))}}function qx(n){return/\.(prc|pdb|pqa)$/i.test(n)}vd.\u0275fac=function(e){return new(e||vd)(ee(cs),ee(Ml),ee(lc),ee(dt),ee(Ul))},vd.\u0275prov=mt({token:vd,factory:vd.\u0275fac,providedIn:"root"});class zH{constructor(e,t,r,o){this.cloudpilotService=e,this.alertController=t,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var e=this;return(0,ae.Z)(function*(){for(const t of e.files){let r;try{r=yield t.getContent()}catch(o){console.warn(o),e.filesFail.push(t.name);continue}if(/\.zip/i.test(t.name)&&r.length<33554432)try{yield e.installZip(t)}catch{e.filesFail.push(t.name)}else qx(t.name)?yield e.installOne(t.name,r):e.filesFail.push(t.name)}return[e.filesSuccess,e.filesRequireReset,e.filesFail]})()}installOne(e,t){var r=this;return(0,ae.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(t);switch(i){case 2:r.filesRequireReset.push(e),r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;case 1:r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;default:r.filesFail.push(e),yield r.reportError(e,i)}if(2===i||1===i)try{const s=function GH(n){if(n.length<32)throw new Error("not a database");let e;for(e=0;e<32&&0!==n[e];e++);if(e>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(n.subarray(0,e))}(t);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${e} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,e)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.cloudpilotService.cloudpilot).withZipfileWalker(yield e.getContent(),function(){var o=(0,ae.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!qx(i.GetCurrentEntryName())){i.Next();continue}const u=i.GetCurrentEntryContent();u?(yield t.installOne(a,u),s++):t.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(e,t){return this.errorDialog("Item failed to install",`Could not install ${e}: ${function HH(n){switch(n){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(t)}.`)}errorDialog(e,t){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:e,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:t,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}class bd{constructor(e,t,r,o,i,s){this.cloudpilotService=e,this.emulationService=t,this.loadingController=r,this.snapshotService=o,this.alertService=i,this.alertController=s}installFiles(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create({message:"Installing..."});yield r.present(),yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();let o=[],i=[],s=[];try{[o,s,i]=yield new zH(t.cloudpilotService,t.alertController,t.snapshotService,e).run()}finally{r.dismiss(),t.emulationService.resume()}const a=[t.messageSucces(o),t.messageFailed(i),t.messageRequireReset(s)].filter(f=>!!f).join("<br/><br/>");let u;u=0===i.length?"Installation successful":0===o.length?"Installation failed":"Installation errors",t.alertService.message(u,a,s.length>0?{"Reset now":()=>t.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${kb(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${kb(e)} require a device reset.`:void 0}}bd.\u0275fac=function(e){return new(e||bd)(ee(Wi),ee(cs),ee(Ql),ee(Za),ee(to),ee(Uc))},bd.\u0275prov=mt({token:bd,factory:bd.\u0275fac,providedIn:"root"});class pc{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}pc.\u0275fac=function(e){return new(e||pc)},pc.\u0275prov=mt({token:pc,factory:pc.\u0275fac,providedIn:"root"});const WH=["canvas"];function ZH(n,e){if(1&n){const t=Tr();oe(0,"ion-button",5),st("click",function(){return ln(t),cn(Lt().navigation.lock())}),ct(1,"ion-icon",10),J()}}function qH(n,e){if(1&n){const t=Tr();oe(0,"ion-button",5),st("click",function(){return ln(t),cn(Lt().navigation.unlock())}),ct(1,"ion-icon",11),J()}}function YH(n,e){if(1&n){const t=Tr();oe(0,"ion-button",5),st("click",function(){return ln(t),cn(Lt().showGameModeHint())}),ct(1,"ion-icon",12),J()}}function KH(n,e){if(1&n){const t=Tr();oe(0,"ion-button",5),st("click",function(){return ln(t),cn(Lt().showProxyConnectedHint())}),ct(1,"ion-icon",13),J()}}function XH(n,e){if(1&n){const t=Tr();oe(0,"ion-button",5),st("click",function(){return ln(t),cn(Lt().showSlowdowndHint())}),ct(1,"ion-icon",14),J()}}function QH(n,e){if(1&n){const t=Tr();oe(0,"div",15),Ye(1," The device was reset forcefully. How do you want to boot? "),oe(2,"ion-button",16),st("click",function(){return ln(t),cn(Lt().bootAfterForcefulReset())}),Ye(3,"Normal boot"),J(),oe(4,"ion-button",16),st("click",function(){return ln(t),cn(Lt().bootAfterForcefulResetNoExtensions())}),Ye(5,"No extensions"),J(),oe(6,"ion-button",16),st("click",function(){return ln(t),cn(Lt().bootAfterForcefulResetHardReset())}),Ye(7,"Hard reset"),J()()}}function JH(n,e){1&n&&(oe(0,"div",15)(1,"div"),Ye(2,"No session selected"),J()())}class gp{constructor(e,t,r,o,i,s,a,u,f,m,y,k,M,K,Se,Ge,Ke,vt){var Le=this;this.emulationService=e,this.emulationState=t,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=u,this.alertService=f,this.fileService=m,this.snapshotService=y,this.installlationService=k,this.proxyService=M,this.navigation=K,this.linkApi=Se,this.performanceWatchdogService=Ge,this.cloudpilotService=Ke,this.dragDropService=vt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,ae.Z)(function*(){yield Le.emulationService.bootstrapComplete(),Le.boostrapComplete=!0;const Ot=Le.emulationState.getCurrentSession();Ot&&!Ot.wasResetForcefully&&(yield Le.launchEmulator()),Le.linkApi.installation.requestEvent.addHandler(Le.handleLinkApiInstallationRequest),Le.handleLinkApiInstallationRequest(),Le.dragDropService.registerClient(Le)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Ot=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Ot,this.emulationService.getStatistics())},this.onNewFrame=Ot=>{this.canvasDisplayService.updateEmulationCanvas(Ot)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Ot=this.linkApi.installation.receivePendingUrl();Ot&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Ot} ?`,{OK:()=>this.fileService.openUrl(Ot,Gn=>this.installlationService.installFiles([Gn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Ot} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Ga}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var t=this;return(0,ae.Z)(function*(){(yield t.popoverController.create({component:mp,event:e,componentProps:{showHelp:()=>t.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:ga,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,ae.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,ae.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,ae.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,ae.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,ae.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,ae.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.storageService.updateSessionPartial(t.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,t).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}function Lb(n,e,t){return()=>{const r=t();r!==e&&(n.markForCheck(),e=r)}}function Yx(n,e){let t=n,r=1;for(;e(t);)t=`${n} (${r++})`;return t}gp.\u0275fac=function(e){return new(e||gp)(C(cs),C(Es),C(Qn),C(vd),C(Ml),C(li),C(Hc),C(Ss),C(to),C(js),C(Za),C(bd),C(cc),C(Qc),C(zl),C(Jc),C(Wi),C(pc))},gp.\u0275cmp=ut({type:gp,selectors:[["app-emulation"]],viewQuery:function(e,t){if(1&e&&Nu(WH,5),2&e){let r;Ns(r=Ls())&&(t.canvasRef=r.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,t){if(1&e&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ye(3),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),st("click",function(){return t.installFiles()}),ct(6,"ion-icon",2),J(),Qt(7,ZH,2,0,"ion-button",3),Qt(8,qH,2,0,"ion-button",3),J(),oe(9,"ion-buttons",4)(10,"ion-button",5),st("click",function(o){return t.openContextMenu(o)}),ct(11,"ion-icon",6),J(),Qt(12,YH,2,0,"ion-button",3),Qt(13,KH,2,0,"ion-button",3),Qt(14,XH,2,0,"ion-button",3),J()()(),oe(15,"ion-content")(16,"div",7),st("touchstart",function(o){return t.cancelIfEmulationActive(o)})("touchmove",function(o){return t.cancelIfEmulationActive(o)}),ct(17,"canvas",null,8),J(),Qt(19,QH,8,0,"div",9),Qt(20,JH,3,0,"div",9),J()),2&e){let r,o;Xe(3),Os(t.title),Xe(2),rt("disabled",t.installFileDisabled),Xe(2),rt("ngIf",!t.navigation.isLocked()),Xe(1),rt("ngIf",t.navigation.isLocked()),Xe(4),rt("ngIf",t.eventHandlingService.isGameMode()),Xe(1),rt("ngIf",t.proxyService.isConnected()),Xe(1),rt("ngIf",t.performanceWatchdogService.isSlowdownDetected()),Xe(1),ul("locked",t.navigation.isLocked()),Xe(1),af("display",!t.emulationState.getCurrentSession()||null!=(r=t.emulationState.getCurrentSession())&&r.wasResetForcefully?"none":void 0),Xe(1),af("width",t.cssWidth)("height",t.cssHeight)("display",t.emulationState.getCurrentSession()?"block":"none"),Xe(2),rt("ngIf",null!=(o=t.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),Xe(1),rt("ngIf",!t.emulationState.getCurrentSession()&&t.boostrapComplete)}},dependencies:[hi,ns,rs,os,is,gi,as,ls],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]});class _p{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}_p.\u0275fac=function(e){return new(e||_p)},_p.\u0275cmp=ut({type:_p,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(oe(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),Ye(3," Edit "),J(),oe(4,"ion-item",0),st("click",function(){return t.onSave()}),ct(5,"ion-icon",2),Ye(6," Save "),J(),oe(7,"ion-item",0),st("click",function(){return t.onReset()}),ct(8,"ion-icon",3),Ye(9," Reset "),J(),oe(10,"ion-item",4),st("click",function(){return t.onDelete()}),ct(11,"ion-icon",5),Ye(12," Delete "),J()()),2&e&&(Xe(1),rt("detail",!1),Xe(3),rt("detail",!1),Xe(3),rt("detail",!1),Xe(3),rt("detail",!1))},dependencies:[gi,ai,Ua]});const tG=["slidingItem"];function nG(n,e){if(1&n&&(oe(0,"span"),Ye(1),J()),2&n){const t=Lt();Xe(1),Hi(", OS ",t.decodeVersion(null==t.session?null:t.session.osVersion),"")}}class yp{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new xn,this.resetSession=new xn,this.edit=new xn,this.save=new xn,this.selectItem=new xn,this.interaction=new xn}get device(){return this.session?Ex(this.session.device):""}onContextmenu(e){var t=this;return(0,ae.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:_p,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(),onSave:()=>t.save.emit(),onDelete:()=>t.delete.emit(),onReset:()=>t.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(e){if(void 0===e)return"";const t=function eG(n){return{major:n>>>24&255,minor:n>>>20&15,fix:n>>>16&15,stage:n>>>12&15,build:4095&n}}(e);return`${t.major}.${t.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}function rG(n,e){1&n&&(oe(0,"div",10),ct(1,"ion-spinner"),J())}function oG(n,e){1&n&&(oe(0,"div",11)(1,"div",12),Ye(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),ct(3,"br")(4,"br"),Ye(5," You can find a collection of compatible ROMs on "),oe(6,"a",13),Ye(7,"PalmDB"),J(),Ye(8,". "),J()())}function iG(n,e){if(1&n){const t=Tr();oe(0,"app-session-item",15),st("delete",function(){const i=ln(t).$implicit;return cn(Lt(2).deleteSession(i))})("selectItem",function(){const i=ln(t).$implicit;return cn(Lt(2).launchSession(i))})("edit",function(){const i=ln(t).$implicit;return cn(Lt(2).editSession(i))})("save",function(){const i=ln(t).$implicit;return cn(Lt(2).saveSession(i))})("resetSession",function(){const i=ln(t).$implicit;return cn(Lt(2).resetSession(i))})("interaction",function(){const i=ln(t).$implicit;return cn(Lt(2).lastSessionTouched=i.id)}),J()}if(2&n){const t=e.$implicit,r=Lt(2);rt("session",t)("selected",r.currentSessionId===t.id)("touched",t.id===r.lastSessionTouched)}}function sG(n,e){if(1&n&&(oe(0,"ion-list"),Qt(1,iG,1,3,"app-session-item",14),J()),2&n){const t=Lt();Xe(1),rt("ngForOf",t.sessions)("ngForTrackBy",t.trackSessionBy)}}yp.\u0275fac=function(e){return new(e||yp)(C(Hc))},yp.\u0275cmp=ut({type:yp,selectors:[["app-session-item"]],viewQuery:function(e,t){if(1&e&&Nu(tG,5),2&e){let r;Ns(r=Ls())&&(t.slidingItem=r.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,t){if(1&e){const r=Tr();oe(0,"ion-item-sliding",0,1),st("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit()}),oe(2,"ion-item-options",2)(3,"ion-item-option",3),st("click",function(){return ln(r),Fs(1).close(),cn(t.edit.emit(t.session))}),ct(4,"ion-icon",4),J(),oe(5,"ion-item-option",5),st("click",function(){return ln(r),Fs(1).close(),cn(t.save.emit(t.session))}),ct(6,"ion-icon",6),J()(),oe(7,"ion-item-options",7)(8,"ion-item-option",8),st("click",function(){return ln(r),Fs(1).close(),cn(t.resetSession.emit(t.session))}),ct(9,"ion-icon",9),J(),oe(10,"ion-item-option",10),st("click",function(){return ln(r),Fs(1).close(),cn(t.delete.emit(t.session))}),ct(11,"ion-icon",11),J()(),oe(12,"ion-item",12),st("click",function(){return t.selectItem.emit()}),oe(13,"ion-label")(14,"h2"),Ye(15),J(),oe(16,"p"),Ye(17),Qt(18,nG,2,1,"span",13),J()()()()}2&e&&(Xe(12),rt("color",t.color),Xe(1),ul("in-item-color",t.selected),Xe(2),Os(null==t.session?null:t.session.name),Xe(2),cf("",t.device,", ",null==t.session?null:t.session.ram,"MB RAM"),Xe(1),rt("ngIf",null==t.session?null:t.session.osVersion))},dependencies:[hi,gi,ai,Um,Hm,Gm,ss],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class Ka{constructor(e,t,r,o,i,s,a,u,f,m,y,k,M){this.sessionService=e,this.fileService=t,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=u,this.linkApi=f,this.router=m,this.cloudpilotService=y,this.dragDropService=k,this.cd=M,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const K=this.linkApi.import.receivePendingUrl();K&&this.alertService.message("Import request",`Do you want to import<br>${K} ?`,{OK:()=>this.fileService.openUrl(K,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=Lb(M,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,t)=>e.name.localeCompare(t.name))}deleteSession(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>t.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var t=this;return(0,ae.Z)(function*(){const r={...e};(yield t.editSettings(e))&&!$x()(e,r)&&(yield t.sessionService.updateSession(e))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){return this.fileService.saveSession(e)}trackSessionBy(e,t){return t.id}launchSession(e){var t=this;return(0,ae.Z)(function*(){t.lastSessionTouched=e.id,t.currentSessionOverride=e.id,t.cd.markForCheck();const r=yield t.emulationService.switchSession(e.id);t.currentSessionOverride=void 0,t.cd.markForCheck(),r&&t.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var t=this;return(0,ae.Z)(function*(){const r=e.id===t.emulationState.getCurrentSession()?.id;r&&(yield t.emulationService.stop()),yield t.storageService.deleteStateForSession(e),yield t.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),r&&(yield t.emulationService.switchSession(e.id)),yield(yield t.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:ga,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleDropFiles.bind(this))}handleDropFiles(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(e[0])}}processFile(e){var t=this;return(0,ae.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void t.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");let r;try{r=yield e.getContent()}catch(i){return console.warn(i),void(yield t.alertService.errorMessage(`Unable to open ${e.name}.`))}const o=(yield t.cloudpilotService.cloudpilot).deserializeSessionImage(r);if(o){const i={name:t.disambiguateSessionName(o.metadata?.name??e.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield t.editSettings(i)){const s=yield t.sessionService.addSessionFromImage(o,i.name,i);t.lastSessionTouched=s.id}}else{const i=(yield t.cloudpilotService.cloudpilot).getRomInfo(r);if(!i)return void t.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void t.alertService.errorMessage("No supported device for this ROM.");const s={name:t.disambiguateSessionName(e.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield t.editSettings(s,i.supportedDevices)){const a=yield t.sessionService.addSessionFromRom(r,s.name,s.device,s);t.lastSessionTouched=a.id}}})()}editSettings(e,t=[e.device]){return new Promise(r=>{let o;this.modalController.create({component:_d,backdropDismiss:!1,componentProps:{session:e,availableDevices:t,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(e){const t=this.sessionService.getSessions();return Yx(e,r=>t.some(o=>o.name===r))}}function aG(n,e){1&n&&(oe(0,"ion-item",8)(1,"ion-label"),Ye(2,"Clipboard integration"),J(),ct(3,"ion-toggle",17),J())}function lG(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8)(1,"ion-label",18),Ye(2,"Proxy server"),J(),oe(3,"div",19),ct(4,"ion-input",20),oe(5,"ion-button",21),st("click",function(o){ln(t);const i=Lt();return o.preventDefault(),o.stopPropagation(),cn(i.testProxyConnection())})("touchstart",function(o){ln(t);const i=Lt();return o.preventDefault(),o.stopPropagation(),cn(i.testProxyConnection())}),Ye(6," Test "),J()()()}if(2&n){const t=Lt();Xe(5),rt("disabled",!t.proxyServerValid)}}Ka.\u0275fac=function(e){return new(e||Ka)(C(qa),C(js),C(Uc),C(to),C(cs),C(Es),C(Qn),C(Ss),C(zl),C(Ko),C(Wi),C(pc),C(kt))},Ka.\u0275cmp=ut({type:Ka,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,t){1&e&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ye(3,"Sessions"),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),st("click",function(){return t.importSession()}),ct(6,"ion-icon",2),J()(),oe(7,"ion-buttons",3)(8,"ion-button",1),st("click",function(){return t.showHelp()}),ct(9,"ion-icon",4),J(),ct(10,"app-pwa-prompt"),J()()(),oe(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ye(15,"Sessions"),J()()(),Qt(16,rG,2,0,"div",7),Qt(17,oG,9,0,"div",8),Qt(18,sG,2,2,"ion-list",9),J()),2&e&&(Xe(16),rt("ngIf",t.sessionService.isLoading()),Xe(1),rt("ngIf",!t.sessionService.isLoading()&&0===t.sessions.length),Xe(1),rt("ngIf",!t.sessionService.isLoading()&&t.sessions.length>0))},dependencies:[Pc,hi,ns,rs,os,is,gi,Ua,ep,as,ls,dc,yp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),j([fo()],Ka.prototype,"deleteSession",null),j([fo()],Ka.prototype,"editSession",null),j([fo()],Ka.prototype,"saveSession",null),j([fo()],Ka.prototype,"launchSession",null),j([fo()],Ka.prototype,"resetSession",null);class vp{constructor(e,t,r,o,i){this.modalController=e,this.kvsService=t,this.clipboardService=r,this.alertService=o,this.proxyService=i,this.onAudioOnStartChange=s=>{this.kvsService.kvs.enableAudioOnFirstInteraction=s,s&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:ga,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,ae.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,ae.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new dm({volume:new mi(this.kvsService.kvs.volume),showStatistics:new mi(this.kvsService.kvs.showStatistics),runHidden:new mi(this.kvsService.kvs.runHidden),clipboardIntegration:new mi(this.kvsService.kvs.clipboardIntegration),networkRedirection:new mi(this.kvsService.kvs.networkRedirection),proxyServer:new mi(this.kvsService.kvs.proxyServer,{validators:[N6]}),autoLockUI:new mi(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new mi(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new mi(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}vp.\u0275fac=function(e){return new(e||vp)(C(Ss),C(li),C(Zc),C(to),C(cc))},vp.\u0275cmp=ut({type:vp,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ye(3,"Settings"),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.showHelp()}),ct(6,"ion-icon",3),J(),ct(7,"app-pwa-prompt"),J()()(),oe(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),Ye(12,"Settings"),J()()(),oe(13,"div",6)(14,"form",7)(15,"h1"),Ye(16,"Emulation"),J(),oe(17,"ion-item",8)(18,"ion-label"),Ye(19,"Volume"),J(),ct(20,"ion-range",9),J(),oe(21,"ion-item",8)(22,"ion-label"),Ye(23,"Enable audio on start"),J(),ct(24,"ion-toggle",10),J(),oe(25,"ion-item",8)(26,"ion-label"),Ye(27,"Run when hidden"),J(),ct(28,"ion-toggle",11),J(),oe(29,"h1"),Ye(30,"Host integration"),J(),Qt(31,aG,4,0,"ion-item",12),oe(32,"ion-item",8)(33,"ion-label"),Ye(34,"Network redirection"),J(),ct(35,"ion-toggle",13),J(),Qt(36,lG,7,1,"ion-item",12),oe(37,"h1"),Ye(38,"UI"),J(),oe(39,"ion-item",8)(40,"ion-label"),Ye(41,"Auto-lock UI"),J(),ct(42,"ion-toggle",14),J(),oe(43,"ion-item",8)(44,"ion-label"),Ye(45,"Show statistics"),J(),ct(46,"ion-toggle",15),J(),oe(47,"ion-item",8)(48,"ion-label"),Ye(49,"Open from remote sources"),J(),ct(50,"ion-toggle",16),J()()()()),2&e&&(rt("translucent",!0),Xe(14),rt("formGroup",t.formGroup),Xe(17),rt("ngIf",t.clipboardService.isSupported()),Xe(5),rt("ngIf",t.showProxyServer))},dependencies:[hi,vl,_l,yl,ns,rs,os,is,gi,Dl,ai,ss,ob,as,tp,ls,od,Jf,El,dc,pa,Ba],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]});class eu{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}function cG(n,e){1&n&&(oe(0,"div",14)(1,"b"),Ye(2,"WARNING:"),J(),Ye(3," This image cannot be used as a memory stick image."),J())}eu.\u0275fac=function(e){return new(e||eu)},eu.\u0275pipe=yo({name:"cardSize",type:eu,pure:!0});class Cd{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value&&r.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Kl({name:new ws("",{nonNullable:!0,validators:[Mf.required,this.validateNameUnique]}),size:new ws({value:"dummy",disabled:!0}),checkAutomatically:new ws(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}function uG(n,e){if(1&n&&(oe(0,"ion-select-option",13),Ye(1),Fa(2,"cardSize"),J()),2&n){const t=e.$implicit,r=Lt();rt("value",t),Xe(1),Hi("",Oa(2,2,r.sizeBytes(t))," ")}}Cd.\u0275fac=function(e){return new(e||Cd)(C(_a))},Cd.\u0275cmp=ut({type:Cd,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ye(3),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.save()}),Ye(6,"Save"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),Ye(9,"Cancel"),J()()()(),oe(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),oe(12,"ion-item",7)(13,"ion-label",8),Ye(14,"Card name"),J(),ct(15,"ion-input",9),J(),oe(16,"ion-item",7)(17,"ion-label",8),Ye(18,"Card size"),J(),oe(19,"ion-select",10)(20,"ion-select-option",11),Ye(21),Fa(22,"cardSize"),J()()(),oe(23,"ion-item",7)(24,"ion-label"),Ye(25,"Check for errors automatically"),J(),ct(26,"ion-toggle",12),J()(),Qt(27,cG,4,0,"div",13),J()),2&e&&(Xe(3),Os(t.newCard?"New memory card":"Edit memory card"),Xe(2),rt("disabled",t.formGroup.invalid),Xe(6),rt("formGroup",t.formGroup),Xe(10),Hi("",Oa(22,5,null==t.card?null:t.card.size)," "),Xe(6),rt("ngIf",!t.memoryStickSupported))},dependencies:[hi,ns,rs,os,is,Dl,ai,ss,zm,Wm,as,tp,ls,od,Jf,El,vl,_l,yl,pa,Ba,eu],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]});const dG=[Mo.mb4,Mo.mb8,Mo.mb16,Mo.mb32,Mo.mb64,Mo.mb128];class bp{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Kl({name:new ws("",{nonNullable:!0,validators:[Mf.required,this.validateNameUnique]}),size:new ws(Mo.mb32,{nonNullable:!0}),checkAutomatically:new ws(!0,{nonNullable:!0})})}get sizes(){return dG}sizeBytes(e){return function q6(n){switch(n){case Mo.mb4:return 4046848;case Mo.mb8:return 8110080;case Mo.mb16:return 16220160;case Mo.mb32:return 32473088;case Mo.mb64:return 64978944;case Mo.mb128:return 129990656;default:throw new Error(`bad card size ${n}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}bp.\u0275fac=function(e){return new(e||bp)(C(_a))},bp.\u0275cmp=ut({type:bp,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ye(3,"New memory card"),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.create()}),Ye(6,"Create"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),Ye(9,"Cancel"),J()()()(),oe(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),oe(12,"ion-item",7)(13,"ion-label",8),Ye(14,"Card name"),J(),ct(15,"ion-input",9),J(),oe(16,"ion-item",7)(17,"ion-label",8),Ye(18,"Card size"),J(),oe(19,"ion-select",10),Qt(20,uG,3,4,"ion-select-option",11),J()(),oe(21,"ion-item",7)(22,"ion-label"),Ye(23,"Check for errors automatically"),J(),ct(24,"ion-toggle",12),J()()()),2&e&&(Xe(5),rt("disabled",t.formGroup.invalid),Xe(6),rt("formGroup",t.formGroup),Xe(9),rt("ngForOf",t.sizes))},dependencies:[Pc,ns,rs,os,is,Dl,ai,ss,zm,Wm,as,tp,ls,od,Jf,El,vl,_l,yl,pa,Ba,eu]});class Cp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}Cp.\u0275fac=function(e){return new(e||Cp)},Cp.\u0275cmp=ut({type:Cp,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(oe(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),Ye(3," Edit "),J(),oe(4,"ion-item",0),st("click",function(){return t.onSave()}),ct(5,"ion-icon",2),Ye(6," Save "),J(),oe(7,"ion-item",0),st("click",function(){return t.onCheck()}),ct(8,"ion-icon",3),Ye(9," Check "),J(),oe(10,"ion-item",4),st("click",function(){return t.onDelete()}),ct(11,"ion-icon",5),Ye(12," Delete "),J()()),2&e&&(Xe(1),rt("detail",!1),Xe(3),rt("detail",!1),Xe(3),rt("detail",!1),Xe(3),rt("detail",!1))},dependencies:[gi,ai,Ua]});class wp{constructor(e,t){this.storageCardService=e,this.popoverController=t,this.touched=!1,this.interaction=new xn,this.selectCard=new xn,this.edit=new xn,this.check=new xn,this.delete=new xn,this.save=new xn}onContextmenu(e){var t=this;return(0,ae.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:Cp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(t.card),onSave:()=>t.save.emit(t.card),onCheck:()=>t.check.emit(),onDelete:()=>t.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case kr.dirty:return"needs check";case kr.clean:return"no errors";case kr.unformatted:return"no filesystem";case kr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}function fG(n,e){1&n&&(oe(0,"div",10),ct(1,"ion-spinner"),J())}function pG(n,e){1&n&&(oe(0,"div",11)(1,"div",12),Ye(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),J()())}function hG(n,e){if(1&n){const t=Tr();oe(0,"app-storage-card",14),st("delete",function(){const i=ln(t).$implicit;return cn(Lt(2).deleteCard(i))})("selectCard",function(){const i=ln(t).$implicit;return cn(Lt(2).selectCard(i))})("edit",function(){const i=ln(t).$implicit;return cn(Lt(2).editCard(i))})("check",function(){const i=ln(t).$implicit;return cn(Lt(2).checkCard(i))})("interaction",function(){const i=ln(t).$implicit;return cn(Lt(2).lastCardTouched=i.id)})("save",function(){const i=ln(t).$implicit;return cn(Lt(2).saveCard(i))}),J()}if(2&n){const t=e.$implicit,r=Lt(2);rt("card",t)("touched",t.id===r.lastCardTouched)}}function mG(n,e){if(1&n&&(oe(0,"ion-list"),Qt(1,hG,1,2,"app-storage-card",13),J()),2&n){const t=Lt();Xe(1),rt("ngForOf",t.cards)("ngForTrackBy",t.trackCardBy)}}wp.\u0275fac=function(e){return new(e||wp)(C(_a),C(Hc))},wp.\u0275cmp=ut({type:wp,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,t){if(1&e){const r=Tr();oe(0,"ion-item-sliding",0,1),st("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.card)}),oe(2,"ion-item-options",2)(3,"ion-item-option",3),st("click",function(){return ln(r),Fs(1).close(),cn(t.edit.emit(t.card))}),ct(4,"ion-icon",4),J(),oe(5,"ion-item-option",5),st("click",function(){return ln(r),Fs(1).close(),cn(t.save.emit(t.card))}),ct(6,"ion-icon",6),J()(),oe(7,"ion-item-options",7)(8,"ion-item-option",8),st("click",function(){return ln(r),Fs(1).close(),cn(t.check.emit(t.card))}),ct(9,"ion-icon",9),J(),oe(10,"ion-item-option",10),st("click",function(){return ln(r),Fs(1).close(),cn(t.delete.emit(t.card))}),ct(11,"ion-icon",11),J()(),oe(12,"ion-item",12),st("click",function(){return t.selectCard.emit(),t.interaction.emit()}),oe(13,"ion-label")(14,"h2"),Ye(15),J(),oe(16,"p"),Ye(17),Fa(18,"cardSize"),J()()()()}2&e&&(Xe(12),rt("color",t.color),Xe(3),Os(null==t.card?null:t.card.name),Xe(2),cf("",Oa(18,4,null==t.card?null:t.card.size),", ",t.status,""))},dependencies:[gi,ai,Um,Hm,Gm,ss,eu],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class ya{constructor(e,t,r,o,i,s,a,u,f){var m=this;this.actionSheetController=e,this.storageCardService=t,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=u,this.handleCardImport=function(){var y=(0,ae.Z)(function*(k){const M=yield m.cloudpilotService.cloudpilot;let K;try{K=yield k.getContent()}catch(Ke){return console.warn(Ke),void(yield m.alertService.errorMessage(`Unable to open ${k.name}".`))}const Se=M.getCardSupportLevel(K.length);if(0===Se)return void m.alertService.errorMessage("This is not a supported card image.");const Ge=yield new Promise(function(){var Ke=(0,ae.Z)(function*(vt){const Le=yield m.modalController.create({component:Cd,backdropDismiss:!1,componentProps:{card:{name:m.disambiguateName(k.name),size:K.length},cardSupportLevel:Se,newCard:!0,onCancel:()=>{Le.dismiss(),vt(void 0)},onSave:Ot=>{vt(Ot),Le.dismiss()}}});yield Le.present()});return function(vt){return Ke.apply(this,arguments)}}());Ge&&(yield m.storageCardService.createCardFromImage(Ge.name,K,!!Ge.dontFsckAutomatically))});return function(k){return y.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=Lb(f,[],()=>this.storageCardService.getAllCards())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleFilesFromDrop.bind(this))}addCardImage(){var e=this;return(0,ae.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:ga,componentProps:{url:"assets/doc/cards.md"}})).present()})()}selectCard(e){var t=this;return(0,ae.Z)(function*(){(yield t.storageCardService.browseCard(e))&&t.onMountForBrowse(e)})()}editCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.cloudpilotService.cloudpilot,o=yield t.modalController.create({component:Cd,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:r.getCardSupportLevel(e.size),onCancel:()=>o.dismiss(),onSave:(i=(0,ae.Z)(function*(s){yield t.storageCardService.updateCard(e.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(e){return this.storageCardService.saveCard(e.id,`${og(e.name.replace(/\.img$/,""))}.img`)}checkCard(e){return this.storageCardService.checkCard(e)}deleteCard(e){var t=this;return(0,ae.Z)(function*(){var o;yield(yield t.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,ae.Z)(function*(){try{yield t.storageCardService.deleteCard(e.id)}catch(i){t.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(e,t){return t.id}handleFilesFromDrop(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(e[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,ae.Z)(function*(){const t=yield e.modalController.create({component:bp,backdropDismiss:!1,componentProps:{onCancel:()=>t.dismiss(),onCreate:(r=(0,ae.Z)(function*(o,i,s){yield e.storageCardService.createEmptyCard(o,i,s),yield t.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield t.present()})()}disambiguateName(e){const t=this.storageCardService.getAllCards();return Yx(e,r=>t.some(o=>o.name===r))}}function gG(n,e){1&n&&ct(0,"ion-icon",8)}function _G(n,e){1&n&&ct(0,"ion-icon",9)}function yG(n,e){1&n&&ct(0,"ion-icon",10)}function vG(n,e){if(1&n){const t=Tr();oe(0,"ion-item",2),st("click",function(){const i=ln(t).index;return cn(Lt(2).onSelect(i))}),nf(1,3),Qt(2,gG,1,0,"ion-icon",4),Qt(3,_G,1,0,"ion-icon",5),Qt(4,yG,1,0,"ion-icon",6),rf(),oe(5,"div",7),Ye(6),J()()}if(2&n){const t=e.$implicit,r=e.index,o=Lt(2);rt("detail",!1)("lines",r===o.entries.length-1?"none":"full"),Xe(1),rt("ngSwitch",o.entries.length),Xe(1),rt("ngSwitchCase",r+1),Xe(1),rt("ngSwitchCase",r+2),Xe(3),Os(t)}}function bG(n,e){if(1&n&&(oe(0,"ion-list"),Qt(1,vG,7,6,"ion-item",1),J()),2&n){const t=Lt();Xe(1),rt("ngForOf",t.entries)}}ya.\u0275fac=function(e){return new(e||ya)(C(ip),C(_a),C(Ss),C(Uc),C(Wi),C(to),C(Xs),C(js),C(kt))},ya.\u0275cmp=ut({type:ya,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,t){1&e&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ye(3,"Memory cards"),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),st("click",function(){return t.addCardImage()}),ct(6,"ion-icon",2),J()(),oe(7,"ion-buttons",3)(8,"ion-button",1),st("click",function(){return t.showHelp()}),ct(9,"ion-icon",4),J(),ct(10,"app-pwa-prompt"),J()()(),oe(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ye(15,"Memory cards"),J()()(),Qt(16,fG,2,0,"div",7),Qt(17,pG,3,0,"div",8),Qt(18,mG,2,2,"ion-list",9),J()),2&e&&(Xe(16),rt("ngIf",t.storageCardService.isLoading()),Xe(1),rt("ngIf",!t.storageCardService.isLoading()&&0===t.cards.length),Xe(1),rt("ngIf",!t.storageCardService.isLoading()&&t.cards.length>0))},dependencies:[Pc,hi,ns,rs,os,is,gi,Ua,ep,as,ls,dc,wp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),j([fo()],ya.prototype,"addCardImage",null),j([fo()],ya.prototype,"selectCard",null),j([fo()],ya.prototype,"editCard",null),j([fo()],ya.prototype,"saveCard",null),j([fo()],ya.prototype,"checkCard",null),j([fo()],ya.prototype,"deleteCard",null);class Sp{constructor(){this.onSelect=()=>{}}}Sp.\u0275fac=function(e){return new(e||Sp)},Sp.\u0275cmp=ut({type:Sp,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,t){1&e&&Qt(0,bG,2,1,"ion-list",0),2&e&&rt("ngIf",t.entries)},dependencies:[Pc,hi,Kh,iD,sD,gi,ai,Ua],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});class Ep{constructor(e){this.vfsService=e,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}Ep.\u0275fac=function(e){return new(e||Ep)(C(Js))},Ep.\u0275cmp=ut({type:Ep,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,t){1&e&&(oe(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onStartSelection()}),ct(2,"ion-icon",1),Ye(3," Start selection "),J(),oe(4,"ion-item",2),st("click",function(){return t.onAddFiles()}),ct(5,"ion-icon",3),Ye(6," Add files "),J(),oe(7,"ion-item",2),st("click",function(){return t.onCreateDirectry()}),ct(8,"ion-icon",4),Ye(9," Add directory "),J(),oe(10,"ion-item",2),st("click",function(){return t.onExtractZipfile()}),ct(11,"ion-icon",5),Ye(12," Extract zip "),J(),oe(13,"ion-item",0),st("click",function(){return t.onPaste()}),ct(14,"ion-icon",6),Ye(15," Paste "),J(),oe(16,"ion-item",7),st("click",function(){return t.onHelp()}),ct(17,"ion-icon",8),Ye(18," Help "),J()()),2&e&&(Xe(1),rt("detail",!1)("disabled",t.emptyDirectory),Xe(3),rt("detail",!1),Xe(3),rt("detail",!1),Xe(3),rt("detail",!1),Xe(3),rt("detail",!1)("disabled",!t.vfsService.isClipboardPopulated()),Xe(3),rt("detail",!1))},dependencies:[gi,ai,Ua]});class tu{constructor(e,t){this.modalController=e,this.vfsService=t,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Kl({name:new ws("",{nonNullable:!0,validators:[Mf.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new ws(!1,{nonNullable:!0}),attrHidden:new ws(!1,{nonNullable:!0}),attrSystem:new ws(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var e=this;return(0,ae.Z)(function*(){yield e.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var e=this;return(0,ae.Z)(function*(){yield e.save()})()}save(){var e=this;return(0,ae.Z)(function*(){e.entry&&e.formGroup.valid&&(yield e.vfsService.updateFileEntry(e.entry.path,{name:e.formGroup.controls.name.value??"",attributes:{hidden:!!e.formGroup.controls.attrHidden.value,readonly:!!e.formGroup.controls.attrReadonly.value,system:!!e.formGroup.controls.attrSystem.value}}),e.onSave(),e.modalController.dismiss())})()}}tu.\u0275fac=function(e){return new(e||tu)(C(Ss),C(Js))},tu.\u0275cmp=ut({type:tu,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ye(3),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.onSaveClick()}),Ye(6,"Save"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancelClick()}),Ye(9,"Cancel"),J()()()(),oe(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),oe(12,"ion-item",7)(13,"ion-label",8),Ye(14),J(),ct(15,"ion-input",9),J(),oe(16,"ion-item",7)(17,"h2"),Ye(18,"Attributes"),J()(),oe(19,"ion-item",7)(20,"ion-label"),ct(21,"ion-icon",10),Ye(22,"Readonly"),J(),ct(23,"ion-checkbox",11),J(),oe(24,"ion-item",7)(25,"ion-label"),ct(26,"ion-icon",12),Ye(27,"Hidden"),J(),ct(28,"ion-checkbox",13),J(),oe(29,"ion-item",7)(30,"ion-label"),ct(31,"ion-icon",14),Ye(32,"System"),J(),ct(33,"ion-checkbox",15),J()()()),2&e&&(Xe(3),Hi("Edit ",t.subjectName.toLowerCase(),""),Xe(2),rt("disabled",t.formGroup.invalid),Xe(6),rt("formGroup",t.formGroup),Xe(3),Hi("",t.subjectName," name"),Xe(1),Dh("placeholder","Enter ",t.subjectName.toLowerCase()," name"))},dependencies:[ns,rs,Ek,os,is,gi,Dl,ai,ss,as,ls,od,El,vl,_l,yl,pa,Ba],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),j([fo()],tu.prototype,"onSaveClick",null),j([fo()],tu.prototype,"onEnter",null);class Dp{constructor(e,t){this.el=e,this.zone=t;const r=e.nativeElement.querySelector("input");r?r.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const e=this.el.nativeElement.querySelector("input");e&&(setTimeout(()=>e.focus(),100),this.observer?.disconnect())}}Dp.\u0275fac=function(e){return new(e||Dp)(C(_t),C(dt))},Dp.\u0275dir=Mt({type:Dp,selectors:[["","appAutofocus",""]]});class Ip{constructor(e,t){this.vfsService=e,this.modalController=t,this.validateNameUnique=r=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Kl({name:new ws("",{nonNullable:!0,validators:[Mf.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}function Kx(n){let e,t,r=!1;return o=>((!r||o!==e)&&(e=o,r=!0,t=n(o)),t)}Ip.\u0275fac=function(e){return new(e||Ip)(C(Js),C(Ss))},Ip.\u0275cmp=ut({type:Ip,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["translucent",""],["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ye(3,"Create directory"),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.onCreateClick()}),Ye(6,"Create"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancelClick()}),Ye(9,"Cancel"),J()()()(),oe(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),oe(12,"ion-item",7)(13,"ion-label",8),Ye(14,"Directory name"),J(),ct(15,"ion-input",9),J()()()),2&e&&(Xe(5),rt("disabled",t.formGroup.invalid),Xe(6),rt("formGroup",t.formGroup))},dependencies:[ns,rs,os,is,Dl,ai,ss,as,ls,El,vl,_l,yl,pa,Ba,Dp]});class kp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}kp.\u0275fac=function(e){return new(e||kp)},kp.\u0275cmp=ut({type:kp,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(oe(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),Ye(3," Edit "),J(),oe(4,"ion-item",0),st("click",function(){return t.onSave()}),ct(5,"ion-icon",2),Ye(6," Save "),J(),oe(7,"ion-item",0),st("click",function(){return t.onCopy()}),ct(8,"ion-icon",3),Ye(9," Copy "),J(),oe(10,"ion-item",0),st("click",function(){return t.onCut()}),ct(11,"ion-icon",4),Ye(12," Cut "),J(),oe(13,"ion-item",5),st("click",function(){return t.onDelete()}),ct(14,"ion-icon",6),Ye(15," Delete "),J()()),2&e&&(Xe(1),rt("detail",!1),Xe(3),rt("detail",!1),Xe(3),rt("detail",!1),Xe(3),rt("detail",!1),Xe(3),rt("detail",!1))},dependencies:[gi,ai,Ua]});class wd{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}wd.\u0275fac=function(e){return new(e||wd)},wd.\u0275pipe=yo({name:"fileSize",type:wd,pure:!0});const CG=["slidingItem"];function wG(n,e){1&n&&ct(0,"ion-icon",23)}function SG(n,e){1&n&&ct(0,"ion-icon",24)}function EG(n,e){1&n&&ct(0,"ion-icon",25)}function DG(n,e){1&n&&ct(0,"ion-icon",26)}function IG(n,e){1&n&&ct(0,"ion-icon",27)}function kG(n,e){1&n&&ct(0,"ion-icon",28)}function xG(n,e){1&n&&ct(0,"ion-icon",29)}function MG(n,e){1&n&&ct(0,"ion-icon",30)}function TG(n,e){1&n&&ct(0,"ion-icon",31)}function AG(n,e){if(1&n&&(nf(0),Ye(1),Fa(2,"fileSize"),rf()),2&n){const t=Lt();Xe(1),Hi(" - ",Oa(2,1,null==t.entry?null:t.entry.size)," ")}}class xp{constructor(e,t,r){this.actionSheetController=e,this.popoverController=t,this.vfsService=r,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new xn,this.selectEntry=new xn,this.editEntry=new xn,this.copyEntry=new xn,this.cutEntry=new xn,this.deleteEntry=new xn,this.saveEntry=new xn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var t=this;return(0,ae.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:kp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.editEntry.emit(t.entry),onSave:()=>t.saveEntry.emit(t.entry),onCopy:()=>t.copyEntry.emit(t.entry),onCut:()=>t.cutEntry.emit(t.entry),onDelete:()=>t.deleteEntry.emit(t.entry)},reference:"event"})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var e=this;return(0,ae.Z)(function*(){const t=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${t}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${t}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}function PG(n,e){if(1&n){const t=Tr();oe(0,"ion-toolbar")(1,"ion-title",6),st("click",function(o){return ln(t),cn(Lt().openBreadcrumbMenu(o))}),oe(2,"div",7)(3,"div",8),Ye(4),J(),ct(5,"div",9),J()(),oe(6,"ion-buttons",10),ct(7,"ion-back-button"),J(),oe(8,"ion-buttons",11)(9,"ion-button",12),st("click",function(o){return ln(t),cn(Lt().openContextMenu(o,"trigger"))}),ct(10,"ion-icon",13),J()()()}if(2&n){const t=Lt();Xe(1),rt("id",t.breadcrumbTriggerId),Xe(3),Os(t.title)}}function RG(n,e){if(1&n){const t=Tr();oe(0,"ion-buttons",15)(1,"ion-button",12),st("click",function(){return ln(t),cn(Lt(2).onSelectAll())}),Ye(2,"Select all"),J()()}}function FG(n,e){if(1&n){const t=Tr();oe(0,"ion-buttons",15)(1,"ion-button",12),st("click",function(){return ln(t),cn(Lt(2).selection.clear())}),Ye(2,"Clear"),J()()}}function OG(n,e){if(1&n){const t=Tr();oe(0,"ion-toolbar")(1,"ion-title"),Ye(2,"Selection"),J(),oe(3,"ion-buttons",11)(4,"ion-button",12),st("click",function(){return ln(t),cn(Lt().onSelectionDone())}),Ye(5),J()(),Qt(6,RG,3,0,"ion-buttons",14),Qt(7,FG,3,0,"ion-buttons",14),J()}if(2&n){const t=Lt();Xe(5),Os(0===t.selection.size?"Cancel":"Done"),Xe(1),rt("ngIf",t.selection.size!==(null==t.entries?null:t.entries.length)),Xe(1),rt("ngIf",t.selection.size===(null==t.entries?null:t.entries.length))}}function NG(n,e){if(1&n&&(oe(0,"div",16)(1,"div",17),Ye(2),J()()),2&n){const t=Lt();Xe(2),Hi(" empty ",t.isRoot?"card":"directory"," ")}}function LG(n,e){if(1&n){const t=Tr();oe(0,"app-file-entry",18),st("selectEntry",function(){const i=ln(t).$implicit;return cn(Lt().onSelect(i))})("editEntry",function(){const i=ln(t).$implicit;return cn(Lt().onEditEntry(i))})("saveEntry",function(){const i=ln(t).$implicit;return cn(Lt().onSaveEntry(i))})("copyEntry",function(){const i=ln(t).$implicit;return cn(Lt().onCopyEntry(i))})("cutEntry",function(){const i=ln(t).$implicit;return cn(Lt().onCutEntry(i))})("deleteEntry",function(){const i=ln(t).$implicit;return cn(Lt().onDeleteEntry(i))})("interaction",function(){const i=ln(t).$implicit;return cn(Lt().lastEntryTouched=i.name)}),J()}if(2&n){const t=e.$implicit,r=Lt();rt("entry",t)("selecting","select"===r.mode)("selected",r.selection.has(t.name))("touched",t.name===r.lastEntryTouched)}}function $G(n,e){if(1&n&&(oe(0,"p"),Ye(1),Fa(2,"fileSize"),Fa(3,"fileSize"),J()),2&n){const t=Lt(2);Xe(1),cf(" ",Oa(2,2,t.bytesFree)," free, ",Oa(3,4,t.bytesTotal)," total ")}}function BG(n,e){if(1&n&&(oe(0,"p"),Ye(1),Fa(2,"fileSize"),J()),2&n){const t=Lt(2);Xe(1),z_(" ",Oa(2,3,t.bytesInFiles)," in ",t.fileCount," ",1===t.fileCount?"file":"files"," ")}}function VG(n,e){if(1&n&&(oe(0,"ion-item",19)(1,"ion-label"),Qt(2,$G,4,6,"p",0),Qt(3,BG,3,5,"p",0),J()()),2&n){const t=Lt();Xe(2),rt("ngIf",t.isRoot),Xe(1),rt("ngIf",t.fileCount>0)}}function jG(n,e){return n.isDirectory&&!e.isDirectory?-1:!n.isDirectory&&e.isDirectory?1:n.name.localeCompare(e.name)}xp.\u0275fac=function(e){return new(e||xp)(C(ip),C(Hc),C(Js))},xp.\u0275cmp=ut({type:xp,selectors:[["app-file-entry"]],viewQuery:function(e,t){if(1&e&&Nu(CG,5),2&e){let r;Ns(r=Ls())&&(t.slidingItem=r.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[Uo],decls:28,vars:19,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","clipboard-outline","size","small","slot","end",1,"attribute-icon"],["name","cut-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,t){if(1&e){const r=Tr();oe(0,"ion-item-sliding",0,1),st("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.entry)}),oe(2,"ion-item-options",2)(3,"ion-item-option",3),st("click",function(){return ln(r),Fs(1).close(),cn(t.editEntry.emit(t.entry))}),ct(4,"ion-icon",4),J(),oe(5,"ion-item-option",5),st("click",function(){return ln(r),Fs(1).close(),cn(t.saveEntry.emit(t.entry))}),ct(6,"ion-icon",6),J()(),oe(7,"ion-item-options",7)(8,"ion-item-option",8),st("click",function(){return ln(r),Fs(1).close(),cn(t.cutOrCopyEntry())}),ct(9,"ion-icon",9),J(),oe(10,"ion-item-option",10),st("click",function(){return ln(r),Fs(1).close(),cn(t.deleteEntry.emit(t.entry))}),ct(11,"ion-icon",11),J()(),oe(12,"ion-item",12),st("click",function(){return t.selectEntry.emit(),t.interaction.emit()}),Qt(13,wG,1,0,"ion-icon",13),Qt(14,SG,1,0,"ion-icon",14),Qt(15,EG,1,0,"ion-icon",15),Qt(16,DG,1,0,"ion-icon",16),Qt(17,IG,1,0,"ion-icon",17),Qt(18,kG,1,0,"ion-icon",18),Qt(19,xG,1,0,"ion-icon",19),Qt(20,MG,1,0,"ion-icon",20),Qt(21,TG,1,0,"ion-icon",21),oe(22,"ion-label")(23,"h2"),Ye(24),J(),oe(25,"p"),Ye(26),Qt(27,AG,3,3,"ng-container",22),J()()()()}2&e&&(rt("disabled",t.selecting),Xe(12),af("opacity",t.touched?1:.99999),ul("is-directory",null==t.entry?null:t.entry.isDirectory),rt("color",t.color)("detail",(null==t.entry?null:t.entry.isDirectory)&&!t.selecting),Xe(1),rt("ngIf",null==t.entry?null:t.entry.isDirectory),Xe(1),rt("ngIf",!(null!=t.entry&&t.entry.isDirectory)),Xe(1),rt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.readonly),Xe(1),rt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.hidden),Xe(1),rt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.system),Xe(1),rt("ngIf",t.markedForCopy),Xe(1),rt("ngIf",t.markedForCut),Xe(1),rt("ngIf",t.selecting&&!t.selected),Xe(1),rt("ngIf",t.selecting&&t.selected),Xe(3),Os(null==t.entry?null:t.entry.name),Xe(2),Hi(" ",null==t.entry?null:t.entry.lastModifiedLocalDate," "),Xe(1),rt("ngIf",!(null!=t.entry&&t.entry.isDirectory)))},dependencies:[hi,gi,ai,Um,Hm,Gm,ss,wd],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"],changeDetection:0});let UG=0;class Ds{constructor(e,t,r,o,i,s,a,u){this.vfsService=e,this.popoverController=t,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=u,this.bytesInFilesMemoized=Kx(f=>f?.reduce((m,y)=>m+(y.isDirectory?0:y.size),0)??0),this.fileCountMemoized=Kx(f=>f?.filter(m=>!m.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+UG++,this.checkEntries=Lb(u,void 0,()=>void 0!==this.path?e.readdir(this.path):void 0)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries()}handleDragDropEvent(e){this.fileService.openFromDrop(e,t=>this.vfsService.addFiles(t,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(jG):[]}trackEntryBy(e,t){return t.name}onSelect(e){"browse"===this.mode?e.isDirectory&&this.onNavigate(e.path):this.selection?.has(e.name)?this.selection.delete(e.name):this.selection.add(e.name)}onEditEntry(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.modalController.create({component:tu,backdropDismiss:!1,componentProps:{entry:e}})).present()})()}onSaveEntry(e){var t=this;return(0,ae.Z)(function*(){t.path&&(e.isDirectory?yield t.vfsService.archiveFiles([e],t.path):yield t.vfsService.saveFile(e))})()}onCopyEntry(e){this.path&&this.vfsService.copyToClipboard(this.path,[e.name],"copy")}onCutEntry(e){this.path&&this.vfsService.copyToClipboard(this.path,[e.name],"cut")}onDeleteEntry(e){var t=this;return(0,ae.Z)(function*(){e.isDirectory?yield t.vfsService.deleteRecursive([e]):yield t.vfsService.unlinkEntry(e)})()}onAddFiles(){this.fileService.openFiles(e=>this.vfsService.addFiles(e,this.path||"/"))}onCreateDirectory(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:Ip,backdropDismiss:!1,componentProps:{parentPath:e.path,onCreate:r=>e.vfsService.mkdir(`${e.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var e=this;return(0,ae.Z)(function*(){e.path&&(yield e.vfsService.paste(e.path))})()}onHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:ga,componentProps:{url:"assets/doc/card-browser.md"}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var e=this;return(0,ae.Z)(function*(){if(!e.entries)return;const t=Array.from(e.selection),r=new Map(e.entries.map(a=>[a.name,a])),o=t.every(a=>!r.get(a)?.isDirectory),i=t.every(a=>r.get(a)?.isDirectory);let s=`${e.selection.size} items`;if(o&&(s=1===e.selection.size?"file":`${e.selection.size} files`),i&&(s=1===e.selection.size?"directory":`${e.selection.size} directories`),0!==e.selection.size){const a=yield e.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:e.onCopySelection.bind(e)},{text:`Cut ${s}`,handler:e.onCutSelection.bind(e)},{text:`Save ${s} as zip`,handler:e.onSaveZip.bind(e)},{text:`Delete ${s}`,handler:e.onDeleteSelection.bind(e)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}e.mode="browse",e.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(e=>this.selection.add(e.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var e=this;return(0,ae.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.archiveFiles(t,e.path))})()}onDeleteSelection(){var e=this;return(0,ae.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.deleteRecursive(t))})()}openBreadcrumbMenu(e){var t=this;return(0,ae.Z)(function*(){if(!t.card||!t.path)return;const r=[..."/"===t.path?[]:[...t.vfsService.splitPath(t.path).reverse().slice(1),t.card.name],"Memory cards"];(yield t.popoverController.create({component:Sp,event:e,componentProps:{entries:r,onSelect:i=>t.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===t.config.get("mode")?"center":"start",trigger:t.breadcrumbTriggerId})).present()})()}openContextMenu(e,t){var r=this;return(0,ae.Z)(function*(){(yield r.popoverController.create({component:Ep,componentProps:{emptyDirectory:0===r.entries?.length,onStartSelection:r.onStartSelection.bind(r),onAddFiles:r.onAddFiles.bind(r),onCreateDirectry:r.onCreateDirectory.bind(r),onExtractZipfile:r.onExtractZipfile.bind(r),onPaste:r.onPaste.bind(r),onHelp:r.onHelp.bind(r)},event:e,dismissOnSelect:!0,arrow:!1,reference:t})).present()})()}materializeSelection(){if(!this.path)return;const e=new Map(this.vfsService.readdir(this.path).map(t=>[t.name,t]));return Array.from(this.selection).map(t=>e.get(t)).filter(t=>!!t)}extractZipArchive(e){var t=this;return(0,ae.Z)(function*(){/\.zip$/.test(e.name)?t.vfsService.unpackArchive(yield e.getContent(),t.path||"/"):yield t.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}Ds.\u0275fac=function(e){return new(e||Ds)(C(Js),C(Hc),C(ab),C(to),C(ip),C(Ss),C(js),C(kt))},Ds.\u0275cmp=ut({type:Ds,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,t){1&e&&(oe(0,"ion-header"),Qt(1,PG,11,2,"ion-toolbar",0),Qt(2,OG,8,3,"ion-toolbar",0),J(),oe(3,"ion-content",1),st("contextmenu",function(o){return o.preventDefault(),t.openContextMenu(o,"event")}),oe(4,"div",2),Qt(5,NG,3,1,"div",3),oe(6,"ion-list"),Qt(7,LG,1,4,"app-file-entry",4),Qt(8,VG,4,2,"ion-item",5),J()()()),2&e&&(Xe(1),rt("ngIf","browse"===t.mode),Xe(1),rt("ngIf","select"===t.mode),Xe(3),rt("ngIf",0===(null==t.entries?null:t.entries.length)),Xe(2),rt("ngForOf",t.entries)("ngForTrackBy",t.trackEntryBy),Xe(1),rt("ngIf",t.isRoot||t.fileCount>0))},dependencies:[Pc,hi,Sk,ns,rs,os,is,gi,ai,ss,Ua,as,ls,$k,xp,wd],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),j([fo()],Ds.prototype,"onSaveEntry",null),j([fo()],Ds.prototype,"onDeleteEntry",null),j([fo()],Ds.prototype,"onCreateDirectory",null),j([fo()],Ds.prototype,"onPaste",null),j([fo()],Ds.prototype,"onHelp",null),j([fo()],Ds.prototype,"onSelectionDone",null),j([fo()],Ds.prototype,"onSaveZip",null),j([fo()],Ds.prototype,"onDeleteSelection",null);const HG=["nav"];class Mp{constructor(e,t){this.vfsService=e,this.dragDropService=t,this.navRootProps={onMountForBrowse:r=>this.browseCard(r),selfReference:{}},this.onNavigate=r=>{this.currentlyBrowsingCard&&this.nav?.push(Ds,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=r=>{this.currentlyBrowsingCard&&this.nav?.popTo(r,{animated:this.animateNav})},this.navRoot=ya,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(e)})()}get animateNav(){return!yU}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Ds,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}Mp.\u0275fac=function(e){return new(e||Mp)(C(Js),C(pc))},Mp.\u0275cmp=ut({type:Mp,selectors:[["app-storage"]],viewQuery:function(e,t){if(1&e&&Nu(HG,5),2&e){let r;Ns(r=Ls())&&(t.nav=r.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,t){1&e&&ct(0,"ion-nav",0,1),2&e&&rt("animated",t.animateNav)("root",t.navRoot)("rootParams",t.navRootProps)},dependencies:[Dk,Bk]});const GG=[{path:"tab",component:Qc,children:[{path:"emulation",component:gp},{path:"sessions",component:Ka},{path:"storage",component:Mp},{path:"settings",component:vp},{path:"about",component:hp},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];class Sd{}Sd.\u0275fac=function(e){return new(e||Sd)},Sd.\u0275mod=Fr({type:Sd}),Sd.\u0275inj=Er({imports:[jm.forChild(GG),jm]});class Ed{}Ed.\u0275fac=function(e){return new(e||Ed)},Ed.\u0275mod=Fr({type:Ed}),Ed.\u0275inj=Er({imports:[Jl,$a,Oc,Sd,pd,hd,md,gd,fd]});class nu extends HE{pushState(e,t,r,o){this.replaceState(e,t,r,o)}}nu.\u0275fac=function(){let n;return function(t){return(n||(n=pi(nu)))(t||nu)}}(),nu.\u0275prov=mt({token:nu,factory:nu.\u0275fac});const zG=[{path:"install",component:ud,canActivate:[Xc]},{path:"import",component:ud,canActivate:[Xc]},{path:"",component:Qc}];class Dd{}Dd.\u0275fac=function(e){return new(e||Dd)},Dd.\u0275mod=Fr({type:Dd}),Dd.\u0275inj=Er({providers:[{provide:La,useClass:nu}],imports:[jm.forRoot(zG,{preloadingStrategy:$B,useHash:!0}),Ed,jm]});const Xx=["touch","click","keydown"];class Id{constructor(e,t){this.kvsService=e,this.audioService=t,this.initialize()}initialize(){var e=this;return(0,ae.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const t=()=>{Xx.forEach(r=>window.removeEventListener(r,t,!0)),e.audioService.initialize()};Xx.forEach(r=>window.addEventListener(r,t,!0))})()}}Id.\u0275fac=function(e){return new(e||Id)(ee(li),ee(fc))},Id.\u0275prov=mt({token:Id,factory:Id.\u0275fac,providedIn:"root"});class kd{constructor(e,t,r,o,i,s,a){}}kd.\u0275fac=function(e){return new(e||kd)(ee(Qn),ee(cs),ee(fc),ee(qa),ee(li),ee(Kc),ee(Id))},kd.\u0275mod=Fr({type:kd,bootstrap:[pp]}),kd.\u0275inj=Er({providers:[{provide:ak,useClass:class Oj{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,o=t.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}},{provide:Tc,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[li]}],imports:[OL,Jl.forRoot(),Dd,sH.register("ngsw-worker.js",{enabled:!0}),hb.forRoot({loader:ov,markedOptions:{provide:ix,useFactory:()=>{const n=new ad;return n.link=(e,t,r)=>`<a href="${e}" target="_blank" rel="external">${r||e}</a>`,{renderer:n,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}}),m3]}),window.global=window,function WL(){tm=ND("#/install?"),nm=ND("#/import?")}(),function IU(){return!!localStorage.getItem(Qm)}()&&!LD()||function ZL(){return void 0!==tm}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",n=>n.preventDefault()),FL().bootstrapModule(kd).catch(n=>console.log(n))},3272:Be=>{var A,We=(A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,te,l=typeof(I=I||{})<"u"?I:{};l.ready=new Promise(function(c,h){re=c,te=h});var U,Pe,$e,z=Object.assign({},l),Q=[],L="./this.program",V=(c,h)=>{throw h},ue="object"==typeof window,X="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||X)&&(X?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),A&&(B=A),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",U=c=>{var h=new XMLHttpRequest;return h.open("GET",c,!1),h.send(null),h.responseText},X&&($e=c=>{var h=new XMLHttpRequest;return h.open("GET",c,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Pe=(c,h,v)=>{var x=new XMLHttpRequest;x.open("GET",c,!0),x.responseType="arraybuffer",x.onload=()=>{200==x.status||0==x.status&&x.response?h(x.response):v()},x.onerror=v,x.send(null)});var fe,Z=l.print||console.log.bind(console),Y=l.printErr||console.warn.bind(console);Object.assign(l,z),z=null,l.arguments&&(Q=l.arguments),l.thisProgram&&(L=l.thisProgram),l.quit&&(V=l.quit),l.wasmBinary&&(fe=l.wasmBinary);var Fe=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&cr("no native wasm support detected");var de,ce,it=!1;function be(c,h){c||cr(h)}var je,Je,yt,O,ge,nt,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Qe(c,h,v){for(var x=h+v,H=h;c[H]&&!(H>=x);)++H;if(H-h>16&&c.buffer&&Ie)return Ie.decode(c.subarray(h,H));for(var ve="";h<H;){var ke=c[h++];if(128&ke){var He=63&c[h++];if(192!=(224&ke)){var St=63&c[h++];if((ke=224==(240&ke)?(15&ke)<<12|He<<6|St:(7&ke)<<18|He<<12|St<<6|63&c[h++])<65536)ve+=String.fromCharCode(ke);else{var yn=ke-65536;ve+=String.fromCharCode(55296|yn>>10,56320|1023&yn)}}else ve+=String.fromCharCode((31&ke)<<6|He)}else ve+=String.fromCharCode(ke)}return ve}function Oe(c,h){return c?Qe(yt,c,h):""}function Me(c,h,v,x){if(!(x>0))return 0;for(var H=v,ve=v+x-1,ke=0;ke<c.length;++ke){var He=c.charCodeAt(ke);if(He>=55296&&He<=57343&&(He=65536+((1023&He)<<10)|1023&c.charCodeAt(++ke)),He<=127){if(v>=ve)break;h[v++]=He}else if(He<=2047){if(v+1>=ve)break;h[v++]=192|He>>6,h[v++]=128|63&He}else if(He<=65535){if(v+2>=ve)break;h[v++]=224|He>>12,h[v++]=128|He>>6&63,h[v++]=128|63&He}else{if(v+3>=ve)break;h[v++]=240|He>>18,h[v++]=128|He>>12&63,h[v++]=128|He>>6&63,h[v++]=128|63&He}}return h[v]=0,v-H}function ne(c){for(var h=0,v=0;v<c.length;++v){var x=c.charCodeAt(v);x<=127?h++:x<=2047?h+=2:x>=55296&&x<=57343?(h+=4,++v):h+=3}return h}function Ve(c){je=c,l.HEAP8=Je=new Int8Array(c),l.HEAP16=new Int16Array(c),l.HEAP32=O=new Int32Array(c),l.HEAPU8=yt=new Uint8Array(c),l.HEAPU16=new Uint16Array(c),l.HEAPU32=ge=new Uint32Array(c),l.HEAPF32=new Float32Array(c),l.HEAPF64=nt=new Float64Array(c)}var _e,mn,ft=[],Ae=[],Tt=[],rn=[],Pn=0,So=null,jn=null;function no(c){Pn++,l.monitorRunDependencies&&l.monitorRunDependencies(Pn)}function jr(c){if(Pn--,l.monitorRunDependencies&&l.monitorRunDependencies(Pn),0==Pn&&(null!==So&&(clearInterval(So),So=null),jn)){var h=jn;jn=null,h()}}function cr(c){l.onAbort&&l.onAbort(c),Y(c="Aborted("+c+")"),it=!0,ce=1,c+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(c);throw te(h),h}function po(c){return c.startsWith("data:application/octet-stream;base64,")}function lo(c){try{if(c==mn&&fe)return new Uint8Array(fe);if($e)return $e(c);throw"both async and sync fetching of the wasm failed"}catch(h){cr(h)}}po(mn="cloudpilot_web.wasm")||(mn=function $(c){return l.locateFile?l.locateFile(c,B):B+c}(mn));var at,le,ze={418020:c=>{_e.grow(65536);for(let h=0;h<=65535;h++)_e.set(_e.length-65535-1+h,_e.get(ge[(c>>>2)+h]));return _e.length-65535-1}};function Bn(c){this.name="ExitStatus",this.message="Program terminated with exit("+c+")",this.status=c}function Gt(c){for(;c.length>0;)c.shift()(l)}function wr(c,h){return h+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*h:NaN}var Kt={isAbs:c=>"/"===c.charAt(0),splitPath:c=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(c).slice(1),normalizeArray:(c,h)=>{for(var v=0,x=c.length-1;x>=0;x--){var H=c[x];"."===H?c.splice(x,1):".."===H?(c.splice(x,1),v++):v&&(c.splice(x,1),v--)}if(h)for(;v;v--)c.unshift("..");return c},normalize:c=>{var h=Kt.isAbs(c),v="/"===c.substr(-1);return!(c=Kt.normalizeArray(c.split("/").filter(x=>!!x),!h).join("/"))&&!h&&(c="."),c&&v&&(c+="/"),(h?"/":"")+c},dirname:c=>{var h=Kt.splitPath(c),v=h[0],x=h[1];return v||x?(x&&(x=x.substr(0,x.length-1)),v+x):"."},basename:c=>{if("/"===c)return"/";var h=(c=(c=Kt.normalize(c)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?c:c.substr(h+1)},join:function(){var c=Array.prototype.slice.call(arguments);return Kt.normalize(c.join("/"))},join2:(c,h)=>Kt.normalize(c+"/"+h)},tr={resolve:function(){for(var c="",h=!1,v=arguments.length-1;v>=-1&&!h;v--){var x=v>=0?arguments[v]:D.cwd();if("string"!=typeof x)throw new TypeError("Arguments to path.resolve must be strings");if(!x)return"";c=x+"/"+c,h=Kt.isAbs(x)}return(h?"/":"")+(c=Kt.normalizeArray(c.split("/").filter(H=>!!H),!h).join("/"))||"."},relative:(c,h)=>{function v(yn){for(var Vn=0;Vn<yn.length&&""===yn[Vn];Vn++);for(var Kn=yn.length-1;Kn>=0&&""===yn[Kn];Kn--);return Vn>Kn?[]:yn.slice(Vn,Kn-Vn+1)}c=tr.resolve(c).substr(1),h=tr.resolve(h).substr(1);for(var x=v(c.split("/")),H=v(h.split("/")),ve=Math.min(x.length,H.length),ke=ve,He=0;He<ve;He++)if(x[He]!==H[He]){ke=He;break}var St=[];for(He=ke;He<x.length;He++)St.push("..");return(St=St.concat(H.slice(ke))).join("/")}};function on(c,h,v){var x=v>0?v:ne(c)+1,H=new Array(x),ve=Me(c,H,0,H.length);return h&&(H.length=ve),H}var Bt={ttys:[],init:function(){},shutdown:function(){},register:function(c,h){Bt.ttys[c]={input:[],output:[],ops:h},D.registerDevice(c,Bt.stream_ops)},stream_ops:{open:function(c){var h=Bt.ttys[c.node.rdev];if(!h)throw new D.ErrnoError(43);c.tty=h,c.seekable=!1},close:function(c){c.tty.ops.fsync(c.tty)},fsync:function(c){c.tty.ops.fsync(c.tty)},read:function(c,h,v,x,H){if(!c.tty||!c.tty.ops.get_char)throw new D.ErrnoError(60);for(var ve=0,ke=0;ke<x;ke++){var He;try{He=c.tty.ops.get_char(c.tty)}catch{throw new D.ErrnoError(29)}if(void 0===He&&0===ve)throw new D.ErrnoError(6);if(null==He)break;ve++,h[v+ke]=He}return ve&&(c.node.timestamp=Date.now()),ve},write:function(c,h,v,x,H){if(!c.tty||!c.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var ve=0;ve<x;ve++)c.tty.ops.put_char(c.tty,h[v+ve])}catch{throw new D.ErrnoError(29)}return x&&(c.node.timestamp=Date.now()),ve}},default_tty_ops:{get_char:function(c){if(!c.input.length){var h=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(h=window.prompt("Input: "))&&(h+="\n"):"function"==typeof readline&&null!==(h=readline())&&(h+="\n"),!h)return null;c.input=on(h,!0)}return c.input.shift()},put_char:function(c,h){null===h||10===h?(Z(Qe(c.output,0)),c.output=[]):0!=h&&c.output.push(h)},fsync:function(c){c.output&&c.output.length>0&&(Z(Qe(c.output,0)),c.output=[])}},default_tty1_ops:{put_char:function(c,h){null===h||10===h?(Y(Qe(c.output,0)),c.output=[]):0!=h&&c.output.push(h)},fsync:function(c){c.output&&c.output.length>0&&(Y(Qe(c.output,0)),c.output=[])}}};function E(c){cr()}var S={ops_table:null,mount:function(c){return S.createNode(null,"/",16895,0)},createNode:function(c,h,v,x){if(D.isBlkdev(v)||D.isFIFO(v))throw new D.ErrnoError(63);S.ops_table||(S.ops_table={dir:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,lookup:S.node_ops.lookup,mknod:S.node_ops.mknod,rename:S.node_ops.rename,unlink:S.node_ops.unlink,rmdir:S.node_ops.rmdir,readdir:S.node_ops.readdir,symlink:S.node_ops.symlink},stream:{llseek:S.stream_ops.llseek}},file:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:{llseek:S.stream_ops.llseek,read:S.stream_ops.read,write:S.stream_ops.write,allocate:S.stream_ops.allocate,mmap:S.stream_ops.mmap,msync:S.stream_ops.msync}},link:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,readlink:S.node_ops.readlink},stream:{}},chrdev:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:D.chrdev_stream_ops}});var H=D.createNode(c,h,v,x);return D.isDir(H.mode)?(H.node_ops=S.ops_table.dir.node,H.stream_ops=S.ops_table.dir.stream,H.contents={}):D.isFile(H.mode)?(H.node_ops=S.ops_table.file.node,H.stream_ops=S.ops_table.file.stream,H.usedBytes=0,H.contents=null):D.isLink(H.mode)?(H.node_ops=S.ops_table.link.node,H.stream_ops=S.ops_table.link.stream):D.isChrdev(H.mode)&&(H.node_ops=S.ops_table.chrdev.node,H.stream_ops=S.ops_table.chrdev.stream),H.timestamp=Date.now(),c&&(c.contents[h]=H,c.timestamp=H.timestamp),H},getFileDataAsTypedArray:function(c){return c.contents?c.contents.subarray?c.contents.subarray(0,c.usedBytes):new Uint8Array(c.contents):new Uint8Array(0)},expandFileStorage:function(c,h){var v=c.contents?c.contents.length:0;if(!(v>=h)){h=Math.max(h,v*(v<1048576?2:1.125)>>>0),0!=v&&(h=Math.max(h,256));var H=c.contents;c.contents=new Uint8Array(h),c.usedBytes>0&&c.contents.set(H.subarray(0,c.usedBytes),0)}},resizeFileStorage:function(c,h){if(c.usedBytes!=h)if(0==h)c.contents=null,c.usedBytes=0;else{var v=c.contents;c.contents=new Uint8Array(h),v&&c.contents.set(v.subarray(0,Math.min(h,c.usedBytes))),c.usedBytes=h}},node_ops:{getattr:function(c){var h={};return h.dev=D.isChrdev(c.mode)?c.id:1,h.ino=c.id,h.mode=c.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=c.rdev,h.size=D.isDir(c.mode)?4096:D.isFile(c.mode)?c.usedBytes:D.isLink(c.mode)?c.link.length:0,h.atime=new Date(c.timestamp),h.mtime=new Date(c.timestamp),h.ctime=new Date(c.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr:function(c,h){void 0!==h.mode&&(c.mode=h.mode),void 0!==h.timestamp&&(c.timestamp=h.timestamp),void 0!==h.size&&S.resizeFileStorage(c,h.size)},lookup:function(c,h){throw D.genericErrors[44]},mknod:function(c,h,v,x){return S.createNode(c,h,v,x)},rename:function(c,h,v){if(D.isDir(c.mode)){var x;try{x=D.lookupNode(h,v)}catch{}if(x)for(var H in x.contents)throw new D.ErrnoError(55)}delete c.parent.contents[c.name],c.parent.timestamp=Date.now(),c.name=v,h.contents[v]=c,h.timestamp=c.parent.timestamp,c.parent=h},unlink:function(c,h){delete c.contents[h],c.timestamp=Date.now()},rmdir:function(c,h){var v=D.lookupNode(c,h);for(var x in v.contents)throw new D.ErrnoError(55);delete c.contents[h],c.timestamp=Date.now()},readdir:function(c){var h=[".",".."];for(var v in c.contents)c.contents.hasOwnProperty(v)&&h.push(v);return h},symlink:function(c,h,v){var x=S.createNode(c,h,41471,0);return x.link=v,x},readlink:function(c){if(!D.isLink(c.mode))throw new D.ErrnoError(28);return c.link}},stream_ops:{read:function(c,h,v,x,H){var ve=c.node.contents;if(H>=c.node.usedBytes)return 0;var ke=Math.min(c.node.usedBytes-H,x);if(ke>8&&ve.subarray)h.set(ve.subarray(H,H+ke),v);else for(var He=0;He<ke;He++)h[v+He]=ve[H+He];return ke},write:function(c,h,v,x,H,ve){if(h.buffer===Je.buffer&&(ve=!1),!x)return 0;var ke=c.node;if(ke.timestamp=Date.now(),h.subarray&&(!ke.contents||ke.contents.subarray)){if(ve)return ke.contents=h.subarray(v,v+x),ke.usedBytes=x,x;if(0===ke.usedBytes&&0===H)return ke.contents=h.slice(v,v+x),ke.usedBytes=x,x;if(H+x<=ke.usedBytes)return ke.contents.set(h.subarray(v,v+x),H),x}if(S.expandFileStorage(ke,H+x),ke.contents.subarray&&h.subarray)ke.contents.set(h.subarray(v,v+x),H);else for(var He=0;He<x;He++)ke.contents[H+He]=h[v+He];return ke.usedBytes=Math.max(ke.usedBytes,H+x),x},llseek:function(c,h,v){var x=h;if(1===v?x+=c.position:2===v&&D.isFile(c.node.mode)&&(x+=c.node.usedBytes),x<0)throw new D.ErrnoError(28);return x},allocate:function(c,h,v){S.expandFileStorage(c.node,h+v),c.node.usedBytes=Math.max(c.node.usedBytes,h+v)},mmap:function(c,h,v,x,H){if(!D.isFile(c.node.mode))throw new D.ErrnoError(43);var ve,ke,He=c.node.contents;if(2&H||He.buffer!==je){if((v>0||v+h<He.length)&&(He=He.subarray?He.subarray(v,v+h):Array.prototype.slice.call(He,v,v+h)),ke=!0,!(ve=E()))throw new D.ErrnoError(48);Je.set(He,ve)}else ke=!1,ve=He.byteOffset;return{ptr:ve,allocated:ke}},msync:function(c,h,v,x,H){return S.stream_ops.write(c,h,0,x,v,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(c,h={})=>{if(!(c=tr.resolve(c)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new D.ErrnoError(32);for(var x=c.split("/").filter(Kn=>!!Kn),H=D.root,ve="/",ke=0;ke<x.length;ke++){var He=ke===x.length-1;if(He&&h.parent)break;if(H=D.lookupNode(H,x[ke]),ve=Kt.join2(ve,x[ke]),D.isMountpoint(H)&&(!He||He&&h.follow_mount)&&(H=H.mounted.root),!He||h.follow)for(var St=0;D.isLink(H.mode);){var yn=D.readlink(ve);if(ve=tr.resolve(Kt.dirname(ve),yn),H=D.lookupPath(ve,{recurse_count:h.recurse_count+1}).node,St++>40)throw new D.ErrnoError(32)}}return{path:ve,node:H}},getPath:c=>{for(var h;;){if(D.isRoot(c)){var v=c.mount.mountpoint;return h?"/"!==v[v.length-1]?v+"/"+h:v+h:v}h=h?c.name+"/"+h:c.name,c=c.parent}},hashName:(c,h)=>{for(var v=0,x=0;x<h.length;x++)v=(v<<5)-v+h.charCodeAt(x)|0;return(c+v>>>0)%D.nameTable.length},hashAddNode:c=>{var h=D.hashName(c.parent.id,c.name);c.name_next=D.nameTable[h],D.nameTable[h]=c},hashRemoveNode:c=>{var h=D.hashName(c.parent.id,c.name);if(D.nameTable[h]===c)D.nameTable[h]=c.name_next;else for(var v=D.nameTable[h];v;){if(v.name_next===c){v.name_next=c.name_next;break}v=v.name_next}},lookupNode:(c,h)=>{var v=D.mayLookup(c);if(v)throw new D.ErrnoError(v,c);for(var x=D.hashName(c.id,h),H=D.nameTable[x];H;H=H.name_next)if(H.parent.id===c.id&&H.name===h)return H;return D.lookup(c,h)},createNode:(c,h,v,x)=>{var H=new D.FSNode(c,h,v,x);return D.hashAddNode(H),H},destroyNode:c=>{D.hashRemoveNode(c)},isRoot:c=>c===c.parent,isMountpoint:c=>!!c.mounted,isFile:c=>32768==(61440&c),isDir:c=>16384==(61440&c),isLink:c=>40960==(61440&c),isChrdev:c=>8192==(61440&c),isBlkdev:c=>24576==(61440&c),isFIFO:c=>4096==(61440&c),isSocket:c=>49152==(49152&c),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:c=>{var h=D.flagModes[c];if(typeof h>"u")throw new Error("Unknown file open mode: "+c);return h},flagsToPermissionString:c=>{var h=["r","w","rw"][3&c];return 512&c&&(h+="w"),h},nodePermissions:(c,h)=>D.ignorePermissions?0:h.includes("r")&&!(292&c.mode)||h.includes("w")&&!(146&c.mode)||h.includes("x")&&!(73&c.mode)?2:0,mayLookup:c=>D.nodePermissions(c,"x")||(c.node_ops.lookup?0:2),mayCreate:(c,h)=>{try{return D.lookupNode(c,h),20}catch{}return D.nodePermissions(c,"wx")},mayDelete:(c,h,v)=>{var x;try{x=D.lookupNode(c,h)}catch(ve){return ve.errno}var H=D.nodePermissions(c,"wx");if(H)return H;if(v){if(!D.isDir(x.mode))return 54;if(D.isRoot(x)||D.getPath(x)===D.cwd())return 10}else if(D.isDir(x.mode))return 31;return 0},mayOpen:(c,h)=>c?D.isLink(c.mode)?32:D.isDir(c.mode)&&("r"!==D.flagsToPermissionString(h)||512&h)?31:D.nodePermissions(c,D.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd:(c=0,h=D.MAX_OPEN_FDS)=>{for(var v=c;v<=h;v++)if(!D.streams[v])return v;throw new D.ErrnoError(33)},getStream:c=>D.streams[c],createStream:(c,h,v)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(H){this.node=H}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(H){this.shared.flags=H}},position:{get:function(){return this.shared.position},set:function(H){this.shared.position=H}}})),c=Object.assign(new D.FSStream,c);var x=D.nextfd(h,v);return c.fd=x,D.streams[x]=c,c},closeStream:c=>{D.streams[c]=null},chrdev_stream_ops:{open:c=>{var h=D.getDevice(c.node.rdev);c.stream_ops=h.stream_ops,c.stream_ops.open&&c.stream_ops.open(c)},llseek:()=>{throw new D.ErrnoError(70)}},major:c=>c>>8,minor:c=>255&c,makedev:(c,h)=>c<<8|h,registerDevice:(c,h)=>{D.devices[c]={stream_ops:h}},getDevice:c=>D.devices[c],getMounts:c=>{for(var h=[],v=[c];v.length;){var x=v.pop();h.push(x),v.push.apply(v,x.mounts)}return h},syncfs:(c,h)=>{"function"==typeof c&&(h=c,c=!1),D.syncFSRequests++,D.syncFSRequests>1&&Y("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var v=D.getMounts(D.root.mount),x=0;function H(ke){return D.syncFSRequests--,h(ke)}function ve(ke){if(ke)return ve.errored?void 0:(ve.errored=!0,H(ke));++x>=v.length&&H(null)}v.forEach(ke=>{if(!ke.type.syncfs)return ve(null);ke.type.syncfs(ke,c,ve)})},mount:(c,h,v)=>{var ve,x="/"===v,H=!v;if(x&&D.root)throw new D.ErrnoError(10);if(!x&&!H){var ke=D.lookupPath(v,{follow_mount:!1});if(v=ke.path,D.isMountpoint(ve=ke.node))throw new D.ErrnoError(10);if(!D.isDir(ve.mode))throw new D.ErrnoError(54)}var He={type:c,opts:h,mountpoint:v,mounts:[]},St=c.mount(He);return St.mount=He,He.root=St,x?D.root=St:ve&&(ve.mounted=He,ve.mount&&ve.mount.mounts.push(He)),St},unmount:c=>{var h=D.lookupPath(c,{follow_mount:!1});if(!D.isMountpoint(h.node))throw new D.ErrnoError(28);var v=h.node,x=v.mounted,H=D.getMounts(x);Object.keys(D.nameTable).forEach(ke=>{for(var He=D.nameTable[ke];He;){var St=He.name_next;H.includes(He.mount)&&D.destroyNode(He),He=St}}),v.mounted=null;var ve=v.mount.mounts.indexOf(x);v.mount.mounts.splice(ve,1)},lookup:(c,h)=>c.node_ops.lookup(c,h),mknod:(c,h,v)=>{var H=D.lookupPath(c,{parent:!0}).node,ve=Kt.basename(c);if(!ve||"."===ve||".."===ve)throw new D.ErrnoError(28);var ke=D.mayCreate(H,ve);if(ke)throw new D.ErrnoError(ke);if(!H.node_ops.mknod)throw new D.ErrnoError(63);return H.node_ops.mknod(H,ve,h,v)},create:(c,h)=>(h=void 0!==h?h:438,h&=4095,D.mknod(c,h|=32768,0)),mkdir:(c,h)=>(h=void 0!==h?h:511,h&=1023,D.mknod(c,h|=16384,0)),mkdirTree:(c,h)=>{for(var v=c.split("/"),x="",H=0;H<v.length;++H)if(v[H]){x+="/"+v[H];try{D.mkdir(x,h)}catch(ve){if(20!=ve.errno)throw ve}}},mkdev:(c,h,v)=>(typeof v>"u"&&(v=h,h=438),D.mknod(c,h|=8192,v)),symlink:(c,h)=>{if(!tr.resolve(c))throw new D.ErrnoError(44);var x=D.lookupPath(h,{parent:!0}).node;if(!x)throw new D.ErrnoError(44);var H=Kt.basename(h),ve=D.mayCreate(x,H);if(ve)throw new D.ErrnoError(ve);if(!x.node_ops.symlink)throw new D.ErrnoError(63);return x.node_ops.symlink(x,H,c)},rename:(c,h)=>{var He,St,v=Kt.dirname(c),x=Kt.dirname(h),H=Kt.basename(c),ve=Kt.basename(h);if(He=D.lookupPath(c,{parent:!0}).node,St=D.lookupPath(h,{parent:!0}).node,!He||!St)throw new D.ErrnoError(44);if(He.mount!==St.mount)throw new D.ErrnoError(75);var Kn,yn=D.lookupNode(He,H),Vn=tr.relative(c,x);if("."!==Vn.charAt(0))throw new D.ErrnoError(28);if("."!==(Vn=tr.relative(h,v)).charAt(0))throw new D.ErrnoError(55);try{Kn=D.lookupNode(St,ve)}catch{}if(yn!==Kn){var hn=D.isDir(yn.mode),an=D.mayDelete(He,H,hn);if(an)throw new D.ErrnoError(an);if(an=Kn?D.mayDelete(St,ve,hn):D.mayCreate(St,ve))throw new D.ErrnoError(an);if(!He.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(yn)||Kn&&D.isMountpoint(Kn))throw new D.ErrnoError(10);if(St!==He&&(an=D.nodePermissions(He,"w")))throw new D.ErrnoError(an);D.hashRemoveNode(yn);try{He.node_ops.rename(yn,St,ve)}catch(Zn){throw Zn}finally{D.hashAddNode(yn)}}},rmdir:c=>{var v=D.lookupPath(c,{parent:!0}).node,x=Kt.basename(c),H=D.lookupNode(v,x),ve=D.mayDelete(v,x,!0);if(ve)throw new D.ErrnoError(ve);if(!v.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(H))throw new D.ErrnoError(10);v.node_ops.rmdir(v,x),D.destroyNode(H)},readdir:c=>{var v=D.lookupPath(c,{follow:!0}).node;if(!v.node_ops.readdir)throw new D.ErrnoError(54);return v.node_ops.readdir(v)},unlink:c=>{var v=D.lookupPath(c,{parent:!0}).node;if(!v)throw new D.ErrnoError(44);var x=Kt.basename(c),H=D.lookupNode(v,x),ve=D.mayDelete(v,x,!1);if(ve)throw new D.ErrnoError(ve);if(!v.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(H))throw new D.ErrnoError(10);v.node_ops.unlink(v,x),D.destroyNode(H)},readlink:c=>{var v=D.lookupPath(c).node;if(!v)throw new D.ErrnoError(44);if(!v.node_ops.readlink)throw new D.ErrnoError(28);return tr.resolve(D.getPath(v.parent),v.node_ops.readlink(v))},stat:(c,h)=>{var x=D.lookupPath(c,{follow:!h}).node;if(!x)throw new D.ErrnoError(44);if(!x.node_ops.getattr)throw new D.ErrnoError(63);return x.node_ops.getattr(x)},lstat:c=>D.stat(c,!0),chmod:(c,h,v)=>{var x;if(!(x="string"==typeof c?D.lookupPath(c,{follow:!v}).node:c).node_ops.setattr)throw new D.ErrnoError(63);x.node_ops.setattr(x,{mode:4095&h|-4096&x.mode,timestamp:Date.now()})},lchmod:(c,h)=>{D.chmod(c,h,!0)},fchmod:(c,h)=>{var v=D.getStream(c);if(!v)throw new D.ErrnoError(8);D.chmod(v.node,h)},chown:(c,h,v,x)=>{var H;if(!(H="string"==typeof c?D.lookupPath(c,{follow:!x}).node:c).node_ops.setattr)throw new D.ErrnoError(63);H.node_ops.setattr(H,{timestamp:Date.now()})},lchown:(c,h,v)=>{D.chown(c,h,v,!0)},fchown:(c,h,v)=>{var x=D.getStream(c);if(!x)throw new D.ErrnoError(8);D.chown(x.node,h,v)},truncate:(c,h)=>{if(h<0)throw new D.ErrnoError(28);var v;if(!(v="string"==typeof c?D.lookupPath(c,{follow:!0}).node:c).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(v.mode))throw new D.ErrnoError(31);if(!D.isFile(v.mode))throw new D.ErrnoError(28);var H=D.nodePermissions(v,"w");if(H)throw new D.ErrnoError(H);v.node_ops.setattr(v,{size:h,timestamp:Date.now()})},ftruncate:(c,h)=>{var v=D.getStream(c);if(!v)throw new D.ErrnoError(8);if(!(2097155&v.flags))throw new D.ErrnoError(28);D.truncate(v.node,h)},utime:(c,h,v)=>{var H=D.lookupPath(c,{follow:!0}).node;H.node_ops.setattr(H,{timestamp:Math.max(h,v)})},open:(c,h,v)=>{if(""===c)throw new D.ErrnoError(44);var x;if(v=typeof v>"u"?438:v,v=64&(h="string"==typeof h?D.modeStringToFlags(h):h)?4095&v|32768:0,"object"==typeof c)x=c;else{c=Kt.normalize(c);try{x=D.lookupPath(c,{follow:!(131072&h)}).node}catch{}}var ve=!1;if(64&h)if(x){if(128&h)throw new D.ErrnoError(20)}else x=D.mknod(c,v,0),ve=!0;if(!x)throw new D.ErrnoError(44);if(D.isChrdev(x.mode)&&(h&=-513),65536&h&&!D.isDir(x.mode))throw new D.ErrnoError(54);if(!ve){var ke=D.mayOpen(x,h);if(ke)throw new D.ErrnoError(ke)}512&h&&!ve&&D.truncate(x,0),h&=-131713;var He=D.createStream({node:x,path:D.getPath(x),flags:h,seekable:!0,position:0,stream_ops:x.stream_ops,ungotten:[],error:!1});return He.stream_ops.open&&He.stream_ops.open(He),l.logReadFiles&&!(1&h)&&(D.readFiles||(D.readFiles={}),c in D.readFiles||(D.readFiles[c]=1)),He},close:c=>{if(D.isClosed(c))throw new D.ErrnoError(8);c.getdents&&(c.getdents=null);try{c.stream_ops.close&&c.stream_ops.close(c)}catch(h){throw h}finally{D.closeStream(c.fd)}c.fd=null},isClosed:c=>null===c.fd,llseek:(c,h,v)=>{if(D.isClosed(c))throw new D.ErrnoError(8);if(!c.seekable||!c.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new D.ErrnoError(28);return c.position=c.stream_ops.llseek(c,h,v),c.ungotten=[],c.position},read:(c,h,v,x,H)=>{if(x<0||H<0)throw new D.ErrnoError(28);if(D.isClosed(c))throw new D.ErrnoError(8);if(1==(2097155&c.flags))throw new D.ErrnoError(8);if(D.isDir(c.node.mode))throw new D.ErrnoError(31);if(!c.stream_ops.read)throw new D.ErrnoError(28);var ve=typeof H<"u";if(ve){if(!c.seekable)throw new D.ErrnoError(70)}else H=c.position;var ke=c.stream_ops.read(c,h,v,x,H);return ve||(c.position+=ke),ke},write:(c,h,v,x,H,ve)=>{if(x<0||H<0)throw new D.ErrnoError(28);if(D.isClosed(c))throw new D.ErrnoError(8);if(!(2097155&c.flags))throw new D.ErrnoError(8);if(D.isDir(c.node.mode))throw new D.ErrnoError(31);if(!c.stream_ops.write)throw new D.ErrnoError(28);c.seekable&&1024&c.flags&&D.llseek(c,0,2);var ke=typeof H<"u";if(ke){if(!c.seekable)throw new D.ErrnoError(70)}else H=c.position;var He=c.stream_ops.write(c,h,v,x,H,ve);return ke||(c.position+=He),He},allocate:(c,h,v)=>{if(D.isClosed(c))throw new D.ErrnoError(8);if(h<0||v<=0)throw new D.ErrnoError(28);if(!(2097155&c.flags))throw new D.ErrnoError(8);if(!D.isFile(c.node.mode)&&!D.isDir(c.node.mode))throw new D.ErrnoError(43);if(!c.stream_ops.allocate)throw new D.ErrnoError(138);c.stream_ops.allocate(c,h,v)},mmap:(c,h,v,x,H)=>{if(2&x&&!(2&H)&&2!=(2097155&c.flags))throw new D.ErrnoError(2);if(1==(2097155&c.flags))throw new D.ErrnoError(2);if(!c.stream_ops.mmap)throw new D.ErrnoError(43);return c.stream_ops.mmap(c,h,v,x,H)},msync:(c,h,v,x,H)=>c.stream_ops.msync?c.stream_ops.msync(c,h,v,x,H):0,munmap:c=>0,ioctl:(c,h,v)=>{if(!c.stream_ops.ioctl)throw new D.ErrnoError(59);return c.stream_ops.ioctl(c,h,v)},readFile:(c,h={})=>{if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error('Invalid encoding type "'+h.encoding+'"');var v,x=D.open(c,h.flags),ve=D.stat(c).size,ke=new Uint8Array(ve);return D.read(x,ke,0,ve,0),"utf8"===h.encoding?v=Qe(ke,0):"binary"===h.encoding&&(v=ke),D.close(x),v},writeFile:(c,h,v={})=>{v.flags=v.flags||577;var x=D.open(c,v.flags,v.mode);if("string"==typeof h){var H=new Uint8Array(ne(h)+1),ve=Me(h,H,0,H.length);D.write(x,H,0,ve,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");D.write(x,h,0,h.byteLength,void 0,v.canOwn)}D.close(x)},cwd:()=>D.currentPath,chdir:c=>{var h=D.lookupPath(c,{follow:!0});if(null===h.node)throw new D.ErrnoError(44);if(!D.isDir(h.node.mode))throw new D.ErrnoError(54);var v=D.nodePermissions(h.node,"x");if(v)throw new D.ErrnoError(v);D.currentPath=h.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(h,v,x,H,ve)=>H}),D.mkdev("/dev/null",D.makedev(1,3)),Bt.register(D.makedev(5,0),Bt.default_tty_ops),Bt.register(D.makedev(6,0),Bt.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var c=function er(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var c=new Uint8Array(1);return()=>(crypto.getRandomValues(c),c[0])}return()=>cr("randomDevice")}();D.createDevice("/dev","random",c),D.createDevice("/dev","urandom",c),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var c=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var h=D.createNode(c,"fd",16895,73);return h.node_ops={lookup:(v,x)=>{var ve=D.getStream(+x);if(!ve)throw new D.ErrnoError(8);var ke={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ve.path}};return ke.parent=ke,ke}},h}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?D.createDevice("/dev","stdin",l.stdin):D.symlink("/dev/tty","/dev/stdin"),l.stdout?D.createDevice("/dev","stdout",null,l.stdout):D.symlink("/dev/tty","/dev/stdout"),l.stderr?D.createDevice("/dev","stderr",null,l.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(h,v){this.node=v,this.setErrno=function(x){this.errno=x},this.setErrno(h),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(c=>{D.genericErrors[c]=new D.ErrnoError(c),D.genericErrors[c].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(S,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:S}},init:(c,h,v)=>{D.init.initialized=!0,D.ensureErrnoError(),l.stdin=c||l.stdin,l.stdout=h||l.stdout,l.stderr=v||l.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var c=0;c<D.streams.length;c++){var h=D.streams[c];h&&D.close(h)}},getMode:(c,h)=>{var v=0;return c&&(v|=365),h&&(v|=146),v},findObject:(c,h)=>{var v=D.analyzePath(c,h);return v.exists?v.object:null},analyzePath:(c,h)=>{try{c=(v=D.lookupPath(c,{follow:!h})).path}catch{}var x={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=D.lookupPath(c,{parent:!0});x.parentExists=!0,x.parentPath=v.path,x.parentObject=v.node,x.name=Kt.basename(c),v=D.lookupPath(c,{follow:!h}),x.exists=!0,x.path=v.path,x.object=v.node,x.name=v.node.name,x.isRoot="/"===v.path}catch(H){x.error=H.errno}return x},createPath:(c,h,v,x)=>{c="string"==typeof c?c:D.getPath(c);for(var H=h.split("/").reverse();H.length;){var ve=H.pop();if(ve){var ke=Kt.join2(c,ve);try{D.mkdir(ke)}catch{}c=ke}}return ke},createFile:(c,h,v,x,H)=>{var ve=Kt.join2("string"==typeof c?c:D.getPath(c),h),ke=D.getMode(x,H);return D.create(ve,ke)},createDataFile:(c,h,v,x,H,ve)=>{var ke=h;c&&(c="string"==typeof c?c:D.getPath(c),ke=h?Kt.join2(c,h):c);var He=D.getMode(x,H),St=D.create(ke,He);if(v){if("string"==typeof v){for(var yn=new Array(v.length),Vn=0,Kn=v.length;Vn<Kn;++Vn)yn[Vn]=v.charCodeAt(Vn);v=yn}D.chmod(St,146|He);var hn=D.open(St,577);D.write(hn,v,0,v.length,0,ve),D.close(hn),D.chmod(St,He)}return St},createDevice:(c,h,v,x)=>{var H=Kt.join2("string"==typeof c?c:D.getPath(c),h),ve=D.getMode(!!v,!!x);D.createDevice.major||(D.createDevice.major=64);var ke=D.makedev(D.createDevice.major++,0);return D.registerDevice(ke,{open:He=>{He.seekable=!1},close:He=>{x&&x.buffer&&x.buffer.length&&x(10)},read:(He,St,yn,Vn,Kn)=>{for(var hn=0,an=0;an<Vn;an++){var Zn;try{Zn=v()}catch{throw new D.ErrnoError(29)}if(void 0===Zn&&0===hn)throw new D.ErrnoError(6);if(null==Zn)break;hn++,St[yn+an]=Zn}return hn&&(He.node.timestamp=Date.now()),hn},write:(He,St,yn,Vn,Kn)=>{for(var hn=0;hn<Vn;hn++)try{x(St[yn+hn])}catch{throw new D.ErrnoError(29)}return Vn&&(He.node.timestamp=Date.now()),hn}}),D.mkdev(H,ve,ke)},forceLoadFile:c=>{if(c.isDevice||c.isFolder||c.link||c.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!U)throw new Error("Cannot load without read() or XMLHttpRequest.");try{c.contents=on(U(c.url),!0),c.usedBytes=c.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(c,h,v,x,H)=>{function ve(){this.lengthKnown=!1,this.chunks=[]}if(ve.prototype.get=function(an){if(!(an>this.length-1||an<0)){var Zn=an%this.chunkSize;return this.getter(an/this.chunkSize|0)[Zn]}},ve.prototype.setDataGetter=function(an){this.getter=an},ve.prototype.cacheLength=function(){var an=new XMLHttpRequest;if(an.open("HEAD",v,!1),an.send(null),!(an.status>=200&&an.status<300||304===an.status))throw new Error("Couldn't load "+v+". Status: "+an.status);var Io,Zn=Number(an.getResponseHeader("Content-length")),Vr=(Io=an.getResponseHeader("Accept-Ranges"))&&"bytes"===Io,bo=(Io=an.getResponseHeader("Content-Encoding"))&&"gzip"===Io,lt=1048576;Vr||(lt=Zn);var Go=this;Go.setDataGetter(zr=>{var Ts=zr*lt,Fo=(zr+1)*lt-1;if(Fo=Math.min(Fo,Zn-1),typeof Go.chunks[zr]>"u"&&(Go.chunks[zr]=((zr,Ts)=>{if(zr>Ts)throw new Error("invalid range ("+zr+", "+Ts+") or no bytes requested!");if(Ts>Zn-1)throw new Error("only "+Zn+" bytes available! programmer error!");var Fo=new XMLHttpRequest;if(Fo.open("GET",v,!1),Zn!==lt&&Fo.setRequestHeader("Range","bytes="+zr+"-"+Ts),Fo.responseType="arraybuffer",Fo.overrideMimeType&&Fo.overrideMimeType("text/plain; charset=x-user-defined"),Fo.send(null),!(Fo.status>=200&&Fo.status<300||304===Fo.status))throw new Error("Couldn't load "+v+". Status: "+Fo.status);return void 0!==Fo.response?new Uint8Array(Fo.response||[]):on(Fo.responseText||"",!0)})(Ts,Fo)),typeof Go.chunks[zr]>"u")throw new Error("doXHR failed!");return Go.chunks[zr]}),(bo||!Zn)&&(lt=Zn=1,Zn=this.getter(0).length,lt=Zn,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Zn,this._chunkSize=lt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ke=new ve;Object.defineProperties(ke,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var He={isDevice:!1,contents:ke}}else He={isDevice:!1,url:v};var St=D.createFile(c,h,He,x,H);He.contents?St.contents=He.contents:He.url&&(St.contents=null,St.url=He.url),Object.defineProperties(St,{usedBytes:{get:function(){return this.contents.length}}});var yn={};function Kn(hn,an,Zn,Io,Vr){var bo=hn.node.contents;if(Vr>=bo.length)return 0;var lt=Math.min(bo.length-Vr,Io);if(bo.slice)for(var vn=0;vn<lt;vn++)an[Zn+vn]=bo[Vr+vn];else for(vn=0;vn<lt;vn++)an[Zn+vn]=bo.get(Vr+vn);return lt}return Object.keys(St.stream_ops).forEach(hn=>{var an=St.stream_ops[hn];yn[hn]=function(){return D.forceLoadFile(St),an.apply(null,arguments)}}),yn.read=(hn,an,Zn,Io,Vr)=>(D.forceLoadFile(St),Kn(hn,an,Zn,Io,Vr)),yn.mmap=(hn,an,Zn,Io,Vr)=>{D.forceLoadFile(St);var bo=E();if(!bo)throw new D.ErrnoError(48);return Kn(hn,Je,bo,an,Zn),{ptr:bo,allocated:!0}},St.stream_ops=yn,St},createPreloadedFile:(c,h,v,x,H,ve,ke,He,St,yn)=>{var Vn=h?tr.resolve(Kt.join2(c,h)):c;function hn(an){function Zn(Io){yn&&yn(),He||D.createDataFile(c,h,Io,x,H,St),ve&&ve(),jr()}Browser.handledByPreloadPlugin(an,Vn,Zn,()=>{ke&&ke(),jr()})||Zn(an)}no(),"string"==typeof v?function qn(c,h,v,x){var H=x?"":"al "+c;Pe(c,ve=>{be(ve,'Loading data file "'+c+'" failed (no arrayBuffer).'),h(new Uint8Array(ve)),H&&jr()},ve=>{if(!v)throw'Loading data file "'+c+'" failed.';v()}),H&&no()}(v,an=>hn(an),ke):hn(v)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(c,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var x=D.indexedDB();try{var H=x.open(D.DB_NAME(),D.DB_VERSION)}catch(ve){return v(ve)}H.onupgradeneeded=()=>{Z("creating db"),H.result.createObjectStore(D.DB_STORE_NAME)},H.onsuccess=()=>{var ke=H.result.transaction([D.DB_STORE_NAME],"readwrite"),He=ke.objectStore(D.DB_STORE_NAME),St=0,yn=0,Vn=c.length;function Kn(){0==yn?h():v()}c.forEach(hn=>{var an=He.put(D.analyzePath(hn).object.contents,hn);an.onsuccess=()=>{++St+yn==Vn&&Kn()},an.onerror=()=>{yn++,St+yn==Vn&&Kn()}}),ke.onerror=v},H.onerror=v},loadFilesFromDB:(c,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var x=D.indexedDB();try{var H=x.open(D.DB_NAME(),D.DB_VERSION)}catch(ve){return v(ve)}H.onupgradeneeded=v,H.onsuccess=()=>{var ve=H.result;try{var ke=ve.transaction([D.DB_STORE_NAME],"readonly")}catch(hn){return void v(hn)}var He=ke.objectStore(D.DB_STORE_NAME),St=0,yn=0,Vn=c.length;function Kn(){0==yn?h():v()}c.forEach(hn=>{var an=He.get(hn);an.onsuccess=()=>{D.analyzePath(hn).exists&&D.unlink(hn),D.createDataFile(Kt.dirname(hn),Kt.basename(hn),an.result,!0,!0,!0),++St+yn==Vn&&Kn()},an.onerror=()=>{yn++,St+yn==Vn&&Kn()}}),ke.onerror=v},H.onerror=v}},On={DEFAULT_POLLMASK:5,calculateAt:function(c,h,v){if(Kt.isAbs(h))return h;var x;if(x=-100===c?D.cwd():On.getStreamFromFD(c).path,0==h.length){if(!v)throw new D.ErrnoError(44);return x}return Kt.join2(x,h)},doStat:function(c,h,v){try{var x=c(h)}catch(H){if(H&&H.node&&Kt.normalize(h)!==Kt.normalize(D.getPath(H.node)))return-54;throw H}return O[v>>2]=x.dev,O[v+8>>2]=x.ino,O[v+12>>2]=x.mode,ge[v+16>>2]=x.nlink,O[v+20>>2]=x.uid,O[v+24>>2]=x.gid,O[v+28>>2]=x.rdev,le=[x.size>>>0,(at=x.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[v+40>>2]=le[0],O[v+44>>2]=le[1],O[v+48>>2]=4096,O[v+52>>2]=x.blocks,le=[Math.floor(x.atime.getTime()/1e3)>>>0,(at=Math.floor(x.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[v+56>>2]=le[0],O[v+60>>2]=le[1],ge[v+64>>2]=0,le=[Math.floor(x.mtime.getTime()/1e3)>>>0,(at=Math.floor(x.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[v+72>>2]=le[0],O[v+76>>2]=le[1],ge[v+80>>2]=0,le=[Math.floor(x.ctime.getTime()/1e3)>>>0,(at=Math.floor(x.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[v+88>>2]=le[0],O[v+92>>2]=le[1],ge[v+96>>2]=0,le=[x.ino>>>0,(at=x.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[v+104>>2]=le[0],O[v+108>>2]=le[1],0},doMsync:function(c,h,v,x,H){if(!D.isFile(h.node.mode))throw new D.ErrnoError(43);if(2&x)return 0;var ve=yt.slice(c,c+v);D.msync(h,ve,H,v,x)},varargs:void 0,get:function(){return On.varargs+=4,O[On.varargs-4>>2]},getStr:function(c){return Oe(c)},getStreamFromFD:function(c){var h=D.getStream(c);if(!h)throw new D.ErrnoError(8);return h}};function Jo(c){return c%4==0&&(c%100!=0||c%400==0)}var Pi=[0,31,60,91,121,152,182,213,244,274,305,335],Ri=[0,31,59,90,120,151,181,212,243,273,304,334];function ho(c){return(Jo(c.getFullYear())?Pi:Ri)[c.getMonth()]+c.getDate()-1}function ti(c){var h=ne(c)+1,v=va(h);return v&&Me(c,Je,v,h),v}var ui=[];function fs(c){try{return de.grow(c-je.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var Fi={};function yi(){if(!yi.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var v in Fi)void 0===Fi[v]?delete h[v]:h[v]=Fi[v];var x=[];for(var v in h)x.push(v+"="+h[v]);yi.strings=x}return yi.strings}var me=[31,29,31,30,31,30,31,31,30,31,30,31],Ee=[31,28,31,30,31,30,31,31,30,31,30,31];function Vt(c,h){c<128?h.push(c):h.push(c%128|128,c>>7)}var uo=[];function Bo(c){var h=uo[c];return h||(c>=uo.length&&(uo.length=c+1),uo[c]=h=_e.get(c)),h}var Pr=void 0,hs=[];function Qa(c,h){_e.set(c,h),uo[c]=_e.get(c)}var Ja=function(c,h,v,x){c||(c=this),this.parent=c,this.mount=c.mount,this.mounted=null,this.id=D.nextInode++,this.name=h,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=x};Object.defineProperties(Ja.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(c){c?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(c){c?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=Ja,D.staticInit();var vc,Tl={b:function Pt(c,h,v,x){cr("Assertion failed: "+Oe(c)+", at: "+[h?Oe(h):"unknown filename",v,x?Oe(x):"unknown function"])},i:function Rn(c){const h=new Error(Oe(c));throw h.isAssert=!0,h},k:function Qo(c,h,v){try{var x=wr(h,v);return isNaN(x)?-61:(D.ftruncate(c,x),0)}catch(H){if(typeof D>"u"||!(H instanceof D.ErrnoError))throw H;return-H.errno}},e:function To(){return!0},f:function ei(c,h){var v=new Date(1e3*function Zi(c){return ge[c>>2]+4294967296*O[c+4>>2]}(c));O[h>>2]=v.getSeconds(),O[h+4>>2]=v.getMinutes(),O[h+8>>2]=v.getHours(),O[h+12>>2]=v.getDate(),O[h+16>>2]=v.getMonth(),O[h+20>>2]=v.getFullYear()-1900,O[h+24>>2]=v.getDay();var x=0|ho(v);O[h+28>>2]=x,O[h+36>>2]=-60*v.getTimezoneOffset();var H=new Date(v.getFullYear(),0,1),ve=new Date(v.getFullYear(),6,1).getTimezoneOffset(),ke=H.getTimezoneOffset(),He=0|(ve!=ke&&v.getTimezoneOffset()==Math.min(ke,ve));O[h+32>>2]=He},g:function Sr(c){var h=new Date(O[c+20>>2]+1900,O[c+16>>2],O[c+12>>2],O[c+8>>2],O[c+4>>2],O[c>>2],0),v=O[c+32>>2],x=h.getTimezoneOffset(),H=new Date(h.getFullYear(),0,1),ve=new Date(h.getFullYear(),6,1).getTimezoneOffset(),ke=H.getTimezoneOffset(),He=Math.min(ke,ve);if(v<0)O[c+32>>2]=Number(ve!=ke&&He==x);else if(v>0!=(He==x)){var St=Math.max(ke,ve),yn=v>0?He:St;h.setTime(h.getTime()+6e4*(yn-x))}O[c+24>>2]=h.getDay();var Vn=0|ho(h);return O[c+28>>2]=Vn,O[c>>2]=h.getSeconds(),O[c+4>>2]=h.getMinutes(),O[c+8>>2]=h.getHours(),O[c+12>>2]=h.getDate(),O[c+16>>2]=h.getMonth(),O[c+20>>2]=h.getYear(),h.getTime()/1e3|0},h:function co(c,h,v){var x=(new Date).getFullYear(),H=new Date(x,0,1),ve=new Date(x,6,1),ke=H.getTimezoneOffset(),He=ve.getTimezoneOffset(),St=Math.max(ke,He);function yn(Zn){var Io=Zn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Io?Io[1]:"GMT"}ge[c>>2]=60*St,O[h>>2]=Number(ke!=He);var Vn=yn(H),Kn=yn(ve),hn=ti(Vn),an=ti(Kn);He<ke?(ge[v>>2]=hn,ge[v+4>>2]=an):(ge[v>>2]=an,ge[v+4>>2]=hn)},a:function _i(){cr("")},s:function ro(c,h,v){var x=function Ao(c,h){var v;for(ui.length=0,h>>=2;v=yt[c++];)h+=105!=v&h,ui.push(105==v?O[h]:nt[h++>>1]),++h;return ui}(h,v);return ze[c].apply(null,x)},c:function ds(){return Date.now()},p:function Lo(c,h,v){yt.copyWithin(c,h,h+v)},o:function Eo(c){var St,h=yt.length,v=2147483648;if((c>>>=0)>v)return!1;for(var H=1;H<=4;H*=2){var ve=h*(1+.2/H);if(ve=Math.min(ve,c+100663296),fs(Math.min(v,(St=Math.max(c,ve))+(65536-St%65536)%65536)))return!0}return!1},m:function Us(c,h){var v=0;return yi().forEach(function(x,H){var ve=h+v;ge[c+4*H>>2]=ve,function ps(c,h,v){for(var x=0;x<c.length;++x)Je[h++>>0]=c.charCodeAt(x);v||(Je[h>>0]=0)}(x,ve),v+=x.length+1}),0},n:function Hs(c,h){var v=yi();ge[c>>2]=v.length;var x=0;return v.forEach(function(H){x+=H.length+1}),ge[h>>2]=x,0},q:function mr(c){try{var h=On.getStreamFromFD(c);return D.close(h),0}catch(v){if(typeof D>"u"||!(v instanceof D.ErrnoError))throw v;return v.errno}},d:function xs(c,h,v,x){try{var ve=function vi(c,h,v,x){for(var H=0,ve=0;ve<v;ve++){var ke=ge[h>>2],He=ge[h+4>>2];h+=8;var St=D.read(c,Je,ke,He,x);if(St<0)return-1;if(H+=St,St<He)break}return H}(On.getStreamFromFD(c),h,v);return ge[x>>2]=ve,0}catch(ke){if(typeof D>"u"||!(ke instanceof D.ErrnoError))throw ke;return ke.errno}},j:function qi(c,h,v,x,H){try{var ve=wr(h,v);if(isNaN(ve))return 61;var ke=On.getStreamFromFD(c);return D.llseek(ke,ve,x),le=[ke.position>>>0,(at=ke.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[H>>2]=le[0],O[H+4>>2]=le[1],ke.getdents&&0===ve&&0===x&&(ke.getdents=null),0}catch(He){if(typeof D>"u"||!(He instanceof D.ErrnoError))throw He;return He.errno}},r:function T(c,h,v,x){try{var ve=function nr(c,h,v,x){for(var H=0,ve=0;ve<v;ve++){var ke=ge[h>>2],He=ge[h+4>>2];h+=8;var St=D.write(c,Je,ke,He,x);if(St<0)return-1;H+=St}return H}(On.getStreamFromFD(c),h,v);return ge[x>>2]=ve,0}catch(ke){if(typeof D>"u"||!(ke instanceof D.ErrnoError))throw ke;return ke.errno}},l:function xe(c,h,v,x,H){return function pe(c,h,v,x){var H=O[x+40>>2],ve={tm_sec:O[x>>2],tm_min:O[x+4>>2],tm_hour:O[x+8>>2],tm_mday:O[x+12>>2],tm_mon:O[x+16>>2],tm_year:O[x+20>>2],tm_wday:O[x+24>>2],tm_yday:O[x+28>>2],tm_isdst:O[x+32>>2],tm_gmtoff:O[x+36>>2],tm_zone:H?Oe(H):""},ke=Oe(v),He={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var St in He)ke=ke.replace(new RegExp(St,"g"),He[St]);var yn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Vn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Kn(lt,vn,Go){for(var zr="number"==typeof lt?lt.toString():lt||"";zr.length<vn;)zr=Go[0]+zr;return zr}function hn(lt,vn){return Kn(lt,vn,"0")}function an(lt,vn){function Go(Ts){return Ts<0?-1:Ts>0?1:0}var zr;return 0===(zr=Go(lt.getFullYear()-vn.getFullYear()))&&0===(zr=Go(lt.getMonth()-vn.getMonth()))&&(zr=Go(lt.getDate()-vn.getDate())),zr}function Zn(lt){switch(lt.getDay()){case 0:return new Date(lt.getFullYear()-1,11,29);case 1:return lt;case 2:return new Date(lt.getFullYear(),0,3);case 3:return new Date(lt.getFullYear(),0,2);case 4:return new Date(lt.getFullYear(),0,1);case 5:return new Date(lt.getFullYear()-1,11,31);case 6:return new Date(lt.getFullYear()-1,11,30)}}function Io(lt){var vn=function Ne(c,h){for(var v=new Date(c.getTime());h>0;){var x=Jo(v.getFullYear()),H=v.getMonth(),ve=(x?me:Ee)[H];if(!(h>ve-v.getDate()))return v.setDate(v.getDate()+h),v;h-=ve-v.getDate()+1,v.setDate(1),H<11?v.setMonth(H+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v}(new Date(lt.tm_year+1900,0,1),lt.tm_yday),Go=new Date(vn.getFullYear(),0,4),zr=new Date(vn.getFullYear()+1,0,4),Ts=Zn(Go),Fo=Zn(zr);return an(Ts,vn)<=0?an(Fo,vn)<=0?vn.getFullYear()+1:vn.getFullYear():vn.getFullYear()-1}var Vr={"%a":function(lt){return yn[lt.tm_wday].substring(0,3)},"%A":function(lt){return yn[lt.tm_wday]},"%b":function(lt){return Vn[lt.tm_mon].substring(0,3)},"%B":function(lt){return Vn[lt.tm_mon]},"%C":function(lt){return hn((lt.tm_year+1900)/100|0,2)},"%d":function(lt){return hn(lt.tm_mday,2)},"%e":function(lt){return Kn(lt.tm_mday,2," ")},"%g":function(lt){return Io(lt).toString().substring(2)},"%G":function(lt){return Io(lt)},"%H":function(lt){return hn(lt.tm_hour,2)},"%I":function(lt){var vn=lt.tm_hour;return 0==vn?vn=12:vn>12&&(vn-=12),hn(vn,2)},"%j":function(lt){return hn(lt.tm_mday+function N(c,h){for(var v=0,x=0;x<=h;v+=c[x++]);return v}(Jo(lt.tm_year+1900)?me:Ee,lt.tm_mon-1),3)},"%m":function(lt){return hn(lt.tm_mon+1,2)},"%M":function(lt){return hn(lt.tm_min,2)},"%n":function(){return"\n"},"%p":function(lt){return lt.tm_hour>=0&&lt.tm_hour<12?"AM":"PM"},"%S":function(lt){return hn(lt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(lt){return lt.tm_wday||7},"%U":function(lt){return hn(Math.floor((lt.tm_yday+7-lt.tm_wday)/7),2)},"%V":function(lt){var vn=Math.floor((lt.tm_yday+7-(lt.tm_wday+6)%7)/7);if((lt.tm_wday+371-lt.tm_yday-2)%7<=2&&vn++,vn){if(53==vn){var zr=(lt.tm_wday+371-lt.tm_yday)%7;4!=zr&&(3!=zr||!Jo(lt.tm_year))&&(vn=1)}}else{vn=52;var Go=(lt.tm_wday+7-lt.tm_yday-1)%7;(4==Go||5==Go&&Jo(lt.tm_year%400-1))&&vn++}return hn(vn,2)},"%w":function(lt){return lt.tm_wday},"%W":function(lt){return hn(Math.floor((lt.tm_yday+7-(lt.tm_wday+6)%7)/7),2)},"%y":function(lt){return(lt.tm_year+1900).toString().substring(2)},"%Y":function(lt){return lt.tm_year+1900},"%z":function(lt){var vn=lt.tm_gmtoff,Go=vn>=0;return vn=(vn=Math.abs(vn)/60)/60*100+vn%60,(Go?"+":"-")+String("0000"+vn).slice(-4)},"%Z":function(lt){return lt.tm_zone},"%%":function(){return"%"}};for(var St in ke=ke.replace(/%%/g,"\0\0"),Vr)ke.includes(St)&&(ke=ke.replace(new RegExp(St,"g"),Vr[St](ve)));var bo=on(ke=ke.replace(/\0\0/g,"%"),!1);return bo.length>h?0:(function R(c,h){Je.set(c,h)}(bo,c),bo.length-1)}(c,h,v,x)}},va=(function Yr(){var c={a:Tl};function h(ke,He){l.asm=ke.exports,Ve((de=l.asm.t).buffer),_e=l.asm.uc,function ao(c){Ae.unshift(c)}(l.asm.u),jr()}function v(ke){h(ke.instance)}function x(ke){return function us(){return fe||!ue&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return lo(mn)}):fetch(mn,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+mn+"'";return c.arrayBuffer()}).catch(function(){return lo(mn)})}().then(function(He){return WebAssembly.instantiate(He,c)}).then(function(He){return He}).then(ke,function(He){Y("failed to asynchronously prepare wasm: "+He),cr(He)})}if(no(),l.instantiateWasm)try{return l.instantiateWasm(c,h)}catch(ke){Y("Module.instantiateWasm callback failed with error: "+ke),te(ke)}(function H(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||po(mn)||"function"!=typeof fetch?x(v):fetch(mn,{credentials:"same-origin"}).then(function(ke){return WebAssembly.instantiateStreaming(ke,c).then(v,function(St){return Y("wasm streaming compile failed: "+St),Y("falling back to ArrayBuffer instantiation"),x(v)})})})().catch(te)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.u).apply(null,arguments)},l._malloc=function(){return(va=l._malloc=l.asm.v).apply(null,arguments)}),zn=(l._free=function(){return(l._free=l.asm.w).apply(null,arguments)},l._main=function(){return(l._main=l.asm.x).apply(null,arguments)},l._emscripten_bind_VoidPtr___destroy___0=function(){return(zn=l._emscripten_bind_VoidPtr___destroy___0=l.asm.y).apply(null,arguments)}),Fl=l._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(Fl=l._emscripten_bind_Cloudpilot_Cloudpilot_0=l.asm.z).apply(null,arguments)},Ol=l._emscripten_bind_Cloudpilot_Malloc_1=function(){return(Ol=l._emscripten_bind_Cloudpilot_Malloc_1=l.asm.A).apply(null,arguments)},hc=l._emscripten_bind_Cloudpilot_Free_1=function(){return(hc=l._emscripten_bind_Cloudpilot_Free_1=l.asm.B).apply(null,arguments)},mt=l._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(mt=l._emscripten_bind_Cloudpilot_Nullptr_0=l.asm.C).apply(null,arguments)},na=l._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(na=l._emscripten_bind_Cloudpilot_InitializeSession_3=l.asm.D).apply(null,arguments)},Er=l._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(Er=l._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=l.asm.E).apply(null,arguments)},Ms=l._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(Ms=l._emscripten_bind_Cloudpilot_RunEmulation_1=l.asm.F).apply(null,arguments)},ba=l._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(ba=l._emscripten_bind_Cloudpilot_SetClockFactor_1=l.asm.G).apply(null,arguments)},go=l._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(go=l._emscripten_bind_Cloudpilot_CopyFrame_0=l.asm.H).apply(null,arguments)},ms=l._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(ms=l._emscripten_bind_Cloudpilot_IsScreenDirty_0=l.asm.I).apply(null,arguments)},Ni=l._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Ni=l._emscripten_bind_Cloudpilot_MarkScreenClean_0=l.asm.J).apply(null,arguments)},Ca=l._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(Ca=l._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=l.asm.K).apply(null,arguments)},Gs=l._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Gs=l._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=l.asm.L).apply(null,arguments)},ra=l._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(ra=l._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=l.asm.M).apply(null,arguments)},wa=l._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(wa=l._emscripten_bind_Cloudpilot_QueuePenMove_2=l.asm.N).apply(null,arguments)},el=l._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(el=l._emscripten_bind_Cloudpilot_QueuePenUp_0=l.asm.O).apply(null,arguments)},xt=l._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(xt=l._emscripten_bind_Cloudpilot_QueueButtonDown_1=l.asm.P).apply(null,arguments)},oa=l._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(oa=l._emscripten_bind_Cloudpilot_QueueButtonUp_1=l.asm.Q).apply(null,arguments)},Do=l._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(Do=l._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=l.asm.R).apply(null,arguments)},ur=l._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(ur=l._emscripten_bind_Cloudpilot_IsPowerOff_0=l.asm.S).apply(null,arguments)},oo=l._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(oo=l._emscripten_bind_Cloudpilot_IsUIInitialized_0=l.asm.T).apply(null,arguments)},Ur=l._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(Ur=l._emscripten_bind_Cloudpilot_GetOSVersion_0=l.asm.U).apply(null,arguments)},p=l._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(p=l._emscripten_bind_Cloudpilot_IsSetupComplete_0=l.asm.V).apply(null,arguments)},_=l._emscripten_bind_Cloudpilot_Reset_0=function(){return(_=l._emscripten_bind_Cloudpilot_Reset_0=l.asm.W).apply(null,arguments)},w=l._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(w=l._emscripten_bind_Cloudpilot_ResetNoExtensions_0=l.asm.X).apply(null,arguments)},F=l._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(F=l._emscripten_bind_Cloudpilot_ResetHard_0=l.asm.Y).apply(null,arguments)},G=l._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(G=l._emscripten_bind_Cloudpilot_InstallDb_2=l.asm.Z).apply(null,arguments)},ye=l._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(ye=l._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=l.asm._).apply(null,arguments)},De=l._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(De=l._emscripten_bind_Cloudpilot_GetMemoryPtr_0=l.asm.$).apply(null,arguments)},Ue=l._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(Ue=l._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=l.asm.aa).apply(null,arguments)},wt=l._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(wt=l._emscripten_bind_Cloudpilot_GetMemorySize_0=l.asm.ba).apply(null,arguments)},pn=l._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(pn=l._emscripten_bind_Cloudpilot_ImportMemoryImage_2=l.asm.ca).apply(null,arguments)},Tn=l._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(Tn=l._emscripten_bind_Cloudpilot_GetRomPtr_0=l.asm.da).apply(null,arguments)},An=l._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(An=l._emscripten_bind_Cloudpilot_GetRomSize_0=l.asm.ea).apply(null,arguments)},jt=l._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(jt=l._emscripten_bind_Cloudpilot_GetSavestatePtr_0=l.asm.fa).apply(null,arguments)},zt=l._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(zt=l._emscripten_bind_Cloudpilot_GetSavestateSize_0=l.asm.ga).apply(null,arguments)},ee=l._emscripten_bind_Cloudpilot_SaveState_0=function(){return(ee=l._emscripten_bind_Cloudpilot_SaveState_0=l.asm.ha).apply(null,arguments)},Rr=l._emscripten_bind_Cloudpilot_LoadState_2=function(){return(Rr=l._emscripten_bind_Cloudpilot_LoadState_2=l.asm.ia).apply(null,arguments)},gn=l._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(gn=l._emscripten_bind_Cloudpilot_GetHotsyncName_0=l.asm.ja).apply(null,arguments)},Kr=l._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Kr=l._emscripten_bind_Cloudpilot_SetHotsyncName_1=l.asm.ka).apply(null,arguments)},ht=l._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(ht=l._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=l.asm.la).apply(null,arguments)},Ht=l._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(Ht=l._emscripten_bind_Cloudpilot_StartBackup_0=l.asm.ma).apply(null,arguments)},Xr=l._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(Xr=l._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=l.asm.na).apply(null,arguments)},Cr=l._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(Cr=l._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=l.asm.oa).apply(null,arguments)},ni=l._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(ni=l._emscripten_bind_Cloudpilot_IsSuspended_0=l.asm.pa).apply(null,arguments)},gr=l._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(gr=l._emscripten_bind_Cloudpilot_GetSuspendContext_0=l.asm.qa).apply(null,arguments)},Ci=l._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(Ci=l._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=l.asm.ra).apply(null,arguments)},ru=l._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(ru=l._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=l.asm.sa).apply(null,arguments)},ou=l._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(ou=l._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=l.asm.ta).apply(null,arguments)},Li=l._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(Li=l._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=l.asm.ua).apply(null,arguments)},Yi=l._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(Yi=l._emscripten_bind_Cloudpilot_LaunchAppByName_1=l.asm.va).apply(null,arguments)},rr=l._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(rr=l._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=l.asm.wa).apply(null,arguments)},Sa=l._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(Sa=l._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=l.asm.xa).apply(null,arguments)},tl=l._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(tl=l._emscripten_bind_Cloudpilot_ClearExternalStorage_0=l.asm.ya).apply(null,arguments)},nl=l._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(nl=l._emscripten_bind_Cloudpilot_AllocateCard_2=l.asm.za).apply(null,arguments)},Nl=l._emscripten_bind_Cloudpilot_AdoptCard_3=function(){return(Nl=l._emscripten_bind_Cloudpilot_AdoptCard_3=l.asm.Aa).apply(null,arguments)},gs=l._emscripten_bind_Cloudpilot_MountCard_1=function(){return(gs=l._emscripten_bind_Cloudpilot_MountCard_1=l.asm.Ba).apply(null,arguments)},Ea=l._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(Ea=l._emscripten_bind_Cloudpilot_RemoveCard_1=l.asm.Ca).apply(null,arguments)},xd=l._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(xd=l._emscripten_bind_Cloudpilot_GetCardData_1=l.asm.Da).apply(null,arguments)},ut=l._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(ut=l._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=l.asm.Ea).apply(null,arguments)},rl=l._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(rl=l._emscripten_bind_Cloudpilot_GetCardSize_1=l.asm.Fa).apply(null,arguments)},mc=l._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(mc=l._emscripten_bind_Cloudpilot_RemountCards_0=l.asm.Ga).apply(null,arguments)},Ll=l._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(Ll=l._emscripten_bind_Cloudpilot_GetSupportLevel_1=l.asm.Ha).apply(null,arguments)},Fr=l._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(Fr=l._emscripten_bind_Cloudpilot_GetMountedKey_0=l.asm.Ia).apply(null,arguments)},_o=l._emscripten_bind_Cloudpilot___destroy___0=function(){return(_o=l._emscripten_bind_Cloudpilot___destroy___0=l.asm.Ja).apply(null,arguments)},Ki=l._emscripten_bind_RomInfo_RomInfo_2=function(){return(Ki=l._emscripten_bind_RomInfo_RomInfo_2=l.asm.Ka).apply(null,arguments)},Mt=l._emscripten_bind_RomInfo_IsValid_0=function(){return(Mt=l._emscripten_bind_RomInfo_IsValid_0=l.asm.La).apply(null,arguments)},yo=l._emscripten_bind_RomInfo_CardVersion_0=function(){return(yo=l._emscripten_bind_RomInfo_CardVersion_0=l.asm.Ma).apply(null,arguments)},dr=l._emscripten_bind_RomInfo_CardName_0=function(){return(dr=l._emscripten_bind_RomInfo_CardName_0=l.asm.Na).apply(null,arguments)},Po=l._emscripten_bind_RomInfo_RomVersion_0=function(){return(Po=l._emscripten_bind_RomInfo_RomVersion_0=l.asm.Oa).apply(null,arguments)},jo=l._emscripten_bind_RomInfo_RomVersionString_0=function(){return(jo=l._emscripten_bind_RomInfo_RomVersionString_0=l.asm.Pa).apply(null,arguments)},ia=l._emscripten_bind_RomInfo_Supports_1=function(){return(ia=l._emscripten_bind_RomInfo_Supports_1=l.asm.Qa).apply(null,arguments)},_n=l._emscripten_bind_RomInfo___destroy___0=function(){return(_n=l._emscripten_bind_RomInfo___destroy___0=l.asm.Ra).apply(null,arguments)},xr=l._emscripten_bind_Frame_GetLineWidth_0=function(){return(xr=l._emscripten_bind_Frame_GetLineWidth_0=l.asm.Sa).apply(null,arguments)},Et=l._emscripten_bind_Frame_GetBpp_0=function(){return(Et=l._emscripten_bind_Frame_GetBpp_0=l.asm.Ta).apply(null,arguments)},Wt=l._emscripten_bind_Frame_GetLines_0=function(){return(Wt=l._emscripten_bind_Frame_GetLines_0=l.asm.Ua).apply(null,arguments)},It=l._emscripten_bind_Frame_GetMargin_0=function(){return(It=l._emscripten_bind_Frame_GetMargin_0=l.asm.Va).apply(null,arguments)},fr=l._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(fr=l._emscripten_bind_Frame_GetBytesPerLine_0=l.asm.Wa).apply(null,arguments)},or=l._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(or=l._emscripten_bind_Frame_GetFirstDirtyLine_0=l.asm.Xa).apply(null,arguments)},Wn=l._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(Wn=l._emscripten_bind_Frame_GetLastDirtyLine_0=l.asm.Ya).apply(null,arguments)},_r=l._emscripten_bind_Frame_GetHasChanges_0=function(){return(_r=l._emscripten_bind_Frame_GetHasChanges_0=l.asm.Za).apply(null,arguments)},Sn=l._emscripten_bind_Frame_GetBuffer_0=function(){return(Sn=l._emscripten_bind_Frame_GetBuffer_0=l.asm._a).apply(null,arguments)},d=l._emscripten_bind_Frame_GetBufferSize_0=function(){return(d=l._emscripten_bind_Frame_GetBufferSize_0=l.asm.$a).apply(null,arguments)},g=l._emscripten_bind_Frame_GetScaleX_0=function(){return(g=l._emscripten_bind_Frame_GetScaleX_0=l.asm.ab).apply(null,arguments)},b=l._emscripten_bind_Frame_GetScaleY_0=function(){return(b=l._emscripten_bind_Frame_GetScaleY_0=l.asm.bb).apply(null,arguments)},P=l._emscripten_bind_Frame___destroy___0=function(){return(P=l._emscripten_bind_Frame___destroy___0=l.asm.cb).apply(null,arguments)},W=l._emscripten_bind_DbBackup_Init_1=function(){return(W=l._emscripten_bind_DbBackup_Init_1=l.asm.db).apply(null,arguments)},Ce=l._emscripten_bind_DbBackup_IsInProgress_0=function(){return(Ce=l._emscripten_bind_DbBackup_IsInProgress_0=l.asm.eb).apply(null,arguments)},we=l._emscripten_bind_DbBackup_IsDone_0=function(){return(we=l._emscripten_bind_DbBackup_IsDone_0=l.asm.fb).apply(null,arguments)},Re=l._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Re=l._emscripten_bind_DbBackup_GetCurrentDatabase_0=l.asm.gb).apply(null,arguments)},bt=l._emscripten_bind_DbBackup_Save_0=function(){return(bt=l._emscripten_bind_DbBackup_Save_0=l.asm.hb).apply(null,arguments)},en=l._emscripten_bind_DbBackup_Skip_0=function(){return(en=l._emscripten_bind_DbBackup_Skip_0=l.asm.ib).apply(null,arguments)},wn=l._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(wn=l._emscripten_bind_DbBackup_GetArchivePtr_0=l.asm.jb).apply(null,arguments)},Nn=l._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(Nn=l._emscripten_bind_DbBackup_GetArchiveSize_0=l.asm.kb).apply(null,arguments)},sn=l._emscripten_bind_DbBackup___destroy___0=function(){return(sn=l._emscripten_bind_DbBackup___destroy___0=l.asm.lb).apply(null,arguments)},Dt=l._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(Dt=l._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=l.asm.mb).apply(null,arguments)},Un=l._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(Un=l._emscripten_bind_SuspendContextClipboardCopy_Resume_0=l.asm.nb).apply(null,arguments)},Hr=l._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Hr=l._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=l.asm.ob).apply(null,arguments)},fi=l._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(fi=l._emscripten_bind_SuspendContextClipboardCopy___destroy___0=l.asm.pb).apply(null,arguments)},vo=l._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(vo=l._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=l.asm.qb).apply(null,arguments)},gt=l._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(gt=l._emscripten_bind_SuspendContextClipboardPaste_Resume_1=l.asm.rb).apply(null,arguments)},Xt=l._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(Xt=l._emscripten_bind_SuspendContextClipboardPaste___destroy___0=l.asm.sb).apply(null,arguments)},ir=l._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(ir=l._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=l.asm.tb).apply(null,arguments)},Or=l._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(Or=l._emscripten_bind_SuspendContextNetworkConnect_Resume_1=l.asm.ub).apply(null,arguments)},Lr=l._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Lr=l._emscripten_bind_SuspendContextNetworkConnect___destroy___0=l.asm.vb).apply(null,arguments)},yr=l._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(yr=l._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=l.asm.wb).apply(null,arguments)},iu=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(iu=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=l.asm.xb).apply(null,arguments)},$l=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return($l=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=l.asm.yb).apply(null,arguments)},gc=l._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(gc=l._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=l.asm.zb).apply(null,arguments)},_s=l._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(_s=l._emscripten_bind_SuspendContextNetworkRpc___destroy___0=l.asm.Ab).apply(null,arguments)},Tp=l._emscripten_bind_SuspendContext_GetKind_0=function(){return(Tp=l._emscripten_bind_SuspendContext_GetKind_0=l.asm.Bb).apply(null,arguments)},ug=l._emscripten_bind_SuspendContext_Cancel_0=function(){return(ug=l._emscripten_bind_SuspendContext_Cancel_0=l.asm.Cb).apply(null,arguments)},Ap=l._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(Ap=l._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=l.asm.Db).apply(null,arguments)},Pp=l._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(Pp=l._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=l.asm.Eb).apply(null,arguments)},dg=l._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(dg=l._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=l.asm.Fb).apply(null,arguments)},fg=l._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(fg=l._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=l.asm.Gb).apply(null,arguments)},pg=l._emscripten_bind_SuspendContext___destroy___0=function(){return(pg=l._emscripten_bind_SuspendContext___destroy___0=l.asm.Hb).apply(null,arguments)},hg=l._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(hg=l._emscripten_bind_ZipfileWalker_ZipfileWalker_2=l.asm.Ib).apply(null,arguments)},mg=l._emscripten_bind_ZipfileWalker_GetState_0=function(){return(mg=l._emscripten_bind_ZipfileWalker_GetState_0=l.asm.Jb).apply(null,arguments)},gg=l._emscripten_bind_ZipfileWalker_Next_0=function(){return(gg=l._emscripten_bind_ZipfileWalker_Next_0=l.asm.Kb).apply(null,arguments)},_g=l._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(_g=l._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=l.asm.Lb).apply(null,arguments)},yg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(yg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=l.asm.Mb).apply(null,arguments)},vg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(vg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=l.asm.Nb).apply(null,arguments)},bg=l._emscripten_bind_ZipfileWalker___destroy___0=function(){return(bg=l._emscripten_bind_ZipfileWalker___destroy___0=l.asm.Ob).apply(null,arguments)},Cg=l._emscripten_bind_SessionImage_SessionImage_0=function(){return(Cg=l._emscripten_bind_SessionImage_SessionImage_0=l.asm.Pb).apply(null,arguments)},wg=l._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(wg=l._emscripten_bind_SessionImage_GetDeviceId_0=l.asm.Qb).apply(null,arguments)},Md=l._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(Md=l._emscripten_bind_SessionImage_SetDeviceId_1=l.asm.Rb).apply(null,arguments)},Td=l._emscripten_bind_SessionImage_GetRomImage_0=function(){return(Td=l._emscripten_bind_SessionImage_GetRomImage_0=l.asm.Sb).apply(null,arguments)},Sg=l._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(Sg=l._emscripten_bind_SessionImage_GetRomImageSize_0=l.asm.Tb).apply(null,arguments)},Eg=l._emscripten_bind_SessionImage_SetRomImage_2=function(){return(Eg=l._emscripten_bind_SessionImage_SetRomImage_2=l.asm.Ub).apply(null,arguments)},Dg=l._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(Dg=l._emscripten_bind_SessionImage_GetMemoryImage_0=l.asm.Vb).apply(null,arguments)},Da=l._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(Da=l._emscripten_bind_SessionImage_GetMemoryImageSize_0=l.asm.Wb).apply(null,arguments)},Rp=l._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(Rp=l._emscripten_bind_SessionImage_SetMemoryImage_2=l.asm.Xb).apply(null,arguments)},Uo=l._emscripten_bind_SessionImage_GetMetadata_0=function(){return(Uo=l._emscripten_bind_SessionImage_GetMetadata_0=l.asm.Yb).apply(null,arguments)},Ad=l._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(Ad=l._emscripten_bind_SessionImage_GetMetadataSize_0=l.asm.Zb).apply(null,arguments)},Fp=l._emscripten_bind_SessionImage_SetMetadata_2=function(){return(Fp=l._emscripten_bind_SessionImage_SetMetadata_2=l.asm._b).apply(null,arguments)},Op=l._emscripten_bind_SessionImage_GetSavestate_0=function(){return(Op=l._emscripten_bind_SessionImage_GetSavestate_0=l.asm.$b).apply(null,arguments)},Pd=l._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(Pd=l._emscripten_bind_SessionImage_GetSavestateSize_0=l.asm.ac).apply(null,arguments)},Rd=l._emscripten_bind_SessionImage_SetSavestate_2=function(){return(Rd=l._emscripten_bind_SessionImage_SetSavestate_2=l.asm.bc).apply(null,arguments)},Np=l._emscripten_bind_SessionImage_GetVersion_0=function(){return(Np=l._emscripten_bind_SessionImage_GetVersion_0=l.asm.cc).apply(null,arguments)},su=l._emscripten_bind_SessionImage_Serialize_0=function(){return(su=l._emscripten_bind_SessionImage_Serialize_0=l.asm.dc).apply(null,arguments)},Lp=l._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(Lp=l._emscripten_bind_SessionImage_GetSerializedImage_0=l.asm.ec).apply(null,arguments)},Xi=l._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(Xi=l._emscripten_bind_SessionImage_GetSerializedImageSize_0=l.asm.fc).apply(null,arguments)},Fd=l._emscripten_bind_SessionImage_Deserialize_2=function(){return(Fd=l._emscripten_bind_SessionImage_Deserialize_2=l.asm.gc).apply(null,arguments)},Od=l._emscripten_bind_SessionImage___destroy___0=function(){return(Od=l._emscripten_bind_SessionImage___destroy___0=l.asm.hc).apply(null,arguments)},Ho=l._emscripten_bind_SkinLoader_SkinLoader_1=function(){return(Ho=l._emscripten_bind_SkinLoader_SkinLoader_1=l.asm.ic).apply(null,arguments)},$p=l._emscripten_bind_SkinLoader_GetData_0=function(){return($p=l._emscripten_bind_SkinLoader_GetData_0=l.asm.jc).apply(null,arguments)},_c=l._emscripten_bind_SkinLoader_GetSize_0=function(){return(_c=l._emscripten_bind_SkinLoader_GetSize_0=l.asm.kc).apply(null,arguments)},$i=l._emscripten_bind_SkinLoader___destroy___0=function(){return($i=l._emscripten_bind_SkinLoader___destroy___0=l.asm.lc).apply(null,arguments)},Bp=l._emscripten_bind_GunzipContext_GunzipContext_3=function(){return(Bp=l._emscripten_bind_GunzipContext_GunzipContext_3=l.asm.mc).apply(null,arguments)},Nd=l._emscripten_bind_GunzipContext_GetState_0=function(){return(Nd=l._emscripten_bind_GunzipContext_GetState_0=l.asm.nc).apply(null,arguments)},ol=l._emscripten_bind_GunzipContext_Continue_0=function(){return(ol=l._emscripten_bind_GunzipContext_Continue_0=l.asm.oc).apply(null,arguments)},Bi=l._emscripten_bind_GunzipContext_GetUncompressedData_0=function(){return(Bi=l._emscripten_bind_GunzipContext_GetUncompressedData_0=l.asm.pc).apply(null,arguments)},Vp=l._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=function(){return(Vp=l._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=l.asm.qc).apply(null,arguments)},yc=l._emscripten_bind_GunzipContext_GetUncompressedSize_0=function(){return(yc=l._emscripten_bind_GunzipContext_GetUncompressedSize_0=l.asm.rc).apply(null,arguments)},jp=l._emscripten_bind_GunzipContext_GetError_0=function(){return(jp=l._emscripten_bind_GunzipContext_GetError_0=l.asm.sc).apply(null,arguments)},sa=l._emscripten_bind_GunzipContext___destroy___0=function(){return(sa=l._emscripten_bind_GunzipContext___destroy___0=l.asm.tc).apply(null,arguments)};function $b(c){var h=l._main;try{var H=h(0,0);return function ot(c,h){ce=c,function et(c){ce=c,function Jt(){return Fe}()||(l.onExit&&l.onExit(c),it=!0),V(c,new Bn(c))}(c)}(H),H}catch(ve){return function Te(c){if(c instanceof Bn||"unwind"==c)return ce;V(1,c)}(ve)}}function Gp(c){function h(){vc||(vc=!0,l.calledRun=!0,!it&&(function Cn(){!l.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,Bt.init(),Gt(Ae)}(),function br(){Gt(Tt)}(),re(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),zp&&$b(),function Jn(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)c=l.postRun.shift(),rn.unshift(c);var c;Gt(rn)}()))}c=c||Q,Pn>0||(function j(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)c=l.preRun.shift(),ft.unshift(c);var c;Gt(ft)}(),Pn>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),h()},1)):h())}if(l.___original_main=function(){return(l.___original_main=l.asm.vc).apply(null,arguments)},l.___start_em_js=418211,l.___stop_em_js=418408,l.UTF8ToString=Oe,l.addFunction=function Oi(c,h){if(Pr||(Pr=new WeakMap,function bi(c,h){if(Pr)for(var v=c;v<c+h;v++){var x=Bo(v);x&&Pr.set(x,v)}}(0,_e.length)),Pr.has(c))return Pr.get(c);var v=function Xa(){if(hs.length)return hs.pop();try{_e.grow(1)}catch(c){throw c instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":c}return _e.length-1}();try{Qa(v,c)}catch(H){if(!(H instanceof TypeError))throw H;Qa(v,function $o(c,h){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function Ct(c){for(var h={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},v={parameters:[],results:"v"==c[0]?[]:[h[c[0]]]},x=1;x<c.length;++x)v.parameters.push(h[c[x]]),"j"===c[x]&&v.parameters.push("i32");return v}(h),c);var v=[1];!function fn(c,h){var v=c.slice(0,1),x=c.slice(1),H={i:127,p:127,j:126,f:125,d:124};h.push(96),Vt(x.length,h);for(var ve=0;ve<x.length;++ve)h.push(H[x[ve]]);"v"==v?h.push(0):h.push(1,H[v])}(h,v);var x=[0,97,115,109,1,0,0,0,1];Vt(v.length,x),x.push.apply(x,v),x.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var H=new WebAssembly.Module(new Uint8Array(x));return new WebAssembly.Instance(H,{e:{f:c}}).exports.f}(c,h))}return Pr.set(c,v),v},jn=function c(){vc||Gp(),vc||(jn=c)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var zp=!0;function Qr(){}function zs(c){return(c||Qr).__cache__}function sr(c,h){var v=zs(h),x=v[c];return x||((x=Object.create((h||Qr).prototype)).ptr=c,v[c]=x)}l.noInitialRun&&(zp=!1),Gp(),(Qr.prototype=Object.create(Qr.prototype)).constructor=Qr,Qr.prototype.__class__=Qr,Qr.__cache__={},l.WrapperObject=Qr,l.getCache=zs,l.wrapPointer=sr,l.castObject=function Ig(c,h){return sr(c.ptr,h)},l.NULL=sr(0),l.destroy=function pt(c){if(!c.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";c.__destroy__(),delete zs(c.__class__)[c.ptr]},l.compare=function lr(c,h){return c.ptr===h.ptr},l.getPointer=function ln(c){return c.ptr},l.getClass=function cn(c){return c.__class__};var un={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(un.needed){for(var c=0;c<un.temps.length;c++)l._free(un.temps[c]);un.temps.length=0,l._free(un.buffer),un.buffer=0,un.size+=un.needed,un.needed=0}un.buffer||(un.size+=128,un.buffer=l._malloc(un.size),be(un.buffer)),un.pos=0},alloc:function(c,h){be(un.buffer);var H,x=c.length*h.BYTES_PER_ELEMENT;return un.pos+(x=x+7&-8)>=un.size?(be(x>0),un.needed+=x,H=l._malloc(x),un.temps.push(H)):(H=un.buffer+un.pos,un.pos+=x),H},copy:function(c,h,v){switch(v>>>=0,h.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var H=0;H<c.length;H++)h[v+H]=c[H]}};function Ro(c){if("string"==typeof c){var h=on(c),v=un.alloc(h,Je);return un.copy(h,Je,v),v}return c}function pr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function qe(){this.ptr=Fl(),zs(qe)[this.ptr]=this}function Jr(c,h){c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=Ki(c,h),zs(Jr)[this.ptr]=this}function Yn(){throw"cannot construct a Frame, no constructor in IDL"}function $r(){throw"cannot construct a DbBackup, no constructor in IDL"}function wi(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Si(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Mr(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function Br(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function io(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Gr(c,h){c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=hg(c,h),zs(Gr)[this.ptr]=this}function nn(){this.ptr=Cg(),zs(nn)[this.ptr]=this}function Vi(c){un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),this.ptr=Ho(c),zs(Vi)[this.ptr]=this}function so(c,h,v){c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),v&&"object"==typeof v&&(v=v.ptr),this.ptr=Bp(c,h,v),zs(so)[this.ptr]=this}return(pr.prototype=Object.create(Qr.prototype)).constructor=pr,pr.prototype.__class__=pr,pr.__cache__={},l.VoidPtr=pr,pr.prototype.__destroy__=pr.prototype.__destroy__=function(){zn(this.ptr)},(qe.prototype=Object.create(Qr.prototype)).constructor=qe,qe.prototype.__class__=qe,qe.__cache__={},l.Cloudpilot=qe,qe.prototype.Malloc=qe.prototype.Malloc=function(c){return c&&"object"==typeof c&&(c=c.ptr),sr(Ol(this.ptr,c),pr)},qe.prototype.Free=qe.prototype.Free=function(c){c&&"object"==typeof c&&(c=c.ptr),hc(this.ptr,c)},qe.prototype.Nullptr=qe.prototype.Nullptr=function(){return sr(mt(this.ptr),pr)},qe.prototype.InitializeSession=qe.prototype.InitializeSession=function(c,h,v){var x=this.ptr;return un.prepare(),c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),v=v&&"object"==typeof v?v.ptr:Ro(v),!!na(x,c,h,v)},qe.prototype.GetCyclesPerSecond=qe.prototype.GetCyclesPerSecond=function(){return Er(this.ptr)},qe.prototype.RunEmulation=qe.prototype.RunEmulation=function(c){return c&&"object"==typeof c&&(c=c.ptr),Ms(this.ptr,c)},qe.prototype.SetClockFactor=qe.prototype.SetClockFactor=function(c){c&&"object"==typeof c&&(c=c.ptr),ba(this.ptr,c)},qe.prototype.CopyFrame=qe.prototype.CopyFrame=function(){return sr(go(this.ptr),Yn)},qe.prototype.IsScreenDirty=qe.prototype.IsScreenDirty=function(){return!!ms(this.ptr)},qe.prototype.MarkScreenClean=qe.prototype.MarkScreenClean=function(){Ni(this.ptr)},qe.prototype.MinMemoryForDevice=qe.prototype.MinMemoryForDevice=function(c){var h=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),Ca(h,c)},qe.prototype.FramebufferSizeForDevice=qe.prototype.FramebufferSizeForDevice=function(c){var h=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),Gs(h,c)},qe.prototype.TotalMemoryForDevice=qe.prototype.TotalMemoryForDevice=function(c){var h=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),ra(h,c)},qe.prototype.QueuePenMove=qe.prototype.QueuePenMove=function(c,h){c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),wa(this.ptr,c,h)},qe.prototype.QueuePenUp=qe.prototype.QueuePenUp=function(){el(this.ptr)},qe.prototype.QueueButtonDown=qe.prototype.QueueButtonDown=function(c){c&&"object"==typeof c&&(c=c.ptr),xt(this.ptr,c)},qe.prototype.QueueButtonUp=qe.prototype.QueueButtonUp=function(c){c&&"object"==typeof c&&(c=c.ptr),oa(this.ptr,c)},qe.prototype.QueueKeyboardEvent=qe.prototype.QueueKeyboardEvent=function(c,h){c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),Do(this.ptr,c,h)},qe.prototype.IsPowerOff=qe.prototype.IsPowerOff=function(){return!!ur(this.ptr)},qe.prototype.IsUIInitialized=qe.prototype.IsUIInitialized=function(){return!!oo(this.ptr)},qe.prototype.GetOSVersion=qe.prototype.GetOSVersion=function(){return Ur(this.ptr)},qe.prototype.IsSetupComplete=qe.prototype.IsSetupComplete=function(){return!!p(this.ptr)},qe.prototype.Reset=qe.prototype.Reset=function(){_(this.ptr)},qe.prototype.ResetNoExtensions=qe.prototype.ResetNoExtensions=function(){w(this.ptr)},qe.prototype.ResetHard=qe.prototype.ResetHard=function(){F(this.ptr)},qe.prototype.InstallDb=qe.prototype.InstallDb=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),G(this.ptr,c,h)},qe.prototype.GetPalette2bitMapping=qe.prototype.GetPalette2bitMapping=function(){return ye(this.ptr)},qe.prototype.GetMemoryPtr=qe.prototype.GetMemoryPtr=function(){return sr(De(this.ptr),pr)},qe.prototype.GetDirtyPagesPtr=qe.prototype.GetDirtyPagesPtr=function(){return sr(Ue(this.ptr),pr)},qe.prototype.GetMemorySize=qe.prototype.GetMemorySize=function(){return wt(this.ptr)},qe.prototype.ImportMemoryImage=qe.prototype.ImportMemoryImage=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),!!pn(this.ptr,c,h)},qe.prototype.GetRomPtr=qe.prototype.GetRomPtr=function(){return sr(Tn(this.ptr),pr)},qe.prototype.GetRomSize=qe.prototype.GetRomSize=function(){return An(this.ptr)},qe.prototype.GetSavestatePtr=qe.prototype.GetSavestatePtr=function(){return sr(jt(this.ptr),pr)},qe.prototype.GetSavestateSize=qe.prototype.GetSavestateSize=function(){return zt(this.ptr)},qe.prototype.SaveState=qe.prototype.SaveState=function(){return!!ee(this.ptr)},qe.prototype.LoadState=qe.prototype.LoadState=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Rr(this.ptr,c,h)},qe.prototype.GetHotsyncName=qe.prototype.GetHotsyncName=function(){return Oe(gn(this.ptr))},qe.prototype.SetHotsyncName=qe.prototype.SetHotsyncName=function(c){var h=this.ptr;un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),Kr(h,c)},qe.prototype.RegisterPwmHandler=qe.prototype.RegisterPwmHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),ht(this.ptr,c)},qe.prototype.StartBackup=qe.prototype.StartBackup=function(){return sr(Ht(this.ptr),$r)},qe.prototype.SetClipboardIntegration=qe.prototype.SetClipboardIntegration=function(c){c&&"object"==typeof c&&(c=c.ptr),Xr(this.ptr,c)},qe.prototype.GetClipboardIntegration=qe.prototype.GetClipboardIntegration=function(){return!!Cr(this.ptr)},qe.prototype.IsSuspended=qe.prototype.IsSuspended=function(){return!!ni(this.ptr)},qe.prototype.GetSuspendContext=qe.prototype.GetSuspendContext=function(){return sr(gr(this.ptr),io)},qe.prototype.SetNetworkRedirection=qe.prototype.SetNetworkRedirection=function(c){c&&"object"==typeof c&&(c=c.ptr),Ci(this.ptr,c)},qe.prototype.GetNetworkRedirection=qe.prototype.GetNetworkRedirection=function(){return!!ru(this.ptr)},qe.prototype.RegisterProxyDisconnectHandler=qe.prototype.RegisterProxyDisconnectHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),ou(this.ptr,c)},qe.prototype.SetHotsyncNameManagement=qe.prototype.SetHotsyncNameManagement=function(c){c&&"object"==typeof c&&(c=c.ptr),Li(this.ptr,c)},qe.prototype.LaunchAppByName=qe.prototype.LaunchAppByName=function(c){var h=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),!!Yi(h,c)},qe.prototype.LaunchAppByDbHeader=qe.prototype.LaunchAppByDbHeader=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),!!rr(this.ptr,c,h)},qe.prototype.DeviceSupportsCardSize=qe.prototype.DeviceSupportsCardSize=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!Sa(this.ptr,c)},qe.prototype.ClearExternalStorage=qe.prototype.ClearExternalStorage=function(){tl(this.ptr)},qe.prototype.AllocateCard=qe.prototype.AllocateCard=function(c,h){var v=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),h&&"object"==typeof h&&(h=h.ptr),!!nl(v,c,h)},qe.prototype.AdoptCard=qe.prototype.AdoptCard=function(c,h,v){var x=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),h&&"object"==typeof h&&(h=h.ptr),v&&"object"==typeof v&&(v=v.ptr),!!Nl(x,c,h,v)},qe.prototype.MountCard=qe.prototype.MountCard=function(c){var h=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),!!gs(h,c)},qe.prototype.RemoveCard=qe.prototype.RemoveCard=function(c){var h=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),!!Ea(h,c)},qe.prototype.GetCardData=qe.prototype.GetCardData=function(c){var h=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),sr(xd(h,c),pr)},qe.prototype.GetCardDirtyPages=qe.prototype.GetCardDirtyPages=function(c){var h=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),sr(ut(h,c),pr)},qe.prototype.GetCardSize=qe.prototype.GetCardSize=function(c){var h=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),rl(h,c)},qe.prototype.RemountCards=qe.prototype.RemountCards=function(){mc(this.ptr)},qe.prototype.GetSupportLevel=qe.prototype.GetSupportLevel=function(c){return c&&"object"==typeof c&&(c=c.ptr),Ll(this.ptr,c)},qe.prototype.GetMountedKey=qe.prototype.GetMountedKey=function(){return Oe(Fr(this.ptr))},qe.prototype.__destroy__=qe.prototype.__destroy__=function(){_o(this.ptr)},(Jr.prototype=Object.create(Qr.prototype)).constructor=Jr,Jr.prototype.__class__=Jr,Jr.__cache__={},l.RomInfo=Jr,Jr.prototype.IsValid=Jr.prototype.IsValid=function(){return!!Mt(this.ptr)},Jr.prototype.CardVersion=Jr.prototype.CardVersion=function(){return yo(this.ptr)},Jr.prototype.CardName=Jr.prototype.CardName=function(){return Oe(dr(this.ptr))},Jr.prototype.RomVersion=Jr.prototype.RomVersion=function(){return Po(this.ptr)},Jr.prototype.RomVersionString=Jr.prototype.RomVersionString=function(){return Oe(jo(this.ptr))},Jr.prototype.Supports=Jr.prototype.Supports=function(c){var h=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),!!ia(h,c)},Jr.prototype.__destroy__=Jr.prototype.__destroy__=function(){_n(this.ptr)},(Yn.prototype=Object.create(Qr.prototype)).constructor=Yn,Yn.prototype.__class__=Yn,Yn.__cache__={},l.Frame=Yn,Yn.prototype.GetLineWidth=Yn.prototype.GetLineWidth=function(){return xr(this.ptr)},Yn.prototype.GetBpp=Yn.prototype.GetBpp=function(){return Et(this.ptr)},Yn.prototype.GetLines=Yn.prototype.GetLines=function(){return Wt(this.ptr)},Yn.prototype.GetMargin=Yn.prototype.GetMargin=function(){return It(this.ptr)},Yn.prototype.GetBytesPerLine=Yn.prototype.GetBytesPerLine=function(){return fr(this.ptr)},Yn.prototype.GetFirstDirtyLine=Yn.prototype.GetFirstDirtyLine=function(){return or(this.ptr)},Yn.prototype.GetLastDirtyLine=Yn.prototype.GetLastDirtyLine=function(){return Wn(this.ptr)},Yn.prototype.GetHasChanges=Yn.prototype.GetHasChanges=function(){return!!_r(this.ptr)},Yn.prototype.GetBuffer=Yn.prototype.GetBuffer=function(){return sr(Sn(this.ptr),pr)},Yn.prototype.GetBufferSize=Yn.prototype.GetBufferSize=function(){return d(this.ptr)},Yn.prototype.GetScaleX=Yn.prototype.GetScaleX=function(){return g(this.ptr)},Yn.prototype.GetScaleY=Yn.prototype.GetScaleY=function(){return b(this.ptr)},Yn.prototype.__destroy__=Yn.prototype.__destroy__=function(){P(this.ptr)},($r.prototype=Object.create(Qr.prototype)).constructor=$r,$r.prototype.__class__=$r,$r.__cache__={},l.DbBackup=$r,$r.prototype.Init=$r.prototype.Init=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!W(this.ptr,c)},$r.prototype.IsInProgress=$r.prototype.IsInProgress=function(){return!!Ce(this.ptr)},$r.prototype.IsDone=$r.prototype.IsDone=function(){return!!we(this.ptr)},$r.prototype.GetCurrentDatabase=$r.prototype.GetCurrentDatabase=function(){return Oe(Re(this.ptr))},$r.prototype.Save=$r.prototype.Save=function(){return!!bt(this.ptr)},$r.prototype.Skip=$r.prototype.Skip=function(){en(this.ptr)},$r.prototype.GetArchivePtr=$r.prototype.GetArchivePtr=function(){return sr(wn(this.ptr),pr)},$r.prototype.GetArchiveSize=$r.prototype.GetArchiveSize=function(){return Nn(this.ptr)},$r.prototype.__destroy__=$r.prototype.__destroy__=function(){sn(this.ptr)},(wi.prototype=Object.create(Qr.prototype)).constructor=wi,wi.prototype.__class__=wi,wi.__cache__={},l.SuspendContextClipboardCopy=wi,wi.prototype.Cancel=wi.prototype.Cancel=function(){Dt(this.ptr)},wi.prototype.Resume=wi.prototype.Resume=function(){Un(this.ptr)},wi.prototype.GetClipboardContent=wi.prototype.GetClipboardContent=function(){return Oe(Hr(this.ptr))},wi.prototype.__destroy__=wi.prototype.__destroy__=function(){fi(this.ptr)},(Si.prototype=Object.create(Qr.prototype)).constructor=Si,Si.prototype.__class__=Si,Si.__cache__={},l.SuspendContextClipboardPaste=Si,Si.prototype.Cancel=Si.prototype.Cancel=function(){vo(this.ptr)},Si.prototype.Resume=Si.prototype.Resume=function(c){var h=this.ptr;un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),gt(h,c)},Si.prototype.__destroy__=Si.prototype.__destroy__=function(){Xt(this.ptr)},(Mr.prototype=Object.create(Qr.prototype)).constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},l.SuspendContextNetworkConnect=Mr,Mr.prototype.Cancel=Mr.prototype.Cancel=function(){ir(this.ptr)},Mr.prototype.Resume=Mr.prototype.Resume=function(c){var h=this.ptr;un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),Or(h,c)},Mr.prototype.__destroy__=Mr.prototype.__destroy__=function(){Lr(this.ptr)},(Br.prototype=Object.create(Qr.prototype)).constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},l.SuspendContextNetworkRpc=Br,Br.prototype.Cancel=Br.prototype.Cancel=function(){yr(this.ptr)},Br.prototype.GetRequestSize=Br.prototype.GetRequestSize=function(){return iu(this.ptr)},Br.prototype.GetRequestData=Br.prototype.GetRequestData=function(){return sr($l(this.ptr),pr)},Br.prototype.ReceiveResponse=Br.prototype.ReceiveResponse=function(c,h){c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),gc(this.ptr,c,h)},Br.prototype.__destroy__=Br.prototype.__destroy__=function(){_s(this.ptr)},(io.prototype=Object.create(Qr.prototype)).constructor=io,io.prototype.__class__=io,io.__cache__={},l.SuspendContext=io,io.prototype.GetKind=io.prototype.GetKind=function(){return Tp(this.ptr)},io.prototype.Cancel=io.prototype.Cancel=function(){ug(this.ptr)},io.prototype.AsContextClipboardCopy=io.prototype.AsContextClipboardCopy=function(){return sr(Ap(this.ptr),wi)},io.prototype.AsContextClipboardPaste=io.prototype.AsContextClipboardPaste=function(){return sr(Pp(this.ptr),Si)},io.prototype.AsContextNetworkConnect=io.prototype.AsContextNetworkConnect=function(){return sr(dg(this.ptr),Mr)},io.prototype.AsContextNetworkRpc=io.prototype.AsContextNetworkRpc=function(){return sr(fg(this.ptr),Br)},io.prototype.__destroy__=io.prototype.__destroy__=function(){pg(this.ptr)},(Gr.prototype=Object.create(Qr.prototype)).constructor=Gr,Gr.prototype.__class__=Gr,Gr.__cache__={},l.ZipfileWalker=Gr,Gr.prototype.GetState=Gr.prototype.GetState=function(){return mg(this.ptr)},Gr.prototype.Next=Gr.prototype.Next=function(){return gg(this.ptr)},Gr.prototype.GetCurrentEntrySize=Gr.prototype.GetCurrentEntrySize=function(){return _g(this.ptr)},Gr.prototype.GetCurrentEntryName=Gr.prototype.GetCurrentEntryName=function(){return Oe(yg(this.ptr))},Gr.prototype.GetCurrentEntryContent=Gr.prototype.GetCurrentEntryContent=function(){return sr(vg(this.ptr),pr)},Gr.prototype.__destroy__=Gr.prototype.__destroy__=function(){bg(this.ptr)},(nn.prototype=Object.create(Qr.prototype)).constructor=nn,nn.prototype.__class__=nn,nn.__cache__={},l.SessionImage=nn,nn.prototype.GetDeviceId=nn.prototype.GetDeviceId=function(){return Oe(wg(this.ptr))},nn.prototype.SetDeviceId=nn.prototype.SetDeviceId=function(c){var h=this.ptr;return un.prepare(),c=c&&"object"==typeof c?c.ptr:Ro(c),sr(Md(h,c),nn)},nn.prototype.GetRomImage=nn.prototype.GetRomImage=function(){return sr(Td(this.ptr),pr)},nn.prototype.GetRomImageSize=nn.prototype.GetRomImageSize=function(){return Sg(this.ptr)},nn.prototype.SetRomImage=nn.prototype.SetRomImage=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),sr(Eg(this.ptr,c,h),nn)},nn.prototype.GetMemoryImage=nn.prototype.GetMemoryImage=function(){return sr(Dg(this.ptr),pr)},nn.prototype.GetMemoryImageSize=nn.prototype.GetMemoryImageSize=function(){return Da(this.ptr)},nn.prototype.SetMemoryImage=nn.prototype.SetMemoryImage=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),sr(Rp(this.ptr,c,h),nn)},nn.prototype.GetMetadata=nn.prototype.GetMetadata=function(){return sr(Uo(this.ptr),pr)},nn.prototype.GetMetadataSize=nn.prototype.GetMetadataSize=function(){return Ad(this.ptr)},nn.prototype.SetMetadata=nn.prototype.SetMetadata=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),sr(Fp(this.ptr,c,h),nn)},nn.prototype.GetSavestate=nn.prototype.GetSavestate=function(){return sr(Op(this.ptr),pr)},nn.prototype.GetSavestateSize=nn.prototype.GetSavestateSize=function(){return Pd(this.ptr)},nn.prototype.SetSavestate=nn.prototype.SetSavestate=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),sr(Rd(this.ptr,c,h),nn)},nn.prototype.GetVersion=nn.prototype.GetVersion=function(){return Np(this.ptr)},nn.prototype.Serialize=nn.prototype.Serialize=function(){return!!su(this.ptr)},nn.prototype.GetSerializedImage=nn.prototype.GetSerializedImage=function(){return sr(Lp(this.ptr),pr)},nn.prototype.GetSerializedImageSize=nn.prototype.GetSerializedImageSize=function(){return Xi(this.ptr)},nn.prototype.Deserialize=nn.prototype.Deserialize=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Fd(this.ptr,c,h)},nn.prototype.__destroy__=nn.prototype.__destroy__=function(){Od(this.ptr)},(Vi.prototype=Object.create(Qr.prototype)).constructor=Vi,Vi.prototype.__class__=Vi,Vi.__cache__={},l.SkinLoader=Vi,Vi.prototype.GetData=Vi.prototype.GetData=function(){return sr($p(this.ptr),pr)},Vi.prototype.GetSize=Vi.prototype.GetSize=function(){return _c(this.ptr)},Vi.prototype.__destroy__=Vi.prototype.__destroy__=function(){$i(this.ptr)},(so.prototype=Object.create(Qr.prototype)).constructor=so,so.prototype.__class__=so,so.__cache__={},l.GunzipContext=so,so.prototype.GetState=so.prototype.GetState=function(){return Nd(this.ptr)},so.prototype.Continue=so.prototype.Continue=function(){return ol(this.ptr)},so.prototype.GetUncompressedData=so.prototype.GetUncompressedData=function(){return sr(Bi(this.ptr),pr)},so.prototype.ReleaseUncompressedData=so.prototype.ReleaseUncompressedData=function(){return sr(Vp(this.ptr),pr)},so.prototype.GetUncompressedSize=so.prototype.GetUncompressedSize=function(){return yc(this.ptr)},so.prototype.GetError=so.prototype.GetError=function(){return Oe(jp(this.ptr))},so.prototype.__destroy__=so.prototype.__destroy__=function(){sa(this.ptr)},I.ready});Be.exports=We},9084:Be=>{var A,We=(A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,te,l=typeof(I=I||{})<"u"?I:{};l.ready=new Promise(function(p,_){re=p,te=_});var U,Pe,$e,z=Object.assign({},l),Q=[],L="./this.program",V=(p,_)=>{throw _},ue="object"==typeof window,X="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||X)&&(X?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),A&&(B=A),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",U=p=>{var _=new XMLHttpRequest;return _.open("GET",p,!1),_.send(null),_.responseText},X&&($e=p=>{var _=new XMLHttpRequest;return _.open("GET",p,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),Pe=(p,_,w)=>{var F=new XMLHttpRequest;F.open("GET",p,!0),F.responseType="arraybuffer",F.onload=()=>{200==F.status||0==F.status&&F.response?_(F.response):w()},F.onerror=w,F.send(null)});var fe,Z=l.print||console.log.bind(console),Y=l.printErr||console.warn.bind(console);Object.assign(l,z),z=null,l.arguments&&(Q=l.arguments),l.thisProgram&&(L=l.thisProgram),l.quit&&(V=l.quit),l.wasmBinary&&(fe=l.wasmBinary);var Fe=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&cr("no native wasm support detected");var de,ce,it=!1;function be(p,_){p||cr(_)}var je,Je,yt,O,ge,nt,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Qe(p,_,w){for(var F=_+w,G=_;p[G]&&!(G>=F);)++G;if(G-_>16&&p.buffer&&Ie)return Ie.decode(p.subarray(_,G));for(var ye="";_<G;){var De=p[_++];if(128&De){var Ue=63&p[_++];if(192!=(224&De)){var wt=63&p[_++];if((De=224==(240&De)?(15&De)<<12|Ue<<6|wt:(7&De)<<18|Ue<<12|wt<<6|63&p[_++])<65536)ye+=String.fromCharCode(De);else{var pn=De-65536;ye+=String.fromCharCode(55296|pn>>10,56320|1023&pn)}}else ye+=String.fromCharCode((31&De)<<6|Ue)}else ye+=String.fromCharCode(De)}return ye}function Oe(p,_){return p?Qe(yt,p,_):""}function Me(p,_,w,F){if(!(F>0))return 0;for(var G=w,ye=w+F-1,De=0;De<p.length;++De){var Ue=p.charCodeAt(De);if(Ue>=55296&&Ue<=57343&&(Ue=65536+((1023&Ue)<<10)|1023&p.charCodeAt(++De)),Ue<=127){if(w>=ye)break;_[w++]=Ue}else if(Ue<=2047){if(w+1>=ye)break;_[w++]=192|Ue>>6,_[w++]=128|63&Ue}else if(Ue<=65535){if(w+2>=ye)break;_[w++]=224|Ue>>12,_[w++]=128|Ue>>6&63,_[w++]=128|63&Ue}else{if(w+3>=ye)break;_[w++]=240|Ue>>18,_[w++]=128|Ue>>12&63,_[w++]=128|Ue>>6&63,_[w++]=128|63&Ue}}return _[w]=0,w-G}function ne(p){for(var _=0,w=0;w<p.length;++w){var F=p.charCodeAt(w);F<=127?_++:F<=2047?_+=2:F>=55296&&F<=57343?(_+=4,++w):_+=3}return _}function Ve(p){je=p,l.HEAP8=Je=new Int8Array(p),l.HEAP16=new Int16Array(p),l.HEAP32=O=new Int32Array(p),l.HEAPU8=yt=new Uint8Array(p),l.HEAPU16=new Uint16Array(p),l.HEAPU32=ge=new Uint32Array(p),l.HEAPF32=new Float32Array(p),l.HEAPF64=nt=new Float64Array(p)}var mn,ft=[],Ae=[],Tt=[],rn=[],Pn=0,So=null,jn=null;function no(p){Pn++,l.monitorRunDependencies&&l.monitorRunDependencies(Pn)}function jr(p){if(Pn--,l.monitorRunDependencies&&l.monitorRunDependencies(Pn),0==Pn&&(null!==So&&(clearInterval(So),So=null),jn)){var _=jn;jn=null,_()}}function cr(p){l.onAbort&&l.onAbort(p),Y(p="Aborted("+p+")"),it=!0,ce=1,p+=". Build with -sASSERTIONS for more info.";var _=new WebAssembly.RuntimeError(p);throw te(_),_}function po(p){return p.startsWith("data:application/octet-stream;base64,")}function lo(p){try{if(p==mn&&fe)return new Uint8Array(fe);if($e)return $e(p);throw"both async and sync fetching of the wasm failed"}catch(_){cr(_)}}po(mn="fstools_web.wasm")||(mn=function $(p){return l.locateFile?l.locateFile(p,B):B+p}(mn));var at,le,ze={40318:()=>{throw new Error("terminated")}};function Rn(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function Bn(p){for(;p.length>0;)p.shift()(l)}var Gt={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,_)=>{for(var w=0,F=p.length-1;F>=0;F--){var G=p[F];"."===G?p.splice(F,1):".."===G?(p.splice(F,1),w++):w&&(p.splice(F,1),w--)}if(_)for(;w;w--)p.unshift("..");return p},normalize:p=>{var _=Gt.isAbs(p),w="/"===p.substr(-1);return!(p=Gt.normalizeArray(p.split("/").filter(F=>!!F),!_).join("/"))&&!_&&(p="."),p&&w&&(p+="/"),(_?"/":"")+p},dirname:p=>{var _=Gt.splitPath(p),w=_[0],F=_[1];return w||F?(F&&(F=F.substr(0,F.length-1)),w+F):"."},basename:p=>{if("/"===p)return"/";var _=(p=(p=Gt.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===_?p:p.substr(_+1)},join:function(){var p=Array.prototype.slice.call(arguments);return Gt.normalize(p.join("/"))},join2:(p,_)=>Gt.normalize(p+"/"+_)},wr={resolve:function(){for(var p="",_=!1,w=arguments.length-1;w>=-1&&!_;w--){var F=w>=0?arguments[w]:E.cwd();if("string"!=typeof F)throw new TypeError("Arguments to path.resolve must be strings");if(!F)return"";p=F+"/"+p,_=Gt.isAbs(F)}return(_?"/":"")+(p=Gt.normalizeArray(p.split("/").filter(G=>!!G),!_).join("/"))||"."},relative:(p,_)=>{function w(pn){for(var Tn=0;Tn<pn.length&&""===pn[Tn];Tn++);for(var An=pn.length-1;An>=0&&""===pn[An];An--);return Tn>An?[]:pn.slice(Tn,An-Tn+1)}p=wr.resolve(p).substr(1),_=wr.resolve(_).substr(1);for(var F=w(p.split("/")),G=w(_.split("/")),ye=Math.min(F.length,G.length),De=ye,Ue=0;Ue<ye;Ue++)if(F[Ue]!==G[Ue]){De=Ue;break}var wt=[];for(Ue=De;Ue<F.length;Ue++)wt.push("..");return(wt=wt.concat(G.slice(De))).join("/")}};function Kt(p,_,w){var F=w>0?w:ne(p)+1,G=new Array(F),ye=Me(p,G,0,G.length);return _&&(G.length=ye),G}var er={ttys:[],init:function(){},shutdown:function(){},register:function(p,_){er.ttys[p]={input:[],output:[],ops:_},E.registerDevice(p,er.stream_ops)},stream_ops:{open:function(p){var _=er.ttys[p.node.rdev];if(!_)throw new E.ErrnoError(43);p.tty=_,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,_,w,F,G){if(!p.tty||!p.tty.ops.get_char)throw new E.ErrnoError(60);for(var ye=0,De=0;De<F;De++){var Ue;try{Ue=p.tty.ops.get_char(p.tty)}catch{throw new E.ErrnoError(29)}if(void 0===Ue&&0===ye)throw new E.ErrnoError(6);if(null==Ue)break;ye++,_[w+De]=Ue}return ye&&(p.node.timestamp=Date.now()),ye},write:function(p,_,w,F,G){if(!p.tty||!p.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var ye=0;ye<F;ye++)p.tty.ops.put_char(p.tty,_[w+ye])}catch{throw new E.ErrnoError(29)}return F&&(p.node.timestamp=Date.now()),ye}},default_tty_ops:{get_char:function(p){if(!p.input.length){var _=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(_=window.prompt("Input: "))&&(_+="\n"):"function"==typeof readline&&null!==(_=readline())&&(_+="\n"),!_)return null;p.input=Kt(_,!0)}return p.input.shift()},put_char:function(p,_){null===_||10===_?(Z(Qe(p.output,0)),p.output=[]):0!=_&&p.output.push(_)},fsync:function(p){p.output&&p.output.length>0&&(Z(Qe(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,_){null===_||10===_?(Y(Qe(p.output,0)),p.output=[]):0!=_&&p.output.push(_)},fsync:function(p){p.output&&p.output.length>0&&(Y(Qe(p.output,0)),p.output=[])}}};function tr(p){cr()}var on={ops_table:null,mount:function(p){return on.createNode(null,"/",16895,0)},createNode:function(p,_,w,F){if(E.isBlkdev(w)||E.isFIFO(w))throw new E.ErrnoError(63);on.ops_table||(on.ops_table={dir:{node:{getattr:on.node_ops.getattr,setattr:on.node_ops.setattr,lookup:on.node_ops.lookup,mknod:on.node_ops.mknod,rename:on.node_ops.rename,unlink:on.node_ops.unlink,rmdir:on.node_ops.rmdir,readdir:on.node_ops.readdir,symlink:on.node_ops.symlink},stream:{llseek:on.stream_ops.llseek}},file:{node:{getattr:on.node_ops.getattr,setattr:on.node_ops.setattr},stream:{llseek:on.stream_ops.llseek,read:on.stream_ops.read,write:on.stream_ops.write,allocate:on.stream_ops.allocate,mmap:on.stream_ops.mmap,msync:on.stream_ops.msync}},link:{node:{getattr:on.node_ops.getattr,setattr:on.node_ops.setattr,readlink:on.node_ops.readlink},stream:{}},chrdev:{node:{getattr:on.node_ops.getattr,setattr:on.node_ops.setattr},stream:E.chrdev_stream_ops}});var G=E.createNode(p,_,w,F);return E.isDir(G.mode)?(G.node_ops=on.ops_table.dir.node,G.stream_ops=on.ops_table.dir.stream,G.contents={}):E.isFile(G.mode)?(G.node_ops=on.ops_table.file.node,G.stream_ops=on.ops_table.file.stream,G.usedBytes=0,G.contents=null):E.isLink(G.mode)?(G.node_ops=on.ops_table.link.node,G.stream_ops=on.ops_table.link.stream):E.isChrdev(G.mode)&&(G.node_ops=on.ops_table.chrdev.node,G.stream_ops=on.ops_table.chrdev.stream),G.timestamp=Date.now(),p&&(p.contents[_]=G,p.timestamp=G.timestamp),G},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,_){var w=p.contents?p.contents.length:0;if(!(w>=_)){_=Math.max(_,w*(w<1048576?2:1.125)>>>0),0!=w&&(_=Math.max(_,256));var G=p.contents;p.contents=new Uint8Array(_),p.usedBytes>0&&p.contents.set(G.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,_){if(p.usedBytes!=_)if(0==_)p.contents=null,p.usedBytes=0;else{var w=p.contents;p.contents=new Uint8Array(_),w&&p.contents.set(w.subarray(0,Math.min(_,p.usedBytes))),p.usedBytes=_}},node_ops:{getattr:function(p){var _={};return _.dev=E.isChrdev(p.mode)?p.id:1,_.ino=p.id,_.mode=p.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=p.rdev,_.size=E.isDir(p.mode)?4096:E.isFile(p.mode)?p.usedBytes:E.isLink(p.mode)?p.link.length:0,_.atime=new Date(p.timestamp),_.mtime=new Date(p.timestamp),_.ctime=new Date(p.timestamp),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},setattr:function(p,_){void 0!==_.mode&&(p.mode=_.mode),void 0!==_.timestamp&&(p.timestamp=_.timestamp),void 0!==_.size&&on.resizeFileStorage(p,_.size)},lookup:function(p,_){throw E.genericErrors[44]},mknod:function(p,_,w,F){return on.createNode(p,_,w,F)},rename:function(p,_,w){if(E.isDir(p.mode)){var F;try{F=E.lookupNode(_,w)}catch{}if(F)for(var G in F.contents)throw new E.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=w,_.contents[w]=p,_.timestamp=p.parent.timestamp,p.parent=_},unlink:function(p,_){delete p.contents[_],p.timestamp=Date.now()},rmdir:function(p,_){var w=E.lookupNode(p,_);for(var F in w.contents)throw new E.ErrnoError(55);delete p.contents[_],p.timestamp=Date.now()},readdir:function(p){var _=[".",".."];for(var w in p.contents)p.contents.hasOwnProperty(w)&&_.push(w);return _},symlink:function(p,_,w){var F=on.createNode(p,_,41471,0);return F.link=w,F},readlink:function(p){if(!E.isLink(p.mode))throw new E.ErrnoError(28);return p.link}},stream_ops:{read:function(p,_,w,F,G){var ye=p.node.contents;if(G>=p.node.usedBytes)return 0;var De=Math.min(p.node.usedBytes-G,F);if(De>8&&ye.subarray)_.set(ye.subarray(G,G+De),w);else for(var Ue=0;Ue<De;Ue++)_[w+Ue]=ye[G+Ue];return De},write:function(p,_,w,F,G,ye){if(_.buffer===Je.buffer&&(ye=!1),!F)return 0;var De=p.node;if(De.timestamp=Date.now(),_.subarray&&(!De.contents||De.contents.subarray)){if(ye)return De.contents=_.subarray(w,w+F),De.usedBytes=F,F;if(0===De.usedBytes&&0===G)return De.contents=_.slice(w,w+F),De.usedBytes=F,F;if(G+F<=De.usedBytes)return De.contents.set(_.subarray(w,w+F),G),F}if(on.expandFileStorage(De,G+F),De.contents.subarray&&_.subarray)De.contents.set(_.subarray(w,w+F),G);else for(var Ue=0;Ue<F;Ue++)De.contents[G+Ue]=_[w+Ue];return De.usedBytes=Math.max(De.usedBytes,G+F),F},llseek:function(p,_,w){var F=_;if(1===w?F+=p.position:2===w&&E.isFile(p.node.mode)&&(F+=p.node.usedBytes),F<0)throw new E.ErrnoError(28);return F},allocate:function(p,_,w){on.expandFileStorage(p.node,_+w),p.node.usedBytes=Math.max(p.node.usedBytes,_+w)},mmap:function(p,_,w,F,G){if(!E.isFile(p.node.mode))throw new E.ErrnoError(43);var ye,De,Ue=p.node.contents;if(2&G||Ue.buffer!==je){if((w>0||w+_<Ue.length)&&(Ue=Ue.subarray?Ue.subarray(w,w+_):Array.prototype.slice.call(Ue,w,w+_)),De=!0,!(ye=tr()))throw new E.ErrnoError(48);Je.set(Ue,ye)}else De=!1,ye=Ue.byteOffset;return{ptr:ye,allocated:De}},msync:function(p,_,w,F,G){return on.stream_ops.write(p,_,0,F,w,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,_={})=>{if(!(p=wr.resolve(p)))return{path:"",node:null};if((_=Object.assign({follow_mount:!0,recurse_count:0},_)).recurse_count>8)throw new E.ErrnoError(32);for(var F=p.split("/").filter(An=>!!An),G=E.root,ye="/",De=0;De<F.length;De++){var Ue=De===F.length-1;if(Ue&&_.parent)break;if(G=E.lookupNode(G,F[De]),ye=Gt.join2(ye,F[De]),E.isMountpoint(G)&&(!Ue||Ue&&_.follow_mount)&&(G=G.mounted.root),!Ue||_.follow)for(var wt=0;E.isLink(G.mode);){var pn=E.readlink(ye);if(ye=wr.resolve(Gt.dirname(ye),pn),G=E.lookupPath(ye,{recurse_count:_.recurse_count+1}).node,wt++>40)throw new E.ErrnoError(32)}}return{path:ye,node:G}},getPath:p=>{for(var _;;){if(E.isRoot(p)){var w=p.mount.mountpoint;return _?"/"!==w[w.length-1]?w+"/"+_:w+_:w}_=_?p.name+"/"+_:p.name,p=p.parent}},hashName:(p,_)=>{for(var w=0,F=0;F<_.length;F++)w=(w<<5)-w+_.charCodeAt(F)|0;return(p+w>>>0)%E.nameTable.length},hashAddNode:p=>{var _=E.hashName(p.parent.id,p.name);p.name_next=E.nameTable[_],E.nameTable[_]=p},hashRemoveNode:p=>{var _=E.hashName(p.parent.id,p.name);if(E.nameTable[_]===p)E.nameTable[_]=p.name_next;else for(var w=E.nameTable[_];w;){if(w.name_next===p){w.name_next=p.name_next;break}w=w.name_next}},lookupNode:(p,_)=>{var w=E.mayLookup(p);if(w)throw new E.ErrnoError(w,p);for(var F=E.hashName(p.id,_),G=E.nameTable[F];G;G=G.name_next)if(G.parent.id===p.id&&G.name===_)return G;return E.lookup(p,_)},createNode:(p,_,w,F)=>{var G=new E.FSNode(p,_,w,F);return E.hashAddNode(G),G},destroyNode:p=>{E.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var _=E.flagModes[p];if(typeof _>"u")throw new Error("Unknown file open mode: "+p);return _},flagsToPermissionString:p=>{var _=["r","w","rw"][3&p];return 512&p&&(_+="w"),_},nodePermissions:(p,_)=>E.ignorePermissions?0:_.includes("r")&&!(292&p.mode)||_.includes("w")&&!(146&p.mode)||_.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>E.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,_)=>{try{return E.lookupNode(p,_),20}catch{}return E.nodePermissions(p,"wx")},mayDelete:(p,_,w)=>{var F;try{F=E.lookupNode(p,_)}catch(ye){return ye.errno}var G=E.nodePermissions(p,"wx");if(G)return G;if(w){if(!E.isDir(F.mode))return 54;if(E.isRoot(F)||E.getPath(F)===E.cwd())return 10}else if(E.isDir(F.mode))return 31;return 0},mayOpen:(p,_)=>p?E.isLink(p.mode)?32:E.isDir(p.mode)&&("r"!==E.flagsToPermissionString(_)||512&_)?31:E.nodePermissions(p,E.flagsToPermissionString(_)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,_=E.MAX_OPEN_FDS)=>{for(var w=p;w<=_;w++)if(!E.streams[w])return w;throw new E.ErrnoError(33)},getStream:p=>E.streams[p],createStream:(p,_,w)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(G){this.node=G}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(G){this.shared.flags=G}},position:{get:function(){return this.shared.position},set:function(G){this.shared.position=G}}})),p=Object.assign(new E.FSStream,p);var F=E.nextfd(_,w);return p.fd=F,E.streams[F]=p,p},closeStream:p=>{E.streams[p]=null},chrdev_stream_ops:{open:p=>{var _=E.getDevice(p.node.rdev);p.stream_ops=_.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new E.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,_)=>p<<8|_,registerDevice:(p,_)=>{E.devices[p]={stream_ops:_}},getDevice:p=>E.devices[p],getMounts:p=>{for(var _=[],w=[p];w.length;){var F=w.pop();_.push(F),w.push.apply(w,F.mounts)}return _},syncfs:(p,_)=>{"function"==typeof p&&(_=p,p=!1),E.syncFSRequests++,E.syncFSRequests>1&&Y("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=E.getMounts(E.root.mount),F=0;function G(De){return E.syncFSRequests--,_(De)}function ye(De){if(De)return ye.errored?void 0:(ye.errored=!0,G(De));++F>=w.length&&G(null)}w.forEach(De=>{if(!De.type.syncfs)return ye(null);De.type.syncfs(De,p,ye)})},mount:(p,_,w)=>{var ye,F="/"===w,G=!w;if(F&&E.root)throw new E.ErrnoError(10);if(!F&&!G){var De=E.lookupPath(w,{follow_mount:!1});if(w=De.path,E.isMountpoint(ye=De.node))throw new E.ErrnoError(10);if(!E.isDir(ye.mode))throw new E.ErrnoError(54)}var Ue={type:p,opts:_,mountpoint:w,mounts:[]},wt=p.mount(Ue);return wt.mount=Ue,Ue.root=wt,F?E.root=wt:ye&&(ye.mounted=Ue,ye.mount&&ye.mount.mounts.push(Ue)),wt},unmount:p=>{var _=E.lookupPath(p,{follow_mount:!1});if(!E.isMountpoint(_.node))throw new E.ErrnoError(28);var w=_.node,F=w.mounted,G=E.getMounts(F);Object.keys(E.nameTable).forEach(De=>{for(var Ue=E.nameTable[De];Ue;){var wt=Ue.name_next;G.includes(Ue.mount)&&E.destroyNode(Ue),Ue=wt}}),w.mounted=null;var ye=w.mount.mounts.indexOf(F);w.mount.mounts.splice(ye,1)},lookup:(p,_)=>p.node_ops.lookup(p,_),mknod:(p,_,w)=>{var G=E.lookupPath(p,{parent:!0}).node,ye=Gt.basename(p);if(!ye||"."===ye||".."===ye)throw new E.ErrnoError(28);var De=E.mayCreate(G,ye);if(De)throw new E.ErrnoError(De);if(!G.node_ops.mknod)throw new E.ErrnoError(63);return G.node_ops.mknod(G,ye,_,w)},create:(p,_)=>(_=void 0!==_?_:438,_&=4095,E.mknod(p,_|=32768,0)),mkdir:(p,_)=>(_=void 0!==_?_:511,_&=1023,E.mknod(p,_|=16384,0)),mkdirTree:(p,_)=>{for(var w=p.split("/"),F="",G=0;G<w.length;++G)if(w[G]){F+="/"+w[G];try{E.mkdir(F,_)}catch(ye){if(20!=ye.errno)throw ye}}},mkdev:(p,_,w)=>(typeof w>"u"&&(w=_,_=438),E.mknod(p,_|=8192,w)),symlink:(p,_)=>{if(!wr.resolve(p))throw new E.ErrnoError(44);var F=E.lookupPath(_,{parent:!0}).node;if(!F)throw new E.ErrnoError(44);var G=Gt.basename(_),ye=E.mayCreate(F,G);if(ye)throw new E.ErrnoError(ye);if(!F.node_ops.symlink)throw new E.ErrnoError(63);return F.node_ops.symlink(F,G,p)},rename:(p,_)=>{var Ue,wt,w=Gt.dirname(p),F=Gt.dirname(_),G=Gt.basename(p),ye=Gt.basename(_);if(Ue=E.lookupPath(p,{parent:!0}).node,wt=E.lookupPath(_,{parent:!0}).node,!Ue||!wt)throw new E.ErrnoError(44);if(Ue.mount!==wt.mount)throw new E.ErrnoError(75);var An,pn=E.lookupNode(Ue,G),Tn=wr.relative(p,F);if("."!==Tn.charAt(0))throw new E.ErrnoError(28);if("."!==(Tn=wr.relative(_,w)).charAt(0))throw new E.ErrnoError(55);try{An=E.lookupNode(wt,ye)}catch{}if(pn!==An){var jt=E.isDir(pn.mode),zt=E.mayDelete(Ue,G,jt);if(zt)throw new E.ErrnoError(zt);if(zt=An?E.mayDelete(wt,ye,jt):E.mayCreate(wt,ye))throw new E.ErrnoError(zt);if(!Ue.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(pn)||An&&E.isMountpoint(An))throw new E.ErrnoError(10);if(wt!==Ue&&(zt=E.nodePermissions(Ue,"w")))throw new E.ErrnoError(zt);E.hashRemoveNode(pn);try{Ue.node_ops.rename(pn,wt,ye)}catch(ee){throw ee}finally{E.hashAddNode(pn)}}},rmdir:p=>{var w=E.lookupPath(p,{parent:!0}).node,F=Gt.basename(p),G=E.lookupNode(w,F),ye=E.mayDelete(w,F,!0);if(ye)throw new E.ErrnoError(ye);if(!w.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(G))throw new E.ErrnoError(10);w.node_ops.rmdir(w,F),E.destroyNode(G)},readdir:p=>{var w=E.lookupPath(p,{follow:!0}).node;if(!w.node_ops.readdir)throw new E.ErrnoError(54);return w.node_ops.readdir(w)},unlink:p=>{var w=E.lookupPath(p,{parent:!0}).node;if(!w)throw new E.ErrnoError(44);var F=Gt.basename(p),G=E.lookupNode(w,F),ye=E.mayDelete(w,F,!1);if(ye)throw new E.ErrnoError(ye);if(!w.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(G))throw new E.ErrnoError(10);w.node_ops.unlink(w,F),E.destroyNode(G)},readlink:p=>{var w=E.lookupPath(p).node;if(!w)throw new E.ErrnoError(44);if(!w.node_ops.readlink)throw new E.ErrnoError(28);return wr.resolve(E.getPath(w.parent),w.node_ops.readlink(w))},stat:(p,_)=>{var F=E.lookupPath(p,{follow:!_}).node;if(!F)throw new E.ErrnoError(44);if(!F.node_ops.getattr)throw new E.ErrnoError(63);return F.node_ops.getattr(F)},lstat:p=>E.stat(p,!0),chmod:(p,_,w)=>{var F;if(!(F="string"==typeof p?E.lookupPath(p,{follow:!w}).node:p).node_ops.setattr)throw new E.ErrnoError(63);F.node_ops.setattr(F,{mode:4095&_|-4096&F.mode,timestamp:Date.now()})},lchmod:(p,_)=>{E.chmod(p,_,!0)},fchmod:(p,_)=>{var w=E.getStream(p);if(!w)throw new E.ErrnoError(8);E.chmod(w.node,_)},chown:(p,_,w,F)=>{var G;if(!(G="string"==typeof p?E.lookupPath(p,{follow:!F}).node:p).node_ops.setattr)throw new E.ErrnoError(63);G.node_ops.setattr(G,{timestamp:Date.now()})},lchown:(p,_,w)=>{E.chown(p,_,w,!0)},fchown:(p,_,w)=>{var F=E.getStream(p);if(!F)throw new E.ErrnoError(8);E.chown(F.node,_,w)},truncate:(p,_)=>{if(_<0)throw new E.ErrnoError(28);var w;if(!(w="string"==typeof p?E.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(w.mode))throw new E.ErrnoError(31);if(!E.isFile(w.mode))throw new E.ErrnoError(28);var G=E.nodePermissions(w,"w");if(G)throw new E.ErrnoError(G);w.node_ops.setattr(w,{size:_,timestamp:Date.now()})},ftruncate:(p,_)=>{var w=E.getStream(p);if(!w)throw new E.ErrnoError(8);if(!(2097155&w.flags))throw new E.ErrnoError(28);E.truncate(w.node,_)},utime:(p,_,w)=>{var G=E.lookupPath(p,{follow:!0}).node;G.node_ops.setattr(G,{timestamp:Math.max(_,w)})},open:(p,_,w)=>{if(""===p)throw new E.ErrnoError(44);var F;if(w=typeof w>"u"?438:w,w=64&(_="string"==typeof _?E.modeStringToFlags(_):_)?4095&w|32768:0,"object"==typeof p)F=p;else{p=Gt.normalize(p);try{F=E.lookupPath(p,{follow:!(131072&_)}).node}catch{}}var ye=!1;if(64&_)if(F){if(128&_)throw new E.ErrnoError(20)}else F=E.mknod(p,w,0),ye=!0;if(!F)throw new E.ErrnoError(44);if(E.isChrdev(F.mode)&&(_&=-513),65536&_&&!E.isDir(F.mode))throw new E.ErrnoError(54);if(!ye){var De=E.mayOpen(F,_);if(De)throw new E.ErrnoError(De)}512&_&&!ye&&E.truncate(F,0),_&=-131713;var Ue=E.createStream({node:F,path:E.getPath(F),flags:_,seekable:!0,position:0,stream_ops:F.stream_ops,ungotten:[],error:!1});return Ue.stream_ops.open&&Ue.stream_ops.open(Ue),l.logReadFiles&&!(1&_)&&(E.readFiles||(E.readFiles={}),p in E.readFiles||(E.readFiles[p]=1)),Ue},close:p=>{if(E.isClosed(p))throw new E.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(_){throw _}finally{E.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,_,w)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new E.ErrnoError(28);return p.position=p.stream_ops.llseek(p,_,w),p.ungotten=[],p.position},read:(p,_,w,F,G)=>{if(F<0||G<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(1==(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.read)throw new E.ErrnoError(28);var ye=typeof G<"u";if(ye){if(!p.seekable)throw new E.ErrnoError(70)}else G=p.position;var De=p.stream_ops.read(p,_,w,F,G);return ye||(p.position+=De),De},write:(p,_,w,F,G,ye)=>{if(F<0||G<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.write)throw new E.ErrnoError(28);p.seekable&&1024&p.flags&&E.llseek(p,0,2);var De=typeof G<"u";if(De){if(!p.seekable)throw new E.ErrnoError(70)}else G=p.position;var Ue=p.stream_ops.write(p,_,w,F,G,ye);return De||(p.position+=Ue),Ue},allocate:(p,_,w)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(_<0||w<=0)throw new E.ErrnoError(28);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(!E.isFile(p.node.mode)&&!E.isDir(p.node.mode))throw new E.ErrnoError(43);if(!p.stream_ops.allocate)throw new E.ErrnoError(138);p.stream_ops.allocate(p,_,w)},mmap:(p,_,w,F,G)=>{if(2&F&&!(2&G)&&2!=(2097155&p.flags))throw new E.ErrnoError(2);if(1==(2097155&p.flags))throw new E.ErrnoError(2);if(!p.stream_ops.mmap)throw new E.ErrnoError(43);return p.stream_ops.mmap(p,_,w,F,G)},msync:(p,_,w,F,G)=>p.stream_ops.msync?p.stream_ops.msync(p,_,w,F,G):0,munmap:p=>0,ioctl:(p,_,w)=>{if(!p.stream_ops.ioctl)throw new E.ErrnoError(59);return p.stream_ops.ioctl(p,_,w)},readFile:(p,_={})=>{if(_.flags=_.flags||0,_.encoding=_.encoding||"binary","utf8"!==_.encoding&&"binary"!==_.encoding)throw new Error('Invalid encoding type "'+_.encoding+'"');var w,F=E.open(p,_.flags),ye=E.stat(p).size,De=new Uint8Array(ye);return E.read(F,De,0,ye,0),"utf8"===_.encoding?w=Qe(De,0):"binary"===_.encoding&&(w=De),E.close(F),w},writeFile:(p,_,w={})=>{w.flags=w.flags||577;var F=E.open(p,w.flags,w.mode);if("string"==typeof _){var G=new Uint8Array(ne(_)+1),ye=Me(_,G,0,G.length);E.write(F,G,0,ye,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(_))throw new Error("Unsupported data type");E.write(F,_,0,_.byteLength,void 0,w.canOwn)}E.close(F)},cwd:()=>E.currentPath,chdir:p=>{var _=E.lookupPath(p,{follow:!0});if(null===_.node)throw new E.ErrnoError(44);if(!E.isDir(_.node.mode))throw new E.ErrnoError(54);var w=E.nodePermissions(_.node,"x");if(w)throw new E.ErrnoError(w);E.currentPath=_.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(_,w,F,G,ye)=>G}),E.mkdev("/dev/null",E.makedev(1,3)),er.register(E.makedev(5,0),er.default_tty_ops),er.register(E.makedev(6,0),er.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var p=function Pt(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>cr("randomDevice")}();E.createDevice("/dev","random",p),E.createDevice("/dev","urandom",p),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var p=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var _=E.createNode(p,"fd",16895,73);return _.node_ops={lookup:(w,F)=>{var ye=E.getStream(+F);if(!ye)throw new E.ErrnoError(8);var De={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ye.path}};return De.parent=De,De}},_}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?E.createDevice("/dev","stdin",l.stdin):E.symlink("/dev/tty","/dev/stdin"),l.stdout?E.createDevice("/dev","stdout",null,l.stdout):E.symlink("/dev/tty","/dev/stdout"),l.stderr?E.createDevice("/dev","stderr",null,l.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(_,w){this.node=w,this.setErrno=function(F){this.errno=F},this.setErrno(_),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(p=>{E.genericErrors[p]=new E.ErrnoError(p),E.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(on,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:on}},init:(p,_,w)=>{E.init.initialized=!0,E.ensureErrnoError(),l.stdin=p||l.stdin,l.stdout=_||l.stdout,l.stderr=w||l.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var p=0;p<E.streams.length;p++){var _=E.streams[p];_&&E.close(_)}},getMode:(p,_)=>{var w=0;return p&&(w|=365),_&&(w|=146),w},findObject:(p,_)=>{var w=E.analyzePath(p,_);return w.exists?w.object:null},analyzePath:(p,_)=>{try{p=(w=E.lookupPath(p,{follow:!_})).path}catch{}var F={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=E.lookupPath(p,{parent:!0});F.parentExists=!0,F.parentPath=w.path,F.parentObject=w.node,F.name=Gt.basename(p),w=E.lookupPath(p,{follow:!_}),F.exists=!0,F.path=w.path,F.object=w.node,F.name=w.node.name,F.isRoot="/"===w.path}catch(G){F.error=G.errno}return F},createPath:(p,_,w,F)=>{p="string"==typeof p?p:E.getPath(p);for(var G=_.split("/").reverse();G.length;){var ye=G.pop();if(ye){var De=Gt.join2(p,ye);try{E.mkdir(De)}catch{}p=De}}return De},createFile:(p,_,w,F,G)=>{var ye=Gt.join2("string"==typeof p?p:E.getPath(p),_),De=E.getMode(F,G);return E.create(ye,De)},createDataFile:(p,_,w,F,G,ye)=>{var De=_;p&&(p="string"==typeof p?p:E.getPath(p),De=_?Gt.join2(p,_):p);var Ue=E.getMode(F,G),wt=E.create(De,Ue);if(w){if("string"==typeof w){for(var pn=new Array(w.length),Tn=0,An=w.length;Tn<An;++Tn)pn[Tn]=w.charCodeAt(Tn);w=pn}E.chmod(wt,146|Ue);var jt=E.open(wt,577);E.write(jt,w,0,w.length,0,ye),E.close(jt),E.chmod(wt,Ue)}return wt},createDevice:(p,_,w,F)=>{var G=Gt.join2("string"==typeof p?p:E.getPath(p),_),ye=E.getMode(!!w,!!F);E.createDevice.major||(E.createDevice.major=64);var De=E.makedev(E.createDevice.major++,0);return E.registerDevice(De,{open:Ue=>{Ue.seekable=!1},close:Ue=>{F&&F.buffer&&F.buffer.length&&F(10)},read:(Ue,wt,pn,Tn,An)=>{for(var jt=0,zt=0;zt<Tn;zt++){var ee;try{ee=w()}catch{throw new E.ErrnoError(29)}if(void 0===ee&&0===jt)throw new E.ErrnoError(6);if(null==ee)break;jt++,wt[pn+zt]=ee}return jt&&(Ue.node.timestamp=Date.now()),jt},write:(Ue,wt,pn,Tn,An)=>{for(var jt=0;jt<Tn;jt++)try{F(wt[pn+jt])}catch{throw new E.ErrnoError(29)}return Tn&&(Ue.node.timestamp=Date.now()),jt}}),E.mkdev(G,ye,De)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!U)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=Kt(U(p.url),!0),p.usedBytes=p.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(p,_,w,F,G)=>{function ye(){this.lengthKnown=!1,this.chunks=[]}if(ye.prototype.get=function(zt){if(!(zt>this.length-1||zt<0)){var ee=zt%this.chunkSize;return this.getter(zt/this.chunkSize|0)[ee]}},ye.prototype.setDataGetter=function(zt){this.getter=zt},ye.prototype.cacheLength=function(){var zt=new XMLHttpRequest;if(zt.open("HEAD",w,!1),zt.send(null),!(zt.status>=200&&zt.status<300||304===zt.status))throw new Error("Couldn't load "+w+". Status: "+zt.status);var Rr,ee=Number(zt.getResponseHeader("Content-length")),gn=(Rr=zt.getResponseHeader("Accept-Ranges"))&&"bytes"===Rr,Kr=(Rr=zt.getResponseHeader("Content-Encoding"))&&"gzip"===Rr,ht=1048576;gn||(ht=ee);var Xr=this;Xr.setDataGetter(Cr=>{var ni=Cr*ht,gr=(Cr+1)*ht-1;if(gr=Math.min(gr,ee-1),typeof Xr.chunks[Cr]>"u"&&(Xr.chunks[Cr]=((Cr,ni)=>{if(Cr>ni)throw new Error("invalid range ("+Cr+", "+ni+") or no bytes requested!");if(ni>ee-1)throw new Error("only "+ee+" bytes available! programmer error!");var gr=new XMLHttpRequest;if(gr.open("GET",w,!1),ee!==ht&&gr.setRequestHeader("Range","bytes="+Cr+"-"+ni),gr.responseType="arraybuffer",gr.overrideMimeType&&gr.overrideMimeType("text/plain; charset=x-user-defined"),gr.send(null),!(gr.status>=200&&gr.status<300||304===gr.status))throw new Error("Couldn't load "+w+". Status: "+gr.status);return void 0!==gr.response?new Uint8Array(gr.response||[]):Kt(gr.responseText||"",!0)})(ni,gr)),typeof Xr.chunks[Cr]>"u")throw new Error("doXHR failed!");return Xr.chunks[Cr]}),(Kr||!ee)&&(ht=ee=1,ee=this.getter(0).length,ht=ee,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ee,this._chunkSize=ht,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var De=new ye;Object.defineProperties(De,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ue={isDevice:!1,contents:De}}else Ue={isDevice:!1,url:w};var wt=E.createFile(p,_,Ue,F,G);Ue.contents?wt.contents=Ue.contents:Ue.url&&(wt.contents=null,wt.url=Ue.url),Object.defineProperties(wt,{usedBytes:{get:function(){return this.contents.length}}});var pn={};function An(jt,zt,ee,Rr,gn){var Kr=jt.node.contents;if(gn>=Kr.length)return 0;var ht=Math.min(Kr.length-gn,Rr);if(Kr.slice)for(var Ht=0;Ht<ht;Ht++)zt[ee+Ht]=Kr[gn+Ht];else for(Ht=0;Ht<ht;Ht++)zt[ee+Ht]=Kr.get(gn+Ht);return ht}return Object.keys(wt.stream_ops).forEach(jt=>{var zt=wt.stream_ops[jt];pn[jt]=function(){return E.forceLoadFile(wt),zt.apply(null,arguments)}}),pn.read=(jt,zt,ee,Rr,gn)=>(E.forceLoadFile(wt),An(jt,zt,ee,Rr,gn)),pn.mmap=(jt,zt,ee,Rr,gn)=>{E.forceLoadFile(wt);var Kr=tr();if(!Kr)throw new E.ErrnoError(48);return An(jt,Je,Kr,zt,ee),{ptr:Kr,allocated:!0}},wt.stream_ops=pn,wt},createPreloadedFile:(p,_,w,F,G,ye,De,Ue,wt,pn)=>{var Tn=_?wr.resolve(Gt.join2(p,_)):p;function jt(zt){function ee(Rr){pn&&pn(),Ue||E.createDataFile(p,_,Rr,F,G,wt),ye&&ye(),jr()}Browser.handledByPreloadPlugin(zt,Tn,ee,()=>{De&&De(),jr()})||ee(zt)}no(),"string"==typeof w?function Bt(p,_,w,F){var G=F?"":"al "+p;Pe(p,ye=>{be(ye,'Loading data file "'+p+'" failed (no arrayBuffer).'),_(new Uint8Array(ye)),G&&jr()},ye=>{if(!w)throw'Loading data file "'+p+'" failed.';w()}),G&&no()}(w,zt=>jt(zt),De):jt(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,_,w)=>{_=_||(()=>{}),w=w||(()=>{});var F=E.indexedDB();try{var G=F.open(E.DB_NAME(),E.DB_VERSION)}catch(ye){return w(ye)}G.onupgradeneeded=()=>{Z("creating db"),G.result.createObjectStore(E.DB_STORE_NAME)},G.onsuccess=()=>{var De=G.result.transaction([E.DB_STORE_NAME],"readwrite"),Ue=De.objectStore(E.DB_STORE_NAME),wt=0,pn=0,Tn=p.length;function An(){0==pn?_():w()}p.forEach(jt=>{var zt=Ue.put(E.analyzePath(jt).object.contents,jt);zt.onsuccess=()=>{++wt+pn==Tn&&An()},zt.onerror=()=>{pn++,wt+pn==Tn&&An()}}),De.onerror=w},G.onerror=w},loadFilesFromDB:(p,_,w)=>{_=_||(()=>{}),w=w||(()=>{});var F=E.indexedDB();try{var G=F.open(E.DB_NAME(),E.DB_VERSION)}catch(ye){return w(ye)}G.onupgradeneeded=w,G.onsuccess=()=>{var ye=G.result;try{var De=ye.transaction([E.DB_STORE_NAME],"readonly")}catch(jt){return void w(jt)}var Ue=De.objectStore(E.DB_STORE_NAME),wt=0,pn=0,Tn=p.length;function An(){0==pn?_():w()}p.forEach(jt=>{var zt=Ue.get(jt);zt.onsuccess=()=>{E.analyzePath(jt).exists&&E.unlink(jt),E.createDataFile(Gt.dirname(jt),Gt.basename(jt),zt.result,!0,!0,!0),++wt+pn==Tn&&An()},zt.onerror=()=>{pn++,wt+pn==Tn&&An()}}),De.onerror=w},G.onerror=w}},S={DEFAULT_POLLMASK:5,calculateAt:function(p,_,w){if(Gt.isAbs(_))return _;var F;if(F=-100===p?E.cwd():S.getStreamFromFD(p).path,0==_.length){if(!w)throw new E.ErrnoError(44);return F}return Gt.join2(F,_)},doStat:function(p,_,w){try{var F=p(_)}catch(G){if(G&&G.node&&Gt.normalize(_)!==Gt.normalize(E.getPath(G.node)))return-54;throw G}return O[w>>2]=F.dev,O[w+8>>2]=F.ino,O[w+12>>2]=F.mode,ge[w+16>>2]=F.nlink,O[w+20>>2]=F.uid,O[w+24>>2]=F.gid,O[w+28>>2]=F.rdev,le=[F.size>>>0,(at=F.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+40>>2]=le[0],O[w+44>>2]=le[1],O[w+48>>2]=4096,O[w+52>>2]=F.blocks,le=[Math.floor(F.atime.getTime()/1e3)>>>0,(at=Math.floor(F.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+56>>2]=le[0],O[w+60>>2]=le[1],ge[w+64>>2]=0,le=[Math.floor(F.mtime.getTime()/1e3)>>>0,(at=Math.floor(F.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+72>>2]=le[0],O[w+76>>2]=le[1],ge[w+80>>2]=0,le=[Math.floor(F.ctime.getTime()/1e3)>>>0,(at=Math.floor(F.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+88>>2]=le[0],O[w+92>>2]=le[1],ge[w+96>>2]=0,le=[F.ino>>>0,(at=F.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+104>>2]=le[0],O[w+108>>2]=le[1],0},doMsync:function(p,_,w,F,G){if(!E.isFile(_.node.mode))throw new E.ErrnoError(43);if(2&F)return 0;var ye=yt.slice(p,p+w);E.msync(_,ye,G,w,F)},varargs:void 0,get:function(){return S.varargs+=4,O[S.varargs-4>>2]},getStr:function(p){return Oe(p)},getStreamFromFD:function(p){var _=E.getStream(p);if(!_)throw new E.ErrnoError(8);return _}};function D(p){return ge[p>>2]+4294967296*O[p+4>>2]}function Qo(p){return p%4==0&&(p%100!=0||p%400==0)}var ci=[0,31,60,91,121,152,182,213,244,274,305,335],To=[0,31,59,90,120,151,181,212,243,273,304,334];function Pi(p){var _=ne(p)+1,w=$o(_);return w&&Me(p,Je,w,_),w}var ei=[];function Ao(p){try{return de.grow(p-je.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var ds={};function Lo(){if(!Lo.strings){var _={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var w in ds)void 0===ds[w]?delete _[w]:_[w]=ds[w];var F=[];for(var w in _)F.push(w+"="+_[w]);Lo.strings=F}return Lo.strings}function ks(p,_){ce=p,function Fi(p){ce=p,function Jt(){return Fe}()||(l.onExit&&l.onExit(p),it=!0),V(p,new Rn(p))}(p)}var yi=ks,T=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var xe=function(p,_,w,F){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=E.nextInode++,this.name=_,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=F};Object.defineProperties(xe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=xe,E.staticInit();var na,Te={o:function qn(p,_,w,F){S.varargs=F;try{_=S.getStr(_),_=S.calculateAt(p,_);var G=F?S.get():0;return E.open(_,w,G).fd}catch(ye){if(typeof E>"u"||!(ye instanceof E.ErrnoError))throw ye;return-ye.errno}},h:function On(p,_){var w=new Date(1e3*D(p));O[_>>2]=w.getUTCSeconds(),O[_+4>>2]=w.getUTCMinutes(),O[_+8>>2]=w.getUTCHours(),O[_+12>>2]=w.getUTCDate(),O[_+16>>2]=w.getUTCMonth(),O[_+20>>2]=w.getUTCFullYear()-1900,O[_+24>>2]=w.getUTCDay();var F=Date.UTC(w.getUTCFullYear(),0,1,0,0,0,0),G=(w.getTime()-F)/864e5|0;O[_+28>>2]=G},i:function Jo(p,_){var w=new Date(1e3*D(p));O[_>>2]=w.getSeconds(),O[_+4>>2]=w.getMinutes(),O[_+8>>2]=w.getHours(),O[_+12>>2]=w.getDate(),O[_+16>>2]=w.getMonth(),O[_+20>>2]=w.getFullYear()-1900,O[_+24>>2]=w.getDay();var F=0|function Zi(p){return(Qo(p.getFullYear())?ci:To)[p.getMonth()]+p.getDate()-1}(w);O[_+28>>2]=F,O[_+36>>2]=-60*w.getTimezoneOffset();var G=new Date(w.getFullYear(),0,1),ye=new Date(w.getFullYear(),6,1).getTimezoneOffset(),De=G.getTimezoneOffset(),Ue=0|(ye!=De&&w.getTimezoneOffset()==Math.min(De,ye));O[_+32>>2]=Ue},j:function Ri(p,_,w){var F=(new Date).getFullYear(),G=new Date(F,0,1),ye=new Date(F,6,1),De=G.getTimezoneOffset(),Ue=ye.getTimezoneOffset(),wt=Math.max(De,Ue);function pn(ee){var Rr=ee.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Rr?Rr[1]:"GMT"}ge[p>>2]=60*wt,O[_>>2]=Number(De!=Ue);var Tn=pn(G),An=pn(ye),jt=Pi(Tn),zt=Pi(An);Ue<De?(ge[w>>2]=jt,ge[w+4>>2]=zt):(ge[w>>2]=zt,ge[w+4>>2]=jt)},b:function ho(){cr("")},a:function ti(p,_,w){var F=function Sr(p,_){var w;for(ei.length=0,_>>=2;w=yt[p++];)_+=105!=w&_,ei.push(105==w?O[_]:nt[_++>>1]),++_;return ei}(_,w);return ze[p].apply(null,F)},c:function co(){return Date.now()},g:function _i(p,_,w){yt.copyWithin(p,_,_+w)},m:function ro(p){var wt,_=yt.length,w=2147483648;if((p>>>=0)>w)return!1;for(var G=1;G<=4;G*=2){var ye=_*(1+.2/G);if(ye=Math.min(ye,p+100663296),Ao(Math.min(w,(wt=Math.max(p,ye))+(65536-wt%65536)%65536)))return!0}return!1},p:function fs(p,_){var w=0;return Lo().forEach(function(F,G){var ye=_+w;ge[p+4*G>>2]=ye,function mo(p,_,w){for(var F=0;F<p.length;++F)Je[_++>>0]=p.charCodeAt(F);w||(Je[_>>0]=0)}(F,ye),w+=F.length+1}),0},f:function Eo(p,_){var w=Lo();ge[p>>2]=w.length;var F=0;return w.forEach(function(G){F+=G.length+1}),ge[_>>2]=F,0},q:yi,d:function ps(p){try{var _=S.getStreamFromFD(p);return E.close(_),0}catch(w){if(typeof E>"u"||!(w instanceof E.ErrnoError))throw w;return w.errno}},e:function Hs(p,_,w,F){try{var ye=function Us(p,_,w,F){for(var G=0,ye=0;ye<w;ye++){var De=ge[_>>2],Ue=ge[_+4>>2];_+=8;var wt=E.read(p,Je,De,Ue,F);if(wt<0)return-1;if(G+=wt,wt<Ue)break}return G}(S.getStreamFromFD(p),_,w);return ge[F>>2]=ye,0}catch(De){if(typeof E>"u"||!(De instanceof E.ErrnoError))throw De;return De.errno}},k:function vi(p,_,w,F,G){try{var ye=function mr(p,_){return _+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*_:NaN}(_,w);if(isNaN(ye))return 61;var De=S.getStreamFromFD(p);return E.llseek(De,ye,F),le=[De.position>>>0,(at=De.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[G>>2]=le[0],O[G+4>>2]=le[1],De.getdents&&0===ye&&0===F&&(De.getdents=null),0}catch(Ue){if(typeof E>"u"||!(Ue instanceof E.ErrnoError))throw Ue;return Ue.errno}},n:function qi(p,_,w,F){try{var ye=function xs(p,_,w,F){for(var G=0,ye=0;ye<w;ye++){var De=ge[_>>2],Ue=ge[_+4>>2];_+=8;var wt=E.write(p,Je,De,Ue,F);if(wt<0)return-1;G+=wt}return G}(S.getStreamFromFD(p),_,w);return ge[F>>2]=ye,0}catch(De){if(typeof E>"u"||!(De instanceof E.ErrnoError))throw De;return De.errno}},l:function R(p,_,w,F,G){return function Ne(p,_,w,F){var G=O[F+40>>2],ye={tm_sec:O[F>>2],tm_min:O[F+4>>2],tm_hour:O[F+8>>2],tm_mday:O[F+12>>2],tm_mon:O[F+16>>2],tm_year:O[F+20>>2],tm_wday:O[F+24>>2],tm_yday:O[F+28>>2],tm_isdst:O[F+32>>2],tm_gmtoff:O[F+36>>2],tm_zone:G?Oe(G):""},De=Oe(w),Ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var wt in Ue)De=De.replace(new RegExp(wt,"g"),Ue[wt]);var pn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Tn=["January","February","March","April","May","June","July","August","September","October","November","December"];function An(ht,Ht,Xr){for(var Cr="number"==typeof ht?ht.toString():ht||"";Cr.length<Ht;)Cr=Xr[0]+Cr;return Cr}function jt(ht,Ht){return An(ht,Ht,"0")}function zt(ht,Ht){function Xr(ni){return ni<0?-1:ni>0?1:0}var Cr;return 0===(Cr=Xr(ht.getFullYear()-Ht.getFullYear()))&&0===(Cr=Xr(ht.getMonth()-Ht.getMonth()))&&(Cr=Xr(ht.getDate()-Ht.getDate())),Cr}function ee(ht){switch(ht.getDay()){case 0:return new Date(ht.getFullYear()-1,11,29);case 1:return ht;case 2:return new Date(ht.getFullYear(),0,3);case 3:return new Date(ht.getFullYear(),0,2);case 4:return new Date(ht.getFullYear(),0,1);case 5:return new Date(ht.getFullYear()-1,11,31);case 6:return new Date(ht.getFullYear()-1,11,30)}}function Rr(ht){var Ht=function me(p,_){for(var w=new Date(p.getTime());_>0;){var F=Qo(w.getFullYear()),G=w.getMonth(),ye=(F?T:N)[G];if(!(_>ye-w.getDate()))return w.setDate(w.getDate()+_),w;_-=ye-w.getDate()+1,w.setDate(1),G<11?w.setMonth(G+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(ht.tm_year+1900,0,1),ht.tm_yday),Xr=new Date(Ht.getFullYear(),0,4),Cr=new Date(Ht.getFullYear()+1,0,4),ni=ee(Xr),gr=ee(Cr);return zt(ni,Ht)<=0?zt(gr,Ht)<=0?Ht.getFullYear()+1:Ht.getFullYear():Ht.getFullYear()-1}var gn={"%a":function(ht){return pn[ht.tm_wday].substring(0,3)},"%A":function(ht){return pn[ht.tm_wday]},"%b":function(ht){return Tn[ht.tm_mon].substring(0,3)},"%B":function(ht){return Tn[ht.tm_mon]},"%C":function(ht){return jt((ht.tm_year+1900)/100|0,2)},"%d":function(ht){return jt(ht.tm_mday,2)},"%e":function(ht){return An(ht.tm_mday,2," ")},"%g":function(ht){return Rr(ht).toString().substring(2)},"%G":function(ht){return Rr(ht)},"%H":function(ht){return jt(ht.tm_hour,2)},"%I":function(ht){var Ht=ht.tm_hour;return 0==Ht?Ht=12:Ht>12&&(Ht-=12),jt(Ht,2)},"%j":function(ht){return jt(ht.tm_mday+function nr(p,_){for(var w=0,F=0;F<=_;w+=p[F++]);return w}(Qo(ht.tm_year+1900)?T:N,ht.tm_mon-1),3)},"%m":function(ht){return jt(ht.tm_mon+1,2)},"%M":function(ht){return jt(ht.tm_min,2)},"%n":function(){return"\n"},"%p":function(ht){return ht.tm_hour>=0&&ht.tm_hour<12?"AM":"PM"},"%S":function(ht){return jt(ht.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ht){return ht.tm_wday||7},"%U":function(ht){return jt(Math.floor((ht.tm_yday+7-ht.tm_wday)/7),2)},"%V":function(ht){var Ht=Math.floor((ht.tm_yday+7-(ht.tm_wday+6)%7)/7);if((ht.tm_wday+371-ht.tm_yday-2)%7<=2&&Ht++,Ht){if(53==Ht){var Cr=(ht.tm_wday+371-ht.tm_yday)%7;4!=Cr&&(3!=Cr||!Qo(ht.tm_year))&&(Ht=1)}}else{Ht=52;var Xr=(ht.tm_wday+7-ht.tm_yday-1)%7;(4==Xr||5==Xr&&Qo(ht.tm_year%400-1))&&Ht++}return jt(Ht,2)},"%w":function(ht){return ht.tm_wday},"%W":function(ht){return jt(Math.floor((ht.tm_yday+7-(ht.tm_wday+6)%7)/7),2)},"%y":function(ht){return(ht.tm_year+1900).toString().substring(2)},"%Y":function(ht){return ht.tm_year+1900},"%z":function(ht){var Ht=ht.tm_gmtoff,Xr=Ht>=0;return Ht=(Ht=Math.abs(Ht)/60)/60*100+Ht%60,(Xr?"+":"-")+String("0000"+Ht).slice(-4)},"%Z":function(ht){return ht.tm_zone},"%%":function(){return"%"}};for(var wt in De=De.replace(/%%/g,"\0\0"),gn)De.includes(wt)&&(De=De.replace(new RegExp(wt,"g"),gn[wt](ye)));var Kr=Kt(De=De.replace(/\0\0/g,"%"),!1);return Kr.length>_?0:(function Ee(p,_){Je.set(p,_)}(Kr,p),Kr.length-1)}(p,_,w,F)}},$o=(function Yr(){var p={a:Te};function _(De,Ue){l.asm=De.exports,Ve((de=l.asm.r).buffer),function ao(p){Ae.unshift(p)}(l.asm.s),jr()}function w(De){_(De.instance)}function F(De){return function us(){return fe||!ue&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return lo(mn)}):fetch(mn,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+mn+"'";return p.arrayBuffer()}).catch(function(){return lo(mn)})}().then(function(Ue){return WebAssembly.instantiate(Ue,p)}).then(function(Ue){return Ue}).then(De,function(Ue){Y("failed to asynchronously prepare wasm: "+Ue),cr(Ue)})}if(no(),l.instantiateWasm)try{return l.instantiateWasm(p,_)}catch(De){Y("Module.instantiateWasm callback failed with error: "+De),te(De)}(function G(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||po(mn)||"function"!=typeof fetch?F(w):fetch(mn,{credentials:"same-origin"}).then(function(De){return WebAssembly.instantiateStreaming(De,p).then(w,function(wt){return Y("wasm streaming compile failed: "+wt),Y("falling back to ArrayBuffer instantiation"),F(w)})})})().catch(te)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.s).apply(null,arguments)},l._free=function(){return(l._free=l.asm.t).apply(null,arguments)},l._malloc=function(){return($o=l._malloc=l.asm.u).apply(null,arguments)}),uo=l._emscripten_bind_VoidPtr___destroy___0=function(){return(uo=l._emscripten_bind_VoidPtr___destroy___0=l.asm.v).apply(null,arguments)},Bo=l._emscripten_bind_FSTools_FSTools_0=function(){return(Bo=l._emscripten_bind_FSTools_FSTools_0=l.asm.w).apply(null,arguments)},bi=l._emscripten_bind_FSTools_Malloc_1=function(){return(bi=l._emscripten_bind_FSTools_Malloc_1=l.asm.x).apply(null,arguments)},Pr=l._emscripten_bind_FSTools_Free_1=function(){return(Pr=l._emscripten_bind_FSTools_Free_1=l.asm.y).apply(null,arguments)},hs=l._emscripten_bind_FSTools_Nullptr_0=function(){return(hs=l._emscripten_bind_FSTools_Nullptr_0=l.asm.z).apply(null,arguments)},Xa=l._emscripten_bind_FSTools___destroy___0=function(){return(Xa=l._emscripten_bind_FSTools___destroy___0=l.asm.A).apply(null,arguments)},Qa=l._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Qa=l._emscripten_bind_MkfsContext_MkfsContext_0=l.asm.B).apply(null,arguments)},Oi=l._emscripten_bind_MkfsContext_Mkfs_2=function(){return(Oi=l._emscripten_bind_MkfsContext_Mkfs_2=l.asm.C).apply(null,arguments)},Ja=l._emscripten_bind_MkfsContext_GetImage_0=function(){return(Ja=l._emscripten_bind_MkfsContext_GetImage_0=l.asm.D).apply(null,arguments)},ea=l._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(ea=l._emscripten_bind_MkfsContext_GetImageSize_0=l.asm.E).apply(null,arguments)},ta=l._emscripten_bind_MkfsContext___destroy___0=function(){return(ta=l._emscripten_bind_MkfsContext___destroy___0=l.asm.F).apply(null,arguments)},Tl=l._emscripten_bind_FsckContext_FsckContext_1=function(){return(Tl=l._emscripten_bind_FsckContext_FsckContext_1=l.asm.G).apply(null,arguments)},Al=l._emscripten_bind_FsckContext_GetImage_0=function(){return(Al=l._emscripten_bind_FsckContext_GetImage_0=l.asm.H).apply(null,arguments)},Pl=l._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(Pl=l._emscripten_bind_FsckContext_GetDirtyPages_0=l.asm.I).apply(null,arguments)},va=l._emscripten_bind_FsckContext_GetImageSize_0=function(){return(va=l._emscripten_bind_FsckContext_GetImageSize_0=l.asm.J).apply(null,arguments)},Rl=l._emscripten_bind_FsckContext_Fsck_0=function(){return(Rl=l._emscripten_bind_FsckContext_Fsck_0=l.asm.K).apply(null,arguments)},Vo=l._emscripten_bind_FsckContext_GetResult_0=function(){return(Vo=l._emscripten_bind_FsckContext_GetResult_0=l.asm.L).apply(null,arguments)},zn=l._emscripten_bind_FsckContext___destroy___0=function(){return(zn=l._emscripten_bind_FsckContext___destroy___0=l.asm.M).apply(null,arguments)};function Ms(p){function _(){na||(na=!0,l.calledRun=!0,!it&&(function Cn(){!l.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,er.init(),Bn(Ae)}(),function br(){Bn(Tt)}(),re(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),ba&&function Er(p){var _=l._main;try{var G=_(0,0);return ks(G),G}catch(ye){return function pe(p){if(p instanceof Rn||"unwind"==p)return ce;V(1,p)}(ye)}}(),function Jn(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)p=l.postRun.shift(),rn.unshift(p);var p;Bn(rn)}()))}p=p||Q,Pn>0||(function j(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)p=l.preRun.shift(),ft.unshift(p);var p;Bn(ft)}(),Pn>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),_()},1)):_())}if(l._main=function(){return(l._main=l.asm.N).apply(null,arguments)},l.___original_main=function(){return(l.___original_main=l.asm.P).apply(null,arguments)},l.___start_em_js=40220,l.___stop_em_js=40318,jn=function p(){na||Ms(),na||(jn=p)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var ba=!0;function go(){}function ms(p){return(p||go).__cache__}function Ni(p,_){var w=ms(_),F=w[p];return F||((F=Object.create((_||go).prototype)).ptr=p,w[p]=F)}l.noInitialRun&&(ba=!1),Ms(),(go.prototype=Object.create(go.prototype)).constructor=go,go.prototype.__class__=go,go.__cache__={},l.WrapperObject=go,l.getCache=ms,l.wrapPointer=Ni,l.castObject=function Ca(p,_){return Ni(p.ptr,_)},l.NULL=Ni(0),l.destroy=function Gs(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete ms(p.__class__)[p.ptr]},l.compare=function ra(p,_){return p.ptr===_.ptr},l.getPointer=function wa(p){return p.ptr},l.getClass=function el(p){return p.__class__};var xt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(xt.needed){for(var p=0;p<xt.temps.length;p++)l._free(xt.temps[p]);xt.temps.length=0,l._free(xt.buffer),xt.buffer=0,xt.size+=xt.needed,xt.needed=0}xt.buffer||(xt.size+=128,xt.buffer=l._malloc(xt.size),be(xt.buffer)),xt.pos=0},alloc:function(p,_){be(xt.buffer);var G,F=p.length*_.BYTES_PER_ELEMENT;return xt.pos+(F=F+7&-8)>=xt.size?(be(F>0),xt.needed+=F,G=l._malloc(F),xt.temps.push(G)):(G=xt.buffer+xt.pos,xt.pos+=F),G},copy:function(p,_,w){switch(w>>>=0,_.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var G=0;G<p.length;G++)_[w+G]=p[G]}};function Do(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ur(){this.ptr=Bo(),ms(ur)[this.ptr]=this}function oo(){this.ptr=Qa(),ms(oo)[this.ptr]=this}function Ur(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Tl(p),ms(Ur)[this.ptr]=this}return(Do.prototype=Object.create(go.prototype)).constructor=Do,Do.prototype.__class__=Do,Do.__cache__={},l.VoidPtr=Do,Do.prototype.__destroy__=Do.prototype.__destroy__=function(){uo(this.ptr)},(ur.prototype=Object.create(go.prototype)).constructor=ur,ur.prototype.__class__=ur,ur.__cache__={},l.FSTools=ur,ur.prototype.Malloc=ur.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Ni(bi(this.ptr,p),Do)},ur.prototype.Free=ur.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),Pr(this.ptr,p)},ur.prototype.Nullptr=ur.prototype.Nullptr=function(){return Ni(hs(this.ptr),Do)},ur.prototype.__destroy__=ur.prototype.__destroy__=function(){Xa(this.ptr)},(oo.prototype=Object.create(go.prototype)).constructor=oo,oo.prototype.__class__=oo,oo.__cache__={},l.MkfsContext=oo,oo.prototype.Mkfs=oo.prototype.Mkfs=function(p,_){var w=this.ptr;return xt.prepare(),p&&"object"==typeof p&&(p=p.ptr),_=_&&"object"==typeof _?_.ptr:function oa(p){if("string"==typeof p){var _=Kt(p),w=xt.alloc(_,Je);return xt.copy(_,Je,w),w}return p}(_),!!Oi(w,p,_)},oo.prototype.GetImage=oo.prototype.GetImage=function(){return Ni(Ja(this.ptr),Do)},oo.prototype.GetImageSize=oo.prototype.GetImageSize=function(){return ea(this.ptr)},oo.prototype.__destroy__=oo.prototype.__destroy__=function(){ta(this.ptr)},(Ur.prototype=Object.create(go.prototype)).constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},l.FsckContext=Ur,Ur.prototype.GetImage=Ur.prototype.GetImage=function(){return Ni(Al(this.ptr),Do)},Ur.prototype.GetDirtyPages=Ur.prototype.GetDirtyPages=function(){return Ni(Pl(this.ptr),Do)},Ur.prototype.GetImageSize=Ur.prototype.GetImageSize=function(){return va(this.ptr)},Ur.prototype.Fsck=Ur.prototype.Fsck=function(){return Rl(this.ptr)},Ur.prototype.GetResult=Ur.prototype.GetResult=function(){return Vo(this.ptr)},Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){zn(this.ptr)},I.ready});Be.exports=We},7971:Be=>{var A,We=(A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,te,l=typeof(I=I||{})<"u"?I:{};l.ready=new Promise(function(d,g){re=d,te=g});var U,Pe,$e,z=Object.assign({},l),Q=[],L="./this.program",V=(d,g)=>{throw g},ue="object"==typeof window,X="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||X)&&(X?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),A&&(B=A),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",U=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.send(null),g.responseText},X&&($e=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Pe=(d,g,b)=>{var P=new XMLHttpRequest;P.open("GET",d,!0),P.responseType="arraybuffer",P.onload=()=>{200==P.status||0==P.status&&P.response?g(P.response):b()},P.onerror=b,P.send(null)});var fe,Z=l.print||console.log.bind(console),Y=l.printErr||console.warn.bind(console);Object.assign(l,z),z=null,l.arguments&&(Q=l.arguments),l.thisProgram&&(L=l.thisProgram),l.quit&&(V=l.quit),l.wasmBinary&&(fe=l.wasmBinary);var Fe=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&cr("no native wasm support detected");var de,ce,it=!1;function be(d,g){d||cr(g)}var je,Je,yt,O,ge,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Qe(d,g,b){for(var P=g+b,W=g;d[W]&&!(W>=P);)++W;if(W-g>16&&d.buffer&&Ie)return Ie.decode(d.subarray(g,W));for(var Ce="";g<W;){var we=d[g++];if(128&we){var Re=63&d[g++];if(192!=(224&we)){var bt=63&d[g++];if((we=224==(240&we)?(15&we)<<12|Re<<6|bt:(7&we)<<18|Re<<12|bt<<6|63&d[g++])<65536)Ce+=String.fromCharCode(we);else{var en=we-65536;Ce+=String.fromCharCode(55296|en>>10,56320|1023&en)}}else Ce+=String.fromCharCode((31&we)<<6|Re)}else Ce+=String.fromCharCode(we)}return Ce}function Oe(d,g){return d?Qe(yt,d,g):""}function Me(d,g,b,P){if(!(P>0))return 0;for(var W=b,Ce=b+P-1,we=0;we<d.length;++we){var Re=d.charCodeAt(we);if(Re>=55296&&Re<=57343&&(Re=65536+((1023&Re)<<10)|1023&d.charCodeAt(++we)),Re<=127){if(b>=Ce)break;g[b++]=Re}else if(Re<=2047){if(b+1>=Ce)break;g[b++]=192|Re>>6,g[b++]=128|63&Re}else if(Re<=65535){if(b+2>=Ce)break;g[b++]=224|Re>>12,g[b++]=128|Re>>6&63,g[b++]=128|63&Re}else{if(b+3>=Ce)break;g[b++]=240|Re>>18,g[b++]=128|Re>>12&63,g[b++]=128|Re>>6&63,g[b++]=128|63&Re}}return g[b]=0,b-W}function ne(d){for(var g=0,b=0;b<d.length;++b){var P=d.charCodeAt(b);P<=127?g++:P<=2047?g+=2:P>=55296&&P<=57343?(g+=4,++b):g+=3}return g}function Ve(d){je=d,l.HEAP8=Je=new Int8Array(d),l.HEAP16=new Int16Array(d),l.HEAP32=O=new Int32Array(d),l.HEAPU8=yt=new Uint8Array(d),l.HEAPU16=new Uint16Array(d),l.HEAPU32=ge=new Uint32Array(d),l.HEAPF32=new Float32Array(d),l.HEAPF64=new Float64Array(d)}var mn,at,le,ft=[],Ae=[],Tt=[],rn=[],Pn=0,So=null,jn=null;function no(d){Pn++,l.monitorRunDependencies&&l.monitorRunDependencies(Pn)}function jr(d){if(Pn--,l.monitorRunDependencies&&l.monitorRunDependencies(Pn),0==Pn&&(null!==So&&(clearInterval(So),So=null),jn)){var g=jn;jn=null,g()}}function cr(d){l.onAbort&&l.onAbort(d),Y(d="Aborted("+d+")"),it=!0,ce=1,d+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(d);throw te(g),g}function po(d){return d.startsWith("data:application/octet-stream;base64,")}function lo(d){try{if(d==mn&&fe)return new Uint8Array(fe);if($e)return $e(d);throw"both async and sync fetching of the wasm failed"}catch(g){cr(g)}}function ze(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function Rn(d){for(;d.length>0;)d.shift()(l)}function Gt(d,g){return g+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*g:NaN}po(mn="vfs_web.wasm")||(mn=function $(d){return l.locateFile?l.locateFile(d,B):B+d}(mn));var Pt={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,g)=>{for(var b=0,P=d.length-1;P>=0;P--){var W=d[P];"."===W?d.splice(P,1):".."===W?(d.splice(P,1),b++):b&&(d.splice(P,1),b--)}if(g)for(;b;b--)d.unshift("..");return d},normalize:d=>{var g=Pt.isAbs(d),b="/"===d.substr(-1);return!(d=Pt.normalizeArray(d.split("/").filter(P=>!!P),!g).join("/"))&&!g&&(d="."),d&&b&&(d+="/"),(g?"/":"")+d},dirname:d=>{var g=Pt.splitPath(d),b=g[0],P=g[1];return b||P?(P&&(P=P.substr(0,P.length-1)),b+P):"."},basename:d=>{if("/"===d)return"/";var g=(d=(d=Pt.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?d:d.substr(g+1)},join:function(){var d=Array.prototype.slice.call(arguments);return Pt.normalize(d.join("/"))},join2:(d,g)=>Pt.normalize(d+"/"+g)},Kt={resolve:function(){for(var d="",g=!1,b=arguments.length-1;b>=-1&&!g;b--){var P=b>=0?arguments[b]:S.cwd();if("string"!=typeof P)throw new TypeError("Arguments to path.resolve must be strings");if(!P)return"";d=P+"/"+d,g=Pt.isAbs(P)}return(g?"/":"")+(d=Pt.normalizeArray(d.split("/").filter(W=>!!W),!g).join("/"))||"."},relative:(d,g)=>{function b(en){for(var wn=0;wn<en.length&&""===en[wn];wn++);for(var Nn=en.length-1;Nn>=0&&""===en[Nn];Nn--);return wn>Nn?[]:en.slice(wn,Nn-wn+1)}d=Kt.resolve(d).substr(1),g=Kt.resolve(g).substr(1);for(var P=b(d.split("/")),W=b(g.split("/")),Ce=Math.min(P.length,W.length),we=Ce,Re=0;Re<Ce;Re++)if(P[Re]!==W[Re]){we=Re;break}var bt=[];for(Re=we;Re<P.length;Re++)bt.push("..");return(bt=bt.concat(W.slice(we))).join("/")}};function er(d,g,b){var P=b>0?b:ne(d)+1,W=new Array(P),Ce=Me(d,W,0,W.length);return g&&(W.length=Ce),W}var tr={ttys:[],init:function(){},shutdown:function(){},register:function(d,g){tr.ttys[d]={input:[],output:[],ops:g},S.registerDevice(d,tr.stream_ops)},stream_ops:{open:function(d){var g=tr.ttys[d.node.rdev];if(!g)throw new S.ErrnoError(43);d.tty=g,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,g,b,P,W){if(!d.tty||!d.tty.ops.get_char)throw new S.ErrnoError(60);for(var Ce=0,we=0;we<P;we++){var Re;try{Re=d.tty.ops.get_char(d.tty)}catch{throw new S.ErrnoError(29)}if(void 0===Re&&0===Ce)throw new S.ErrnoError(6);if(null==Re)break;Ce++,g[b+we]=Re}return Ce&&(d.node.timestamp=Date.now()),Ce},write:function(d,g,b,P,W){if(!d.tty||!d.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var Ce=0;Ce<P;Ce++)d.tty.ops.put_char(d.tty,g[b+Ce])}catch{throw new S.ErrnoError(29)}return P&&(d.node.timestamp=Date.now()),Ce}},default_tty_ops:{get_char:function(d){if(!d.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;d.input=er(g,!0)}return d.input.shift()},put_char:function(d,g){null===g||10===g?(Z(Qe(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(Z(Qe(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,g){null===g||10===g?(Y(Qe(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(Y(Qe(d.output,0)),d.output=[])}}};function on(d){cr()}var Bt={ops_table:null,mount:function(d){return Bt.createNode(null,"/",16895,0)},createNode:function(d,g,b,P){if(S.isBlkdev(b)||S.isFIFO(b))throw new S.ErrnoError(63);Bt.ops_table||(Bt.ops_table={dir:{node:{getattr:Bt.node_ops.getattr,setattr:Bt.node_ops.setattr,lookup:Bt.node_ops.lookup,mknod:Bt.node_ops.mknod,rename:Bt.node_ops.rename,unlink:Bt.node_ops.unlink,rmdir:Bt.node_ops.rmdir,readdir:Bt.node_ops.readdir,symlink:Bt.node_ops.symlink},stream:{llseek:Bt.stream_ops.llseek}},file:{node:{getattr:Bt.node_ops.getattr,setattr:Bt.node_ops.setattr},stream:{llseek:Bt.stream_ops.llseek,read:Bt.stream_ops.read,write:Bt.stream_ops.write,allocate:Bt.stream_ops.allocate,mmap:Bt.stream_ops.mmap,msync:Bt.stream_ops.msync}},link:{node:{getattr:Bt.node_ops.getattr,setattr:Bt.node_ops.setattr,readlink:Bt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Bt.node_ops.getattr,setattr:Bt.node_ops.setattr},stream:S.chrdev_stream_ops}});var W=S.createNode(d,g,b,P);return S.isDir(W.mode)?(W.node_ops=Bt.ops_table.dir.node,W.stream_ops=Bt.ops_table.dir.stream,W.contents={}):S.isFile(W.mode)?(W.node_ops=Bt.ops_table.file.node,W.stream_ops=Bt.ops_table.file.stream,W.usedBytes=0,W.contents=null):S.isLink(W.mode)?(W.node_ops=Bt.ops_table.link.node,W.stream_ops=Bt.ops_table.link.stream):S.isChrdev(W.mode)&&(W.node_ops=Bt.ops_table.chrdev.node,W.stream_ops=Bt.ops_table.chrdev.stream),W.timestamp=Date.now(),d&&(d.contents[g]=W,d.timestamp=W.timestamp),W},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,g){var b=d.contents?d.contents.length:0;if(!(b>=g)){g=Math.max(g,b*(b<1048576?2:1.125)>>>0),0!=b&&(g=Math.max(g,256));var W=d.contents;d.contents=new Uint8Array(g),d.usedBytes>0&&d.contents.set(W.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,g){if(d.usedBytes!=g)if(0==g)d.contents=null,d.usedBytes=0;else{var b=d.contents;d.contents=new Uint8Array(g),b&&d.contents.set(b.subarray(0,Math.min(g,d.usedBytes))),d.usedBytes=g}},node_ops:{getattr:function(d){var g={};return g.dev=S.isChrdev(d.mode)?d.id:1,g.ino=d.id,g.mode=d.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=d.rdev,g.size=S.isDir(d.mode)?4096:S.isFile(d.mode)?d.usedBytes:S.isLink(d.mode)?d.link.length:0,g.atime=new Date(d.timestamp),g.mtime=new Date(d.timestamp),g.ctime=new Date(d.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(d,g){void 0!==g.mode&&(d.mode=g.mode),void 0!==g.timestamp&&(d.timestamp=g.timestamp),void 0!==g.size&&Bt.resizeFileStorage(d,g.size)},lookup:function(d,g){throw S.genericErrors[44]},mknod:function(d,g,b,P){return Bt.createNode(d,g,b,P)},rename:function(d,g,b){if(S.isDir(d.mode)){var P;try{P=S.lookupNode(g,b)}catch{}if(P)for(var W in P.contents)throw new S.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=b,g.contents[b]=d,g.timestamp=d.parent.timestamp,d.parent=g},unlink:function(d,g){delete d.contents[g],d.timestamp=Date.now()},rmdir:function(d,g){var b=S.lookupNode(d,g);for(var P in b.contents)throw new S.ErrnoError(55);delete d.contents[g],d.timestamp=Date.now()},readdir:function(d){var g=[".",".."];for(var b in d.contents)d.contents.hasOwnProperty(b)&&g.push(b);return g},symlink:function(d,g,b){var P=Bt.createNode(d,g,41471,0);return P.link=b,P},readlink:function(d){if(!S.isLink(d.mode))throw new S.ErrnoError(28);return d.link}},stream_ops:{read:function(d,g,b,P,W){var Ce=d.node.contents;if(W>=d.node.usedBytes)return 0;var we=Math.min(d.node.usedBytes-W,P);if(we>8&&Ce.subarray)g.set(Ce.subarray(W,W+we),b);else for(var Re=0;Re<we;Re++)g[b+Re]=Ce[W+Re];return we},write:function(d,g,b,P,W,Ce){if(g.buffer===Je.buffer&&(Ce=!1),!P)return 0;var we=d.node;if(we.timestamp=Date.now(),g.subarray&&(!we.contents||we.contents.subarray)){if(Ce)return we.contents=g.subarray(b,b+P),we.usedBytes=P,P;if(0===we.usedBytes&&0===W)return we.contents=g.slice(b,b+P),we.usedBytes=P,P;if(W+P<=we.usedBytes)return we.contents.set(g.subarray(b,b+P),W),P}if(Bt.expandFileStorage(we,W+P),we.contents.subarray&&g.subarray)we.contents.set(g.subarray(b,b+P),W);else for(var Re=0;Re<P;Re++)we.contents[W+Re]=g[b+Re];return we.usedBytes=Math.max(we.usedBytes,W+P),P},llseek:function(d,g,b){var P=g;if(1===b?P+=d.position:2===b&&S.isFile(d.node.mode)&&(P+=d.node.usedBytes),P<0)throw new S.ErrnoError(28);return P},allocate:function(d,g,b){Bt.expandFileStorage(d.node,g+b),d.node.usedBytes=Math.max(d.node.usedBytes,g+b)},mmap:function(d,g,b,P,W){if(!S.isFile(d.node.mode))throw new S.ErrnoError(43);var Ce,we,Re=d.node.contents;if(2&W||Re.buffer!==je){if((b>0||b+g<Re.length)&&(Re=Re.subarray?Re.subarray(b,b+g):Array.prototype.slice.call(Re,b,b+g)),we=!0,!(Ce=on()))throw new S.ErrnoError(48);Je.set(Re,Ce)}else we=!1,Ce=Re.byteOffset;return{ptr:Ce,allocated:we}},msync:function(d,g,b,P,W){return Bt.stream_ops.write(d,g,0,P,b,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,g={})=>{if(!(d=Kt.resolve(d)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new S.ErrnoError(32);for(var P=d.split("/").filter(Nn=>!!Nn),W=S.root,Ce="/",we=0;we<P.length;we++){var Re=we===P.length-1;if(Re&&g.parent)break;if(W=S.lookupNode(W,P[we]),Ce=Pt.join2(Ce,P[we]),S.isMountpoint(W)&&(!Re||Re&&g.follow_mount)&&(W=W.mounted.root),!Re||g.follow)for(var bt=0;S.isLink(W.mode);){var en=S.readlink(Ce);if(Ce=Kt.resolve(Pt.dirname(Ce),en),W=S.lookupPath(Ce,{recurse_count:g.recurse_count+1}).node,bt++>40)throw new S.ErrnoError(32)}}return{path:Ce,node:W}},getPath:d=>{for(var g;;){if(S.isRoot(d)){var b=d.mount.mountpoint;return g?"/"!==b[b.length-1]?b+"/"+g:b+g:b}g=g?d.name+"/"+g:d.name,d=d.parent}},hashName:(d,g)=>{for(var b=0,P=0;P<g.length;P++)b=(b<<5)-b+g.charCodeAt(P)|0;return(d+b>>>0)%S.nameTable.length},hashAddNode:d=>{var g=S.hashName(d.parent.id,d.name);d.name_next=S.nameTable[g],S.nameTable[g]=d},hashRemoveNode:d=>{var g=S.hashName(d.parent.id,d.name);if(S.nameTable[g]===d)S.nameTable[g]=d.name_next;else for(var b=S.nameTable[g];b;){if(b.name_next===d){b.name_next=d.name_next;break}b=b.name_next}},lookupNode:(d,g)=>{var b=S.mayLookup(d);if(b)throw new S.ErrnoError(b,d);for(var P=S.hashName(d.id,g),W=S.nameTable[P];W;W=W.name_next)if(W.parent.id===d.id&&W.name===g)return W;return S.lookup(d,g)},createNode:(d,g,b,P)=>{var W=new S.FSNode(d,g,b,P);return S.hashAddNode(W),W},destroyNode:d=>{S.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var g=S.flagModes[d];if(typeof g>"u")throw new Error("Unknown file open mode: "+d);return g},flagsToPermissionString:d=>{var g=["r","w","rw"][3&d];return 512&d&&(g+="w"),g},nodePermissions:(d,g)=>S.ignorePermissions?0:g.includes("r")&&!(292&d.mode)||g.includes("w")&&!(146&d.mode)||g.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>S.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,g)=>{try{return S.lookupNode(d,g),20}catch{}return S.nodePermissions(d,"wx")},mayDelete:(d,g,b)=>{var P;try{P=S.lookupNode(d,g)}catch(Ce){return Ce.errno}var W=S.nodePermissions(d,"wx");if(W)return W;if(b){if(!S.isDir(P.mode))return 54;if(S.isRoot(P)||S.getPath(P)===S.cwd())return 10}else if(S.isDir(P.mode))return 31;return 0},mayOpen:(d,g)=>d?S.isLink(d.mode)?32:S.isDir(d.mode)&&("r"!==S.flagsToPermissionString(g)||512&g)?31:S.nodePermissions(d,S.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,g=S.MAX_OPEN_FDS)=>{for(var b=d;b<=g;b++)if(!S.streams[b])return b;throw new S.ErrnoError(33)},getStream:d=>S.streams[d],createStream:(d,g,b)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(W){this.node=W}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(W){this.shared.flags=W}},position:{get:function(){return this.shared.position},set:function(W){this.shared.position=W}}})),d=Object.assign(new S.FSStream,d);var P=S.nextfd(g,b);return d.fd=P,S.streams[P]=d,d},closeStream:d=>{S.streams[d]=null},chrdev_stream_ops:{open:d=>{var g=S.getDevice(d.node.rdev);d.stream_ops=g.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new S.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,g)=>d<<8|g,registerDevice:(d,g)=>{S.devices[d]={stream_ops:g}},getDevice:d=>S.devices[d],getMounts:d=>{for(var g=[],b=[d];b.length;){var P=b.pop();g.push(P),b.push.apply(b,P.mounts)}return g},syncfs:(d,g)=>{"function"==typeof d&&(g=d,d=!1),S.syncFSRequests++,S.syncFSRequests>1&&Y("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=S.getMounts(S.root.mount),P=0;function W(we){return S.syncFSRequests--,g(we)}function Ce(we){if(we)return Ce.errored?void 0:(Ce.errored=!0,W(we));++P>=b.length&&W(null)}b.forEach(we=>{if(!we.type.syncfs)return Ce(null);we.type.syncfs(we,d,Ce)})},mount:(d,g,b)=>{var Ce,P="/"===b,W=!b;if(P&&S.root)throw new S.ErrnoError(10);if(!P&&!W){var we=S.lookupPath(b,{follow_mount:!1});if(b=we.path,S.isMountpoint(Ce=we.node))throw new S.ErrnoError(10);if(!S.isDir(Ce.mode))throw new S.ErrnoError(54)}var Re={type:d,opts:g,mountpoint:b,mounts:[]},bt=d.mount(Re);return bt.mount=Re,Re.root=bt,P?S.root=bt:Ce&&(Ce.mounted=Re,Ce.mount&&Ce.mount.mounts.push(Re)),bt},unmount:d=>{var g=S.lookupPath(d,{follow_mount:!1});if(!S.isMountpoint(g.node))throw new S.ErrnoError(28);var b=g.node,P=b.mounted,W=S.getMounts(P);Object.keys(S.nameTable).forEach(we=>{for(var Re=S.nameTable[we];Re;){var bt=Re.name_next;W.includes(Re.mount)&&S.destroyNode(Re),Re=bt}}),b.mounted=null;var Ce=b.mount.mounts.indexOf(P);b.mount.mounts.splice(Ce,1)},lookup:(d,g)=>d.node_ops.lookup(d,g),mknod:(d,g,b)=>{var W=S.lookupPath(d,{parent:!0}).node,Ce=Pt.basename(d);if(!Ce||"."===Ce||".."===Ce)throw new S.ErrnoError(28);var we=S.mayCreate(W,Ce);if(we)throw new S.ErrnoError(we);if(!W.node_ops.mknod)throw new S.ErrnoError(63);return W.node_ops.mknod(W,Ce,g,b)},create:(d,g)=>(g=void 0!==g?g:438,g&=4095,S.mknod(d,g|=32768,0)),mkdir:(d,g)=>(g=void 0!==g?g:511,g&=1023,S.mknod(d,g|=16384,0)),mkdirTree:(d,g)=>{for(var b=d.split("/"),P="",W=0;W<b.length;++W)if(b[W]){P+="/"+b[W];try{S.mkdir(P,g)}catch(Ce){if(20!=Ce.errno)throw Ce}}},mkdev:(d,g,b)=>(typeof b>"u"&&(b=g,g=438),S.mknod(d,g|=8192,b)),symlink:(d,g)=>{if(!Kt.resolve(d))throw new S.ErrnoError(44);var P=S.lookupPath(g,{parent:!0}).node;if(!P)throw new S.ErrnoError(44);var W=Pt.basename(g),Ce=S.mayCreate(P,W);if(Ce)throw new S.ErrnoError(Ce);if(!P.node_ops.symlink)throw new S.ErrnoError(63);return P.node_ops.symlink(P,W,d)},rename:(d,g)=>{var Re,bt,b=Pt.dirname(d),P=Pt.dirname(g),W=Pt.basename(d),Ce=Pt.basename(g);if(Re=S.lookupPath(d,{parent:!0}).node,bt=S.lookupPath(g,{parent:!0}).node,!Re||!bt)throw new S.ErrnoError(44);if(Re.mount!==bt.mount)throw new S.ErrnoError(75);var Nn,en=S.lookupNode(Re,W),wn=Kt.relative(d,P);if("."!==wn.charAt(0))throw new S.ErrnoError(28);if("."!==(wn=Kt.relative(g,b)).charAt(0))throw new S.ErrnoError(55);try{Nn=S.lookupNode(bt,Ce)}catch{}if(en!==Nn){var sn=S.isDir(en.mode),Dt=S.mayDelete(Re,W,sn);if(Dt)throw new S.ErrnoError(Dt);if(Dt=Nn?S.mayDelete(bt,Ce,sn):S.mayCreate(bt,Ce))throw new S.ErrnoError(Dt);if(!Re.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(en)||Nn&&S.isMountpoint(Nn))throw new S.ErrnoError(10);if(bt!==Re&&(Dt=S.nodePermissions(Re,"w")))throw new S.ErrnoError(Dt);S.hashRemoveNode(en);try{Re.node_ops.rename(en,bt,Ce)}catch(Un){throw Un}finally{S.hashAddNode(en)}}},rmdir:d=>{var b=S.lookupPath(d,{parent:!0}).node,P=Pt.basename(d),W=S.lookupNode(b,P),Ce=S.mayDelete(b,P,!0);if(Ce)throw new S.ErrnoError(Ce);if(!b.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(W))throw new S.ErrnoError(10);b.node_ops.rmdir(b,P),S.destroyNode(W)},readdir:d=>{var b=S.lookupPath(d,{follow:!0}).node;if(!b.node_ops.readdir)throw new S.ErrnoError(54);return b.node_ops.readdir(b)},unlink:d=>{var b=S.lookupPath(d,{parent:!0}).node;if(!b)throw new S.ErrnoError(44);var P=Pt.basename(d),W=S.lookupNode(b,P),Ce=S.mayDelete(b,P,!1);if(Ce)throw new S.ErrnoError(Ce);if(!b.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(W))throw new S.ErrnoError(10);b.node_ops.unlink(b,P),S.destroyNode(W)},readlink:d=>{var b=S.lookupPath(d).node;if(!b)throw new S.ErrnoError(44);if(!b.node_ops.readlink)throw new S.ErrnoError(28);return Kt.resolve(S.getPath(b.parent),b.node_ops.readlink(b))},stat:(d,g)=>{var P=S.lookupPath(d,{follow:!g}).node;if(!P)throw new S.ErrnoError(44);if(!P.node_ops.getattr)throw new S.ErrnoError(63);return P.node_ops.getattr(P)},lstat:d=>S.stat(d,!0),chmod:(d,g,b)=>{var P;if(!(P="string"==typeof d?S.lookupPath(d,{follow:!b}).node:d).node_ops.setattr)throw new S.ErrnoError(63);P.node_ops.setattr(P,{mode:4095&g|-4096&P.mode,timestamp:Date.now()})},lchmod:(d,g)=>{S.chmod(d,g,!0)},fchmod:(d,g)=>{var b=S.getStream(d);if(!b)throw new S.ErrnoError(8);S.chmod(b.node,g)},chown:(d,g,b,P)=>{var W;if(!(W="string"==typeof d?S.lookupPath(d,{follow:!P}).node:d).node_ops.setattr)throw new S.ErrnoError(63);W.node_ops.setattr(W,{timestamp:Date.now()})},lchown:(d,g,b)=>{S.chown(d,g,b,!0)},fchown:(d,g,b)=>{var P=S.getStream(d);if(!P)throw new S.ErrnoError(8);S.chown(P.node,g,b)},truncate:(d,g)=>{if(g<0)throw new S.ErrnoError(28);var b;if(!(b="string"==typeof d?S.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(b.mode))throw new S.ErrnoError(31);if(!S.isFile(b.mode))throw new S.ErrnoError(28);var W=S.nodePermissions(b,"w");if(W)throw new S.ErrnoError(W);b.node_ops.setattr(b,{size:g,timestamp:Date.now()})},ftruncate:(d,g)=>{var b=S.getStream(d);if(!b)throw new S.ErrnoError(8);if(!(2097155&b.flags))throw new S.ErrnoError(28);S.truncate(b.node,g)},utime:(d,g,b)=>{var W=S.lookupPath(d,{follow:!0}).node;W.node_ops.setattr(W,{timestamp:Math.max(g,b)})},open:(d,g,b)=>{if(""===d)throw new S.ErrnoError(44);var P;if(b=typeof b>"u"?438:b,b=64&(g="string"==typeof g?S.modeStringToFlags(g):g)?4095&b|32768:0,"object"==typeof d)P=d;else{d=Pt.normalize(d);try{P=S.lookupPath(d,{follow:!(131072&g)}).node}catch{}}var Ce=!1;if(64&g)if(P){if(128&g)throw new S.ErrnoError(20)}else P=S.mknod(d,b,0),Ce=!0;if(!P)throw new S.ErrnoError(44);if(S.isChrdev(P.mode)&&(g&=-513),65536&g&&!S.isDir(P.mode))throw new S.ErrnoError(54);if(!Ce){var we=S.mayOpen(P,g);if(we)throw new S.ErrnoError(we)}512&g&&!Ce&&S.truncate(P,0),g&=-131713;var Re=S.createStream({node:P,path:S.getPath(P),flags:g,seekable:!0,position:0,stream_ops:P.stream_ops,ungotten:[],error:!1});return Re.stream_ops.open&&Re.stream_ops.open(Re),l.logReadFiles&&!(1&g)&&(S.readFiles||(S.readFiles={}),d in S.readFiles||(S.readFiles[d]=1)),Re},close:d=>{if(S.isClosed(d))throw new S.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(g){throw g}finally{S.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,g,b)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new S.ErrnoError(28);return d.position=d.stream_ops.llseek(d,g,b),d.ungotten=[],d.position},read:(d,g,b,P,W)=>{if(P<0||W<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(1==(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.read)throw new S.ErrnoError(28);var Ce=typeof W<"u";if(Ce){if(!d.seekable)throw new S.ErrnoError(70)}else W=d.position;var we=d.stream_ops.read(d,g,b,P,W);return Ce||(d.position+=we),we},write:(d,g,b,P,W,Ce)=>{if(P<0||W<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.write)throw new S.ErrnoError(28);d.seekable&&1024&d.flags&&S.llseek(d,0,2);var we=typeof W<"u";if(we){if(!d.seekable)throw new S.ErrnoError(70)}else W=d.position;var Re=d.stream_ops.write(d,g,b,P,W,Ce);return we||(d.position+=Re),Re},allocate:(d,g,b)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(g<0||b<=0)throw new S.ErrnoError(28);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(!S.isFile(d.node.mode)&&!S.isDir(d.node.mode))throw new S.ErrnoError(43);if(!d.stream_ops.allocate)throw new S.ErrnoError(138);d.stream_ops.allocate(d,g,b)},mmap:(d,g,b,P,W)=>{if(2&P&&!(2&W)&&2!=(2097155&d.flags))throw new S.ErrnoError(2);if(1==(2097155&d.flags))throw new S.ErrnoError(2);if(!d.stream_ops.mmap)throw new S.ErrnoError(43);return d.stream_ops.mmap(d,g,b,P,W)},msync:(d,g,b,P,W)=>d.stream_ops.msync?d.stream_ops.msync(d,g,b,P,W):0,munmap:d=>0,ioctl:(d,g,b)=>{if(!d.stream_ops.ioctl)throw new S.ErrnoError(59);return d.stream_ops.ioctl(d,g,b)},readFile:(d,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var b,P=S.open(d,g.flags),Ce=S.stat(d).size,we=new Uint8Array(Ce);return S.read(P,we,0,Ce,0),"utf8"===g.encoding?b=Qe(we,0):"binary"===g.encoding&&(b=we),S.close(P),b},writeFile:(d,g,b={})=>{b.flags=b.flags||577;var P=S.open(d,b.flags,b.mode);if("string"==typeof g){var W=new Uint8Array(ne(g)+1),Ce=Me(g,W,0,W.length);S.write(P,W,0,Ce,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");S.write(P,g,0,g.byteLength,void 0,b.canOwn)}S.close(P)},cwd:()=>S.currentPath,chdir:d=>{var g=S.lookupPath(d,{follow:!0});if(null===g.node)throw new S.ErrnoError(44);if(!S.isDir(g.node.mode))throw new S.ErrnoError(54);var b=S.nodePermissions(g.node,"x");if(b)throw new S.ErrnoError(b);S.currentPath=g.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(g,b,P,W,Ce)=>W}),S.mkdev("/dev/null",S.makedev(1,3)),tr.register(S.makedev(5,0),tr.default_tty_ops),tr.register(S.makedev(6,0),tr.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var d=function wr(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>cr("randomDevice")}();S.createDevice("/dev","random",d),S.createDevice("/dev","urandom",d),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var d=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var g=S.createNode(d,"fd",16895,73);return g.node_ops={lookup:(b,P)=>{var Ce=S.getStream(+P);if(!Ce)throw new S.ErrnoError(8);var we={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Ce.path}};return we.parent=we,we}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?S.createDevice("/dev","stdin",l.stdin):S.symlink("/dev/tty","/dev/stdin"),l.stdout?S.createDevice("/dev","stdout",null,l.stdout):S.symlink("/dev/tty","/dev/stdout"),l.stderr?S.createDevice("/dev","stderr",null,l.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(g,b){this.node=b,this.setErrno=function(P){this.errno=P},this.setErrno(g),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(d=>{S.genericErrors[d]=new S.ErrnoError(d),S.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(Bt,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:Bt}},init:(d,g,b)=>{S.init.initialized=!0,S.ensureErrnoError(),l.stdin=d||l.stdin,l.stdout=g||l.stdout,l.stderr=b||l.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var d=0;d<S.streams.length;d++){var g=S.streams[d];g&&S.close(g)}},getMode:(d,g)=>{var b=0;return d&&(b|=365),g&&(b|=146),b},findObject:(d,g)=>{var b=S.analyzePath(d,g);return b.exists?b.object:null},analyzePath:(d,g)=>{try{d=(b=S.lookupPath(d,{follow:!g})).path}catch{}var P={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=S.lookupPath(d,{parent:!0});P.parentExists=!0,P.parentPath=b.path,P.parentObject=b.node,P.name=Pt.basename(d),b=S.lookupPath(d,{follow:!g}),P.exists=!0,P.path=b.path,P.object=b.node,P.name=b.node.name,P.isRoot="/"===b.path}catch(W){P.error=W.errno}return P},createPath:(d,g,b,P)=>{d="string"==typeof d?d:S.getPath(d);for(var W=g.split("/").reverse();W.length;){var Ce=W.pop();if(Ce){var we=Pt.join2(d,Ce);try{S.mkdir(we)}catch{}d=we}}return we},createFile:(d,g,b,P,W)=>{var Ce=Pt.join2("string"==typeof d?d:S.getPath(d),g),we=S.getMode(P,W);return S.create(Ce,we)},createDataFile:(d,g,b,P,W,Ce)=>{var we=g;d&&(d="string"==typeof d?d:S.getPath(d),we=g?Pt.join2(d,g):d);var Re=S.getMode(P,W),bt=S.create(we,Re);if(b){if("string"==typeof b){for(var en=new Array(b.length),wn=0,Nn=b.length;wn<Nn;++wn)en[wn]=b.charCodeAt(wn);b=en}S.chmod(bt,146|Re);var sn=S.open(bt,577);S.write(sn,b,0,b.length,0,Ce),S.close(sn),S.chmod(bt,Re)}return bt},createDevice:(d,g,b,P)=>{var W=Pt.join2("string"==typeof d?d:S.getPath(d),g),Ce=S.getMode(!!b,!!P);S.createDevice.major||(S.createDevice.major=64);var we=S.makedev(S.createDevice.major++,0);return S.registerDevice(we,{open:Re=>{Re.seekable=!1},close:Re=>{P&&P.buffer&&P.buffer.length&&P(10)},read:(Re,bt,en,wn,Nn)=>{for(var sn=0,Dt=0;Dt<wn;Dt++){var Un;try{Un=b()}catch{throw new S.ErrnoError(29)}if(void 0===Un&&0===sn)throw new S.ErrnoError(6);if(null==Un)break;sn++,bt[en+Dt]=Un}return sn&&(Re.node.timestamp=Date.now()),sn},write:(Re,bt,en,wn,Nn)=>{for(var sn=0;sn<wn;sn++)try{P(bt[en+sn])}catch{throw new S.ErrnoError(29)}return wn&&(Re.node.timestamp=Date.now()),sn}}),S.mkdev(W,Ce,we)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!U)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=er(U(d.url),!0),d.usedBytes=d.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(d,g,b,P,W)=>{function Ce(){this.lengthKnown=!1,this.chunks=[]}if(Ce.prototype.get=function(Dt){if(!(Dt>this.length-1||Dt<0)){var Un=Dt%this.chunkSize;return this.getter(Dt/this.chunkSize|0)[Un]}},Ce.prototype.setDataGetter=function(Dt){this.getter=Dt},Ce.prototype.cacheLength=function(){var Dt=new XMLHttpRequest;if(Dt.open("HEAD",b,!1),Dt.send(null),!(Dt.status>=200&&Dt.status<300||304===Dt.status))throw new Error("Couldn't load "+b+". Status: "+Dt.status);var Hr,Un=Number(Dt.getResponseHeader("Content-length")),fi=(Hr=Dt.getResponseHeader("Accept-Ranges"))&&"bytes"===Hr,vo=(Hr=Dt.getResponseHeader("Content-Encoding"))&&"gzip"===Hr,gt=1048576;fi||(gt=Un);var ir=this;ir.setDataGetter(Or=>{var Lr=Or*gt,yr=(Or+1)*gt-1;if(yr=Math.min(yr,Un-1),typeof ir.chunks[Or]>"u"&&(ir.chunks[Or]=((Or,Lr)=>{if(Or>Lr)throw new Error("invalid range ("+Or+", "+Lr+") or no bytes requested!");if(Lr>Un-1)throw new Error("only "+Un+" bytes available! programmer error!");var yr=new XMLHttpRequest;if(yr.open("GET",b,!1),Un!==gt&&yr.setRequestHeader("Range","bytes="+Or+"-"+Lr),yr.responseType="arraybuffer",yr.overrideMimeType&&yr.overrideMimeType("text/plain; charset=x-user-defined"),yr.send(null),!(yr.status>=200&&yr.status<300||304===yr.status))throw new Error("Couldn't load "+b+". Status: "+yr.status);return void 0!==yr.response?new Uint8Array(yr.response||[]):er(yr.responseText||"",!0)})(Lr,yr)),typeof ir.chunks[Or]>"u")throw new Error("doXHR failed!");return ir.chunks[Or]}),(vo||!Un)&&(gt=Un=1,Un=this.getter(0).length,gt=Un,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Un,this._chunkSize=gt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var we=new Ce;Object.defineProperties(we,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Re={isDevice:!1,contents:we}}else Re={isDevice:!1,url:b};var bt=S.createFile(d,g,Re,P,W);Re.contents?bt.contents=Re.contents:Re.url&&(bt.contents=null,bt.url=Re.url),Object.defineProperties(bt,{usedBytes:{get:function(){return this.contents.length}}});var en={};function Nn(sn,Dt,Un,Hr,fi){var vo=sn.node.contents;if(fi>=vo.length)return 0;var gt=Math.min(vo.length-fi,Hr);if(vo.slice)for(var Xt=0;Xt<gt;Xt++)Dt[Un+Xt]=vo[fi+Xt];else for(Xt=0;Xt<gt;Xt++)Dt[Un+Xt]=vo.get(fi+Xt);return gt}return Object.keys(bt.stream_ops).forEach(sn=>{var Dt=bt.stream_ops[sn];en[sn]=function(){return S.forceLoadFile(bt),Dt.apply(null,arguments)}}),en.read=(sn,Dt,Un,Hr,fi)=>(S.forceLoadFile(bt),Nn(sn,Dt,Un,Hr,fi)),en.mmap=(sn,Dt,Un,Hr,fi)=>{S.forceLoadFile(bt);var vo=on();if(!vo)throw new S.ErrnoError(48);return Nn(sn,Je,vo,Dt,Un),{ptr:vo,allocated:!0}},bt.stream_ops=en,bt},createPreloadedFile:(d,g,b,P,W,Ce,we,Re,bt,en)=>{var wn=g?Kt.resolve(Pt.join2(d,g)):d;function sn(Dt){function Un(Hr){en&&en(),Re||S.createDataFile(d,g,Hr,P,W,bt),Ce&&Ce(),jr()}Browser.handledByPreloadPlugin(Dt,wn,Un,()=>{we&&we(),jr()})||Un(Dt)}no(),"string"==typeof b?function E(d,g,b,P){var W=P?"":"al "+d;Pe(d,Ce=>{be(Ce,'Loading data file "'+d+'" failed (no arrayBuffer).'),g(new Uint8Array(Ce)),W&&jr()},Ce=>{if(!b)throw'Loading data file "'+d+'" failed.';b()}),W&&no()}(b,Dt=>sn(Dt),we):sn(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var P=S.indexedDB();try{var W=P.open(S.DB_NAME(),S.DB_VERSION)}catch(Ce){return b(Ce)}W.onupgradeneeded=()=>{Z("creating db"),W.result.createObjectStore(S.DB_STORE_NAME)},W.onsuccess=()=>{var we=W.result.transaction([S.DB_STORE_NAME],"readwrite"),Re=we.objectStore(S.DB_STORE_NAME),bt=0,en=0,wn=d.length;function Nn(){0==en?g():b()}d.forEach(sn=>{var Dt=Re.put(S.analyzePath(sn).object.contents,sn);Dt.onsuccess=()=>{++bt+en==wn&&Nn()},Dt.onerror=()=>{en++,bt+en==wn&&Nn()}}),we.onerror=b},W.onerror=b},loadFilesFromDB:(d,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var P=S.indexedDB();try{var W=P.open(S.DB_NAME(),S.DB_VERSION)}catch(Ce){return b(Ce)}W.onupgradeneeded=b,W.onsuccess=()=>{var Ce=W.result;try{var we=Ce.transaction([S.DB_STORE_NAME],"readonly")}catch(sn){return void b(sn)}var Re=we.objectStore(S.DB_STORE_NAME),bt=0,en=0,wn=d.length;function Nn(){0==en?g():b()}d.forEach(sn=>{var Dt=Re.get(sn);Dt.onsuccess=()=>{S.analyzePath(sn).exists&&S.unlink(sn),S.createDataFile(Pt.dirname(sn),Pt.basename(sn),Dt.result,!0,!0,!0),++bt+en==wn&&Nn()},Dt.onerror=()=>{en++,bt+en==wn&&Nn()}}),we.onerror=b},W.onerror=b}},qn={DEFAULT_POLLMASK:5,calculateAt:function(d,g,b){if(Pt.isAbs(g))return g;var P;if(P=-100===d?S.cwd():qn.getStreamFromFD(d).path,0==g.length){if(!b)throw new S.ErrnoError(44);return P}return Pt.join2(P,g)},doStat:function(d,g,b){try{var P=d(g)}catch(W){if(W&&W.node&&Pt.normalize(g)!==Pt.normalize(S.getPath(W.node)))return-54;throw W}return O[b>>2]=P.dev,O[b+8>>2]=P.ino,O[b+12>>2]=P.mode,ge[b+16>>2]=P.nlink,O[b+20>>2]=P.uid,O[b+24>>2]=P.gid,O[b+28>>2]=P.rdev,le=[P.size>>>0,(at=P.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+40>>2]=le[0],O[b+44>>2]=le[1],O[b+48>>2]=4096,O[b+52>>2]=P.blocks,le=[Math.floor(P.atime.getTime()/1e3)>>>0,(at=Math.floor(P.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+56>>2]=le[0],O[b+60>>2]=le[1],ge[b+64>>2]=0,le=[Math.floor(P.mtime.getTime()/1e3)>>>0,(at=Math.floor(P.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+72>>2]=le[0],O[b+76>>2]=le[1],ge[b+80>>2]=0,le=[Math.floor(P.ctime.getTime()/1e3)>>>0,(at=Math.floor(P.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+88>>2]=le[0],O[b+92>>2]=le[1],ge[b+96>>2]=0,le=[P.ino>>>0,(at=P.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+104>>2]=le[0],O[b+108>>2]=le[1],0},doMsync:function(d,g,b,P,W){if(!S.isFile(g.node.mode))throw new S.ErrnoError(43);if(2&P)return 0;var Ce=yt.slice(d,d+b);S.msync(g,Ce,W,b,P)},varargs:void 0,get:function(){return qn.varargs+=4,O[qn.varargs-4>>2]},getStr:function(d){return Oe(d)},getStreamFromFD:function(d){var g=S.getStream(d);if(!g)throw new S.ErrnoError(8);return g}};function To(d){return d%4==0&&(d%100!=0||d%400==0)}var Zi=[0,31,60,91,121,152,182,213,244,274,305,335],Jo=[0,31,59,90,120,151,181,212,243,273,304,334];function Pi(d){return(To(d.getFullYear())?Zi:Jo)[d.getMonth()]+d.getDate()-1}function ei(d){var g=ne(d)+1,b=Ct(g);return b&&Me(d,Je,b,g),b}function ro(d){try{return de.grow(d-je.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var di={};function mo(){if(!mo.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var b in di)void 0===di[b]?delete g[b]:g[b]=di[b];var P=[];for(var b in g)P.push(b+"="+g[b]);mo.strings=P}return mo.strings}var xs=[31,29,31,30,31,30,31,31,30,31,30,31],qi=[31,28,31,30,31,30,31,31,30,31,30,31];var pe=function(d,g,b,P){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=S.nextInode++,this.name=g,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=P};Object.defineProperties(pe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=pe,S.staticInit();var rl,ot={a:function Bn(d,g,b,P){cr("Assertion failed: "+Oe(d)+", at: "+[g?Oe(g):"unknown filename",b,P?Oe(P):"unknown function"])},l:function D(d,g,b){try{var P=Gt(g,b);return isNaN(P)?-61:(S.ftruncate(d,P),0)}catch(W){if(typeof S>"u"||!(W instanceof S.ErrnoError))throw W;return-W.errno}},g:function Qo(){return!0},h:function Ri(d,g){var b=new Date(1e3*function ci(d){return ge[d>>2]+4294967296*O[d+4>>2]}(d));O[g>>2]=b.getSeconds(),O[g+4>>2]=b.getMinutes(),O[g+8>>2]=b.getHours(),O[g+12>>2]=b.getDate(),O[g+16>>2]=b.getMonth(),O[g+20>>2]=b.getFullYear()-1900,O[g+24>>2]=b.getDay();var P=0|Pi(b);O[g+28>>2]=P,O[g+36>>2]=-60*b.getTimezoneOffset();var W=new Date(b.getFullYear(),0,1),Ce=new Date(b.getFullYear(),6,1).getTimezoneOffset(),we=W.getTimezoneOffset(),Re=0|(Ce!=we&&b.getTimezoneOffset()==Math.min(we,Ce));O[g+32>>2]=Re},i:function ho(d){var g=new Date(O[d+20>>2]+1900,O[d+16>>2],O[d+12>>2],O[d+8>>2],O[d+4>>2],O[d>>2],0),b=O[d+32>>2],P=g.getTimezoneOffset(),W=new Date(g.getFullYear(),0,1),Ce=new Date(g.getFullYear(),6,1).getTimezoneOffset(),we=W.getTimezoneOffset(),Re=Math.min(we,Ce);if(b<0)O[d+32>>2]=Number(Ce!=we&&Re==P);else if(b>0!=(Re==P)){var bt=Math.max(we,Ce),en=b>0?Re:bt;g.setTime(g.getTime()+6e4*(en-P))}O[d+24>>2]=g.getDay();var wn=0|Pi(g);return O[d+28>>2]=wn,O[d>>2]=g.getSeconds(),O[d+4>>2]=g.getMinutes(),O[d+8>>2]=g.getHours(),O[d+12>>2]=g.getDate(),O[d+16>>2]=g.getMonth(),O[d+20>>2]=g.getYear(),g.getTime()/1e3|0},j:function Sr(d,g,b){var P=(new Date).getFullYear(),W=new Date(P,0,1),Ce=new Date(P,6,1),we=W.getTimezoneOffset(),Re=Ce.getTimezoneOffset(),bt=Math.max(we,Re);function en(Un){var Hr=Un.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Hr?Hr[1]:"GMT"}ge[d>>2]=60*bt,O[g>>2]=Number(we!=Re);var wn=en(W),Nn=en(Ce),sn=ei(wn),Dt=ei(Nn);Re<we?(ge[b>>2]=sn,ge[b+4>>2]=Dt):(ge[b>>2]=Dt,ge[b+4>>2]=sn)},b:function ti(){cr("")},c:function co(){return Date.now()},q:function ui(d,g,b){yt.copyWithin(d,g,g+b)},p:function ds(d){var bt,g=yt.length,b=2147483648;if((d>>>=0)>b)return!1;for(var W=1;W<=4;W*=2){var Ce=g*(1+.2/W);if(Ce=Math.min(Ce,d+100663296),ro(Math.min(b,(bt=Math.max(d,Ce))+(65536-bt%65536)%65536)))return!0}return!1},n:function Eo(d,g){var b=0;return mo().forEach(function(P,W){var Ce=g+b;ge[d+4*W>>2]=Ce,function fs(d,g,b){for(var P=0;P<d.length;++P)Je[g++>>0]=d.charCodeAt(P);b||(Je[g>>0]=0)}(P,Ce),b+=P.length+1}),0},o:function Fi(d,g){var b=mo();ge[d>>2]=b.length;var P=0;return b.forEach(function(W){P+=W.length+1}),ge[g>>2]=P,0},d:function ks(d){try{var g=qn.getStreamFromFD(d);return S.close(g),0}catch(b){if(typeof S>"u"||!(b instanceof S.ErrnoError))throw b;return b.errno}},f:function ps(d,g,b,P){try{var Ce=function yi(d,g,b,P){for(var W=0,Ce=0;Ce<b;Ce++){var we=ge[g>>2],Re=ge[g+4>>2];g+=8;var bt=S.read(d,Je,we,Re,P);if(bt<0)return-1;if(W+=bt,bt<Re)break}return W}(qn.getStreamFromFD(d),g,b);return ge[P>>2]=Ce,0}catch(we){if(typeof S>"u"||!(we instanceof S.ErrnoError))throw we;return we.errno}},k:function Us(d,g,b,P,W){try{var Ce=Gt(g,b);if(isNaN(Ce))return 61;var we=qn.getStreamFromFD(d);return S.llseek(we,Ce,P),le=[we.position>>>0,(at=we.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[W>>2]=le[0],O[W+4>>2]=le[1],we.getdents&&0===Ce&&0===P&&(we.getdents=null),0}catch(Re){if(typeof S>"u"||!(Re instanceof S.ErrnoError))throw Re;return Re.errno}},e:function mr(d,g,b,P){try{var Ce=function Hs(d,g,b,P){for(var W=0,Ce=0;Ce<b;Ce++){var we=ge[g>>2],Re=ge[g+4>>2];g+=8;var bt=S.write(d,Je,we,Re,P);if(bt<0)return-1;W+=bt}return W}(qn.getStreamFromFD(d),g,b);return ge[P>>2]=Ce,0}catch(we){if(typeof S>"u"||!(we instanceof S.ErrnoError))throw we;return we.errno}},m:function me(d,g,b,P,W){return function N(d,g,b,P){var W=O[P+40>>2],Ce={tm_sec:O[P>>2],tm_min:O[P+4>>2],tm_hour:O[P+8>>2],tm_mday:O[P+12>>2],tm_mon:O[P+16>>2],tm_year:O[P+20>>2],tm_wday:O[P+24>>2],tm_yday:O[P+28>>2],tm_isdst:O[P+32>>2],tm_gmtoff:O[P+36>>2],tm_zone:W?Oe(W):""},we=Oe(b),Re={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var bt in Re)we=we.replace(new RegExp(bt,"g"),Re[bt]);var en=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Nn(gt,Xt,ir){for(var Or="number"==typeof gt?gt.toString():gt||"";Or.length<Xt;)Or=ir[0]+Or;return Or}function sn(gt,Xt){return Nn(gt,Xt,"0")}function Dt(gt,Xt){function ir(Lr){return Lr<0?-1:Lr>0?1:0}var Or;return 0===(Or=ir(gt.getFullYear()-Xt.getFullYear()))&&0===(Or=ir(gt.getMonth()-Xt.getMonth()))&&(Or=ir(gt.getDate()-Xt.getDate())),Or}function Un(gt){switch(gt.getDay()){case 0:return new Date(gt.getFullYear()-1,11,29);case 1:return gt;case 2:return new Date(gt.getFullYear(),0,3);case 3:return new Date(gt.getFullYear(),0,2);case 4:return new Date(gt.getFullYear(),0,1);case 5:return new Date(gt.getFullYear()-1,11,31);case 6:return new Date(gt.getFullYear()-1,11,30)}}function Hr(gt){var Xt=function nr(d,g){for(var b=new Date(d.getTime());g>0;){var P=To(b.getFullYear()),W=b.getMonth(),Ce=(P?xs:qi)[W];if(!(g>Ce-b.getDate()))return b.setDate(b.getDate()+g),b;g-=Ce-b.getDate()+1,b.setDate(1),W<11?b.setMonth(W+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(gt.tm_year+1900,0,1),gt.tm_yday),ir=new Date(Xt.getFullYear(),0,4),Or=new Date(Xt.getFullYear()+1,0,4),Lr=Un(ir),yr=Un(Or);return Dt(Lr,Xt)<=0?Dt(yr,Xt)<=0?Xt.getFullYear()+1:Xt.getFullYear():Xt.getFullYear()-1}var fi={"%a":function(gt){return en[gt.tm_wday].substring(0,3)},"%A":function(gt){return en[gt.tm_wday]},"%b":function(gt){return wn[gt.tm_mon].substring(0,3)},"%B":function(gt){return wn[gt.tm_mon]},"%C":function(gt){return sn((gt.tm_year+1900)/100|0,2)},"%d":function(gt){return sn(gt.tm_mday,2)},"%e":function(gt){return Nn(gt.tm_mday,2," ")},"%g":function(gt){return Hr(gt).toString().substring(2)},"%G":function(gt){return Hr(gt)},"%H":function(gt){return sn(gt.tm_hour,2)},"%I":function(gt){var Xt=gt.tm_hour;return 0==Xt?Xt=12:Xt>12&&(Xt-=12),sn(Xt,2)},"%j":function(gt){return sn(gt.tm_mday+function vi(d,g){for(var b=0,P=0;P<=g;b+=d[P++]);return b}(To(gt.tm_year+1900)?xs:qi,gt.tm_mon-1),3)},"%m":function(gt){return sn(gt.tm_mon+1,2)},"%M":function(gt){return sn(gt.tm_min,2)},"%n":function(){return"\n"},"%p":function(gt){return gt.tm_hour>=0&&gt.tm_hour<12?"AM":"PM"},"%S":function(gt){return sn(gt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(gt){return gt.tm_wday||7},"%U":function(gt){return sn(Math.floor((gt.tm_yday+7-gt.tm_wday)/7),2)},"%V":function(gt){var Xt=Math.floor((gt.tm_yday+7-(gt.tm_wday+6)%7)/7);if((gt.tm_wday+371-gt.tm_yday-2)%7<=2&&Xt++,Xt){if(53==Xt){var Or=(gt.tm_wday+371-gt.tm_yday)%7;4!=Or&&(3!=Or||!To(gt.tm_year))&&(Xt=1)}}else{Xt=52;var ir=(gt.tm_wday+7-gt.tm_yday-1)%7;(4==ir||5==ir&&To(gt.tm_year%400-1))&&Xt++}return sn(Xt,2)},"%w":function(gt){return gt.tm_wday},"%W":function(gt){return sn(Math.floor((gt.tm_yday+7-(gt.tm_wday+6)%7)/7),2)},"%y":function(gt){return(gt.tm_year+1900).toString().substring(2)},"%Y":function(gt){return gt.tm_year+1900},"%z":function(gt){var Xt=gt.tm_gmtoff,ir=Xt>=0;return Xt=(Xt=Math.abs(Xt)/60)/60*100+Xt%60,(ir?"+":"-")+String("0000"+Xt).slice(-4)},"%Z":function(gt){return gt.tm_zone},"%%":function(){return"%"}};for(var bt in we=we.replace(/%%/g,"\0\0"),fi)we.includes(bt)&&(we=we.replace(new RegExp(bt,"g"),fi[bt](Ce)));var vo=er(we=we.replace(/\0\0/g,"%"),!1);return vo.length>g?0:(function T(d,g){Je.set(d,g)}(vo,d),vo.length-1)}(d,g,b,P)}},Ct=(function Yr(){var d={a:ot};function g(we,Re){l.asm=we.exports,Ve((de=l.asm.r).buffer),function ao(d){Ae.unshift(d)}(l.asm.s),jr()}function b(we){g(we.instance)}function P(we){return function us(){return fe||!ue&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return lo(mn)}):fetch(mn,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+mn+"'";return d.arrayBuffer()}).catch(function(){return lo(mn)})}().then(function(Re){return WebAssembly.instantiate(Re,d)}).then(function(Re){return Re}).then(we,function(Re){Y("failed to asynchronously prepare wasm: "+Re),cr(Re)})}if(no(),l.instantiateWasm)try{return l.instantiateWasm(d,g)}catch(we){Y("Module.instantiateWasm callback failed with error: "+we),te(we)}(function W(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||po(mn)||"function"!=typeof fetch?P(b):fetch(mn,{credentials:"same-origin"}).then(function(we){return WebAssembly.instantiateStreaming(we,d).then(b,function(bt){return Y("wasm streaming compile failed: "+bt),Y("falling back to ArrayBuffer instantiation"),P(b)})})})().catch(te)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.s).apply(null,arguments)},l._malloc=function(){return(Ct=l._malloc=l.asm.t).apply(null,arguments)}),$o=(l._free=function(){return(l._free=l.asm.u).apply(null,arguments)},l._emscripten_bind_VoidPtr___destroy___0=function(){return($o=l._emscripten_bind_VoidPtr___destroy___0=l.asm.v).apply(null,arguments)}),uo=l._emscripten_bind_FileEntry_GetName_0=function(){return(uo=l._emscripten_bind_FileEntry_GetName_0=l.asm.w).apply(null,arguments)},Bo=l._emscripten_bind_FileEntry_IsDirectory_0=function(){return(Bo=l._emscripten_bind_FileEntry_IsDirectory_0=l.asm.x).apply(null,arguments)},bi=l._emscripten_bind_FileEntry_GetSize_0=function(){return(bi=l._emscripten_bind_FileEntry_GetSize_0=l.asm.y).apply(null,arguments)},Pr=l._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(Pr=l._emscripten_bind_FileEntry_GetModifiedTS_0=l.asm.z).apply(null,arguments)},hs=l._emscripten_bind_FileEntry_GetAttributes_0=function(){return(hs=l._emscripten_bind_FileEntry_GetAttributes_0=l.asm.A).apply(null,arguments)},Xa=l._emscripten_bind_FileEntry___destroy___0=function(){return(Xa=l._emscripten_bind_FileEntry___destroy___0=l.asm.B).apply(null,arguments)},Qa=l._emscripten_bind_Vfs_Vfs_0=function(){return(Qa=l._emscripten_bind_Vfs_Vfs_0=l.asm.C).apply(null,arguments)},Oi=l._emscripten_bind_Vfs_Malloc_1=function(){return(Oi=l._emscripten_bind_Vfs_Malloc_1=l.asm.D).apply(null,arguments)},Ja=l._emscripten_bind_Vfs_Free_1=function(){return(Ja=l._emscripten_bind_Vfs_Free_1=l.asm.E).apply(null,arguments)},ea=l._emscripten_bind_Vfs_Nullptr_0=function(){return(ea=l._emscripten_bind_Vfs_Nullptr_0=l.asm.F).apply(null,arguments)},ta=l._emscripten_bind_Vfs_AllocateImage_1=function(){return(ta=l._emscripten_bind_Vfs_AllocateImage_1=l.asm.G).apply(null,arguments)},Tl=l._emscripten_bind_Vfs_MountImage_1=function(){return(Tl=l._emscripten_bind_Vfs_MountImage_1=l.asm.H).apply(null,arguments)},Al=l._emscripten_bind_Vfs_UnmountImage_1=function(){return(Al=l._emscripten_bind_Vfs_UnmountImage_1=l.asm.I).apply(null,arguments)},Pl=l._emscripten_bind_Vfs_SwitchSlot_1=function(){return(Pl=l._emscripten_bind_Vfs_SwitchSlot_1=l.asm.J).apply(null,arguments)},va=l._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(va=l._emscripten_bind_Vfs_GetPendingImageSize_0=l.asm.K).apply(null,arguments)},Rl=l._emscripten_bind_Vfs_GetSize_1=function(){return(Rl=l._emscripten_bind_Vfs_GetSize_1=l.asm.L).apply(null,arguments)},Vo=l._emscripten_bind_Vfs_GetPendingImage_0=function(){return(Vo=l._emscripten_bind_Vfs_GetPendingImage_0=l.asm.M).apply(null,arguments)},zn=l._emscripten_bind_Vfs_GetImage_1=function(){return(zn=l._emscripten_bind_Vfs_GetImage_1=l.asm.N).apply(null,arguments)},Fl=l._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(Fl=l._emscripten_bind_Vfs_GetDirtyPages_1=l.asm.O).apply(null,arguments)},Ol=l._emscripten_bind_Vfs_RenameFile_2=function(){return(Ol=l._emscripten_bind_Vfs_RenameFile_2=l.asm.P).apply(null,arguments)},hc=l._emscripten_bind_Vfs_ChmodFile_3=function(){return(hc=l._emscripten_bind_Vfs_ChmodFile_3=l.asm.Q).apply(null,arguments)},mt=l._emscripten_bind_Vfs_StatFile_1=function(){return(mt=l._emscripten_bind_Vfs_StatFile_1=l.asm.R).apply(null,arguments)},na=l._emscripten_bind_Vfs_UnlinkFile_1=function(){return(na=l._emscripten_bind_Vfs_UnlinkFile_1=l.asm.S).apply(null,arguments)},Er=l._emscripten_bind_Vfs_Mkdir_1=function(){return(Er=l._emscripten_bind_Vfs_Mkdir_1=l.asm.T).apply(null,arguments)},Ms=l._emscripten_bind_Vfs_GetEntry_0=function(){return(Ms=l._emscripten_bind_Vfs_GetEntry_0=l.asm.U).apply(null,arguments)},ba=l._emscripten_bind_Vfs_BytesFree_1=function(){return(ba=l._emscripten_bind_Vfs_BytesFree_1=l.asm.V).apply(null,arguments)},go=l._emscripten_bind_Vfs_BytesTotal_1=function(){return(go=l._emscripten_bind_Vfs_BytesTotal_1=l.asm.W).apply(null,arguments)},ms=l._emscripten_bind_Vfs_ReadFile_1=function(){return(ms=l._emscripten_bind_Vfs_ReadFile_1=l.asm.X).apply(null,arguments)},Ni=l._emscripten_bind_Vfs_GetCurrentFileSize_0=function(){return(Ni=l._emscripten_bind_Vfs_GetCurrentFileSize_0=l.asm.Y).apply(null,arguments)},Ca=l._emscripten_bind_Vfs_GetCurrentFileContent_0=function(){return(Ca=l._emscripten_bind_Vfs_GetCurrentFileContent_0=l.asm.Z).apply(null,arguments)},Gs=l._emscripten_bind_Vfs_ReleaseCurrentFile_0=function(){return(Gs=l._emscripten_bind_Vfs_ReleaseCurrentFile_0=l.asm._).apply(null,arguments)},ra=l._emscripten_bind_Vfs_WriteFile_3=function(){return(ra=l._emscripten_bind_Vfs_WriteFile_3=l.asm.$).apply(null,arguments)},wa=l._emscripten_bind_Vfs___destroy___0=function(){return(wa=l._emscripten_bind_Vfs___destroy___0=l.asm.aa).apply(null,arguments)},el=l._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(el=l._emscripten_bind_ReaddirContext_ReaddirContext_1=l.asm.ba).apply(null,arguments)},xt=l._emscripten_bind_ReaddirContext_Next_0=function(){return(xt=l._emscripten_bind_ReaddirContext_Next_0=l.asm.ca).apply(null,arguments)},oa=l._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(oa=l._emscripten_bind_ReaddirContext_GetEntry_0=l.asm.da).apply(null,arguments)},Do=l._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(Do=l._emscripten_bind_ReaddirContext_GetStatus_0=l.asm.ea).apply(null,arguments)},ur=l._emscripten_bind_ReaddirContext_GetError_0=function(){return(ur=l._emscripten_bind_ReaddirContext_GetError_0=l.asm.fa).apply(null,arguments)},oo=l._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(oo=l._emscripten_bind_ReaddirContext_GetErrorDescription_0=l.asm.ga).apply(null,arguments)},Ur=l._emscripten_bind_ReaddirContext___destroy___0=function(){return(Ur=l._emscripten_bind_ReaddirContext___destroy___0=l.asm.ha).apply(null,arguments)},p=l._emscripten_bind_CreateZipContext_CreateZipContext_2=function(){return(p=l._emscripten_bind_CreateZipContext_CreateZipContext_2=l.asm.ia).apply(null,arguments)},_=l._emscripten_bind_CreateZipContext_AddFile_1=function(){return(_=l._emscripten_bind_CreateZipContext_AddFile_1=l.asm.ja).apply(null,arguments)},w=l._emscripten_bind_CreateZipContext_AddDirectory_1=function(){return(w=l._emscripten_bind_CreateZipContext_AddDirectory_1=l.asm.ka).apply(null,arguments)},F=l._emscripten_bind_CreateZipContext_Continue_0=function(){return(F=l._emscripten_bind_CreateZipContext_Continue_0=l.asm.la).apply(null,arguments)},G=l._emscripten_bind_CreateZipContext_GetState_0=function(){return(G=l._emscripten_bind_CreateZipContext_GetState_0=l.asm.ma).apply(null,arguments)},ye=l._emscripten_bind_CreateZipContext_GetZipContent_0=function(){return(ye=l._emscripten_bind_CreateZipContext_GetZipContent_0=l.asm.na).apply(null,arguments)},De=l._emscripten_bind_CreateZipContext_GetZipSize_0=function(){return(De=l._emscripten_bind_CreateZipContext_GetZipSize_0=l.asm.oa).apply(null,arguments)},Ue=l._emscripten_bind_CreateZipContext_GetErrorItem_0=function(){return(Ue=l._emscripten_bind_CreateZipContext_GetErrorItem_0=l.asm.pa).apply(null,arguments)},wt=l._emscripten_bind_CreateZipContext___destroy___0=function(){return(wt=l._emscripten_bind_CreateZipContext___destroy___0=l.asm.qa).apply(null,arguments)},pn=l._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=function(){return(pn=l._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=l.asm.ra).apply(null,arguments)},Tn=l._emscripten_bind_DeleteRecursiveContext_AddFile_1=function(){return(Tn=l._emscripten_bind_DeleteRecursiveContext_AddFile_1=l.asm.sa).apply(null,arguments)},An=l._emscripten_bind_DeleteRecursiveContext_Continue_0=function(){return(An=l._emscripten_bind_DeleteRecursiveContext_Continue_0=l.asm.ta).apply(null,arguments)},jt=l._emscripten_bind_DeleteRecursiveContext_GetState_0=function(){return(jt=l._emscripten_bind_DeleteRecursiveContext_GetState_0=l.asm.ua).apply(null,arguments)},zt=l._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=function(){return(zt=l._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=l.asm.va).apply(null,arguments)},ee=l._emscripten_bind_DeleteRecursiveContext___destroy___0=function(){return(ee=l._emscripten_bind_DeleteRecursiveContext___destroy___0=l.asm.wa).apply(null,arguments)},Rr=l._emscripten_bind_UnzipContext_UnzipContext_4=function(){return(Rr=l._emscripten_bind_UnzipContext_UnzipContext_4=l.asm.xa).apply(null,arguments)},gn=l._emscripten_bind_UnzipContext_GetState_0=function(){return(gn=l._emscripten_bind_UnzipContext_GetState_0=l.asm.ya).apply(null,arguments)},Kr=l._emscripten_bind_UnzipContext_Continue_0=function(){return(Kr=l._emscripten_bind_UnzipContext_Continue_0=l.asm.za).apply(null,arguments)},ht=l._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=function(){return(ht=l._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=l.asm.Aa).apply(null,arguments)},Ht=l._emscripten_bind_UnzipContext_GetCurrentEntry_0=function(){return(Ht=l._emscripten_bind_UnzipContext_GetCurrentEntry_0=l.asm.Ba).apply(null,arguments)},Xr=l._emscripten_bind_UnzipContext_GetCollisionPath_0=function(){return(Xr=l._emscripten_bind_UnzipContext_GetCollisionPath_0=l.asm.Ca).apply(null,arguments)},Cr=l._emscripten_bind_UnzipContext_GetEntriesTotal_0=function(){return(Cr=l._emscripten_bind_UnzipContext_GetEntriesTotal_0=l.asm.Da).apply(null,arguments)},ni=l._emscripten_bind_UnzipContext_GetEntriesSuccess_0=function(){return(ni=l._emscripten_bind_UnzipContext_GetEntriesSuccess_0=l.asm.Ea).apply(null,arguments)},gr=l._emscripten_bind_UnzipContext___destroy___0=function(){return(gr=l._emscripten_bind_UnzipContext___destroy___0=l.asm.Fa).apply(null,arguments)},Ci=l._emscripten_bind_PasteContext_PasteContext_3=function(){return(Ci=l._emscripten_bind_PasteContext_PasteContext_3=l.asm.Ga).apply(null,arguments)},ru=l._emscripten_bind_PasteContext_AddFile_1=function(){return(ru=l._emscripten_bind_PasteContext_AddFile_1=l.asm.Ha).apply(null,arguments)},ou=l._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=function(){return(ou=l._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=l.asm.Ia).apply(null,arguments)},Li=l._emscripten_bind_PasteContext_GetState_0=function(){return(Li=l._emscripten_bind_PasteContext_GetState_0=l.asm.Ja).apply(null,arguments)},Yi=l._emscripten_bind_PasteContext_Continue_0=function(){return(Yi=l._emscripten_bind_PasteContext_Continue_0=l.asm.Ka).apply(null,arguments)},rr=l._emscripten_bind_PasteContext_ContinueWithOverwrite_0=function(){return(rr=l._emscripten_bind_PasteContext_ContinueWithOverwrite_0=l.asm.La).apply(null,arguments)},Sa=l._emscripten_bind_PasteContext_GetCurrentEntry_0=function(){return(Sa=l._emscripten_bind_PasteContext_GetCurrentEntry_0=l.asm.Ma).apply(null,arguments)},tl=l._emscripten_bind_PasteContext_GetCollisionPath_0=function(){return(tl=l._emscripten_bind_PasteContext_GetCollisionPath_0=l.asm.Na).apply(null,arguments)},nl=l._emscripten_bind_PasteContext_GetEntriesSuccess_0=function(){return(nl=l._emscripten_bind_PasteContext_GetEntriesSuccess_0=l.asm.Oa).apply(null,arguments)},Nl=l._emscripten_bind_PasteContext___destroy___0=function(){return(Nl=l._emscripten_bind_PasteContext___destroy___0=l.asm.Pa).apply(null,arguments)};function mc(d){var g=l._main;try{var W=g(0,0);return function Ne(d,g){ce=d,function Ee(d){ce=d,function Jt(){return Fe}()||(l.onExit&&l.onExit(d),it=!0),V(d,new ze(d))}(d)}(W),W}catch(Ce){return function R(d){if(d instanceof ze||"unwind"==d)return ce;V(1,d)}(Ce)}}function Ll(d){function g(){rl||(rl=!0,l.calledRun=!0,!it&&(function Cn(){!l.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,tr.init(),Rn(Ae)}(),function br(){Rn(Tt)}(),re(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),Fr&&mc(),function Jn(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)d=l.postRun.shift(),rn.unshift(d);var d;Rn(rn)}()))}d=d||Q,Pn>0||(function j(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)d=l.preRun.shift(),ft.unshift(d);var d;Rn(ft)}(),Pn>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),g()},1)):g())}if(l._main=function(){return(l._main=l.asm.Qa).apply(null,arguments)},l.___original_main=function(){return(l.___original_main=l.asm.Sa).apply(null,arguments)},l.___start_em_js=20120,l.___stop_em_js=20218,jn=function d(){rl||Ll(),rl||(jn=d)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var Fr=!0;function _o(){}function Ki(d){return(d||_o).__cache__}function Mt(d,g){var b=Ki(g),P=b[d];return P||((P=Object.create((g||_o).prototype)).ptr=d,b[d]=P)}l.noInitialRun&&(Fr=!1),Ll(),(_o.prototype=Object.create(_o.prototype)).constructor=_o,_o.prototype.__class__=_o,_o.__cache__={},l.WrapperObject=_o,l.getCache=Ki,l.wrapPointer=Mt,l.castObject=function yo(d,g){return Mt(d.ptr,g)},l.NULL=Mt(0),l.destroy=function dr(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete Ki(d.__class__)[d.ptr]},l.compare=function Po(d,g){return d.ptr===g.ptr},l.getPointer=function jo(d){return d.ptr},l.getClass=function ia(d){return d.__class__};var _n={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(_n.needed){for(var d=0;d<_n.temps.length;d++)l._free(_n.temps[d]);_n.temps.length=0,l._free(_n.buffer),_n.buffer=0,_n.size+=_n.needed,_n.needed=0}_n.buffer||(_n.size+=128,_n.buffer=l._malloc(_n.size),be(_n.buffer)),_n.pos=0},alloc:function(d,g){be(_n.buffer);var W,P=d.length*g.BYTES_PER_ELEMENT;return _n.pos+(P=P+7&-8)>=_n.size?(be(P>0),_n.needed+=P,W=l._malloc(P),_n.temps.push(W)):(W=_n.buffer+_n.pos,_n.pos+=P),W},copy:function(d,g,b){switch(b>>>=0,g.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var W=0;W<d.length;W++)g[b+W]=d[W]}};function xr(d){if("string"==typeof d){var g=er(d),b=_n.alloc(g,Je);return _n.copy(g,Je,b),b}return d}function Et(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Wt(){throw"cannot construct a FileEntry, no constructor in IDL"}function It(){this.ptr=Qa(),Ki(It)[this.ptr]=this}function fr(d){_n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),this.ptr=el(d),Ki(fr)[this.ptr]=this}function or(d,g){_n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),g&&"object"==typeof g&&(g=g.ptr),this.ptr=p(d,g),Ki(or)[this.ptr]=this}function Wn(d){d&&"object"==typeof d&&(d=d.ptr),this.ptr=pn(d),Ki(Wn)[this.ptr]=this}function _r(d,g,b,P){_n.prepare(),d&&"object"==typeof d&&(d=d.ptr),g=g&&"object"==typeof g?g.ptr:xr(g),b&&"object"==typeof b&&(b=b.ptr),P&&"object"==typeof P&&(P=P.ptr),this.ptr=Rr(d,g,b,P),Ki(_r)[this.ptr]=this}function Sn(d,g,b){_n.prepare(),d&&"object"==typeof d&&(d=d.ptr),g=g&&"object"==typeof g?g.ptr:xr(g),b=b&&"object"==typeof b?b.ptr:xr(b),this.ptr=Ci(d,g,b),Ki(Sn)[this.ptr]=this}return(Et.prototype=Object.create(_o.prototype)).constructor=Et,Et.prototype.__class__=Et,Et.__cache__={},l.VoidPtr=Et,Et.prototype.__destroy__=Et.prototype.__destroy__=function(){$o(this.ptr)},(Wt.prototype=Object.create(_o.prototype)).constructor=Wt,Wt.prototype.__class__=Wt,Wt.__cache__={},l.FileEntry=Wt,Wt.prototype.GetName=Wt.prototype.GetName=function(){return Oe(uo(this.ptr))},Wt.prototype.IsDirectory=Wt.prototype.IsDirectory=function(){return!!Bo(this.ptr)},Wt.prototype.GetSize=Wt.prototype.GetSize=function(){return bi(this.ptr)},Wt.prototype.GetModifiedTS=Wt.prototype.GetModifiedTS=function(){return Pr(this.ptr)},Wt.prototype.GetAttributes=Wt.prototype.GetAttributes=function(){return hs(this.ptr)},Wt.prototype.__destroy__=Wt.prototype.__destroy__=function(){Xa(this.ptr)},(It.prototype=Object.create(_o.prototype)).constructor=It,It.prototype.__class__=It,It.__cache__={},l.Vfs=It,It.prototype.Malloc=It.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),Mt(Oi(this.ptr,d),Et)},It.prototype.Free=It.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),Ja(this.ptr,d)},It.prototype.Nullptr=It.prototype.Nullptr=function(){return Mt(ea(this.ptr),Et)},It.prototype.AllocateImage=It.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),ta(this.ptr,d)},It.prototype.MountImage=It.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!Tl(this.ptr,d)},It.prototype.UnmountImage=It.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Al(this.ptr,d)},It.prototype.SwitchSlot=It.prototype.SwitchSlot=function(d){d&&"object"==typeof d&&(d=d.ptr),Pl(this.ptr,d)},It.prototype.GetPendingImageSize=It.prototype.GetPendingImageSize=function(){return va(this.ptr)},It.prototype.GetSize=It.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),Rl(this.ptr,d)},It.prototype.GetPendingImage=It.prototype.GetPendingImage=function(){return Mt(Vo(this.ptr),Et)},It.prototype.GetImage=It.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),Mt(zn(this.ptr,d),Et)},It.prototype.GetDirtyPages=It.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),Mt(Fl(this.ptr,d),Et)},It.prototype.RenameFile=It.prototype.RenameFile=function(d,g){var b=this.ptr;return _n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),g=g&&"object"==typeof g?g.ptr:xr(g),Ol(b,d,g)},It.prototype.ChmodFile=It.prototype.ChmodFile=function(d,g,b){var P=this.ptr;return _n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),g&&"object"==typeof g&&(g=g.ptr),b&&"object"==typeof b&&(b=b.ptr),hc(P,d,g,b)},It.prototype.StatFile=It.prototype.StatFile=function(d){var g=this.ptr;return _n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),mt(g,d)},It.prototype.UnlinkFile=It.prototype.UnlinkFile=function(d){var g=this.ptr;return _n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),na(g,d)},It.prototype.Mkdir=It.prototype.Mkdir=function(d){var g=this.ptr;return _n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),Er(g,d)},It.prototype.GetEntry=It.prototype.GetEntry=function(){return Mt(Ms(this.ptr),Wt)},It.prototype.BytesFree=It.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),ba(this.ptr,d)},It.prototype.BytesTotal=It.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),go(this.ptr,d)},It.prototype.ReadFile=It.prototype.ReadFile=function(d){var g=this.ptr;return _n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),!!ms(g,d)},It.prototype.GetCurrentFileSize=It.prototype.GetCurrentFileSize=function(){return Ni(this.ptr)},It.prototype.GetCurrentFileContent=It.prototype.GetCurrentFileContent=function(){return Mt(Ca(this.ptr),Et)},It.prototype.ReleaseCurrentFile=It.prototype.ReleaseCurrentFile=function(){Gs(this.ptr)},It.prototype.WriteFile=It.prototype.WriteFile=function(d,g,b){var P=this.ptr;return _n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),g&&"object"==typeof g&&(g=g.ptr),b&&"object"==typeof b&&(b=b.ptr),ra(P,d,g,b)},It.prototype.__destroy__=It.prototype.__destroy__=function(){wa(this.ptr)},(fr.prototype=Object.create(_o.prototype)).constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},l.ReaddirContext=fr,fr.prototype.Next=fr.prototype.Next=function(){return xt(this.ptr)},fr.prototype.GetEntry=fr.prototype.GetEntry=function(){return Mt(oa(this.ptr),Wt)},fr.prototype.GetStatus=fr.prototype.GetStatus=function(){return Do(this.ptr)},fr.prototype.GetError=fr.prototype.GetError=function(){return ur(this.ptr)},fr.prototype.GetErrorDescription=fr.prototype.GetErrorDescription=function(){return Oe(oo(this.ptr))},fr.prototype.__destroy__=fr.prototype.__destroy__=function(){Ur(this.ptr)},(or.prototype=Object.create(_o.prototype)).constructor=or,or.prototype.__class__=or,or.__cache__={},l.CreateZipContext=or,or.prototype.AddFile=or.prototype.AddFile=function(d){var g=this.ptr;return _n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),Mt(_(g,d),or)},or.prototype.AddDirectory=or.prototype.AddDirectory=function(d){var g=this.ptr;return _n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),Mt(w(g,d),or)},or.prototype.Continue=or.prototype.Continue=function(){return F(this.ptr)},or.prototype.GetState=or.prototype.GetState=function(){return G(this.ptr)},or.prototype.GetZipContent=or.prototype.GetZipContent=function(){return Mt(ye(this.ptr),Et)},or.prototype.GetZipSize=or.prototype.GetZipSize=function(){return De(this.ptr)},or.prototype.GetErrorItem=or.prototype.GetErrorItem=function(){return Oe(Ue(this.ptr))},or.prototype.__destroy__=or.prototype.__destroy__=function(){wt(this.ptr)},(Wn.prototype=Object.create(_o.prototype)).constructor=Wn,Wn.prototype.__class__=Wn,Wn.__cache__={},l.DeleteRecursiveContext=Wn,Wn.prototype.AddFile=Wn.prototype.AddFile=function(d){var g=this.ptr;return _n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),Mt(Tn(g,d),Wn)},Wn.prototype.Continue=Wn.prototype.Continue=function(){return An(this.ptr)},Wn.prototype.GetState=Wn.prototype.GetState=function(){return jt(this.ptr)},Wn.prototype.GetFailingPath=Wn.prototype.GetFailingPath=function(){return Oe(zt(this.ptr))},Wn.prototype.__destroy__=Wn.prototype.__destroy__=function(){ee(this.ptr)},(_r.prototype=Object.create(_o.prototype)).constructor=_r,_r.prototype.__class__=_r,_r.__cache__={},l.UnzipContext=_r,_r.prototype.GetState=_r.prototype.GetState=function(){return gn(this.ptr)},_r.prototype.Continue=_r.prototype.Continue=function(){return Kr(this.ptr)},_r.prototype.ContinueWithOverwrite=_r.prototype.ContinueWithOverwrite=function(){return ht(this.ptr)},_r.prototype.GetCurrentEntry=_r.prototype.GetCurrentEntry=function(){return Oe(Ht(this.ptr))},_r.prototype.GetCollisionPath=_r.prototype.GetCollisionPath=function(){return Oe(Xr(this.ptr))},_r.prototype.GetEntriesTotal=_r.prototype.GetEntriesTotal=function(){return Cr(this.ptr)},_r.prototype.GetEntriesSuccess=_r.prototype.GetEntriesSuccess=function(){return ni(this.ptr)},_r.prototype.__destroy__=_r.prototype.__destroy__=function(){gr(this.ptr)},(Sn.prototype=Object.create(_o.prototype)).constructor=Sn,Sn.prototype.__class__=Sn,Sn.__cache__={},l.PasteContext=Sn,Sn.prototype.AddFile=Sn.prototype.AddFile=function(d){var g=this.ptr;return _n.prepare(),d=d&&"object"==typeof d?d.ptr:xr(d),Mt(ru(g,d),Sn)},Sn.prototype.SetDeleteAfterCopy=Sn.prototype.SetDeleteAfterCopy=function(d){return d&&"object"==typeof d&&(d=d.ptr),Mt(ou(this.ptr,d),Sn)},Sn.prototype.GetState=Sn.prototype.GetState=function(){return Li(this.ptr)},Sn.prototype.Continue=Sn.prototype.Continue=function(){return Yi(this.ptr)},Sn.prototype.ContinueWithOverwrite=Sn.prototype.ContinueWithOverwrite=function(){return rr(this.ptr)},Sn.prototype.GetCurrentEntry=Sn.prototype.GetCurrentEntry=function(){return Oe(Sa(this.ptr))},Sn.prototype.GetCollisionPath=Sn.prototype.GetCollisionPath=function(){return Oe(tl(this.ptr))},Sn.prototype.GetEntriesSuccess=Sn.prototype.GetEntriesSuccess=function(){return nl(this.ptr)},Sn.prototype.__destroy__=Sn.prototype.__destroy__=function(){Nl(this.ptr)},I.ready});Be.exports=We},5933:(Be,We,A)=>{"use strict";A.d(We,{c:()=>$e});var I=A(9259),l=A(2286);let re;const z=he=>he.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q=he=>(void 0===re&&(re=void 0===he.style.animationName&&void 0!==he.style.webkitAnimationName?"-webkit-":""),re),L=(he,Z,Y)=>{const fe=Z.startsWith("animation")?Q(he):"";he.style.setProperty(fe+Z,Y)},V=(he,Z)=>{const Y=Z.startsWith("animation")?Q(he):"";he.style.removeProperty(Y+Z)},se=[],Pe=(he=[],Z)=>{if(void 0!==Z){const Y=Array.isArray(Z)?Z:[Z];return[...he,...Y]}return he},$e=he=>{let Z,Y,fe,Fe,de,it,Oe,O,ge,tt,nt,ft,Ae,ce=[],be=[],Ie=[],Qe=!1,Me={},ne=[],je=[],Je={},yt=0,dn=!1,Ze=!1,Ve=!0,q=!1,_e=!0,Tt=!1;const rn=he,Yt=[],Jt=[],j=[],Cn=[],br=[],Jn=[],Xo=[],ao=[],Ti=[],Pn=[],So="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,jn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&So,no=()=>Pn,mn=(R,pe)=>((pe?.oneTimeCallback?Jt:Yt).push({c:R,o:pe}),Ae),us=()=>{if(jn)Pn.forEach(R=>{R.cancel()}),Pn.length=0;else{const R=j.slice();(0,I.r)(()=>{R.forEach(pe=>{V(pe,"animation-name"),V(pe,"animation-duration"),V(pe,"animation-timing-function"),V(pe,"animation-iteration-count"),V(pe,"animation-delay"),V(pe,"animation-play-state"),V(pe,"animation-fill-mode"),V(pe,"animation-direction")})})}},Yr=()=>{br.forEach(R=>{R?.parentNode&&R.parentNode.removeChild(R)}),br.length=0},Bt=()=>void 0!==de?de:Oe?Oe.getFill():"both",E=()=>void 0!==ge?ge:void 0!==it?it:Oe?Oe.getDirection():"normal",S=()=>dn?"linear":void 0!==fe?fe:Oe?Oe.getEasing():"linear",qn=()=>Ze?0:void 0!==tt?tt:void 0!==Y?Y:Oe?Oe.getDuration():0,D=()=>void 0!==Fe?Fe:Oe?Oe.getIterations():1,On=()=>void 0!==nt?nt:void 0!==Z?Z:Oe?Oe.getDelay():0,Ao=()=>{0!==yt&&(yt--,0===yt&&((()=>{mr(),ao.forEach(ot=>ot()),Ti.forEach(ot=>ot());const R=Ve?1:0,pe=ne,xe=je,et=Je;j.forEach(ot=>{const Te=ot.classList;pe.forEach(Vt=>Te.add(Vt)),xe.forEach(Vt=>Te.remove(Vt));for(const Vt in et)et.hasOwnProperty(Vt)&&L(ot,Vt,et[Vt])}),Yt.forEach(ot=>ot.c(R,Ae)),Jt.forEach(ot=>ot.c(R,Ae)),Jt.length=0,_e=!0,Ve&&(q=!0),Ve=!0})(),Oe&&Oe.animationFinish()))},ro=(R=!0)=>{Yr();const pe=(he=>(he.forEach(Z=>{for(const Y in Z)if(Z.hasOwnProperty(Y)){const fe=Z[Y];if("easing"===Y)Z["animation-timing-function"]=fe,delete Z[Y];else{const Fe=z(Y);Fe!==Y&&(Z[Fe]=fe,delete Z[Y])}}}),he))(ce);j.forEach(xe=>{if(pe.length>0){const et=((he=[])=>he.map(Z=>{const Y=Z.offset,fe=[];for(const Fe in Z)Z.hasOwnProperty(Fe)&&"offset"!==Fe&&fe.push(`${Fe}: ${Z[Fe]};`);return`${100*Y}% { ${fe.join(" ")} }`}).join(" "))(pe);ft=void 0!==he?he:(he=>{let Z=se.indexOf(he);return Z<0&&(Z=se.push(he)-1),`ion-animation-${Z}`})(et);const ot=((he,Z,Y)=>{var fe;const Fe=(he=>{const Z=void 0!==he.getRootNode?he.getRootNode():he;return Z.head||Z})(Y),de=Q(Y),it=Fe.querySelector("#"+he);if(it)return it;const ce=(null!==(fe=Y.ownerDocument)&&void 0!==fe?fe:document).createElement("style");return ce.id=he,ce.textContent=`@${de}keyframes ${he} { ${Z} } @${de}keyframes ${he}-alt { ${Z} }`,Fe.appendChild(ce),ce})(ft,et,xe);br.push(ot),L(xe,"animation-duration",`${qn()}ms`),L(xe,"animation-timing-function",S()),L(xe,"animation-delay",`${On()}ms`),L(xe,"animation-fill-mode",Bt()),L(xe,"animation-direction",E());const Te=D()===1/0?"infinite":D().toString();L(xe,"animation-iteration-count",Te),L(xe,"animation-play-state","paused"),R&&L(xe,"animation-name",`${ot.id}-alt`),(0,I.r)(()=>{L(xe,"animation-name",ot.id||null)})}})},di=(R=!0)=>{(()=>{Jn.forEach(et=>et()),Xo.forEach(et=>et());const R=be,pe=Ie,xe=Me;j.forEach(et=>{const ot=et.classList;R.forEach(Te=>ot.add(Te)),pe.forEach(Te=>ot.remove(Te));for(const Te in xe)xe.hasOwnProperty(Te)&&L(et,Te,xe[Te])})})(),ce.length>0&&(jn?(j.forEach(R=>{const pe=R.animate(ce,{id:rn,delay:On(),duration:qn(),easing:S(),iterations:D(),fill:Bt(),direction:E()});pe.pause(),Pn.push(pe)}),Pn.length>0&&(Pn[0].onfinish=()=>{Ao()})):ro(R)),Qe=!0},Lo=R=>{if(R=Math.min(Math.max(R,0),.9999),jn)Pn.forEach(pe=>{pe.currentTime=pe.effect.getComputedTiming().delay+qn()*R,pe.pause()});else{const pe=`-${qn()*R}ms`;j.forEach(xe=>{ce.length>0&&(L(xe,"animation-delay",pe),L(xe,"animation-play-state","paused"))})}},mo=R=>{Pn.forEach(pe=>{pe.effect.updateTiming({delay:On(),duration:qn(),easing:S(),iterations:D(),fill:Bt(),direction:E()})}),void 0!==R&&Lo(R)},fs=(R=!0,pe)=>{(0,I.r)(()=>{j.forEach(xe=>{L(xe,"animation-name",ft||null),L(xe,"animation-duration",`${qn()}ms`),L(xe,"animation-timing-function",S()),L(xe,"animation-delay",void 0!==pe?`-${pe*qn()}ms`:`${On()}ms`),L(xe,"animation-fill-mode",Bt()||null),L(xe,"animation-direction",E()||null);const et=D()===1/0?"infinite":D().toString();L(xe,"animation-iteration-count",et),R&&L(xe,"animation-name",`${ft}-alt`),(0,I.r)(()=>{L(xe,"animation-name",ft||null)})})})},Eo=(R=!1,pe=!0,xe)=>(R&&Cn.forEach(et=>{et.update(R,pe,xe)}),jn?mo(xe):fs(pe,xe),Ae),ps=()=>{Qe&&(jn?Pn.forEach(R=>{R.pause()}):j.forEach(R=>{L(R,"animation-play-state","paused")}),Tt=!0)},Hs=()=>{O=void 0,Ao()},mr=()=>{O&&clearTimeout(O)},T=R=>new Promise(pe=>{R?.sync&&(Ze=!0,mn(()=>Ze=!1,{oneTimeCallback:!0})),Qe||di(),q&&(jn?(Lo(0),mo()):fs(),q=!1),_e&&(yt=Cn.length+1,_e=!1),mn(()=>pe(),{oneTimeCallback:!0}),Cn.forEach(xe=>{xe.play()}),jn?(Pn.forEach(R=>{R.play()}),(0===ce.length||0===j.length)&&Ao()):(()=>{if(mr(),(0,I.r)(()=>{j.forEach(R=>{ce.length>0&&L(R,"animation-play-state","running")})}),0===ce.length||0===j.length)Ao();else{const R=On()||0,pe=qn()||0,xe=D()||1;isFinite(xe)&&(O=setTimeout(Hs,R+pe*xe+100)),((he,Z)=>{let Y;const fe={passive:!0},de=it=>{he===it.target&&(Y&&Y(),mr(),(0,I.r)(()=>{j.forEach(R=>{V(R,"animation-duration"),V(R,"animation-delay"),V(R,"animation-play-state")}),(0,I.r)(Ao)}))};he&&(he.addEventListener("webkitAnimationEnd",de,fe),he.addEventListener("animationend",de,fe),Y=()=>{he.removeEventListener("webkitAnimationEnd",de,fe),he.removeEventListener("animationend",de,fe)})})(j[0])}})(),Tt=!1}),me=(R,pe)=>{const xe=ce[0];return void 0===xe||void 0!==xe.offset&&0!==xe.offset?ce=[{offset:0,[R]:pe},...ce]:xe[R]=pe,Ae};return Ae={parentAnimation:Oe,elements:j,childAnimations:Cn,id:rn,animationFinish:Ao,from:me,to:(R,pe)=>{const xe=ce[ce.length-1];return void 0===xe||void 0!==xe.offset&&1!==xe.offset?ce=[...ce,{offset:1,[R]:pe}]:xe[R]=pe,Ae},fromTo:(R,pe,xe)=>me(R,pe).to(R,xe),parent:R=>(Oe=R,Ae),play:T,pause:()=>(Cn.forEach(R=>{R.pause()}),ps(),Ae),stop:()=>{Cn.forEach(R=>{R.stop()}),Qe&&(us(),Qe=!1),dn=!1,Ze=!1,_e=!0,ge=void 0,tt=void 0,nt=void 0,yt=0,q=!1,Ve=!0,Tt=!1},destroy:R=>(Cn.forEach(pe=>{pe.destroy(R)}),(R=>{us(),R&&Yr()})(R),j.length=0,Cn.length=0,ce.length=0,Yt.length=0,Jt.length=0,Qe=!1,_e=!0,Ae),keyframes:R=>{const pe=ce!==R;return ce=R,pe&&(R=>{jn?no().forEach(pe=>{if(pe.effect.setKeyframes)pe.effect.setKeyframes(R);else{const xe=new KeyframeEffect(pe.effect.target,R,pe.effect.getTiming());pe.effect=xe}}):ro()})(ce),Ae},addAnimation:R=>{if(null!=R)if(Array.isArray(R))for(const pe of R)pe.parent(Ae),Cn.push(pe);else R.parent(Ae),Cn.push(R);return Ae},addElement:R=>{if(null!=R)if(1===R.nodeType)j.push(R);else if(R.length>=0)for(let pe=0;pe<R.length;pe++)j.push(R[pe]);else console.error("Invalid addElement value");return Ae},update:Eo,fill:R=>(de=R,Eo(!0),Ae),direction:R=>(it=R,Eo(!0),Ae),iterations:R=>(Fe=R,Eo(!0),Ae),duration:R=>(!jn&&0===R&&(R=1),Y=R,Eo(!0),Ae),easing:R=>(fe=R,Eo(!0),Ae),delay:R=>(Z=R,Eo(!0),Ae),getWebAnimations:no,getKeyframes:()=>ce,getFill:Bt,getDirection:E,getDelay:On,getIterations:D,getEasing:S,getDuration:qn,afterAddRead:R=>(ao.push(R),Ae),afterAddWrite:R=>(Ti.push(R),Ae),afterClearStyles:(R=[])=>{for(const pe of R)Je[pe]="";return Ae},afterStyles:(R={})=>(Je=R,Ae),afterRemoveClass:R=>(je=Pe(je,R),Ae),afterAddClass:R=>(ne=Pe(ne,R),Ae),beforeAddRead:R=>(Jn.push(R),Ae),beforeAddWrite:R=>(Xo.push(R),Ae),beforeClearStyles:(R=[])=>{for(const pe of R)Me[pe]="";return Ae},beforeStyles:(R={})=>(Me=R,Ae),beforeRemoveClass:R=>(Ie=Pe(Ie,R),Ae),beforeAddClass:R=>(be=Pe(be,R),Ae),onFinish:mn,isRunning:()=>0!==yt&&!Tt,progressStart:(R=!1,pe)=>(Cn.forEach(xe=>{xe.progressStart(R,pe)}),ps(),dn=R,Qe||di(),Eo(!1,!0,pe),Ae),progressStep:R=>(Cn.forEach(pe=>{pe.progressStep(R)}),Lo(R),Ae),progressEnd:(R,pe,xe)=>(dn=!1,Cn.forEach(et=>{et.progressEnd(R,pe,xe)}),void 0!==xe&&(tt=xe),q=!1,Ve=!0,0===R?(ge="reverse"===E()?"normal":"reverse","reverse"===ge&&(Ve=!1),jn?(Eo(),Lo(1-pe)):(nt=(1-pe)*qn()*-1,Eo(!1,!1))):1===R&&(jn?(Eo(),Lo(pe)):(nt=pe*qn()*-1,Eo(!1,!1))),void 0!==R&&(mn(()=>{tt=void 0,ge=void 0,nt=void 0},{oneTimeCallback:!0}),Oe||T()),Ae)}}},6379:(Be,We,A)=>{"use strict";A.d(We,{G:()=>z});class l{constructor(L,V,ue,X,se){this.id=V,this.name=ue,this.disableScroll=se,this.priority=1e6*X+V,this.ctrl=L}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const L=this.ctrl.capture(this.name,this.id,this.priority);return L&&this.disableScroll&&this.ctrl.disableScroll(this.id),L}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class re{constructor(L,V,ue,X){this.id=V,this.disable=ue,this.disableScroll=X,this.ctrl=L}block(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.disableGesture(L,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.enableGesture(L,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const te="backdrop-no-scroll",z=new class I{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(L){var V;return new l(this,this.newID(),L.name,null!==(V=L.priority)&&void 0!==V?V:0,!!L.disableScroll)}createBlocker(L={}){return new re(this,this.newID(),L.disable,!!L.disableScroll)}start(L,V,ue){return this.canStart(L)?(this.requestedStart.set(V,ue),!0):(this.requestedStart.delete(V),!1)}capture(L,V,ue){if(!this.start(L,V,ue))return!1;const X=this.requestedStart;let se=-1e4;if(X.forEach(B=>{se=Math.max(se,B)}),se===ue){this.capturedId=V,X.clear();const B=new CustomEvent("ionGestureCaptured",{detail:{gestureName:L}});return document.dispatchEvent(B),!0}return X.delete(V),!1}release(L){this.requestedStart.delete(L),this.capturedId===L&&(this.capturedId=void 0)}disableGesture(L,V){let ue=this.disabledGestures.get(L);void 0===ue&&(ue=new Set,this.disabledGestures.set(L,ue)),ue.add(V)}enableGesture(L,V){const ue=this.disabledGestures.get(L);void 0!==ue&&ue.delete(V)}disableScroll(L){this.disabledScroll.add(L),1===this.disabledScroll.size&&document.body.classList.add(te)}enableScroll(L){this.disabledScroll.delete(L),0===this.disabledScroll.size&&document.body.classList.remove(te)}canStart(L){return!(void 0!==this.capturedId||this.isDisabled(L))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(L){const V=this.disabledGestures.get(L);return!!(V&&V.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Be,We,A)=>{"use strict";A.r(We),A.d(We,{MENU_BACK_BUTTON_PRIORITY:()=>z,OVERLAY_BACK_BUTTON_PRIORITY:()=>te,blockHardwareBackButton:()=>l,startHardwareBackButton:()=>re});var I=A(3918);const l=()=>{document.addEventListener("backbutton",()=>{})},re=()=>{const Q=document;let L=!1;Q.addEventListener("backbutton",()=>{if(L)return;let V=0,ue=[];const X=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register($,U){ue.push({priority:$,handler:U,id:V++})}}});Q.dispatchEvent(X);const se=function(){var $=(0,I.Z)(function*(U){try{if(U?.handler){const Pe=U.handler(B);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return $.apply(this,arguments)}}(),B=()=>{if(ue.length>0){let $={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ue.forEach(U=>{U.priority>=$.priority&&($=U)}),L=!0,ue=ue.filter(U=>U.id!==$.id),se($).then(()=>L=!1)}};B()})},te=100,z=99},9259:(Be,We,A)=>{"use strict";A.d(We,{a:()=>L,b:()=>V,c:()=>re,d:()=>U,e:()=>Pe,f:()=>$,g:()=>ue,h:()=>Fe,i:()=>Q,j:()=>te,k:()=>B,l:()=>$e,m:()=>se,n:()=>he,o:()=>fe,p:()=>Y,q:()=>de,r:()=>X,s:()=>it,t:()=>I,u:()=>Z});const I=(ce,be=0)=>new Promise(Ie=>{l(ce,be,Ie)}),l=(ce,be=0,Ie)=>{let Qe,Oe;const Me={passive:!0},je=()=>{Qe&&Qe()},Je=yt=>{(void 0===yt||ce===yt.target)&&(je(),Ie(yt))};return ce&&(ce.addEventListener("webkitTransitionEnd",Je,Me),ce.addEventListener("transitionend",Je,Me),Oe=setTimeout(Je,be+500),Qe=()=>{Oe&&(clearTimeout(Oe),Oe=void 0),ce.removeEventListener("webkitTransitionEnd",Je,Me),ce.removeEventListener("transitionend",Je,Me)}),je},re=(ce,be)=>{ce.componentOnReady?ce.componentOnReady().then(Ie=>be(Ie)):X(()=>be(ce))},te=(ce,be=[])=>{const Ie={};return be.forEach(Qe=>{ce.hasAttribute(Qe)&&(null!==ce.getAttribute(Qe)&&(Ie[Qe]=ce.getAttribute(Qe)),ce.removeAttribute(Qe))}),Ie},z=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Q=(ce,be)=>{let Ie=z;return be&&be.length>0&&(Ie=Ie.filter(Qe=>!be.includes(Qe))),te(ce,Ie)},L=(ce,be,Ie,Qe)=>{var Oe;if(typeof window<"u"){const ne=null===(Oe=window?.Ionic)||void 0===Oe?void 0:Oe.config;if(ne){const je=ne.get("_ael");if(je)return je(ce,be,Ie,Qe);if(ne._ael)return ne._ael(ce,be,Ie,Qe)}}return ce.addEventListener(be,Ie,Qe)},V=(ce,be,Ie,Qe)=>{var Oe;if(typeof window<"u"){const ne=null===(Oe=window?.Ionic)||void 0===Oe?void 0:Oe.config;if(ne){const je=ne.get("_rel");if(je)return je(ce,be,Ie,Qe);if(ne._rel)return ne._rel(ce,be,Ie,Qe)}}return ce.removeEventListener(be,Ie,Qe)},ue=(ce,be=ce)=>ce.shadowRoot||be,X=ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(ce):setTimeout(ce),se=ce=>!!ce.shadowRoot&&!!ce.attachShadow,B=ce=>{const be=ce.closest("ion-item");return be?be.querySelector("ion-label"):null},$=ce=>{if(ce.focus(),ce.classList.contains("ion-focusable")){const be=ce.closest("ion-app");be&&be.setFocus([ce])}},U=(ce,be)=>{let Ie;const Qe=ce.getAttribute("aria-labelledby"),Oe=ce.id;let Me=null!==Qe&&""!==Qe.trim()?Qe:be+"-lbl",ne=null!==Qe&&""!==Qe.trim()?document.getElementById(Qe):B(ce);return ne?(null===Qe&&(ne.id=Me),Ie=ne.textContent,ne.setAttribute("aria-hidden","true")):""!==Oe.trim()&&(ne=document.querySelector(`label[for="${Oe}"]`),ne&&(""!==ne.id?Me=ne.id:ne.id=Me=`${Oe}-lbl`,Ie=ne.textContent)),{label:ne,labelId:Me,labelText:Ie}},Pe=(ce,be,Ie,Qe,Oe)=>{if(ce||se(be)){let Me=be.querySelector("input.aux-input");Me||(Me=be.ownerDocument.createElement("input"),Me.type="hidden",Me.classList.add("aux-input"),be.appendChild(Me)),Me.disabled=Oe,Me.name=Ie,Me.value=Qe||""}},$e=(ce,be,Ie)=>Math.max(ce,Math.min(be,Ie)),he=(ce,be)=>{if(!ce){const Ie="ASSERT: "+be;throw console.error(Ie),new Error(Ie)}},Z=ce=>ce.timeStamp||Date.now(),Y=ce=>{if(ce){const be=ce.changedTouches;if(be&&be.length>0){const Ie=be[0];return{x:Ie.clientX,y:Ie.clientY}}if(void 0!==ce.pageX)return{x:ce.pageX,y:ce.pageY}}return{x:0,y:0}},fe=ce=>{const be="rtl"===document.dir;switch(ce){case"start":return be;case"end":return!be;default:throw new Error(`"${ce}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Fe=(ce,be)=>{const Ie=ce._original||ce;return{_original:ce,emit:de(Ie.emit.bind(Ie),be)}},de=(ce,be=0)=>{let Ie;return(...Qe)=>{clearTimeout(Ie),Ie=setTimeout(ce,be,...Qe)}},it=(ce,be)=>{if(ce??(ce={}),be??(be={}),ce===be)return!0;const Ie=Object.keys(ce);if(Ie.length!==Object.keys(be).length)return!1;for(const Qe of Ie)if(!(Qe in be)||ce[Qe]!==be[Qe])return!1;return!0}},609:(Be,We,A)=>{"use strict";A.d(We,{L:()=>te,a:()=>z,b:()=>Q,c:()=>L,d:()=>V,e:()=>be,g:()=>Oe,l:()=>it,s:()=>Ie,t:()=>se});var I=A(3918),l=A(1559),re=A(9259);const te="ionViewWillEnter",z="ionViewDidEnter",Q="ionViewWillLeave",L="ionViewDidLeave",V="ionViewWillUnload",se=Me=>new Promise((ne,je)=>{(0,l.c)(()=>{B(Me),$(Me).then(Je=>{Je.animation&&Je.animation.destroy(),U(Me),ne(Je)},Je=>{U(Me),je(Je)})})}),B=Me=>{const ne=Me.enteringEl,je=Me.leavingEl;Qe(ne,je,Me.direction),Me.showGoBack?ne.classList.add("can-go-back"):ne.classList.remove("can-go-back"),Ie(ne,!1),ne.style.setProperty("pointer-events","none"),je&&(Ie(je,!1),je.style.setProperty("pointer-events","none"))},$=function(){var Me=(0,I.Z)(function*(ne){const je=yield Pe(ne);return je&&l.B.isBrowser?$e(je,ne):he(ne)});return function(je){return Me.apply(this,arguments)}}(),U=Me=>{const ne=Me.enteringEl,je=Me.leavingEl;ne.classList.remove("ion-page-invisible"),ne.style.removeProperty("pointer-events"),void 0!==je&&(je.classList.remove("ion-page-invisible"),je.style.removeProperty("pointer-events"))},Pe=function(){var Me=(0,I.Z)(function*(ne){return ne.leavingEl&&ne.animated&&0!==ne.duration?ne.animationBuilder?ne.animationBuilder:"ios"===ne.mode?(yield Promise.resolve().then(A.bind(A,9078))).iosTransitionAnimation:(yield Promise.resolve().then(A.bind(A,4199))).mdTransitionAnimation:void 0});return function(je){return Me.apply(this,arguments)}}(),$e=function(){var Me=(0,I.Z)(function*(ne,je){yield Z(je,!0);const Je=ne(je.baseEl,je);Fe(je.enteringEl,je.leavingEl);const yt=yield fe(Je,je);return je.progressCallback&&je.progressCallback(void 0),yt&&de(je.enteringEl,je.leavingEl),{hasCompleted:yt,animation:Je}});return function(je,Je){return Me.apply(this,arguments)}}(),he=function(){var Me=(0,I.Z)(function*(ne){const je=ne.enteringEl,Je=ne.leavingEl;return yield Z(ne,!1),Fe(je,Je),de(je,Je),{hasCompleted:!0}});return function(je){return Me.apply(this,arguments)}}(),Z=function(){var Me=(0,I.Z)(function*(ne,je){const yt=(void 0!==ne.deepWait?ne.deepWait:je)?[be(ne.enteringEl),be(ne.leavingEl)]:[ce(ne.enteringEl),ce(ne.leavingEl)];yield Promise.all(yt),yield Y(ne.viewIsReady,ne.enteringEl)});return function(je,Je){return Me.apply(this,arguments)}}(),Y=function(){var Me=(0,I.Z)(function*(ne,je){ne&&(yield ne(je))});return function(je,Je){return Me.apply(this,arguments)}}(),fe=(Me,ne)=>{const je=ne.progressCallback,Je=new Promise(yt=>{Me.onFinish(dn=>yt(1===dn))});return je?(Me.progressStart(!0),je(Me)):Me.play(),Je},Fe=(Me,ne)=>{it(ne,Q),it(Me,te)},de=(Me,ne)=>{it(Me,z),it(ne,L)},it=(Me,ne)=>{if(Me){const je=new CustomEvent(ne,{bubbles:!1,cancelable:!1});Me.dispatchEvent(je)}},ce=Me=>Me?new Promise(ne=>(0,re.c)(Me,ne)):Promise.resolve(),be=function(){var Me=(0,I.Z)(function*(ne){const je=ne;if(je){if(null!=je.componentOnReady){if(null!=(yield je.componentOnReady()))return}else if(null!=je.__registerHost)return void(yield new Promise(yt=>(0,re.r)(yt)));yield Promise.all(Array.from(je.children).map(be))}});return function(je){return Me.apply(this,arguments)}}(),Ie=(Me,ne)=>{ne?(Me.setAttribute("aria-hidden","true"),Me.classList.add("ion-page-hidden")):(Me.hidden=!1,Me.removeAttribute("aria-hidden"),Me.classList.remove("ion-page-hidden"))},Qe=(Me,ne,je)=>{void 0!==Me&&(Me.style.zIndex="back"===je?"99":"101"),void 0!==ne&&(ne.style.zIndex="100")},Oe=Me=>Me.classList.contains("ion-page")?Me:Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Me},7351:(Be,We,A)=>{"use strict";A.d(We,{m:()=>se});var I=A(3918),l=A(159),re=A(9259),te=A(5823),z=A(5933);const Q=B=>(0,z.c)().duration(B?400:300),L=B=>{let $,U;const Pe=B.width+8,$e=(0,z.c)(),he=(0,z.c)();B.isEndSide?($=Pe+"px",U="0px"):($=-Pe+"px",U="0px"),$e.addElement(B.menuInnerEl).fromTo("transform",`translateX(${$})`,`translateX(${U})`);const Y="ios"===(0,te.b)(B),fe=Y?.2:.25;return he.addElement(B.backdropEl).fromTo("opacity",.01,fe),Q(Y).addAnimation([$e,he])},V=B=>{let $,U;const Pe=(0,te.b)(B),$e=B.width;B.isEndSide?($=-$e+"px",U=$e+"px"):($=$e+"px",U=-$e+"px");const he=(0,z.c)().addElement(B.menuInnerEl).fromTo("transform",`translateX(${U})`,"translateX(0px)"),Z=(0,z.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${$})`),Y=(0,z.c)().addElement(B.backdropEl).fromTo("opacity",.01,.32);return Q("ios"===Pe).addAnimation([he,Z,Y])},ue=B=>{const $=(0,te.b)(B),U=B.width*(B.isEndSide?-1:1)+"px",Pe=(0,z.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${U})`);return Q("ios"===$).addAnimation(Pe)},se=(()=>{const B=new Map,$=[],U=function(){var O=(0,I.Z)(function*(ge){const tt=yield Fe(ge);return!!tt&&tt.open()});return function(tt){return O.apply(this,arguments)}}(),Pe=function(){var O=(0,I.Z)(function*(ge){const tt=yield void 0!==ge?Fe(ge):de();return void 0!==tt&&tt.close()});return function(tt){return O.apply(this,arguments)}}(),$e=function(){var O=(0,I.Z)(function*(ge){const tt=yield Fe(ge);return!!tt&&tt.toggle()});return function(tt){return O.apply(this,arguments)}}(),he=function(){var O=(0,I.Z)(function*(ge,tt){const nt=yield Fe(tt);return nt&&(nt.disabled=!ge),nt});return function(tt,nt){return O.apply(this,arguments)}}(),Z=function(){var O=(0,I.Z)(function*(ge,tt){const nt=yield Fe(tt);return nt&&(nt.swipeGesture=ge),nt});return function(tt,nt){return O.apply(this,arguments)}}(),Y=function(){var O=(0,I.Z)(function*(ge){if(null!=ge){const tt=yield Fe(ge);return void 0!==tt&&tt.isOpen()}return void 0!==(yield de())});return function(tt){return O.apply(this,arguments)}}(),fe=function(){var O=(0,I.Z)(function*(ge){const tt=yield Fe(ge);return!!tt&&!tt.disabled});return function(tt){return O.apply(this,arguments)}}(),Fe=function(){var O=(0,I.Z)(function*(ge){return yield Ze(),"start"===ge||"end"===ge?dn(Ve=>Ve.side===ge&&!Ve.disabled)||dn(Ve=>Ve.side===ge):null!=ge?dn(nt=>nt.menuId===ge):dn(nt=>!nt.disabled)||($.length>0?$[0].el:void 0)});return function(tt){return O.apply(this,arguments)}}(),de=function(){var O=(0,I.Z)(function*(){return yield Ze(),je()});return function(){return O.apply(this,arguments)}}(),it=function(){var O=(0,I.Z)(function*(){return yield Ze(),Je()});return function(){return O.apply(this,arguments)}}(),ce=function(){var O=(0,I.Z)(function*(){return yield Ze(),yt()});return function(){return O.apply(this,arguments)}}(),be=(O,ge)=>{B.set(O,ge)},Oe=O=>{const ge=O.side;$.filter(tt=>tt.side===ge&&tt!==O).forEach(tt=>tt.disabled=!0)},Me=function(){var O=(0,I.Z)(function*(ge,tt,nt){if(yt())return!1;if(tt){const Ve=yield de();Ve&&ge.el!==Ve&&(yield Ve.setOpen(!1,!1))}return ge._setOpen(tt,nt)});return function(tt,nt,Ve){return O.apply(this,arguments)}}(),je=()=>dn(O=>O._isOpen),Je=()=>$.map(O=>O.el),yt=()=>$.some(O=>O.isAnimating),dn=O=>{const ge=$.find(O);if(void 0!==ge)return ge.el},Ze=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(O=>new Promise(ge=>(0,re.c)(O,ge))));return be("reveal",ue),be("push",V),be("overlay",L),typeof document<"u"&&document.addEventListener("ionBackButton",O=>{const ge=je();ge&&O.detail.register(l.MENU_BACK_BUTTON_PRIORITY,()=>ge.close())}),{registerAnimation:be,get:Fe,getMenus:it,getOpen:de,isEnabled:fe,swipeGesture:Z,isAnimating:ce,isOpen:Y,enable:he,toggle:$e,close:Pe,open:U,_getOpenSync:je,_createAnimation:(O,ge)=>{const tt=B.get(O);if(!tt)throw new Error("animation not registered");return tt(ge)},_register:O=>{$.indexOf(O)<0&&(O.disabled||Oe(O),$.push(O))},_unregister:O=>{const ge=$.indexOf(O);ge>-1&&$.splice(ge,1)},_setOpen:Me,_setActiveMenu:Oe}})()},2286:(Be,We,A)=>{"use strict";A.d(We,{w:()=>I});const I=typeof window<"u"?window:void 0},8759:(Be,We,A)=>{"use strict";A.r(We),A.d(We,{GESTURE_CONTROLLER:()=>I.G,createGesture:()=>ue});var I=A(6379);const l=($,U,Pe,$e)=>{const he=re($)?{capture:!!$e.capture,passive:!!$e.passive}:!!$e.capture;let Z,Y;return $.__zone_symbol__addEventListener?(Z="__zone_symbol__addEventListener",Y="__zone_symbol__removeEventListener"):(Z="addEventListener",Y="removeEventListener"),$[Z](U,Pe,he),()=>{$[Y](U,Pe,he)}},re=$=>{if(void 0===te)try{const U=Object.defineProperty({},"passive",{get:()=>{te=!0}});$.addEventListener("optsTest",()=>{},U)}catch{te=!1}return!!te};let te;const L=$=>$ instanceof Document?$:$.ownerDocument,ue=$=>{let U=!1,Pe=!1,$e=!0,he=!1;const Z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},$),Y=Z.canStart,fe=Z.onWillStart,Fe=Z.onStart,de=Z.onEnd,it=Z.notCaptured,ce=Z.onMove,be=Z.threshold,Ie=Z.passive,Qe=Z.blurOnStart,Oe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Me=(($,U,Pe)=>{const $e=Pe*(Math.PI/180),he="x"===$,Z=Math.cos($e),Y=U*U;let fe=0,Fe=0,de=!1,it=0;return{start(ce,be){fe=ce,Fe=be,it=0,de=!0},detect(ce,be){if(!de)return!1;const Ie=ce-fe,Qe=be-Fe,Oe=Ie*Ie+Qe*Qe;if(Oe<Y)return!1;const Me=Math.sqrt(Oe),ne=(he?Ie:Qe)/Me;return it=ne>Z?1:ne<-Z?-1:0,de=!1,!0},isGesture:()=>0!==it,getDirection:()=>it}})(Z.direction,Z.threshold,Z.maxAngle),ne=I.G.createGesture({name:$.gestureName,priority:$.gesturePriority,disableScroll:$.disableScroll}),yt=()=>{U&&(he=!1,ce&&ce(Oe))},dn=()=>!!ne.capture()&&(U=!0,$e=!1,Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime,fe?fe(Oe).then(O):O(),!0),O=()=>{Qe&&(()=>{if(typeof document<"u"){const q=document.activeElement;q?.blur&&q.blur()}})(),Fe&&Fe(Oe),$e=!0},ge=()=>{U=!1,Pe=!1,he=!1,$e=!0,ne.release()},tt=q=>{const _e=U,ft=$e;if(ge(),ft){if(X(Oe,q),_e)return void(de&&de(Oe));it&&it(Oe)}},nt=(($,U,Pe,$e,he)=>{let Z,Y,fe,Fe,de,it,ce,be=0;const Ie=Ze=>{be=Date.now()+2e3,U(Ze)&&(!Y&&Pe&&(Y=l($,"touchmove",Pe,he)),fe||(fe=l(Ze.target,"touchend",Oe,he)),Fe||(Fe=l(Ze.target,"touchcancel",Oe,he)))},Qe=Ze=>{be>Date.now()||U(Ze)&&(!it&&Pe&&(it=l(L($),"mousemove",Pe,he)),ce||(ce=l(L($),"mouseup",Me,he)))},Oe=Ze=>{ne(),$e&&$e(Ze)},Me=Ze=>{je(),$e&&$e(Ze)},ne=()=>{Y&&Y(),fe&&fe(),Fe&&Fe(),Y=fe=Fe=void 0},je=()=>{it&&it(),ce&&ce(),it=ce=void 0},Je=()=>{ne(),je()},yt=(Ze=!0)=>{Ze?(Z||(Z=l($,"touchstart",Ie,he)),de||(de=l($,"mousedown",Qe,he))):(Z&&Z(),de&&de(),Z=de=void 0,Je())};return{enable:yt,stop:Je,destroy:()=>{yt(!1),$e=Pe=U=void 0}}})(Z.el,q=>{const _e=B(q);return!(Pe||!$e||(se(q,Oe),Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime=_e,Oe.velocityX=Oe.velocityY=Oe.deltaX=Oe.deltaY=0,Oe.event=q,Y&&!1===Y(Oe))||(ne.release(),!ne.start()))&&(Pe=!0,0===be?dn():(Me.start(Oe.startX,Oe.startY),!0))},q=>{U?!he&&$e&&(he=!0,X(Oe,q),requestAnimationFrame(yt)):(X(Oe,q),Me.detect(Oe.currentX,Oe.currentY)&&(!Me.isGesture()||!dn())&&Ve())},tt,{capture:!1,passive:Ie}),Ve=()=>{ge(),nt.stop(),it&&it(Oe)};return{enable(q=!0){q||(U&&tt(void 0),ge()),nt.enable(q)},destroy(){ne.destroy(),nt.destroy()}}},X=($,U)=>{if(!U)return;const Pe=$.currentX,$e=$.currentY,he=$.currentTime;se(U,$);const Z=$.currentX,Y=$.currentY,Fe=($.currentTime=B(U))-he;if(Fe>0&&Fe<100){const it=(Y-$e)/Fe;$.velocityX=(Z-Pe)/Fe*.7+.3*$.velocityX,$.velocityY=.7*it+.3*$.velocityY}$.deltaX=Z-$.startX,$.deltaY=Y-$.startY,$.event=U},se=($,U)=>{let Pe=0,$e=0;if($){const he=$.changedTouches;if(he&&he.length>0){const Z=he[0];Pe=Z.clientX,$e=Z.clientY}else void 0!==$.pageX&&(Pe=$.pageX,$e=$.pageY)}U.currentX=Pe,U.currentY=$e},B=$=>$.timeStamp||Date.now()},1559:(Be,We,A)=>{"use strict";A.d(We,{B:()=>nr,H:()=>j,a:()=>Ve,b:()=>_i,c:()=>qi,e:()=>Gt,f:()=>xs,g:()=>q,h:()=>Yt,i:()=>Bn,j:()=>E,k:()=>ui,p:()=>$e,r:()=>ds,s:()=>U});var I=A(3918);let re,te,z,Q=!1,L=!1,V=!1,ue=!1,X=!1;const se=typeof window<"u"?window:{},B=se.document||{head:{}},$={$flags$:0,$resourcesUrl$:"",jmp:T=>T(),raf:T=>requestAnimationFrame(T),ael:(T,N,me,Ee)=>T.addEventListener(N,me,Ee),rel:(T,N,me,Ee)=>T.removeEventListener(N,me,Ee),ce:(T,N)=>new CustomEvent(T,N)},U=T=>{Object.assign($,T)},$e=T=>Promise.resolve(T),he=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Z=(T,N,me,Ee)=>{me&&me.map(([Ne,R,pe])=>{const xe=fe(T,Ne),et=Y(N,pe),ot=Fe(Ne);$.ael(xe,R,et,ot),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>$.rel(xe,R,et,ot))})},Y=(T,N)=>me=>{try{256&T.$flags$?T.$lazyInstance$[N](me):(T.$queuedListeners$=T.$queuedListeners$||[]).push([N,me])}catch(Ee){mo(Ee)}},fe=(T,N)=>4&N?B:8&N?se:16&N?B.body:T,Fe=T=>0!=(2&T),Ie="s-id",Qe="sty-id",ne="http://www.w3.org/1999/xlink",yt=new WeakMap,dn=(T,N,me)=>{let Ee=Fi.get(T);he&&me?(Ee=Ee||new CSSStyleSheet,"string"==typeof Ee?Ee=N:Ee.replaceSync(N)):Ee=N,Fi.set(T,Ee)},Ze=(T,N,me,Ee)=>{let Ne=ge(N,me);const R=Fi.get(Ne);if(T=11===T.nodeType?T:B,R)if("string"==typeof R){let xe,pe=yt.get(T=T.head||T);pe||yt.set(T,pe=new Set),pe.has(Ne)||(T.host&&(xe=T.querySelector(`[${Qe}="${Ne}"]`))?xe.innerHTML=R:(xe=B.createElement("style"),xe.innerHTML=R,T.insertBefore(xe,T.querySelector("link"))),pe&&pe.add(Ne))}else T.adoptedStyleSheets.includes(R)||(T.adoptedStyleSheets=[...T.adoptedStyleSheets,R]);return Ne},ge=(T,N)=>"sc-"+(N&&32&T.$flags$?T.$tagName$+"-"+N:T.$tagName$),tt=T=>T.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ve=T=>ks.push(T),q=T=>ro(T).$modeName$,_e={},rn=T=>"object"==(T=typeof T)||"function"===T,Yt=(T,N,...me)=>{let Ee=null,Ne=null,R=null,pe=!1,xe=!1;const et=[],ot=Vt=>{for(let Ct=0;Ct<Vt.length;Ct++)Ee=Vt[Ct],Array.isArray(Ee)?ot(Ee):null!=Ee&&"boolean"!=typeof Ee&&((pe="function"!=typeof T&&!rn(Ee))&&(Ee=String(Ee)),pe&&xe?et[et.length-1].$text$+=Ee:et.push(pe?Jt(null,Ee):Ee),xe=pe)};if(ot(me),N){N.key&&(Ne=N.key),N.name&&(R=N.name);{const Vt=N.className||N.class;Vt&&(N.class="object"!=typeof Vt?Vt:Object.keys(Vt).filter(Ct=>Vt[Ct]).join(" "))}}if("function"==typeof T)return T(null===N?{}:N,et,br);const Te=Jt(T,null);return Te.$attrs$=N,et.length>0&&(Te.$children$=et),Te.$key$=Ne,Te.$name$=R,Te},Jt=(T,N)=>({$flags$:0,$tag$:T,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),j={},br={forEach:(T,N)=>T.map(Jn).forEach(N),map:(T,N)=>T.map(Jn).map(N).map(Xo)},Jn=T=>({vattrs:T.$attrs$,vchildren:T.$children$,vkey:T.$key$,vname:T.$name$,vtag:T.$tag$,vtext:T.$text$}),Xo=T=>{if("function"==typeof T.vtag){const me=Object.assign({},T.vattrs);return T.vkey&&(me.key=T.vkey),T.vname&&(me.name=T.vname),Yt(T.vtag,me,...T.vchildren||[])}const N=Jt(T.vtag,T.vtext);return N.$attrs$=T.vattrs,N.$children$=T.vchildren,N.$key$=T.vkey,N.$name$=T.vname,N},ao=(T,N,me,Ee,Ne,R)=>{if(me!==Ee){let pe=Lo(T,N),xe=N.toLowerCase();if("class"===N){const et=T.classList,ot=Pn(me),Te=Pn(Ee);et.remove(...ot.filter(Vt=>Vt&&!Te.includes(Vt))),et.add(...Te.filter(Vt=>Vt&&!ot.includes(Vt)))}else if("style"===N){for(const et in me)(!Ee||null==Ee[et])&&(et.includes("-")?T.style.removeProperty(et):T.style[et]="");for(const et in Ee)(!me||Ee[et]!==me[et])&&(et.includes("-")?T.style.setProperty(et,Ee[et]):T.style[et]=Ee[et])}else if("key"!==N)if("ref"===N)Ee&&Ee(T);else if(pe||"o"!==N[0]||"n"!==N[1]){const et=rn(Ee);if((pe||et&&null!==Ee)&&!Ne)try{if(T.tagName.includes("-"))T[N]=Ee;else{const Te=Ee??"";"list"===N?pe=!1:(null==me||T[N]!=Te)&&(T[N]=Te)}}catch{}let ot=!1;xe!==(xe=xe.replace(/^xlink\:?/,""))&&(N=xe,ot=!0),null==Ee||!1===Ee?(!1!==Ee||""===T.getAttribute(N))&&(ot?T.removeAttributeNS(ne,N):T.removeAttribute(N)):(!pe||4&R||Ne)&&!et&&(Ee=!0===Ee?"":Ee,ot?T.setAttributeNS(ne,N,Ee):T.setAttribute(N,Ee))}else N="-"===N[2]?N.slice(3):Lo(se,xe)?xe.slice(2):xe[2]+N.slice(3),me&&$.rel(T,N,me,!1),Ee&&$.ael(T,N,Ee,!1)}},Ti=/\s/,Pn=T=>T?T.split(Ti):[],So=(T,N,me,Ee)=>{const Ne=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,R=T&&T.$attrs$||_e,pe=N.$attrs$||_e;for(Ee in R)Ee in pe||ao(Ne,Ee,R[Ee],void 0,me,N.$flags$);for(Ee in pe)ao(Ne,Ee,R[Ee],pe[Ee],me,N.$flags$)},jn=(T,N,me,Ee)=>{const Ne=N.$children$[me];let pe,xe,et,R=0;if(Q||(V=!0,"slot"===Ne.$tag$&&(re&&Ee.classList.add(re+"-s"),Ne.$flags$|=Ne.$children$?2:1)),null!==Ne.$text$)pe=Ne.$elm$=B.createTextNode(Ne.$text$);else if(1&Ne.$flags$)pe=Ne.$elm$=B.createTextNode("");else{if(ue||(ue="svg"===Ne.$tag$),pe=Ne.$elm$=B.createElementNS(ue?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ne.$flags$?"slot-fb":Ne.$tag$),ue&&"foreignObject"===Ne.$tag$&&(ue=!1),So(null,Ne,ue),(T=>null!=T)(re)&&pe["s-si"]!==re&&pe.classList.add(pe["s-si"]=re),Ne.$children$)for(R=0;R<Ne.$children$.length;++R)xe=jn(T,Ne,R,pe),xe&&pe.appendChild(xe);"svg"===Ne.$tag$?ue=!1:"foreignObject"===pe.tagName&&(ue=!0)}return pe["s-hn"]=z,3&Ne.$flags$&&(pe["s-sr"]=!0,pe["s-cr"]=te,pe["s-sn"]=Ne.$name$||"",et=T&&T.$children$&&T.$children$[me],et&&et.$tag$===Ne.$tag$&&T.$elm$&&Ai(T.$elm$,!1)),pe},Ai=(T,N)=>{$.$flags$|=1;const me=T.childNodes;for(let Ee=me.length-1;Ee>=0;Ee--){const Ne=me[Ee];Ne["s-hn"]!==z&&Ne["s-ol"]&&(mn(Ne).insertBefore(Ne,po(Ne)),Ne["s-ol"].remove(),Ne["s-ol"]=void 0,V=!0),N&&Ai(Ne,N)}$.$flags$&=-2},no=(T,N,me,Ee,Ne,R)=>{let xe,pe=T["s-cr"]&&T["s-cr"].parentNode||T;for(pe.shadowRoot&&pe.tagName===z&&(pe=pe.shadowRoot);Ne<=R;++Ne)Ee[Ne]&&(xe=jn(null,me,Ne,T),xe&&(Ee[Ne].$elm$=xe,pe.insertBefore(xe,po(N))))},jr=(T,N,me,Ee,Ne)=>{for(;N<=me;++N)(Ee=T[N])&&(Ne=Ee.$elm$,ze(Ee),L=!0,Ne["s-ol"]?Ne["s-ol"].remove():Ai(Ne,!0),Ne.remove())},qr=(T,N)=>T.$tag$===N.$tag$&&("slot"===T.$tag$?T.$name$===N.$name$:T.$key$===N.$key$),po=T=>T&&T["s-ol"]||T,mn=T=>(T["s-ol"]?T["s-ol"]:T).parentNode,lo=(T,N)=>{const me=N.$elm$=T.$elm$,Ee=T.$children$,Ne=N.$children$,R=N.$tag$,pe=N.$text$;let xe;null===pe?(ue="svg"===R||"foreignObject"!==R&&ue,"slot"===R||So(T,N,ue),null!==Ee&&null!==Ne?((T,N,me,Ee)=>{let $o,uo,Ne=0,R=0,pe=0,xe=0,et=N.length-1,ot=N[0],Te=N[et],Vt=Ee.length-1,Ct=Ee[0],fn=Ee[Vt];for(;Ne<=et&&R<=Vt;)if(null==ot)ot=N[++Ne];else if(null==Te)Te=N[--et];else if(null==Ct)Ct=Ee[++R];else if(null==fn)fn=Ee[--Vt];else if(qr(ot,Ct))lo(ot,Ct),ot=N[++Ne],Ct=Ee[++R];else if(qr(Te,fn))lo(Te,fn),Te=N[--et],fn=Ee[--Vt];else if(qr(ot,fn))("slot"===ot.$tag$||"slot"===fn.$tag$)&&Ai(ot.$elm$.parentNode,!1),lo(ot,fn),T.insertBefore(ot.$elm$,Te.$elm$.nextSibling),ot=N[++Ne],fn=Ee[--Vt];else if(qr(Te,Ct))("slot"===ot.$tag$||"slot"===fn.$tag$)&&Ai(Te.$elm$.parentNode,!1),lo(Te,Ct),T.insertBefore(Te.$elm$,ot.$elm$),Te=N[--et],Ct=Ee[++R];else{for(pe=-1,xe=Ne;xe<=et;++xe)if(N[xe]&&null!==N[xe].$key$&&N[xe].$key$===Ct.$key$){pe=xe;break}pe>=0?(uo=N[pe],uo.$tag$!==Ct.$tag$?$o=jn(N&&N[R],me,pe,T):(lo(uo,Ct),N[pe]=void 0,$o=uo.$elm$),Ct=Ee[++R]):($o=jn(N&&N[R],me,R,T),Ct=Ee[++R]),$o&&mn(ot.$elm$).insertBefore($o,po(ot.$elm$))}Ne>et?no(T,null==Ee[Vt+1]?null:Ee[Vt+1].$elm$,me,Ee,R,Vt):R>Vt&&jr(N,Ne,et)})(me,Ee,N,Ne):null!==Ne?(null!==T.$text$&&(me.textContent=""),no(me,null,N,Ne,0,Ne.length-1)):null!==Ee&&jr(Ee,0,Ee.length-1),ue&&"svg"===R&&(ue=!1)):(xe=me["s-cr"])?xe.parentNode.textContent=pe:T.$text$!==pe&&(me.data=pe)},us=T=>{const N=T.childNodes;let me,Ee,Ne,R,pe,xe;for(Ee=0,Ne=N.length;Ee<Ne;Ee++)if(me=N[Ee],1===me.nodeType){if(me["s-sr"])for(pe=me["s-sn"],me.hidden=!1,R=0;R<Ne;R++)if(xe=N[R].nodeType,N[R]["s-hn"]!==me["s-hn"]||""!==pe){if(1===xe&&pe===N[R].getAttribute("slot")){me.hidden=!0;break}}else if(1===xe||3===xe&&""!==N[R].textContent.trim()){me.hidden=!0;break}us(me)}},Yr=[],at=T=>{let N,me,Ee,Ne,R,pe,xe=0;const et=T.childNodes,ot=et.length;for(;xe<ot;xe++){if(N=et[xe],N["s-sr"]&&(me=N["s-cr"])&&me.parentNode)for(Ee=me.parentNode.childNodes,Ne=N["s-sn"],pe=Ee.length-1;pe>=0;pe--)me=Ee[pe],!me["s-cn"]&&!me["s-nr"]&&me["s-hn"]!==N["s-hn"]&&(le(me,Ne)?(R=Yr.find(Te=>Te.$nodeToRelocate$===me),L=!0,me["s-sn"]=me["s-sn"]||Ne,R?R.$slotRefNode$=N:Yr.push({$slotRefNode$:N,$nodeToRelocate$:me}),me["s-sr"]&&Yr.map(Te=>{le(Te.$nodeToRelocate$,me["s-sn"])&&(R=Yr.find(Vt=>Vt.$nodeToRelocate$===me),R&&!Te.$slotRefNode$&&(Te.$slotRefNode$=R.$slotRefNode$))})):Yr.some(Te=>Te.$nodeToRelocate$===me)||Yr.push({$nodeToRelocate$:me}));1===N.nodeType&&at(N)}},le=(T,N)=>1===T.nodeType?null===T.getAttribute("slot")&&""===N||T.getAttribute("slot")===N:T["s-sn"]===N||""===N,ze=T=>{T.$attrs$&&T.$attrs$.ref&&T.$attrs$.ref(null),T.$children$&&T.$children$.map(ze)},Bn=T=>ro(T).$hostElement$,Gt=(T,N,me)=>{const Ee=Bn(T);return{emit:Ne=>Pt(Ee,N,{bubbles:!!(4&me),composed:!!(2&me),cancelable:!!(1&me),detail:Ne})}},Pt=(T,N,me)=>{const Ee=$.ce(N,me);return T.dispatchEvent(Ee),Ee},wr=(T,N)=>{N&&!T.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(me=>T.$onRenderResolve$=me))},Kt=(T,N)=>{if(T.$flags$|=16,!(4&T.$flags$))return wr(T,T.$ancestorComponent$),qi(()=>er(T,N));T.$flags$|=512},er=(T,N)=>{const Ee=T.$lazyInstance$;let Ne;return N&&(T.$flags$|=256,T.$queuedListeners$&&(T.$queuedListeners$.map(([R,pe])=>qn(Ee,R,pe)),T.$queuedListeners$=null),Ne=qn(Ee,"componentWillLoad")),Ne=D(Ne,()=>qn(Ee,"componentWillRender")),D(Ne,()=>tr(T,Ee,N))},tr=function(){var T=(0,I.Z)(function*(N,me,Ee){const Ne=N.$hostElement$,pe=Ne["s-rc"];Ee&&(T=>{const N=T.$cmpMeta$,me=T.$hostElement$,Ee=N.$flags$,R=Ze(me.shadowRoot?me.shadowRoot:me.getRootNode(),N,T.$modeName$);10&Ee&&(me["s-sc"]=R,me.classList.add(R+"-h"),2&Ee&&me.classList.add(R+"-s"))})(N);on(N,me),pe&&(pe.map(et=>et()),Ne["s-rc"]=void 0);{const et=Ne["s-p"],ot=()=>Bt(N);0===et.length?ot():(Promise.all(et).then(ot),N.$flags$|=4,et.length=0)}});return function(me,Ee,Ne){return T.apply(this,arguments)}}(),on=(T,N,me)=>{try{N=N.render&&N.render(),T.$flags$&=-17,T.$flags$|=2,((T,N)=>{const me=T.$hostElement$,Ee=T.$cmpMeta$,Ne=T.$vnode$||Jt(null,null),R=(T=>T&&T.$tag$===j)(N)?N:Yt(null,null,N);if(z=me.tagName,Ee.$attrsToReflect$&&(R.$attrs$=R.$attrs$||{},Ee.$attrsToReflect$.map(([pe,xe])=>R.$attrs$[xe]=me[pe])),R.$tag$=null,R.$flags$|=4,T.$vnode$=R,R.$elm$=Ne.$elm$=me.shadowRoot||me,re=me["s-sc"],te=me["s-cr"],Q=0!=(1&Ee.$flags$),L=!1,lo(Ne,R),$.$flags$|=1,V){at(R.$elm$);let pe,xe,et,ot,Te,Vt,Ct=0;for(;Ct<Yr.length;Ct++)pe=Yr[Ct],xe=pe.$nodeToRelocate$,xe["s-ol"]||(et=B.createTextNode(""),et["s-nr"]=xe,xe.parentNode.insertBefore(xe["s-ol"]=et,xe));for(Ct=0;Ct<Yr.length;Ct++)if(pe=Yr[Ct],xe=pe.$nodeToRelocate$,pe.$slotRefNode$){for(ot=pe.$slotRefNode$.parentNode,Te=pe.$slotRefNode$.nextSibling,et=xe["s-ol"];et=et.previousSibling;)if(Vt=et["s-nr"],Vt&&Vt["s-sn"]===xe["s-sn"]&&ot===Vt.parentNode&&(Vt=Vt.nextSibling,!Vt||!Vt["s-nr"])){Te=Vt;break}(!Te&&ot!==xe.parentNode||xe.nextSibling!==Te)&&xe!==Te&&(!xe["s-hn"]&&xe["s-ol"]&&(xe["s-hn"]=xe["s-ol"].parentNode.nodeName),ot.insertBefore(xe,Te))}else 1===xe.nodeType&&(xe.hidden=!0)}L&&us(R.$elm$),$.$flags$&=-2,Yr.length=0})(T,N)}catch(Ee){mo(Ee,T.$hostElement$)}return null},Bt=T=>{const me=T.$hostElement$,Ne=T.$lazyInstance$,R=T.$ancestorComponent$;qn(Ne,"componentDidRender"),64&T.$flags$?qn(Ne,"componentDidUpdate"):(T.$flags$|=64,On(me),qn(Ne,"componentDidLoad"),T.$onReadyResolve$(me),R||S()),T.$onInstanceResolve$(me),T.$onRenderResolve$&&(T.$onRenderResolve$(),T.$onRenderResolve$=void 0),512&T.$flags$&&vi(()=>Kt(T,!1)),T.$flags$&=-517},E=T=>{{const N=ro(T),me=N.$hostElement$.isConnected;return me&&2==(18&N.$flags$)&&Kt(N,!1),me}},S=T=>{On(B.documentElement),vi(()=>Pt(se,"appload",{detail:{namespace:"ionic"}}))},qn=(T,N,me)=>{if(T&&T[N])try{return T[N](me)}catch(Ee){mo(Ee)}},D=(T,N)=>T&&T.then?T.then(N):N(),On=T=>T.classList.add("hydrated"),ci=(T,N,me,Ee,Ne,R,pe)=>{let xe,et,ot,Te;if(1===R.nodeType){for(xe=R.getAttribute("c-id"),xe&&(et=xe.split("."),(et[0]===pe||"0"===et[0])&&(ot={$flags$:0,$hostId$:et[0],$nodeId$:et[1],$depth$:et[2],$index$:et[3],$tag$:R.tagName.toLowerCase(),$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(ot),R.removeAttribute("c-id"),T.$children$||(T.$children$=[]),T.$children$[ot.$index$]=ot,T=ot,Ee&&"0"===ot.$depth$&&(Ee[ot.$index$]=ot.$elm$))),Te=R.childNodes.length-1;Te>=0;Te--)ci(T,N,me,Ee,Ne,R.childNodes[Te],pe);if(R.shadowRoot)for(Te=R.shadowRoot.childNodes.length-1;Te>=0;Te--)ci(T,N,me,Ee,Ne,R.shadowRoot.childNodes[Te],pe)}else if(8===R.nodeType)et=R.nodeValue.split("."),(et[1]===pe||"0"===et[1])&&(xe=et[0],ot={$flags$:0,$hostId$:et[1],$nodeId$:et[2],$depth$:et[3],$index$:et[4],$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===xe?(ot.$elm$=R.nextSibling,ot.$elm$&&3===ot.$elm$.nodeType&&(ot.$text$=ot.$elm$.textContent,N.push(ot),R.remove(),T.$children$||(T.$children$=[]),T.$children$[ot.$index$]=ot,Ee&&"0"===ot.$depth$&&(Ee[ot.$index$]=ot.$elm$))):ot.$hostId$===pe&&("s"===xe?(ot.$tag$="slot",R["s-sn"]=et[5]?ot.$name$=et[5]:"",R["s-sr"]=!0,Ee&&(ot.$elm$=B.createElement(ot.$tag$),ot.$name$&&ot.$elm$.setAttribute("name",ot.$name$),R.parentNode.insertBefore(ot.$elm$,R),R.remove(),"0"===ot.$depth$&&(Ee[ot.$index$]=ot.$elm$)),me.push(ot),T.$children$||(T.$children$=[]),T.$children$[ot.$index$]=ot):"r"===xe&&(Ee?R.remove():(Ne["s-cr"]=R,R["s-cn"]=!0))));else if(T&&"style"===T.$tag$){const Vt=Jt(null,R.textContent);Vt.$elm$=R,Vt.$index$="0",T.$children$=[Vt]}},To=(T,N)=>{if(1===T.nodeType){let me=0;for(;me<T.childNodes.length;me++)To(T.childNodes[me],N);if(T.shadowRoot)for(me=0;me<T.shadowRoot.childNodes.length;me++)To(T.shadowRoot.childNodes[me],N)}else if(8===T.nodeType){const me=T.nodeValue.split(".");"o"===me[0]&&(N.set(me[1]+"."+me[2],T),T.nodeValue="",T["s-en"]=me[3])}},Ri=(T,N,me)=>{if(N.$members$){T.watchers&&(N.$watchers$=T.watchers);const Ee=Object.entries(N.$members$),Ne=T.prototype;if(Ee.map(([R,[pe]])=>{31&pe||2&me&&32&pe?Object.defineProperty(Ne,R,{get(){return((T,N)=>ro(this).$instanceValues$.get(N))(0,R)},set(xe){((T,N,me,Ee)=>{const Ne=ro(T),R=Ne.$hostElement$,pe=Ne.$instanceValues$.get(N),xe=Ne.$flags$,et=Ne.$lazyInstance$;me=((T,N)=>null==T||rn(T)?T:4&N?"false"!==T&&(""===T||!!T):2&N?parseFloat(T):1&N?String(T):T)(me,Ee.$members$[N][0]);const ot=Number.isNaN(pe)&&Number.isNaN(me);if((!(8&xe)||void 0===pe)&&me!==pe&&!ot&&(Ne.$instanceValues$.set(N,me),et)){if(Ee.$watchers$&&128&xe){const Vt=Ee.$watchers$[N];Vt&&Vt.map(Ct=>{try{et[Ct](me,pe,N)}catch(fn){mo(fn,R)}})}2==(18&xe)&&Kt(Ne,!1)}})(this,R,xe,N)},configurable:!0,enumerable:!0}):1&me&&64&pe&&Object.defineProperty(Ne,R,{value(...xe){const et=ro(this);return et.$onInstancePromise$.then(()=>et.$lazyInstance$[R](...xe))}})}),1&me){const R=new Map;Ne.attributeChangedCallback=function(pe,xe,et){$.jmp(()=>{const ot=R.get(pe);if(this.hasOwnProperty(ot))et=this[ot],delete this[ot];else if(Ne.hasOwnProperty(ot)&&"number"==typeof this[ot]&&this[ot]==et)return;this[ot]=(null!==et||"boolean"!=typeof this[ot])&&et})},T.observedAttributes=Ee.filter(([pe,xe])=>15&xe[0]).map(([pe,xe])=>{const et=xe[1]||pe;return R.set(et,pe),512&xe[0]&&N.$attrsToReflect$.push([pe,et]),et})}}return T},ho=function(){var T=(0,I.Z)(function*(N,me,Ee,Ne,R){if(!(32&me.$flags$)){{if(me.$flags$|=32,(R=Eo(Ee)).then){const ot=()=>{};R=yield R,ot()}R.isProxied||(Ee.$watchers$=R.watchers,Ri(R,Ee,2),R.isProxied=!0);const et=()=>{};me.$flags$|=8;try{new R(me)}catch(ot){mo(ot)}me.$flags$&=-9,me.$flags$|=128,et(),ei(me.$lazyInstance$)}if(R.style){let et=R.style;"string"!=typeof et&&(et=et[me.$modeName$=(T=>ks.map(N=>N(T)).find(N=>!!N))(N)]);const ot=ge(Ee,me.$modeName$);if(!Fi.has(ot)){const Te=()=>{};dn(ot,et,!!(1&Ee.$flags$)),Te()}}}const pe=me.$ancestorComponent$,xe=()=>Kt(me,!0);pe&&pe["s-rc"]?pe["s-rc"].push(xe):xe()});return function(me,Ee,Ne,R,pe){return T.apply(this,arguments)}}(),ei=T=>{qn(T,"connectedCallback")},ti=T=>{const N=T["s-cr"]=B.createComment("");N["s-cn"]=!0,T.insertBefore(N,T.firstChild)},_i=(T,N={})=>{const Ee=[],Ne=N.exclude||[],R=se.customElements,pe=B.head,xe=pe.querySelector("meta[charset]"),et=B.createElement("style"),ot=[],Te=B.querySelectorAll(`[${Qe}]`);let Vt,Ct=!0,fn=0;for(Object.assign($,N),$.$resourcesUrl$=new URL(N.resourcesUrl||"./",B.baseURI).href,$.$flags$|=2;fn<Te.length;fn++)dn(Te[fn].getAttribute(Qe),tt(Te[fn].innerHTML),!0);T.map($o=>{$o[1].map(uo=>{const Bo={$flags$:uo[0],$tagName$:uo[1],$members$:uo[2],$listeners$:uo[3]};Bo.$members$=uo[2],Bo.$listeners$=uo[3],Bo.$attrsToReflect$=[],Bo.$watchers$={};const bi=Bo.$tagName$,Pr=class extends HTMLElement{constructor(hs){super(hs),di(hs=this,Bo),1&Bo.$flags$&&hs.attachShadow({mode:"open",delegatesFocus:!!(16&Bo.$flags$)})}connectedCallback(){Vt&&(clearTimeout(Vt),Vt=null),Ct?ot.push(this):$.jmp(()=>(T=>{if(!(1&$.$flags$)){const N=ro(T),me=N.$cmpMeta$,Ee=()=>{};if(1&N.$flags$)Z(T,N,me.$listeners$),ei(N.$lazyInstance$);else{let Ne;if(N.$flags$|=1,Ne=T.getAttribute(Ie),Ne){if(1&me.$flags$){const R=Ze(T.shadowRoot,me,T.getAttribute("s-mode"));T.classList.remove(R+"-h",R+"-s")}((T,N,me,Ee)=>{const R=T.shadowRoot,pe=[],et=R?[]:null,ot=Ee.$vnode$=Jt(N,null);$.$orgLocNodes$||To(B.body,$.$orgLocNodes$=new Map),T[Ie]=me,T.removeAttribute(Ie),ci(ot,pe,[],et,T,T,me),pe.map(Te=>{const Vt=Te.$hostId$+"."+Te.$nodeId$,Ct=$.$orgLocNodes$.get(Vt),fn=Te.$elm$;Ct&&""===Ct["s-en"]&&Ct.parentNode.insertBefore(fn,Ct.nextSibling),R||(fn["s-hn"]=N,Ct&&(fn["s-ol"]=Ct,fn["s-ol"]["s-nr"]=fn)),$.$orgLocNodes$.delete(Vt)}),R&&et.map(Te=>{Te&&R.appendChild(Te)})})(T,me.$tagName$,Ne,N)}Ne||12&me.$flags$&&ti(T);{let R=T;for(;R=R.parentNode||R.host;)if(1===R.nodeType&&R.hasAttribute("s-id")&&R["s-p"]||R["s-p"]){wr(N,N.$ancestorComponent$=R);break}}me.$members$&&Object.entries(me.$members$).map(([R,[pe]])=>{if(31&pe&&T.hasOwnProperty(R)){const xe=T[R];delete T[R],T[R]=xe}}),vi(()=>ho(T,N,me))}Ee()}})(this))}disconnectedCallback(){$.jmp(()=>(T=>{if(!(1&$.$flags$)){const N=ro(this),me=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(Ee=>Ee()),N.$rmListeners$=void 0),qn(me,"disconnectedCallback")}})())}componentOnReady(){return ro(this).$onReadyPromise$}};Bo.$lazyBundleId$=$o[0],!Ne.includes(bi)&&!R.get(bi)&&(Ee.push(bi),R.define(bi,Ri(Pr,Bo,1)))})}),et.innerHTML=Ee+"{visibility:hidden}.hydrated{visibility:inherit}",et.setAttribute("data-styles",""),pe.insertBefore(et,xe?xe.nextSibling:pe.firstChild),Ct=!1,ot.length?ot.map($o=>$o.connectedCallback()):$.jmp(()=>Vt=setTimeout(S,30))},ui=T=>{const N=new URL(T,$.$resourcesUrl$);return N.origin!==se.location.origin?N.href:N.pathname},Ao=new WeakMap,ro=T=>Ao.get(T),ds=(T,N)=>Ao.set(N.$lazyInstance$=T,N),di=(T,N)=>{const me={$flags$:0,$hostElement$:T,$cmpMeta$:N,$instanceValues$:new Map};return me.$onInstancePromise$=new Promise(Ee=>me.$onInstanceResolve$=Ee),me.$onReadyPromise$=new Promise(Ee=>me.$onReadyResolve$=Ee),T["s-p"]=[],T["s-rc"]=[],Z(T,me,N.$listeners$),Ao.set(T,me)},Lo=(T,N)=>N in T,mo=(T,N)=>(0,console.error)(T,N),fs=new Map,Eo=(T,N,me)=>{const Ee=T.$tagName$.replace(/-/g,"_"),Ne=T.$lazyBundleId$,R=fs.get(Ne);return R?R[Ee]:A(863)(`./${Ne}.entry.js`).then(pe=>(fs.set(Ne,pe),pe[Ee]),mo)},Fi=new Map,ks=[],yi=[],ps=[],Us=(T,N)=>me=>{T.push(me),X||(X=!0,N&&4&$.$flags$?vi(mr):$.raf(mr))},Hs=T=>{for(let N=0;N<T.length;N++)try{T[N](performance.now())}catch(me){mo(me)}T.length=0},mr=()=>{Hs(yi),Hs(ps),(X=yi.length>0)&&$.raf(mr)},vi=T=>$e().then(T),xs=Us(yi,!1),qi=Us(ps,!0),nr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5823:(Be,We,A)=>{"use strict";A.d(We,{a:()=>se,b:()=>yt,c:()=>re,g:()=>X,i:()=>dn});var I=A(1559);class l{constructor(){this.m=new Map}reset(O){this.m=new Map(Object.entries(O))}get(O,ge){const tt=this.m.get(O);return void 0!==tt?tt:ge}getBoolean(O,ge=!1){const tt=this.m.get(O);return void 0===tt?ge:"string"==typeof tt?"true"===tt:!!tt}getNumber(O,ge){const tt=parseFloat(this.m.get(O));return isNaN(tt)?void 0!==ge?ge:NaN:tt}set(O,ge){this.m.set(O,ge)}}const re=new l,V="ionic:",ue="ionic-persist-config",X=Ze=>B(Ze),se=(Ze,O)=>("string"==typeof Ze&&(O=Ze,Ze=void 0),X(Ze).includes(O)),B=(Ze=window)=>{if(typeof Ze>"u")return[];Ze.Ionic=Ze.Ionic||{};let O=Ze.Ionic.platforms;return null==O&&(O=Ze.Ionic.platforms=$(Ze),O.forEach(ge=>Ze.document.documentElement.classList.add(`plt-${ge}`))),O},$=Ze=>{const O=re.get("platform");return Object.keys(je).filter(ge=>{const tt=O?.[ge];return"function"==typeof tt?tt(Ze):je[ge](Ze)})},Pe=Ze=>!!(Me(Ze,/iPad/i)||Me(Ze,/Macintosh/i)&&de(Ze)),Z=Ze=>Me(Ze,/android|sink/i),de=Ze=>ne(Ze,"(any-pointer:coarse)"),ce=Ze=>be(Ze)||Ie(Ze),be=Ze=>!!(Ze.cordova||Ze.phonegap||Ze.PhoneGap),Ie=Ze=>!!Ze.Capacitor?.isNative,Me=(Ze,O)=>O.test(Ze.navigator.userAgent),ne=(Ze,O)=>{var ge;return null===(ge=Ze.matchMedia)||void 0===ge?void 0:ge.call(Ze,O).matches},je={ipad:Pe,iphone:Ze=>Me(Ze,/iPhone/i),ios:Ze=>Me(Ze,/iPhone|iPod/i)||Pe(Ze),android:Z,phablet:Ze=>{const O=Ze.innerWidth,ge=Ze.innerHeight,tt=Math.min(O,ge),nt=Math.max(O,ge);return tt>390&&tt<520&&nt>620&&nt<800},tablet:Ze=>{const O=Ze.innerWidth,ge=Ze.innerHeight,tt=Math.min(O,ge),nt=Math.max(O,ge);return Pe(Ze)||(Ze=>Z(Ze)&&!Me(Ze,/mobile/i))(Ze)||tt>460&&tt<820&&nt>780&&nt<1400},cordova:be,capacitor:Ie,electron:Ze=>Me(Ze,/electron/i),pwa:Ze=>{var O;return!!(null!==(O=Ze.matchMedia)&&void 0!==O&&O.call(Ze,"(display-mode: standalone)").matches||Ze.navigator.standalone)},mobile:de,mobileweb:Ze=>de(Ze)&&!ce(Ze),desktop:Ze=>!de(Ze),hybrid:ce};let Je;const yt=Ze=>Ze&&(0,I.g)(Ze)||Je,dn=(Ze={})=>{if(typeof window>"u")return;const O=window.document,ge=window,tt=ge.Ionic=ge.Ionic||{},nt={};Ze._ael&&(nt.ael=Ze._ael),Ze._rel&&(nt.rel=Ze._rel),Ze._ce&&(nt.ce=Ze._ce),(0,I.s)(nt);const Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ze=>{try{const O=Ze.sessionStorage.getItem(ue);return null!==O?JSON.parse(O):{}}catch{return{}}})(ge)),{persistConfig:!1}),tt.config),(Ze=>{const O={};return Ze.location.search.slice(1).split("&").map(ge=>ge.split("=")).map(([ge,tt])=>[decodeURIComponent(ge),decodeURIComponent(tt)]).filter(([ge])=>((Ze,O)=>Ze.substr(0,O.length)===O)(ge,V)).map(([ge,tt])=>[ge.slice(V.length),tt]).forEach(([ge,tt])=>{O[ge]=tt}),O})(ge)),Ze);re.reset(Ve),re.getBoolean("persistConfig")&&((Ze,O)=>{try{Ze.sessionStorage.setItem(ue,JSON.stringify(O))}catch{return}})(ge,Ve),B(ge),tt.config=re,tt.mode=Je=re.get("mode",O.documentElement.getAttribute("mode")||(se(ge,"ios")?"ios":"md")),re.set("mode",Je),O.documentElement.setAttribute("mode",Je),O.documentElement.classList.add(Je),re.getBoolean("_testing")&&re.set("animated",!1);const q=ft=>{var Ae;return null===(Ae=ft.tagName)||void 0===Ae?void 0:Ae.startsWith("ION-")},_e=ft=>["ios","md"].includes(ft);(0,I.a)(ft=>{for(;ft;){const Ae=ft.mode||ft.getAttribute("mode");if(Ae){if(_e(Ae))return Ae;q(ft)&&console.warn('Invalid ionic mode: "'+Ae+'", expected: "ios" or "md"')}ft=ft.parentElement}return Je})}},9078:(Be,We,A)=>{"use strict";A.r(We),A.d(We,{iosTransitionAnimation:()=>$,shadow:()=>L});var I=A(5933),l=A(609);A(2286),A(1559);const Q=U=>document.querySelector(`${U}.ion-cloned-element`),L=U=>U.shadowRoot||U,V=U=>{const Pe="ION-TABS"===U.tagName?U:U.querySelector("ion-tabs"),$e="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Pe){const he=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=he?he.querySelector($e):null}return U.querySelector($e)},ue=(U,Pe)=>{const $e="ION-TABS"===U.tagName?U:U.querySelector("ion-tabs");let he=[];if(null!=$e){const Z=$e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Z&&(he=Z.querySelectorAll("ion-buttons"))}else he=U.querySelectorAll("ion-buttons");for(const Z of he){const Y=Z.closest("ion-header"),fe=Y&&!Y.classList.contains("header-collapse-condense-inactive"),Fe=Z.querySelector("ion-back-button"),de=Z.classList.contains("buttons-collapse");if(null!==Fe&&("start"===Z.slot||""===Z.slot)&&(de&&fe&&Pe||!de))return Fe}return null},se=(U,Pe,$e,he,Z,Y)=>{const fe=Pe?`calc(100% - ${Y.right+4}px)`:Y.left-4+"px",Fe=Pe?"7px":"-7px",de=Pe?"-4px":"4px",it=Pe?"-4px":"4px",ce=Pe?"right":"left",be=Pe?"left":"right",Oe=$e?[{offset:0,opacity:1,transform:`translate3d(${de}, ${Y.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${Z.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${Z.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${de}, ${Y.top-46}px, 0) scale(1)`}],je=$e?[{offset:0,opacity:1,transform:`translate3d(${it}, ${Y.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${it}, ${Y.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${it}, ${Y.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${it}, ${Y.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${it}, ${Y.top-46}px, 0) scale(1)`}],Je=(0,I.c)(),yt=(0,I.c)(),dn=Q("ion-back-button"),Ze=L(dn).querySelector(".button-text"),O=L(dn).querySelector("ion-icon");dn.text=he.text,dn.mode=he.mode,dn.icon=he.icon,dn.color=he.color,dn.disabled=he.disabled,dn.style.setProperty("display","block"),dn.style.setProperty("position","fixed"),yt.addElement(O),Je.addElement(Ze),Je.beforeStyles({"transform-origin":`${ce} center`}).beforeAddWrite(()=>{he.style.setProperty("display","none"),dn.style.setProperty(ce,fe)}).afterAddWrite(()=>{he.style.setProperty("display",""),dn.style.setProperty("display","none"),dn.style.removeProperty(ce)}).keyframes(Oe),yt.beforeStyles({"transform-origin":`${be} center`}).keyframes(je),U.addAnimation([Je,yt])},B=(U,Pe,$e,he,Z,Y)=>{const fe=Pe?`calc(100% - ${Z.right}px)`:`${Z.left}px`,Fe=Pe?"-18px":"18px",de=Pe?"right":"left",be=$e?[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${Y.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Z.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Z.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${Y.top-4}px, 0) scale(0.5)`}],Ie=Q("ion-title"),Qe=(0,I.c)();Ie.innerText=he.innerText,Ie.size=he.size,Ie.color=he.color,Qe.addElement(Ie),Qe.beforeStyles({"transform-origin":`${de} center`,height:"46px",display:"",position:"relative",[de]:fe}).beforeAddWrite(()=>{he.style.setProperty("display","none")}).afterAddWrite(()=>{he.style.setProperty("display",""),Ie.style.setProperty("display","none")}).keyframes(be),U.addAnimation(Qe)},$=(U,Pe)=>{var $e;try{const he="cubic-bezier(0.32,0.72,0,1)",Z="opacity",Y="transform",fe="0%",de="rtl"===U.ownerDocument.dir,it=de?"-99.5%":"99.5%",ce=de?"33%":"-33%",be=Pe.enteringEl,Ie=Pe.leavingEl,Qe="back"===Pe.direction,Oe=be.querySelector(":scope > ion-content"),Me=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ne=be.querySelectorAll(":scope > ion-header > ion-toolbar"),je=(0,I.c)(),Je=(0,I.c)();if(je.addElement(be).duration((null!==($e=Pe.duration)&&void 0!==$e?$e:0)||540).easing(Pe.easing||he).fill("both").beforeRemoveClass("ion-page-invisible"),Ie&&null!=U){const O=(0,I.c)();O.addElement(U),je.addAnimation(O)}if(Oe||0!==ne.length||0!==Me.length?(Je.addElement(Oe),Je.addElement(Me)):Je.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),je.addAnimation(Je),Qe?Je.beforeClearStyles([Z]).fromTo("transform",`translateX(${ce})`,`translateX(${fe})`).fromTo(Z,.8,1):Je.beforeClearStyles([Z]).fromTo("transform",`translateX(${it})`,`translateX(${fe})`),Oe){const O=L(Oe).querySelector(".transition-effect");if(O){const ge=O.querySelector(".transition-cover"),tt=O.querySelector(".transition-shadow"),nt=(0,I.c)(),Ve=(0,I.c)(),q=(0,I.c)();nt.addElement(O).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(ge).beforeClearStyles([Z]).fromTo(Z,0,.1),q.addElement(tt).beforeClearStyles([Z]).fromTo(Z,.03,.7),nt.addAnimation([Ve,q]),Je.addAnimation([nt])}}const yt=be.querySelector("ion-header.header-collapse-condense"),{forward:dn,backward:Ze}=((U,Pe,$e,he,Z)=>{const Y=ue(he,$e),fe=V(Z),Fe=V(he),de=ue(Z,$e),it=null!==Y&&null!==fe&&!$e,ce=null!==Fe&&null!==de&&$e;if(it){const be=fe.getBoundingClientRect(),Ie=Y.getBoundingClientRect();B(U,Pe,$e,fe,be,Ie),se(U,Pe,$e,Y,be,Ie)}else if(ce){const be=Fe.getBoundingClientRect(),Ie=de.getBoundingClientRect();B(U,Pe,$e,Fe,be,Ie),se(U,Pe,$e,de,be,Ie)}return{forward:it,backward:ce}})(je,de,Qe,be,Ie);if(ne.forEach(O=>{const ge=(0,I.c)();ge.addElement(O),je.addAnimation(ge);const tt=(0,I.c)();tt.addElement(O.querySelector("ion-title"));const nt=(0,I.c)(),Ve=Array.from(O.querySelectorAll("ion-buttons,[menuToggle]")),q=O.closest("ion-header"),_e=q?.classList.contains("header-collapse-condense-inactive");let ft;ft=Ve.filter(Qe?Jt=>{const j=Jt.classList.contains("buttons-collapse");return j&&!_e||!j}:Jt=>!Jt.classList.contains("buttons-collapse")),nt.addElement(ft);const Ae=(0,I.c)();Ae.addElement(O.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Tt=(0,I.c)();Tt.addElement(L(O).querySelector(".toolbar-background"));const rn=(0,I.c)(),Yt=O.querySelector("ion-back-button");if(Yt&&rn.addElement(Yt),ge.addAnimation([tt,nt,Ae,Tt,rn]),nt.fromTo(Z,.01,1),Ae.fromTo(Z,.01,1),Qe)_e||tt.fromTo("transform",`translateX(${ce})`,`translateX(${fe})`).fromTo(Z,.01,1),Ae.fromTo("transform",`translateX(${ce})`,`translateX(${fe})`),rn.fromTo(Z,.01,1);else if(yt||tt.fromTo("transform",`translateX(${it})`,`translateX(${fe})`).fromTo(Z,.01,1),Ae.fromTo("transform",`translateX(${it})`,`translateX(${fe})`),Tt.beforeClearStyles([Z,"transform"]),q?.translucent?Tt.fromTo("transform",de?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Tt.fromTo(Z,.01,"var(--opacity)"),dn||rn.fromTo(Z,.01,1),Yt&&!dn){const j=(0,I.c)();j.addElement(L(Yt).querySelector(".button-text")).fromTo("transform",de?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ge.addAnimation(j)}}),Ie){const O=(0,I.c)(),ge=Ie.querySelector(":scope > ion-content"),tt=Ie.querySelectorAll(":scope > ion-header > ion-toolbar"),nt=Ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ge||0!==tt.length||0!==nt.length?(O.addElement(ge),O.addElement(nt)):O.addElement(Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),je.addAnimation(O),Qe){O.beforeClearStyles([Z]).fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)");const Ve=(0,l.g)(Ie);je.afterAddWrite(()=>{"normal"===je.getDirection()&&Ve.style.setProperty("display","none")})}else O.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).fromTo(Z,1,.8);if(ge){const Ve=L(ge).querySelector(".transition-effect");if(Ve){const q=Ve.querySelector(".transition-cover"),_e=Ve.querySelector(".transition-shadow"),ft=(0,I.c)(),Ae=(0,I.c)(),Tt=(0,I.c)();ft.addElement(Ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ae.addElement(q).beforeClearStyles([Z]).fromTo(Z,.1,0),Tt.addElement(_e).beforeClearStyles([Z]).fromTo(Z,.7,.03),ft.addAnimation([Ae,Tt]),O.addAnimation([ft])}}tt.forEach(Ve=>{const q=(0,I.c)();q.addElement(Ve);const _e=(0,I.c)();_e.addElement(Ve.querySelector("ion-title"));const ft=(0,I.c)(),Ae=Ve.querySelectorAll("ion-buttons,[menuToggle]"),Tt=Ve.closest("ion-header"),rn=Tt?.classList.contains("header-collapse-condense-inactive"),Yt=Array.from(Ae).filter(Xo=>{const ao=Xo.classList.contains("buttons-collapse");return ao&&!rn||!ao});ft.addElement(Yt);const Jt=(0,I.c)(),j=Ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");j.length>0&&Jt.addElement(j);const Cn=(0,I.c)();Cn.addElement(L(Ve).querySelector(".toolbar-background"));const br=(0,I.c)(),Jn=Ve.querySelector("ion-back-button");if(Jn&&br.addElement(Jn),q.addAnimation([_e,ft,Jt,br,Cn]),je.addAnimation(q),br.fromTo(Z,.99,0),ft.fromTo(Z,.99,0),Jt.fromTo(Z,.99,0),Qe){if(rn||_e.fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)").fromTo(Z,.99,0),Jt.fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)"),Cn.beforeClearStyles([Z,"transform"]),Tt?.translucent?Cn.fromTo("transform","translateX(0px)",de?"translateX(-100%)":"translateX(100%)"):Cn.fromTo(Z,"var(--opacity)",0),Jn&&!Ze){const ao=(0,I.c)();ao.addElement(L(Jn).querySelector(".button-text")).fromTo("transform",`translateX(${fe})`,`translateX(${(de?-124:124)+"px"})`),q.addAnimation(ao)}}else rn||_e.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).fromTo(Z,.99,0).afterClearStyles([Y,Z]),Jt.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).afterClearStyles([Y,Z]),br.afterClearStyles([Z]),_e.afterClearStyles([Z]),ft.afterClearStyles([Z])})}return je}catch(he){throw he}}},4199:(Be,We,A)=>{"use strict";A.r(We),A.d(We,{mdTransitionAnimation:()=>z});var I=A(5933),l=A(609);A(2286),A(1559);const z=(Q,L)=>{var V,ue,X;const $="back"===L.direction,Pe=L.leavingEl,$e=(0,l.g)(L.enteringEl),he=$e.querySelector("ion-toolbar"),Z=(0,I.c)();if(Z.addElement($e).fill("both").beforeRemoveClass("ion-page-invisible"),$?Z.duration((null!==(V=L.duration)&&void 0!==V?V:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Z.duration((null!==(ue=L.duration)&&void 0!==ue?ue:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),he){const Y=(0,I.c)();Y.addElement(he),Z.addAnimation(Y)}if(Pe&&$){Z.duration((null!==(X=L.duration)&&void 0!==X?X:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Y=(0,I.c)();Y.addElement((0,l.g)(Pe)).onFinish(fe=>{1===fe&&Y.elements.length>0&&Y.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Z.addAnimation(Y)}return Z}},7580:(Be,We,A)=>{"use strict";A.d(We,{B:()=>ge,G:()=>tt,a:()=>V,b:()=>ue,c:()=>$,d:()=>Qe,e:()=>Pe,f:()=>Me,g:()=>Je,h:()=>Q,i:()=>dn,j:()=>Z,k:()=>be,l:()=>X,m:()=>se,s:()=>O});var I=A(3918),l=A(5823),re=A(159),te=A(9259);let z=0;const Q=new WeakMap,L=nt=>({create:Ve=>$e(nt,Ve),dismiss:(Ve,q,_e)=>it(document,Ve,q,nt,_e),getTop:()=>(0,I.Z)(function*(){return be(document,nt)})()}),V=L("ion-alert"),ue=L("ion-action-sheet"),X=L("ion-loading"),se=L("ion-modal"),$=L("ion-popover"),Pe=nt=>{typeof document<"u"&&de(document);const Ve=z++;nt.overlayIndex=Ve,nt.hasAttribute("id")||(nt.id=`ion-overlay-${Ve}`)},$e=(nt,Ve)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(nt).then(()=>{const q=document.createElement(nt);return q.classList.add("overlay-hidden"),Object.assign(q,Object.assign(Object.assign({},Ve),{hasController:!0})),ne(document).appendChild(q),new Promise(_e=>(0,te.c)(q,_e))}):Promise.resolve(),he='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Z=(nt,Ve)=>{let q=nt.querySelector(he);const _e=q?.shadowRoot;_e&&(q=_e.querySelector(he)||q),q?(0,te.f)(q):Ve.focus()},fe=(nt,Ve)=>{const q=Array.from(nt.querySelectorAll(he));let _e=q.length>0?q[q.length-1]:null;const ft=_e?.shadowRoot;ft&&(_e=ft.querySelector(he)||_e),_e?_e.focus():Ve.focus()},de=nt=>{0===z&&(z=1,nt.addEventListener("focus",Ve=>{((nt,Ve)=>{const q=be(Ve,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),_e=nt.target;q&&_e&&!q.classList.contains("ion-disable-focus-trap")&&(q.shadowRoot?(()=>{if(q.contains(_e))q.lastFocus=_e;else{const Tt=q.lastFocus;Z(q,q),Tt===Ve.activeElement&&fe(q,q),q.lastFocus=Ve.activeElement}})():(()=>{if(q===_e)q.lastFocus=void 0;else{const Tt=(0,te.g)(q);if(!Tt.contains(_e))return;const rn=Tt.querySelector(".ion-overlay-wrapper");if(!rn)return;if(rn.contains(_e))q.lastFocus=_e;else{const Yt=q.lastFocus;Z(rn,q),Yt===Ve.activeElement&&fe(rn,q),q.lastFocus=Ve.activeElement}}})())})(Ve,nt)},!0),nt.addEventListener("ionBackButton",Ve=>{const q=be(nt);q?.backdropDismiss&&Ve.detail.register(re.OVERLAY_BACK_BUTTON_PRIORITY,()=>q.dismiss(void 0,ge))}),nt.addEventListener("keyup",Ve=>{if("Escape"===Ve.key){const q=be(nt);q?.backdropDismiss&&q.dismiss(void 0,ge)}}))},it=(nt,Ve,q,_e,ft)=>{const Ae=be(nt,_e,ft);return Ae?Ae.dismiss(Ve,q):Promise.reject("overlay does not exist")},be=(nt,Ve,q)=>{const _e=((nt,Ve)=>(void 0===Ve&&(Ve="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(nt.querySelectorAll(Ve)).filter(q=>q.overlayIndex>0)))(nt,Ve).filter(ft=>!(nt=>nt.classList.contains("overlay-hidden"))(ft));return void 0===q?_e[_e.length-1]:_e.find(ft=>ft.id===q)},Ie=(nt=!1)=>{const q=ne(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");q&&(nt?q.setAttribute("aria-hidden","true"):q.removeAttribute("aria-hidden"))},Qe=function(){var nt=(0,I.Z)(function*(Ve,q,_e,ft,Ae){var Tt,rn;if(Ve.presented)return;Ie(!0),Ve.presented=!0,Ve.willPresent.emit(),null===(Tt=Ve.willPresentShorthand)||void 0===Tt||Tt.emit();const Yt=(0,l.b)(Ve),Jt=Ve.enterAnimation?Ve.enterAnimation:l.c.get(q,"ios"===Yt?_e:ft);(yield je(Ve,Jt,Ve.el,Ae))&&(Ve.didPresent.emit(),null===(rn=Ve.didPresentShorthand)||void 0===rn||rn.emit()),"ION-TOAST"!==Ve.el.tagName&&Oe(Ve.el),Ve.keyboardClose&&(null===document.activeElement||!Ve.el.contains(document.activeElement))&&Ve.el.focus()});return function(q,_e,ft,Ae,Tt){return nt.apply(this,arguments)}}(),Oe=function(){var nt=(0,I.Z)(function*(Ve){let q=document.activeElement;if(!q)return;const _e=q?.shadowRoot;_e&&(q=_e.querySelector(he)||q),yield Ve.onDidDismiss(),q.focus()});return function(q){return nt.apply(this,arguments)}}(),Me=function(){var nt=(0,I.Z)(function*(Ve,q,_e,ft,Ae,Tt,rn){var Yt,Jt;if(!Ve.presented)return!1;Ie(!1),Ve.presented=!1;try{Ve.el.style.setProperty("pointer-events","none"),Ve.willDismiss.emit({data:q,role:_e}),null===(Yt=Ve.willDismissShorthand)||void 0===Yt||Yt.emit({data:q,role:_e});const j=(0,l.b)(Ve),Cn=Ve.leaveAnimation?Ve.leaveAnimation:l.c.get(ft,"ios"===j?Ae:Tt);_e!==tt&&(yield je(Ve,Cn,Ve.el,rn)),Ve.didDismiss.emit({data:q,role:_e}),null===(Jt=Ve.didDismissShorthand)||void 0===Jt||Jt.emit({data:q,role:_e}),Q.delete(Ve),Ve.el.classList.add("overlay-hidden"),Ve.el.style.removeProperty("pointer-events")}catch(j){console.error(j)}return Ve.el.remove(),!0});return function(q,_e,ft,Ae,Tt,rn,Yt){return nt.apply(this,arguments)}}(),ne=nt=>nt.querySelector("ion-app")||nt.body,je=function(){var nt=(0,I.Z)(function*(Ve,q,_e,ft){_e.classList.remove("overlay-hidden");const Tt=q(Ve.el,ft);(!Ve.animated||!l.c.getBoolean("animated",!0))&&Tt.duration(0),Ve.keyboardClose&&Tt.beforeAddWrite(()=>{const Yt=_e.ownerDocument.activeElement;Yt?.matches("input,ion-input, ion-textarea")&&Yt.blur()});const rn=Q.get(Ve)||[];return Q.set(Ve,[...rn,Tt]),yield Tt.play(),!0});return function(q,_e,ft,Ae){return nt.apply(this,arguments)}}(),Je=(nt,Ve)=>{let q;const _e=new Promise(ft=>q=ft);return yt(nt,Ve,ft=>{q(ft.detail)}),_e},yt=(nt,Ve,q)=>{const _e=ft=>{(0,te.b)(nt,Ve,_e),q(ft)};(0,te.a)(nt,Ve,_e)},dn=nt=>"cancel"===nt||nt===ge,Ze=nt=>nt(),O=(nt,Ve)=>{if("function"==typeof nt)return l.c.get("_zoneGate",Ze)(()=>{try{return nt(Ve)}catch(_e){throw _e}})},ge="backdrop",tt="gesture"},4263:(Be,We,A)=>{"use strict";var I=A(9903),l=A(3855),re=l(I("String.prototype.indexOf"));Be.exports=function(z,Q){var L=I(z,!!Q);return"function"==typeof L&&re(z,".prototype.")>-1?l(L):L}},3855:(Be,We,A)=>{"use strict";var I=A(224),l=A(9903),re=l("%Function.prototype.apply%"),te=l("%Function.prototype.call%"),z=l("%Reflect.apply%",!0)||I.call(te,re),Q=l("%Object.getOwnPropertyDescriptor%",!0),L=l("%Object.defineProperty%",!0),V=l("%Math.max%");if(L)try{L({},"a",{value:1})}catch{L=null}Be.exports=function(se){var B=z(I,te,arguments);if(Q&&L){var $=Q(B,"length");$.configurable&&L(B,"length",{value:1+V(0,se.length-(arguments.length-1))})}return B};var ue=function(){return z(I,re,arguments)};L?L(Be.exports,"apply",{value:ue}):Be.exports.apply=ue},5107:Be=>{var We={utf8:{stringToBytes:function(A){return We.bin.stringToBytes(unescape(encodeURIComponent(A)))},bytesToString:function(A){return decodeURIComponent(escape(We.bin.bytesToString(A)))}},bin:{stringToBytes:function(A){for(var I=[],l=0;l<A.length;l++)I.push(255&A.charCodeAt(l));return I},bytesToString:function(A){for(var I=[],l=0;l<A.length;l++)I.push(String.fromCharCode(A[l]));return I.join("")}}};Be.exports=We},7175:Be=>{var We,A;We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be.exports=A={rotl:function(I,l){return I<<l|I>>>32-l},rotr:function(I,l){return I<<32-l|I>>>l},endian:function(I){if(I.constructor==Number)return 16711935&A.rotl(I,8)|4278255360&A.rotl(I,24);for(var l=0;l<I.length;l++)I[l]=A.endian(I[l]);return I},randomBytes:function(I){for(var l=[];I>0;I--)l.push(Math.floor(256*Math.random()));return l},bytesToWords:function(I){for(var l=[],re=0,te=0;re<I.length;re++,te+=8)l[te>>>5]|=I[re]<<24-te%32;return l},wordsToBytes:function(I){for(var l=[],re=0;re<32*I.length;re+=8)l.push(I[re>>>5]>>>24-re%32&255);return l},bytesToHex:function(I){for(var l=[],re=0;re<I.length;re++)l.push((I[re]>>>4).toString(16)),l.push((15&I[re]).toString(16));return l.join("")},hexToBytes:function(I){for(var l=[],re=0;re<I.length;re+=2)l.push(parseInt(I.substr(re,2),16));return l},bytesToBase64:function(I){for(var l=[],re=0;re<I.length;re+=3)for(var te=I[re]<<16|I[re+1]<<8|I[re+2],z=0;z<4;z++)l.push(8*re+6*z<=8*I.length?We.charAt(te>>>6*(3-z)&63):"=");return l.join("")},base64ToBytes:function(I){I=I.replace(/[^A-Z0-9+\/]/gi,"");for(var l=[],re=0,te=0;re<I.length;te=++re%4)0!=te&&l.push((We.indexOf(I.charAt(re-1))&Math.pow(2,-2*te+8)-1)<<2*te|We.indexOf(I.charAt(re))>>>6-2*te);return l}}},5541:(Be,We,A)=>{"use strict";var I=A(6189),l=A(4263),re=A(8704),te=A(9903),z=A(2069),Q=A(8432),L=A(5734),V=A(9102),ue=A(8266),X=A(2805),se=A(4666),B=A(6687),$=A(3163),U=A(2093),Pe=A(2086),$e=A(2107),he=A(5709),Z=l("ArrayBuffer.prototype.byteLength",!0)||function(_e){return _e.byteLength},Y=l("SharedArrayBuffer.prototype.byteLength",!0),fe=l("Date.prototype.getTime"),Fe=Object.getPrototypeOf,de=l("Object.prototype.toString"),it=te("%Set%",!0),ce=l("Map.prototype.has",!0),be=l("Map.prototype.get",!0),Ie=l("Map.prototype.size",!0),Qe=l("Set.prototype.add",!0),Oe=l("Set.prototype.delete",!0),Me=l("Set.prototype.has",!0),ne=l("Set.prototype.size",!0);function je(q,_e,ft,Ae){for(var rn,Tt=z(q);(rn=Tt.next())&&!rn.done;)if(O(_e,rn.value,ft,Ae))return Oe(q,rn.value),!0;return!1}function Je(q){return typeof q>"u"?null:"object"!=typeof q?"symbol"!=typeof q&&("string"!=typeof q&&"number"!=typeof q||+q==+q):void 0}function yt(q,_e,ft,Ae,Tt,rn){var Yt=Je(ft);if(null!=Yt)return Yt;var Jt=be(_e,Yt),j=I({},Tt,{strict:!1});return!(typeof Jt>"u"&&!ce(_e,Yt)||!O(Ae,Jt,j,rn))&&!ce(q,Yt)&&O(Ae,Jt,j,rn)}function dn(q,_e,ft){var Ae=Je(ft);return Ae??(Me(_e,Ae)&&!Me(q,Ae))}function Ze(q,_e,ft,Ae,Tt,rn){for(var Jt,j,Yt=z(q);(Jt=Yt.next())&&!Jt.done;)if(O(ft,j=Jt.value,Tt,rn)&&O(Ae,be(_e,j),Tt,rn))return Oe(q,j),!0;return!1}function O(q,_e,ft,Ae){var Tt=ft||{};if(Tt.strict?L(q,_e):q===_e)return!0;if(Pe(q)!==Pe(_e))return!1;if(!q||!_e||"object"!=typeof q&&"object"!=typeof _e)return Tt.strict?L(q,_e):q==_e;var Cn,Jt=Ae.has(q),j=Ae.has(_e);if(Jt&&j){if(Ae.get(q)===Ae.get(_e))return!0}else Cn={};return Jt||Ae.set(q,Cn),j||Ae.set(_e,Cn),function Ve(q,_e,ft,Ae){var Tt,rn;if(typeof q!=typeof _e||null==q||null==_e||de(q)!==de(_e)||V(q)!==V(_e))return!1;if(ue(q)!==ue(_e))return!1;var j=q instanceof Error,Cn=_e instanceof Error;if(j!==Cn||(j||Cn)&&(q.name!==_e.name||q.message!==_e.message))return!1;var br=B(q),Jn=B(_e);if(br!==Jn||(br||Jn)&&(q.source!==_e.source||re(q)!==re(_e)))return!1;var Xo=se(q),ao=se(_e);if(Xo!==ao||(Xo||ao)&&fe(q)!==fe(_e)||ft.strict&&Fe&&Fe(q)!==Fe(_e))return!1;var Ti=he(q),Pn=he(_e);if((Ti||Pn)&&Ti!==Pn)return!1;var So=ge(q),jn=ge(_e);if(So!==jn)return!1;if(So||jn){if(q.length!==_e.length)return!1;for(Tt=0;Tt<q.length;Tt++)if(q[Tt]!==_e[Tt])return!1;return!0}var Ai=X(q),no=X(_e);if(Ai!==no)return!1;if(Ai||no)return Z(q)===Z(_e)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(_e),ft,Ae);var jr=$(q),cr=$(_e);if(jr!==cr)return!1;if(jr||cr)return Y(q)===Y(_e)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(_e),ft,Ae);if(typeof q!=typeof _e)return!1;var qr=U(q),po=U(_e);if(qr.length!==po.length)return!1;for(qr.sort(),po.sort(),Tt=qr.length-1;Tt>=0;Tt--)if(qr[Tt]!=po[Tt])return!1;for(Tt=qr.length-1;Tt>=0;Tt--)if(!O(q[rn=qr[Tt]],_e[rn],ft,Ae))return!1;var mn=$e(q),lo=$e(_e);return mn===lo&&("Set"===mn||"Set"===lo?function tt(q,_e,ft,Ae){if(ne(q)!==ne(_e))return!1;for(var Yt,Jt,j,Tt=z(q),rn=z(_e);(Yt=Tt.next())&&!Yt.done;)if(Yt.value&&"object"==typeof Yt.value)j||(j=new it),Qe(j,Yt.value);else if(!Me(_e,Yt.value)){if(ft.strict||!dn(q,_e,Yt.value))return!1;j||(j=new it),Qe(j,Yt.value)}if(j){for(;(Jt=rn.next())&&!Jt.done;)if(Jt.value&&"object"==typeof Jt.value){if(!je(j,Jt.value,ft.strict,Ae))return!1}else if(!ft.strict&&!Me(q,Jt.value)&&!je(j,Jt.value,ft.strict,Ae))return!1;return 0===ne(j)}return!0}(q,_e,ft,Ae):"Map"!==mn||function nt(q,_e,ft,Ae){if(Ie(q)!==Ie(_e))return!1;for(var Yt,Jt,j,Cn,br,Jn,Tt=z(q),rn=z(_e);(Yt=Tt.next())&&!Yt.done;)if(br=Yt.value[1],(Cn=Yt.value[0])&&"object"==typeof Cn)j||(j=new it),Qe(j,Cn);else if(typeof(Jn=be(_e,Cn))>"u"&&!ce(_e,Cn)||!O(br,Jn,ft,Ae)){if(ft.strict||!yt(q,_e,Cn,br,ft,Ae))return!1;j||(j=new it),Qe(j,Cn)}if(j){for(;(Jt=rn.next())&&!Jt.done;)if(Jn=Jt.value[1],(Cn=Jt.value[0])&&"object"==typeof Cn){if(!Ze(j,q,Cn,Jn,ft,Ae))return!1}else if(!(ft.strict||q.has(Cn)&&O(be(q,Cn),Jn,ft,Ae)||Ze(j,q,Cn,Jn,I({},ft,{strict:!1}),Ae)))return!1;return 0===ne(j)}return!0}(q,_e,ft,Ae))}(q,_e,Tt,Ae)}function ge(q){return!(!q||"object"!=typeof q||"number"!=typeof q.length||"function"!=typeof q.copy||"function"!=typeof q.slice||q.length>0&&"number"!=typeof q[0]||!(q.constructor&&q.constructor.isBuffer&&q.constructor.isBuffer(q)))}Be.exports=function(_e,ft,Ae){return O(_e,ft,Ae,Q())}},1790:(Be,We,A)=>{"use strict";var I=A(2093),l="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),re=Object.prototype.toString,te=Array.prototype.concat,z=Object.defineProperty,L=A(9006)(),V=z&&L,ue=function(se,B,$,U){B in se&&(!function(se){return"function"==typeof se&&"[object Function]"===re.call(se)}(U)||!U())||(V?z(se,B,{configurable:!0,enumerable:!1,value:$,writable:!0}):se[B]=$)},X=function(se,B){var $=arguments.length>2?arguments[2]:{},U=I(B);l&&(U=te.call(U,Object.getOwnPropertySymbols(B)));for(var Pe=0;Pe<U.length;Pe+=1)ue(se,U[Pe],B[U[Pe]],$[U[Pe]])};X.supportsDescriptors=!!V,Be.exports=X},9897:function(Be,We){!function(A){"use strict";var B,re=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,te=536870912,z=2*te,L=new WeakMap,ue=function(B,$){return function(U){var Pe=$.get(U),$e=void 0===Pe?U.size:Pe<z?Pe+1:0;if(!U.has($e))return B(U,$e);if(U.size<te){for(;U.has($e);)$e=Math.floor(Math.random()*z);return B(U,$e)}if(U.size>re)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;U.has($e);)$e=Math.floor(Math.random()*re);return B(U,$e)}}((B=L,function($,U){return B.set($,U),U}),L),X=function(B){return function($){var U=B($);return $.add(U),U}}(ue);A.addUniqueNumber=X,A.generateUniqueNumber=ue}(We)},3037:(Be,We,A)=>{"use strict";var I=A(8642),l=Object.prototype.toString,re=Object.prototype.hasOwnProperty,te=function(ue,X,se){for(var B=0,$=ue.length;B<$;B++)re.call(ue,B)&&(null==se?X(ue[B],B,ue):X.call(se,ue[B],B,ue))},z=function(ue,X,se){for(var B=0,$=ue.length;B<$;B++)null==se?X(ue.charAt(B),B,ue):X.call(se,ue.charAt(B),B,ue)},Q=function(ue,X,se){for(var B in ue)re.call(ue,B)&&(null==se?X(ue[B],B,ue):X.call(se,ue[B],B,ue))};Be.exports=function(ue,X,se){if(!I(X))throw new TypeError("iterator must be a function");var B;arguments.length>=3&&(B=se),"[object Array]"===l.call(ue)?te(ue,X,B):"string"==typeof ue?z(ue,X,B):Q(ue,X,B)}},2199:Be=>{"use strict";var We="Function.prototype.bind called on incompatible ",A=Array.prototype.slice,I=Object.prototype.toString,l="[object Function]";Be.exports=function(te){var z=this;if("function"!=typeof z||I.call(z)!==l)throw new TypeError(We+z);for(var L,Q=A.call(arguments,1),V=function(){if(this instanceof L){var $=z.apply(this,Q.concat(A.call(arguments)));return Object($)===$?$:this}return z.apply(te,Q.concat(A.call(arguments)))},ue=Math.max(0,z.length-Q.length),X=[],se=0;se<ue;se++)X.push("$"+se);if(L=Function("binder","return function ("+X.join(",")+"){ return binder.apply(this,arguments); }")(V),z.prototype){var B=function(){};B.prototype=z.prototype,L.prototype=new B,B.prototype=null}return L}},224:(Be,We,A)=>{"use strict";var I=A(2199);Be.exports=Function.prototype.bind||I},3677:Be=>{"use strict";var We=function(){return"string"==typeof function(){}.name},A=Object.getOwnPropertyDescriptor;if(A)try{A([],"length")}catch{A=null}We.functionsHaveConfigurableNames=function(){if(!We()||!A)return!1;var re=A(function(){},"name");return!!re&&!!re.configurable};var I=Function.prototype.bind;We.boundFunctionsHaveNames=function(){return We()&&"function"==typeof I&&""!==function(){}.bind().name},Be.exports=We},9903:(Be,We,A)=>{"use strict";var I,l=SyntaxError,re=Function,te=TypeError,z=function(Oe){try{return re('"use strict"; return ('+Oe+").constructor;")()}catch{}},Q=Object.getOwnPropertyDescriptor;if(Q)try{Q({},"")}catch{Q=null}var L=function(){throw new te},V=Q?function(){try{return L}catch{try{return Q(arguments,"callee").get}catch{return L}}}():L,ue=A(524)(),X=Object.getPrototypeOf||function(Oe){return Oe.__proto__},se={},B=typeof Uint8Array>"u"?I:X(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?I:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?I:ArrayBuffer,"%ArrayIteratorPrototype%":ue?X([][Symbol.iterator]()):I,"%AsyncFromSyncIteratorPrototype%":I,"%AsyncFunction%":se,"%AsyncGenerator%":se,"%AsyncGeneratorFunction%":se,"%AsyncIteratorPrototype%":se,"%Atomics%":typeof Atomics>"u"?I:Atomics,"%BigInt%":typeof BigInt>"u"?I:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?I:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?I:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?I:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?I:Float32Array,"%Float64Array%":typeof Float64Array>"u"?I:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?I:FinalizationRegistry,"%Function%":re,"%GeneratorFunction%":se,"%Int8Array%":typeof Int8Array>"u"?I:Int8Array,"%Int16Array%":typeof Int16Array>"u"?I:Int16Array,"%Int32Array%":typeof Int32Array>"u"?I:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ue?X(X([][Symbol.iterator]())):I,"%JSON%":"object"==typeof JSON?JSON:I,"%Map%":typeof Map>"u"?I:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ue?I:X((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?I:Promise,"%Proxy%":typeof Proxy>"u"?I:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?I:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?I:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ue?I:X((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?I:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ue?X(""[Symbol.iterator]()):I,"%Symbol%":ue?Symbol:I,"%SyntaxError%":l,"%ThrowTypeError%":V,"%TypedArray%":B,"%TypeError%":te,"%Uint8Array%":typeof Uint8Array>"u"?I:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?I:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?I:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?I:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?I:WeakMap,"%WeakRef%":typeof WeakRef>"u"?I:WeakRef,"%WeakSet%":typeof WeakSet>"u"?I:WeakSet};try{null.error}catch(Oe){var U=X(X(Oe));$["%Error.prototype%"]=U}var Pe=function Oe(Me){var ne;if("%AsyncFunction%"===Me)ne=z("async function () {}");else if("%GeneratorFunction%"===Me)ne=z("function* () {}");else if("%AsyncGeneratorFunction%"===Me)ne=z("async function* () {}");else if("%AsyncGenerator%"===Me){var je=Oe("%AsyncGeneratorFunction%");je&&(ne=je.prototype)}else if("%AsyncIteratorPrototype%"===Me){var Je=Oe("%AsyncGenerator%");Je&&(ne=X(Je.prototype))}return $[Me]=ne,ne},$e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=A(224),Z=A(4031),Y=he.call(Function.call,Array.prototype.concat),fe=he.call(Function.apply,Array.prototype.splice),Fe=he.call(Function.call,String.prototype.replace),de=he.call(Function.call,String.prototype.slice),it=he.call(Function.call,RegExp.prototype.exec),ce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,be=/\\(\\)?/g,Ie=function(Me){var ne=de(Me,0,1),je=de(Me,-1);if("%"===ne&&"%"!==je)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===je&&"%"!==ne)throw new l("invalid intrinsic syntax, expected opening `%`");var Je=[];return Fe(Me,ce,function(yt,dn,Ze,O){Je[Je.length]=Ze?Fe(O,be,"$1"):dn||yt}),Je},Qe=function(Me,ne){var Je,je=Me;if(Z($e,je)&&(je="%"+(Je=$e[je])[0]+"%"),Z($,je)){var yt=$[je];if(yt===se&&(yt=Pe(je)),typeof yt>"u"&&!ne)throw new te("intrinsic "+Me+" exists, but is not available. Please file an issue!");return{alias:Je,name:je,value:yt}}throw new l("intrinsic "+Me+" does not exist!")};Be.exports=function(Me,ne){if("string"!=typeof Me||0===Me.length)throw new te("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ne)throw new te('"allowMissing" argument must be a boolean');if(null===it(/^%?[^%]*%?$/,Me))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var je=Ie(Me),Je=je.length>0?je[0]:"",yt=Qe("%"+Je+"%",ne),dn=yt.name,Ze=yt.value,O=!1,ge=yt.alias;ge&&(Je=ge[0],fe(je,Y([0,1],ge)));for(var tt=1,nt=!0;tt<je.length;tt+=1){var Ve=je[tt],q=de(Ve,0,1),_e=de(Ve,-1);if(('"'===q||"'"===q||"`"===q||'"'===_e||"'"===_e||"`"===_e)&&q!==_e)throw new l("property names with quotes must have matching quotes");if(("constructor"===Ve||!nt)&&(O=!0),Z($,dn="%"+(Je+="."+Ve)+"%"))Ze=$[dn];else if(null!=Ze){if(!(Ve in Ze)){if(!ne)throw new te("base intrinsic for "+Me+" exists, but the property is not available.");return}if(Q&&tt+1>=je.length){var ft=Q(Ze,Ve);Ze=(nt=!!ft)&&"get"in ft&&!("originalValue"in ft.get)?ft.get:Ze[Ve]}else nt=Z(Ze,Ve),Ze=Ze[Ve];nt&&!O&&($[dn]=Ze)}}return Ze}},253:(Be,We,A)=>{"use strict";var l=A(9903)("%Object.getOwnPropertyDescriptor%",!0);if(l)try{l([],"length")}catch{l=null}Be.exports=l},5861:Be=>{"use strict";var We=typeof BigInt<"u"&&BigInt;Be.exports=function(){return"function"==typeof We&&"function"==typeof BigInt&&"bigint"==typeof We(42)&&"bigint"==typeof BigInt(42)}},9006:(Be,We,A)=>{"use strict";var l=A(9903)("%Object.defineProperty%",!0),re=function(){if(l)try{return l({},"a",{value:1}),!0}catch{return!1}return!1};re.hasArrayLengthDefineBug=function(){if(!re())return null;try{return 1!==l([],"length",{value:1}).length}catch{return!0}},Be.exports=re},524:(Be,We,A)=>{"use strict";var I=typeof Symbol<"u"&&Symbol,l=A(6858);Be.exports=function(){return"function"==typeof I&&"function"==typeof Symbol&&"symbol"==typeof I("foo")&&"symbol"==typeof Symbol("bar")&&l()}},6858:Be=>{"use strict";Be.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var A={},I=Symbol("test"),l=Object(I);if("string"==typeof I||"[object Symbol]"!==Object.prototype.toString.call(I)||"[object Symbol]"!==Object.prototype.toString.call(l))return!1;for(I in A[I]=42,A)return!1;if("function"==typeof Object.keys&&0!==Object.keys(A).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(A).length)return!1;var te=Object.getOwnPropertySymbols(A);if(1!==te.length||te[0]!==I||!Object.prototype.propertyIsEnumerable.call(A,I))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var z=Object.getOwnPropertyDescriptor(A,I);if(42!==z.value||!0!==z.enumerable)return!1}return!0}},3261:(Be,We,A)=>{"use strict";var I=A(6858);Be.exports=function(){return I()&&!!Symbol.toStringTag}},4031:(Be,We,A)=>{"use strict";var I=A(224);Be.exports=I.call(Function.call,Object.prototype.hasOwnProperty)},5847:(Be,We,A)=>{"use strict";var I=A(9903),l=A(4031),re=A(8432)(),te=I("%TypeError%"),z={assert:function(Q,L){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");if(re.assert(Q),!z.has(Q,L))throw new te("`slot` is not present on `O`")},get:function(Q,L){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var V=re.get(Q);return V&&V["$"+L]},has:function(Q,L){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var V=re.get(Q);return!!V&&l(V,"$"+L)},set:function(Q,L,V){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var ue=re.get(Q);ue||re.set(Q,ue={}),ue["$"+L]=V}};Object.freeze&&Object.freeze(z),Be.exports=z},9102:(Be,We,A)=>{"use strict";var I=A(3261)(),re=A(4263)("Object.prototype.toString"),te=function(V){return!(I&&V&&"object"==typeof V&&Symbol.toStringTag in V)&&"[object Arguments]"===re(V)},z=function(V){return!!te(V)||null!==V&&"object"==typeof V&&"number"==typeof V.length&&V.length>=0&&"[object Array]"!==re(V)&&"[object Function]"===re(V.callee)},Q=function(){return te(arguments)}();te.isLegacyArguments=z,Be.exports=Q?te:z},2805:(Be,We,A)=>{"use strict";var I=A(3855),l=A(4263),re=A(9903),te=A(7673),z=re("ArrayBuffer",!0),Q=re("Float32Array",!0),L=l("ArrayBuffer.prototype.byteLength",!0),V=z&&!L&&(new z).slice,ue=V&&I(V);Be.exports=L||ue?function(se){if(!se||"object"!=typeof se)return!1;try{return L?L(se):ue(se,0),!0}catch{return!1}}:Q?function(se){try{return new Q(se).buffer===se&&!te(se)}catch{return!1}}:function(se){return!1}},3:(Be,We,A)=>{"use strict";if(A(5861)()){var l=BigInt.prototype.valueOf;Be.exports=function(z){return!(null===z||typeof z>"u"||"boolean"==typeof z||"string"==typeof z||"number"==typeof z||"symbol"==typeof z||"function"==typeof z)&&("bigint"==typeof z||function(z){try{return l.call(z),!0}catch{}return!1}(z))}}else Be.exports=function(z){return!1}},6180:(Be,We,A)=>{"use strict";var I=A(4263),l=I("Boolean.prototype.toString"),re=I("Object.prototype.toString"),Q=A(3261)();Be.exports=function(V){return"boolean"==typeof V||null!==V&&"object"==typeof V&&(Q&&Symbol.toStringTag in V?function(V){try{return l(V),!0}catch{return!1}}(V):"[object Boolean]"===re(V))}},5057:Be=>{function We(I){return!!I.constructor&&"function"==typeof I.constructor.isBuffer&&I.constructor.isBuffer(I)}Be.exports=function(I){return null!=I&&(We(I)||function A(I){return"function"==typeof I.readFloatLE&&"function"==typeof I.slice&&We(I.slice(0,0))}(I)||!!I._isBuffer)}},8642:Be=>{"use strict";var I,l,We=Function.prototype.toString,A="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof A&&"function"==typeof Object.defineProperty)try{I=Object.defineProperty({},"length",{get:function(){throw l}}),l={},A(function(){throw 42},null,I)}catch(he){he!==l&&(A=null)}else A=null;var re=/^\s*class\b/,te=function(Z){try{var Y=We.call(Z);return re.test(Y)}catch{return!1}},z=function(Z){try{return!te(Z)&&(We.call(Z),!0)}catch{return!1}},Q=Object.prototype.toString,$="function"==typeof Symbol&&!!Symbol.toStringTag,U=!(0 in[,]),Pe=function(){return!1};if("object"==typeof document){var $e=document.all;Q.call($e)===Q.call(document.all)&&(Pe=function(Z){if((U||!Z)&&(typeof Z>"u"||"object"==typeof Z))try{var Y=Q.call(Z);return("[object HTMLAllCollection]"===Y||"[object HTML document.all class]"===Y||"[object HTMLCollection]"===Y||"[object Object]"===Y)&&null==Z("")}catch{}return!1})}Be.exports=A?function(Z){if(Pe(Z))return!0;if(!Z||"function"!=typeof Z&&"object"!=typeof Z)return!1;try{A(Z,null,I)}catch(Y){if(Y!==l)return!1}return!te(Z)&&z(Z)}:function(Z){if(Pe(Z))return!0;if(!Z||"function"!=typeof Z&&"object"!=typeof Z)return!1;if($)return z(Z);if(te(Z))return!1;var Y=Q.call(Z);return!("[object Function]"!==Y&&"[object GeneratorFunction]"!==Y&&!/^\[object HTML/.test(Y))&&z(Z)}},4666:(Be,We,A)=>{"use strict";var I=Date.prototype.getDay,re=Object.prototype.toString,z=A(3261)();Be.exports=function(L){return"object"==typeof L&&null!==L&&(z?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Date]"===re.call(L))}},9898:Be=>{"use strict";var I,We="function"==typeof Map&&Map.prototype?Map:null,A="function"==typeof Set&&Set.prototype?Set:null;We||(I=function(z){return!1});var l=We?Map.prototype.has:null,re=A?Set.prototype.has:null;!I&&!l&&(I=function(z){return!1}),Be.exports=I||function(z){if(!z||"object"!=typeof z)return!1;try{if(l.call(z),re)try{re.call(z)}catch{return!0}return z instanceof We}catch{}return!1}},1046:(Be,We,A)=>{"use strict";var I=Number.prototype.toString,re=Object.prototype.toString,z=A(3261)();Be.exports=function(L){return"number"==typeof L||"object"==typeof L&&(z?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Number]"===re.call(L))}},6687:(Be,We,A)=>{"use strict";var re,te,z,Q,I=A(4263),l=A(3261)();if(l){re=I("Object.prototype.hasOwnProperty"),te=I("RegExp.prototype.exec"),z={};var L=function(){throw z};Q={toString:L,valueOf:L},"symbol"==typeof Symbol.toPrimitive&&(Q[Symbol.toPrimitive]=L)}var V=I("Object.prototype.toString"),ue=Object.getOwnPropertyDescriptor;Be.exports=l?function(B){if(!B||"object"!=typeof B)return!1;var $=ue(B,"lastIndex");if(!$||!re($,"value"))return!1;try{te(B,Q)}catch(Pe){return Pe===z}}:function(B){return!(!B||"object"!=typeof B&&"function"!=typeof B)&&"[object RegExp]"===V(B)}},3870:Be=>{"use strict";var I,We="function"==typeof Map&&Map.prototype?Map:null,A="function"==typeof Set&&Set.prototype?Set:null;A||(I=function(z){return!1});var l=We?Map.prototype.has:null,re=A?Set.prototype.has:null;!I&&!re&&(I=function(z){return!1}),Be.exports=I||function(z){if(!z||"object"!=typeof z)return!1;try{if(re.call(z),l)try{l.call(z)}catch{return!0}return z instanceof A}catch{}return!1}},3163:(Be,We,A)=>{"use strict";var l=A(4263)("SharedArrayBuffer.prototype.byteLength",!0);Be.exports=l?function(te){if(!te||"object"!=typeof te)return!1;try{return l(te),!0}catch{return!1}}:function(te){return!1}},4764:(Be,We,A)=>{"use strict";var I=String.prototype.valueOf,re=Object.prototype.toString,z=A(3261)();Be.exports=function(L){return"string"==typeof L||"object"==typeof L&&(z?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object String]"===re.call(L))}},6434:(Be,We,A)=>{"use strict";var I=Object.prototype.toString;if(A(524)()){var re=Symbol.prototype.toString,te=/^Symbol\(.*\)$/;Be.exports=function(L){if("symbol"==typeof L)return!0;if("[object Symbol]"!==I.call(L))return!1;try{return function(L){return"symbol"==typeof L.valueOf()&&te.test(re.call(L))}(L)}catch{return!1}}}else Be.exports=function(L){return!1}},7673:(Be,We,A)=>{"use strict";var I=A(3037),l=A(5271),re=A(4263),te=re("Object.prototype.toString"),z=A(3261)(),Q=A(253),L=typeof globalThis>"u"?global:globalThis,V=l(),ue=re("Array.prototype.indexOf",!0)||function(Pe,$e){for(var he=0;he<Pe.length;he+=1)if(Pe[he]===$e)return he;return-1},X=re("String.prototype.slice"),se={},B=Object.getPrototypeOf;z&&Q&&B&&I(V,function(U){var Pe=new L[U];if(Symbol.toStringTag in Pe){var $e=B(Pe),he=Q($e,Symbol.toStringTag);if(!he){var Z=B($e);he=Q(Z,Symbol.toStringTag)}se[U]=he.get}}),Be.exports=function(Pe){if(!Pe||"object"!=typeof Pe)return!1;if(!z||!(Symbol.toStringTag in Pe)){var $e=X(te(Pe),8,-1);return ue(V,$e)>-1}return!!Q&&function(Pe){var $e=!1;return I(se,function(he,Z){if(!$e)try{$e=he.call(Pe)===Z}catch{}}),$e}(Pe)}},5585:Be=>{"use strict";var I,We="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,A="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;We||(I=function(z){return!1});var l=We?We.prototype.has:null,re=A?A.prototype.has:null;!I&&!l&&(I=function(z){return!1}),Be.exports=I||function(z){if(!z||"object"!=typeof z)return!1;try{if(l.call(z,l),re)try{re.call(z,re)}catch{return!0}return z instanceof We}catch{}return!1}},1902:(Be,We,A)=>{"use strict";var I=A(9903),l=A(4263),re=I("%WeakSet%",!0),te=l("WeakSet.prototype.has",!0);if(te){var z=l("WeakMap.prototype.has",!0);Be.exports=function(L){if(!L||"object"!=typeof L)return!1;try{if(te(L,te),z)try{z(L,z)}catch{return!0}return L instanceof re}catch{}return!1}}else Be.exports=function(L){return!1}},8266:Be=>{var We={}.toString;Be.exports=Array.isArray||function(A){return"[object Array]"==We.call(A)}},5023:(Be,We,A)=>{var I,l,re,te,z;I=A(7175),l=A(5107).utf8,re=A(5057),te=A(5107).bin,(z=function(Q,L){Q.constructor==String?Q=L&&"binary"===L.encoding?te.stringToBytes(Q):l.stringToBytes(Q):re(Q)?Q=Array.prototype.slice.call(Q,0):!Array.isArray(Q)&&Q.constructor!==Uint8Array&&(Q=Q.toString());for(var V=I.bytesToWords(Q),ue=8*Q.length,X=1732584193,se=-271733879,B=-1732584194,$=271733878,U=0;U<V.length;U++)V[U]=16711935&(V[U]<<8|V[U]>>>24)|4278255360&(V[U]<<24|V[U]>>>8);V[ue>>>5]|=128<<ue%32,V[14+(ue+64>>>9<<4)]=ue;var Pe=z._ff,$e=z._gg,he=z._hh,Z=z._ii;for(U=0;U<V.length;U+=16){var Y=X,fe=se,Fe=B,de=$;X=Pe(X,se,B,$,V[U+0],7,-680876936),$=Pe($,X,se,B,V[U+1],12,-389564586),B=Pe(B,$,X,se,V[U+2],17,606105819),se=Pe(se,B,$,X,V[U+3],22,-1044525330),X=Pe(X,se,B,$,V[U+4],7,-176418897),$=Pe($,X,se,B,V[U+5],12,1200080426),B=Pe(B,$,X,se,V[U+6],17,-1473231341),se=Pe(se,B,$,X,V[U+7],22,-45705983),X=Pe(X,se,B,$,V[U+8],7,1770035416),$=Pe($,X,se,B,V[U+9],12,-1958414417),B=Pe(B,$,X,se,V[U+10],17,-42063),se=Pe(se,B,$,X,V[U+11],22,-1990404162),X=Pe(X,se,B,$,V[U+12],7,1804603682),$=Pe($,X,se,B,V[U+13],12,-40341101),B=Pe(B,$,X,se,V[U+14],17,-1502002290),X=$e(X,se=Pe(se,B,$,X,V[U+15],22,1236535329),B,$,V[U+1],5,-165796510),$=$e($,X,se,B,V[U+6],9,-1069501632),B=$e(B,$,X,se,V[U+11],14,643717713),se=$e(se,B,$,X,V[U+0],20,-373897302),X=$e(X,se,B,$,V[U+5],5,-701558691),$=$e($,X,se,B,V[U+10],9,38016083),B=$e(B,$,X,se,V[U+15],14,-660478335),se=$e(se,B,$,X,V[U+4],20,-405537848),X=$e(X,se,B,$,V[U+9],5,568446438),$=$e($,X,se,B,V[U+14],9,-1019803690),B=$e(B,$,X,se,V[U+3],14,-187363961),se=$e(se,B,$,X,V[U+8],20,1163531501),X=$e(X,se,B,$,V[U+13],5,-1444681467),$=$e($,X,se,B,V[U+2],9,-51403784),B=$e(B,$,X,se,V[U+7],14,1735328473),X=he(X,se=$e(se,B,$,X,V[U+12],20,-1926607734),B,$,V[U+5],4,-378558),$=he($,X,se,B,V[U+8],11,-2022574463),B=he(B,$,X,se,V[U+11],16,1839030562),se=he(se,B,$,X,V[U+14],23,-35309556),X=he(X,se,B,$,V[U+1],4,-1530992060),$=he($,X,se,B,V[U+4],11,1272893353),B=he(B,$,X,se,V[U+7],16,-155497632),se=he(se,B,$,X,V[U+10],23,-1094730640),X=he(X,se,B,$,V[U+13],4,681279174),$=he($,X,se,B,V[U+0],11,-358537222),B=he(B,$,X,se,V[U+3],16,-722521979),se=he(se,B,$,X,V[U+6],23,76029189),X=he(X,se,B,$,V[U+9],4,-640364487),$=he($,X,se,B,V[U+12],11,-421815835),B=he(B,$,X,se,V[U+15],16,530742520),X=Z(X,se=he(se,B,$,X,V[U+2],23,-995338651),B,$,V[U+0],6,-198630844),$=Z($,X,se,B,V[U+7],10,1126891415),B=Z(B,$,X,se,V[U+14],15,-1416354905),se=Z(se,B,$,X,V[U+5],21,-57434055),X=Z(X,se,B,$,V[U+12],6,1700485571),$=Z($,X,se,B,V[U+3],10,-1894986606),B=Z(B,$,X,se,V[U+10],15,-1051523),se=Z(se,B,$,X,V[U+1],21,-2054922799),X=Z(X,se,B,$,V[U+8],6,1873313359),$=Z($,X,se,B,V[U+15],10,-30611744),B=Z(B,$,X,se,V[U+6],15,-1560198380),se=Z(se,B,$,X,V[U+13],21,1309151649),X=Z(X,se,B,$,V[U+4],6,-145523070),$=Z($,X,se,B,V[U+11],10,-1120210379),B=Z(B,$,X,se,V[U+2],15,718787259),se=Z(se,B,$,X,V[U+9],21,-343485551),X=X+Y>>>0,se=se+fe>>>0,B=B+Fe>>>0,$=$+de>>>0}return I.endian([X,se,B,$])})._ff=function(Q,L,V,ue,X,se,B){var $=Q+(L&V|~L&ue)+(X>>>0)+B;return($<<se|$>>>32-se)+L},z._gg=function(Q,L,V,ue,X,se,B){var $=Q+(L&ue|V&~ue)+(X>>>0)+B;return($<<se|$>>>32-se)+L},z._hh=function(Q,L,V,ue,X,se,B){var $=Q+(L^V^ue)+(X>>>0)+B;return($<<se|$>>>32-se)+L},z._ii=function(Q,L,V,ue,X,se,B){var $=Q+(V^(L|~ue))+(X>>>0)+B;return($<<se|$>>>32-se)+L},z._blocksize=16,z._digestsize=16,Be.exports=function(Q,L){if(null==Q)throw new Error("Illegal argument "+Q);var V=I.wordsToBytes(z(Q,L));return L&&L.asBytes?V:L&&L.asString?te.bytesToString(V):I.bytesToHex(V)}},9052:(Be,We)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var A=[];A[0]=function(){return function(){}},A[1]=function(te,z){return typeof z>"u"?te:function(L){te(L,z)}};var re=function(){function te(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return te.prototype.addHandler=function(z,Q){return this.isHandlerAttached(z,Q)||(this._handlers.push(z),this._contexts.push(Q),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.removeHandler=function(z,Q){var L=this._getHandlerIndex(z,Q);return typeof L<"u"&&(this._handlers.splice(L,1),this._contexts.splice(L,1),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.isHandlerAttached=function(z,Q){return typeof this._getHandlerIndex(z,Q)<"u"},te.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},te.prototype._getHandlerIndex=function(z,Q){var V,L=this._handlers.length;for(V=0;V<L&&(this._handlers[V]!==z||this._contexts[V]!==Q);V++);return V<L?V:void 0},te.prototype._createDispatcher=function(){this.dispatch=function I(te){return A[te]||(A[te]=function l(te){for(var z="return function dispatcher"+te+"(payload) {\n",Q=[],L=[],V=0;V<te;V++)Q.push("cb"+V),L.push("ctx"+V),z+="    cb"+V+"(payload, ctx"+V+");\n";return z+="};",new(Function.bind.apply(Function,[void 0].concat(Q.concat(L),[z])))}(te)),A[te]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},te}();We.default=re},1158:(Be,We,A)=>{"use strict";var l=A(9052);We.j=l.default},8597:(Be,We,A)=>{var I="function"==typeof Map&&Map.prototype,l=Object.getOwnPropertyDescriptor&&I?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,re=I&&l&&"function"==typeof l.get?l.get:null,te=I&&Map.prototype.forEach,z="function"==typeof Set&&Set.prototype,Q=Object.getOwnPropertyDescriptor&&z?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,L=z&&Q&&"function"==typeof Q.get?Q.get:null,V=z&&Set.prototype.forEach,X="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,B="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,U="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Pe=Boolean.prototype.valueOf,$e=Object.prototype.toString,he=Function.prototype.toString,Z=String.prototype.match,Y=String.prototype.slice,fe=String.prototype.replace,Fe=String.prototype.toUpperCase,de=String.prototype.toLowerCase,it=RegExp.prototype.test,ce=Array.prototype.concat,be=Array.prototype.join,Ie=Array.prototype.slice,Qe=Math.floor,Oe="function"==typeof BigInt?BigInt.prototype.valueOf:null,Me=Object.getOwnPropertySymbols,ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,je="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Je="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,yt=Object.prototype.propertyIsEnumerable,dn=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(le){return le.__proto__}:null);function Ze(le,ze){if(le===1/0||le===-1/0||le!=le||le&&le>-1e3&&le<1e3||it.call(/e/,ze))return ze;var Rn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof le){var Bn=le<0?-Qe(-le):Qe(le);if(Bn!==le){var Gt=String(Bn),Pt=Y.call(ze,Gt.length+1);return fe.call(Gt,Rn,"$&_")+"."+fe.call(fe.call(Pt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return fe.call(ze,Rn,"$&_")}var O=A(4654),ge=O.custom,tt=Jt(ge)?ge:null;function nt(le,ze,Rn){var Bn="double"===(Rn.quoteStyle||ze)?'"':"'";return Bn+le+Bn}function Ve(le){return fe.call(String(le),/"/g,"&quot;")}function q(le){return!("[object Array]"!==Jn(le)||Je&&"object"==typeof le&&Je in le)}function ft(le){return!("[object RegExp]"!==Jn(le)||Je&&"object"==typeof le&&Je in le)}function Jt(le){if(je)return le&&"object"==typeof le&&le instanceof Symbol;if("symbol"==typeof le)return!0;if(!le||"object"!=typeof le||!ne)return!1;try{return ne.call(le),!0}catch{}return!1}Be.exports=function le(ze,Rn,Bn,Gt){var Pt=Rn||{};if(br(Pt,"quoteStyle")&&"single"!==Pt.quoteStyle&&"double"!==Pt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(br(Pt,"maxStringLength")&&("number"==typeof Pt.maxStringLength?Pt.maxStringLength<0&&Pt.maxStringLength!==1/0:null!==Pt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var wr=!br(Pt,"customInspect")||Pt.customInspect;if("boolean"!=typeof wr&&"symbol"!==wr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(br(Pt,"indent")&&null!==Pt.indent&&"\t"!==Pt.indent&&!(parseInt(Pt.indent,10)===Pt.indent&&Pt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(br(Pt,"numericSeparator")&&"boolean"!=typeof Pt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Kt=Pt.numericSeparator;if(typeof ze>"u")return"undefined";if(null===ze)return"null";if("boolean"==typeof ze)return ze?"true":"false";if("string"==typeof ze)return jr(ze,Pt);if("number"==typeof ze){if(0===ze)return 1/0/ze>0?"0":"-0";var er=String(ze);return Kt?Ze(ze,er):er}if("bigint"==typeof ze){var tr=String(ze)+"n";return Kt?Ze(ze,tr):tr}var on=typeof Pt.depth>"u"?5:Pt.depth;if(typeof Bn>"u"&&(Bn=0),Bn>=on&&on>0&&"object"==typeof ze)return q(ze)?"[Array]":"[Object]";var Bt=function us(le,ze){var Rn;if("\t"===le.indent)Rn="\t";else{if(!("number"==typeof le.indent&&le.indent>0))return null;Rn=be.call(Array(le.indent+1)," ")}return{base:Rn,prev:be.call(Array(ze+1),Rn)}}(Pt,Bn);if(typeof Gt>"u")Gt=[];else if(ao(Gt,ze)>=0)return"[Circular]";function E(_i,ui,Ao){if(ui&&(Gt=Ie.call(Gt)).push(ui),Ao){var ro={depth:Pt.depth};return br(Pt,"quoteStyle")&&(ro.quoteStyle=Pt.quoteStyle),le(_i,ro,Bn+1,Gt)}return le(_i,Pt,Bn+1,Gt)}if("function"==typeof ze&&!ft(ze)){var S=function Xo(le){if(le.name)return le.name;var ze=Z.call(he.call(le),/^function\s*([\w$]+)/);return ze?ze[1]:null}(ze),qn=at(ze,E);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(qn.length>0?" { "+be.call(qn,", ")+" }":"")}if(Jt(ze)){var D=je?fe.call(String(ze),/^(Symbol\(.*\))_[^)]*$/,"$1"):ne.call(ze);return"object"!=typeof ze||je?D:qr(D)}if(function no(le){return!(!le||"object"!=typeof le)&&(typeof HTMLElement<"u"&&le instanceof HTMLElement||"string"==typeof le.nodeName&&"function"==typeof le.getAttribute)}(ze)){for(var On="<"+de.call(String(ze.nodeName)),Qo=ze.attributes||[],ci=0;ci<Qo.length;ci++)On+=" "+Qo[ci].name+"="+nt(Ve(Qo[ci].value),"double",Pt);return On+=">",ze.childNodes&&ze.childNodes.length&&(On+="..."),On+"</"+de.call(String(ze.nodeName))+">"}if(q(ze)){if(0===ze.length)return"[]";var To=at(ze,E);return Bt&&!function lo(le){for(var ze=0;ze<le.length;ze++)if(ao(le[ze],"\n")>=0)return!1;return!0}(To)?"["+Yr(To,Bt)+"]":"[ "+be.call(To,", ")+" ]"}if(function Ae(le){return!("[object Error]"!==Jn(le)||Je&&"object"==typeof le&&Je in le)}(ze)){var Zi=at(ze,E);return"cause"in Error.prototype||!("cause"in ze)||yt.call(ze,"cause")?0===Zi.length?"["+String(ze)+"]":"{ ["+String(ze)+"] "+be.call(Zi,", ")+" }":"{ ["+String(ze)+"] "+be.call(ce.call("[cause]: "+E(ze.cause),Zi),", ")+" }"}if("object"==typeof ze&&wr){if(tt&&"function"==typeof ze[tt]&&O)return O(ze,{depth:on-Bn});if("symbol"!==wr&&"function"==typeof ze.inspect)return ze.inspect()}if(function Ti(le){if(!re||!le||"object"!=typeof le)return!1;try{re.call(le);try{L.call(le)}catch{return!0}return le instanceof Map}catch{}return!1}(ze)){var Jo=[];return te&&te.call(ze,function(_i,ui){Jo.push(E(ui,ze,!0)+" => "+E(_i,ze))}),mn("Map",re.call(ze),Jo,Bt)}if(function jn(le){if(!L||!le||"object"!=typeof le)return!1;try{L.call(le);try{re.call(le)}catch{return!0}return le instanceof Set}catch{}return!1}(ze)){var Pi=[];return V&&V.call(ze,function(_i){Pi.push(E(_i,ze))}),mn("Set",L.call(ze),Pi,Bt)}if(function Pn(le){if(!X||!le||"object"!=typeof le)return!1;try{X.call(le,X);try{B.call(le,B)}catch{return!0}return le instanceof WeakMap}catch{}return!1}(ze))return po("WeakMap");if(function Ai(le){if(!B||!le||"object"!=typeof le)return!1;try{B.call(le,B);try{X.call(le,X)}catch{return!0}return le instanceof WeakSet}catch{}return!1}(ze))return po("WeakSet");if(function So(le){if(!U||!le||"object"!=typeof le)return!1;try{return U.call(le),!0}catch{}return!1}(ze))return po("WeakRef");if(function rn(le){return!("[object Number]"!==Jn(le)||Je&&"object"==typeof le&&Je in le)}(ze))return qr(E(Number(ze)));if(function j(le){if(!le||"object"!=typeof le||!Oe)return!1;try{return Oe.call(le),!0}catch{}return!1}(ze))return qr(E(Oe.call(ze)));if(function Yt(le){return!("[object Boolean]"!==Jn(le)||Je&&"object"==typeof le&&Je in le)}(ze))return qr(Pe.call(ze));if(function Tt(le){return!("[object String]"!==Jn(le)||Je&&"object"==typeof le&&Je in le)}(ze))return qr(E(String(ze)));if(!function _e(le){return!("[object Date]"!==Jn(le)||Je&&"object"==typeof le&&Je in le)}(ze)&&!ft(ze)){var Ri=at(ze,E),ho=dn?dn(ze)===Object.prototype:ze instanceof Object||ze.constructor===Object,ei=ze instanceof Object?"":"null prototype",Sr=!ho&&Je&&Object(ze)===ze&&Je in ze?Y.call(Jn(ze),8,-1):ei?"Object":"",co=(ho||"function"!=typeof ze.constructor?"":ze.constructor.name?ze.constructor.name+" ":"")+(Sr||ei?"["+be.call(ce.call([],Sr||[],ei||[]),": ")+"] ":"");return 0===Ri.length?co+"{}":Bt?co+"{"+Yr(Ri,Bt)+"}":co+"{ "+be.call(Ri,", ")+" }"}return String(ze)};var Cn=Object.prototype.hasOwnProperty||function(le){return le in this};function br(le,ze){return Cn.call(le,ze)}function Jn(le){return $e.call(le)}function ao(le,ze){if(le.indexOf)return le.indexOf(ze);for(var Rn=0,Bn=le.length;Rn<Bn;Rn++)if(le[Rn]===ze)return Rn;return-1}function jr(le,ze){if(le.length>ze.maxStringLength){var Rn=le.length-ze.maxStringLength,Bn="... "+Rn+" more character"+(Rn>1?"s":"");return jr(Y.call(le,0,ze.maxStringLength),ze)+Bn}return nt(fe.call(fe.call(le,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,cr),"single",ze)}function cr(le){var ze=le.charCodeAt(0),Rn={8:"b",9:"t",10:"n",12:"f",13:"r"}[ze];return Rn?"\\"+Rn:"\\x"+(ze<16?"0":"")+Fe.call(ze.toString(16))}function qr(le){return"Object("+le+")"}function po(le){return le+" { ? }"}function mn(le,ze,Rn,Bn){return le+" ("+ze+") {"+(Bn?Yr(Rn,Bn):be.call(Rn,", "))+"}"}function Yr(le,ze){if(0===le.length)return"";var Rn="\n"+ze.prev+ze.base;return Rn+be.call(le,","+Rn)+"\n"+ze.prev}function at(le,ze){var Rn=q(le),Bn=[];if(Rn){Bn.length=le.length;for(var Gt=0;Gt<le.length;Gt++)Bn[Gt]=br(le,Gt)?ze(le[Gt],le):""}var wr,Pt="function"==typeof Me?Me(le):[];if(je){wr={};for(var Kt=0;Kt<Pt.length;Kt++)wr["$"+Pt[Kt]]=Pt[Kt]}for(var er in le)br(le,er)&&(Rn&&String(Number(er))===er&&er<le.length||je&&wr["$"+er]instanceof Symbol||(it.call(/[^\w$]/,er)?Bn.push(ze(er,le)+": "+ze(le[er],le)):Bn.push(er+": "+ze(le[er],le))));if("function"==typeof Me)for(var tr=0;tr<Pt.length;tr++)yt.call(le,Pt[tr])&&Bn.push("["+ze(Pt[tr])+"]: "+ze(le[Pt[tr]],le));return Bn}},6872:Be=>{"use strict";var We=function(A){return A!=A};Be.exports=function(I,l){return 0===I&&0===l?1/I==1/l:!!(I===l||We(I)&&We(l))}},5734:(Be,We,A)=>{"use strict";var I=A(1790),l=A(3855),re=A(6872),te=A(3306),z=A(7715),Q=l(te(),Object);I(Q,{getPolyfill:te,implementation:re,shim:z}),Be.exports=Q},3306:(Be,We,A)=>{"use strict";var I=A(6872);Be.exports=function(){return"function"==typeof Object.is?Object.is:I}},7715:(Be,We,A)=>{"use strict";var I=A(3306),l=A(1790);Be.exports=function(){var te=I();return l(Object,{is:te},{is:function(){return Object.is!==te}}),te}},7010:(Be,We,A)=>{"use strict";var I;if(!Object.keys){var l=Object.prototype.hasOwnProperty,re=Object.prototype.toString,te=A(5185),z=Object.prototype.propertyIsEnumerable,Q=!z.call({toString:null},"toString"),L=z.call(function(){},"prototype"),V=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ue=function($){var U=$.constructor;return U&&U.prototype===$},X={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},se=function(){if(typeof window>"u")return!1;for(var $ in window)try{if(!X["$"+$]&&l.call(window,$)&&null!==window[$]&&"object"==typeof window[$])try{ue(window[$])}catch{return!0}}catch{return!0}return!1}();I=function(U){var Pe=null!==U&&"object"==typeof U,$e="[object Function]"===re.call(U),he=te(U),Z=Pe&&"[object String]"===re.call(U),Y=[];if(!Pe&&!$e&&!he)throw new TypeError("Object.keys called on a non-object");var fe=L&&$e;if(Z&&U.length>0&&!l.call(U,0))for(var Fe=0;Fe<U.length;++Fe)Y.push(String(Fe));if(he&&U.length>0)for(var de=0;de<U.length;++de)Y.push(String(de));else for(var it in U)(!fe||"prototype"!==it)&&l.call(U,it)&&Y.push(String(it));if(Q)for(var ce=function($){if(typeof window>"u"||!se)return ue($);try{return ue($)}catch{return!1}}(U),be=0;be<V.length;++be)(!ce||"constructor"!==V[be])&&l.call(U,V[be])&&Y.push(V[be]);return Y}}Be.exports=I},2093:(Be,We,A)=>{"use strict";var I=Array.prototype.slice,l=A(5185),re=Object.keys,te=re?function(L){return re(L)}:A(7010),z=Object.keys;te.shim=function(){if(Object.keys){var L=function(){var V=Object.keys(arguments);return V&&V.length===arguments.length}(1,2);L||(Object.keys=function(ue){return l(ue)?z(I.call(ue)):z(ue)})}else Object.keys=te;return Object.keys||te},Be.exports=te},5185:Be=>{"use strict";var We=Object.prototype.toString;Be.exports=function(I){var l=We.call(I),re="[object Arguments]"===l;return re||(re="[object Array]"!==l&&null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Function]"===We.call(I.callee)),re}},2461:(Be,We,A)=>{"use strict";var I=A(2093),l=A(6858)(),re=A(4263),te=Object,z=re("Array.prototype.push"),Q=re("Object.prototype.propertyIsEnumerable"),L=l?Object.getOwnPropertySymbols:null;Be.exports=function(ue,X){if(null==ue)throw new TypeError("target must be an object");var se=te(ue);if(1===arguments.length)return se;for(var B=1;B<arguments.length;++B){var $=te(arguments[B]),U=I($),Pe=l&&(Object.getOwnPropertySymbols||L);if(Pe)for(var $e=Pe($),he=0;he<$e.length;++he){var Z=$e[he];Q($,Z)&&z(U,Z)}for(var Y=0;Y<U.length;++Y){var fe=U[Y];if(Q($,fe)){var Fe=$[fe];se[fe]=Fe}}}return se}},6189:(Be,We,A)=>{"use strict";var I=A(1790),l=A(3855),re=A(2461),te=A(6255),z=A(152),Q=l.apply(te()),L=function(ue,X){return Q(Object,arguments)};I(L,{getPolyfill:te,implementation:re,shim:z}),Be.exports=L},6255:(Be,We,A)=>{"use strict";var I=A(2461);Be.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var te="abcdefghijklmnopqrst",z=te.split(""),Q={},L=0;L<z.length;++L)Q[z[L]]=z[L];var V=Object.assign({},Q),ue="";for(var X in V)ue+=X;return te!==ue}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var te=Object.preventExtensions({1:2});try{Object.assign(te,"xy")}catch{return"y"===te[1]}return!1}()?I:Object.assign}},152:(Be,We,A)=>{"use strict";var I=A(1790),l=A(6255);Be.exports=function(){var te=l();return I(Object,{assign:te},{assign:function(){return Object.assign!==te}}),te}},151:(Be,We)=>{"use strict";var A=Object.prototype.hasOwnProperty;function l(Q){try{return decodeURIComponent(Q.replace(/\+/g," "))}catch{return null}}function re(Q){try{return encodeURIComponent(Q)}catch{return null}}We.stringify=function z(Q,L){L=L||"";var ue,X,V=[];for(X in"string"!=typeof L&&(L="?"),Q)if(A.call(Q,X)){if(!(ue=Q[X])&&(null==ue||isNaN(ue))&&(ue=""),X=re(X),ue=re(ue),null===X||null===ue)continue;V.push(X+"="+ue)}return V.length?L+V.join("&"):""},We.parse=function te(Q){for(var ue,L=/([^=?#&]+)=?([^&]*)/g,V={};ue=L.exec(Q);){var X=l(ue[1]),se=l(ue[2]);null===X||null===se||X in V||(V[X]=se)}return V}},4040:(Be,We,A)=>{"use strict";var I=A(3677).functionsHaveConfigurableNames(),l=Object,re=TypeError;Be.exports=function(){if(null!=this&&this!==l(this))throw new re("RegExp.prototype.flags getter called on non-object");var z="";return this.hasIndices&&(z+="d"),this.global&&(z+="g"),this.ignoreCase&&(z+="i"),this.multiline&&(z+="m"),this.dotAll&&(z+="s"),this.unicode&&(z+="u"),this.sticky&&(z+="y"),z},I&&Object.defineProperty&&Object.defineProperty(Be.exports,"name",{value:"get flags"})},8704:(Be,We,A)=>{"use strict";var I=A(1790),l=A(3855),re=A(4040),te=A(9783),z=A(9369),Q=l(te());I(Q,{getPolyfill:te,implementation:re,shim:z}),Be.exports=Q},9783:(Be,We,A)=>{"use strict";var I=A(4040),l=A(1790).supportsDescriptors,re=Object.getOwnPropertyDescriptor;Be.exports=function(){if(l&&"gim"===/a/gim.flags){var z=re(RegExp.prototype,"flags");if(z&&"function"==typeof z.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var Q="",L={};if(Object.defineProperty(L,"hasIndices",{get:function(){Q+="d"}}),Object.defineProperty(L,"sticky",{get:function(){Q+="y"}}),"dy"===Q)return z.get}}return I}},9369:(Be,We,A)=>{"use strict";var I=A(1790).supportsDescriptors,l=A(9783),re=Object.getOwnPropertyDescriptor,te=Object.defineProperty,z=TypeError,Q=Object.getPrototypeOf,L=/a/;Be.exports=function(){if(!I||!Q)throw new z("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ue=l(),X=Q(L),se=re(X,"flags");return(!se||se.get!==ue)&&te(X,"flags",{configurable:!0,enumerable:!1,get:ue}),ue}},47:Be=>{"use strict";Be.exports=function(A,I){if(I=I.split(":")[0],!(A=+A))return!1;switch(I){case"http":case"ws":return 80!==A;case"https":case"wss":return 443!==A;case"ftp":return 21!==A;case"gopher":return 70!==A;case"file":return!1}return 0!==A}},8432:(Be,We,A)=>{"use strict";var I=A(9903),l=A(4263),re=A(8597),te=I("%TypeError%"),z=I("%WeakMap%",!0),Q=I("%Map%",!0),L=l("WeakMap.prototype.get",!0),V=l("WeakMap.prototype.set",!0),ue=l("WeakMap.prototype.has",!0),X=l("Map.prototype.get",!0),se=l("Map.prototype.set",!0),B=l("Map.prototype.has",!0),$=function(he,Z){for(var fe,Y=he;null!==(fe=Y.next);Y=fe)if(fe.key===Z)return Y.next=fe.next,fe.next=he.next,he.next=fe,fe};Be.exports=function(){var Z,Y,fe,Fe={assert:function(de){if(!Fe.has(de))throw new te("Side channel does not contain "+re(de))},get:function(de){if(z&&de&&("object"==typeof de||"function"==typeof de)){if(Z)return L(Z,de)}else if(Q){if(Y)return X(Y,de)}else if(fe)return function(he,Z){var Y=$(he,Z);return Y&&Y.value}(fe,de)},has:function(de){if(z&&de&&("object"==typeof de||"function"==typeof de)){if(Z)return ue(Z,de)}else if(Q){if(Y)return B(Y,de)}else if(fe)return function(he,Z){return!!$(he,Z)}(fe,de);return!1},set:function(de,it){z&&de&&("object"==typeof de||"function"==typeof de)?(Z||(Z=new z),V(Z,de,it)):Q?(Y||(Y=new Q),se(Y,de,it)):(fe||(fe={key:{},next:null}),function(he,Z,Y){var fe=$(he,Z);fe?fe.value=Y:he.next={key:Z,next:he.next,value:Y}}(fe,de,it))}};return Fe}},8519:(Be,We,A)=>{"use strict";var I=A(5847),l=SyntaxError,re="object"==typeof StopIteration?StopIteration:null;Be.exports=function(z){if(!re)throw new l("this environment lacks StopIteration");I.set(z,"[[Done]]",!1);var Q={next:function(){var V=I.get(this,"[[Iterator]]"),ue=I.get(V,"[[Done]]");try{return{done:ue,value:ue?void 0:V.next()}}catch(X){if(I.set(V,"[[Done]]",!0),X!==re)throw X;return{done:!0,value:void 0}}}};return I.set(Q,"[[Iterator]]",z),Q}},9233:(Be,We,A)=>{"use strict";var I=A(47),l=A(151),re=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,te=/[\n\r\t]/g,z=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Q=/:\d+$/,L=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,V=/^[a-zA-Z]:/;function ue(Y){return(Y||"").toString().replace(re,"")}var X=[["#","hash"],["?","query"],function(fe,Fe){return $(Fe.protocol)?fe.replace(/\\/g,"/"):fe},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],se={hash:1,query:1};function B(Y){var fe;fe=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ce,de={},it=typeof(Y=Y||fe.location||{});if("blob:"===Y.protocol)de=new $e(unescape(Y.pathname),{});else if("string"===it)for(ce in de=new $e(Y,{}),se)delete de[ce];else if("object"===it){for(ce in Y)ce in se||(de[ce]=Y[ce]);void 0===de.slashes&&(de.slashes=z.test(Y.href))}return de}function $(Y){return"file:"===Y||"ftp:"===Y||"http:"===Y||"https:"===Y||"ws:"===Y||"wss:"===Y}function U(Y,fe){Y=(Y=ue(Y)).replace(te,""),fe=fe||{};var Ie,Fe=L.exec(Y),de=Fe[1]?Fe[1].toLowerCase():"",it=!!Fe[2],ce=!!Fe[3],be=0;return it?ce?(Ie=Fe[2]+Fe[3]+Fe[4],be=Fe[2].length+Fe[3].length):(Ie=Fe[2]+Fe[4],be=Fe[2].length):ce?(Ie=Fe[3]+Fe[4],be=Fe[3].length):Ie=Fe[4],"file:"===de?be>=2&&(Ie=Ie.slice(2)):$(de)?Ie=Fe[4]:de?it&&(Ie=Ie.slice(2)):be>=2&&$(fe.protocol)&&(Ie=Fe[4]),{protocol:de,slashes:it||$(de),slashesCount:be,rest:Ie}}function $e(Y,fe,Fe){if(Y=(Y=ue(Y)).replace(te,""),!(this instanceof $e))return new $e(Y,fe,Fe);var de,it,ce,be,Ie,Qe,Oe=X.slice(),Me=typeof fe,ne=this,je=0;for("object"!==Me&&"string"!==Me&&(Fe=fe,fe=null),Fe&&"function"!=typeof Fe&&(Fe=l.parse),de=!(it=U(Y||"",fe=B(fe))).protocol&&!it.slashes,ne.slashes=it.slashes||de&&fe.slashes,ne.protocol=it.protocol||fe.protocol||"",Y=it.rest,("file:"===it.protocol&&(2!==it.slashesCount||V.test(Y))||!it.slashes&&(it.protocol||it.slashesCount<2||!$(ne.protocol)))&&(Oe[3]=[/(.*)/,"pathname"]);je<Oe.length;je++)"function"!=typeof(be=Oe[je])?(Qe=be[1],(ce=be[0])!=ce?ne[Qe]=Y:"string"==typeof ce?~(Ie="@"===ce?Y.lastIndexOf(ce):Y.indexOf(ce))&&("number"==typeof be[2]?(ne[Qe]=Y.slice(0,Ie),Y=Y.slice(Ie+be[2])):(ne[Qe]=Y.slice(Ie),Y=Y.slice(0,Ie))):(Ie=ce.exec(Y))&&(ne[Qe]=Ie[1],Y=Y.slice(0,Ie.index)),ne[Qe]=ne[Qe]||de&&be[3]&&fe[Qe]||"",be[4]&&(ne[Qe]=ne[Qe].toLowerCase())):Y=be(Y,ne);Fe&&(ne.query=Fe(ne.query)),de&&fe.slashes&&"/"!==ne.pathname.charAt(0)&&(""!==ne.pathname||""!==fe.pathname)&&(ne.pathname=function Pe(Y,fe){if(""===Y)return fe;for(var Fe=(fe||"/").split("/").slice(0,-1).concat(Y.split("/")),de=Fe.length,it=Fe[de-1],ce=!1,be=0;de--;)"."===Fe[de]?Fe.splice(de,1):".."===Fe[de]?(Fe.splice(de,1),be++):be&&(0===de&&(ce=!0),Fe.splice(de,1),be--);return ce&&Fe.unshift(""),("."===it||".."===it)&&Fe.push(""),Fe.join("/")}(ne.pathname,fe.pathname)),"/"!==ne.pathname.charAt(0)&&$(ne.protocol)&&(ne.pathname="/"+ne.pathname),I(ne.port,ne.protocol)||(ne.host=ne.hostname,ne.port=""),ne.username=ne.password="",ne.auth&&(~(Ie=ne.auth.indexOf(":"))?(ne.username=ne.auth.slice(0,Ie),ne.username=encodeURIComponent(decodeURIComponent(ne.username)),ne.password=ne.auth.slice(Ie+1),ne.password=encodeURIComponent(decodeURIComponent(ne.password))):ne.username=encodeURIComponent(decodeURIComponent(ne.auth)),ne.auth=ne.password?ne.username+":"+ne.password:ne.username),ne.origin="file:"!==ne.protocol&&$(ne.protocol)&&ne.host?ne.protocol+"//"+ne.host:"null",ne.href=ne.toString()}$e.prototype={set:function he(Y,fe,Fe){var de=this;switch(Y){case"query":"string"==typeof fe&&fe.length&&(fe=(Fe||l.parse)(fe)),de[Y]=fe;break;case"port":de[Y]=fe,I(fe,de.protocol)?fe&&(de.host=de.hostname+":"+fe):(de.host=de.hostname,de[Y]="");break;case"hostname":de[Y]=fe,de.port&&(fe+=":"+de.port),de.host=fe;break;case"host":de[Y]=fe,Q.test(fe)?(fe=fe.split(":"),de.port=fe.pop(),de.hostname=fe.join(":")):(de.hostname=fe,de.port="");break;case"protocol":de.protocol=fe.toLowerCase(),de.slashes=!Fe;break;case"pathname":case"hash":if(fe){var it="pathname"===Y?"/":"#";de[Y]=fe.charAt(0)!==it?it+fe:fe}else de[Y]=fe;break;case"username":case"password":de[Y]=encodeURIComponent(fe);break;case"auth":var ce=fe.indexOf(":");~ce?(de.username=fe.slice(0,ce),de.username=encodeURIComponent(decodeURIComponent(de.username)),de.password=fe.slice(ce+1),de.password=encodeURIComponent(decodeURIComponent(de.password))):de.username=encodeURIComponent(decodeURIComponent(fe))}for(var be=0;be<X.length;be++){var Ie=X[be];Ie[4]&&(de[Ie[1]]=de[Ie[1]].toLowerCase())}return de.auth=de.password?de.username+":"+de.password:de.username,de.origin="file:"!==de.protocol&&$(de.protocol)&&de.host?de.protocol+"//"+de.host:"null",de.href=de.toString(),de},toString:function Z(Y){(!Y||"function"!=typeof Y)&&(Y=l.stringify);var fe,Fe=this,de=Fe.host,it=Fe.protocol;it&&":"!==it.charAt(it.length-1)&&(it+=":");var ce=it+(Fe.protocol&&Fe.slashes||$(Fe.protocol)?"//":"");return Fe.username?(ce+=Fe.username,Fe.password&&(ce+=":"+Fe.password),ce+="@"):Fe.password?(ce+=":"+Fe.password,ce+="@"):"file:"!==Fe.protocol&&$(Fe.protocol)&&!de&&"/"!==Fe.pathname&&(ce+="@"),(":"===de[de.length-1]||Q.test(Fe.hostname)&&!Fe.port)&&(de+=":"),ce+=de+Fe.pathname,(fe="object"==typeof Fe.query?Y(Fe.query):Fe.query)&&(ce+="?"!==fe.charAt(0)?"?"+fe:fe),Fe.hash&&(ce+=Fe.hash),ce}},$e.extractProtocol=U,$e.location=B,$e.trimLeft=ue,$e.qs=l,Be.exports=$e},2086:(Be,We,A)=>{"use strict";var I=A(4764),l=A(1046),re=A(6180),te=A(6434),z=A(3);Be.exports=function(L){return null==L||"object"!=typeof L&&"function"!=typeof L?null:I(L)?"String":l(L)?"Number":re(L)?"Boolean":te(L)?"Symbol":z(L)?"BigInt":void 0}},5709:(Be,We,A)=>{"use strict";var I=A(3037),l=A(5271),re=A(4263),te=A(253),z=re("Object.prototype.toString"),Q=A(3261)(),L=typeof globalThis>"u"?global:globalThis,V=l(),ue=re("String.prototype.slice"),X={},se=Object.getPrototypeOf;Q&&te&&se&&I(V,function(U){if("function"==typeof L[U]){var Pe=new L[U];if(Symbol.toStringTag in Pe){var $e=se(Pe),he=te($e,Symbol.toStringTag);if(!he){var Z=se($e);he=te(Z,Symbol.toStringTag)}X[U]=he.get}}});var $=A(7673);Be.exports=function(Pe){return!!$(Pe)&&(Q&&Symbol.toStringTag in Pe?function(Pe){var $e=!1;return I(X,function(he,Z){if(!$e)try{var Y=he.call(Pe);Y===Z&&($e=Y)}catch{}}),$e}(Pe):ue(z(Pe),8,-1))}},863:(Be,We,A)=>{var I={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function l(re){if(!A.o(I,re))return Promise.resolve().then(()=>{var Q=new Error("Cannot find module '"+re+"'");throw Q.code="MODULE_NOT_FOUND",Q});var te=I[re],z=te[0];return Promise.all(te.slice(1).map(A.e)).then(()=>A(z))}l.keys=()=>Object.keys(I),l.id=863,Be.exports=l},4654:()=>{},5271:Be=>{"use strict";var We=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],A=typeof globalThis>"u"?global:globalThis;Be.exports=function(){for(var l=[],re=0;re<We.length;re++)"function"==typeof A[We[re]]&&(l[l.length]=We[re]);return l}},2069:(Be,We,A)=>{"use strict";var I=A(9102),l=A(8519);if(A(524)()||A(6858)()){var re=Symbol.iterator;Be.exports=function(Ie){return null!=Ie&&typeof Ie[re]<"u"?Ie[re]():I(Ie)?Array.prototype[re].call(Ie):void 0}}else{var te=A(8266),z=A(4764),Q=A(9903),L=Q("%Map%",!0),V=Q("%Set%",!0),ue=A(4263),X=ue("Array.prototype.push"),se=ue("String.prototype.charCodeAt"),B=ue("String.prototype.slice"),U=function(Ie){var Qe=0;return{next:function(){var ne,Me=Qe>=Ie.length;return Me||(ne=Ie[Qe],Qe+=1),{done:Me,value:ne}}}},Pe=function(Ie,Qe){if(te(Ie)||I(Ie))return U(Ie);if(z(Ie)){var Oe=0;return{next:function(){var ne=function(Ie,Qe){if(Qe+1>=Ie.length)return Qe+1;var Me=se(Ie,Qe);if(Me<55296||Me>56319)return Qe+1;var ne=se(Ie,Qe+1);return ne<56320||ne>57343?Qe+1:Qe+2}(Ie,Oe),je=B(Ie,Oe,ne);return Oe=ne,{done:ne>Ie.length,value:je}}}}return Qe&&typeof Ie["_es6-shim iterator_"]<"u"?Ie["_es6-shim iterator_"]():void 0};if(L||V){var $e=A(9898),he=A(3870),Z=ue("Map.prototype.forEach",!0),Y=ue("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var fe=ue("Map.prototype.iterator",!0),Fe=ue("Set.prototype.iterator",!0);var de=ue("Map.prototype.@@iterator",!0)||ue("Map.prototype._es6-shim iterator_",!0),it=ue("Set.prototype.@@iterator",!0)||ue("Set.prototype._es6-shim iterator_",!0);Be.exports=function(Ie){return function(Ie){if($e(Ie)){if(fe)return l(fe(Ie));if(de)return de(Ie);if(Z){var Qe=[];return Z(Ie,function(Me,ne){X(Qe,[ne,Me])}),U(Qe)}}if(he(Ie)){if(Fe)return l(Fe(Ie));if(it)return it(Ie);if(Y){var Oe=[];return Y(Ie,function(Me){X(Oe,Me)}),U(Oe)}}}(Ie)||Pe(Ie)}}else Be.exports=function(Ie){if(null!=Ie)return Pe(Ie,!0)}}},2107:(Be,We,A)=>{"use strict";var I=A(9898),l=A(3870),re=A(5585),te=A(1902);Be.exports=function(Q){if(Q&&"object"==typeof Q){if(I(Q))return"Map";if(l(Q))return"Set";if(re(Q))return"WeakMap";if(te(Q))return"WeakSet"}return!1}},3918:(Be,We,A)=>{"use strict";function I(re,te,z,Q,L,V,ue){try{var X=re[V](ue),se=X.value}catch(B){return void z(B)}X.done?te(se):Promise.resolve(se).then(Q,L)}function l(re){return function(){var te=this,z=arguments;return new Promise(function(Q,L){var V=re.apply(te,z);function ue(se){I(V,Q,L,ue,X,"next",se)}function X(se){I(V,Q,L,ue,X,"throw",se)}ue(void 0)})}}A.d(We,{Z:()=>l})}},Be=>{Be(Be.s=919)}]);
//# sourceMappingURL=main.ed734672c999b4c5.js.map