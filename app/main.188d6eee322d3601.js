(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{1716:(be,Ae,C)=>{"use strict";let T=null,Z=1;function O(e){const t=T;return T=e,t}function M(e){if((!ke(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Z)){if(!e.producerMustRecompute(e)&&!k(e))return e.dirty=!1,void(e.lastCleanEpoch=Z);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Z}}function k(e){Le(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(M(r),n!==r.version))return!0}return!1}function ie(e,t){if(function N(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Le(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)ie(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Le(o),o.producerIndexOfThis[n]=t}}function ke(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Le(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let me=null;function ye(e){return"function"==typeof e}function Ie(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const we=Ie(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Xe(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class ft{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(ye(n))try{n()}catch(i){t=i instanceof we?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{Yt(i)}catch(s){t=t??[],s instanceof we?t=[...t,...s.errors]:t.push(s)}}if(t)throw new we(t)}}add(t){var r;if(t&&t!==this)if(this.closed)Yt(t);else{if(t instanceof ft){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Xe(r,t)}remove(t){const{_finalizers:r}=this;r&&Xe(r,t),t instanceof ft&&t._removeParent(this)}}ft.EMPTY=(()=>{const e=new ft;return e.closed=!0,e})();const Et=ft.EMPTY;function fn(e){return e instanceof ft||e&&"closed"in e&&ye(e.remove)&&ye(e.add)&&ye(e.unsubscribe)}function Yt(e){ye(e)?e():e.unsubscribe()}const Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},an={setTimeout(e,t,...r){const{delegate:n}=an;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=an;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function br(e){an.setTimeout(()=>{const{onUnhandledError:t}=Qt;if(!t)throw e;t(e)})}function ur(){}const Jo=Nr("C",void 0,void 0);function Nr(e,t,r){return{kind:e,value:t,error:r}}let tr=null;function So(e){if(Qt.useDeprecatedSynchronousErrorHandling){const t=!tr;if(t&&(tr={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=tr;if(tr=null,r)throw n}}else e()}class ei extends ft{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,fn(t)&&t.add(this)):this.destination=Xt}static create(t,r,n){return new Me(t,r,n)}next(t){this.isStopped?In(function mo(e){return Nr("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?In(function Fr(e){return Nr("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?In(Jo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dr=Function.prototype.bind;function oo(e,t){return dr.call(e,t)}class Te{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){nn(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){nn(n)}else nn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){nn(r)}}}class Me extends ei{constructor(t,r,n){let o;if(super(),ye(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&Qt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&oo(t.next,i),error:t.error&&oo(t.error,i),complete:t.complete&&oo(t.complete,i)}):o=t}this.destination=new Te(o)}}function nn(e){Qt.useDeprecatedSynchronousErrorHandling?function Ro(e){Qt.useDeprecatedSynchronousErrorHandling&&tr&&(tr.errorThrown=!0,tr.error=e)}(e):br(e)}function In(e,t){const{onStoppedNotification:r}=Qt;r&&an.setTimeout(()=>r(e,t))}const Xt={closed:!0,next:ur,error:function Ut(e){throw e},complete:ur},Yn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vn(e){return e}function Kr(e){return 0===e.length?Vn:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let Rn=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function Hi(e){return e&&e instanceof ei||function uo(e){return e&&ye(e.next)&&ye(e.error)&&ye(e.complete)}(e)&&fn(e)}(r)?r:new Me(r,n,o);return So(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=jo(n))((o,i)=>{const s=new Me({next:a=>{try{r(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[Yn](){return this}pipe(...r){return Kr(r)(this)}toPromise(r){return new(r=jo(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function jo(e){var t;return null!==(t=e??Qt.Promise)&&void 0!==t?t:Promise}const Go=Ie(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xn=(()=>{class e extends Rn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new Cr(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Go}next(r){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?Et:(this.currentObservers=null,i.push(r),new ft(()=>{this.currentObservers=null,Xe(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new Rn;return r.source=this,r}}return e.create=(t,r)=>new Cr(t,r),e})();class Cr extends xn{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:Et}}function Mr(e){return ye(e?.lift)}function yn(e){return t=>{if(Mr(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function _n(e,t,r,n,o){return new hi(e,t,r,n,o)}class hi extends ei{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function rn(e,t){return yn((r,n)=>{let o=0;r.subscribe(_n(n,i=>{n.next(e.call(t,i,o++))}))})}function oe(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function zo(e){return this instanceof zo?(this.v=e,this):new zo(e)}function bn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ii(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Zi=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function g(e){return ye(e?.then)}function E(e){return ye(e[Yn])}function z(e){return Symbol.asyncIterator&&ye(e?.[Symbol.asyncIterator])}function se(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ue=function Pe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ye(e){return ye(e?.[ue])}function A(e){return function ti(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(m){n[m]&&(o[m]=function(y){return new Promise(function(H,J){i.push([m,y,H,J])>1||a(m,y)})})}function a(m,y){try{!function l(m){m.value instanceof zo?Promise.resolve(m.value.v).then(c,f):p(i[0][2],m)}(n[m](y))}catch(H){p(i[0][3],H)}}function c(m){a("next",m)}function f(m){a("throw",m)}function p(m,y){m(y),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield zo(r.read());if(o)return yield zo(void 0);yield yield zo(n)}}finally{r.releaseLock()}})}function Qe(e){return ye(e?.getReader)}function je(e){if(e instanceof Rn)return e;if(null!=e){if(E(e))return function ct(e){return new Rn(t=>{const r=e[Yn]();if(ye(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Zi(e))return function St(e){return new Rn(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(g(e))return function wt(e){return new Rn(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,br)})}(e);if(z(e))return gr(e);if(Ye(e))return function Cn(e){return new Rn(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(Qe(e))return function kr(e){return gr(A(e))}(e)}throw se(e)}function gr(e){return new Rn(t=>{(function Gr(e,t){var r,n,o,i;return function zi(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(p){s(p)}}function l(f){try{c(n.throw(f))}catch(p){s(p)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=bn(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function zn(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function Pn(e,t,r=1/0){return ye(t)?Pn((n,o)=>rn((i,s)=>t(n,i,o,s))(je(e(n,o))),r):("number"==typeof t&&(r=t),yn((n,o)=>function qi(e,t,r,n,o,i,s,a){const l=[];let c=0,f=0,p=!1;const m=()=>{p&&!l.length&&!c&&t.complete()},y=J=>c<n?H(J):l.push(J),H=J=>{i&&t.next(J),c++;let _e=!1;je(r(J,f++)).subscribe(_n(t,Se=>{o?.(Se),i?y(Se):t.next(Se)},()=>{_e=!0},void 0,()=>{if(_e)try{for(c--;l.length&&c<n;){const Se=l.shift();s?zn(t,s,()=>H(Se)):H(Se)}m()}catch(Se){t.error(Se)}}))};return e.subscribe(_n(t,y,()=>{p=!0,m()})),()=>{a?.()}}(n,o,e,r)))}function Po(e=1/0){return Pn(Vn,e)}const Eo=new Rn(e=>e.complete());function Js(e){return e&&ye(e.schedule)}function Os(e){return e[e.length-1]}function ea(e){return ye(Os(e))?e.pop():void 0}function Yi(e){return Js(Os(e))?e.pop():void 0}function ta(e,t=0){return yn((r,n)=>{r.subscribe(_n(n,o=>zn(n,e,()=>n.next(o),t),()=>zn(n,e,()=>n.complete(),t),o=>zn(n,e,()=>n.error(o),t)))})}function na(e,t=0){return yn((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function ra(e,t){if(!e)throw new Error("Iterable cannot be null");return new Rn(r=>{zn(r,t,()=>{const n=e[Symbol.asyncIterator]();zn(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function Sr(e,t){return t?function Oa(e,t){if(null!=e){if(E(e))return function Ma(e,t){return je(e).pipe(na(t),ta(t))}(e,t);if(Zi(e))return function ka(e,t){return new Rn(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(g(e))return function Aa(e,t){return je(e).pipe(na(t),ta(t))}(e,t);if(z(e))return ra(e,t);if(Ye(e))return function Ra(e,t){return new Rn(r=>{let n;return zn(r,t,()=>{n=e[ue](),zn(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>ye(n?.return)&&n.return()})}(e,t);if(Qe(e))return function Pa(e,t){return ra(A(e),t)}(e,t)}throw se(e)}(e,t):je(e)}function oa(...e){const t=Yi(e),r=function Ta(e,t){return"number"==typeof Os(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?je(n[0]):Po(r)(Sr(n,t)):Eo}class fo extends xn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function jt(...e){return Sr(e,Yi(e))}function ia(e={}){const{connector:t=(()=>new xn),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,f=!1,p=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),s=l=void 0,f=p=!1},H=()=>{const J=s;y(),J?.unsubscribe()};return yn((J,_e)=>{c++,!p&&!f&&m();const Se=l=l??t();_e.add(()=>{c--,0===c&&!p&&!f&&(a=Fs(H,o))}),Se.subscribe(_e),!s&&c>0&&(s=new Me({next:Re=>Se.next(Re),error:Re=>{p=!0,m(),a=Fs(y,r,Re),Se.error(Re)},complete:()=>{f=!0,m(),a=Fs(y,n),Se.complete()}}),je(J).subscribe(s))})(i)}}function Fs(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new Me({next:()=>{n.unsubscribe(),e()}});return je(t(...r)).subscribe(n)}function Qr(e,t){return yn((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe(_n(n,l=>{o?.unsubscribe();let c=0;const f=i++;je(e(l,f)).subscribe(o=_n(n,p=>n.next(t?t(l,p,f,c++):p),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ns(e,t=Vn){return e=e??Fa,yn((r,n)=>{let o,i=!0;r.subscribe(_n(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function Fa(e,t){return e===t}function On(e){for(let t in e)if(e[t]===On)return t;throw Error("Could not find renamed property on target object.")}function fs(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function wr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(wr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Ls(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Na=On({__forward_ref__:On});function $n(e){return e.__forward_ref__=$n,e.toString=function(){return wr(this())},e}function Ht(e){return ps(e)?e():e}function ps(e){return"function"==typeof e&&e.hasOwnProperty(Na)&&e.__forward_ref__===$n}function $s(e){return e&&!!e.\u0275providers}const Bs="https://g.co/ng/security#xss";class Ke extends Error{constructor(t,r){super(function Xi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}const vi=On({\u0275cmp:On}),sa=On({\u0275dir:On}),aa=On({\u0275pipe:On}),la=On({\u0275mod:On}),ni=On({\u0275fac:On}),_r=On({__NG_ELEMENT_ID__:On}),Wo=On({__NG_ENV_ID__:On});function Ft(e){return"string"==typeof e?e:null==e?"":String(e)}function hs(e,t){throw new Ke(-201,!1)}function Jt(e,t){null==e&&function ut(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function $e(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function on(e){return{providers:e.providers||[],imports:e.imports||[]}}function Un(e){return ir(e,L)||ir(e,Je)}function ir(e,t){return e.hasOwnProperty(t)?e[t]:null}function h(e){return e&&(e.hasOwnProperty(ve)||e.hasOwnProperty(Lt))?e[ve]:null}const L=On({\u0275prov:On}),ve=On({\u0275inj:On}),Je=On({ngInjectableDef:On}),Lt=On({ngInjectorDef:On});var Mt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Mt||{});let Fn;function hn(){return Fn}function En(e){const t=Fn;return Fn=e,t}function ri(e,t,r){const n=Un(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Mt.Optional?null:void 0!==t?t:void hs(wr(e))}const Hn=globalThis;class dt{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=$e({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Wl={},wu="__NG_DI_FLAG__",Mc="ngTempTokenPath",bh=/\n/gm,ef="__source";let _l;function ca(e){const t=_l;return _l=e,t}function wh(e,t=Mt.Default){if(void 0===_l)throw new Ke(-203,!1);return null===_l?ri(e,void 0,t):_l.get(e,t&Mt.Optional?null:void 0,t)}function le(e,t=Mt.Default){return(hn()||wh)(Ht(e),t)}function ot(e,t=Mt.Default){return le(e,Ac(t))}function Ac(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Eu(e){const t=[];for(let r=0;r<e.length;r++){const n=Ht(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Ke(900,!1);let o,i=Mt.Default;for(let s=0;s<n.length;s++){const a=n[s],l=Eh(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(le(o,i))}else t.push(le(n))}return t}function Zl(e,t){return e[wu]=t,e.prototype[wu]=t,e}function Eh(e){return e[wu]}function Vs(e){return{toString:e}.toString()}var kc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(kc||{}),Qi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Qi||{});const ms={},Zn=[];function nf(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function Du(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];sf(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function rf(e){return 3===e||4===e||6===e}function sf(e){return 64===e.charCodeAt(0)}function ql(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||af(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function af(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const lf="ng-template";function xh(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==nf(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function cf(e){return 4===e.type&&e.value!==lf}function Th(e,t,r){return t===(4!==e.type||r?e.value:lf)}function Mh(e,t,r){let n=4;const o=e.attrs||[],i=function Rh(e){for(let t=0;t<e.length;t++)if(rf(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!Th(e,l,r)||""===l&&1===t.length){if(Ji(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!xh(e.attrs,c,r)){if(Ji(n))return!1;s=!0}continue}const p=Ah(8&n?"class":l,o,cf(e),r);if(-1===p){if(Ji(n))return!1;s=!0;continue}if(""!==c){let m;m=p>i?"":o[p+1].toLowerCase();const y=8&n?m:null;if(y&&-1!==nf(y,c,0)||2&n&&c!==m){if(Ji(n))return!1;s=!0}}}}else{if(!s&&!Ji(n)&&!Ji(l))return!1;if(s&&Ji(l))continue;s=!1,n=l|1&n}}return Ji(n)||s}function Ji(e){return 0==(1&e)}function Ah(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function Ph(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function uf(e,t,r=!1){for(let n=0;n<t.length;n++)if(Mh(e,t[n],r))return!0;return!1}function Oh(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function df(e,t){return e?":not("+t.trim()+")":t}function Fh(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!Ji(s)&&(t+=df(i,o),o=""),n=s,i=i||!Ji(n);r++}return""!==o&&(t+=df(i,o)),t}function Ze(e){return Vs(()=>{const t=pf(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===kc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Qi.Emulated,styles:e.styles||Zn,_:null,schemas:e.schemas||null,tView:null,id:""};hf(r);const n=e.dependencies;return r.directiveDefs=Rc(n,!1),r.pipeDefs=Rc(n,!0),r.id=function jh(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function $h(e){return Sn(e)||_o(e)}function Bh(e){return null!==e}function eo(e){return Vs(()=>({type:e.type,bootstrap:e.bootstrap||Zn,declarations:e.declarations||Zn,imports:e.imports||Zn,exports:e.exports||Zn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ff(e,t){if(null==e)return ms;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function Rt(e){return Vs(()=>{const t=pf(e);return hf(t),t})}function Do(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Sn(e){return e[vi]||null}function _o(e){return e[sa]||null}function Oo(e){return e[aa]||null}function Zo(e,t){const r=e[la]||null;if(!r&&!0===t)throw new Error(`Type ${wr(e)} does not have '\u0275mod' property.`);return r}function pf(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ms,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Zn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ff(e.inputs,t),outputs:ff(e.outputs),debugInfo:null}}function hf(e){e.features?.forEach(t=>t(e))}function Rc(e,t){if(!e)return null;const r=t?Oo:$h;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(Bh)}const to=0,lt=1,Wt=2,Vr=3,es=4,qo=5,ts=6,La=7,xr=8,di=9,da=10,un=11,Pc=12,mf=13,vl=14,sn=15,xi=16,dn=17,js=18,Oc=19,Gh=20,$a=21,Iu=22,en=23,$t=25,Qn=1,nr=7,rr=9,Nn=10;var Io=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(Io||{});function sr(e){return Array.isArray(e)&&"object"==typeof e[Qn]}function Bn(e){return Array.isArray(e)&&!0===e[Qn]}function oi(e){return 0!=(4&e.flags)}function ar(e){return e.componentOffset>-1}function zt(e){return 1==(1&e.flags)}function Ur(e){return!!e.template}function ln(e){return 0!=(512&e[Wt])}function Fc(e,t){return e.hasOwnProperty(ni)?e[ni]:null}class $P{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function yi(){return ES}function ES(e){return e.type.prototype.ngOnChanges&&(e.setInput=VP),BP}function BP(){const e=IS(this),t=e?.current;if(t){const r=e.previous;if(r===ms)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function VP(e,t,r,n){const o=this.declaredInputs[r],i=IS(e)||function jP(e,t){return e[DS]=t}(e,{previous:ms,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new $P(l&&l.currentValue,t,a===ms),e[n]=t}yi.ngInherit=!0;const DS="__ngSimpleChanges__";function IS(e){return e[DS]||null}const Ba=function(e,t,r){};function Hr(e){for(;Array.isArray(e);)e=e[to];return e}function vf(e,t){return Hr(t[e])}function Ti(e,t){return Hr(t[e.index])}function yf(e,t){return e.data[t]}function Tu(e,t){return e[t]}function _s(e,t){const r=t[e];return sr(r)?r:r[to]}function rv(e){return 128==(128&e[Wt])}function Va(e,t){return null==t?null:e[t]}function MS(e){e[dn]=0}function WP(e){1024&e[Wt]||(e[Wt]|=1024,rv(e)&&zh(e))}function kS(e){return 9216&e[Wt]||e[en]?.dirty}function RS(e){kS(e)&&zh(e)}function zh(e){let t=e[Vr];for(;null!==t&&!(Bn(t)&&t[Wt]&Io.HasChildViewsToRefresh||sr(t)&&8192&t[Wt]);){if(Bn(t))t[Wt]|=Io.HasChildViewsToRefresh;else if(t[Wt]|=8192,!rv(t))break;t=t[Vr]}}function Wh(e,t){if(256==(256&e[Wt]))throw new Ke(911,!1);null===e[$a]&&(e[$a]=[]),e[$a].push(t)}const cn={lFrame:GS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function OS(){return cn.bindingsEnabled}function Mu(){return null!==cn.skipHydrationRootTNode}function ze(){return cn.lFrame.lView}function qn(){return cn.lFrame.tView}function Dt(e){return cn.lFrame.contextLView=e,e[xr]}function It(e){return cn.lFrame.contextLView=null,e}function Rr(){let e=FS();for(;null!==e&&64===e.type;)e=e.parent;return e}function FS(){return cn.lFrame.currentTNode}function ja(e,t){const r=cn.lFrame;r.currentTNode=e,r.isParent=t}function iv(){return cn.lFrame.isParent}function sv(){cn.lFrame.isParent=!1}function Mi(){const e=cn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function yl(){return cn.lFrame.bindingIndex}function Ga(){return cn.lFrame.bindingIndex++}function bl(e){const t=cn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function rO(e,t){const r=cn.lFrame;r.bindingIndex=r.bindingRootIndex=e,av(t)}function av(e){cn.lFrame.currentDirectiveIndex=e}function BS(){return cn.lFrame.currentQueryIndex}function cv(e){cn.lFrame.currentQueryIndex=e}function iO(e){const t=e[lt];return 2===t.type?t.declTNode:1===t.type?e[qo]:null}function VS(e,t,r){if(r&Mt.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&Mt.Host||(o=iO(i),null===o||(i=i[vl],10&o.type))););if(null===o)return!1;t=o,e=i}const n=cn.lFrame=jS();return n.currentTNode=t,n.lView=e,!0}function uv(e){const t=jS(),r=e[lt];cn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function jS(){const e=cn.lFrame,t=null===e?null:e.child;return null===t?GS(e):t}function GS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function US(){const e=cn.lFrame;return cn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const HS=US;function dv(){const e=US();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bi(){return cn.lFrame.selectedIndex}function Nc(e){cn.lFrame.selectedIndex=e}function no(){const e=cn.lFrame;return yf(e.tView,e.selectedIndex)}let WS=!0;function Zh(){return WS}function Kl(e){WS=e}function qh(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),null!=f&&(e.destroyHooks??=[]).push(r,f)}}function Kh(e,t,r){ZS(e,t,3,r)}function Yh(e,t,r,n){(3&e[Wt])===r&&ZS(e,t,r,n)}function fv(e,t){let r=e[Wt];(3&r)===t&&(r&=16383,r+=1,e[Wt]=r)}function ZS(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&e[dn]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[dn]+=65536),(a<i||-1==i)&&(fO(e,r,t,l),e[dn]=(4294901760&e[dn])+l+2),l++}function qS(e,t){Ba(4,e,t);const r=O(null);try{t.call(e)}finally{O(r),Ba(5,e,t)}}function fO(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[Wt]>>14<e[dn]>>16&&(3&e[Wt])===t&&(e[Wt]+=16384,qS(a,i)):qS(a,i)}const Au=-1;class Cf{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function hv(e){return e!==Au}function Sf(e){return 32767&e}function wf(e,t){let r=function _O(e){return e>>16}(e),n=t;for(;r>0;)n=n[vl],r--;return n}let mv=!0;function Xh(e){const t=mv;return mv=e,t}const KS=255,YS=5;let vO=0;const Ua={};function Qh(e,t){const r=XS(e,t);if(-1!==r)return r;const n=t[lt];n.firstCreatePass&&(e.injectorIndex=t.length,gv(n.data,e),gv(t,null),gv(n.blueprint,null));const o=Jh(e,t),i=e.injectorIndex;if(hv(o)){const s=Sf(o),a=wf(o,t),l=a[lt].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function gv(e,t){e.push(0,0,0,0,0,0,0,0,t)}function XS(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Jh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=ow(o),null===n)return Au;if(r++,o=o[vl],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return Au}function _v(e,t,r){!function yO(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(_r)&&(n=r[_r]),null==n&&(n=r[_r]=vO++);const o=n&KS;t.data[e+(o>>YS)]|=1<<o}(e,t,r)}function QS(e,t,r){if(r&Mt.Optional||void 0!==e)return e;hs()}function JS(e,t,r,n){if(r&Mt.Optional&&void 0===n&&(n=null),!(r&(Mt.Self|Mt.Host))){const o=e[di],i=En(void 0);try{return o?o.get(t,n,r&Mt.Optional):ri(t,n,r&Mt.Optional)}finally{En(i)}}return QS(n,0,r)}function ew(e,t,r,n=Mt.Default,o){if(null!==e){if(2048&t[Wt]&&!(n&Mt.Self)){const s=function EO(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[Wt]&&!(512&s[Wt]);){const a=tw(i,s,r,n|Mt.Self,Ua);if(a!==Ua)return a;let l=i.parent;if(!l){const c=s[Gh];if(c){const f=c.get(r,Ua,n);if(f!==Ua)return f}l=ow(s),s=s[vl]}i=l}return o}(e,t,r,n,Ua);if(s!==Ua)return s}const i=tw(e,t,r,n,Ua);if(i!==Ua)return i}return JS(t,r,n,o)}function tw(e,t,r,n,o){const i=function SO(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(_r)?e[_r]:void 0;return"number"==typeof t?t>=0?t&KS:wO:t}(r);if("function"==typeof i){if(!VS(t,e,n))return n&Mt.Host?QS(o,0,n):JS(t,r,n,o);try{let s;if(s=i(n),null!=s||n&Mt.Optional)return s;hs()}finally{HS()}}else if("number"==typeof i){let s=null,a=XS(e,t),l=Au,c=n&Mt.Host?t[sn][qo]:null;for((-1===a||n&Mt.SkipSelf)&&(l=-1===a?Jh(e,t):t[a+8],l!==Au&&rw(n,!1)?(s=t[lt],a=Sf(l),t=wf(l,t)):a=-1);-1!==a;){const f=t[lt];if(nw(i,a,f.data)){const p=CO(a,t,r,s,n,c);if(p!==Ua)return p}l=t[a+8],l!==Au&&rw(n,t[lt].data[a+8]===c)&&nw(i,a,t)?(s=f,a=Sf(l),t=wf(l,t)):a=-1}}return o}function CO(e,t,r,n,o,i){const s=t[lt],a=s.data[e+8],f=em(a,s,r,null==n?ar(a)&&mv:n!=s&&0!=(3&a.type),o&Mt.Host&&i===a);return null!==f?Lc(t,s,f,a):Ua}function em(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,f=i>>20,m=o?a+f:e.directiveEnd;for(let y=n?a:a+f;y<m;y++){const H=s[y];if(y<l&&r===H||y>=l&&H.type===r)return y}if(o){const y=s[l];if(y&&Ur(y)&&y.type===r)return l}return null}function Lc(e,t,r,n){let o=e[r];const i=t.data;if(function pO(e){return e instanceof Cf}(o)){const s=o;s.resolving&&function hl(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${e}${r}`)}(function Mn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ft(e)}(i[r]));const a=Xh(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?En(s.injectImpl):null;VS(e,n,Mt.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function dO(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=ES(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==c&&En(c),Xh(a),s.resolving=!1,HS()}}return o}function nw(e,t,r){return!!(r[t+(e>>YS)]&1<<e)}function rw(e,t){return!(e&Mt.Self||e&Mt.Host&&t)}class Ko{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return ew(this._tNode,this._lView,t,Ac(n),r)}}function wO(){return new Ko(Rr(),ze())}function zr(e){return Vs(()=>{const t=e.prototype.constructor,r=t[ni]||vv(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[ni]||vv(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function vv(e){return ps(e)?()=>{const t=vv(Ht(e));return t&&t()}:Fc(e)}function ow(e){const t=e[lt],r=t.type;return 2===r?t.declTNode:1===r?e[qo]:null}function Yl(e){return function bO(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(rf(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Rr(),e)}const Ou="__parameters__";function Nu(e,t,r){return Vs(()=>{const n=function yv(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,c,f){const p=l.hasOwnProperty(Ou)?l[Ou]:Object.defineProperty(l,Ou,{value:[]})[Ou];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function $u(e,t){e.forEach(r=>Array.isArray(r)?$u(r,t):t(r))}function sw(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function tm(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Df(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function vs(e,t,r){let n=Bu(e,t);return n>=0?e[1|n]=r:(n=~n,function aw(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function Cv(e,t){const r=Bu(e,t);if(r>=0)return e[1|r]}function Bu(e,t){return function lw(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const rm=Zl(Nu("Optional"),8),om=Zl(Nu("SkipSelf"),4),ju=new dt("ENVIRONMENT_INITIALIZER"),fw=new dt("INJECTOR",-1),Ev=new dt("INJECTOR_DEF_TYPES");class sm{get(t,r=Wl){if(r===Wl){const n=new Error(`NullInjectorError: No provider for ${wr(t)}!`);throw n.name="NullInjectorError",n}return r}}function WO(...e){return{\u0275providers:pw(0,e),\u0275fromNgModule:!0}}function pw(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return $u(t,s=>{const a=s;am(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&hw(o,i),r}function hw(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];Iv(o,i=>{t(i,n)})}}function am(e,t,r,n){if(!(e=Ht(e)))return!1;let o=null,i=h(e);const s=!i&&Sn(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=h(l),!i)return!1;o=l}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)am(c,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;n.add(o);try{$u(i.imports,f=>{am(f,t,r,n)&&(c||=[],c.push(f))})}finally{}void 0!==c&&hw(c,t)}if(!a){const c=Fc(o)||(()=>new o);t({provide:o,useFactory:c,deps:Zn},o),t({provide:Ev,useValue:o,multi:!0},o),t({provide:ju,useValue:()=>le(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;Iv(l,f=>{t(f,c)})}}}return o!==e&&void 0!==e.providers}function Iv(e,t){for(let r of e)$s(r)&&(r=r.\u0275providers),Array.isArray(r)?Iv(r,t):t(r)}const ZO=On({provide:String,useValue:On});function xv(e){return null!==e&&"object"==typeof e&&ZO in e}function $c(e){return"function"==typeof e}const Tv=new dt("Set Injector scope."),lm={},KO={};let Mv;function cm(){return void 0===Mv&&(Mv=new sm),Mv}class ii{}class Gu extends ii{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kv(t,s=>this.processProvider(s)),this.records.set(fw,Uu(void 0,this)),o.has("environment")&&this.records.set(ii,Uu(void 0,this));const i=this.records.get(Tv);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Ev,Zn,Mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=ca(this),n=En(void 0);try{return t()}finally{ca(r),En(n)}}get(t,r=Wl,n=Mt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Wo))return t[Wo](this);n=Ac(n);const i=ca(this),s=En(void 0);try{if(!(n&Mt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function e2(e){return"function"==typeof e||"object"==typeof e&&e instanceof dt}(t)&&Un(t);l=c&&this.injectableDefInScope(c)?Uu(Av(t),lm):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Mt.Self?cm():this.parent).get(t,r=n&Mt.Optional&&r===Wl?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[Mc]=a[Mc]||[]).unshift(wr(t)),i)throw a;return function Dh(e,t,r,n){const o=e[Mc];throw t[ef]&&o.unshift(t[ef]),e.message=function Ih(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=wr(t);if(Array.isArray(t))o=t.map(wr).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):wr(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(bh,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[Mc]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{En(s),ca(i)}}resolveInjectorInitializers(){const t=ca(this),r=En(void 0);try{const o=this.get(ju,Zn,Mt.Self);for(const i of o)i()}finally{ca(t),En(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(wr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processProvider(t){let r=$c(t=Ht(t))?t:Ht(t&&t.provide);const n=function XO(e){return xv(e)?Uu(void 0,e.useValue):Uu(_w(e),lm)}(t);if($c(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Uu(void 0,lm,!0),o.factory=()=>Eu(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===lm&&(r.value=KO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function JO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Ht(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Av(e){const t=Un(e),r=null!==t?t.factory:Fc(e);if(null!==r)return r;if(e instanceof dt)throw new Ke(204,!1);if(e instanceof Function)return function YO(e){const t=e.length;if(t>0)throw Df(t,"?"),new Ke(204,!1);const r=function Wn(e){return e&&(e[L]||e[Je])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Ke(204,!1)}function _w(e,t,r){let n;if($c(e)){const o=Ht(e);return Fc(o)||Av(o)}if(xv(e))n=()=>Ht(e.useValue);else if(function gw(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Eu(e.deps||[]));else if(function mw(e){return!(!e||!e.useExisting)}(e))n=()=>le(Ht(e.useExisting));else{const o=Ht(e&&(e.useClass||e.provide));if(!function QO(e){return!!e.deps}(e))return Fc(o)||Av(o);n=()=>new o(...Eu(e.deps))}return n}function Uu(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function kv(e,t){for(const r of e)Array.isArray(r)?kv(r,t):r&&$s(r)?kv(r.\u0275providers,t):t(r)}function Xl(e,t){e instanceof Gu&&e.assertNotDestroyed();const n=ca(e),o=En(void 0);try{return t()}finally{ca(n),En(o)}}function Cw(e,t=null,r=null,n){const o=Sw(e,t,r,n);return o.resolveInjectorInitializers(),o}function Sw(e,t=null,r=null,n,o=new Set){const i=[r||Zn,WO(e)];return n=n||("object"==typeof e?void 0:wr(e)),new Gu(i,t||cm(),n||null,o)}let Ov,Wr=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return Cw({name:""},o,n,"");{const i=n.name??"";return Cw({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=Wl,e.NULL=new sm,e.\u0275prov=$e({token:e,providedIn:"any",factory:()=>le(fw)}),e.__NG_ELEMENT_ID__=-1,t})();const dm=new dt("AppId",{providedIn:"root",factory:()=>c2}),c2="ng",Ew=new dt("Platform Initializer"),ec=new dt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Dw=new dt("CSP nonce",{providedIn:"root",factory:()=>function Jl(){if(void 0!==Ov)return Ov;if(typeof document<"u")return document;throw new Ke(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function ys(e){return e instanceof Function?e():e}function mm(e){return 128==(128&e.flags)}var rc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(rc||{});const y2=/^>|^->|<!--|-->|--!>|<!-$/g,b2=/(<|>)/g,C2="\u200b$1\u200b";const Bv=new Map;let S2=0;const jv="__ngContext__";function Ci(e,t){sr(t)?(e[jv]=t[Oc],function E2(e){Bv.set(e[Oc],e)}(t)):e[jv]=t}let Gv;function Uv(e,t){return Gv(e,t)}function kf(e){const t=e[Vr];return Bn(t)?t[Vr]:t}function Uw(e){return zw(e[Pc])}function Hw(e){return zw(e[es])}function zw(e){for(;null!==e&&!Bn(e);)e=e[es];return e}function zu(e,t,r,n,o){if(null!=n){let i,s=!1;Bn(n)?i=n:sr(n)&&(s=!0,n=n[to]);const a=Hr(n);0===e&&null!==r?null==o?Kw(t,r,a):Bc(t,r,a,o||null,!0):1===e&&null!==r?Bc(t,r,a,o||null,!0):2===e?function Sm(e,t,r){const n=bm(e,t);n&&function U2(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function W2(e,t,r,n,o){const i=r[nr];i!==Hr(r)&&zu(t,e,n,i,o);for(let a=Nn;a<r.length;a++){const l=r[a];Of(l[lt],l,e,t,n,i)}}(t,e,i,r,o)}}function Hv(e,t){return e.createComment(function Fw(e){return e.replace(y2,t=>t.replace(b2,C2))}(t))}function vm(e,t,r){return e.createElement(t,r)}function Zw(e,t){const r=e[rr],n=r.indexOf(t);r.splice(n,1)}function Rf(e,t){if(e.length<=Nn)return;const r=Nn+t,n=e[r];if(n){const o=n[xi];null!==o&&o!==e&&Zw(o,n),t>0&&(e[r-1][es]=n[es]);const i=tm(e,Nn+t);!function F2(e,t){Of(e,t,t[un],2,null,null),t[to]=null,t[qo]=null}(n[lt],n);const s=i[js];null!==s&&s.detachView(i[lt]),n[Vr]=null,n[es]=null,n[Wt]&=-129}return n}function ym(e,t){if(!(256&t[Wt])){const r=t[un];r.destroyNode&&Of(e,t,r,3,null,null),function $2(e){let t=e[Pc];if(!t)return zv(e[lt],e);for(;t;){let r=null;if(sr(t))r=t[Pc];else{const n=t[Nn];n&&(r=n)}if(!r){for(;t&&!t[es]&&t!==e;)sr(t)&&zv(t[lt],t),t=t[Vr];null===t&&(t=e),sr(t)&&zv(t[lt],t),r=t&&t[es]}t=r}}(t)}}function zv(e,t){if(!(256&t[Wt])){t[Wt]&=-129,t[Wt]|=256,t[en]&&function ee(e){if(Le(e),ke(e))for(let t=0;t<e.producerNode.length;t++)ie(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[en]),function G2(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof Cf)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Ba(4,a,l);try{l.call(a)}finally{Ba(5,a,l)}}else{Ba(4,o,i);try{i.call(o)}finally{Ba(5,o,i)}}}}}(e,t),function j2(e,t){const r=e.cleanup,n=t[La];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[La]=null);const o=t[$a];if(null!==o){t[$a]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[lt].type&&t[un].destroy();const r=t[xi];if(null!==r&&Bn(t[Vr])){r!==t[Vr]&&Zw(r,t);const n=t[js];null!==n&&n.detachView(e)}!function D2(e){Bv.delete(e[Oc])}(t)}}function Wv(e,t,r){return function qw(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[to];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===Qi.None||i===Qi.Emulated)return null}return Ti(n,r)}}(e,t.parent,r)}function Bc(e,t,r,n,o){e.insertBefore(t,r,n,o)}function Kw(e,t,r){e.appendChild(t,r)}function Yw(e,t,r,n,o){null!==n?Bc(e,t,r,n,o):Kw(e,t,r)}function bm(e,t){return e.parentNode(t)}function Xw(e,t,r){return Jw(e,t,r)}let Zv,wm,Jw=function Qw(e,t,r){return 40&e.type?Ti(e,r):null};function Cm(e,t,r,n){const o=Wv(e,n,t),i=t[un],a=Xw(n.parent||t[qo],n,t);if(null!=o)if(Array.isArray(r))for(let l=0;l<r.length;l++)Yw(i,o,r[l],a,!1);else Yw(i,o,r,a,!1);void 0!==Zv&&Zv(i,n,t,r,o)}function Pf(e,t){if(null!==t){const r=t.type;if(3&r)return Ti(t,e);if(4&r)return qv(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return Pf(e,n);{const o=e[t.index];return Bn(o)?qv(-1,o):Hr(o)}}if(32&r)return Uv(t,e)()||Hr(e[t.index]);{const n=tE(e,t);return null!==n?Array.isArray(n)?n[0]:Pf(kf(e[sn]),n):Pf(e,t.next)}}return null}function tE(e,t){return null!==t?e[sn][qo].projection[t.projection]:null}function qv(e,t){const r=Nn+e+1;if(r<t.length){const n=t[r],o=n[lt].firstChild;if(null!==o)return Pf(n,o)}return t[nr]}function Kv(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&Ci(Hr(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)Kv(e,t,r.child,n,o,i,!1),zu(t,e,o,a,i);else if(32&l){const c=Uv(r,n);let f;for(;f=c();)zu(t,e,o,f,i);zu(t,e,o,a,i)}else 16&l?rE(e,t,n,r,o,i):zu(t,e,o,a,i);r=s?r.projectionNext:r.next}}function Of(e,t,r,n,o,i){Kv(r,n,e.firstChild,t,o,i,!1)}function rE(e,t,r,n,o,i){const s=r[sn],l=s[qo].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)zu(t,e,o,l[c],i);else{let c=l;const f=s[Vr];mm(n)&&(c.flags|=128),Kv(e,t,c,f,o,i,!0)}}function oE(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function iE(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&Du(e,t,n),null!==o&&oE(e,t,o),null!==i&&function q2(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function Wu(e){return function Yv(){if(void 0===wm&&(wm=null,Hn.trustedTypes))try{wm=Hn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return wm}()?.createHTML(e)||e}class Vc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bs})`}}class Q2 extends Vc{getTypeName(){return"HTML"}}class J2 extends Vc{getTypeName(){return"Style"}}class eF extends Vc{getTypeName(){return"Script"}}class tF extends Vc{getTypeName(){return"URL"}}class nF extends Vc{getTypeName(){return"ResourceURL"}}function bs(e){return e instanceof Vc?e.changingThisBreaksApplicationSecurity:e}function Ha(e,t){const r=function rF(e){return e instanceof Vc&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Bs})`)}return r===t}class cF{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Wu(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class uF{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Wu(t),r}}const fF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dm(e){return(e=String(e)).match(fF)?e:"unsafe:"+e}function Cl(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Ff(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const uE=Cl("area,br,col,hr,img,wbr"),dE=Cl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fE=Cl("rp,rt"),Qv=Ff(uE,Ff(dE,Cl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ff(fE,Cl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ff(fE,dE)),Jv=Cl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pE=Ff(Jv,Cl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pF=Cl("script,style,template");class hF{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!Qv.hasOwnProperty(r))return this.sanitizedSomething=!0,!pF.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!pE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;Jv[a]&&(l=Dm(l)),this.buf.push(" ",s,'="',hE(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();Qv.hasOwnProperty(r)&&!uE.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(hE(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const mF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gF=/([^\#-~ |!])/g;function hE(e){return e.replace(/&/g,"&amp;").replace(mF,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(gF,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Im;function mE(e,t){let r=null;try{Im=Im||function cE(e){const t=new uF(e);return function dF(){try{return!!(new window.DOMParser).parseFromString(Wu(""),"text/html")}catch{return!1}}()?new cF(t):t}(e);let n=t?String(t):"";r=Im.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=Im.getInertBodyElement(n)}while(n!==i);return Wu((new hF).sanitizeChildren(ey(r)||r))}finally{if(r){const n=ey(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function ey(e){return"content"in e&&function _F(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Cs=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Cs||{});let yE=(e,t,r)=>null;function ly(e,t,r=!1){return yE(e,t,r)}class RF{}class SE{}class OF{resolveComponentFactory(t){throw function PF(e){const t=Error(`No component factory found for ${wr(e)}.`);return t.ngComponent=e,t}(t)}}let Rm=(()=>{class t{}return t.NULL=new OF,t})();function FF(){return Ku(Rr(),ze())}function Ku(e,t){return new et(Ti(e,t))}let et=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=FF,t})();function NF(e){return e instanceof et?e.nativeElement:e}class EE{}let Sl=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function LF(){const e=ze(),r=_s(Rr().index,e);return(sr(r)?r:e)[un]}(),t})(),$F=(()=>{var e;class t{}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>null}),t})();class Bf{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const BF=new Bf("17.0.7"),dy={};function DE(e){const t=O(null);try{return e()}finally{O(t)}}function Pm(e){return!!function fy(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class IE{constructor(){}supports(t){return Pm(t)}create(t){return new HF(t)}}const UF=(e,t)=>t;class HF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||UF}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<TE(n,o,i)?r:n,a=TE(s,o,i),l=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,f=l-o;if(c!=f){for(let m=0;m<c;m++){const y=m<i.length?i[m]:i[m]=0,H=y+m;f<=H&&H<c&&(i[m]=y+1)}i[s.previousIndex]=f-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Pm(t))throw new Ke(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function GF(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new zF(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new xE),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class zF{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class xE{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new WF,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TE(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function AE(){return new Om([new IE])}let Om=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||AE()),deps:[[t,new om,new rm]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new Ke(901,!1)}}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:AE}),t})();function jf(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];null!==i&&n.push(Hr(i)),Bn(i)&&RE(i,n);const s=r.type;if(8&s)jf(e,t,r.child,n);else if(32&s){const a=Uv(r,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=tE(t,r);if(Array.isArray(a))n.push(...a);else{const l=kf(t[sn]);jf(l[lt],l,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function RE(e,t){for(let r=Nn;r<e.length;r++){const n=e[r],o=n[lt].firstChild;null!==o&&jf(n[lt],n,o,t)}e[nr]!==e[to]&&t.push(e[nr])}let PE=[];const JF={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{zh(e.lView)},consumerOnSignalRead(){this.lView[en]=this}};function py(e){return e.ngOriginalError}class wl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&py(t);for(;r&&py(r);)r=py(r);return r||null}}const FE=new dt("",{providedIn:"root",factory:()=>ot(wl).handleError.bind(void 0)}),LE=new dt("",{providedIn:"root",factory:()=>!1}),mn={};function ge(e){jE(qn(),ze(),bi()+e,!1)}function jE(e,t,r,n){if(!n)if(3==(3&t[Wt])){const i=e.preOrderCheckHooks;null!==i&&Kh(t,i,r)}else{const i=e.preOrderHooks;null!==i&&Yh(t,i,0,r)}Nc(r)}function _(e,t=Mt.Default){const r=ze();return null===r?le(e,t):ew(Rr(),r,Ht(e),t)}function Nm(e,t,r,n,o,i,s,a,l,c,f){const p=t.blueprint.slice();return p[to]=o,p[Wt]=140|n,(null!==c||e&&2048&e[Wt])&&(p[Wt]|=2048),MS(p),p[Vr]=p[vl]=e,p[xr]=r,p[da]=s||e&&e[da],p[un]=a||e&&e[un],p[di]=l||e&&e[di]||null,p[qo]=i,p[Oc]=function w2(){return S2++}(),p[ts]=f,p[Gh]=c,p[sn]=2==t.type?e[sn]:p,p}function Yu(e,t,r,n,o){let i=e.data[t];if(null===i)i=function hy(e,t,r,n,o){const i=FS(),s=iv(),l=e.data[t]=function fN(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return Mu()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(e,t,r,n,o),function nO(){return cn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function bf(){const e=cn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return ja(i,!0),i}function Gf(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function UE(e,t,r,n,o){const i=bi(),s=2&n;try{Nc(-1),s&&t.length>$t&&jE(e,t,$t,!1),Ba(s?2:0,o),r(n,o)}finally{Nc(i),Ba(s?3:1,o)}}function my(e,t,r){if(oi(t)){const n=O(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{O(n)}}}function gy(e,t,r){OS()&&(function yN(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;ar(r)&&function IN(e,t,r){const n=Ti(t,e),o=HE(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=Lm(e,Nm(e,o,null,s,n,t,null,e[da].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||Qh(r,t),Ci(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],c=Lc(t,e,a,r);Ci(c,t),null!==s&&xN(0,a-o,c,l,0,s),Ur(l)&&(_s(r.index,t)[xr]=Lc(t,e,a,r))}}(e,t,r,Ti(r,t)),64==(64&r.flags)&&KE(e,t,r))}function _y(e,t,r=Ti){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function HE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=vy(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function vy(e,t,r,n,o,i,s,a,l,c,f){const p=$t+n,m=p+o,y=function sN(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:mn);return r}(p,m),H="function"==typeof c?c():c;return y[lt]={type:e,blueprint:y,template:r,queries:null,viewQuery:a,declTNode:t,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:H,incompleteFirstPass:!1,ssrId:f}}let zE=e=>null;function WE(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?ZE(r,t,o,i):n.hasOwnProperty(o)&&ZE(r,t,n[o],i)}return r}function ZE(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function Ss(e,t,r,n,o,i,s,a){const l=Ti(t,r);let f,c=t.inputs;!a&&null!=c&&(f=c[n])?(wy(e,r,f,n,o),ar(t)&&function mN(e,t){const r=_s(t,e);16&r[Wt]||(r[Wt]|=64)}(r,t.index)):3&t.type&&(n=function hN(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(l,n,o))}function yy(e,t,r,n){if(OS()){const o=null===n?null:{"":-1},i=function CN(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if(uf(t,s.selectors,!1))if(n||(n=[]),Ur(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),by(e,t,a.length)}else n.unshift(s),by(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&qE(e,t,r,s,o,a),o&&function SN(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new Ke(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=ql(r.mergedAttrs,r.attrs)}function qE(e,t,r,n,o,i){for(let c=0;c<n.length;c++)_v(Qh(r,t),e,n[c].type);!function EN(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let c=0;c<n.length;c++){const f=n[c];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=Gf(e,t,n.length,null);for(let c=0;c<n.length;c++){const f=n[c];r.mergedAttrs=ql(r.mergedAttrs,f.hostAttrs),DN(e,r,t,l,f),wN(l,f,o),null!==f.contentQueries&&(r.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(r.flags|=64);const p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function pN(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,c=null;for(let f=t.directiveStart;f<o;f++){const p=i[f],m=r?r.get(p):null,H=m?m.outputs:null;l=WE(p.inputs,f,l,m?m.inputs:null),c=WE(p.outputs,f,c,H);const J=null===l||null===s||cf(t)?null:TN(l,f,s);a.push(J)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,r,i)}function KE(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function oO(){return cn.lFrame.currentDirectiveIndex}();try{Nc(i);for(let a=n;a<o;a++){const l=e.data[a],c=t[a];av(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&bN(l,c)}}finally{Nc(-1),av(s)}}function bN(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function by(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function wN(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Ur(t)&&(r[""]=e)}}function DN(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=Fc(o.type)),s=new Cf(i,Ur(o),_);e.blueprint[n]=s,r[n]=s,function _N(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function vN(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,Gf(e,r,o.hostVars,mn),o)}function za(e,t,r,n,o,i){const s=Ti(e,t);!function Cy(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?Ft(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[un],s,i,e.value,r,n,o)}function xN(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)YE(n,r,s[a++],s[a++],s[a++])}function YE(e,t,r,n,o){const i=O(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{O(i)}}function TN(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function XE(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function QE(e,t){const r=e.contentQueries;if(null!==r){const n=O(null);try{for(let o=0;o<r.length;o+=2){const s=r[o+1];if(-1!==s){const a=e.data[s];cv(r[o]),a.contentQueries(2,t[s],s)}}}finally{O(n)}}}function Lm(e,t){return e[Pc]?e[mf][es]=t:e[Pc]=t,e[mf]=t,t}function Sy(e,t,r){cv(0);const n=O(null);try{t(e,r)}finally{O(n)}}function JE(e){return e[La]||(e[La]=[])}function eD(e){return e.cleanup||(e.cleanup=[])}function $m(e,t){const r=e[di],n=r?r.get(wl,null):null;n&&n.handleError(t)}function wy(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];YE(e.data[s],t[s],n,a,o)}}function El(e,t,r){const n=vf(t,e);!function Ww(e,t,r){e.setValue(t,r)}(e[un],n,r)}function kN(e,t,r,n){const o=t[Wt];if(256==(256&o))return;t[da].inlineEffectRunner?.flush(),uv(t);let s=null,a=null;(function RN(e){return 2!==e.type})(e)&&(a=function YF(e){return e[en]??function XF(e){const t=PE.pop()??Object.create(JF);return t.lView=e,t}(e)}(t),s=function te(e){return e&&(e.nextProducerIndex=0),O(e)}(a));try{MS(t),function LS(e){return cn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&UE(e,t,r,2,n);const l=3==(3&o);if(l){const p=e.preOrderCheckHooks;null!==p&&Kh(t,p,null)}else{const p=e.preOrderHooks;null!==p&&Yh(t,p,0,null),fv(t,0)}if(function PN(e){for(let t=Uw(e);null!==t;t=Hw(t)){if(!(t[Wt]&Io.HasTransplantedViews))continue;const r=t[rr];for(let n=0;n<r.length;n++){WP(r[n])}}}(t),nD(t,0),null!==e.contentQueries&&QE(e,t),l){const p=e.contentCheckHooks;null!==p&&Kh(t,p)}else{const p=e.contentHooks;null!==p&&Yh(t,p,1),fv(t,1)}!function iN(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const o=r[n];if(o<0)Nc(~o);else{const i=o,s=r[++n],a=r[++n];rO(s,i),a(2,t[i])}}}finally{Nc(-1)}}(e,t);const c=e.components;null!==c&&oD(t,c,0);const f=e.viewQuery;if(null!==f&&Sy(2,f,n),l){const p=e.viewCheckHooks;null!==p&&Kh(t,p)}else{const p=e.viewHooks;null!==p&&Yh(t,p,2),fv(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Iu]){for(const p of t[Iu])p();t[Iu]=null}t[Wt]&=-73}catch(l){throw zh(t),l}finally{null!==a&&(function W(e,t){if(O(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ke(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ie(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function QF(e){e.lView[en]!==e&&(e.lView=null,PE.push(e))}(a)),dv()}}function nD(e,t){for(let r=Uw(e);null!==r;r=Hw(r)){r[Wt]&=~Io.HasChildViewsToRefresh;for(let n=Nn;n<r.length;n++)rD(r[n],t)}}function ON(e,t,r){rD(_s(t,e),r)}function rD(e,t){rv(e)&&Dy(e,t)}function Dy(e,t){const n=e[lt],o=e[Wt],i=e[en];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!k(i)),i&&(i.dirty=!1),e[Wt]&=-9217,s)kN(n,e,n.template,e[xr]);else if(8192&o){nD(e,1);const a=n.components;null!==a&&oD(e,a,1)}}function oD(e,t,r){for(let n=0;n<t.length;n++)ON(e,t[n],r)}function Uf(e){for(;e;){e[Wt]|=64;const t=kf(e);if(ln(e)&&!t)return e;e=t}return null}class Hf{get rootNodes(){const t=this._lView,r=t[lt];return jf(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xr]}set context(t){this._lView[xr]=t}get destroyed(){return 256==(256&this._lView[Wt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Vr];if(Bn(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(Rf(t,n),tm(r,n))}this._attachedToViewContainer=!1}ym(this._lView[lt],this._lView)}onDestroy(t){Wh(this._lView,t)}markForCheck(){Uf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wt]&=-129}reattach(){RS(this._lView),this._lView[Wt]|=128}detectChanges(){this._lView[Wt]|=1024,function Ey(e,t=!0){const r=e[da],n=r.rendererFactory,o=r.afterRenderEventManager;n.begin?.(),o?.begin();try{!function AN(e){Dy(e,0);let t=0;for(;kS(e);){if(100===t)throw new Ke(103,!1);t++,Dy(e,1)}}(e)}catch(s){throw t&&$m(e,s),s}finally{n.end?.(),r.inlineEffectRunner?.flush(),o?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function L2(e,t){Of(e,t,t[un],2,null,null)}(this._lView[lt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ke(902,!1);this._appRef=t}}let at=(()=>{class t{}return t.__NG_ELEMENT_ID__=FN,t})();function FN(e){return function NN(e,t,r){if(ar(e)&&!r){const n=_s(e.index,t);return new Hf(n,n)}return 47&e.type?new Hf(t[sn],t):null}(Rr(),ze(),16==(16&e))}let Bm=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=VN,e.__NG_ENV_ID__=r=>r,t})();class BN extends Bm{constructor(t){super(),this._lView=t}onDestroy(t){return Wh(this._lView,t),()=>function ov(e,t){if(null===e[$a])return;const r=e[$a].indexOf(t);-1!==r&&e[$a].splice(r,1)}(this._lView,t)}}function VN(){return new BN(ze())}const iD=new Set;function jc(e){iD.has(e)||(iD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Iy(e){return t=>{setTimeout(e,void 0,t)}}const tn=class ZN extends xn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=Iy(i),o&&(o=Iy(o)),s&&(s=Iy(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof ft&&t.add(a),a}};function sD(...e){}class He{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tn(!1),this.onMicrotaskEmpty=new tn(!1),this.onStable=new tn(!1),this.onError=new tn(!1),typeof Zone>"u")throw new Ke(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function qN(){const e="function"==typeof Hn.requestAnimationFrame;let t=Hn[e?"requestAnimationFrame":"setTimeout"],r=Hn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function XN(e){const t=()=>{!function YN(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Hn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ty(e),e.isCheckStableRunning=!0,xy(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ty(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{if(function JN(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return r.invokeTask(o,i,s,a);try{return aD(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),lD(e)}},onInvoke:(r,n,o,i,s,a,l)=>{try{return aD(e),r.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),lD(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Ty(e),xy(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new Ke(909,!1)}static assertNotInAngularZone(){if(He.isInAngularZone())throw new Ke(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,KN,sD,sD);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const KN={};function xy(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ty(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function aD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function lD(e){e._nesting--,xy(e)}class QN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tn,this.onMicrotaskEmpty=new tn,this.onStable=new tn,this.onError=new tn}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const cD=new dt("",{providedIn:"root",factory:uD});function uD(){const e=ot(He);let t=!0;return oa(new Rn(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new Rn(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{He.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(ia()))}var Gc=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Gc||{});const dD={destroy(){}};function pD(e,t){!t&&function Rv(e){if(!hn()&&!function Sh(){return _l}())throw new Ke(-203,!1)}();const r=t?.injector??ot(Wr);if(!function tc(e){return"browser"===(e??ot(Wr)).get(ec)}(r))return dD;jc("NgAfterNextRender");const n=r.get(Vm),o=n.handler??=new mD,i=t?.phase??Gc.MixedReadWrite,s=()=>{o.unregister(l),a()},a=r.get(Bm).onDestroy(s),l=new hD(r,i,()=>{s(),e()});return o.register(l),{destroy:s}}class hD{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(He),this.errorHandler=t.get(wl,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class mD{constructor(){this.executingCallbacks=!1,this.buckets={[Gc.EarlyRead]:new Set,[Gc.Write]:new Set,[Gc.MixedReadWrite]:new Set,[Gc.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Ke(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Vm=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>new e}),t})();function nL(e,t){const r=_s(t,e),n=r[lt];!function rL(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[to];null!==o&&null===r[ts]&&(r[ts]=ly(o,r[di])),My(n,r,r[xr])}function My(e,t,r){uv(t);try{const n=e.viewQuery;null!==n&&Sy(1,n,r);const o=e.template;null!==o&&UE(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&QE(e,t),e.staticViewQueries&&Sy(2,e.viewQuery,r);const i=e.components;null!==i&&function oL(e,t){for(let r=0;r<t.length;r++)nL(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[Wt]&=-5,dv()}}function jm(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Ls(o,a):2==i&&(n=Ls(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}class gD extends Rm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Sn(t);return new zf(r,this.ngModule)}}function _D(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class sL{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Ac(n);const o=this.injector.get(t,dy,n);return o!==dy||r===dy?o:this.parentInjector.get(t,r,n)}}class zf extends SE{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=_D(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return _D(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Nh(e){return e.map(Fh).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof ii?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new sL(t,i):t,a=s.get(EE,null);if(null===a)throw new Ke(407,!1);const f={rendererFactory:a,sanitizer:s.get($F,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Vm,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=n?function aN(e,t,r,n){const i=n.get(LE,!1)||r===Qi.ShadowDom,s=e.selectRootElement(t,i);return function lN(e){zE(e)}(s),s}(p,n,this.componentDef.encapsulation,s):vm(p,m,function iL(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m)),_e=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Se=null;null!==y&&(Se=ly(y,s,!0));const Re=vy(0,null,null,1,0,null,null,null,null,null,null),gt=Nm(null,Re,null,_e,null,null,f,p,s,null,Se);let mt,qt;uv(gt);try{const xt=this.componentDef;let cr,ko=null;xt.findHostDirectiveDefs?(cr=[],ko=new Map,xt.findHostDirectiveDefs(xt,cr,ko),cr.push(xt)):cr=[xt];const Ia=function lL(e,t){const r=e[lt],n=$t;return e[n]=t,Yu(r,n,2,"#host",null)}(gt,y),ul=function cL(e,t,r,n,o,i,s){const a=o[lt];!function uL(e,t,r,n){for(const o of e)t.mergedAttrs=ql(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(jm(t,t.mergedAttrs,!0),null!==r&&iE(n,r,t))}(n,e,t,s);let l=null;null!==t&&(l=ly(t,o[di]));const c=i.rendererFactory.createRenderer(t,r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const p=Nm(o,HE(r),null,f,o[e.index],e,i,c,null,null,l);return a.firstCreatePass&&by(a,e,n.length-1),Lm(o,p),o[e.index]=p}(Ia,y,xt,cr,gt,f,p);qt=yf(Re,$t),y&&function fL(e,t,r,n){if(n)Du(e,r,["ng-version",BF.full]);else{const{attrs:o,classes:i}=function Lh(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!Ji(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&Du(e,r,o),i&&i.length>0&&oE(e,r,i.join(" "))}}(p,xt,y,n),void 0!==r&&function pL(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(qt,this.ngContentSelectors,r),mt=function dL(e,t,r,n,o,i){const s=Rr(),a=o[lt],l=Ti(s,o);qE(a,o,s,r,null,n);for(let f=0;f<r.length;f++)Ci(Lc(o,a,s.directiveStart+f,s),o);KE(a,o,s),l&&Ci(l,o);const c=Lc(o,a,s.directiveStart+s.componentOffset,s);if(e[xr]=o[xr]=c,null!==i)for(const f of i)f(c,t);return my(a,s,e),c}(ul,xt,cr,ko,gt,[hL]),My(Re,gt,null)}finally{dv()}return new aL(this.componentType,mt,Ku(qt,gt),gt,qt)}}class aL extends RF{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Hf(o,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;wy(i[lt],i,o,t,r),this.previousInputValues.set(t,r),Uf(_s(this._tNode.index,i))}}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function hL(){const e=Rr();qh(ze()[lt],e)}function gn(e){let t=function vD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(Ur(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ke(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=Gm(e.inputs),s.inputTransforms=Gm(e.inputTransforms),s.declaredInputs=Gm(e.declaredInputs),s.outputs=Gm(e.outputs);const a=o.hostBindings;a&&vL(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&gL(e,l),c&&_L(e,c),fs(e.inputs,o.inputs),fs(e.declaredInputs,o.declaredInputs),fs(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),fs(s.inputTransforms,o.inputTransforms)),Ur(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===gn&&(r=!1)}}t=Object.getPrototypeOf(t)}!function mL(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=ql(o.hostAttrs,r=ql(r,o.hostAttrs))}}(n)}function Gm(e){return e===ms?{}:e===Zn?[]:e}function gL(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function _L(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function vL(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function Wa(e,t,r){return e[t]=r}function Fo(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Uc(e,t,r,n){const o=Fo(e,t,r);return Fo(e,t+1,n)||o}function ws(e,t,r,n){const o=ze();return Fo(o,Ga(),t)&&(qn(),za(no(),o,e,t,r,n)),ws}function Qu(e,t,r,n){return Fo(e,Ga(),r)?t+Ft(r)+n:mn}function ed(e,t,r,n,o,i,s,a){const c=function Um(e,t,r,n,o){const i=Uc(e,t,r,n);return Fo(e,t+2,o)||i}(e,yl(),r,o,s);return bl(3),c?t+Ft(r)+n+Ft(o)+i+Ft(s)+a:mn}function Hm(e,t){return e<<17|t<<2}function oc(e){return e>>17&32767}function Ay(e){return 2|e}function Hc(e){return(131068&e)>>2}function ky(e,t){return-131069&e|t<<2}function Ry(e){return 1|e}function RD(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?oc(i):Hc(i),l=!1;for(;0!==a&&(!1===l||s);){const f=e[a+1];ML(e[a],t)&&(l=!0,e[a+1]=n?Ry(f):Ay(f)),a=n?oc(f):Hc(f)}l&&(e[r+1]=n?Ay(i):Ry(i))}function ML(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Bu(e,t)>=0}function Ee(e,t,r){const n=ze();return Fo(n,Ga(),t)&&Ss(qn(),no(),n,e,t,n[un],r,!1),Ee}function Py(e,t,r,n,o){const s=o?"class":"style";wy(e,r,t.inputs[s],s,n)}function zc(e,t,r){return fa(e,t,r,!1),zc}function Us(e,t){return fa(e,t,null,!0),Us}function fa(e,t,r,n){const o=ze(),i=qn(),s=bl(2);i.firstUpdatePass&&function VD(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[bi()],s=function BD(e,t){return t>=e.expandoStartIndex}(e,r);(function HD(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function $L(e,t,r,n){const o=function lv(e){const t=cn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=Zf(r=Oy(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=Oy(o,e,t,r,n),null===i){let l=function BL(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==Hc(n))return e[oc(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=Oy(null,e,t,l[1],n),l=Zf(l,t.attrs,n),function VL(e,t,r,n){e[oc(r?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else i=function jL(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=Zf(n,e[i].hostAttrs,r);return Zf(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function xL(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=oc(s),l=Hc(s);e[n]=r;let f,c=!1;if(Array.isArray(r)?(f=r[1],(null===f||Bu(r,f)>0)&&(c=!0)):f=r,o)if(0!==l){const m=oc(e[a+1]);e[n+1]=Hm(m,a),0!==m&&(e[m+1]=ky(e[m+1],n)),e[a+1]=function DL(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=Hm(a,0),0!==a&&(e[a+1]=ky(e[a+1],n)),a=n;else e[n+1]=Hm(l,0),0===a?a=n:e[l+1]=ky(e[l+1],n),l=n;c&&(e[n+1]=Ay(e[n+1])),RD(e,f,n,!0),RD(e,f,n,!1),function TL(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Bu(i,t)>=0&&(r[n+1]=Ry(r[n+1]))}(t,f,e,n,i),s=Hm(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==mn&&Fo(o,s,t)&&function GD(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],f=function IL(e){return 1==(1&e)}(c)?UD(l,t,r,o,Hc(c),s):void 0;zm(f)||(zm(i)||function EL(e){return 2==(2&e)}(c)&&(i=UD(l,null,r,o,a,s)),function Z2(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:rc.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=rc.Important),e.setStyle(r,n,o,i))}}(n,s,vf(bi(),r),o,i))}(i,i.data[bi()],o,o[un],e,o[s+1]=function zL(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=wr(bs(e)))),e}(t,r),n,s)}function Oy(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=Zf(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function Zf(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),vs(e,s,!!r||t[++i]))}return void 0===e?null:e}function UD(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),f=c?l[1]:l,p=null===f;let m=r[o+1];m===mn&&(m=p?Zn:void 0);let y=p?Cv(m,n):f===n?m:void 0;if(c&&!zm(y)&&(y=Cv(l,n)),zm(y)&&(a=y,s))return a;const H=e[o+1];o=s?oc(H):Hc(H)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=Cv(l,n))}return a}function zm(e){return void 0!==e}let YD=(e,t)=>null;function ad(e,t){return YD(e,t)}function Qf(e,t,r,n){const o=t.tView,a=Nm(e,o,r,4096&e[Wt]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[xi]=e[t.index];const c=e[js];return null!==c&&(a[js]=c.createEmbeddedView(o)),My(o,a,r),a}function ld(e,t){return!t||null===t.firstChild||mm(e)}function Jf(e,t,r,n=!0){const o=t[lt];if(function B2(e,t,r,n){const o=Nn+n,i=r.length;n>0&&(r[o-1][es]=t),n<i-Nn?(t[es]=r[o],sw(r,Nn+n,t)):(r.push(t),t[es]=null),t[Vr]=r;const s=t[xi];null!==s&&r!==s&&function V2(e,t){const r=e[rr];t[sn]!==t[Vr][Vr][sn]&&(e[Wt]|=Io.HasTransplantedViews),null===r?e[rr]=[t]:r.push(t)}(s,t);const a=t[js];null!==a&&a.insertView(e),RS(t),t[Wt]|=128}(o,t,e,r),n){const s=qv(r,e),a=t[un],l=bm(a,e[nr]);null!==l&&function N2(e,t,r,n,o,i){n[to]=o,n[qo]=t,Of(e,n,r,1,o,i)}(o,e[qo],a,t,l,s)}const i=t[ts];null!==i&&null!==i.firstChild&&(i.firstChild=null)}let os=(()=>{class t{}return t.__NG_ELEMENT_ID__=D$,t})();function D$(){return rI(Rr(),ze())}const I$=os,tI=class extends I${constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const t=Jh(this._hostTNode,this._hostLView);if(hv(t)){const r=wf(t,this._hostLView),n=Sf(t);return new Ko(r[lt].data[n+8],r)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=nI(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Nn}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const s=ad(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(r||{},i,s);return this.insertImpl(a,o,ld(this._hostTNode,s)),a}createComponent(t,r,n,o,i){const s=t&&!function Ef(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const H=r||{};a=H.index,n=H.injector,o=H.projectableNodes,i=H.environmentInjector||H.ngModuleRef}const l=s?t:new zf(Sn(t)),c=n||this.parentInjector;if(!i&&null==l.ngModule){const J=(s?c:this.parentInjector).get(ii,null);J&&(i=J)}const f=Sn(l.componentType??{}),p=ad(this._lContainer,f?.id??null),y=l.create(c,o,p?.firstChild??null,i);return this.insertImpl(y.hostView,a,ld(this._hostTNode,p)),y}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const o=t._lView;if(function zP(e){return Bn(e[Vr])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[Vr],c=new tI(l,l[qo],l[Vr]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(r),s=this._lContainer;return Jf(s,o,i,n),t.attachToViewContainerRef(),sw(Uy(s),i,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=nI(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=Rf(this._lContainer,r);n&&(tm(Uy(this._lContainer),r),ym(n[lt],n))}detach(t){const r=this._adjustIndex(t,-1),n=Rf(this._lContainer,r);return n&&null!=tm(Uy(this._lContainer),r)?new Hf(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function nI(e){return e[8]}function Uy(e){return e[8]||(e[8]=[])}function rI(e,t){let r;const n=t[e.index];return Bn(n)?r=n:(r=XE(n,t,null,e),t[e.index]=r,Lm(t,r)),oI(r,t,e,n),new tI(r,e,t)}let oI=function sI(e,t,r,n){if(e[nr])return;let o;o=8&r.type?Hr(n):function x$(e,t){const r=e[un],n=r.createComment(""),o=Ti(t,e);return Bc(r,bm(r,o),n,function H2(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[nr]=o},Hy=(e,t,r)=>!1;function Zt(e,t,r,n,o,i,s,a){const l=ze(),c=qn(),f=e+$t,p=c.firstCreatePass?function k$(e,t,r,n,o,i,s,a,l){const c=t.consts,f=Yu(t,e,4,s||null,Va(c,a));yy(t,r,f,Va(c,l)),qh(t,f);const p=f.tView=vy(2,f,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,f),p.queries=t.queries.embeddedTView(f)),f}(f,c,l,t,r,n,o,i,s):c.data[f];ja(p,!1);const m=aI(c,l,p,e);Zh()&&Cm(c,l,m,p),Ci(m,l);const y=XE(m,l,m,p);return l[f]=y,Lm(l,y),function iI(e,t,r){return Hy(e,t,r)}(y,p,l),zt(p)&&gy(c,l,p),null!=s&&_y(l,p,a),Zt}let aI=function lI(e,t,r,n){return Kl(!0),t[un].createComment("")};function cI(e,t,r){jc("NgControlFlow");const n=ze(),o=Ga(),i=function zy(e,t){return e[t]}(n,$t+e);if(Fo(n,o,t)){const a=O(null);try{if(function Gy(e,t){const r=Rf(e,t);return void 0!==r&&ym(r[lt],r),r}(i,0),-1!==t){const l=function Wy(e,t){return yf(e,t)}(n[lt],$t+t),c=ad(i,l.tView.ssrId);Jf(i,Qf(n,l,r,{dehydratedView:c}),0,ld(l,c))}}finally{O(a)}}else{const a=function eI(e,t){const r=Nn+t;if(r<e.length)return e[r]}(i,0);void 0!==a&&(a[xr]=r)}}function U(e,t,r,n){const o=ze(),i=qn(),s=$t+e,a=o[un],l=i.firstCreatePass?function y3(e,t,r,n,o,i){const s=t.consts,l=Yu(t,e,2,n,Va(s,o));return yy(t,r,l,Va(s,i)),null!==l.attrs&&jm(l,l.attrs,!1),null!==l.mergedAttrs&&jm(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,t,r,n):i.data[s],c=RI(i,o,l,a,t,e);o[s]=c;const f=zt(l);return ja(l,!0),iE(a,c,l),32!=(32&l.flags)&&Zh()&&Cm(i,o,c,l),0===function ZP(){return cn.lFrame.elementDepthCount}()&&Ci(c,o),function qP(){cn.lFrame.elementDepthCount++}(),f&&(gy(i,o,l),my(i,l,o)),null!==n&&_y(o,l),U}function $(){let e=Rr();iv()?sv():(e=e.parent,ja(e,!1));const t=e;(function YP(e){return cn.skipHydrationRootTNode===e})(t)&&function eO(){cn.skipHydrationRootTNode=null}(),function KP(){cn.lFrame.elementDepthCount--}();const r=qn();return r.firstCreatePass&&(qh(r,e),oi(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function mO(e){return 0!=(8&e.flags)}(t)&&Py(r,t,ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function gO(e){return 0!=(16&e.flags)}(t)&&Py(r,t,ze(),t.stylesWithoutHost,!1),$}function Ve(e,t,r,n){return U(e,t,r,n),$(),Ve}let RI=(e,t,r,n,o,i)=>(Kl(!0),vm(n,o,function zS(){return cn.lFrame.currentNamespace}()));function Zc(e,t,r){const n=ze(),o=qn(),i=e+$t,s=o.firstCreatePass?function S3(e,t,r,n,o){const i=t.consts,s=Va(i,n),a=Yu(t,e,8,"ng-container",s);return null!==s&&jm(a,s,!0),yy(t,r,a,Va(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];ja(s,!0);const a=PI(o,n,s,e);return n[i]=a,Zh()&&Cm(o,n,a,s),Ci(a,n),zt(s)&&(gy(o,n,s),my(o,s,n)),null!=r&&_y(n,s),Zc}function qc(){let e=Rr();const t=qn();return iv()?sv():(e=e.parent,ja(e,!1)),t.firstCreatePass&&(qh(t,e),oi(e)&&t.queries.elementEnd(e)),qc}let PI=(e,t,r,n)=>(Kl(!0),Hv(t[un],""));function wn(){return ze()}const gd="en-US";let $I=gd;function lp(e){return!!e&&"function"==typeof e.then}function c1(e){return!!e&&"function"==typeof e.subscribe}function Ne(e,t,r,n){const o=ze(),i=qn(),s=Rr();return function d1(e,t,r,n,o,i,s){const a=zt(n),c=e.firstCreatePass&&eD(e),f=t[xr],p=JE(t);let m=!0;if(3&n.type||s){const J=Ti(n,t),_e=s?s(J):J,Se=p.length,Re=s?mt=>s(Hr(mt[n.index])):n.index;let gt=null;if(!s&&a&&(gt=function CB(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[La],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==gt)(gt.__ngLastListenerFn__||gt).__ngNextListenerFn__=i,gt.__ngLastListenerFn__=i,m=!1;else{i=p1(n,t,f,i,!1);const mt=r.listen(_e,o,i);p.push(i,mt),c&&c.push(o,Re,Se,Se+1)}}else i=p1(n,t,f,i,!1);const y=n.outputs;let H;if(m&&null!==y&&(H=y[o])){const J=H.length;if(J)for(let _e=0;_e<J;_e+=2){const qt=t[H[_e]][H[_e+1]].subscribe(i),xt=p.length;p.push(i,qt),c&&c.push(o,n.index,xt,-(xt+1))}}}(i,o,o[un],s,e,t,n),Ne}function f1(e,t,r,n){try{return Ba(6,t,r),!1!==r(n)}catch(o){return $m(e,o),!1}finally{Ba(7,t,r)}}function p1(e,t,r,n,o){return function i(s){if(s===Function)return n;Uf(e.componentOffset>-1?_s(e.index,t):t);let l=f1(t,r,n,s),c=i.__ngNextListenerFn__;for(;c;)l=f1(t,r,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function st(e=1){return function sO(e){return(cn.lFrame.contextLView=function AS(e,t){for(;e>0;)t=t[vl],e--;return t}(e,cn.lFrame.contextLView))[xr]}(e)}function SB(e,t){let r=null;const n=function kh(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?uf(e,i,!0):Oh(n,i))return o}else r=o}return r}function ht(e){const t=ze()[sn][qo];if(!t.projection){const n=t.projection=Df(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?SB(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function pt(e,t=0,r){const n=ze(),o=qn(),i=Yu(o,$t+e,16,null,r||null);null===i.projection&&(i.projection=t),sv(),(!n[ts]||Mu())&&32!=(32&i.flags)&&function z2(e,t,r){rE(t[un],0,t,r,Wv(e,r,t),Xw(r.parent||t[qo],r,t))}(o,n,i)}function sg(e,t,r,n,o){const i=ze(),s=Qu(i,t,r,n);return s!==mn&&Ss(qn(),no(),i,e,s,i[un],o,!1),sg}function Es(e){return Tu(function tO(){return cn.lFrame.contextLView}(),$t+e)}function Ce(e,t=""){const r=ze(),n=qn(),o=e+$t,i=n.firstCreatePass?Yu(n,o,1,t,null):n.data[o],s=R1(n,r,i,t,e);r[o]=s,Zh()&&Cm(n,r,s,i),ja(i,!1)}let R1=(e,t,r,n,o)=>(Kl(!0),function _m(e,t){return e.createText(t)}(t[un],n));function ki(e){return fi("",e,""),ki}function fi(e,t,r){const n=ze(),o=Qu(n,e,t,r);return o!==mn&&El(n,bi(),o),fi}function cp(e,t,r,n,o){const i=ze(),s=function Ju(e,t,r,n,o,i){const a=Uc(e,yl(),r,o);return bl(2),a?t+Ft(r)+n+Ft(o)+i:mn}(i,e,t,r,n,o);return s!==mn&&El(i,bi(),s),cp}function rb(e,t,r,n,o,i,s){const a=ze(),l=ed(a,e,t,r,n,o,i,s);return l!==mn&&El(a,bi(),l),rb}function ob(e,t,r,n,o){if(e=Ht(e),Array.isArray(e))for(let i=0;i<e.length;i++)ob(e[i],t,r,n,o);else{const i=qn(),s=ze(),a=Rr();let l=$c(e)?e:Ht(e.provide);const c=_w(e),f=1048575&a.providerIndexes,p=a.directiveStart,m=a.providerIndexes>>20;if($c(e)||!e.multi){const y=new Cf(c,o,_),H=sb(l,t,o?f:f+m,p);-1===H?(_v(Qh(a,s),i,l),ib(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(y),s.push(y)):(r[H]=y,s[H]=y)}else{const y=sb(l,t,f+m,p),H=sb(l,t,f,f+m),_e=H>=0&&r[H];if(o&&!_e||!o&&!(y>=0&&r[y])){_v(Qh(a,s),i,l);const Se=function $B(e,t,r,n,o){const i=new Cf(e,r,_);return i.multi=[],i.index=t,i.componentProviders=0,B1(i,o,n&&!r),i}(o?LB:NB,r.length,o,n,c);!o&&_e&&(r[H].providerFactory=Se),ib(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(Se),s.push(Se)}else ib(i,e,y>-1?y:H,B1(r[o?H:y],c,!o&&n));!o&&n&&_e&&r[H].componentProviders++}}}function ib(e,t,r,n){const o=$c(t),i=function qO(e){return!!e.useClass}(t);if(o||i){const l=(i?Ht(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=c.indexOf(r);-1===f?c.push(r,[n,l]):c[f+1].push(n,l)}else c.push(r,l)}}}function B1(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function sb(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function NB(e,t,r,n){return ab(this.multi,[])}function LB(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Lc(r,r[lt],this.providerFactory.index,n);i=a.slice(0,s),ab(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],ab(o,i);return i}function ab(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function fr(e,t=[]){return r=>{r.providersResolver=(n,o)=>function FB(e,t,r){const n=qn();if(n.firstCreatePass){const o=Ur(e);ob(r,n.data,n.blueprint,o,!0),ob(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class Yc{}class V1{}class lb extends Yc{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gD(this);const o=Zo(t);this._bootstrapComponents=ys(o.bootstrap),this._r3Injector=Sw(t,r,[{provide:Yc,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver},...n],wr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class cb extends V1{constructor(t){super(),this.moduleType=t}create(t){return new lb(this.moduleType,t,[])}}class j1 extends Yc{constructor(t){super(),this.componentFactoryResolver=new gD(this),this.instance=null;const r=new Gu([...t.providers,{provide:Yc,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver}],t.parent||cm(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ub(e,t,r=null){return new j1({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let jB=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=pw(0,n.type),i=o.length>0?ub([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=$e({token:e,providedIn:"environment",factory:()=>new e(le(ii))}),t})();function ag(e){jc("NgStandalone"),e.getStandaloneInjector=t=>t.get(jB).getOrCreateStandaloneInjector(e)}function X1(e,t,r,n,o,i){const s=t+r;return Fo(e,s,o)?Wa(e,s+1,i?n.call(i,o):n(o)):function up(e,t){const r=e[t];return r===mn?void 0:r}(e,s+1)}function Ka(e,t){const r=qn();let n;const o=e+$t;r.firstCreatePass?(n=function sV(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=Fc(n.type)),a=En(_);try{const l=Xh(!1),c=i();return Xh(l),function wB(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,ze(),o,c),c}finally{En(a)}}function Ya(e,t,r){const n=e+$t,o=ze(),i=Tu(o,n);return function dp(e,t){return e[lt].data[t].pure}(o,n)?X1(o,Mi(),t,i.transform,r,i):i.transform(r)}function dV(){return this._results[Symbol.iterator]()}class fb{get changes(){return this._changes??=new tn}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=fb.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=dV)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const n=function ns(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function MO(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=hV,t})();const fV=ha,pV=class extends fV{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=Qf(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new Hf(o)}};function hV(){return ug(Rr(),ze())}function ug(e,t){return 4&e.type?new pV(t,e,Ku(e,t)):null}class pb{constructor(t){this.queryList=t,this.matches=null}clone(){return new pb(this.queryList)}setDirty(){this.queryList.setDirty()}}class hb{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new hb(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==sx(t,r).matches&&this.queries[r].setDirty()}}class nx{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class mb{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new mb(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class gb{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new gb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,mV(r,i)),this.matchTNodeWithReadOption(t,r,em(r,t,i,!1,!1))}else n===ha?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,em(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===et||o===os||o===ha&&4&r.type)this.addMatch(r.index,-2);else{const i=em(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function mV(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function _V(e,t,r,n){return-1===r?function gV(e,t){return 11&e.type?Ku(e,t):4&e.type?ug(e,t):null}(t,e):-2===r?function vV(e,t,r){return r===et?Ku(t,e):r===ha?ug(t,e):r===os?rI(t,e):void 0}(e,t,n):Lc(e,e[lt],r,t)}function rx(e,t,r,n){const o=t[js].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:_V(t,i[c],s[l+1],r.metadata.read))}o.matches=a}return o.matches}function _b(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=rx(e,t,o,r);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)n.push(s[a/2]);else{const c=i[a+1],f=t[-l];for(let p=Nn;p<f.length;p++){const m=f[p];m[xi]===m[Vr]&&_b(m[lt],m,c,n)}if(null!==f[rr]){const p=f[rr];for(let m=0;m<p.length;m++){const y=p[m];_b(y[lt],y,c,n)}}}}}return n}function Ds(e){const t=ze(),r=qn(),n=BS();cv(n+1);const o=sx(r,n);if(e.dirty&&function HP(e){return 4==(4&e[Wt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?_b(r,t,n,[]):rx(r,t,o,n);e.reset(i,NF),e.notifyOnChanges()}return!0}return!1}function sc(e,t,r){const n=qn();n.firstCreatePass&&(ix(n,new nx(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),ox(n,ze(),t)}function _d(e,t,r,n){const o=qn();if(o.firstCreatePass){const i=Rr();ix(o,new nx(t,r,n),i.index),function bV(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}ox(o,ze(),r)}function Is(){return function yV(e,t){return e[js].queries[t].queryList}(ze(),BS())}function ox(e,t,r){const n=new fb(4==(4&r));(function dN(e,t,r,n){const o=JE(t);o.push(r),e.firstCreatePass&&eD(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[js]&&(t[js]=new hb),t[js].queries.push(new pb(n))}function ix(e,t,r){null===e.queries&&(e.queries=new mb),e.queries.track(new gb(t,r))}function sx(e,t){return e.queries.getByIndex(t)}let Sx=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),fg=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fo(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class UV{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let wx=(()=>{var e;class t{compileModuleSync(n){return new cb(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=ys(Zo(n).declarations).reduce((a,l)=>{const c=Sn(l);return c&&a.push(new zf(c)),a},[]);return new UV(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Tx=new dt(""),hg=new dt("");let Db,wb=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Db||(function h4(e){Db=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(le(He),le(Eb),le(hg))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),Eb=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return Db?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const hp=new dt("Application Initializer");let Ib=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=ot(hp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(lp(s))n.push(s);else if(c1(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const xb=new dt("appBootstrapListener");function kx(e,t){return Array.isArray(t)?t.reduce(kx,e):{...e,...t}}let ma=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ot(FE),this.zoneIsStable=ot(cD),this.componentTypes=[],this.components=[],this.isStable=ot(fg).hasPendingTasks.pipe(Qr(n=>n?jt(!1):this.zoneIsStable),Ns()),this._injector=ot(ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof SE;if(!this._injector.get(Ib).done)throw!i&&function ua(e){const t=Sn(e)||_o(e)||Oo(e);return null!==t&&t.standalone}(n),new Ke(405,!1);let a;a=i?n:this._injector.get(Rm).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function g4(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Yc),f=a.create(Wr.NULL,[],o||a.selector,l),p=f.location.nativeElement,m=f.injector.get(Tx,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),mg(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Ke(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;mg(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(xb,[]);[...this._bootstrapListeners,...o].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>mg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ke(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function mg(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let v4=(()=>{var e;class t{constructor(){this.zone=ot(He),this.applicationRef=ot(ma)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function y4(){const e=ot(He),t=ot(wl);return r=>e.runOutsideAngular(()=>t.handleError(r))}const Dl=new dt("LocaleId",{providedIn:"root",factory:()=>ot(Dl,Mt.Optional|Mt.SkipSelf)||function C4(){return typeof $localize<"u"&&$localize.locale||gd}()}),Tb=new dt("PlatformDestroyListeners");let Fx=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function eL(e="zone.js",t){return"noop"===e?new QN:"zone.js"===e?new He(t):e}(o?.ngZone,function Ox(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function VB(e,t,r){return new lb(e,t,r)}(n.moduleType,this.injector,function Px(e){return[{provide:He,useFactory:e},{provide:ju,multi:!0,useFactory:()=>{const t=ot(v4,{optional:!0});return()=>t.initialize()}},{provide:FE,useFactory:y4},{provide:cD,useFactory:uD}]}(()=>i)),a=s.injector.get(wl,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{mg(this._modules,s),l.unsubscribe()})}),function Ax(e,t,r){try{const n=r();return lp(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const l=s.injector.get(Ib);return l.runInitializers(),l.donePromise.then(()=>(function BI(e){Jt(e,"Expected localeId to be defined"),"string"==typeof e&&($I=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Dl,gd)||gd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=kx({},o);return function m4(e,t,r){const n=new cb(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(ma);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Ke(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(Tb,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Wr))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),ac=null;const Nx=new dt("AllowMultipleToken");function Lx(e,t,r=[]){const n=`Platform: ${t}`,o=new dt(n);return(i=[])=>{let s=Mb();if(!s||s.injector.get(Nx,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function E4(e){if(ac&&!ac.get(Nx,!1))throw new Ke(400,!1);(function Mx(){!function tt(e){me=e}(()=>{throw new Ke(600,!1)})})(),ac=e;const t=e.get(Fx);(function Bx(e){e.get(Ew,null)?.forEach(r=>r())})(e)}(function $x(e=[],t){return Wr.create({name:t,providers:[{provide:Tv,useValue:"platform"},{provide:Tb,useValue:new Set([()=>ac=null])},...e]})}(a,n))}return function D4(e){const t=Mb();if(!t)throw new Ke(401,!1);return t}()}}function Mb(){return ac?.get(Fx)??null}const k4=Lx(null,"core",[]);let R4=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(le(ma))},e.\u0275mod=eo({type:e}),e.\u0275inj=on({}),t})();function lT(e){const t=Sn(e);if(!t)return null;const r=new zf(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let $b=null;function lc(){return $b}class sj{}const si=new dt("DocumentToken");let Bb=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(lj),providedIn:"platform"}),t})();const aj=new dt("Location Initialized");let lj=(()=>{var e;class t extends Bb{constructor(){super(),this._doc=ot(si),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lc().getBaseHref(this._doc)}onPopState(n){const o=lc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=lc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>new e,providedIn:"platform"}),t})();function Vb(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function cT(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Il(e){return e&&"?"!==e[0]?"?"+e:e}let Xa=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(dT),providedIn:"root"}),t})();const uT=new dt("appBaseHref");let dT=(()=>{var e;class t extends Xa{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??ot(si).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Vb(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+Il(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+Il(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+Il(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Bb),le(uT,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),fT=(()=>{var e;class t extends Xa{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=Vb(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+Il(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+Il(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Bb),le(uT,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),cc=(()=>{var e;class t{constructor(n){this._subject=new tn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function dj(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(cT(pT(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Il(o))}normalize(n){return t.stripTrailingSlash(function uj(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,pT(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Il(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Il(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=Il,e.joinWithSlash=Vb,e.stripTrailingSlash=cT,e.\u0275fac=function(n){return new(n||e)(le(Xa))},e.\u0275prov=$e({token:e,factory:()=>function cj(){return new cc(le(Xa))}(),providedIn:"root"}),t})();function pT(e){return e.replace(/\/index.html$/,"")}function ST(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class Xj{constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uc=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new Xj(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const l=o.get(s);o.move(l,a),DT(l,i)}});for(let i=0,s=o.length;i<s;i++){const l=o.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{DT(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(os),_(ha),_(Om))},e.\u0275dir=Rt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function DT(e,t){e.context.$implicit=t.item}let Mo=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new Qj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){IT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){IT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(os),_(ha))},e.\u0275dir=Rt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class Qj{constructor(){this.$implicit=null,this.ngIf=null}}function IT(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${wr(t)}'.`)}class Xb{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Og=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Rt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),xT=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new Xb(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(os),_(ha),_(Og,9))},e.\u0275dir=Rt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),TT=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new Xb(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(os),_(ha),_(Og,9))},e.\u0275dir=Rt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class nG{createSubscription(t,r){return DE(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){DE(()=>t.unsubscribe())}}class rG{createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const oG=new rG,iG=new nG;let AT=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(lp(n))return oG;if(c1(n))return iG;throw function _a(e,t){return new Ke(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(at,16))},e.\u0275pipe=Do({name:"async",type:e,pure:!1,standalone:!0}),t})(),Qa=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({}),t})();const RT="browser";function wd(e){return e===RT}function PT(e){return"server"===e}let IG=(()=>{var e;class t{}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>new xG(le(si),window)}),t})();class xG{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function TG(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class OT{}class XG extends sj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class rC extends XG{static makeCurrent(){!function ij(e){$b||($b=e)}(new rC)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function QG(){return bp=bp||document.querySelector("base"),bp?bp.getAttribute("href"):null}();return null==r?null:function JG(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){bp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ST(document.cookie,t)}}let bp=null,tU=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const oC=new dt("EventManagerPlugins");let $T=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Ke(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(le(oC),le(He))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();class BT{constructor(t){this._doc=t}}const iC="ng-app-id";let VT=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=PT(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${iC}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(iC),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(iC,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(si),le(dm),le(Dw,8),le(ec))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const sC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},aC=/%COMP%/g,iU=new dt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function GT(e,t){return t.map(r=>r.replace(aC,e))}let UT=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=PT(l),this.defaultRenderer=new lC(n,a,c,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===Qi.ShadowDom&&(o={...o,encapsulation:Qi.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof zT?i.applyToHost(n):i instanceof cC&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(o.encapsulation){case Qi.Emulated:s=new zT(c,f,o,this.appId,p,a,l,m);break;case Qi.ShadowDom:return new cU(c,f,n,o,a,l,this.nonce,m);default:s=new cC(c,f,o,p,a,l,m)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(le($T),le(VT),le(dm),le(iU),le(si),le(ec),le(He),le(Dw))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();class lC{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(sC[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(HT(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(HT(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Ke(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=sC[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=sC[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(rc.DashCase|rc.Important)?t.style.setProperty(r,n,o&rc.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&rc.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=lc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function HT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class cU extends lC{constructor(t,r,n,o,i,s,a,l){super(t,i,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=GT(o.id,o.styles);for(const f of c){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class cC extends lC{constructor(t,r,n,o,i,s,a,l){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?GT(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zT extends cC{constructor(t,r,n,o,i,s,a,l){const c=o+"-"+n.id;super(t,r,n,i,s,a,l,c),this.contentAttr=function sU(e){return"_ngcontent-%COMP%".replace(aC,e)}(c),this.hostAttr=function aU(e){return"_nghost-%COMP%".replace(aC,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let uU=(()=>{var e;class t extends BT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(si))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const WT=["alt","control","meta","shift"],dU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fU={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let pU=(()=>{var e;class t extends BT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lc().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),WT.forEach(f=>{const p=o.indexOf(f);p>-1&&(o.splice(p,1),a+=f+".")}),a+=s,0!=o.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let i=dU[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WT.forEach(a=>{a!==i&&(0,fU[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(le(si))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const _U=Lx(k4,"browser",[{provide:ec,useValue:RT},{provide:Ew,useValue:function hU(){rC.makeCurrent()},multi:!0},{provide:si,useFactory:function gU(){return function l2(e){Ov=e}(document),document},deps:[]}]),vU=new dt(""),KT=[{provide:hg,useClass:class eU{addToWindow(t){Hn.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new Ke(5103,!1);return i},Hn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Hn.getAllAngularRootElements=()=>t.getAllRootElements(),Hn.frameworkStabilizers||(Hn.frameworkStabilizers=[]),Hn.frameworkStabilizers.push(n=>{const o=Hn.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&n(s)};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?lc().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:Tx,useClass:wb,deps:[He,Eb,hg]},{provide:wb,useClass:wb,deps:[He,Eb,hg]}],YT=[{provide:Tv,useValue:"root"},{provide:wl,useFactory:function mU(){return new wl},deps:[]},{provide:oC,useClass:uU,multi:!0,deps:[si,He,ec]},{provide:oC,useClass:pU,multi:!0,deps:[si]},UT,VT,$T,{provide:EE,useExisting:UT},{provide:OT,useClass:tU,deps:[]},[]];let yU=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:dm,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(le(vU,12))},e.\u0275mod=eo({type:e}),e.\u0275inj=on({providers:[...YT,...KT],imports:[Qa,R4]}),t})(),XT=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(le(si))},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new n:function CU(){return new XT(le(si))}(),o},providedIn:"root"}),t})();const dc=typeof window<"u"&&window||{};class SU{constructor(t,r){this.msPerTick=t,this.numTicks=r}}class wU{constructor(t){this.appRef=t.injector.get(ma)}timeChangeDetection(t){const r=t&&t.record,n="Change Detection",o=null!=dc.console.profile;r&&o&&dc.console.profile(n);const i=uC();let s=0;for(;s<5||uC()-i<500;)this.appRef.tick(),s++;const a=uC();r&&o&&dc.console.profileEnd(n);const l=(a-i)/s;return dc.console.log(`ran ${s} change detection cycles`),dc.console.log(`${l.toFixed(2)} ms per check`),new SU(l,s)}}function uC(){return dc.performance&&dc.performance.now?dc.performance.now():(new Date).getTime()}let dC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new(n||e):le(eM),o},providedIn:"root"}),t})(),eM=(()=>{var e;class t extends dC{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case Cs.NONE:return o;case Cs.HTML:return Ha(o,"HTML")?bs(o):mE(this._doc,String(o)).toString();case Cs.STYLE:return Ha(o,"Style")?bs(o):o;case Cs.SCRIPT:if(Ha(o,"Script"))return bs(o);throw new Ke(5200,!1);case Cs.URL:return Ha(o,"URL")?bs(o):Dm(String(o));case Cs.RESOURCE_URL:if(Ha(o,"ResourceURL"))return bs(o);throw new Ke(5201,!1);default:throw new Ke(5202,!1)}}bypassSecurityTrustHtml(n){return function oF(e){return new Q2(e)}(n)}bypassSecurityTrustStyle(n){return function iF(e){return new J2(e)}(n)}bypassSecurityTrustScript(n){return function sF(e){return new eF(e)}(n)}bypassSecurityTrustUrl(n){return function aF(e){return new tF(e)}(n)}bypassSecurityTrustResourceUrl(n){return function lF(e){return new nF(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(si))},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new n:function IU(e){return new eM(e.get(si))}(le(Wr)),o},providedIn:"root"}),t})();var lo=C(5861),xU=C(6299),Ed=C.n(xU);let Lg,$g;function nM(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function rM(){return void 0!==$g}class oM{constructor(){this.requestEvent=new lo.j}dispatchRequest(t){if(t){try{t=new(Ed())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let fC=(()=>{var e;class t{constructor(){this.installation=new oM,this.import=new oM,Lg&&this.installation.dispatchRequest(Lg),$g&&this.import.dispatchRequest($g)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var V=C(3918);function Dd(e,t){return ye(t)?Pn(e,t,1):Pn(e,1)}function va(e,t){return yn((r,n)=>{let o=0;r.subscribe(_n(n,i=>e.call(t,i,o++)&&n.next(i)))})}function Cp(e){return yn((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class Bg{}class Vg{}class Zs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new Zs;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Zs?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class AU{encodeKey(t){return iM(t)}encodeValue(t){return iM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const RU=/%(\d[a-f0-9])/gi,PU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iM(e){return encodeURIComponent(e).replace(RU,(t,r)=>PU[r]??t)}function jg(e){return`${e}`}class fc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new AU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kU(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(jg):[jg(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new fc({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(jg(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(jg(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class OU{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function sM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function aM(e){return typeof Blob<"u"&&e instanceof Blob}function lM(e){return typeof FormData<"u"&&e instanceof FormData}class Sp{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function FU(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers||(this.headers=new Zs),this.context||(this.context=new OU),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new fc,this.urlWithParams=r}serializeBody(){return null===this.body?null:sM(this.body)||aM(this.body)||lM(this.body)||function NU(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lM(this.body)?null:aM(this.body)?this.body.type||null:sM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((p,m)=>p.set(m,t.setHeaders[m]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((p,m)=>p.set(m,t.setParams[m]),c)),new Sp(r,n,i,{params:c,headers:l,context:f,reportProgress:a,responseType:o,withCredentials:s})}}var pc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(pc||{});class pC{constructor(t,r=200,n="OK"){this.headers=t.headers||new Zs,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Gg extends pC{constructor(t={}){super(t),this.type=pc.ResponseHeader}clone(t={}){return new Gg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qc extends pC{constructor(t={}){super(t),this.type=pc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Qc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Id extends pC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function hC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let mC=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof Sp)s=n;else{let c,f;c=i.headers instanceof Zs?i.headers:new Zs(i.headers),i.params&&(f=i.params instanceof fc?i.params:new fc({fromObject:i.params})),s=new Sp(n,o,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=jt(s).pipe(Dd(c=>this.handler.handle(c)));if(n instanceof Sp||"events"===i.observe)return a;const l=a.pipe(va(c=>c instanceof Qc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(rn(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(rn(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(rn(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(rn(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new fc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,hC(i,o))}post(n,o,i={}){return this.request("POST",n,hC(i,o))}put(n,o,i={}){return this.request("PUT",n,hC(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Bg))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function uM(e,t){return t(e)}function jU(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const UU=new dt(""),wp=new dt(""),dM=new dt(""),fM=new dt("");function HU(){let e=null;return(t,r)=>{null===e&&(e=(ot(UU,{optional:!0})??[]).reduceRight(jU,uM));const n=ot(fg),o=n.add();return e(t,r).pipe(Cp(()=>n.remove(o)))}}let pM=(()=>{var e;class t extends Bg{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=ot(fg);const i=ot(fM,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(wp),...this.injector.get(dM,[])]));this.chain=i.reduceRight((s,a)=>function GU(e,t,r){return(n,o)=>Xl(r,()=>t(n,i=>e(i,o)))}(s,a,this.injector),uM)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Cp(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Vg),le(ii))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const KU=/^\)\]\}',?\n/;let mM=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Ke(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?Sr(o.\u0275loadImpl()):jt(null)).pipe(Qr(()=>new Rn(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((_e,Se)=>a.setRequestHeader(_e,Se.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const _e=n.detectContentTypeHeader();null!==_e&&a.setRequestHeader("Content-Type",_e)}if(n.responseType){const _e=n.responseType.toLowerCase();a.responseType="json"!==_e?_e:"text"}const l=n.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const _e=a.statusText||"OK",Se=new Zs(a.getAllResponseHeaders()),Re=function YU(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return c=new Gg({headers:Se,status:a.status,statusText:_e,url:Re}),c},p=()=>{let{headers:_e,status:Se,statusText:Re,url:gt}=f(),mt=null;204!==Se&&(mt=typeof a.response>"u"?a.responseText:a.response),0===Se&&(Se=mt?200:0);let qt=Se>=200&&Se<300;if("json"===n.responseType&&"string"==typeof mt){const xt=mt;mt=mt.replace(KU,"");try{mt=""!==mt?JSON.parse(mt):null}catch(cr){mt=xt,qt&&(qt=!1,mt={error:cr,text:mt})}}qt?(s.next(new Qc({body:mt,headers:_e,status:Se,statusText:Re,url:gt||void 0})),s.complete()):s.error(new Id({error:mt,headers:_e,status:Se,statusText:Re,url:gt||void 0}))},m=_e=>{const{url:Se}=f(),Re=new Id({error:_e,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Se||void 0});s.error(Re)};let y=!1;const H=_e=>{y||(s.next(f()),y=!0);let Se={type:pc.DownloadProgress,loaded:_e.loaded};_e.lengthComputable&&(Se.total=_e.total),"text"===n.responseType&&a.responseText&&(Se.partialText=a.responseText),s.next(Se)},J=_e=>{let Se={type:pc.UploadProgress,loaded:_e.loaded};_e.lengthComputable&&(Se.total=_e.total),s.next(Se)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),n.reportProgress&&(a.addEventListener("progress",H),null!==l&&a.upload&&a.upload.addEventListener("progress",J)),a.send(l),s.next({type:pc.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),n.reportProgress&&(a.removeEventListener("progress",H),null!==l&&a.upload&&a.upload.removeEventListener("progress",J)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(OT))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const vC=new dt("XSRF_ENABLED"),gM=new dt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),_M=new dt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class vM{}let JU=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ST(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(le(si),le(ec),le(gM))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function e6(e,t){const r=e.url.toLowerCase();if(!ot(vC)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=ot(vM).getToken(),o=ot(_M);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var hc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(hc||{});function Jc(e,t){return{\u0275kind:e,\u0275providers:t}}function t6(...e){const t=[mC,mM,pM,{provide:Bg,useExisting:pM},{provide:Vg,useExisting:mM},{provide:wp,useValue:e6,multi:!0},{provide:vC,useValue:!0},{provide:vM,useClass:JU}];for(const r of e)t.push(...r.\u0275providers);return function Dv(e){return{\u0275providers:e}}(t)}const yM=new dt("LEGACY_INTERCEPTOR_FN");let r6=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({providers:[t6(Jc(hc.LegacyInterceptors,[{provide:yM,useFactory:HU},{provide:wp,useExisting:yM,multi:!0}]))]}),t})();const{isArray:u6}=Array,{getPrototypeOf:d6,prototype:f6,keys:p6}=Object;function IM(e){if(1===e.length){const t=e[0];if(u6(t))return{args:t,keys:null};if(function h6(e){return e&&"object"==typeof e&&d6(e)===f6}(t)){const r=p6(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:m6}=Array;function yC(e){return rn(t=>function g6(e,t){return m6(t)?e(...t):e(t)}(e,t))}function xM(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}function Hg(...e){const t=Yi(e),r=ea(e),{args:n,keys:o}=IM(e);if(0===n.length)return Sr([],t);const i=new Rn(function _6(e,t,r=Vn){return n=>{TM(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)TM(t,()=>{const c=Sr(e[l],t);let f=!1;c.subscribe(_n(n,p=>{i[l]=p,f||(f=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>xM(o,s):Vn));return r?i.pipe(yC(r)):i}function TM(e,t,r){e?zn(r,e,t):t()}const zg=Ie(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function bC(...e){return function v6(){return Po(1)}()(Sr(e,Yi(e)))}function MM(e){return new Rn(t=>{je(e()).subscribe(t)})}function Wg(e,t){const r=ye(e)?e:()=>e,n=o=>o.error(r());return new Rn(t?o=>t.schedule(n,0,o):n)}function CC(){return yn((e,t)=>{let r=null;e._refCount++;const n=_n(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class AM extends Rn{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Mr(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ft;const r=this.getSubject();t.add(this.source.subscribe(_n(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ft.EMPTY)}return t}refCount(){return CC()(this)}}function xd(e){return e<=0?()=>Eo:yn((t,r)=>{let n=0;t.subscribe(_n(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function kM(...e){const t=Yi(e);return yn((r,n)=>{(t?bC(e,r,t):bC(e,r)).subscribe(n)})}function Zg(e){return yn((t,r)=>{let n=!1;t.subscribe(_n(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function RM(e=y6){return yn((t,r)=>{let n=!1;t.subscribe(_n(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function y6(){return new zg}function mc(e,t){const r=arguments.length>=2;return n=>n.pipe(e?va((o,i)=>e(o,i,n)):Vn,xd(1),r?Zg(t):RM(()=>new zg))}function Si(e,t,r){const n=ye(e)||t||r?{next:e,error:t,complete:r}:e;return n?yn((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe(_n(i,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),i.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),i.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),i.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):Vn}function eu(e){return yn((t,r)=>{let i,n=null,o=!1;n=t.subscribe(_n(r,void 0,void 0,s=>{i=je(e(s,eu(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function SC(e){return e<=0?()=>Eo:yn((t,r)=>{let n=[];t.subscribe(_n(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function PM(e){return rn(()=>e)}function OM(e){return yn((t,r)=>{je(e).subscribe(_n(r,()=>r.complete(),ur)),!r.closed&&t.subscribe(r)})}const vn="primary",Ep=Symbol("RouteTitle");class w6{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Td(e){return new w6(e)}function E6(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function Ja(e,t){const r=e?wC(e):void 0,n=t?wC(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!FM(e[o],t[o]))return!1;return!0}function wC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function FM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function NM(e){return e.length>0?e[e.length-1]:null}function gc(e){return function c6(e){return!!e&&(e instanceof Rn||ye(e.lift)&&ye(e.subscribe))}(e)?e:lp(e)?Sr(Promise.resolve(e)):jt(e)}const I6={exact:function BM(e,t,r){if(!tu(e.segments,t.segments)||!qg(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!BM(e.children[n],t.children[n],r))return!1;return!0},subset:VM},LM={exact:function x6(e,t){return Ja(e,t)},subset:function T6(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>FM(e[r],t[r]))},ignored:()=>!0};function $M(e,t,r){return I6[r.paths](e.root,t.root,r.matrixParams)&&LM[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function VM(e,t,r){return jM(e,t,t.segments,r)}function jM(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!tu(o,r)||t.hasChildren()||!qg(o,r,n))}if(e.segments.length===r.length){if(!tu(e.segments,r)||!qg(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!VM(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(tu(e.segments,o)&&qg(e.segments,o,n)&&e.children[vn])&&jM(e.children[vn],t,i,n)}}function qg(e,t,r){return t.every((n,o)=>LM[r](e[o].parameters,n.parameters))}class Md{constructor(t=new Pr([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Td(this.queryParams)),this._queryParamMap}toString(){return k6.serialize(this)}}class Pr{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kg(this)}}class Dp{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Td(this.parameters)),this._parameterMap}toString(){return HM(this)}}function tu(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let nu=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>new EC,providedIn:"root"}),t})();class EC{parse(t){const r=new G6(t);return new Md(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${Ip(t.root,!0)}`,n=function O6(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${Yg(r)}=${Yg(o)}`).join("&"):`${Yg(r)}=${Yg(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function R6(e){return encodeURI(e)}(t.fragment)}`:""}`}}const k6=new EC;function Kg(e){return e.segments.map(t=>HM(t)).join("/")}function Ip(e,t){if(!e.hasChildren())return Kg(e);if(t){const r=e.children[vn]?Ip(e.children[vn],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==vn&&n.push(`${o}:${Ip(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function A6(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===vn&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==vn&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===vn?[Ip(e.children[vn],!1)]:[`${o}:${Ip(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[vn]?`${Kg(e)}/${r[0]}`:`${Kg(e)}/(${r.join("//")})`}}function GM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yg(e){return GM(e).replace(/%3B/gi,";")}function DC(e){return GM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xg(e){return decodeURIComponent(e)}function UM(e){return Xg(e.replace(/\+/g,"%20"))}function HM(e){return`${DC(e.path)}${function P6(e){return Object.keys(e).map(t=>`;${DC(t)}=${DC(e[t])}`).join("")}(e.parameters)}`}const F6=/^[^\/()?;#]+/;function IC(e){const t=e.match(F6);return t?t[0]:""}const N6=/^[^\/()?;=#]+/,$6=/^[^=?&#]+/,V6=/^[^&#]+/;class G6{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pr([],{}):new Pr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[vn]=new Pr(t,r)),n}parseSegment(){const t=IC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ke(4009,!1);return this.capture(t),new Dp(Xg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function L6(e){const t=e.match(N6);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=IC(this.remaining);o&&(n=o,this.capture(n))}t[Xg(r)]=Xg(n)}parseQueryParam(t){const r=function B6(e){const t=e.match($6);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function j6(e){const t=e.match(V6);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=UM(r),i=UM(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=IC(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Ke(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=vn);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[vn]:new Pr([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ke(4011,!1)}}function zM(e){return e.segments.length>0?new Pr([],{[vn]:e}):e}function WM(e){const t={};for(const n of Object.keys(e.children)){const i=WM(e.children[n]);if(n===vn&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function U6(e){if(1===e.numberOfChildren&&e.children[vn]){const t=e.children[vn];return new Pr(e.segments.concat(t.segments),t.children)}return e}(new Pr(e.segments,t))}function ru(e){return e instanceof Md}function ZM(e){let t;const o=zM(function r(i){const s={};for(const l of i.children){const c=r(l);s[l.outlet]=c}const a=new Pr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function qM(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return xC(o,o,o,r,n);const i=function z6(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new YM(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new YM(r,t,n)}(t);if(i.toRoot())return xC(o,o,new Pr([],{}),r,n);const s=function W6(e,t,r){if(e.isAbsolute)return new Jg(t,!0,0);if(!r)return new Jg(t,!1,NaN);if(null===r.parent)return new Jg(r,!0,0);const n=Qg(e.commands[0])?0:1;return function Z6(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Ke(4005,!1);o=n.segments.length}return new Jg(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?Tp(s.segmentGroup,s.index,i.commands):XM(s.segmentGroup,s.index,i.commands);return xC(o,s.segmentGroup,a,r,n)}function Qg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function xp(e){return"object"==typeof e&&null!=e&&e.outlets}function xC(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),s=e===t?r:KM(e,t,r);const a=zM(WM(s));return new Md(a,i,o)}function KM(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:KM(i,t,r)}),new Pr(e.segments,n)}class YM{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&Qg(n[0]))throw new Ke(4003,!1);const o=n.find(xp);if(o&&o!==NM(n))throw new Ke(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jg{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function XM(e,t,r){if(e||(e=new Pr([],{})),0===e.segments.length&&e.hasChildren())return Tp(e,t,r);const n=function K6(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(xp(a))break;const l=`${a}`,c=n<r.length-1?r[n+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!JM(l,c,s))return i;n+=2}else{if(!JM(l,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new Pr(e.segments.slice(0,n.pathIndex),{});return i.children[vn]=new Pr(e.segments.slice(n.pathIndex),e.children),Tp(i,0,o)}return n.match&&0===o.length?new Pr(e.segments,{}):n.match&&!e.hasChildren()?TC(e,t,r):n.match?Tp(e,0,o):TC(e,t,r)}function Tp(e,t,r){if(0===r.length)return new Pr(e.segments,{});{const n=function q6(e){return xp(e[0])?e[0].outlets:{[vn]:e}}(r),o={};if(Object.keys(n).some(i=>i!==vn)&&e.children[vn]&&1===e.numberOfChildren&&0===e.children[vn].segments.length){const i=Tp(e.children[vn],t,r);return new Pr(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=XM(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new Pr(e.segments,o)}}function TC(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(xp(i)){const l=Y6(i.outlets);return new Pr(n,l)}if(0===o&&Qg(r[0])){n.push(new Dp(e.segments[t].path,QM(r[0]))),o++;continue}const s=xp(i)?i.outlets[vn]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&Qg(a)?(n.push(new Dp(s,QM(a))),o+=2):(n.push(new Dp(s,{})),o++)}return new Pr(n,{})}function Y6(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=TC(new Pr([],{}),0,n))}),t}function QM(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function JM(e,t,r){return e==r.path&&Ja(t,r.parameters)}const Mp="imperative";class el{constructor(t,r){this.id=t,this.url=r}}class Ap extends el{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ml extends el{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ad extends el{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kd extends el{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class e_ extends el{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eA extends el{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X6 extends el{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q6 extends el{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class J6 extends el{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eH extends el{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tH{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nH{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rH{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oH{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iH{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sH{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tA{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class MC{}class AC{constructor(t){this.url=t}}class aH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ou,this.attachRef=null}}let ou=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new aH,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class nA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=kC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=kC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=RC(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return RC(t,this._root).map(r=>r.value)}}function kC(e,t){if(e===t.value)return t;for(const r of t.children){const n=kC(e,r);if(n)return n}return null}function RC(e,t){if(e===t.value)return[t];for(const r of t.children){const n=RC(e,r);if(n.length)return n.unshift(t),n}return[]}class ya{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function Rd(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class rA extends nA{constructor(t,r){super(t),this.snapshot=r,FC(this,t)}toString(){return this.snapshot.toString()}}function oA(e,t){const r=function lH(e,t){const s=new OC([],{},{},"",{},vn,t,null,{});return new iA("",new ya(s,[]))}(0,t),n=new fo([new Dp("",{})]),o=new fo({}),i=new fo({}),s=new fo({}),a=new fo(""),l=new tl(n,o,s,a,i,vn,t,r.root);return l.snapshot=r.root,new rA(new ya(l,[]),r)}class tl{constructor(t,r,n,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(rn(c=>c[Ep]))??jt(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(rn(t=>Td(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(rn(t=>Td(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PC(e,t,r="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===t||"always"!==r&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&aA(o)&&(n.resolve[Ep]=o.title),n}class OC{get title(){return this.data?.[Ep]}constructor(t,r,n,o,i,s,a,l,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Td(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Td(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iA extends nA{constructor(t,r){super(r),this.url=t,FC(this,r)}toString(){return sA(this._root)}}function FC(e,t){t.value._routerState=e,t.children.forEach(r=>FC(e,r))}function sA(e){const t=e.children.length>0?` { ${e.children.map(sA).join(", ")} } `:"";return`${e.value}${t}`}function NC(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Ja(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),Ja(t.params,r.params)||e.paramsSubject.next(r.params),function D6(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Ja(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),Ja(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function LC(e,t){const r=Ja(e.params,t.params)&&function M6(e,t){return tu(e,t)&&e.every((r,n)=>Ja(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||LC(e.parent,t.parent))}function aA(e){return"string"==typeof e.title||null===e.title}let lA=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=vn,this.activateEvents=new tn,this.deactivateEvents=new tn,this.attachEvents=new tn,this.detachEvents=new tn,this.parentContexts=ot(ou),this.location=ot(os),this.changeDetector=ot(at),this.environmentInjector=ot(ii),this.inputBinder=ot(t_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ke(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ke(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ke(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Ke(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new cH(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Rt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yi]}),t})();class cH{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===tl?this.route:t===ou?this.childContexts:this.parent.get(t,r)}}const t_=new dt("");let cA=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=Hg([o.queryParams,o.params,o.data]).pipe(Qr(([s,a,l],c)=>(l={...s,...a,...l},0===c?jt(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=lT(o.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function kp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function dH(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return kp(e,n,o);return kp(e,n)})}(e,t,r);return new ya(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>kp(e,a)),s}}const n=function fH(e){return new tl(new fo(e.url),new fo(e.params),new fo(e.queryParams),new fo(e.fragment),new fo(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>kp(e,i));return new ya(n,o)}}const $C="ngNavigationCancelingError";function uA(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=ru(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=dA(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function dA(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[$C]=!0,n.cancellationCode=t,r&&(n.url=r),n}function fA(e){return e&&e[$C]}let pA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["ng-component"]],standalone:!0,features:[ag],decls:1,vars:0,template:function(n,o){1&n&&Ve(0,"router-outlet")},dependencies:[lA],encapsulation:2}),t})();function BC(e){const t=e.children&&e.children.map(BC),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==vn&&(r.component=pA),r}function nl(e){return e.outlet||vn}function Rp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class bH{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),NC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=Rd(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Rd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Rd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=Rd(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new sH(i.value.snapshot))}),t.children.length&&this.forwardEvent(new oH(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(NC(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),NC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Rp(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class hA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class n_{constructor(t,r){this.component=t,this.route=r}}function CH(e,t,r){const n=e._root;return Pp(n,t?t._root:null,r,[n.value])}function Pd(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function Br(e){return null!==Un(e)}(e)?t.get(e):e:n}function Pp(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Rd(t);return e.children.forEach(s=>{(function wH(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function EH(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!tu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!tu(e.url,t.url)||!Ja(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LC(e,t)||!Ja(e.queryParams,t.queryParams);default:return!LC(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new hA(n)):(i.data=s.data,i._resolvedData=s._resolvedData),Pp(e,t,i.component?a?a.children:null:r,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new n_(a.outlet.component,s))}else s&&Op(t,a,o),o.canActivateChecks.push(new hA(n)),Pp(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Op(a,r.getContext(s),o)),o}function Op(e,t,r){const n=Rd(e),o=e.value;Object.entries(n).forEach(([i,s])=>{Op(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new n_(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Fp(e){return"function"==typeof e}function mA(e){return e instanceof zg||"EmptyError"===e?.name}const r_=Symbol("INITIAL_VALUE");function Od(){return Qr(e=>Hg(e.map(t=>t.pipe(xd(1),kM(r_)))).pipe(rn(t=>{for(const r of t)if(!0!==r){if(r===r_)return r_;if(!1===r||r instanceof Md)return r}return!0}),va(t=>t!==r_),xd(1)))}function gA(e){return function Lr(...e){return Kr(e)}(Si(t=>{if(ru(t))throw uA(0,t)}),rn(t=>!0===t))}class VC{constructor(t){this.segmentGroup=t||null}}class jC extends Error{constructor(t){super(),this.urlTree=t}}function Fd(e){return Wg(new VC(e))}class HH{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return jt(n);if(o.numberOfChildren>1||!o.children[vn])return Wg(new Ke(4e3,!1));o=o.children[vn]}}applyRedirectCommands(t,r,n){const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new jC(o);return o}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new Md(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new Pr(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new Ke(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const GC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zH(e,t,r,n,o){const i=UC(e,t,r);return i.matched?(n=function hH(e,t){return e.providers&&!e._injector&&(e._injector=ub(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function jH(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?jt(o.map(s=>{const a=Pd(s,e);return gc(function AH(e){return e&&Fp(e.canMatch)}(a)?a.canMatch(t,r):Xl(e,()=>a(t,r)))})).pipe(Od(),gA()):jt(!0)}(n,t,r).pipe(rn(s=>!0===s?i:{...GC}))):jt(i)}function UC(e,t,r){if("**"===t.path)return function WH(e){return{matched:!0,parameters:e.length>0?NM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...GC}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||E6)(r,e,t);if(!o)return{...GC};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function _A(e,t,r,n){return r.length>0&&function KH(e,t,r){return r.some(n=>o_(e,t,n)&&nl(n)!==vn)}(e,r,n)?{segmentGroup:new Pr(t,qH(n,new Pr(r,e.children))),slicedSegments:[]}:0===r.length&&function YH(e,t,r){return r.some(n=>o_(e,t,n))}(e,r,n)?{segmentGroup:new Pr(e.segments,ZH(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new Pr(e.segments,e.children),slicedSegments:r}}function ZH(e,t,r,n,o){const i={};for(const s of n)if(o_(e,r,s)&&!o[nl(s)]){const a=new Pr([],{});i[nl(s)]=a}return{...o,...i}}function qH(e,t){const r={};r[vn]=t;for(const n of e)if(""===n.path&&nl(n)!==vn){const o=new Pr([],{});r[nl(n)]=o}return r}function o_(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class JH{}class nz{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new HH(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Ke(4002,`'${t.segmentGroup}'`)}recognize(){const t=_A(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(rn(r=>{const n=new OC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vn,this.rootComponentType,null,{}),o=new ya(n,r),i=new iA("",o),s=function H6(e,t,r=null,n=null){return qM(ZM(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,vn).pipe(eu(n=>{if(n instanceof jC)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof VC?this.noMatchError(n):n}))}inheritParamsAndData(t,r){const n=t.value,o=PC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),t.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0).pipe(rn(i=>i instanceof ya?[i]:[]))}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return Sr(o).pipe(Dd(i=>{const s=n.children[i],a=function vH(e,t){const r=e.filter(n=>nl(n)===t);return r.push(...e.filter(n=>nl(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function C6(e,t){return yn(function b6(e,t,r,n,o){return(i,s)=>{let a=r,l=t,c=0;i.subscribe(_n(s,f=>{const p=c++;l=a?e(l,f,p):(a=!0,f),n&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),Zg(null),function S6(e,t){const r=arguments.length>=2;return n=>n.pipe(e?va((o,i)=>e(o,i,n)):Vn,SC(1),r?Zg(t):RM(()=>new zg))}(),Pn(i=>{if(null===i)return Fd(n);const s=vA(i);return function rz(e){e.sort((t,r)=>t.value.outlet===vn?-1:r.value.outlet===vn?1:t.value.outlet.localeCompare(r.value.outlet))}(s),jt(s)}))}processSegment(t,r,n,o,i,s){return Sr(r).pipe(Dd(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(eu(l=>{if(l instanceof VC)return jt(null);throw l}))),mc(a=>!!a),eu(a=>{if(mA(a))return function QH(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?jt(new JH):Fd(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function XH(e,t,r,n){return!!(nl(e)===n||n!==vn&&o_(t,r,e))&&UC(t,e,r).matched}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):Fd(o):Fd(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:f}=UC(r,o,i);if(!a)return Fd(r);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,c);return this.applyRedirects.lineralizeSegments(o,p).pipe(Pn(m=>this.processSegment(t,n,r,m.concat(f),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i){const s=zH(r,n,o,t);return"**"===n.path&&(r.children={}),s.pipe(Qr(a=>a.matched?this.getChildConfig(t=n._injector??t,n,o).pipe(Qr(({routes:l})=>{const c=n._loadedInjector??t,{consumedSegments:f,remainingSegments:p,parameters:m}=a,y=new OC(f,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function iz(e){return e.data||{}}(n),nl(n),n.component??n._loadedComponent??null,n,function sz(e){return e.resolve||{}}(n)),{segmentGroup:H,slicedSegments:J}=_A(r,f,p,l);if(0===J.length&&H.hasChildren())return this.processChildren(c,l,H).pipe(rn(Se=>null===Se?null:new ya(y,Se)));if(0===l.length&&0===J.length)return jt(new ya(y,[]));const _e=nl(n)===i;return this.processSegment(c,l,H,J,_e?vn:i,!0).pipe(rn(Se=>new ya(y,Se instanceof ya?[Se]:[])))})):Fd(r)))}getChildConfig(t,r,n){return r.children?jt({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?jt({routes:r._loadedRoutes,injector:r._loadedInjector}):function VH(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?jt(!0):jt(o.map(s=>{const a=Pd(s,e);return gc(function IH(e){return e&&Fp(e.canLoad)}(a)?a.canLoad(t,r):Xl(e,()=>a(t,r)))})).pipe(Od(),gA())}(t,r,n).pipe(Pn(o=>o?this.configLoader.loadChildren(t,r).pipe(Si(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function UH(e){return Wg(dA(!1,3))}())):jt({routes:[],injector:t})}}function oz(e){const t=e.value.routeConfig;return t&&""===t.path}function vA(e){const t=[],r=new Set;for(const n of e){if(!oz(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=vA(n.children);t.push(new ya(n.value,o))}return t.filter(n=>!r.has(n))}function yA(e){const t=e.children.map(r=>yA(r)).flat();return[e,...t]}function HC(e){return Qr(t=>{const r=e(t);return r?Sr(r).pipe(rn(()=>t)):jt(t)})}let bA=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===vn);return o}getResolvedTitleForRoute(n){return n.data[Ep]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(fz),providedIn:"root"}),t})(),fz=(()=>{var e;class t extends bA{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(XT))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Nd=new dt("",{providedIn:"root",factory:()=>({})}),Ld=new dt("ROUTES");let zC=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ot(wx)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return jt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=gc(n.loadComponent()).pipe(rn(CA),Si(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Cp(()=>{this.componentLoaders.delete(n)})),i=new AM(o,()=>new xn).pipe(CC());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return jt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function pz(e,t,r,n){return gc(e.loadChildren()).pipe(rn(CA),Pn(o=>o instanceof V1||Array.isArray(o)?jt(o):Sr(t.compileModuleAsync(o))),rn(o=>{n&&n(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(r).injector,s=i.get(Ld,[],{optional:!0,self:!0}).flat()),{routes:s.map(BC),injector:i}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(Cp(()=>{this.childrenLoaders.delete(o)})),a=new AM(s,()=>new xn).pipe(CC());return this.childrenLoaders.set(o,a),a}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function CA(e){return function hz(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let WC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(mz),providedIn:"root"}),t})(),mz=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const SA=new dt(""),wA=new dt("");function gz(e,t,r){const n=e.get(wA),o=e.get(si);return e.get(He).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function _z(e){return new Promise(t=>{pD(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=n;return l&&Xl(e,()=>l({transition:a,from:t,to:r})),s})}let i_=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xn,this.transitionAbortSubject=new xn,this.configLoader=ot(zC),this.environmentInjector=ot(ii),this.urlSerializer=ot(nu),this.rootContexts=ot(ou),this.location=ot(cc),this.inputBindingEnabled=null!==ot(t_,{optional:!0}),this.titleStrategy=ot(bA),this.options=ot(Nd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ot(WC),this.createViewTransition=ot(SA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>jt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new nH(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new tH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new fo({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(va(s=>0!==s.id),rn(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Qr(s=>{this.currentTransition=s;let a=!1,l=!1;return jt(s).pipe(Si(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qr(c=>{const f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new kd(c.id,this.urlSerializer.serialize(c.rawUrl),m,0)),c.resolve(null),Eo}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return jt(c).pipe(Qr(m=>{const y=this.transitions?.getValue();return this.events.next(new Ap(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Eo:Promise.resolve(m)}),function az(e,t,r,n,o,i){return Pn(s=>function ez(e,t,r,n,o,i,s="emptyOnly"){return new nz(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(rn(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Si(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const y=new eA(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:m,extractedUrl:y,source:H,restoredState:J,extras:_e}=c,Se=new Ap(m,this.urlSerializer.serialize(y),H,J);this.events.next(Se);const Re=oA(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:Re,urlAfterRedirects:y,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=y,jt(s)}{const m="";return this.events.next(new kd(c.id,this.urlSerializer.serialize(c.extractedUrl),m,1)),c.resolve(null),Eo}}),Si(c=>{const f=new X6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),rn(c=>(this.currentTransition=s={...c,guards:CH(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function RH(e,t){return Pn(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?jt({...r,guardsResult:!0}):function PH(e,t,r,n){return Sr(e).pipe(Pn(o=>function BH(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?jt(i.map(a=>{const l=Rp(t)??o,c=Pd(a,l);return gc(function MH(e){return e&&Fp(e.canDeactivate)}(c)?c.canDeactivate(e,t,r,n):Xl(l,()=>c(e,t,r,n))).pipe(mc())})).pipe(Od()):jt(!0)}(o.component,o.route,r,t,n)),mc(o=>!0!==o,!0))}(s,n,o,e).pipe(Pn(a=>a&&function DH(e){return"boolean"==typeof e}(a)?function OH(e,t,r,n){return Sr(t).pipe(Dd(o=>bC(function NH(e,t){return null!==e&&t&&t(new rH(e)),jt(!0)}(o.route.parent,n),function FH(e,t){return null!==e&&t&&t(new iH(e)),jt(!0)}(o.route,n),function $H(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function SH(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>MM(()=>jt(s.guards.map(l=>{const c=Rp(s.node)??r,f=Pd(l,c);return gc(function TH(e){return e&&Fp(e.canActivateChild)}(f)?f.canActivateChild(n,e):Xl(c,()=>f(n,e))).pipe(mc())})).pipe(Od())));return jt(i).pipe(Od())}(e,o.path,r),function LH(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return jt(!0);const o=n.map(i=>MM(()=>{const s=Rp(t)??r,a=Pd(i,s);return gc(function xH(e){return e&&Fp(e.canActivate)}(a)?a.canActivate(t,e):Xl(s,()=>a(t,e))).pipe(mc())}));return jt(o).pipe(Od())}(e,o.route,r))),mc(o=>!0!==o,!0))}(n,i,e,t):jt(a)),rn(a=>({...r,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Si(c=>{if(s.guardsResult=c.guardsResult,ru(c.guardsResult))throw uA(0,c.guardsResult);const f=new Q6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),va(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),HC(c=>{if(c.guards.canActivateChecks.length)return jt(c).pipe(Si(f=>{const p=new J6(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Qr(f=>{let p=!1;return jt(f).pipe(function lz(e,t){return Pn(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return jt(r);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of yA(l))s.add(c);let a=0;return Sr(s).pipe(Dd(l=>i.has(l)?function cz(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!aA(o)&&(i[Ep]=o.title),function uz(e,t,r,n){const o=wC(e);if(0===o.length)return jt({});const i={};return Sr(o).pipe(Pn(s=>function dz(e,t,r,n){const o=Rp(t)??n,i=Pd(e,o);return gc(i.resolve?i.resolve(t,r):Xl(o,()=>i(t,r)))}(e[s],t,r,n).pipe(mc(),Si(a=>{i[s]=a}))),SC(1),PM(i),eu(s=>mA(s)?Eo:Wg(s)))}(i,e,t,n).pipe(rn(s=>(e._resolvedData=s,e.data=PC(e,e.parent,r).resolve,null)))}(l,n,e,t):(l.data=PC(l,l.parent,e).resolve,jt(void 0))),Si(()=>a++),SC(1),Pn(l=>a===s.size?jt(r):Eo))})}(this.paramsInheritanceStrategy,this.environmentInjector),Si({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",2)}}))}),Si(f=>{const p=new eH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),HC(c=>{const f=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Si(y=>{p.component=y}),rn(()=>{})));for(const y of p.children)m.push(...f(y));return m};return Hg(f(c.targetSnapshot.root)).pipe(Zg(),xd(1))}),HC(()=>this.afterPreactivation()),Qr(()=>{const{currentSnapshot:c,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,c.root,f.root);return p?Sr(p).pipe(rn(()=>s)):jt(s)}),rn(c=>{const f=function uH(e,t,r){const n=kp(e,t._root,r?r._root:void 0);return new rA(n,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:f},this.currentNavigation.targetRouterState=f,s}),Si(()=>{this.events.next(new MC)}),((e,t,r,n)=>rn(o=>(new bH(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),xd(1),Si({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ml(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),OM(this.transitionAbortSubject.pipe(Si(c=>{throw c}))),Cp(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),eu(c=>{if(l=!0,fA(c))this.events.next(new Ad(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function pH(e){return fA(e)&&ru(e.url)}(c)?this.events.next(new AC(c.url)):s.resolve(!1);else{this.events.next(new e_(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(f){s.reject(f)}}return Eo}))}))}cancelNavigationTransition(n,o,i){const s=new Ad(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function vz(e){return e!==Mp}let EA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(bz),providedIn:"root"}),t})();class yz{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let bz=(()=>{var e;class t extends yz{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),DA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(Cz),providedIn:"root"}),t})(),Cz=(()=>{var e;class t extends DA{constructor(){super(...arguments),this.location=ot(cc),this.urlSerializer=ot(nu),this.options=ot(Nd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ot(WC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Md,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oA(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof Ap)this.stateMemento=this.createStateMemento();else if(n instanceof kd)this.rawUrlTree=o.initialUrl;else if(n instanceof eA){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else n instanceof MC?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof Ad&&(3===n.code||2===n.code)?this.restoreHistory(o):n instanceof e_?this.restoreHistory(o,!0):n instanceof Ml&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Np=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Np||{});function IA(e,t){e.events.pipe(va(r=>r instanceof Ml||r instanceof Ad||r instanceof e_||r instanceof kd),rn(r=>r instanceof Ml||r instanceof kd?Np.COMPLETE:r instanceof Ad&&(0===r.code||1===r.code)?Np.REDIRECTING:Np.FAILED),va(r=>r!==Np.REDIRECTING),xd(1)).subscribe(()=>{t()})}function Sz(e){throw e}const wz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ez={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $o=(()=>{var e;class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ot(Sx),this.stateManager=ot(DA),this.options=ot(Nd,{optional:!0})||{},this.pendingTasks=ot(fg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ot(i_),this.urlSerializer=ot(nu),this.location=ot(cc),this.urlHandlingStrategy=ot(WC),this._events=new xn,this.errorHandler=this.options.errorHandler||Sz,this.navigated=!1,this.routeReuseStrategy=ot(EA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ot(Ld,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ot(t_,{optional:!0}),this.eventsSubscription=new ft,this.isNgZoneEnabled=ot(He)instanceof He&&He.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof Ad&&0!==o.code&&1!==o.code)this.navigated=!0;else if(o instanceof Ml)this.navigated=!0;else if(o instanceof AC){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vz(i.source)};this.scheduleNavigation(a,Mp,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Iz(e){return!(e instanceof MC||e instanceof AC)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(BC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=o,f=c?this.currentUrlTree.fragment:a;let m,p=null;switch(l){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{m=ZM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),m=this.currentUrlTree.root}return qM(m,n,p,f??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=ru(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Mp,null,o)}navigate(n,o={skipLocationChange:!1}){return function Dz(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Ke(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let i;if(i=!0===o?{...wz}:!1===o?{...Ez}:o,ru(n))return $M(this.currentUrlTree,n,i);const s=this.parseUrl(n);return $M(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,f;a?(l=a.resolve,c=a.reject,f=a.promise):f=new Promise((m,y)=>{l=m,c=y});const p=this.pendingTasks.add();return IA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class xA{}let Mz=(()=>{var e;class t{preload(n,o){return o().pipe(eu(()=>jt(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Az=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(va(n=>n instanceof Ml),Dd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=ub(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Sr(i).pipe(Po())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):jt(null);const s=i.pipe(Pn(a=>null===a?jt(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?Sr([s,this.loader.loadComponent(o)]).pipe(Po()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(le($o),le(wx),le(ii),le(xA),le(zC))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const ZC=new dt("");let TA=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ap?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ml?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof kd&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof tA&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tA(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function GE(){throw new Error("invalid")}()},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function rl(e,t){return{\u0275kind:e,\u0275providers:t}}function AA(){const e=ot(Wr);return t=>{const r=e.get(ma);if(t!==r.components[0])return;const n=e.get($o),o=e.get(kA);1===e.get(qC)&&n.initialNavigation(),e.get(RA,null,Mt.Optional)?.setUpPreloading(),e.get(ZC,null,Mt.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const kA=new dt("",{factory:()=>new xn}),qC=new dt("",{providedIn:"root",factory:()=>1}),RA=new dt("");function Oz(e){return rl(0,[{provide:RA,useExisting:Az},{provide:xA,useExisting:e}])}function Nz(e){return rl(9,[{provide:SA,useValue:gz},{provide:wA,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const PA=new dt("ROUTER_FORROOT_GUARD"),Lz=[cc,{provide:nu,useClass:EC},$o,ou,{provide:tl,useFactory:function MA(e){return e.routerState.root},deps:[$o]},zC,[]];let s_=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[Lz,[],{provide:Ld,multi:!0,useValue:n},{provide:PA,useFactory:jz,deps:[[$o,new rm,new om]]},{provide:Nd,useValue:o||{}},o?.useHash?{provide:Xa,useClass:fT}:{provide:Xa,useClass:dT},{provide:ZC,useFactory:()=>{const e=ot(IG),t=ot(He),r=ot(Nd),n=ot(i_),o=ot(nu);return r.scrollOffset&&e.setOffset(r.scrollOffset),new TA(o,n,e,t,r)}},o?.preloadingStrategy?Oz(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?Gz(o):[],o?.bindToComponentInputs?rl(8,[cA,{provide:t_,useExisting:cA}]).\u0275providers:[],o?.enableViewTransitions?Nz().\u0275providers:[],[{provide:OA,useFactory:AA},{provide:xb,multi:!0,useExisting:OA}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ld,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(le(PA,8))},e.\u0275mod=eo({type:e}),e.\u0275inj=on({}),t})();function jz(e){return"guarded"}function Gz(e){return["disabled"===e.initialNavigation?rl(3,[{provide:hp,multi:!0,useFactory:()=>{const t=ot($o);return()=>{t.setUpLocationChangeListener()}}},{provide:qC,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?rl(2,[{provide:qC,useValue:0},{provide:hp,multi:!0,deps:[Wr],useFactory:t=>{const r=t.get(aj,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get($o),i=t.get(kA);IA(o,()=>{n(!0)}),t.get(i_).afterPreactivation=()=>(n(!0),i.closed?jt(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const OA=new dt("");class Hz{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,r){const n=this.m.get(t);return void 0!==n?n:r}getBoolean(t,r=!1){const n=this.m.get(t);return void 0===n?r:"string"==typeof n?"true"===n:!!n}getNumber(t,r){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==r?r:NaN:n}set(t,r){this.m.set(t,r)}}const _c=new Hz,LA=e=>BA(e),BA=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=Kz(e),t.forEach(r=>e.document.documentElement.classList.add(`plt-${r}`))),t},Kz=e=>{const t=_c.get("platform");return Object.keys(HA).filter(r=>{const n=t?.[r];return"function"==typeof n?n(e):HA[r](e)})},KC=e=>!!(iu(e,/iPad/i)||iu(e,/Macintosh/i)&&a_(e)),VA=e=>iu(e,/android|sink/i),a_=e=>i5(e,"(any-pointer:coarse)"),jA=e=>GA(e)||UA(e),GA=e=>!!(e.cordova||e.phonegap||e.PhoneGap),UA=e=>{const t=e.Capacitor;return!!t?.isNative},iu=(e,t)=>t.test(e.navigator.userAgent),i5=(e,t)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,t).matches},HA={ipad:KC,iphone:e=>iu(e,/iPhone/i),ios:e=>iu(e,/iPhone|iPod/i)||KC(e),android:VA,phablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return KC(e)||(e=>VA(e)&&!iu(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:GA,capacitor:UA,electron:e=>iu(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:a_,mobileweb:e=>a_(e)&&!jA(e),desktop:e=>!a_(e),hybrid:jA};var $p=C(7687),s5=C(276);const a5=["addListener","removeListener"],l5=["addEventListener","removeEventListener"],c5=["on","off"];function l_(e,t,r,n){if(ye(r)&&(n=r,r=void 0),n)return l_(e,t,r).pipe(yC(n));const[o,i]=function f5(e){return ye(e.addEventListener)&&ye(e.removeEventListener)}(e)?l5.map(s=>a=>e[s](t,a,r)):function u5(e){return ye(e.addListener)&&ye(e.removeListener)}(e)?a5.map(zA(e,t)):function d5(e){return ye(e.on)&&ye(e.off)}(e)?c5.map(zA(e,t)):[];if(!o&&Zi(e))return Pn(s=>l_(s,t,r))(je(e));if(!o)throw new TypeError("Invalid event target");return new Rn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function zA(e,t){return r=>n=>e[r](t,n)}let WA=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Sl),_(et))},e.\u0275dir=Rt({type:e}),t})(),su=(()=>{var e;class t extends WA{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=Rt({type:e,features:[gn]}),t})();const Fi=new dt("NgValueAccessor"),m5={provide:Fi,useExisting:$n(()=>YC),multi:!0},_5=new dt("CompositionEventMode");let YC=(()=>{var e;class t extends WA{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function g5(){const e=lc()?lc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Sl),_(et),_(_5,8))},e.\u0275dir=Rt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&Ne("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[fr([m5]),gn]}),t})();function vc(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function qA(e){return null!=e&&"number"==typeof e.length}const ai=new dt("NgValidators"),yc=new dt("NgAsyncValidators"),v5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Bp{static min(t){return KA(t)}static max(t){return YA(t)}static required(t){return function XA(e){return vc(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function QA(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function JA(e){return vc(e.value)||v5.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function ek(e){return t=>vc(t.value)||!qA(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return tk(t)}static pattern(t){return function nk(e){if(!e)return c_;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(vc(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return lk(t)}static composeAsync(t){return ck(t)}}function KA(e){return t=>{if(vc(t.value)||vc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function YA(e){return t=>{if(vc(t.value)||vc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function tk(e){return t=>qA(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function c_(e){return null}function rk(e){return null!=e}function ok(e){return lp(e)?Sr(e):e}function ik(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function sk(e,t){return t.map(r=>r(e))}function ak(e){return e.map(t=>function y5(e){return!e.validate}(t)?t:r=>t.validate(r))}function lk(e){if(!e)return null;const t=e.filter(rk);return 0==t.length?null:function(r){return ik(sk(r,t))}}function XC(e){return null!=e?lk(ak(e)):null}function ck(e){if(!e)return null;const t=e.filter(rk);return 0==t.length?null:function(r){return function p5(...e){const t=ea(e),{args:r,keys:n}=IM(e),o=new Rn(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let f=0;f<s;f++){let p=!1;je(r[f]).subscribe(_n(i,m=>{p||(p=!0,c--),a[f]=m},()=>l--,void 0,()=>{(!l||!p)&&(c||i.next(n?xM(n,a):a),i.complete())}))}});return t?o.pipe(yC(t)):o}(sk(r,t).map(ok)).pipe(rn(ik))}}function QC(e){return null!=e?ck(ak(e)):null}function uk(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function dk(e){return e._rawValidators}function fk(e){return e._rawAsyncValidators}function JC(e){return e?Array.isArray(e)?e:[e]:[]}function u_(e,t){return Array.isArray(e)?e.includes(t):e===t}function pk(e,t){const r=JC(t);return JC(e).forEach(o=>{u_(r,o)||r.push(o)}),r}function hk(e,t){return JC(t).filter(r=>!u_(e,r))}class mk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=XC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=QC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Ni extends mk{get formDirective(){return null}get path(){return null}}class Al extends mk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gk{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kl=(()=>{var e;class t extends gk{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Al,2))},e.\u0275dir=Rt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&Us("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[gn]}),t})(),Rl=(()=>{var e;class t extends gk{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Ni,10))},e.\u0275dir=Rt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&Us("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[gn]}),t})();const Vp="VALID",f_="INVALID",Bd="PENDING",jp="DISABLED";function n0(e){return(p_(e)?e.validators:e)||null}function r0(e,t){return(p_(t)?t.asyncValidators:e)||null}function p_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class bk{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Vp}get invalid(){return this.status===f_}get pending(){return this.status==Bd}get disabled(){return this.status===jp}get enabled(){return this.status!==jp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(pk(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(pk(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(hk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(hk(t,this._rawAsyncValidators))}hasValidator(t){return u_(this._rawValidators,t)}hasAsyncValidator(t){return u_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Bd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=jp,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=Vp,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vp||this.status===Bd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jp:Vp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Bd,this._hasOwnPendingAsyncValidator=!0;const r=ok(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new tn,this.statusChanges=new tn}_calculateStatus(){return this._allControlsDisabled()?jp:this.errors?f_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bd)?Bd:this._anyControlsHaveStatus(f_)?f_:Vp}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){p_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function w5(e){return Array.isArray(e)?XC(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function E5(e){return Array.isArray(e)?QC(e):e||null}(this._rawAsyncValidators)}}class bc extends bk{constructor(t,r,n){super(n0(r),r0(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function yk(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new Ke(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function vk(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new Ke(1e3,"");if(!n[r])throw new Ke(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const h_=bc,au=new dt("CallSetDisabledState",{providedIn:"root",factory:()=>Gp}),Gp="always";function Up(e,t,r=Gp){o0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function x5(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Ck(e,t)})}(e,t),function M5(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function T5(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Ck(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function I5(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function g_(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),v_(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function __(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function o0(e,t){const r=dk(e);null!==t.validator?e.setValidators(uk(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=fk(e);null!==t.asyncValidator?e.setAsyncValidators(uk(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();__(t._rawValidators,o),__(t._rawAsyncValidators,o)}function v_(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=dk(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=fk(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return __(t._rawValidators,n),__(t._rawAsyncValidators,n),r}function Ck(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ek(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function Dk(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const ss=class extends bk{constructor(t=null,r,n){super(n0(r),r0(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),p_(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=Dk(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ek(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ek(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Dk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Ao=ss;let Pl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Rt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),kk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({}),t})();const u0=new dt("NgModelWithFormControlWarning"),U5={provide:Ni,useExisting:$n(()=>ba)};let ba=(()=>{var e;class t extends Ni{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new tn,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(v_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return Up(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){g_(n.control||null,n,!1),function P5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function wk(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&(g_(o||null,n),(e=>e instanceof ss)(i)&&(Up(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function Sk(e,t){o0(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function A5(e,t){return v_(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){o0(this.form,this),this._oldForm&&v_(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ai,10),_(yc,10),_(au,8))},e.\u0275dir=Rt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&Ne("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fr([U5]),gn,yi]}),t})();const W5={provide:Al,useExisting:$n(()=>ol)};let ol=(()=>{var e;class t extends Al{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new tn,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function l0(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===YC?r=i:function R5(e){return Object.getPrototypeOf(e.constructor)===su}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function a0(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function m_(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(_(Ni,13),_(ai,10),_(yc,10),_(Fi,10),_(u0,8))},e.\u0275dir=Rt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[fr([W5]),gn,yi]}),t})();function Bk(e){return"number"==typeof e?e:parseFloat(e)}let lu=(()=>{var e;class t{constructor(){this._validator=c_}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):c_,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Rt({type:e,features:[yi]}),t})();const J5={provide:ai,useExisting:$n(()=>m0),multi:!0};let m0=(()=>{var e;class t extends lu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>Bk(n),this.createValidator=n=>YA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=Rt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&ws("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[fr([J5]),gn]}),t})();const e8={provide:ai,useExisting:$n(()=>g0),multi:!0};let g0=(()=>{var e;class t extends lu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>Bk(n),this.createValidator=n=>KA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=Rt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&ws("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[fr([e8]),gn]}),t})();const i8={provide:ai,useExisting:$n(()=>v0),multi:!0};let v0=(()=>{var e;class t extends lu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function $k(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>tk(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=Rt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&ws("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[fr([i8]),gn]}),t})(),Hk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({imports:[kk]}),t})(),cu=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:au,useValue:n.callSetDisabledState??Gp}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({imports:[Hk]}),t})(),y_=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:u0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:au,useValue:n.callSetDisabledState??Gp}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({imports:[Hk]}),t})();const l8=["tabsInner"];let c8=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new xn,this.keyboardDidShow=new xn,this.keyboardDidHide=new xn,this.pause=new xn,this.resume=new xn,this.resize=new xn,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>n.run(()=>s(l))))},Vd(this.pause,r,"pause",n),Vd(this.resume,r,"resume",n),Vd(this.backButton,r,"ionBackButton",n),Vd(this.resize,this.win,"resize",n),Vd(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),Vd(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),LA(e).includes(t)))(this.win,r)}platforms(){return LA(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return u8(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(le(si),le(He))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const u8=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},Vd=(e,t,r,n)=>{t&&t.addEventListener(r,o=>{n.run(()=>{const i=o?.detail;e.next(i)})})};let jd=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=zk,this.animated=Wk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Ap){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,V.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=d8(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=zk,this.animated=Wk,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(le(c8),le(cc),le(nu),le($o,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const d8=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},zk="auto",Wk=void 0;let zp=(()=>{class e{get(r,n){const o=y0();return o?o.get(r,n):null}getBoolean(r,n){const o=y0();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=y0();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Zk=new dt("USERCONFIG"),y0=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class qk{constructor(t={}){this.data=t}get(t){return this.data[t]}}let Wp=(()=>{class e{constructor(){this.zone=ot(He),this.applicationRef=ot(ma)}create(r,n,o){return new f8(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();class f8{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(p8(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const p8=(e,t,r,n,o,i,s,a,l,c,f)=>{const m=function oj(e,t){const r=Sn(e),n=t.elementInjector||cm();return new zf(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:Wr.create({providers:m8(l),parent:r})}),y=m.instance,H=m.location.nativeElement;if(l&&(f&&void 0!==y[f]&&console.error(`[Ionic Error]: ${f} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${f}" property from ${a.name}.`),Object.assign(y,l)),c)for(const _e of c)H.classList.add(_e);const J=Kk(e,y,H);return s.appendChild(H),n.attachView(m.hostView),o.set(H,m),i.set(H,J),H},h8=[$p.L,$p.a,$p.b,$p.c,$p.d],Kk=(e,t,r)=>e.run(()=>{const n=h8.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),Yk=new dt("NavParamsToken"),m8=e=>[{provide:Yk,useValue:e},{provide:qk,useFactory:g8,deps:[Yk]}],g8=e=>new qk(e),_8=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},v8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})};function b_(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&_8(r,o),i&&v8(r,i),r}}const Xk=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),C0=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},Qk=(e,t)=>!t||e.stackId!==t.stackId,T8=(e,t)=>{if(!e)return;const r=Jk(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},Jk=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),eR=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class M8{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?Jk(t):void 0}createView(t,r){const n=C0(this.router,r),o=t?.location?.nativeElement,i=Kk(this.zone,t.instance,o);return{id:this.nextId++,stackId:T8(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=C0(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=Qk(t,s);a&&(n="back",o=void 0);const l=this.views.slice();let c;const f=this.router;f.getCurrentNavigation?c=f.getCurrentNavigation():f.navigations?.value&&(c=f.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const p=this.views.includes(t),m=this.insertView(t,n);p||t.ref.changeDetectorRef.detectChanges();const y=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==y&&(i=y),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>A8(t,m,l,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&tR(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(eR),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?Xk(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):Xk(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=r?r.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==c&&c.appendChild(a),c.commit)?c.commit(a,l,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,V.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const A8=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{tR(e,t,r,n,o),i()})}):Promise.resolve(),tR=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(eR)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let nR=(()=>{class e{constructor(r,n,o,i,s,a,l,c){this.parentOutlet=c,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new fo(null),this.activated=null,this._activatedRoute=null,this.name=vn,this.stackWillChange=new tn,this.stackDidChange=new tn,this.activateEvents=new tn,this.deactivateEvents=new tn,this.parentContexts=ot(ou),this.location=ot(os),this.environmentInjector=ot(ii),this.inputBinder=ot(rR,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=ot(zp),this.navCtrl=ot(jd),this.nativeEl=i.nativeElement,this.name=r||vn,this.tabsPrefix="true"===n?C0(s,l):void 0,this.stackCtrl=new M8(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,s5.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new fo(null),f=this.createActivatedRouteProxy(c,r),p=new k8(f,l,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:p,environmentInjector:n??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,f),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:Qk(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new tl;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(va(o=>!!o),Qr(o=>this.currentActivatedRoute$.pipe(va(i=>null!==i&&i.component===o),Qr(i=>i&&i.activatedRoute[n]),Ns())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(Yl("name"),Yl("tabs"),_(cc),_(et),_($o),_(He),_(tl),_(e,12))},e.\u0275dir=Rt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class k8{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===tl?this.route:t===ou?this.childContexts:this.parent.get(t,r)}}const rR=new dt("");let R8=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=Hg([n.queryParams,n.params,n.data]).pipe(Qr(([i,s,a],l)=>(a={...i,...s,...a},0===l?jt(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=lT(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();function O8(e){return e?.componentInputBindingEnabled?new R8:null}const F8=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let N8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.routerOutlet=r,this.navCtrl=n,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}};return e.\u0275fac=function(r){return new(r||e)(_(nR,8),_(jd),_(zp),_(et),_(He),_(at))},e.\u0275dir=Rt({type:e,hostBindings:function(r,n){1&r&&Ne("click",function(i){return n.onClick(i)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),e=oe([b_({inputs:F8})],e),e})();const B8=["animated","animation","root","rootParams","swipeGesture"],V8=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let j8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.z=s,a.detach(),this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),((e,t,r)=>{r.forEach(n=>e[n]=l_(t,n))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(_(et),_(ii),_(Wr),_(Wp),_(He),_(at))},e.\u0275dir=Rt({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),e=oe([b_({inputs:B8,methods:V8})],e),e})(),G8=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new tn,this.ionTabsDidChange=new tn,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(_(jd))},e.\u0275dir=Rt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,n){if(1&r&&sc(l8,7,et),2&r){let o;Ds(o=Is())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&Ne("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),e})();const oR=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let Zp=(()=>{class e{constructor(r,n){this.injector=r,this.elementRef=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,Gd(this.elementRef)}handleValueChange(r,n){r===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),Gd(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),Gd(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(Al)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>Gd(this.elementRef)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),Gd(this.elementRef)}}})}}return e.\u0275fac=function(r){return new(r||e)(_(Wr),_(et))},e.\u0275dir=Rt({type:e,hostBindings:function(r,n){1&r&&Ne("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const Gd=e=>{oR(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=U8(t);S0(t,n);const o=t.closest("ion-item");o&&S0(o,r?[...n,"item-has-value"]:n)})},U8=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&H8(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},S0=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},H8=(e,t)=>e.substring(0,t.length)===t;class z8{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}class qp{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}var w0=C(2723),W8=(C(8044),C(5444),C(5922),C(4923),C(5194)),E0=C(2984),Kp=(C(4656),C(7261)),Z8=(C(6940),C(3426));C(4967);const K8=W8.i,_t=["*"],X8=["outlet"],Q8=[[["","slot","top"]],"*"],J8=["[slot=top]","*"];let Ud=(()=>{class e extends Zp{constructor(r,n){super(r,n)}writeValue(r){this.elementRef.nativeElement.checked=this.lastValue=r,Gd(this.elementRef)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(_(Wr),_(et))},e.\u0275dir=Rt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&Ne("ionChange",function(i){return n._handleIonChange(i.target)})},features:[fr([{provide:Fi,useExisting:e,multi:!0}]),gn]}),e})(),Yp=(()=>{class e extends Zp{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(_(Wr),_(et))},e.\u0275dir=Rt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&Ne("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[fr([{provide:Fi,useExisting:e,multi:!0}]),gn]}),e})(),Ol=(()=>{class e extends Zp{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(_(Wr),_(et))},e.\u0275dir=Rt({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(r,n){1&r&&Ne("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[fr([{provide:Fi,useExisting:e,multi:!0}]),gn]}),e})();const o9=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)},configurable:!0})})},i9=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},mr=(e,t,r)=>{r.forEach(n=>e[n]=l_(t,n))};function yt(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&o9(r,o),i&&i9(r,i),r}}let iR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-app"]],ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({})],e),e})(),Li=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),$i=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["collapse"]})],e),e})(),sR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Bi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),Vi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["collapse","mode","translucent"]})],e),e})(),Bo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),Fl=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),yo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),C_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),S_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["side"]})],e),e})(),w_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),ji=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["color","mode","position"]})],e),e})(),Ts=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),D0=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),Xp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),Qp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["disabled","value"]})],e),e})(),Jp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["color","duration","name","paused"]})],e),e})(),E_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),aR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),Gi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["color","size"]})],e),e})(),eh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Ui=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=Ze({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e=oe([yt({inputs:["color","mode"]})],e),e})(),th=(()=>{class e extends nR{constructor(r,n,o,i,s,a,l,c){super(r,n,o,i,s,a,l,c),this.parentOutlet=c}}return e.\u0275fac=function(r){return new(r||e)(Yl("name"),Yl("tabs"),_(cc),_(et),_($o),_(He),_(tl),_(e,12))},e.\u0275dir=Rt({type:e,selectors:[["ion-router-outlet"]],features:[gn]}),e})(),lR=(()=>{class e extends G8{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=zr(e)))(n||e)}})(),e.\u0275cmp=Ze({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(_d(o,E_,5),_d(o,E_,4)),2&r){let i;Ds(i=Is())&&(n.tabBar=i.first),Ds(i=Is())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&sc(X8,5,th),2&r){let o;Ds(o=Is())&&(n.outlet=o.first)}},features:[gn],ngContentSelectors:J8,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&(ht(Q8),pt(0),U(1,"div",0,1)(3,"ion-router-outlet",2,3),Ne("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),$()(),pt(5,1))},dependencies:[th],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),cR=(()=>{class e extends N8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(_(th,8),_(jd),_(zp),_(et),_(He),_(at))},e.\u0275cmp=Ze({type:e,selectors:[["ion-back-button"]],features:[gn],ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e})(),I0=(()=>{class e extends j8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(_(et),_(ii),_(Wr),_(Wp),_(He),_(at))},e.\u0275cmp=Ze({type:e,selectors:[["ion-nav"]],features:[gn],ngContentSelectors:_t,decls:1,vars:0,template:function(r,n){1&r&&(ht(),pt(0))},encapsulation:2,changeDetection:0}),e})();const uW={provide:ai,useExisting:$n(()=>uR),multi:!0};let uR=(()=>{class e extends m0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=zr(e)))(n||e)}})(),e.\u0275dir=Rt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&ws("max",n._enabled?n.max:null)},features:[fr([uW]),gn]}),e})();const dW={provide:ai,useExisting:$n(()=>dR),multi:!0};let dR=(()=>{class e extends g0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=zr(e)))(n||e)}})(),e.\u0275dir=Rt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&ws("min",n._enabled?n.min:null)},features:[fr([dW]),gn]}),e})(),x0=(()=>{class e extends qp{constructor(){super(Kp.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),nh=(()=>{class e extends qp{constructor(){super(Kp.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qs=(()=>{class e extends qp{constructor(){super(Kp.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),as=(()=>{class e extends qp{constructor(){super(Kp.m),this.angularDelegate=ot(Wp),this.injector=ot(Wr),this.environmentInjector=ot(ii)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();class Nl extends qp{constructor(){super(Kp.c),this.angularDelegate=ot(Wp),this.injector=ot(Wr),this.environmentInjector=ot(ii)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const fW=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,E0.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function q8(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(C.e(6748).then(C.t.bind(C,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(C.e(2214).then(C.t.bind(C,7386,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return K8(),(0,Z8.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:oR,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}}))}};let Cc=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:Zk,useValue:r},{provide:hp,useFactory:fW,multi:!0,deps:[Zk,si,He]},{provide:rR,useFactory:O8,deps:[$o]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({providers:[Wp,as,Nl],imports:[Qa]}),e})();function fR(e,t){(function pW(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function T0(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function rh(e){return(rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function co(e,t,r){return(t=function mW(e){var t=function hW(e,t){if("object"!==rh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let uu={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function pR(e){uu=e}const hR=/[&<>"']/,gW=new RegExp(hR.source,"g"),mR=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,_W=new RegExp(mR.source,"g"),vW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gR=e=>vW[e];function Ms(e,t){if(t){if(hR.test(e))return e.replace(gW,gR)}else if(mR.test(e))return e.replace(_W,gR);return e}const yW=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,CW=/(^|[^\[])\^/g;function vr(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o="object"==typeof o&&"source"in o?o.source:o).replace(CW,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}function _R(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const D_={exec:()=>null};function vR(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function I_(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function yR(e,t,r,n){const o=t.href,i=t.title?Ms(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:Ms(s)}}class x_{constructor(t){co(this,"options",void 0),co(this,"rules",void 0),co(this,"lexer",void 0),this.options=t||uu}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:I_(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function wW(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=I_(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=I_(r[0].replace(/^ *>[ \t]?/gm,""),"\n"),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;t;){let f=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let p=r[2].split("\n",1)[0].replace(/^\t+/,Se=>" ".repeat(3*Se.length)),m=t.split("\n",1)[0],y=0;this.options.pedantic?(y=2,l=p.trimStart()):(y=r[2].search(/[^ ]/),y=y>4?1:y,l=p.slice(y),y+=r[1].length);let H=!1;if(!p&&/^ *$/.test(m)&&(a+=m+"\n",t=t.substring(m.length+1),f=!0),!f){const Se=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Re=new RegExp(`^ {0,${Math.min(3,y-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),gt=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:\`\`\`|~~~)`),mt=new RegExp(`^ {0,${Math.min(3,y-1)}}#`);for(;t;){const qt=t.split("\n",1)[0];if(m=qt,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),gt.test(m)||mt.test(m)||Se.test(m)||Re.test(t))break;if(m.search(/[^ ]/)>=y||!m.trim())l+="\n"+m.slice(y);else{if(H||p.search(/[^ ]/)>=4||gt.test(p)||mt.test(p)||Re.test(p))break;l+="\n"+m}!H&&!m.trim()&&(H=!0),a+=qt+"\n",t=t.substring(qt.length+1),p=m.slice(y)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let _e,J=null;this.options.gfm&&(J=/^\[[ xX]\] /.exec(l),J&&(_e="[ ] "!==J[0],l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!J,checked:_e,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){const p=i.items[f].tokens.filter(y=>"space"===y.type),m=p.length>0&&p.some(y=>/\n.*\n/.test(y.raw));i.loose=m}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){if(!/[:|]/.test(r[2]))return;const n={type:"table",raw:r[0],header:vR(r[1]).map(o=>({text:o,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){let i,s,a,l,o=n.align.length;for(i=0;i<o;i++){const c=n.align[i];c&&(n.align[i]=/^ *-+: *$/.test(c)?"right":/^ *:-+: *$/.test(c)?"center":/^ *:-+ *$/.test(c)?"left":null)}for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=vR(n.rows[i],n.header.length).map(c=>({text:c,tokens:[]}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(l=n.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Ms(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=I_(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function SW(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}(r[2],"()");if(s>-1){const l=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),yR(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return yR(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){const s=[...o[0]].length-1;let a,l,c=s,f=0;const p="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(p.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=p.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){f+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+f);const m=[...o[0]][0].length,y=t.slice(0,s+o.index+m+l);if(Math.min(s,l)%2){const J=y.slice(1,-1);return{type:"em",raw:y,text:J,tokens:this.lexer.inlineTokens(J)}}const H=y.slice(2,-2);return{type:"strong",raw:y,text:H,tokens:this.lexer.inlineTokens(H)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=Ms(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,o;return"@"===r[2]?(n=Ms(r[1]),o="mailto:"+n):(n=Ms(r[1]),o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,o;if("@"===r[2])n=Ms(r[0]),o="mailto:"+n;else{let i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=Ms(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:Ms(r[0]),{type:"text",raw:r[0],text:n}}}}const Kt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:D_,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Kt.def=vr(Kt.def).replace("label",Kt._label).replace("title",Kt._title).getRegex(),Kt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Kt.listItemStart=vr(/^( *)(bull) */).replace("bull",Kt.bullet).getRegex(),Kt.list=vr(Kt.list).replace(/bull/g,Kt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Kt.def.source+")").getRegex(),Kt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Kt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Kt.html=vr(Kt.html,"i").replace("comment",Kt._comment).replace("tag",Kt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Kt.lheading=vr(Kt.lheading).replace(/bull/g,Kt.bullet).getRegex(),Kt.paragraph=vr(Kt._paragraph).replace("hr",Kt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Kt._tag).getRegex(),Kt.blockquote=vr(Kt.blockquote).replace("paragraph",Kt.paragraph).getRegex(),Kt.normal={...Kt},Kt.gfm={...Kt.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Kt.gfm.table=vr(Kt.gfm.table).replace("hr",Kt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Kt._tag).getRegex(),Kt.gfm.paragraph=vr(Kt._paragraph).replace("hr",Kt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Kt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Kt._tag).getRegex(),Kt.pedantic={...Kt.normal,html:vr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Kt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:D_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:vr(Kt.normal._paragraph).replace("hr",Kt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Kt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const At={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:D_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:D_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};At.punctuation=vr(At.punctuation,"u").replace(/punctuation/g,At._punctuation).getRegex(),At.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,At.anyPunctuation=/\\[punct]/g,At._escapes=/\\([punct])/g,At._comment=vr(Kt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),At.emStrong.lDelim=vr(At.emStrong.lDelim,"u").replace(/punct/g,At._punctuation).getRegex(),At.emStrong.rDelimAst=vr(At.emStrong.rDelimAst,"gu").replace(/punct/g,At._punctuation).getRegex(),At.emStrong.rDelimUnd=vr(At.emStrong.rDelimUnd,"gu").replace(/punct/g,At._punctuation).getRegex(),At.anyPunctuation=vr(At.anyPunctuation,"gu").replace(/punct/g,At._punctuation).getRegex(),At._escapes=vr(At._escapes,"gu").replace(/punct/g,At._punctuation).getRegex(),At._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,At._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,At.autolink=vr(At.autolink).replace("scheme",At._scheme).replace("email",At._email).getRegex(),At._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,At.tag=vr(At.tag).replace("comment",At._comment).replace("attribute",At._attribute).getRegex(),At._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,At._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,At._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,At.link=vr(At.link).replace("label",At._label).replace("href",At._href).replace("title",At._title).getRegex(),At.reflink=vr(At.reflink).replace("label",At._label).replace("ref",Kt._label).getRegex(),At.nolink=vr(At.nolink).replace("ref",Kt._label).getRegex(),At.reflinkSearch=vr(At.reflinkSearch,"g").replace("reflink",At.reflink).replace("nolink",At.nolink).getRegex(),At.normal={...At},At.pedantic={...At.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:vr(/^!?\[(label)\]\((.*?)\)/).replace("label",At._label).getRegex(),reflink:vr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",At._label).getRegex()},At.gfm={...At.normal,escape:vr(At.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},At.gfm.url=vr(At.gfm.url,"i").replace("email",At.gfm._extended_email).getRegex(),At.breaks={...At.gfm,br:vr(At.br).replace("{2,}","*").getRegex(),text:vr(At.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class il{constructor(t){co(this,"tokens",void 0),co(this,"options",void 0),co(this,"state",void 0),co(this,"tokenizer",void 0),co(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||uu,this.options.tokenizer=this.options.tokenizer||new x_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Kt.normal,inline:At.normal};this.options.pedantic?(r.block=Kt.pedantic,r.inline=At.pedantic):this.options.gfm&&(r.block=Kt.gfm,r.inline=this.options.breaks?At.breaks:At.gfm),this.tokenizer.rules=r}static get rules(){return{block:Kt,inline:At}}static lex(t,r){return new il(r).lex(t)}static lexInline(t,r){return new il(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},l),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,l,c,s=t;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>!!(n=f.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,c)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const p=t.slice(1);let m;this.options.extensions.startInline.forEach(y=>{m=y.call({lexer:this},p),"number"==typeof m&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(i=t.substring(0,f+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(c=n.raw.slice(-1)),l=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return r}}class du{constructor(t){co(this,"options",void 0),this.options=t||uu}code(t,r,n){const o=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="language-'+Ms(o)+'">'+(n?t:Ms(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:Ms(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>\n`}hr(){return"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t,r,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const o=_R(t);if(null===o)return n;let i='<a href="'+(t=o)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const o=_R(t);if(null===o)return n;let i=`<img src="${t=o}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class A0{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class sl{constructor(t){co(this,"options",void 0),co(this,"renderer",void 0),co(this,"textRenderer",void 0),this.options=t||uu,this.options.renderer=this.options.renderer||new du,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new A0}static parse(t,r){return new sl(r).parse(t)}static parseInline(t,r){return new sl(r).parseInline(t)}parse(t,r=!0){let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,this.parseInline(s.tokens,this.textRenderer).replace(yW,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""));continue}case"code":n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue;case"table":{const s=i;let a="",l="";for(let f=0;f<s.header.length;f++)l+=this.renderer.tablecell(this.parseInline(s.header[f].tokens),{header:!0,align:s.align[f]});a+=this.renderer.tablerow(l);let c="";for(let f=0;f<s.rows.length;f++){const p=s.rows[f];l="";for(let m=0;m<p.length;m++)l+=this.renderer.tablecell(this.parseInline(p[m].tokens),{header:!1,align:s.align[m]});c+=this.renderer.tablerow(l)}n+=this.renderer.table(a,c);continue}case"blockquote":{const a=this.parse(i.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,l=s.start,c=s.loose;let f="";for(let p=0;p<s.items.length;p++){const m=s.items[p],y=m.checked,H=m.task;let J="";if(m.task){const _e=this.renderer.checkbox(!!y);c?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=_e+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=_e+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:_e+" "}):J+=_e+" "}J+=this.parse(m.tokens,c),f+=this.renderer.listitem(J,H,!!y)}n+=this.renderer.list(f,a,l);continue}case"html":n+=this.renderer.html(i.text,i.block);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(i.tokens));continue;case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<t.length&&"text"===t[o+1].type;)s=t[++o],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class oh{constructor(t){co(this,"options",void 0),this.options=t||uu}preprocess(t){return t}postprocess(t){return t}}co(oh,"passThroughHooks",new Set(["preprocess","postprocess"]));var k0=new WeakSet,bR=new WeakSet;function CR(e,t){return(r,n)=>{const o={...n},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const s=T0(this,bR,DW).call(this,!!i.silent,!!i.async);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));const a=e(r,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=t(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return s(a)}}}function DW(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const n="<p>An error occurred:</p><pre>"+Ms(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}const fu=new class EW{constructor(...t){fR(this,bR),fR(this,k0),co(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),co(this,"options",this.setOptions),co(this,"parse",T0(this,k0,CR).call(this,il.lex,sl.parse)),co(this,"parseInline",T0(this,k0,CR).call(this,il.lexInline,sl.parseInline)),co(this,"Parser",sl),co(this,"Renderer",du),co(this,"TextRenderer",A0),co(this,"Lexer",il),co(this,"Tokenizer",x_),co(this,"Hooks",oh),this.use(...t)}walkTokens(t,r){let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const i=o;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":n=n.concat(this.walkTokens(o.items,r));break;default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{n=n.concat(this.walkTokens(i[s],r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];r.renderers[i.name]=s?function(...a){let l=i.renderer.apply(this,a);return!1===l&&(l=s.apply(this,a)),l}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&("block"===i.level?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:"inline"===i.level&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){const i=this.defaults.renderer||new du(this.defaults);for(const s in n.renderer){const a=n.renderer[s],c=i[s];i[s]=(...f)=>{let p=a.apply(i,f);return!1===p&&(p=c.apply(i,f)),p||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new x_(this.defaults);for(const s in n.tokenizer){const a=n.tokenizer[s],c=i[s];i[s]=(...f)=>{let p=a.apply(i,f);return!1===p&&(p=c.apply(i,f)),p}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new oh;for(const s in n.hooks){const a=n.hooks[s],c=i[s];i[s]=oh.passThroughHooks.has(s)?f=>{if(this.defaults.async)return Promise.resolve(a.call(i,f)).then(m=>c.call(i,m));const p=a.call(i,f);return c.call(i,p)}:(...f)=>{let p=a.apply(i,f);return!1===p&&(p=c.apply(i,f)),p}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return il.lex(t,r??this.defaults)}parser(t,r){return sl.parse(t,r??this.defaults)}};function lr(e,t){return fu.parse(e,t)}lr.options=lr.setOptions=function(e){return fu.setOptions(e),pR(lr.defaults=fu.defaults),lr},lr.getDefaults=function M0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},lr.defaults=uu,lr.use=function(...e){return fu.use(...e),pR(lr.defaults=fu.defaults),lr},lr.walkTokens=function(e,t){return fu.walkTokens(e,t)},lr.parseInline=fu.parseInline,lr.Parser=sl,lr.parser=sl.parse,lr.Renderer=du,lr.TextRenderer=A0,lr.Lexer=il,lr.lexer=il.lex,lr.Tokenizer=x_,lr.Hooks=oh,lr.parse=lr;class IW extends ft{constructor(t,r){super()}schedule(t,r=0){return this}}const T_={setInterval(e,t,...r){const{delegate:n}=T_;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=T_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},R0={now:()=>(R0.delegate||Date).now(),delegate:void 0};class ih{constructor(t,r=ih.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}ih.now=R0.now;const MW=new class TW extends ih{constructor(t,r=ih.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class xW extends IW{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return T_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&T_.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Xe(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class RW extends xn{constructor(t=1/0,r=1/0,n=R0){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}const OW=["*"];let SR=(()=>{var e;class t{constructor(){this._buttonClick$=new xn,this.copied$=this._buttonClick$.pipe(Qr(()=>oa(jt(!0),function kW(e=0,t,r=MW){let n=-1;return null!=t&&(Js(t)?r=t:n=t),new Rn(o=>{let i=function AW(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(PM(!1)))),Ns(),function PW(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,ia({connector:()=>new RW(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(kM(!1),rn(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[ag],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(U(0,"button",0),Ne("click",function(){return o.onCopyToClipboardClick()}),Ka(1,"async"),Ce(2),Ka(3,"async"),$()),2&n&&(Us("copied",Ya(1,3,o.copied$)),ge(2),ki(Ya(3,5,o.copiedText$)))},dependencies:[AT],encapsulation:2,changeDetection:0}),t})();const LW=new dt("CLIPBOARD_OPTIONS");var P0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(P0||{});const wR=new dt("MARKED_EXTENSIONS"),ER=new dt("MARKED_OPTIONS"),DR=new dt("SECURITY_CONTEXT");let O0=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,l,c){this.clipboardOptions=n,this.extensions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new du},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new xn,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,f={...this.options,...o.markedOptions},p=f.renderer||this.renderer||new du;this.extensions&&(this.renderer=this.extendsRendererForExtensions(p)),l&&(this.renderer=this.extendsRendererForMermaid(p));const m=this.trimIndentation(n),y=i?this.decodeHtml(m):m,H=a?this.parseEmoji(y):y,J=this.parseMarked(H,f,s);return(c?J:this.sanitizer.sanitize(this.securityContext,J))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:f,mermaidOptions:p}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),l&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...p}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(rn(o=>this.handleExtension(n,o)))}highlight(n){if(!wd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!wd(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendsRendererForExtensions(n){const o=n;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&lr.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return n;const i=n.code;return n.code=function(s,a,l){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,l)},o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),f=c>-1?l.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return o.renderer&&(lr.use({renderer:o.renderer}),delete o.renderer),i?lr.parseInline(n,o):lr.parse(n,o)}parseEmoji(n){if(!wd(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(wd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!wd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=n.querySelectorAll("pre");for(let c=0;c<l.length;c++){const f=l.item(c),p=document.createElement("div");p.style.position="relative",f.parentNode.insertBefore(p,f),p.appendChild(f);const m=document.createElement("div");let y,H;m.style.position="absolute",m.style.top=".5em",m.style.right=".5em",m.style.opacity="0",m.style.transition="opacity 250ms ease-out",p.insertAdjacentElement("beforeend",m),f.onmouseover=()=>m.style.opacity="1",f.onmouseout=()=>m.style.opacity="0",y=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(SR).hostView,y.rootNodes.forEach(J=>{J.onmouseover=()=>m.style.opacity="1",m.appendChild(J),H=new ClipboardJS(J,{text:()=>f.innerText})}),y.onDestroy(()=>H.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!wd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(le(LW,8),le(wR,8),le(ER,8),le(ec),le(DR),le(mC,8),le(dC))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),F0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new tn,this.load=new tn,this.ready=new tn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new xn}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(OM(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){var i=this;return(0,V.Z)(function*(){const s={decodeHtml:o,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},a={clipboard:i.clipboard,clipboardOptions:{buttonComponent:i.clipboardButtonComponent,buttonTemplate:i.clipboardButtonTemplate},katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},l=yield i.markdownService.parse(n,s);i.element.nativeElement.innerHTML=l,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,a,i.viewContainerRef),i.ready.emit()})()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n).then(()=>{this.load.emit(n)})},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,P0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,P0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(_(et),_(O0),_(os))},e.\u0275cmp=Ze({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[yi,ag],ngContentSelectors:OW,decls:1,vars:0,template:function(n,o){1&n&&(ht(),pt(0))},encapsulation:2}),t})();function WW(e){return[O0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:wR,useValue:e?.markedExtensions??[]},{provide:DR,useValue:e?.sanitize??Cs.HTML}]}let N0=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[WW(n)]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({imports:[Qa]}),t})();var IR;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(IR||(IR={}));const sh="safari"in window,bo=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,xR=bo&&!navigator.userAgent.match(/(crios)|(fxios)/i),pu=!!navigator.userAgent.match(/ pwashell$/i),L0=!!navigator.userAgent.match(/android/i),ZW=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Ll=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(Ll||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const YW=new Error("request for lock canceled");class QW{constructor(t,r=YW){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(p){s(p)}}function l(f){try{c(n.throw(f))}catch(p){s(p)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class Ca{constructor(t){this._semaphore=new QW(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(p){s(p)}}function l(f){try{c(n.throw(f))}catch(p){s(p)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Ks={production:!0,dbName:"cloudpilot",debug:!1};function M_(e){return e+(Ks.localStorageSuffix?`-${Ks.localStorageSuffix}`:"")}function MR(e){return localStorage.getItem(M_(e))}function AR(e){return localStorage.getItem(M_(e))??localStorage.getItem(e)}function $0(e,t){localStorage.setItem(M_(e),t)}const A_="cloudpilot-session";function kR(){!function t7(e){localStorage.removeItem(M_(e))}(A_)}function Ln(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,V.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let $l=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Hd;class RR{constructor(t){this.markup=t}}class ro{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new lo.j,this.sanitizeDiv=document.createElement("div")}verbatim(t){return new RR(t)}errorMessage(t,r="Close"){var n=this;return(0,V.Z)(function*(){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(t),buttons:[{text:r,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()})()}message(t,r,n={},o="Close"){var i=this;return(0,V.Z)(function*(){const s=yield i.alertController.create({header:t,message:i.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:o,role:"cancel"},...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}}))],cssClass:"alert-message"});yield s.present(),yield s.onDidDismiss()})()}messageWithChoice(t,r,n,o,i={},s="Close"){var a=this;return(0,V.Z)(function*(){const l=yield a.alertController.create({header:t,message:a.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:s,role:"cancel"},...Object.keys(i).map(c=>({text:c,handler:()=>{i[c](),l.dismiss()}}))],inputs:[{type:"checkbox",label:n,checked:!1,handler:c=>o=!0===c.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border alert-message"});return yield l.present(),yield l.onDidDismiss(),o})()}updateAvailable(t){var r=this;return(0,V.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,V.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,V.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:r.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new E0.I(t instanceof RR?t.markup:t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(r=>(this.sanitizeDiv.textContent=r,this.sanitizeDiv.innerHTML)).join("<br/>"))}}(Hd=ro).\u0275fac=function(t){return new(t||Hd)(le(x0),le($l))},Hd.\u0275prov=$e({token:Hd,factory:Hd.\u0275fac,providedIn:"root"}),oe([Ln()],ro.prototype,"updateAvailable",null),oe([Ln()],ro.prototype,"fatalError",null),oe([Ln()],ro.prototype,"errorInNativeCode",null);let hu=(()=>{var e;class t{constructor(n,o){this.alertService=n,this.ngZone=o,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=i=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${i}.`),this.fatalInNativeCode=i=>this.fatalWithMessage(i.message,!0,!1),this.fatalWithMessage=(i,s=!0,a=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,s&&kR(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(i,a))}),this.fatalErrorEvent=new lo.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(le(ro),le(He))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Tr=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Tr||{});let ah=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??Tr.none}claim(n,o){this.assertOwnership(n,Tr.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===Tr.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(hu))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Sc="session",zd="rom",wc="memory",Bl="state",k_="kvs",Ec="memory-meta",al="storage",As="storage-card",lh="lock";class mu extends Error{constructor(t){super(t)}}function Kn(e){return new Promise((t,r)=>{!function s7(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new mu(e.error?.message))})}function OR(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function a7(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const R_="session",V0="memory",NR="storage-meta",LR="storage-card";function j0(){return(j0=(0,V.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(R_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+r(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function G0(){return(G0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function U0(){return(U0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(NR,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(R_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(r.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function H0(){return(H0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(NR).name=LR})).apply(this,arguments)}function z0(){return(z0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(LR).createIndex("storageId","storageId")})).apply(this,arguments)}function W0(){return(W0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const C7=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function $R(e){let t=-1;for(let r=0;r<e.length;r++)t=C7[255&(t^e[r])]^t>>>8;return~t}var S7=C(3219),w7=C.n(S7);const BR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let P_;const E7=new Uint8Array(16);function D7(){if(!P_&&(P_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!P_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return P_(E7)}const pi=[];for(let e=0;e<256;++e)pi.push((e+256).toString(16).slice(1));const Z0=function I7(e,t,r){if(BR.randomUUID&&!t&&!e)return BR.randomUUID();const n=(e=e||{}).random||(e.rng||D7)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function VR(e,t=0){return pi[e[t+0]]+pi[e[t+1]]+pi[e[t+2]]+pi[e[t+3]]+"-"+pi[e[t+4]]+pi[e[t+5]]+"-"+pi[e[t+6]]+pi[e[t+7]]+"-"+pi[e[t+8]]+pi[e[t+9]]+"-"+pi[e[t+10]]+pi[e[t+11]]+pi[e[t+12]]+pi[e[t+13]]+pi[e[t+14]]+pi[e[t+15]]}(n)};var Wd;const q0=new Error("page lock lost"),jR=new Error("version mismatch"),GR=Z0();function Co(){return(e,t,r)=>{const n=r.value;return r.value=(0,V.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw console.error(s),s instanceof mu?i.fatalIDBDead():s===jR?i.fatalVersionMismatch():s===q0?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class er{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(wc),l=o.objectStore(Ec),c=new Uint32Array(256),f=new Uint8Array(c.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const m=s.length>>>10;for(let y=0;y<m;y++){f.set(s.subarray(1024*y,1024*(y+1)));const H=OR(c);if("number"==typeof H)a.put(H,[i,y]);else{const J=new Uint32Array(256);J.set(H),a.put(J,[i,y])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,V.Z)(function*(){const a=o.objectStore(Ec),l=yield Kn(a.get(i));if(!l)return;const c=yield new Promise(function(){var f=(0,V.Z)(function*(p,m){const y=o.objectStore(wc),H=new Uint32Array(l.totalSize>>>2),J=y.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));J.onsuccess=()=>{const _e=J.result;if(!_e)return p(new Uint8Array(H.buffer));const Se=_e.value,[,Re]=_e.key;"number"==typeof Se?H.subarray(256*Re,256*(Re+1)).fill(Se|Se<<8|Se<<16|Se<<24):H.subarray(256*Re,256*(Re+1)).set(1024===Se.length?new Uint32Array(Se.buffer):Se),_e.continue()},J.onerror=()=>m(new mu(J.error?.message))});return function(p,m){return f.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&Ks.debug&&l.crc32!==$R(c))throw new Error("snapshot CRC mismatch");return c})),this.sessionChangeEvent=new lo.j,this.storageCardChangeEvent=new lo.j,this.sessionUpdateMutex=new Ca,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,V.Z)(function*(){const s=w7()(r),a=yield i.newTransaction(Sc,zd,Bl,wc,Ec),l=a.objectStore(Sc),c=a.objectStore(zd);(yield Kn(c.get(s)))||c.put(r,s);const{id:p,...m}=t,y=yield Kn(l.add({...m,rom:s})),H=yield Kn(l.get(y));return n&&i.saveMemory(a,H.id,n),o&&i.saveState(a,H.id,o),yield Kn(a),H})()}getAllSessions(){var t=this;return(0,V.Z)(function*(){const[r]=yield t.prepareObjectStore(Sc);return yield Kn(r.getAll())})()}getSession(t){var r=this;return(0,V.Z)(function*(){const[n]=yield r.prepareObjectStore(Sc);return yield Kn(n.get(t))})()}deleteSession(t){var r=this;return(0,V.Z)(function*(){const n=yield r.newTransaction(Sc,zd,Bl,wc,Ec),o=n.objectStore(Sc),i=n.objectStore(zd);(t=yield Kn(o.get(t.id)))&&(o.delete(t.id),0===(yield Kn(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield Kn(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,V.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=r,[c,f]=yield n.prepareObjectStore(Sc),p=yield Kn(c.get(t));if(!p)throw new Error(`no session with id ${t}`);const m={...p,...l};c.put(m),yield Kn(f),n.sessionChangeEvent.dispatch([p.id,m])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,V.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Sc),i=yield Kn(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield Kn(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,V.Z)(function*(){const o=yield n.newTransaction(zd,Bl,wc,Ec),i=o.objectStore(zd);return[yield Kn(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,V.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Bl);n.delete(t.id),yield Kn(o)})()}addEmptyStorageCard(t){var r=this;return(0,V.Z)(function*(){const[n]=yield r.prepareObjectStore(As),o=yield Kn(n.add(t)),i=yield Kn(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,V.Z)(function*(){return n.ngZone.runOutsideAngular((0,V.Z)(function*(){const o=yield n.newTransaction(As,al),i=o.objectStore(As),s=o.objectStore(al),a=yield Kn(i.add(t)),l=(t.size>>>13)+(r.length%8192==0?0:1),c=new Uint32Array(2048);for(let p=0;p<l;p++){const m=r.subarray(2048*p,2048*(p+1));p===l-1&&c.set(m);const y=a7(p===l-1?c:m);0!==y&&s.put("number"==typeof y?y:y?.slice(),[a,p])}const f=yield Kn(i.get(a));return yield Kn(o),n.storageCardChangeEvent.dispatch(f.id),f}))})()}getAllStorageCards(){var t=this;return(0,V.Z)(function*(){const[r]=yield t.prepareObjectStore(As);return Kn(r.getAll())})()}getCard(t){var r=this;return(0,V.Z)(function*(){const[n]=yield r.prepareObjectStore(As);return Kn(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,V.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[l,c]=yield n.prepareObjectStore(As),f=yield Kn(l.get(t));if(!f)throw new Error(`no card with id ${t}`);const p={...f,...a};l.put(p),yield Kn(c),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,V.Z)(function*(){const n=yield r.newTransaction(As,al);r.storageCardContext.assertOwnership(t,Tr.none);const o=n.objectStore(As),i=n.objectStore(al);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield Kn(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,V.Z)(function*(){r.fill(0);const i=yield o.newTransaction(As,al);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(al);yield new Promise(function(){var a=(0,V.Z)(function*(l,c){const f=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));f.onsuccess=()=>{const p=f.result;if(!p)return l();let m=p.value;const[,y]=p.key;"number"==typeof m?r.subarray(2048*y,2048*(y+1)).fill(m):(2048*(y+1)>r.length&&(m=m.subarray(0,2048-2048*(y+1)+r.length)),r.subarray(2048*y,2048*(y+1)).set(m)),p.continue()},f.onerror=()=>c(new mu(f.error?.message))});return function(l,c){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,V.Z)(function*(){const s=yield i.newTransaction(As,al);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(As),l=s.objectStore(al),c=yield Kn(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(r.length!==c.size>>>2)throw new Error("data size mismatch");const f=(c.size>>>13)+(c.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let p=0;for(let m=0;m<n.length;m++)for(let y=1;y<256&&!(p>=f);y<<=1)n[m]&y&&l.put(r.subarray(2048*p,2048*(p+1)).slice(),[c.id,p]),p++;yield Kn(s)}))}kvsGet(t){var r=this;return(0,V.Z)(function*(){const[n]=yield r.prepareObjectStore(k_);return Kn(n.get(t))})()}kvsSet(t){var r=this;return(0,V.Z)(function*(){const[n,o]=yield r.prepareObjectStore(k_);for(const i of Object.keys(t))n.put(t[i],i);yield Kn(o)})()}kvsLoad(){var t=this;return(0,V.Z)(function*(){const[r]=yield t.prepareObjectStore(k_);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new mu(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,V.Z)(function*(){const[n,o]=yield r.prepareObjectStore(k_);n.delete(t),yield Kn(o)})()}acquireLock(t){var r=this;return(0,V.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Kn(t.objectStore(lh).get(0)))!==GR)throw t.abort(),t.db.close(),q0})()}newTransaction(...t){var r=this;return(0,V.Z)(function*(){const n=(yield r.db).transaction([lh,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,V.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore(Bl);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore(Bl).delete(r)}loadState(t,r){return Kn(t.objectStore(Bl).get(r))}deleteMemory(t,r){const n=t.objectStore(wc),o=t.objectStore(Ec);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,V.Z)(function*(){const r=t.transaction(lh,"readwrite");yield Kn(r.objectStore(lh).put(GR,0))})()}setupDb(){var t=this;return(0,V.Z)(function*(){const r=setTimeout(()=>bo&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>i.name===Ks.dbName);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw jR}const n=yield new Promise((o,i)=>{const s=indexedDB.open(Ks.dbName,9);s.onerror=()=>{i(new mu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new mu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,V.Z)(function*(l){clearTimeout(r),l.oldVersion<1&&function p7(e){e.createObjectStore(R_,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function h7(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(V0)&&e.deleteObjectStore(V0),t.objectStore(R_).clear(),e.createObjectStore("rom"),e.createObjectStore(V0),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function m7(e,t){return j0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function g7(e,t){return G0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function _7(e,t){return U0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function v7(e,t){return H0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function y7(e,t){return z0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function b7(e,t){return W0.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,V.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(Wd=er).\u0275fac=function(t){return new(t||Wd)(le(He),le(hu),le(ah))},Wd.\u0275prov=$e({token:Wd,factory:Wd.\u0275fac,providedIn:"root"}),oe([Co()],er.prototype,"addSession",null),oe([Co()],er.prototype,"getAllSessions",null),oe([Co()],er.prototype,"getSession",null),oe([Co()],er.prototype,"deleteSession",null),oe([Co()],er.prototype,"updateSessionPartial",null),oe([Co()],er.prototype,"updateSession",null),oe([Co()],er.prototype,"loadSession",null),oe([Co()],er.prototype,"deleteStateForSession",null),oe([Co()],er.prototype,"addEmptyStorageCard",null),oe([Co()],er.prototype,"importStorageCard",null),oe([Co()],er.prototype,"getAllStorageCards",null),oe([Co()],er.prototype,"getCard",null),oe([Co()],er.prototype,"updateStorageCardPartial",null),oe([Co()],er.prototype,"deleteStorageCard",null),oe([Co()],er.prototype,"loadCardData",null),oe([Co()],er.prototype,"kvsGet",null),oe([Co()],er.prototype,"kvsSet",null),oe([Co()],er.prototype,"kvsDelete",null),oe([Co()],er.prototype,"newTransaction",null),oe([Co()],er.prototype,"prepareObjectStore",null),oe([Co()],er.prototype,"initializeLock",null),oe([Co()],er.prototype,"setupDb",null);const UR={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let wi=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,V.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new lo.j,this.mutex=new Ca,this.storageMutex=new Ca,this.initializationPromise=this.startInitialiation()}initialize(){var n=this;return(0,V.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var n=this;return(0,V.Z)(function*(){const o=n;try{const i={...UR,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive((0,V.Z)(function*(){yield o.storageService.kvsSet({[a]:l})})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...UR}}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(er))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const HR='<a href="https://apps.apple.com/us/app/cloudpilotemu/id6478502699" target="_blank">App Store</a>',M7=`\n    You can install CloudpilotEmu as an app either from the\n    ${HR} or by selecting "Share" and "Add to Home Screen"\n    in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`,k7=`\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app either from the\n    ${HR} or by selecting "Share"\n    and "Add to Home Screen" in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`;let O_=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,V.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(bo||L0)&&this.installationMode===Ll.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.alertService.verbatim(this.getInstallMessage()))}invite(){(bo||L0||sh)&&this.installationMode===Ll.web&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.alertService.verbatim(this.getInviteMessage()))))}getInstallMessage(){return bo?M7:'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return bo?k7:sh?'\n    Howdy! It seems that you are running CloudpilotEmu on a Mac. Safari will delete all\n    data after seven days of inactivity. However, you can click the "Share"\n    icon in the browser toolbar and select "Add to dock" to install\n    CloudpilotEmu as an app.\n    <br><br>\n    This will keep Safari from deleting your\n    data.\n':'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Ll.pwa:document.referrer.startsWith("android-app://")?Ll.twa:window.matchMedia("(display-mode: standalone)").matches?Ll.pwa:Ll.web}}return(e=t).\u0275fac=function(n){return new(n||e)(le(wi),le(ro))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function P7(e,t){1&e&&(U(0,"div",5),Ve(1,"ion-spinner"),$())}let gu=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(as))},e.\u0275cmp=Ze({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(U(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),$(),U(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.modalController.dismiss()}),Ce(6,"Close"),$()()()(),U(7,"ion-content",2),Zt(8,P7,2,0,"div",3),U(9,"markdown",4),Ne("load",function(){return o.loading=!1}),$()()),2&n&&(ge(3),ki(o.title),ge(5),Ee("ngIf",o.loading),ge(1),Ee("src",o.url))},dependencies:[Mo,F0,Li,$i,Bi,Vi,Jp,Gi,Ui],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const _u=Ks.releaseExtra?`1.10.5-a2d3b0d (${Ks.releaseExtra})`:"1.10.5",WR=C.p+"assets/doc/CHANGELOG-f37353f69ee0a60c.md";var F_=C(1633);const N_=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:c})=>{if((e=>void 0!==e.method&&"call"===e.method)(c)){const{params:{timerId:f,timerType:p}}=c;if("interval"===p){const m=t.get(f);if("number"==typeof m){const y=n.get(m);if(void 0===y||y.timerId!==f||y.timerType!==p)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m()}}else if("timeout"===p){const m=r.get(f);if("number"==typeof m){const y=n.get(m);if(void 0===y||y.timerId!==f||y.timerType!==p)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m(),r.delete(f)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(c)){const{error:{message:f}}=c;throw new Error(f)}{const{id:f}=c,p=n.get(f);if(void 0===p)throw new Error("The timer is in an undefined state.");const{timerId:m,timerType:y}=p;n.delete(f),"interval"===y?t.delete(m):r.delete(m)}}}),{clearInterval:c=>{const f=(0,F_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"interval"}),t.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"interval"}})},clearTimeout:c=>{const f=(0,F_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"timeout"}),r.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"timeout"}})},setInterval:(c,f)=>{const p=(0,F_.generateUniqueNumber)(t);return t.set(p,()=>{c(),"function"==typeof t.get(p)&&o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:p,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:p,timerType:"interval"}}),p},setTimeout:(c,f)=>{const p=(0,F_.generateUniqueNumber)(r);return r.set(p,c),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:p,timerType:"timeout"}}),p}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})();var Zd=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(Zd||{});class ZR{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Zd.animationFrame}}class B7{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((e,t)=>N_().setTimeout(e,t))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,N_().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Zd.timeout}}const V7=[135,135,105],j7=[0,0,0],Dc=new Array(16).fill(0).map((e,t)=>j7.map((r,n)=>Math.floor((t*r+(15-t)*V7[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),K0=Dc.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var Q=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(Q||{}),qd=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(qd||{});function ch(e){switch(e){case Q.i710:case Q.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.handera330:case Q.handera330c:case Q.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case Q.pegS300:case Q.pegS320:case Q.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case Q.pegT600c:case Q.pegT400:case Q.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case Q.pegN600c:case Q.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case Q.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function Y0(e){switch(e){case Q.pilot:case Q.palmPilot:case Q.iii:case Q.palmV:case Q.palmVx:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.m125:case Q.m500:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:case Q.i705:case Q.handera330:case Q.pegS300:case Q.pegS320:case Q.pegT400:case Q.acerS11:return!1;default:return!0}}function qR(e){switch(e){case Q.pilot:return"Pilot";case Q.palmPilot:return"Palm Pilot";case Q.iii:return"Palm III";case Q.m500:return"Palm m500";case Q.m505:return"Palm m505";case Q.m515:return"Palm m515";case Q.m520:return"Palm m520";case Q.palmVx:return"Palm Vx";case Q.iiix:return"Palm IIIx";case Q.iiixe:return"Palm IIIxe";case Q.iiie:return"Palm IIIe";case Q.palmV:return"Palm V";case Q.palmVII:return"Palm VII";case Q.palmVIIEZ:return"Palm VII EZ";case Q.palmVIIx:return"Palm VIIx";case Q.iiic:return"Palm IIIc";case Q.m100:return"Palm m100";case Q.m105:return"Palm m105";case Q.m125:return"Palm m125";case Q.m130:return"Palm m130";case Q.i705:return"Palm i705";case Q.i710:return"Tungsten W";case Q.handera330:return"Handera 330";case Q.handera330c:return"Handera 330c";case Q.pegS300:return"Sony PEG-S300";case Q.pegS320:return"Sony PEG-S320";case Q.pegT400:return"Sony PEG-T400 series";case Q.pegN600c:return"Sony PEG-N600C series";case Q.pegT600c:return"Sony PEG-T600C series";case Q.pegN700c:return"Sony PEG-N700C series";case Q.pegT650c:return"Sony PEG-T650C series";case Q.pegNR70:return"Sony PEG-NR70 series";case Q.pegS500c:return"Sony PEG-S500C series";case Q.acerS11:return"Acer S1x series";case Q.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function KR(e){switch(e){case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:return qd.sdcard;case Q.pegS300:case Q.pegS500c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.pegT650c:case Q.pegNR70:case Q.acerS11:return qd.memorystick;default:return qd.none}}class YR{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class H7{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class QR{constructor(){this.onFrameComplete=()=>{this.transport&&this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()})},this.receiveEvent=new lo.j,this.dispatchEvent=new lo.j,this.isSync=!1}bind(t){this.transport!==t&&(this.transport&&this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete),t.frameCompleteEvent.addHandler(this.onFrameComplete),t.SetModeSync(this.isSync),this.transport=t)}send(t,r){if(this.transport){if(!this.transport.IsOpen()&&this.transport.GetModeSync())return void this.receiveEvent.dispatch({data:void 0,isFrameComplete:!0});this.transport.Send(t,r),setTimeout(()=>this.dispatchEvent.dispatch(),0)}}setModeSync(t){this.isSync=t,this.transport?.SetModeSync(t)}getModeSync(){return this.transport?.GetModeSync?.()??!1}dispatch(){if(!this.transport)return;const t=this.transport.RxBytesPending();0!==t&&(this.transport.GetModeSync()&&t<1024||this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()}))}}class J7{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.isRunning||!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;this.cloudpilotInstance.isSuspended()&&5===this.cloudpilotInstance.getSuspendKind()&&t-this.serialSyncStartedAt>250&&(console.log("serial sync timeout, waking emulator"),this.cloudpilotInstance.getSuspendContextSerialSync().Cancel());const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r&&(5===this.cloudpilotInstance.getSuspendKind()?this.serialSyncStartedAt=performance.now():this.handleSuspend());const c=this.cloudpilotInstance.isPowerOff(),f=this.cloudpilotInstance.isUiInitialized();if(c!==this.powerOff||f!==this.uiInitialized){const p=this.powerOff;this.powerOff=c,this.uiInitialized=f,p!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}f&&!c&&this.manageHotsyncName()&&!n&&this.checkAndUpdateHotsyncName(),this.serialPortIR.dispatch(),this.serialPortSerial.dispatch(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new lo.j,this.pwmUpdateEvent=new lo.j,this.emulationStateChangeEvent=new lo.j,this.powerOffChangeEvent=new lo.j,this.deviceId=Q.m515,this.clockEmulator=0,this.scheduler=new ZR(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new H7(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new YR(20),this.timePerFrameAverage=new YR(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1,this.serialPortIR=new QR,this.serialPortSerial=new QR,this.serialSyncStartedAt=0,this.serialPortIR.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now())),this.serialPortSerial.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now()))}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=ch(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}getSerialPortSerial(){if(!this.serialPortSerial)throw new Error("emulator not initialized");return this.serialPortSerial}getSerialPortIR(){if(!this.serialPortIR)throw new Error("emulator not initialized");return this.serialPortIR}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance!==t&&(this.serialPortIR.bind(t.getTransportIR()),this.serialPortSerial.bind(t.getTransportSerial())),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=ch(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Zd.animationFrame?new ZR(t=>this.onSchedule(t)):new B7(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=ch(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=Y0(t)?"white":K0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=Dc[15],i=Dc[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=t.buffer[l+(c>>>3)]&128>>>(7&c)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Dc[15&o],Dc[o>>>4&15],Dc[o>>>8&15],Dc[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=i[t.buffer[l+(c>>>2)]>>6-2*(3&c)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=Dc[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class eZ{constructor(t,r){this.timeoutRemaining=t,this.cb=r,this.onTimeout=()=>{const n=performance.now();if(this.timeoutRemaining-=n-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,t)}increase(t){this.timeoutRemaining+=t}cancel(){clearTimeout(this.handle)}}const rZ=new Error("transaction timeout"),eP=new Error("session does not match emulation");let uh=(()=>{var e;class t{constructor(n,o,i,s,a,l){var c=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.ngZone=l,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,V.Z)(function*(){try{yield c.triggerSnapshotUnguarded()}finally{c.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new lo.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,V.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,V.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(console.error("snapshot error",o),o===eP)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===q0)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,V.Z)(function*(){const o=n.db.transaction([wc,Ec,Bl,al,As,lh],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield Kn(o.objectStore(As).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((l,c)=>{let f=!1;const p=performance.now();let m=0,y=0,H=0;const J=new eZ(500,()=>{f=!0;try{o.abort()}catch{}c(rZ)});o.oncomplete=()=>{J.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:H,timeBlocking:y-m,timeTotal:performance.now()-p})},o.onerror=()=>{J.cancel(),c(new Error(o.error?.message))};try{n.assertSessionMatches(),m=performance.now(),H=n.saveDirtyMemory(o,J),i&&(H+=n.saveDirtyStorage(i,o,J)),n.saveSession(o),y=performance.now()}catch(_e){throw f||(J.cancel(),o.abort()),_e}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(wc),a=n.objectStore(Ec),l=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let f=0;if(!this.dirtyPages||!this.pages){const m=c.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(m);for(let y=0;y<m;y++)this.pages[y]=new Uint32Array(256)}const p={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&Ks.debug&&(p.crc32=$R(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),a.put(p);for(let m=0;m<l.length;m++)if(this.dirtyPages[m]|=l[m],l[m]=0,0!==this.dirtyPages[m])for(let y=1;y<256&&!(i>=this.pages.length);y<<=1){if(this.dirtyPages[m]&y){const H=OR(c.subarray(256*i,256*(i+1)));"number"==typeof H?s.put(H,[this.sessionId,i]):(this.pages[i].set(H),s.put(this.pages[i],[this.sessionId,i])),o.increase(.5),f++}i++}else i+=8;return f}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,Tr.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,c=0,f=0;const p=o.objectStore(al),m=(a.length>>11)+(a.length%2048>0?1:0);for(let y=0;y<s.length;y++)if(this.cardDirtyPages[y]|=s[y],s[y]=0,0!==this.cardDirtyPages[y])for(let H=1;H<256&&!(l>=m);H<<=1){if(this.cardDirtyPages[y]&H){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const J=this.cardPagePool[c++];J.set(a.subarray(2048*l,2048*(l+1))),p.put(J,[n.id,l]),i.increase(4),f++}l++}else l+=8;return 8*f}saveSession(n){const o=n.objectStore(Bl);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw eP}}return(e=t).\u0275fac=function(n){return new(n||e)(le(er),le($l),le(hu),le(ah),le(wi),le(He))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),X0=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new lo.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(le(He))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var oZ=C(2227),iZ=C.n(oZ);function Q0(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}function tP(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const r=t.getPointer(e.GetCurrentEntryContent()),n=e.GetCurrentEntrySize();return r>0&&n>0?t.HEAPU8.subarray(r,r+n):void 0}},e)}let sZ=0;const nP=[Q.palmPilot,Q.pilot,Q.iii,Q.palmVx,Q.palmV,Q.palmVII,Q.palmVIIEZ,Q.palmVIIx,Q.iiixe,Q.iiix,Q.iiie,Q.m500,Q.m505,Q.m515,Q.m520,Q.iiic,Q.m100,Q.m105,Q.m125,Q.m130,Q.i705,Q.i710,Q.handera330,Q.handera330c,Q.pegS300,Q.pegS320,Q.pegS500c,Q.pegT400,Q.pegN600c,Q.pegT600c,Q.pegN700c,Q.pegT650c,Q.pegNR70,Q.acerS11,Q.lp168];function Nt(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Pt{constructor(t){this.module=t,this.fatalErrorEvent=new lo.j,this.pwmUpdateEvent=new lo.j,this.proxyDisconnectEvent=new lo.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(r=>this.proxyDisconnectEvent.dispatch(t.UTF8ToString(r)),"vi")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,V.Z)(function*(){const r=sZ++;return new Pt(yield iZ()({print:n=>console.log(`${r}: ${n}`),printErr:n=>console.error(`${r}: ${n}`),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:nP.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,V.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}getSuspendContextSerialSync(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,V.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(tP(n.wrap(o),n.module))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,l=0;if(void 0!==t.metadata){const f=(new TextEncoder).encode(JSON.stringify(t.metadata));l=f.length,a=this.copyIn(f)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,l);const c=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(f=>this.cloudpilot.Free(f)),c}deserializeSessionImage(t){if(!t)return;const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),l=r.GetDeviceId();if(!nP.includes(l))return void console.warn(`unsupported device ${l}`);let c;const f=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(f)try{c=JSON.parse((new TextDecoder).decode(f))}catch(p){console.warn("invalid metadata",p)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:c,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=Q0(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}wrapTransport(t){const r=new lo.j;return t.SetRequestTransferCallback(this.module.addFunction(()=>r.dispatch(),"v")),this.wrap(Object.setPrototypeOf({Receive:()=>{const n=t.RxBytesPending();return this.copyOut(t.Receive(),n)},Send:(n,o)=>{const i=n&&this.copyIn(n);t.Send(n?.length??0,i??this.cloudpilot.Nullptr(),o),i&&this.cloudpilot.Free(i)},frameCompleteEvent:r},t))}}oe([Nt()],Pt.prototype,"getRomInfo",null),oe([Nt()],Pt.prototype,"initializeSession",null),oe([Nt()],Pt.prototype,"cyclesPerSecond",null),oe([Nt()],Pt.prototype,"runEmulation",null),oe([Nt()],Pt.prototype,"getFrame",null),oe([Nt()],Pt.prototype,"isScreenDirty",null),oe([Nt()],Pt.prototype,"markScreenClean",null),oe([Nt()],Pt.prototype,"minRamForDevice",null),oe([Nt()],Pt.prototype,"framebufferSizeForDevice",null),oe([Nt()],Pt.prototype,"totalMemorySizeForDevice",null),oe([Nt()],Pt.prototype,"queuePenMove",null),oe([Nt()],Pt.prototype,"queuePenUp",null),oe([Nt()],Pt.prototype,"queueButtonDown",null),oe([Nt()],Pt.prototype,"queueButtonUp",null),oe([Nt()],Pt.prototype,"queueKeyboardEvent",null),oe([Nt()],Pt.prototype,"isPowerOff",null),oe([Nt()],Pt.prototype,"isUiInitialized",null),oe([Nt()],Pt.prototype,"isSetupComplete",null),oe([Nt()],Pt.prototype,"getOSVersion",null),oe([Nt()],Pt.prototype,"reset",null),oe([Nt()],Pt.prototype,"resetNoExtensions",null),oe([Nt()],Pt.prototype,"resetHard",null),oe([Nt()],Pt.prototype,"installDb",null),oe([Nt()],Pt.prototype,"getPalette2bitMapping",null),oe([Nt()],Pt.prototype,"getMemory",null),oe([Nt()],Pt.prototype,"getMemory32",null),oe([Nt()],Pt.prototype,"getDirtyPages",null),oe([Nt()],Pt.prototype,"loadMemory",null),oe([Nt()],Pt.prototype,"getRomImage",null),oe([Nt()],Pt.prototype,"getSavestate",null),oe([Nt()],Pt.prototype,"saveState",null),oe([Nt()],Pt.prototype,"loadState",null),oe([Nt()],Pt.prototype,"getHotsyncName",null),oe([Nt()],Pt.prototype,"setClockFactor",null),oe([Nt()],Pt.prototype,"setHotsyncName",null),oe([Nt()],Pt.prototype,"setClipboardIntegration",null),oe([Nt()],Pt.prototype,"getClipboardIntegration",null),oe([Nt()],Pt.prototype,"isSuspended",null),oe([Nt()],Pt.prototype,"getSuspendKind",null),oe([Nt()],Pt.prototype,"cancelSuspend",null),oe([Nt()],Pt.prototype,"getSuspendContextClipboardCopy",null),oe([Nt()],Pt.prototype,"getSuspendContextClipboardPaste",null),oe([Nt()],Pt.prototype,"setNetworkRedirection",null),oe([Nt()],Pt.prototype,"getNetworkRedirection",null),oe([Nt()],Pt.prototype,"getSuspendContextNetworkConnect",null),oe([Nt()],Pt.prototype,"getSuspendContextNetworkRpc",null),oe([Nt()],Pt.prototype,"getSuspendContextSerialSync",null),oe([Nt()],Pt.prototype,"copyBuffer",null),oe([Nt()],Pt.prototype,"freeBuffer",null),oe([Nt()],Pt.prototype,"setHotsyncNameManagement",null),oe([Nt()],Pt.prototype,"resolveBuffer",null),oe([Nt()],Pt.prototype,"serializeSessionImage",null),oe([Nt()],Pt.prototype,"deserializeSessionImage",null),oe([Nt()],Pt.prototype,"launchAppByName",null),oe([Nt()],Pt.prototype,"launchAppByDbHeader",null),oe([Nt()],Pt.prototype,"deviceSupportsCardSize",null),oe([Nt()],Pt.prototype,"clearExternalStorage",null),oe([Nt()],Pt.prototype,"allocateCard",null),oe([Nt()],Pt.prototype,"decompressCard",null),oe([Nt()],Pt.prototype,"getCardData",null),oe([Nt()],Pt.prototype,"getCardDirtyPages",null),oe([Nt()],Pt.prototype,"getMountedKey",null),oe([Nt()],Pt.prototype,"mountCard",null),oe([Nt()],Pt.prototype,"removeCard",null),oe([Nt()],Pt.prototype,"remountCards",null),oe([Nt()],Pt.prototype,"getCardSupportLevel",null),oe([Nt()],Pt.prototype,"loadSkin",null);const L_=new Error("permission denied");let J0=(()=>{var e;class t{constructor(n,o){this.alertController=n,this.alertService=o,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(n){if(n.isSuspended())switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,V.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===L_)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}})()}tryCopyDirect(n){var o=this;return(0,V.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?L_:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,V.Z)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,V.Z)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(f){a(f)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,V.Z)(function*(){const i=yield o.tryPaste();n.getSuspendContextClipboardPaste().Resume(i??""),void 0!==i&&(o.clipboardContent=i,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,V.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===L_)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,V.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?L_:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,V.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,V.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}handlePasteSafari(n){var o=this;return(0,V.Z)(function*(){const i=yield o.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{i.dismiss(),n.Resume("")}},{text:"Paste",handler:(s=(0,V.Z)(function*(){try{o.clipboardContent=yield navigator.clipboard.readText(),o.lastClipboardReadAt=performance.now(),i.dismiss(),n.Resume(o.clipboardContent)}catch{i.dismiss(),yield o.alertService.errorMessage("Paste from host clipboard failed."),n.Resume("")}}),function(){return s.apply(this,arguments)})}]});var s;yield i.present()})()}isPermissionDenied(n){return(0,V.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(le(x0),le(ro))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const lZ="https:"===window.location.protocol?8667:8666,cZ=/^[\da-z\-\.]+$/i,uZ=/^[\da-z\-\.]+:\d+$/i;function eS(e){if(!e)return;const t=window.location.protocol;if(e.match(cZ))return`${t}//${e}:${lZ}`;if(e.match(uZ))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function dZ(e){return void 0!==eS(e.value)?null:{proxyAddress:"invalid"}}let fZ=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new h_({username:new Ao(n?.username??""),password:new Ao(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(_(wi))},e.\u0275cmp=Ze({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(U(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Authenticate"),$(),U(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.saveAndContinue()}),Ce(6,"OK"),$()(),U(7,"ion-buttons",2)(8,"ion-button",1),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),$()()()(),U(10,"ion-content",3)(11,"form",4),Ne("keydown",function(s){return o.formKeyDown(s)}),U(12,"p"),Ce(13," The server requires authentication. "),$(),U(14,"ion-item",5)(15,"ion-label",6),Ce(16,"Username"),$(),Ve(17,"ion-input",7),$(),U(18,"ion-item",5)(19,"ion-label",6),Ce(20,"Password"),$(),Ve(21,"ion-input",8),$()()()),2&n&&(ge(11),Ee("formGroup",o.formGroup))},dependencies:[Li,$i,Bi,Vi,Fl,yo,ji,Gi,Ui,Ol,Pl,kl,Rl,ba,ol],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),rP=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,V.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(Ed())("string"==typeof n?n:n.url);let c,f,p=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===f?f=window.setTimeout(()=>c?.present(),s):c.present();const m=i.kvsService.kvs.credentials[l.origin],y=new AbortController,H=window.setTimeout(()=>y.abort(),a),J=yield fetch(n,{...i.requestInit(o),signal:y.signal,headers:{...o?.headers||{},...p&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(H),401===J.status){if(!p&&m){p=!0;continue}if(c?.dismiss(),clearTimeout(f),s=0,c=void 0,s=void 0,p=!0,yield i.authenticate(l.origin))continue}return J}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,V.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:fZ,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(qs),le(wi),le(as))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),tS=(()=>{var e;class t{constructor(n,o,i,s){var a=this;this.kvsService=n,this.alertService=o,this.ngZone=i,this.fetchService=s,this.handleConnect=()=>this.mutex.runExclusive((0,V.Z)(function*(){a.socket&&a.disconnect(a.socket);const l=eS(a.kvsService.kvs.proxyServer);if(!l)return yield a.alertService.errorMessage(`Invalid proxy address: ${a.kvsService.kvs.proxyServer}`),void a.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield a.handshake(void 0,500);switch(c.status){case"failed":return void a.onSocketError(void 0);case"version_mismatch":return yield a.alertService.proxyVersionMismatchError(),void a.cancelSuspend();case"success":break;default:throw new Error("unreachable")}a.socket=new WebSocket(`${l.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),a.socket.binaryType="arraybuffer",a.bindListeners(a.socket),a.ngZone.run(()=>a.connectTimeoutHandle=setTimeout(a.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=Z0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=l=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(l.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(l.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,l.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=l=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",l)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=l=>{l!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new lo.j,this.mutex=new Ca,this.sessionId=""}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(n=this.kvsService.kvs.proxyServer,o=-1){var i=this;return(0,V.Z)(function*(){const s=eS(n);if(!s)return{status:"failed"};try{const a=yield i.fetchService.fetch(`${s}/network-proxy/handshake`,{method:"POST",loaderDelay:o});if(!a.ok)return{status:"failed"};const l=yield a.json();return l.version<3||l.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:l.token}}catch{return{status:"failed"}}})()}handleRpc(){const n=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(n.GetRequestData(),n.GetRequestSize())):n.Cancel()}disconnect(n){n&&(this.unbindListeners(n),n.close()),this.sessionId="",this.socket=void 0}bindListeners(n){this.ngZone.run(()=>{n.addEventListener("open",this.onSocketOpen),n.addEventListener("error",this.onSocketError),n.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>n.addEventListener("message",this.onSocketMessage))}unbindListeners(n){n&&(n.removeEventListener("message",this.onSocketMessage),n.removeEventListener("open",this.onSocketOpen),n.removeEventListener("error",this.onSocketError),n.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(le(wi),le(ro),le(He),le(rP))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),iP=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),sP=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const _Z=C.p+"wasm/cloudpilot_web-467bd95d2795b217.wasm";let Sa=(()=>{var e;class t{constructor(){this.cloudpilot=Pt.create(_Z)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var vZ=C(3097),Kd=C.n(vZ);const nS=524288;class rS{constructor(t,r){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(r))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const n=new t.FSTools;this.chunkBufferPtr=n.Malloc(nS),t.destroy(n)}static create(t,r){return(0,V.Z)(function*(){return new rS(yield Kd()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:r}),t)})()}addEntry(t,r){var n=this;return(0,V.Z)(function*(){if(!n.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${n.nativeContext.GetLastError()}`);const o=n.module.getPointer(n.chunkBufferPtr);for(let i=0;i<r.length;i+=nS){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(r.length-i,nS);if(n.module.HEAPU8.subarray(o,o+s).set(r.subarray(i,i+s)),!n.nativeContext.WriteData(n.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${n.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class oS{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,V.Z)(function*(){return new oS(yield Kd()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class iS{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,V.Z)(function*(){const n=yield Kd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new iS(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=Q0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class $_{constructor(t,r){this.module=t,r&&this.initialize(r)}static create(t,r){return(0,V.Z)(function*(){const n=yield Kd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new $_(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t.length);const n=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(n,n+t.length).set(t),this.module.destroy(r),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,V.Z)(function*(){const r=t.getNativeContext();for(;0===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gunzip failed: ${r.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),r=t.GetUncompressedSize(),n=t.GetUncompressedData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class sS{constructor(t,r){this.module=t,void 0!==r&&this.initialize(r)}static create(t,r){return(0,V.Z)(function*(){const n=yield Kd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new sS(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(r),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,V.Z)(function*(){const r=t.getNativeContext();for(r.Continue();1===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gzip failed: ${r.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),r=t.GetGzipSize(),n=t.GetGzipData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const aP=new Map;class wZ{constructor(t="fstools_web.wasm"){let r=aP.get(t);r||(r=function yZ(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,V.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),aP.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,V.Z)(function*(){const n=yield oS.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,V.Z)(function*(){const n=yield $_.create(r.instantiante,t);if(yield n.gunzip())return n.getDecompressedData()})()}createGunzipContext(t){return $_.create(this.instantiante,t)}createGzipContext(t){return sS.create(this.instantiante,t)}createFsckContext(t){return iS.create(t,this.instantiante)}createZipContext(t){return rS.create(t,this.instantiante)}createZipfileWalker(t){var r=this;return(0,V.Z)(function*(){const n=yield Kd()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:r.instantiante}),o=new n.FSTools,i=o.Malloc(t.length),s=n.getPointer(i);return n.HEAPU8.subarray(s,s+t.length).set(t),n.destroy(o),tP(new n.ZipfileWalker(t.length,i),n)})()}}var yr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(yr||{});function Yd(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}function Xd(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function aS(e){return`${Xd(e.name)}.img`}function lP(e,t){return`backup_${Xd(e.name)}${t?"_with_rom":""}.zip`}function lS(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}var Or=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Or||{});function B_(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}const xZ=C.p+"wasm/fstools_web-a1f18544efa743ec.wasm";let V_=(()=>{var e;class t extends wZ{constructor(){super(xZ)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function TZ(e,t){1&e&&(U(0,"p",10),Ce(1," ERROR: URL must be served via HTTPS. "),$())}function MZ(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(Ed())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let AZ=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(Ed())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(Ed())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new h_({url:new Ao("",MZ)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(U(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Enter download URL"),$(),U(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.continue()}),Ce(6,"OK"),$()(),U(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),$()()()(),U(10,"ion-content",4)(11,"form",5),Ne("keydown",function(s){return o.formKeyDown(s)}),U(12,"p"),Ce(13," Please enter the URL from which to download: "),$(),U(14,"ion-item",6)(15,"ion-label",7),Ce(16,"URL"),$(),Ve(17,"ion-input",8),$(),Zt(18,TZ,2,0,"p",9),U(19,"p"),Ce(20," Note that the remote server needs to support the CORS protocol. "),$()()()),2&n&&(ge(5),Ee("disabled",o.formGroup.invalid),ge(6),Ee("formGroup",o.formGroup),ge(7),Ee("ngIf",o.isMixedContent))},dependencies:[Mo,Li,$i,Bi,Vi,Fl,yo,ji,Gi,Ui,Ol,Pl,kl,Rl,ba,ol],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})(),Ic=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=c,this.cloudpilotService=f}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(n){var o=this;return(0,V.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const p={deviceId:n.device,metadata:B_(n),rom:a,memory:l,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(p);m&&o.saveFile(aS(n),m)}finally{s.dismiss()}})()}saveFile(n,o,i="application/octet-stream"){const s=new Blob([o],{type:i}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=n,l.click()}openUrl(n,o){var i=this;return(0,V.Z)(function*(){let s;try{s=new(Ed())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const c=a.arrayBuffer().then(f=>new Uint8Array(f));return c.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}serializeSession(n){var o=this;return(0,V.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:B_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(n,o){var i=this;return(0,V.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,V.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:AZ,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=sh||xR;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",bo&&(this.input.accept="application/octet-stream"),this.input.addEventListener("change",function(){var a=(0,V.Z)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,V.Z)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(le(er),le(qs),le(nh),le(wi),le(as),le(ro),le(rP),le(Sa))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class cP extends Error{constructor(t){super(t)}}let Vl=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this.sessions=[],this.loading=!0,this.updateMutex=new Ca,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,V.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});yield a.present();try{return s.doAddSessionFromImage(n,o,i)}finally{yield a.dismiss()}})()}addSessionsFromArchive(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(n);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),c=new Set(o.sessions.map(y=>y.name));let f=1,p=!1;const m=[];for(;0===a.GetState();)try{i.message=`Importing ${f++}/${l}...`;const y=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!y)throw new cP(`${a.GetCurrentEntryName()} is not a valid session.`);const H=Yd(y.metadata?.name??a.GetCurrentEntryName(),J=>c.has(J));yield o.doAddSessionFromImage(y,H,y.metadata)}catch(y){if(!(y instanceof cP))throw y;m.push(a.GetCurrentEntryName()),p||(p=yield o.alertService.messageWithChoice("Error",y.message,"Skip further errors",p,{},"Continue"))}finally{a.Next()}m.length<=3&&m.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${m.join("<br>")}`):m.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${m.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${m.length-3} more files.\n                    `))}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,V.Z)(function*(){const l={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Or.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},c=yield a.loadingController.create({message:"Importing..."});yield c.present();const f=yield a.storageService.addSession(l,n);return yield a.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,V.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,V.Z)(function*(){yield o.storageService.updateSession(n)})()}saveSession(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(n);s?o.fileService.saveFile(aS(n),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of n){i.message=`Exporting ${l++}/${n.length}...`;const f=yield o.serializeSession(c);if(f){const p=Yd(c.name.replace(/[\/\\]/,"_").substring(0,200),m=>a.has(m));a.add(p),yield s.addEntry(p+".img",f)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function EZ(){return`${Xd("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(n){var o=this;return(0,V.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const p={deviceId:n.device,metadata:B_(n),rom:a,memory:l,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(p);m&&o.fileService.saveFile(aS(n),m)}finally{s.dismiss()}})()}serializeSession(n){var o=this;return(0,V.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:B_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var n=this;return(0,V.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,V.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}doAddSessionFromImage(n,o,i={}){var s=this;return(0,V.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Or.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},l=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),l})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Sa),le(er),le(qs),le(V_),le(ro),le(Ic))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var kZ=C(8886),RZ=C.n(kZ),ll=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(ll||{}),vu=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(vu||{});function PZ(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function uP(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:PZ(e.GetAttributes())}}class cS{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,V.Z)(function*(){return new cS(yield RZ()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=Q0(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(uP(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:uP(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,V.Z)(function*(){const i=new o.module.ExportZipContext(n,25),s=[];try{for(t&&t.forEach(f=>i.AddFile(f)),r&&r.forEach(f=>i.AddDirectory(f));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(f=>setTimeout(f,0)))}let a;const l=o.module.getPointer(i.GetZipContent()),c=i.GetZipSize();return 0!==l&&0!==c&&(a=o.module.HEAPU8.subarray(l,l+c).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,V.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,V.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(ll.success);case-3:return a(ll.cardFull);case-1:return a(ll.ioError);case-2:return a(ll.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,V.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return vu.success;case-2:return vu.cardFull;case-1:return vu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var OZ=C(307),dP=C.n(OZ);function fP(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const FZ=C.p+"wasm/vfs_web-eea1891fcbf521ce.wasm";let yu=(()=>{var e;class t{constructor(n,o,i,s,a){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertService=a,this.onReleaseCard=new lo.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=cS.create(FZ),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(l=>this.vfsInstance=l)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,V.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,Tr.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(n,c,Tr.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,Tr.vfs),!1)})()}releaseCard(n){var o=this;return(0,V.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,Tr.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(n);if(0===a)if(void 0===o.attributes||dP()(o.attributes,l.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in CloudpilotEmu.`)})()}saveFile(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,V.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=n.filter(y=>y.isDirectory).map(y=>i.normalizePath(y.path)),c=n.filter(y=>!y.isDirectory).map(y=>i.normalizePath(y.path)),f=1===n.length?`${n[0].name}.zip`:function IZ(e){return`files_${Xd(e.name)}.zip`}(i.primaryCard),{archive:p,failedItems:m}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),m.length>0&&(m.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),p&&i.fileService.saveFile(f,p)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,V.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,V.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,V.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===yr.clean||n.status===yr.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(n,o);let f,p;switch(yield s.dismiss(),c){case ll.success:f="The archive was extracted successfully, but some entries were skipped.",p="Skipped entries";break;case ll.ioError:return void(yield i.fatalError("There was an error writing to the card."));case ll.cardFull:f="No space left on card.",p="No space left";break;case ll.zipfileError:f="There was an error reading from the archive.",p="Error reading archive";break;default:throw new Error("unreachable")}const m=a-l,y=H=>H>1?`${H} entries`:"one entry";a>0&&m===a&&(yield i.alertService.message(p,`\n                    ${f}\n                    <br><br>\n                    The archive contains ${y(a)}, but none could be unpacked.\n                `)),m>0&&l>0&&(yield i.alertService.message(p,`\n                    ${f}\n                    <br><br>\n                    ${fP(y(l))} unpacked succesfully, but ${y(m)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,V.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case vu.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case vu.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,V.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(n.length-a.length)} to card. ${fP(l(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,V.Z)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,f=!1,p=!1,m=!1;e:for(let y=0;y<n.length;y++){const H=n[y],J=s.find(Se=>Se.name===H.name);if(J&&J.isDirectory){if(!p){const{overwrite:Re,rememberChoice:gt}=yield i.overwriteFileDialog(H.name,"directory");m=Re,p=gt}let Se=!0;if(m&&(Se=!(yield l.deleteRecursive([i.normalizePath(`${o}/${H.name}`)])).success),Se){a.push(H.name);continue}}if(J&&!J.isDirectory){if(!c){const{overwrite:Se,rememberChoice:Re}=yield i.overwriteFileDialog(H.name,"file");f=Se,c=Re}if(!f){a.push(H.name);continue}}let _e;try{_e=yield H.getContent()}catch(Se){console.warn(Se),a.push(H.name),yield i.alertService.errorMessage(`Unable to open ${H.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${H.name}`),_e)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(y).map(Se=>Se.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(H.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,V.Z)(function*(c){if(i)return o;const{overwrite:f,rememberChoice:p}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=f,i=p,o}),function(f){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,V.Z)(function*(c){if(a)return s;const{overwrite:f,rememberChoice:p}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=f,a=p,s});return function(f){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(n,o){var i=this;return(0,V.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(l=(0,V.Z)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(f){return l.apply(this,arguments)})});var l;return a.result!==ll.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,V.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===vu.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,V.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,Tr.vfs),yield n.storageService.loadCardData(o.id,s,Tr.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,Tr.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,V.Z)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                     Do you want to overwrite the existing directory ${n}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,V.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,V.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:yr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,V.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),l=s.getDirtyPagesForSlot(n);!a||!l||(yield o.storageService.updateCardData(i.id,a,l,Tr.vfs),l.fill(0))})()}activatePrimaryCard(){var n=this;return(0,V.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,V.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(le(er),le(ah),le(Ic),le(qs),le(ro))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Vo=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(Vo||{});class G_ extends Error{constructor(t){super(t)}}function pP(){return Z0().replace(/-/g,"")}let Qd=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,p,m,y,H){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=f,this.fileService=p,this.vfsService=m,this.storageCardContext=y,this.fstools=H,this.mountCardEvent=new lo.j,this.deleteCardEvent=new lo.j,this.loading=!0,this.cards=[],this.updateMutex=new Ca,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function NZ(e){switch(e){case Vo.mb4:return 4;case Vo.mb8:return 8;case Vo.mb16:return 16;case Vo.mb32:return 32;case Vo.mb64:return 64;case Vo.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:pP(),name:n,size:4*l.length,status:yr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(n,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,Tr.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(n,Tr.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,Tr.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,V.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:yr.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,Tr.cloudpilot)})()}checkCard(n){var o=this;return(0,V.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,Tr.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,V.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===Tr.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=yr.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const f of n){c++;const p=yield o.getCard(f);if(!p)continue;i.message=`Exporting ${c}/${n.length}...`;const m=Yd(p.name,H=>a.has(H));a.add(m);const y=yield o.getCardData(p,m,l);y&&(yield s.addEntry(`${m}.img.gz`,y))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function DZ(){return`${Xd("cards")}.zip`}(),s.getContent())})()}getCard(n){var o=this;return(0,V.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}addAllCardsFromArchive(n){var o=this;return(0,V.Z)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=bo?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"",a=yield o.loadingController.create({message:"Importing..."});try{yield a.present();const l=yield o.cloudpilotService.cloudpilot,c=yield o.fstools.createZipfileWalker(n);if(-1===c.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const f=c.GetTotalEntries(),p=new Set((yield o.getAllCards()).map(_e=>_e.name)),m=yield o.fstools.createGunzipContext();let y=1,H=!1;const J=[];for(;0===c.GetState();){a.message=`Importing ${y++}/${f}...`;let _e=c.GetCurrentEntryName();try{if(!i.test(_e))throw new G_(`${_e} has the wrong suffix to be considered as a card image.`);let Se=c.GetCurrentEntryContent();if(_e.endsWith(".gz")&&Se&&(m.initialize(Se),Se=(yield m.gunzip())?m.getDecompressedData():void 0,_e=_e.substring(0,_e.length-3)),void 0===Se)throw new G_(`Failed to extract ${_e}. ${s}`);if(0===l.getCardSupportLevel(Se.length))throw new G_(`${_e} is not a valid card image.`);const Re=Yd(_e.replace(i,""),gt=>p.has(gt));yield o.doCreateCardFromImage(Re,Se,!1,!0)}catch(Se){if(!(Se instanceof G_))throw Se;J.push(_e),H||(H=yield o.alertService.messageWithChoice("Error",Se.message,"Skip further errors",H,{},"Continue"))}finally{c.Next()}}J.length<=3&&J.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${J.join("<br>")}`):J.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${J.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${J.length-3} more files.\n                    `))}catch(l){yield a.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${l?.message??"unknown error"}<br><br>${s}`)}finally{a.dismiss()}})()}doCreateCardFromImage(n,o,i,s=!1){var a=this;return(0,V.Z)(function*(){const l={storageId:pP(),name:n,size:o.length,status:s?yr.dirty:yr.clean,dontFsckAutomatically:i},c=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2);if(s||i)yield a.storageService.importStorageCard(l,c);else{const[f,p]=yield a.fsckNewCard(c,l);yield a.storageService.importStorageCard(p,f)}})()}getCardData(n,o,i){var s=this;return(0,V.Z)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(n.size),i){const f=i.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}const l=s.mountedInSession(n.id);let c;return l&&l.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),c=(yield s.cloudpilotService.cloudpilot).getCardData(n.storageId),c&&(a?a.set(c):a=c)),c||(a||(a=new Uint32Array(n.size>>>2)),yield s.storageService.loadCardData(n.id,a,s.storageCardContext.getOwner(n.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var n=this;return(0,V.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,V.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,V.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,V.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===yr.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(n,Tr.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case yr.clean:break;case yr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case yr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case yr.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return i.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,Tr.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Tr.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:yr.clean}),o.storageCardContext.release(n,Tr.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:yr.unformatted}),o.storageCardContext.release(n,Tr.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:yr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:yr.unfixable}),o.storageCardContext.release(n,Tr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,V.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),Tr.fstools),yield i.storageService.updateStorageCardPartial(n,{status:yr.clean}),i.storageCardContext.release(n,Tr.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[n,{...o,status:yr.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:yr.clean}]:[n,{...o,status:yr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:yr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:yr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,V.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:yr.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,V.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(n,o),c=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:yr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!c.mountCard(l.storageId))throw c.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Vl),le(er),le($l),le(Sa),le(qs),le(uh),le(ro),le(hu),le(Ic),le(yu),le(ah),le(V_))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const hP="cp-indicator-fix-portrait",mP="cp-indicator-fix-landscape",gP="cloudpilot-indicator-fix-mode";let U_;function _P(){return AR(gP)??"none"}function uS(){return xR&&!navigator?.standalone}function vP(e){if(!uS())return;U_||(U_=document.createElement("style"),U_.textContent=`\n           @media (orientation: portrait) and (min-height: ${window.screen.height-110}px) {\n                html.${hP} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n\n            @media (orientation: landscape) {\n                html.${mP} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n        `,document.head.appendChild(U_)),void 0!==e?$0(gP,e):e=_P();const t=document.documentElement.classList;t.toggle(hP,"all"===e||"portrait"===e),t.toggle(mP,"all"===e||"landscape"===e)}let dS=(()=>{var e;class t{constructor(n,o){this.pwaService=n,this.clipboardService=o,this.injectStyles()}get runHidden(){return this.pwaService.getInstallationMode()!==Ll.pwa}featureStyle(n,o){return(o?"":`.feature-${n} { display: none }\n`)+(o?`.no-feature-${n} { display: none }`:"")}injectStyles(){const n=document.createElement("style");n.textContent=`\n            ${this.featureStyle("run-hidden",this.runHidden)}\n            ${this.featureStyle("indicator-fix",uS())}\n            ${this.featureStyle("clipboard-integration",this.clipboardService.isSupported())}\n            ${this.featureStyle("native-app",pu)}\n            ${this.featureStyle("ios-not-native",bo&&!pu)}\n            ${this.featureStyle("ios-or-safari",bo&&!pu||sh)}\n            ${this.featureStyle("ios",bo)}\n        `,document.head.appendChild(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(O_),le(J0))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),wa=(()=>{var e;class t extends J7{constructor(n,o,i,s,a,l,c,f,p,m,y,H,J,_e,Se,Re,gt,mt,qt){var xt;super(),xt=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.modalWatcher=f,this.clipboardService=p,this.kvsService=m,this.proxyService=y,this.buttonService=H,this.bootstrapService=J,this.cloudpilotService=_e,this.storageCardService=Se,this.storageCardContext=Re,this.sessionsService=gt,this.featureService=mt,this.app=qt,this.switchSession=(ko,Ia={})=>this.mutex.runExclusive((0,V.Z)(function*(){if(ko===xt.emulationState.getCurrentSession()?.id)return!0;let ul;yield xt.stopUnchecked(),yield xt.bootstrapService.hasRendered(),(Ia.showLoader??1)&&(ul=yield xt.loadingController.create({message:"Loading..."}),yield ul.present());try{const Z_=yield xt.storageService.getSession(ko);if(!Z_)throw new Error(`invalid session ${ko}`);xt.emulationState.setCurrentSession(void 0);const CX=yield xt.cloudpilotService.cloudpilot;if(!(yield xt.restoreSession(Z_,CX)))return xt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;xt.emulationState.setCurrentSession(Z_),yield xt.sessionsService.updateSession({...Z_,lastLaunch:Date.now()}),function o7(e){$0(A_,e+"")}(ko)}finally{ul&&(yield ul.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,V.Z)(function*(){!xt.emulationState.getCurrentSession()||xt.running||xt.errorService.hasFatalError()||!xt.cloudpilotInstance||(yield xt.kvsService.mutex.runExclusive(()=>xt.updateFeatures()),xt.doResume(),xt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,V.Z)(function*(){xt.doPause(),!xt.errorService.hasFatalError()&&xt.emulationState.getCurrentSession()&&(yield xt.snapshotService.waitForPendingSnapshot(),yield xt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([ko,Ia])=>this.mutex.runExclusive((0,V.Z)(function*(){const ul=xt.emulationState.getCurrentSession();ko===ul?.id&&(void 0!==ul.mountedCard&&void 0===Ia&&xt.storageCardContext.release(ul.mountedCard,Tr.cloudpilot),xt.emulationState.setCurrentSession(Ia),xt.emulationState.getCurrentSession()||(kR(),xt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,V.Z)(function*(){const ko=xt.emulationState.getCurrentSession();ko&&xt.sessionsService.emergencySaveSession(ko)})),this.mutex=new Ca,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(ko=>{ko.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(ko),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const cr=function r7(){const e=MR(A_);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==cr&&!rM()&&(this.bootstrapCompletePromise=this.recoverStoredSession(cr))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden&&this.featureService.runHidden?Zd.timeout:Zd.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,V.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,V.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,V.Z)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{bo&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,V.Z)(function*(){const[s,a,l]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,l)&&(i.proxyService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(er),le(He),le(qs),le($l),le(uh),le(hu),le(ro),le(X0),le(J0),le(wi),le(tS),le(iP),le(sP),le(Sa),le(Qd),le(ah),le(Vl),le(dS),le(ma))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),fS=(()=>{var e;class t{constructor(n,o){var i=this;this.loadingController=n,this.alertService=o,this.register=()=>this.registerMutex.runExclusive((0,V.Z)(function*(){if(i.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>i.reloadOnControllerChange&&window.location.reload()),yield new Promise(s=>setTimeout(s,3e3));try{i.setupRegistration(yield i.doRegister())}catch(s){console.error(s)}}})),this.reloadOnControllerChange=!1,this.registerMutex=new Ca,this.updateAvailableEvent=new lo.j,this.register()}isEnabled(){return Ks.production&&!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}reset(){var n=this;return(0,V.Z)(function*(){if(!n.registration)return;const o=yield n.loadingController.create();yield o.present();try{if(!(yield n.registration.unregister()))throw new Error("failed to unregister worker")}catch{return void(yield n.alertService.errorMessage("Failed to unregister service worker."))}finally{yield o.dismiss()}yield n.alertService.message("Service worker unregistered","\n            The current service worker has been unregistered. Please reload the app\n            in order to register a new worker for offline usage.\n        ",{},"Reload"),window.location.reload()})()}update(){var n=this;return(0,V.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,V.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}doRegister(){return(0,V.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(qs),le(ro))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),yP=(()=>{var e;class t{constructor(n,o,i,s,a){var l=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,V.Z)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==_u&&(yield l.kvsService.set({version:_u,previousVersion:c,latestVersion:_u}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${_u}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=_u})),this.mutex=new Ca,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,V.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,V.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===_u){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,V.Z)(function*(){yield(yield n.modalController.create({component:gu,componentProps:{url:WR,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,V.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(wi),le(wa),le(ro),le(as),le(fS))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),GZ=(()=>{var e;class t{constructor(n,o,i,s){this.kvsService=n,this.alertService=o,this.emulationService=i,this.pwaService=s}start(){var n=this;return(0,V.Z)(function*(){const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o),n.pwaService.getInstallationMode()===Ll.pwa&&bo&&!pu&&(n.kvsService.kvs.ios174UpdateWarningId=yield n.showIOS174UpdateWarning(n.kvsService.kvs.ios174UpdateWarningId))})()}showInfo(n){var o=this;return(0,V.Z)(function*(){return 2===n&&bo&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(n){var o=this;return(0,V.Z)(function*(){return(n??0)>0&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("Update to iOS 17.4","\n                    Apple has backpedaled and will not disable homescreen apps in the European\n                    Union. The update to 17.4 is expected to be safe, and CloudpilotEmu will\n                    continue to work as before.\n                ")),0})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(wi),le(ro),le(wa),le(O_))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),UZ=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,V.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(O_),_(yP),_(sP),_(GZ))},e.\u0275cmp=Ze({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(U(0,"ion-app"),Ve(1,"ion-router-outlet"),$())},dependencies:[iR,th]}),t})(),bP=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(U(0,"div"),Ce(1,"Dummy"),$())},encapsulation:2}),t})(),CP=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(fC),le($o))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const pS=Q.m515,HZ=K0[2],zZ=K0[0],Jd="rgba(0,0,0,0.2)";function SP(e){const t=ch(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=l=>({frameDevice:l,frameCanvas:l*r}),i=l=>({frameDevice:l,frameCanvas:n.frameCanvas+l*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function KZ(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class YZ{constructor(t){this.skinLoader=t,this.layout=SP(pS),this.onResize=new lo.j}get width(){switch(this.getOrientation()){case Or.portrait:case Or.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Or.portrait:case Or.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Or.landscape90:{const p=c;c=this.layout.height.frameDevice-l,l=p;break}case Or.landscape270:{const p=c;c=l,l=this.layout.width.frameDevice-p;break}case Or.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const f=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=f&&(c=f-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=f)return;return[l,c]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,V.Z)(function*(){if(!t)return;r.layout=SP(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,V.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Jd),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Jd),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Jd),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Jd),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Jd),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Jd))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Or.portrait:case void 0:break;case Or.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Or.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Or.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,V.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,HZ),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case Q.pegT600c:case Q.pegT650c:return"silkscreen/clie-t600.svg";case Q.pegN700c:case Q.pegN600c:return"silkscreen/clie-n610.svg";case Q.pegS320:case Q.pegS300:return"silkscreen/clie-s300.svg";case Q.pegS500c:return"silkscreen/clie-s500.svg";case Q.pegT400:return"silkscreen/clie-t415.svg";case Q.acerS11:return"silkscreen/acer-s10.svg";case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:return"silkscreen/pilot.svg";case Q.m500:return"silkscreen/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"silkscreen/m515.svg";case Q.iiic:return"silkscreen/iiic.svg";case Q.m100:case Q.m105:case Q.m125:return"silkscreen/m100.svg";case Q.m130:return"silkscreen/m130.svg";case Q.i710:return"silkscreen/tungstenw.svg";case Q.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case Q.acerS11:return"hard-buttons/acer-s10.svg";case Q.pegNR70:return"hard-buttons/clie-nr70.svg";case Q.pegN700c:return"hard-buttons/clie-n700.svg";case Q.pegN600c:return"hard-buttons/clie-n610.svg";case Q.pegS300:return"hard-buttons/clie-s300.svg";case Q.pegS500c:return"hard-buttons/clie-s500.svg";case Q.pegS320:return"hard-buttons/clie-s320.svg";case Q.pegT400:case Q.pegT600c:case Q.pegT650c:return"hard-buttons/clie-t415.svg";case Q.pilot:case Q.palmPilot:return"hard-buttons/pilot.svg";case Q.m500:return"hard-buttons/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"hard-buttons/m515.svg";case Q.iiic:return"hard-buttons/iiic.svg";case Q.m100:case Q.m105:return"hard-buttons/m100.svg";case Q.m125:return"hard-buttons/m125.svg";case Q.m130:return"hard-buttons/m130.svg";case Q.i710:return"hard-buttons/tungstenw.svg";case Q.iii:case Q.iiix:case Q.iiixe:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:return"hard-buttons/iiix.svg";case Q.iiie:return"hard-buttons/iiie.svg";case Q.i705:return"hard-buttons/i705.svg";case Q.handera330:return"hard-buttons/handera330.svg";case Q.handera330c:return"hard-buttons/handera330c.svg";case Q.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return Y0(this.getDeviceId())?"white":zZ}frameColor(){return Y0(this.getDeviceId())?"white":"#ccc"}}function QZ(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class eq{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,QZ((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function XZ(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,V.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(sh||bo)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let H_=(()=>{var e;class t extends YZ{constructor(n){super(new eq(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,V.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,V.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,V.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??pS}getOrientation(){return this.session?.deviceOrientation??Or.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function tq(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(ch(this.session?.device??pS).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*f)))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Sa))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),hS=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(_($o),_(H_),_($l))},e.\u0275cmp=Ze({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(U(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),Ve(4,"ion-icon",3),U(5,"ion-label"),Ce(6,"Emulator"),$()(),U(7,"ion-tab-button",4),Ve(8,"ion-icon",5),U(9,"ion-label"),Ce(10,"Sessions"),$()(),U(11,"ion-tab-button",6),Ve(12,"ion-icon",7),U(13,"ion-label"),Ce(14,"Cards"),$()(),U(15,"ion-tab-button",8),Ve(16,"ion-icon",9),U(17,"ion-label"),Ce(18,"Settings"),$()(),U(19,"ion-tab-button",10),Ve(20,"ion-icon",11),U(21,"ion-label"),Ce(22,"About"),$()()()()()),2&n&&(ge(2),Us("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[Bo,ji,E_,aR,lR],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),dh=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({imports:[Qa,N0.forChild(),Cc,cu,y_]}),t})(),nq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({imports:[Qa,cu,Cc,dh,N0.forChild()]}),t})(),rq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({imports:[Qa,cu,Cc,dh]}),t})(),oq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({imports:[Qa,cu,Cc,y_,dh]}),t})(),iq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({imports:[Qa,cu,Cc,dh,y_]}),t})(),sq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({imports:[Qa,Cc,cu,y_,dh]}),t})();const aq=C.p+"assets/doc/about-3f271545181df70a.md";function lq(e,t){if(1&e){const r=wn();U(0,"ion-button",1),Ne("click",function(){return Dt(r),It(st().onClick())}),Ve(1,"ion-icon",2),$()}if(2&e){const r=st();ge(1),Ee("name",r.iconName)}}let z_=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return bo?"logo-apple-appstore":L0?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(O_))},e.\u0275cmp=Ze({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&Zt(0,lq,2,1,"ion-button",0),2&n&&Ee("ngIf",o.show)},dependencies:[Mo,Li,Bo]}),t})();var fh;function cq(e,t){1&e&&(U(0,"div",9),Ve(1,"ion-spinner"),$())}function uq(e,t){if(1&e){const r=wn();U(0,"div"),Ce(1,"app cached for offline use"),$(),U(2,"a",7),Ne("click",function(){return Dt(r),It(st().resetWorker())}),Ce(3,"reset worker"),$()}}class mS{constructor(t,r){this.modalController=t,this.serviceWorkerService=r,this.loading=!0}get version(){return _u}get url(){return aq}showChangelog(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:gu,componentProps:{url:WR,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}resetWorker(){var t=this;return(0,V.Z)(function*(){yield t.serviceWorkerService.reset()})()}}function dq(e,t){if(1&e&&(U(0,"ion-select-option",16),Ce(1),$()),2&e){const r=t.$implicit;Ee("value",r[0]),ge(1),fi("",r[1]," ")}}function fq(e,t){if(1&e&&(U(0,"ion-select-option",16),Ce(1),$()),2&e){const r=t.$implicit;Ee("value",r[0]),ge(1),fi("",r[1]," ")}}function pq(e,t){if(1&e&&(U(0,"ion-item",6)(1,"ion-label",7),Ce(2,"Hotsync name"),$(),Ve(3,"ion-input",17),$()),2&e){const r=st();ge(3),Ee("placeholder",r.placeholder)}}(fh=mS).\u0275fac=function(t){return new(t||fh)(_(as),_(fS))},fh.\u0275cmp=Ze({type:fh,selectors:[["app-about"]],decls:21,vars:5,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","disableSanitizer","load"],[1,"version"],["href","javascript:",3,"click"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(t,r){1&t&&(U(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"About"),$(),U(4,"ion-buttons",0),Ve(5,"app-pwa-prompt"),$()()(),U(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),Ce(10,"About"),$()()(),Zt(11,cq,2,0,"div",3),U(12,"div",4)(13,"markdown",5),Ne("load",function(){return r.loading=!1}),$()(),U(14,"div",6),Ce(15),Ve(16,"br"),U(17,"a",7),Ne("click",function(){return r.showChangelog()}),Ce(18,"Changelog"),$(),Zt(19,uq,4,0),$(),Ve(20,"img",8),$()),2&t&&(ge(11),Ee("ngIf",r.loading),ge(2),Ee("src",r.url)("disableSanitizer",!0),ge(2),fi(" CloudpilotEmu version ",r.version," "),ge(4),cI(19,r.serviceWorkerAvailable?19:-1))},dependencies:[Mo,$i,Bi,Vi,Jp,Gi,Ui,z_,F0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),oe([Ln()],mS.prototype,"resetWorker",null);let wP=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Or.portrait,"Portrait"],[Or.landscape90,"Landscape 90\xb0"],[Or.landscape270,"Landscape 270\xb0"],[Or.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,qR(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function G7(e){switch(e){case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:case Q.palmVx:case Q.palmV:case Q.palmVIIEZ:case Q.palmVIIx:case Q.iiic:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.pegS300:case Q.pegS500c:return 16;case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.acerS11:return 33;case Q.pegT650c:case Q.pegNR70:case Q.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new h_({name:new Ao(this.session.name,{validators:[Bp.required,this.validateNameUnique]}),manageHotsyncName:new Ao(!this.session.dontManageHotsyncName),hotsyncName:new Ao(this.session.hotsyncName||""),device:new Ao({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Ao((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Ao(this.session.deviceOrientation||Or.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Vl),_(ro))},e.\u0275cmp=Ze({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(U(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Session settings"),$(),U(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.save()}),Ce(6,"Save"),$()(),U(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),$()()()(),U(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),U(12,"h1"),Ce(13,"Session"),$(),U(14,"ion-item",6)(15,"ion-label",7),Ce(16,"Session name"),$(),Ve(17,"ion-input",8),$(),U(18,"h1"),Ce(19,"Device"),$(),U(20,"ion-item",6)(21,"ion-label",7),Ce(22,"Device type"),$(),U(23,"ion-select",9),Zt(24,dq,2,2,"ion-select-option",10),$()(),U(25,"ion-item",6)(26,"ion-label",7),Ce(27,"Orientation"),$(),U(28,"ion-select",11),Zt(29,fq,2,2,"ion-select-option",10),$()(),U(30,"ion-item",6)(31,"ion-label",12),Ce(32),$(),U(33,"ion-range",13),Ne("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),$()(),U(34,"h1"),Ce(35,"Hotsync"),$(),U(36,"ion-item",6)(37,"ion-label"),Ce(38,"Manage hotsync name"),$(),Ve(39,"ion-toggle",14),$(),Zt(40,pq,4,1,"ion-item",15),$()()),2&n&&(ge(5),Ee("disabled",o.formGroup.invalid),ge(6),Ee("formGroup",o.formGroup),ge(13),Ee("ngForOf",o.deviceList),ge(5),Ee("ngForOf",o.orientations),ge(3),ki(o.speedLabel),ge(8),Ee("ngIf",o.showHotsyncNameInput))},dependencies:[uc,Mo,Li,$i,Bi,Vi,Fl,yo,ji,D0,Xp,Qp,Gi,eh,Ui,Ud,Yp,Ol,Pl,kl,Rl,v0,ba,ol],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),hq=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=c}saveBackup(n){var o=this;return(0,V.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const c=yield o.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,V.Z)(function*(p){for(p.Init(n);p.IsInProgress();){const m=p.GetCurrentDatabase();p.Save()||a.push(m),yield new Promise(y=>setTimeout(y,0))}l=c.getArchive(p)});return function(p){return f.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${lS(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(lP(i,n),l)},"Cancel"):o.fileService.saveFile(lP(i,n),l):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(wa),le(qs),le(uh),le(Ic),le($l),le(ro),le(Sa))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const mq=window.AudioContext||window.webkitAudioContext;function gS(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class gq{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,V.Z)(function*(){for(let n=0;n<3;n++)if(yield r.initializeAudioUnguarded())return!1;return!0})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,V.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield gS(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield gS(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,V.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new Ca,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),bo||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||bo||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}initializeAudioUnguarded(){var t=this;return(0,V.Z)(function*(){if(t.initialized)return!0;try{t.context=new mq}catch(r){return console.error(r),console.error("web audio not available"),!1}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),console.error("failed to initialize audio context"),!1}return t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0,!0})()}start(){var t=this;return(0,V.Z)(function*(){t.context&&(yield gS(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let _S=(()=>{var e;class t extends gq{constructor(n,o,i,s){super(n),this.kvs=o,this.modalWatcher=i,this.featureService=s,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden&&this.featureService.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(wa),le(wi),le(X0),le(dS))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),DP=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(wa),le(He))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function vq(e,t){if(1&e){const r=wn();U(0,"ion-item",4),Ne("click",function(){return Dt(r),It(st().power())}),U(1,"ion-label"),Ce(2,"Power"),$(),Ve(3,"ion-icon",5),$()}if(2&e){const r=st();Ee("detail",!1)("disabled",!r.emulationService.isRunning())}}function yq(e,t){if(1&e){const r=wn();U(0,"ion-item",4),Ne("click",function(){return Dt(r),It(st().hotsync())}),U(1,"ion-label"),Ce(2,"Hotsync"),$(),Ve(3,"ion-icon",6),$()}if(2&e){const r=st();Ee("detail",!1)("disabled",!r.emulationService.isRunning())}}function bq(e,t){if(1&e){const r=wn();U(0,"ion-item",4),Ne("click",function(){return Dt(r),It(st().reset())}),U(1,"ion-label"),Ce(2,"Reset"),$(),Ve(3,"ion-icon",7),$()}if(2&e){const r=st();Ee("detail",!1)("disabled",!r.emulationService.isRunning())}}function Cq(e,t){if(1&e){const r=wn();U(0,"ion-item",8),Ne("click",function(){return Dt(r),It(st().insertCard())}),U(1,"ion-label"),Ce(2),$(),Ve(3,"ion-icon",9),$()}if(2&e){const r=st();Ee("detail",!1),ge(2),fi("Insert ",r.hasMemorystick?"stick":"SD card","")}}function Sq(e,t){if(1&e){const r=wn();U(0,"ion-item",8),Ne("click",function(){return Dt(r),It(st().ejectCard())}),U(1,"ion-label"),Ce(2),$(),Ve(3,"ion-icon",10),$()}if(2&e){const r=st();Ee("detail",!1),ge(2),fi("Eject ",r.hasMemorystick?"stick":"SD card","")}}function wq(e,t){if(1&e){const r=wn();U(0,"ion-item",8),Ne("click",function(){return Dt(r),It(st().mute(!1))}),U(1,"ion-label"),Ce(2,"Enable audio"),$(),Ve(3,"ion-icon",11),$()}2&e&&Ee("detail",!1)}function Eq(e,t){if(1&e){const r=wn();U(0,"ion-item",8),Ne("click",function(){return Dt(r),It(st().mute(!0))}),U(1,"ion-label"),Ce(2,"Disable audio"),$(),Ve(3,"ion-icon",12),$()}2&e&&Ee("detail",!1)}function Dq(e,t){if(1&e){const r=wn();U(0,"ion-item",4),Ne("click",function(){return Dt(r),It(st().backup())}),U(1,"ion-label"),Ce(2,"Save backup"),$(),Ve(3,"ion-icon",13),$()}if(2&e){const r=st();Ee("detail",!1)("disabled",r.backupDisabled)}}function Iq(e,t){if(1&e){const r=wn();U(0,"ion-item",8),Ne("click",function(){return Dt(r),It(st().rotate())}),U(1,"ion-label"),Ce(2,"Rotate"),$(),Ve(3,"ion-icon",14),$()}2&e&&Ee("detail",!1)}function xq(e,t){if(1&e){const r=wn();U(0,"ion-item",8),Ne("click",function(){return Dt(r),It(st().editSettings())}),U(1,"ion-label"),Ce(2,"Settings"),$(),Ve(3,"ion-icon",15),$()}2&e&&Ee("detail",!1)}function Tq(e){switch(e){case Or.portrait:case void 0:return Or.landscape90;case Or.landscape90:return Or.portrait180;case Or.portrait180:return Or.landscape270;case Or.landscape270:return Or.portrait;default:throw new Error("cannot happen")}}let Mq=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,p,m,y,H,J,_e,Se,Re,gt,mt){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=f,this.modalController=p,this.sessionService=m,this.performanceWatchdogService=y,this.canvasDisplayService=H,this.cloudpilotService=J,this.storageCardService=_e,this.alertService=Se,this.alertController=Re,this.storageService=gt,this.errorService=mt,this.showHelp=()=>{}}reset(){var n=this;return(0,V.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,V.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function U7(e){switch(e){case Q.i705:case Q.i710:case Q.pegNR70:case Q.pegT650c:case Q.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&KR(n.device)!==qd.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&KR(n.device)===qd.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,V.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:wP,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,V.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,V.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:Tq(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,V.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(l=>i.deviceSupportsCardSize(l.size)&&!n.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>n.storageCardService.insertCard(l)}],inputs:s.map((l,c)=>({label:l.name,type:"radio",value:l.id,checked:0===c})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,V.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(wa),_($l),_(hq),_(iP),_(nh),_(Nl),_(_S),_(wi),_(as),_(Vl),_(DP),_(H_),_(Sa),_(Qd),_(ro),_(x0),_(er),_(hu))},e.\u0275cmp=Ze({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(U(0,"ion-list"),Zt(1,vq,4,2,"ion-item",0)(2,yq,4,2,"ion-item",0)(3,bq,4,2,"ion-item",0)(4,Cq,4,2,"ion-item",1)(5,Sq,4,2,"ion-item",1)(6,wq,4,1,"ion-item",1)(7,Eq,4,1,"ion-item",1)(8,Dq,4,2,"ion-item",0)(9,Iq,4,1,"ion-item",1)(10,xq,4,1,"ion-item",1),U(11,"ion-item",2),Ne("click",function(){return o.help()}),U(12,"ion-label"),Ce(13,"Help"),$(),Ve(14,"ion-icon",3),$()()),2&n&&(ge(1),Ee("ngIf",o.hasActiveSession&&!o.powerDisabled),ge(1),Ee("ngIf",o.hasActiveSession),ge(1),Ee("ngIf",o.hasActiveSession),ge(1),Ee("ngIf",o.supportsStorageCard&&!o.hasMountedCard),ge(1),Ee("ngIf",o.supportsStorageCard&&o.hasMountedCard),ge(1),Ee("ngIf",o.isMuted&&!o.isAudioOff),ge(1),Ee("ngIf",!o.isMuted&&!o.isAudioOff),ge(1),Ee("ngIf",o.hasActiveSession),ge(1),Ee("ngIf",o.hasActiveSession),ge(1),Ee("ngIf",o.hasActiveSession),ge(1),Ee("detail",!1))},dependencies:[Mo,Bo,yo,ji,Ts]}),t})();const Aq=C.p+"assets/doc/emulation-43714ce6b9b92f30.md";function kq(e,t){if(1&e){const r=wn();U(0,"ion-item",2),Ne("click",function(){const i=Dt(r).$implicit;return It(st(2).onSelect(i))}),U(1,"div",3),Ce(2),$()()}if(2&e){const r=t.$implicit,n=t.index,o=st(2);Ee("detail",!1)("lines",n===o.sessions.length-1?"none":"full"),ge(2),ki(r.name)}}function Rq(e,t){if(1&e&&(U(0,"ion-list"),Zt(1,kq,3,3,"ion-item",1),$()),2&e){const r=st();ge(1),Ee("ngForOf",r.sessions)}}let Pq=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[1,"text-wrapper"]],template:function(n,o){1&n&&Zt(0,Rq,2,1,"ion-list",0),2&n&&Ee("ngIf",o.sessions)},dependencies:[uc,Mo,yo,Ts],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}),t})();class Oq{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const f=this.canvasDisplayService.determineButton(c);f===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):f!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=f,this.handleButtonDown(f));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let Fq=(()=>{var e;class t extends Oq{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(wa),le(H_),le(X0),le(He),le(ma))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function IP(e){return/\.(prc|pdb|pqa)$/i.test(e)}class Vq{constructor(t,r,n,o,i){this.cloudpilotService=t,this.fstools=r,this.alertService=n,this.snapshotService=o,this.files=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,V.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else IP(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,V.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function Bq(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,V.Z)(function*(){const n=yield r.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===n.GetState();){const i=n.GetCurrentEntryName().replace(/^.*\//,"");if(!IP(n.GetCurrentEntryName())){n.Next();continue}const s=n.GetCurrentEntryContent();s?(yield r.installOne(i,s),o++):r.filesFail.push(i),n.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function $q(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,r,"Skip any remaining errors",!1,{},"Continue").then(n=>{this.skipErrors=n})}}let jq=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.fstools=l}installFiles(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new Vq(o.cloudpilotService,o.fstools,o.alertService,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const c=[o.messageSuccess(s),o.messageFailed(a),o.messageRequireReset(l)].filter(p=>!!p).join("<br/><br/>");let f;f=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(f,c,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${lS(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${lS(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Sa),le(wa),le(qs),le(uh),le(ro),le(V_))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),vS=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Gq(e,t){1&e&&Ve(0,"div",2)}const Uq=["*"];let Hq=0,xP=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new tn,this.triggerId="breadcrumb-trigger-"+Hq++}handleClick(n){this.disabled||(n.preventDefault(),this.trigger.emit(this.triggerId))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(n,o){1&n&&Ne("click",function(s){return o.handleClick(s)}),2&n&&(ws("id",o.triggerId),Us("disabled",o.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},ngContentSelectors:Uq,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(n,o){1&n&&(ht(),U(0,"div",0),pt(1),$(),Zt(2,Gq,1,0,"div",1)),2&n&&(ge(2),Ee("ngIf",!o.disabled))},dependencies:[Mo],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}),t})();var ph;const zq=["canvas"];function Wq(e,t){1&e&&Ve(0,"div",11),2&e&&zc("width",st().iosPlaceholderWidth)}function Zq(e,t){if(1&e){const r=wn();U(0,"ion-button",12),Ne("click",function(){return Dt(r),It(st().navigation.lock())}),Ve(1,"ion-icon",13),$()}}function qq(e,t){if(1&e){const r=wn();U(0,"ion-button",12),Ne("click",function(){return Dt(r),It(st().navigation.unlock())}),Ve(1,"ion-icon",14),$()}}function Kq(e,t){if(1&e){const r=wn();U(0,"ion-button",12),Ne("click",function(o){return Dt(r),It(st().openContextMenu(o))}),Ve(1,"ion-icon",15),$()}}function Yq(e,t){if(1&e){const r=wn();U(0,"ion-button",12),Ne("click",function(){return Dt(r),It(st().showGameModeHint())}),Ve(1,"ion-icon",16),$()}}function Xq(e,t){if(1&e){const r=wn();U(0,"ion-button",12),Ne("click",function(){return Dt(r),It(st().showProxyConnectedHint())}),Ve(1,"ion-icon",17),$()}}function Qq(e,t){if(1&e){const r=wn();U(0,"ion-button",12),Ne("click",function(){return Dt(r),It(st().showSlowdowndHint())}),Ve(1,"ion-icon",18),$()}}function Jq(e,t){if(1&e){const r=wn();U(0,"ion-button",12),Ne("click",function(o){return Dt(r),It(st().openContextMenu(o))}),Ve(1,"ion-icon",15),$()}}function eK(e,t){if(1&e){const r=wn();U(0,"div",19),Ce(1," The device was reset forcefully. How do you want to boot? "),U(2,"ion-button",20),Ne("click",function(){return Dt(r),It(st().bootAfterForcefulReset())}),Ce(3,"Normal boot"),$(),U(4,"ion-button",20),Ne("click",function(){return Dt(r),It(st().bootAfterForcefulResetNoExtensions())}),Ce(5,"No extensions"),$(),U(6,"ion-button",20),Ne("click",function(){return Dt(r),It(st().bootAfterForcefulResetHardReset())}),Ce(7,"Hard reset"),$()()}}function tK(e,t){1&e&&(U(0,"div",19)(1,"div"),Ce(2,"No session selected"),$()())}class Ea{constructor(t,r,n,o,i,s,a,l,c,f,p,m,y,H,J,_e,Se,Re,gt,mt,qt){var xt=this;this.emulationService=t,this.emulationState=r,this.storageService=n,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=f,this.snapshotService=p,this.installlationService=m,this.proxyService=y,this.navigation=H,this.linkApi=J,this.performanceWatchdogService=_e,this.cloudpilotService=Se,this.dragDropService=Re,this.sessionService=gt,this.loadingController=mt,this.config=qt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,V.Z)(function*(){yield xt.emulationService.bootstrapComplete(),xt.bootstrapComplete=!0;const cr=xt.emulationState.getCurrentSession();cr&&!cr.wasResetForcefully&&(yield xt.launchEmulator()),xt.linkApi.installation.requestEvent.addHandler(xt.handleLinkApiInstallationRequest),xt.handleLinkApiInstallationRequest(),xt.dragDropService.registerClient(xt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=cr=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(cr,this.emulationService.getStatistics())},this.onNewFrame=cr=>{this.canvasDisplayService.updateEmulationCanvas(cr)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const cr=this.linkApi.installation.receivePendingUrl();cr&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${cr} ?`,{OK:()=>this.fileService.openUrl(cr,Ia=>this.installlationService.installFiles([Ia]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${cr} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new Ca}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t,r="trigger"){var n=this;return(0,V.Z)(function*(){(yield n.popoverController.create({component:Mq,event:t,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:r})).present()})()}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:gu,componentProps:{url:Aq}})).present()})()}showGameModeHint(){var t=this;return(0,V.Z)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,V.Z)(function*(){yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,V.Z)(function*(){yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,V.Z)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,V.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,V.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.proxyService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var r=this;return(0,V.Z)(function*(){(yield r.popoverController.create({component:Pq,componentProps:{sessions:r.sessionService.getSessions().filter(o=>o.id!==r.emulationState.getCurrentSession()?.id),onSelect:o=>r.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.getSessions()}get currentSession(){return this.emulationState.getCurrentSession()}clearForcefulReset(){var t=this;return(0,V.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationState.getCurrentSession()?.name??"No session":""}launchEmulator(){var t=this;return(0,V.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,r).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.snapshotService.snapshotEvent.addHandler(t.onSnapshot),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement))})()}switchSession(t){var r=this;return(0,V.Z)(function*(){const n=yield r.loadingController.create();yield n.present();try{if(r.lastTitle=r.title,r.switching=!0,yield r.emulationService.pause(),!(yield r.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield r.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield r.launchEmulator())}finally{n.dismiss(),r.switching=!1}})()}}(ph=Ea).\u0275fac=function(t){return new(t||ph)(_(wa),_($l),_(er),_(Fq),_(H_),_(wi),_(Nl),_(as),_(ro),_(Ic),_(uh),_(jq),_(tS),_(hS),_(fC),_(DP),_(Sa),_(vS),_(Vl),_(qs),_(zp))},ph.\u0275cmp=Ze({type:ph,selectors:[["app-emulation"]],viewQuery:function(t,r){if(1&t&&sc(zq,5),2&t){let n;Ds(n=Is())&&(r.canvasRef=n.first)}},decls:23,vars:23,consts:[[3,"disabled","trigger"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(t,r){if(1&t&&(U(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",0),Ne("trigger",function(o){return r.onBreadcrumbTrigger(o)}),Zt(4,Wq,1,2,"div",1),Ce(5),$()(),U(6,"ion-buttons",2)(7,"ion-button",3),Ne("click",function(){return r.installFiles()}),Ve(8,"ion-icon",4),$(),Zt(9,Zq,2,0,"ion-button",5)(10,qq,2,0,"ion-button",5),$(),U(11,"ion-buttons",6),Zt(12,Kq,2,0,"ion-button",5)(13,Yq,2,0,"ion-button",5)(14,Xq,2,0,"ion-button",5)(15,Qq,2,0,"ion-button",5)(16,Jq,2,0,"ion-button",5),$()()(),U(17,"ion-content",7),Ne("contextmenu",function(o){return r.onContextMenu(o)}),U(18,"div",8),Ne("touchstart",function(o){return r.cancelIfEmulationActive(o)})("touchmove",function(o){return r.cancelIfEmulationActive(o)}),Ve(19,"canvas",null,9),$(),Zt(21,eK,8,0,"div",10)(22,tK,3,0,"div",10),$()),2&t){let n,o;ge(3),Ee("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.currentSession||0===r.sessions.length),ge(1),Ee("ngIf","ios"===r.config.get("mode")),ge(1),fi(" ",r.title,""),ge(2),Ee("disabled",r.installFileDisabled),ge(2),Ee("ngIf",!r.navigation.isLocked()),ge(1),Ee("ngIf",r.navigation.isLocked()),ge(2),Ee("ngIf","ios"===r.config.get("mode")),ge(1),Ee("ngIf",r.eventHandlingService.isGameMode()),ge(1),Ee("ngIf",r.proxyService.isConnected()),ge(1),Ee("ngIf",r.performanceWatchdogService.isSlowdownDetected()),ge(1),Ee("ngIf","ios"!==r.config.get("mode")),ge(1),Us("locked",r.navigation.isLocked()),ge(1),zc("display",!r.emulationState.getCurrentSession()||null!=(n=r.emulationState.getCurrentSession())&&n.wasResetForcefully?"none":void 0),ge(1),zc("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),ge(2),Ee("ngIf",null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),ge(1),Ee("ngIf",!r.emulationState.getCurrentSession()&&r.bootstrapComplete&&!r.switching)}},dependencies:[Mo,Li,$i,Bi,Vi,Bo,Gi,Ui,xP],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),oe([Ln()],Ea.prototype,"openContextMenu",null),oe([Ln()],Ea.prototype,"showHelp",null),oe([Ln()],Ea.prototype,"showGameModeHint",null),oe([Ln()],Ea.prototype,"showProxyConnectedHint",null),oe([Ln()],Ea.prototype,"showSlowdowndHint",null),oe([Ln()],Ea.prototype,"bootAfterForcefulReset",null),oe([Ln()],Ea.prototype,"bootAfterForcefulResetNoExtensions",null),oe([Ln()],Ea.prototype,"bootAfterForcefulResetHardReset",null),oe([Ln()],Ea.prototype,"onBreadcrumbTrigger",null);const TP="reduced-animations",nK=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,w0.c)()),rK=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,w0.c)()},oK=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,w0.c)()};function MP(e){$0(TP,e?"1":"0")}function AP(){return"1"===(AR(TP)??"0")}const sK=C.p+"assets/doc/settings-2a27b0ba9938d4bf.md";function aK(e,t){1&e&&(U(0,"ion-item",7)(1,"ion-label"),Ce(2,"Run when hidden"),$(),Ve(3,"ion-toggle",17),$())}function lK(e,t){1&e&&(U(0,"ion-item",7)(1,"ion-label"),Ce(2,"Clipboard integration"),$(),Ve(3,"ion-toggle",18),$())}function cK(e,t){if(1&e){const r=wn();U(0,"ion-item",7)(1,"ion-label",19),Ce(2,"Proxy server"),$(),U(3,"div",20),Ve(4,"ion-input",21),U(5,"ion-button",22),Ne("click",function(o){Dt(r);const i=st();return o.preventDefault(),o.stopPropagation(),It(i.testProxyConnection())})("touchstart",function(o){Dt(r);const i=st();return o.preventDefault(),o.stopPropagation(),It(i.testProxyConnection())}),Ce(6," Test "),$()()()}if(2&e){const r=st();ge(5),Ee("disabled",!r.proxyServerValid)}}function uK(e,t){if(1&e&&(U(0,"ion-item",7)(1,"ion-select",23)(2,"ion-select-option",24),Ce(3,"Off"),$(),U(4,"ion-select-option",24),Ce(5,"Portrait"),$(),U(6,"ion-select-option",24),Ce(7,"Landscape"),$(),U(8,"ion-select-option",24),Ce(9,"Always"),$()()()),2&e){const r=st();ge(2),Ee("value",r.indicatorFixNone),ge(2),Ee("value",r.indicatorFixPortrait),ge(2),Ee("value",r.indicatorFixLandscape),ge(2),Ee("value",r.indicatorFixAll)}}function dK(e,t){1&e&&(Zc(0),U(1,"h1"),Ce(2,"Debug"),$(),U(3,"ion-item",7)(4,"ion-label"),Ce(5,"Snapshot validation (slow)"),$(),Ve(6,"ion-toggle",25),$(),qc())}let fK=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.proxyService=a,this.featureService=l,this.onAudioOnStartChange=c=>{this.kvsService.kvs.enableAudioOnFirstInteraction=c,bo&&pu?this.alertService.message("Enable audio on start","\n                    This option will take effect the next time the app restarts.\n                "):c&&this.alertService.message("Enable audio on start","\n                Audio will automatically turn on after the first interaction with the application\n                (i.e. touch, click or keyboard event).\n                <br><br>\n                This option will take effect the next time CloudpilotEmu reloads.\n            ")},this.onReducedAnimationsChange=c=>{MP(c),this.alertService.message("Reduce animations",c?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on older iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                CloudpilotEmu reloads.\n            ":"\n                This option will only take effect the next time CloudpilotEmu reloads.\n            ")},this.onIndicatorFixModeChange=c=>vP(c),this.indicatorFixNone="none",this.indicatorFixPortrait="portrait",this.indicatorFixLandscape="landscape",this.indicatorFixAll="all",this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,V.Z)(function*(){yield(yield n.modalController.create({component:gu,componentProps:{url:sK}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,V.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),MP(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,V.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.proxyService.handshake(n.formGroup.get("proxyServer")?.value,0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return Ks.debug}get isIndicatorFixApplicable(){return uS()}get featureRunHidden(){return this.featureService.runHidden}createFormGroup(){this.formGroup=new h_({volume:new Ao(this.kvsService.kvs.volume),showStatistics:new Ao(this.kvsService.kvs.showStatistics),runHidden:new Ao(this.kvsService.kvs.runHidden),clipboardIntegration:new Ao(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Ao(this.kvsService.kvs.networkRedirection),proxyServer:new Ao(this.kvsService.kvs.proxyServer,{validators:[dZ]}),autoLockUI:new Ao(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Ao(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Ao(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new Ao(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new Ao(AP()),indicatorFixMode:new Ao(_P())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange),this.formGroup.get("indicatorFixMode")?.valueChanges.subscribe(this.onIndicatorFixModeChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(as),_(wi),_(J0),_(ro),_(tS),_(dS))},e.\u0275cmp=Ze({type:e,selectors:[["app-settings"]],decls:54,vars:6,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","runHidden"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["label","Fix iOS home indicator","formControlName","indicatorFixMode"],[3,"value"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(U(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Settings"),$(),U(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.showHelp()}),Ve(6,"ion-icon",2),$(),Ve(7,"app-pwa-prompt"),$()()(),U(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),Ce(12,"Settings"),$()()(),U(13,"div",5)(14,"form",6)(15,"h1"),Ce(16,"Emulation"),$(),U(17,"ion-item",7)(18,"ion-label"),Ce(19,"Volume"),$(),Ve(20,"ion-range",8),$(),U(21,"ion-item",7)(22,"ion-label"),Ce(23,"Enable audio on start"),$(),Ve(24,"ion-toggle",9),$(),Zt(25,aK,4,0,"ion-item",10),U(26,"h1"),Ce(27,"Host integration"),$(),Zt(28,lK,4,0,"ion-item",10),U(29,"ion-item",7)(30,"ion-label"),Ce(31,"Network redirection"),$(),Ve(32,"ion-toggle",11),$(),Zt(33,cK,7,1,"ion-item",10),U(34,"h1"),Ce(35,"User interface"),$(),U(36,"ion-item",7)(37,"ion-label"),Ce(38,"Auto-lock UI"),$(),Ve(39,"ion-toggle",12),$(),U(40,"ion-item",7)(41,"ion-label"),Ce(42,"Reduce animations"),$(),Ve(43,"ion-toggle",13),$(),U(44,"ion-item",7)(45,"ion-label"),Ce(46,"Show statistics"),$(),Ve(47,"ion-toggle",14),$(),U(48,"ion-item",7)(49,"ion-label"),Ce(50,"Open from remote sources"),$(),Ve(51,"ion-toggle",15),$(),Zt(52,uK,10,4,"ion-item",10)(53,dK,7,0,"ng-container",16),$()()()),2&n&&(ge(14),Ee("formGroup",o.formGroup),ge(11),Ee("ngIf",o.featureRunHidden),ge(3),Ee("ngIf",o.clipboardService.isSupported()),ge(5),Ee("ngIf",o.showProxyServer),ge(19),Ee("ngIf",o.isIndicatorFixApplicable),ge(1),Ee("ngIf",o.showDebugOptions))},dependencies:[Mo,Pl,kl,Rl,Li,$i,Bi,Vi,Bo,Fl,yo,ji,D0,Xp,Qp,Gi,eh,Ui,Ud,Yp,Ol,z_,ba,ol],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}ion-select[_ngcontent-%COMP%]{margin-right:.5em}"]}),t})(),yS=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Do({name:"cardSize",type:e,pure:!0}),t})();function pK(e,t){1&e&&(U(0,"div",13)(1,"b"),Ce(2,"WARNING:"),$(),Ce(3," This image cannot be used as a memory stick image."),$())}let kP=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new bc({name:new ss("",{nonNullable:!0,validators:[Bp.required,this.validateNameUnique]}),size:new ss({value:"dummy",disabled:!0}),checkAutomatically:new ss(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Qd))},e.\u0275cmp=Ze({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(U(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),$(),U(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.save()}),Ce(6,"Save"),$()(),U(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),$()()()(),U(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),U(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Card name"),$(),Ve(15,"ion-input",8),$(),U(16,"ion-item",6)(17,"ion-label",7),Ce(18,"Card size"),$(),U(19,"ion-select",9)(20,"ion-select-option",10),Ce(21),Ka(22,"cardSize"),$()()(),U(23,"ion-item",6)(24,"ion-label"),Ce(25,"Check for errors automatically"),$(),Ve(26,"ion-toggle",11),$()(),Zt(27,pK,4,0,"div",12),$()),2&n&&(ge(3),ki(o.newCard?"New memory card":"Edit memory card"),ge(2),Ee("disabled",o.formGroup.invalid),ge(6),Ee("formGroup",o.formGroup),ge(10),fi("",Ya(22,5,null==o.card?null:o.card.size)," "),ge(6),Ee("ngIf",!o.memoryStickSupported))},dependencies:[Mo,Li,$i,Bi,Vi,Fl,yo,ji,Xp,Qp,Gi,eh,Ui,Ud,Yp,Ol,Pl,kl,Rl,ba,ol,yS],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function hK(e,t){if(1&e&&(U(0,"ion-select-option",12),Ce(1),Ka(2,"cardSize"),$()),2&e){const r=t.$implicit,n=st();Ee("value",r),ge(1),fi("",Ya(2,2,n.sizeBytes(r))," ")}}const mK=[Vo.mb4,Vo.mb8,Vo.mb16,Vo.mb32,Vo.mb64,Vo.mb128];let gK=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new bc({name:new ss("",{nonNullable:!0,validators:[Bp.required,this.validateNameUnique]}),size:new ss(Vo.mb32,{nonNullable:!0}),checkAutomatically:new ss(!0,{nonNullable:!0})})}get sizes(){return mK}sizeBytes(n){return function LZ(e){switch(e){case Vo.mb4:return 4046848;case Vo.mb8:return 8110080;case Vo.mb16:return 16220160;case Vo.mb32:return 32473088;case Vo.mb64:return 64978944;case Vo.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Qd))},e.\u0275cmp=Ze({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(U(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"New memory card"),$(),U(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.create()}),Ce(6,"Create"),$()(),U(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),$()()()(),U(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),U(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Card name"),$(),Ve(15,"ion-input",8),$(),U(16,"ion-item",6)(17,"ion-label",7),Ce(18,"Card size"),$(),U(19,"ion-select",9),Zt(20,hK,3,4,"ion-select-option",10),$()(),U(21,"ion-item",6)(22,"ion-label"),Ce(23,"Check for errors automatically"),$(),Ve(24,"ion-toggle",11),$()()()),2&n&&(ge(5),Ee("disabled",o.formGroup.invalid),ge(6),Ee("formGroup",o.formGroup),ge(9),Ee("ngForOf",o.sizes))},dependencies:[uc,Li,$i,Bi,Vi,Fl,yo,ji,Xp,Qp,Gi,eh,Ui,Ud,Yp,Ol,Pl,kl,Rl,ba,ol,yS]}),t})();function xc(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}const _K=C.p+"assets/doc/cards-75195154c07dfe52.md";let vK=(()=>{var e;class t{constructor(){this.cardCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(U(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return null==o.onExport?null:o.onExport()}),Ve(2,"ion-icon",1),Ce(3," Export "),$(),U(4,"ion-item",0),Ne("click",function(){return null==o.onDelete?null:o.onDelete()}),Ve(5,"ion-icon",2),Ce(6," Delete "),$(),U(7,"ion-item",3),Ne("click",function(){return null==o.onHelp?null:o.onHelp()}),Ve(8,"ion-icon",4),Ce(9," Help "),$()()),2&n&&(ge(1),Ee("detail",!1)("disabled",0===o.cardCount),ge(3),Ee("detail",!1)("disabled",0===o.cardCount),ge(3),Ee("detail",!1))},dependencies:[Bo,yo,Ts]}),t})(),yK=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(U(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onEdit()}),Ve(2,"ion-icon",1),Ce(3," Edit "),$(),U(4,"ion-item",0),Ne("click",function(){return o.onSave()}),Ve(5,"ion-icon",2),Ce(6," Export "),$(),U(7,"ion-item",0),Ne("click",function(){return o.onCheck()}),Ve(8,"ion-icon",3),Ce(9," Check "),$(),U(10,"ion-item",4),Ne("click",function(){return o.onDelete()}),Ve(11,"ion-icon",5),Ce(12," Delete "),$()()),2&n&&(ge(1),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1))},dependencies:[Bo,yo,Ts]}),t})();function bK(e,t){1&e&&Ve(0,"ion-icon",15)}function CK(e,t){1&e&&Ve(0,"ion-icon",16)}let SK=(()=>{var e;class t{constructor(n,o,i,s){this.storageCardService=n,this.popoverController=o,this.cd=s,this.touched=!1,this.interaction=new tn,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new tn,this.edit=new tn,this.check=new tn,this.delete=new tn,this.save=new tn,this.checkSessions=xc(s,[],()=>i.getSessions())}ngDoCheck(){this.checkSessions()}onContextmenu(n){var o=this;return(0,V.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:yK,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case yr.dirty:return"needs check";case yr.clean:return"no errors";case yr.unformatted:return"no filesystem";case yr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Qd),_(Nl),_(Vl),_(at))},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:21,vars:10,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=wn();U(0,"ion-item-sliding",0,1),Ne("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),U(2,"ion-item-options",2)(3,"ion-item-option",3),Ne("click",function(){return Dt(i),Es(1).close(),It(o.edit.emit(o.card))}),Ve(4,"ion-icon",4),$(),U(5,"ion-item-option",5),Ne("click",function(){return Dt(i),Es(1).close(),It(o.save.emit(o.card))}),Ve(6,"ion-icon",6),$()(),U(7,"ion-item-options",7)(8,"ion-item-option",8),Ne("click",function(){return Dt(i),Es(1).close(),It(o.check.emit(o.card))}),Ve(9,"ion-icon",9),$(),U(10,"ion-item-option",10),Ne("click",function(){return Dt(i),Es(1).close(),It(o.delete.emit(o.card))}),Ve(11,"ion-icon",11),$()(),U(12,"ion-item",12),Ne("click",function(){return o.selectCard.emit(),o.interaction.emit()}),U(13,"ion-label")(14,"h2"),Ce(15),$(),U(16,"p"),Ce(17),Ka(18,"cardSize"),$()(),Zt(19,bK,1,0,"ion-icon",13)(20,CK,1,0,"ion-icon",14),$()()}2&n&&(ge(12),Ee("color",o.color),ge(1),Us("selecting",o.selecting),ge(2),ki(null==o.card?null:o.card.name),ge(2),cp("",Ya(18,8,null==o.card?null:o.card.size),", ",o.status,""),ge(2),Ee("ngIf",o.selecting&&!o.selectedForExport),ge(1),Ee("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Mo,Bo,yo,C_,S_,w_,ji,yS],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var hh;function wK(e,t){if(1&e){const r=wn();U(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Memory cards"),$(),U(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return Dt(r),It(st().addCardImage())}),Ve(5,"ion-icon",8),$()(),U(6,"ion-buttons",9)(7,"ion-button",7),Ne("click",function(o){return Dt(r),It(st().openActionMenu(o))}),Ve(8,"ion-icon",10),$(),Ve(9,"app-pwa-prompt"),$()()}}function EK(e,t){1&e&&(U(0,"ion-title"),Ce(1,"Export"),$())}function DK(e,t){1&e&&(U(0,"ion-title"),Ce(1,"Delete"),$())}function IK(e,t){if(1&e){const r=wn();U(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return Dt(r),It(st(2).onSelectAll())}),Ce(2,"Select all"),$()()}}function xK(e,t){if(1&e){const r=wn();U(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return Dt(r),It(st(2).selection.clear())}),Ce(2,"Clear"),$()()}}function TK(e,t){if(1&e){const r=wn();U(0,"ion-toolbar"),Zt(1,EK,2,0,"ion-title",0)(2,DK,2,0,"ion-title",0),U(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return Dt(r),It(st().onSelectionDone())}),Ce(5),$()(),Zt(6,IK,3,0,"ion-buttons",11)(7,xK,3,0,"ion-buttons",11),$()}if(2&e){const r=st();ge(1),Ee("ngIf","select-for-export"===r.mode),ge(1),Ee("ngIf","select-for-delete"===r.mode),ge(3),ki(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),ge(1),Ee("ngIf",r.selection.size!==r.cards.length),ge(1),Ee("ngIf",r.selection.size===r.cards.length)}}function MK(e,t){1&e&&(U(0,"ion-title",12),Ce(1,"Memory cards"),$())}function AK(e,t){1&e&&(U(0,"ion-title",12),Ce(1,"Select for export"),$())}function kK(e,t){1&e&&(U(0,"ion-title",12),Ce(1,"Select for delete"),$())}function RK(e,t){1&e&&(U(0,"div",13),Ve(1,"ion-spinner"),$())}function PK(e,t){1&e&&(U(0,"div",14)(1,"div",15),Ce(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),$()())}function OK(e,t){if(1&e){const r=wn();U(0,"app-storage-card",17),Ne("delete",function(){const i=Dt(r).$implicit;return It(st(2).deleteCard(i))})("selectCard",function(){const i=Dt(r).$implicit,s=st(2);return It("manage"===s.mode?s.browseCard(i):s.toggleSelection(i))})("edit",function(){const i=Dt(r).$implicit;return It(st(2).editCard(i))})("check",function(){const i=Dt(r).$implicit;return It(st(2).checkCard(i))})("interaction",function(){const i=Dt(r).$implicit;return It(st(2).lastCardTouched=i.id)})("save",function(){const i=Dt(r).$implicit;return It(st(2).saveCard(i))}),$()}if(2&e){const r=t.$implicit,n=st(2);Ee("card",r)("touched",r.id===n.lastCardTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function FK(e,t){if(1&e&&(U(0,"ion-list"),Zt(1,OK,1,4,"app-storage-card",16),$()),2&e){const r=st();ge(1),Ee("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class cl{constructor(t,r,n,o,i,s,a,l,c,f,p,m){var y=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.cloudpilotService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=c,this.popoverController=f,this.cd=m,this.handleCardImport=function(){var H=(0,V.Z)(function*(J){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(J.name))return void y.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(J.name.endsWith(".zip")){let mt=!1;return yield y.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>mt=!0},"Cancel"),void(mt&&(yield y.storageCardService.addAllCardsFromArchive(yield J.getContent())))}const _e=yield y.cloudpilotService.cloudpilot;let Se;try{Se=yield J.getContent()}catch(mt){return console.warn(mt),void(yield y.alertService.errorMessage(`Unable to open ${J.name}".`))}if(/\.gz$/.test(J.name)){const mt=yield y.loadingController.create({message:"Unpacking..."});yield mt.present();try{Se=yield y.fstools.gunzip(Se)}finally{yield mt.dismiss()}}const Re=Se?_e.getCardSupportLevel(Se.length):0;if(void 0===Se||0===Re)return void y.alertService.errorMessage("This is not a supported card image.");const gt=yield new Promise(function(){var mt=(0,V.Z)(function*(qt){const xt=yield y.modalController.create({component:kP,backdropDismiss:!1,componentProps:{card:{name:y.disambiguateName(J.name.replace(/\.gz$/,"")),size:Se.length},cardSupportLevel:Re,newCard:!0,onCancel:()=>{xt.dismiss(),qt(void 0)},onSave:cr=>{qt(cr),xt.dismiss()}}});yield xt.present()});return function(qt){return mt.apply(this,arguments)}}());gt&&(yield y.storageCardService.createCardFromImage(gt.name,Se,!!gt.dontFsckAutomatically))});return function(J){return H.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set,this.checkCards=xc(m,[],()=>this.storageCardService.getAllCards()),this.checkSessions=xc(m,void 0,()=>p.getSessions())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards(),this.checkSessions()}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,V.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:gu,componentProps:{url:_K}})).present()})()}browseCard(t){var r=this;return(0,V.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,V.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:kP,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,V.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,V.Z)(function*(){const n=`${Xd(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Export uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,V.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,r){return r.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,V.Z)(function*(){const r=t.mode;switch(t.mode="manage",r){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,V.Z)(function*(){const o=yield n.popoverController.create({component:vK,event:t,componentProps:{cardCount:n.cards.length,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,V.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.saveCard(n));break}default:yield r.exportSelection(t)}})()}executeMassDelete(t){var r=this;return(0,V.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.deleteCard(n));break}default:{let n=!0;if(yield r.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.storageCardService.deleteCard(i)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var r=this;return(0,V.Z)(function*(){const n=new Map(yield r.storageCardService.getAllCards().map(i=>[i.id,i]));if(t.map(i=>n.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield r.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield r.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,V.Z)(function*(){const r=yield t.modalController.create({component:gK,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,V.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return Yd(t,n=>r.some(o=>o.name===n))}}function NK(e,t){1&e&&Ve(0,"ion-icon",8)}function LK(e,t){1&e&&Ve(0,"ion-icon",9)}function $K(e,t){1&e&&Ve(0,"ion-icon",10)}function BK(e,t){if(1&e){const r=wn();U(0,"ion-item",2),Ne("click",function(){const i=Dt(r).index;return It(st(2).onSelect(i))}),Zc(1,3),Zt(2,NK,1,0,"ion-icon",4)(3,LK,1,0,"ion-icon",5)(4,$K,1,0,"ion-icon",6),qc(),U(5,"div",7),Ce(6),$()()}if(2&e){const r=t.$implicit,n=t.index,o=st(2);Ee("detail",!1)("lines",n===o.entries.length-1?"none":"full"),ge(1),Ee("ngSwitch",o.entries.length),ge(1),Ee("ngSwitchCase",n+1),ge(1),Ee("ngSwitchCase",n+2),ge(3),ki(r)}}function VK(e,t){if(1&e&&(U(0,"ion-list"),Zt(1,BK,7,6,"ion-item",1),$()),2&e){const r=st();ge(1),Ee("ngForOf",r.entries)}}(hh=cl).\u0275fac=function(t){return new(t||hh)(_(nh),_(Qd),_(as),_(Sa),_(ro),_(hu),_(Ic),_(qs),_(V_),_(Nl),_(Vl),_(at))},hh.\u0275cmp=Ze({type:hh,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(U(0,"ion-header"),Zt(1,wK,10,0,"ion-toolbar",0)(2,TK,8,5,"ion-toolbar",0),$(),U(3,"ion-content",1),Ne("contextmenu",function(o){return r.onContextMenu(o)}),U(4,"ion-header",2)(5,"ion-toolbar"),Zt(6,MK,2,0,"ion-title",3)(7,AK,2,0,"ion-title",3)(8,kK,2,0,"ion-title",3),$()(),Zt(9,RK,2,0,"div",4)(10,PK,3,0,"div",5)(11,FK,2,2,"ion-list",0),$()),2&t&&(ge(1),Ee("ngIf","manage"===r.mode),ge(1),Ee("ngIf","manage"!==r.mode),ge(4),Ee("ngIf","manage"===r.mode),ge(1),Ee("ngIf","select-for-export"===r.mode),ge(1),Ee("ngIf","select-for-delete"===r.mode),ge(1),Ee("ngIf",r.storageCardService.isLoading()),ge(1),Ee("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),ge(1),Ee("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[uc,Mo,Li,$i,Bi,Vi,Bo,Ts,Jp,Gi,Ui,z_,SK],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),oe([Ln()],cl.prototype,"addCardImage",null),oe([Ln()],cl.prototype,"browseCard",null),oe([Ln()],cl.prototype,"editCard",null),oe([Ln()],cl.prototype,"saveCard",null),oe([Ln()],cl.prototype,"checkCard",null),oe([Ln()],cl.prototype,"deleteCard",null),oe([Ln()],cl.prototype,"onSelectionDone",null),oe([Ln()],cl.prototype,"openActionMenu",null);let jK=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&Zt(0,VK,2,1,"ion-list",0),2&n&&Ee("ngIf",o.entries)},dependencies:[uc,Mo,Og,xT,TT,Bo,yo,Ts],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}),t})(),GK=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(_(yu))},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(U(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onStartSelection()}),Ve(2,"ion-icon",1),Ce(3," Start selection "),$(),U(4,"ion-item",2),Ne("click",function(){return o.onAddFiles()}),Ve(5,"ion-icon",3),Ce(6," Add files "),$(),U(7,"ion-item",2),Ne("click",function(){return o.onCreateDirectry()}),Ve(8,"ion-icon",4),Ce(9," Add directory "),$(),U(10,"ion-item",2),Ne("click",function(){return o.onExtractZipfile()}),Ve(11,"ion-icon",5),Ce(12," Extract zip "),$(),U(13,"ion-item",0),Ne("click",function(){return o.onPaste()}),Ve(14,"ion-icon",6),Ce(15," Paste "),$(),U(16,"ion-item",7),Ne("click",function(){return o.onHelp()}),Ve(17,"ion-icon",8),Ce(18," Help "),$()()),2&n&&(ge(1),Ee("detail",!1)("disabled",o.emptyDirectory),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),ge(3),Ee("detail",!1))},dependencies:[Bo,yo,Ts]}),t})();var mh;class W_{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new bc({name:new ss("",{nonNullable:!0,validators:[Bp.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new ss(!1,{nonNullable:!0}),attrHidden:new ss(!1,{nonNullable:!0}),attrSystem:new ss(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,V.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,V.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,V.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(mh=W_).\u0275fac=function(t){return new(t||mh)(_(as),_(yu))},mh.\u0275cmp=Ze({type:mh,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(U(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),$(),U(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return r.onSaveClick()}),Ce(6,"Save"),$()(),U(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return r.onCancelClick()}),Ce(9,"Cancel"),$()()()(),U(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return r.onEnter()}),U(12,"ion-item",6)(13,"ion-label",7),Ce(14),$(),Ve(15,"ion-input",8),$(),U(16,"ion-item",6)(17,"h2"),Ce(18,"Attributes"),$()(),U(19,"ion-item",6)(20,"ion-label"),Ve(21,"ion-icon",9),Ce(22,"Readonly"),$(),Ve(23,"ion-checkbox",10),$(),U(24,"ion-item",6)(25,"ion-label"),Ve(26,"ion-icon",11),Ce(27,"Hidden"),$(),Ve(28,"ion-checkbox",12),$(),U(29,"ion-item",6)(30,"ion-label"),Ve(31,"ion-icon",13),Ce(32,"System"),$(),Ve(33,"ion-checkbox",14),$()()()),2&t&&(ge(3),fi("Edit ",r.subjectName.toLowerCase(),""),ge(2),Ee("disabled",r.formGroup.invalid),ge(6),Ee("formGroup",r.formGroup),ge(3),fi("",r.subjectName," name"),ge(1),sg("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[Li,$i,sR,Bi,Vi,Bo,Fl,yo,ji,Gi,Ui,Ud,Ol,Pl,kl,Rl,ba,ol],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),oe([Ln()],W_.prototype,"onSaveClick",null),oe([Ln()],W_.prototype,"onEnter",null);let UK=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(et),_(He))},e.\u0275dir=Rt({type:e,selectors:[["","appAutofocus",""]]}),t})(),HK=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new bc({name:new ss("",{nonNullable:!0,validators:[Bp.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(yu),_(as))},e.\u0275cmp=Ze({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(U(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Create directory"),$(),U(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.onCreateClick()}),Ce(6,"Create"),$()(),U(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancelClick()}),Ce(9,"Cancel"),$()()()(),U(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),U(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Directory name"),$(),Ve(15,"ion-input",8),$()()()),2&n&&(ge(5),Ee("disabled",o.formGroup.invalid),ge(6),Ee("formGroup",o.formGroup))},dependencies:[Li,$i,Bi,Vi,Fl,yo,ji,Gi,Ui,Ol,Pl,kl,Rl,ba,ol,UK]}),t})();function RP(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const zK=C.p+"assets/doc/card-browser-5a0261814255810d.md";let WK=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(U(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onEdit()}),Ve(2,"ion-icon",1),Ce(3," Edit "),$(),U(4,"ion-item",0),Ne("click",function(){return o.onSave()}),Ve(5,"ion-icon",2),Ce(6," Save "),$(),U(7,"ion-item",0),Ne("click",function(){return o.onCopy()}),Ve(8,"ion-icon",3),Ce(9," Copy "),$(),U(10,"ion-item",0),Ne("click",function(){return o.onCut()}),Ve(11,"ion-icon",4),Ce(12," Cut "),$(),U(13,"ion-item",5),Ne("click",function(){return o.onDelete()}),Ve(14,"ion-icon",6),Ce(15," Delete "),$()()),2&n&&(ge(1),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1))},dependencies:[Bo,yo,Ts]}),t})(),PP=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Do({name:"fileSize",type:e,pure:!0}),t})();const ZK=["slidingItem"];function qK(e,t){1&e&&Ve(0,"ion-icon",24)}function KK(e,t){1&e&&Ve(0,"ion-icon",25)}function YK(e,t){1&e&&Ve(0,"ion-icon",26)}function XK(e,t){1&e&&Ve(0,"ion-icon",27)}function QK(e,t){1&e&&Ve(0,"ion-icon",28)}function JK(e,t){1&e&&Ve(0,"ion-icon",29)}function eY(e,t){1&e&&Ve(0,"ion-icon",30)}function tY(e,t){1&e&&Ve(0,"ion-icon",31)}function nY(e,t){1&e&&Ve(0,"ion-icon",32)}function rY(e,t){if(1&e&&(Zc(0),Ce(1),Ka(2,"fileSize"),qc()),2&e){const r=st();ge(1),fi(" - ",Ya(2,1,null==r.entry?null:r.entry.size)," ")}}let oY=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new tn,this.selectEntry=new tn,this.editEntry=new tn,this.copyEntry=new tn,this.cutEntry=new tn,this.deleteEntry=new tn,this.saveEntry=new tn,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,V.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:WK,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,V.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(_(nh),_(Nl),_(yu))},e.\u0275cmp=Ze({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&sc(ZK,5),2&n){let i;Ds(i=Is())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[yi],decls:29,vars:23,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=wn();U(0,"ion-item-sliding",0,1),Ne("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),U(2,"ion-item-options",2)(3,"ion-item-option",3),Ne("click",function(){return Dt(i),Es(1).close(),It(o.editEntry.emit(o.entry))}),Ve(4,"ion-icon",4),$(),U(5,"ion-item-option",5),Ne("click",function(){return Dt(i),Es(1).close(),It(o.saveEntry.emit(o.entry))}),Ve(6,"ion-icon",6),$()(),U(7,"ion-item-options",7)(8,"ion-item-option",8),Ne("click",function(){return Dt(i),Es(1).close(),It(o.cutOrCopyEntry())}),Ve(9,"ion-icon",9),$(),U(10,"ion-item-option",10),Ne("click",function(){return Dt(i),Es(1).close(),It(o.deleteEntry.emit(o.entry))}),Ve(11,"ion-icon",11),$()(),U(12,"ion-item",12),Ne("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),Zt(13,qK,1,0,"ion-icon",13)(14,KK,1,0,"ion-icon",14),U(15,"div",15),Zt(16,YK,1,0,"ion-icon",16)(17,XK,1,0,"ion-icon",17)(18,QK,1,0,"ion-icon",18)(19,JK,1,0,"ion-icon",19)(20,eY,1,0,"ion-icon",20),$(),Zt(21,tY,1,0,"ion-icon",21)(22,nY,1,0,"ion-icon",22),U(23,"ion-label")(24,"h2"),Ce(25),$(),U(26,"p"),Ce(27),Zt(28,rY,3,3,"ng-container",23),$()()()()}2&n&&(Ee("disabled",o.selecting),ge(12),zc("opacity",o.touched?1:.99999),Us("is-directory",null==o.entry?null:o.entry.isDirectory),Ee("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),ge(1),Ee("ngIf",null==o.entry?null:o.entry.isDirectory),ge(1),Ee("ngIf",!(null!=o.entry&&o.entry.isDirectory)),ge(2),Ee("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),ge(1),Ee("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),ge(1),Ee("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),ge(1),Ee("ngIf",o.markedForCopy),ge(1),Ee("ngIf",o.markedForCut),ge(1),Ee("ngIf",o.selecting&&!o.selected),ge(1),Ee("ngIf",o.selecting&&o.selected),ge(1),zc("padding-right",o.safetyMargin),Us("selecting",o.selecting),ge(2),ki(null==o.entry?null:o.entry.name),ge(2),fi(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),ge(1),Ee("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[Mo,Bo,yo,C_,S_,w_,ji,PP],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var gh;function iY(e,t){if(1&e){const r=wn();U(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",6),Ne("trigger",function(o){return Dt(r),It(st().openBreadcrumbMenu(o))}),Ce(3),$()(),U(4,"ion-buttons",7),Ve(5,"ion-back-button"),$(),U(6,"ion-buttons",8)(7,"ion-button",9),Ne("click",function(o){return Dt(r),It(st().openContextMenu(o,"trigger"))}),Ve(8,"ion-icon",10),$()()()}if(2&e){const r=st();ge(3),ki(r.title)}}function sY(e,t){if(1&e){const r=wn();U(0,"ion-buttons",12)(1,"ion-button",9),Ne("click",function(){return Dt(r),It(st(2).onSelectAll())}),Ce(2,"Select all"),$()()}}function aY(e,t){if(1&e){const r=wn();U(0,"ion-buttons",12)(1,"ion-button",9),Ne("click",function(){return Dt(r),It(st(2).selection.clear())}),Ce(2,"Clear"),$()()}}function lY(e,t){if(1&e){const r=wn();U(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Selection"),$(),U(3,"ion-buttons",8)(4,"ion-button",9),Ne("click",function(){return Dt(r),It(st().onSelectionDone())}),Ce(5),$()(),Zt(6,sY,3,0,"ion-buttons",11)(7,aY,3,0,"ion-buttons",11),$()}if(2&e){const r=st();ge(5),ki(0===r.selection.size?"Cancel":"Done"),ge(1),Ee("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),ge(1),Ee("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function cY(e,t){if(1&e&&(U(0,"div",13)(1,"div",14),Ce(2),$()()),2&e){const r=st();ge(2),fi("empty ",r.isRoot?"card":"directory","")}}function uY(e,t){if(1&e){const r=wn();U(0,"app-file-entry",15),Ne("selectEntry",function(){const i=Dt(r).$implicit;return It(st().onSelect(i))})("editEntry",function(){const i=Dt(r).$implicit;return It(st().onEditEntry(i))})("saveEntry",function(){const i=Dt(r).$implicit;return It(st().onSaveEntry(i))})("copyEntry",function(){const i=Dt(r).$implicit;return It(st().onCopyEntry(i))})("cutEntry",function(){const i=Dt(r).$implicit;return It(st().onCutEntry(i))})("deleteEntry",function(){const i=Dt(r).$implicit;return It(st().onDeleteEntry(i))})("interaction",function(){const i=Dt(r).$implicit;return It(st().lastEntryTouched=i.name)}),$()}if(2&e){const r=t.$implicit,n=st();Ee("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function dY(e,t){if(1&e&&(U(0,"p"),Ce(1),Ka(2,"fileSize"),Ka(3,"fileSize"),$()),2&e){const r=st(2);ge(1),cp("",Ya(2,2,r.bytesFree)," free, ",Ya(3,4,r.bytesTotal)," total")}}function fY(e,t){if(1&e&&(U(0,"p"),Ce(1),Ka(2,"fileSize"),$()),2&e){const r=st(2);ge(1),rb(" ",Ya(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function pY(e,t){if(1&e&&(U(0,"ion-item",16)(1,"ion-label"),Zt(2,dY,4,6,"p",0)(3,fY,3,5,"p",0),$()()),2&e){const r=st();ge(2),Ee("ngIf",r.isRoot),ge(1),Ee("ngIf",r.fileCount>0)}}function hY(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class Da{constructor(t,r,n,o,i,s,a,l){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.bytesInFilesMemoized=RP(c=>c?.reduce((f,p)=>f+(p.isDirectory?0:p.size),0)??0),this.fileCountMemoized=RP(c=>c?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.checkEntries=xc(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0),this.checkBytesFree=xc(l,void 0,()=>this.vfsService.getBytesFree())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries(),this.checkBytesFree()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(hY):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,V.Z)(function*(){yield(yield r.modalController.create({component:W_,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,V.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,V.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:HK,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,V.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:gu,componentProps:{url:zK}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,V.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,V.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,V.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,V.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:jK,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,r){var n=this;return(0,V.Z)(function*(){(yield n.popoverController.create({component:GK,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,V.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(gh=Da).\u0275fac=function(t){return new(t||gh)(_(yu),_(Nl),_(zp),_(ro),_(nh),_(as),_(Ic),_(at))},gh.\u0275cmp=Ze({type:gh,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(U(0,"ion-header"),Zt(1,iY,9,1,"ion-toolbar",0)(2,lY,8,3,"ion-toolbar",0),$(),U(3,"ion-content",1),Ne("contextmenu",function(o){return r.onContextMenu(o)}),U(4,"div",2),Zt(5,cY,3,1,"div",3),U(6,"ion-list"),Zt(7,uY,1,4,"app-file-entry",4)(8,pY,4,2,"ion-item",5),$()()()),2&t&&(ge(1),Ee("ngIf","browse"===r.mode),ge(1),Ee("ngIf","select"===r.mode),ge(3),Ee("ngIf",0===(null==r.entries?null:r.entries.length)),ge(2),Ee("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),ge(1),Ee("ngIf",r.isRoot||r.fileCount>0))},dependencies:[uc,Mo,Li,$i,Bi,Vi,Bo,yo,ji,Ts,Gi,Ui,cR,xP,oY,PP],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),oe([Ln()],Da.prototype,"onSaveEntry",null),oe([Ln()],Da.prototype,"onDeleteEntry",null),oe([Ln()],Da.prototype,"onCreateDirectory",null),oe([Ln()],Da.prototype,"onPaste",null),oe([Ln()],Da.prototype,"onHelp",null),oe([Ln()],Da.prototype,"onSelectionDone",null),oe([Ln()],Da.prototype,"onSaveZip",null),oe([Ln()],Da.prototype,"onDeleteSelection",null);const mY=["nav"];let gY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(Da,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=cl,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var n=this;return(0,V.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,V.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!ZW}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(Da,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(yu),_(vS))},e.\u0275cmp=Ze({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&sc(mY,5),2&n){let i;Ds(i=Is())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&Ve(0,"ion-nav",0,1),2&n&&Ee("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[I0]}),t})();const _Y=C.p+"assets/doc/sessions-868d7e6c0550348b.md";let vY=(()=>{var e;class t{constructor(){this.sessionCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(U(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return null==o.onExport?null:o.onExport()}),Ve(2,"ion-icon",1),Ce(3," Export "),$(),U(4,"ion-item",0),Ne("click",function(){return null==o.onDelete?null:o.onDelete()}),Ve(5,"ion-icon",2),Ce(6," Delete "),$(),U(7,"ion-item",3),Ne("click",function(){return null==o.onHelp?null:o.onHelp()}),Ve(8,"ion-icon",4),Ce(9," Help "),$()()),2&n&&(ge(1),Ee("detail",!1)("disabled",0===o.sessionCount),ge(3),Ee("detail",!1)("disabled",0===o.sessionCount),ge(3),Ee("detail",!1))},dependencies:[Bo,yo,Ts]}),t})(),yY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(U(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onEdit()}),Ve(2,"ion-icon",1),Ce(3," Edit "),$(),U(4,"ion-item",0),Ne("click",function(){return o.onSave()}),Ve(5,"ion-icon",2),Ce(6," Export "),$(),U(7,"ion-item",0),Ne("click",function(){return o.onReset()}),Ve(8,"ion-icon",3),Ce(9," Reset "),$(),U(10,"ion-item",4),Ne("click",function(){return o.onDelete()}),Ve(11,"ion-icon",5),Ce(12," Delete "),$()()),2&n&&(ge(1),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1))},dependencies:[Bo,yo,Ts]}),t})();const CY=["slidingItem"];function SY(e,t){if(1&e&&(U(0,"span"),Ce(1),$()),2&e){const r=st();ge(1),fi(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}function wY(e,t){1&e&&Ve(0,"ion-icon",16)}function EY(e,t){1&e&&Ve(0,"ion-icon",17)}let DY=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new tn,this.resetSession=new tn,this.edit=new tn,this.save=new tn,this.selectItem=new tn,this.interaction=new tn}get device(){return this.session?qR(this.session.device):""}onContextmenu(n){var o=this;return(0,V.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:yY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function bY(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Nl))},e.\u0275cmp=Ze({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&sc(CY,5),2&n){let i;Ds(i=Is())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:21,vars:12,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=wn();U(0,"ion-item-sliding",0,1),Ne("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),U(2,"ion-item-options",2)(3,"ion-item-option",3),Ne("click",function(){return Dt(i),Es(1).close(),It(o.edit.emit(o.session))}),Ve(4,"ion-icon",4),$(),U(5,"ion-item-option",5),Ne("click",function(){return Dt(i),Es(1).close(),It(o.save.emit(o.session))}),Ve(6,"ion-icon",6),$()(),U(7,"ion-item-options",7)(8,"ion-item-option",8),Ne("click",function(){return Dt(i),Es(1).close(),It(o.resetSession.emit(o.session))}),Ve(9,"ion-icon",9),$(),U(10,"ion-item-option",10),Ne("click",function(){return Dt(i),Es(1).close(),It(o.delete.emit(o.session))}),Ve(11,"ion-icon",11),$()(),U(12,"ion-item",12),Ne("click",function(){return o.selectItem.emit()}),U(13,"ion-label")(14,"h2"),Ce(15),$(),U(16,"p"),Ce(17),Zt(18,SY,2,1,"span",13),$()(),Zt(19,wY,1,0,"ion-icon",14)(20,EY,1,0,"ion-icon",15),$()()}2&n&&(Ee("disabled",o.selecting),ge(12),Ee("color",o.color),ge(1),Us("in-item-color",o.selected)("selecting",o.selecting),ge(2),ki(null==o.session?null:o.session.name),ge(2),cp("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),ge(1),Ee("ngIf",null==o.session?null:o.session.osVersion),ge(1),Ee("ngIf",o.selecting&&!o.selectedForExport),ge(1),Ee("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Mo,Bo,yo,C_,S_,w_,ji],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var _h;function IY(e,t){if(1&e){const r=wn();U(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Sessions"),$(),U(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return Dt(r),It(st().importSession())}),Ve(5,"ion-icon",8),$()(),U(6,"ion-buttons",9)(7,"ion-button",7),Ne("click",function(o){return Dt(r),It(st().openActionMenu(o))}),Ve(8,"ion-icon",10),$(),Ve(9,"app-pwa-prompt"),$()()}}function xY(e,t){1&e&&(U(0,"ion-title"),Ce(1,"Export"),$())}function TY(e,t){1&e&&(U(0,"ion-title"),Ce(1,"Delete"),$())}function MY(e,t){if(1&e){const r=wn();U(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return Dt(r),It(st(2).onSelectAll())}),Ce(2,"Select all"),$()()}}function AY(e,t){if(1&e){const r=wn();U(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return Dt(r),It(st(2).selection.clear())}),Ce(2,"Clear"),$()()}}function kY(e,t){if(1&e){const r=wn();U(0,"ion-toolbar"),Zt(1,xY,2,0,"ion-title",0)(2,TY,2,0,"ion-title",0),U(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return Dt(r),It(st().onSelectionDone())}),Ce(5),$()(),Zt(6,MY,3,0,"ion-buttons",11)(7,AY,3,0,"ion-buttons",11),$()}if(2&e){const r=st();ge(1),Ee("ngIf","select-for-export"===r.mode),ge(1),Ee("ngIf","select-for-delete"===r.mode),ge(3),ki(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),ge(1),Ee("ngIf",r.selection.size!==r.sessionCount),ge(1),Ee("ngIf",r.selection.size===r.sessionCount)}}function RY(e,t){1&e&&(U(0,"ion-title",12),Ce(1,"Sessions"),$())}function PY(e,t){1&e&&(U(0,"ion-title",12),Ce(1,"Select for export"),$())}function OY(e,t){1&e&&(U(0,"ion-title",12),Ce(1,"Select for delete"),$())}function FY(e,t){1&e&&(U(0,"div",13),Ve(1,"ion-spinner"),$())}function NY(e,t){1&e&&(Zc(0),Ve(1,"br")(2,"br"),Ce(3," You can find a collection of compatible ROMs on "),U(4,"a",16),Ce(5,"PalmDB"),$(),Ce(6,". "),qc())}function LY(e,t){if(1&e&&(U(0,"div",14)(1,"div",15),Ce(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),Zt(3,NY,7,0,"ng-container",0),$()()),2&e){const r=st();ge(3),Ee("ngIf",r.showPalmdbLink)}}function $Y(e,t){if(1&e){const r=wn();U(0,"app-session-item",18),Ne("delete",function(){const i=Dt(r).$implicit;return It(st(2).deleteSession(i))})("selectItem",function(){const i=Dt(r).$implicit,s=st(2);return It("manage"===s.mode?s.launchSession(i):s.toggleSelection(i))})("edit",function(){const i=Dt(r).$implicit;return It(st(2).editSession(i))})("save",function(){const i=Dt(r).$implicit;return It(st(2).saveSession(i))})("resetSession",function(){const i=Dt(r).$implicit;return It(st(2).resetSession(i))})("interaction",function(){const i=Dt(r).$implicit;return It(st(2).lastSessionTouched=i.id)}),$()}if(2&e){const r=t.$implicit,n=st(2);Ee("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function BY(e,t){if(1&e&&(U(0,"ion-list"),Zt(1,$Y,1,5,"app-session-item",17),$()),2&e){const r=st();ge(1),Ee("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class jl{constructor(t,r,n,o,i,s,a,l,c,f,p,m,y,H){this.sessionService=t,this.fileService=r,this.alertService=n,this.emulationService=o,this.emulationState=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.cloudpilotService=f,this.dragDropService=p,this.popoverController=m,this.loadingController=y,this.cd=H,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const J=this.linkApi.import.receivePendingUrl();J&&this.alertService.message("Import request",`Do you want to import<br>${J} ?`,{OK:()=>this.fileService.openUrl(J,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.checkSessions=xc(H,[],()=>this.sessionService.getSessions()),this.checkCurrentSessionId=xc(H,void 0,()=>this.emulationState.getCurrentSession()?.id),this.checkLoading=xc(H,!0,()=>this.sessionService.isLoading())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkSessions(),this.checkCurrentSessionId(),this.checkLoading()}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}get sessionCount(){return this.sessionService.getSessions().length}deleteSession(t){var r=this;return(0,V.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var r=this;return(0,V.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!dP()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,V.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,V.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield r.alertService.message("Done",`Session ${t.name} has been reset.`)})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:gu,componentProps:{url:_Y}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,V.Z)(function*(){const r=new Map(t.sessionService.getSessions().map(i=>[i.id,i])),n=Array.from(t.selection).map(i=>r.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(n);break;case"select-for-export":yield t.executeMassExport(n)}})()}onSelectAll(){this.sessionService.getSessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,V.Z)(function*(){const o=yield n.popoverController.create({component:vY,event:t,componentProps:{sessionCount:n.sessionCount,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}get showPalmdbLink(){return!(bo&&pu)}executeMassExport(t){var r=this;return(0,V.Z)(function*(){1===t.length&&(yield r.sessionService.saveSession(t[0])),t.length>1&&(yield r.sessionService.saveSessions(t))})()}executeMassDelete(t){var r=this;return(0,V.Z)(function*(){if(1===t.length&&(yield r.deleteSession(t[0])),t.length>1){let n=!0;if(yield r.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var r=this;return(0,V.Z)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield r.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield r.sessionService.addSessionsFromArchive(n)))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:wP,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return Yd(t,n=>r.some(o=>o.name===n))}}(_h=jl).\u0275fac=function(t){return new(t||_h)(_(Vl),_(Ic),_(ro),_(wa),_($l),_(er),_(as),_(fC),_($o),_(Sa),_(vS),_(Nl),_(qs),_(at))},_h.\u0275cmp=Ze({type:_h,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(U(0,"ion-header"),Zt(1,IY,10,0,"ion-toolbar",0)(2,kY,8,5,"ion-toolbar",0),$(),U(3,"ion-content",1),Ne("contextmenu",function(o){return r.onContextMenu(o)}),U(4,"ion-header",2)(5,"ion-toolbar"),Zt(6,RY,2,0,"ion-title",3)(7,PY,2,0,"ion-title",3)(8,OY,2,0,"ion-title",3),$()(),Zt(9,FY,2,0,"div",4)(10,LY,4,1,"div",5)(11,BY,2,2,"ion-list",0),$()),2&t&&(ge(1),Ee("ngIf","manage"===r.mode),ge(1),Ee("ngIf","manage"!==r.mode),ge(4),Ee("ngIf","manage"===r.mode),ge(1),Ee("ngIf","select-for-export"===r.mode),ge(1),Ee("ngIf","select-for-delete"===r.mode),ge(1),Ee("ngIf",r.sessionService.isLoading()),ge(1),Ee("ngIf",!r.sessionService.isLoading()&&0===r.sessionCount),ge(1),Ee("ngIf",!r.sessionService.isLoading()&&r.sessionCount>0))},dependencies:[uc,Mo,Li,$i,Bi,Vi,Bo,Ts,Jp,Gi,Ui,z_,DY],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),oe([Ln()],jl.prototype,"deleteSession",null),oe([Ln()],jl.prototype,"editSession",null),oe([Ln()],jl.prototype,"saveSession",null),oe([Ln()],jl.prototype,"launchSession",null),oe([Ln()],jl.prototype,"resetSession",null),oe([Ln()],jl.prototype,"onSelectionDone",null),oe([Ln()],jl.prototype,"openActionMenu",null);const VY=["nav"],jY=()=>({}),GY=e=>({selfReference:e}),UY=[{path:"tab",component:hS,children:[{path:"emulation",component:Ea},{path:"sessions",component:(()=>{var e;class t{constructor(){this.navRoot=jl}ionViewDidLeave(){var n=this;return(0,V.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewWillLeave(){var n=this;return(0,V.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave?.()})()}ionViewDidEnter(){var n=this;return(0,V.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_?.()})()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-sessions-wrapper"]],viewQuery:function(n,o){if(1&n&&sc(VY,5),2&n){let i;Ds(i=Is())&&(o.nav=i.first)}},decls:2,vars:6,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&Ve(0,"ion-nav",0,1),2&n&&Ee("animated",!1)("root",o.navRoot)("rootParams",function Y1(e,t,r,n){return X1(ze(),Mi(),e,t,r,n)}(4,GY,function K1(e,t,r){const n=Mi()+e,o=ze();return o[n]===mn?Wa(o,n,r?t.call(r):t()):function Wf(e,t){return e[t]}(o,n)}(3,jY)))},dependencies:[I0],encapsulation:2}),t})()},{path:"storage",component:gY},{path:"settings",component:fK},{path:"about",component:mS},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let HY=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({imports:[s_.forChild(UY),s_]}),t})(),zY=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({imports:[Cc,Qa,cu,HY,rq,oq,iq,sq,nq]}),t})(),WY=(()=>{var e;class t extends fT{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const ZY=[{path:"install",component:bP,canActivate:[CP]},{path:"import",component:bP,canActivate:[CP]},{path:"",component:hS}];let qY=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=on({providers:[{provide:Xa,useClass:WY}],imports:[s_.forRoot(ZY,{preloadingStrategy:Mz,useHash:!0}),zY,s_]}),t})();var bS=C(588);function YY(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var CS={exports:{}};!function(t,r,n){function o(l){var c=this,f=function a(){var l=4022871197;return function(f){f=String(f);for(var p=0;p<f.length;p++){var m=.02519603282416938*(l+=f.charCodeAt(p));m-=l=m>>>0,l=(m*=l)>>>0,l+=4294967296*(m-=l)}return 2.3283064365386963e-10*(l>>>0)}}();c.next=function(){var p=2091639*c.s0+2.3283064365386963e-10*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=p-(c.c=0|p)},c.c=1,c.s0=f(" "),c.s1=f(" "),c.s2=f(" "),c.s0-=f(l),c.s0<0&&(c.s0+=1),c.s1-=f(l),c.s1<0&&(c.s1+=1),c.s2-=f(l),c.s2<0&&(c.s2+=1),f=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var f=new o(l),p=c&&c.state,m=f.next;return m.int32=function(){return 4294967296*f.next()|0},m.double=function(){return m()+11102230246251565e-32*(2097152*m()|0)},m.quick=m,p&&("object"==typeof p&&i(p,f),m.state=function(){return i(f,{})}),m}r&&r.exports?r.exports=s:this.alea=s}(0,CS);const QY=YY(CS.exports),OP=bS.compile({WhiteSpace:{match:/[\t\v\f\ufeff\p{Zs}]+/u,lineBreaks:!0},Lines:{match:/\r?\n|[\r\u2028\u2029]/u,lineBreaks:!0},ObjectKey:/\[?(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+\]?(?=:)/u,Punctuator:/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/u,BooleanLiteral:/true|false/u,NumericLiteral:/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/u,StringLiteral:{match:/(?:'(?:(?!')[^\\\n\r]|\\(?:\r\n|[^]))*')|(?:"(?:(?!")[^\\\n\r]|\\(?:\r\n|[^]))*")/u,value:e=>`"${e.slice(1,-1)}"`},Identifier:/(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/u}),oX=new RegExp("(?<==)(?:true|false)"),iX=new RegExp("(?<==)-?(?:(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|-?0n|-?[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|-?0[0-7]+)"),sX=new RegExp("(?<==)'(?!.*&[0-9a-zA-Z]+;)[^'\\\\]*(?:\\\\.|\\\\n[^\"\\\\]*|&[^0-9a-zA-Z;]*)*'"),aX=new RegExp('(?<==)"(?!.*&[0-9a-zA-Z]+;)[^"\\\\]*(?:\\\\.|\\\\n[^"\\\\]*|&[^0-9a-zA-Z;]*)*"'),lX=new RegExp("(?<==)[^\"\\s'`=<>\\x00]+");function SS(e){const t="string"==typeof e&&/^(['"]).*?\1$/.test(e)?e.slice(1,-1):e;return t.startsWith("[")&&t.endsWith("]")||t.startsWith("{")&&t.endsWith("}")?JSON.parse(function JY(e,t={}){const r=e.trim().replace(/[\,]+$/,"");if(""===r)return"{}";if(!function eX(e){return e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")}(r))throw new TypeError("Unexpected input format");let n="";OP.reset(r);for(const o of OP)if("WhiteSpace"!==o.type&&"Lines"!==o.type){switch(o.type){case"Identifier":o.value=`"${t[o.value]||o.value}"`;break;case"ObjectKey":o.value="["===o.value.slice(0,1)&&"]"===o.value.slice(-1)?`"${t[o.value.slice(1,-1)]||o.value.slice(1,-1)}"`:`"${o.value}"`}n+=o.value}return n.replace(/\,([\}\]])/g,"$1")}(t)):t}const FP=bS.states({main:{WhiteSpace:/[ \t\v\f\ufeff]+/,AttributeShorthand:/[\.#](?:(?!-?\d)(?:[a-zA-Z0-9\xA0-\uFFFF_-])+)/,BooleanLiteral:{match:oX,value:e=>"true"===e},NumericLiteral:{match:iX,value(e){const t=Number(e);return Number.isNaN(t)?Number(e.replace(/_|n$/g,"")):Number(e)}},SingleQuotedValue:{match:sX,value:SS,type:()=>"StringLiteral"},DoubleQuotedLiteral:{match:aX,value:SS,type:()=>"StringLiteral"},UnquotedLiteral:{match:lX,value:SS,type:()=>"StringLiteral"},AttributeName:/(?:(?![\s\x00\x22\x27\x3E\x2F\x3D\x00-\x1F\x7F-\x9F])[^\s\x00-\x1F\x7F-\x9F\x22\x27\x3E\x2F\x3D])+/,Separator:"="}});const dX=bS.compile({spaces:/[\t\v\f\ufeff ]+/,name:/[a-zA-Z][\w-]*/,attrs:{match:/\{.*\}/,value:e=>function uX(e){let t=null;const r=FP.reset(e),n={};Object.defineProperties(n,{toString:{writable:!1,enumerable:!1,configurable:!1,value:()=>function cX(e){let t="";for(const r in e){const n=e[r];switch(typeof n){case"object":t+=` ${r}='${JSON.stringify(n)}'`;break;case"string":t+=` ${r}="${n}"`;break;case"number":case"boolean":t+=` ${r}=${n}`}}return t.slice(1)}(n)},getTokens:{writable:!1,enumerable:!1,configurable:!1,value:()=>Array.from(FP.reset(e))}});const o=[];for(const{type:i,value:s}of r)switch(i){case"AttributeName":t=s,n[t]=t;break;case"AttributeShorthand":const a=s[0];"."===a?o.push(s.slice(1)):"#"===a&&(n.id=s.slice(1));break;case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":t&&("class"===t&&o.push(s),n[t]=s,t=null)}return o.length&&(n.class=o.join(" ")),n}(e.slice(1,-1))},text:{match:/\[.*\]/,value:e=>e.slice(1,-1)},blockText:{match:/[\s\S]+/,lineBreaks:!0}});function fX(e){const{type:t,level:r,raw:n,content:o,marker:i,tag:s}=e,a=dX.reset(o);let l,c,f="",p=[];for(const{type:m,value:y}of a)switch(m){case"name":l=y;break;case"attrs":c=y;break;case"text":case"blockText":f=y,p="container"===r?this.lexer.blockTokens(y):this.lexer.inlineTokens(y)}return{type:t,raw:n,meta:{level:r,marker:i,tag:s,name:l},attrs:c,text:f,tokens:p}}function NP(e){return["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"].includes(e)}function mX(e){const{meta:t,attrs:r,tokens:n=[]}=e,o=t.name||t.tag;let i=`<${o}`;return i+=r?" "+r.toString():"",i+=NP(o)?" />":">",i+="container"===t.level?"\n":"",NP(o)||(i+="container"===t.level?this.parser.parse(n):this.parser.parseInline(n),i+=`</${o}>`),i+="inline"===t.level?"":"\n",i}const gX=[{level:"container",marker:":::"},{level:"block",marker:"::"},{level:"inline",marker:":"}];function _X(e=gX){return{extensions:e.map(({level:t,marker:r,tag:n,renderer:o})=>{const i=QY(r).int32(),s=`directive${function hX(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}(t)}${i}`;return{name:s,level:"inline"===t?"inline":"block",start:a=>{var l;return null==(l=a.match(new RegExp(r)))?void 0:l.index},tokenizer(a){const l=function pX(e,t){switch(e){case"container":return`^${t}([\\s\\S]*?)\\n${t}`;case"block":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{\\[].*?[\\}\\]])+)`;case"inline":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{].*?[\\}]+|[\\[].*?[\\]])+)`}}(t,r),c=a.match(new RegExp(l));if(c){const[f,p=""]=c;return fX.call(this,{type:s,level:t,raw:f,content:p,marker:r,tag:n||("inline"===t?"span":"div")})}},renderer:o||mX}})}}const LP=["touchstart","click","keydown"];let vX=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,V.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;bo&&pu&&n.audioService.initialize();const o=()=>{LP.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};LP.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(wi),le(_S))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const yX=()=>{const e=new du;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let bX=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){}}return(e=t).\u0275fac=function(n){return new(n||e)(le(er),le(wa),le(_S),le(Vl),le(wi),le(yP),le(vX),le(fS))},e.\u0275mod=eo({type:e,bootstrap:[UZ]}),e.\u0275inj=on({providers:[{provide:EA,useClass:z8},{provide:hp,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[wi]}],imports:[yU,Cc.forRoot({...AP()?{actionSheetEnter:nK,loadingEnter:rK,alertEnter:oK}:{},innerHTMLTemplatesEnabled:!0}),qY,N0.forRoot({loader:mC,markedOptions:{provide:ER,useFactory:yX},markedExtensions:[_X()]}),r6]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function TU(){Lg=nM("#/install?"),$g=nM("#/import?")}(),function n7(){return!!MR(A_)}()&&!rM()||function MU(){return void 0!==Lg}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),bo&&(CSS.supports("height","100dvh")?document.body.style.height="100dvh":window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),vP()),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),_U().bootstrapModule(bX).then(e=>Ks.production||function EU(e){return function QT(e,t){(typeof COMPILED>"u"||!COMPILED)&&((Hn.ng=Hn.ng||{})[e]=t)}("profiler",new wU(e)),e}(e.injector.get(ma).components[0])).catch(e=>console.log(e))},2227:be=>{var C,Ae=(C=typeof document<"u"?document.currentScript?.src:void 0,function(w={}){var Z,B,De,te,d=w,O=new Promise((u,b)=>{Z=u,B=b}),I="object"==typeof window,x="function"==typeof importScripts,G=("object"==typeof process&&"object"==typeof process.versions&&process,Object.assign({},d)),j="./this.program",M=(u,b)=>{throw b},F="";(I||x)&&(x?F=self.location.href:typeof document<"u"&&document.currentScript&&(F=document.currentScript.src),C&&(F=C),F=F.startsWith("blob:")?"":F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1),x&&(te=u=>{var b=new XMLHttpRequest;return b.open("GET",u,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}),De=u=>fetch(u,{credentials:"same-origin"}).then(b=>b.ok?b.arrayBuffer():Promise.reject(new Error(b.status+" : "+b.url))));var ee,W=d.print||console.log.bind(console),k=d.printErr||console.error.bind(console);Object.assign(d,G),G=null,d.thisProgram&&(j=d.thisProgram),d.quit&&(M=d.quit),d.wasmBinary&&(ee=d.wasmBinary);var ce,ke,N,P,S,D,me,ie=!1;function Le(u,b){u||Et(b)}function Ge(){var u=ce.buffer;d.HEAP8=N=new Int8Array(u),d.HEAP16=new Int16Array(u),d.HEAPU8=P=new Uint8Array(u),d.HEAPU16=new Uint16Array(u),d.HEAP32=S=new Int32Array(u),d.HEAPU32=D=new Uint32Array(u),d.HEAPF32=new Float32Array(u),d.HEAPF64=me=new Float64Array(u)}function fe(){if(!ie){var u=La();0==u&&(u+=4);var b=D[u>>2],Y=D[u+4>>2];(34821223!=b||2310721022!=Y)&&Et(`Stack overflow! Stack cookie has been overwritten at ${Te(u)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Te(Y)} ${Te(b)}`),1668509029!=D[0]&&Et("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Oe=[],he=[],xe=[],qe=[],ye=0,Ie=null,we=null;function Et(u){d.onAbort?.(u),k(u="Aborted("+u+")"),ie=!0,ke=1,u+=". Build with -sASSERTIONS for more info.";var b=new WebAssembly.RuntimeError(u);throw B(b),b}var an,Yt=u=>u.startsWith("data:application/octet-stream;base64,");function br(u){if(u==an&&ee)return new Uint8Array(ee);if(te)return te(u);throw"both async and sync fetching of the wasm failed"}function Jo(u,b,Y){return function ur(u){return ee?Promise.resolve().then(()=>br(u)):De(u).then(b=>new Uint8Array(b),()=>br(u))}(u).then(We=>WebAssembly.instantiate(We,b)).then(Y,We=>{k(`failed to asynchronously prepare wasm: ${We}`),Et(We)})}var tr,So={425824:u=>{Xr.grow(65536);for(let b=0;b<=65535;b++)Xr.set(Xr.length-65535-1+b,Xr.get(D[(u>>>2)+b]));return Xr.length-65535-1}};function ei(u){this.name="ExitStatus",this.message=`Program terminated with exit(${u})`,this.status=u}var Xr,g,da,dr=u=>{for(;u.length>0;)u.shift()(d)},oo=d.noExitRuntime||!0,Te=u=>"0x"+(u>>>=0).toString(16).padStart(8,"0"),Me=typeof TextDecoder<"u"?new TextDecoder:void 0,nn=(u,b,Y)=>{for(var We=b+Y,Vt=b;u[Vt]&&!(Vt>=We);)++Vt;if(Vt-b>16&&u.buffer&&Me)return Me.decode(u.subarray(b,Vt));for(var Dn="";b<Vt;){var Jn=u[b++];if(128&Jn){var kn=63&u[b++];if(192!=(224&Jn)){var ao=63&u[b++];if((Jn=224==(240&Jn)?(15&Jn)<<12|kn<<6|ao:(7&Jn)<<18|kn<<12|ao<<6|63&u[b++])<65536)Dn+=String.fromCharCode(Jn);else{var gs=Jn-65536;Dn+=String.fromCharCode(55296|gs>>10,56320|1023&gs)}}else Dn+=String.fromCharCode((31&Jn)<<6|kn)}else Dn+=String.fromCharCode(Jn)}return Dn},Ut=(u,b)=>u?nn(P,u,b):"",Xt=(u,b)=>b+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*b:NaN,uo=[0,31,60,91,121,152,182,213,244,274,305,335],Hi=[0,31,59,90,120,151,181,212,243,273,304,334],Go=u=>((u=>u%4==0&&(u%100!=0||u%400==0))(u.getFullYear())?uo:Hi)[u.getMonth()]+u.getDate()-1,yn=(u,b,Y,We)=>{if(!(We>0))return 0;for(var Vt=Y,Dn=Y+We-1,Jn=0;Jn<u.length;++Jn){var kn=u.charCodeAt(Jn);if(kn>=55296&&kn<=57343&&(kn=65536+((1023&kn)<<10)|1023&u.charCodeAt(++Jn)),kn<=127){if(Y>=Dn)break;b[Y++]=kn}else if(kn<=2047){if(Y+1>=Dn)break;b[Y++]=192|kn>>6,b[Y++]=128|63&kn}else if(kn<=65535){if(Y+2>=Dn)break;b[Y++]=224|kn>>12,b[Y++]=128|kn>>6&63,b[Y++]=128|63&kn}else{if(Y+3>=Dn)break;b[Y++]=240|kn>>18,b[Y++]=128|kn>>12&63,b[Y++]=128|kn>>6&63,b[Y++]=128|63&kn}}return b[Y]=0,Y-Vt},_n=(u,b,Y)=>yn(u,P,b,Y),rn=[],Ei=u=>{var Y=(u-ce.buffer.byteLength+65535)/65536;try{return ce.grow(Y),Ge(),1}catch{}},li={},ci=()=>{if(!ci.strings){var b={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var Y in li)void 0===li[Y]?delete b[Y]:b[Y]=li[Y];var We=[];for(var Y in b)We.push(`${Y}=${b[Y]}`);ci.strings=We}return ci.strings},cs=[null,[],[]],ks=(u,b)=>{var Y=cs[u];0===b||10===b?((1===u?W:k)(nn(Y,0)),Y.length=0):Y.push(b)},bn=(u,b)=>{ke=u,(u=>{ke=u,oo||(d.onExit?.(u),ie=!0),M(u,new ei(u))})(u)},Xs=u=>{for(var b=0,Y=0;Y<u.length;++Y){var We=u.charCodeAt(Y);We<=127?b++:We<=2047?b+=2:We>=55296&&We<=57343?(b+=4,++Y):b+=3}return b},nt=(u,b)=>{u<128?b.push(u):b.push(u%128|128,u>>7)},ui=[],vt=u=>{var b=ui[u];return b||(u>=ui.length&&(ui.length=u+1),ui[u]=b=Xr.get(u)),b},z=[],Pe=(u,b)=>{Xr.set(u,b),ui[u]=Xr.get(u)},Ye={a:(u,b,Y,We)=>{Et(`Assertion failed: ${Ut(u)}, at: `+[b?Ut(b):"unknown filename",Y,We?Ut(We):"unknown function"])},q:function Ro(u){const b=new Error(Ut(u));throw b.isAssert=!0,b},l:function Yn(u,b,Y){Xt(b,Y)},h:()=>{Et("")},g:()=>1,c:(u,b,Y)=>P.copyWithin(u,b,b+Y),i:function xn(u,b,Y){var We=Xt(u,b),Vt=new Date(1e3*We);S[Y>>2]=Vt.getSeconds(),S[Y+4>>2]=Vt.getMinutes(),S[Y+8>>2]=Vt.getHours(),S[Y+12>>2]=Vt.getDate(),S[Y+16>>2]=Vt.getMonth(),S[Y+20>>2]=Vt.getFullYear()-1900,S[Y+24>>2]=Vt.getDay();var Dn=0|Go(Vt);S[Y+28>>2]=Dn,S[Y+36>>2]=-60*Vt.getTimezoneOffset();var Jn=new Date(Vt.getFullYear(),0,1),kn=new Date(Vt.getFullYear(),6,1).getTimezoneOffset(),ao=Jn.getTimezoneOffset(),gs=0|(kn!=ao&&Vt.getTimezoneOffset()==Math.min(ao,kn));S[Y+32>>2]=gs},j:function(u){var b=(()=>{var Y=new Date(S[u+20>>2]+1900,S[u+16>>2],S[u+12>>2],S[u+8>>2],S[u+4>>2],S[u>>2],0),We=S[u+32>>2],Vt=Y.getTimezoneOffset(),Dn=new Date(Y.getFullYear(),0,1),Jn=new Date(Y.getFullYear(),6,1).getTimezoneOffset(),kn=Dn.getTimezoneOffset(),ao=Math.min(kn,Jn);if(We<0)S[u+32>>2]=+(Jn!=kn&&ao==Vt);else if(We>0!=(ao==Vt)){var gs=Math.max(kn,Jn),gf=We>0?ao:gs;Y.setTime(Y.getTime()+6e4*(gf-Vt))}S[u+24>>2]=Y.getDay();var _f=0|Go(Y);S[u+28>>2]=_f,S[u>>2]=Y.getSeconds(),S[u+4>>2]=Y.getMinutes(),S[u+8>>2]=Y.getHours(),S[u+12>>2]=Y.getDate(),S[u+16>>2]=Y.getMonth(),S[u+20>>2]=Y.getYear();var xu=Y.getTime();return isNaN(xu)?-1:xu/1e3})();return(u=>{qo(u)})((tr=b,+Math.abs(tr)>=1?tr>0?+Math.floor(tr/4294967296)>>>0:~~+Math.ceil((tr-+(~~tr>>>0))/4294967296)>>>0:0)),b>>>0},p:(u,b,Y,We)=>{var Vt=(new Date).getFullYear(),Dn=new Date(Vt,0,1),Jn=new Date(Vt,6,1),kn=Dn.getTimezoneOffset(),ao=Jn.getTimezoneOffset(),gs=Math.max(kn,ao);D[u>>2]=60*gs,S[b>>2]=+(kn!=ao);var gf=J_=>{var wS=J_>=0?"-":"+",ev=Math.abs(J_);return`UTC${wS}${String(Math.floor(ev/60)).padStart(2,"0")}${String(ev%60).padStart(2,"0")}`},_f=gf(kn),xu=gf(ao);ao<kn?(_n(_f,Y,17),_n(xu,We,17)):(_n(_f,We,17),_n(xu,Y,17))},r:(u,b,Y)=>((u,b,Y)=>{var We=((u,b)=>{rn.length=0;for(var Y;Y=P[u++];){var We=105!=Y;b+=(We&=112!=Y)&&b%8?4:0,rn.push(112==Y?D[b>>2]:105==Y?S[b>>2]:me[b>>3]),b+=We?8:4}return rn})(b,Y);return So[u](...We)})(u,b,Y),b:()=>Date.now(),o:u=>{var ao,b=P.length,Y=2147483648;if((u>>>=0)>Y)return!1;for(var Vt=1;Vt<=4;Vt*=2){var Dn=b*(1+.2/Vt);Dn=Math.min(Dn,u+100663296);var Jn=Math.min(Y,(ao=Math.max(u,Dn))+(65536-ao%65536)%65536);if(Ei(Jn))return!0}return!1},m:(u,b)=>{var Y=0;return ci().forEach((We,Vt)=>{var Dn=b+Y;D[u+4*Vt>>2]=Dn,((u,b)=>{for(var Y=0;Y<u.length;++Y)N[b++]=u.charCodeAt(Y);N[b]=0})(We,Dn),Y+=We.length+1}),0},n:(u,b)=>{var Y=ci();D[u>>2]=Y.length;var We=0;return Y.forEach(Vt=>We+=Vt.length+1),D[b>>2]=We,0},d:u=>52,f:(u,b,Y,We)=>52,k:function go(u,b,Y,We,Vt){return Xt(b,Y),70},e:(u,b,Y,We)=>{for(var Vt=0,Dn=0;Dn<Y;Dn++){var Jn=D[b>>2],kn=D[b+4>>2];b+=8;for(var ao=0;ao<kn;ao++)ks(u,P[Jn+ao]);Vt+=kn}return D[We>>2]=Vt,0}},A=function Nr(){var u=function mo(){return{a:Ye}}();function b(We,Vt){return ce=(A=We.exports).s,Ge(),Xr=A.Uc,function Bt(u){he.unshift(u)}(A.t),function ft(u){if(ye--,d.monitorRunDependencies?.(ye),0==ye&&(null!==Ie&&(clearInterval(Ie),Ie=null),we)){var b=we;we=null,b()}}(),A}if(function Xe(u){ye++,d.monitorRunDependencies?.(ye)}(),d.instantiateWasm)try{return d.instantiateWasm(u,b)}catch(We){k(`Module.instantiateWasm callback failed with error: ${We}`),B(We)}return an||(an=function Qt(){var u="cloudpilot_web.wasm";return Yt(u)?u:function pe(u){return d.locateFile?d.locateFile(u,F):F+u}(u)}()),function Fr(u,b,Y,We){return u||"function"!=typeof WebAssembly.instantiateStreaming||Yt(b)||"function"!=typeof fetch?Jo(b,Y,We):fetch(b,{credentials:"same-origin"}).then(Vt=>WebAssembly.instantiateStreaming(Vt,Y).then(We,function(Jn){return k(`wasm streaming compile failed: ${Jn}`),k("falling back to ArrayBuffer instantiation"),Jo(b,Y,We)}))}(ee,an,u,function Y(We){b(We.instance)}).catch(B),{}}(),St=(d._malloc=u=>(d._malloc=A.u)(u),d._free=u=>(d._free=A.v)(u),d._main=(u,b)=>(St=d._main=A.w)(u,b)),gr=(d._webidl_free=u=>(d._webidl_free=A.x)(u),d._webidl_malloc=u=>(d._webidl_malloc=A.y)(u),d._emscripten_bind_VoidPtr___destroy___0=u=>(gr=d._emscripten_bind_VoidPtr___destroy___0=A.z)(u)),kr=d._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(kr=d._emscripten_bind_Cloudpilot_Cloudpilot_0=A.A)(),Gr=d._emscripten_bind_Cloudpilot_Malloc_1=(u,b)=>(Gr=d._emscripten_bind_Cloudpilot_Malloc_1=A.B)(u,b),zn=d._emscripten_bind_Cloudpilot_Free_1=(u,b)=>(zn=d._emscripten_bind_Cloudpilot_Free_1=A.C)(u,b),qi=d._emscripten_bind_Cloudpilot_Nullptr_0=u=>(qi=d._emscripten_bind_Cloudpilot_Nullptr_0=A.D)(u),Pn=d._emscripten_bind_Cloudpilot_InitializeSession_3=(u,b,Y,We)=>(Pn=d._emscripten_bind_Cloudpilot_InitializeSession_3=A.E)(u,b,Y,We),Po=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=u=>(Po=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=A.F)(u),Eo=d._emscripten_bind_Cloudpilot_RunEmulation_1=(u,b)=>(Eo=d._emscripten_bind_Cloudpilot_RunEmulation_1=A.G)(u,b),Ki=d._emscripten_bind_Cloudpilot_SetClockFactor_1=(u,b)=>(Ki=d._emscripten_bind_Cloudpilot_SetClockFactor_1=A.H)(u,b),xa=d._emscripten_bind_Cloudpilot_CopyFrame_0=u=>(xa=d._emscripten_bind_Cloudpilot_CopyFrame_0=A.I)(u),Js=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=u=>(Js=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=A.J)(u),Os=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=u=>(Os=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=A.K)(u),ea=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(u,b)=>(ea=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=A.L)(u,b),Yi=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(u,b)=>(Yi=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=A.M)(u,b),Ta=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(u,b)=>(Ta=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=A.N)(u,b),ta=d._emscripten_bind_Cloudpilot_QueuePenMove_2=(u,b,Y)=>(ta=d._emscripten_bind_Cloudpilot_QueuePenMove_2=A.O)(u,b,Y),na=d._emscripten_bind_Cloudpilot_QueuePenUp_0=u=>(na=d._emscripten_bind_Cloudpilot_QueuePenUp_0=A.P)(u),Ma=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=(u,b)=>(Ma=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=A.Q)(u,b),Aa=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=(u,b)=>(Aa=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=A.R)(u,b),ka=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(u,b,Y)=>(ka=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=A.S)(u,b,Y),Ra=d._emscripten_bind_Cloudpilot_IsPowerOff_0=u=>(Ra=d._emscripten_bind_Cloudpilot_IsPowerOff_0=A.T)(u),ra=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=u=>(ra=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=A.U)(u),Pa=d._emscripten_bind_Cloudpilot_GetOSVersion_0=u=>(Pa=d._emscripten_bind_Cloudpilot_GetOSVersion_0=A.V)(u),Oa=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=u=>(Oa=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=A.W)(u),Sr=d._emscripten_bind_Cloudpilot_Reset_0=u=>(Sr=d._emscripten_bind_Cloudpilot_Reset_0=A.X)(u),oa=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=u=>(oa=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=A.Y)(u),fo=d._emscripten_bind_Cloudpilot_ResetHard_0=u=>(fo=d._emscripten_bind_Cloudpilot_ResetHard_0=A.Z)(u),jt=d._emscripten_bind_Cloudpilot_InstallDb_2=(u,b,Y)=>(jt=d._emscripten_bind_Cloudpilot_InstallDb_2=A._)(u,b,Y),ia=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=u=>(ia=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=A.$)(u),Fs=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=u=>(Fs=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=A.aa)(u),Qr=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=u=>(Qr=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=A.ba)(u),Ns=d._emscripten_bind_Cloudpilot_GetMemorySize_0=u=>(Ns=d._emscripten_bind_Cloudpilot_GetMemorySize_0=A.ca)(u),Fa=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(u,b,Y)=>(Fa=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=A.da)(u,b,Y),On=d._emscripten_bind_Cloudpilot_GetRomPtr_0=u=>(On=d._emscripten_bind_Cloudpilot_GetRomPtr_0=A.ea)(u),fs=d._emscripten_bind_Cloudpilot_GetRomSize_0=u=>(fs=d._emscripten_bind_Cloudpilot_GetRomSize_0=A.fa)(u),wr=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=u=>(wr=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=A.ga)(u),Ls=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=u=>(Ls=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=A.ha)(u),dl=d._emscripten_bind_Cloudpilot_SaveState_0=u=>(dl=d._emscripten_bind_Cloudpilot_SaveState_0=A.ia)(u),Na=d._emscripten_bind_Cloudpilot_LoadState_2=(u,b,Y)=>(Na=d._emscripten_bind_Cloudpilot_LoadState_2=A.ja)(u,b,Y),$n=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=u=>($n=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=A.ka)(u),Ht=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=(u,b)=>(Ht=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=A.la)(u,b),ps=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(u,b)=>(ps=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=A.ma)(u,b),$s=d._emscripten_bind_Cloudpilot_StartBackup_0=u=>($s=d._emscripten_bind_Cloudpilot_StartBackup_0=A.na)(u),fl=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(u,b)=>(fl=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=A.oa)(u,b),Bs=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=u=>(Bs=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=A.pa)(u),Ke=d._emscripten_bind_Cloudpilot_IsSuspended_0=u=>(Ke=d._emscripten_bind_Cloudpilot_IsSuspended_0=A.qa)(u),Xi=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=u=>(Xi=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=A.ra)(u),vi=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(u,b)=>(vi=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=A.sa)(u,b),sa=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=u=>(sa=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=A.ta)(u),aa=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(u,b)=>(aa=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=A.ua)(u,b),la=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(u,b)=>(la=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=A.va)(u,b),ni=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=(u,b)=>(ni=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=A.wa)(u,b),_r=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(u,b,Y)=>(_r=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=A.xa)(u,b,Y),Wo=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(u,b)=>(Wo=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=A.ya)(u,b),Ft=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=u=>(Ft=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=A.za)(u),Mn=d._emscripten_bind_Cloudpilot_AllocateCard_2=(u,b,Y)=>(Mn=d._emscripten_bind_Cloudpilot_AllocateCard_2=A.Aa)(u,b,Y),Gl=d._emscripten_bind_Cloudpilot_AdoptCard_3=(u,b,Y,We)=>(Gl=d._emscripten_bind_Cloudpilot_AdoptCard_3=A.Ba)(u,b,Y,We),pl=d._emscripten_bind_Cloudpilot_MountCard_1=(u,b)=>(pl=d._emscripten_bind_Cloudpilot_MountCard_1=A.Ca)(u,b),hl=d._emscripten_bind_Cloudpilot_RemoveCard_1=(u,b)=>(hl=d._emscripten_bind_Cloudpilot_RemoveCard_1=A.Da)(u,b),Ul=d._emscripten_bind_Cloudpilot_GetCardData_1=(u,b)=>(Ul=d._emscripten_bind_Cloudpilot_GetCardData_1=A.Ea)(u,b),jn=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(u,b)=>(jn=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=A.Fa)(u,b),hs=d._emscripten_bind_Cloudpilot_GetCardSize_1=(u,b)=>(hs=d._emscripten_bind_Cloudpilot_GetCardSize_1=A.Ga)(u,b),Tn=d._emscripten_bind_Cloudpilot_RemountCards_0=u=>(Tn=d._emscripten_bind_Cloudpilot_RemountCards_0=A.Ha)(u),po=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=(u,b)=>(po=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=A.Ia)(u,b),ho=d._emscripten_bind_Cloudpilot_GetMountedKey_0=u=>(ho=d._emscripten_bind_Cloudpilot_GetMountedKey_0=A.Ja)(u),Er=d._emscripten_bind_Cloudpilot_GetTransportIR_0=u=>(Er=d._emscripten_bind_Cloudpilot_GetTransportIR_0=A.Ka)(u),Gn=d._emscripten_bind_Cloudpilot_GetTransportSerial_0=u=>(Gn=d._emscripten_bind_Cloudpilot_GetTransportSerial_0=A.La)(u),or=d._emscripten_bind_Cloudpilot___destroy___0=u=>(or=d._emscripten_bind_Cloudpilot___destroy___0=A.Ma)(u),Dr=d._emscripten_bind_RomInfo_RomInfo_2=(u,b)=>(Dr=d._emscripten_bind_RomInfo_RomInfo_2=A.Na)(u,b),Ir=d._emscripten_bind_RomInfo_IsValid_0=u=>(Ir=d._emscripten_bind_RomInfo_IsValid_0=A.Oa)(u),v=d._emscripten_bind_RomInfo_CardVersion_0=u=>(v=d._emscripten_bind_RomInfo_CardVersion_0=A.Pa)(u),q=d._emscripten_bind_RomInfo_CardName_0=u=>(q=d._emscripten_bind_RomInfo_CardName_0=A.Qa)(u),ae=d._emscripten_bind_RomInfo_RomVersion_0=u=>(ae=d._emscripten_bind_RomInfo_RomVersion_0=A.Ra)(u),rt=d._emscripten_bind_RomInfo_RomVersionString_0=u=>(rt=d._emscripten_bind_RomInfo_RomVersionString_0=A.Sa)(u),bt=d._emscripten_bind_RomInfo_Supports_1=(u,b)=>(bt=d._emscripten_bind_RomInfo_Supports_1=A.Ta)(u,b),Jt=d._emscripten_bind_RomInfo___destroy___0=u=>(Jt=d._emscripten_bind_RomInfo___destroy___0=A.Ua)(u),ut=d._emscripten_bind_Frame_GetLineWidth_0=u=>(ut=d._emscripten_bind_Frame_GetLineWidth_0=A.Va)(u),pn=d._emscripten_bind_Frame_GetBpp_0=u=>(pn=d._emscripten_bind_Frame_GetBpp_0=A.Wa)(u),Ot=d._emscripten_bind_Frame_GetLines_0=u=>(Ot=d._emscripten_bind_Frame_GetLines_0=A.Xa)(u),Xn=d._emscripten_bind_Frame_GetMargin_0=u=>(Xn=d._emscripten_bind_Frame_GetMargin_0=A.Ya)(u),Jr=d._emscripten_bind_Frame_GetBytesPerLine_0=u=>(Jr=d._emscripten_bind_Frame_GetBytesPerLine_0=A.Za)(u),$e=d._emscripten_bind_Frame_GetFirstDirtyLine_0=u=>($e=d._emscripten_bind_Frame_GetFirstDirtyLine_0=A._a)(u),kt=d._emscripten_bind_Frame_GetLastDirtyLine_0=u=>(kt=d._emscripten_bind_Frame_GetLastDirtyLine_0=A.$a)(u),on=d._emscripten_bind_Frame_GetHasChanges_0=u=>(on=d._emscripten_bind_Frame_GetHasChanges_0=A.ab)(u),Un=d._emscripten_bind_Frame_GetBuffer_0=u=>(Un=d._emscripten_bind_Frame_GetBuffer_0=A.bb)(u),Br=d._emscripten_bind_Frame_GetBufferSize_0=u=>(Br=d._emscripten_bind_Frame_GetBufferSize_0=A.cb)(u),ir=d._emscripten_bind_Frame_GetScaleX_0=u=>(ir=d._emscripten_bind_Frame_GetScaleX_0=A.db)(u),Wn=d._emscripten_bind_Frame_GetScaleY_0=u=>(Wn=d._emscripten_bind_Frame_GetScaleY_0=A.eb)(u),h=d._emscripten_bind_Frame___destroy___0=u=>(h=d._emscripten_bind_Frame___destroy___0=A.fb)(u),L=d._emscripten_bind_DbBackup_Init_1=(u,b)=>(L=d._emscripten_bind_DbBackup_Init_1=A.gb)(u,b),ve=d._emscripten_bind_DbBackup_IsInProgress_0=u=>(ve=d._emscripten_bind_DbBackup_IsInProgress_0=A.hb)(u),Je=d._emscripten_bind_DbBackup_IsDone_0=u=>(Je=d._emscripten_bind_DbBackup_IsDone_0=A.ib)(u),Lt=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=u=>(Lt=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=A.jb)(u),Mt=d._emscripten_bind_DbBackup_Save_0=u=>(Mt=d._emscripten_bind_DbBackup_Save_0=A.kb)(u),Fn=d._emscripten_bind_DbBackup_Skip_0=u=>(Fn=d._emscripten_bind_DbBackup_Skip_0=A.lb)(u),hn=d._emscripten_bind_DbBackup_GetArchivePtr_0=u=>(hn=d._emscripten_bind_DbBackup_GetArchivePtr_0=A.mb)(u),En=d._emscripten_bind_DbBackup_GetArchiveSize_0=u=>(En=d._emscripten_bind_DbBackup_GetArchiveSize_0=A.nb)(u),ri=d._emscripten_bind_DbBackup___destroy___0=u=>(ri=d._emscripten_bind_DbBackup___destroy___0=A.ob)(u),Hl=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=u=>(Hl=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=A.pb)(u),Hn=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=u=>(Hn=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=A.qb)(u),ml=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=u=>(ml=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=A.rb)(u),bu=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=u=>(bu=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=A.sb)(u),dt=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=u=>(dt=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=A.tb)(u),gl=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(u,b)=>(gl=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=A.ub)(u,b),zl=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=u=>(zl=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=A.vb)(u),Tc=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=u=>(Tc=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=A.wb)(u),Cu=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=(u,b)=>(Cu=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=A.xb)(u,b),vh=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=u=>(vh=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=A.yb)(u),Su=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=u=>(Su=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=A.zb)(u),q_=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=u=>(q_=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=A.Ab)(u),K_=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=u=>(K_=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=A.Bb)(u),Y_=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(u,b,Y)=>(Y_=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=A.Cb)(u,b,Y),X_=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=u=>(X_=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=A.Db)(u),Q_=d._emscripten_bind_SuspendContextSerialSync_Cancel_0=u=>(Q_=d._emscripten_bind_SuspendContextSerialSync_Cancel_0=A.Eb)(u),Wl=d._emscripten_bind_SuspendContextSerialSync_Resume_0=u=>(Wl=d._emscripten_bind_SuspendContextSerialSync_Resume_0=A.Fb)(u),wu=d._emscripten_bind_SuspendContextSerialSync___destroy___0=u=>(wu=d._emscripten_bind_SuspendContextSerialSync___destroy___0=A.Gb)(u),Mc=d._emscripten_bind_SuspendContext_GetKind_0=u=>(Mc=d._emscripten_bind_SuspendContext_GetKind_0=A.Hb)(u),yh=d._emscripten_bind_SuspendContext_Cancel_0=u=>(yh=d._emscripten_bind_SuspendContext_Cancel_0=A.Ib)(u),bh=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=u=>(bh=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=A.Jb)(u),Ch=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=u=>(Ch=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=A.Kb)(u),ef=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=u=>(ef=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=A.Lb)(u),_l=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=u=>(_l=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=A.Mb)(u),Sh=d._emscripten_bind_SuspendContext_AsContextSerialSync_0=u=>(Sh=d._emscripten_bind_SuspendContext_AsContextSerialSync_0=A.Nb)(u),ca=d._emscripten_bind_SuspendContext___destroy___0=u=>(ca=d._emscripten_bind_SuspendContext___destroy___0=A.Ob)(u),wh=d._emscripten_bind_SessionImage_SessionImage_0=()=>(wh=d._emscripten_bind_SessionImage_SessionImage_0=A.Pb)(),le=d._emscripten_bind_SessionImage_GetDeviceId_0=u=>(le=d._emscripten_bind_SessionImage_GetDeviceId_0=A.Qb)(u),tf=d._emscripten_bind_SessionImage_SetDeviceId_1=(u,b)=>(tf=d._emscripten_bind_SessionImage_SetDeviceId_1=A.Rb)(u,b),ot=d._emscripten_bind_SessionImage_GetRomImage_0=u=>(ot=d._emscripten_bind_SessionImage_GetRomImage_0=A.Sb)(u),Ac=d._emscripten_bind_SessionImage_GetRomImageSize_0=u=>(Ac=d._emscripten_bind_SessionImage_GetRomImageSize_0=A.Tb)(u),Eu=d._emscripten_bind_SessionImage_SetRomImage_2=(u,b,Y)=>(Eu=d._emscripten_bind_SessionImage_SetRomImage_2=A.Ub)(u,b,Y),Zl=d._emscripten_bind_SessionImage_GetMemoryImage_0=u=>(Zl=d._emscripten_bind_SessionImage_GetMemoryImage_0=A.Vb)(u),Eh=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=u=>(Eh=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=A.Wb)(u),Dh=d._emscripten_bind_SessionImage_SetMemoryImage_2=(u,b,Y)=>(Dh=d._emscripten_bind_SessionImage_SetMemoryImage_2=A.Xb)(u,b,Y),Ih=d._emscripten_bind_SessionImage_GetMetadata_0=u=>(Ih=d._emscripten_bind_SessionImage_GetMetadata_0=A.Yb)(u),Vs=d._emscripten_bind_SessionImage_GetMetadataSize_0=u=>(Vs=d._emscripten_bind_SessionImage_GetMetadataSize_0=A.Zb)(u),kc=d._emscripten_bind_SessionImage_SetMetadata_2=(u,b,Y)=>(kc=d._emscripten_bind_SessionImage_SetMetadata_2=A._b)(u,b,Y),Qi=d._emscripten_bind_SessionImage_GetSavestate_0=u=>(Qi=d._emscripten_bind_SessionImage_GetSavestate_0=A.$b)(u),ms=d._emscripten_bind_SessionImage_GetSavestateSize_0=u=>(ms=d._emscripten_bind_SessionImage_GetSavestateSize_0=A.ac)(u),Zn=d._emscripten_bind_SessionImage_SetSavestate_2=(u,b,Y)=>(Zn=d._emscripten_bind_SessionImage_SetSavestate_2=A.bc)(u,b,Y),nf=d._emscripten_bind_SessionImage_GetVersion_0=u=>(nf=d._emscripten_bind_SessionImage_GetVersion_0=A.cc)(u),Du=d._emscripten_bind_SessionImage_Serialize_0=u=>(Du=d._emscripten_bind_SessionImage_Serialize_0=A.dc)(u),rf=d._emscripten_bind_SessionImage_GetSerializedImage_0=u=>(rf=d._emscripten_bind_SessionImage_GetSerializedImage_0=A.ec)(u),sf=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=u=>(sf=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=A.fc)(u),ql=d._emscripten_bind_SessionImage_Deserialize_2=(u,b,Y)=>(ql=d._emscripten_bind_SessionImage_Deserialize_2=A.gc)(u,b,Y),af=d._emscripten_bind_SessionImage___destroy___0=u=>(af=d._emscripten_bind_SessionImage___destroy___0=A.hc)(u),lf=d._emscripten_bind_SkinLoader_SkinLoader_1=u=>(lf=d._emscripten_bind_SkinLoader_SkinLoader_1=A.ic)(u),xh=d._emscripten_bind_SkinLoader_GetData_0=u=>(xh=d._emscripten_bind_SkinLoader_GetData_0=A.jc)(u),cf=d._emscripten_bind_SkinLoader_GetSize_0=u=>(cf=d._emscripten_bind_SkinLoader_GetSize_0=A.kc)(u),Th=d._emscripten_bind_SkinLoader___destroy___0=u=>(Th=d._emscripten_bind_SkinLoader___destroy___0=A.lc)(u),Mh=d._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=u=>(Mh=d._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=A.mc)(u),Ji=d._emscripten_bind_EmTransportSerialBuffer_Receive_0=u=>(Ji=d._emscripten_bind_EmTransportSerialBuffer_Receive_0=A.nc)(u),Ah=d._emscripten_bind_EmTransportSerialBuffer_Send_3=(u,b,Y,We)=>(Ah=d._emscripten_bind_EmTransportSerialBuffer_Send_3=A.oc)(u,b,Y,We),uf=d._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=u=>(uf=d._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=A.pc)(u),kh=d._emscripten_bind_EmTransportSerialBuffer_Rts_0=u=>(kh=d._emscripten_bind_EmTransportSerialBuffer_Rts_0=A.qc)(u),Rh=d._emscripten_bind_EmTransportSerialBuffer_Dtr_0=u=>(Rh=d._emscripten_bind_EmTransportSerialBuffer_Dtr_0=A.rc)(u),Ph=d._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=u=>(Ph=d._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=A.sc)(u),Oh=d._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=u=>(Oh=d._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=A.tc)(u),df=d._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=u=>(df=d._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=A.uc)(u),Fh=d._emscripten_bind_EmTransportSerialBuffer_GetParity_0=u=>(Fh=d._emscripten_bind_EmTransportSerialBuffer_GetParity_0=A.vc)(u),Nh=d._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=u=>(Nh=d._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=A.wc)(u),Lh=d._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=u=>(Lh=d._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=A.xc)(u),Ze=d._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=u=>(Ze=d._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=A.yc)(u),$h=d._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=u=>($h=d._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=A.zc)(u),Bh=d._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=(u,b)=>(Bh=d._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=A.Ac)(u,b),eo=d._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=u=>(eo=d._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=A.Bc)(u),ff=d._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=(u,b)=>(ff=d._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=A.Cc)(u,b),Rt=d._emscripten_bind_EmTransportSerialBuffer___destroy___0=u=>(Rt=d._emscripten_bind_EmTransportSerialBuffer___destroy___0=A.Dc)(u),Do=d._emscripten_bind_GunzipContext_GunzipContext_3=(u,b,Y)=>(Do=d._emscripten_bind_GunzipContext_GunzipContext_3=A.Ec)(u,b,Y),Sn=d._emscripten_bind_GunzipContext_GetState_0=u=>(Sn=d._emscripten_bind_GunzipContext_GetState_0=A.Fc)(u),_o=d._emscripten_bind_GunzipContext_Continue_0=u=>(_o=d._emscripten_bind_GunzipContext_Continue_0=A.Gc)(u),Oo=d._emscripten_bind_GunzipContext_GetUncompressedData_0=u=>(Oo=d._emscripten_bind_GunzipContext_GetUncompressedData_0=A.Hc)(u),ua=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=u=>(ua=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=A.Ic)(u),Zo=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=u=>(Zo=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=A.Jc)(u),pf=d._emscripten_bind_GunzipContext_GetError_0=u=>(pf=d._emscripten_bind_GunzipContext_GetError_0=A.Kc)(u),hf=d._emscripten_bind_GunzipContext___destroy___0=u=>(hf=d._emscripten_bind_GunzipContext___destroy___0=A.Lc)(u),Rc=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(u,b)=>(Rc=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=A.Mc)(u,b),Vh=d._emscripten_bind_ZipfileWalker_GetState_0=u=>(Vh=d._emscripten_bind_ZipfileWalker_GetState_0=A.Nc)(u),jh=d._emscripten_bind_ZipfileWalker_Next_0=u=>(jh=d._emscripten_bind_ZipfileWalker_Next_0=A.Oc)(u),to=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=u=>(to=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=A.Pc)(u),lt=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=u=>(lt=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=A.Qc)(u),Wt=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=u=>(Wt=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=A.Rc)(u),Vr=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=u=>(Vr=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=A.Sc)(u),es=d._emscripten_bind_ZipfileWalker___destroy___0=u=>(es=d._emscripten_bind_ZipfileWalker___destroy___0=A.Tc)(u),qo=u=>(qo=A.Vc)(u),ts=()=>(ts=A.Wc)(),La=()=>(La=A.Xc)(),xr=()=>(xr=A.Yc)();function mf(){function u(){da||(da=!0,d.calledRun=!0,!ie&&(function Be(){fe(),dr(he)}(),function it(){fe(),dr(xe)}(),Z(d),d.onRuntimeInitialized?.(),vl&&function un(){var u=St;try{var We=u(0,0);return bn(We),We}catch(Vt){return(u=>{if(u instanceof ei||"unwind"==u)return ke;fe(),u instanceof WebAssembly.RuntimeError&&xr()<=0&&k("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),M(1,u)})(Vt)}}(),function Ue(){if(fe(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)u=d.postRun.shift(),qe.unshift(u);var u;dr(qe)}()))}ye>0||(function Pc(){ts(),function tt(){var u=La();0==u&&(u+=4),D[u>>2]=34821223,D[u+4>>2]=2310721022,D[0]=1668509029}()}(),function de(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)u=d.preRun.shift(),Oe.unshift(u);var u;dr(Oe)}(),ye>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),u()},1)):u(),fe())}if(d.___original_main=()=>(d.___original_main=A.Zc)(),d.addFunction=(u,b)=>{var Y=(u=>(g||(g=new WeakMap,((u,b)=>{if(g)for(var Y=0;Y<0+b;Y++){var We=vt(Y);We&&g.set(We,Y)}})(0,Xr.length)),g.get(u)||0))(u);if(Y)return Y;var We=(()=>{if(z.length)return z.pop();try{Xr.grow(1)}catch(u){throw u instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":u}return Xr.length-1})();try{Pe(We,u)}catch(Dn){if(!(Dn instanceof TypeError))throw Dn;var Vt=((u,b)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((u=>{for(var b={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Y={parameters:[],results:"v"==u[0]?[]:[b[u[0]]]},We=1;We<u.length;++We)Y.parameters.push(b[u[We]]);return Y})(b),u);var Y=[1];((u,b)=>{var Y=u.slice(0,1),We=u.slice(1),Vt={i:127,p:127,j:126,f:125,d:124,e:111};b.push(96),nt(We.length,b);for(var Dn=0;Dn<We.length;++Dn)b.push(Vt[We[Dn]]);"v"==Y?b.push(0):b.push(1,Vt[Y])})(b,Y);var We=[0,97,115,109,1,0,0,0,1];nt(Y.length,We),We.push(...Y),We.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Vt=new WebAssembly.Module(new Uint8Array(We));return new WebAssembly.Instance(Vt,{e:{f:u}}).exports.f})(u,b);Pe(We,Vt)}return g.set(u,We),We},d.UTF8ToString=Ut,we=function u(){da||mf(),da||(we=u)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var vl=!0;function sn(){}function xi(u){return(u||sn).__cache__}function dn(u,b){var Y=xi(b),We=Y[u];return We||((We=Object.create((b||sn).prototype)).ptr=u,Y[u]=We)}d.noInitialRun&&(vl=!1),mf(),(sn.prototype=Object.create(sn.prototype)).constructor=sn,sn.prototype.__class__=sn,sn.__cache__={},d.WrapperObject=sn,d.getCache=xi,d.wrapPointer=dn,d.castObject=function js(u,b){return dn(u.ptr,b)},d.NULL=dn(0),d.destroy=function Oc(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete xi(u.__class__)[u.ptr]},d.compare=function Gh(u,b){return u.ptr===b.ptr},d.getPointer=function $a(u){return u.ptr},d.getClass=function Iu(u){return u.__class__};var en={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(en.needed){for(var u=0;u<en.temps.length;u++)d._webidl_free(en.temps[u]);en.temps.length=0,d._webidl_free(en.buffer),en.buffer=0,en.size+=en.needed,en.needed=0}en.buffer||(en.size+=128,en.buffer=d._webidl_malloc(en.size),Le(en.buffer)),en.pos=0},alloc(u,b){Le(en.buffer);var Vt,We=u.length*b.BYTES_PER_ELEMENT;return We=((u,b)=>8*Math.ceil(u/8))(We),en.pos+We>=en.size?(Le(We>0),en.needed+=We,Vt=d._webidl_malloc(We),en.temps.push(Vt)):(Vt=en.buffer+en.pos,en.pos+=We),Vt},copy(u,b,Y){Y/=b.BYTES_PER_ELEMENT;for(var We=0;We<u.length;We++)b[Y+We]=u[We]}};function $t(u){if("string"==typeof u){var b=function us(u,b,Y){var We=Y>0?Y:Xs(u)+1,Vt=new Array(We),Dn=yn(u,Vt,0,Vt.length);return b&&(Vt.length=Dn),Vt}(u),Y=en.alloc(b,N);return en.copy(b,N,Y),Y}return u}function Qn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Fe(){this.ptr=kr(),xi(Fe)[this.ptr]=this}function nr(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),this.ptr=Dr(u,b),xi(nr)[this.ptr]=this}function An(){throw"cannot construct a Frame, no constructor in IDL"}function rr(){throw"cannot construct a DbBackup, no constructor in IDL"}function Nn(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Io(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function sr(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function Bn(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function oi(){throw"cannot construct a SuspendContextSerialSync, no constructor in IDL"}function ar(){throw"cannot construct a SuspendContext, no constructor in IDL"}function zt(){this.ptr=wh(),xi(zt)[this.ptr]=this}function Ur(u){en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),this.ptr=lf(u),xi(Ur)[this.ptr]=this}function ln(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function io(u,b,Y){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),Y&&"object"==typeof Y&&(Y=Y.ptr),this.ptr=Do(u,b,Y),xi(io)[this.ptr]=this}function so(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),this.ptr=Rc(u,b),xi(so)[this.ptr]=this}return(Qn.prototype=Object.create(sn.prototype)).constructor=Qn,Qn.prototype.__class__=Qn,Qn.__cache__={},d.VoidPtr=Qn,Qn.prototype.__destroy__=Qn.prototype.__destroy__=function(){gr(this.ptr)},(Fe.prototype=Object.create(sn.prototype)).constructor=Fe,Fe.prototype.__class__=Fe,Fe.__cache__={},d.Cloudpilot=Fe,Fe.prototype.Malloc=Fe.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),dn(Gr(this.ptr,u),Qn)},Fe.prototype.Free=Fe.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),zn(this.ptr,u)},Fe.prototype.Nullptr=Fe.prototype.Nullptr=function(){return dn(qi(this.ptr),Qn)},Fe.prototype.InitializeSession=Fe.prototype.InitializeSession=function(u,b,Y){var We=this.ptr;return en.prepare(),u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),Y=Y&&"object"==typeof Y?Y.ptr:$t(Y),!!Pn(We,u,b,Y)},Fe.prototype.GetCyclesPerSecond=Fe.prototype.GetCyclesPerSecond=function(){return Po(this.ptr)},Fe.prototype.RunEmulation=Fe.prototype.RunEmulation=function(u){return u&&"object"==typeof u&&(u=u.ptr),Eo(this.ptr,u)},Fe.prototype.SetClockFactor=Fe.prototype.SetClockFactor=function(u){u&&"object"==typeof u&&(u=u.ptr),Ki(this.ptr,u)},Fe.prototype.CopyFrame=Fe.prototype.CopyFrame=function(){return dn(xa(this.ptr),An)},Fe.prototype.IsScreenDirty=Fe.prototype.IsScreenDirty=function(){return!!Js(this.ptr)},Fe.prototype.MarkScreenClean=Fe.prototype.MarkScreenClean=function(){Os(this.ptr)},Fe.prototype.MinMemoryForDevice=Fe.prototype.MinMemoryForDevice=function(u){var b=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),ea(b,u)},Fe.prototype.FramebufferSizeForDevice=Fe.prototype.FramebufferSizeForDevice=function(u){var b=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),Yi(b,u)},Fe.prototype.TotalMemoryForDevice=Fe.prototype.TotalMemoryForDevice=function(u){var b=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),Ta(b,u)},Fe.prototype.QueuePenMove=Fe.prototype.QueuePenMove=function(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),ta(this.ptr,u,b)},Fe.prototype.QueuePenUp=Fe.prototype.QueuePenUp=function(){na(this.ptr)},Fe.prototype.QueueButtonDown=Fe.prototype.QueueButtonDown=function(u){u&&"object"==typeof u&&(u=u.ptr),Ma(this.ptr,u)},Fe.prototype.QueueButtonUp=Fe.prototype.QueueButtonUp=function(u){u&&"object"==typeof u&&(u=u.ptr),Aa(this.ptr,u)},Fe.prototype.QueueKeyboardEvent=Fe.prototype.QueueKeyboardEvent=function(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),ka(this.ptr,u,b)},Fe.prototype.IsPowerOff=Fe.prototype.IsPowerOff=function(){return!!Ra(this.ptr)},Fe.prototype.IsUIInitialized=Fe.prototype.IsUIInitialized=function(){return!!ra(this.ptr)},Fe.prototype.GetOSVersion=Fe.prototype.GetOSVersion=function(){return Pa(this.ptr)},Fe.prototype.IsSetupComplete=Fe.prototype.IsSetupComplete=function(){return!!Oa(this.ptr)},Fe.prototype.Reset=Fe.prototype.Reset=function(){Sr(this.ptr)},Fe.prototype.ResetNoExtensions=Fe.prototype.ResetNoExtensions=function(){oa(this.ptr)},Fe.prototype.ResetHard=Fe.prototype.ResetHard=function(){fo(this.ptr)},Fe.prototype.InstallDb=Fe.prototype.InstallDb=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),jt(this.ptr,u,b)},Fe.prototype.GetPalette2bitMapping=Fe.prototype.GetPalette2bitMapping=function(){return ia(this.ptr)},Fe.prototype.GetMemoryPtr=Fe.prototype.GetMemoryPtr=function(){return dn(Fs(this.ptr),Qn)},Fe.prototype.GetDirtyPagesPtr=Fe.prototype.GetDirtyPagesPtr=function(){return dn(Qr(this.ptr),Qn)},Fe.prototype.GetMemorySize=Fe.prototype.GetMemorySize=function(){return Ns(this.ptr)},Fe.prototype.ImportMemoryImage=Fe.prototype.ImportMemoryImage=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),!!Fa(this.ptr,u,b)},Fe.prototype.GetRomPtr=Fe.prototype.GetRomPtr=function(){return dn(On(this.ptr),Qn)},Fe.prototype.GetRomSize=Fe.prototype.GetRomSize=function(){return fs(this.ptr)},Fe.prototype.GetSavestatePtr=Fe.prototype.GetSavestatePtr=function(){return dn(wr(this.ptr),Qn)},Fe.prototype.GetSavestateSize=Fe.prototype.GetSavestateSize=function(){return Ls(this.ptr)},Fe.prototype.SaveState=Fe.prototype.SaveState=function(){return!!dl(this.ptr)},Fe.prototype.LoadState=Fe.prototype.LoadState=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),!!Na(this.ptr,u,b)},Fe.prototype.GetHotsyncName=Fe.prototype.GetHotsyncName=function(){return Ut($n(this.ptr))},Fe.prototype.SetHotsyncName=Fe.prototype.SetHotsyncName=function(u){var b=this.ptr;en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),Ht(b,u)},Fe.prototype.RegisterPwmHandler=Fe.prototype.RegisterPwmHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),ps(this.ptr,u)},Fe.prototype.StartBackup=Fe.prototype.StartBackup=function(){return dn($s(this.ptr),rr)},Fe.prototype.SetClipboardIntegration=Fe.prototype.SetClipboardIntegration=function(u){u&&"object"==typeof u&&(u=u.ptr),fl(this.ptr,u)},Fe.prototype.GetClipboardIntegration=Fe.prototype.GetClipboardIntegration=function(){return!!Bs(this.ptr)},Fe.prototype.IsSuspended=Fe.prototype.IsSuspended=function(){return!!Ke(this.ptr)},Fe.prototype.GetSuspendContext=Fe.prototype.GetSuspendContext=function(){return dn(Xi(this.ptr),ar)},Fe.prototype.SetNetworkRedirection=Fe.prototype.SetNetworkRedirection=function(u){u&&"object"==typeof u&&(u=u.ptr),vi(this.ptr,u)},Fe.prototype.GetNetworkRedirection=Fe.prototype.GetNetworkRedirection=function(){return!!sa(this.ptr)},Fe.prototype.RegisterProxyDisconnectHandler=Fe.prototype.RegisterProxyDisconnectHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),aa(this.ptr,u)},Fe.prototype.SetHotsyncNameManagement=Fe.prototype.SetHotsyncNameManagement=function(u){u&&"object"==typeof u&&(u=u.ptr),la(this.ptr,u)},Fe.prototype.LaunchAppByName=Fe.prototype.LaunchAppByName=function(u){var b=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),!!ni(b,u)},Fe.prototype.LaunchAppByDbHeader=Fe.prototype.LaunchAppByDbHeader=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),!!_r(this.ptr,u,b)},Fe.prototype.DeviceSupportsCardSize=Fe.prototype.DeviceSupportsCardSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!Wo(this.ptr,u)},Fe.prototype.ClearExternalStorage=Fe.prototype.ClearExternalStorage=function(){Ft(this.ptr)},Fe.prototype.AllocateCard=Fe.prototype.AllocateCard=function(u,b){var Y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),b&&"object"==typeof b&&(b=b.ptr),!!Mn(Y,u,b)},Fe.prototype.AdoptCard=Fe.prototype.AdoptCard=function(u,b,Y){var We=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),b&&"object"==typeof b&&(b=b.ptr),Y&&"object"==typeof Y&&(Y=Y.ptr),!!Gl(We,u,b,Y)},Fe.prototype.MountCard=Fe.prototype.MountCard=function(u){var b=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),!!pl(b,u)},Fe.prototype.RemoveCard=Fe.prototype.RemoveCard=function(u){var b=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),!!hl(b,u)},Fe.prototype.GetCardData=Fe.prototype.GetCardData=function(u){var b=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),dn(Ul(b,u),Qn)},Fe.prototype.GetCardDirtyPages=Fe.prototype.GetCardDirtyPages=function(u){var b=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),dn(jn(b,u),Qn)},Fe.prototype.GetCardSize=Fe.prototype.GetCardSize=function(u){var b=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),hs(b,u)},Fe.prototype.RemountCards=Fe.prototype.RemountCards=function(){Tn(this.ptr)},Fe.prototype.GetSupportLevel=Fe.prototype.GetSupportLevel=function(u){return u&&"object"==typeof u&&(u=u.ptr),po(this.ptr,u)},Fe.prototype.GetMountedKey=Fe.prototype.GetMountedKey=function(){return Ut(ho(this.ptr))},Fe.prototype.GetTransportIR=Fe.prototype.GetTransportIR=function(){return dn(Er(this.ptr),ln)},Fe.prototype.GetTransportSerial=Fe.prototype.GetTransportSerial=function(){return dn(Gn(this.ptr),ln)},Fe.prototype.__destroy__=Fe.prototype.__destroy__=function(){or(this.ptr)},(nr.prototype=Object.create(sn.prototype)).constructor=nr,nr.prototype.__class__=nr,nr.__cache__={},d.RomInfo=nr,nr.prototype.IsValid=nr.prototype.IsValid=function(){return!!Ir(this.ptr)},nr.prototype.CardVersion=nr.prototype.CardVersion=function(){return v(this.ptr)},nr.prototype.CardName=nr.prototype.CardName=function(){return Ut(q(this.ptr))},nr.prototype.RomVersion=nr.prototype.RomVersion=function(){return ae(this.ptr)},nr.prototype.RomVersionString=nr.prototype.RomVersionString=function(){return Ut(rt(this.ptr))},nr.prototype.Supports=nr.prototype.Supports=function(u){var b=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),!!bt(b,u)},nr.prototype.__destroy__=nr.prototype.__destroy__=function(){Jt(this.ptr)},(An.prototype=Object.create(sn.prototype)).constructor=An,An.prototype.__class__=An,An.__cache__={},d.Frame=An,An.prototype.GetLineWidth=An.prototype.GetLineWidth=function(){return ut(this.ptr)},An.prototype.GetBpp=An.prototype.GetBpp=function(){return pn(this.ptr)},An.prototype.GetLines=An.prototype.GetLines=function(){return Ot(this.ptr)},An.prototype.GetMargin=An.prototype.GetMargin=function(){return Xn(this.ptr)},An.prototype.GetBytesPerLine=An.prototype.GetBytesPerLine=function(){return Jr(this.ptr)},An.prototype.GetFirstDirtyLine=An.prototype.GetFirstDirtyLine=function(){return $e(this.ptr)},An.prototype.GetLastDirtyLine=An.prototype.GetLastDirtyLine=function(){return kt(this.ptr)},An.prototype.GetHasChanges=An.prototype.GetHasChanges=function(){return!!on(this.ptr)},An.prototype.GetBuffer=An.prototype.GetBuffer=function(){return dn(Un(this.ptr),Qn)},An.prototype.GetBufferSize=An.prototype.GetBufferSize=function(){return Br(this.ptr)},An.prototype.GetScaleX=An.prototype.GetScaleX=function(){return ir(this.ptr)},An.prototype.GetScaleY=An.prototype.GetScaleY=function(){return Wn(this.ptr)},An.prototype.__destroy__=An.prototype.__destroy__=function(){h(this.ptr)},(rr.prototype=Object.create(sn.prototype)).constructor=rr,rr.prototype.__class__=rr,rr.__cache__={},d.DbBackup=rr,rr.prototype.Init=rr.prototype.Init=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!L(this.ptr,u)},rr.prototype.IsInProgress=rr.prototype.IsInProgress=function(){return!!ve(this.ptr)},rr.prototype.IsDone=rr.prototype.IsDone=function(){return!!Je(this.ptr)},rr.prototype.GetCurrentDatabase=rr.prototype.GetCurrentDatabase=function(){return Ut(Lt(this.ptr))},rr.prototype.Save=rr.prototype.Save=function(){return!!Mt(this.ptr)},rr.prototype.Skip=rr.prototype.Skip=function(){Fn(this.ptr)},rr.prototype.GetArchivePtr=rr.prototype.GetArchivePtr=function(){return dn(hn(this.ptr),Qn)},rr.prototype.GetArchiveSize=rr.prototype.GetArchiveSize=function(){return En(this.ptr)},rr.prototype.__destroy__=rr.prototype.__destroy__=function(){ri(this.ptr)},(Nn.prototype=Object.create(sn.prototype)).constructor=Nn,Nn.prototype.__class__=Nn,Nn.__cache__={},d.SuspendContextClipboardCopy=Nn,Nn.prototype.Cancel=Nn.prototype.Cancel=function(){Hl(this.ptr)},Nn.prototype.Resume=Nn.prototype.Resume=function(){Hn(this.ptr)},Nn.prototype.GetClipboardContent=Nn.prototype.GetClipboardContent=function(){return Ut(ml(this.ptr))},Nn.prototype.__destroy__=Nn.prototype.__destroy__=function(){bu(this.ptr)},(Io.prototype=Object.create(sn.prototype)).constructor=Io,Io.prototype.__class__=Io,Io.__cache__={},d.SuspendContextClipboardPaste=Io,Io.prototype.Cancel=Io.prototype.Cancel=function(){dt(this.ptr)},Io.prototype.Resume=Io.prototype.Resume=function(u){var b=this.ptr;en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),gl(b,u)},Io.prototype.__destroy__=Io.prototype.__destroy__=function(){zl(this.ptr)},(sr.prototype=Object.create(sn.prototype)).constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},d.SuspendContextNetworkConnect=sr,sr.prototype.Cancel=sr.prototype.Cancel=function(){Tc(this.ptr)},sr.prototype.Resume=sr.prototype.Resume=function(u){var b=this.ptr;en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),Cu(b,u)},sr.prototype.__destroy__=sr.prototype.__destroy__=function(){vh(this.ptr)},(Bn.prototype=Object.create(sn.prototype)).constructor=Bn,Bn.prototype.__class__=Bn,Bn.__cache__={},d.SuspendContextNetworkRpc=Bn,Bn.prototype.Cancel=Bn.prototype.Cancel=function(){Su(this.ptr)},Bn.prototype.GetRequestSize=Bn.prototype.GetRequestSize=function(){return q_(this.ptr)},Bn.prototype.GetRequestData=Bn.prototype.GetRequestData=function(){return dn(K_(this.ptr),Qn)},Bn.prototype.ReceiveResponse=Bn.prototype.ReceiveResponse=function(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),Y_(this.ptr,u,b)},Bn.prototype.__destroy__=Bn.prototype.__destroy__=function(){X_(this.ptr)},(oi.prototype=Object.create(sn.prototype)).constructor=oi,oi.prototype.__class__=oi,oi.__cache__={},d.SuspendContextSerialSync=oi,oi.prototype.Cancel=oi.prototype.Cancel=function(){Q_(this.ptr)},oi.prototype.Resume=oi.prototype.Resume=function(){Wl(this.ptr)},oi.prototype.__destroy__=oi.prototype.__destroy__=function(){wu(this.ptr)},(ar.prototype=Object.create(sn.prototype)).constructor=ar,ar.prototype.__class__=ar,ar.__cache__={},d.SuspendContext=ar,ar.prototype.GetKind=ar.prototype.GetKind=function(){return Mc(this.ptr)},ar.prototype.Cancel=ar.prototype.Cancel=function(){yh(this.ptr)},ar.prototype.AsContextClipboardCopy=ar.prototype.AsContextClipboardCopy=function(){return dn(bh(this.ptr),Nn)},ar.prototype.AsContextClipboardPaste=ar.prototype.AsContextClipboardPaste=function(){return dn(Ch(this.ptr),Io)},ar.prototype.AsContextNetworkConnect=ar.prototype.AsContextNetworkConnect=function(){return dn(ef(this.ptr),sr)},ar.prototype.AsContextNetworkRpc=ar.prototype.AsContextNetworkRpc=function(){return dn(_l(this.ptr),Bn)},ar.prototype.AsContextSerialSync=ar.prototype.AsContextSerialSync=function(){return dn(Sh(this.ptr),oi)},ar.prototype.__destroy__=ar.prototype.__destroy__=function(){ca(this.ptr)},(zt.prototype=Object.create(sn.prototype)).constructor=zt,zt.prototype.__class__=zt,zt.__cache__={},d.SessionImage=zt,zt.prototype.GetDeviceId=zt.prototype.GetDeviceId=function(){return Ut(le(this.ptr))},zt.prototype.SetDeviceId=zt.prototype.SetDeviceId=function(u){var b=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:$t(u),dn(tf(b,u),zt)},zt.prototype.GetRomImage=zt.prototype.GetRomImage=function(){return dn(ot(this.ptr),Qn)},zt.prototype.GetRomImageSize=zt.prototype.GetRomImageSize=function(){return Ac(this.ptr)},zt.prototype.SetRomImage=zt.prototype.SetRomImage=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),dn(Eu(this.ptr,u,b),zt)},zt.prototype.GetMemoryImage=zt.prototype.GetMemoryImage=function(){return dn(Zl(this.ptr),Qn)},zt.prototype.GetMemoryImageSize=zt.prototype.GetMemoryImageSize=function(){return Eh(this.ptr)},zt.prototype.SetMemoryImage=zt.prototype.SetMemoryImage=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),dn(Dh(this.ptr,u,b),zt)},zt.prototype.GetMetadata=zt.prototype.GetMetadata=function(){return dn(Ih(this.ptr),Qn)},zt.prototype.GetMetadataSize=zt.prototype.GetMetadataSize=function(){return Vs(this.ptr)},zt.prototype.SetMetadata=zt.prototype.SetMetadata=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),dn(kc(this.ptr,u,b),zt)},zt.prototype.GetSavestate=zt.prototype.GetSavestate=function(){return dn(Qi(this.ptr),Qn)},zt.prototype.GetSavestateSize=zt.prototype.GetSavestateSize=function(){return ms(this.ptr)},zt.prototype.SetSavestate=zt.prototype.SetSavestate=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),dn(Zn(this.ptr,u,b),zt)},zt.prototype.GetVersion=zt.prototype.GetVersion=function(){return nf(this.ptr)},zt.prototype.Serialize=zt.prototype.Serialize=function(){return!!Du(this.ptr)},zt.prototype.GetSerializedImage=zt.prototype.GetSerializedImage=function(){return dn(rf(this.ptr),Qn)},zt.prototype.GetSerializedImageSize=zt.prototype.GetSerializedImageSize=function(){return sf(this.ptr)},zt.prototype.Deserialize=zt.prototype.Deserialize=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),!!ql(this.ptr,u,b)},zt.prototype.__destroy__=zt.prototype.__destroy__=function(){af(this.ptr)},(Ur.prototype=Object.create(sn.prototype)).constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},d.SkinLoader=Ur,Ur.prototype.GetData=Ur.prototype.GetData=function(){return dn(xh(this.ptr),Qn)},Ur.prototype.GetSize=Ur.prototype.GetSize=function(){return cf(this.ptr)},Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){Th(this.ptr)},(ln.prototype=Object.create(sn.prototype)).constructor=ln,ln.prototype.__class__=ln,ln.__cache__={},d.EmTransportSerialBuffer=ln,ln.prototype.RxBytesPending=ln.prototype.RxBytesPending=function(){return Mh(this.ptr)},ln.prototype.Receive=ln.prototype.Receive=function(){return dn(Ji(this.ptr),Qn)},ln.prototype.Send=ln.prototype.Send=function(u,b,Y){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),Y&&"object"==typeof Y&&(Y=Y.ptr),Ah(this.ptr,u,b,Y)},ln.prototype.IsOpen=ln.prototype.IsOpen=function(){return!!uf(this.ptr)},ln.prototype.Rts=ln.prototype.Rts=function(){return kh(this.ptr)},ln.prototype.Dtr=ln.prototype.Dtr=function(){return!!Rh(this.ptr)},ln.prototype.IsBreak=ln.prototype.IsBreak=function(){return!!Ph(this.ptr)},ln.prototype.BufferSize=ln.prototype.BufferSize=function(){return Oh(this.ptr)},ln.prototype.GetBaud=ln.prototype.GetBaud=function(){return df(this.ptr)},ln.prototype.GetParity=ln.prototype.GetParity=function(){return Fh(this.ptr)},ln.prototype.GetStopBits=ln.prototype.GetStopBits=function(){return Nh(this.ptr)},ln.prototype.GetDataBits=ln.prototype.GetDataBits=function(){return Lh(this.ptr)},ln.prototype.GetHwrHandshake=ln.prototype.GetHwrHandshake=function(){return Ze(this.ptr)},ln.prototype.GetModeSync=ln.prototype.GetModeSync=function(){return!!$h(this.ptr)},ln.prototype.SetModeSync=ln.prototype.SetModeSync=function(u){u&&"object"==typeof u&&(u=u.ptr),Bh(this.ptr,u)},ln.prototype.IsFrameComplete=ln.prototype.IsFrameComplete=function(){return!!eo(this.ptr)},ln.prototype.SetRequestTransferCallback=ln.prototype.SetRequestTransferCallback=function(u){u&&"object"==typeof u&&(u=u.ptr),ff(this.ptr,u)},ln.prototype.__destroy__=ln.prototype.__destroy__=function(){Rt(this.ptr)},(io.prototype=Object.create(sn.prototype)).constructor=io,io.prototype.__class__=io,io.__cache__={},d.GunzipContext=io,io.prototype.GetState=io.prototype.GetState=function(){return Sn(this.ptr)},io.prototype.Continue=io.prototype.Continue=function(){return _o(this.ptr)},io.prototype.GetUncompressedData=io.prototype.GetUncompressedData=function(){return dn(Oo(this.ptr),Qn)},io.prototype.ReleaseUncompressedData=io.prototype.ReleaseUncompressedData=function(){return dn(ua(this.ptr),Qn)},io.prototype.GetUncompressedSize=io.prototype.GetUncompressedSize=function(){return Zo(this.ptr)},io.prototype.GetError=io.prototype.GetError=function(){return Ut(pf(this.ptr))},io.prototype.__destroy__=io.prototype.__destroy__=function(){hf(this.ptr)},(so.prototype=Object.create(sn.prototype)).constructor=so,so.prototype.__class__=so,so.__cache__={},d.ZipfileWalker=so,so.prototype.GetState=so.prototype.GetState=function(){return Vh(this.ptr)},so.prototype.Next=so.prototype.Next=function(){return jh(this.ptr)},so.prototype.GetTotalEntries=so.prototype.GetTotalEntries=function(){return to(this.ptr)},so.prototype.GetCurrentEntrySize=so.prototype.GetCurrentEntrySize=function(){return lt(this.ptr)},so.prototype.GetCurrentEntryName=so.prototype.GetCurrentEntryName=function(){return Ut(Wt(this.ptr))},so.prototype.GetCurrentEntryContent=so.prototype.GetCurrentEntryContent=function(){return dn(Vr(this.ptr),Qn)},so.prototype.__destroy__=so.prototype.__destroy__=function(){es(this.ptr)},O});be.exports=Ae},3097:be=>{var C,Ae=(C=typeof document<"u"?document.currentScript?.src:void 0,function(w={}){var Z,B,De,te,d=w,O=new Promise((v,q)=>{Z=v,B=q}),I="object"==typeof window,x="function"==typeof importScripts,G=("object"==typeof process&&"object"==typeof process.versions&&process,Object.assign({},d)),j="./this.program",M=(v,q)=>{throw q},F="";(I||x)&&(x?F=self.location.href:typeof document<"u"&&document.currentScript&&(F=document.currentScript.src),C&&(F=C),F=F.startsWith("blob:")?"":F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1),x&&(te=v=>{var q=new XMLHttpRequest;return q.open("GET",v,!1),q.responseType="arraybuffer",q.send(null),new Uint8Array(q.response)}),De=v=>fetch(v,{credentials:"same-origin"}).then(q=>q.ok?q.arrayBuffer():Promise.reject(new Error(q.status+" : "+q.url))));var ee,W=d.print||console.log.bind(console),k=d.printErr||console.error.bind(console);Object.assign(d,G),G=null,d.thisProgram&&(j=d.thisProgram),d.quit&&(M=d.quit),d.wasmBinary&&(ee=d.wasmBinary);var ce,ke,N,P,S,D,me,ie=!1;function Le(v,q){v||Et(q)}function Ge(){var v=ce.buffer;d.HEAP8=N=new Int8Array(v),d.HEAP16=new Int16Array(v),d.HEAPU8=P=new Uint8Array(v),d.HEAPU16=new Uint16Array(v),d.HEAP32=S=new Int32Array(v),d.HEAPU32=D=new Uint32Array(v),d.HEAPF32=new Float32Array(v),d.HEAPF64=me=new Float64Array(v)}function fe(){if(!ie){var v=Bs();0==v&&(v+=4);var q=D[v>>2],ae=D[v+4>>2];(34821223!=q||2310721022!=ae)&&Et(`Stack overflow! Stack cookie has been overwritten at ${Ut(v)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Ut(ae)} ${Ut(q)}`),1668509029!=D[0]&&Et("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Oe=[],he=[],xe=[],qe=[],ye=0,Ie=null,we=null;function Et(v){d.onAbort?.(v),k(v="Aborted("+v+")"),ie=!0,ke=1,v+=". Build with -sASSERTIONS for more info.";var q=new WebAssembly.RuntimeError(v);throw B(q),q}var Fr,Yt=v=>v.startsWith("data:application/octet-stream;base64,"),Qt=0;function an(v){return(...q)=>{if(ie)throw"program has already aborted!";Qt+=1;try{return v(...q)}catch(ae){if(ie||Qt>1||ae===1/0||"unwind"===ae)throw ae;Et("unhandled exception: "+[ae,ae.stack])}finally{Qt-=1}}}function mo(v){if(v==Fr&&ee)return new Uint8Array(ee);if(te)return te(v);throw"both async and sync fetching of the wasm failed"}function tr(v,q,ae){return function Nr(v){return ee?Promise.resolve().then(()=>mo(v)):De(v).then(q=>new Uint8Array(q),()=>mo(v))}(v).then(rt=>WebAssembly.instantiate(rt,q)).then(ae,rt=>{k(`failed to asynchronously prepare wasm: ${rt}`),Et(rt)})}var dr,oo={46051:()=>{throw new Error("terminated")}};function Te(v){this.name="ExitStatus",this.message=`Program terminated with exit(${v})`,this.status=v}var In,vi,Me=v=>{for(;v.length>0;)v.shift()(d)},nn=d.noExitRuntime||!0,Ut=v=>"0x"+(v>>>=0).toString(16).padStart(8,"0"),Xt=typeof TextDecoder<"u"?new TextDecoder:void 0,Yn=(v,q,ae)=>{for(var rt=q+ae,bt=q;v[bt]&&!(bt>=rt);)++bt;if(bt-q>16&&v.buffer&&Xt)return Xt.decode(v.subarray(q,bt));for(var Jt="";q<bt;){var ut=v[q++];if(128&ut){var pn=63&v[q++];if(192!=(224&ut)){var Ot=63&v[q++];if((ut=224==(240&ut)?(15&ut)<<12|pn<<6|Ot:(7&ut)<<18|pn<<12|Ot<<6|63&v[q++])<65536)Jt+=String.fromCharCode(ut);else{var Xn=ut-65536;Jt+=String.fromCharCode(55296|Xn>>10,56320|1023&Xn)}}else Jt+=String.fromCharCode((31&ut)<<6|pn)}else Jt+=String.fromCharCode(ut)}return Jt},Vn=(v,q)=>v?Yn(P,v,q):"",Kr=(v,q)=>q+2097152>>>0<4194305-!!v?(v>>>0)+4294967296*q:NaN,jo={varargs:void 0,getStr:v=>Vn(v)},Mr=[0,31,60,91,121,152,182,213,244,274,305,335],yn=[0,31,59,90,120,151,181,212,243,273,304,334],_n=v=>((v=>v%4==0&&(v%100!=0||v%400==0))(v.getFullYear())?Mr:yn)[v.getMonth()]+v.getDate()-1,mi=(v,q,ae,rt)=>{if(!(rt>0))return 0;for(var bt=ae,Jt=ae+rt-1,ut=0;ut<v.length;++ut){var pn=v.charCodeAt(ut);if(pn>=55296&&pn<=57343&&(pn=65536+((1023&pn)<<10)|1023&v.charCodeAt(++ut)),pn<=127){if(ae>=Jt)break;q[ae++]=pn}else if(pn<=2047){if(ae+1>=Jt)break;q[ae++]=192|pn>>6,q[ae++]=128|63&pn}else if(pn<=65535){if(ae+2>=Jt)break;q[ae++]=224|pn>>12,q[ae++]=128|pn>>6&63,q[ae++]=128|63&pn}else{if(ae+3>=Jt)break;q[ae++]=240|pn>>18,q[ae++]=128|pn>>12&63,q[ae++]=128|pn>>6&63,q[ae++]=128|63&pn}}return q[ae]=0,ae-bt},Uo=(v,q,ae)=>mi(v,P,q,ae),oe=[],ci=v=>{var ae=(v-ce.buffer.byteLength+65535)/65536;try{return ce.grow(ae),Ge(),1}catch{}},$r={},Di=()=>{if(!Di.strings){var q={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var ae in $r)void 0===$r[ae]?delete q[ae]:q[ae]=$r[ae];var rt=[];for(var ae in q)rt.push(`${ae}=${q[ae]}`);Di.strings=rt}return Di.strings},ti=(v,q)=>{ke=v,(v=>{ke=v,nn||(d.onExit?.(v),ie=!0),M(v,new Te(v))})(v)},us=[null,[],[]],Qs=(v,q)=>{var ae=us[v];0===q||10===q?((1===v?W:k)(Yn(ae,0)),ae.length=0):ae.push(q)},Xr={b:(v,q,ae,rt)=>{Et(`Assertion failed: ${Vn(v)}, at: `+[q?Vn(q):"unknown filename",ae,rt?Vn(rt):"unknown function"])},n:function Rn(v,q,ae){Kr(q,ae)},h:function uo(v,q,ae,rt){jo.varargs=rt},i:()=>{Et("")},f:(v,q,ae)=>P.copyWithin(v,q,q+ae),j:function xn(v,q,ae){var rt=Kr(v,q),bt=new Date(1e3*rt);S[ae>>2]=bt.getUTCSeconds(),S[ae+4>>2]=bt.getUTCMinutes(),S[ae+8>>2]=bt.getUTCHours(),S[ae+12>>2]=bt.getUTCDate(),S[ae+16>>2]=bt.getUTCMonth(),S[ae+20>>2]=bt.getUTCFullYear()-1900,S[ae+24>>2]=bt.getUTCDay();var Jt=Date.UTC(bt.getUTCFullYear(),0,1,0,0,0,0),ut=(bt.getTime()-Jt)/864e5|0;S[ae+28>>2]=ut},k:function hi(v,q,ae){var rt=Kr(v,q),bt=new Date(1e3*rt);S[ae>>2]=bt.getSeconds(),S[ae+4>>2]=bt.getMinutes(),S[ae+8>>2]=bt.getHours(),S[ae+12>>2]=bt.getDate(),S[ae+16>>2]=bt.getMonth(),S[ae+20>>2]=bt.getFullYear()-1900,S[ae+24>>2]=bt.getDay();var Jt=0|_n(bt);S[ae+28>>2]=Jt,S[ae+36>>2]=-60*bt.getTimezoneOffset();var ut=new Date(bt.getFullYear(),0,1),pn=new Date(bt.getFullYear(),6,1).getTimezoneOffset(),Ot=ut.getTimezoneOffset(),Xn=0|(pn!=Ot&&bt.getTimezoneOffset()==Math.min(Ot,pn));S[ae+32>>2]=Xn},l:function(v){var q=(()=>{var ae=new Date(S[v+20>>2]+1900,S[v+16>>2],S[v+12>>2],S[v+8>>2],S[v+4>>2],S[v>>2],0),rt=S[v+32>>2],bt=ae.getTimezoneOffset(),Jt=new Date(ae.getFullYear(),0,1),ut=new Date(ae.getFullYear(),6,1).getTimezoneOffset(),pn=Jt.getTimezoneOffset(),Ot=Math.min(pn,ut);if(rt<0)S[v+32>>2]=+(ut!=pn&&Ot==bt);else if(rt>0!=(Ot==bt)){var Xn=Math.max(pn,ut),Jr=rt>0?Ot:Xn;ae.setTime(ae.getTime()+6e4*(Jr-bt))}S[v+24>>2]=ae.getDay();var $e=0|_n(ae);S[v+28>>2]=$e,S[v>>2]=ae.getSeconds(),S[v+4>>2]=ae.getMinutes(),S[v+8>>2]=ae.getHours(),S[v+12>>2]=ae.getDate(),S[v+16>>2]=ae.getMonth(),S[v+20>>2]=ae.getYear();var kt=ae.getTime();return isNaN(kt)?-1:kt/1e3})();return(v=>{$s(v)})((dr=q,+Math.abs(dr)>=1?dr>0?+Math.floor(dr/4294967296)>>>0:~~+Math.ceil((dr-+(~~dr>>>0))/4294967296)>>>0:0)),q>>>0},p:(v,q,ae,rt)=>{var bt=(new Date).getFullYear(),Jt=new Date(bt,0,1),ut=new Date(bt,6,1),pn=Jt.getTimezoneOffset(),Ot=ut.getTimezoneOffset(),Xn=Math.max(pn,Ot);D[v>>2]=60*Xn,S[q>>2]=+(pn!=Ot);var Jr=on=>{var Un=on>=0?"-":"+",Br=Math.abs(on);return`UTC${Un}${String(Math.floor(Br/60)).padStart(2,"0")}${String(Br%60).padStart(2,"0")}`},$e=Jr(pn),kt=Jr(Ot);Ot<pn?(Uo($e,ae,17),Uo(kt,rt,17)):(Uo($e,rt,17),Uo(kt,ae,17))},a:(v,q,ae)=>((v,q,ae)=>{var rt=((v,q)=>{oe.length=0;for(var ae;ae=P[v++];){var rt=105!=ae;q+=(rt&=112!=ae)&&q%8?4:0,oe.push(112==ae?D[q>>2]:105==ae?S[q>>2]:me[q>>3]),q+=rt?8:4}return oe})(q,ae);return oo[v](...rt)})(v,q,ae),d:()=>Date.now(),o:v=>{var Ot,q=P.length,ae=2147483648;if((v>>>=0)>ae)return!1;for(var bt=1;bt<=4;bt*=2){var Jt=q*(1+.2/bt);Jt=Math.min(Jt,v+100663296);var ut=Math.min(ae,(Ot=Math.max(v,Jt))+(65536-Ot%65536)%65536);if(ci(ut))return!0}return!1},q:(v,q)=>{var ae=0;return Di().forEach((rt,bt)=>{var Jt=q+ae;D[v+4*bt>>2]=Jt,((v,q)=>{for(var ae=0;ae<v.length;++ae)N[q++]=v.charCodeAt(ae);N[q]=0})(rt,Jt),ae+=rt.length+1}),0},r:(v,q)=>{var ae=Di();D[v>>2]=ae.length;var rt=0;return ae.forEach(bt=>rt+=bt.length+1),D[q>>2]=rt,0},s:ti,e:v=>52,c:(v,q,ae,rt)=>52,m:function Xs(v,q,ae,rt,bt){return Kr(q,ae),70},g:(v,q,ae,rt)=>{for(var bt=0,Jt=0;Jt<ae;Jt++){var ut=D[q>>2],pn=D[q+4>>2];q+=8;for(var Ot=0;Ot<pn;Ot++)Qs(v,P[ut+Ot]);bt+=pn}return D[rt>>2]=bt,0}},vt=function ei(){var v=function Ro(){return{a:Xr}}();function q(rt,bt){return vt=function br(v){var q={};for(var ae in v){var rt=v[ae];q[ae]="function"==typeof rt?an(rt):rt}return q}(vt=rt.exports),ce=vt.t,Ge(),In=vt.xa,function Bt(v){he.unshift(v)}(vt.u),function ur(){var v=In.get,q={};In.get=ae=>{var rt=v.call(In,ae),bt=q[ae];return(!bt||bt.func!==rt)&&(bt=q[ae]={func:rt,wrapper:an(rt)}),bt.wrapper}}(),function ft(v){if(ye--,d.monitorRunDependencies?.(ye),0==ye&&(null!==Ie&&(clearInterval(Ie),Ie=null),we)){var q=we;we=null,q()}}(),vt}if(function Xe(v){ye++,d.monitorRunDependencies?.(ye)}(),d.instantiateWasm)try{return d.instantiateWasm(v,q)}catch(rt){k(`Module.instantiateWasm callback failed with error: ${rt}`),B(rt)}return Fr||(Fr=function Jo(){var v="fstools_web.wasm";return Yt(v)?v:function pe(v){return d.locateFile?d.locateFile(v,F):F+v}(v)}()),function So(v,q,ae,rt){return v||"function"!=typeof WebAssembly.instantiateStreaming||Yt(q)||"function"!=typeof fetch?tr(q,ae,rt):fetch(q,{credentials:"same-origin"}).then(bt=>WebAssembly.instantiateStreaming(bt,ae).then(rt,function(ut){return k(`wasm streaming compile failed: ${ut}`),k("falling back to ArrayBuffer instantiation"),tr(q,ae,rt)}))}(ee,Fr,v,function ae(rt){q(rt.instance)}).catch(B),{}}(),Pe=(d._free=v=>(d._free=vt.v)(v),d._malloc=v=>(d._malloc=vt.w)(v),d._webidl_free=v=>(d._webidl_free=vt.x)(v),d._webidl_malloc=v=>(d._webidl_malloc=vt.y)(v),d._emscripten_bind_VoidPtr___destroy___0=v=>(Pe=d._emscripten_bind_VoidPtr___destroy___0=vt.z)(v)),ue=d._emscripten_bind_FSTools_FSTools_0=()=>(ue=d._emscripten_bind_FSTools_FSTools_0=vt.A)(),Ye=d._emscripten_bind_FSTools_Malloc_1=(v,q)=>(Ye=d._emscripten_bind_FSTools_Malloc_1=vt.B)(v,q),A=d._emscripten_bind_FSTools_Free_1=(v,q)=>(A=d._emscripten_bind_FSTools_Free_1=vt.C)(v,q),Qe=d._emscripten_bind_FSTools_Nullptr_0=v=>(Qe=d._emscripten_bind_FSTools_Nullptr_0=vt.D)(v),je=d._emscripten_bind_FSTools___destroy___0=v=>(je=d._emscripten_bind_FSTools___destroy___0=vt.E)(v),ct=d._emscripten_bind_MkfsContext_MkfsContext_0=()=>(ct=d._emscripten_bind_MkfsContext_MkfsContext_0=vt.F)(),St=d._emscripten_bind_MkfsContext_Mkfs_2=(v,q,ae)=>(St=d._emscripten_bind_MkfsContext_Mkfs_2=vt.G)(v,q,ae),wt=d._emscripten_bind_MkfsContext_GetImage_0=v=>(wt=d._emscripten_bind_MkfsContext_GetImage_0=vt.H)(v),Cn=d._emscripten_bind_MkfsContext_GetImageSize_0=v=>(Cn=d._emscripten_bind_MkfsContext_GetImageSize_0=vt.I)(v),gr=d._emscripten_bind_MkfsContext___destroy___0=v=>(gr=d._emscripten_bind_MkfsContext___destroy___0=vt.J)(v),kr=d._emscripten_bind_FsckContext_FsckContext_1=v=>(kr=d._emscripten_bind_FsckContext_FsckContext_1=vt.K)(v),Gr=d._emscripten_bind_FsckContext_GetImage_0=v=>(Gr=d._emscripten_bind_FsckContext_GetImage_0=vt.L)(v),zn=d._emscripten_bind_FsckContext_GetDirtyPages_0=v=>(zn=d._emscripten_bind_FsckContext_GetDirtyPages_0=vt.M)(v),qi=d._emscripten_bind_FsckContext_GetImageSize_0=v=>(qi=d._emscripten_bind_FsckContext_GetImageSize_0=vt.N)(v),Pn=d._emscripten_bind_FsckContext_Fsck_0=v=>(Pn=d._emscripten_bind_FsckContext_Fsck_0=vt.O)(v),Po=d._emscripten_bind_FsckContext_GetResult_0=v=>(Po=d._emscripten_bind_FsckContext_GetResult_0=vt.P)(v),Eo=d._emscripten_bind_FsckContext___destroy___0=v=>(Eo=d._emscripten_bind_FsckContext___destroy___0=vt.Q)(v),Ki=d._emscripten_bind_GunzipContext_GunzipContext_3=(v,q,ae)=>(Ki=d._emscripten_bind_GunzipContext_GunzipContext_3=vt.R)(v,q,ae),xa=d._emscripten_bind_GunzipContext_GetState_0=v=>(xa=d._emscripten_bind_GunzipContext_GetState_0=vt.S)(v),Js=d._emscripten_bind_GunzipContext_Continue_0=v=>(Js=d._emscripten_bind_GunzipContext_Continue_0=vt.T)(v),Os=d._emscripten_bind_GunzipContext_GetUncompressedData_0=v=>(Os=d._emscripten_bind_GunzipContext_GetUncompressedData_0=vt.U)(v),ea=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=v=>(ea=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=vt.V)(v),Yi=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=v=>(Yi=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=vt.W)(v),Ta=d._emscripten_bind_GunzipContext_GetError_0=v=>(Ta=d._emscripten_bind_GunzipContext_GetError_0=vt.X)(v),ta=d._emscripten_bind_GunzipContext___destroy___0=v=>(ta=d._emscripten_bind_GunzipContext___destroy___0=vt.Y)(v),na=d._emscripten_bind_GzipContext_GzipContext_3=(v,q,ae)=>(na=d._emscripten_bind_GzipContext_GzipContext_3=vt.Z)(v,q,ae),Ma=d._emscripten_bind_GzipContext_SetFilename_1=(v,q)=>(Ma=d._emscripten_bind_GzipContext_SetFilename_1=vt._)(v,q),Aa=d._emscripten_bind_GzipContext_SetMtime_1=(v,q)=>(Aa=d._emscripten_bind_GzipContext_SetMtime_1=vt.$)(v,q),ka=d._emscripten_bind_GzipContext_Continue_0=v=>(ka=d._emscripten_bind_GzipContext_Continue_0=vt.aa)(v),Ra=d._emscripten_bind_GzipContext_GetState_0=v=>(Ra=d._emscripten_bind_GzipContext_GetState_0=vt.ba)(v),ra=d._emscripten_bind_GzipContext_GetGzipData_0=v=>(ra=d._emscripten_bind_GzipContext_GetGzipData_0=vt.ca)(v),Pa=d._emscripten_bind_GzipContext_GetGzipSize_0=v=>(Pa=d._emscripten_bind_GzipContext_GetGzipSize_0=vt.da)(v),Oa=d._emscripten_bind_GzipContext_GetError_0=v=>(Oa=d._emscripten_bind_GzipContext_GetError_0=vt.ea)(v),Sr=d._emscripten_bind_GzipContext___destroy___0=v=>(Sr=d._emscripten_bind_GzipContext___destroy___0=vt.fa)(v),oa=d._emscripten_bind_CreateZipContext_CreateZipContext_0=()=>(oa=d._emscripten_bind_CreateZipContext_CreateZipContext_0=vt.ga)(),fo=d._emscripten_bind_CreateZipContext_Initialize_1=(v,q)=>(fo=d._emscripten_bind_CreateZipContext_Initialize_1=vt.ha)(v,q),jt=d._emscripten_bind_CreateZipContext_AddEntry_1=(v,q)=>(jt=d._emscripten_bind_CreateZipContext_AddEntry_1=vt.ia)(v,q),ia=d._emscripten_bind_CreateZipContext_WriteData_2=(v,q,ae)=>(ia=d._emscripten_bind_CreateZipContext_WriteData_2=vt.ja)(v,q,ae),Fs=d._emscripten_bind_CreateZipContext_GetZipData_0=v=>(Fs=d._emscripten_bind_CreateZipContext_GetZipData_0=vt.ka)(v),Qr=d._emscripten_bind_CreateZipContext_GetZipDataSize_0=v=>(Qr=d._emscripten_bind_CreateZipContext_GetZipDataSize_0=vt.la)(v),Ns=d._emscripten_bind_CreateZipContext_GetLastError_0=v=>(Ns=d._emscripten_bind_CreateZipContext_GetLastError_0=vt.ma)(v),Fa=d._emscripten_bind_CreateZipContext___destroy___0=v=>(Fa=d._emscripten_bind_CreateZipContext___destroy___0=vt.na)(v),On=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(v,q)=>(On=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=vt.oa)(v,q),fs=d._emscripten_bind_ZipfileWalker_GetState_0=v=>(fs=d._emscripten_bind_ZipfileWalker_GetState_0=vt.pa)(v),wr=d._emscripten_bind_ZipfileWalker_Next_0=v=>(wr=d._emscripten_bind_ZipfileWalker_Next_0=vt.qa)(v),Ls=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=v=>(Ls=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=vt.ra)(v),dl=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=v=>(dl=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=vt.sa)(v),Na=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=v=>(Na=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=vt.ta)(v),$n=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=v=>($n=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=vt.ua)(v),Ht=d._emscripten_bind_ZipfileWalker___destroy___0=v=>(Ht=d._emscripten_bind_ZipfileWalker___destroy___0=vt.va)(v),ps=d._main=(v,q)=>(ps=d._main=vt.wa)(v,q),$s=v=>($s=vt.ya)(v),fl=()=>(fl=vt.za)(),Bs=()=>(Bs=vt.Aa)(),Ke=()=>(Ke=vt.Ba)();function la(){function v(){vi||(vi=!0,d.calledRun=!0,!ie&&(function Be(){fe(),Me(he)}(),function it(){fe(),Me(xe)}(),Z(d),d.onRuntimeInitialized?.(),ni&&function sa(){var v=ps;try{Qt+=1;var rt=v(0,0);return ti(rt),rt}catch(bt){return(v=>{if(v instanceof Te||"unwind"==v)return ke;fe(),v instanceof WebAssembly.RuntimeError&&Ke()<=0&&k("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),M(1,v)})(bt)}finally{Qt-=1}}(),function Ue(){if(fe(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)v=d.postRun.shift(),qe.unshift(v);var v;Me(qe)}()))}ye>0||(function aa(){fl(),function tt(){var v=Bs();0==v&&(v+=4),D[v>>2]=34821223,D[v+4>>2]=2310721022,D[0]=1668509029}()}(),function de(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)v=d.preRun.shift(),Oe.unshift(v);var v;Me(Oe)}(),ye>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),v()},1)):v(),fe())}if(d.___original_main=()=>(d.___original_main=vt.Ca)(),we=function v(){vi||la(),vi||(we=v)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var ni=!0;function _r(){}function Wo(v){return(v||_r).__cache__}function Ft(v,q){var ae=Wo(q),rt=ae[v];return rt||((rt=Object.create((q||_r).prototype)).ptr=v,ae[v]=rt)}d.noInitialRun&&(ni=!1),la(),(_r.prototype=Object.create(_r.prototype)).constructor=_r,_r.prototype.__class__=_r,_r.__cache__={},d.WrapperObject=_r,d.getCache=Wo,d.wrapPointer=Ft,d.castObject=function Mn(v,q){return Ft(v.ptr,q)},d.NULL=Ft(0),d.destroy=function Gl(v){if(!v.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";v.__destroy__(),delete Wo(v.__class__)[v.ptr]},d.compare=function pl(v,q){return v.ptr===q.ptr},d.getPointer=function hl(v){return v.ptr},d.getClass=function Ul(v){return v.__class__};var jn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(jn.needed){for(var v=0;v<jn.temps.length;v++)d._webidl_free(jn.temps[v]);jn.temps.length=0,d._webidl_free(jn.buffer),jn.buffer=0,jn.size+=jn.needed,jn.needed=0}jn.buffer||(jn.size+=128,jn.buffer=d._webidl_malloc(jn.size),Le(jn.buffer)),jn.pos=0},alloc(v,q){Le(jn.buffer);var bt,rt=v.length*q.BYTES_PER_ELEMENT;return rt=((v,q)=>8*Math.ceil(v/8))(rt),jn.pos+rt>=jn.size?(Le(rt>0),jn.needed+=rt,bt=d._webidl_malloc(rt),jn.temps.push(bt)):(bt=jn.buffer+jn.pos,jn.pos+=rt),bt},copy(v,q,ae){ae/=q.BYTES_PER_ELEMENT;for(var rt=0;rt<v.length;rt++)q[ae+rt]=v[rt]}};function hs(v){if("string"==typeof v){var q=function ds(v,q,ae){var rt=ae>0?ae:(v=>{for(var q=0,ae=0;ae<v.length;++ae){var rt=v.charCodeAt(ae);rt<=127?q++:rt<=2047?q+=2:rt>=55296&&rt<=57343?(q+=4,++ae):q+=3}return q})(v)+1,bt=new Array(rt),Jt=mi(v,bt,0,bt.length);return q&&(bt.length=Jt),bt}(v),ae=jn.alloc(q,N);return jn.copy(q,N,ae),ae}return v}function Tn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function po(){this.ptr=ue(),Wo(po)[this.ptr]=this}function ho(){this.ptr=ct(),Wo(ho)[this.ptr]=this}function Er(v){v&&"object"==typeof v&&(v=v.ptr),this.ptr=kr(v),Wo(Er)[this.ptr]=this}function Gn(v,q,ae){v&&"object"==typeof v&&(v=v.ptr),q&&"object"==typeof q&&(q=q.ptr),ae&&"object"==typeof ae&&(ae=ae.ptr),this.ptr=Ki(v,q,ae),Wo(Gn)[this.ptr]=this}function or(v,q,ae){v&&"object"==typeof v&&(v=v.ptr),q&&"object"==typeof q&&(q=q.ptr),ae&&"object"==typeof ae&&(ae=ae.ptr),this.ptr=na(v,q,ae),Wo(or)[this.ptr]=this}function Dr(){this.ptr=oa(),Wo(Dr)[this.ptr]=this}function Ir(v,q){v&&"object"==typeof v&&(v=v.ptr),q&&"object"==typeof q&&(q=q.ptr),this.ptr=On(v,q),Wo(Ir)[this.ptr]=this}return(Tn.prototype=Object.create(_r.prototype)).constructor=Tn,Tn.prototype.__class__=Tn,Tn.__cache__={},d.VoidPtr=Tn,Tn.prototype.__destroy__=Tn.prototype.__destroy__=function(){Pe(this.ptr)},(po.prototype=Object.create(_r.prototype)).constructor=po,po.prototype.__class__=po,po.__cache__={},d.FSTools=po,po.prototype.Malloc=po.prototype.Malloc=function(v){return v&&"object"==typeof v&&(v=v.ptr),Ft(Ye(this.ptr,v),Tn)},po.prototype.Free=po.prototype.Free=function(v){v&&"object"==typeof v&&(v=v.ptr),A(this.ptr,v)},po.prototype.Nullptr=po.prototype.Nullptr=function(){return Ft(Qe(this.ptr),Tn)},po.prototype.__destroy__=po.prototype.__destroy__=function(){je(this.ptr)},(ho.prototype=Object.create(_r.prototype)).constructor=ho,ho.prototype.__class__=ho,ho.__cache__={},d.MkfsContext=ho,ho.prototype.Mkfs=ho.prototype.Mkfs=function(v,q){var ae=this.ptr;return jn.prepare(),v&&"object"==typeof v&&(v=v.ptr),q=q&&"object"==typeof q?q.ptr:hs(q),!!St(ae,v,q)},ho.prototype.GetImage=ho.prototype.GetImage=function(){return Ft(wt(this.ptr),Tn)},ho.prototype.GetImageSize=ho.prototype.GetImageSize=function(){return Cn(this.ptr)},ho.prototype.__destroy__=ho.prototype.__destroy__=function(){gr(this.ptr)},(Er.prototype=Object.create(_r.prototype)).constructor=Er,Er.prototype.__class__=Er,Er.__cache__={},d.FsckContext=Er,Er.prototype.GetImage=Er.prototype.GetImage=function(){return Ft(Gr(this.ptr),Tn)},Er.prototype.GetDirtyPages=Er.prototype.GetDirtyPages=function(){return Ft(zn(this.ptr),Tn)},Er.prototype.GetImageSize=Er.prototype.GetImageSize=function(){return qi(this.ptr)},Er.prototype.Fsck=Er.prototype.Fsck=function(){return Pn(this.ptr)},Er.prototype.GetResult=Er.prototype.GetResult=function(){return Po(this.ptr)},Er.prototype.__destroy__=Er.prototype.__destroy__=function(){Eo(this.ptr)},(Gn.prototype=Object.create(_r.prototype)).constructor=Gn,Gn.prototype.__class__=Gn,Gn.__cache__={},d.GunzipContext=Gn,Gn.prototype.GetState=Gn.prototype.GetState=function(){return xa(this.ptr)},Gn.prototype.Continue=Gn.prototype.Continue=function(){return Js(this.ptr)},Gn.prototype.GetUncompressedData=Gn.prototype.GetUncompressedData=function(){return Ft(Os(this.ptr),Tn)},Gn.prototype.ReleaseUncompressedData=Gn.prototype.ReleaseUncompressedData=function(){return Ft(ea(this.ptr),Tn)},Gn.prototype.GetUncompressedSize=Gn.prototype.GetUncompressedSize=function(){return Yi(this.ptr)},Gn.prototype.GetError=Gn.prototype.GetError=function(){return Vn(Ta(this.ptr))},Gn.prototype.__destroy__=Gn.prototype.__destroy__=function(){ta(this.ptr)},(or.prototype=Object.create(_r.prototype)).constructor=or,or.prototype.__class__=or,or.__cache__={},d.GzipContext=or,or.prototype.SetFilename=or.prototype.SetFilename=function(v){var q=this.ptr;return jn.prepare(),v=v&&"object"==typeof v?v.ptr:hs(v),Ft(Ma(q,v),or)},or.prototype.SetMtime=or.prototype.SetMtime=function(v){return v&&"object"==typeof v&&(v=v.ptr),Ft(Aa(this.ptr,v),or)},or.prototype.Continue=or.prototype.Continue=function(){return ka(this.ptr)},or.prototype.GetState=or.prototype.GetState=function(){return Ra(this.ptr)},or.prototype.GetGzipData=or.prototype.GetGzipData=function(){return Ft(ra(this.ptr),Tn)},or.prototype.GetGzipSize=or.prototype.GetGzipSize=function(){return Pa(this.ptr)},or.prototype.GetError=or.prototype.GetError=function(){return Vn(Oa(this.ptr))},or.prototype.__destroy__=or.prototype.__destroy__=function(){Sr(this.ptr)},(Dr.prototype=Object.create(_r.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},d.CreateZipContext=Dr,Dr.prototype.Initialize=Dr.prototype.Initialize=function(v){return v&&"object"==typeof v&&(v=v.ptr),!!fo(this.ptr,v)},Dr.prototype.AddEntry=Dr.prototype.AddEntry=function(v){var q=this.ptr;return jn.prepare(),v=v&&"object"==typeof v?v.ptr:hs(v),!!jt(q,v)},Dr.prototype.WriteData=Dr.prototype.WriteData=function(v,q){return v&&"object"==typeof v&&(v=v.ptr),q&&"object"==typeof q&&(q=q.ptr),!!ia(this.ptr,v,q)},Dr.prototype.GetZipData=Dr.prototype.GetZipData=function(){return Ft(Fs(this.ptr),Tn)},Dr.prototype.GetZipDataSize=Dr.prototype.GetZipDataSize=function(){return Qr(this.ptr)},Dr.prototype.GetLastError=Dr.prototype.GetLastError=function(){return Vn(Ns(this.ptr))},Dr.prototype.__destroy__=Dr.prototype.__destroy__=function(){Fa(this.ptr)},(Ir.prototype=Object.create(_r.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},d.ZipfileWalker=Ir,Ir.prototype.GetState=Ir.prototype.GetState=function(){return fs(this.ptr)},Ir.prototype.Next=Ir.prototype.Next=function(){return wr(this.ptr)},Ir.prototype.GetTotalEntries=Ir.prototype.GetTotalEntries=function(){return Ls(this.ptr)},Ir.prototype.GetCurrentEntrySize=Ir.prototype.GetCurrentEntrySize=function(){return dl(this.ptr)},Ir.prototype.GetCurrentEntryName=Ir.prototype.GetCurrentEntryName=function(){return Vn(Na(this.ptr))},Ir.prototype.GetCurrentEntryContent=Ir.prototype.GetCurrentEntryContent=function(){return Ft($n(this.ptr),Tn)},Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){Ht(this.ptr)},O});be.exports=Ae},8886:be=>{var C,Ae=(C=typeof document<"u"?document.currentScript?.src:void 0,function(w={}){var Z,B,De,te,d=w,O=new Promise((h,L)=>{Z=h,B=L}),I="object"==typeof window,x="function"==typeof importScripts,G=("object"==typeof process&&"object"==typeof process.versions&&process,Object.assign({},d)),j="./this.program",M=(h,L)=>{throw L},F="";(I||x)&&(x?F=self.location.href:typeof document<"u"&&document.currentScript&&(F=document.currentScript.src),C&&(F=C),F=F.startsWith("blob:")?"":F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1),x&&(te=h=>{var L=new XMLHttpRequest;return L.open("GET",h,!1),L.responseType="arraybuffer",L.send(null),new Uint8Array(L.response)}),De=h=>fetch(h,{credentials:"same-origin"}).then(L=>L.ok?L.arrayBuffer():Promise.reject(new Error(L.status+" : "+L.url))));var ee,W=d.print||console.log.bind(console),k=d.printErr||console.error.bind(console);Object.assign(d,G),G=null,d.thisProgram&&(j=d.thisProgram),d.quit&&(M=d.quit),d.wasmBinary&&(ee=d.wasmBinary);var ce,ke,N,P,S,D,ie=!1;function Le(h,L){h||Et(L)}function Ge(){var h=ce.buffer;d.HEAP8=N=new Int8Array(h),d.HEAP16=new Int16Array(h),d.HEAPU8=P=new Uint8Array(h),d.HEAPU16=new Uint16Array(h),d.HEAP32=S=new Int32Array(h),d.HEAPU32=D=new Uint32Array(h),d.HEAPF32=new Float32Array(h),d.HEAPF64=new Float64Array(h)}function fe(){if(!ie){var h=Tn();0==h&&(h+=4);var L=D[h>>2],ve=D[h+4>>2];(34821223!=L||2310721022!=ve)&&Et(`Stack overflow! Stack cookie has been overwritten at ${nn(h)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${nn(ve)} ${nn(L)}`),1668509029!=D[0]&&Et("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Oe=[],he=[],xe=[],qe=[],ye=0,Ie=null,we=null;function Et(h){d.onAbort?.(h),k(h="Aborted("+h+")"),ie=!0,ke=1,h+=". Build with -sASSERTIONS for more info.";var L=new WebAssembly.RuntimeError(h);throw B(L),L}var Fr,dr,Yt=h=>h.startsWith("data:application/octet-stream;base64,"),Qt=0;function an(h){return(...L)=>{if(ie)throw"program has already aborted!";Qt+=1;try{return h(...L)}catch(ve){if(ie||Qt>1||ve===1/0||"unwind"===ve)throw ve;Et("unhandled exception: "+[ve,ve.stack])}finally{Qt-=1}}}function mo(h){if(h==Fr&&ee)return new Uint8Array(ee);if(te)return te(h);throw"both async and sync fetching of the wasm failed"}function tr(h,L,ve){return function Nr(h){return ee?Promise.resolve().then(()=>mo(h)):De(h).then(L=>new Uint8Array(L),()=>mo(h))}(h).then(Je=>WebAssembly.instantiate(Je,L)).then(ve,Je=>{k(`failed to asynchronously prepare wasm: ${Je}`),Et(Je)})}function oo(h){this.name="ExitStatus",this.message=`Program terminated with exit(${h})`,this.status=h}var Ut,Er,Te=h=>{for(;h.length>0;)h.shift()(d)},Me=d.noExitRuntime||!0,nn=h=>"0x"+(h>>>=0).toString(16).padStart(8,"0"),In=typeof TextDecoder<"u"?new TextDecoder:void 0,Xt=(h,L,ve)=>{for(var Je=L+ve,Lt=L;h[Lt]&&!(Lt>=Je);)++Lt;if(Lt-L>16&&h.buffer&&In)return In.decode(h.subarray(L,Lt));for(var Mt="";L<Lt;){var Fn=h[L++];if(128&Fn){var hn=63&h[L++];if(192!=(224&Fn)){var En=63&h[L++];if((Fn=224==(240&Fn)?(15&Fn)<<12|hn<<6|En:(7&Fn)<<18|hn<<12|En<<6|63&h[L++])<65536)Mt+=String.fromCharCode(Fn);else{var ri=Fn-65536;Mt+=String.fromCharCode(55296|ri>>10,56320|1023&ri)}}else Mt+=String.fromCharCode((31&Fn)<<6|hn)}else Mt+=String.fromCharCode(Fn)}return Mt},Yn=(h,L)=>h?Xt(P,h,L):"",Lr=(h,L)=>L+2097152>>>0<4194305-!!h?(h>>>0)+4294967296*L:NaN,xn=[0,31,60,91,121,152,182,213,244,274,305,335],Cr=[0,31,59,90,120,151,181,212,243,273,304,334],Mr=h=>((h=>h%4==0&&(h%100!=0||h%400==0))(h.getFullYear())?xn:Cr)[h.getMonth()]+h.getDate()-1,rn=(h,L,ve,Je)=>{if(!(Je>0))return 0;for(var Lt=ve,Mt=ve+Je-1,Fn=0;Fn<h.length;++Fn){var hn=h.charCodeAt(Fn);if(hn>=55296&&hn<=57343&&(hn=65536+((1023&hn)<<10)|1023&h.charCodeAt(++Fn)),hn<=127){if(ve>=Mt)break;L[ve++]=hn}else if(hn<=2047){if(ve+1>=Mt)break;L[ve++]=192|hn>>6,L[ve++]=128|63&hn}else if(hn<=65535){if(ve+2>=Mt)break;L[ve++]=224|hn>>12,L[ve++]=128|hn>>6&63,L[ve++]=128|63&hn}else{if(ve+3>=Mt)break;L[ve++]=240|hn>>18,L[ve++]=128|hn>>12&63,L[ve++]=128|hn>>6&63,L[ve++]=128|63&hn}}return L[ve]=0,ve-Lt},wo=(h,L,ve)=>rn(h,P,L,ve),ls=h=>{var ve=(h-ce.buffer.byteLength+65535)/65536;try{return ce.grow(ve),Ge(),1}catch{}},Ho={},_i=()=>{if(!_i.strings){var L={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var ve in Ho)void 0===Ho[ve]?delete L[ve]:L[ve]=Ho[ve];var Je=[];for(var ve in L)Je.push(`${ve}=${L[ve]}`);_i.strings=Je}return _i.strings},go=[null,[],[]],cs=(h,L)=>{var ve=go[h];0===L||10===L?((1===h?W:k)(Xt(ve,0)),ve.length=0):ve.push(L)},Ar=(h,L)=>{ke=h,(h=>{ke=h,Me||(d.onExit?.(h),ie=!0),M(h,new oo(h))})(h)},Ys=h=>{for(var L=0,ve=0;ve<h.length;++ve){var Je=h.charCodeAt(ve);Je<=127?L++:Je<=2047?L+=2:Je>=55296&&Je<=57343?(L+=4,++ve):L+=3}return L},Qs={a:(h,L,ve,Je)=>{Et(`Assertion failed: ${Yn(h)}, at: `+[L?Yn(L):"unknown filename",ve,Je?Yn(Je):"unknown function"])},m:function Kr(h,L,ve){Lr(L,ve)},p:()=>{Et("")},i:()=>1,e:(h,L,ve)=>P.copyWithin(h,L,L+ve),j:function yn(h,L,ve){var Je=Lr(h,L),Lt=new Date(1e3*Je);S[ve>>2]=Lt.getSeconds(),S[ve+4>>2]=Lt.getMinutes(),S[ve+8>>2]=Lt.getHours(),S[ve+12>>2]=Lt.getDate(),S[ve+16>>2]=Lt.getMonth(),S[ve+20>>2]=Lt.getFullYear()-1900,S[ve+24>>2]=Lt.getDay();var Mt=0|Mr(Lt);S[ve+28>>2]=Mt,S[ve+36>>2]=-60*Lt.getTimezoneOffset();var Fn=new Date(Lt.getFullYear(),0,1),hn=new Date(Lt.getFullYear(),6,1).getTimezoneOffset(),En=Fn.getTimezoneOffset(),ri=0|(hn!=En&&Lt.getTimezoneOffset()==Math.min(En,hn));S[ve+32>>2]=ri},k:function(h){var L=(()=>{var ve=new Date(S[h+20>>2]+1900,S[h+16>>2],S[h+12>>2],S[h+8>>2],S[h+4>>2],S[h>>2],0),Je=S[h+32>>2],Lt=ve.getTimezoneOffset(),Mt=new Date(ve.getFullYear(),0,1),Fn=new Date(ve.getFullYear(),6,1).getTimezoneOffset(),hn=Mt.getTimezoneOffset(),En=Math.min(hn,Fn);if(Je<0)S[h+32>>2]=+(Fn!=hn&&En==Lt);else if(Je>0!=(En==Lt)){var ri=Math.max(hn,Fn),Hl=Je>0?En:ri;ve.setTime(ve.getTime()+6e4*(Hl-Lt))}S[h+24>>2]=ve.getDay();var Hn=0|Mr(ve);S[h+28>>2]=Hn,S[h>>2]=ve.getSeconds(),S[h+4>>2]=ve.getMinutes(),S[h+8>>2]=ve.getHours(),S[h+12>>2]=ve.getDate(),S[h+16>>2]=ve.getMonth(),S[h+20>>2]=ve.getYear();var ml=ve.getTime();return isNaN(ml)?-1:ml/1e3})();return(h=>{jn(h)})((dr=L,+Math.abs(dr)>=1?dr>0?+Math.floor(dr/4294967296)>>>0:~~+Math.ceil((dr-+(~~dr>>>0))/4294967296)>>>0:0)),L>>>0},d:(h,L,ve,Je)=>{var Lt=(new Date).getFullYear(),Mt=new Date(Lt,0,1),Fn=new Date(Lt,6,1),hn=Mt.getTimezoneOffset(),En=Fn.getTimezoneOffset(),ri=Math.max(hn,En);D[h>>2]=60*ri,S[L>>2]=+(hn!=En);var Hl=bu=>{var dt=bu>=0?"-":"+",gl=Math.abs(bu);return`UTC${dt}${String(Math.floor(gl/60)).padStart(2,"0")}${String(gl%60).padStart(2,"0")}`},Hn=Hl(hn),ml=Hl(En);En<hn?(wo(Hn,ve,17),wo(ml,Je,17)):(wo(Hn,Je,17),wo(ml,ve,17))},b:()=>Date.now(),c:h=>{var En,L=P.length,ve=2147483648;if((h>>>=0)>ve)return!1;for(var Lt=1;Lt<=4;Lt*=2){var Mt=L*(1+.2/Lt);Mt=Math.min(Mt,h+100663296);var Fn=Math.min(ve,(En=Math.max(h,Mt))+(65536-En%65536)%65536);if(ls(Fn))return!0}return!1},n:(h,L)=>{var ve=0;return _i().forEach((Je,Lt)=>{var Mt=L+ve;D[h+4*Lt>>2]=Mt,((h,L)=>{for(var ve=0;ve<h.length;++ve)N[L++]=h.charCodeAt(ve);N[L]=0})(Je,Mt),ve+=Je.length+1}),0},o:(h,L)=>{var ve=_i();D[h>>2]=ve.length;var Je=0;return ve.forEach(Lt=>Je+=Lt.length+1),D[L>>2]=Je,0},f:h=>52,h:(h,L,ve,Je)=>52,l:function Ii(h,L,ve,Je,Lt){return Lr(L,ve),70},g:(h,L,ve,Je)=>{for(var Lt=0,Mt=0;Mt<ve;Mt++){var Fn=D[L>>2],hn=D[L+4>>2];L+=8;for(var En=0;En<hn;En++)cs(h,P[Fn+En]);Lt+=hn}return D[Je>>2]=Lt,0}},nt=function ei(){var h=function Ro(){return{a:Qs}}();function L(Je,Lt){return nt=function br(h){var L={};for(var ve in h){var Je=h[ve];L[ve]="function"==typeof Je?an(Je):Je}return L}(nt=Je.exports),ce=nt.q,Ge(),Ut=nt.Sa,function Bt(h){he.unshift(h)}(nt.r),function ur(){var h=Ut.get,L={};Ut.get=ve=>{var Je=h.call(Ut,ve),Lt=L[ve];return(!Lt||Lt.func!==Je)&&(Lt=L[ve]={func:Je,wrapper:an(Je)}),Lt.wrapper}}(),function ft(h){if(ye--,d.monitorRunDependencies?.(ye),0==ye&&(null!==Ie&&(clearInterval(Ie),Ie=null),we)){var L=we;we=null,L()}}(),nt}if(function Xe(h){ye++,d.monitorRunDependencies?.(ye)}(),d.instantiateWasm)try{return d.instantiateWasm(h,L)}catch(Je){k(`Module.instantiateWasm callback failed with error: ${Je}`),B(Je)}return Fr||(Fr=function Jo(){var h="vfs_web.wasm";return Yt(h)?h:function pe(h){return d.locateFile?d.locateFile(h,F):F+h}(h)}()),function So(h,L,ve,Je){return h||"function"!=typeof WebAssembly.instantiateStreaming||Yt(L)||"function"!=typeof fetch?tr(L,ve,Je):fetch(L,{credentials:"same-origin"}).then(Lt=>WebAssembly.instantiateStreaming(Lt,ve).then(Je,function(Fn){return k(`wasm streaming compile failed: ${Fn}`),k("falling back to ArrayBuffer instantiation"),tr(L,ve,Je)}))}(ee,Fr,h,function ve(Je){L(Je.instance)}).catch(B),{}}(),vt=(d._malloc=h=>(d._malloc=nt.s)(h),d._free=h=>(d._free=nt.t)(h),d._webidl_free=h=>(d._webidl_free=nt.u)(h),d._webidl_malloc=h=>(d._webidl_malloc=nt.v)(h),d._emscripten_bind_VoidPtr___destroy___0=h=>(vt=d._emscripten_bind_VoidPtr___destroy___0=nt.w)(h)),Zi=d._emscripten_bind_FileEntry_GetName_0=h=>(Zi=d._emscripten_bind_FileEntry_GetName_0=nt.x)(h),g=d._emscripten_bind_FileEntry_IsDirectory_0=h=>(g=d._emscripten_bind_FileEntry_IsDirectory_0=nt.y)(h),E=d._emscripten_bind_FileEntry_GetSize_0=h=>(E=d._emscripten_bind_FileEntry_GetSize_0=nt.z)(h),z=d._emscripten_bind_FileEntry_GetModifiedTS_0=h=>(z=d._emscripten_bind_FileEntry_GetModifiedTS_0=nt.A)(h),se=d._emscripten_bind_FileEntry_GetAttributes_0=h=>(se=d._emscripten_bind_FileEntry_GetAttributes_0=nt.B)(h),Pe=d._emscripten_bind_FileEntry___destroy___0=h=>(Pe=d._emscripten_bind_FileEntry___destroy___0=nt.C)(h),ue=d._emscripten_bind_Vfs_Vfs_0=()=>(ue=d._emscripten_bind_Vfs_Vfs_0=nt.D)(),Ye=d._emscripten_bind_Vfs_Malloc_1=(h,L)=>(Ye=d._emscripten_bind_Vfs_Malloc_1=nt.E)(h,L),A=d._emscripten_bind_Vfs_Free_1=(h,L)=>(A=d._emscripten_bind_Vfs_Free_1=nt.F)(h,L),Qe=d._emscripten_bind_Vfs_Nullptr_0=h=>(Qe=d._emscripten_bind_Vfs_Nullptr_0=nt.G)(h),je=d._emscripten_bind_Vfs_AllocateImage_1=(h,L)=>(je=d._emscripten_bind_Vfs_AllocateImage_1=nt.H)(h,L),ct=d._emscripten_bind_Vfs_MountImage_1=(h,L)=>(ct=d._emscripten_bind_Vfs_MountImage_1=nt.I)(h,L),St=d._emscripten_bind_Vfs_UnmountImage_1=(h,L)=>(St=d._emscripten_bind_Vfs_UnmountImage_1=nt.J)(h,L),wt=d._emscripten_bind_Vfs_SwitchSlot_1=(h,L)=>(wt=d._emscripten_bind_Vfs_SwitchSlot_1=nt.K)(h,L),Cn=d._emscripten_bind_Vfs_GetPendingImageSize_0=h=>(Cn=d._emscripten_bind_Vfs_GetPendingImageSize_0=nt.L)(h),gr=d._emscripten_bind_Vfs_GetSize_1=(h,L)=>(gr=d._emscripten_bind_Vfs_GetSize_1=nt.M)(h,L),kr=d._emscripten_bind_Vfs_GetPendingImage_0=h=>(kr=d._emscripten_bind_Vfs_GetPendingImage_0=nt.N)(h),Gr=d._emscripten_bind_Vfs_GetImage_1=(h,L)=>(Gr=d._emscripten_bind_Vfs_GetImage_1=nt.O)(h,L),zn=d._emscripten_bind_Vfs_GetDirtyPages_1=(h,L)=>(zn=d._emscripten_bind_Vfs_GetDirtyPages_1=nt.P)(h,L),qi=d._emscripten_bind_Vfs_RenameFile_2=(h,L,ve)=>(qi=d._emscripten_bind_Vfs_RenameFile_2=nt.Q)(h,L,ve),Pn=d._emscripten_bind_Vfs_ChmodFile_3=(h,L,ve,Je)=>(Pn=d._emscripten_bind_Vfs_ChmodFile_3=nt.R)(h,L,ve,Je),Po=d._emscripten_bind_Vfs_StatFile_1=(h,L)=>(Po=d._emscripten_bind_Vfs_StatFile_1=nt.S)(h,L),Eo=d._emscripten_bind_Vfs_UnlinkFile_1=(h,L)=>(Eo=d._emscripten_bind_Vfs_UnlinkFile_1=nt.T)(h,L),Ki=d._emscripten_bind_Vfs_Mkdir_1=(h,L)=>(Ki=d._emscripten_bind_Vfs_Mkdir_1=nt.U)(h,L),xa=d._emscripten_bind_Vfs_GetEntry_0=h=>(xa=d._emscripten_bind_Vfs_GetEntry_0=nt.V)(h),Js=d._emscripten_bind_Vfs_BytesFree_1=(h,L)=>(Js=d._emscripten_bind_Vfs_BytesFree_1=nt.W)(h,L),Os=d._emscripten_bind_Vfs_BytesTotal_1=(h,L)=>(Os=d._emscripten_bind_Vfs_BytesTotal_1=nt.X)(h,L),ea=d._emscripten_bind_Vfs_ReadFile_1=(h,L)=>(ea=d._emscripten_bind_Vfs_ReadFile_1=nt.Y)(h,L),Yi=d._emscripten_bind_Vfs_GetCurrentFileSize_0=h=>(Yi=d._emscripten_bind_Vfs_GetCurrentFileSize_0=nt.Z)(h),Ta=d._emscripten_bind_Vfs_GetCurrentFileContent_0=h=>(Ta=d._emscripten_bind_Vfs_GetCurrentFileContent_0=nt._)(h),ta=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=h=>(ta=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=nt.$)(h),na=d._emscripten_bind_Vfs_WriteFile_3=(h,L,ve,Je)=>(na=d._emscripten_bind_Vfs_WriteFile_3=nt.aa)(h,L,ve,Je),Ma=d._emscripten_bind_Vfs___destroy___0=h=>(Ma=d._emscripten_bind_Vfs___destroy___0=nt.ba)(h),Aa=d._emscripten_bind_ReaddirContext_ReaddirContext_1=h=>(Aa=d._emscripten_bind_ReaddirContext_ReaddirContext_1=nt.ca)(h),ka=d._emscripten_bind_ReaddirContext_Next_0=h=>(ka=d._emscripten_bind_ReaddirContext_Next_0=nt.da)(h),Ra=d._emscripten_bind_ReaddirContext_GetEntry_0=h=>(Ra=d._emscripten_bind_ReaddirContext_GetEntry_0=nt.ea)(h),ra=d._emscripten_bind_ReaddirContext_GetStatus_0=h=>(ra=d._emscripten_bind_ReaddirContext_GetStatus_0=nt.fa)(h),Pa=d._emscripten_bind_ReaddirContext_GetError_0=h=>(Pa=d._emscripten_bind_ReaddirContext_GetError_0=nt.ga)(h),Oa=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=h=>(Oa=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=nt.ha)(h),Sr=d._emscripten_bind_ReaddirContext___destroy___0=h=>(Sr=d._emscripten_bind_ReaddirContext___destroy___0=nt.ia)(h),oa=d._emscripten_bind_ExportZipContext_ExportZipContext_2=(h,L)=>(oa=d._emscripten_bind_ExportZipContext_ExportZipContext_2=nt.ja)(h,L),fo=d._emscripten_bind_ExportZipContext_AddFile_1=(h,L)=>(fo=d._emscripten_bind_ExportZipContext_AddFile_1=nt.ka)(h,L),jt=d._emscripten_bind_ExportZipContext_AddDirectory_1=(h,L)=>(jt=d._emscripten_bind_ExportZipContext_AddDirectory_1=nt.la)(h,L),ia=d._emscripten_bind_ExportZipContext_Continue_0=h=>(ia=d._emscripten_bind_ExportZipContext_Continue_0=nt.ma)(h),Fs=d._emscripten_bind_ExportZipContext_GetState_0=h=>(Fs=d._emscripten_bind_ExportZipContext_GetState_0=nt.na)(h),Qr=d._emscripten_bind_ExportZipContext_GetZipContent_0=h=>(Qr=d._emscripten_bind_ExportZipContext_GetZipContent_0=nt.oa)(h),Ns=d._emscripten_bind_ExportZipContext_GetZipSize_0=h=>(Ns=d._emscripten_bind_ExportZipContext_GetZipSize_0=nt.pa)(h),Fa=d._emscripten_bind_ExportZipContext_GetErrorItem_0=h=>(Fa=d._emscripten_bind_ExportZipContext_GetErrorItem_0=nt.qa)(h),On=d._emscripten_bind_ExportZipContext___destroy___0=h=>(On=d._emscripten_bind_ExportZipContext___destroy___0=nt.ra)(h),fs=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=h=>(fs=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=nt.sa)(h),wr=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=(h,L)=>(wr=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=nt.ta)(h,L),Ls=d._emscripten_bind_DeleteRecursiveContext_Continue_0=h=>(Ls=d._emscripten_bind_DeleteRecursiveContext_Continue_0=nt.ua)(h),dl=d._emscripten_bind_DeleteRecursiveContext_GetState_0=h=>(dl=d._emscripten_bind_DeleteRecursiveContext_GetState_0=nt.va)(h),Na=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=h=>(Na=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=nt.wa)(h),$n=d._emscripten_bind_DeleteRecursiveContext___destroy___0=h=>($n=d._emscripten_bind_DeleteRecursiveContext___destroy___0=nt.xa)(h),Ht=d._emscripten_bind_UnzipContext_UnzipContext_4=(h,L,ve,Je)=>(Ht=d._emscripten_bind_UnzipContext_UnzipContext_4=nt.ya)(h,L,ve,Je),ps=d._emscripten_bind_UnzipContext_GetState_0=h=>(ps=d._emscripten_bind_UnzipContext_GetState_0=nt.za)(h),$s=d._emscripten_bind_UnzipContext_Continue_0=h=>($s=d._emscripten_bind_UnzipContext_Continue_0=nt.Aa)(h),fl=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=h=>(fl=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=nt.Ba)(h),Bs=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=h=>(Bs=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=nt.Ca)(h),Ke=d._emscripten_bind_UnzipContext_GetCollisionPath_0=h=>(Ke=d._emscripten_bind_UnzipContext_GetCollisionPath_0=nt.Da)(h),Xi=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=h=>(Xi=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=nt.Ea)(h),vi=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=h=>(vi=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=nt.Fa)(h),sa=d._emscripten_bind_UnzipContext___destroy___0=h=>(sa=d._emscripten_bind_UnzipContext___destroy___0=nt.Ga)(h),aa=d._emscripten_bind_PasteContext_PasteContext_3=(h,L,ve)=>(aa=d._emscripten_bind_PasteContext_PasteContext_3=nt.Ha)(h,L,ve),la=d._emscripten_bind_PasteContext_AddFile_1=(h,L)=>(la=d._emscripten_bind_PasteContext_AddFile_1=nt.Ia)(h,L),ni=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(h,L)=>(ni=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=nt.Ja)(h,L),_r=d._emscripten_bind_PasteContext_GetState_0=h=>(_r=d._emscripten_bind_PasteContext_GetState_0=nt.Ka)(h),Wo=d._emscripten_bind_PasteContext_Continue_0=h=>(Wo=d._emscripten_bind_PasteContext_Continue_0=nt.La)(h),Ft=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=h=>(Ft=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=nt.Ma)(h),Mn=d._emscripten_bind_PasteContext_GetCurrentEntry_0=h=>(Mn=d._emscripten_bind_PasteContext_GetCurrentEntry_0=nt.Na)(h),Gl=d._emscripten_bind_PasteContext_GetCollisionPath_0=h=>(Gl=d._emscripten_bind_PasteContext_GetCollisionPath_0=nt.Oa)(h),pl=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=h=>(pl=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=nt.Pa)(h),hl=d._emscripten_bind_PasteContext___destroy___0=h=>(hl=d._emscripten_bind_PasteContext___destroy___0=nt.Qa)(h),Ul=d._main=(h,L)=>(Ul=d._main=nt.Ra)(h,L),jn=h=>(jn=nt.Ta)(h),hs=()=>(hs=nt.Ua)(),Tn=()=>(Tn=nt.Va)(),po=()=>(po=nt.Wa)();function Dr(){function h(){Er||(Er=!0,d.calledRun=!0,!ie&&(function Be(){fe(),Te(he)}(),function it(){fe(),Te(xe)}(),Z(d),d.onRuntimeInitialized?.(),Ir&&function Gn(){var h=Ul;try{Qt+=1;var Je=h(0,0);return Ar(Je),Je}catch(Lt){return(h=>{if(h instanceof oo||"unwind"==h)return ke;fe(),h instanceof WebAssembly.RuntimeError&&po()<=0&&k("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),M(1,h)})(Lt)}finally{Qt-=1}}(),function Ue(){if(fe(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)h=d.postRun.shift(),qe.unshift(h);var h;Te(qe)}()))}ye>0||(function or(){hs(),function tt(){var h=Tn();0==h&&(h+=4),D[h>>2]=34821223,D[h+4>>2]=2310721022,D[0]=1668509029}()}(),function de(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)h=d.preRun.shift(),Oe.unshift(h);var h;Te(Oe)}(),ye>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),h()},1)):h(),fe())}if(d.___original_main=()=>(d.___original_main=nt.Xa)(),we=function h(){Er||Dr(),Er||(we=h)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Ir=!0;function v(){}function q(h){return(h||v).__cache__}function ae(h,L){var ve=q(L),Je=ve[h];return Je||((Je=Object.create((L||v).prototype)).ptr=h,ve[h]=Je)}d.noInitialRun&&(Ir=!1),Dr(),(v.prototype=Object.create(v.prototype)).constructor=v,v.prototype.__class__=v,v.__cache__={},d.WrapperObject=v,d.getCache=q,d.wrapPointer=ae,d.castObject=function rt(h,L){return ae(h.ptr,L)},d.NULL=ae(0),d.destroy=function bt(h){if(!h.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";h.__destroy__(),delete q(h.__class__)[h.ptr]},d.compare=function Jt(h,L){return h.ptr===L.ptr},d.getPointer=function ut(h){return h.ptr},d.getClass=function pn(h){return h.__class__};var Ot={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Ot.needed){for(var h=0;h<Ot.temps.length;h++)d._webidl_free(Ot.temps[h]);Ot.temps.length=0,d._webidl_free(Ot.buffer),Ot.buffer=0,Ot.size+=Ot.needed,Ot.needed=0}Ot.buffer||(Ot.size+=128,Ot.buffer=d._webidl_malloc(Ot.size),Le(Ot.buffer)),Ot.pos=0},alloc(h,L){Le(Ot.buffer);var Lt,Je=h.length*L.BYTES_PER_ELEMENT;return Je=((h,L)=>8*Math.ceil(h/8))(Je),Ot.pos+Je>=Ot.size?(Le(Je>0),Ot.needed+=Je,Lt=d._webidl_malloc(Je),Ot.temps.push(Lt)):(Lt=Ot.buffer+Ot.pos,Ot.pos+=Je),Lt},copy(h,L,ve){ve/=L.BYTES_PER_ELEMENT;for(var Je=0;Je<h.length;Je++)L[ve+Je]=h[Je]}};function Xn(h){if("string"==typeof h){var L=function Xs(h,L,ve){var Je=ve>0?ve:Ys(h)+1,Lt=new Array(Je),Mt=rn(h,Lt,0,Lt.length);return L&&(Lt.length=Mt),Lt}(h),ve=Ot.alloc(L,N);return Ot.copy(L,N,ve),ve}return h}function Jr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function $e(){throw"cannot construct a FileEntry, no constructor in IDL"}function kt(){this.ptr=ue(),q(kt)[this.ptr]=this}function on(h){Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),this.ptr=Aa(h),q(on)[this.ptr]=this}function Un(h,L){Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),L&&"object"==typeof L&&(L=L.ptr),this.ptr=oa(h,L),q(Un)[this.ptr]=this}function Br(h){h&&"object"==typeof h&&(h=h.ptr),this.ptr=fs(h),q(Br)[this.ptr]=this}function ir(h,L,ve,Je){Ot.prepare(),h&&"object"==typeof h&&(h=h.ptr),L=L&&"object"==typeof L?L.ptr:Xn(L),ve&&"object"==typeof ve&&(ve=ve.ptr),Je&&"object"==typeof Je&&(Je=Je.ptr),this.ptr=Ht(h,L,ve,Je),q(ir)[this.ptr]=this}function Wn(h,L,ve){Ot.prepare(),h&&"object"==typeof h&&(h=h.ptr),L=L&&"object"==typeof L?L.ptr:Xn(L),ve=ve&&"object"==typeof ve?ve.ptr:Xn(ve),this.ptr=aa(h,L,ve),q(Wn)[this.ptr]=this}return(Jr.prototype=Object.create(v.prototype)).constructor=Jr,Jr.prototype.__class__=Jr,Jr.__cache__={},d.VoidPtr=Jr,Jr.prototype.__destroy__=Jr.prototype.__destroy__=function(){vt(this.ptr)},($e.prototype=Object.create(v.prototype)).constructor=$e,$e.prototype.__class__=$e,$e.__cache__={},d.FileEntry=$e,$e.prototype.GetName=$e.prototype.GetName=function(){return Yn(Zi(this.ptr))},$e.prototype.IsDirectory=$e.prototype.IsDirectory=function(){return!!g(this.ptr)},$e.prototype.GetSize=$e.prototype.GetSize=function(){return E(this.ptr)},$e.prototype.GetModifiedTS=$e.prototype.GetModifiedTS=function(){return z(this.ptr)},$e.prototype.GetAttributes=$e.prototype.GetAttributes=function(){return se(this.ptr)},$e.prototype.__destroy__=$e.prototype.__destroy__=function(){Pe(this.ptr)},(kt.prototype=Object.create(v.prototype)).constructor=kt,kt.prototype.__class__=kt,kt.__cache__={},d.Vfs=kt,kt.prototype.Malloc=kt.prototype.Malloc=function(h){return h&&"object"==typeof h&&(h=h.ptr),ae(Ye(this.ptr,h),Jr)},kt.prototype.Free=kt.prototype.Free=function(h){h&&"object"==typeof h&&(h=h.ptr),A(this.ptr,h)},kt.prototype.Nullptr=kt.prototype.Nullptr=function(){return ae(Qe(this.ptr),Jr)},kt.prototype.AllocateImage=kt.prototype.AllocateImage=function(h){h&&"object"==typeof h&&(h=h.ptr),je(this.ptr,h)},kt.prototype.MountImage=kt.prototype.MountImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),!!ct(this.ptr,h)},kt.prototype.UnmountImage=kt.prototype.UnmountImage=function(h){h&&"object"==typeof h&&(h=h.ptr),St(this.ptr,h)},kt.prototype.SwitchSlot=kt.prototype.SwitchSlot=function(h){h&&"object"==typeof h&&(h=h.ptr),wt(this.ptr,h)},kt.prototype.GetPendingImageSize=kt.prototype.GetPendingImageSize=function(){return Cn(this.ptr)},kt.prototype.GetSize=kt.prototype.GetSize=function(h){return h&&"object"==typeof h&&(h=h.ptr),gr(this.ptr,h)},kt.prototype.GetPendingImage=kt.prototype.GetPendingImage=function(){return ae(kr(this.ptr),Jr)},kt.prototype.GetImage=kt.prototype.GetImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),ae(Gr(this.ptr,h),Jr)},kt.prototype.GetDirtyPages=kt.prototype.GetDirtyPages=function(h){return h&&"object"==typeof h&&(h=h.ptr),ae(zn(this.ptr,h),Jr)},kt.prototype.RenameFile=kt.prototype.RenameFile=function(h,L){var ve=this.ptr;return Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),L=L&&"object"==typeof L?L.ptr:Xn(L),qi(ve,h,L)},kt.prototype.ChmodFile=kt.prototype.ChmodFile=function(h,L,ve){var Je=this.ptr;return Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),L&&"object"==typeof L&&(L=L.ptr),ve&&"object"==typeof ve&&(ve=ve.ptr),Pn(Je,h,L,ve)},kt.prototype.StatFile=kt.prototype.StatFile=function(h){var L=this.ptr;return Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),Po(L,h)},kt.prototype.UnlinkFile=kt.prototype.UnlinkFile=function(h){var L=this.ptr;return Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),Eo(L,h)},kt.prototype.Mkdir=kt.prototype.Mkdir=function(h){var L=this.ptr;return Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),Ki(L,h)},kt.prototype.GetEntry=kt.prototype.GetEntry=function(){return ae(xa(this.ptr),$e)},kt.prototype.BytesFree=kt.prototype.BytesFree=function(h){return h&&"object"==typeof h&&(h=h.ptr),Js(this.ptr,h)},kt.prototype.BytesTotal=kt.prototype.BytesTotal=function(h){return h&&"object"==typeof h&&(h=h.ptr),Os(this.ptr,h)},kt.prototype.ReadFile=kt.prototype.ReadFile=function(h){var L=this.ptr;return Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),!!ea(L,h)},kt.prototype.GetCurrentFileSize=kt.prototype.GetCurrentFileSize=function(){return Yi(this.ptr)},kt.prototype.GetCurrentFileContent=kt.prototype.GetCurrentFileContent=function(){return ae(Ta(this.ptr),Jr)},kt.prototype.ReleaseCurrentFile=kt.prototype.ReleaseCurrentFile=function(){ta(this.ptr)},kt.prototype.WriteFile=kt.prototype.WriteFile=function(h,L,ve){var Je=this.ptr;return Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),L&&"object"==typeof L&&(L=L.ptr),ve&&"object"==typeof ve&&(ve=ve.ptr),na(Je,h,L,ve)},kt.prototype.__destroy__=kt.prototype.__destroy__=function(){Ma(this.ptr)},(on.prototype=Object.create(v.prototype)).constructor=on,on.prototype.__class__=on,on.__cache__={},d.ReaddirContext=on,on.prototype.Next=on.prototype.Next=function(){return ka(this.ptr)},on.prototype.GetEntry=on.prototype.GetEntry=function(){return ae(Ra(this.ptr),$e)},on.prototype.GetStatus=on.prototype.GetStatus=function(){return ra(this.ptr)},on.prototype.GetError=on.prototype.GetError=function(){return Pa(this.ptr)},on.prototype.GetErrorDescription=on.prototype.GetErrorDescription=function(){return Yn(Oa(this.ptr))},on.prototype.__destroy__=on.prototype.__destroy__=function(){Sr(this.ptr)},(Un.prototype=Object.create(v.prototype)).constructor=Un,Un.prototype.__class__=Un,Un.__cache__={},d.ExportZipContext=Un,Un.prototype.AddFile=Un.prototype.AddFile=function(h){var L=this.ptr;return Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),ae(fo(L,h),Un)},Un.prototype.AddDirectory=Un.prototype.AddDirectory=function(h){var L=this.ptr;return Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),ae(jt(L,h),Un)},Un.prototype.Continue=Un.prototype.Continue=function(){return ia(this.ptr)},Un.prototype.GetState=Un.prototype.GetState=function(){return Fs(this.ptr)},Un.prototype.GetZipContent=Un.prototype.GetZipContent=function(){return ae(Qr(this.ptr),Jr)},Un.prototype.GetZipSize=Un.prototype.GetZipSize=function(){return Ns(this.ptr)},Un.prototype.GetErrorItem=Un.prototype.GetErrorItem=function(){return Yn(Fa(this.ptr))},Un.prototype.__destroy__=Un.prototype.__destroy__=function(){On(this.ptr)},(Br.prototype=Object.create(v.prototype)).constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},d.DeleteRecursiveContext=Br,Br.prototype.AddFile=Br.prototype.AddFile=function(h){var L=this.ptr;return Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),ae(wr(L,h),Br)},Br.prototype.Continue=Br.prototype.Continue=function(){return Ls(this.ptr)},Br.prototype.GetState=Br.prototype.GetState=function(){return dl(this.ptr)},Br.prototype.GetFailingPath=Br.prototype.GetFailingPath=function(){return Yn(Na(this.ptr))},Br.prototype.__destroy__=Br.prototype.__destroy__=function(){$n(this.ptr)},(ir.prototype=Object.create(v.prototype)).constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},d.UnzipContext=ir,ir.prototype.GetState=ir.prototype.GetState=function(){return ps(this.ptr)},ir.prototype.Continue=ir.prototype.Continue=function(){return $s(this.ptr)},ir.prototype.ContinueWithOverwrite=ir.prototype.ContinueWithOverwrite=function(){return fl(this.ptr)},ir.prototype.GetCurrentEntry=ir.prototype.GetCurrentEntry=function(){return Yn(Bs(this.ptr))},ir.prototype.GetCollisionPath=ir.prototype.GetCollisionPath=function(){return Yn(Ke(this.ptr))},ir.prototype.GetEntriesTotal=ir.prototype.GetEntriesTotal=function(){return Xi(this.ptr)},ir.prototype.GetEntriesSuccess=ir.prototype.GetEntriesSuccess=function(){return vi(this.ptr)},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){sa(this.ptr)},(Wn.prototype=Object.create(v.prototype)).constructor=Wn,Wn.prototype.__class__=Wn,Wn.__cache__={},d.PasteContext=Wn,Wn.prototype.AddFile=Wn.prototype.AddFile=function(h){var L=this.ptr;return Ot.prepare(),h=h&&"object"==typeof h?h.ptr:Xn(h),ae(la(L,h),Wn)},Wn.prototype.SetDeleteAfterCopy=Wn.prototype.SetDeleteAfterCopy=function(h){return h&&"object"==typeof h&&(h=h.ptr),ae(ni(this.ptr,h),Wn)},Wn.prototype.GetState=Wn.prototype.GetState=function(){return _r(this.ptr)},Wn.prototype.Continue=Wn.prototype.Continue=function(){return Wo(this.ptr)},Wn.prototype.ContinueWithOverwrite=Wn.prototype.ContinueWithOverwrite=function(){return Ft(this.ptr)},Wn.prototype.GetCurrentEntry=Wn.prototype.GetCurrentEntry=function(){return Yn(Mn(this.ptr))},Wn.prototype.GetCollisionPath=Wn.prototype.GetCollisionPath=function(){return Yn(Gl(this.ptr))},Wn.prototype.GetEntriesSuccess=Wn.prototype.GetEntriesSuccess=function(){return pl(this.ptr)},Wn.prototype.__destroy__=Wn.prototype.__destroy__=function(){hl(this.ptr)},O});be.exports=Ae},276:(be,Ae,C)=>{"use strict";C.d(Ae,{c:()=>d,r:()=>R});const d=(N,P)=>{N.componentOnReady?N.componentOnReady().then(ne=>P(ne)):R(()=>P(N))},R=N=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(N):"function"==typeof requestAnimationFrame?requestAnimationFrame(N):setTimeout(N)},7687:(be,Ae,C)=>{"use strict";C.d(Ae,{L:()=>w,a:()=>T,b:()=>d,c:()=>Z,d:()=>B,g:()=>N});const w="ionViewWillEnter",T="ionViewDidEnter",d="ionViewWillLeave",Z="ionViewDidLeave",B="ionViewWillUnload",N=P=>P.classList.contains("ion-page")?P:P.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||P},2723:(be,Ae,C)=>{"use strict";C.d(Ae,{c:()=>De});var w=C(6940),T=C(4675);let d;const B=te=>te.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O=te=>(void 0===d&&(d=void 0===te.style.animationName&&void 0!==te.style.webkitAnimationName?"-webkit-":""),d),I=(te,W,k)=>{const ee=W.startsWith("animation")?O(te):"";te.style.setProperty(ee+W,k)},x=(te,W)=>{const k=W.startsWith("animation")?O(te):"";te.style.removeProperty(k+W)},R=[],pe=(te=[],W)=>{if(void 0!==W){const k=Array.isArray(W)?W:[W];return[...te,...k]}return te},De=te=>{let W,k,ee,ce,ie,ke,re,Oe,he,xe,qe,it,Ue,Le=[],N=[],P=[],ne=!1,S={},D=[],K=[],me={},Ge=0,tt=!1,fe=!1,Ct=!0,de=!1,Be=!0,Tt=!1;const Bt=te,Gt=[],ye=[],Ie=[],we=[],Xe=[],ft=[],Et=[],fn=[],Yt=[],Qt=[],an=[],br="function"==typeof AnimationEffect||void 0!==w.w&&"function"==typeof w.w.AnimationEffect,ur="function"==typeof Element&&"function"==typeof Element.prototype.animate&&br,Fr=()=>an,Ro=(g,E)=>{const z=E.findIndex(se=>se.c===g);z>-1&&E.splice(z,1)},dr=(g,E)=>((E?.oneTimeCallback?ye:Gt).push({c:g,o:E}),Ue),Te=()=>{if(ur)an.forEach(g=>{g.cancel()}),an.length=0;else{const g=we.slice();(0,T.r)(()=>{g.forEach(E=>{x(E,"animation-name"),x(E,"animation-duration"),x(E,"animation-timing-function"),x(E,"animation-iteration-count"),x(E,"animation-delay"),x(E,"animation-play-state"),x(E,"animation-fill-mode"),x(E,"animation-direction")})})}},Me=()=>{ft.forEach(g=>{g?.parentNode&&g.parentNode.removeChild(g)}),ft.length=0},Go=()=>void 0!==ie?ie:re?re.getFill():"both",xn=()=>void 0!==he?he:void 0!==ke?ke:re?re.getDirection():"normal",Cr=()=>tt?"linear":void 0!==ee?ee:re?re.getEasing():"linear",Mr=()=>fe?0:void 0!==xe?xe:void 0!==k?k:re?re.getDuration():0,yn=()=>void 0!==ce?ce:re?re.getIterations():1,_n=()=>void 0!==qe?qe:void 0!==W?W:re?re.getDelay():0,$r=()=>{0!==Ge&&(Ge--,0===Ge&&((()=>{us(),Yt.forEach(Pe=>Pe()),Qt.forEach(Pe=>Pe());const g=Ct?1:0,E=D,z=K,se=me;we.forEach(Pe=>{const ue=Pe.classList;E.forEach(Ye=>ue.add(Ye)),z.forEach(Ye=>ue.remove(Ye));for(const Ye in se)se.hasOwnProperty(Ye)&&I(Pe,Ye,se[Ye])}),xe=void 0,he=void 0,qe=void 0,Gt.forEach(Pe=>Pe.c(g,Ue)),ye.forEach(Pe=>Pe.c(g,Ue)),ye.length=0,Be=!0,Ct&&(de=!0),Ct=!0})(),re&&re.animationFinish()))},Wi=(g=!0)=>{Me();const E=(te=>(te.forEach(W=>{for(const k in W)if(W.hasOwnProperty(k)){const ee=W[k];if("easing"===k)W["animation-timing-function"]=ee,delete W[k];else{const ce=B(k);ce!==k&&(W[ce]=ee,delete W[k])}}}),te))(Le);we.forEach(z=>{if(E.length>0){const se=((te=[])=>te.map(W=>{const k=W.offset,ee=[];for(const ce in W)W.hasOwnProperty(ce)&&"offset"!==ce&&ee.push(`${ce}: ${W[ce]};`);return`${100*k}% { ${ee.join(" ")} }`}).join(" "))(E);it=void 0!==te?te:(te=>{let W=R.indexOf(te);return W<0&&(W=R.push(te)-1),`ion-animation-${W}`})(se);const Pe=((te,W,k)=>{var ee;const ce=(te=>{const W=void 0!==te.getRootNode?te.getRootNode():te;return W.head||W})(k),ie=O(k),ke=ce.querySelector("#"+te);if(ke)return ke;const Le=(null!==(ee=k.ownerDocument)&&void 0!==ee?ee:document).createElement("style");return Le.id=te,Le.textContent=`@${ie}keyframes ${te} { ${W} } @${ie}keyframes ${te}-alt { ${W} }`,ce.appendChild(Le),Le})(it,se,z);ft.push(Pe),I(z,"animation-duration",`${Mr()}ms`),I(z,"animation-timing-function",Cr()),I(z,"animation-delay",`${_n()}ms`),I(z,"animation-fill-mode",Go()),I(z,"animation-direction",xn());const ue=yn()===1/0?"infinite":yn().toString();I(z,"animation-iteration-count",ue),I(z,"animation-play-state","paused"),g&&I(z,"animation-name",`${Pe.id}-alt`),(0,T.r)(()=>{I(z,"animation-name",Pe.id||null)})}})},Ii=(g=!0)=>{(()=>{Et.forEach(se=>se()),fn.forEach(se=>se());const g=N,E=P,z=S;we.forEach(se=>{const Pe=se.classList;g.forEach(ue=>Pe.add(ue)),E.forEach(ue=>Pe.remove(ue));for(const ue in z)z.hasOwnProperty(ue)&&I(se,ue,z[ue])})})(),Le.length>0&&(ur?(we.forEach(g=>{const E=g.animate(Le,{id:Bt,delay:_n(),duration:Mr(),easing:Cr(),iterations:yn(),fill:Go(),direction:xn()});E.pause(),an.push(E)}),an.length>0&&(an[0].onfinish=()=>{$r()})):Wi(g)),ne=!0},go=g=>{if(g=Math.min(Math.max(g,0),.9999),ur)an.forEach(E=>{E.currentTime=E.effect.getComputedTiming().delay+Mr()*g,E.pause()});else{const E=`-${Mr()*g}ms`;we.forEach(z=>{Le.length>0&&(I(z,"animation-delay",E),I(z,"animation-play-state","paused"))})}},cs=g=>{an.forEach(E=>{E.effect.updateTiming({delay:_n(),duration:Mr(),easing:Cr(),iterations:yn(),fill:Go(),direction:xn()})}),void 0!==g&&go(g)},ks=(g=!0,E)=>{(0,T.r)(()=>{we.forEach(z=>{I(z,"animation-name",it||null),I(z,"animation-duration",`${Mr()}ms`),I(z,"animation-timing-function",Cr()),I(z,"animation-delay",void 0!==E?`-${E*Mr()}ms`:`${_n()}ms`),I(z,"animation-fill-mode",Go()||null),I(z,"animation-direction",xn()||null);const se=yn()===1/0?"infinite":yn().toString();I(z,"animation-iteration-count",se),g&&I(z,"animation-name",`${it}-alt`),(0,T.r)(()=>{I(z,"animation-name",it||null)})})})},Yr=(g=!1,E=!0,z)=>(g&&Xe.forEach(se=>{se.update(g,E,z)}),ur?cs(z):ks(E,z),Ue),bn=()=>{ne&&(ur?an.forEach(g=>{g.pause()}):we.forEach(g=>{I(g,"animation-play-state","paused")}),Tt=!0)},Xs=()=>{Oe=void 0,$r()},us=()=>{Oe&&clearTimeout(Oe)},ds=g=>new Promise(E=>{g?.sync&&(fe=!0,dr(()=>fe=!1,{oneTimeCallback:!0})),ne||Ii(),de&&(ur?(go(0),cs()):ks(),de=!1),Be&&(Ge=Xe.length+1,Be=!1);const z=()=>{Ro(se,ye),E()},se=()=>{Ro(z,Ie),E()};dr(se,{oneTimeCallback:!0}),((g,E)=>{Ie.push({c:g,o:{oneTimeCallback:!0}})})(z),Xe.forEach(Pe=>{Pe.play()}),ur?(an.forEach(g=>{g.play()}),(0===Le.length||0===we.length)&&$r()):(()=>{if(us(),(0,T.r)(()=>{we.forEach(g=>{Le.length>0&&I(g,"animation-play-state","running")})}),0===Le.length||0===we.length)$r();else{const g=_n()||0,E=Mr()||0,z=yn()||1;isFinite(z)&&(Oe=setTimeout(Xs,g+E*z+100)),((te,W)=>{let k;const ee={passive:!0},ie=ke=>{te===ke.target&&(k&&k(),us(),(0,T.r)(()=>{we.forEach(g=>{x(g,"animation-duration"),x(g,"animation-delay"),x(g,"animation-play-state")}),(0,T.r)($r)}))};te&&(te.addEventListener("webkitAnimationEnd",ie,ee),te.addEventListener("animationend",ie,ee),k=()=>{te.removeEventListener("webkitAnimationEnd",ie,ee),te.removeEventListener("animationend",ie,ee)})})(we[0])}})(),Tt=!1}),Xr=(g,E)=>{const z=Le[0];return void 0===z||void 0!==z.offset&&0!==z.offset?Le=[{offset:0,[g]:E},...Le]:z[g]=E,Ue};return Ue={parentAnimation:re,elements:we,childAnimations:Xe,id:Bt,animationFinish:$r,from:Xr,to:(g,E)=>{const z=Le[Le.length-1];return void 0===z||void 0!==z.offset&&1!==z.offset?Le=[...Le,{offset:1,[g]:E}]:z[g]=E,Ue},fromTo:(g,E,z)=>Xr(g,E).to(g,z),parent:g=>(re=g,Ue),play:ds,pause:()=>(Xe.forEach(g=>{g.pause()}),bn(),Ue),stop:()=>{Xe.forEach(g=>{g.stop()}),ne&&(Te(),ne=!1),tt=!1,fe=!1,Be=!0,he=void 0,xe=void 0,qe=void 0,Ge=0,de=!1,Ct=!0,Tt=!1,Ie.forEach(g=>g.c(0,Ue)),Ie.length=0},destroy:g=>(Xe.forEach(E=>{E.destroy(g)}),(g=>{Te(),g&&Me()})(g),we.length=0,Xe.length=0,Le.length=0,Gt.length=0,ye.length=0,ne=!1,Be=!0,Ue),keyframes:g=>{const E=Le!==g;return Le=g,E&&(g=>{ur?Fr().forEach(E=>{const z=E.effect;if(z.setKeyframes)z.setKeyframes(g);else{const se=new KeyframeEffect(z.target,g,z.getTiming());E.effect=se}}):Wi()})(Le),Ue},addAnimation:g=>{if(null!=g)if(Array.isArray(g))for(const E of g)E.parent(Ue),Xe.push(E);else g.parent(Ue),Xe.push(g);return Ue},addElement:g=>{if(null!=g)if(1===g.nodeType)we.push(g);else if(g.length>=0)for(let E=0;E<g.length;E++)we.push(g[E]);else console.error("Invalid addElement value");return Ue},update:Yr,fill:g=>(ie=g,Yr(!0),Ue),direction:g=>(ke=g,Yr(!0),Ue),iterations:g=>(ce=g,Yr(!0),Ue),duration:g=>(!ur&&0===g&&(g=1),k=g,Yr(!0),Ue),easing:g=>(ee=g,Yr(!0),Ue),delay:g=>(W=g,Yr(!0),Ue),getWebAnimations:Fr,getKeyframes:()=>Le,getFill:Go,getDirection:xn,getDelay:_n,getIterations:yn,getEasing:Cr,getDuration:Mr,afterAddRead:g=>(Yt.push(g),Ue),afterAddWrite:g=>(Qt.push(g),Ue),afterClearStyles:(g=[])=>{for(const E of g)me[E]="";return Ue},afterStyles:(g={})=>(me=g,Ue),afterRemoveClass:g=>(K=pe(K,g),Ue),afterAddClass:g=>(D=pe(D,g),Ue),beforeAddRead:g=>(Et.push(g),Ue),beforeAddWrite:g=>(fn.push(g),Ue),beforeClearStyles:(g=[])=>{for(const E of g)S[E]="";return Ue},beforeStyles:(g={})=>(S=g,Ue),beforeRemoveClass:g=>(P=pe(P,g),Ue),beforeAddClass:g=>(N=pe(N,g),Ue),onFinish:dr,isRunning:()=>0!==Ge&&!Tt,progressStart:(g=!1,E)=>(Xe.forEach(z=>{z.progressStart(g,E)}),bn(),tt=g,ne||Ii(),Yr(!1,!0,E),Ue),progressStep:g=>(Xe.forEach(E=>{E.progressStep(g)}),go(g),Ue),progressEnd:(g,E,z)=>(tt=!1,Xe.forEach(se=>{se.progressEnd(g,E,z)}),void 0!==z&&(xe=z),de=!1,Ct=!0,0===g?(he="reverse"===xn()?"normal":"reverse","reverse"===he&&(Ct=!1),ur?(Yr(),go(1-E)):(qe=(1-E)*Mr()*-1,Yr(!1,!1))):1===g&&(ur?(Yr(),go(E)):(qe=E*Mr()*-1,Yr(!1,!1))),void 0!==g&&!re&&ds(),Ue)}}},2984:(be,Ae,C)=>{"use strict";C.d(Ae,{E:()=>G,I:()=>I,a:()=>w,s:()=>x});const w=R=>{try{if(R instanceof I)return R.value;if(!Z()||"string"!=typeof R||""===R)return R;if(R.includes("onload="))return"";const j=document.createDocumentFragment(),M=document.createElement("div");j.appendChild(M),M.innerHTML=R,O.forEach(te=>{const W=j.querySelectorAll(te);for(let k=W.length-1;k>=0;k--){const ee=W[k];ee.parentNode?ee.parentNode.removeChild(ee):j.removeChild(ee);const ce=d(ee);for(let ie=0;ie<ce.length;ie++)T(ce[ie])}});const F=d(j);for(let te=0;te<F.length;te++)T(F[te]);const pe=document.createElement("div");pe.appendChild(j);const De=pe.querySelector("div");return null!==De?De.innerHTML:pe.innerHTML}catch(j){return console.error(j),""}},T=R=>{if(R.nodeType&&1!==R.nodeType)return;if(typeof NamedNodeMap<"u"&&!(R.attributes instanceof NamedNodeMap))return void R.remove();for(let M=R.attributes.length-1;M>=0;M--){const F=R.attributes.item(M),pe=F.name;if(!B.includes(pe.toLowerCase())){R.removeAttribute(pe);continue}const De=F.value,te=R[pe];(null!=De&&De.toLowerCase().includes("javascript:")||null!=te&&te.toLowerCase().includes("javascript:"))&&R.removeAttribute(pe)}const j=d(R);for(let M=0;M<j.length;M++)T(j[M])},d=R=>null!=R.children?R.children:R.childNodes,Z=()=>{var R;const j=window,M=null===(R=j?.Ionic)||void 0===R?void 0:R.config;return!M||(M.get?M.get("sanitizerEnabled",!0):!0===M.sanitizerEnabled||void 0===M.sanitizerEnabled)},B=["class","id","href","src","name","slot"],O=["script","style","iframe","meta","link","object","embed"];class I{constructor(j){this.value=j}}const x=R=>{const j=window,M=j.Ionic;if(!M||!M.config||"Object"===M.config.constructor.name)return j.Ionic=j.Ionic||{},j.Ionic.config=Object.assign(Object.assign({},j.Ionic.config),R),j.Ionic.config},G=!1},8573:(be,Ae,C)=>{"use strict";C.d(Ae,{C:()=>B,a:()=>d,d:()=>Z});var w=C(3918),T=C(4675);const d=function(){var O=(0,w.Z)(function*(I,x,X,G,R,j){var M;if(I)return I.attachViewToDom(x,X,R,G);if(!(j||"string"==typeof X||X instanceof HTMLElement))throw new Error("framework delegate is missing");const F="string"==typeof X?null===(M=x.ownerDocument)||void 0===M?void 0:M.createElement(X):X;return G&&G.forEach(pe=>F.classList.add(pe)),R&&Object.assign(F,R),x.appendChild(F),yield new Promise(pe=>(0,T.c)(F,pe)),F});return function(x,X,G,R,j,M){return O.apply(this,arguments)}}(),Z=(O,I)=>{if(I){if(O)return O.removeViewFromDom(I.parentElement,I);I.remove()}return Promise.resolve()},B=()=>{let O,I;return{attachViewToDom:function(){var G=(0,w.Z)(function*(R,j,M={},F=[]){var pe,De;let te;if(O=R,j){const k="string"==typeof j?null===(pe=O.ownerDocument)||void 0===pe?void 0:pe.createElement(j):j;F.forEach(ee=>k.classList.add(ee)),Object.assign(k,M),O.appendChild(k),te=k,yield new Promise(ee=>(0,T.c)(k,ee))}else if(O.children.length>0&&("ION-MODAL"===O.tagName||"ION-POPOVER"===O.tagName)&&!(te=O.children[0]).classList.contains("ion-delegate-host")){const ee=null===(De=O.ownerDocument)||void 0===De?void 0:De.createElement("div");ee.classList.add("ion-delegate-host"),F.forEach(ce=>ee.classList.add(ce)),ee.append(...O.children),O.appendChild(ee),te=ee}const W=document.querySelector("ion-app")||document.body;return I=document.createComment("ionic teleport"),O.parentNode.insertBefore(I,O),W.appendChild(O),te??O});return function(j,M){return G.apply(this,arguments)}}(),removeViewFromDom:()=>(O&&I&&(I.parentNode.insertBefore(O,I),I.remove()),Promise.resolve())}}},4967:(be,Ae,C)=>{"use strict";C.d(Ae,{G:()=>B});class T{constructor(I,x,X,G,R){this.id=x,this.name=X,this.disableScroll=R,this.priority=1e6*G+x,this.ctrl=I}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const I=this.ctrl.capture(this.name,this.id,this.priority);return I&&this.disableScroll&&this.ctrl.disableScroll(this.id),I}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class d{constructor(I,x,X,G){this.id=x,this.disable=X,this.disableScroll=G,this.ctrl=I}block(){if(this.ctrl){if(this.disable)for(const I of this.disable)this.ctrl.disableGesture(I,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const I of this.disable)this.ctrl.enableGesture(I,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Z="backdrop-no-scroll",B=new class w{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(I){var x;return new T(this,this.newID(),I.name,null!==(x=I.priority)&&void 0!==x?x:0,!!I.disableScroll)}createBlocker(I={}){return new d(this,this.newID(),I.disable,!!I.disableScroll)}start(I,x,X){return this.canStart(I)?(this.requestedStart.set(x,X),!0):(this.requestedStart.delete(x),!1)}capture(I,x,X){if(!this.start(I,x,X))return!1;const G=this.requestedStart;let R=-1e4;if(G.forEach(j=>{R=Math.max(R,j)}),R===X){this.capturedId=x,G.clear();const j=new CustomEvent("ionGestureCaptured",{detail:{gestureName:I}});return document.dispatchEvent(j),!0}return G.delete(x),!1}release(I){this.requestedStart.delete(I),this.capturedId===I&&(this.capturedId=void 0)}disableGesture(I,x){let X=this.disabledGestures.get(I);void 0===X&&(X=new Set,this.disabledGestures.set(I,X)),X.add(x)}enableGesture(I,x){const X=this.disabledGestures.get(I);void 0!==X&&X.delete(x)}disableScroll(I){this.disabledScroll.add(I),1===this.disabledScroll.size&&document.body.classList.add(Z)}enableScroll(I){this.disabledScroll.delete(I),0===this.disabledScroll.size&&document.body.classList.remove(Z)}canStart(I){return!(void 0!==this.capturedId||this.isDisabled(I))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(I){const x=this.disabledGestures.get(I);return!!(x&&x.size>0)}newID(){return this.gestureId++,this.gestureId}}},1940:(be,Ae,C)=>{"use strict";C.r(Ae),C.d(Ae,{MENU_BACK_BUTTON_PRIORITY:()=>B,OVERLAY_BACK_BUTTON_PRIORITY:()=>Z,blockHardwareBackButton:()=>T,startHardwareBackButton:()=>d});var w=C(3918);const T=()=>{document.addEventListener("backbutton",()=>{})},d=()=>{const O=document;let I=!1;O.addEventListener("backbutton",()=>{if(I)return;let x=0,X=[];const G=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(M,F){X.push({priority:M,handler:F,id:x++})}}});O.dispatchEvent(G);const R=function(){var M=(0,w.Z)(function*(F){try{if(F?.handler){const pe=F.handler(j);null!=pe&&(yield pe)}}catch(pe){console.error(pe)}});return function(pe){return M.apply(this,arguments)}}(),j=()=>{if(X.length>0){let M={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};X.forEach(F=>{F.priority>=M.priority&&(M=F)}),I=!0,X=X.filter(F=>F.id!==M.id),R(M).then(()=>I=!1)}};j()})},Z=100,B=99},4675:(be,Ae,C)=>{"use strict";C.d(Ae,{a:()=>x,b:()=>X,c:()=>d,d:()=>De,e:()=>pe,f:()=>F,g:()=>G,h:()=>M,i:()=>I,j:()=>ie,k:()=>B,l:()=>te,m:()=>Z,n:()=>j,o:()=>W,p:()=>ce,q:()=>ke,r:()=>R,s:()=>Le,t:()=>w,u:()=>k,v:()=>ee});const w=(N,P=0)=>new Promise(ne=>{T(N,P,ne)}),T=(N,P=0,ne)=>{let re,S;const D={passive:!0},me=()=>{re&&re()},Ge=tt=>{(void 0===tt||N===tt.target)&&(me(),ne(tt))};return N&&(N.addEventListener("webkitTransitionEnd",Ge,D),N.addEventListener("transitionend",Ge,D),S=setTimeout(Ge,P+500),re=()=>{S&&(clearTimeout(S),S=void 0),N.removeEventListener("webkitTransitionEnd",Ge,D),N.removeEventListener("transitionend",Ge,D)}),me},d=(N,P)=>{N.componentOnReady?N.componentOnReady().then(ne=>P(ne)):R(()=>P(N))},Z=N=>void 0!==N.componentOnReady,B=(N,P=[])=>{const ne={};return P.forEach(re=>{N.hasAttribute(re)&&(null!==N.getAttribute(re)&&(ne[re]=N.getAttribute(re)),N.removeAttribute(re))}),ne},O=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],I=(N,P)=>{let ne=O;return P&&P.length>0&&(ne=ne.filter(re=>!P.includes(re))),B(N,ne)},x=(N,P,ne,re)=>{var S;if(typeof window<"u"){const D=window,K=null===(S=D?.Ionic)||void 0===S?void 0:S.config;if(K){const me=K.get("_ael");if(me)return me(N,P,ne,re);if(K._ael)return K._ael(N,P,ne,re)}}return N.addEventListener(P,ne,re)},X=(N,P,ne,re)=>{var S;if(typeof window<"u"){const D=window,K=null===(S=D?.Ionic)||void 0===S?void 0:S.config;if(K){const me=K.get("_rel");if(me)return me(N,P,ne,re);if(K._rel)return K._rel(N,P,ne,re)}}return N.removeEventListener(P,ne,re)},G=(N,P=N)=>N.shadowRoot||P,R=N=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(N):"function"==typeof requestAnimationFrame?requestAnimationFrame(N):setTimeout(N),j=N=>!!N.shadowRoot&&!!N.attachShadow,M=N=>{const P=N.closest("ion-item");return P?P.querySelector("ion-label"):null},F=N=>{if(N.focus(),N.classList.contains("ion-focusable")){const P=N.closest("ion-app");P&&P.setFocus([N])}},pe=(N,P)=>{let ne;const re=N.getAttribute("aria-labelledby"),S=N.id;let D=null!==re&&""!==re.trim()?re:P+"-lbl",K=null!==re&&""!==re.trim()?document.getElementById(re):M(N);return K?(null===re&&(K.id=D),ne=K.textContent,K.setAttribute("aria-hidden","true")):""!==S.trim()&&(K=document.querySelector(`label[for="${S}"]`),K&&(""!==K.id?D=K.id:K.id=D=`${S}-lbl`,ne=K.textContent)),{label:K,labelId:D,labelText:ne}},De=(N,P,ne,re,S)=>{if(N||j(P)){let D=P.querySelector("input.aux-input");D||(D=P.ownerDocument.createElement("input"),D.type="hidden",D.classList.add("aux-input"),P.appendChild(D)),D.disabled=S,D.name=ne,D.value=re||""}},te=(N,P,ne)=>Math.max(N,Math.min(P,ne)),W=(N,P)=>{if(!N){const ne="ASSERT: "+P;throw console.error(ne),new Error(ne)}},k=N=>N.timeStamp||Date.now(),ee=N=>{if(N){const P=N.changedTouches;if(P&&P.length>0){const ne=P[0];return{x:ne.clientX,y:ne.clientY}}if(void 0!==N.pageX)return{x:N.pageX,y:N.pageY}}return{x:0,y:0}},ce=N=>{const P="rtl"===document.dir;switch(N){case"start":return P;case"end":return!P;default:throw new Error(`"${N}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ie=(N,P)=>{const ne=N._original||N;return{_original:N,emit:ke(ne.emit.bind(ne),P)}},ke=(N,P=0)=>{let ne;return(...re)=>{clearTimeout(ne),ne=setTimeout(N,P,...re)}},Le=(N,P)=>{if(N??(N={}),P??(P={}),N===P)return!0;const ne=Object.keys(N);if(ne.length!==Object.keys(P).length)return!1;for(const re of ne)if(!(re in P)||N[re]!==P[re])return!1;return!0}},4656:(be,Ae,C)=>{"use strict";C.d(Ae,{m:()=>M});var w=C(3918),T=C(6940),d=C(1940),Z=C(6240),B=C(4675),O=C(5194),I=C(2723);const x=F=>(0,I.c)().duration(F?400:300),X=F=>{let pe,De;const te=F.width+8,W=(0,I.c)(),k=(0,I.c)();F.isEndSide?(pe=te+"px",De="0px"):(pe=-te+"px",De="0px"),W.addElement(F.menuInnerEl).fromTo("transform",`translateX(${pe})`,`translateX(${De})`);const ce="ios"===(0,O.b)(F),ie=ce?.2:.25;return k.addElement(F.backdropEl).fromTo("opacity",.01,ie),x(ce).addAnimation([W,k])},G=F=>{let pe,De;const te=(0,O.b)(F),W=F.width;F.isEndSide?(pe=-W+"px",De=W+"px"):(pe=W+"px",De=-W+"px");const k=(0,I.c)().addElement(F.menuInnerEl).fromTo("transform",`translateX(${De})`,"translateX(0px)"),ee=(0,I.c)().addElement(F.contentEl).fromTo("transform","translateX(0px)",`translateX(${pe})`),ce=(0,I.c)().addElement(F.backdropEl).fromTo("opacity",.01,.32);return x("ios"===te).addAnimation([k,ee,ce])},R=F=>{const pe=(0,O.b)(F),De=F.width*(F.isEndSide?-1:1)+"px",te=(0,I.c)().addElement(F.contentEl).fromTo("transform","translateX(0px)",`translateX(${De})`);return x("ios"===pe).addAnimation(te)},M=(()=>{const F=new Map,pe=[],De=function(){var he=(0,w.Z)(function*(xe){const qe=yield ke(xe,!0);return!!qe&&qe.open()});return function(qe){return he.apply(this,arguments)}}(),te=function(){var he=(0,w.Z)(function*(xe){const qe=yield void 0!==xe?ke(xe,!0):Le();return void 0!==qe&&qe.close()});return function(qe){return he.apply(this,arguments)}}(),W=function(){var he=(0,w.Z)(function*(xe){const qe=yield ke(xe,!0);return!!qe&&qe.toggle()});return function(qe){return he.apply(this,arguments)}}(),k=function(){var he=(0,w.Z)(function*(xe,qe){const Ct=yield ke(qe);return Ct&&(Ct.disabled=!xe),Ct});return function(qe,Ct){return he.apply(this,arguments)}}(),ee=function(){var he=(0,w.Z)(function*(xe,qe){const Ct=yield ke(qe);return Ct&&(Ct.swipeGesture=xe),Ct});return function(qe,Ct){return he.apply(this,arguments)}}(),ce=function(){var he=(0,w.Z)(function*(xe){if(null!=xe){const qe=yield ke(xe);return void 0!==qe&&qe.isOpen()}return void 0!==(yield Le())});return function(qe){return he.apply(this,arguments)}}(),ie=function(){var he=(0,w.Z)(function*(xe){const qe=yield ke(xe);return!!qe&&!qe.disabled});return function(qe){return he.apply(this,arguments)}}(),ke=function(){var he=(0,w.Z)(function*(xe,qe=!1){if(yield Oe(),"start"===xe||"end"===xe){const de=pe.filter(it=>it.side===xe&&!it.disabled);if(de.length>=1)return de.length>1&&qe&&(0,Z.p)(`menuController queried for a menu on the "${xe}" side, but ${de.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,de.map(it=>it.el)),de[0].el;const Be=pe.filter(it=>it.side===xe);if(Be.length>=1)return Be.length>1&&qe&&(0,Z.p)(`menuController queried for a menu on the "${xe}" side, but ${Be.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Be.map(it=>it.el)),Be[0].el}else if(null!=xe)return fe(de=>de.menuId===xe);return fe(de=>!de.disabled)||(pe.length>0?pe[0].el:void 0)});return function(qe){return he.apply(this,arguments)}}(),Le=function(){var he=(0,w.Z)(function*(){return yield Oe(),me()});return function(){return he.apply(this,arguments)}}(),N=function(){var he=(0,w.Z)(function*(){return yield Oe(),Ge()});return function(){return he.apply(this,arguments)}}(),P=function(){var he=(0,w.Z)(function*(){return yield Oe(),tt()});return function(){return he.apply(this,arguments)}}(),ne=(he,xe)=>{F.set(he,xe)},D=function(){var he=(0,w.Z)(function*(xe,qe,Ct){if(tt())return!1;if(qe){const de=yield Le();de&&xe.el!==de&&(yield de.setOpen(!1,!1))}return xe._setOpen(qe,Ct)});return function(qe,Ct,de){return he.apply(this,arguments)}}(),me=()=>fe(he=>he._isOpen),Ge=()=>pe.map(he=>he.el),tt=()=>pe.some(he=>he.isAnimating),fe=he=>{const xe=pe.find(he);if(void 0!==xe)return xe.el},Oe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(he=>new Promise(xe=>(0,B.c)(he,xe))));return ne("reveal",R),ne("push",G),ne("overlay",X),null==T.d||T.d.addEventListener("ionBackButton",he=>{const xe=me();xe&&he.detail.register(d.MENU_BACK_BUTTON_PRIORITY,()=>xe.close())}),{registerAnimation:ne,get:ke,getMenus:N,getOpen:Le,isEnabled:ie,swipeGesture:ee,isAnimating:P,isOpen:ce,enable:k,toggle:W,close:te,open:De,_getOpenSync:me,_createAnimation:(he,xe)=>{const qe=F.get(he);if(!qe)throw new Error("animation not registered");return qe(xe)},_register:he=>{pe.indexOf(he)<0&&pe.push(he)},_unregister:he=>{const xe=pe.indexOf(he);xe>-1&&pe.splice(xe,1)},_setOpen:D}})()},4923:(be,Ae,C)=>{"use strict";C.r(Ae),C.d(Ae,{GESTURE_CONTROLLER:()=>w.G,createGesture:()=>X});var w=C(4967);const T=(M,F,pe,De)=>{const te=d(M)?{capture:!!De.capture,passive:!!De.passive}:!!De.capture;let W,k;return M.__zone_symbol__addEventListener?(W="__zone_symbol__addEventListener",k="__zone_symbol__removeEventListener"):(W="addEventListener",k="removeEventListener"),M[W](F,pe,te),()=>{M[k](F,pe,te)}},d=M=>{if(void 0===Z)try{const F=Object.defineProperty({},"passive",{get:()=>{Z=!0}});M.addEventListener("optsTest",()=>{},F)}catch{Z=!1}return!!Z};let Z;const I=M=>M instanceof Document?M:M.ownerDocument,X=M=>{let F=!1,pe=!1,De=!0,te=!1;const W=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},M),k=W.canStart,ee=W.onWillStart,ce=W.onStart,ie=W.onEnd,ke=W.notCaptured,Le=W.onMove,N=W.threshold,P=W.passive,ne=W.blurOnStart,re={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},S=((M,F,pe)=>{const De=pe*(Math.PI/180),te="x"===M,W=Math.cos(De),k=F*F;let ee=0,ce=0,ie=!1,ke=0;return{start(Le,N){ee=Le,ce=N,ke=0,ie=!0},detect(Le,N){if(!ie)return!1;const P=Le-ee,ne=N-ce,re=P*P+ne*ne;if(re<k)return!1;const S=Math.sqrt(re),D=(te?P:ne)/S;return ke=D>W?1:D<-W?-1:0,ie=!1,!0},isGesture:()=>0!==ke,getDirection:()=>ke}})(W.direction,W.threshold,W.maxAngle),D=w.G.createGesture({name:M.gestureName,priority:M.gesturePriority,disableScroll:M.disableScroll}),Ge=()=>{F&&(te=!1,Le&&Le(re))},tt=()=>!!D.capture()&&(F=!0,De=!1,re.startX=re.currentX,re.startY=re.currentY,re.startTime=re.currentTime,ee?ee(re).then(Oe):Oe(),!0),Oe=()=>{ne&&(()=>{if(typeof document<"u"){const de=document.activeElement;de?.blur&&de.blur()}})(),ce&&ce(re),De=!0},he=()=>{F=!1,pe=!1,te=!1,De=!0,D.release()},xe=de=>{const Be=F,it=De;if(he(),it){if(G(re,de),Be)return void(ie&&ie(re));ke&&ke(re)}},qe=((M,F,pe,De,te)=>{let W,k,ee,ce,ie,ke,Le,N=0;const P=fe=>{N=Date.now()+2e3,F(fe)&&(!k&&pe&&(k=T(M,"touchmove",pe,te)),ee||(ee=T(fe.target,"touchend",re,te)),ce||(ce=T(fe.target,"touchcancel",re,te)))},ne=fe=>{N>Date.now()||F(fe)&&(!ke&&pe&&(ke=T(I(M),"mousemove",pe,te)),Le||(Le=T(I(M),"mouseup",S,te)))},re=fe=>{D(),De&&De(fe)},S=fe=>{K(),De&&De(fe)},D=()=>{k&&k(),ee&&ee(),ce&&ce(),k=ee=ce=void 0},K=()=>{ke&&ke(),Le&&Le(),ke=Le=void 0},me=()=>{D(),K()},Ge=(fe=!0)=>{fe?(W||(W=T(M,"touchstart",P,te)),ie||(ie=T(M,"mousedown",ne,te))):(W&&W(),ie&&ie(),W=ie=void 0,me())};return{enable:Ge,stop:me,destroy:()=>{Ge(!1),De=pe=F=void 0}}})(W.el,de=>{const Be=j(de);return!(pe||!De||(R(de,re),re.startX=re.currentX,re.startY=re.currentY,re.startTime=re.currentTime=Be,re.velocityX=re.velocityY=re.deltaX=re.deltaY=0,re.event=de,k&&!1===k(re))||(D.release(),!D.start()))&&(pe=!0,0===N?tt():(S.start(re.startX,re.startY),!0))},de=>{F?!te&&De&&(te=!0,G(re,de),requestAnimationFrame(Ge)):(G(re,de),S.detect(re.currentX,re.currentY)&&(!S.isGesture()||!tt())&&Ct())},xe,{capture:!1,passive:P}),Ct=()=>{he(),qe.stop(),ke&&ke(re)};return{enable(de=!0){de||(F&&xe(void 0),he()),qe.enable(de)},destroy(){D.destroy(),qe.destroy()}}},G=(M,F)=>{if(!F)return;const pe=M.currentX,De=M.currentY,te=M.currentTime;R(F,M);const W=M.currentX,k=M.currentY,ce=(M.currentTime=j(F))-te;if(ce>0&&ce<100){const ke=(k-De)/ce;M.velocityX=(W-pe)/ce*.7+.3*M.velocityX,M.velocityY=.7*ke+.3*M.velocityY}M.deltaX=W-M.startX,M.deltaY=k-M.startY,M.event=F},R=(M,F)=>{let pe=0,De=0;if(M){const te=M.changedTouches;if(te&&te.length>0){const W=te[0];pe=W.clientX,De=W.clientY}else void 0!==M.pageX&&(pe=M.pageX,De=M.pageY)}F.currentX=pe,F.currentY=De},j=M=>M.timeStamp||Date.now()},8044:(be,Ae,C)=>{"use strict";C.d(Ae,{b:()=>O,c:()=>I,d:()=>x,e:()=>N,g:()=>re,l:()=>ke,s:()=>P,t:()=>R,w:()=>Le});var w=C(3918),T=C(3426),d=C(4675);const O="ionViewWillLeave",I="ionViewDidLeave",x="ionViewWillUnload",R=S=>new Promise((D,K)=>{(0,T.w)(()=>{j(S),M(S).then(me=>{me.animation&&me.animation.destroy(),F(S),D(me)},me=>{F(S),K(me)})})}),j=S=>{const D=S.enteringEl,K=S.leavingEl;ne(D,K,S.direction),S.showGoBack?D.classList.add("can-go-back"):D.classList.remove("can-go-back"),P(D,!1),D.style.setProperty("pointer-events","none"),K&&(P(K,!1),K.style.setProperty("pointer-events","none"))},M=function(){var S=(0,w.Z)(function*(D){const K=yield pe(D);return K&&T.B.isBrowser?De(K,D):te(D)});return function(K){return S.apply(this,arguments)}}(),F=S=>{const D=S.enteringEl,K=S.leavingEl;D.classList.remove("ion-page-invisible"),D.style.removeProperty("pointer-events"),void 0!==K&&(K.classList.remove("ion-page-invisible"),K.style.removeProperty("pointer-events"))},pe=function(){var S=(0,w.Z)(function*(D){return D.leavingEl&&D.animated&&0!==D.duration?D.animationBuilder?D.animationBuilder:"ios"===D.mode?(yield Promise.resolve().then(C.bind(C,5444))).iosTransitionAnimation:(yield Promise.resolve().then(C.bind(C,5922))).mdTransitionAnimation:void 0});return function(K){return S.apply(this,arguments)}}(),De=function(){var S=(0,w.Z)(function*(D,K){yield W(K,!0);const me=D(K.baseEl,K);ce(K.enteringEl,K.leavingEl);const Ge=yield ee(me,K);return K.progressCallback&&K.progressCallback(void 0),Ge&&ie(K.enteringEl,K.leavingEl),{hasCompleted:Ge,animation:me}});return function(K,me){return S.apply(this,arguments)}}(),te=function(){var S=(0,w.Z)(function*(D){const K=D.enteringEl,me=D.leavingEl;return yield W(D,!1),ce(K,me),ie(K,me),{hasCompleted:!0}});return function(K){return S.apply(this,arguments)}}(),W=function(){var S=(0,w.Z)(function*(D,K){(void 0!==D.deepWait?D.deepWait:K)&&(yield Promise.all([N(D.enteringEl),N(D.leavingEl)])),yield k(D.viewIsReady,D.enteringEl)});return function(K,me){return S.apply(this,arguments)}}(),k=function(){var S=(0,w.Z)(function*(D,K){D&&(yield D(K))});return function(K,me){return S.apply(this,arguments)}}(),ee=(S,D)=>{const K=D.progressCallback,me=new Promise(Ge=>{S.onFinish(tt=>Ge(1===tt))});return K?(S.progressStart(!0),K(S)):S.play(),me},ce=(S,D)=>{ke(D,O),ke(S,"ionViewWillEnter")},ie=(S,D)=>{ke(S,"ionViewDidEnter"),ke(D,I)},ke=(S,D)=>{if(S){const K=new CustomEvent(D,{bubbles:!1,cancelable:!1});S.dispatchEvent(K)}},Le=()=>new Promise(S=>(0,d.r)(()=>(0,d.r)(()=>S()))),N=function(){var S=(0,w.Z)(function*(D){const K=D;if(K){if(null!=K.componentOnReady){if(null!=(yield K.componentOnReady()))return}else if(null!=K.__registerHost)return void(yield new Promise(Ge=>(0,d.r)(Ge)));yield Promise.all(Array.from(K.children).map(N))}});return function(K){return S.apply(this,arguments)}}(),P=(S,D)=>{D?(S.setAttribute("aria-hidden","true"),S.classList.add("ion-page-hidden")):(S.hidden=!1,S.removeAttribute("aria-hidden"),S.classList.remove("ion-page-hidden"))},ne=(S,D,K)=>{void 0!==S&&(S.style.zIndex="back"===K?"99":"101"),void 0!==D&&(D.style.zIndex="100")},re=S=>S.classList.contains("ion-page")?S:S.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||S},6240:(be,Ae,C)=>{"use strict";C.d(Ae,{a:()=>T,b:()=>d,p:()=>w});const w=(Z,...B)=>console.warn(`[Ionic Warning]: ${Z}`,...B),T=(Z,...B)=>console.error(`[Ionic Error]: ${Z}`,...B),d=(Z,...B)=>console.error(`<${Z.tagName.toLowerCase()}> must be used inside ${B.join(" or ")}.`)},6940:(be,Ae,C)=>{"use strict";C.d(Ae,{d:()=>T,w:()=>w});const w=typeof window<"u"?window:void 0,T=typeof document<"u"?document:void 0},3426:(be,Ae,C)=>{"use strict";C.d(Ae,{B:()=>j,H:()=>tt,a:()=>Ys,b:()=>ls,c:()=>it,d:()=>Gt,e:()=>vt,f:()=>Bt,g:()=>Ue,h:()=>me,i:()=>Go,j:()=>M,r:()=>Wi,w:()=>Zi});var w=C(3918);let Z,B,O,I=!1,x=!1,X=!1,G=!1,R=!1;const j={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},M=g=>{const E=new URL(g,bn.$resourcesUrl$);return E.origin!==ti.location.origin?E.href:E.pathname},ee="s-id",ce="sty-id",Le="slot-fb{display:contents}slot-fb[hidden]{display:none}",N="http://www.w3.org/1999/xlink",P={},D=g=>"object"==(g=typeof g)||"function"===g;function K(g){var E,z,se;return null!==(se=null===(z=null===(E=g.head)||void 0===E?void 0:E.querySelector('meta[name="csp-nonce"]'))||void 0===z?void 0:z.getAttribute("content"))&&void 0!==se?se:void 0}const me=(g,E,...z)=>{let se=null,Pe=null,ue=null,Ye=!1,A=!1;const Qe=[],je=St=>{for(let wt=0;wt<St.length;wt++)se=St[wt],Array.isArray(se)?je(se):null!=se&&"boolean"!=typeof se&&((Ye="function"!=typeof g&&!D(se))&&(se=String(se)),Ye&&A?Qe[Qe.length-1].$text$+=se:Qe.push(Ye?Ge(null,se):se),A=Ye)};if(je(z),E){E.key&&(Pe=E.key),E.name&&(ue=E.name);{const St=E.className||E.class;St&&(E.class="object"!=typeof St?St:Object.keys(St).filter(wt=>St[wt]).join(" "))}}if("function"==typeof g)return g(null===E?{}:E,Qe,Oe);const ct=Ge(g,null);return ct.$attrs$=E,Qe.length>0&&(ct.$children$=Qe),ct.$key$=Pe,ct.$name$=ue,ct},Ge=(g,E)=>({$flags$:0,$tag$:g,$text$:E,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),tt={},Oe={forEach:(g,E)=>g.map(he).forEach(E),map:(g,E)=>g.map(he).map(E).map(xe)},he=g=>({vattrs:g.$attrs$,vchildren:g.$children$,vkey:g.$key$,vname:g.$name$,vtag:g.$tag$,vtext:g.$text$}),xe=g=>{if("function"==typeof g.vtag){const z=Object.assign({},g.vattrs);return g.vkey&&(z.key=g.vkey),g.vname&&(z.name=g.vname),me(g.vtag,z,...g.vchildren||[])}const E=Ge(g.vtag,g.vtext);return E.$attrs$=g.vattrs,E.$children$=g.vchildren,E.$key$=g.vkey,E.$name$=g.vname,E},Ct=(g,E,z,se,Pe,ue,Ye)=>{let A,Qe,je,ct;if(1===ue.nodeType){for(A=ue.getAttribute("c-id"),A&&(Qe=A.split("."),(Qe[0]===Ye||"0"===Qe[0])&&(je={$flags$:0,$hostId$:Qe[0],$nodeId$:Qe[1],$depth$:Qe[2],$index$:Qe[3],$tag$:ue.tagName.toLowerCase(),$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},E.push(je),ue.removeAttribute("c-id"),g.$children$||(g.$children$=[]),g.$children$[je.$index$]=je,g=je,se&&"0"===je.$depth$&&(se[je.$index$]=je.$elm$))),ct=ue.childNodes.length-1;ct>=0;ct--)Ct(g,E,z,se,Pe,ue.childNodes[ct],Ye);if(ue.shadowRoot)for(ct=ue.shadowRoot.childNodes.length-1;ct>=0;ct--)Ct(g,E,z,se,Pe,ue.shadowRoot.childNodes[ct],Ye)}else if(8===ue.nodeType)Qe=ue.nodeValue.split("."),(Qe[1]===Ye||"0"===Qe[1])&&(A=Qe[0],je={$flags$:0,$hostId$:Qe[1],$nodeId$:Qe[2],$depth$:Qe[3],$index$:Qe[4],$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===A?(je.$elm$=ue.nextSibling,je.$elm$&&3===je.$elm$.nodeType&&(je.$text$=je.$elm$.textContent,E.push(je),ue.remove(),g.$children$||(g.$children$=[]),g.$children$[je.$index$]=je,se&&"0"===je.$depth$&&(se[je.$index$]=je.$elm$))):je.$hostId$===Ye&&("s"===A?(je.$tag$="slot",ue["s-sn"]=Qe[5]?je.$name$=Qe[5]:"",ue["s-sr"]=!0,se&&(je.$elm$=Ar.createElement(je.$tag$),je.$name$&&je.$elm$.setAttribute("name",je.$name$),ue.parentNode.insertBefore(je.$elm$,ue),ue.remove(),"0"===je.$depth$&&(se[je.$index$]=je.$elm$)),z.push(je),g.$children$||(g.$children$=[]),g.$children$[je.$index$]=je):"r"===A&&(se?ue.remove():(Pe["s-cr"]=ue,ue["s-cn"]=!0))));else if(g&&"style"===g.$tag$){const St=Ge(null,ue.textContent);St.$elm$=ue,St.$index$="0",g.$children$=[St]}},de=(g,E)=>{if(1===g.nodeType){let z=0;for(;z<g.childNodes.length;z++)de(g.childNodes[z],E);if(g.shadowRoot)for(z=0;z<g.shadowRoot.childNodes.length;z++)de(g.shadowRoot.childNodes[z],E)}else if(8===g.nodeType){const z=g.nodeValue.split(".");"o"===z[0]&&(E.set(z[1]+"."+z[2],g),g.nodeValue="",g["s-en"]=z[3])}},it=g=>zo.push(g),Ue=g=>$r(g).$modeName$,Bt=g=>$r(g).$hostElement$,Gt=(g,E,z)=>{const se=Bt(g);return{emit:Pe=>ye(se,E,{bubbles:!!(4&z),composed:!!(2&z),cancelable:!!(1&z),detail:Pe})}},ye=(g,E,z)=>{const se=bn.ce(E,z);return g.dispatchEvent(se),se},Ie=new WeakMap,we=(g,E,z)=>{let se=Yr.get(g);Qs&&z?(se=se||new CSSStyleSheet,"string"==typeof se?se=E:se.replaceSync(E)):se=E,Yr.set(g,se)},Xe=(g,E,z)=>{var se;const Pe=Et(E,z),ue=Yr.get(Pe);if(g=11===g.nodeType?g:Ar,ue)if("string"==typeof ue){let A,Ye=Ie.get(g=g.head||g);if(Ye||Ie.set(g,Ye=new Set),!Ye.has(Pe)){if(g.host&&(A=g.querySelector(`[${ce}="${Pe}"]`)))A.innerHTML=ue;else{A=Ar.createElement("style"),A.innerHTML=ue;const Qe=null!==(se=bn.$nonce$)&&void 0!==se?se:K(Ar);null!=Qe&&A.setAttribute("nonce",Qe),g.insertBefore(A,g.querySelector("link"))}4&E.$flags$&&(A.innerHTML+=Le),Ye&&Ye.add(Pe)}}else g.adoptedStyleSheets.includes(ue)||(g.adoptedStyleSheets=[...g.adoptedStyleSheets,ue]);return Pe},Et=(g,E)=>"sc-"+(E&&32&g.$flags$?g.$tagName$+"-"+E:g.$tagName$),fn=g=>g.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Yt=(g,E,z,se,Pe,ue)=>{if(z!==se){let Ye=Ii(g,E),A=E.toLowerCase();if("class"===E){const Qe=g.classList,je=an(z),ct=an(se);Qe.remove(...je.filter(St=>St&&!ct.includes(St))),Qe.add(...ct.filter(St=>St&&!je.includes(St)))}else if("style"===E){for(const Qe in z)(!se||null==se[Qe])&&(Qe.includes("-")?g.style.removeProperty(Qe):g.style[Qe]="");for(const Qe in se)(!z||se[Qe]!==z[Qe])&&(Qe.includes("-")?g.style.setProperty(Qe,se[Qe]):g.style[Qe]=se[Qe])}else if("key"!==E)if("ref"===E)se&&se(g);else if(Ye||"o"!==E[0]||"n"!==E[1]){const Qe=D(se);if((Ye||Qe&&null!==se)&&!Pe)try{if(g.tagName.includes("-"))g[E]=se;else{const ct=se??"";"list"===E?Ye=!1:(null==z||g[E]!=ct)&&(g[E]=ct)}}catch{}let je=!1;A!==(A=A.replace(/^xlink\:?/,""))&&(E=A,je=!0),null==se||!1===se?(!1!==se||""===g.getAttribute(E))&&(je?g.removeAttributeNS(N,E):g.removeAttribute(E)):(!Ye||4&ue||Pe)&&!Qe&&(se=!0===se?"":se,je?g.setAttributeNS(N,E,se):g.setAttribute(E,se))}else if(E="-"===E[2]?E.slice(3):Ii(ti,A)?A.slice(2):A[2]+E.slice(3),z||se){const Qe=E.endsWith(br);E=E.replace(ur,""),z&&bn.rel(g,E,z,Qe),se&&bn.ael(g,E,se,Qe)}}},Qt=/\s/,an=g=>g?g.split(Qt):[],br="Capture",ur=new RegExp(br+"$"),Jo=(g,E,z,se)=>{const Pe=11===E.$elm$.nodeType&&E.$elm$.host?E.$elm$.host:E.$elm$,ue=g&&g.$attrs$||P,Ye=E.$attrs$||P;for(se in ue)se in Ye||Yt(Pe,se,ue[se],void 0,z,E.$flags$);for(se in Ye)Yt(Pe,se,ue[se],Ye[se],z,E.$flags$)},Fr=(g,E,z,se)=>{var Pe;const ue=E.$children$[z];let A,Qe,je,Ye=0;if(I||(X=!0,"slot"===ue.$tag$&&(Z&&se.classList.add(Z+"-s"),ue.$flags$|=ue.$children$?2:1)),null!==ue.$text$)A=ue.$elm$=Ar.createTextNode(ue.$text$);else if(1&ue.$flags$)A=ue.$elm$=Ar.createTextNode("");else{if(G||(G="svg"===ue.$tag$),A=ue.$elm$=Ar.createElementNS(G?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ue.$flags$?"slot-fb":ue.$tag$),G&&"foreignObject"===ue.$tag$&&(G=!1),Jo(null,ue,G),(g=>null!=g)(Z)&&A["s-si"]!==Z&&A.classList.add(A["s-si"]=Z),ue.$children$)for(Ye=0;Ye<ue.$children$.length;++Ye)Qe=Fr(g,ue,Ye,A),Qe&&A.appendChild(Qe);"svg"===ue.$tag$?G=!1:"foreignObject"===A.tagName&&(G=!0)}return A["s-hn"]=O,3&ue.$flags$&&(A["s-sr"]=!0,A["s-fs"]=null===(Pe=ue.$attrs$)||void 0===Pe?void 0:Pe.slot,A["s-cr"]=B,A["s-sn"]=ue.$name$||"",je=g&&g.$children$&&g.$children$[z],je&&je.$tag$===ue.$tag$&&g.$elm$&&mo(g.$elm$,!1)),A},mo=(g,E)=>{var z;bn.$flags$|=1;const se=g.childNodes;for(let Pe=se.length-1;Pe>=0;Pe--){const ue=se[Pe];ue["s-hn"]!==O&&ue["s-ol"]&&(dr(ue).insertBefore(ue,ei(ue)),ue["s-ol"].remove(),ue["s-ol"]=void 0,ue["s-sh"]=void 0,1===ue.nodeType&&ue.setAttribute("slot",null!==(z=ue["s-sn"])&&void 0!==z?z:""),X=!0),E&&mo(ue,E)}bn.$flags$&=-2},Nr=(g,E,z,se,Pe,ue)=>{let A,Ye=g["s-cr"]&&g["s-cr"].parentNode||g;for(Ye.shadowRoot&&Ye.tagName===O&&(Ye=Ye.shadowRoot);Pe<=ue;++Pe)se[Pe]&&(A=Fr(null,z,Pe,g),A&&(se[Pe].$elm$=A,Ye.insertBefore(A,ei(E))))},tr=(g,E,z)=>{for(let se=E;se<=z;++se){const Pe=g[se];if(Pe){const ue=Pe.$elm$;In(Pe),ue&&(x=!0,ue["s-ol"]?ue["s-ol"].remove():mo(ue,!0),ue.remove())}}},Ro=(g,E)=>g.$tag$===E.$tag$&&("slot"===g.$tag$?g.$name$===E.$name$:g.$key$===E.$key$),ei=g=>g&&g["s-ol"]||g,dr=g=>(g["s-ol"]?g["s-ol"]:g).parentNode,oo=(g,E)=>{const z=E.$elm$=g.$elm$,se=g.$children$,Pe=E.$children$,ue=E.$tag$,Ye=E.$text$;let A;null===Ye?(G="svg"===ue||"foreignObject"!==ue&&G,"slot"===ue||Jo(g,E,G),null!==se&&null!==Pe?((g,E,z,se)=>{let gr,kr,Pe=0,ue=0,Ye=0,A=0,Qe=E.length-1,je=E[0],ct=E[Qe],St=se.length-1,wt=se[0],Cn=se[St];for(;Pe<=Qe&&ue<=St;)if(null==je)je=E[++Pe];else if(null==ct)ct=E[--Qe];else if(null==wt)wt=se[++ue];else if(null==Cn)Cn=se[--St];else if(Ro(je,wt))oo(je,wt),je=E[++Pe],wt=se[++ue];else if(Ro(ct,Cn))oo(ct,Cn),ct=E[--Qe],Cn=se[--St];else if(Ro(je,Cn))("slot"===je.$tag$||"slot"===Cn.$tag$)&&mo(je.$elm$.parentNode,!1),oo(je,Cn),g.insertBefore(je.$elm$,ct.$elm$.nextSibling),je=E[++Pe],Cn=se[--St];else if(Ro(ct,wt))("slot"===je.$tag$||"slot"===Cn.$tag$)&&mo(ct.$elm$.parentNode,!1),oo(ct,wt),g.insertBefore(ct.$elm$,je.$elm$),ct=E[--Qe],wt=se[++ue];else{for(Ye=-1,A=Pe;A<=Qe;++A)if(E[A]&&null!==E[A].$key$&&E[A].$key$===wt.$key$){Ye=A;break}Ye>=0?(kr=E[Ye],kr.$tag$!==wt.$tag$?gr=Fr(E&&E[ue],z,Ye,g):(oo(kr,wt),E[Ye]=void 0,gr=kr.$elm$),wt=se[++ue]):(gr=Fr(E&&E[ue],z,ue,g),wt=se[++ue]),gr&&dr(je.$elm$).insertBefore(gr,ei(je.$elm$))}Pe>Qe?Nr(g,null==se[St+1]?null:se[St+1].$elm$,z,se,ue,St):ue>St&&tr(E,Pe,Qe)})(z,se,E,Pe):null!==Pe?(null!==g.$text$&&(z.textContent=""),Nr(z,null,E,Pe,0,Pe.length-1)):null!==se&&tr(se,0,se.length-1),G&&"svg"===ue&&(G=!1)):(A=z["s-cr"])?A.parentNode.textContent=Ye:g.$text$!==Ye&&(z.data=Ye)},Te=g=>{const E=g.childNodes;for(const z of E)if(1===z.nodeType){if(z["s-sr"]){const se=z["s-sn"];z.hidden=!1;for(const Pe of E)if(Pe!==z)if(Pe["s-hn"]!==z["s-hn"]||""!==se){if(1===Pe.nodeType&&(se===Pe.getAttribute("slot")||se===Pe["s-sn"])){z.hidden=!0;break}}else if(1===Pe.nodeType||3===Pe.nodeType&&""!==Pe.textContent.trim()){z.hidden=!0;break}}Te(z)}},Me=[],nn=g=>{let E,z,se;for(const Pe of g.childNodes){if(Pe["s-sr"]&&(E=Pe["s-cr"])&&E.parentNode){z=E.parentNode.childNodes;const ue=Pe["s-sn"];for(se=z.length-1;se>=0;se--)if(E=z[se],!E["s-cn"]&&!E["s-nr"]&&E["s-hn"]!==Pe["s-hn"])if(Ut(E,ue)){let Ye=Me.find(A=>A.$nodeToRelocate$===E);x=!0,E["s-sn"]=E["s-sn"]||ue,Ye?(Ye.$nodeToRelocate$["s-sh"]=Pe["s-hn"],Ye.$slotRefNode$=Pe):(E["s-sh"]=Pe["s-hn"],Me.push({$slotRefNode$:Pe,$nodeToRelocate$:E})),E["s-sr"]&&Me.map(A=>{Ut(A.$nodeToRelocate$,E["s-sn"])&&(Ye=Me.find(Qe=>Qe.$nodeToRelocate$===E),Ye&&!A.$slotRefNode$&&(A.$slotRefNode$=Ye.$slotRefNode$))})}else Me.some(Ye=>Ye.$nodeToRelocate$===E)||Me.push({$nodeToRelocate$:E})}1===Pe.nodeType&&nn(Pe)}},Ut=(g,E)=>1===g.nodeType?null===g.getAttribute("slot")&&""===E||g.getAttribute("slot")===E:g["s-sn"]===E||""===E,In=g=>{g.$attrs$&&g.$attrs$.ref&&g.$attrs$.ref(null),g.$children$&&g.$children$.map(In)},Yn=(g,E)=>{E&&!g.$onRenderResolve$&&E["s-p"]&&E["s-p"].push(new Promise(z=>g.$onRenderResolve$=z))},Vn=(g,E)=>{if(g.$flags$|=16,!(4&g.$flags$))return Yn(g,g.$ancestorComponent$),Zi(()=>Lr(g,E));g.$flags$|=512},Lr=(g,E)=>{const se=g.$lazyInstance$;let Pe;return E&&(g.$flags$|=256,g.$queuedListeners$&&(g.$queuedListeners$.map(([ue,Ye])=>Cr(se,ue,Ye)),g.$queuedListeners$=void 0),Pe=Cr(se,"componentWillLoad")),Pe=Kr(Pe,()=>Cr(se,"componentWillRender")),Kr(Pe,()=>jo(g,se,E))},Kr=(g,E)=>Rn(g)?g.then(E):E(),Rn=g=>g instanceof Promise||g&&g.then&&"function"==typeof g.then,jo=function(){var g=(0,w.Z)(function*(E,z,se){var Pe;const ue=E.$hostElement$,A=ue["s-rc"];se&&(g=>{const E=g.$cmpMeta$,z=g.$hostElement$,se=E.$flags$,ue=Xe(z.shadowRoot?z.shadowRoot:z.getRootNode(),E,g.$modeName$);10&se&&(z["s-sc"]=ue,z.classList.add(ue+"-h"),2&se&&z.classList.add(ue+"-s"))})(E);uo(E,z,ue,se),A&&(A.map(je=>je()),ue["s-rc"]=void 0);{const je=null!==(Pe=ue["s-p"])&&void 0!==Pe?Pe:[],ct=()=>Hi(E);0===je.length?ct():(Promise.all(je).then(ct),E.$flags$|=4,je.length=0)}});return function(z,se,Pe){return g.apply(this,arguments)}}(),uo=(g,E,z,se)=>{try{E=E.render&&E.render(),g.$flags$&=-17,g.$flags$|=2,((g,E,z=!1)=>{var se,Pe,ue,Ye;const A=g.$hostElement$,Qe=g.$cmpMeta$,je=g.$vnode$||Ge(null,null),ct=(g=>g&&g.$tag$===tt)(E)?E:me(null,null,E);if(O=A.tagName,Qe.$attrsToReflect$&&(ct.$attrs$=ct.$attrs$||{},Qe.$attrsToReflect$.map(([St,wt])=>ct.$attrs$[wt]=A[St])),z&&ct.$attrs$)for(const St of Object.keys(ct.$attrs$))A.hasAttribute(St)&&!["key","ref","style","class"].includes(St)&&(ct.$attrs$[St]=A[St]);if(ct.$tag$=null,ct.$flags$|=4,g.$vnode$=ct,ct.$elm$=je.$elm$=A.shadowRoot||A,Z=A["s-sc"],B=A["s-cr"],I=0!=(1&Qe.$flags$),x=!1,oo(je,ct),bn.$flags$|=1,X){nn(ct.$elm$);for(const St of Me){const wt=St.$nodeToRelocate$;if(!wt["s-ol"]){const Cn=Ar.createTextNode("");Cn["s-nr"]=wt,wt.parentNode.insertBefore(wt["s-ol"]=Cn,wt)}}for(const St of Me){const wt=St.$nodeToRelocate$,Cn=St.$slotRefNode$;if(Cn){const gr=Cn.parentNode;let kr=Cn.nextSibling;{let Gr=null===(se=wt["s-ol"])||void 0===se?void 0:se.previousSibling;for(;Gr;){let zn=null!==(Pe=Gr["s-nr"])&&void 0!==Pe?Pe:null;if(zn&&zn["s-sn"]===wt["s-sn"]&&gr===zn.parentNode&&(zn=zn.nextSibling,!zn||!zn["s-nr"])){kr=zn;break}Gr=Gr.previousSibling}}(!kr&&gr!==wt.parentNode||wt.nextSibling!==kr)&&wt!==kr&&(!wt["s-hn"]&&wt["s-ol"]&&(wt["s-hn"]=wt["s-ol"].parentNode.nodeName),gr.insertBefore(wt,kr),1===wt.nodeType&&(wt.hidden=null!==(ue=wt["s-ih"])&&void 0!==ue&&ue))}else 1===wt.nodeType&&(z&&(wt["s-ih"]=null!==(Ye=wt.hidden)&&void 0!==Ye&&Ye),wt.hidden=!0)}}x&&Te(ct.$elm$),bn.$flags$&=-2,Me.length=0})(g,E,se)}catch(Pe){go(Pe,g.$hostElement$)}return null},Hi=g=>{const z=g.$hostElement$,Pe=g.$lazyInstance$,ue=g.$ancestorComponent$;Cr(Pe,"componentDidRender"),64&g.$flags$?Cr(Pe,"componentDidUpdate"):(g.$flags$|=64,Mr(z),Cr(Pe,"componentDidLoad"),g.$onReadyResolve$(z),ue||xn()),g.$onInstanceResolve$(z),g.$onRenderResolve$&&(g.$onRenderResolve$(),g.$onRenderResolve$=void 0),512&g.$flags$&&Xr(()=>Vn(g,!1)),g.$flags$&=-517},Go=g=>{{const E=$r(g),z=E.$hostElement$.isConnected;return z&&2==(18&E.$flags$)&&Vn(E,!1),z}},xn=g=>{Mr(Ar.documentElement),Xr(()=>ye(ti,"appload",{detail:{namespace:"ionic"}}))},Cr=(g,E,z)=>{if(g&&g[E])try{return g[E](z)}catch(se){go(se)}},Mr=g=>g.classList.add("hydrated"),hi=(g,E,z)=>{var se;const Pe=g.prototype;if(E.$members$){g.watchers&&(E.$watchers$=g.watchers);const ue=Object.entries(E.$members$);if(ue.map(([Ye,[A]])=>{31&A||2&z&&32&A?Object.defineProperty(Pe,Ye,{get(){return((g,E)=>$r(this).$instanceValues$.get(E))(0,Ye)},set(Qe){((g,E,z,se)=>{const Pe=$r(g),ue=Pe.$hostElement$,Ye=Pe.$instanceValues$.get(E),A=Pe.$flags$,Qe=Pe.$lazyInstance$;z=((g,E)=>null==g||D(g)?g:4&E?"false"!==g&&(""===g||!!g):2&E?parseFloat(g):1&E?String(g):g)(z,se.$members$[E][0]);const je=Number.isNaN(Ye)&&Number.isNaN(z);if((!(8&A)||void 0===Ye)&&z!==Ye&&!je&&(Pe.$instanceValues$.set(E,z),Qe)){if(se.$watchers$&&128&A){const St=se.$watchers$[E];St&&St.map(wt=>{try{Qe[wt](z,Ye,E)}catch(Cn){go(Cn,ue)}})}2==(18&A)&&Vn(Pe,!1)}})(this,Ye,Qe,E)},configurable:!0,enumerable:!0}):1&z&&64&A&&Object.defineProperty(Pe,Ye,{value(...Qe){var je;const ct=$r(this);return null===(je=ct?.$onInstancePromise$)||void 0===je?void 0:je.then(()=>{var St;return null===(St=ct.$lazyInstance$)||void 0===St?void 0:St[Ye](...Qe)})}})}),1&z){const Ye=new Map;Pe.attributeChangedCallback=function(A,Qe,je){bn.jmp(()=>{var ct;const St=Ye.get(A);if(this.hasOwnProperty(St))je=this[St],delete this[St];else{if(Pe.hasOwnProperty(St)&&"number"==typeof this[St]&&this[St]==je)return;if(null==St){const wt=$r(this),Cn=wt?.$flags$;if(Cn&&!(8&Cn)&&128&Cn&&je!==Qe){const gr=wt.$lazyInstance$,kr=null===(ct=E.$watchers$)||void 0===ct?void 0:ct[A];kr?.forEach(Gr=>{null!=gr[Gr]&&gr[Gr].call(gr,je,Qe,A)})}return}}this[St]=(null!==je||"boolean"!=typeof this[St])&&je})},g.observedAttributes=Array.from(new Set([...Object.keys(null!==(se=E.$watchers$)&&void 0!==se?se:{}),...ue.filter(([A,Qe])=>15&Qe[0]).map(([A,Qe])=>{var je;const ct=Qe[1]||A;return Ye.set(ct,A),512&Qe[0]&&(null===(je=E.$attrsToReflect$)||void 0===je||je.push([A,ct])),ct})]))}}return g},rn=function(){var g=(0,w.Z)(function*(E,z,se,Pe){let ue;if(!(32&z.$flags$)){z.$flags$|=32;{if(ue=ks(se),ue.then){const je=()=>{};ue=yield ue,je()}ue.isProxied||(se.$watchers$=ue.watchers,hi(ue,se,2),ue.isProxied=!0);const Qe=()=>{};z.$flags$|=8;try{new ue(z)}catch(je){go(je)}z.$flags$&=-9,z.$flags$|=128,Qe(),wo(z.$lazyInstance$)}if(ue.style){let Qe=ue.style;"string"!=typeof Qe&&(Qe=Qe[z.$modeName$=(g=>zo.map(E=>E(g)).find(E=>!!E))(E)]);const je=Et(se,z.$modeName$);if(!Yr.has(je)){const ct=()=>{};we(je,Qe,!!(1&se.$flags$)),ct()}}}const Ye=z.$ancestorComponent$,A=()=>Vn(z,!0);Ye&&Ye["s-rc"]?Ye["s-rc"].push(A):A()});return function(z,se,Pe,ue){return g.apply(this,arguments)}}(),wo=g=>{Cr(g,"connectedCallback")},Uo=g=>{const E=g["s-cr"]=Ar.createComment("");E["s-cn"]=!0,g.insertBefore(E,g.firstChild)},gi=g=>{Cr(g,"disconnectedCallback")},oe=function(){var g=(0,w.Z)(function*(E){if(!(1&bn.$flags$)){const z=$r(E);z.$rmListeners$&&(z.$rmListeners$.map(se=>se()),z.$rmListeners$=void 0),z?.$lazyInstance$?gi(z.$lazyInstance$):z?.$onReadyPromise$&&z.$onReadyPromise$.then(()=>gi(z.$lazyInstance$))}});return function(z){return g.apply(this,arguments)}}(),ls=(g,E={})=>{var z;const Pe=[],ue=E.exclude||[],Ye=ti.customElements,A=Ar.head,Qe=A.querySelector("meta[charset]"),je=Ar.createElement("style"),ct=[],St=Ar.querySelectorAll(`[${ce}]`);let wt,Cn=!0,gr=0;for(Object.assign(bn,E),bn.$resourcesUrl$=new URL(E.resourcesUrl||"./",Ar.baseURI).href,bn.$flags$|=2;gr<St.length;gr++)we(St[gr].getAttribute(ce),fn(St[gr].innerHTML),!0);let kr=!1;if(g.map(Gr=>{Gr[1].map(zn=>{var qi;const Pn={$flags$:zn[0],$tagName$:zn[1],$members$:zn[2],$listeners$:zn[3]};4&Pn.$flags$&&(kr=!0),Pn.$members$=zn[2],Pn.$listeners$=zn[3],Pn.$attrsToReflect$=[],Pn.$watchers$=null!==(qi=zn[4])&&void 0!==qi?qi:{};const Po=Pn.$tagName$,Eo=class extends HTMLElement{constructor(Ki){super(Ki),Di(Ki=this,Pn),1&Pn.$flags$&&Ki.attachShadow({mode:"open",delegatesFocus:!!(16&Pn.$flags$)})}connectedCallback(){wt&&(clearTimeout(wt),wt=null),Cn?ct.push(this):bn.jmp(()=>(g=>{if(!(1&bn.$flags$)){const E=$r(g),z=E.$cmpMeta$,se=()=>{};if(1&E.$flags$)Ei(g,E,z.$listeners$),E?.$lazyInstance$?wo(E.$lazyInstance$):E?.$onReadyPromise$&&E.$onReadyPromise$.then(()=>wo(E.$lazyInstance$));else{let Pe;if(E.$flags$|=1,Pe=g.getAttribute(ee),Pe){if(1&z.$flags$){const ue=Xe(g.shadowRoot,z,g.getAttribute("s-mode"));g.classList.remove(ue+"-h",ue+"-s")}((g,E,z,se)=>{const ue=g.shadowRoot,Ye=[],Qe=ue?[]:null,je=se.$vnode$=Ge(E,null);bn.$orgLocNodes$||de(Ar.body,bn.$orgLocNodes$=new Map),g[ee]=z,g.removeAttribute(ee),Ct(je,Ye,[],Qe,g,g,z),Ye.map(ct=>{const St=ct.$hostId$+"."+ct.$nodeId$,wt=bn.$orgLocNodes$.get(St),Cn=ct.$elm$;wt&&Xs&&""===wt["s-en"]&&wt.parentNode.insertBefore(Cn,wt.nextSibling),ue||(Cn["s-hn"]=E,wt&&(Cn["s-ol"]=wt,Cn["s-ol"]["s-nr"]=Cn)),bn.$orgLocNodes$.delete(St)}),ue&&Qe.map(ct=>{ct&&ue.appendChild(ct)})})(g,z.$tagName$,Pe,E)}Pe||12&z.$flags$&&Uo(g);{let ue=g;for(;ue=ue.parentNode||ue.host;)if(1===ue.nodeType&&ue.hasAttribute("s-id")&&ue["s-p"]||ue["s-p"]){Yn(E,E.$ancestorComponent$=ue);break}}z.$members$&&Object.entries(z.$members$).map(([ue,[Ye]])=>{if(31&Ye&&g.hasOwnProperty(ue)){const A=g[ue];delete g[ue],g[ue]=A}}),rn(g,E,z)}se()}})(this))}disconnectedCallback(){bn.jmp(()=>oe(this))}componentOnReady(){return $r(this).$onReadyPromise$}};Pn.$lazyBundleId$=Gr[0],!ue.includes(Po)&&!Ye.get(Po)&&(Pe.push(Po),Ye.define(Po,hi(Eo,Pn,1)))})}),kr&&(je.innerHTML+=Le),je.innerHTML+=Pe+"{visibility:hidden}.hydrated{visibility:inherit}",je.innerHTML.length){je.setAttribute("data-styles","");const Gr=null!==(z=bn.$nonce$)&&void 0!==z?z:K(Ar);null!=Gr&&je.setAttribute("nonce",Gr),A.insertBefore(je,Qe?Qe.nextSibling:A.firstChild)}Cn=!1,ct.length?ct.map(Gr=>Gr.connectedCallback()):bn.jmp(()=>wt=setTimeout(xn,30))},Ei=(g,E,z,se)=>{z&&z.map(([Pe,ue,Ye])=>{const A=li(g,Pe),Qe=Ho(E,Ye),je=_i(Pe);bn.ael(A,ue,Qe,je),(E.$rmListeners$=E.$rmListeners$||[]).push(()=>bn.rel(A,ue,Qe,je))})},Ho=(g,E)=>z=>{try{256&g.$flags$?g.$lazyInstance$[E](z):(g.$queuedListeners$=g.$queuedListeners$||[]).push([E,z])}catch(se){go(se)}},li=(g,E)=>4&E?Ar:8&E?ti:16&E?Ar.body:g,_i=g=>0!=(2&g),zi=new WeakMap,$r=g=>zi.get(g),Wi=(g,E)=>zi.set(E.$lazyInstance$=g,E),Di=(g,E)=>{const z={$flags$:0,$hostElement$:g,$cmpMeta$:E,$instanceValues$:new Map};return z.$onInstancePromise$=new Promise(se=>z.$onInstanceResolve$=se),z.$onReadyPromise$=new Promise(se=>z.$onReadyResolve$=se),g["s-p"]=[],g["s-rc"]=[],Ei(g,z,E.$listeners$),zi.set(g,z)},Ii=(g,E)=>E in g,go=(g,E)=>(0,console.error)(g,E),cs=new Map,ks=(g,E,z)=>{const se=g.$tagName$.replace(/-/g,"_"),Pe=g.$lazyBundleId$,ue=cs.get(Pe);return ue?ue[se]:C(863)(`./${Pe}.entry.js`).then(Ye=>(cs.set(Pe,Ye),Ye[se]),go)},Yr=new Map,zo=[],ti=typeof window<"u"?window:{},Ar=ti.document||{head:{}},bn={$flags$:0,$resourcesUrl$:"",jmp:g=>g(),raf:g=>requestAnimationFrame(g),ael:(g,E,z,se)=>g.addEventListener(E,z,se),rel:(g,E,z,se)=>g.removeEventListener(E,z,se),ce:(g,E)=>new CustomEvent(g,E)},Ys=g=>{Object.assign(bn,g)},Xs=!0,Qs=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),nt=[],Rs=[],Ps=(g,E)=>z=>{g.push(z),R||(R=!0,E&&4&bn.$flags$?Xr(ui):bn.raf(ui))},ds=g=>{for(let E=0;E<g.length;E++)try{g[E](performance.now())}catch(z){go(z)}g.length=0},ui=()=>{ds(nt),ds(Rs),(R=nt.length>0)&&bn.raf(ui)},Xr=g=>Promise.resolve(void 0).then(g),vt=Ps(nt,!1),Zi=Ps(Rs,!0)},5194:(be,Ae,C)=>{"use strict";C.d(Ae,{a:()=>R,b:()=>Ge,c:()=>d,i:()=>tt});var w=C(3426);class T{constructor(){this.m=new Map}reset(Oe){this.m=new Map(Object.entries(Oe))}get(Oe,he){const xe=this.m.get(Oe);return void 0!==xe?xe:he}getBoolean(Oe,he=!1){const xe=this.m.get(Oe);return void 0===xe?he:"string"==typeof xe?"true"===xe:!!xe}getNumber(Oe,he){const xe=parseFloat(this.m.get(Oe));return isNaN(xe)?void 0!==he?he:NaN:xe}set(Oe,he){this.m.set(Oe,he)}}const d=new T,x="ionic:",X="ionic-persist-config",R=(fe,Oe)=>("string"==typeof fe&&(Oe=fe,fe=void 0),(fe=>j(fe))(fe).includes(Oe)),j=(fe=window)=>{if(typeof fe>"u")return[];fe.Ionic=fe.Ionic||{};let Oe=fe.Ionic.platforms;return null==Oe&&(Oe=fe.Ionic.platforms=M(fe),Oe.forEach(he=>fe.document.documentElement.classList.add(`plt-${he}`))),Oe},M=fe=>{const Oe=d.get("platform");return Object.keys(K).filter(he=>{const xe=Oe?.[he];return"function"==typeof xe?xe(fe):K[he](fe)})},pe=fe=>!!(S(fe,/iPad/i)||S(fe,/Macintosh/i)&&ie(fe)),W=fe=>S(fe,/android|sink/i),ie=fe=>D(fe,"(any-pointer:coarse)"),Le=fe=>N(fe)||P(fe),N=fe=>!!(fe.cordova||fe.phonegap||fe.PhoneGap),P=fe=>{const Oe=fe.Capacitor;return!!Oe?.isNative},S=(fe,Oe)=>Oe.test(fe.navigator.userAgent),D=(fe,Oe)=>{var he;return null===(he=fe.matchMedia)||void 0===he?void 0:he.call(fe,Oe).matches},K={ipad:pe,iphone:fe=>S(fe,/iPhone/i),ios:fe=>S(fe,/iPhone|iPod/i)||pe(fe),android:W,phablet:fe=>{const Oe=fe.innerWidth,he=fe.innerHeight,xe=Math.min(Oe,he),qe=Math.max(Oe,he);return xe>390&&xe<520&&qe>620&&qe<800},tablet:fe=>{const Oe=fe.innerWidth,he=fe.innerHeight,xe=Math.min(Oe,he),qe=Math.max(Oe,he);return pe(fe)||(fe=>W(fe)&&!S(fe,/mobile/i))(fe)||xe>460&&xe<820&&qe>780&&qe<1400},cordova:N,capacitor:P,electron:fe=>S(fe,/electron/i),pwa:fe=>{var Oe;return!!(null!==(Oe=fe.matchMedia)&&void 0!==Oe&&Oe.call(fe,"(display-mode: standalone)").matches||fe.navigator.standalone)},mobile:ie,mobileweb:fe=>ie(fe)&&!Le(fe),desktop:fe=>!ie(fe),hybrid:Le};let me;const Ge=fe=>fe&&(0,w.g)(fe)||me,tt=(fe={})=>{if(typeof window>"u")return;const Oe=window.document,he=window,xe=he.Ionic=he.Ionic||{},qe={};fe._ael&&(qe.ael=fe._ael),fe._rel&&(qe.rel=fe._rel),fe._ce&&(qe.ce=fe._ce),(0,w.a)(qe);const Ct=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(fe=>{try{const Oe=fe.sessionStorage.getItem(X);return null!==Oe?JSON.parse(Oe):{}}catch{return{}}})(he)),{persistConfig:!1}),xe.config),(fe=>{const Oe={};return fe.location.search.slice(1).split("&").map(he=>he.split("=")).map(([he,xe])=>[decodeURIComponent(he),decodeURIComponent(xe)]).filter(([he])=>((fe,Oe)=>fe.substr(0,Oe.length)===Oe)(he,x)).map(([he,xe])=>[he.slice(6),xe]).forEach(([he,xe])=>{Oe[he]=xe}),Oe})(he)),fe);d.reset(Ct),d.getBoolean("persistConfig")&&((fe,Oe)=>{try{fe.sessionStorage.setItem(X,JSON.stringify(Oe))}catch{return}})(he,Ct),j(he),xe.config=d,xe.mode=me=d.get("mode",Oe.documentElement.getAttribute("mode")||(R(he,"ios")?"ios":"md")),d.set("mode",me),Oe.documentElement.setAttribute("mode",me),Oe.documentElement.classList.add(me),d.getBoolean("_testing")&&d.set("animated",!1);const de=it=>{var Ue;return null===(Ue=it.tagName)||void 0===Ue?void 0:Ue.startsWith("ION-")},Be=it=>["ios","md"].includes(it);(0,w.c)(it=>{for(;it;){const Ue=it.mode||it.getAttribute("mode");if(Ue){if(Be(Ue))return Ue;de(it)&&console.warn('Invalid ionic mode: "'+Ue+'", expected: "ios" or "md"')}it=it.parentElement}return me})}},5444:(be,Ae,C)=>{"use strict";C.r(Ae),C.d(Ae,{iosTransitionAnimation:()=>M,shadow:()=>I});var w=C(2723),T=C(8044);C(6940),C(3426);const O=pe=>document.querySelector(`${pe}.ion-cloned-element`),I=pe=>pe.shadowRoot||pe,x=pe=>{const De="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs"),te="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=De){const W=De.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=W?W.querySelector(te):null}return pe.querySelector(te)},X=(pe,De)=>{const te="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs");let W=[];if(null!=te){const k=te.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=k&&(W=k.querySelectorAll("ion-buttons"))}else W=pe.querySelectorAll("ion-buttons");for(const k of W){const ee=k.closest("ion-header"),ce=ee&&!ee.classList.contains("header-collapse-condense-inactive"),ie=k.querySelector("ion-back-button"),ke=k.classList.contains("buttons-collapse");if(null!==ie&&("start"===k.slot||""===k.slot)&&(ke&&ce&&De||!ke))return ie}return null},R=(pe,De,te,W,k,ee,ce,ie,ke)=>{var Le,N;const P=De?`calc(100% - ${k.right+4}px)`:k.left-4+"px",ne=De?"right":"left",re=De?"left":"right",S=De?"right":"left",D=(null===(Le=ee.textContent)||void 0===Le?void 0:Le.trim())===(null===(N=ie.textContent)||void 0===N?void 0:N.trim()),me=(ke.height-F)/ce.height,Ge=D?`scale(${ke.width/ce.width}, ${me})`:`scale(${me})`,tt="scale(1)",Oe=I(W).querySelector("ion-icon").getBoundingClientRect(),he=De?Oe.width/2-(Oe.right-k.right)+"px":k.left-Oe.width/2+"px",xe=De?`-${window.innerWidth-k.right}px`:`${k.left}px`,qe=`${ke.top}px`,Ct=`${k.top}px`,it=te?[{offset:0,transform:`translate3d(${xe}, ${Ct}, 0)`},{offset:1,transform:`translate3d(${he}, ${qe}, 0)`}]:[{offset:0,transform:`translate3d(${he}, ${qe}, 0)`},{offset:1,transform:`translate3d(${xe}, ${Ct}, 0)`}],Bt=te?[{offset:0,opacity:1,transform:tt},{offset:1,opacity:0,transform:Ge}]:[{offset:0,opacity:0,transform:Ge},{offset:1,opacity:1,transform:tt}],Ie=te?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],we=(0,w.c)(),Xe=(0,w.c)(),ft=(0,w.c)(),Et=O("ion-back-button"),fn=I(Et).querySelector(".button-text"),Yt=I(Et).querySelector("ion-icon");Et.text=W.text,Et.mode=W.mode,Et.icon=W.icon,Et.color=W.color,Et.disabled=W.disabled,Et.style.setProperty("display","block"),Et.style.setProperty("position","fixed"),Xe.addElement(Yt),we.addElement(fn),ft.addElement(Et),ft.beforeStyles({position:"absolute",top:"0px",[S]:"0px"}).keyframes(it),we.beforeStyles({"transform-origin":`${ne} top`}).beforeAddWrite(()=>{W.style.setProperty("display","none"),Et.style.setProperty(ne,P)}).afterAddWrite(()=>{W.style.setProperty("display",""),Et.style.setProperty("display","none"),Et.style.removeProperty(ne)}).keyframes(Bt),Xe.beforeStyles({"transform-origin":`${re} center`}).keyframes(Ie),pe.addAnimation([we,Xe,ft])},j=(pe,De,te,W,k,ee,ce,ie)=>{var ke,Le;const N=De?"right":"left",P=De?`calc(100% - ${k.right}px)`:`${k.left}px`,re=`${k.top}px`,D=De?`-${window.innerWidth-ie.right-8}px`:ie.x-8+"px",me=ie.y-2+"px",Ge=(null===(ke=ce.textContent)||void 0===ke?void 0:ke.trim())===(null===(Le=W.textContent)||void 0===Le?void 0:Le.trim()),fe=ie.height/(ee.height-F),Oe="scale(1)",he=Ge?`scale(${ie.width/ee.width}, ${fe})`:`scale(${fe})`,Ct=te?[{offset:0,opacity:0,transform:`translate3d(${D}, ${me}, 0) ${he}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${re}, 0) ${Oe}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${re}, 0) ${Oe}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${D}, ${me}, 0) ${he}`}],de=O("ion-title"),Be=(0,w.c)();de.innerText=W.innerText,de.size=W.size,de.color=W.color,Be.addElement(de),Be.beforeStyles({"transform-origin":`${N} top`,height:`${k.height}px`,display:"",position:"relative",[N]:P}).beforeAddWrite(()=>{W.style.setProperty("opacity","0")}).afterAddWrite(()=>{W.style.setProperty("opacity",""),de.style.setProperty("display","none")}).keyframes(Ct),pe.addAnimation(Be)},M=(pe,De)=>{var te;try{const W="cubic-bezier(0.32,0.72,0,1)",k="opacity",ee="transform",ce="0%",ke="rtl"===pe.ownerDocument.dir,Le=ke?"-99.5%":"99.5%",N=ke?"33%":"-33%",P=De.enteringEl,ne=De.leavingEl,re="back"===De.direction,S=P.querySelector(":scope > ion-content"),D=P.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),K=P.querySelectorAll(":scope > ion-header > ion-toolbar"),me=(0,w.c)(),Ge=(0,w.c)();if(me.addElement(P).duration((null!==(te=De.duration)&&void 0!==te?te:0)||540).easing(De.easing||W).fill("both").beforeRemoveClass("ion-page-invisible"),ne&&null!=pe){const he=(0,w.c)();he.addElement(pe),me.addAnimation(he)}if(S||0!==K.length||0!==D.length?(Ge.addElement(S),Ge.addElement(D)):Ge.addElement(P.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),me.addAnimation(Ge),re?Ge.beforeClearStyles([k]).fromTo("transform",`translateX(${N})`,`translateX(${ce})`).fromTo(k,.8,1):Ge.beforeClearStyles([k]).fromTo("transform",`translateX(${Le})`,`translateX(${ce})`),S){const he=I(S).querySelector(".transition-effect");if(he){const xe=he.querySelector(".transition-cover"),qe=he.querySelector(".transition-shadow"),Ct=(0,w.c)(),de=(0,w.c)(),Be=(0,w.c)();Ct.addElement(he).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),de.addElement(xe).beforeClearStyles([k]).fromTo(k,0,.1),Be.addElement(qe).beforeClearStyles([k]).fromTo(k,.03,.7),Ct.addAnimation([de,Be]),Ge.addAnimation([Ct])}}const tt=P.querySelector("ion-header.header-collapse-condense"),{forward:fe,backward:Oe}=((pe,De,te,W,k)=>{const ee=X(W,te),ce=x(k),ie=x(W),ke=X(k,te),Le=null!==ee&&null!==ce&&!te,N=null!==ie&&null!==ke&&te;if(Le){const P=ce.getBoundingClientRect(),ne=ee.getBoundingClientRect(),re=I(ee).querySelector(".button-text"),S=re.getBoundingClientRect(),K=I(ce).querySelector(".toolbar-title").getBoundingClientRect();j(pe,De,te,ce,P,K,re,S),R(pe,De,te,ee,ne,re,S,ce,K)}else if(N){const P=ie.getBoundingClientRect(),ne=ke.getBoundingClientRect(),re=I(ke).querySelector(".button-text"),S=re.getBoundingClientRect(),K=I(ie).querySelector(".toolbar-title").getBoundingClientRect();j(pe,De,te,ie,P,K,re,S),R(pe,De,te,ke,ne,re,S,ie,K)}return{forward:Le,backward:N}})(me,ke,re,P,ne);if(K.forEach(he=>{const xe=(0,w.c)();xe.addElement(he),me.addAnimation(xe);const qe=(0,w.c)();qe.addElement(he.querySelector("ion-title"));const Ct=(0,w.c)(),de=Array.from(he.querySelectorAll("ion-buttons,[menuToggle]")),Be=he.closest("ion-header"),it=Be?.classList.contains("header-collapse-condense-inactive");let Ue;Ue=de.filter(re?Ie=>{const we=Ie.classList.contains("buttons-collapse");return we&&!it||!we}:Ie=>!Ie.classList.contains("buttons-collapse")),Ct.addElement(Ue);const Tt=(0,w.c)();Tt.addElement(he.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Bt=(0,w.c)();Bt.addElement(I(he).querySelector(".toolbar-background"));const Gt=(0,w.c)(),ye=he.querySelector("ion-back-button");if(ye&&Gt.addElement(ye),xe.addAnimation([qe,Ct,Tt,Bt,Gt]),Ct.fromTo(k,.01,1),Tt.fromTo(k,.01,1),re)it||qe.fromTo("transform",`translateX(${N})`,`translateX(${ce})`).fromTo(k,.01,1),Tt.fromTo("transform",`translateX(${N})`,`translateX(${ce})`),Gt.fromTo(k,.01,1);else if(tt||qe.fromTo("transform",`translateX(${Le})`,`translateX(${ce})`).fromTo(k,.01,1),Tt.fromTo("transform",`translateX(${Le})`,`translateX(${ce})`),Bt.beforeClearStyles([k,"transform"]),Be?.translucent?Bt.fromTo("transform",ke?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Bt.fromTo(k,.01,"var(--opacity)"),fe||Gt.fromTo(k,.01,1),ye&&!fe){const we=(0,w.c)();we.addElement(I(ye).querySelector(".button-text")).fromTo("transform",ke?"translateX(-100px)":"translateX(100px)","translateX(0px)"),xe.addAnimation(we)}}),ne){const he=(0,w.c)(),xe=ne.querySelector(":scope > ion-content"),qe=ne.querySelectorAll(":scope > ion-header > ion-toolbar"),Ct=ne.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(xe||0!==qe.length||0!==Ct.length?(he.addElement(xe),he.addElement(Ct)):he.addElement(ne.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),me.addAnimation(he),re){he.beforeClearStyles([k]).fromTo("transform",`translateX(${ce})`,ke?"translateX(-100%)":"translateX(100%)");const de=(0,T.g)(ne);me.afterAddWrite(()=>{"normal"===me.getDirection()&&de.style.setProperty("display","none")})}else he.fromTo("transform",`translateX(${ce})`,`translateX(${N})`).fromTo(k,1,.8);if(xe){const de=I(xe).querySelector(".transition-effect");if(de){const Be=de.querySelector(".transition-cover"),it=de.querySelector(".transition-shadow"),Ue=(0,w.c)(),Tt=(0,w.c)(),Bt=(0,w.c)();Ue.addElement(de).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Tt.addElement(Be).beforeClearStyles([k]).fromTo(k,.1,0),Bt.addElement(it).beforeClearStyles([k]).fromTo(k,.7,.03),Ue.addAnimation([Tt,Bt]),he.addAnimation([Ue])}}qe.forEach(de=>{const Be=(0,w.c)();Be.addElement(de);const it=(0,w.c)();it.addElement(de.querySelector("ion-title"));const Ue=(0,w.c)(),Tt=de.querySelectorAll("ion-buttons,[menuToggle]"),Bt=de.closest("ion-header"),Gt=Bt?.classList.contains("header-collapse-condense-inactive"),ye=Array.from(Tt).filter(fn=>{const Yt=fn.classList.contains("buttons-collapse");return Yt&&!Gt||!Yt});Ue.addElement(ye);const Ie=(0,w.c)(),we=de.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");we.length>0&&Ie.addElement(we);const Xe=(0,w.c)();Xe.addElement(I(de).querySelector(".toolbar-background"));const ft=(0,w.c)(),Et=de.querySelector("ion-back-button");if(Et&&ft.addElement(Et),Be.addAnimation([it,Ue,Ie,ft,Xe]),me.addAnimation(Be),ft.fromTo(k,.99,0),Ue.fromTo(k,.99,0),Ie.fromTo(k,.99,0),re){if(Gt||it.fromTo("transform",`translateX(${ce})`,ke?"translateX(-100%)":"translateX(100%)").fromTo(k,.99,0),Ie.fromTo("transform",`translateX(${ce})`,ke?"translateX(-100%)":"translateX(100%)"),Xe.beforeClearStyles([k,"transform"]),Bt?.translucent?Xe.fromTo("transform","translateX(0px)",ke?"translateX(-100%)":"translateX(100%)"):Xe.fromTo(k,"var(--opacity)",0),Et&&!Oe){const Yt=(0,w.c)();Yt.addElement(I(Et).querySelector(".button-text")).fromTo("transform",`translateX(${ce})`,`translateX(${(ke?-124:124)+"px"})`),Be.addAnimation(Yt)}}else Gt||it.fromTo("transform",`translateX(${ce})`,`translateX(${N})`).fromTo(k,.99,0).afterClearStyles([ee,k]),Ie.fromTo("transform",`translateX(${ce})`,`translateX(${N})`).afterClearStyles([ee,k]),ft.afterClearStyles([k]),it.afterClearStyles([k]),Ue.afterClearStyles([k])})}return me}catch(W){throw W}},F=10},5922:(be,Ae,C)=>{"use strict";C.r(Ae),C.d(Ae,{mdTransitionAnimation:()=>B});var w=C(2723),T=C(8044);C(6940),C(3426);const B=(O,I)=>{var x,X,G;const R="40px",M="back"===I.direction,pe=I.leavingEl,De=(0,T.g)(I.enteringEl),te=De.querySelector("ion-toolbar"),W=(0,w.c)();if(W.addElement(De).fill("both").beforeRemoveClass("ion-page-invisible"),M?W.duration((null!==(x=I.duration)&&void 0!==x?x:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):W.duration((null!==(X=I.duration)&&void 0!==X?X:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${R})`,"translateY(0px)").fromTo("opacity",.01,1),te){const k=(0,w.c)();k.addElement(te),W.addAnimation(k)}if(pe&&M){W.duration((null!==(G=I.duration)&&void 0!==G?G:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const k=(0,w.c)();k.addElement((0,T.g)(pe)).onFinish(ee=>{1===ee&&k.elements.length>0&&k.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${R})`).fromTo("opacity",1,0),W.addAnimation(k)}return W}},7261:(be,Ae,C)=>{"use strict";C.d(Ae,{B:()=>it,G:()=>Ue,O:()=>Tt,a:()=>j,b:()=>M,c:()=>te,d:()=>Bt,e:()=>Gt,f:()=>Ge,g:()=>fe,h:()=>xe,i:()=>Ct,j:()=>k,k:()=>ee,l:()=>F,m:()=>pe,n:()=>G,o:()=>ke,q:()=>K,s:()=>Be});var w=C(3918),T=C(6940),d=C(5194),Z=C(8573),B=C(1940),O=C(4675),I=C(6240);let x=0,X=0;const G=new WeakMap,R=ye=>({create:Ie=>ce(ye,Ie),dismiss:(Ie,we,Xe)=>re(document,Ie,we,ye,Xe),getTop:()=>(0,w.Z)(function*(){return K(document,ye)})()}),j=R("ion-alert"),M=R("ion-action-sheet"),F=R("ion-loading"),pe=R("ion-modal"),te=R("ion-popover"),k=ye=>{typeof document<"u"&&ne(document);const Ie=x++;ye.overlayIndex=Ie},ee=ye=>(ye.hasAttribute("id")||(ye.id="ion-overlay-"+ ++X),ye.id),ce=(ye,Ie)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ye).then(()=>{const we=document.createElement(ye);return we.classList.add("overlay-hidden"),Object.assign(we,Object.assign(Object.assign({},Ie),{hasController:!0})),Oe(document).appendChild(we),new Promise(Xe=>(0,O.c)(we,Xe))}):Promise.resolve(),ie='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ke=(ye,Ie)=>{let we=ye.querySelector(ie);const Xe=we?.shadowRoot;Xe&&(we=Xe.querySelector(ie)||we),we?(0,O.f)(we):Ie.focus()},N=(ye,Ie)=>{const we=Array.from(ye.querySelectorAll(ie));let Xe=we.length>0?we[we.length-1]:null;const ft=Xe?.shadowRoot;ft&&(Xe=ft.querySelector(ie)||Xe),Xe?Xe.focus():Ie.focus()},ne=ye=>{0===x&&(x=1,ye.addEventListener("focus",Ie=>{((ye,Ie)=>{const we=K(Ie,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Xe=ye.target;we&&Xe&&!we.classList.contains("ion-disable-focus-trap")&&(we.shadowRoot?(()=>{if(we.contains(Xe))we.lastFocus=Xe;else{const fn=we.lastFocus;ke(we,we),fn===Ie.activeElement&&N(we,we),we.lastFocus=Ie.activeElement}})():(()=>{if(we===Xe)we.lastFocus=void 0;else{const fn=(0,O.g)(we);if(!fn.contains(Xe))return;const Yt=fn.querySelector(".ion-overlay-wrapper");if(!Yt)return;if(Yt.contains(Xe)||Xe===fn.querySelector("ion-backdrop"))we.lastFocus=Xe;else{const Qt=we.lastFocus;ke(Yt,we),Qt===Ie.activeElement&&N(Yt,we),we.lastFocus=Ie.activeElement}}})())})(Ie,ye)},!0),ye.addEventListener("ionBackButton",Ie=>{const we=K(ye);we?.backdropDismiss&&Ie.detail.register(B.OVERLAY_BACK_BUTTON_PRIORITY,()=>we.dismiss(void 0,it))}),ye.addEventListener("keydown",Ie=>{if("Escape"===Ie.key){const we=K(ye);we?.backdropDismiss&&we.dismiss(void 0,it)}}))},re=(ye,Ie,we,Xe,ft)=>{const Et=K(ye,Xe,ft);return Et?Et.dismiss(Ie,we):Promise.reject("overlay does not exist")},D=(ye,Ie)=>((ye,Ie)=>(void 0===Ie&&(Ie="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ye.querySelectorAll(Ie)).filter(we=>we.overlayIndex>0)))(ye,Ie).filter(we=>!(ye=>ye.classList.contains("overlay-hidden"))(we)),K=(ye,Ie,we)=>{const Xe=D(ye,Ie);return void 0===we?Xe[Xe.length-1]:Xe.find(ft=>ft.id===we)},me=(ye=!1)=>{const we=Oe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");we&&(ye?we.setAttribute("aria-hidden","true"):we.removeAttribute("aria-hidden"))},Ge=function(){var ye=(0,w.Z)(function*(Ie,we,Xe,ft,Et){var fn,Yt;if(Ie.presented)return;me(!0),Ie.presented=!0,Ie.willPresent.emit(),null===(fn=Ie.willPresentShorthand)||void 0===fn||fn.emit();const Qt=(0,d.b)(Ie),an=Ie.enterAnimation?Ie.enterAnimation:d.c.get(we,"ios"===Qt?Xe:ft);(yield he(Ie,an,Ie.el,Et))&&(Ie.didPresent.emit(),null===(Yt=Ie.didPresentShorthand)||void 0===Yt||Yt.emit()),"ION-TOAST"!==Ie.el.tagName&&tt(Ie.el),Ie.keyboardClose&&(null===document.activeElement||!Ie.el.contains(document.activeElement))&&Ie.el.focus()});return function(we,Xe,ft,Et,fn){return ye.apply(this,arguments)}}(),tt=function(){var ye=(0,w.Z)(function*(Ie){let we=document.activeElement;if(!we)return;const Xe=we?.shadowRoot;Xe&&(we=Xe.querySelector(ie)||we),yield Ie.onDidDismiss(),we.focus()});return function(we){return ye.apply(this,arguments)}}(),fe=function(){var ye=(0,w.Z)(function*(Ie,we,Xe,ft,Et,fn,Yt){var Qt,an;if(!Ie.presented)return!1;void 0!==T.d&&1===D(T.d).length&&me(!1),Ie.presented=!1;try{Ie.el.style.setProperty("pointer-events","none"),Ie.willDismiss.emit({data:we,role:Xe}),null===(Qt=Ie.willDismissShorthand)||void 0===Qt||Qt.emit({data:we,role:Xe});const br=(0,d.b)(Ie),ur=Ie.leaveAnimation?Ie.leaveAnimation:d.c.get(ft,"ios"===br?Et:fn);Xe!==Ue&&(yield he(Ie,ur,Ie.el,Yt)),Ie.didDismiss.emit({data:we,role:Xe}),null===(an=Ie.didDismissShorthand)||void 0===an||an.emit({data:we,role:Xe}),G.delete(Ie),Ie.el.classList.add("overlay-hidden"),Ie.el.style.removeProperty("pointer-events"),void 0!==Ie.el.lastFocus&&(Ie.el.lastFocus=void 0)}catch(br){console.error(br)}return Ie.el.remove(),!0});return function(we,Xe,ft,Et,fn,Yt,Qt){return ye.apply(this,arguments)}}(),Oe=ye=>ye.querySelector("ion-app")||ye.body,he=function(){var ye=(0,w.Z)(function*(Ie,we,Xe,ft){Xe.classList.remove("overlay-hidden");const fn=we(Ie.el,ft);(!Ie.animated||!d.c.getBoolean("animated",!0))&&fn.duration(0),Ie.keyboardClose&&fn.beforeAddWrite(()=>{const Qt=Xe.ownerDocument.activeElement;Qt?.matches("input,ion-input, ion-textarea")&&Qt.blur()});const Yt=G.get(Ie)||[];return G.set(Ie,[...Yt,fn]),yield fn.play(),!0});return function(we,Xe,ft,Et){return ye.apply(this,arguments)}}(),xe=(ye,Ie)=>{let we;const Xe=new Promise(ft=>we=ft);return qe(ye,Ie,ft=>{we(ft.detail)}),Xe},qe=(ye,Ie,we)=>{const Xe=ft=>{(0,O.b)(ye,Ie,Xe),we(ft)};(0,O.a)(ye,Ie,Xe)},Ct=ye=>"cancel"===ye||ye===it,de=ye=>ye(),Be=(ye,Ie)=>{if("function"==typeof ye)return d.c.get("_zoneGate",de)(()=>{try{return ye(Ie)}catch(Xe){throw Xe}})},it="backdrop",Ue="gesture",Tt=39,Bt=ye=>{let we,Ie=!1;const Xe=(0,Z.C)(),ft=(Yt=!1)=>{if(we&&!Yt)return{delegate:we,inline:Ie};const{el:Qt,hasController:an,delegate:br}=ye;return Ie=null!==Qt.parentNode&&!an,we=Ie?br||Xe:br,{inline:Ie,delegate:we}};return{attachViewToDom:function(){var Yt=(0,w.Z)(function*(Qt){const{delegate:an}=ft(!0);if(an)return yield an.attachViewToDom(ye.el,Qt);const{hasController:br}=ye;if(br&&void 0!==Qt)throw new Error("framework delegate is missing");return null});return function(an){return Yt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Yt}=ft();Yt&&void 0!==ye.el&&Yt.removeViewFromDom(ye.el.parentElement,ye.el)}}},Gt=()=>{let ye;const Ie=()=>{ye&&(ye(),ye=void 0)};return{addClickListener:(Xe,ft)=>{Ie();const Et=void 0!==ft?document.getElementById(ft):null;Et?ye=((Yt,Qt)=>{const an=()=>{Qt.present()};return Yt.addEventListener("click",an),()=>{Yt.removeEventListener("click",an)}})(Et,Xe):(0,I.p)(`A trigger element with the ID "${ft}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Xe)},removeClickListener:Ie}}},2410:(be,Ae,C)=>{"use strict";var T=C(1491)("ArrayBuffer.prototype.byteLength",!0),d=C(9850);be.exports=function(B){return d(B)?T?T(B):B.byteLength:NaN}},1491:(be,Ae,C)=>{"use strict";var w=C(3485),T=C(1773),d=T(w("String.prototype.indexOf"));be.exports=function(B,O){var I=w(B,!!O);return"function"==typeof I&&d(B,".prototype.")>-1?T(I):I}},1773:(be,Ae,C)=>{"use strict";var w=C(8956),T=C(3485),d=C(3931),Z=T("%TypeError%"),B=T("%Function.prototype.apply%"),O=T("%Function.prototype.call%"),I=T("%Reflect.apply%",!0)||w.call(O,B),x=T("%Object.defineProperty%",!0),X=T("%Math.max%");if(x)try{x({},"a",{value:1})}catch{x=null}be.exports=function(j){if("function"!=typeof j)throw new Z("a function is required");var M=I(w,O,arguments);return d(M,1+X(0,j.length-(arguments.length-1)),!0)};var G=function(){return I(w,B,arguments)};x?x(be.exports,"apply",{value:G}):be.exports.apply=G},7303:be=>{var Ae={utf8:{stringToBytes:function(C){return Ae.bin.stringToBytes(unescape(encodeURIComponent(C)))},bytesToString:function(C){return decodeURIComponent(escape(Ae.bin.bytesToString(C)))}},bin:{stringToBytes:function(C){for(var w=[],T=0;T<C.length;T++)w.push(255&C.charCodeAt(T));return w},bytesToString:function(C){for(var w=[],T=0;T<C.length;T++)w.push(String.fromCharCode(C[T]));return w.join("")}}};be.exports=Ae},3754:be=>{var Ae,C;Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",be.exports=C={rotl:function(w,T){return w<<T|w>>>32-T},rotr:function(w,T){return w<<32-T|w>>>T},endian:function(w){if(w.constructor==Number)return 16711935&C.rotl(w,8)|4278255360&C.rotl(w,24);for(var T=0;T<w.length;T++)w[T]=C.endian(w[T]);return w},randomBytes:function(w){for(var T=[];w>0;w--)T.push(Math.floor(256*Math.random()));return T},bytesToWords:function(w){for(var T=[],d=0,Z=0;d<w.length;d++,Z+=8)T[Z>>>5]|=w[d]<<24-Z%32;return T},wordsToBytes:function(w){for(var T=[],d=0;d<32*w.length;d+=8)T.push(w[d>>>5]>>>24-d%32&255);return T},bytesToHex:function(w){for(var T=[],d=0;d<w.length;d++)T.push((w[d]>>>4).toString(16)),T.push((15&w[d]).toString(16));return T.join("")},hexToBytes:function(w){for(var T=[],d=0;d<w.length;d+=2)T.push(parseInt(w.substr(d,2),16));return T},bytesToBase64:function(w){for(var T=[],d=0;d<w.length;d+=3)for(var Z=w[d]<<16|w[d+1]<<8|w[d+2],B=0;B<4;B++)T.push(8*d+6*B<=8*w.length?Ae.charAt(Z>>>6*(3-B)&63):"=");return T.join("")},base64ToBytes:function(w){w=w.replace(/[^A-Z0-9+\/]/gi,"");for(var T=[],d=0,Z=0;d<w.length;Z=++d%4)0!=Z&&T.push((Ae.indexOf(w.charAt(d-1))&Math.pow(2,-2*Z+8)-1)<<2*Z|Ae.indexOf(w.charAt(d))>>>6-2*Z);return T}}},307:(be,Ae,C)=>{"use strict";var w=C(5747),T=C(1491),d=C(4300),Z=C(3485),B=C(1324),O=C(4355),I=C(500),x=C(1568),X=C(9604),G=C(9850),R=C(6994),j=C(9649),M=C(5327),F=C(5692),pe=C(8460),De=C(9148),te=C(927),W=C(2410),k=T("SharedArrayBuffer.prototype.byteLength",!0),ee=T("Date.prototype.getTime"),ce=Object.getPrototypeOf,ie=T("Object.prototype.toString"),ke=Z("%Set%",!0),Le=T("Map.prototype.has",!0),N=T("Map.prototype.get",!0),P=T("Map.prototype.size",!0),ne=T("Set.prototype.add",!0),re=T("Set.prototype.delete",!0),S=T("Set.prototype.has",!0),D=T("Set.prototype.size",!0);function K(de,Be,it,Ue){for(var Bt,Tt=B(de);(Bt=Tt.next())&&!Bt.done;)if(Oe(Be,Bt.value,it,Ue))return re(de,Bt.value),!0;return!1}function me(de){return typeof de>"u"?null:"object"!=typeof de?"symbol"!=typeof de&&("string"!=typeof de&&"number"!=typeof de||+de==+de):void 0}function Ge(de,Be,it,Ue,Tt,Bt){var Gt=me(it);if(null!=Gt)return Gt;var ye=N(Be,Gt),Ie=w({},Tt,{strict:!1});return!(typeof ye>"u"&&!Le(Be,Gt)||!Oe(Ue,ye,Ie,Bt))&&!Le(de,Gt)&&Oe(Ue,ye,Ie,Bt)}function tt(de,Be,it){var Ue=me(it);return Ue??(S(Be,Ue)&&!S(de,Ue))}function fe(de,Be,it,Ue,Tt,Bt){for(var ye,Ie,Gt=B(de);(ye=Gt.next())&&!ye.done;)if(Oe(it,Ie=ye.value,Tt,Bt)&&Oe(Ue,N(Be,Ie),Tt,Bt))return re(de,Ie),!0;return!1}function Oe(de,Be,it,Ue){var Tt=it||{};if(Tt.strict?I(de,Be):de===Be)return!0;if(pe(de)!==pe(Be))return!1;if(!de||!Be||"object"!=typeof de&&"object"!=typeof Be)return Tt.strict?I(de,Be):de==Be;var we,ye=Ue.has(de),Ie=Ue.has(Be);if(ye&&Ie){if(Ue.get(de)===Ue.get(Be))return!0}else we={};return ye||Ue.set(de,we),Ie||Ue.set(Be,we),function Ct(de,Be,it,Ue){var Tt,Bt;if(typeof de!=typeof Be||null==de||null==Be||ie(de)!==ie(Be)||x(de)!==x(Be))return!1;if(X(de)!==X(Be))return!1;var Ie=de instanceof Error,we=Be instanceof Error;if(Ie!==we||(Ie||we)&&(de.name!==Be.name||de.message!==Be.message))return!1;var Xe=j(de),ft=j(Be);if(Xe!==ft||(Xe||ft)&&(de.source!==Be.source||d(de)!==d(Be)))return!1;var Et=R(de),fn=R(Be);if(Et!==fn||(Et||fn)&&ee(de)!==ee(Be)||it.strict&&ce&&ce(de)!==ce(Be))return!1;var Yt=te(de),Qt=te(Be);if(Yt!==Qt)return!1;if(Yt||Qt){if(de.length!==Be.length)return!1;for(Tt=0;Tt<de.length;Tt++)if(de[Tt]!==Be[Tt])return!1;return!0}var an=he(de),br=he(Be);if(an!==br)return!1;if(an||br){if(de.length!==Be.length)return!1;for(Tt=0;Tt<de.length;Tt++)if(de[Tt]!==Be[Tt])return!1;return!0}var ur=G(de),Jo=G(Be);if(ur!==Jo)return!1;if(ur||Jo)return W(de)===W(Be)&&"function"==typeof Uint8Array&&Oe(new Uint8Array(de),new Uint8Array(Be),it,Ue);var Fr=M(de),mo=M(Be);if(Fr!==mo)return!1;if(Fr||mo)return k(de)===k(Be)&&"function"==typeof Uint8Array&&Oe(new Uint8Array(de),new Uint8Array(Be),it,Ue);if(typeof de!=typeof Be)return!1;var Nr=F(de),tr=F(Be);if(Nr.length!==tr.length)return!1;for(Nr.sort(),tr.sort(),Tt=Nr.length-1;Tt>=0;Tt--)if(Nr[Tt]!=tr[Tt])return!1;for(Tt=Nr.length-1;Tt>=0;Tt--)if(!Oe(de[Bt=Nr[Tt]],Be[Bt],it,Ue))return!1;var So=De(de),Ro=De(Be);return So===Ro&&("Set"===So||"Set"===Ro?function xe(de,Be,it,Ue){if(D(de)!==D(Be))return!1;for(var Gt,ye,Ie,Tt=B(de),Bt=B(Be);(Gt=Tt.next())&&!Gt.done;)if(Gt.value&&"object"==typeof Gt.value)Ie||(Ie=new ke),ne(Ie,Gt.value);else if(!S(Be,Gt.value)){if(it.strict||!tt(de,Be,Gt.value))return!1;Ie||(Ie=new ke),ne(Ie,Gt.value)}if(Ie){for(;(ye=Bt.next())&&!ye.done;)if(ye.value&&"object"==typeof ye.value){if(!K(Ie,ye.value,it.strict,Ue))return!1}else if(!it.strict&&!S(de,ye.value)&&!K(Ie,ye.value,it.strict,Ue))return!1;return 0===D(Ie)}return!0}(de,Be,it,Ue):"Map"!==So||function qe(de,Be,it,Ue){if(P(de)!==P(Be))return!1;for(var Gt,ye,Ie,we,Xe,ft,Tt=B(de),Bt=B(Be);(Gt=Tt.next())&&!Gt.done;)if(Xe=Gt.value[1],(we=Gt.value[0])&&"object"==typeof we)Ie||(Ie=new ke),ne(Ie,we);else if(typeof(ft=N(Be,we))>"u"&&!Le(Be,we)||!Oe(Xe,ft,it,Ue)){if(it.strict||!Ge(de,Be,we,Xe,it,Ue))return!1;Ie||(Ie=new ke),ne(Ie,we)}if(Ie){for(;(ye=Bt.next())&&!ye.done;)if(ft=ye.value[1],(we=ye.value[0])&&"object"==typeof we){if(!fe(Ie,de,we,ft,it,Ue))return!1}else if(!(it.strict||de.has(we)&&Oe(N(de,we),ft,it,Ue)||fe(Ie,de,we,ft,w({},it,{strict:!1}),Ue)))return!1;return 0===D(Ie)}return!0}(de,Be,it,Ue))}(de,Be,Tt,Ue)}function he(de){return!(!de||"object"!=typeof de||"number"!=typeof de.length||"function"!=typeof de.copy||"function"!=typeof de.slice||de.length>0&&"number"!=typeof de[0]||!(de.constructor&&de.constructor.isBuffer&&de.constructor.isBuffer(de)))}be.exports=function(Be,it,Ue){return Oe(Be,it,Ue,O())}},4467:(be,Ae,C)=>{"use strict";var w=C(7811)(),T=C(3485),d=w&&T("%Object.defineProperty%",!0);if(d)try{d({},"a",{value:1})}catch{d=!1}var Z=T("%SyntaxError%"),B=T("%TypeError%"),O=C(6078);be.exports=function(x,X,G){if(!x||"object"!=typeof x&&"function"!=typeof x)throw new B("`obj` must be an object or a function`");if("string"!=typeof X&&"symbol"!=typeof X)throw new B("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new B("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new B("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new B("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new B("`loose`, if provided, must be a boolean");var R=arguments.length>3?arguments[3]:null,j=arguments.length>4?arguments[4]:null,M=arguments.length>5?arguments[5]:null,F=arguments.length>6&&arguments[6],pe=!!O&&O(x,X);if(d)d(x,X,{configurable:null===M&&pe?pe.configurable:!M,enumerable:null===R&&pe?pe.enumerable:!R,value:G,writable:null===j&&pe?pe.writable:!j});else{if(!F&&(R||j||M))throw new Z("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");x[X]=G}}},9567:(be,Ae,C)=>{"use strict";var w=C(5692),T="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),d=Object.prototype.toString,Z=Array.prototype.concat,B=C(4467),I=C(7811)(),x=function(G,R,j,M){if(R in G)if(!0===M){if(G[R]===j)return}else if(!function(G){return"function"==typeof G&&"[object Function]"===d.call(G)}(M)||!M())return;I?B(G,R,j,!0):B(G,R,j)},X=function(G,R){var j=arguments.length>2?arguments[2]:{},M=w(R);T&&(M=Z.call(M,Object.getOwnPropertySymbols(R)));for(var F=0;F<M.length;F+=1)x(G,M[F],R[M[F]],j[M[F]])};X.supportsDescriptors=!!I,be.exports=X},1633:function(be,Ae){!function(C){"use strict";var j,d=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,Z=536870912,B=2*Z,I=new WeakMap,X=function(j,M){return function(F){var pe=M.get(F),De=void 0===pe?F.size:pe<B?pe+1:0;if(!F.has(De))return j(F,De);if(F.size<Z){for(;F.has(De);)De=Math.floor(Math.random()*B);return j(F,De)}if(F.size>d)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;F.has(De);)De=Math.floor(Math.random()*d);return j(F,De)}}((j=I,function(M,F){return j.set(M,F),F}),I),G=function(j){return function(M){var F=j(M);return M.add(F),F}}(X);C.addUniqueNumber=G,C.generateUniqueNumber=X}(Ae)},2418:(be,Ae,C)=>{"use strict";var w=C(5487),T=Object.prototype.toString,d=Object.prototype.hasOwnProperty;be.exports=function(X,G,R){if(!w(G))throw new TypeError("iterator must be a function");var j;arguments.length>=3&&(j=R),"[object Array]"===T.call(X)?function(X,G,R){for(var j=0,M=X.length;j<M;j++)d.call(X,j)&&(null==R?G(X[j],j,X):G.call(R,X[j],j,X))}(X,G,j):"string"==typeof X?function(X,G,R){for(var j=0,M=X.length;j<M;j++)null==R?G(X.charAt(j),j,X):G.call(R,X.charAt(j),j,X)}(X,G,j):function(X,G,R){for(var j in X)d.call(X,j)&&(null==R?G(X[j],j,X):G.call(R,X[j],j,X))}(X,G,j)}},8026:be=>{"use strict";var C=Object.prototype.toString,w=Math.max,d=function(I,x){for(var X=[],G=0;G<I.length;G+=1)X[G]=I[G];for(var R=0;R<x.length;R+=1)X[R+I.length]=x[R];return X};be.exports=function(I){var x=this;if("function"!=typeof x||"[object Function]"!==C.apply(x))throw new TypeError("Function.prototype.bind called on incompatible "+x);for(var G,X=function(I,x){for(var X=[],G=1,R=0;G<I.length;G+=1,R+=1)X[R]=I[G];return X}(arguments),j=w(0,x.length-X.length),M=[],F=0;F<j;F++)M[F]="$"+F;if(G=Function("binder","return function ("+function(O,I){for(var x="",X=0;X<O.length;X+=1)x+=O[X],X+1<O.length&&(x+=",");return x}(M)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof G){var De=x.apply(this,d(X,arguments));return Object(De)===De?De:this}return x.apply(I,d(X,arguments))}),x.prototype){var pe=function(){};pe.prototype=x.prototype,G.prototype=new pe,pe.prototype=null}return G}},8956:(be,Ae,C)=>{"use strict";var w=C(8026);be.exports=Function.prototype.bind||w},7688:be=>{"use strict";var Ae=function(){return"string"==typeof function(){}.name},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch{C=null}Ae.functionsHaveConfigurableNames=function(){if(!Ae()||!C)return!1;var d=C(function(){},"name");return!!d&&!!d.configurable};var w=Function.prototype.bind;Ae.boundFunctionsHaveNames=function(){return Ae()&&"function"==typeof w&&""!==function(){}.bind().name},be.exports=Ae},3485:(be,Ae,C)=>{"use strict";var w,T=SyntaxError,d=Function,Z=TypeError,B=function(S){try{return d('"use strict"; return ('+S+").constructor;")()}catch{}},O=Object.getOwnPropertyDescriptor;if(O)try{O({},"")}catch{O=null}var I=function(){throw new Z},x=O?function(){try{return I}catch{try{return O(arguments,"callee").get}catch{return I}}}():I,X=C(2337)(),G=C(1441)(),R=Object.getPrototypeOf||(G?function(S){return S.__proto__}:null),j={},M=typeof Uint8Array>"u"||!R?w:R(Uint8Array),F={"%AggregateError%":typeof AggregateError>"u"?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?w:ArrayBuffer,"%ArrayIteratorPrototype%":X&&R?R([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":j,"%AsyncGenerator%":j,"%AsyncGeneratorFunction%":j,"%AsyncIteratorPrototype%":j,"%Atomics%":typeof Atomics>"u"?w:Atomics,"%BigInt%":typeof BigInt>"u"?w:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?w:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?w:Float32Array,"%Float64Array%":typeof Float64Array>"u"?w:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?w:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":j,"%Int8Array%":typeof Int8Array>"u"?w:Int8Array,"%Int16Array%":typeof Int16Array>"u"?w:Int16Array,"%Int32Array%":typeof Int32Array>"u"?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":X&&R?R(R([][Symbol.iterator]())):w,"%JSON%":"object"==typeof JSON?JSON:w,"%Map%":typeof Map>"u"?w:Map,"%MapIteratorPrototype%":typeof Map>"u"||!X||!R?w:R((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?w:Promise,"%Proxy%":typeof Proxy>"u"?w:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?w:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?w:Set,"%SetIteratorPrototype%":typeof Set>"u"||!X||!R?w:R((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":X&&R?R(""[Symbol.iterator]()):w,"%Symbol%":X?Symbol:w,"%SyntaxError%":T,"%ThrowTypeError%":x,"%TypedArray%":M,"%TypeError%":Z,"%Uint8Array%":typeof Uint8Array>"u"?w:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?w:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?w:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?w:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?w:WeakMap,"%WeakRef%":typeof WeakRef>"u"?w:WeakRef,"%WeakSet%":typeof WeakSet>"u"?w:WeakSet};if(R)try{null.error}catch(S){var pe=R(R(S));F["%Error.prototype%"]=pe}var De=function S(D){var K;if("%AsyncFunction%"===D)K=B("async function () {}");else if("%GeneratorFunction%"===D)K=B("function* () {}");else if("%AsyncGeneratorFunction%"===D)K=B("async function* () {}");else if("%AsyncGenerator%"===D){var me=S("%AsyncGeneratorFunction%");me&&(K=me.prototype)}else if("%AsyncIteratorPrototype%"===D){var Ge=S("%AsyncGenerator%");Ge&&R&&(K=R(Ge.prototype))}return F[D]=K,K},te={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},W=C(8956),k=C(7528),ee=W.call(Function.call,Array.prototype.concat),ce=W.call(Function.apply,Array.prototype.splice),ie=W.call(Function.call,String.prototype.replace),ke=W.call(Function.call,String.prototype.slice),Le=W.call(Function.call,RegExp.prototype.exec),N=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,re=function(D,K){var Ge,me=D;if(k(te,me)&&(me="%"+(Ge=te[me])[0]+"%"),k(F,me)){var tt=F[me];if(tt===j&&(tt=De(me)),typeof tt>"u"&&!K)throw new Z("intrinsic "+D+" exists, but is not available. Please file an issue!");return{alias:Ge,name:me,value:tt}}throw new T("intrinsic "+D+" does not exist!")};be.exports=function(D,K){if("string"!=typeof D||0===D.length)throw new Z("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof K)throw new Z('"allowMissing" argument must be a boolean');if(null===Le(/^%?[^%]*%?$/,D))throw new T("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var me=function(D){var K=ke(D,0,1),me=ke(D,-1);if("%"===K&&"%"!==me)throw new T("invalid intrinsic syntax, expected closing `%`");if("%"===me&&"%"!==K)throw new T("invalid intrinsic syntax, expected opening `%`");var Ge=[];return ie(D,N,function(tt,fe,Oe,he){Ge[Ge.length]=Oe?ie(he,P,"$1"):fe||tt}),Ge}(D),Ge=me.length>0?me[0]:"",tt=re("%"+Ge+"%",K),fe=tt.name,Oe=tt.value,he=!1,xe=tt.alias;xe&&(Ge=xe[0],ce(me,ee([0,1],xe)));for(var qe=1,Ct=!0;qe<me.length;qe+=1){var de=me[qe],Be=ke(de,0,1),it=ke(de,-1);if(('"'===Be||"'"===Be||"`"===Be||'"'===it||"'"===it||"`"===it)&&Be!==it)throw new T("property names with quotes must have matching quotes");if(("constructor"===de||!Ct)&&(he=!0),k(F,fe="%"+(Ge+="."+de)+"%"))Oe=F[fe];else if(null!=Oe){if(!(de in Oe)){if(!K)throw new Z("base intrinsic for "+D+" exists, but the property is not available.");return}if(O&&qe+1>=me.length){var Ue=O(Oe,de);Oe=(Ct=!!Ue)&&"get"in Ue&&!("originalValue"in Ue.get)?Ue.get:Oe[de]}else Ct=k(Oe,de),Oe=Oe[de];Ct&&!he&&(F[fe]=Oe)}}return Oe}},6078:(be,Ae,C)=>{"use strict";var T=C(3485)("%Object.getOwnPropertyDescriptor%",!0);if(T)try{T([],"length")}catch{T=null}be.exports=T},5112:be=>{"use strict";var Ae=typeof BigInt<"u"&&BigInt;be.exports=function(){return"function"==typeof Ae&&"function"==typeof BigInt&&"bigint"==typeof Ae(42)&&"bigint"==typeof BigInt(42)}},7811:(be,Ae,C)=>{"use strict";var T=C(3485)("%Object.defineProperty%",!0),d=function(){if(T)try{return T({},"a",{value:1}),!0}catch{return!1}return!1};d.hasArrayLengthDefineBug=function(){if(!d())return null;try{return 1!==T([],"length",{value:1}).length}catch{return!0}},be.exports=d},1441:be=>{"use strict";var Ae={foo:{}},C=Object;be.exports=function(){return{__proto__:Ae}.foo===Ae.foo&&!({__proto__:null}instanceof C)}},2337:(be,Ae,C)=>{"use strict";var w=typeof Symbol<"u"&&Symbol,T=C(2759);be.exports=function(){return"function"==typeof w&&"function"==typeof Symbol&&"symbol"==typeof w("foo")&&"symbol"==typeof Symbol("bar")&&T()}},2759:be=>{"use strict";be.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var C={},w=Symbol("test"),T=Object(w);if("string"==typeof w||"[object Symbol]"!==Object.prototype.toString.call(w)||"[object Symbol]"!==Object.prototype.toString.call(T))return!1;for(w in C[w]=42,C)return!1;if("function"==typeof Object.keys&&0!==Object.keys(C).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(C).length)return!1;var Z=Object.getOwnPropertySymbols(C);if(1!==Z.length||Z[0]!==w||!Object.prototype.propertyIsEnumerable.call(C,w))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var B=Object.getOwnPropertyDescriptor(C,w);if(42!==B.value||!0!==B.enumerable)return!1}return!0}},6518:(be,Ae,C)=>{"use strict";var w=C(2759);be.exports=function(){return w()&&!!Symbol.toStringTag}},7528:(be,Ae,C)=>{"use strict";var w=Function.prototype.call,T=Object.prototype.hasOwnProperty,d=C(8956);be.exports=d.call(w,T)},2605:(be,Ae,C)=>{"use strict";var w=C(3485),T=C(7528),d=C(4355)(),Z=w("%TypeError%"),B={assert:function(O,I){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new Z("`O` is not an object");if("string"!=typeof I)throw new Z("`slot` must be a string");if(d.assert(O),!B.has(O,I))throw new Z("`"+I+"` is not present on `O`")},get:function(O,I){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new Z("`O` is not an object");if("string"!=typeof I)throw new Z("`slot` must be a string");var x=d.get(O);return x&&x["$"+I]},has:function(O,I){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new Z("`O` is not an object");if("string"!=typeof I)throw new Z("`slot` must be a string");var x=d.get(O);return!!x&&T(x,"$"+I)},set:function(O,I,x){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new Z("`O` is not an object");if("string"!=typeof I)throw new Z("`slot` must be a string");var X=d.get(O);X||d.set(O,X={}),X["$"+I]=x}};Object.freeze&&Object.freeze(B),be.exports=B},1568:(be,Ae,C)=>{"use strict";var w=C(6518)(),d=C(1491)("Object.prototype.toString"),Z=function(x){return!(w&&x&&"object"==typeof x&&Symbol.toStringTag in x)&&"[object Arguments]"===d(x)},B=function(x){return!!Z(x)||null!==x&&"object"==typeof x&&"number"==typeof x.length&&x.length>=0&&"[object Array]"!==d(x)&&"[object Function]"===d(x.callee)},O=function(){return Z(arguments)}();Z.isLegacyArguments=B,be.exports=O?Z:B},9850:(be,Ae,C)=>{"use strict";var w=C(1773),T=C(1491),d=C(3485),Z=C(3631),B=d("ArrayBuffer",!0),O=d("Float32Array",!0),I=T("ArrayBuffer.prototype.byteLength",!0),x=B&&!I&&(new B).slice,X=x&&w(x);be.exports=I||X?function(R){if(!R||"object"!=typeof R)return!1;try{return I?I(R):X(R,0),!0}catch{return!1}}:O?function(R){try{return new O(R).buffer===R&&!Z(R)}catch(j){return"object"==typeof R&&"RangeError"===j.name}}:function(R){return!1}},7050:(be,Ae,C)=>{"use strict";if(C(5112)()){var T=BigInt.prototype.valueOf;be.exports=function(B){return!(null===B||typeof B>"u"||"boolean"==typeof B||"string"==typeof B||"number"==typeof B||"symbol"==typeof B||"function"==typeof B)&&("bigint"==typeof B||function(B){try{return T.call(B),!0}catch{}return!1}(B))}}else be.exports=function(B){return!1}},2856:(be,Ae,C)=>{"use strict";var w=C(1491),T=w("Boolean.prototype.toString"),d=w("Object.prototype.toString"),O=C(6518)();be.exports=function(x){return"boolean"==typeof x||null!==x&&"object"==typeof x&&(O&&Symbol.toStringTag in x?function(x){try{return T(x),!0}catch{return!1}}(x):"[object Boolean]"===d(x))}},7617:be=>{function Ae(w){return!!w.constructor&&"function"==typeof w.constructor.isBuffer&&w.constructor.isBuffer(w)}be.exports=function(w){return null!=w&&(Ae(w)||function C(w){return"function"==typeof w.readFloatLE&&"function"==typeof w.slice&&Ae(w.slice(0,0))}(w)||!!w._isBuffer)}},5487:be=>{"use strict";var w,T,Ae=Function.prototype.toString,C="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof C&&"function"==typeof Object.defineProperty)try{w=Object.defineProperty({},"length",{get:function(){throw T}}),T={},C(function(){throw 42},null,w)}catch(te){te!==T&&(C=null)}else C=null;var d=/^\s*class\b/,Z=function(W){try{var k=Ae.call(W);return d.test(k)}catch{return!1}},B=function(W){try{return!Z(W)&&(Ae.call(W),!0)}catch{return!1}},O=Object.prototype.toString,M="function"==typeof Symbol&&!!Symbol.toStringTag,F=!(0 in[,]),pe=function(){return!1};if("object"==typeof document){var De=document.all;O.call(De)===O.call(document.all)&&(pe=function(W){if((F||!W)&&(typeof W>"u"||"object"==typeof W))try{var k=O.call(W);return("[object HTMLAllCollection]"===k||"[object HTML document.all class]"===k||"[object HTMLCollection]"===k||"[object Object]"===k)&&null==W("")}catch{}return!1})}be.exports=C?function(W){if(pe(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;try{C(W,null,w)}catch(k){if(k!==T)return!1}return!Z(W)&&B(W)}:function(W){if(pe(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;if(M)return B(W);if(Z(W))return!1;var k=O.call(W);return!("[object Function]"!==k&&"[object GeneratorFunction]"!==k&&!/^\[object HTML/.test(k))&&B(W)}},6994:(be,Ae,C)=>{"use strict";var w=Date.prototype.getDay,d=Object.prototype.toString,B=C(6518)();be.exports=function(I){return"object"==typeof I&&null!==I&&(B?function(I){try{return w.call(I),!0}catch{return!1}}(I):"[object Date]"===d.call(I))}},6128:be=>{"use strict";var w,Ae="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;Ae||(w=function(B){return!1});var T=Ae?Map.prototype.has:null,d=C?Set.prototype.has:null;!w&&!T&&(w=function(B){return!1}),be.exports=w||function(B){if(!B||"object"!=typeof B)return!1;try{if(T.call(B),d)try{d.call(B)}catch{return!0}return B instanceof Ae}catch{}return!1}},9065:(be,Ae,C)=>{"use strict";var w=Number.prototype.toString,d=Object.prototype.toString,B=C(6518)();be.exports=function(I){return"number"==typeof I||"object"==typeof I&&(B?function(I){try{return w.call(I),!0}catch{return!1}}(I):"[object Number]"===d.call(I))}},9649:(be,Ae,C)=>{"use strict";var d,Z,B,O,w=C(1491),T=C(6518)();if(T){d=w("Object.prototype.hasOwnProperty"),Z=w("RegExp.prototype.exec"),B={};var I=function(){throw B};O={toString:I,valueOf:I},"symbol"==typeof Symbol.toPrimitive&&(O[Symbol.toPrimitive]=I)}var x=w("Object.prototype.toString"),X=Object.getOwnPropertyDescriptor;be.exports=T?function(j){if(!j||"object"!=typeof j)return!1;var M=X(j,"lastIndex");if(!M||!d(M,"value"))return!1;try{Z(j,O)}catch(pe){return pe===B}}:function(j){return!(!j||"object"!=typeof j&&"function"!=typeof j)&&"[object RegExp]"===x(j)}},5918:be=>{"use strict";var w,Ae="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;C||(w=function(B){return!1});var T=Ae?Map.prototype.has:null,d=C?Set.prototype.has:null;!w&&!d&&(w=function(B){return!1}),be.exports=w||function(B){if(!B||"object"!=typeof B)return!1;try{if(d.call(B),T)try{T.call(B)}catch{return!0}return B instanceof C}catch{}return!1}},5327:(be,Ae,C)=>{"use strict";var T=C(1491)("SharedArrayBuffer.prototype.byteLength",!0);be.exports=T?function(Z){if(!Z||"object"!=typeof Z)return!1;try{return T(Z),!0}catch{return!1}}:function(Z){return!1}},2706:(be,Ae,C)=>{"use strict";var w=String.prototype.valueOf,d=Object.prototype.toString,B=C(6518)();be.exports=function(I){return"string"==typeof I||"object"==typeof I&&(B?function(I){try{return w.call(I),!0}catch{return!1}}(I):"[object String]"===d.call(I))}},2630:(be,Ae,C)=>{"use strict";var w=Object.prototype.toString;if(C(2337)()){var d=Symbol.prototype.toString,Z=/^Symbol\(.*\)$/;be.exports=function(I){if("symbol"==typeof I)return!0;if("[object Symbol]"!==w.call(I))return!1;try{return function(I){return"symbol"==typeof I.valueOf()&&Z.test(d.call(I))}(I)}catch{return!1}}}else be.exports=function(I){return!1}},3631:(be,Ae,C)=>{"use strict";var w=C(927);be.exports=function(d){return!!w(d)}},1545:be=>{"use strict";var w,Ae="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,C="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Ae||(w=function(B){return!1});var T=Ae?Ae.prototype.has:null,d=C?C.prototype.has:null;!w&&!T&&(w=function(B){return!1}),be.exports=w||function(B){if(!B||"object"!=typeof B)return!1;try{if(T.call(B,T),d)try{d.call(B,d)}catch{return!0}return B instanceof Ae}catch{}return!1}},9043:(be,Ae,C)=>{"use strict";var w=C(3485),T=C(1491),d=w("%WeakSet%",!0),Z=T("WeakSet.prototype.has",!0);if(Z){var B=T("WeakMap.prototype.has",!0);be.exports=function(I){if(!I||"object"!=typeof I)return!1;try{if(Z(I,Z),B)try{B(I,B)}catch{return!0}return I instanceof d}catch{}return!1}}else be.exports=function(I){return!1}},9604:be=>{var Ae={}.toString;be.exports=Array.isArray||function(C){return"[object Array]"==Ae.call(C)}},3219:(be,Ae,C)=>{var w,T,d,Z,B;w=C(3754),T=C(7303).utf8,d=C(7617),Z=C(7303).bin,(B=function(O,I){O.constructor==String?O=I&&"binary"===I.encoding?Z.stringToBytes(O):T.stringToBytes(O):d(O)?O=Array.prototype.slice.call(O,0):!Array.isArray(O)&&O.constructor!==Uint8Array&&(O=O.toString());for(var x=w.bytesToWords(O),X=8*O.length,G=1732584193,R=-271733879,j=-1732584194,M=271733878,F=0;F<x.length;F++)x[F]=16711935&(x[F]<<8|x[F]>>>24)|4278255360&(x[F]<<24|x[F]>>>8);x[X>>>5]|=128<<X%32,x[14+(X+64>>>9<<4)]=X;var pe=B._ff,De=B._gg,te=B._hh,W=B._ii;for(F=0;F<x.length;F+=16){var k=G,ee=R,ce=j,ie=M;G=pe(G,R,j,M,x[F+0],7,-680876936),M=pe(M,G,R,j,x[F+1],12,-389564586),j=pe(j,M,G,R,x[F+2],17,606105819),R=pe(R,j,M,G,x[F+3],22,-1044525330),G=pe(G,R,j,M,x[F+4],7,-176418897),M=pe(M,G,R,j,x[F+5],12,1200080426),j=pe(j,M,G,R,x[F+6],17,-1473231341),R=pe(R,j,M,G,x[F+7],22,-45705983),G=pe(G,R,j,M,x[F+8],7,1770035416),M=pe(M,G,R,j,x[F+9],12,-1958414417),j=pe(j,M,G,R,x[F+10],17,-42063),R=pe(R,j,M,G,x[F+11],22,-1990404162),G=pe(G,R,j,M,x[F+12],7,1804603682),M=pe(M,G,R,j,x[F+13],12,-40341101),j=pe(j,M,G,R,x[F+14],17,-1502002290),G=De(G,R=pe(R,j,M,G,x[F+15],22,1236535329),j,M,x[F+1],5,-165796510),M=De(M,G,R,j,x[F+6],9,-1069501632),j=De(j,M,G,R,x[F+11],14,643717713),R=De(R,j,M,G,x[F+0],20,-373897302),G=De(G,R,j,M,x[F+5],5,-701558691),M=De(M,G,R,j,x[F+10],9,38016083),j=De(j,M,G,R,x[F+15],14,-660478335),R=De(R,j,M,G,x[F+4],20,-405537848),G=De(G,R,j,M,x[F+9],5,568446438),M=De(M,G,R,j,x[F+14],9,-1019803690),j=De(j,M,G,R,x[F+3],14,-187363961),R=De(R,j,M,G,x[F+8],20,1163531501),G=De(G,R,j,M,x[F+13],5,-1444681467),M=De(M,G,R,j,x[F+2],9,-51403784),j=De(j,M,G,R,x[F+7],14,1735328473),G=te(G,R=De(R,j,M,G,x[F+12],20,-1926607734),j,M,x[F+5],4,-378558),M=te(M,G,R,j,x[F+8],11,-2022574463),j=te(j,M,G,R,x[F+11],16,1839030562),R=te(R,j,M,G,x[F+14],23,-35309556),G=te(G,R,j,M,x[F+1],4,-1530992060),M=te(M,G,R,j,x[F+4],11,1272893353),j=te(j,M,G,R,x[F+7],16,-155497632),R=te(R,j,M,G,x[F+10],23,-1094730640),G=te(G,R,j,M,x[F+13],4,681279174),M=te(M,G,R,j,x[F+0],11,-358537222),j=te(j,M,G,R,x[F+3],16,-722521979),R=te(R,j,M,G,x[F+6],23,76029189),G=te(G,R,j,M,x[F+9],4,-640364487),M=te(M,G,R,j,x[F+12],11,-421815835),j=te(j,M,G,R,x[F+15],16,530742520),G=W(G,R=te(R,j,M,G,x[F+2],23,-995338651),j,M,x[F+0],6,-198630844),M=W(M,G,R,j,x[F+7],10,1126891415),j=W(j,M,G,R,x[F+14],15,-1416354905),R=W(R,j,M,G,x[F+5],21,-57434055),G=W(G,R,j,M,x[F+12],6,1700485571),M=W(M,G,R,j,x[F+3],10,-1894986606),j=W(j,M,G,R,x[F+10],15,-1051523),R=W(R,j,M,G,x[F+1],21,-2054922799),G=W(G,R,j,M,x[F+8],6,1873313359),M=W(M,G,R,j,x[F+15],10,-30611744),j=W(j,M,G,R,x[F+6],15,-1560198380),R=W(R,j,M,G,x[F+13],21,1309151649),G=W(G,R,j,M,x[F+4],6,-145523070),M=W(M,G,R,j,x[F+11],10,-1120210379),j=W(j,M,G,R,x[F+2],15,718787259),R=W(R,j,M,G,x[F+9],21,-343485551),G=G+k>>>0,R=R+ee>>>0,j=j+ce>>>0,M=M+ie>>>0}return w.endian([G,R,j,M])})._ff=function(O,I,x,X,G,R,j){var M=O+(I&x|~I&X)+(G>>>0)+j;return(M<<R|M>>>32-R)+I},B._gg=function(O,I,x,X,G,R,j){var M=O+(I&X|x&~X)+(G>>>0)+j;return(M<<R|M>>>32-R)+I},B._hh=function(O,I,x,X,G,R,j){var M=O+(I^x^X)+(G>>>0)+j;return(M<<R|M>>>32-R)+I},B._ii=function(O,I,x,X,G,R,j){var M=O+(x^(I|~X))+(G>>>0)+j;return(M<<R|M>>>32-R)+I},B._blocksize=16,B._digestsize=16,be.exports=function(O,I){if(null==O)throw new Error("Illegal argument "+O);var x=w.wordsToBytes(B(O,I));return I&&I.asBytes?x:I&&I.asString?Z.bytesToString(x):w.bytesToHex(x)}},5580:(be,Ae)=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});var C=[];C[0]=function(){return function(){}},C[1]=function(Z,B){return typeof B>"u"?Z:function(I){Z(I,B)}};var d=function(){function Z(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return Z.prototype.addHandler=function(B,O){return this.isHandlerAttached(B,O)||(this._handlers.push(B),this._contexts.push(O),this._createDispatcher(),this._updateHasHandlers()),this},Z.prototype.removeHandler=function(B,O){var I=this._getHandlerIndex(B,O);return typeof I<"u"&&(this._handlers.splice(I,1),this._contexts.splice(I,1),this._createDispatcher(),this._updateHasHandlers()),this},Z.prototype.isHandlerAttached=function(B,O){return typeof this._getHandlerIndex(B,O)<"u"},Z.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},Z.prototype._getHandlerIndex=function(B,O){var x,I=this._handlers.length;for(x=0;x<I&&(this._handlers[x]!==B||this._contexts[x]!==O);x++);return x<I?x:void 0},Z.prototype._createDispatcher=function(){this.dispatch=function w(Z){return C[Z]||(C[Z]=function T(Z){for(var B="return function dispatcher"+Z+"(payload) {\n",O=[],I=[],x=0;x<Z;x++)O.push("cb"+x),I.push("ctx"+x),B+="    cb"+x+"(payload, ctx"+x+");\n";return B+="};",new(Function.bind.apply(Function,[void 0].concat(O.concat(I),[B])))}(Z)),C[Z]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},Z}();Ae.default=d},5861:(be,Ae,C)=>{"use strict";var T=C(5580);Ae.j=T.default},588:function(be,Ae){var C,T;void 0!==(T="function"==typeof(C=function(){"use strict";var d=Object.prototype.hasOwnProperty,Z=Object.prototype.toString,B="boolean"==typeof(new RegExp).sticky;function O(S){return S&&"[object RegExp]"===Z.call(S)}function I(S){return S&&"object"==typeof S&&!O(S)&&!Array.isArray(S)}function X(S){return new RegExp("|"+S).exec("").length-1}function G(S){return"("+S+")"}function R(S){return S.length?"(?:"+S.map(function(K){return"(?:"+K+")"}).join("|")+")":"(?!)"}function j(S){if("string"==typeof S)return"(?:"+function x(S){return S.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(S)+")";if(O(S)){if(S.ignoreCase)throw new Error("RegExp /i flag not allowed");if(S.global)throw new Error("RegExp /g flag is implied");if(S.sticky)throw new Error("RegExp /y flag is implied");if(S.multiline)throw new Error("RegExp /m flag is implied");return S.source}throw new Error("Not a pattern: "+S)}function M(S,D){return S.length>D?S:Array(D-S.length+1).join(" ")+S}function te(S,D){if(I(D)||(D={match:D}),D.include)throw new Error("Matching rules cannot also include states");var K={defaultType:S,lineBreaks:!!D.error||!!D.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var me in D)d.call(D,me)&&(K[me]=D[me]);if("string"==typeof K.type&&S!==K.type)throw new Error("Type transform cannot be a string (type '"+K.type+"' for token '"+S+"')");var Ge=K.match;return K.match=Array.isArray(Ge)?Ge:Ge?[Ge]:[],K.match.sort(function(tt,fe){return O(tt)&&O(fe)?0:O(fe)?-1:O(tt)?1:fe.length-tt.length}),K}function W(S){return Array.isArray(S)?function De(S){for(var D=[],K=0;K<S.length;K++){var me=S[K];if(me.include)for(var Ge=[].concat(me.include),tt=0;tt<Ge.length;tt++)D.push({include:Ge[tt]});else{if(!me.type)throw new Error("Rule has no type: "+JSON.stringify(me));D.push(te(me.type,me))}}return D}(S):function pe(S){for(var D=Object.getOwnPropertyNames(S),K=[],me=0;me<D.length;me++){var Ge=D[me],fe=[].concat(S[Ge]);if("include"!==Ge){var he=[];fe.forEach(function(xe){I(xe)?(he.length&&K.push(te(Ge,he)),K.push(te(Ge,xe)),he=[]):he.push(xe)}),he.length&&K.push(te(Ge,he))}else for(var Oe=0;Oe<fe.length;Oe++)K.push({include:fe[Oe]})}return K}(S)}var k=te("error",{lineBreaks:!0,shouldThrow:!0});function ee(S,D){for(var K=null,me=Object.create(null),Ge=!0,tt=null,fe=[],Oe=[],he=0;he<S.length;he++)S[he].fallback&&(Ge=!1);for(he=0;he<S.length;he++){var xe=S[he];if(xe.include)throw new Error("Inheritance is not allowed in stateless lexers");if(xe.error||xe.fallback){if(K)throw!xe.fallback==!K.fallback?new Error("Multiple "+(xe.fallback?"fallback":"error")+" rules not allowed (for token '"+xe.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+xe.defaultType+"')");K=xe}var qe=xe.match.slice();if(Ge)for(;qe.length&&"string"==typeof qe[0]&&1===qe[0].length;)me[qe.shift().charCodeAt(0)]=xe;if(xe.pop||xe.push||xe.next){if(!D)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+xe.defaultType+"')");if(xe.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+xe.defaultType+"')")}if(0!==qe.length){Ge=!1,fe.push(xe);for(var de=0;de<qe.length;de++){var Be=qe[de];if(O(Be))if(null===tt)tt=Be.unicode;else if(tt!==Be.unicode&&!1===xe.fallback)throw new Error("If one rule is /u then all must be")}var it=R(qe.map(j)),Ue=new RegExp(it);if(Ue.test(""))throw new Error("RegExp matches empty string: "+Ue);if(X(it)>0)throw new Error("RegExp has capture groups: "+Ue+"\nUse (?: \u2026 ) instead");if(!xe.lineBreaks&&Ue.test("\n"))throw new Error("Rule should declare lineBreaks: "+Ue);Oe.push(G(it))}}var Bt=K&&K.fallback,Gt=B&&!Bt?"ym":"gm",ye=B||Bt?"":"|";return!0===tt&&(Gt+="u"),{regexp:new RegExp(R(Oe)+ye,Gt),groups:fe,fast:me,error:K||k}}function ie(S,D,K){var me=S&&(S.push||S.next);if(me&&!K[me])throw new Error("Missing state '"+me+"' (in token '"+S.defaultType+"' of state '"+D+"')");if(S&&S.pop&&1!=+S.pop)throw new Error("pop must be 1 (in token '"+S.defaultType+"' of state '"+D+"')")}var N=function(S,D){this.startState=D,this.states=S,this.buffer="",this.stack=[],this.reset()};N.prototype.reset=function(S,D){return this.buffer=S||"",this.index=0,this.line=D?D.line:1,this.col=D?D.col:1,this.queuedToken=D?D.queuedToken:null,this.queuedText=D?D.queuedText:"",this.queuedThrow=D?D.queuedThrow:null,this.setState(D?D.state:this.startState),this.stack=D&&D.stack?D.stack.slice():[],this},N.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},N.prototype.setState=function(S){if(S&&this.state!==S){this.state=S;var D=this.states[S];this.groups=D.groups,this.error=D.error,this.re=D.regexp,this.fast=D.fast}},N.prototype.popState=function(){this.setState(this.stack.pop())},N.prototype.pushState=function(S){this.stack.push(this.state),this.setState(S)};var P=B?function(S,D){return S.exec(D)}:function(S,D){var K=S.exec(D);return 0===K[0].length?null:K};function ne(){return this.value}if(N.prototype._getGroup=function(S){for(var D=this.groups.length,K=0;K<D;K++)if(void 0!==S[K+1])return this.groups[K];throw new Error("Cannot find token type for matched text")},N.prototype.next=function(){var S=this.index;if(this.queuedGroup){var D=this._token(this.queuedGroup,this.queuedText,S);return this.queuedGroup=null,this.queuedText="",D}var K=this.buffer;if(S!==K.length){if(fe=this.fast[K.charCodeAt(S)])return this._token(fe,K.charAt(S),S);var me=this.re;me.lastIndex=S;var Ge=P(me,K),tt=this.error;if(null==Ge)return this._token(tt,K.slice(S,K.length),S);var fe=this._getGroup(Ge),Oe=Ge[0];return tt.fallback&&Ge.index!==S?(this.queuedGroup=fe,this.queuedText=Oe,this._token(tt,K.slice(S,Ge.index),S)):this._token(fe,Oe,S)}},N.prototype._token=function(S,D,K){var me=0;if(S.lineBreaks){var Ge=/\n/g,tt=1;if("\n"===D)me=1;else for(;Ge.exec(D);)me++,tt=Ge.lastIndex}var fe={type:"function"==typeof S.type&&S.type(D)||S.defaultType,value:"function"==typeof S.value?S.value(D):D,text:D,toString:ne,offset:K,lineBreaks:me,line:this.line,col:this.col},Oe=D.length;if(this.index+=Oe,this.line+=me,0!==me?this.col=Oe-tt+1:this.col+=Oe,S.shouldThrow)throw new Error(this.formatError(fe,"invalid syntax"));return S.pop?this.popState():S.push?this.pushState(S.push):S.next&&this.setState(S.next),fe},typeof Symbol<"u"&&Symbol.iterator){var re=function(S){this.lexer=S};re.prototype.next=function(){var S=this.lexer.next();return{value:S,done:!S}},re.prototype[Symbol.iterator]=function(){return this},N.prototype[Symbol.iterator]=function(){return new re(this)}}return N.prototype.formatError=function(S,D){if(null==S){var K=this.buffer.slice(this.index);S={text:K,offset:this.index,lineBreaks:-1===K.indexOf("\n")?0:1,line:this.line,col:this.col}}var Ge=Math.max(S.line-2,1),fe=String(S.line+2).length,Oe=function F(S,D){for(var K=S.length,me=0;;){var Ge=S.lastIndexOf("\n",K-1);if(-1===Ge||(K=Ge,++me===D)||0===K)break}return S.substring(me<D?0:K+1).split("\n")}(this.buffer,this.line-S.line+2+1).slice(0,5),he=[];he.push(D+" at line "+S.line+" col "+S.col+":"),he.push("");for(var xe=0;xe<Oe.length;xe++){var qe=Oe[xe],Ct=Ge+xe;he.push(M(String(Ct),fe)+"  "+qe),Ct===S.line&&he.push(M("",fe+S.col+1)+"^")}return he.join("\n")},N.prototype.clone=function(){return new N(this.states,this.state)},N.prototype.has=function(S){return!0},{compile:function ce(S){var D=ee(W(S));return new N({start:D},"start")},states:function ke(S,D){var K=S.$all?W(S.$all):[];delete S.$all;var me=Object.getOwnPropertyNames(S);D||(D=me[0]);for(var Ge=Object.create(null),tt=0;tt<me.length;tt++)Ge[fe=me[tt]]=W(S[fe]).concat(K);for(tt=0;tt<me.length;tt++)for(var Oe=Ge[fe=me[tt]],he=Object.create(null),xe=0;xe<Oe.length;xe++){var qe=Oe[xe];if(qe.include){var Ct=[xe,1];if(qe.include!==fe&&!he[qe.include]){he[qe.include]=!0;var de=Ge[qe.include];if(!de)throw new Error("Cannot include nonexistent state '"+qe.include+"' (in state '"+fe+"')");for(var Be=0;Be<de.length;Be++){var it=de[Be];-1===Oe.indexOf(it)&&Ct.push(it)}}Oe.splice.apply(Oe,Ct),xe--}}var Ue=Object.create(null);for(tt=0;tt<me.length;tt++){var fe;Ue[fe=me[tt]]=ee(Ge[fe],!0)}for(tt=0;tt<me.length;tt++){var Tt=me[tt],Bt=Ue[Tt],Gt=Bt.groups;for(xe=0;xe<Gt.length;xe++)ie(Gt[xe],Tt,Ue);var ye=Object.getOwnPropertyNames(Bt.fast);for(xe=0;xe<ye.length;xe++)ie(Bt.fast[ye[xe]],Tt,Ue)}return new N(Ue,D)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function Le(S){for(var D=typeof Map<"u",K=D?new Map:Object.create(null),me=Object.getOwnPropertyNames(S),Ge=0;Ge<me.length;Ge++){var tt=me[Ge],fe=S[tt];(Array.isArray(fe)?fe:[fe]).forEach(function(he){if("string"!=typeof he)throw new Error("keyword must be string (in keyword '"+tt+"')");D?K.set(he,tt):K[he]=tt})}return function(he){return D?K.get(he):K[he]}}}})?C.apply(Ae,[]):C)&&(be.exports=T)},2720:(be,Ae,C)=>{var w="function"==typeof Map&&Map.prototype,T=Object.getOwnPropertyDescriptor&&w?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,d=w&&T&&"function"==typeof T.get?T.get:null,Z=w&&Map.prototype.forEach,B="function"==typeof Set&&Set.prototype,O=Object.getOwnPropertyDescriptor&&B?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,I=B&&O&&"function"==typeof O.get?O.get:null,x=B&&Set.prototype.forEach,G="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,j="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,F="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,pe=Boolean.prototype.valueOf,De=Object.prototype.toString,te=Function.prototype.toString,W=String.prototype.match,k=String.prototype.slice,ee=String.prototype.replace,ce=String.prototype.toUpperCase,ie=String.prototype.toLowerCase,ke=RegExp.prototype.test,Le=Array.prototype.concat,N=Array.prototype.join,P=Array.prototype.slice,ne=Math.floor,re="function"==typeof BigInt?BigInt.prototype.valueOf:null,S=Object.getOwnPropertySymbols,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,K="function"==typeof Symbol&&"object"==typeof Symbol.iterator,me="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Ge=Object.prototype.propertyIsEnumerable,tt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Te){return Te.__proto__}:null);function fe(Te,Me){if(Te===1/0||Te===-1/0||Te!=Te||Te&&Te>-1e3&&Te<1e3||ke.call(/e/,Me))return Me;var nn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Te){var Ut=Te<0?-ne(-Te):ne(Te);if(Ut!==Te){var In=String(Ut),Xt=k.call(Me,In.length+1);return ee.call(In,nn,"$&_")+"."+ee.call(ee.call(Xt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ee.call(Me,nn,"$&_")}var Oe=C(4654),he=Oe.custom,xe=ye(he)?he:null;function qe(Te,Me,nn){var Ut="double"===(nn.quoteStyle||Me)?'"':"'";return Ut+Te+Ut}function Ct(Te){return ee.call(String(Te),/"/g,"&quot;")}function de(Te){return!("[object Array]"!==ft(Te)||me&&"object"==typeof Te&&me in Te)}function it(Te){return!("[object RegExp]"!==ft(Te)||me&&"object"==typeof Te&&me in Te)}function ye(Te){if(K)return Te&&"object"==typeof Te&&Te instanceof Symbol;if("symbol"==typeof Te)return!0;if(!Te||"object"!=typeof Te||!D)return!1;try{return D.call(Te),!0}catch{}return!1}be.exports=function Te(Me,nn,Ut,In){var Xt=nn||{};if(Xe(Xt,"quoteStyle")&&"single"!==Xt.quoteStyle&&"double"!==Xt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Xe(Xt,"maxStringLength")&&("number"==typeof Xt.maxStringLength?Xt.maxStringLength<0&&Xt.maxStringLength!==1/0:null!==Xt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Yn=!Xe(Xt,"customInspect")||Xt.customInspect;if("boolean"!=typeof Yn&&"symbol"!==Yn)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Xe(Xt,"indent")&&null!==Xt.indent&&"\t"!==Xt.indent&&!(parseInt(Xt.indent,10)===Xt.indent&&Xt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Xe(Xt,"numericSeparator")&&"boolean"!=typeof Xt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Vn=Xt.numericSeparator;if(typeof Me>"u")return"undefined";if(null===Me)return"null";if("boolean"==typeof Me)return Me?"true":"false";if("string"==typeof Me)return Fr(Me,Xt);if("number"==typeof Me){if(0===Me)return 1/0/Me>0?"0":"-0";var Lr=String(Me);return Vn?fe(Me,Lr):Lr}if("bigint"==typeof Me){var Kr=String(Me)+"n";return Vn?fe(Me,Kr):Kr}var Rn=typeof Xt.depth>"u"?5:Xt.depth;if(typeof Ut>"u"&&(Ut=0),Ut>=Rn&&Rn>0&&"object"==typeof Me)return de(Me)?"[Array]":"[Object]";var jo=function ei(Te,Me){var nn;if("\t"===Te.indent)nn="\t";else{if(!("number"==typeof Te.indent&&Te.indent>0))return null;nn=N.call(Array(Te.indent+1)," ")}return{base:nn,prev:N.call(Array(Me+1),nn)}}(Xt,Ut);if(typeof In>"u")In=[];else if(fn(In,Me)>=0)return"[Circular]";function uo(Ho,li,_i){if(li&&(In=P.call(In)).push(li),_i){var ci={depth:Xt.depth};return Xe(Xt,"quoteStyle")&&(ci.quoteStyle=Xt.quoteStyle),Te(Ho,ci,Ut+1,In)}return Te(Ho,Xt,Ut+1,In)}if("function"==typeof Me&&!it(Me)){var Hi=function Et(Te){if(Te.name)return Te.name;var Me=W.call(te.call(Te),/^function\s*([\w$]+)/);return Me?Me[1]:null}(Me),Go=oo(Me,uo);return"[Function"+(Hi?": "+Hi:" (anonymous)")+"]"+(Go.length>0?" { "+N.call(Go,", ")+" }":"")}if(ye(Me)){var xn=K?ee.call(String(Me),/^(Symbol\(.*\))_[^)]*$/,"$1"):D.call(Me);return"object"!=typeof Me||K?xn:Nr(xn)}if(function Jo(Te){return!(!Te||"object"!=typeof Te)&&(typeof HTMLElement<"u"&&Te instanceof HTMLElement||"string"==typeof Te.nodeName&&"function"==typeof Te.getAttribute)}(Me)){for(var Cr="<"+ie.call(String(Me.nodeName)),Mr=Me.attributes||[],yn=0;yn<Mr.length;yn++)Cr+=" "+Mr[yn].name+"="+qe(Ct(Mr[yn].value),"double",Xt);return Cr+=">",Me.childNodes&&Me.childNodes.length&&(Cr+="..."),Cr+"</"+ie.call(String(Me.nodeName))+">"}if(de(Me)){if(0===Me.length)return"[]";var _n=oo(Me,uo);return jo&&!function Ro(Te){for(var Me=0;Me<Te.length;Me++)if(fn(Te[Me],"\n")>=0)return!1;return!0}(_n)?"["+dr(_n,jo)+"]":"[ "+N.call(_n,", ")+" ]"}if(function Ue(Te){return!("[object Error]"!==ft(Te)||me&&"object"==typeof Te&&me in Te)}(Me)){var hi=oo(Me,uo);return"cause"in Error.prototype||!("cause"in Me)||Ge.call(Me,"cause")?0===hi.length?"["+String(Me)+"]":"{ ["+String(Me)+"] "+N.call(hi,", ")+" }":"{ ["+String(Me)+"] "+N.call(Le.call("[cause]: "+uo(Me.cause),hi),", ")+" }"}if("object"==typeof Me&&Yn){if(xe&&"function"==typeof Me[xe]&&Oe)return Oe(Me,{depth:Rn-Ut});if("symbol"!==Yn&&"function"==typeof Me.inspect)return Me.inspect()}if(function Yt(Te){if(!d||!Te||"object"!=typeof Te)return!1;try{d.call(Te);try{I.call(Te)}catch{return!0}return Te instanceof Map}catch{}return!1}(Me)){var rn=[];return Z&&Z.call(Me,function(Ho,li){rn.push(uo(li,Me,!0)+" => "+uo(Ho,Me))}),So("Map",d.call(Me),rn,jo)}if(function br(Te){if(!I||!Te||"object"!=typeof Te)return!1;try{I.call(Te);try{d.call(Te)}catch{return!0}return Te instanceof Set}catch{}return!1}(Me)){var wo=[];return x&&x.call(Me,function(Ho){wo.push(uo(Ho,Me))}),So("Set",I.call(Me),wo,jo)}if(function Qt(Te){if(!G||!Te||"object"!=typeof Te)return!1;try{G.call(Te,G);try{j.call(Te,j)}catch{return!0}return Te instanceof WeakMap}catch{}return!1}(Me))return tr("WeakMap");if(function ur(Te){if(!j||!Te||"object"!=typeof Te)return!1;try{j.call(Te,j);try{G.call(Te,G)}catch{return!0}return Te instanceof WeakSet}catch{}return!1}(Me))return tr("WeakSet");if(function an(Te){if(!F||!Te||"object"!=typeof Te)return!1;try{return F.call(Te),!0}catch{}return!1}(Me))return tr("WeakRef");if(function Bt(Te){return!("[object Number]"!==ft(Te)||me&&"object"==typeof Te&&me in Te)}(Me))return Nr(uo(Number(Me)));if(function Ie(Te){if(!Te||"object"!=typeof Te||!re)return!1;try{return re.call(Te),!0}catch{}return!1}(Me))return Nr(uo(re.call(Me)));if(function Gt(Te){return!("[object Boolean]"!==ft(Te)||me&&"object"==typeof Te&&me in Te)}(Me))return Nr(pe.call(Me));if(function Tt(Te){return!("[object String]"!==ft(Te)||me&&"object"==typeof Te&&me in Te)}(Me))return Nr(uo(String(Me)));if(typeof window<"u"&&Me===window)return"{ [object Window] }";if(Me===global)return"{ [object globalThis] }";if(!function Be(Te){return!("[object Date]"!==ft(Te)||me&&"object"==typeof Te&&me in Te)}(Me)&&!it(Me)){var mi=oo(Me,uo),Uo=tt?tt(Me)===Object.prototype:Me instanceof Object||Me.constructor===Object,gi=Me instanceof Object?"":"null prototype",oe=!Uo&&me&&Object(Me)===Me&&me in Me?k.call(ft(Me),8,-1):gi?"Object":"",Ei=(Uo||"function"!=typeof Me.constructor?"":Me.constructor.name?Me.constructor.name+" ":"")+(oe||gi?"["+N.call(Le.call([],oe||[],gi||[]),": ")+"] ":"");return 0===mi.length?Ei+"{}":jo?Ei+"{"+dr(mi,jo)+"}":Ei+"{ "+N.call(mi,", ")+" }"}return String(Me)};var we=Object.prototype.hasOwnProperty||function(Te){return Te in this};function Xe(Te,Me){return we.call(Te,Me)}function ft(Te){return De.call(Te)}function fn(Te,Me){if(Te.indexOf)return Te.indexOf(Me);for(var nn=0,Ut=Te.length;nn<Ut;nn++)if(Te[nn]===Me)return nn;return-1}function Fr(Te,Me){if(Te.length>Me.maxStringLength){var nn=Te.length-Me.maxStringLength,Ut="... "+nn+" more character"+(nn>1?"s":"");return Fr(k.call(Te,0,Me.maxStringLength),Me)+Ut}return qe(ee.call(ee.call(Te,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,mo),"single",Me)}function mo(Te){var Me=Te.charCodeAt(0),nn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Me];return nn?"\\"+nn:"\\x"+(Me<16?"0":"")+ce.call(Me.toString(16))}function Nr(Te){return"Object("+Te+")"}function tr(Te){return Te+" { ? }"}function So(Te,Me,nn,Ut){return Te+" ("+Me+") {"+(Ut?dr(nn,Ut):N.call(nn,", "))+"}"}function dr(Te,Me){if(0===Te.length)return"";var nn="\n"+Me.prev+Me.base;return nn+N.call(Te,","+nn)+"\n"+Me.prev}function oo(Te,Me){var nn=de(Te),Ut=[];if(nn){Ut.length=Te.length;for(var In=0;In<Te.length;In++)Ut[In]=Xe(Te,In)?Me(Te[In],Te):""}var Yn,Xt="function"==typeof S?S(Te):[];if(K){Yn={};for(var Vn=0;Vn<Xt.length;Vn++)Yn["$"+Xt[Vn]]=Xt[Vn]}for(var Lr in Te)Xe(Te,Lr)&&(nn&&String(Number(Lr))===Lr&&Lr<Te.length||K&&Yn["$"+Lr]instanceof Symbol||(ke.call(/[^\w$]/,Lr)?Ut.push(Me(Lr,Te)+": "+Me(Te[Lr],Te)):Ut.push(Lr+": "+Me(Te[Lr],Te))));if("function"==typeof S)for(var Kr=0;Kr<Xt.length;Kr++)Ge.call(Te,Xt[Kr])&&Ut.push("["+Me(Xt[Kr])+"]: "+Me(Te[Xt[Kr]],Te));return Ut}},5376:be=>{"use strict";var Ae=function(C){return C!=C};be.exports=function(w,T){return 0===w&&0===T?1/w==1/T:!!(w===T||Ae(w)&&Ae(T))}},500:(be,Ae,C)=>{"use strict";var w=C(9567),T=C(1773),d=C(5376),Z=C(8204),B=C(2688),O=T(Z(),Object);w(O,{getPolyfill:Z,implementation:d,shim:B}),be.exports=O},8204:(be,Ae,C)=>{"use strict";var w=C(5376);be.exports=function(){return"function"==typeof Object.is?Object.is:w}},2688:(be,Ae,C)=>{"use strict";var w=C(8204),T=C(9567);be.exports=function(){var Z=w();return T(Object,{is:Z},{is:function(){return Object.is!==Z}}),Z}},1601:(be,Ae,C)=>{"use strict";var w;if(!Object.keys){var T=Object.prototype.hasOwnProperty,d=Object.prototype.toString,Z=C(6755),B=Object.prototype.propertyIsEnumerable,O=!B.call({toString:null},"toString"),I=B.call(function(){},"prototype"),x=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],X=function(M){var F=M.constructor;return F&&F.prototype===M},G={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},R=function(){if(typeof window>"u")return!1;for(var M in window)try{if(!G["$"+M]&&T.call(window,M)&&null!==window[M]&&"object"==typeof window[M])try{X(window[M])}catch{return!0}}catch{return!0}return!1}();w=function(F){var pe=null!==F&&"object"==typeof F,De="[object Function]"===d.call(F),te=Z(F),W=pe&&"[object String]"===d.call(F),k=[];if(!pe&&!De&&!te)throw new TypeError("Object.keys called on a non-object");var ee=I&&De;if(W&&F.length>0&&!T.call(F,0))for(var ce=0;ce<F.length;++ce)k.push(String(ce));if(te&&F.length>0)for(var ie=0;ie<F.length;++ie)k.push(String(ie));else for(var ke in F)(!ee||"prototype"!==ke)&&T.call(F,ke)&&k.push(String(ke));if(O)for(var Le=function(M){if(typeof window>"u"||!R)return X(M);try{return X(M)}catch{return!1}}(F),N=0;N<x.length;++N)(!Le||"constructor"!==x[N])&&T.call(F,x[N])&&k.push(x[N]);return k}}be.exports=w},5692:(be,Ae,C)=>{"use strict";var w=Array.prototype.slice,T=C(6755),d=Object.keys,Z=d?function(I){return d(I)}:C(1601),B=Object.keys;Z.shim=function(){if(Object.keys){var I=function(){var x=Object.keys(arguments);return x&&x.length===arguments.length}(1,2);I||(Object.keys=function(X){return T(X)?B(w.call(X)):B(X)})}else Object.keys=Z;return Object.keys||Z},be.exports=Z},6755:be=>{"use strict";var Ae=Object.prototype.toString;be.exports=function(w){var T=Ae.call(w),d="[object Arguments]"===T;return d||(d="[object Array]"!==T&&null!==w&&"object"==typeof w&&"number"==typeof w.length&&w.length>=0&&"[object Function]"===Ae.call(w.callee)),d}},8032:(be,Ae,C)=>{"use strict";var w=C(5692),T=C(2759)(),d=C(1491),Z=Object,B=d("Array.prototype.push"),O=d("Object.prototype.propertyIsEnumerable"),I=T?Object.getOwnPropertySymbols:null;be.exports=function(X,G){if(null==X)throw new TypeError("target must be an object");var R=Z(X);if(1===arguments.length)return R;for(var j=1;j<arguments.length;++j){var M=Z(arguments[j]),F=w(M),pe=T&&(Object.getOwnPropertySymbols||I);if(pe)for(var De=pe(M),te=0;te<De.length;++te){var W=De[te];O(M,W)&&B(F,W)}for(var k=0;k<F.length;++k){var ee=F[k];O(M,ee)&&(R[ee]=M[ee])}}return R}},5747:(be,Ae,C)=>{"use strict";var w=C(9567),T=C(1773),d=C(8032),Z=C(9530),B=C(4096),O=T.apply(Z()),I=function(X,G){return O(Object,arguments)};w(I,{getPolyfill:Z,implementation:d,shim:B}),be.exports=I},9530:(be,Ae,C)=>{"use strict";var w=C(8032);be.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var Z="abcdefghijklmnopqrst",B=Z.split(""),O={},I=0;I<B.length;++I)O[B[I]]=B[I];var x=Object.assign({},O),X="";for(var G in x)X+=G;return Z!==X}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var Z=Object.preventExtensions({1:2});try{Object.assign(Z,"xy")}catch{return"y"===Z[1]}return!1}()?w:Object.assign}},4096:(be,Ae,C)=>{"use strict";var w=C(9567),T=C(9530);be.exports=function(){var Z=T();return w(Object,{assign:Z},{assign:function(){return Object.assign!==Z}}),Z}},6716:(be,Ae)=>{"use strict";var C=Object.prototype.hasOwnProperty;function T(O){try{return decodeURIComponent(O.replace(/\+/g," "))}catch{return null}}function d(O){try{return encodeURIComponent(O)}catch{return null}}Ae.stringify=function B(O,I){I=I||"";var X,G,x=[];for(G in"string"!=typeof I&&(I="?"),O)if(C.call(O,G)){if(!(X=O[G])&&(null==X||isNaN(X))&&(X=""),G=d(G),X=d(X),null===G||null===X)continue;x.push(G+"="+X)}return x.length?I+x.join("&"):""},Ae.parse=function Z(O){for(var X,I=/([^=?#&]+)=?([^&]*)/g,x={};X=I.exec(O);){var G=T(X[1]),R=T(X[2]);null===G||null===R||G in x||(x[G]=R)}return x}},7732:(be,Ae,C)=>{"use strict";var w=C(2562),T=Object,d=TypeError;be.exports=w(function(){if(null!=this&&this!==T(this))throw new d("RegExp.prototype.flags getter called on non-object");var B="";return this.hasIndices&&(B+="d"),this.global&&(B+="g"),this.ignoreCase&&(B+="i"),this.multiline&&(B+="m"),this.dotAll&&(B+="s"),this.unicode&&(B+="u"),this.unicodeSets&&(B+="v"),this.sticky&&(B+="y"),B},"get flags",!0)},4300:(be,Ae,C)=>{"use strict";var w=C(9567),T=C(1773),d=C(7732),Z=C(5848),B=C(6472),O=T(Z());w(O,{getPolyfill:Z,implementation:d,shim:B}),be.exports=O},5848:(be,Ae,C)=>{"use strict";var w=C(7732),T=C(9567).supportsDescriptors,d=Object.getOwnPropertyDescriptor;be.exports=function(){if(T&&"gim"===/a/gim.flags){var B=d(RegExp.prototype,"flags");if(B&&"function"==typeof B.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var O="",I={};if(Object.defineProperty(I,"hasIndices",{get:function(){O+="d"}}),Object.defineProperty(I,"sticky",{get:function(){O+="y"}}),"dy"===O)return B.get}}return w}},6472:(be,Ae,C)=>{"use strict";var w=C(9567).supportsDescriptors,T=C(5848),d=Object.getOwnPropertyDescriptor,Z=Object.defineProperty,B=TypeError,O=Object.getPrototypeOf,I=/a/;be.exports=function(){if(!w||!O)throw new B("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var X=T(),G=O(I),R=d(G,"flags");return(!R||R.get!==X)&&Z(G,"flags",{configurable:!0,enumerable:!1,get:X}),X}},716:be=>{"use strict";be.exports=function(C,w){if(w=w.split(":")[0],!(C=+C))return!1;switch(w){case"http":case"ws":return 80!==C;case"https":case"wss":return 443!==C;case"ftp":return 21!==C;case"gopher":return 70!==C;case"file":return!1}return 0!==C}},3931:(be,Ae,C)=>{"use strict";var w=C(3485),T=C(4467),d=C(7811)(),Z=C(6078),B=w("%TypeError%"),O=w("%Math.floor%");be.exports=function(x,X){if("function"!=typeof x)throw new B("`fn` is not a function");if("number"!=typeof X||X<0||X>4294967295||O(X)!==X)throw new B("`length` must be a positive 32-bit integer");var G=arguments.length>2&&!!arguments[2],R=!0,j=!0;if("length"in x&&Z){var M=Z(x,"length");M&&!M.configurable&&(R=!1),M&&!M.writable&&(j=!1)}return(R||j||!G)&&(d?T(x,"length",X,!0,!0):T(x,"length",X)),x}},2562:(be,Ae,C)=>{"use strict";var w=C(4467),T=C(7811)(),d=C(7688).functionsHaveConfigurableNames(),Z=TypeError;be.exports=function(O,I){if("function"!=typeof O)throw new Z("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||d)&&(T?w(O,"name",I,!0,!0):w(O,"name",I)),O}},4355:(be,Ae,C)=>{"use strict";var w=C(3485),T=C(1491),d=C(2720),Z=w("%TypeError%"),B=w("%WeakMap%",!0),O=w("%Map%",!0),I=T("WeakMap.prototype.get",!0),x=T("WeakMap.prototype.set",!0),X=T("WeakMap.prototype.has",!0),G=T("Map.prototype.get",!0),R=T("Map.prototype.set",!0),j=T("Map.prototype.has",!0),M=function(te,W){for(var ee,k=te;null!==(ee=k.next);k=ee)if(ee.key===W)return k.next=ee.next,ee.next=te.next,te.next=ee,ee};be.exports=function(){var W,k,ee,ce={assert:function(ie){if(!ce.has(ie))throw new Z("Side channel does not contain "+d(ie))},get:function(ie){if(B&&ie&&("object"==typeof ie||"function"==typeof ie)){if(W)return I(W,ie)}else if(O){if(k)return G(k,ie)}else if(ee)return function(te,W){var k=M(te,W);return k&&k.value}(ee,ie)},has:function(ie){if(B&&ie&&("object"==typeof ie||"function"==typeof ie)){if(W)return X(W,ie)}else if(O){if(k)return j(k,ie)}else if(ee)return function(te,W){return!!M(te,W)}(ee,ie);return!1},set:function(ie,ke){B&&ie&&("object"==typeof ie||"function"==typeof ie)?(W||(W=new B),x(W,ie,ke)):O?(k||(k=new O),R(k,ie,ke)):(ee||(ee={key:{},next:null}),function(te,W,k){var ee=M(te,W);ee?ee.value=k:te.next={key:W,next:te.next,value:k}}(ee,ie,ke))}};return ce}},118:(be,Ae,C)=>{"use strict";var w=C(2605),T=SyntaxError,d="object"==typeof StopIteration?StopIteration:null;be.exports=function(B){if(!d)throw new T("this environment lacks StopIteration");w.set(B,"[[Done]]",!1);var O={next:function(){var x=w.get(this,"[[Iterator]]"),X=w.get(x,"[[Done]]");try{return{done:X,value:X?void 0:x.next()}}catch(G){if(w.set(x,"[[Done]]",!0),G!==d)throw G;return{done:!0,value:void 0}}}};return w.set(O,"[[Iterator]]",B),O}},6299:(be,Ae,C)=>{"use strict";var w=C(716),T=C(6716),d=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Z=/[\n\r\t]/g,B=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,O=/:\d+$/,I=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,x=/^[a-zA-Z]:/;function X(k){return(k||"").toString().replace(d,"")}var G=[["#","hash"],["?","query"],function(ee,ce){return M(ce.protocol)?ee.replace(/\\/g,"/"):ee},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],R={hash:1,query:1};function j(k){var ee;ee=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Le,ie={},ke=typeof(k=k||ee.location||{});if("blob:"===k.protocol)ie=new De(unescape(k.pathname),{});else if("string"===ke)for(Le in ie=new De(k,{}),R)delete ie[Le];else if("object"===ke){for(Le in k)Le in R||(ie[Le]=k[Le]);void 0===ie.slashes&&(ie.slashes=B.test(k.href))}return ie}function M(k){return"file:"===k||"ftp:"===k||"http:"===k||"https:"===k||"ws:"===k||"wss:"===k}function F(k,ee){k=(k=X(k)).replace(Z,""),ee=ee||{};var P,ce=I.exec(k),ie=ce[1]?ce[1].toLowerCase():"",ke=!!ce[2],Le=!!ce[3],N=0;return ke?Le?(P=ce[2]+ce[3]+ce[4],N=ce[2].length+ce[3].length):(P=ce[2]+ce[4],N=ce[2].length):Le?(P=ce[3]+ce[4],N=ce[3].length):P=ce[4],"file:"===ie?N>=2&&(P=P.slice(2)):M(ie)?P=ce[4]:ie?ke&&(P=P.slice(2)):N>=2&&M(ee.protocol)&&(P=ce[4]),{protocol:ie,slashes:ke||M(ie),slashesCount:N,rest:P}}function De(k,ee,ce){if(k=(k=X(k)).replace(Z,""),!(this instanceof De))return new De(k,ee,ce);var ie,ke,Le,N,P,ne,re=G.slice(),S=typeof ee,D=this,K=0;for("object"!==S&&"string"!==S&&(ce=ee,ee=null),ce&&"function"!=typeof ce&&(ce=T.parse),ie=!(ke=F(k||"",ee=j(ee))).protocol&&!ke.slashes,D.slashes=ke.slashes||ie&&ee.slashes,D.protocol=ke.protocol||ee.protocol||"",k=ke.rest,("file:"===ke.protocol&&(2!==ke.slashesCount||x.test(k))||!ke.slashes&&(ke.protocol||ke.slashesCount<2||!M(D.protocol)))&&(re[3]=[/(.*)/,"pathname"]);K<re.length;K++)"function"!=typeof(N=re[K])?(ne=N[1],(Le=N[0])!=Le?D[ne]=k:"string"==typeof Le?~(P="@"===Le?k.lastIndexOf(Le):k.indexOf(Le))&&("number"==typeof N[2]?(D[ne]=k.slice(0,P),k=k.slice(P+N[2])):(D[ne]=k.slice(P),k=k.slice(0,P))):(P=Le.exec(k))&&(D[ne]=P[1],k=k.slice(0,P.index)),D[ne]=D[ne]||ie&&N[3]&&ee[ne]||"",N[4]&&(D[ne]=D[ne].toLowerCase())):k=N(k,D);ce&&(D.query=ce(D.query)),ie&&ee.slashes&&"/"!==D.pathname.charAt(0)&&(""!==D.pathname||""!==ee.pathname)&&(D.pathname=function pe(k,ee){if(""===k)return ee;for(var ce=(ee||"/").split("/").slice(0,-1).concat(k.split("/")),ie=ce.length,ke=ce[ie-1],Le=!1,N=0;ie--;)"."===ce[ie]?ce.splice(ie,1):".."===ce[ie]?(ce.splice(ie,1),N++):N&&(0===ie&&(Le=!0),ce.splice(ie,1),N--);return Le&&ce.unshift(""),("."===ke||".."===ke)&&ce.push(""),ce.join("/")}(D.pathname,ee.pathname)),"/"!==D.pathname.charAt(0)&&M(D.protocol)&&(D.pathname="/"+D.pathname),w(D.port,D.protocol)||(D.host=D.hostname,D.port=""),D.username=D.password="",D.auth&&(~(P=D.auth.indexOf(":"))?(D.username=D.auth.slice(0,P),D.username=encodeURIComponent(decodeURIComponent(D.username)),D.password=D.auth.slice(P+1),D.password=encodeURIComponent(decodeURIComponent(D.password))):D.username=encodeURIComponent(decodeURIComponent(D.auth)),D.auth=D.password?D.username+":"+D.password:D.username),D.origin="file:"!==D.protocol&&M(D.protocol)&&D.host?D.protocol+"//"+D.host:"null",D.href=D.toString()}De.prototype={set:function te(k,ee,ce){var ie=this;switch(k){case"query":"string"==typeof ee&&ee.length&&(ee=(ce||T.parse)(ee)),ie[k]=ee;break;case"port":ie[k]=ee,w(ee,ie.protocol)?ee&&(ie.host=ie.hostname+":"+ee):(ie.host=ie.hostname,ie[k]="");break;case"hostname":ie[k]=ee,ie.port&&(ee+=":"+ie.port),ie.host=ee;break;case"host":ie[k]=ee,O.test(ee)?(ee=ee.split(":"),ie.port=ee.pop(),ie.hostname=ee.join(":")):(ie.hostname=ee,ie.port="");break;case"protocol":ie.protocol=ee.toLowerCase(),ie.slashes=!ce;break;case"pathname":case"hash":if(ee){var ke="pathname"===k?"/":"#";ie[k]=ee.charAt(0)!==ke?ke+ee:ee}else ie[k]=ee;break;case"username":case"password":ie[k]=encodeURIComponent(ee);break;case"auth":var Le=ee.indexOf(":");~Le?(ie.username=ee.slice(0,Le),ie.username=encodeURIComponent(decodeURIComponent(ie.username)),ie.password=ee.slice(Le+1),ie.password=encodeURIComponent(decodeURIComponent(ie.password))):ie.username=encodeURIComponent(decodeURIComponent(ee))}for(var N=0;N<G.length;N++){var P=G[N];P[4]&&(ie[P[1]]=ie[P[1]].toLowerCase())}return ie.auth=ie.password?ie.username+":"+ie.password:ie.username,ie.origin="file:"!==ie.protocol&&M(ie.protocol)&&ie.host?ie.protocol+"//"+ie.host:"null",ie.href=ie.toString(),ie},toString:function W(k){(!k||"function"!=typeof k)&&(k=T.stringify);var ee,ce=this,ie=ce.host,ke=ce.protocol;ke&&":"!==ke.charAt(ke.length-1)&&(ke+=":");var Le=ke+(ce.protocol&&ce.slashes||M(ce.protocol)?"//":"");return ce.username?(Le+=ce.username,ce.password&&(Le+=":"+ce.password),Le+="@"):ce.password?(Le+=":"+ce.password,Le+="@"):"file:"!==ce.protocol&&M(ce.protocol)&&!ie&&"/"!==ce.pathname&&(Le+="@"),(":"===ie[ie.length-1]||O.test(ce.hostname)&&!ce.port)&&(ie+=":"),Le+=ie+ce.pathname,(ee="object"==typeof ce.query?k(ce.query):ce.query)&&(Le+="?"!==ee.charAt(0)?"?"+ee:ee),ce.hash&&(Le+=ce.hash),Le}},De.extractProtocol=F,De.location=j,De.trimLeft=X,De.qs=T,be.exports=De},8460:(be,Ae,C)=>{"use strict";var w=C(2706),T=C(9065),d=C(2856),Z=C(2630),B=C(7050);be.exports=function(I){return null==I||"object"!=typeof I&&"function"!=typeof I?null:w(I)?"String":T(I)?"Number":d(I)?"Boolean":Z(I)?"Symbol":B(I)?"BigInt":void 0}},927:(be,Ae,C)=>{"use strict";var w=C(2418),T=C(1001),d=C(1773),Z=C(1491),B=C(6078),O=Z("Object.prototype.toString"),I=C(6518)(),x=typeof globalThis>"u"?global:globalThis,X=T(),G=Z("String.prototype.slice"),R=Object.getPrototypeOf,j=Z("Array.prototype.indexOf",!0)||function(te,W){for(var k=0;k<te.length;k+=1)if(te[k]===W)return k;return-1},M={__proto__:null};w(X,I&&B&&R?function(De){var te=new x[De];if(Symbol.toStringTag in te){var W=R(te),k=B(W,Symbol.toStringTag);if(!k){var ee=R(W);k=B(ee,Symbol.toStringTag)}M["$"+De]=d(k.get)}}:function(De){var te=new x[De],W=te.slice||te.set;W&&(M["$"+De]=d(W))}),be.exports=function(te){if(!te||"object"!=typeof te)return!1;if(!I){var W=G(O(te),8,-1);return j(X,W)>-1?W:"Object"===W&&function(te){var W=!1;return w(M,function(k,ee){if(!W)try{k(te),W=G(ee,1)}catch{}}),W}(te)}return B?function(te){var W=!1;return w(M,function(k,ee){if(!W)try{"$"+k(te)===ee&&(W=G(ee,1))}catch{}}),W}(te):null}},863:(be,Ae,C)=>{var w={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,5869,4969],"./ion-datetime_3.entry.js":[1835,5869,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,8592,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,8592,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[9964,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,8592,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function T(d){if(!C.o(w,d))return Promise.resolve().then(()=>{var O=new Error("Cannot find module '"+d+"'");throw O.code="MODULE_NOT_FOUND",O});var Z=w[d],B=Z[0];return Promise.all(Z.slice(1).map(C.e)).then(()=>C(B))}T.keys=()=>Object.keys(w),T.id=863,be.exports=T},4654:()=>{},1001:be=>{"use strict";var Ae=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C=typeof globalThis>"u"?global:globalThis;be.exports=function(){for(var T=[],d=0;d<Ae.length;d++)"function"==typeof C[Ae[d]]&&(T[T.length]=Ae[d]);return T}},1324:(be,Ae,C)=>{"use strict";var w=C(1568),T=C(118);if(C(2337)()||C(2759)()){var d=Symbol.iterator;be.exports=function(P){return null!=P&&typeof P[d]<"u"?P[d]():w(P)?Array.prototype[d].call(P):void 0}}else{var Z=C(9604),B=C(2706),O=C(3485),I=O("%Map%",!0),x=O("%Set%",!0),X=C(1491),G=X("Array.prototype.push"),R=X("String.prototype.charCodeAt"),j=X("String.prototype.slice"),F=function(P){var ne=0;return{next:function(){var D,S=ne>=P.length;return S||(D=P[ne],ne+=1),{done:S,value:D}}}},pe=function(P,ne){if(Z(P)||w(P))return F(P);if(B(P)){var re=0;return{next:function(){var D=function(P,ne){if(ne+1>=P.length)return ne+1;var S=R(P,ne);if(S<55296||S>56319)return ne+1;var D=R(P,ne+1);return D<56320||D>57343?ne+1:ne+2}(P,re),K=j(P,re,D);return re=D,{done:D>P.length,value:K}}}}return ne&&typeof P["_es6-shim iterator_"]<"u"?P["_es6-shim iterator_"]():void 0};if(I||x){var De=C(6128),te=C(5918),W=X("Map.prototype.forEach",!0),k=X("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var ee=X("Map.prototype.iterator",!0),ce=X("Set.prototype.iterator",!0);var ie=X("Map.prototype.@@iterator",!0)||X("Map.prototype._es6-shim iterator_",!0),ke=X("Set.prototype.@@iterator",!0)||X("Set.prototype._es6-shim iterator_",!0);be.exports=function(P){return function(P){if(De(P)){if(ee)return T(ee(P));if(ie)return ie(P);if(W){var ne=[];return W(P,function(S,D){G(ne,[D,S])}),F(ne)}}if(te(P)){if(ce)return T(ce(P));if(ke)return ke(P);if(k){var re=[];return k(P,function(S){G(re,S)}),F(re)}}}(P)||pe(P)}}else be.exports=function(P){if(null!=P)return pe(P,!0)}}},9148:(be,Ae,C)=>{"use strict";var w=C(6128),T=C(5918),d=C(1545),Z=C(9043);be.exports=function(O){if(O&&"object"==typeof O){if(w(O))return"Map";if(T(O))return"Set";if(d(O))return"WeakMap";if(Z(O))return"WeakSet"}return!1}},3918:(be,Ae,C)=>{"use strict";function w(d,Z,B,O,I,x,X){try{var G=d[x](X),R=G.value}catch(j){return void B(j)}G.done?Z(R):Promise.resolve(R).then(O,I)}function T(d){return function(){var Z=this,B=arguments;return new Promise(function(O,I){var x=d.apply(Z,B);function X(R){w(x,O,I,X,G,"next",R)}function G(R){w(x,O,I,X,G,"throw",R)}X(void 0)})}}C.d(Ae,{Z:()=>T})}},be=>{be(be.s=1716)}]);
//# sourceMappingURL=main.188d6eee322d3601.js.map