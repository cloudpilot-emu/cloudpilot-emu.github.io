(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{7267:(ae,De,b)=>{"use strict";let E=null,G=1;function x(e){const t=E;return E=e,t}function M(e){if((!Re(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==G)){if(!e.producerMustRecompute(e)&&!A(e))return e.dirty=!1,void(e.lastCleanEpoch=G);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=G}}function A(e){Be(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(M(r),n!==r.version))return!0}return!1}function ie(e,t){if(function R(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Be(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)ie(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Be(o),o.producerIndexOfThis[n]=t}}function Re(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Be(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let ve=null;function ke(e){return"function"==typeof e}function ye(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const xe=ye(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Qe(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class dt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(ke(n))try{n()}catch(i){t=i instanceof xe?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{Yt(i)}catch(s){t=t??[],s instanceof xe?t=[...t,...s.errors]:t.push(s)}}if(t)throw new xe(t)}}add(t){var r;if(t&&t!==this)if(this.closed)Yt(t);else{if(t instanceof dt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Qe(r,t)}remove(t){const{_finalizers:r}=this;r&&Qe(r,t),t instanceof dt&&t._removeParent(this)}}dt.EMPTY=(()=>{const e=new dt;return e.closed=!0,e})();const Ht=dt.EMPTY;function Kt(e){return e instanceof dt||e&&"closed"in e&&ke(e.remove)&&ke(e.add)&&ke(e.unsubscribe)}function Yt(e){ke(e)?e():e.unsubscribe()}const Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fn={setTimeout(e,t,...r){const{delegate:n}=fn;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=fn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Zn(e){fn.setTimeout(()=>{const{onUnhandledError:t}=Xt;if(!t)throw e;t(e)})}function sr(){}const ai=Qn("C",void 0,void 0);function Qn(e,t,r){return{kind:e,value:t,error:r}}let mr=null;function Do(e){if(Xt.useDeprecatedSynchronousErrorHandling){const t=!mr;if(t&&(mr={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=mr;if(mr=null,r)throw n}}else e()}class li extends dt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Kt(t)&&t.add(this)):this.destination=nn}static create(t,r,n){return new Me(t,r,n)}next(t){this.isStopped?$n(function oo(e){return Qn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?$n(function xr(e){return Qn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$n(ai,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Jr=Function.prototype.bind;function gr(e,t){return Jr.call(e,t)}class Te{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){gt(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){gt(n)}else gt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){gt(r)}}}class Me extends li{constructor(t,r,n){let o;if(super(),ke(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&Xt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&gr(t.next,i),error:t.error&&gr(t.error,i),complete:t.complete&&gr(t.complete,i)}):o=t}this.destination=new Te(o)}}function gt(e){Xt.useDeprecatedSynchronousErrorHandling?function io(e){Xt.useDeprecatedSynchronousErrorHandling&&mr&&(mr.errorThrown=!0,mr.error=e)}(e):Zn(e)}function $n(e,t){const{onStoppedNotification:r}=Xt;r&&fn.setTimeout(()=>r(e,t))}const nn={closed:!0,next:sr,error:function En(e){throw e},complete:sr},nr="function"==typeof Symbol&&Symbol.observable||"@@observable";function vr(e){return e}function eo(e){return 0===e.length?vr:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let kn=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function Ki(e){return e&&e instanceof li||function so(e){return e&&ke(e.next)&&ke(e.error)&&ke(e.complete)}(e)&&Kt(e)}(r)?r:new Me(r,n,o);return Do(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=Ro(n))((o,i)=>{const s=new Me({next:a=>{try{r(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[nr](){return this}pipe(...r){return eo(r)(this)}toPromise(r){return new(r=Ro(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function Ro(e){var t;return null!==(t=e??Xt.Promise)&&void 0!==t?t:Promise}const Po=ye(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let In=(()=>{class e extends kn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new yr(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Po}next(r){Do(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){Do(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Do(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?Ht:(this.currentObservers=null,i.push(r),new dt(()=>{this.currentObservers=null,Qe(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new kn;return r.source=this,r}}return e.create=(t,r)=>new yr(t,r),e})();class yr extends In{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:Ht}}function Bn(e){return ke(e?.lift)}function dn(e){return t=>{if(Bn(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Sn(e,t,r,n,o){return new po(e,t,r,n,o)}class po extends li{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Qt(e,t){return dn((r,n)=>{let o=0;r.subscribe(Sn(n,i=>{n.next(e.call(t,i,o++))}))})}function re(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function no(e){return this instanceof no?(this.v=e,this):new no(e)}function yn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Mi(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Wo=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function g(e){return ke(e?.then)}function S(e){return ke(e[nr])}function B(e){return Symbol.asyncIterator&&ke(e?.[Symbol.asyncIterator])}function X(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fe=function Pe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ze(e){return ke(e?.[fe])}function Xe(e){return function di(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(m){n[m]&&(o[m]=function(_){return new Promise(function(U,Y){i.push([m,_,U,Y])>1||a(m,_)})})}function a(m,_){try{!function l(m){m.value instanceof no?Promise.resolve(m.value.v).then(c,d):p(i[0][2],m)}(n[m](_))}catch(U){p(i[0][3],U)}}function c(m){a("next",m)}function d(m){a("throw",m)}function p(m,_){m(_),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield no(r.read());if(o)return yield no(void 0);yield yield no(n)}}finally{r.releaseLock()}})}function Je(e){return ke(e?.getReader)}function Ue(e){if(e instanceof kn)return e;if(null!=e){if(S(e))return function ut(e){return new kn(t=>{const r=e[nr]();if(ke(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Wo(e))return function Dt(e){return new kn(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(g(e))return function Et(e){return new kn(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,Zn)})}(e);if(B(e))return wr(e);if(Ze(e))return function wn(e){return new kn(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(Je(e))return function Ar(e){return wr(Xe(e))}(e)}throw X(e)}function wr(e){return new kn(t=>{(function zr(e,t){var r,n,o,i;return function yi(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(d){try{c(n.next(d))}catch(p){s(p)}}function l(d){try{c(n.throw(d))}catch(p){s(p)}}function c(d){d.done?i(d.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=yn(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Jn(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function Rn(e,t,r=1/0){return ke(t)?Rn((n,o)=>Qt((i,s)=>t(n,i,o,s))(Ue(e(n,o))),r):("number"==typeof t&&(r=t),dn((n,o)=>function _s(e,t,r,n,o,i,s,a){const l=[];let c=0,d=0,p=!1;const m=()=>{p&&!l.length&&!c&&t.complete()},_=Y=>c<n?U(Y):l.push(Y),U=Y=>{i&&t.next(Y),c++;let ge=!1;Ue(r(Y,d++)).subscribe(Sn(t,we=>{o?.(we),i?_(we):t.next(we)},()=>{ge=!0},void 0,()=>{if(ge)try{for(c--;l.length&&c<n;){const we=l.shift();s?Jn(t,s,()=>U(we)):U(we)}m()}catch(we){t.error(we)}}))};return e.subscribe(Sn(t,_,()=>{p=!0,m()})),()=>{a?.()}}(n,o,e,r)))}function Oo(e=1/0){return Rn(vr,e)}const Eo=new kn(e=>e.complete());function ca(e){return e&&ke(e.schedule)}function Us(e){return e[e.length-1]}function ua(e){return ke(Us(e))?e.pop():void 0}function Qi(e){return ca(Us(e))?e.pop():void 0}function da(e,t=0){return dn((r,n)=>{r.subscribe(Sn(n,o=>Jn(n,e,()=>n.next(o),t),()=>Jn(n,e,()=>n.complete(),t),o=>Jn(n,e,()=>n.error(o),t)))})}function fa(e,t=0){return dn((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function pa(e,t){if(!e)throw new Error("Iterable cannot be null");return new kn(r=>{Jn(r,t,()=>{const n=e[Symbol.asyncIterator]();Jn(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function _r(e,t){return t?function za(e,t){if(null!=e){if(S(e))return function Va(e,t){return Ue(e).pipe(fa(t),da(t))}(e,t);if(Wo(e))return function Ua(e,t){return new kn(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(g(e))return function ja(e,t){return Ue(e).pipe(fa(t),da(t))}(e,t);if(B(e))return pa(e,t);if(Ze(e))return function Ha(e,t){return new kn(r=>{let n;return Jn(r,t,()=>{n=e[fe](),Jn(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>ke(n?.return)&&n.return()})}(e,t);if(Je(e))return function Ga(e,t){return pa(Xe(e),t)}(e,t)}throw X(e)}(e,t):Ue(e)}function ha(...e){const t=Qi(e),r=function Ba(e,t){return"number"==typeof Us(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?Ue(n[0]):Oo(r)(_r(n,t)):Eo}class lo extends In{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Pt(...e){return _r(e,Qi(e))}function ma(e={}){const{connector:t=(()=>new In),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,d=!1,p=!1;const m=()=>{a?.unsubscribe(),a=void 0},_=()=>{m(),s=l=void 0,d=p=!1},U=()=>{const Y=s;_(),Y?.unsubscribe()};return dn((Y,ge)=>{c++,!p&&!d&&m();const we=l=l??t();ge.add(()=>{c--,0===c&&!p&&!d&&(a=Hs(U,o))}),we.subscribe(ge),!s&&c>0&&(s=new Me({next:Ae=>we.next(Ae),error:Ae=>{p=!0,m(),a=Hs(_,r,Ae),we.error(Ae)},complete:()=>{d=!0,m(),a=Hs(_,n),we.complete()}}),Ue(Y).subscribe(s))})(i)}}function Hs(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new Me({next:()=>{n.unsubscribe(),e()}});return Ue(t(...r)).subscribe(n)}function Wr(e,t){return dn((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe(Sn(n,l=>{o?.unsubscribe();let c=0;const d=i++;Ue(e(l,d)).subscribe(o=Sn(n,p=>n.next(t?t(l,p,d,c++):p),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Gs(e,t=vr){return e=e??Wa,dn((r,n)=>{let o,i=!0;r.subscribe(Sn(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function Wa(e,t){return e===t}function Pn(e){for(let t in e)if(e[t]===Pn)return t;throw Error("Could not find renamed property on target object.")}function bs(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function br(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(br).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function zs(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Za=Pn({__forward_ref__:Pn});function Fn(e){return e.__forward_ref__=Fn,e.toString=function(){return br(this())},e}function Lt(e){return Cs(e)?e():e}function Cs(e){return"function"==typeof e&&e.hasOwnProperty(Za)&&e.__forward_ref__===Fn}function Ws(e){return e&&!!e.\u0275providers}const ga="https://g.co/ng/security#xss";class Ye extends Error{constructor(t,r){super(function ki(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}const Ji=Pn({\u0275cmp:Pn}),Zs=Pn({\u0275dir:Pn}),qs=Pn({\u0275pipe:Pn}),va=Pn({\u0275mod:Pn}),ei=Pn({\u0275fac:Pn}),es=Pn({__NG_ELEMENT_ID__:Pn}),ya=Pn({__NG_ENV_ID__:Pn});function Wt(e){return"string"==typeof e?e:null==e?"":String(e)}function _a(e,t){throw new Ye(-201,!1)}function rn(e,t){null==e&&function Ot(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function $e(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Jt(e){return{providers:e.providers||[],imports:e.imports||[]}}function qn(e){return z(e,kt)||z(e,_n)}function z(e,t){return e.hasOwnProperty(t)?e[t]:null}function ze(e){return e&&(e.hasOwnProperty(en)||e.hasOwnProperty(Tn))?e[en]:null}const kt=Pn({\u0275prov:Pn}),en=Pn({\u0275inj:Pn}),_n=Pn({ngInjectableDef:Pn}),Tn=Pn({ngInjectorDef:Pn});var Nt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Nt||{});let Zt;function Dr(){return Zt}function xn(e){const t=Zt;return Zt=e,t}function er(e,t,r){const n=qn(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Nt.Optional?null:void 0!==t?t:void _a(br(e))}const qt=globalThis;class et{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=$e({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ss={},ba="__NG_DI_FLAG__",ws="ngTempTokenPath",ju=/\n/gm,Xc="__source";let Ca;function Sa(e){const t=Ca;return Ca=e,t}function $h(e,t=Nt.Default){if(void 0===Ca)throw new Ye(-203,!1);return null===Ca?er(e,void 0,t):Ca.get(e,t&Nt.Optional?null:void 0,t)}function se(e,t=Nt.Default){return(Dr()||$h)(Lt(e),t)}function ot(e,t=Nt.Default){return se(e,Qc(t))}function Qc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Uu(e){const t=[];for(let r=0;r<e.length;r++){const n=Lt(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Ye(900,!1);let o,i=Nt.Default;for(let s=0;s<n.length;s++){const a=n[s],l=Bh(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(se(o,i))}else t.push(se(n))}return t}function fc(e,t){return e[ba]=t,e.prototype[ba]=t,e}function Bh(e){return e[ba]}function Ks(e){return{toString:e}.toString()}var Jc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Jc||{}),ts=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ts||{});const Ds={},Un=[];function wf(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function Hu(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];Ef(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function Df(e){return 3===e||4===e||6===e}function Ef(e){return 64===e.charCodeAt(0)}function pc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||If(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function If(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const Tf="ng-template";function Uh(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==wf(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function xf(e){return 4===e.type&&e.value!==Tf}function Hh(e,t,r){return t===(4!==e.type||r?e.value:Tf)}function Gh(e,t,r){let n=4;const o=e.attrs||[],i=function Zh(e){for(let t=0;t<e.length;t++)if(Df(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!Hh(e,l,r)||""===l&&1===t.length){if(ns(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!Uh(e.attrs,c,r)){if(ns(n))return!1;s=!0}continue}const p=zh(8&n?"class":l,o,xf(e),r);if(-1===p){if(ns(n))return!1;s=!0;continue}if(""!==c){let m;m=p>i?"":o[p+1].toLowerCase();const _=8&n?m:null;if(_&&-1!==wf(_,c,0)||2&n&&c!==m){if(ns(n))return!1;s=!0}}}}else{if(!s&&!ns(n)&&!ns(l))return!1;if(s&&ns(l))continue;s=!1,n=l|1&n}}return ns(n)||s}function ns(e){return 0==(1&e)}function zh(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function qh(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function Mf(e,t,r=!1){for(let n=0;n<t.length;n++)if(Gh(e,t[n],r))return!0;return!1}function Kh(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function Af(e,t){return e?":not("+t.trim()+")":t}function Yh(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!ns(s)&&(t+=Af(i,o),o=""),n=s,i=i||!ns(n);r++}return""!==o&&(t+=Af(i,o)),t}function qe(e){return Ks(()=>{const t=Rf(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Jc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ts.Emulated,styles:e.styles||Un,_:null,schemas:e.schemas||null,tView:null,id:""};Pf(r);const n=e.dependencies;return r.directiveDefs=eu(n,!1),r.pipeDefs=eu(n,!0),r.id=function nm(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function Jh(e){return bn(e)||vo(e)}function em(e){return null!==e}function Kr(e){return Ks(()=>({type:e.type,bootstrap:e.bootstrap||Un,declarations:e.declarations||Un,imports:e.imports||Un,exports:e.exports||Un,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function kf(e,t){if(null==e)return Ds;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function xt(e){return Ks(()=>{const t=Rf(e);return Pf(t),t})}function To(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function bn(e){return e[Ji]||null}function vo(e){return e[Zs]||null}function No(e){return e[qs]||null}function Zo(e,t){const r=e[va]||null;if(!r&&!0===t)throw new Error(`Type ${br(e)} does not have '\u0275mod' property.`);return r}function Rf(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ds,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Un,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kf(e.inputs,t),outputs:kf(e.outputs),debugInfo:null}}function Pf(e){e.features?.forEach(t=>t(e))}function eu(e,t){if(!e)return null;const r=t?No:Jh;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(em)}const Yr=0,lt=1,Bt=2,kr=3,rs=4,qo=5,os=6,Rl=7,Cr=8,ti=9,Pl=10,on=11,hc=12,Of=13,Ol=14,Xr=15,tu=16,mc=17,pi=18,nu=19,rm=20,Ys=21,Gu=22,Kn=23,Gt=25,mn=1,Xs=7,gc=9,co=10;var sn=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(sn||{});function Hn(e){return Array.isArray(e)&&"object"==typeof e[mn]}function an(e){return Array.isArray(e)&&!0===e[mn]}function Fe(e){return 0!=(4&e.flags)}function fr(e){return e.componentOffset>-1}function Mn(e){return 1==(1&e.flags)}function Nn(e){return!!e.template}function Fo(e){return 0!=(512&e[Bt])}function Fl(e,t){return e.hasOwnProperty(ei)?e[ei]:null}class om{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function ni(){return im}function im(e){return e.type.prototype.ngOnChanges&&(e.setInput=YP),KP}function KP(){const e=OS(this),t=e?.current;if(t){const r=e.previous;if(r===Ds)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function YP(e,t,r,n){const o=this.declaredInputs[r],i=OS(e)||function XP(e,t){return e[PS]=t}(e,{previous:Ds,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new om(l&&l.currentValue,t,a===Ds),e[n]=t}ni.ngInherit=!0;const PS="__ngSimpleChanges__";function OS(e){return e[PS]||null}const Qa=function(e,t,r){};function $r(e){for(;Array.isArray(e);)e=e[Yr];return e}function Lf(e,t){return $r(t[e])}function Pi(e,t){return $r(t[e.index])}function $f(e,t){return e.data[t]}function Zu(e,t){return e[t]}function Es(e,t){const r=t[e];return Hn(r)?r:r[Yr]}function hy(e){return 128==(128&e[Bt])}function Ja(e,t){return null==t?null:e[t]}function LS(e){e[mc]=0}function nO(e){1024&e[Bt]||(e[Bt]|=1024,hy(e)&&sm(e))}function BS(e){return 9216&e[Bt]||e[Kn]?.dirty}function VS(e){BS(e)&&sm(e)}function sm(e){let t=e[kr];for(;null!==t&&!(an(t)&&t[Bt]&sn.HasChildViewsToRefresh||Hn(t)&&8192&t[Bt]);){if(an(t))t[Bt]|=sn.HasChildViewsToRefresh;else if(t[Bt]|=8192,!hy(t))break;t=t[kr]}}function am(e,t){if(256==(256&e[Bt]))throw new Ye(911,!1);null===e[Ys]&&(e[Ys]=[]),e[Ys].push(t)}const ln={lFrame:YS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function US(){return ln.bindingsEnabled}function qu(){return null!==ln.skipHydrationRootTNode}function We(){return ln.lFrame.lView}function zn(){return ln.lFrame.tView}function Ct(e){return ln.lFrame.contextLView=e,e[Cr]}function St(e){return ln.lFrame.contextLView=null,e}function Er(){let e=HS();for(;null!==e&&64===e.type;)e=e.parent;return e}function HS(){return ln.lFrame.currentTNode}function el(e,t){const r=ln.lFrame;r.currentTNode=e,r.isParent=t}function gy(){return ln.lFrame.isParent}function vy(){ln.lFrame.isParent=!1}function Oi(){const e=ln.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ll(){return ln.lFrame.bindingIndex}function tl(){return ln.lFrame.bindingIndex++}function $l(e){const t=ln.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function pO(e,t){const r=ln.lFrame;r.bindingIndex=r.bindingRootIndex=e,yy(t)}function yy(e){ln.lFrame.currentDirectiveIndex=e}function ZS(){return ln.lFrame.currentQueryIndex}function by(e){ln.lFrame.currentQueryIndex=e}function mO(e){const t=e[lt];return 2===t.type?t.declTNode:1===t.type?e[qo]:null}function qS(e,t,r){if(r&Nt.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&Nt.Host||(o=mO(i),null===o||(i=i[Ol],10&o.type))););if(null===o)return!1;t=o,e=i}const n=ln.lFrame=KS();return n.currentTNode=t,n.lView=e,!0}function Cy(e){const t=KS(),r=e[lt];ln.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function KS(){const e=ln.lFrame,t=null===e?null:e.child;return null===t?YS(e):t}function YS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function XS(){const e=ln.lFrame;return ln.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const QS=XS;function Sy(){const e=XS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wi(){return ln.lFrame.selectedIndex}function ou(e){ln.lFrame.selectedIndex=e}function Qr(){const e=ln.lFrame;return $f(e.tView,e.selectedIndex)}let ew=!0;function lm(){return ew}function vc(e){ew=e}function cm(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),null!=d&&(e.destroyHooks??=[]).push(r,d)}}function um(e,t,r){tw(e,t,3,r)}function dm(e,t,r,n){(3&e[Bt])===r&&tw(e,t,r,n)}function wy(e,t){let r=e[Bt];(3&r)===t&&(r&=16383,r+=1,e[Bt]=r)}function tw(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&e[mc]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[mc]+=65536),(a<i||-1==i)&&(SO(e,r,t,l),e[mc]=(4294901760&e[mc])+l+2),l++}function nw(e,t){Qa(4,e,t);const r=x(null);try{t.call(e)}finally{x(r),Qa(5,e,t)}}function SO(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[Bt]>>14<e[mc]>>16&&(3&e[Bt])===t&&(e[Bt]+=16384,nw(a,i)):nw(a,i)}const Ku=-1;class Vf{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function Ey(e){return e!==Ku}function jf(e){return 32767&e}function Uf(e,t){let r=function TO(e){return e>>16}(e),n=t;for(;r>0;)n=n[Ol],r--;return n}let Iy=!0;function fm(e){const t=Iy;return Iy=e,t}const rw=255,ow=5;let xO=0;const nl={};function pm(e,t){const r=iw(e,t);if(-1!==r)return r;const n=t[lt];n.firstCreatePass&&(e.injectorIndex=t.length,Ty(n.data,e),Ty(t,null),Ty(n.blueprint,null));const o=hm(e,t),i=e.injectorIndex;if(Ey(o)){const s=jf(o),a=Uf(o,t),l=a[lt].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function Ty(e,t){e.push(0,0,0,0,0,0,0,0,t)}function iw(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function hm(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=fw(o),null===n)return Ku;if(r++,o=o[Ol],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return Ku}function xy(e,t,r){!function MO(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(es)&&(n=r[es]),null==n&&(n=r[es]=xO++);const o=n&rw;t.data[e+(o>>ow)]|=1<<o}(e,t,r)}function sw(e,t,r){if(r&Nt.Optional||void 0!==e)return e;_a()}function aw(e,t,r,n){if(r&Nt.Optional&&void 0===n&&(n=null),!(r&(Nt.Self|Nt.Host))){const o=e[ti],i=xn(void 0);try{return o?o.get(t,n,r&Nt.Optional):er(t,n,r&Nt.Optional)}finally{xn(i)}}return sw(n,0,r)}function lw(e,t,r,n=Nt.Default,o){if(null!==e){if(2048&t[Bt]&&!(n&Nt.Self)){const s=function OO(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[Bt]&&!(512&s[Bt]);){const a=cw(i,s,r,n|Nt.Self,nl);if(a!==nl)return a;let l=i.parent;if(!l){const c=s[rm];if(c){const d=c.get(r,nl,n);if(d!==nl)return d}l=fw(s),s=s[Ol]}i=l}return o}(e,t,r,n,nl);if(s!==nl)return s}const i=cw(e,t,r,n,nl);if(i!==nl)return i}return aw(t,r,n,o)}function cw(e,t,r,n,o){const i=function RO(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(es)?e[es]:void 0;return"number"==typeof t?t>=0?t&rw:PO:t}(r);if("function"==typeof i){if(!qS(t,e,n))return n&Nt.Host?sw(o,0,n):aw(t,r,n,o);try{let s;if(s=i(n),null!=s||n&Nt.Optional)return s;_a()}finally{QS()}}else if("number"==typeof i){let s=null,a=iw(e,t),l=Ku,c=n&Nt.Host?t[Xr][qo]:null;for((-1===a||n&Nt.SkipSelf)&&(l=-1===a?hm(e,t):t[a+8],l!==Ku&&dw(n,!1)?(s=t[lt],a=jf(l),t=Uf(l,t)):a=-1);-1!==a;){const d=t[lt];if(uw(i,a,d.data)){const p=kO(a,t,r,s,n,c);if(p!==nl)return p}l=t[a+8],l!==Ku&&dw(n,t[lt].data[a+8]===c)&&uw(i,a,t)?(s=d,a=jf(l),t=Uf(l,t)):a=-1}}return o}function kO(e,t,r,n,o,i){const s=t[lt],a=s.data[e+8],d=mm(a,s,r,null==n?fr(a)&&Iy:n!=s&&0!=(3&a.type),o&Nt.Host&&i===a);return null!==d?iu(t,s,d,a):nl}function mm(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,d=i>>20,m=o?a+d:e.directiveEnd;for(let _=n?a:a+d;_<m;_++){const U=s[_];if(_<l&&r===U||_>=l&&U.type===r)return _}if(o){const _=s[l];if(_&&Nn(_)&&_.type===r)return l}return null}function iu(e,t,r,n){let o=e[r];const i=t.data;if(function wO(e){return e instanceof Vf}(o)){const s=o;s.resolving&&function Ka(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ye(-200,`Circular dependency in DI detected for ${e}${r}`)}(function Dn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Wt(e)}(i[r]));const a=fm(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?xn(s.injectImpl):null;qS(e,n,Nt.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function CO(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=im(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==c&&xn(c),fm(a),s.resolving=!1,QS()}}return o}function uw(e,t,r){return!!(r[t+(e>>ow)]&1<<e)}function dw(e,t){return!(e&Nt.Self||e&Nt.Host&&t)}class Ko{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return lw(this._tNode,this._lView,t,Qc(n),r)}}function PO(){return new Ko(Er(),We())}function Br(e){return Ks(()=>{const t=e.prototype.constructor,r=t[ei]||My(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[ei]||My(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function My(e){return Cs(e)?()=>{const t=My(Lt(e));return t&&t()}:Fl(e)}function fw(e){const t=e[lt],r=t.type;return 2===r?t.declTNode:1===r?e[qo]:null}function yc(e){return function AO(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(Df(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Er(),e)}const Ju="__parameters__";function td(e,t,r){return Ks(()=>{const n=function Ay(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,c,d){const p=l.hasOwnProperty(Ju)?l[Ju]:Object.defineProperty(l,Ju,{value:[]})[Ju];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function rd(e,t){e.forEach(r=>Array.isArray(r)?rd(r,t):t(r))}function hw(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function gm(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Gf(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function Is(e,t,r){let n=od(e,t);return n>=0?e[1|n]=r:(n=~n,function mw(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function Ry(e,t){const r=od(e,t);if(r>=0)return e[1|r]}function od(e,t){return function gw(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const ym=fc(td("Optional"),8),_m=fc(td("SkipSelf"),4),sd=new et("ENVIRONMENT_INITIALIZER"),bw=new et("INJECTOR",-1),Ny=new et("INJECTOR_DEF_TYPES");class Cm{get(t,r=Ss){if(r===Ss){const n=new Error(`NullInjectorError: No provider for ${br(t)}!`);throw n.name="NullInjectorError",n}return r}}function n2(...e){return{\u0275providers:Cw(0,e),\u0275fromNgModule:!0}}function Cw(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return rd(t,s=>{const a=s;Sm(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&Sw(o,i),r}function Sw(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];Ly(o,i=>{t(i,n)})}}function Sm(e,t,r,n){if(!(e=Lt(e)))return!1;let o=null,i=ze(e);const s=!i&&bn(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=ze(l),!i)return!1;o=l}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Sm(c,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;n.add(o);try{rd(i.imports,d=>{Sm(d,t,r,n)&&(c||=[],c.push(d))})}finally{}void 0!==c&&Sw(c,t)}if(!a){const c=Fl(o)||(()=>new o);t({provide:o,useFactory:c,deps:Un},o),t({provide:Ny,useValue:o,multi:!0},o),t({provide:sd,useValue:()=>se(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;Ly(l,d=>{t(d,c)})}}}return o!==e&&void 0!==e.providers}function Ly(e,t){for(let r of e)Ws(r)&&(r=r.\u0275providers),Array.isArray(r)?Ly(r,t):t(r)}const r2=Pn({provide:String,useValue:Pn});function $y(e){return null!==e&&"object"==typeof e&&r2 in e}function su(e){return"function"==typeof e}const By=new et("Set Injector scope."),wm={},i2={};let Vy;function Dm(){return void 0===Vy&&(Vy=new Cm),Vy}class ri{}class ad extends ri{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uy(t,s=>this.processProvider(s)),this.records.set(bw,ld(void 0,this)),o.has("environment")&&this.records.set(ri,ld(void 0,this));const i=this.records.get(By);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Ny,Un,Nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=Sa(this),n=xn(void 0);try{return t()}finally{Sa(r),xn(n)}}get(t,r=Ss,n=Nt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ya))return t[ya](this);n=Qc(n);const i=Sa(this),s=xn(void 0);try{if(!(n&Nt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function u2(e){return"function"==typeof e||"object"==typeof e&&e instanceof et}(t)&&qn(t);l=c&&this.injectableDefInScope(c)?ld(jy(t),wm):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Nt.Self?Dm():this.parent).get(t,r=n&Nt.Optional&&r===Ss?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[ws]=a[ws]||[]).unshift(br(t)),i)throw a;return function Vh(e,t,r,n){const o=e[ws];throw t[Xc]&&o.unshift(t[Xc]),e.message=function jh(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=br(t);if(Array.isArray(t))o=t.map(br).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):br(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(ju,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[ws]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{xn(s),Sa(i)}}resolveInjectorInitializers(){const t=Sa(this),r=xn(void 0);try{const o=this.get(sd,Un,Nt.Self);for(const i of o)i()}finally{Sa(t),xn(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(br(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(t){let r=su(t=Lt(t))?t:Lt(t&&t.provide);const n=function a2(e){return $y(e)?ld(void 0,e.useValue):ld(Ew(e),wm)}(t);if(su(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=ld(void 0,wm,!0),o.factory=()=>Uu(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===wm&&(r.value=i2,r.value=r.factory()),"object"==typeof r.value&&r.value&&function c2(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Lt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function jy(e){const t=qn(e),r=null!==t?t.factory:Fl(e);if(null!==r)return r;if(e instanceof et)throw new Ye(204,!1);if(e instanceof Function)return function s2(e){const t=e.length;if(t>0)throw Gf(t,"?"),new Ye(204,!1);const r=function ue(e){return e&&(e[kt]||e[_n])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Ye(204,!1)}function Ew(e,t,r){let n;if(su(e)){const o=Lt(e);return Fl(o)||jy(o)}if($y(e))n=()=>Lt(e.useValue);else if(function Dw(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Uu(e.deps||[]));else if(function ww(e){return!(!e||!e.useExisting)}(e))n=()=>se(Lt(e.useExisting));else{const o=Lt(e&&(e.useClass||e.provide));if(!function l2(e){return!!e.deps}(e))return Fl(o)||jy(o);n=()=>new o(...Uu(e.deps))}return n}function ld(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Uy(e,t){for(const r of e)Array.isArray(r)?Uy(r,t):r&&Ws(r)?Uy(r.\u0275providers,t):t(r)}function _c(e,t){e instanceof ad&&e.assertNotDestroyed();const n=Sa(e),o=xn(void 0);try{return t()}finally{Sa(n),xn(o)}}function Mw(e,t=null,r=null,n){const o=Aw(e,t,r,n);return o.resolveInjectorInitializers(),o}function Aw(e,t=null,r=null,n,o=new Set){const i=[r||Un,n2(e)];return n=n||("object"==typeof e?void 0:br(e)),new ad(i,t||Dm(),n||null,o)}let zy,Vr=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return Mw({name:""},o,n,"");{const i=n.name??"";return Mw({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=Ss,e.NULL=new Cm,e.\u0275prov=$e({token:e,providedIn:"any",factory:()=>se(bw)}),e.__NG_ELEMENT_ID__=-1,t})();const Im=new et("AppId",{providedIn:"root",factory:()=>_2}),_2="ng",Rw=new et("Platform Initializer"),Sc=new et("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pw=new et("CSP nonce",{providedIn:"root",factory:()=>function Cc(){if(void 0!==zy)return zy;if(typeof document<"u")return document;throw new Ye(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Ts(e){return e instanceof Function?e():e}function Am(e){return 128==(128&e.flags)}var Ec=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ec||{});const M2=/^>|^->|<!--|-->|--!>|<!-$/g,A2=/(<|>)/g,k2="\u200b$1\u200b";const Yy=new Map;let R2=0;const Qy="__ngContext__";function Di(e,t){Hn(t)?(e[Qy]=t[nu],function O2(e){Yy.set(e[nu],e)}(t)):e[Qy]=t}let Jy;function e_(e,t){return Jy(e,t)}function Yf(e){const t=e[kr];return an(t)?t[kr]:t}function Xw(e){return Jw(e[hc])}function Qw(e){return Jw(e[rs])}function Jw(e){for(;null!==e&&!an(e);)e=e[rs];return e}function ud(e,t,r,n,o){if(null!=n){let i,s=!1;an(n)?i=n:Hn(n)&&(s=!0,n=n[Yr]);const a=$r(n);0===e&&null!==r?null==o?rD(t,r,a):au(t,r,a,o||null,!0):1===e&&null!==r?au(t,r,a,o||null,!0):2===e?function Lm(e,t,r){const n=Nm(e,t);n&&function J2(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function nN(e,t,r,n,o){const i=r[Xs];i!==$r(r)&&ud(t,e,n,i,o);for(let a=co;a<r.length;a++){const l=r[a];Jf(l[lt],l,e,t,n,i)}}(t,e,i,r,o)}}function t_(e,t){return e.createComment(function Hw(e){return e.replace(M2,t=>t.replace(A2,k2))}(t))}function Pm(e,t,r){return e.createElement(t,r)}function tD(e,t){const r=e[gc],n=r.indexOf(t);r.splice(n,1)}function Xf(e,t){if(e.length<=co)return;const r=co+t,n=e[r];if(n){const o=n[tu];null!==o&&o!==e&&tD(o,n),t>0&&(e[r-1][rs]=n[rs]);const i=gm(e,co+t);!function z2(e,t){Jf(e,t,t[on],2,null,null),t[Yr]=null,t[qo]=null}(n[lt],n);const s=i[pi];null!==s&&s.detachView(i[lt]),n[kr]=null,n[rs]=null,n[Bt]&=-129}return n}function Om(e,t){if(!(256&t[Bt])){const r=t[on];r.destroyNode&&Jf(e,t,r,3,null,null),function q2(e){let t=e[hc];if(!t)return n_(e[lt],e);for(;t;){let r=null;if(Hn(t))r=t[hc];else{const n=t[co];n&&(r=n)}if(!r){for(;t&&!t[rs]&&t!==e;)Hn(t)&&n_(t[lt],t),t=t[kr];null===t&&(t=e),Hn(t)&&n_(t[lt],t),r=t&&t[rs]}t=r}}(t)}}function n_(e,t){if(!(256&t[Bt])){t[Bt]&=-129,t[Bt]|=256,t[Kn]&&function J(e){if(Be(e),Re(e))for(let t=0;t<e.producerNode.length;t++)ie(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Kn]),function Q2(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof Vf)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Qa(4,a,l);try{l.call(a)}finally{Qa(5,a,l)}}else{Qa(4,o,i);try{i.call(o)}finally{Qa(5,o,i)}}}}}(e,t),function X2(e,t){const r=e.cleanup,n=t[Rl];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[Rl]=null);const o=t[Ys];if(null!==o){t[Ys]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[lt].type&&t[on].destroy();const r=t[tu];if(null!==r&&an(t[kr])){r!==t[kr]&&tD(r,t);const n=t[pi];null!==n&&n.detachView(e)}!function N2(e){Yy.delete(e[nu])}(t)}}function r_(e,t,r){return function nD(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[Yr];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===ts.None||i===ts.Emulated)return null}return Pi(n,r)}}(e,t.parent,r)}function au(e,t,r,n,o){e.insertBefore(t,r,n,o)}function rD(e,t,r){e.appendChild(t,r)}function oD(e,t,r,n,o){null!==n?au(e,t,r,n,o):rD(e,t,r)}function Nm(e,t){return e.parentNode(t)}function iD(e,t,r){return aD(e,t,r)}let o_,$m,aD=function sD(e,t,r){return 40&e.type?Pi(e,r):null};function Fm(e,t,r,n){const o=r_(e,n,t),i=t[on],a=iD(n.parent||t[qo],n,t);if(null!=o)if(Array.isArray(r))for(let l=0;l<r.length;l++)oD(i,o,r[l],a,!1);else oD(i,o,r,a,!1);void 0!==o_&&o_(i,n,t,r,o)}function Qf(e,t){if(null!==t){const r=t.type;if(3&r)return Pi(t,e);if(4&r)return i_(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return Qf(e,n);{const o=e[t.index];return an(o)?i_(-1,o):$r(o)}}if(32&r)return e_(t,e)()||$r(e[t.index]);{const n=cD(e,t);return null!==n?Array.isArray(n)?n[0]:Qf(Yf(e[Xr]),n):Qf(e,t.next)}}return null}function cD(e,t){return null!==t?e[Xr][qo].projection[t.projection]:null}function i_(e,t){const r=co+e+1;if(r<t.length){const n=t[r],o=n[lt].firstChild;if(null!==o)return Qf(n,o)}return t[Xs]}function s_(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&Di($r(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)s_(e,t,r.child,n,o,i,!1),ud(t,e,o,a,i);else if(32&l){const c=e_(r,n);let d;for(;d=c();)ud(t,e,o,d,i);ud(t,e,o,a,i)}else 16&l?dD(e,t,n,r,o,i):ud(t,e,o,a,i);r=s?r.projectionNext:r.next}}function Jf(e,t,r,n,o,i){s_(r,n,e.firstChild,t,o,i,!1)}function dD(e,t,r,n,o,i){const s=r[Xr],l=s[qo].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ud(t,e,o,l[c],i);else{let c=l;const d=s[kr];Am(n)&&(c.flags|=128),s_(e,t,c,d,o,i,!0)}}function fD(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function pD(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&Hu(e,t,n),null!==o&&fD(e,t,o),null!==i&&function oN(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function dd(e){return function a_(){if(void 0===$m&&($m=null,qt.trustedTypes))try{$m=qt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return $m}()?.createHTML(e)||e}class lu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ga})`}}class lN extends lu{getTypeName(){return"HTML"}}class cN extends lu{getTypeName(){return"Style"}}class uN extends lu{getTypeName(){return"Script"}}class dN extends lu{getTypeName(){return"URL"}}class fN extends lu{getTypeName(){return"ResourceURL"}}function xs(e){return e instanceof lu?e.changingThisBreaksApplicationSecurity:e}function rl(e,t){const r=function pN(e){return e instanceof lu&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${ga})`)}return r===t}class _N{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(dd(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class bN{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=dd(t),r}}const SN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vm(e){return(e=String(e)).match(SN)?e:"unsafe:"+e}function Bl(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function ep(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const yD=Bl("area,br,col,hr,img,wbr"),_D=Bl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bD=Bl("rp,rt"),c_=ep(yD,ep(_D,Bl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ep(bD,Bl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ep(bD,_D)),u_=Bl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),CD=ep(u_,Bl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wN=Bl("script,style,template");class DN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!c_.hasOwnProperty(r))return this.sanitizedSomething=!0,!wN.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!CD.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;u_[a]&&(l=Vm(l)),this.buf.push(" ",s,'="',SD(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();c_.hasOwnProperty(r)&&!yD.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(SD(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const EN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,IN=/([^\#-~ |!])/g;function SD(e){return e.replace(/&/g,"&amp;").replace(EN,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(IN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jm;function wD(e,t){let r=null;try{jm=jm||function vD(e){const t=new bN(e);return function CN(){try{return!!(new window.DOMParser).parseFromString(dd(""),"text/html")}catch{return!1}}()?new _N(t):t}(e);let n=t?String(t):"";r=jm.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=jm.getInertBodyElement(n)}while(n!==i);return dd((new DN).sanitizeChildren(d_(r)||r))}finally{if(r){const n=d_(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function d_(e){return"content"in e&&function TN(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ms=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ms||{});let TD=(e,t,r)=>null;function __(e,t,r=!1){return TD(e,t,r)}class UN{}class AD{}class GN{resolveComponentFactory(t){throw function HN(e){const t=Error(`No component factory found for ${br(e)}.`);return t.ngComponent=e,t}(t)}}let Zm=(()=>{class t{}return t.NULL=new GN,t})();function zN(){return hd(Er(),We())}function hd(e,t){return new nt(Pi(e,t))}let nt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=zN,t})();function WN(e){return e instanceof nt?e.nativeElement:e}class RD{}let Vl=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function ZN(){const e=We(),r=Es(Er().index,e);return(Hn(r)?r:e)[on]}(),t})(),qN=(()=>{var e;class t{}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>null}),t})();class op{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const KN=new op("17.0.7"),S_={};function PD(e){const t=x(null);try{return e()}finally{x(t)}}function qm(e){return!!function w_(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class OD{constructor(){}supports(t){return qm(t)}create(t){return new eF(t)}}const JN=(e,t)=>t;class eF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||JN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<FD(n,o,i)?r:n,a=FD(s,o,i),l=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,d=l-o;if(c!=d){for(let m=0;m<c;m++){const _=m<i.length?i[m]:i[m]=0,U=_+m;d<=U&&U<c&&(i[m]=_+1)}i[s.previousIndex]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!qm(t))throw new Ye(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function QN(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new tF(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new ND),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ND),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class tF{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class ND{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new nF,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FD(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function $D(){return new Km([new OD])}let Km=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||$D()),deps:[[t,new _m,new ym]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new Ye(901,!1)}}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:$D}),t})();function sp(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];null!==i&&n.push($r(i)),an(i)&&VD(i,n);const s=r.type;if(8&s)sp(e,t,r.child,n);else if(32&s){const a=e_(r,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=cD(t,r);if(Array.isArray(a))n.push(...a);else{const l=Yf(t[Xr]);sp(l[lt],l,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function VD(e,t){for(let r=co;r<e.length;r++){const n=e[r],o=n[lt].firstChild;null!==o&&sp(n[lt],n,o,t)}e[Xs]!==e[Yr]&&t.push(e[Xs])}let jD=[];const cF={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{sm(e.lView)},consumerOnSignalRead(){this.lView[Kn]=this}};function D_(e){return e.ngOriginalError}class jl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&D_(t);for(;r&&D_(r);)r=D_(r);return r||null}}const HD=new et("",{providedIn:"root",factory:()=>ot(jl).handleError.bind(void 0)}),zD=new et("",{providedIn:"root",factory:()=>!1}),pn={};function he(e){KD(zn(),We(),wi()+e,!1)}function KD(e,t,r,n){if(!n)if(3==(3&t[Bt])){const i=e.preOrderCheckHooks;null!==i&&um(t,i,r)}else{const i=e.preOrderHooks;null!==i&&dm(t,i,0,r)}ou(r)}function v(e,t=Nt.Default){const r=We();return null===r?se(e,t):lw(Er(),r,Lt(e),t)}function Xm(e,t,r,n,o,i,s,a,l,c,d){const p=t.blueprint.slice();return p[Yr]=o,p[Bt]=140|n,(null!==c||e&&2048&e[Bt])&&(p[Bt]|=2048),LS(p),p[kr]=p[Ol]=e,p[Cr]=r,p[Pl]=s||e&&e[Pl],p[on]=a||e&&e[on],p[ti]=l||e&&e[ti]||null,p[qo]=i,p[nu]=function P2(){return R2++}(),p[os]=d,p[rm]=c,p[Xr]=2==t.type?e[Xr]:p,p}function md(e,t,r,n,o){let i=e.data[t];if(null===i)i=function E_(e,t,r,n,o){const i=HS(),s=gy(),l=e.data[t]=function SF(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return qu()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(e,t,r,n,o),function fO(){return ln.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function Bf(){const e=ln.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return el(i,!0),i}function ap(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function XD(e,t,r,n,o){const i=wi(),s=2&n;try{ou(-1),s&&t.length>Gt&&KD(e,t,Gt,!1),Qa(s?2:0,o),r(n,o)}finally{ou(i),Qa(s?3:1,o)}}function I_(e,t,r){if(Fe(t)){const n=x(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{x(n)}}}function T_(e,t,r){US()&&(function MF(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;fr(r)&&function FF(e,t,r){const n=Pi(t,e),o=QD(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=Qm(e,Xm(e,o,null,s,n,t,null,e[Pl].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||pm(r,t),Di(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],c=iu(t,e,a,r);Di(c,t),null!==s&&LF(0,a-o,c,l,0,s),Nn(l)&&(Es(r.index,t)[Cr]=iu(t,e,a,r))}}(e,t,r,Pi(r,t)),64==(64&r.flags)&&rE(e,t,r))}function x_(e,t,r=Pi){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function QD(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=M_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function M_(e,t,r,n,o,i,s,a,l,c,d){const p=Gt+n,m=p+o,_=function gF(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:pn);return r}(p,m),U="function"==typeof c?c():c;return _[lt]={type:e,blueprint:_,template:r,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:U,incompleteFirstPass:!1,ssrId:d}}let JD=e=>null;function eE(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?tE(r,t,o,i):n.hasOwnProperty(o)&&tE(r,t,n[o],i)}return r}function tE(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function As(e,t,r,n,o,i,s,a){const l=Pi(t,r);let d,c=t.inputs;!a&&null!=c&&(d=c[n])?(O_(e,r,d,n,o),fr(t)&&function EF(e,t){const r=Es(t,e);16&r[Bt]||(r[Bt]|=64)}(r,t.index)):3&t.type&&(n=function DF(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(l,n,o))}function A_(e,t,r,n){if(US()){const o=null===n?null:{"":-1},i=function kF(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if(Mf(t,s.selectors,!1))if(n||(n=[]),Nn(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),k_(e,t,a.length)}else n.unshift(s),k_(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&nE(e,t,r,s,o,a),o&&function RF(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new Ye(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=pc(r.mergedAttrs,r.attrs)}function nE(e,t,r,n,o,i){for(let c=0;c<n.length;c++)xy(pm(r,t),e,n[c].type);!function OF(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let c=0;c<n.length;c++){const d=n[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=ap(e,t,n.length,null);for(let c=0;c<n.length;c++){const d=n[c];r.mergedAttrs=pc(r.mergedAttrs,d.hostAttrs),NF(e,r,t,l,d),PF(l,d,o),null!==d.contentQueries&&(r.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(r.flags|=64);const p=d.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function wF(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,c=null;for(let d=t.directiveStart;d<o;d++){const p=i[d],m=r?r.get(p):null,U=m?m.outputs:null;l=eE(p.inputs,d,l,m?m.inputs:null),c=eE(p.outputs,d,c,U);const Y=null===l||null===s||xf(t)?null:$F(l,d,s);a.push(Y)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,r,i)}function rE(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function hO(){return ln.lFrame.currentDirectiveIndex}();try{ou(i);for(let a=n;a<o;a++){const l=e.data[a],c=t[a];yy(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&AF(l,c)}}finally{ou(-1),yy(s)}}function AF(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function k_(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function PF(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Nn(t)&&(r[""]=e)}}function NF(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=Fl(o.type)),s=new Vf(i,Nn(o),v);e.blueprint[n]=s,r[n]=s,function TF(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function xF(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,ap(e,r,o.hostVars,pn),o)}function ol(e,t,r,n,o,i){const s=Pi(e,t);!function R_(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?Wt(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[on],s,i,e.value,r,n,o)}function LF(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)oE(n,r,s[a++],s[a++],s[a++])}function oE(e,t,r,n,o){const i=x(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{x(i)}}function $F(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function iE(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function sE(e,t){const r=e.contentQueries;if(null!==r){const n=x(null);try{for(let o=0;o<r.length;o+=2){const s=r[o+1];if(-1!==s){const a=e.data[s];by(r[o]),a.contentQueries(2,t[s],s)}}}finally{x(n)}}}function Qm(e,t){return e[hc]?e[Of][rs]=t:e[hc]=t,e[Of]=t,t}function P_(e,t,r){by(0);const n=x(null);try{t(e,r)}finally{x(n)}}function aE(e){return e[Rl]||(e[Rl]=[])}function lE(e){return e.cleanup||(e.cleanup=[])}function Jm(e,t){const r=e[ti],n=r?r.get(jl,null):null;n&&n.handleError(t)}function O_(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];oE(e.data[s],t[s],n,a,o)}}function Ul(e,t,r){const n=Lf(t,e);!function eD(e,t,r){e.setValue(t,r)}(e[on],n,r)}function jF(e,t,r,n){const o=t[Bt];if(256==(256&o))return;t[Pl].inlineEffectRunner?.flush(),Cy(t);let s=null,a=null;(function UF(e){return 2!==e.type})(e)&&(a=function sF(e){return e[Kn]??function aF(e){const t=jD.pop()??Object.create(cF);return t.lView=e,t}(e)}(t),s=function te(e){return e&&(e.nextProducerIndex=0),x(e)}(a));try{LS(t),function zS(e){return ln.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&XD(e,t,r,2,n);const l=3==(3&o);if(l){const p=e.preOrderCheckHooks;null!==p&&um(t,p,null)}else{const p=e.preOrderHooks;null!==p&&dm(t,p,0,null),wy(t,0)}if(function HF(e){for(let t=Xw(e);null!==t;t=Qw(t)){if(!(t[Bt]&sn.HasTransplantedViews))continue;const r=t[gc];for(let n=0;n<r.length;n++){nO(r[n])}}}(t),uE(t,0),null!==e.contentQueries&&sE(e,t),l){const p=e.contentCheckHooks;null!==p&&um(t,p)}else{const p=e.contentHooks;null!==p&&dm(t,p,1),wy(t,1)}!function mF(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const o=r[n];if(o<0)ou(~o);else{const i=o,s=r[++n],a=r[++n];pO(s,i),a(2,t[i])}}}finally{ou(-1)}}(e,t);const c=e.components;null!==c&&fE(t,c,0);const d=e.viewQuery;if(null!==d&&P_(2,d,n),l){const p=e.viewCheckHooks;null!==p&&um(t,p)}else{const p=e.viewHooks;null!==p&&dm(t,p,2),wy(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Gu]){for(const p of t[Gu])p();t[Gu]=null}t[Bt]&=-73}catch(l){throw sm(t),l}finally{null!==a&&(function Z(e,t){if(x(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Re(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ie(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function lF(e){e.lView[Kn]!==e&&(e.lView=null,jD.push(e))}(a)),Sy()}}function uE(e,t){for(let r=Xw(e);null!==r;r=Qw(r)){r[Bt]&=~sn.HasChildViewsToRefresh;for(let n=co;n<r.length;n++)dE(r[n],t)}}function GF(e,t,r){dE(Es(t,e),r)}function dE(e,t){hy(e)&&F_(e,t)}function F_(e,t){const n=e[lt],o=e[Bt],i=e[Kn];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!A(i)),i&&(i.dirty=!1),e[Bt]&=-9217,s)jF(n,e,n.template,e[Cr]);else if(8192&o){uE(e,1);const a=n.components;null!==a&&fE(e,a,1)}}function fE(e,t,r){for(let n=0;n<t.length;n++)GF(e,t[n],r)}function lp(e){for(;e;){e[Bt]|=64;const t=Yf(e);if(Fo(e)&&!t)return e;e=t}return null}class cp{get rootNodes(){const t=this._lView,r=t[lt];return sp(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cr]}set context(t){this._lView[Cr]=t}get destroyed(){return 256==(256&this._lView[Bt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[kr];if(an(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(Xf(t,n),gm(r,n))}this._attachedToViewContainer=!1}Om(this._lView[lt],this._lView)}onDestroy(t){am(this._lView,t)}markForCheck(){lp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Bt]&=-129}reattach(){VS(this._lView),this._lView[Bt]|=128}detectChanges(){this._lView[Bt]|=1024,function N_(e,t=!0){const r=e[Pl],n=r.rendererFactory,o=r.afterRenderEventManager;n.begin?.(),o?.begin();try{!function VF(e){F_(e,0);let t=0;for(;BS(e);){if(100===t)throw new Ye(103,!1);t++,F_(e,1)}}(e)}catch(s){throw t&&Jm(e,s),s}finally{n.end?.(),r.inlineEffectRunner?.flush(),o?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Z2(e,t){Jf(e,t,t[on],2,null,null)}(this._lView[lt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=t}}let at=(()=>{class t{}return t.__NG_ELEMENT_ID__=zF,t})();function zF(e){return function WF(e,t,r){if(fr(e)&&!r){const n=Es(e.index,t);return new cp(n,n)}return 47&e.type?new cp(t[Xr],t):null}(Er(),We(),16==(16&e))}let eg=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=YF,e.__NG_ENV_ID__=r=>r,t})();class KF extends eg{constructor(t){super(),this._lView=t}onDestroy(t){return am(this._lView,t),()=>function my(e,t){if(null===e[Ys])return;const r=e[Ys].indexOf(t);-1!==r&&e[Ys].splice(r,1)}(this._lView,t)}}function YF(){return new KF(We())}const pE=new Set;function cu(e){pE.has(e)||(pE.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function L_(e){return t=>{setTimeout(e,void 0,t)}}const tn=class rL extends In{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=L_(i),o&&(o=L_(o)),s&&(s=L_(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof dt&&t.add(a),a}};function hE(...e){}class Ge{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tn(!1),this.onMicrotaskEmpty=new tn(!1),this.onStable=new tn(!1),this.onError=new tn(!1),typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function oL(){const e="function"==typeof qt.requestAnimationFrame;let t=qt[e?"requestAnimationFrame":"setTimeout"],r=qt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function aL(e){const t=()=>{!function sL(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(qt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,B_(e),e.isCheckStableRunning=!0,$_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),B_(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{if(function cL(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return r.invokeTask(o,i,s,a);try{return mE(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),gE(e)}},onInvoke:(r,n,o,i,s,a,l)=>{try{return mE(e),r.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),gE(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,B_(e),$_(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ge.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(Ge.isInAngularZone())throw new Ye(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,iL,hE,hE);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const iL={};function $_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function B_(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function mE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function gE(e){e._nesting--,$_(e)}class lL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tn,this.onMicrotaskEmpty=new tn,this.onStable=new tn,this.onError=new tn}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const vE=new et("",{providedIn:"root",factory:yE});function yE(){const e=ot(Ge);let t=!0;return ha(new kn(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new kn(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(ma()))}var uu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(uu||{});const _E={destroy(){}};function CE(e,t){!t&&function Hy(e){if(!Dr()&&!function Lh(){return Ca}())throw new Ye(-203,!1)}();const r=t?.injector??ot(Vr);if(!function wc(e){return"browser"===(e??ot(Vr)).get(Sc)}(r))return _E;cu("NgAfterNextRender");const n=r.get(tg),o=n.handler??=new wE,i=t?.phase??uu.MixedReadWrite,s=()=>{o.unregister(l),a()},a=r.get(eg).onDestroy(s),l=new SE(r,i,()=>{s(),e()});return o.register(l),{destroy:s}}class SE{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(Ge),this.errorHandler=t.get(jl,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class wE{constructor(){this.executingCallbacks=!1,this.buckets={[uu.EarlyRead]:new Set,[uu.Write]:new Set,[uu.MixedReadWrite]:new Set,[uu.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Ye(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let tg=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>new e}),t})();function fL(e,t){const r=Es(t,e),n=r[lt];!function pL(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[Yr];null!==o&&null===r[os]&&(r[os]=__(o,r[ti])),V_(n,r,r[Cr])}function V_(e,t,r){Cy(t);try{const n=e.viewQuery;null!==n&&P_(1,n,r);const o=e.template;null!==o&&XD(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&sE(e,t),e.staticViewQueries&&P_(2,e.viewQuery,r);const i=e.components;null!==i&&function hL(e,t){for(let r=0;r<t.length;r++)fL(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[Bt]&=-5,Sy()}}function ng(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=zs(o,a):2==i&&(n=zs(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}class DE extends Zm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=bn(t);return new up(r,this.ngModule)}}function EE(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class gL{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Qc(n);const o=this.injector.get(t,S_,n);return o!==S_||r===S_?o:this.parentInjector.get(t,r,n)}}class up extends AD{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=EE(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return EE(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Xh(e){return e.map(Yh).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof ri?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new gL(t,i):t,a=s.get(RD,null);if(null===a)throw new Ye(407,!1);const d={rendererFactory:a,sanitizer:s.get(qN,null),inlineEffectRunner:null,afterRenderEventManager:s.get(tg,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=n?function vF(e,t,r,n){const i=n.get(zD,!1)||r===ts.ShadowDom,s=e.selectRootElement(t,i);return function yF(e){JD(e)}(s),s}(p,n,this.componentDef.encapsulation,s):Pm(p,m,function mL(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m)),ge=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let we=null;null!==_&&(we=__(_,s,!0));const Ae=M_(0,null,null,1,0,null,null,null,null,null,null),mt=Xm(null,Ae,null,ge,null,null,d,p,s,null,we);let ht,Ut;Cy(mt);try{const wt=this.componentDef;let ir,ko=null;wt.findHostDirectiveDefs?(ir=[],ko=new Map,wt.findHostDirectiveDefs(wt,ir,ko),ir.push(wt)):ir=[wt];const La=function yL(e,t){const r=e[lt],n=Gt;return e[n]=t,md(r,n,2,"#host",null)}(mt,_),Dl=function _L(e,t,r,n,o,i,s){const a=o[lt];!function bL(e,t,r,n){for(const o of e)t.mergedAttrs=pc(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(ng(t,t.mergedAttrs,!0),null!==r&&pD(n,r,t))}(n,e,t,s);let l=null;null!==t&&(l=__(t,o[ti]));const c=i.rendererFactory.createRenderer(t,r);let d=16;r.signals?d=4096:r.onPush&&(d=64);const p=Xm(o,QD(r),null,d,o[e.index],e,i,c,null,null,l);return a.firstCreatePass&&k_(a,e,n.length-1),Qm(o,p),o[e.index]=p}(La,_,wt,ir,mt,d,p);Ut=$f(Ae,Gt),_&&function SL(e,t,r,n){if(n)Hu(e,r,["ng-version",KN.full]);else{const{attrs:o,classes:i}=function Qh(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!ns(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&Hu(e,r,o),i&&i.length>0&&fD(e,r,i.join(" "))}}(p,wt,_,n),void 0!==r&&function wL(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(Ut,this.ngContentSelectors,r),ht=function CL(e,t,r,n,o,i){const s=Er(),a=o[lt],l=Pi(s,o);nE(a,o,s,r,null,n);for(let d=0;d<r.length;d++)Di(iu(o,a,s.directiveStart+d,s),o);rE(a,o,s),l&&Di(l,o);const c=iu(o,a,s.directiveStart+s.componentOffset,s);if(e[Cr]=o[Cr]=c,null!==i)for(const d of i)d(c,t);return I_(a,s,e),c}(Dl,wt,ir,ko,mt,[DL]),V_(Ae,mt,null)}finally{Sy()}return new vL(this.componentType,ht,hd(Ut,mt),mt,Ut)}}class vL extends UN{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new cp(o,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;O_(i[lt],i,o,t,r),this.previousInputValues.set(t,r),lp(Es(this._tNode.index,i))}}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function DL(){const e=Er();cm(We()[lt],e)}function hn(e){let t=function IE(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(Nn(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ye(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=rg(e.inputs),s.inputTransforms=rg(e.inputTransforms),s.declaredInputs=rg(e.declaredInputs),s.outputs=rg(e.outputs);const a=o.hostBindings;a&&xL(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&IL(e,l),c&&TL(e,c),bs(e.inputs,o.inputs),bs(e.declaredInputs,o.declaredInputs),bs(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),bs(s.inputTransforms,o.inputTransforms)),Nn(o)&&o.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===hn&&(r=!1)}}t=Object.getPrototypeOf(t)}!function EL(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=pc(o.hostAttrs,r=pc(r,o.hostAttrs))}}(n)}function rg(e){return e===Ds?{}:e===Un?[]:e}function IL(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function TL(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function xL(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function il(e,t,r){return e[t]=r}function $o(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function du(e,t,r,n){const o=$o(e,t,r);return $o(e,t+1,n)||o}function ks(e,t,r,n){const o=We();return $o(o,tl(),t)&&(zn(),ol(Qr(),o,e,t,r,n)),ks}function vd(e,t,r,n){return $o(e,tl(),r)?t+Wt(r)+n:pn}function _d(e,t,r,n,o,i,s,a){const c=function og(e,t,r,n,o){const i=du(e,t,r,n);return $o(e,t+2,o)||i}(e,Ll(),r,o,s);return $l(3),c?t+Wt(r)+n+Wt(o)+i+Wt(s)+a:pn}function ig(e,t){return e<<17|t<<2}function Ic(e){return e>>17&32767}function j_(e){return 2|e}function fu(e){return(131068&e)>>2}function U_(e,t){return-131069&e|t<<2}function H_(e){return 1|e}function VE(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?Ic(i):fu(i),l=!1;for(;0!==a&&(!1===l||s);){const d=e[a+1];BL(e[a],t)&&(l=!0,e[a+1]=n?H_(d):j_(d)),a=n?Ic(d):fu(d)}l&&(e[r+1]=n?j_(i):H_(i))}function BL(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&od(e,t)>=0}function Ce(e,t,r){const n=We();return $o(n,tl(),t)&&As(zn(),Qr(),n,e,t,n[on],r,!1),Ce}function G_(e,t,r,n,o){const s=o?"class":"style";O_(e,r,t.inputs[s],s,n)}function pu(e,t,r){return Da(e,t,r,!1),pu}function Js(e,t){return Da(e,t,null,!0),Js}function Da(e,t,r,n){const o=We(),i=zn(),s=$l(2);i.firstUpdatePass&&function qE(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[wi()],s=function ZE(e,t){return t>=e.expandoStartIndex}(e,r);(function QE(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function qL(e,t,r,n){const o=function _y(e){const t=ln.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=fp(r=z_(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=z_(o,e,t,r,n),null===i){let l=function KL(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==fu(n))return e[Ic(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=z_(null,e,t,l[1],n),l=fp(l,t.attrs,n),function YL(e,t,r,n){e[Ic(r?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else i=function XL(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=fp(n,e[i].hostAttrs,r);return fp(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function LL(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=Ic(s),l=fu(s);e[n]=r;let d,c=!1;if(Array.isArray(r)?(d=r[1],(null===d||od(r,d)>0)&&(c=!0)):d=r,o)if(0!==l){const m=Ic(e[a+1]);e[n+1]=ig(m,a),0!==m&&(e[m+1]=U_(e[m+1],n)),e[a+1]=function NL(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=ig(a,0),0!==a&&(e[a+1]=U_(e[a+1],n)),a=n;else e[n+1]=ig(l,0),0===a?a=n:e[l+1]=U_(e[l+1],n),l=n;c&&(e[n+1]=j_(e[n+1])),VE(e,d,n,!0),VE(e,d,n,!1),function $L(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&od(i,t)>=0&&(r[n+1]=H_(r[n+1]))}(t,d,e,n,i),s=ig(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==pn&&$o(o,s,t)&&function YE(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],d=function FL(e){return 1==(1&e)}(c)?XE(l,t,r,o,fu(c),s):void 0;sg(d)||(sg(i)||function OL(e){return 2==(2&e)}(c)&&(i=XE(l,null,r,o,a,s)),function rN(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:Ec.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ec.Important),e.setStyle(r,n,o,i))}}(n,s,Lf(wi(),r),o,i))}(i,i.data[wi()],o,o[on],e,o[s+1]=function t$(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=br(xs(e)))),e}(t,r),n,s)}function z_(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=fp(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function fp(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Is(e,s,!!r||t[++i]))}return void 0===e?null:e}function XE(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),d=c?l[1]:l,p=null===d;let m=r[o+1];m===pn&&(m=p?Un:void 0);let _=p?Ry(m,n):d===n?m:void 0;if(c&&!sg(_)&&(_=Ry(l,n)),sg(_)&&(a=_,s))return a;const U=e[o+1];o=s?Ic(U):fu(U)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=Ry(l,n))}return a}function sg(e){return void 0!==e}let o1=(e,t)=>null;function Id(e,t){return o1(e,t)}function vp(e,t,r,n){const o=t.tView,a=Xm(e,o,r,4096&e[Bt]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[tu]=e[t.index];const c=e[pi];return null!==c&&(a[pi]=c.createEmbeddedView(o)),V_(o,a,r),a}function Td(e,t){return!t||null===t.firstChild||Am(e)}function yp(e,t,r,n=!0){const o=t[lt];if(function K2(e,t,r,n){const o=co+n,i=r.length;n>0&&(r[o-1][rs]=t),n<i-co?(t[rs]=r[o],hw(r,co+n,t)):(r.push(t),t[rs]=null),t[kr]=r;const s=t[tu];null!==s&&r!==s&&function Y2(e,t){const r=e[gc];t[Xr]!==t[kr][kr][Xr]&&(e[Bt]|=sn.HasTransplantedViews),null===r?e[gc]=[t]:r.push(t)}(s,t);const a=t[pi];null!==a&&a.insertView(e),VS(t),t[Bt]|=128}(o,t,e,r),n){const s=i_(r,e),a=t[on],l=Nm(a,e[Xs]);null!==l&&function W2(e,t,r,n,o,i){n[Yr]=o,n[qo]=t,Jf(e,n,r,1,o,i)}(o,e[qo],a,t,l,s)}const i=t[os];null!==i&&null!==i.firstChild&&(i.firstChild=null)}let as=(()=>{class t{}return t.__NG_ELEMENT_ID__=N$,t})();function N$(){return d1(Er(),We())}const F$=as,c1=class extends F${constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return hd(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const t=hm(this._hostTNode,this._hostLView);if(Ey(t)){const r=Uf(t,this._hostLView),n=jf(t);return new Ko(r[lt].data[n+8],r)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=u1(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-co}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const s=Id(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(r||{},i,s);return this.insertImpl(a,o,Td(this._hostTNode,s)),a}createComponent(t,r,n,o,i){const s=t&&!function Hf(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const U=r||{};a=U.index,n=U.injector,o=U.projectableNodes,i=U.environmentInjector||U.ngModuleRef}const l=s?t:new up(bn(t)),c=n||this.parentInjector;if(!i&&null==l.ngModule){const Y=(s?c:this.parentInjector).get(ri,null);Y&&(i=Y)}const d=bn(l.componentType??{}),p=Id(this._lContainer,d?.id??null),_=l.create(c,o,p?.firstChild??null,i);return this.insertImpl(_.hostView,a,Td(this._hostTNode,p)),_}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const o=t._lView;if(function tO(e){return an(e[kr])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[kr],c=new c1(l,l[qo],l[kr]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(r),s=this._lContainer;return yp(s,o,i,n),t.attachToViewContainerRef(),hw(eb(s),i,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=u1(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=Xf(this._lContainer,r);n&&(gm(eb(this._lContainer),r),Om(n[lt],n))}detach(t){const r=this._adjustIndex(t,-1),n=Xf(this._lContainer,r);return n&&null!=gm(eb(this._lContainer),r)?new cp(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function u1(e){return e[8]}function eb(e){return e[8]||(e[8]=[])}function d1(e,t){let r;const n=t[e.index];return an(n)?r=n:(r=iE(n,t,null,e),t[e.index]=r,Qm(t,r)),f1(r,t,e,n),new c1(r,e,t)}let f1=function h1(e,t,r,n){if(e[Xs])return;let o;o=8&r.type?$r(n):function L$(e,t){const r=e[on],n=r.createComment(""),o=Pi(t,e);return au(r,Nm(r,o),n,function eN(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[Xs]=o},tb=(e,t,r)=>!1;function $t(e,t,r,n,o,i,s,a){const l=We(),c=zn(),d=e+Gt,p=c.firstCreatePass?function j$(e,t,r,n,o,i,s,a,l){const c=t.consts,d=md(t,e,4,s||null,Ja(c,a));A_(t,r,d,Ja(c,l)),cm(t,d);const p=d.tView=M_(2,d,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,d),p.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,r,n,o,i,s):c.data[d];el(p,!1);const m=m1(c,l,p,e);lm()&&Fm(c,l,m,p),Di(m,l);const _=iE(m,l,m,p);return l[d]=_,Qm(l,_),function p1(e,t,r){return tb(e,t,r)}(_,p,l),Mn(p)&&T_(c,l,p),null!=s&&x_(l,p,a),$t}let m1=function g1(e,t,r,n){return vc(!0),t[on].createComment("")};function v1(e,t,r){cu("NgControlFlow");const n=We(),o=tl(),i=function nb(e,t){return e[t]}(n,Gt+e);if($o(n,o,t)){const a=x(null);try{if(function J_(e,t){const r=Xf(e,t);return void 0!==r&&Om(r[lt],r),r}(i,0),-1!==t){const l=function rb(e,t){return $f(e,t)}(n[lt],Gt+t),c=Id(i,l.tView.ssrId);yp(i,vp(n,l,r,{dehydratedView:c}),0,Td(l,c))}}finally{x(a)}}else{const a=function l1(e,t){const r=co+t;if(r<e.length)return e[r]}(i,0);void 0!==a&&(a[Cr]=r)}}function V(e,t,r,n){const o=We(),i=zn(),s=Gt+e,a=o[on],l=i.firstCreatePass?function M3(e,t,r,n,o,i){const s=t.consts,l=md(t,e,2,n,Ja(s,o));return A_(t,r,l,Ja(s,i)),null!==l.attrs&&ng(l,l.attrs,!1),null!==l.mergedAttrs&&ng(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,t,r,n):i.data[s],c=V1(i,o,l,a,t,e);o[s]=c;const d=Mn(l);return el(l,!0),pD(a,c,l),32!=(32&l.flags)&&lm()&&Fm(i,o,c,l),0===function rO(){return ln.lFrame.elementDepthCount}()&&Di(c,o),function oO(){ln.lFrame.elementDepthCount++}(),d&&(T_(i,o,l),I_(i,l,o)),null!==n&&x_(o,l),V}function N(){let e=Er();gy()?vy():(e=e.parent,el(e,!1));const t=e;(function sO(e){return ln.skipHydrationRootTNode===e})(t)&&function uO(){ln.skipHydrationRootTNode=null}(),function iO(){ln.lFrame.elementDepthCount--}();const r=zn();return r.firstCreatePass&&(cm(r,e),Fe(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function EO(e){return 0!=(8&e.flags)}(t)&&G_(r,t,We(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function IO(e){return 0!=(16&e.flags)}(t)&&G_(r,t,We(),t.stylesWithoutHost,!1),N}function je(e,t,r,n){return V(e,t,r,n),N(),je}let V1=(e,t,r,n,o,i)=>(vc(!0),Pm(n,o,function JS(){return ln.lFrame.currentNamespace}()));function mu(e,t,r){const n=We(),o=zn(),i=e+Gt,s=o.firstCreatePass?function R3(e,t,r,n,o){const i=t.consts,s=Ja(i,n),a=md(t,e,8,"ng-container",s);return null!==s&&ng(a,s,!0),A_(t,r,a,Ja(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];el(s,!0);const a=j1(o,n,s,e);return n[i]=a,lm()&&Fm(o,n,a,s),Di(a,n),Mn(s)&&(T_(o,n,s),I_(o,s,n)),null!=r&&x_(n,s),mu}function gu(){let e=Er();const t=zn();return gy()?vy():(e=e.parent,el(e,!1)),t.firstCreatePass&&(cm(t,e),Fe(e)&&t.queries.elementEnd(e)),gu}let j1=(e,t,r,n)=>(vc(!0),t_(t[on],""));function Cn(){return We()}const Nd="en-US";let W1=Nd;function Tp(e){return!!e&&"function"==typeof e.then}function vI(e){return!!e&&"function"==typeof e.subscribe}function Le(e,t,r,n){const o=We(),i=zn(),s=Er();return function _I(e,t,r,n,o,i,s){const a=Mn(n),c=e.firstCreatePass&&lE(e),d=t[Cr],p=aE(t);let m=!0;if(3&n.type||s){const Y=Pi(n,t),ge=s?s(Y):Y,we=p.length,Ae=s?ht=>s($r(ht[n.index])):n.index;let mt=null;if(!s&&a&&(mt=function kB(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[Rl],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==mt)(mt.__ngLastListenerFn__||mt).__ngNextListenerFn__=i,mt.__ngLastListenerFn__=i,m=!1;else{i=CI(n,t,d,i,!1);const ht=r.listen(ge,o,i);p.push(i,ht),c&&c.push(o,Ae,we,we+1)}}else i=CI(n,t,d,i,!1);const _=n.outputs;let U;if(m&&null!==_&&(U=_[o])){const Y=U.length;if(Y)for(let ge=0;ge<Y;ge+=2){const Ut=t[U[ge]][U[ge+1]].subscribe(i),wt=p.length;p.push(i,Ut),c&&c.push(o,n.index,wt,-(wt+1))}}}(i,o,o[on],s,e,t,n),Le}function bI(e,t,r,n){try{return Qa(6,t,r),!1!==r(n)}catch(o){return Jm(e,o),!1}finally{Qa(7,t,r)}}function CI(e,t,r,n,o){return function i(s){if(s===Function)return n;lp(e.componentOffset>-1?Es(e.index,t):t);let l=bI(t,r,n,s),c=i.__ngNextListenerFn__;for(;c;)l=bI(t,r,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function st(e=1){return function gO(e){return(ln.lFrame.contextLView=function $S(e,t){for(;e>0;)t=t[Ol],e--;return t}(e,ln.lFrame.contextLView))[Cr]}(e)}function RB(e,t){let r=null;const n=function Wh(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?Mf(e,i,!0):Kh(n,i))return o}else r=o}return r}function pt(e){const t=We()[Xr][qo];if(!t.projection){const n=t.projection=Gf(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?RB(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function ft(e,t=0,r){const n=We(),o=zn(),i=md(o,Gt+e,16,null,r||null);null===i.projection&&(i.projection=t),vy(),(!n[os]||qu())&&32!=(32&i.flags)&&function tN(e,t,r){dD(t[on],0,t,r,r_(e,r,t),iD(r.parent||t[qo],r,t))}(o,n,i)}function Cg(e,t,r,n,o){const i=We(),s=vd(i,t,r,n);return s!==pn&&As(zn(),Qr(),i,e,s,i[on],o,!1),Cg}function Rs(e){return Zu(function dO(){return ln.lFrame.contextLView}(),Gt+e)}function Se(e,t=""){const r=We(),n=zn(),o=e+Gt,i=n.firstCreatePass?md(n,o,1,t,null):n.data[o],s=VI(n,r,i,t,e);r[o]=s,lm()&&Fm(n,r,s,i),el(i,!1)}let VI=(e,t,r,n,o)=>(vc(!0),function Rm(e,t){return e.createText(t)}(t[on],n));function Fi(e){return oi("",e,""),Fi}function oi(e,t,r){const n=We(),o=vd(n,e,t,r);return o!==pn&&Ul(n,wi(),o),oi}function xp(e,t,r,n,o){const i=We(),s=function yd(e,t,r,n,o,i){const a=du(e,Ll(),r,o);return $l(2),a?t+Wt(r)+n+Wt(o)+i:pn}(i,e,t,r,n,o);return s!==pn&&Ul(i,wi(),s),xp}function hb(e,t,r,n,o,i,s){const a=We(),l=_d(a,e,t,r,n,o,i,s);return l!==pn&&Ul(a,wi(),l),hb}function mb(e,t,r,n,o){if(e=Lt(e),Array.isArray(e))for(let i=0;i<e.length;i++)mb(e[i],t,r,n,o);else{const i=zn(),s=We(),a=Er();let l=su(e)?e:Lt(e.provide);const c=Ew(e),d=1048575&a.providerIndexes,p=a.directiveStart,m=a.providerIndexes>>20;if(su(e)||!e.multi){const _=new Vf(c,o,v),U=vb(l,t,o?d:d+m,p);-1===U?(xy(pm(a,s),i,l),gb(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(_),s.push(_)):(r[U]=_,s[U]=_)}else{const _=vb(l,t,d+m,p),U=vb(l,t,d,d+m),ge=U>=0&&r[U];if(o&&!ge||!o&&!(_>=0&&r[_])){xy(pm(a,s),i,l);const we=function qB(e,t,r,n,o){const i=new Vf(e,r,v);return i.multi=[],i.index=t,i.componentProviders=0,ZI(i,o,n&&!r),i}(o?ZB:WB,r.length,o,n,c);!o&&ge&&(r[U].providerFactory=we),gb(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(we),s.push(we)}else gb(i,e,_>-1?_:U,ZI(r[o?U:_],c,!o&&n));!o&&n&&ge&&r[U].componentProviders++}}}function gb(e,t,r,n){const o=su(t),i=function o2(e){return!!e.useClass}(t);if(o||i){const l=(i?Lt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const d=c.indexOf(r);-1===d?c.push(r,[n,l]):c[d+1].push(n,l)}else c.push(r,l)}}}function ZI(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function vb(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function WB(e,t,r,n){return yb(this.multi,[])}function ZB(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=iu(r,r[lt],this.providerFactory.index,n);i=a.slice(0,s),yb(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],yb(o,i);return i}function yb(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function ar(e,t=[]){return r=>{r.providersResolver=(n,o)=>function zB(e,t,r){const n=zn();if(n.firstCreatePass){const o=Nn(e);mb(r,n.data,n.blueprint,o,!0),mb(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class yu{}class qI{}class _b extends yu{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new DE(this);const o=Zo(t);this._bootstrapComponents=Ts(o.bootstrap),this._r3Injector=Aw(t,r,[{provide:yu,useValue:this},{provide:Zm,useValue:this.componentFactoryResolver},...n],br(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class bb extends qI{constructor(t){super(),this.moduleType=t}create(t){return new _b(this.moduleType,t,[])}}class KI extends yu{constructor(t){super(),this.componentFactoryResolver=new DE(this),this.instance=null;const r=new ad([...t.providers,{provide:yu,useValue:this},{provide:Zm,useValue:this.componentFactoryResolver}],t.parent||Dm(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Cb(e,t,r=null){return new KI({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let XB=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=Cw(0,n.type),i=o.length>0?Cb([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=$e({token:e,providedIn:"environment",factory:()=>new e(se(ri))}),t})();function Sg(e){cu("NgStandalone"),e.getStandaloneInjector=t=>t.get(XB).getOrCreateStandaloneInjector(e)}function iT(e,t,r,n,o,i){const s=t+r;return $o(e,s,o)?il(e,s+1,i?n.call(i,o):n(o)):function Mp(e,t){const r=e[t];return r===pn?void 0:r}(e,s+1)}function ll(e,t){const r=zn();let n;const o=e+Gt;r.firstCreatePass?(n=function g4(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=Fl(n.type)),a=xn(v);try{const l=fm(!1),c=i();return fm(l),function PB(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,We(),o,c),c}finally{xn(a)}}function cl(e,t,r){const n=e+Gt,o=We(),i=Zu(o,n);return function Ap(e,t){return e[lt].data[t].pure}(o,n)?iT(o,Oi(),t,i.transform,r,i):i.transform(r)}function C4(){return this._results[Symbol.iterator]()}class wb{get changes(){return this._changes??=new tn}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=wb.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=C4)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const n=function is(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function BO(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=D4,t})();const S4=Ia,w4=class extends S4{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=vp(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new cp(o)}};function D4(){return Eg(Er(),We())}function Eg(e,t){return 4&e.type?new w4(t,e,hd(e,t)):null}class Db{constructor(t){this.queryList=t,this.matches=null}clone(){return new Db(this.queryList)}setDirty(){this.queryList.setDirty()}}class Eb{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Eb(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==hT(t,r).matches&&this.queries[r].setDirty()}}class uT{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class Ib{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new Ib(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Tb{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Tb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,E4(r,i)),this.matchTNodeWithReadOption(t,r,mm(r,t,i,!1,!1))}else n===Ia?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,mm(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===nt||o===as||o===Ia&&4&r.type)this.addMatch(r.index,-2);else{const i=mm(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function E4(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function T4(e,t,r,n){return-1===r?function I4(e,t){return 11&e.type?hd(e,t):4&e.type?Eg(e,t):null}(t,e):-2===r?function x4(e,t,r){return r===nt?hd(t,e):r===Ia?Eg(t,e):r===as?d1(t,e):void 0}(e,t,n):iu(e,e[lt],r,t)}function dT(e,t,r,n){const o=t[pi].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:T4(t,i[c],s[l+1],r.metadata.read))}o.matches=a}return o.matches}function xb(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=dT(e,t,o,r);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)n.push(s[a/2]);else{const c=i[a+1],d=t[-l];for(let p=co;p<d.length;p++){const m=d[p];m[tu]===m[kr]&&xb(m[lt],m,c,n)}if(null!==d[gc]){const p=d[gc];for(let m=0;m<p.length;m++){const _=p[m];xb(_[lt],_,c,n)}}}}}return n}function Ps(e){const t=We(),r=zn(),n=ZS();by(n+1);const o=hT(r,n);if(e.dirty&&function eO(e){return 4==(4&e[Bt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?xb(r,t,n,[]):dT(r,t,o,n);e.reset(i,WN),e.notifyOnChanges()}return!0}return!1}function xc(e,t,r){const n=zn();n.firstCreatePass&&(pT(n,new uT(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),fT(n,We(),t)}function Fd(e,t,r,n){const o=zn();if(o.firstCreatePass){const i=Er();pT(o,new uT(t,r,n),i.index),function A4(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}fT(o,We(),r)}function Os(){return function M4(e,t){return e[pi].queries[t].queryList}(We(),ZS())}function fT(e,t,r){const n=new wb(4==(4&r));(function CF(e,t,r,n){const o=aE(t);o.push(r),e.firstCreatePass&&lE(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[pi]&&(t[pi]=new Eb),t[pi].queries.push(new Db(n))}function pT(e,t,r){null===e.queries&&(e.queries=new Ib),e.queries.track(new Tb(t,r))}function hT(e,t){return e.queries.getByIndex(t)}let AT=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Tg=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new lo(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class J4{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let kT=(()=>{var e;class t{compileModuleSync(n){return new bb(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=Ts(Zo(n).declarations).reduce((a,l)=>{const c=bn(l);return c&&a.push(new up(c)),a},[]);return new J4(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const FT=new et(""),Mg=new et("");let Fb,Ob=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fb||(function DV(e){Fb=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Ge),se(Nb),se(Mg))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),Nb=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return Fb?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const Pp=new et("Application Initializer");let Lb=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=ot(Pp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Tp(s))n.push(s);else if(vI(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const $b=new et("appBootstrapListener");function BT(e,t){return Array.isArray(t)?t.reduce(BT,e):{...e,...t}}let Ta=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ot(HD),this.zoneIsStable=ot(vE),this.componentTypes=[],this.components=[],this.isStable=ot(Tg).hasPendingTasks.pipe(Wr(n=>n?Pt(!1):this.zoneIsStable),Gs()),this._injector=ot(ri)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof AD;if(!this._injector.get(Lb).done)throw!i&&function wa(e){const t=bn(e)||vo(e)||No(e);return null!==t&&t.standalone}(n),new Ye(405,!1);let a;a=i?n:this._injector.get(Zm).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function IV(e){return e.isBoundToModule}(a)?void 0:this._injector.get(yu),d=a.create(Vr.NULL,[],o||a.selector,l),p=d.location.nativeElement,m=d.injector.get(FT,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Ag(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new Ye(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;Ag(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get($b,[]);[...this._bootstrapListeners,...o].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ag(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ye(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Ag(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let xV=(()=>{var e;class t{constructor(){this.zone=ot(Ge),this.applicationRef=ot(Ta)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function MV(){const e=ot(Ge),t=ot(jl);return r=>e.runOutsideAngular(()=>t.handleError(r))}const Hl=new et("LocaleId",{providedIn:"root",factory:()=>ot(Hl,Nt.Optional|Nt.SkipSelf)||function kV(){return typeof $localize<"u"&&$localize.locale||Nd}()}),Bb=new et("PlatformDestroyListeners");let HT=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function uL(e="zone.js",t){return"noop"===e?new lL:"zone.js"===e?new Ge(t):e}(o?.ngZone,function UT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function YB(e,t,r){return new _b(e,t,r)}(n.moduleType,this.injector,function jT(e){return[{provide:Ge,useFactory:e},{provide:sd,multi:!0,useFactory:()=>{const t=ot(xV,{optional:!0});return()=>t.initialize()}},{provide:HD,useFactory:MV},{provide:vE,useFactory:yE}]}(()=>i)),a=s.injector.get(jl,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Ag(this._modules,s),l.unsubscribe()})}),function $T(e,t,r){try{const n=r();return Tp(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const l=s.injector.get(Lb);return l.runInitializers(),l.donePromise.then(()=>(function Z1(e){rn(e,"Expected localeId to be defined"),"string"==typeof e&&(W1=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Hl,Nd)||Nd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=BT({},o);return function EV(e,t,r){const n=new bb(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(Ta);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Ye(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(Bb,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Vr))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Mc=null;const GT=new et("AllowMultipleToken");function zT(e,t,r=[]){const n=`Platform: ${t}`,o=new et(n);return(i=[])=>{let s=Vb();if(!s||s.injector.get(GT,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function OV(e){if(Mc&&!Mc.get(GT,!1))throw new Ye(400,!1);(function LT(){!function Oe(e){ve=e}(()=>{throw new Ye(600,!1)})})(),Mc=e;const t=e.get(HT);(function ZT(e){e.get(Rw,null)?.forEach(r=>r())})(e)}(function WT(e=[],t){return Vr.create({name:t,providers:[{provide:By,useValue:"platform"},{provide:Bb,useValue:new Set([()=>Mc=null])},...e]})}(a,n))}return function NV(e){const t=Vb();if(!t)throw new Ye(401,!1);return t}()}}function Vb(){return Mc?.get(HT)??null}const jV=zT(null,"core",[]);let UV=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Ta))},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({}),t})();function gx(e){const t=bn(e);if(!t)return null;const r=new up(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let Kb=null;function Ac(){return Kb}class gj{}const ii=new et("DocumentToken");let Yb=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(yj),providedIn:"platform"}),t})();const vj=new et("Location Initialized");let yj=(()=>{var e;class t extends Yb{constructor(){super(),this._doc=ot(ii),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ac().getBaseHref(this._doc)}onPopState(n){const o=Ac().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=Ac().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>new e,providedIn:"platform"}),t})();function Xb(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function vx(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Gl(e){return e&&"?"!==e[0]?"?"+e:e}let ul=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(_x),providedIn:"root"}),t})();const yx=new et("appBaseHref");let _x=(()=>{var e;class t extends ul{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??ot(ii).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Xb(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+Gl(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+Gl(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+Gl(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Yb),se(yx,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),bx=(()=>{var e;class t extends ul{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=Xb(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+Gl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+Gl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Yb),se(yx,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),kc=(()=>{var e;class t{constructor(n){this._subject=new tn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function Cj(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(vx(Cx(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Gl(o))}normalize(n){return t.stripTrailingSlash(function bj(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,Cx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gl(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gl(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=Gl,e.joinWithSlash=Xb,e.stripTrailingSlash=vx,e.\u0275fac=function(n){return new(n||e)(se(ul))},e.\u0275prov=$e({token:e,factory:()=>function _j(){return new kc(se(ul))}(),providedIn:"root"}),t})();function Cx(e){return e.replace(/\/index.html$/,"")}function Ax(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class aU{constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zl=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new aU(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const l=o.get(s);o.move(l,a),Px(l,i)}});for(let i=0,s=o.length;i<s;i++){const l=o.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Px(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(as),v(Ia),v(Km))},e.\u0275dir=xt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Px(e,t){e.context.$implicit=t.item}let Ao=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new lU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Ox("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Ox("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(as),v(Ia))},e.\u0275dir=xt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class lU{constructor(){this.$implicit=null,this.ngIf=null}}function Ox(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${br(t)}'.`)}class lC{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Kg=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=xt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),Nx=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new lC(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(as),v(Ia),v(Kg,9))},e.\u0275dir=xt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),Fx=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new lC(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(as),v(Ia),v(Kg,9))},e.\u0275dir=xt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class fU{createSubscription(t,r){return PD(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){PD(()=>t.unsubscribe())}}class pU{createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const hU=new pU,mU=new fU;let $x=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(Tp(n))return hU;if(vI(n))return mU;throw function Ma(e,t){return new Ye(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(at,16))},e.\u0275pipe=To({name:"async",type:e,pure:!1,standalone:!0}),t})(),dl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({}),t})();const Vx="browser";function Ud(e){return e===Vx}function jx(e){return"server"===e}let FU=(()=>{var e;class t{}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>new LU(se(ii),window)}),t})();class LU{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function $U(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ux{}class a6 extends gj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hC extends a6{static makeCurrent(){!function mj(e){Kb||(Kb=e)}(new hC)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function l6(){return Bp=Bp||document.querySelector("base"),Bp?Bp.getAttribute("href"):null}();return null==r?null:function c6(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){Bp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ax(document.cookie,t)}}let Bp=null,d6=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const mC=new et("EventManagerPlugins");let Wx=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Ye(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(se(mC),se(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();class Zx{constructor(t){this._doc=t}}const gC="ng-app-id";let qx=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jx(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${gC}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(gC),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(gC,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(ii),se(Im),se(Pw,8),se(Sc))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const vC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yC=/%COMP%/g,m6=new et("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function Yx(e,t){return t.map(r=>r.replace(yC,e))}let Xx=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,d=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=jx(l),this.defaultRenderer=new _C(n,a,c,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===ts.ShadowDom&&(o={...o,encapsulation:ts.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof Jx?i.applyToHost(n):i instanceof bC&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(o.encapsulation){case ts.Emulated:s=new Jx(c,d,o,this.appId,p,a,l,m);break;case ts.ShadowDom:return new _6(c,d,n,o,a,l,this.nonce,m);default:s=new bC(c,d,o,p,a,l,m)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Wx),se(qx),se(Im),se(m6),se(ii),se(Sc),se(Ge),se(Pw))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();class _C{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(vC[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(Qx(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(Qx(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Ye(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=vC[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=vC[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(Ec.DashCase|Ec.Important)?t.style.setProperty(r,n,o&Ec.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&Ec.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=Ac().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function Qx(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class _6 extends _C{constructor(t,r,n,o,i,s,a,l){super(t,i,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Yx(o.id,o.styles);for(const d of c){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bC extends _C{constructor(t,r,n,o,i,s,a,l){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?Yx(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jx extends bC{constructor(t,r,n,o,i,s,a,l){const c=o+"-"+n.id;super(t,r,n,i,s,a,l,c),this.contentAttr=function g6(e){return"_ngcontent-%COMP%".replace(yC,e)}(c),this.hostAttr=function v6(e){return"_nghost-%COMP%".replace(yC,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let b6=(()=>{var e;class t extends Zx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(ii))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const eM=["alt","control","meta","shift"],C6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S6={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let w6=(()=>{var e;class t extends Zx{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ac().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),eM.forEach(d=>{const p=o.indexOf(d);p>-1&&(o.splice(p,1),a+=d+".")}),a+=s,0!=o.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let i=C6[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),eM.forEach(a=>{a!==i&&(0,S6[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(se(ii))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const T6=zT(jV,"browser",[{provide:Sc,useValue:Vx},{provide:Rw,useValue:function D6(){hC.makeCurrent()},multi:!0},{provide:ii,useFactory:function I6(){return function y2(e){zy=e}(document),document},deps:[]}]),x6=new et(""),rM=[{provide:Mg,useClass:class u6{addToWindow(t){qt.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new Ye(5103,!1);return i},qt.getAllAngularTestabilities=()=>t.getAllTestabilities(),qt.getAllAngularRootElements=()=>t.getAllRootElements(),qt.frameworkStabilizers||(qt.frameworkStabilizers=[]),qt.frameworkStabilizers.push(n=>{const o=qt.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&n(s)};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?Ac().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:FT,useClass:Ob,deps:[Ge,Nb,Mg]},{provide:Ob,useClass:Ob,deps:[Ge,Nb,Mg]}],oM=[{provide:By,useValue:"root"},{provide:jl,useFactory:function E6(){return new jl},deps:[]},{provide:mC,useClass:b6,multi:!0,deps:[ii,Ge,Sc]},{provide:mC,useClass:w6,multi:!0,deps:[ii]},Xx,qx,Wx,{provide:RD,useExisting:Xx},{provide:Ux,useClass:d6,deps:[]},[]];let M6=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Im,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(se(x6,12))},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({providers:[...oM,...rM],imports:[dl,UV]}),t})(),iM=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(se(ii))},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new n:function k6(){return new iM(se(ii))}(),o},providedIn:"root"}),t})();const Rc=typeof window<"u"&&window||{};class R6{constructor(t,r){this.msPerTick=t,this.numTicks=r}}class P6{constructor(t){this.appRef=t.injector.get(Ta)}timeChangeDetection(t){const r=t&&t.record,n="Change Detection",o=null!=Rc.console.profile;r&&o&&Rc.console.profile(n);const i=CC();let s=0;for(;s<5||CC()-i<500;)this.appRef.tick(),s++;const a=CC();r&&o&&Rc.console.profileEnd(n);const l=(a-i)/s;return Rc.console.log(`ran ${s} change detection cycles`),Rc.console.log(`${l.toFixed(2)} ms per check`),new R6(l,s)}}function CC(){return Rc.performance&&Rc.performance.now?Rc.performance.now():(new Date).getTime()}let SC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new(n||e):se(lM),o},providedIn:"root"}),t})(),lM=(()=>{var e;class t extends SC{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case Ms.NONE:return o;case Ms.HTML:return rl(o,"HTML")?xs(o):wD(this._doc,String(o)).toString();case Ms.STYLE:return rl(o,"Style")?xs(o):o;case Ms.SCRIPT:if(rl(o,"Script"))return xs(o);throw new Ye(5200,!1);case Ms.URL:return rl(o,"URL")?xs(o):Vm(String(o));case Ms.RESOURCE_URL:if(rl(o,"ResourceURL"))return xs(o);throw new Ye(5201,!1);default:throw new Ye(5202,!1)}}bypassSecurityTrustHtml(n){return function hN(e){return new lN(e)}(n)}bypassSecurityTrustStyle(n){return function mN(e){return new cN(e)}(n)}bypassSecurityTrustScript(n){return function gN(e){return new uN(e)}(n)}bypassSecurityTrustUrl(n){return function vN(e){return new dN(e)}(n)}bypassSecurityTrustResourceUrl(n){return function yN(e){return new fN(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(ii))},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new n:function F6(e){return new lM(e.get(ii))}(se(Vr)),o},providedIn:"root"}),t})();var ur=b(5861),L6=b(6299),Hd=b.n(L6);let Qg,Jg;function uM(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function dM(){return void 0!==Jg}class fM{constructor(){this.requestEvent=new ur.j}dispatchRequest(t){if(t){try{t=new(Hd())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let wC=(()=>{var e;class t{constructor(){this.installation=new fM,this.import=new fM,Qg&&this.installation.dispatchRequest(Qg),Jg&&this.import.dispatchRequest(Jg)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var O=b(3918);function Gd(e,t){return ke(t)?Rn(e,t,1):Rn(e,1)}function Aa(e,t){return dn((r,n)=>{let o=0;r.subscribe(Sn(n,i=>e.call(t,i,o++)&&n.next(i)))})}function Vp(e){return dn((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class ev{}class tv{}class ra{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof ra?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new ra;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof ra?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class V6{encodeKey(t){return pM(t)}encodeValue(t){return pM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const U6=/%(\d[a-f0-9])/gi,H6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pM(e){return encodeURIComponent(e).replace(U6,(t,r)=>H6[r]??t)}function nv(e){return`${e}`}class Pc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new V6,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function j6(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(nv):[nv(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new Pc({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(nv(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(nv(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class G6{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function hM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function mM(e){return typeof Blob<"u"&&e instanceof Blob}function gM(e){return typeof FormData<"u"&&e instanceof FormData}class jp{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function z6(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers||(this.headers=new ra),this.context||(this.context=new G6),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new Pc,this.urlWithParams=r}serializeBody(){return null===this.body?null:hM(this.body)||mM(this.body)||gM(this.body)||function W6(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gM(this.body)?null:mM(this.body)?this.body.type||null:hM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((p,m)=>p.set(m,t.setHeaders[m]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((p,m)=>p.set(m,t.setParams[m]),c)),new jp(r,n,i,{params:c,headers:l,context:d,reportProgress:a,responseType:o,withCredentials:s})}}var Oc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Oc||{});class DC{constructor(t,r=200,n="OK"){this.headers=t.headers||new ra,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class rv extends DC{constructor(t={}){super(t),this.type=Oc.ResponseHeader}clone(t={}){return new rv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class bu extends DC{constructor(t={}){super(t),this.type=Oc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new bu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zd extends DC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function EC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let IC=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof jp)s=n;else{let c,d;c=i.headers instanceof ra?i.headers:new ra(i.headers),i.params&&(d=i.params instanceof Pc?i.params:new Pc({fromObject:i.params})),s=new jp(n,o,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=Pt(s).pipe(Gd(c=>this.handler.handle(c)));if(n instanceof jp||"events"===i.observe)return a;const l=a.pipe(Aa(c=>c instanceof bu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(Qt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(Qt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(Qt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(Qt(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new Pc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,EC(i,o))}post(n,o,i={}){return this.request("POST",n,EC(i,o))}put(n,o,i={}){return this.request("PUT",n,EC(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(se(ev))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function yM(e,t){return t(e)}function X6(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const J6=new et(""),Up=new et(""),_M=new et(""),bM=new et("");function eH(){let e=null;return(t,r)=>{null===e&&(e=(ot(J6,{optional:!0})??[]).reduceRight(X6,yM));const n=ot(Tg),o=n.add();return e(t,r).pipe(Vp(()=>n.remove(o)))}}let CM=(()=>{var e;class t extends ev{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=ot(Tg);const i=ot(bM,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Up),...this.injector.get(_M,[])]));this.chain=i.reduceRight((s,a)=>function Q6(e,t,r){return(n,o)=>_c(r,()=>t(n,i=>e(i,o)))}(s,a,this.injector),yM)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Vp(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(se(tv),se(ri))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const iH=/^\)\]\}',?\n/;let wM=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Ye(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?_r(o.\u0275loadImpl()):Pt(null)).pipe(Wr(()=>new kn(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((ge,we)=>a.setRequestHeader(ge,we.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const ge=n.detectContentTypeHeader();null!==ge&&a.setRequestHeader("Content-Type",ge)}if(n.responseType){const ge=n.responseType.toLowerCase();a.responseType="json"!==ge?ge:"text"}const l=n.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const ge=a.statusText||"OK",we=new ra(a.getAllResponseHeaders()),Ae=function sH(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return c=new rv({headers:we,status:a.status,statusText:ge,url:Ae}),c},p=()=>{let{headers:ge,status:we,statusText:Ae,url:mt}=d(),ht=null;204!==we&&(ht=typeof a.response>"u"?a.responseText:a.response),0===we&&(we=ht?200:0);let Ut=we>=200&&we<300;if("json"===n.responseType&&"string"==typeof ht){const wt=ht;ht=ht.replace(iH,"");try{ht=""!==ht?JSON.parse(ht):null}catch(ir){ht=wt,Ut&&(Ut=!1,ht={error:ir,text:ht})}}Ut?(s.next(new bu({body:ht,headers:ge,status:we,statusText:Ae,url:mt||void 0})),s.complete()):s.error(new zd({error:ht,headers:ge,status:we,statusText:Ae,url:mt||void 0}))},m=ge=>{const{url:we}=d(),Ae=new zd({error:ge,status:a.status||0,statusText:a.statusText||"Unknown Error",url:we||void 0});s.error(Ae)};let _=!1;const U=ge=>{_||(s.next(d()),_=!0);let we={type:Oc.DownloadProgress,loaded:ge.loaded};ge.lengthComputable&&(we.total=ge.total),"text"===n.responseType&&a.responseText&&(we.partialText=a.responseText),s.next(we)},Y=ge=>{let we={type:Oc.UploadProgress,loaded:ge.loaded};ge.lengthComputable&&(we.total=ge.total),s.next(we)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),n.reportProgress&&(a.addEventListener("progress",U),null!==l&&a.upload&&a.upload.addEventListener("progress",Y)),a.send(l),s.next({type:Oc.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),n.reportProgress&&(a.removeEventListener("progress",U),null!==l&&a.upload&&a.upload.removeEventListener("progress",Y)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Ux))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const MC=new et("XSRF_ENABLED"),DM=new et("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),EM=new et("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class IM{}let cH=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ax(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(se(ii),se(Sc),se(DM))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function uH(e,t){const r=e.url.toLowerCase();if(!ot(MC)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=ot(IM).getToken(),o=ot(EM);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var Nc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Nc||{});function Cu(e,t){return{\u0275kind:e,\u0275providers:t}}function dH(...e){const t=[IC,wM,CM,{provide:ev,useExisting:CM},{provide:tv,useExisting:wM},{provide:Up,useValue:uH,multi:!0},{provide:MC,useValue:!0},{provide:IM,useClass:cH}];for(const r of e)t.push(...r.\u0275providers);return function Fy(e){return{\u0275providers:e}}(t)}const TM=new et("LEGACY_INTERCEPTOR_FN");let pH=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({providers:[dH(Cu(Nc.LegacyInterceptors,[{provide:TM,useFactory:eH},{provide:Up,useExisting:TM,multi:!0}]))]}),t})();const{isArray:bH}=Array,{getPrototypeOf:CH,prototype:SH,keys:wH}=Object;function OM(e){if(1===e.length){const t=e[0];if(bH(t))return{args:t,keys:null};if(function DH(e){return e&&"object"==typeof e&&CH(e)===SH}(t)){const r=wH(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:EH}=Array;function AC(e){return Qt(t=>function IH(e,t){return EH(t)?e(...t):e(t)}(e,t))}function NM(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}function iv(...e){const t=Qi(e),r=ua(e),{args:n,keys:o}=OM(e);if(0===n.length)return _r([],t);const i=new kn(function TH(e,t,r=vr){return n=>{FM(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)FM(t,()=>{const c=_r(e[l],t);let d=!1;c.subscribe(Sn(n,p=>{i[l]=p,d||(d=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>NM(o,s):vr));return r?i.pipe(AC(r)):i}function FM(e,t,r){e?Jn(r,e,t):t()}const sv=ye(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function kC(...e){return function xH(){return Oo(1)}()(_r(e,Qi(e)))}function LM(e){return new kn(t=>{Ue(e()).subscribe(t)})}function av(e,t){const r=ke(e)?e:()=>e,n=o=>o.error(r());return new kn(t?o=>t.schedule(n,0,o):n)}function RC(){return dn((e,t)=>{let r=null;e._refCount++;const n=Sn(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class $M extends kn{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Bn(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new dt;const r=this.getSubject();t.add(this.source.subscribe(Sn(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=dt.EMPTY)}return t}refCount(){return RC()(this)}}function Wd(e){return e<=0?()=>Eo:dn((t,r)=>{let n=0;t.subscribe(Sn(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function BM(...e){const t=Qi(e);return dn((r,n)=>{(t?kC(e,r,t):kC(e,r)).subscribe(n)})}function lv(e){return dn((t,r)=>{let n=!1;t.subscribe(Sn(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function VM(e=MH){return dn((t,r)=>{let n=!1;t.subscribe(Sn(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function MH(){return new sv}function Fc(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Aa((o,i)=>e(o,i,n)):vr,Wd(1),r?lv(t):VM(()=>new sv))}function Ei(e,t,r){const n=ke(e)||t||r?{next:e,error:t,complete:r}:e;return n?dn((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe(Sn(i,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),i.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),i.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),i.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):vr}function Su(e){return dn((t,r)=>{let i,n=null,o=!1;n=t.subscribe(Sn(r,void 0,void 0,s=>{i=Ue(e(s,Su(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function PC(e){return e<=0?()=>Eo:dn((t,r)=>{let n=[];t.subscribe(Sn(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function jM(e){return Qt(()=>e)}function UM(e){return dn((t,r)=>{Ue(e).subscribe(Sn(r,()=>r.complete(),sr)),!r.closed&&t.subscribe(r)})}const vn="primary",Hp=Symbol("RouteTitle");class PH{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Zd(e){return new PH(e)}function OH(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function fl(e,t){const r=e?OC(e):void 0,n=t?OC(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!HM(e[o],t[o]))return!1;return!0}function OC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function HM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function GM(e){return e.length>0?e[e.length-1]:null}function Lc(e){return function _H(e){return!!e&&(e instanceof kn||ke(e.lift)&&ke(e.subscribe))}(e)?e:Tp(e)?_r(Promise.resolve(e)):Pt(e)}const FH={exact:function ZM(e,t,r){if(!wu(e.segments,t.segments)||!cv(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!ZM(e.children[n],t.children[n],r))return!1;return!0},subset:qM},zM={exact:function LH(e,t){return fl(e,t)},subset:function $H(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>HM(e[r],t[r]))},ignored:()=>!0};function WM(e,t,r){return FH[r.paths](e.root,t.root,r.matrixParams)&&zM[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function qM(e,t,r){return KM(e,t,t.segments,r)}function KM(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!wu(o,r)||t.hasChildren()||!cv(o,r,n))}if(e.segments.length===r.length){if(!wu(e.segments,r)||!cv(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!qM(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(wu(e.segments,o)&&cv(e.segments,o,n)&&e.children[vn])&&KM(e.children[vn],t,i,n)}}function cv(e,t,r){return t.every((n,o)=>zM[r](e[o].parameters,n.parameters))}class qd{constructor(t=new Ir([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zd(this.queryParams)),this._queryParamMap}toString(){return jH.serialize(this)}}class Ir{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uv(this)}}class Gp{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Zd(this.parameters)),this._parameterMap}toString(){return QM(this)}}function wu(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let Du=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>new NC,providedIn:"root"}),t})();class NC{parse(t){const r=new QH(t);return new qd(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${zp(t.root,!0)}`,n=function GH(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${dv(r)}=${dv(o)}`).join("&"):`${dv(r)}=${dv(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function UH(e){return encodeURI(e)}(t.fragment)}`:""}`}}const jH=new NC;function uv(e){return e.segments.map(t=>QM(t)).join("/")}function zp(e,t){if(!e.hasChildren())return uv(e);if(t){const r=e.children[vn]?zp(e.children[vn],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==vn&&n.push(`${o}:${zp(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function VH(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===vn&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==vn&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===vn?[zp(e.children[vn],!1)]:[`${o}:${zp(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[vn]?`${uv(e)}/${r[0]}`:`${uv(e)}/(${r.join("//")})`}}function YM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dv(e){return YM(e).replace(/%3B/gi,";")}function FC(e){return YM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fv(e){return decodeURIComponent(e)}function XM(e){return fv(e.replace(/\+/g,"%20"))}function QM(e){return`${FC(e.path)}${function HH(e){return Object.keys(e).map(t=>`;${FC(t)}=${FC(e[t])}`).join("")}(e.parameters)}`}const zH=/^[^\/()?;#]+/;function LC(e){const t=e.match(zH);return t?t[0]:""}const WH=/^[^\/()?;=#]+/,qH=/^[^=?&#]+/,YH=/^[^&#]+/;class QH{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ir([],{}):new Ir([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[vn]=new Ir(t,r)),n}parseSegment(){const t=LC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ye(4009,!1);return this.capture(t),new Gp(fv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function ZH(e){const t=e.match(WH);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=LC(this.remaining);o&&(n=o,this.capture(n))}t[fv(r)]=fv(n)}parseQueryParam(t){const r=function KH(e){const t=e.match(qH);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function XH(e){const t=e.match(YH);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=XM(r),i=XM(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=LC(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Ye(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=vn);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[vn]:new Ir([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ye(4011,!1)}}function JM(e){return e.segments.length>0?new Ir([],{[vn]:e}):e}function eA(e){const t={};for(const n of Object.keys(e.children)){const i=eA(e.children[n]);if(n===vn&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function JH(e){if(1===e.numberOfChildren&&e.children[vn]){const t=e.children[vn];return new Ir(e.segments.concat(t.segments),t.children)}return e}(new Ir(e.segments,t))}function Eu(e){return e instanceof qd}function tA(e){let t;const o=JM(function r(i){const s={};for(const l of i.children){const c=r(l);s[l.outlet]=c}const a=new Ir(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function nA(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return $C(o,o,o,r,n);const i=function tG(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new oA(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new oA(r,t,n)}(t);if(i.toRoot())return $C(o,o,new Ir([],{}),r,n);const s=function nG(e,t,r){if(e.isAbsolute)return new hv(t,!0,0);if(!r)return new hv(t,!1,NaN);if(null===r.parent)return new hv(r,!0,0);const n=pv(e.commands[0])?0:1;return function rG(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Ye(4005,!1);o=n.segments.length}return new hv(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?Zp(s.segmentGroup,s.index,i.commands):iA(s.segmentGroup,s.index,i.commands);return $C(o,s.segmentGroup,a,r,n)}function pv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Wp(e){return"object"==typeof e&&null!=e&&e.outlets}function $C(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=e===t?r:rA(e,t,r);const a=JM(eA(s));return new qd(a,i,o)}function rA(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:rA(i,t,r)}),new Ir(e.segments,n)}class oA{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&pv(n[0]))throw new Ye(4003,!1);const o=n.find(Wp);if(o&&o!==GM(n))throw new Ye(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hv{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function iA(e,t,r){if(e||(e=new Ir([],{})),0===e.segments.length&&e.hasChildren())return Zp(e,t,r);const n=function iG(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(Wp(a))break;const l=`${a}`,c=n<r.length-1?r[n+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!aA(l,c,s))return i;n+=2}else{if(!aA(l,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new Ir(e.segments.slice(0,n.pathIndex),{});return i.children[vn]=new Ir(e.segments.slice(n.pathIndex),e.children),Zp(i,0,o)}return n.match&&0===o.length?new Ir(e.segments,{}):n.match&&!e.hasChildren()?BC(e,t,r):n.match?Zp(e,0,o):BC(e,t,r)}function Zp(e,t,r){if(0===r.length)return new Ir(e.segments,{});{const n=function oG(e){return Wp(e[0])?e[0].outlets:{[vn]:e}}(r),o={};if(Object.keys(n).some(i=>i!==vn)&&e.children[vn]&&1===e.numberOfChildren&&0===e.children[vn].segments.length){const i=Zp(e.children[vn],t,r);return new Ir(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=iA(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new Ir(e.segments,o)}}function BC(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(Wp(i)){const l=sG(i.outlets);return new Ir(n,l)}if(0===o&&pv(r[0])){n.push(new Gp(e.segments[t].path,sA(r[0]))),o++;continue}const s=Wp(i)?i.outlets[vn]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&pv(a)?(n.push(new Gp(s,sA(a))),o+=2):(n.push(new Gp(s,{})),o++)}return new Ir(n,{})}function sG(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=BC(new Ir([],{}),0,n))}),t}function sA(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function aA(e,t,r){return e==r.path&&fl(t,r.parameters)}const qp="imperative";class pl{constructor(t,r){this.id=t,this.url=r}}class Kp extends pl{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ql extends pl{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kd extends pl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yd extends pl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class mv extends pl{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lA extends pl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aG extends pl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lG extends pl{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cG extends pl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uG extends pl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dG{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fG{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pG{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hG{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mG{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gG{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cA{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class VC{}class jC{constructor(t){this.url=t}}class vG{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Iu,this.attachRef=null}}let Iu=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new vG,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class uA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=UC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=UC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=HC(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return HC(t,this._root).map(r=>r.value)}}function UC(e,t){if(e===t.value)return t;for(const r of t.children){const n=UC(e,r);if(n)return n}return null}function HC(e,t){if(e===t.value)return[t];for(const r of t.children){const n=HC(e,r);if(n.length)return n.unshift(t),n}return[]}class ka{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function Xd(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class dA extends uA{constructor(t,r){super(t),this.snapshot=r,WC(this,t)}toString(){return this.snapshot.toString()}}function fA(e,t){const r=function yG(e,t){const s=new zC([],{},{},"",{},vn,t,null,{});return new pA("",new ka(s,[]))}(0,t),n=new lo([new Gp("",{})]),o=new lo({}),i=new lo({}),s=new lo({}),a=new lo(""),l=new hl(n,o,s,a,i,vn,t,r.root);return l.snapshot=r.root,new dA(new ka(l,[]),r)}class hl{constructor(t,r,n,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Qt(c=>c[Hp]))??Pt(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Qt(t=>Zd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Qt(t=>Zd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function GC(e,t,r="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===t||"always"!==r&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&mA(o)&&(n.resolve[Hp]=o.title),n}class zC{get title(){return this.data?.[Hp]}constructor(t,r,n,o,i,s,a,l,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pA extends uA{constructor(t,r){super(r),this.url=t,WC(this,r)}toString(){return hA(this._root)}}function WC(e,t){t.value._routerState=e,t.children.forEach(r=>WC(e,r))}function hA(e){const t=e.children.length>0?` { ${e.children.map(hA).join(", ")} } `:"";return`${e.value}${t}`}function ZC(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,fl(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),fl(t.params,r.params)||e.paramsSubject.next(r.params),function NH(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!fl(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),fl(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function qC(e,t){const r=fl(e.params,t.params)&&function BH(e,t){return wu(e,t)&&e.every((r,n)=>fl(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||qC(e.parent,t.parent))}function mA(e){return"string"==typeof e.title||null===e.title}let gA=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=vn,this.activateEvents=new tn,this.deactivateEvents=new tn,this.attachEvents=new tn,this.detachEvents=new tn,this.parentContexts=ot(Iu),this.location=ot(as),this.changeDetector=ot(at),this.environmentInjector=ot(ri),this.inputBinder=ot(gv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ye(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ye(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ye(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Ye(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new _G(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=xt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ni]}),t})();class _G{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===hl?this.route:t===Iu?this.childContexts:this.parent.get(t,r)}}const gv=new et("");let vA=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=iv([o.queryParams,o.params,o.data]).pipe(Wr(([s,a,l],c)=>(l={...s,...a,...l},0===c?Pt(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=gx(o.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function Yp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function CG(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return Yp(e,n,o);return Yp(e,n)})}(e,t,r);return new ka(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Yp(e,a)),s}}const n=function SG(e){return new hl(new lo(e.url),new lo(e.params),new lo(e.queryParams),new lo(e.fragment),new lo(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>Yp(e,i));return new ka(n,o)}}const KC="ngNavigationCancelingError";function yA(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=Eu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=_A(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function _A(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[KC]=!0,n.cancellationCode=t,r&&(n.url=r),n}function bA(e){return e&&e[KC]}let CA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Sg],decls:1,vars:0,template:function(n,o){1&n&&je(0,"router-outlet")},dependencies:[gA],encapsulation:2}),t})();function YC(e){const t=e.children&&e.children.map(YC),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==vn&&(r.component=CA),r}function ml(e){return e.outlet||vn}function Xp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class AG{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),ZC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=Xd(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Xd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Xd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=Xd(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new gG(i.value.snapshot))}),t.children.length&&this.forwardEvent(new hG(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(ZC(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ZC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Xp(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class SA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vv{constructor(t,r){this.component=t,this.route=r}}function kG(e,t,r){const n=e._root;return Qp(n,t?t._root:null,r,[n.value])}function Qd(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function y(e){return null!==qn(e)}(e)?t.get(e):e:n}function Qp(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Xd(t);return e.children.forEach(s=>{(function PG(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function OG(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!wu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!wu(e.url,t.url)||!fl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qC(e,t)||!fl(e.queryParams,t.queryParams);default:return!qC(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new SA(n)):(i.data=s.data,i._resolvedData=s._resolvedData),Qp(e,t,i.component?a?a.children:null:r,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new vv(a.outlet.component,s))}else s&&Jp(t,a,o),o.canActivateChecks.push(new SA(n)),Qp(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Jp(a,r.getContext(s),o)),o}function Jp(e,t,r){const n=Xd(e),o=e.value;Object.entries(n).forEach(([i,s])=>{Jp(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new vv(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function eh(e){return"function"==typeof e}function wA(e){return e instanceof sv||"EmptyError"===e?.name}const yv=Symbol("INITIAL_VALUE");function Jd(){return Wr(e=>iv(e.map(t=>t.pipe(Wd(1),BM(yv)))).pipe(Qt(t=>{for(const r of t)if(!0!==r){if(r===yv)return yv;if(!1===r||r instanceof qd)return r}return!0}),Aa(t=>t!==yv),Wd(1)))}function DA(e){return function Hr(...e){return eo(e)}(Ei(t=>{if(Eu(t))throw yA(0,t)}),Qt(t=>!0===t))}class XC{constructor(t){this.segmentGroup=t||null}}class QC extends Error{constructor(t){super(),this.urlTree=t}}function ef(e){return av(new XC(e))}class e5{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return Pt(n);if(o.numberOfChildren>1||!o.children[vn])return av(new Ye(4e3,!1));o=o.children[vn]}}applyRedirectCommands(t,r,n){const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new QC(o);return o}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new qd(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new Ir(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new Ye(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const JC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function t5(e,t,r,n,o){const i=e0(e,t,r);return i.matched?(n=function DG(e,t){return e.providers&&!e._injector&&(e._injector=Cb(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function XG(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?Pt(o.map(s=>{const a=Qd(s,e);return Lc(function VG(e){return e&&eh(e.canMatch)}(a)?a.canMatch(t,r):_c(e,()=>a(t,r)))})).pipe(Jd(),DA()):Pt(!0)}(n,t,r).pipe(Qt(s=>!0===s?i:{...JC}))):Pt(i)}function e0(e,t,r){if("**"===t.path)return function n5(e){return{matched:!0,parameters:e.length>0?GM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...JC}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||OH)(r,e,t);if(!o)return{...JC};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function EA(e,t,r,n){return r.length>0&&function i5(e,t,r){return r.some(n=>_v(e,t,n)&&ml(n)!==vn)}(e,r,n)?{segmentGroup:new Ir(t,o5(n,new Ir(r,e.children))),slicedSegments:[]}:0===r.length&&function s5(e,t,r){return r.some(n=>_v(e,t,n))}(e,r,n)?{segmentGroup:new Ir(e.segments,r5(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new Ir(e.segments,e.children),slicedSegments:r}}function r5(e,t,r,n,o){const i={};for(const s of n)if(_v(e,r,s)&&!o[ml(s)]){const a=new Ir([],{});i[ml(s)]=a}return{...o,...i}}function o5(e,t){const r={};r[vn]=t;for(const n of e)if(""===n.path&&ml(n)!==vn){const o=new Ir([],{});r[ml(n)]=o}return r}function _v(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class c5{}class f5{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new e5(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Ye(4002,`'${t.segmentGroup}'`)}recognize(){const t=EA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Qt(r=>{const n=new zC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vn,this.rootComponentType,null,{}),o=new ka(n,r),i=new pA("",o),s=function eG(e,t,r=null,n=null){return nA(tA(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,vn).pipe(Su(n=>{if(n instanceof QC)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof XC?this.noMatchError(n):n}))}inheritParamsAndData(t,r){const n=t.value,o=GC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),t.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0).pipe(Qt(i=>i instanceof ka?[i]:[]))}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return _r(o).pipe(Gd(i=>{const s=n.children[i],a=function xG(e,t){const r=e.filter(n=>ml(n)===t);return r.push(...e.filter(n=>ml(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function kH(e,t){return dn(function AH(e,t,r,n,o){return(i,s)=>{let a=r,l=t,c=0;i.subscribe(Sn(s,d=>{const p=c++;l=a?e(l,d,p):(a=!0,d),n&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),lv(null),function RH(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Aa((o,i)=>e(o,i,n)):vr,PC(1),r?lv(t):VM(()=>new sv))}(),Rn(i=>{if(null===i)return ef(n);const s=IA(i);return function p5(e){e.sort((t,r)=>t.value.outlet===vn?-1:r.value.outlet===vn?1:t.value.outlet.localeCompare(r.value.outlet))}(s),Pt(s)}))}processSegment(t,r,n,o,i,s){return _r(r).pipe(Gd(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(Su(l=>{if(l instanceof XC)return Pt(null);throw l}))),Fc(a=>!!a),Su(a=>{if(wA(a))return function l5(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?Pt(new c5):ef(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function a5(e,t,r,n){return!!(ml(e)===n||n!==vn&&_v(t,r,e))&&e0(t,e,r).matched}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):ef(o):ef(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=e0(r,o,i);if(!a)return ef(r);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,c);return this.applyRedirects.lineralizeSegments(o,p).pipe(Rn(m=>this.processSegment(t,n,r,m.concat(d),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i){const s=t5(r,n,o,t);return"**"===n.path&&(r.children={}),s.pipe(Wr(a=>a.matched?this.getChildConfig(t=n._injector??t,n,o).pipe(Wr(({routes:l})=>{const c=n._loadedInjector??t,{consumedSegments:d,remainingSegments:p,parameters:m}=a,_=new zC(d,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function m5(e){return e.data||{}}(n),ml(n),n.component??n._loadedComponent??null,n,function g5(e){return e.resolve||{}}(n)),{segmentGroup:U,slicedSegments:Y}=EA(r,d,p,l);if(0===Y.length&&U.hasChildren())return this.processChildren(c,l,U).pipe(Qt(we=>null===we?null:new ka(_,we)));if(0===l.length&&0===Y.length)return Pt(new ka(_,[]));const ge=ml(n)===i;return this.processSegment(c,l,U,Y,ge?vn:i,!0).pipe(Qt(we=>new ka(_,we instanceof ka?[we]:[])))})):ef(r)))}getChildConfig(t,r,n){return r.children?Pt({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?Pt({routes:r._loadedRoutes,injector:r._loadedInjector}):function YG(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?Pt(!0):Pt(o.map(s=>{const a=Qd(s,e);return Lc(function FG(e){return e&&eh(e.canLoad)}(a)?a.canLoad(t,r):_c(e,()=>a(t,r)))})).pipe(Jd(),DA())}(t,r,n).pipe(Rn(o=>o?this.configLoader.loadChildren(t,r).pipe(Ei(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function JG(e){return av(_A(!1,3))}())):Pt({routes:[],injector:t})}}function h5(e){const t=e.value.routeConfig;return t&&""===t.path}function IA(e){const t=[],r=new Set;for(const n of e){if(!h5(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=IA(n.children);t.push(new ka(n.value,o))}return t.filter(n=>!r.has(n))}function TA(e){const t=e.children.map(r=>TA(r)).flat();return[e,...t]}function t0(e){return Wr(t=>{const r=e(t);return r?_r(r).pipe(Qt(()=>t)):Pt(t)})}let xA=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===vn);return o}getResolvedTitleForRoute(n){return n.data[Hp]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(S5),providedIn:"root"}),t})(),S5=(()=>{var e;class t extends xA{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(iM))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const tf=new et("",{providedIn:"root",factory:()=>({})}),nf=new et("ROUTES");let n0=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ot(kT)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Pt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=Lc(n.loadComponent()).pipe(Qt(MA),Ei(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Vp(()=>{this.componentLoaders.delete(n)})),i=new $M(o,()=>new In).pipe(RC());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Pt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function w5(e,t,r,n){return Lc(e.loadChildren()).pipe(Qt(MA),Rn(o=>o instanceof qI||Array.isArray(o)?Pt(o):_r(t.compileModuleAsync(o))),Qt(o=>{n&&n(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(r).injector,s=i.get(nf,[],{optional:!0,self:!0}).flat()),{routes:s.map(YC),injector:i}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(Vp(()=>{this.childrenLoaders.delete(o)})),a=new $M(s,()=>new In).pipe(RC());return this.childrenLoaders.set(o,a),a}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function MA(e){return function D5(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let r0=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(E5),providedIn:"root"}),t})(),E5=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const AA=new et(""),kA=new et("");function I5(e,t,r){const n=e.get(kA),o=e.get(ii);return e.get(Ge).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function T5(e){return new Promise(t=>{CE(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=n;return l&&_c(e,()=>l({transition:a,from:t,to:r})),s})}let bv=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new In,this.transitionAbortSubject=new In,this.configLoader=ot(n0),this.environmentInjector=ot(ri),this.urlSerializer=ot(Du),this.rootContexts=ot(Iu),this.location=ot(kc),this.inputBindingEnabled=null!==ot(gv,{optional:!0}),this.titleStrategy=ot(xA),this.options=ot(tf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ot(r0),this.createViewTransition=ot(AA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Pt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new fG(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new dG(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new lo({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Aa(s=>0!==s.id),Qt(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Wr(s=>{this.currentTransition=s;let a=!1,l=!1;return Pt(s).pipe(Ei(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Wr(c=>{const d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new Yd(c.id,this.urlSerializer.serialize(c.rawUrl),m,0)),c.resolve(null),Eo}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Pt(c).pipe(Wr(m=>{const _=this.transitions?.getValue();return this.events.next(new Kp(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?Eo:Promise.resolve(m)}),function v5(e,t,r,n,o,i){return Rn(s=>function u5(e,t,r,n,o,i,s="emptyOnly"){return new f5(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(Qt(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ei(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const _=new lA(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:m,extractedUrl:_,source:U,restoredState:Y,extras:ge}=c,we=new Kp(m,this.urlSerializer.serialize(_),U,Y);this.events.next(we);const Ae=fA(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:Ae,urlAfterRedirects:_,extras:{...ge,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=_,Pt(s)}{const m="";return this.events.next(new Yd(c.id,this.urlSerializer.serialize(c.extractedUrl),m,1)),c.resolve(null),Eo}}),Ei(c=>{const d=new aG(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Qt(c=>(this.currentTransition=s={...c,guards:kG(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function UG(e,t){return Rn(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?Pt({...r,guardsResult:!0}):function HG(e,t,r,n){return _r(e).pipe(Rn(o=>function KG(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Pt(i.map(a=>{const l=Xp(t)??o,c=Qd(a,l);return Lc(function BG(e){return e&&eh(e.canDeactivate)}(c)?c.canDeactivate(e,t,r,n):_c(l,()=>c(e,t,r,n))).pipe(Fc())})).pipe(Jd()):Pt(!0)}(o.component,o.route,r,t,n)),Fc(o=>!0!==o,!0))}(s,n,o,e).pipe(Rn(a=>a&&function NG(e){return"boolean"==typeof e}(a)?function GG(e,t,r,n){return _r(t).pipe(Gd(o=>kC(function WG(e,t){return null!==e&&t&&t(new pG(e)),Pt(!0)}(o.route.parent,n),function zG(e,t){return null!==e&&t&&t(new mG(e)),Pt(!0)}(o.route,n),function qG(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function RG(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>LM(()=>Pt(s.guards.map(l=>{const c=Xp(s.node)??r,d=Qd(l,c);return Lc(function $G(e){return e&&eh(e.canActivateChild)}(d)?d.canActivateChild(n,e):_c(c,()=>d(n,e))).pipe(Fc())})).pipe(Jd())));return Pt(i).pipe(Jd())}(e,o.path,r),function ZG(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Pt(!0);const o=n.map(i=>LM(()=>{const s=Xp(t)??r,a=Qd(i,s);return Lc(function LG(e){return e&&eh(e.canActivate)}(a)?a.canActivate(t,e):_c(s,()=>a(t,e))).pipe(Fc())}));return Pt(o).pipe(Jd())}(e,o.route,r))),Fc(o=>!0!==o,!0))}(n,i,e,t):Pt(a)),Qt(a=>({...r,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ei(c=>{if(s.guardsResult=c.guardsResult,Eu(c.guardsResult))throw yA(0,c.guardsResult);const d=new lG(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Aa(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),t0(c=>{if(c.guards.canActivateChecks.length)return Pt(c).pipe(Ei(d=>{const p=new cG(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Wr(d=>{let p=!1;return Pt(d).pipe(function y5(e,t){return Rn(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return Pt(r);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of TA(l))s.add(c);let a=0;return _r(s).pipe(Gd(l=>i.has(l)?function _5(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!mA(o)&&(i[Hp]=o.title),function b5(e,t,r,n){const o=OC(e);if(0===o.length)return Pt({});const i={};return _r(o).pipe(Rn(s=>function C5(e,t,r,n){const o=Xp(t)??n,i=Qd(e,o);return Lc(i.resolve?i.resolve(t,r):_c(o,()=>i(t,r)))}(e[s],t,r,n).pipe(Fc(),Ei(a=>{i[s]=a}))),PC(1),jM(i),Su(s=>wA(s)?Eo:av(s)))}(i,e,t,n).pipe(Qt(s=>(e._resolvedData=s,e.data=GC(e,e.parent,r).resolve,null)))}(l,n,e,t):(l.data=GC(l,l.parent,e).resolve,Pt(void 0))),Ei(()=>a++),PC(1),Rn(l=>a===s.size?Pt(r):Eo))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ei({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",2)}}))}),Ei(d=>{const p=new uG(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),t0(c=>{const d=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ei(_=>{p.component=_}),Qt(()=>{})));for(const _ of p.children)m.push(...d(_));return m};return iv(d(c.targetSnapshot.root)).pipe(lv(),Wd(1))}),t0(()=>this.afterPreactivation()),Wr(()=>{const{currentSnapshot:c,targetSnapshot:d}=s,p=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return p?_r(p).pipe(Qt(()=>s)):Pt(s)}),Qt(c=>{const d=function bG(e,t,r){const n=Yp(e,t._root,r?r._root:void 0);return new dA(n,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:d},this.currentNavigation.targetRouterState=d,s}),Ei(()=>{this.events.next(new VC)}),((e,t,r,n)=>Qt(o=>(new AG(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Wd(1),Ei({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ql(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),UM(this.transitionAbortSubject.pipe(Ei(c=>{throw c}))),Vp(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Su(c=>{if(l=!0,bA(c))this.events.next(new Kd(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function wG(e){return bA(e)&&Eu(e.url)}(c)?this.events.next(new jC(c.url)):s.resolve(!1);else{this.events.next(new mv(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(d){s.reject(d)}}return Eo}))}))}cancelNavigationTransition(n,o,i){const s=new Kd(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function x5(e){return e!==qp}let RA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(A5),providedIn:"root"}),t})();class M5{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let A5=(()=>{var e;class t extends M5{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Br(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),PA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(k5),providedIn:"root"}),t})(),k5=(()=>{var e;class t extends PA{constructor(){super(...arguments),this.location=ot(kc),this.urlSerializer=ot(Du),this.options=ot(tf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ot(r0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new qd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=fA(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof Kp)this.stateMemento=this.createStateMemento();else if(n instanceof Yd)this.rawUrlTree=o.initialUrl;else if(n instanceof lA){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else n instanceof VC?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof Kd&&(3===n.code||2===n.code)?this.restoreHistory(o):n instanceof mv?this.restoreHistory(o,!0):n instanceof ql&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Br(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var th=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(th||{});function OA(e,t){e.events.pipe(Aa(r=>r instanceof ql||r instanceof Kd||r instanceof mv||r instanceof Yd),Qt(r=>r instanceof ql||r instanceof Yd?th.COMPLETE:r instanceof Kd&&(0===r.code||1===r.code)?th.REDIRECTING:th.FAILED),Aa(r=>r!==th.REDIRECTING),Wd(1)).subscribe(()=>{t()})}function R5(e){throw e}const P5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jo=(()=>{var e;class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ot(AT),this.stateManager=ot(PA),this.options=ot(tf,{optional:!0})||{},this.pendingTasks=ot(Tg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ot(bv),this.urlSerializer=ot(Du),this.location=ot(kc),this.urlHandlingStrategy=ot(r0),this._events=new In,this.errorHandler=this.options.errorHandler||R5,this.navigated=!1,this.routeReuseStrategy=ot(RA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ot(nf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ot(gv,{optional:!0}),this.eventsSubscription=new dt,this.isNgZoneEnabled=ot(Ge)instanceof Ge&&Ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof Kd&&0!==o.code&&1!==o.code)this.navigated=!0;else if(o instanceof ql)this.navigated=!0;else if(o instanceof jC){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||x5(i.source)};this.scheduleNavigation(a,qp,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function F5(e){return!(e instanceof VC||e instanceof jC)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(YC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=o,d=c?this.currentUrlTree.fragment:a;let m,p=null;switch(l){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{m=tA(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),m=this.currentUrlTree.root}return nA(m,n,p,d??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=Eu(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,qp,null,o)}navigate(n,o={skipLocationChange:!1}){return function N5(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Ye(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let i;if(i=!0===o?{...P5}:!1===o?{...O5}:o,Eu(n))return WM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return WM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((m,_)=>{l=m,c=_});const p=this.pendingTasks.add();return OA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class NA{}let B5=(()=>{var e;class t{preload(n,o){return o().pipe(Su(()=>Pt(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),V5=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Aa(n=>n instanceof ql),Gd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=Cb(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return _r(i).pipe(Oo())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):Pt(null);const s=i.pipe(Rn(a=>null===a?Pt(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?_r([s,this.loader.loadComponent(o)]).pipe(Oo()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(se(jo),se(kT),se(ri),se(NA),se(n0))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const o0=new et("");let FA=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Kp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ql?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Yd&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof cA&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cA(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function YD(){throw new Error("invalid")}()},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function gl(e,t){return{\u0275kind:e,\u0275providers:t}}function $A(){const e=ot(Vr);return t=>{const r=e.get(Ta);if(t!==r.components[0])return;const n=e.get(jo),o=e.get(BA);1===e.get(s0)&&n.initialNavigation(),e.get(VA,null,Nt.Optional)?.setUpPreloading(),e.get(o0,null,Nt.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const BA=new et("",{factory:()=>new In}),s0=new et("",{providedIn:"root",factory:()=>1}),VA=new et("");function G5(e){return gl(0,[{provide:VA,useExisting:V5},{provide:NA,useExisting:e}])}function W5(e){return gl(9,[{provide:AA,useValue:I5},{provide:kA,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const jA=new et("ROUTER_FORROOT_GUARD"),Z5=[kc,{provide:Du,useClass:NC},jo,Iu,{provide:hl,useFactory:function LA(e){return e.routerState.root},deps:[jo]},n0,[]];let Cv=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[Z5,[],{provide:nf,multi:!0,useValue:n},{provide:jA,useFactory:X5,deps:[[jo,new ym,new _m]]},{provide:tf,useValue:o||{}},o?.useHash?{provide:ul,useClass:bx}:{provide:ul,useClass:_x},{provide:o0,useFactory:()=>{const e=ot(FU),t=ot(Ge),r=ot(tf),n=ot(bv),o=ot(Du);return r.scrollOffset&&e.setOffset(r.scrollOffset),new FA(o,n,e,t,r)}},o?.preloadingStrategy?G5(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?Q5(o):[],o?.bindToComponentInputs?gl(8,[vA,{provide:gv,useExisting:vA}]).\u0275providers:[],o?.enableViewTransitions?W5().\u0275providers:[],[{provide:UA,useFactory:$A},{provide:$b,multi:!0,useExisting:UA}]]}}static forChild(n){return{ngModule:t,providers:[{provide:nf,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(se(jA,8))},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({}),t})();function X5(e){return"guarded"}function Q5(e){return["disabled"===e.initialNavigation?gl(3,[{provide:Pp,multi:!0,useFactory:()=>{const t=ot(jo);return()=>{t.setUpLocationChangeListener()}}},{provide:s0,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?gl(2,[{provide:s0,useValue:0},{provide:Pp,multi:!0,deps:[Vr],useFactory:t=>{const r=t.get(vj,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get(jo),i=t.get(BA);OA(o,()=>{n(!0)}),t.get(bv).afterPreactivation=()=>(n(!0),i.closed?Pt(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const UA=new et("");class e8{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,r){const n=this.m.get(t);return void 0!==n?n:r}getBoolean(t,r=!1){const n=this.m.get(t);return void 0===n?r:"string"==typeof n?"true"===n:!!n}getNumber(t,r){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==r?r:NaN:n}set(t,r){this.m.set(t,r)}}const $c=new e8,zA=e=>ZA(e),ZA=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=i8(e),t.forEach(r=>e.document.documentElement.classList.add(`plt-${r}`))),t},i8=e=>{const t=$c.get("platform");return Object.keys(QA).filter(r=>{const n=t?.[r];return"function"==typeof n?n(e):QA[r](e)})},a0=e=>!!(Tu(e,/iPad/i)||Tu(e,/Macintosh/i)&&Sv(e)),qA=e=>Tu(e,/android|sink/i),Sv=e=>m8(e,"(any-pointer:coarse)"),KA=e=>YA(e)||XA(e),YA=e=>!!(e.cordova||e.phonegap||e.PhoneGap),XA=e=>{const t=e.Capacitor;return!!t?.isNative},Tu=(e,t)=>t.test(e.navigator.userAgent),m8=(e,t)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,t).matches},QA={ipad:a0,iphone:e=>Tu(e,/iPhone/i),ios:e=>Tu(e,/iPhone|iPod/i)||a0(e),android:qA,phablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return a0(e)||(e=>qA(e)&&!Tu(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:YA,capacitor:XA,electron:e=>Tu(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:Sv,mobileweb:e=>Sv(e)&&!KA(e),desktop:e=>!Sv(e),hybrid:KA};var rh=b(7687),g8=b(276);const v8=["addListener","removeListener"],y8=["addEventListener","removeEventListener"],_8=["on","off"];function wv(e,t,r,n){if(ke(r)&&(n=r,r=void 0),n)return wv(e,t,r).pipe(AC(n));const[o,i]=function S8(e){return ke(e.addEventListener)&&ke(e.removeEventListener)}(e)?y8.map(s=>a=>e[s](t,a,r)):function b8(e){return ke(e.addListener)&&ke(e.removeListener)}(e)?v8.map(JA(e,t)):function C8(e){return ke(e.on)&&ke(e.off)}(e)?_8.map(JA(e,t)):[];if(!o&&Wo(e))return Rn(s=>wv(s,t,r))(Ue(e));if(!o)throw new TypeError("Invalid event target");return new kn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function JA(e,t){return r=>n=>e[r](t,n)}let ek=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Vl),v(nt))},e.\u0275dir=xt({type:e}),t})(),xu=(()=>{var e;class t extends ek{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Br(e)))(o||e)}})(),e.\u0275dir=xt({type:e,features:[hn]}),t})();const Vi=new et("NgValueAccessor"),E8={provide:Vi,useExisting:Fn(()=>l0),multi:!0},T8=new et("CompositionEventMode");let l0=(()=>{var e;class t extends ek{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function I8(){const e=Ac()?Ac().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Vl),v(nt),v(T8,8))},e.\u0275dir=xt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&Le("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[ar([E8]),hn]}),t})();function Bc(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function nk(e){return null!=e&&"number"==typeof e.length}const si=new et("NgValidators"),Vc=new et("NgAsyncValidators"),x8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oh{static min(t){return rk(t)}static max(t){return ok(t)}static required(t){return function ik(e){return Bc(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function sk(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function ak(e){return Bc(e.value)||x8.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function lk(e){return t=>Bc(t.value)||!nk(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return ck(t)}static pattern(t){return function uk(e){if(!e)return Dv;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(Bc(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return gk(t)}static composeAsync(t){return vk(t)}}function rk(e){return t=>{if(Bc(t.value)||Bc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function ok(e){return t=>{if(Bc(t.value)||Bc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function ck(e){return t=>nk(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function Dv(e){return null}function dk(e){return null!=e}function fk(e){return Tp(e)?_r(e):e}function pk(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function hk(e,t){return t.map(r=>r(e))}function mk(e){return e.map(t=>function M8(e){return!e.validate}(t)?t:r=>t.validate(r))}function gk(e){if(!e)return null;const t=e.filter(dk);return 0==t.length?null:function(r){return pk(hk(r,t))}}function c0(e){return null!=e?gk(mk(e)):null}function vk(e){if(!e)return null;const t=e.filter(dk);return 0==t.length?null:function(r){return function w8(...e){const t=ua(e),{args:r,keys:n}=OM(e),o=new kn(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let d=0;d<s;d++){let p=!1;Ue(r[d]).subscribe(Sn(i,m=>{p||(p=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!p)&&(c||i.next(n?NM(n,a):a),i.complete())}))}});return t?o.pipe(AC(t)):o}(hk(r,t).map(fk)).pipe(Qt(pk))}}function u0(e){return null!=e?vk(mk(e)):null}function yk(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function _k(e){return e._rawValidators}function bk(e){return e._rawAsyncValidators}function d0(e){return e?Array.isArray(e)?e:[e]:[]}function Ev(e,t){return Array.isArray(e)?e.includes(t):e===t}function Ck(e,t){const r=d0(t);return d0(e).forEach(o=>{Ev(r,o)||r.push(o)}),r}function Sk(e,t){return d0(t).filter(r=>!Ev(e,r))}class wk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=c0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=u0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class ji extends wk{get formDirective(){return null}get path(){return null}}class Kl extends wk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Dk{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yl=(()=>{var e;class t extends Dk{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Kl,2))},e.\u0275dir=xt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&Js("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[hn]}),t})(),Xl=(()=>{var e;class t extends Dk{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ji,10))},e.\u0275dir=xt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&Js("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[hn]}),t})();const ih="VALID",Tv="INVALID",sf="PENDING",sh="DISABLED";function h0(e){return(xv(e)?e.validators:e)||null}function m0(e,t){return(xv(t)?t.asyncValidators:e)||null}function xv(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class xk{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ih}get invalid(){return this.status===Tv}get pending(){return this.status==sf}get disabled(){return this.status===sh}get enabled(){return this.status!==sh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ck(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ck(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Sk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Sk(t,this._rawAsyncValidators))}hasValidator(t){return Ev(this._rawValidators,t)}hasAsyncValidator(t){return Ev(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=sf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=sh,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=ih,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ih||this.status===sf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sh:ih}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=sf,this._hasOwnPendingAsyncValidator=!0;const r=fk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new tn,this.statusChanges=new tn}_calculateStatus(){return this._allControlsDisabled()?sh:this.errors?Tv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sf)?sf:this._anyControlsHaveStatus(Tv)?Tv:ih}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function P8(e){return Array.isArray(e)?c0(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function O8(e){return Array.isArray(e)?u0(e):e||null}(this._rawAsyncValidators)}}class jc extends xk{constructor(t,r,n){super(h0(r),m0(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function Tk(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new Ye(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function Ik(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new Ye(1e3,"");if(!n[r])throw new Ye(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Mv=jc,Mu=new et("CallSetDisabledState",{providedIn:"root",factory:()=>ah}),ah="always";function lh(e,t,r=ah){g0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function L8(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Mk(e,t)})}(e,t),function B8(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function $8(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Mk(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function F8(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function kv(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Pv(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Rv(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function g0(e,t){const r=_k(e);null!==t.validator?e.setValidators(yk(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=bk(e);null!==t.asyncValidator?e.setAsyncValidators(yk(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();Rv(t._rawValidators,o),Rv(t._rawAsyncValidators,o)}function Pv(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=_k(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=bk(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return Rv(t._rawValidators,n),Rv(t._rawAsyncValidators,n),r}function Mk(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Rk(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function Pk(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const cs=class extends xk{constructor(t=null,r,n){super(h0(r),m0(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xv(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=Pk(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Rk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Rk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Pk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},bo=cs;let Ql=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=xt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Bk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({}),t})();const C0=new et("NgModelWithFormControlWarning"),J8={provide:ji,useExisting:Fn(()=>Ra)};let Ra=(()=>{var e;class t extends ji{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new tn,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return lh(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){kv(n.control||null,n,!1),function H8(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function kk(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&(kv(o||null,n),(e=>e instanceof cs)(i)&&(lh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function Ak(e,t){g0(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function V8(e,t){return Pv(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){g0(this.form,this),this._oldForm&&Pv(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(v(si,10),v(Vc,10),v(Mu,8))},e.\u0275dir=xt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&Le("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ar([J8]),hn,ni]}),t})();const nz={provide:Kl,useExisting:Fn(()=>vl)};let vl=(()=>{var e;class t extends Kl{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new tn,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function _0(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===l0?r=i:function U8(e){return Object.getPrototypeOf(e.constructor)===xu}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function y0(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Av(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(v(ji,13),v(si,10),v(Vc,10),v(Vi,10),v(C0,8))},e.\u0275dir=xt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ar([nz]),hn,ni]}),t})();function Zk(e){return"number"==typeof e?e:parseFloat(e)}let Au=(()=>{var e;class t{constructor(){this._validator=Dv}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Dv,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=xt({type:e,features:[ni]}),t})();const cz={provide:si,useExisting:Fn(()=>I0),multi:!0};let I0=(()=>{var e;class t extends Au{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>Zk(n),this.createValidator=n=>ok(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Br(e)))(o||e)}})(),e.\u0275dir=xt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&ks("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[ar([cz]),hn]}),t})();const uz={provide:si,useExisting:Fn(()=>T0),multi:!0};let T0=(()=>{var e;class t extends Au{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>Zk(n),this.createValidator=n=>rk(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Br(e)))(o||e)}})(),e.\u0275dir=xt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&ks("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[ar([uz]),hn]}),t})();const mz={provide:si,useExisting:Fn(()=>M0),multi:!0};let M0=(()=>{var e;class t extends Au{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function Wk(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>ck(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Br(e)))(o||e)}})(),e.\u0275dir=xt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&ks("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ar([mz]),hn]}),t})(),Qk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({imports:[Bk]}),t})(),ku=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:Mu,useValue:n.callSetDisabledState??ah}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({imports:[Qk]}),t})(),Ov=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:C0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Mu,useValue:n.callSetDisabledState??ah}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({imports:[Qk]}),t})();const yz=["tabsInner"];let _z=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new In,this.keyboardDidShow=new In,this.keyboardDidHide=new In,this.pause=new In,this.resume=new In,this.resize=new In,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>n.run(()=>s(l))))},af(this.pause,r,"pause",n),af(this.resume,r,"resume",n),af(this.backButton,r,"ionBackButton",n),af(this.resize,this.win,"resize",n),af(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),af(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),zA(e).includes(t)))(this.win,r)}platforms(){return zA(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return bz(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(se(ii),se(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const bz=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},af=(e,t,r,n)=>{t&&t.addEventListener(r,o=>{n.run(()=>{const i=o?.detail;e.next(i)})})};let lf=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=Jk,this.animated=eR,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Kp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,O.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=Cz(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=Jk,this.animated=eR,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(se(_z),se(kc),se(Du),se(jo,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Cz=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},Jk="auto",eR=void 0;let uh=(()=>{class e{get(r,n){const o=A0();return o?o.get(r,n):null}getBoolean(r,n){const o=A0();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=A0();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const tR=new et("USERCONFIG"),A0=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class nR{constructor(t={}){this.data=t}get(t){return this.data[t]}}let dh=(()=>{class e{constructor(){this.zone=ot(Ge),this.applicationRef=ot(Ta)}create(r,n,o){return new Sz(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();class Sz{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(wz(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const wz=(e,t,r,n,o,i,s,a,l,c,d)=>{const m=function hj(e,t){const r=bn(e),n=t.elementInjector||Dm();return new up(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:Vr.create({providers:Ez(l),parent:r})}),_=m.instance,U=m.location.nativeElement;if(l&&(d&&void 0!==_[d]&&console.error(`[Ionic Error]: ${d} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${d}" property from ${a.name}.`),Object.assign(_,l)),c)for(const ge of c)U.classList.add(ge);const Y=rR(e,_,U);return s.appendChild(U),n.attachView(m.hostView),o.set(U,m),i.set(U,Y),U},Dz=[rh.L,rh.a,rh.b,rh.c,rh.d],rR=(e,t,r)=>e.run(()=>{const n=Dz.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),oR=new et("NavParamsToken"),Ez=e=>[{provide:oR,useValue:e},{provide:nR,useFactory:Iz,deps:[oR]}],Iz=e=>new nR(e),Tz=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},xz=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})};function Nv(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&Tz(r,o),i&&xz(r,i),r}}const iR=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),R0=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},sR=(e,t)=>!t||e.stackId!==t.stackId,$z=(e,t)=>{if(!e)return;const r=aR(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},aR=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),lR=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class Bz{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?aR(t):void 0}createView(t,r){const n=R0(this.router,r),o=t?.location?.nativeElement,i=rR(this.zone,t.instance,o);return{id:this.nextId++,stackId:$z(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=R0(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=sR(t,s);a&&(n="back",o=void 0);const l=this.views.slice();let c;const d=this.router;d.getCurrentNavigation?c=d.getCurrentNavigation():d.navigations?.value&&(c=d.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const p=this.views.includes(t),m=this.insertView(t,n);p||t.ref.changeDetectorRef.detectChanges();const _=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==_&&(i=_),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>Vz(t,m,l,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&cR(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(lR),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?iR(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):iR(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=r?r.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==c&&c.appendChild(a),c.commit)?c.commit(a,l,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,O.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const Vz=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{cR(e,t,r,n,o),i()})}):Promise.resolve(),cR=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(lR)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let uR=(()=>{class e{constructor(r,n,o,i,s,a,l,c){this.parentOutlet=c,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new lo(null),this.activated=null,this._activatedRoute=null,this.name=vn,this.stackWillChange=new tn,this.stackDidChange=new tn,this.activateEvents=new tn,this.deactivateEvents=new tn,this.parentContexts=ot(Iu),this.location=ot(as),this.environmentInjector=ot(ri),this.inputBinder=ot(dR,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=ot(uh),this.navCtrl=ot(lf),this.nativeEl=i.nativeElement,this.name=r||vn,this.tabsPrefix="true"===n?R0(s,l):void 0,this.stackCtrl=new Bz(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,g8.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new lo(null),d=this.createActivatedRouteProxy(c,r),p=new jz(d,l,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:p,environmentInjector:n??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,d),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:sR(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new hl;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(Aa(o=>!!o),Wr(o=>this.currentActivatedRoute$.pipe(Aa(i=>null!==i&&i.component===o),Wr(i=>i&&i.activatedRoute[n]),Gs())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(yc("name"),yc("tabs"),v(kc),v(nt),v(jo),v(Ge),v(hl),v(e,12))},e.\u0275dir=xt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class jz{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===hl?this.route:t===Iu?this.childContexts:this.parent.get(t,r)}}const dR=new et("");let Uz=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=iv([n.queryParams,n.params,n.data]).pipe(Wr(([i,s,a],l)=>(a={...i,...s,...a},0===l?Pt(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=gx(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();function Gz(e){return e?.componentInputBindingEnabled?new Uz:null}const zz=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Wz=(()=>{let e=class{constructor(r,n,o,i,s,a){this.routerOutlet=r,this.navCtrl=n,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}};return e.\u0275fac=function(r){return new(r||e)(v(uR,8),v(lf),v(uh),v(nt),v(Ge),v(at))},e.\u0275dir=xt({type:e,hostBindings:function(r,n){1&r&&Le("click",function(i){return n.onClick(i)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),e=re([Nv({inputs:zz})],e),e})();const Kz=["animated","animation","root","rootParams","swipeGesture"],Yz=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Xz=(()=>{let e=class{constructor(r,n,o,i,s,a){this.z=s,a.detach(),this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),((e,t,r)=>{r.forEach(n=>e[n]=wv(t,n))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(v(nt),v(ri),v(Vr),v(dh),v(Ge),v(at))},e.\u0275dir=xt({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),e=re([Nv({inputs:Kz,methods:Yz})],e),e})(),Qz=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new tn,this.ionTabsDidChange=new tn,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(v(lf))},e.\u0275dir=xt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,n){if(1&r&&xc(yz,7,nt),2&r){let o;Ps(o=Os())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&Le("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),e})();const fR=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let fh=(()=>{class e{constructor(r,n){this.injector=r,this.elementRef=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,cf(this.elementRef)}handleValueChange(r,n){r===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),cf(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),cf(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(Kl)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>cf(this.elementRef)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),cf(this.elementRef)}}})}}return e.\u0275fac=function(r){return new(r||e)(v(Vr),v(nt))},e.\u0275dir=xt({type:e,hostBindings:function(r,n){1&r&&Le("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const cf=e=>{fR(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=Jz(t);P0(t,n);const o=t.closest("ion-item");o&&P0(o,r?[...n,"item-has-value"]:n)})},Jz=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&e7(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},P0=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},e7=(e,t)=>e.substring(0,t.length)===t;class t7{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}class ph{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}var O0=b(2723),n7=(b(8044),b(5444),b(5922),b(4923),b(5194)),N0=b(2984),hh=(b(4656),b(7261)),r7=(b(6940),b(3426));b(4967);const i7=n7.i,vt=["*"],a7=["outlet"],l7=[[["","slot","top"]],"*"],c7=["[slot=top]","*"];let uf=(()=>{class e extends fh{constructor(r,n){super(r,n)}writeValue(r){this.elementRef.nativeElement.checked=this.lastValue=r,cf(this.elementRef)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(v(Vr),v(nt))},e.\u0275dir=xt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&Le("ionChange",function(i){return n._handleIonChange(i.target)})},features:[ar([{provide:Vi,useExisting:e,multi:!0}]),hn]}),e})(),mh=(()=>{class e extends fh{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(v(Vr),v(nt))},e.\u0275dir=xt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&Le("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[ar([{provide:Vi,useExisting:e,multi:!0}]),hn]}),e})(),Jl=(()=>{class e extends fh{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(v(Vr),v(nt))},e.\u0275dir=xt({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(r,n){1&r&&Le("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[ar([{provide:Vi,useExisting:e,multi:!0}]),hn]}),e})();const h7=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)},configurable:!0})})},m7=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},dr=(e,t,r)=>{r.forEach(n=>e[n]=wv(t,n))};function _t(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&h7(r,o),i&&m7(r,i),r}}let pR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-app"]],ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({})],e),e})(),Ui=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,dr(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),Hi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["collapse"]})],e),e})(),hR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,dr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Gi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,dr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),zi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["collapse","mode","translucent"]})],e),e})(),Uo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),ec=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,dr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Co=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),Fv=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),Lv=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,dr(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["side"]})],e),e})(),$v=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,dr(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),Wi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["color","mode","position"]})],e),e})(),Fs=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),F0=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,dr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),gh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,dr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),vh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["disabled","value"]})],e),e})(),yh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["color","duration","name","paused"]})],e),e})(),Bv=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),mR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),Zi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["color","size"]})],e),e})(),_h=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,dr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),qi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(at),v(nt),v(Ge))},e.\u0275cmp=qe({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e=re([_t({inputs:["color","mode"]})],e),e})(),bh=(()=>{class e extends uR{constructor(r,n,o,i,s,a,l,c){super(r,n,o,i,s,a,l,c),this.parentOutlet=c}}return e.\u0275fac=function(r){return new(r||e)(yc("name"),yc("tabs"),v(kc),v(nt),v(jo),v(Ge),v(hl),v(e,12))},e.\u0275dir=xt({type:e,selectors:[["ion-router-outlet"]],features:[hn]}),e})(),gR=(()=>{class e extends Qz{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Br(e)))(n||e)}})(),e.\u0275cmp=qe({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(Fd(o,Bv,5),Fd(o,Bv,4)),2&r){let i;Ps(i=Os())&&(n.tabBar=i.first),Ps(i=Os())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&xc(a7,5,bh),2&r){let o;Ps(o=Os())&&(n.outlet=o.first)}},features:[hn],ngContentSelectors:c7,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&(pt(l7),ft(0),V(1,"div",0,1)(3,"ion-router-outlet",2,3),Le("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),N()(),ft(5,1))},dependencies:[bh],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),vR=(()=>{class e extends Wz{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(v(bh,8),v(lf),v(uh),v(nt),v(Ge),v(at))},e.\u0275cmp=qe({type:e,selectors:[["ion-back-button"]],features:[hn],ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e})(),L0=(()=>{class e extends Xz{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(v(nt),v(ri),v(Vr),v(dh),v(Ge),v(at))},e.\u0275cmp=qe({type:e,selectors:[["ion-nav"]],features:[hn],ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(pt(),ft(0))},encapsulation:2,changeDetection:0}),e})();const bW={provide:si,useExisting:Fn(()=>yR),multi:!0};let yR=(()=>{class e extends I0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Br(e)))(n||e)}})(),e.\u0275dir=xt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&ks("max",n._enabled?n.max:null)},features:[ar([bW]),hn]}),e})();const CW={provide:si,useExisting:Fn(()=>_R),multi:!0};let _R=(()=>{class e extends T0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Br(e)))(n||e)}})(),e.\u0275dir=xt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&ks("min",n._enabled?n.min:null)},features:[ar([CW]),hn]}),e})(),$0=(()=>{class e extends ph{constructor(){super(hh.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ch=(()=>{class e extends ph{constructor(){super(hh.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ls=(()=>{class e extends ph{constructor(){super(hh.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),us=(()=>{class e extends ph{constructor(){super(hh.m),this.angularDelegate=ot(dh),this.injector=ot(Vr),this.environmentInjector=ot(ri)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();class tc extends ph{constructor(){super(hh.c),this.angularDelegate=ot(dh),this.injector=ot(Vr),this.environmentInjector=ot(ri)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const SW=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,N0.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function o7(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(b.e(6748).then(b.t.bind(b,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(b.e(2214).then(b.t.bind(b,7386,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return i7(),(0,r7.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:fR,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}}))}};let Uc=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:tR,useValue:r},{provide:Pp,useFactory:SW,multi:!0,deps:[tR,ii,Ge]},{provide:dR,useFactory:Gz,deps:[jo]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({providers:[dh,us,tc],imports:[dl]}),e})();function bR(e,t){(function wW(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function B0(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function Sh(e){return(Sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ro(e,t,r){return(t=function EW(e){var t=function DW(e,t){if("object"!==Sh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Sh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Sh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let Ru={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function CR(e){Ru=e}const SR=/[&<>"']/,IW=new RegExp(SR.source,"g"),wR=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,TW=new RegExp(wR.source,"g"),xW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},DR=e=>xW[e];function $s(e,t){if(t){if(SR.test(e))return e.replace(IW,DR)}else if(wR.test(e))return e.replace(TW,DR);return e}const MW=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,kW=/(^|[^\[])\^/g;function pr(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o="object"==typeof o&&"source"in o?o.source:o).replace(kW,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}function ER(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Vv={exec:()=>null};function IR(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function jv(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function TR(e,t,r,n){const o=t.href,i=t.title?$s(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:$s(s)}}class Uv{constructor(t){ro(this,"options",void 0),ro(this,"rules",void 0),ro(this,"lexer",void 0),this.options=t||Ru}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:jv(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function PW(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=jv(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=jv(r[0].replace(/^ *>[ \t]?/gm,""),"\n"),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;t;){let d=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let p=r[2].split("\n",1)[0].replace(/^\t+/,we=>" ".repeat(3*we.length)),m=t.split("\n",1)[0],_=0;this.options.pedantic?(_=2,l=p.trimStart()):(_=r[2].search(/[^ ]/),_=_>4?1:_,l=p.slice(_),_+=r[1].length);let U=!1;if(!p&&/^ *$/.test(m)&&(a+=m+"\n",t=t.substring(m.length+1),d=!0),!d){const we=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Ae=new RegExp(`^ {0,${Math.min(3,_-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),mt=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:\`\`\`|~~~)`),ht=new RegExp(`^ {0,${Math.min(3,_-1)}}#`);for(;t;){const Ut=t.split("\n",1)[0];if(m=Ut,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),mt.test(m)||ht.test(m)||we.test(m)||Ae.test(t))break;if(m.search(/[^ ]/)>=_||!m.trim())l+="\n"+m.slice(_);else{if(U||p.search(/[^ ]/)>=4||mt.test(p)||ht.test(p)||Ae.test(p))break;l+="\n"+m}!U&&!m.trim()&&(U=!0),a+=Ut+"\n",t=t.substring(Ut.length+1),p=m.slice(_)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let ge,Y=null;this.options.gfm&&(Y=/^\[[ xX]\] /.exec(l),Y&&(ge="[ ] "!==Y[0],l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!Y,checked:ge,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let d=0;d<i.items.length;d++)if(this.lexer.state.top=!1,i.items[d].tokens=this.lexer.blockTokens(i.items[d].text,[]),!i.loose){const p=i.items[d].tokens.filter(_=>"space"===_.type),m=p.length>0&&p.some(_=>/\n.*\n/.test(_.raw));i.loose=m}if(i.loose)for(let d=0;d<i.items.length;d++)i.items[d].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){if(!/[:|]/.test(r[2]))return;const n={type:"table",raw:r[0],header:IR(r[1]).map(o=>({text:o,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){let i,s,a,l,o=n.align.length;for(i=0;i<o;i++){const c=n.align[i];c&&(n.align[i]=/^ *-+: *$/.test(c)?"right":/^ *:-+: *$/.test(c)?"center":/^ *:-+ *$/.test(c)?"left":null)}for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=IR(n.rows[i],n.header.length).map(c=>({text:c,tokens:[]}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(l=n.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:$s(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=jv(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function RW(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}(r[2],"()");if(s>-1){const l=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),TR(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return TR(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){const s=[...o[0]].length-1;let a,l,c=s,d=0;const p="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(p.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=p.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){d+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+d);const m=[...o[0]][0].length,_=t.slice(0,s+o.index+m+l);if(Math.min(s,l)%2){const Y=_.slice(1,-1);return{type:"em",raw:_,text:Y,tokens:this.lexer.inlineTokens(Y)}}const U=_.slice(2,-2);return{type:"strong",raw:_,text:U,tokens:this.lexer.inlineTokens(U)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=$s(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,o;return"@"===r[2]?(n=$s(r[1]),o="mailto:"+n):(n=$s(r[1]),o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,o;if("@"===r[2])n=$s(r[0]),o="mailto:"+n;else{let i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=$s(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:$s(r[0]),{type:"text",raw:r[0],text:n}}}}const zt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Vv,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};zt.def=pr(zt.def).replace("label",zt._label).replace("title",zt._title).getRegex(),zt.bullet=/(?:[*+-]|\d{1,9}[.)])/,zt.listItemStart=pr(/^( *)(bull) */).replace("bull",zt.bullet).getRegex(),zt.list=pr(zt.list).replace(/bull/g,zt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+zt.def.source+")").getRegex(),zt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",zt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,zt.html=pr(zt.html,"i").replace("comment",zt._comment).replace("tag",zt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),zt.lheading=pr(zt.lheading).replace(/bull/g,zt.bullet).getRegex(),zt.paragraph=pr(zt._paragraph).replace("hr",zt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zt._tag).getRegex(),zt.blockquote=pr(zt.blockquote).replace("paragraph",zt.paragraph).getRegex(),zt.normal={...zt},zt.gfm={...zt.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},zt.gfm.table=pr(zt.gfm.table).replace("hr",zt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zt._tag).getRegex(),zt.gfm.paragraph=pr(zt._paragraph).replace("hr",zt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",zt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zt._tag).getRegex(),zt.pedantic={...zt.normal,html:pr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",zt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Vv,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:pr(zt.normal._paragraph).replace("hr",zt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",zt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const It={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Vv,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Vv,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};It.punctuation=pr(It.punctuation,"u").replace(/punctuation/g,It._punctuation).getRegex(),It.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,It.anyPunctuation=/\\[punct]/g,It._escapes=/\\([punct])/g,It._comment=pr(zt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),It.emStrong.lDelim=pr(It.emStrong.lDelim,"u").replace(/punct/g,It._punctuation).getRegex(),It.emStrong.rDelimAst=pr(It.emStrong.rDelimAst,"gu").replace(/punct/g,It._punctuation).getRegex(),It.emStrong.rDelimUnd=pr(It.emStrong.rDelimUnd,"gu").replace(/punct/g,It._punctuation).getRegex(),It.anyPunctuation=pr(It.anyPunctuation,"gu").replace(/punct/g,It._punctuation).getRegex(),It._escapes=pr(It._escapes,"gu").replace(/punct/g,It._punctuation).getRegex(),It._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,It._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,It.autolink=pr(It.autolink).replace("scheme",It._scheme).replace("email",It._email).getRegex(),It._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,It.tag=pr(It.tag).replace("comment",It._comment).replace("attribute",It._attribute).getRegex(),It._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,It._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,It._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,It.link=pr(It.link).replace("label",It._label).replace("href",It._href).replace("title",It._title).getRegex(),It.reflink=pr(It.reflink).replace("label",It._label).replace("ref",zt._label).getRegex(),It.nolink=pr(It.nolink).replace("ref",zt._label).getRegex(),It.reflinkSearch=pr(It.reflinkSearch,"g").replace("reflink",It.reflink).replace("nolink",It.nolink).getRegex(),It.normal={...It},It.pedantic={...It.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:pr(/^!?\[(label)\]\((.*?)\)/).replace("label",It._label).getRegex(),reflink:pr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",It._label).getRegex()},It.gfm={...It.normal,escape:pr(It.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},It.gfm.url=pr(It.gfm.url,"i").replace("email",It.gfm._extended_email).getRegex(),It.breaks={...It.gfm,br:pr(It.br).replace("{2,}","*").getRegex(),text:pr(It.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class yl{constructor(t){ro(this,"tokens",void 0),ro(this,"options",void 0),ro(this,"state",void 0),ro(this,"tokenizer",void 0),ro(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ru,this.options.tokenizer=this.options.tokenizer||new Uv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:zt.normal,inline:It.normal};this.options.pedantic?(r.block=zt.pedantic,r.inline=It.pedantic):this.options.gfm&&(r.block=zt.gfm,r.inline=this.options.breaks?It.breaks:It.gfm),this.tokenizer.rules=r}static get rules(){return{block:zt,inline:It}}static lex(t,r){return new yl(r).lex(t)}static lexInline(t,r){return new yl(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(d=>{c=d.call({lexer:this},l),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,l,c,s=t;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>!!(n=d.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,c)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const p=t.slice(1);let m;this.options.extensions.startInline.forEach(_=>{m=_.call({lexer:this},p),"number"==typeof m&&m>=0&&(d=Math.min(d,m))}),d<1/0&&d>=0&&(i=t.substring(0,d+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(c=n.raw.slice(-1)),l=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}return r}}class Pu{constructor(t){ro(this,"options",void 0),this.options=t||Ru}code(t,r,n){const o=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="language-'+$s(o)+'">'+(n?t:$s(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:$s(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>\n`}hr(){return"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t,r,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const o=ER(t);if(null===o)return n;let i='<a href="'+(t=o)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const o=ER(t);if(null===o)return n;let i=`<img src="${t=o}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class j0{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class _l{constructor(t){ro(this,"options",void 0),ro(this,"renderer",void 0),ro(this,"textRenderer",void 0),this.options=t||Ru,this.options.renderer=this.options.renderer||new Pu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new j0}static parse(t,r){return new _l(r).parse(t)}static parseInline(t,r){return new _l(r).parseInline(t)}parse(t,r=!0){let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,this.parseInline(s.tokens,this.textRenderer).replace(MW,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""));continue}case"code":n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue;case"table":{const s=i;let a="",l="";for(let d=0;d<s.header.length;d++)l+=this.renderer.tablecell(this.parseInline(s.header[d].tokens),{header:!0,align:s.align[d]});a+=this.renderer.tablerow(l);let c="";for(let d=0;d<s.rows.length;d++){const p=s.rows[d];l="";for(let m=0;m<p.length;m++)l+=this.renderer.tablecell(this.parseInline(p[m].tokens),{header:!1,align:s.align[m]});c+=this.renderer.tablerow(l)}n+=this.renderer.table(a,c);continue}case"blockquote":{const a=this.parse(i.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,l=s.start,c=s.loose;let d="";for(let p=0;p<s.items.length;p++){const m=s.items[p],_=m.checked,U=m.task;let Y="";if(m.task){const ge=this.renderer.checkbox(!!_);c?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=ge+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=ge+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:ge+" "}):Y+=ge+" "}Y+=this.parse(m.tokens,c),d+=this.renderer.listitem(Y,U,!!_)}n+=this.renderer.list(d,a,l);continue}case"html":n+=this.renderer.html(i.text,i.block);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(i.tokens));continue;case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<t.length&&"text"===t[o+1].type;)s=t[++o],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class wh{constructor(t){ro(this,"options",void 0),this.options=t||Ru}preprocess(t){return t}postprocess(t){return t}}ro(wh,"passThroughHooks",new Set(["preprocess","postprocess"]));var U0=new WeakSet,xR=new WeakSet;function MR(e,t){return(r,n)=>{const o={...n},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const s=B0(this,xR,NW).call(this,!!i.silent,!!i.async);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));const a=e(r,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=t(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return s(a)}}}function NW(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const n="<p>An error occurred:</p><pre>"+$s(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}const Ou=new class OW{constructor(...t){bR(this,xR),bR(this,U0),ro(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),ro(this,"options",this.setOptions),ro(this,"parse",B0(this,U0,MR).call(this,yl.lex,_l.parse)),ro(this,"parseInline",B0(this,U0,MR).call(this,yl.lexInline,_l.parseInline)),ro(this,"Parser",_l),ro(this,"Renderer",Pu),ro(this,"TextRenderer",j0),ro(this,"Lexer",yl),ro(this,"Tokenizer",Uv),ro(this,"Hooks",wh),this.use(...t)}walkTokens(t,r){let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const i=o;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":n=n.concat(this.walkTokens(o.items,r));break;default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{n=n.concat(this.walkTokens(i[s],r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];r.renderers[i.name]=s?function(...a){let l=i.renderer.apply(this,a);return!1===l&&(l=s.apply(this,a)),l}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&("block"===i.level?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:"inline"===i.level&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){const i=this.defaults.renderer||new Pu(this.defaults);for(const s in n.renderer){const a=n.renderer[s],c=i[s];i[s]=(...d)=>{let p=a.apply(i,d);return!1===p&&(p=c.apply(i,d)),p||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new Uv(this.defaults);for(const s in n.tokenizer){const a=n.tokenizer[s],c=i[s];i[s]=(...d)=>{let p=a.apply(i,d);return!1===p&&(p=c.apply(i,d)),p}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new wh;for(const s in n.hooks){const a=n.hooks[s],c=i[s];i[s]=wh.passThroughHooks.has(s)?d=>{if(this.defaults.async)return Promise.resolve(a.call(i,d)).then(m=>c.call(i,m));const p=a.call(i,d);return c.call(i,p)}:(...d)=>{let p=a.apply(i,d);return!1===p&&(p=c.apply(i,d)),p}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return yl.lex(t,r??this.defaults)}parser(t,r){return _l.parse(t,r??this.defaults)}};function or(e,t){return Ou.parse(e,t)}or.options=or.setOptions=function(e){return Ou.setOptions(e),CR(or.defaults=Ou.defaults),or},or.getDefaults=function V0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},or.defaults=Ru,or.use=function(...e){return Ou.use(...e),CR(or.defaults=Ou.defaults),or},or.walkTokens=function(e,t){return Ou.walkTokens(e,t)},or.parseInline=Ou.parseInline,or.Parser=_l,or.parser=_l.parse,or.Renderer=Pu,or.TextRenderer=j0,or.Lexer=yl,or.lexer=yl.lex,or.Tokenizer=Uv,or.Hooks=wh,or.parse=or;class FW extends dt{constructor(t,r){super()}schedule(t,r=0){return this}}const Hv={setInterval(e,t,...r){const{delegate:n}=Hv;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=Hv;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},H0={now:()=>(H0.delegate||Date).now(),delegate:void 0};class Dh{constructor(t,r=Dh.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}Dh.now=H0.now;const BW=new class $W extends Dh{constructor(t,r=Dh.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class LW extends FW{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return Hv.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&Hv.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Qe(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class UW extends In{constructor(t=1/0,r=1/0,n=H0){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}const GW=["*"];let AR=(()=>{var e;class t{constructor(){this._buttonClick$=new In,this.copied$=this._buttonClick$.pipe(Wr(()=>ha(Pt(!0),function jW(e=0,t,r=BW){let n=-1;return null!=t&&(ca(t)?r=t:n=t),new kn(o=>{let i=function VW(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(jM(!1)))),Gs(),function HW(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,ma({connector:()=>new UW(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(BM(!1),Qt(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[Sg],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(V(0,"button",0),Le("click",function(){return o.onCopyToClipboardClick()}),ll(1,"async"),Se(2),ll(3,"async"),N()),2&n&&(Js("copied",cl(1,3,o.copied$)),he(2),Fi(cl(3,5,o.copiedText$)))},dependencies:[$x],encapsulation:2,changeDetection:0}),t})();const ZW=new et("CLIPBOARD_OPTIONS");var G0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(G0||{});const kR=new et("MARKED_EXTENSIONS"),RR=new et("MARKED_OPTIONS"),PR=new et("SECURITY_CONTEXT");let z0=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,l,c){this.clipboardOptions=n,this.extensions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new Pu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new In,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,d={...this.options,...o.markedOptions},p=d.renderer||this.renderer||new Pu;this.extensions&&(this.renderer=this.extendsRendererForExtensions(p)),l&&(this.renderer=this.extendsRendererForMermaid(p));const m=this.trimIndentation(n),_=i?this.decodeHtml(m):m,U=a?this.parseEmoji(_):_,Y=this.parseMarked(U,d,s);return(c?Y:this.sanitizer.sanitize(this.securityContext,Y))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:d,mermaidOptions:p}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),l&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...c}),d&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...p}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(Qt(o=>this.handleExtension(n,o)))}highlight(n){if(!Ud(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!Ud(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendsRendererForExtensions(n){const o=n;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&or.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return n;const i=n.code;return n.code=function(s,a,l){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,l)},o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),d=c>-1?l.substring(c+1):"";return d&&"md"!==d?"```"+d+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return o.renderer&&(or.use({renderer:o.renderer}),delete o.renderer),i?or.parseInline(n,o):or.parse(n,o)}parseEmoji(n){if(!Ud(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(Ud(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!Ud(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=n.querySelectorAll("pre");for(let c=0;c<l.length;c++){const d=l.item(c),p=document.createElement("div");p.style.position="relative",d.parentNode.insertBefore(p,d),p.appendChild(d);const m=document.createElement("div");let _,U;m.style.position="absolute",m.style.top=".5em",m.style.right=".5em",m.style.opacity="0",m.style.transition="opacity 250ms ease-out",p.insertAdjacentElement("beforeend",m),d.onmouseover=()=>m.style.opacity="1",d.onmouseout=()=>m.style.opacity="0",_=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(AR).hostView,_.rootNodes.forEach(Y=>{Y.onmouseover=()=>m.style.opacity="1",m.appendChild(Y),U=new ClipboardJS(Y,{text:()=>d.innerText})}),_.onDestroy(()=>U.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!Ud(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(se(ZW,8),se(kR,8),se(RR,8),se(Sc),se(PR),se(IC,8),se(SC))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),W0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new tn,this.load=new tn,this.ready=new tn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new In}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(UM(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){var i=this;return(0,O.Z)(function*(){const s={decodeHtml:o,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},a={clipboard:i.clipboard,clipboardOptions:{buttonComponent:i.clipboardButtonComponent,buttonTemplate:i.clipboardButtonTemplate},katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},l=yield i.markdownService.parse(n,s);i.element.nativeElement.innerHTML=l,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,a,i.viewContainerRef),i.ready.emit()})()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n).then(()=>{this.load.emit(n)})},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,G0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,G0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(v(nt),v(z0),v(as))},e.\u0275cmp=qe({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[ni,Sg],ngContentSelectors:GW,decls:1,vars:0,template:function(n,o){1&n&&(pt(),ft(0))},encapsulation:2}),t})();function n9(e){return[z0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:kR,useValue:e?.markedExtensions??[]},{provide:PR,useValue:e?.sanitize??Ms.HTML}]}let Z0=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[n9(n)]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({imports:[dl]}),t})();var OR;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(OR||(OR={}));const Eh="safari"in window,So=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,NR=So&&!navigator.userAgent.match(/(crios)|(fxios)/i),bl=!!navigator.userAgent.match(/pwashell/i),q0=!!navigator.userAgent.match(/android/i),r9=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var nc=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(nc||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const s9=new Error("request for lock canceled");class l9{constructor(t,r=s9){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(d){try{c(n.next(d))}catch(p){s(p)}}function l(d){try{c(n.throw(d))}catch(p){s(p)}}function c(d){d.done?i(d.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class oa{constructor(t){this._semaphore=new l9(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(d){try{c(n.next(d))}catch(p){s(p)}}function l(d){try{c(n.throw(d))}catch(p){s(p)}}function c(d){d.done?i(d.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const df=function f9(){if(!bl)return 0;const e=navigator.userAgent.match(/cpe-native-api-(\d+)/);if(!e)return 0;const t=parseInt(e[1],10);return isNaN(t)?0:t}(),K0=new ur.j;df>0&&(window.__cpeCallFromNative=e=>K0.dispatch(e));let Bs=(()=>{var e;class t{constructor(){this.netRpcResult=new ur.j,this.onNativeMessage=n=>{"netRpcResult"===n.type?this.netRpcResult.dispatch({sessionId:n.sessionId,rpcData:new Uint8Array(n.rpcData)}):console.error("unhandled native message",n)},K0.addHandler(this.onNativeMessage)}ngOnDestroy(){K0.removeHandler(this.onNativeMessage)}netOpenSession(){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netOpenSession"})}netCloseSession(n){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netCloseSession",sessionId:n})}netDispatchRpc(n,o){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netDispatchRpc",sessionId:n,rpcData:Array.from(o)}).then(i=>!!i)}clipboardRead(){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardRead"})}clipboardWrite(n){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardWrite",data:n})}isResumeFromBackground(){return void 0!==window.__cpeLastResume&&Date.now()-window.__cpeLastResume<=3e3}setWorkerRegistered(n){return(0,O.Z)(function*(){df>2&&(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"setWorkerRegistered",workerRegistered:n}))})()}getWorkerFailed(){return(0,O.Z)(function*(){return!(df<3||!(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"getWorkerFailed"})))})()}clearWorkerFailed(){df>2&&window.webkit.messageHandlers.nativeCall.postMessage({type:"clearWorkerFailed"})}assertNativeNetworkIntegrationSupported(){if(!t.supportsNativeNetworkIntegration())throw new Error("native network integration not supported")}assertNativeClipboardSupported(){if(!t.supportsNativeClipboard())throw new Error("native clipboard is not supported")}static supportsNativeNetworkIntegration(){return bl&&df>0}static supportsNativeClipboard(){return bl&&df>1}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const ia={production:!0,dbName:"cloudpilot",debug:!1};function Gv(e){return e+(ia.localStorageSuffix?`-${ia.localStorageSuffix}`:"")}function LR(e){return localStorage.getItem(Gv(e))}function $R(e){return localStorage.getItem(Gv(e))??localStorage.getItem(e)}function Y0(e,t){localStorage.setItem(Gv(e),t)}const zv="cloudpilot-session";function BR(){!function p9(e){localStorage.removeItem(Gv(e))}(zv)}function An(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,O.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let rc=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var ff;class VR{constructor(t){this.markup=t}}class Pr{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new ur.j,this.sanitizeDiv=document.createElement("div")}verbatim(t){return new VR(t)}errorMessage(t,r="Close"){var n=this;return(0,O.Z)(function*(){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(t),buttons:[{text:r,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()})()}message(t,r,n={},o="Close"){var i=this;return(0,O.Z)(function*(){const s=yield i.alertController.create({header:t,message:i.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:o,role:"cancel"},...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}}))],cssClass:"alert-message"});yield s.present(),yield s.onDidDismiss()})()}messageWithChoice(t,r,n,o,i={},s="Close"){var a=this;return(0,O.Z)(function*(){const l=yield a.alertController.create({header:t,message:a.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:s,role:"cancel"},...Object.keys(i).map(c=>({text:c,handler:()=>{i[c](),l.dismiss()}}))],inputs:[{type:"checkbox",label:n,checked:!1,handler:c=>o=!0===c.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border alert-message"});return yield l.present(),yield l.onDidDismiss(),o})()}updateAvailable(t){var r=this;return(0,O.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,O.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,O.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:r.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}snapshotTimeout(){var t=this;return(0,O.Z)(function*(){yield t.message("Timeout while saving state","Your browser's IndexedDB is either slow to respond or has crashed. You can either retry or reload CloudpilotEmu.",{Reload:()=>window.location.reload()},"Retry")})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new N0.I(t instanceof VR?t.markup:t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(r=>(this.sanitizeDiv.textContent=r,this.sanitizeDiv.innerHTML)).join("<br/>"))}}(ff=Pr).\u0275fac=function(t){return new(t||ff)(se($0),se(rc))},ff.\u0275prov=$e({token:ff,factory:ff.\u0275fac,providedIn:"root"}),re([An()],Pr.prototype,"updateAvailable",null),re([An()],Pr.prototype,"fatalError",null),re([An()],Pr.prototype,"errorInNativeCode",null),re([An()],Pr.prototype,"snapshotTimeout",null);let Nu=(()=>{var e;class t{constructor(n,o,i){this.alertService=n,this.nativeAppService=o,this.ngZone=i,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>{this.nativeAppService.isResumeFromBackground()?window.location.reload():this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1)},this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=s=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${s}.`),this.fatalInNativeCode=s=>this.fatalWithMessage(s.message,!0,!1),this.fatalWithMessage=(s,a=!0,l=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,a&&BR(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(s,l))}),this.fatalErrorEvent=new ur.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Pr),se(Bs),se(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Sr=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Sr||{});let Ih=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??Sr.none}claim(n,o){this.assertOwnership(n,Sr.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===Sr.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Nu))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Hc="session",pf="rom",Gc="memory",oc="state",Wv="kvs",zc="memory-meta",Cl="storage",Vs="storage-card",Th="lock";class Fu extends Error{constructor(t){super(t)}}function Wn(e){return new Promise((t,r)=>{!function y9(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new Fu(e.error?.message))})}function UR(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function _9(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const Zv="session",Q0="memory",GR="storage-meta",zR="storage-card";function J0(){return(J0=(0,O.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(Zv).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+r(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function eS(){return(eS=(0,O.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function tS(){return(tS=(0,O.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(GR,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(Zv).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(r.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function nS(){return(nS=(0,O.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(GR).name=zR})).apply(this,arguments)}function rS(){return(rS=(0,O.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(zR).createIndex("storageId","storageId")})).apply(this,arguments)}function oS(){return(oS=(0,O.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const P9=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function WR(e){let t=-1;for(let r=0;r<e.length;r++)t=P9[255&(t^e[r])]^t>>>8;return~t}var O9=b(3219),N9=b.n(O9);const ZR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let qv;const F9=new Uint8Array(16);function L9(){if(!qv&&(qv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qv(F9)}const mi=[];for(let e=0;e<256;++e)mi.push((e+256).toString(16).slice(1));const KR=function $9(e,t,r){if(ZR.randomUUID&&!t&&!e)return ZR.randomUUID();const n=(e=e||{}).random||(e.rng||L9)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function qR(e,t=0){return mi[e[t+0]]+mi[e[t+1]]+mi[e[t+2]]+mi[e[t+3]]+"-"+mi[e[t+4]]+mi[e[t+5]]+"-"+mi[e[t+6]]+mi[e[t+7]]+"-"+mi[e[t+8]]+mi[e[t+9]]+"-"+mi[e[t+10]]+mi[e[t+11]]+mi[e[t+12]]+mi[e[t+13]]+mi[e[t+14]]+mi[e[t+15]]}(n)};var hf;const iS=new Error("page lock lost"),YR=new Error("version mismatch"),XR=KR();function wo(){return(e,t,r)=>{const n=r.value;return r.value=(0,O.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw console.error(s),s instanceof Fu?i.fatalIDBDead():s===YR?i.fatalVersionMismatch():s===iS?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class Xn{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Gc),l=o.objectStore(zc),c=new Uint32Array(256),d=new Uint8Array(c.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const m=s.length>>>10;for(let _=0;_<m;_++){d.set(s.subarray(1024*_,1024*(_+1)));const U=UR(c);if("number"==typeof U)a.put(U,[i,_]);else{const Y=new Uint32Array(256);Y.set(U),a.put(Y,[i,_])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,O.Z)(function*(){const a=o.objectStore(zc),l=yield Wn(a.get(i));if(!l)return;const c=yield new Promise(function(){var d=(0,O.Z)(function*(p,m){const _=o.objectStore(Gc),U=new Uint32Array(l.totalSize>>>2),Y=_.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));Y.onsuccess=()=>{const ge=Y.result;if(!ge)return p(new Uint8Array(U.buffer));const we=ge.value,[,Ae]=ge.key;"number"==typeof we?U.subarray(256*Ae,256*(Ae+1)).fill(we|we<<8|we<<16|we<<24):U.subarray(256*Ae,256*(Ae+1)).set(1024===we.length?new Uint32Array(we.buffer):we),ge.continue()},Y.onerror=()=>m(new Fu(Y.error?.message))});return function(p,m){return d.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&ia.debug&&l.crc32!==WR(c))throw new Error("snapshot CRC mismatch");return c})),this.sessionChangeEvent=new ur.j,this.storageCardChangeEvent=new ur.j,this.sessionUpdateMutex=new oa,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,O.Z)(function*(){const s=N9()(r),a=yield i.newTransaction(Hc,pf,oc,Gc,zc),l=a.objectStore(Hc),c=a.objectStore(pf);(yield Wn(c.get(s)))||c.put(r,s);const{id:p,...m}=t,_=yield Wn(l.add({...m,rom:s})),U=yield Wn(l.get(_));return n&&i.saveMemory(a,U.id,n),o&&i.saveState(a,U.id,o),yield Wn(a),U})()}getAllSessions(){var t=this;return(0,O.Z)(function*(){const[r]=yield t.prepareObjectStore(Hc);return yield Wn(r.getAll())})()}getSession(t){var r=this;return(0,O.Z)(function*(){const[n]=yield r.prepareObjectStore(Hc);return yield Wn(n.get(t))})()}deleteSession(t){var r=this;return(0,O.Z)(function*(){const n=yield r.newTransaction(Hc,pf,oc,Gc,zc),o=n.objectStore(Hc),i=n.objectStore(pf);(t=yield Wn(o.get(t.id)))&&(o.delete(t.id),0===(yield Wn(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield Wn(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,O.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=r,[c,d]=yield n.prepareObjectStore(Hc),p=yield Wn(c.get(t));if(!p)throw new Error(`no session with id ${t}`);const m={...p,...l};c.put(m),yield Wn(d),n.sessionChangeEvent.dispatch([p.id,m])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,O.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Hc),i=yield Wn(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield Wn(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,O.Z)(function*(){const o=yield n.newTransaction(pf,oc,Gc,zc),i=o.objectStore(pf);return[yield Wn(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,O.Z)(function*(){const[n,o]=yield r.prepareObjectStore(oc);n.delete(t.id),yield Wn(o)})()}addEmptyStorageCard(t){var r=this;return(0,O.Z)(function*(){const[n]=yield r.prepareObjectStore(Vs),o=yield Wn(n.add(t)),i=yield Wn(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,O.Z)(function*(){return n.ngZone.runOutsideAngular((0,O.Z)(function*(){const o=yield n.newTransaction(Vs,Cl),i=o.objectStore(Vs),s=o.objectStore(Cl),a=yield Wn(i.add(t)),l=(t.size>>>13)+(r.length%8192==0?0:1),c=new Uint32Array(2048);for(let p=0;p<l;p++){const m=r.subarray(2048*p,2048*(p+1));p===l-1&&c.set(m);const _=_9(p===l-1?c:m);0!==_&&s.put("number"==typeof _?_:_?.slice(),[a,p])}const d=yield Wn(i.get(a));return yield Wn(o),n.storageCardChangeEvent.dispatch(d.id),d}))})()}getAllStorageCards(){var t=this;return(0,O.Z)(function*(){const[r]=yield t.prepareObjectStore(Vs);return Wn(r.getAll())})()}getCard(t){var r=this;return(0,O.Z)(function*(){const[n]=yield r.prepareObjectStore(Vs);return Wn(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,O.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[l,c]=yield n.prepareObjectStore(Vs),d=yield Wn(l.get(t));if(!d)throw new Error(`no card with id ${t}`);const p={...d,...a};l.put(p),yield Wn(c),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,O.Z)(function*(){const n=yield r.newTransaction(Vs,Cl);r.storageCardContext.assertOwnership(t,Sr.none);const o=n.objectStore(Vs),i=n.objectStore(Cl);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield Wn(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,O.Z)(function*(){r.fill(0);const i=yield o.newTransaction(Vs,Cl);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(Cl);yield new Promise(function(){var a=(0,O.Z)(function*(l,c){const d=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));d.onsuccess=()=>{const p=d.result;if(!p)return l();let m=p.value;const[,_]=p.key;"number"==typeof m?r.subarray(2048*_,2048*(_+1)).fill(m):(2048*(_+1)>r.length&&(m=m.subarray(0,2048-2048*(_+1)+r.length)),r.subarray(2048*_,2048*(_+1)).set(m)),p.continue()},d.onerror=()=>c(new Fu(d.error?.message))});return function(l,c){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,O.Z)(function*(){const s=yield i.newTransaction(Vs,Cl);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(Vs),l=s.objectStore(Cl),c=yield Wn(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(r.length!==c.size>>>2)throw new Error("data size mismatch");const d=(c.size>>>13)+(c.size%8192>0?1:0);if((d>>>3)+(d%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let p=0;for(let m=0;m<n.length;m++)for(let _=1;_<256&&!(p>=d);_<<=1)n[m]&_&&l.put(r.subarray(2048*p,2048*(p+1)).slice(),[c.id,p]),p++;yield Wn(s)}))}kvsGet(t){var r=this;return(0,O.Z)(function*(){const[n]=yield r.prepareObjectStore(Wv);return Wn(n.get(t))})()}kvsSet(t){var r=this;return(0,O.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Wv);for(const i of Object.keys(t))n.put(t[i],i);yield Wn(o)})()}kvsLoad(){var t=this;return(0,O.Z)(function*(){const[r]=yield t.prepareObjectStore(Wv);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Fu(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,O.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Wv);n.delete(t),yield Wn(o)})()}acquireLock(t){var r=this;return(0,O.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Wn(t.objectStore(Th).get(0)))!==XR)throw t.abort(),t.db.close(),iS})()}newTransaction(...t){var r=this;return(0,O.Z)(function*(){const n=(yield r.db).transaction([Th,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,O.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore(oc);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore(oc).delete(r)}loadState(t,r){return Wn(t.objectStore(oc).get(r))}deleteMemory(t,r){const n=t.objectStore(Gc),o=t.objectStore(zc);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,O.Z)(function*(){const r=t.transaction(Th,"readwrite");yield Wn(r.objectStore(Th).put(XR,0))})()}setupDb(){var t=this;return(0,O.Z)(function*(){const r=setTimeout(()=>So&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>i.name===ia.dbName);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw YR}const n=yield new Promise((o,i)=>{const s=indexedDB.open(ia.dbName,9);s.onerror=()=>{i(new Fu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new Fu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,O.Z)(function*(l){clearTimeout(r),l.oldVersion<1&&function E9(e){e.createObjectStore(Zv,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function I9(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(Q0)&&e.deleteObjectStore(Q0),t.objectStore(Zv).clear(),e.createObjectStore("rom"),e.createObjectStore(Q0),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function T9(e,t){return J0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function x9(e,t){return eS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function M9(e,t){return tS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function A9(e,t){return nS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function k9(e,t){return rS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function R9(e,t){return oS.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,O.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(hf=Xn).\u0275fac=function(t){return new(t||hf)(se(Ge),se(Nu),se(Ih))},hf.\u0275prov=$e({token:hf,factory:hf.\u0275fac,providedIn:"root"}),re([wo()],Xn.prototype,"addSession",null),re([wo()],Xn.prototype,"getAllSessions",null),re([wo()],Xn.prototype,"getSession",null),re([wo()],Xn.prototype,"deleteSession",null),re([wo()],Xn.prototype,"updateSessionPartial",null),re([wo()],Xn.prototype,"updateSession",null),re([wo()],Xn.prototype,"loadSession",null),re([wo()],Xn.prototype,"deleteStateForSession",null),re([wo()],Xn.prototype,"addEmptyStorageCard",null),re([wo()],Xn.prototype,"importStorageCard",null),re([wo()],Xn.prototype,"getAllStorageCards",null),re([wo()],Xn.prototype,"getCard",null),re([wo()],Xn.prototype,"updateStorageCardPartial",null),re([wo()],Xn.prototype,"deleteStorageCard",null),re([wo()],Xn.prototype,"loadCardData",null),re([wo()],Xn.prototype,"kvsGet",null),re([wo()],Xn.prototype,"kvsSet",null),re([wo()],Xn.prototype,"kvsDelete",null),re([wo()],Xn.prototype,"newTransaction",null),re([wo()],Xn.prototype,"prepareObjectStore",null),re([wo()],Xn.prototype,"initializeLock",null),re([wo()],Xn.prototype,"setupDb",null);const QR={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,networkRedirectionMode:Bs.supportsNativeNetworkIntegration()?"native":"proxy",proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Ii=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,O.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new ur.j,this.mutex=new oa,this.storageMutex=new oa,this.initializationPromise=this.startInitialization().then(()=>this.migrate())}initialize(){var n=this;return(0,O.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialization(){var n=this;return(0,O.Z)(function*(){const o=n;try{const i={...QR,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive((0,O.Z)(function*(){yield o.storageService.kvsSet({[a]:l})})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...QR}}})()}migrate(){var n=this;return(0,O.Z)(function*(){switch(n.kvs.networkRedirectionMode){case"native":Bs.supportsNativeNetworkIntegration()||(yield n.set({networkRedirectionMode:"proxy",networkRedirection:!1}));break;case"proxy":break;default:yield n.set({networkRedirectionMode:"proxy"})}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Xn))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const JR='<a href="https://apps.apple.com/us/app/cloudpilotemu/id6478502699" target="_blank">App Store</a>',j9=`\n    You can install CloudpilotEmu as an app either from the\n    ${JR} or by selecting "Share" and "Add to Home Screen"\n    in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`,H9=`\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app either from the\n    ${JR} or by selecting "Share"\n    and "Add to Home Screen" in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`;let Kv=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,O.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(So||q0)&&this.installationMode===nc.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.alertService.verbatim(this.getInstallMessage()))}invite(){(So||q0||Eh)&&this.installationMode===nc.web&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.alertService.verbatim(this.getInviteMessage()))))}getInstallMessage(){return So?j9:'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return So?H9:Eh?'\n    Howdy! It seems that you are running CloudpilotEmu on a Mac. Safari will delete all\n    data after seven days of inactivity. However, you can click the "Share"\n    icon in the browser toolbar and select "Add to dock" to install\n    CloudpilotEmu as an app.\n    <br><br>\n    This will keep Safari from deleting your\n    data.\n':'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?nc.pwa:document.referrer.startsWith("android-app://")?nc.twa:window.matchMedia("(display-mode: standalone)").matches?nc.pwa:nc.web}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Ii),se(Pr))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function z9(e,t){1&e&&(V(0,"div",5),je(1,"ion-spinner"),N())}let Lu=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(us))},e.\u0275cmp=qe({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3),N(),V(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.modalController.dismiss()}),Se(6,"Close"),N()()()(),V(7,"ion-content",2),$t(8,z9,2,0,"div",3),V(9,"markdown",4),Le("load",function(){return o.loading=!1}),N()()),2&n&&(he(3),Fi(o.title),he(5),Ce("ngIf",o.loading),he(1),Ce("src",o.url))},dependencies:[Ao,W0,Ui,Hi,Gi,zi,yh,Zi,qi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const $u=ia.releaseExtra?`1.10.11-d41ff40 (${ia.releaseExtra})`:"1.10.11",tP=b.p+"assets/doc/CHANGELOG-5116638e784c468c.md";var Yv=b(1633);const Xv=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:c})=>{if((e=>void 0!==e.method&&"call"===e.method)(c)){const{params:{timerId:d,timerType:p}}=c;if("interval"===p){const m=t.get(d);if("number"==typeof m){const _=n.get(m);if(void 0===_||_.timerId!==d||_.timerType!==p)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m()}}else if("timeout"===p){const m=r.get(d);if("number"==typeof m){const _=n.get(m);if(void 0===_||_.timerId!==d||_.timerType!==p)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m(),r.delete(d)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(c)){const{error:{message:d}}=c;throw new Error(d)}{const{id:d}=c,p=n.get(d);if(void 0===p)throw new Error("The timer is in an undefined state.");const{timerId:m,timerType:_}=p;n.delete(d),"interval"===_?t.delete(m):r.delete(m)}}}),{clearInterval:c=>{const d=(0,Yv.generateUniqueNumber)(n);n.set(d,{timerId:c,timerType:"interval"}),t.set(c,d),o.postMessage({id:d,method:"clear",params:{timerId:c,timerType:"interval"}})},clearTimeout:c=>{const d=(0,Yv.generateUniqueNumber)(n);n.set(d,{timerId:c,timerType:"timeout"}),r.set(c,d),o.postMessage({id:d,method:"clear",params:{timerId:c,timerType:"timeout"}})},setInterval:(c,d)=>{const p=(0,Yv.generateUniqueNumber)(t);return t.set(p,()=>{c(),"function"==typeof t.get(p)&&o.postMessage({id:null,method:"set",params:{delay:d,now:performance.now(),timerId:p,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:d,now:performance.now(),timerId:p,timerType:"interval"}}),p},setTimeout:(c,d)=>{const p=(0,Yv.generateUniqueNumber)(r);return r.set(p,c),o.postMessage({id:null,method:"set",params:{delay:d,now:performance.now(),timerId:p,timerType:"timeout"}}),p}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})();var mf=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(mf||{});class nP{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return mf.animationFrame}}class X9{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((e,t)=>Xv().setTimeout(e,t))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,Xv().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return mf.timeout}}const Q9=[135,135,105],J9=[0,0,0],Wc=new Array(16).fill(0).map((e,t)=>J9.map((r,n)=>Math.floor((t*r+(15-t)*Q9[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),sS=Wc.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var Q=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(Q||{}),gf=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(gf||{});function xh(e){switch(e){case Q.i710:case Q.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.handera330:case Q.handera330c:case Q.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case Q.pegS300:case Q.pegS320:case Q.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case Q.pegT600c:case Q.pegT400:case Q.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case Q.pegN600c:case Q.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case Q.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function aS(e){switch(e){case Q.pilot:case Q.palmPilot:case Q.iii:case Q.palmV:case Q.palmVx:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.m125:case Q.m500:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:case Q.i705:case Q.handera330:case Q.pegS300:case Q.pegS320:case Q.pegT400:case Q.acerS11:return!1;default:return!0}}function rP(e){switch(e){case Q.pilot:return"Pilot";case Q.palmPilot:return"Palm Pilot";case Q.iii:return"Palm III";case Q.m500:return"Palm m500";case Q.m505:return"Palm m505";case Q.m515:return"Palm m515";case Q.m520:return"Palm m520";case Q.palmVx:return"Palm Vx";case Q.iiix:return"Palm IIIx";case Q.iiixe:return"Palm IIIxe";case Q.iiie:return"Palm IIIe";case Q.palmV:return"Palm V";case Q.palmVII:return"Palm VII";case Q.palmVIIEZ:return"Palm VII EZ";case Q.palmVIIx:return"Palm VIIx";case Q.iiic:return"Palm IIIc";case Q.m100:return"Palm m100";case Q.m105:return"Palm m105";case Q.m125:return"Palm m125";case Q.m130:return"Palm m130";case Q.i705:return"Palm i705";case Q.i710:return"Tungsten W";case Q.handera330:return"Handera 330";case Q.handera330c:return"Handera 330c";case Q.pegS300:return"Sony PEG-S300";case Q.pegS320:return"Sony PEG-S320";case Q.pegT400:return"Sony PEG-T400 series";case Q.pegN600c:return"Sony PEG-N600C series";case Q.pegT600c:return"Sony PEG-T600C series";case Q.pegN700c:return"Sony PEG-N700C series";case Q.pegT650c:return"Sony PEG-T650C series";case Q.pegNR70:return"Sony PEG-NR70 series";case Q.pegS500c:return"Sony PEG-S500C series";case Q.acerS11:return"Acer S1x series";case Q.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function oP(e){switch(e){case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:return gf.sdcard;case Q.pegS300:case Q.pegS500c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.pegT650c:case Q.pegNR70:case Q.acerS11:return gf.memorystick;default:return gf.none}}class iP{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class nZ{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class aP{constructor(){this.onFrameComplete=()=>{this.transport&&this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()})},this.receiveEvent=new ur.j,this.dispatchEvent=new ur.j,this.isSync=!1}bind(t){this.transport!==t&&(this.transport&&this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete),t.frameCompleteEvent.addHandler(this.onFrameComplete),t.SetModeSync(this.isSync),this.transport=t)}send(t,r){if(this.transport){if(!this.transport.IsOpen()&&this.transport.GetModeSync())return void this.receiveEvent.dispatch({data:void 0,isFrameComplete:!0});this.transport.Send(t,r),setTimeout(()=>this.dispatchEvent.dispatch(),0)}}setModeSync(t){this.isSync=t,this.transport?.SetModeSync(t)}getModeSync(){return this.transport?.GetModeSync?.()??!1}dispatch(){if(!this.transport)return;const t=this.transport.RxBytesPending();0!==t&&(this.transport.GetModeSync()&&t<1024||this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()}))}}class dZ{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.isRunning||!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;this.cloudpilotInstance.isSuspended()&&5===this.cloudpilotInstance.getSuspendKind()&&t-this.serialSyncStartedAt>250&&(console.log("serial sync timeout, waking emulator"),this.cloudpilotInstance.getSuspendContextSerialSync().Cancel());const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r&&(5===this.cloudpilotInstance.getSuspendKind()?this.serialSyncStartedAt=performance.now():this.handleSuspend());const c=this.cloudpilotInstance.isPowerOff(),d=this.cloudpilotInstance.isUiInitialized();if(c!==this.powerOff||d!==this.uiInitialized){const p=this.powerOff;this.powerOff=c,this.uiInitialized=d,p!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}d&&!c&&this.manageHotsyncName()&&!n&&this.checkAndUpdateHotsyncName(),this.serialPortIR.dispatch(),this.serialPortSerial.dispatch(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new ur.j,this.pwmUpdateEvent=new ur.j,this.emulationStateChangeEvent=new ur.j,this.powerOffChangeEvent=new ur.j,this.deviceId=Q.m515,this.clockEmulator=0,this.scheduler=new nP(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new nZ(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new iP(20),this.timePerFrameAverage=new iP(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1,this.serialPortIR=new aP,this.serialPortSerial=new aP,this.serialSyncStartedAt=0,this.serialPortIR.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now())),this.serialPortSerial.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now()))}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=xh(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}getSerialPortSerial(){if(!this.serialPortSerial)throw new Error("emulator not initialized");return this.serialPortSerial}getSerialPortIR(){if(!this.serialPortIR)throw new Error("emulator not initialized");return this.serialPortIR}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance!==t&&(this.serialPortIR.bind(t.getTransportIR()),this.serialPortSerial.bind(t.getTransportSerial())),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=xh(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===mf.animationFrame?new nP(t=>this.onSchedule(t)):new X9(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=xh(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=aS(t)?"white":sS[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=Wc[15],i=Wc[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=t.buffer[l+(c>>>3)]&128>>>(7&c)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Wc[15&o],Wc[o>>>4&15],Wc[o>>>8&15],Wc[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=i[t.buffer[l+(c>>>2)]>>6-2*(3&c)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=Wc[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class lP{constructor(t,r,n=window.document){this.timeoutRemaining=t,this.cb=r,this.document=n,this.onVisibilityChange=()=>{switch(this.tainted=!0,this.document.visibilityState){case"hidden":if("running"!==this.state)return;this.cancelTimeout(),this.update(),"finished"!==this.state&&(this.state="paused");break;case"visible":if("paused"!==this.state||this.timeoutRemaining<0)return;this.schedule(),this.state="running"}},this.onTimeout=()=>{this.handle=void 0,this.update(),this.timeoutRemaining>0&&"running"===this.state&&this.schedule()},this.state="created",this.timoutStartedAt=performance.now(),this.tainted=!1,this.accumulatedTimeout=0}start(){return this.setState("running"),this.schedule(),this.document.addEventListener("visibilitychange",this.onVisibilityChange),this}increase(t){return this.timeoutRemaining+=t,this}cancel(){return this.setState("finished"),this}isTainted(){return this.tainted}getAccumulatedTimeout(){return this.accumulatedTimeout}schedule(){void 0===this.handle&&(this.timoutStartedAt=performance.now(),this.handle=setTimeout(()=>this.onTimeout(),this.timeoutRemaining))}update(){if("running"!==this.state)return;const t=performance.now()-this.timoutStartedAt;this.timeoutRemaining-=t,this.accumulatedTimeout+=t,this.timeoutRemaining<=0&&(this.setState("finished"),this.cb())}cancelTimeout(){void 0!==this.handle&&(clearTimeout(this.handle),this.handle=void 0)}setState(t){if(t!==this.state){if("finished"===this.state||"created"===t)throw new Error(`invalid state transition: ${this.state} -> ${t}`);"finished"===t&&(this.cancelTimeout(),this.document.removeEventListener("visibilitychange",this.onVisibilityChange)),this.state=t}}}const cP=new Error("session does not match emulation");let Mh=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,d){var p=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.alertService=l,this.loadingController=c,this.ngZone=d,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.timeoutDeltaMsecPerKb=this.timeoutDeltaMsecPerKbStart,this.pendingSnapshotPromise=(0,O.Z)(function*(){try{yield p.triggerSnapshotUnguarded()}finally{p.snapshotInProgress=!1,p.hideLoader()}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new ur.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.timeoutDeltaMsecPerKbStart=.5,this.timeoutDeltaMsecPerKb=.5,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,O.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,O.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(o instanceof lP){if(o.isTainted())continue;console.log(`snapshot timeout expired after ${o.getAccumulatedTimeout()} msec`),n.timeoutDeltaMsecPerKb>.5&&(yield n.alertService.snapshotTimeout(),yield n.showLoader()),n.timeoutDeltaMsecPerKb*=2,n.timeoutDeltaMsecPerKbStart=Math.min(2*n.timeoutDeltaMsecPerKbStart,4);continue}if(console.error("snapshot error",o),o===cP)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===iS)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,O.Z)(function*(){const o=n.db.transaction([Gc,zc,oc,Cl,Vs,Th],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield Wn(o.objectStore(Vs).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((l,c)=>{let d=!1;const p=performance.now();let m=0,_=0,U=0;const Y=new lP(500,()=>{d=!0;try{o.abort()}catch{}c(Y)});o.oncomplete=()=>{Y.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:U,timeBlocking:_-m,timeTotal:performance.now()-p})},o.onerror=()=>{Y.cancel(),c(new Error(o.error?.message))};try{n.assertSessionMatches(),m=performance.now(),U=n.saveDirtyMemory(o,Y),i&&(U+=n.saveDirtyStorage(i,o,Y)),n.saveSession(o),Y.start(),_=performance.now()}catch(ge){throw d||(Y.cancel(),o.abort()),ge}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(Gc),a=n.objectStore(zc),l=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let d=0;if(!this.dirtyPages||!this.pages){const m=c.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(m);for(let _=0;_<m;_++)this.pages[_]=new Uint32Array(256)}const p={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&ia.debug&&(p.crc32=WR(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),a.put(p);for(let m=0;m<l.length;m++)if(this.dirtyPages[m]|=l[m],l[m]=0,0!==this.dirtyPages[m])for(let _=1;_<256&&!(i>=this.pages.length);_<<=1){if(this.dirtyPages[m]&_){const U=UR(c.subarray(256*i,256*(i+1)));"number"==typeof U?s.put(U,[this.sessionId,i]):(this.pages[i].set(U),s.put(this.pages[i],[this.sessionId,i])),o.increase(this.timeoutDeltaMsecPerKb),d++}i++}else i+=8;return d}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,Sr.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,c=0,d=0;const p=o.objectStore(Cl),m=(a.length>>11)+(a.length%2048>0?1:0);for(let _=0;_<s.length;_++)if(this.cardDirtyPages[_]|=s[_],s[_]=0,0!==this.cardDirtyPages[_])for(let U=1;U<256&&!(l>=m);U<<=1){if(this.cardDirtyPages[_]&U){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const Y=this.cardPagePool[c++];Y.set(a.subarray(2048*l,2048*(l+1))),p.put(Y,[n.id,l]),i.increase(8*this.timeoutDeltaMsecPerKb),d++}l++}else l+=8;return 8*d}saveSession(n){const o=n.objectStore(oc);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw cP}showLoader(){var n=this;return(0,O.Z)(function*(){n.loader||(n.loader=yield n.loadingController.create({message:"Saving..."}),yield n.loader.present())})()}hideLoader(){this.loader&&(this.loader.dismiss(),this.loader=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Xn),se(rc),se(Nu),se(Ih),se(Ii),se(Pr),se(Ls),se(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),lS=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new ur.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var mZ=b(2227),gZ=b.n(mZ);function cS(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}function uP(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const r=t.getPointer(e.GetCurrentEntryContent()),n=e.GetCurrentEntrySize();return r>0&&n>0?t.HEAPU8.subarray(r,r+n):void 0}},e)}let vZ=0;const dP=[Q.palmPilot,Q.pilot,Q.iii,Q.palmVx,Q.palmV,Q.palmVII,Q.palmVIIEZ,Q.palmVIIx,Q.iiixe,Q.iiix,Q.iiie,Q.m500,Q.m505,Q.m515,Q.m520,Q.iiic,Q.m100,Q.m105,Q.m125,Q.m130,Q.i705,Q.i710,Q.handera330,Q.handera330c,Q.pegS300,Q.pegS320,Q.pegS500c,Q.pegT400,Q.pegN600c,Q.pegT600c,Q.pegN700c,Q.pegT650c,Q.pegNR70,Q.acerS11,Q.lp168];function Mt(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Tt{constructor(t){this.module=t,this.fatalErrorEvent=new ur.j,this.pwmUpdateEvent=new ur.j,this.proxyDisconnectEvent=new ur.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(()=>this.proxyDisconnectEvent.dispatch(),"v")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,O.Z)(function*(){const r=vZ++;return new Tt(yield gZ()({print:n=>console.log(`${r}: ${n}`),printErr:n=>console.error(`${r}: ${n}`),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}enableLogging(t){this.cloudpilot.EnableLogging(t)}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:dP.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,O.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.IsSuspended()?this.cloudpilot.GetSuspendContext().GetKind():void 0}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}getSuspendContextSerialSync(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,O.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(uP(n.wrap(o),n.module))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,l=0;if(void 0!==t.metadata){const d=(new TextEncoder).encode(JSON.stringify(t.metadata));l=d.length,a=this.copyIn(d)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,l);const c=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(d=>this.cloudpilot.Free(d)),c}deserializeSessionImage(t){if(!t)return;const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),l=r.GetDeviceId();if(!dP.includes(l))return void console.warn(`unsupported device ${l}`);let c;const d=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(d)try{c=JSON.parse((new TextDecoder).decode(d))}catch(p){console.warn("invalid metadata",p)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:c,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=cS(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}wrapTransport(t){const r=new ur.j;return t.SetRequestTransferCallback(this.module.addFunction(()=>r.dispatch(),"v")),this.wrap(Object.setPrototypeOf({Receive:()=>{const n=t.RxBytesPending();return this.copyOut(t.Receive(),n)},Send:(n,o)=>{const i=n&&this.copyIn(n);t.Send(n?.length??0,i??this.cloudpilot.Nullptr(),o),i&&this.cloudpilot.Free(i)},frameCompleteEvent:r},t))}}re([Mt()],Tt.prototype,"enableLogging",null),re([Mt()],Tt.prototype,"getRomInfo",null),re([Mt()],Tt.prototype,"initializeSession",null),re([Mt()],Tt.prototype,"cyclesPerSecond",null),re([Mt()],Tt.prototype,"runEmulation",null),re([Mt()],Tt.prototype,"getFrame",null),re([Mt()],Tt.prototype,"isScreenDirty",null),re([Mt()],Tt.prototype,"markScreenClean",null),re([Mt()],Tt.prototype,"minRamForDevice",null),re([Mt()],Tt.prototype,"framebufferSizeForDevice",null),re([Mt()],Tt.prototype,"totalMemorySizeForDevice",null),re([Mt()],Tt.prototype,"queuePenMove",null),re([Mt()],Tt.prototype,"queuePenUp",null),re([Mt()],Tt.prototype,"queueButtonDown",null),re([Mt()],Tt.prototype,"queueButtonUp",null),re([Mt()],Tt.prototype,"queueKeyboardEvent",null),re([Mt()],Tt.prototype,"isPowerOff",null),re([Mt()],Tt.prototype,"isUiInitialized",null),re([Mt()],Tt.prototype,"isSetupComplete",null),re([Mt()],Tt.prototype,"getOSVersion",null),re([Mt()],Tt.prototype,"reset",null),re([Mt()],Tt.prototype,"resetNoExtensions",null),re([Mt()],Tt.prototype,"resetHard",null),re([Mt()],Tt.prototype,"installDb",null),re([Mt()],Tt.prototype,"getPalette2bitMapping",null),re([Mt()],Tt.prototype,"getMemory",null),re([Mt()],Tt.prototype,"getMemory32",null),re([Mt()],Tt.prototype,"getDirtyPages",null),re([Mt()],Tt.prototype,"loadMemory",null),re([Mt()],Tt.prototype,"getRomImage",null),re([Mt()],Tt.prototype,"getSavestate",null),re([Mt()],Tt.prototype,"saveState",null),re([Mt()],Tt.prototype,"loadState",null),re([Mt()],Tt.prototype,"getHotsyncName",null),re([Mt()],Tt.prototype,"setClockFactor",null),re([Mt()],Tt.prototype,"setHotsyncName",null),re([Mt()],Tt.prototype,"setClipboardIntegration",null),re([Mt()],Tt.prototype,"getClipboardIntegration",null),re([Mt()],Tt.prototype,"isSuspended",null),re([Mt()],Tt.prototype,"getSuspendKind",null),re([Mt()],Tt.prototype,"cancelSuspend",null),re([Mt()],Tt.prototype,"getSuspendContextClipboardCopy",null),re([Mt()],Tt.prototype,"getSuspendContextClipboardPaste",null),re([Mt()],Tt.prototype,"setNetworkRedirection",null),re([Mt()],Tt.prototype,"getNetworkRedirection",null),re([Mt()],Tt.prototype,"getSuspendContextNetworkConnect",null),re([Mt()],Tt.prototype,"getSuspendContextNetworkRpc",null),re([Mt()],Tt.prototype,"getSuspendContextSerialSync",null),re([Mt()],Tt.prototype,"copyBuffer",null),re([Mt()],Tt.prototype,"freeBuffer",null),re([Mt()],Tt.prototype,"setHotsyncNameManagement",null),re([Mt()],Tt.prototype,"resolveBuffer",null),re([Mt()],Tt.prototype,"serializeSessionImage",null),re([Mt()],Tt.prototype,"deserializeSessionImage",null),re([Mt()],Tt.prototype,"launchAppByName",null),re([Mt()],Tt.prototype,"launchAppByDbHeader",null),re([Mt()],Tt.prototype,"deviceSupportsCardSize",null),re([Mt()],Tt.prototype,"clearExternalStorage",null),re([Mt()],Tt.prototype,"allocateCard",null),re([Mt()],Tt.prototype,"decompressCard",null),re([Mt()],Tt.prototype,"getCardData",null),re([Mt()],Tt.prototype,"getCardDirtyPages",null),re([Mt()],Tt.prototype,"getMountedKey",null),re([Mt()],Tt.prototype,"mountCard",null),re([Mt()],Tt.prototype,"removeCard",null),re([Mt()],Tt.prototype,"remountCards",null),re([Mt()],Tt.prototype,"getCardSupportLevel",null),re([Mt()],Tt.prototype,"loadSkin",null);const Jv=new Error("permission denied");let uS=(()=>{var e;class t{constructor(n,o,i){this.alertController=n,this.alertService=o,this.nativeAppService=i,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText||Bs.supportsNativeClipboard()}handleSuspend(n){switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,O.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();if(Bs.supportsNativeClipboard())try{yield o.nativeAppService.clipboardWrite(s),i.Resume()}catch(a){console.error(a),i.Cancel()}else{try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===Jv)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}}})()}tryCopyDirect(n){var o=this;return(0,O.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?Jv:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,O.Z)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,O.Z)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(d){a(d)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,O.Z)(function*(){const i=n.getSuspendContextClipboardPaste();if(Bs.supportsNativeClipboard()){try{i.Resume(yield o.nativeAppService.clipboardRead())}catch(a){console.error(a),i.Resume("")}return}const s=yield o.tryPaste();i.Resume(s??""),void 0!==s&&(o.clipboardContent=s,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,O.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===Jv)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,O.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?Jv:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,O.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,O.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}isPermissionDenied(n){return(0,O.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(se($0),se(Pr),se(Bs))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const _Z="https:"===window.location.protocol?8667:8666,bZ=/^[\da-z\-\.]+$/i,CZ=/^[\da-z\-\.]+:\d+$/i;function dS(e){if(!e)return;const t=window.location.protocol;if(e.match(bZ))return`${t}//${e}:${_Z}`;if(e.match(CZ))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function SZ(e){return void 0!==dS(e.value)?null:{proxyAddress:"invalid"}}class EZ{constructor(t,r,n){this.proxyServer=t,this.alertService=r,this.fetchService=n,this.onSocketMessage=o=>{if(!(o.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),void this.unexpectedCloseEvent.dispatch(void 0);this.rpcResultEvent.dispatch(new Uint8Array(o.data))},this.onSocketError=o=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),this.unexpectedCloseEvent.dispatch(),console.error("ERROR: socket error",o)},this.onSocketClose=()=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.disconnect(),this.unexpectedCloseEvent.dispatch()},this.rpcResultEvent=new ur.j,this.unexpectedCloseEvent=new ur.j}connect(){var t=this;return(0,O.Z)(function*(){const r=dS(t.proxyServer);if(!r)return yield t.alertService.errorMessage(`Invalid proxy address: ${t.proxyServer}`),!1;const n=yield t.handshake(500);switch(n.status){case"failed":return t.alertService.errorMessage("Failed to connect to proxy."),!1;case"version_mismatch":return yield t.alertService.proxyVersionMismatchError(),!1;case"success":break;default:throw new Error("unreachable")}const o=new WebSocket(`${r.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(n.token)}`);o.binaryType="arraybuffer";const i=setTimeout(()=>o.close(),5e3);let s,a,l;try{return yield new Promise((c,d)=>{s=()=>c(),l=p=>d(p),a=()=>d(new Error("connection timeout")),o.addEventListener("open",s),o.addEventListener("error",l),o.addEventListener("close",a)}),clearTimeout(i),o.addEventListener("error",t.onSocketError),o.addEventListener("message",t.onSocketMessage),o.addEventListener("close",t.onSocketClose),t.socket=o,!0}catch(c){return console.error("socket failed to connect",c),!1}finally{o.removeEventListener("open",s),o.removeEventListener("error",l),o.removeEventListener("close",a)}})()}disconnect(){var t=this;return(0,O.Z)(function*(){t.socket&&(t.socket.removeEventListener("error",t.onSocketError),t.socket.removeEventListener("message",t.onSocketMessage),t.socket.removeEventListener("close",t.onSocketClose),t.socket.close(),t.socket=void 0)})()}handleRpc(t){var r=this;return(0,O.Z)(function*(){return!!r.socket&&(r.socket.send(t),!0)})()}handshake(t=-1){var r=this;return(0,O.Z)(function*(){const n=dS(r.proxyServer);if(!n)return{status:"failed"};try{const o=yield r.fetchService.fetch(`${n}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!o.ok)return{status:"failed"};const i=yield o.json();return i.version<3||i.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:i.token}}catch{return{status:"failed"}}})()}}class IZ{constructor(t){this.nativeAppService=t,this.onNetRpcResult=({sessionId:r,rpcData:n})=>r===this.sessionId&&this.rpcResultEvent.dispatch(n),this.rpcResultEvent=new ur.j,this.unexpectedCloseEvent=new ur.j}connect(){var t=this;return(0,O.Z)(function*(){if(void 0!==t.sessionId)throw new Error("session already open");return t.sessionId=yield t.nativeAppService.netOpenSession(),t.nativeAppService.netRpcResult.addHandler(t.onNetRpcResult),!0})()}disconnect(){var t=this;return(0,O.Z)(function*(){void 0!==t.sessionId&&(t.nativeAppService.netRpcResult.removeHandler(t.onNetRpcResult),yield t.nativeAppService.netCloseSession(t.sessionId),t.sessionId=void 0)})()}handleRpc(t){var r=this;return(0,O.Z)(function*(){if(void 0===r.sessionId)throw new Error("no open session");return r.nativeAppService.netDispatchRpc(r.sessionId,t)})()}}let TZ=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new Mv({username:new bo(n?.username??""),password:new bo(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ii))},e.\u0275cmp=qe({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"Authenticate"),N(),V(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.saveAndContinue()}),Se(6,"OK"),N()(),V(7,"ion-buttons",2)(8,"ion-button",1),Le("click",function(){return o.onCancel()}),Se(9,"Cancel"),N()()()(),V(10,"ion-content",3)(11,"form",4),Le("keydown",function(s){return o.formKeyDown(s)}),V(12,"p"),Se(13," The server requires authentication. "),N(),V(14,"ion-item",5)(15,"ion-label",6),Se(16,"Username"),N(),je(17,"ion-input",7),N(),V(18,"ion-item",5)(19,"ion-label",6),Se(20,"Password"),N(),je(21,"ion-input",8),N()()()),2&n&&(he(11),Ce("formGroup",o.formGroup))},dependencies:[Ui,Hi,Gi,zi,ec,Co,Wi,Zi,qi,Jl,Ql,Yl,Xl,Ra,vl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),pP=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,O.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(Hd())("string"==typeof n?n:n.url);let c,d,p=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===d?d=window.setTimeout(()=>c?.present(),s):c.present();const m=i.kvsService.kvs.credentials[l.origin],_=new AbortController,U=window.setTimeout(()=>_.abort(),a),Y=yield fetch(n,{...i.requestInit(o),signal:_.signal,headers:{...o?.headers||{},...p&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(U),401===Y.status){if(!p&&m){p=!0;continue}if(c?.dismiss(),clearTimeout(d),s=0,c=void 0,s=void 0,p=!0,yield i.authenticate(l.origin))continue}return Y}finally{c&&(yield c.dismiss()),clearTimeout(d)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,O.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:TZ,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Ls),se(Ii),se(us))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),hP=(()=>{var e;class t{constructor(n,o,i,s){this.kvsService=n,this.alertService=o,this.fetchService=i,this.nativeAppService=s}createBackendProxy(n=this.kvsService.kvs.proxyServer){return new EZ(n,this.alertService,this.fetchService)}createBackend(){if(this.kvsService.kvs.networkRedirection)return"native"===this.kvsService.kvs.networkRedirectionMode&&Bs.supportsNativeNetworkIntegration()?new IZ(this.nativeAppService):this.createBackendProxy()}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Ii),se(Pr),se(pP),se(Bs))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),mP=(()=>{var e;class t{constructor(n,o){this.ngZone=n,this.backendFactory=o,this.onProxyDisconnect=()=>{this.reset()},this.onUnexpectedBackendClose=()=>this.reset(),this.onSessionResume=()=>this.resumeEvent.dispatch(),this.resumeEvent=new ur.j}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}isConnected(){return void 0!==this.session}reset(){this.session&&(this.session.backend.unexpectedCloseEvent.removeHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.removeHandler(this.onSessionResume),this.session.terminate(),this.ngZone.run(()=>this.session=void 0))}handleSuspend(){if(this.cloudpilot)switch(this.cloudpilot.getSuspendKind()){case 4:this.createNewSession(),this.session?this.session.handleConnect().then(n=>n||this.reset()):4===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkConnect().Cancel();break;case 3:this.session?this.session.handleRpc():3===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkRpc().Cancel()}}createNewSession(){this.reset(),this.ngZone.run(()=>this.session=fS.create(this.backendFactory.createBackend(),this.cloudpilot)),this.session&&(this.session.backend.unexpectedCloseEvent.addHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.addHandler(this.onSessionResume))}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Ge),se(hP))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class fS{static create(t,r){if(r&&t)return new fS(t,r)}constructor(t,r){var n=this;this.backend=t,this.handleConnect=()=>this.mutex.runExclusive((0,O.Z)(function*(){try{const o=yield n.backend.connect();return 4===n.cloudpilot?.getSuspendKind()&&(o?n.cloudpilot.getSuspendContextNetworkConnect().Resume():n.cloudpilot.getSuspendContextNetworkConnect().Cancel()),o}catch(o){return console.error("failed to connect to backend",o),4===n.cloudpilot?.getSuspendKind()&&n.cloudpilot.getSuspendContextNetworkConnect().Cancel(),!1}})),this.handleRpc=()=>this.mutex.runExclusive((0,O.Z)(function*(){if(3!==n.cloudpilot?.getSuspendKind())return;const o=n.cloudpilot.getSuspendContextNetworkRpc(),i=n.cloudpilot.resolveBuffer(o.GetRequestData(),o.GetRequestSize());try{!(yield n.backend.handleRpc(i))&&3===n.cloudpilot?.getSuspendKind()&&n.cloudpilot.getSuspendContextNetworkRpc().Cancel()}catch(s){console.error("failed to process rpc request",s),3===n.cloudpilot?.getSuspendKind()&&n.cloudpilot.getSuspendContextNetworkRpc().Cancel()}})),this.disconnect=()=>{this.mutex.runExclusive((0,O.Z)(function*(){n.backend&&(yield n.backend.disconnect())}))},this.onRpcResult=o=>{if(!this.cloudpilot)return;if(3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");const i=this.cloudpilot.copyBuffer(o);this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(i,o.length),this.cloudpilot.freeBuffer(i),this.resumeEvent.dispatch()},this.resumeEvent=new ur.j,this.mutex=new oa,this.cloudpilot=r,t.rpcResultEvent.addHandler(this.onRpcResult)}terminate(){this.cloudpilot=void 0,this.backend.rpcResultEvent.removeHandler(this.onRpcResult),this.disconnect()}}let gP=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),vP=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const AZ=b.p+"wasm/cloudpilot_web-49f5633de7cb9b08.wasm";let Pa=(()=>{var e;class t{constructor(){this.cloudpilot=Tt.create(AZ),this.cloudpilot.then(n=>this.cloudpilotInstance=n),window.__cp_enableLogging=n=>this.cloudpilotInstance?.enableLogging(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var kZ=b(3097),vf=b.n(kZ);const pS=524288;class hS{constructor(t,r){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(r))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const n=new t.FSTools;this.chunkBufferPtr=n.Malloc(pS),t.destroy(n)}static create(t,r){return(0,O.Z)(function*(){return new hS(yield vf()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:r}),t)})()}addEntry(t,r){var n=this;return(0,O.Z)(function*(){if(!n.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${n.nativeContext.GetLastError()}`);const o=n.module.getPointer(n.chunkBufferPtr);for(let i=0;i<r.length;i+=pS){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(r.length-i,pS);if(n.module.HEAPU8.subarray(o,o+s).set(r.subarray(i,i+s)),!n.nativeContext.WriteData(n.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${n.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class mS{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,O.Z)(function*(){return new mS(yield vf()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class gS{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,O.Z)(function*(){const n=yield vf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new gS(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=cS(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class ey{constructor(t,r){this.module=t,r&&this.initialize(r)}static create(t,r){return(0,O.Z)(function*(){const n=yield vf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new ey(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t.length);const n=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(n,n+t.length).set(t),this.module.destroy(r),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,O.Z)(function*(){const r=t.getNativeContext();for(;0===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gunzip failed: ${r.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),r=t.GetUncompressedSize(),n=t.GetUncompressedData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class vS{constructor(t,r){this.module=t,void 0!==r&&this.initialize(r)}static create(t,r){return(0,O.Z)(function*(){const n=yield vf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new vS(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(r),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,O.Z)(function*(){const r=t.getNativeContext();for(r.Continue();1===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gzip failed: ${r.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),r=t.GetGzipSize(),n=t.GetGzipData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const yP=new Map;class FZ{constructor(t="fstools_web.wasm"){let r=yP.get(t);r||(r=function RZ(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,O.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),yP.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,O.Z)(function*(){const n=yield mS.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,O.Z)(function*(){const n=yield ey.create(r.instantiante,t);if(yield n.gunzip())return n.getDecompressedData()})()}createGunzipContext(t){return ey.create(this.instantiante,t)}createGzipContext(t){return vS.create(this.instantiante,t)}createFsckContext(t){return gS.create(t,this.instantiante)}createZipContext(t){return hS.create(t,this.instantiante)}createZipfileWalker(t){var r=this;return(0,O.Z)(function*(){const n=yield vf()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:r.instantiante}),o=new n.FSTools,i=o.Malloc(t.length),s=n.getPointer(i);return n.HEAPU8.subarray(s,s+t.length).set(t),n.destroy(o),uP(new n.ZipfileWalker(t.length,i),n)})()}}var hr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(hr||{});function yf(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}function _f(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function yS(e){return`${_f(e.name)}.img`}function _P(e,t){return`backup_${_f(e.name)}${t?"_with_rom":""}.zip`}function _S(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}var Tr=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Tr||{});function ty(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}const VZ=b.p+"wasm/fstools_web-61ec0e1f6fadaffc.wasm";let ny=(()=>{var e;class t extends FZ{constructor(){super(VZ)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function jZ(e,t){1&e&&(V(0,"p",10),Se(1," ERROR: URL must be served via HTTPS. "),N())}function UZ(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(Hd())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let HZ=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(Hd())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(Hd())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Mv({url:new bo("",UZ)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"Enter download URL"),N(),V(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.continue()}),Se(6,"OK"),N()(),V(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancel()}),Se(9,"Cancel"),N()()()(),V(10,"ion-content",4)(11,"form",5),Le("keydown",function(s){return o.formKeyDown(s)}),V(12,"p"),Se(13," Please enter the URL from which to download: "),N(),V(14,"ion-item",6)(15,"ion-label",7),Se(16,"URL"),N(),je(17,"ion-input",8),N(),$t(18,jZ,2,0,"p",9),V(19,"p"),Se(20," Note that the remote server needs to support the CORS protocol. "),N()()()),2&n&&(he(5),Ce("disabled",o.formGroup.invalid),he(6),Ce("formGroup",o.formGroup),he(7),Ce("ngIf",o.isMixedContent))},dependencies:[Ao,Ui,Hi,Gi,zi,ec,Co,Wi,Zi,qi,Jl,Ql,Yl,Xl,Ra,vl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})(),Zc=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,d){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=c,this.cloudpilotService=d}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(n){var o=this;return(0,O.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const p={deviceId:n.device,metadata:ty(n),rom:a,memory:l,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(p);m&&o.saveFile(yS(n),m)}finally{s.dismiss()}})()}saveFile(n,o,i="application/octet-stream"){const s=new Blob([o],{type:i}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=n,l.click()}openUrl(n,o){var i=this;return(0,O.Z)(function*(){let s;try{s=new(Hd())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const c=a.arrayBuffer().then(d=>new Uint8Array(d));return c.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}serializeSession(n){var o=this;return(0,O.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:ty(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(n,o){var i=this;return(0,O.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,O.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:HZ,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=Eh||NR;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",So&&(this.input.accept="application/octet-stream"),this.input.addEventListener("change",function(){var a=(0,O.Z)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,O.Z)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Xn),se(Ls),se(Ch),se(Ii),se(us),se(Pr),se(pP),se(Pa))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class bP extends Error{constructor(t){super(t)}}let ic=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this.sessions=[],this.loading=!0,this.updateMutex=new oa,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,O.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});yield a.present();try{return s.doAddSessionFromImage(n,o,i)}finally{yield a.dismiss()}})()}addSessionsFromArchive(n){var o=this;return(0,O.Z)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(n);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),c=new Set(o.sessions.map(_=>_.name));let d=1,p=!1;const m=[];for(;0===a.GetState();)try{i.message=`Importing ${d++}/${l}...`;const _=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!_)throw new bP(`${a.GetCurrentEntryName()} is not a valid session.`);const U=yf(_.metadata?.name??a.GetCurrentEntryName(),Y=>c.has(Y));yield o.doAddSessionFromImage(_,U,_.metadata)}catch(_){if(!(_ instanceof bP))throw _;m.push(a.GetCurrentEntryName()),p||(p=yield o.alertService.messageWithChoice("Error",_.message,"Skip further errors",p,{},"Continue"))}finally{a.Next()}m.length<=3&&m.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${m.join("<br>")}`):m.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${m.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${m.length-3} more files.\n                    `))}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,O.Z)(function*(){const l={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Tr.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},c=yield a.loadingController.create({message:"Importing..."});yield c.present();const d=yield a.storageService.addSession(l,n);return yield a.updateSessionsFromStorage(),yield c.dismiss(),d})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,O.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,O.Z)(function*(){yield o.storageService.updateSession(n)})()}saveSession(n){var o=this;return(0,O.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(n);s?o.fileService.saveFile(yS(n),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(n){var o=this;return(0,O.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of n){i.message=`Exporting ${l++}/${n.length}...`;const d=yield o.serializeSession(c);if(d){const p=yf(c.name.replace(/[\/\\]/,"_").substring(0,200),m=>a.has(m));a.add(p),yield s.addEntry(p+".img",d)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function LZ(){return`${_f("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(n){var o=this;return(0,O.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const p={deviceId:n.device,metadata:ty(n),rom:a,memory:l,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(p);m&&o.fileService.saveFile(yS(n),m)}finally{s.dismiss()}})()}serializeSession(n){var o=this;return(0,O.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:ty(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var n=this;return(0,O.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,O.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}doAddSessionFromImage(n,o,i={}){var s=this;return(0,O.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Tr.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},l=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),l})()}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Pa),se(Xn),se(Ls),se(ny),se(Pr),se(Zc))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var GZ=b(8886),zZ=b.n(GZ),Sl=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(Sl||{}),Bu=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(Bu||{});function WZ(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function CP(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:WZ(e.GetAttributes())}}class bS{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,O.Z)(function*(){return new bS(yield zZ()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=cS(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(CP(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:CP(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,O.Z)(function*(){const i=new o.module.ExportZipContext(n,25),s=[];try{for(t&&t.forEach(d=>i.AddFile(d)),r&&r.forEach(d=>i.AddDirectory(d));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(d=>setTimeout(d,0)))}let a;const l=o.module.getPointer(i.GetZipContent()),c=i.GetZipSize();return 0!==l&&0!==c&&(a=o.module.HEAPU8.subarray(l,l+c).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,O.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,O.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(Sl.success);case-3:return a(Sl.cardFull);case-1:return a(Sl.ioError);case-2:return a(Sl.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,O.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return Bu.success;case-2:return Bu.cardFull;case-1:return Bu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var ZZ=b(307),SP=b.n(ZZ);function wP(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const qZ=b.p+"wasm/vfs_web-613e3af364aa0f85.wasm";let Vu=(()=>{var e;class t{constructor(n,o,i,s,a){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertService=a,this.onReleaseCard=new ur.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=bS.create(qZ),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(l=>this.vfsInstance=l)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,O.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,O.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,Sr.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(n,c,Sr.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,Sr.vfs),!1)})()}releaseCard(n){var o=this;return(0,O.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,Sr.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,O.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(n);if(0===a)if(void 0===o.attributes||SP()(o.attributes,l.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in CloudpilotEmu.`)})()}saveFile(n){var o=this;return(0,O.Z)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,O.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=n.filter(_=>_.isDirectory).map(_=>i.normalizePath(_.path)),c=n.filter(_=>!_.isDirectory).map(_=>i.normalizePath(_.path)),d=1===n.length?`${n[0].name}.zip`:function BZ(e){return`files_${_f(e.name)}.zip`}(i.primaryCard),{archive:p,failedItems:m}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),m.length>0&&(m.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),p&&i.fileService.saveFile(d,p)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,O.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,O.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,O.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===hr.clean||n.status===hr.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,O.Z)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(n,o);let d,p;switch(yield s.dismiss(),c){case Sl.success:d="The archive was extracted successfully, but some entries were skipped.",p="Skipped entries";break;case Sl.ioError:return void(yield i.fatalError("There was an error writing to the card."));case Sl.cardFull:d="No space left on card.",p="No space left";break;case Sl.zipfileError:d="There was an error reading from the archive.",p="Error reading archive";break;default:throw new Error("unreachable")}const m=a-l,_=U=>U>1?`${U} entries`:"one entry";a>0&&m===a&&(yield i.alertService.message(p,`\n                    ${d}\n                    <br><br>\n                    The archive contains ${_(a)}, but none could be unpacked.\n                `)),m>0&&l>0&&(yield i.alertService.message(p,`\n                    ${d}\n                    <br><br>\n                    ${wP(_(l))} unpacked succesfully, but ${_(m)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,O.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case Bu.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case Bu.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,O.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(n.length-a.length)} to card. ${wP(l(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,O.Z)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,d=!1,p=!1,m=!1;e:for(let _=0;_<n.length;_++){const U=n[_],Y=s.find(we=>we.name===U.name);if(Y&&Y.isDirectory){if(!p){const{overwrite:Ae,rememberChoice:mt}=yield i.overwriteFileDialog(U.name,"directory");m=Ae,p=mt}let we=!0;if(m&&(we=!(yield l.deleteRecursive([i.normalizePath(`${o}/${U.name}`)])).success),we){a.push(U.name);continue}}if(Y&&!Y.isDirectory){if(!c){const{overwrite:we,rememberChoice:Ae}=yield i.overwriteFileDialog(U.name,"file");d=we,c=Ae}if(!d){a.push(U.name);continue}}let ge;try{ge=yield U.getContent()}catch(we){console.warn(we),a.push(U.name),yield i.alertService.errorMessage(`Unable to open ${U.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${U.name}`),ge)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(_).map(we=>we.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(U.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,O.Z)(function*(c){if(i)return o;const{overwrite:d,rememberChoice:p}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=d,i=p,o}),function(d){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,O.Z)(function*(c){if(a)return s;const{overwrite:d,rememberChoice:p}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=d,a=p,s});return function(d){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(n,o){var i=this;return(0,O.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(l=(0,O.Z)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(d){return l.apply(this,arguments)})});var l;return a.result!==Sl.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,O.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===Bu.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,O.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,Sr.vfs),yield n.storageService.loadCardData(o.id,s,Sr.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,Sr.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,O.Z)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                     Do you want to overwrite the existing directory ${n}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,O.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,O.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:hr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,O.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),l=s.getDirtyPagesForSlot(n);!a||!l||(yield o.storageService.updateCardData(i.id,a,l,Sr.vfs),l.fill(0))})()}activatePrimaryCard(){var n=this;return(0,O.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,O.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Xn),se(Ih),se(Zc),se(Ls),se(Pr))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Ho=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(Ho||{});class oy extends Error{constructor(t){super(t)}}function DP(){return KR().replace(/-/g,"")}let bf=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,d,p,m,_,U){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=d,this.fileService=p,this.vfsService=m,this.storageCardContext=_,this.fstools=U,this.mountCardEvent=new ur.j,this.deleteCardEvent=new ur.j,this.loading=!0,this.cards=[],this.updateMutex=new oa,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,O.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function KZ(e){switch(e){case Ho.mb4:return 4;case Ho.mb8:return 8;case Ho.mb16:return 16;case Ho.mb32:return 32;case Ho.mb64:return 64;case Ho.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:DP(),name:n,size:4*l.length,status:hr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,O.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(n,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,Sr.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,O.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(n,Sr.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,Sr.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,O.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:hr.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,Sr.cloudpilot)})()}checkCard(n){var o=this;return(0,O.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,Sr.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,O.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===Sr.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,O.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=hr.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,O.Z)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,O.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(n){var o=this;return(0,O.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const d of n){c++;const p=yield o.getCard(d);if(!p)continue;i.message=`Exporting ${c}/${n.length}...`;const m=yf(p.name,U=>a.has(U));a.add(m);const _=yield o.getCardData(p,m,l);_&&(yield s.addEntry(`${m}.img.gz`,_))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function $Z(){return`${_f("cards")}.zip`}(),s.getContent())})()}getCard(n){var o=this;return(0,O.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}addAllCardsFromArchive(n){var o=this;return(0,O.Z)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=So?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"",a=yield o.loadingController.create({message:"Importing..."});try{yield a.present();const l=yield o.cloudpilotService.cloudpilot,c=yield o.fstools.createZipfileWalker(n);if(-1===c.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const d=c.GetTotalEntries(),p=new Set((yield o.getAllCards()).map(ge=>ge.name)),m=yield o.fstools.createGunzipContext();let _=1,U=!1;const Y=[];for(;0===c.GetState();){a.message=`Importing ${_++}/${d}...`;let ge=c.GetCurrentEntryName();try{if(!i.test(ge))throw new oy(`${ge} has the wrong suffix to be considered as a card image.`);let we=c.GetCurrentEntryContent();if(ge.endsWith(".gz")&&we&&(m.initialize(we),we=(yield m.gunzip())?m.getDecompressedData():void 0,ge=ge.substring(0,ge.length-3)),void 0===we)throw new oy(`Failed to extract ${ge}. ${s}`);if(0===l.getCardSupportLevel(we.length))throw new oy(`${ge} is not a valid card image.`);const Ae=yf(ge.replace(i,""),mt=>p.has(mt));yield o.doCreateCardFromImage(Ae,we,!1,!0)}catch(we){if(!(we instanceof oy))throw we;Y.push(ge),U||(U=yield o.alertService.messageWithChoice("Error",we.message,"Skip further errors",U,{},"Continue"))}finally{c.Next()}}Y.length<=3&&Y.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${Y.join("<br>")}`):Y.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${Y.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${Y.length-3} more files.\n                    `))}catch(l){yield a.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${l?.message??"unknown error"}<br><br>${s}`)}finally{a.dismiss()}})()}doCreateCardFromImage(n,o,i,s=!1){var a=this;return(0,O.Z)(function*(){const l={storageId:DP(),name:n,size:o.length,status:s?hr.dirty:hr.clean,dontFsckAutomatically:i},c=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2);if(s||i)yield a.storageService.importStorageCard(l,c);else{const[d,p]=yield a.fsckNewCard(c,l);yield a.storageService.importStorageCard(p,d)}})()}getCardData(n,o,i){var s=this;return(0,O.Z)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(n.size),i){const d=i.getBuffer();a=new Uint32Array(d.buffer,d.byteOffset,d.byteLength>>2)}const l=s.mountedInSession(n.id);let c;return l&&l.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),c=(yield s.cloudpilotService.cloudpilot).getCardData(n.storageId),c&&(a?a.set(c):a=c)),c||(a||(a=new Uint32Array(n.size>>>2)),yield s.storageService.loadCardData(n.id,a,s.storageCardContext.getOwner(n.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var n=this;return(0,O.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,O.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,O.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,O.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===hr.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(n,Sr.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case hr.clean:break;case hr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case hr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case hr.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(d){return i.errorService.fatalBug(d instanceof Error?d.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,O.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,Sr.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Sr.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:hr.clean}),o.storageCardContext.release(n,Sr.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:hr.unformatted}),o.storageCardContext.release(n,Sr.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:hr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:hr.unfixable}),o.storageCardContext.release(n,Sr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,O.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),Sr.fstools),yield i.storageService.updateStorageCardPartial(n,{status:hr.clean}),i.storageCardContext.release(n,Sr.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,O.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[n,{...o,status:hr.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:hr.clean}]:[n,{...o,status:hr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:hr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:hr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,O.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:hr.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,O.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(n,o),c=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:hr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!c.mountCard(l.storageId))throw c.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,O.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(se(ic),se(Xn),se(rc),se(Pa),se(Ls),se(Mh),se(Pr),se(Nu),se(Zc),se(Vu),se(Ih),se(ny))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const EP="cp-indicator-fix-portrait",IP="cp-indicator-fix-landscape",TP="cloudpilot-indicator-fix-mode";let iy;function xP(){return $R(TP)??"none"}function CS(){return NR&&!navigator?.standalone}function MP(e){if(!CS())return;iy||(iy=document.createElement("style"),iy.textContent=`\n           @media (orientation: portrait) and (min-height: ${window.screen.height-110}px) {\n                html.${EP} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n\n            @media (orientation: landscape) {\n                html.${IP} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n        `,document.head.appendChild(iy)),void 0!==e?Y0(TP,e):e=xP();const t=document.documentElement.classList;t.toggle(EP,"all"===e||"portrait"===e),t.toggle(IP,"all"===e||"landscape"===e)}let SS=(()=>{var e;class t{constructor(n,o){this.pwaService=n,this.clipboardService=o,this.injectStyles()}get runHidden(){return this.pwaService.getInstallationMode()!==nc.pwa}get nativeNetworkIntegration(){return Bs.supportsNativeNetworkIntegration()}get nativeClipboard(){return Bs.supportsNativeClipboard()}featureStyle(n,o){return(o?"":`.feature-${n} { display: none }\n`)+(o?`.no-feature-${n} { display: none }`:"")}injectStyles(){const n=document.createElement("style");n.textContent=`\n            ${this.featureStyle("run-hidden",this.runHidden)}\n            ${this.featureStyle("indicator-fix",CS())}\n            ${this.featureStyle("clipboard-integration",this.clipboardService.isSupported())}\n            ${this.featureStyle("native-app",bl)}\n            ${this.featureStyle("ios-not-native",So&&!bl)}\n            ${this.featureStyle("ios-or-safari",So&&!bl||Eh)}\n            ${this.featureStyle("ios",So)}\n            ${this.featureStyle("native-network",this.nativeNetworkIntegration)}\n        `,document.head.appendChild(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Kv),se(uS))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Oa=(()=>{var e;class t extends dZ{constructor(n,o,i,s,a,l,c,d,p,m,_,U,Y,ge,we,Ae,mt,ht,Ut){var wt;super(),wt=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.modalWatcher=d,this.clipboardService=p,this.kvsService=m,this.networkService=_,this.buttonService=U,this.bootstrapService=Y,this.cloudpilotService=ge,this.storageCardService=we,this.storageCardContext=Ae,this.sessionsService=mt,this.featureService=ht,this.app=Ut,this.switchSession=(ko,La={})=>this.mutex.runExclusive((0,O.Z)(function*(){if(ko===wt.emulationState.getCurrentSession()?.id)return!0;let Dl;yield wt.stopUnchecked(),yield wt.bootstrapService.hasRendered(),(La.showLoader??1)&&(Dl=yield wt.loadingController.create({message:"Loading..."}),yield Dl.present());try{const uy=yield wt.storageService.getSession(ko);if(!uy)throw new Error(`invalid session ${ko}`);wt.emulationState.setCurrentSession(void 0);const FX=yield wt.cloudpilotService.cloudpilot;if(!(yield wt.restoreSession(uy,FX)))return wt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;wt.emulationState.setCurrentSession(uy),yield wt.sessionsService.updateSession({...uy,lastLaunch:Date.now()}),function g9(e){Y0(zv,e+"")}(ko)}finally{Dl&&(yield Dl.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,O.Z)(function*(){!wt.emulationState.getCurrentSession()||wt.running||wt.errorService.hasFatalError()||!wt.cloudpilotInstance||(yield wt.kvsService.mutex.runExclusive(()=>wt.updateFeatures()),wt.doResume(),wt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,O.Z)(function*(){wt.doPause(),!wt.errorService.hasFatalError()&&wt.emulationState.getCurrentSession()&&(yield wt.snapshotService.waitForPendingSnapshot(),yield wt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([ko,La])=>this.mutex.runExclusive((0,O.Z)(function*(){const Dl=wt.emulationState.getCurrentSession();ko===Dl?.id&&(void 0!==Dl.mountedCard&&void 0===La&&wt.storageCardContext.release(Dl.mountedCard,Sr.cloudpilot),wt.emulationState.setCurrentSession(La),wt.emulationState.getCurrentSession()||(BR(),wt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,O.Z)(function*(){const ko=wt.emulationState.getCurrentSession();ko&&wt.sessionsService.emergencySaveSession(ko)})),this.mutex=new oa,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(ko=>{ko.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.networkService.initialize(ko),this.networkService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const ir=function m9(){const e=LR(zv);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==ir&&!dM()&&(this.bootstrapCompletePromise=this.recoverStoredSession(ir))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden&&this.featureService.runHidden?mf.timeout:mf.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.networkService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,O.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.networkService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,O.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,O.Z)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{So&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,O.Z)(function*(){const[s,a,l]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,l)&&(i.networkService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Xn),se(Ge),se(Ls),se(rc),se(Mh),se(Nu),se(Pr),se(lS),se(uS),se(Ii),se(mP),se(gP),se(vP),se(Pa),se(bf),se(Ih),se(ic),se(SS),se(Ta))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),sy=(()=>{var e;class t{constructor(n,o,i){var s=this;this.loadingController=n,this.alertService=o,this.nativeAppService=i,this.updateNativeAppRegistrationStatus=a=>this.updateNativeAppRegistrationStatusMutex.runExclusive(()=>this.nativeAppService.setWorkerRegistered(a)),this.register=()=>this.registerMutex.runExclusive((0,O.Z)(function*(){if(s.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>s.reloadOnControllerChange&&window.location.reload()),yield new Promise(a=>setTimeout(a,3e3));try{s.setupRegistration(yield s.doRegister())}catch(a){console.error(a)}}})),this.reloadOnControllerChange=!1,this.registerMutex=new oa,this.updateNativeAppRegistrationStatusMutex=new oa,this.updateAvailableEvent=new ur.j,this.register(),this.isEnabled()&&this.updateNativeAppRegistrationStatus(this.isRegistered())}isEnabled(){return ia.production&&!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}reset(){var n=this;return(0,O.Z)(function*(){if(!n.registration)return;const o=yield n.loadingController.create();yield o.present();try{if(!(yield n.registration.unregister()))throw new Error("failed to unregister worker");yield n.updateNativeAppRegistrationStatus(!1)}catch{return void(yield n.alertService.errorMessage("Failed to unregister service worker."))}finally{yield o.dismiss()}yield n.alertService.message("Service worker unregistered","\n            The current service worker has been unregistered. Please reload the app\n            in order to register a new worker for offline usage.\n        ",{},"Reload"),window.location.reload()})()}update(){var n=this;return(0,O.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,O.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}doRegister(){return(0,O.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Ls),se(Pr),se(Bs))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),AP=(()=>{var e;class t{constructor(n,o,i,s,a){var l=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,O.Z)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==$u&&(yield l.kvsService.set({version:$u,previousVersion:c,latestVersion:$u}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${$u}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=$u})),this.mutex=new oa,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,O.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,O.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===$u){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,O.Z)(function*(){yield(yield n.modalController.create({component:Lu,componentProps:{url:tP,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,O.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Ii),se(Oa),se(Pr),se(us),se(sy))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),tq=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.kvsService=n,this.alertService=o,this.emulationService=i,this.pwaService=s,this.nativeAppService=a,this.serviceWorkerService=l}start(){var n=this;return(0,O.Z)(function*(){yield n.handleiOSNativeAppServiceWorkerBug();const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o),n.pwaService.getInstallationMode()===nc.pwa&&So&&!bl&&(n.kvsService.kvs.ios174UpdateWarningId=yield n.showIOS174UpdateWarning(n.kvsService.kvs.ios174UpdateWarningId))})()}handleiOSNativeAppServiceWorkerBug(){var n=this;return(0,O.Z)(function*(){if(!n.serviceWorkerService.isEnabled()||!(yield n.nativeAppService.getWorkerFailed()))return;let i=!1;yield n.alertService.message("App failed to load offline",'\n            It seems the app failed to load without internet. This is caused by an iOS bug.\n            <br><br>\n            You can fix by resetting the service worker now or by tapping\n            "reset worker" at the bottom of the "About" tab later.\n            ',{"Fix now":()=>i=!0},"Close"),i?yield n.serviceWorkerService.reset():n.nativeAppService.clearWorkerFailed()})()}showInfo(n){var o=this;return(0,O.Z)(function*(){return 2===n&&So&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(n){var o=this;return(0,O.Z)(function*(){return(n??0)>0&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("Update to iOS 17.4","\n                    Apple has backpedaled and will not disable homescreen apps in the European\n                    Union. The update to 17.4 is expected to be safe, and CloudpilotEmu will\n                    continue to work as before.\n                ")),0})()}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Ii),se(Pr),se(Oa),se(Kv),se(Bs),se(sy))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),nq=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,O.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Kv),v(AP),v(vP),v(tq))},e.\u0275cmp=qe({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(V(0,"ion-app"),je(1,"ion-router-outlet"),N())},dependencies:[pR,bh]}),t})(),kP=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(V(0,"div"),Se(1,"Dummy"),N())},encapsulation:2}),t})(),RP=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(wC),se(jo))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const wS=Q.m515,rq=sS[2],oq=sS[0],Cf="rgba(0,0,0,0.2)";function PP(e){const t=xh(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=l=>({frameDevice:l,frameCanvas:l*r}),i=l=>({frameDevice:l,frameCanvas:n.frameCanvas+l*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function lq(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class cq{constructor(t){this.skinLoader=t,this.layout=PP(wS),this.onResize=new ur.j}get width(){switch(this.getOrientation()){case Tr.portrait:case Tr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Tr.portrait:case Tr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.setupTransformation(),this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Tr.landscape90:{const p=c;c=this.layout.height.frameDevice-l,l=p;break}case Tr.landscape270:{const p=c;c=l,l=this.layout.width.frameDevice-p;break}case Tr.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const d=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=d&&(c=d-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=d)return;return[l,c]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,O.Z)(function*(){if(!t)return;r.layout=PP(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,O.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Cf),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Cf),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Cf),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Cf),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Cf),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Cf))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx.resetTransform(),this.getOrientation()){case Tr.portrait:case void 0:break;case Tr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Tr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Tr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,O.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,rq),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case Q.pegT600c:case Q.pegT650c:return"silkscreen/clie-t600.svg";case Q.pegN700c:case Q.pegN600c:return"silkscreen/clie-n610.svg";case Q.pegS320:case Q.pegS300:return"silkscreen/clie-s300.svg";case Q.pegS500c:return"silkscreen/clie-s500.svg";case Q.pegT400:return"silkscreen/clie-t415.svg";case Q.acerS11:return"silkscreen/acer-s10.svg";case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:return"silkscreen/pilot.svg";case Q.m500:return"silkscreen/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"silkscreen/m515.svg";case Q.iiic:return"silkscreen/iiic.svg";case Q.m100:case Q.m105:case Q.m125:return"silkscreen/m100.svg";case Q.m130:return"silkscreen/m130.svg";case Q.i710:return"silkscreen/tungstenw.svg";case Q.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case Q.acerS11:return"hard-buttons/acer-s10.svg";case Q.pegNR70:return"hard-buttons/clie-nr70.svg";case Q.pegN700c:return"hard-buttons/clie-n700.svg";case Q.pegN600c:return"hard-buttons/clie-n610.svg";case Q.pegS300:return"hard-buttons/clie-s300.svg";case Q.pegS500c:return"hard-buttons/clie-s500.svg";case Q.pegS320:return"hard-buttons/clie-s320.svg";case Q.pegT400:case Q.pegT600c:case Q.pegT650c:return"hard-buttons/clie-t415.svg";case Q.pilot:case Q.palmPilot:return"hard-buttons/pilot.svg";case Q.m500:return"hard-buttons/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"hard-buttons/m515.svg";case Q.iiic:return"hard-buttons/iiic.svg";case Q.m100:case Q.m105:return"hard-buttons/m100.svg";case Q.m125:return"hard-buttons/m125.svg";case Q.m130:return"hard-buttons/m130.svg";case Q.i710:return"hard-buttons/tungstenw.svg";case Q.iii:case Q.iiix:case Q.iiixe:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:return"hard-buttons/iiix.svg";case Q.iiie:return"hard-buttons/iiie.svg";case Q.i705:return"hard-buttons/i705.svg";case Q.handera330:return"hard-buttons/handera330.svg";case Q.handera330c:return"hard-buttons/handera330c.svg";case Q.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return aS(this.getDeviceId())?"white":oq}frameColor(){return aS(this.getDeviceId())?"white":"#ccc"}}function dq(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class pq{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,dq((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function uq(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,O.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(Eh||So)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let ay=(()=>{var e;class t extends cq{constructor(n){super(new pq(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,O.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,O.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,O.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??wS}getOrientation(){return this.session?.deviceOrientation??Tr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function hq(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(xh(this.session?.device??wS).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((c,d)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*d)))}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Pa))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),DS=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(v(jo),v(ay),v(rc))},e.\u0275cmp=qe({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(V(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),je(4,"ion-icon",3),V(5,"ion-label"),Se(6,"Emulator"),N()(),V(7,"ion-tab-button",4),je(8,"ion-icon",5),V(9,"ion-label"),Se(10,"Sessions"),N()(),V(11,"ion-tab-button",6),je(12,"ion-icon",7),V(13,"ion-label"),Se(14,"Cards"),N()(),V(15,"ion-tab-button",8),je(16,"ion-icon",9),V(17,"ion-label"),Se(18,"Settings"),N()(),V(19,"ion-tab-button",10),je(20,"ion-icon",11),V(21,"ion-label"),Se(22,"About"),N()()()()()),2&n&&(he(2),Js("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[Uo,Wi,Bv,mR,gR],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px;position:absolute;bottom:1px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Ah=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({imports:[dl,Z0.forChild(),Uc,ku,Ov]}),t})(),mq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({imports:[dl,ku,Uc,Ah,Z0.forChild()]}),t})(),gq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({imports:[dl,ku,Uc,Ah]}),t})(),vq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({imports:[dl,ku,Uc,Ov,Ah]}),t})(),yq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({imports:[dl,ku,Uc,Ah,Ov]}),t})(),_q=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({imports:[dl,Uc,ku,Ov,Ah]}),t})();const bq=b.p+"assets/doc/about-d756ad5a5204e14a.md";function Cq(e,t){if(1&e){const r=Cn();V(0,"ion-button",1),Le("click",function(){return Ct(r),St(st().onClick())}),je(1,"ion-icon",2),N()}if(2&e){const r=st();he(1),Ce("name",r.iconName)}}let ly=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return So?"logo-apple-appstore":q0?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Kv))},e.\u0275cmp=qe({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&$t(0,Cq,2,1,"ion-button",0),2&n&&Ce("ngIf",o.show)},dependencies:[Ao,Ui,Uo]}),t})();var kh;function Sq(e,t){1&e&&(V(0,"div",9),je(1,"ion-spinner"),N())}function wq(e,t){if(1&e){const r=Cn();V(0,"div"),Se(1,"app cached for offline use"),N(),V(2,"a",7),Le("click",function(){return Ct(r),St(st().resetWorker())}),Se(3,"reset worker"),N()}}class ES{constructor(t,r){this.modalController=t,this.serviceWorkerService=r,this.loading=!0}get version(){return $u}get url(){return bq}showChangelog(){var t=this;return(0,O.Z)(function*(){yield(yield t.modalController.create({component:Lu,componentProps:{url:tP,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}resetWorker(){var t=this;return(0,O.Z)(function*(){yield t.serviceWorkerService.reset()})()}}function Dq(e,t){if(1&e&&(V(0,"ion-select-option",16),Se(1),N()),2&e){const r=t.$implicit;Ce("value",r[0]),he(1),oi("",r[1]," ")}}function Eq(e,t){if(1&e&&(V(0,"ion-select-option",16),Se(1),N()),2&e){const r=t.$implicit;Ce("value",r[0]),he(1),oi("",r[1]," ")}}function Iq(e,t){if(1&e&&(V(0,"ion-item",6)(1,"ion-label",7),Se(2,"Hotsync name"),N(),je(3,"ion-input",17),N()),2&e){const r=st();he(3),Ce("placeholder",r.placeholder)}}(kh=ES).\u0275fac=function(t){return new(t||kh)(v(us),v(sy))},kh.\u0275cmp=qe({type:kh,selectors:[["app-about"]],decls:21,vars:5,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","disableSanitizer","load"],[1,"version"],["href","javascript:",3,"click"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(t,r){1&t&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"About"),N(),V(4,"ion-buttons",0),je(5,"app-pwa-prompt"),N()()(),V(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),Se(10,"About"),N()()(),$t(11,Sq,2,0,"div",3),V(12,"div",4)(13,"markdown",5),Le("load",function(){return r.loading=!1}),N()(),V(14,"div",6),Se(15),je(16,"br"),V(17,"a",7),Le("click",function(){return r.showChangelog()}),Se(18,"Changelog"),N(),$t(19,wq,4,0),N(),je(20,"img",8),N()),2&t&&(he(11),Ce("ngIf",r.loading),he(2),Ce("src",r.url)("disableSanitizer",!0),he(2),oi(" CloudpilotEmu version ",r.version," "),he(4),v1(19,r.serviceWorkerAvailable?19:-1))},dependencies:[Ao,Hi,Gi,zi,yh,Zi,qi,ly,W0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),re([An()],ES.prototype,"resetWorker",null);let OP=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Tr.portrait,"Portrait"],[Tr.landscape90,"Landscape 90\xb0"],[Tr.landscape270,"Landscape 270\xb0"],[Tr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,rP(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function eZ(e){switch(e){case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:case Q.palmVx:case Q.palmV:case Q.palmVIIEZ:case Q.palmVIIx:case Q.iiic:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.pegS300:case Q.pegS500c:return 16;case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.acerS11:return 33;case Q.pegT650c:case Q.pegNR70:case Q.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new Mv({name:new bo(this.session.name,{validators:[oh.required,this.validateNameUnique]}),manageHotsyncName:new bo(!this.session.dontManageHotsyncName),hotsyncName:new bo(this.session.hotsyncName||""),device:new bo({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new bo((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new bo(this.session.deviceOrientation||Tr.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ic),v(Pr))},e.\u0275cmp=qe({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"Session settings"),N(),V(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.save()}),Se(6,"Save"),N()(),V(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancel()}),Se(9,"Cancel"),N()()()(),V(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return o.onEnter()}),V(12,"h1"),Se(13,"Session"),N(),V(14,"ion-item",6)(15,"ion-label",7),Se(16,"Session name"),N(),je(17,"ion-input",8),N(),V(18,"h1"),Se(19,"Device"),N(),V(20,"ion-item",6)(21,"ion-label",7),Se(22,"Device type"),N(),V(23,"ion-select",9),$t(24,Dq,2,2,"ion-select-option",10),N()(),V(25,"ion-item",6)(26,"ion-label",7),Se(27,"Orientation"),N(),V(28,"ion-select",11),$t(29,Eq,2,2,"ion-select-option",10),N()(),V(30,"ion-item",6)(31,"ion-label",12),Se(32),N(),V(33,"ion-range",13),Le("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),N()(),V(34,"h1"),Se(35,"Hotsync"),N(),V(36,"ion-item",6)(37,"ion-label"),Se(38,"Manage hotsync name"),N(),je(39,"ion-toggle",14),N(),$t(40,Iq,4,1,"ion-item",15),N()()),2&n&&(he(5),Ce("disabled",o.formGroup.invalid),he(6),Ce("formGroup",o.formGroup),he(13),Ce("ngForOf",o.deviceList),he(5),Ce("ngForOf",o.orientations),he(3),Fi(o.speedLabel),he(8),Ce("ngIf",o.showHotsyncNameInput))},dependencies:[Zl,Ao,Ui,Hi,Gi,zi,ec,Co,Wi,F0,gh,vh,Zi,_h,qi,uf,mh,Jl,Ql,Yl,Xl,M0,Ra,vl],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),Tq=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=c}saveBackup(n){var o=this;return(0,O.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const c=yield o.cloudpilotService.cloudpilot;yield c.backup(function(){var d=(0,O.Z)(function*(p){for(p.Init(n);p.IsInProgress();){const m=p.GetCurrentDatabase();p.Save()||a.push(m),yield new Promise(_=>setTimeout(_,0))}l=c.getArchive(p)});return function(p){return d.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${_S(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(_P(i,n),l)},"Cancel"):o.fileService.saveFile(_P(i,n),l):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Oa),se(Ls),se(Mh),se(Zc),se(rc),se(Pr),se(Pa))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const xq=window.AudioContext||window.webkitAudioContext;function IS(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class Mq{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,O.Z)(function*(){for(let n=0;n<3;n++)if(yield r.initializeAudioUnguarded())return!1;return!0})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,O.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield IS(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield IS(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,O.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new oa,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),So||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||So||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}initializeAudioUnguarded(){var t=this;return(0,O.Z)(function*(){if(t.initialized)return!0;try{t.context=new xq}catch(r){return console.error(r),console.error("web audio not available"),!1}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),console.error("failed to initialize audio context"),!1}return t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0,!0})()}start(){var t=this;return(0,O.Z)(function*(){t.context&&(yield IS(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let TS=(()=>{var e;class t extends Mq{constructor(n,o,i,s){super(n),this.kvs=o,this.modalWatcher=i,this.featureService=s,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden&&this.featureService.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Oa),se(Ii),se(lS),se(SS))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),FP=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Oa),se(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function kq(e,t){if(1&e){const r=Cn();V(0,"ion-item",4),Le("click",function(){return Ct(r),St(st().power())}),V(1,"ion-label"),Se(2,"Power"),N(),je(3,"ion-icon",5),N()}if(2&e){const r=st();Ce("detail",!1)("disabled",!r.emulationService.isRunning())}}function Rq(e,t){if(1&e){const r=Cn();V(0,"ion-item",4),Le("click",function(){return Ct(r),St(st().hotsync())}),V(1,"ion-label"),Se(2,"Hotsync"),N(),je(3,"ion-icon",6),N()}if(2&e){const r=st();Ce("detail",!1)("disabled",!r.emulationService.isRunning())}}function Pq(e,t){if(1&e){const r=Cn();V(0,"ion-item",4),Le("click",function(){return Ct(r),St(st().reset())}),V(1,"ion-label"),Se(2,"Reset"),N(),je(3,"ion-icon",7),N()}if(2&e){const r=st();Ce("detail",!1)("disabled",!r.emulationService.isRunning())}}function Oq(e,t){if(1&e){const r=Cn();V(0,"ion-item",8),Le("click",function(){return Ct(r),St(st().insertCard())}),V(1,"ion-label"),Se(2),N(),je(3,"ion-icon",9),N()}if(2&e){const r=st();Ce("detail",!1),he(2),oi("Insert ",r.hasMemorystick?"stick":"SD card","")}}function Nq(e,t){if(1&e){const r=Cn();V(0,"ion-item",8),Le("click",function(){return Ct(r),St(st().ejectCard())}),V(1,"ion-label"),Se(2),N(),je(3,"ion-icon",10),N()}if(2&e){const r=st();Ce("detail",!1),he(2),oi("Eject ",r.hasMemorystick?"stick":"SD card","")}}function Fq(e,t){if(1&e){const r=Cn();V(0,"ion-item",8),Le("click",function(){return Ct(r),St(st().mute(!1))}),V(1,"ion-label"),Se(2,"Enable audio"),N(),je(3,"ion-icon",11),N()}2&e&&Ce("detail",!1)}function Lq(e,t){if(1&e){const r=Cn();V(0,"ion-item",8),Le("click",function(){return Ct(r),St(st().mute(!0))}),V(1,"ion-label"),Se(2,"Disable audio"),N(),je(3,"ion-icon",12),N()}2&e&&Ce("detail",!1)}function $q(e,t){if(1&e){const r=Cn();V(0,"ion-item",4),Le("click",function(){return Ct(r),St(st().backup())}),V(1,"ion-label"),Se(2,"Save backup"),N(),je(3,"ion-icon",13),N()}if(2&e){const r=st();Ce("detail",!1)("disabled",r.backupDisabled)}}function Bq(e,t){if(1&e){const r=Cn();V(0,"ion-item",8),Le("click",function(){return Ct(r),St(st().rotate())}),V(1,"ion-label"),Se(2,"Rotate"),N(),je(3,"ion-icon",14),N()}2&e&&Ce("detail",!1)}function Vq(e,t){if(1&e){const r=Cn();V(0,"ion-item",8),Le("click",function(){return Ct(r),St(st().editSettings())}),V(1,"ion-label"),Se(2,"Settings"),N(),je(3,"ion-icon",15),N()}2&e&&Ce("detail",!1)}function jq(e){switch(e){case Tr.portrait:case void 0:return Tr.landscape90;case Tr.landscape90:return Tr.portrait180;case Tr.portrait180:return Tr.landscape270;case Tr.landscape270:return Tr.portrait;default:throw new Error("cannot happen")}}let Uq=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,d,p,m,_,U,Y,ge,we,Ae,mt,ht){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=d,this.modalController=p,this.sessionService=m,this.performanceWatchdogService=_,this.canvasDisplayService=U,this.cloudpilotService=Y,this.storageCardService=ge,this.alertService=we,this.alertController=Ae,this.storageService=mt,this.errorService=ht,this.showHelp=()=>{}}reset(){var n=this;return(0,O.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,O.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function tZ(e){switch(e){case Q.i705:case Q.i710:case Q.pegNR70:case Q.pegT650c:case Q.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&oP(n.device)!==gf.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&oP(n.device)===gf.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,O.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:OP,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,O.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,O.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:jq(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,O.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(l=>i.deviceSupportsCardSize(l.size)&&!n.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>n.storageCardService.insertCard(l)}],inputs:s.map((l,c)=>({label:l.name,type:"radio",value:l.id,checked:0===c})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,O.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Oa),v(rc),v(Tq),v(gP),v(Ch),v(tc),v(TS),v(Ii),v(us),v(ic),v(FP),v(ay),v(Pa),v(bf),v(Pr),v($0),v(Xn),v(Nu))},e.\u0275cmp=qe({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(V(0,"ion-list"),$t(1,kq,4,2,"ion-item",0)(2,Rq,4,2,"ion-item",0)(3,Pq,4,2,"ion-item",0)(4,Oq,4,2,"ion-item",1)(5,Nq,4,2,"ion-item",1)(6,Fq,4,1,"ion-item",1)(7,Lq,4,1,"ion-item",1)(8,$q,4,2,"ion-item",0)(9,Bq,4,1,"ion-item",1)(10,Vq,4,1,"ion-item",1),V(11,"ion-item",2),Le("click",function(){return o.help()}),V(12,"ion-label"),Se(13,"Help"),N(),je(14,"ion-icon",3),N()()),2&n&&(he(1),Ce("ngIf",o.hasActiveSession&&!o.powerDisabled),he(1),Ce("ngIf",o.hasActiveSession),he(1),Ce("ngIf",o.hasActiveSession),he(1),Ce("ngIf",o.supportsStorageCard&&!o.hasMountedCard),he(1),Ce("ngIf",o.supportsStorageCard&&o.hasMountedCard),he(1),Ce("ngIf",o.isMuted&&!o.isAudioOff),he(1),Ce("ngIf",!o.isMuted&&!o.isAudioOff),he(1),Ce("ngIf",o.hasActiveSession),he(1),Ce("ngIf",o.hasActiveSession),he(1),Ce("ngIf",o.hasActiveSession),he(1),Ce("detail",!1))},dependencies:[Ao,Uo,Co,Wi,Fs]}),t})();const Hq=b.p+"assets/doc/emulation-43714ce6b9b92f30.md";function Gq(e,t){if(1&e){const r=Cn();V(0,"ion-item",2),Le("click",function(){const i=Ct(r).$implicit;return St(st(2).onSelect(i))}),V(1,"div",3),Se(2),N()()}if(2&e){const r=t.$implicit,n=t.index,o=st(2);Ce("detail",!1)("lines",n===o.sessions.length-1?"none":"full"),he(2),Fi(r.name)}}function zq(e,t){if(1&e&&(V(0,"ion-list"),$t(1,Gq,3,3,"ion-item",1),N()),2&e){const r=st();he(1),Ce("ngForOf",r.sessions)}}let Wq=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[1,"text-wrapper"]],template:function(n,o){1&n&&$t(0,zq,2,1,"ion-list",0),2&n&&Ce("ngIf",o.sessions)},dependencies:[Zl,Ao,Co,Fs],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}),t})();class Zq{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const d=this.canvasDisplayService.determineButton(c);d===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):d!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=d,this.handleButtonDown(d));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let qq=(()=>{var e;class t extends Zq{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Oa),se(ay),se(lS),se(Ge),se(Ta))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function LP(e){return/\.(prc|pdb|pqa)$/i.test(e)}class Jq{constructor(t,r,n,o,i){this.cloudpilotService=t,this.fstools=r,this.alertService=n,this.snapshotService=o,this.files=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,O.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else LP(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,O.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function Qq(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,O.Z)(function*(){const n=yield r.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===n.GetState();){const i=n.GetCurrentEntryName().replace(/^.*\//,"");if(!LP(n.GetCurrentEntryName())){n.Next();continue}const s=n.GetCurrentEntryContent();s?(yield r.installOne(i,s),o++):r.filesFail.push(i),n.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function Xq(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,r,"Skip any remaining errors",!1,{},"Continue").then(n=>{this.skipErrors=n})}}let eK=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.fstools=l}installFiles(n){var o=this;return(0,O.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new Jq(o.cloudpilotService,o.fstools,o.alertService,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const c=[o.messageSuccess(s),o.messageFailed(a),o.messageRequireReset(l)].filter(p=>!!p).join("<br/><br/>");let d;d=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(d,c,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${_S(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${_S(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Pa),se(Oa),se(Ls),se(Mh),se(Pr),se(ny))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),xS=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function tK(e,t){1&e&&je(0,"div",2)}const nK=["*"];let rK=0,$P=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new tn,this.triggerId="breadcrumb-trigger-"+rK++}handleClick(n){this.disabled||(n.preventDefault(),this.trigger.emit(this.triggerId))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(n,o){1&n&&Le("click",function(s){return o.handleClick(s)}),2&n&&(ks("id",o.triggerId),Js("disabled",o.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},ngContentSelectors:nK,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(n,o){1&n&&(pt(),V(0,"div",0),ft(1),N(),$t(2,tK,1,0,"div",1)),2&n&&(he(2),Ce("ngIf",!o.disabled))},dependencies:[Ao],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}),t})();var Rh;const oK=["canvas"];function iK(e,t){1&e&&je(0,"div",11),2&e&&pu("width",st().iosPlaceholderWidth)}function sK(e,t){if(1&e){const r=Cn();V(0,"ion-button",12),Le("click",function(){return Ct(r),St(st().navigation.lock())}),je(1,"ion-icon",13),N()}}function aK(e,t){if(1&e){const r=Cn();V(0,"ion-button",12),Le("click",function(){return Ct(r),St(st().navigation.unlock())}),je(1,"ion-icon",14),N()}}function lK(e,t){if(1&e){const r=Cn();V(0,"ion-button",12),Le("click",function(o){return Ct(r),St(st().openContextMenu(o))}),je(1,"ion-icon",15),N()}}function cK(e,t){if(1&e){const r=Cn();V(0,"ion-button",12),Le("click",function(){return Ct(r),St(st().showGameModeHint())}),je(1,"ion-icon",16),N()}}function uK(e,t){if(1&e){const r=Cn();V(0,"ion-button",12),Le("click",function(){return Ct(r),St(st().showProxyConnectedHint())}),je(1,"ion-icon",17),N()}}function dK(e,t){if(1&e){const r=Cn();V(0,"ion-button",12),Le("click",function(){return Ct(r),St(st().showSlowdowndHint())}),je(1,"ion-icon",18),N()}}function fK(e,t){if(1&e){const r=Cn();V(0,"ion-button",12),Le("click",function(o){return Ct(r),St(st().openContextMenu(o))}),je(1,"ion-icon",15),N()}}function pK(e,t){if(1&e){const r=Cn();V(0,"div",19),Se(1," The device was reset forcefully. How do you want to boot? "),V(2,"ion-button",20),Le("click",function(){return Ct(r),St(st().bootAfterForcefulReset())}),Se(3,"Normal boot"),N(),V(4,"ion-button",20),Le("click",function(){return Ct(r),St(st().bootAfterForcefulResetNoExtensions())}),Se(5,"No extensions"),N(),V(6,"ion-button",20),Le("click",function(){return Ct(r),St(st().bootAfterForcefulResetHardReset())}),Se(7,"Hard reset"),N()()}}function hK(e,t){1&e&&(V(0,"div",19)(1,"div"),Se(2,"No session selected"),N()())}class Na{constructor(t,r,n,o,i,s,a,l,c,d,p,m,_,U,Y,ge,we,Ae,mt,ht,Ut){var wt=this;this.emulationService=t,this.emulationState=r,this.storageService=n,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=d,this.snapshotService=p,this.installlationService=m,this.networkService=_,this.navigation=U,this.linkApi=Y,this.performanceWatchdogService=ge,this.cloudpilotService=we,this.dragDropService=Ae,this.sessionService=mt,this.loadingController=ht,this.config=Ut,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,O.Z)(function*(){yield wt.emulationService.bootstrapComplete(),wt.bootstrapComplete=!0;const ir=wt.emulationState.getCurrentSession();ir&&!ir.wasResetForcefully&&(yield wt.launchEmulator()),wt.linkApi.installation.requestEvent.addHandler(wt.handleLinkApiInstallationRequest),wt.handleLinkApiInstallationRequest(),wt.dragDropService.registerClient(wt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=ir=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(ir,this.emulationService.getStatistics())},this.onNewFrame=ir=>{this.canvasDisplayService.updateEmulationCanvas(ir)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const ir=this.linkApi.installation.receivePendingUrl();ir&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${ir} ?`,{OK:()=>this.fileService.openUrl(ir,La=>this.installlationService.installFiles([La]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${ir} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new oa}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t,r="trigger"){var n=this;return(0,O.Z)(function*(){(yield n.popoverController.create({component:Uq,event:t,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:r})).present()})()}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,O.Z)(function*(){yield(yield t.modalController.create({component:Lu,componentProps:{url:Hq}})).present()})()}showGameModeHint(){var t=this;return(0,O.Z)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,O.Z)(function*(){"native"===t.kvsService.kvs.networkRedirectionMode?yield t.alertService.message("Network session","PalmOS has opened a network session."):yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,O.Z)(function*(){yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,O.Z)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,O.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,O.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.networkService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var r=this;return(0,O.Z)(function*(){(yield r.popoverController.create({component:Wq,componentProps:{sessions:r.sessionService.getSessions().filter(o=>o.id!==r.emulationState.getCurrentSession()?.id),onSelect:o=>r.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.getSessions()}get currentSession(){return this.emulationState.getCurrentSession()}clearForcefulReset(){var t=this;return(0,O.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationState.getCurrentSession()?.name??"No session":""}launchEmulator(){var t=this;return(0,O.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,r).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.snapshotService.snapshotEvent.addHandler(t.onSnapshot),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement))})()}switchSession(t){var r=this;return(0,O.Z)(function*(){const n=yield r.loadingController.create();yield n.present();try{if(r.lastTitle=r.title,r.switching=!0,yield r.emulationService.pause(),!(yield r.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield r.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield r.launchEmulator())}finally{n.dismiss(),r.switching=!1}})()}}(Rh=Na).\u0275fac=function(t){return new(t||Rh)(v(Oa),v(rc),v(Xn),v(qq),v(ay),v(Ii),v(tc),v(us),v(Pr),v(Zc),v(Mh),v(eK),v(mP),v(DS),v(wC),v(FP),v(Pa),v(xS),v(ic),v(Ls),v(uh))},Rh.\u0275cmp=qe({type:Rh,selectors:[["app-emulation"]],viewQuery:function(t,r){if(1&t&&xc(oK,5),2&t){let n;Ps(n=Os())&&(r.canvasRef=n.first)}},decls:23,vars:23,consts:[[3,"disabled","trigger"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(t,r){if(1&t&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",0),Le("trigger",function(o){return r.onBreadcrumbTrigger(o)}),$t(4,iK,1,2,"div",1),Se(5),N()(),V(6,"ion-buttons",2)(7,"ion-button",3),Le("click",function(){return r.installFiles()}),je(8,"ion-icon",4),N(),$t(9,sK,2,0,"ion-button",5)(10,aK,2,0,"ion-button",5),N(),V(11,"ion-buttons",6),$t(12,lK,2,0,"ion-button",5)(13,cK,2,0,"ion-button",5)(14,uK,2,0,"ion-button",5)(15,dK,2,0,"ion-button",5)(16,fK,2,0,"ion-button",5),N()()(),V(17,"ion-content",7),Le("contextmenu",function(o){return r.onContextMenu(o)}),V(18,"div",8),Le("touchstart",function(o){return r.cancelIfEmulationActive(o)})("touchmove",function(o){return r.cancelIfEmulationActive(o)}),je(19,"canvas",null,9),N(),$t(21,pK,8,0,"div",10)(22,hK,3,0,"div",10),N()),2&t){let n,o;he(3),Ce("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.currentSession||0===r.sessions.length),he(1),Ce("ngIf","ios"===r.config.get("mode")),he(1),oi(" ",r.title,""),he(2),Ce("disabled",r.installFileDisabled),he(2),Ce("ngIf",!r.navigation.isLocked()),he(1),Ce("ngIf",r.navigation.isLocked()),he(2),Ce("ngIf","ios"===r.config.get("mode")),he(1),Ce("ngIf",r.eventHandlingService.isGameMode()),he(1),Ce("ngIf",r.networkService.isConnected()),he(1),Ce("ngIf",r.performanceWatchdogService.isSlowdownDetected()),he(1),Ce("ngIf","ios"!==r.config.get("mode")),he(1),Js("locked",r.navigation.isLocked()),he(1),pu("display",!r.emulationState.getCurrentSession()||null!=(n=r.emulationState.getCurrentSession())&&n.wasResetForcefully?"none":void 0),he(1),pu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),he(2),Ce("ngIf",null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),he(1),Ce("ngIf",!r.emulationState.getCurrentSession()&&r.bootstrapComplete&&!r.switching)}},dependencies:[Ao,Ui,Hi,Gi,zi,Uo,Zi,qi,$P],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),re([An()],Na.prototype,"openContextMenu",null),re([An()],Na.prototype,"showHelp",null),re([An()],Na.prototype,"showGameModeHint",null),re([An()],Na.prototype,"showProxyConnectedHint",null),re([An()],Na.prototype,"showSlowdowndHint",null),re([An()],Na.prototype,"bootAfterForcefulReset",null),re([An()],Na.prototype,"bootAfterForcefulResetNoExtensions",null),re([An()],Na.prototype,"bootAfterForcefulResetHardReset",null),re([An()],Na.prototype,"onBreadcrumbTrigger",null);const BP="reduced-animations",mK=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,O0.c)()),gK=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,O0.c)()},vK=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,O0.c)()};function VP(e){Y0(BP,e?"1":"0")}function jP(){return"1"===($R(BP)??"0")}const _K=b.p+"assets/doc/settings-0f30ff1ef4e3a677.md";function bK(e,t){1&e&&(V(0,"ion-item",7)(1,"ion-label"),Se(2,"Run when hidden"),N(),je(3,"ion-toggle",17),N())}function CK(e,t){1&e&&(V(0,"ion-item",7)(1,"ion-label"),Se(2,"Clipboard integration"),N(),je(3,"ion-toggle",18),N())}function SK(e,t){if(1&e&&(V(0,"ion-select-option",21),Se(1),N()),2&e){const r=t.$implicit;Ce("value",r[0]),he(1),oi("",r[1]," ")}}function wK(e,t){if(1&e&&(V(0,"ion-item",7)(1,"ion-select",19),$t(2,SK,2,2,"ion-select-option",20),N()()),2&e){const r=st();he(2),Ce("ngForOf",r.networkRedirectionModes)}}function DK(e,t){if(1&e){const r=Cn();V(0,"ion-item",7)(1,"ion-label",22),Se(2,"Proxy server"),N(),V(3,"div",23),je(4,"ion-input",24),V(5,"ion-button",25),Le("click",function(o){Ct(r);const i=st();return o.preventDefault(),o.stopPropagation(),St(i.testProxyConnection())})("touchstart",function(o){Ct(r);const i=st();return o.preventDefault(),o.stopPropagation(),St(i.testProxyConnection())}),Se(6," Test "),N()()()}if(2&e){const r=st();he(5),Ce("disabled",!r.proxyServerValid)}}function EK(e,t){if(1&e&&(V(0,"ion-item",7)(1,"ion-select",26)(2,"ion-select-option",21),Se(3,"Off"),N(),V(4,"ion-select-option",21),Se(5,"Portrait"),N(),V(6,"ion-select-option",21),Se(7,"Landscape"),N(),V(8,"ion-select-option",21),Se(9,"Always"),N()()()),2&e){const r=st();he(2),Ce("value",r.indicatorFixNone),he(2),Ce("value",r.indicatorFixPortrait),he(2),Ce("value",r.indicatorFixLandscape),he(2),Ce("value",r.indicatorFixAll)}}function IK(e,t){1&e&&(mu(0),V(1,"h1"),Se(2,"Debug"),N(),V(3,"ion-item",7)(4,"ion-label"),Se(5,"Snapshot validation (slow)"),N(),je(6,"ion-toggle",27),N(),gu())}let TK=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.networkBackendFactory=a,this.featureService=l,this.onAudioOnStartChange=c=>{this.kvsService.kvs.enableAudioOnFirstInteraction=c,So&&bl?this.alertService.message("Enable audio on start","\n                    This option will take effect the next time the app restarts.\n                "):c&&this.alertService.message("Enable audio on start","\n                Audio will automatically turn on after the first interaction with the application\n                (i.e. touch, click or keyboard event).\n                <br><br>\n                This option will take effect the next time CloudpilotEmu reloads.\n            ")},this.onReducedAnimationsChange=c=>{VP(c),this.alertService.message("Reduce animations",c?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on older iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                CloudpilotEmu reloads.\n            ":"\n                This option will only take effect the next time CloudpilotEmu reloads.\n            ")},this.networkRedirectionModes=[["native","Native"],["proxy","Proxy"]],this.onIndicatorFixModeChange=c=>MP(c),this.indicatorFixNone="none",this.indicatorFixPortrait="portrait",this.indicatorFixLandscape="landscape",this.indicatorFixAll="all",this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,O.Z)(function*(){yield(yield n.modalController.create({component:Lu,componentProps:{url:_K}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,O.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&"proxy"===n.formGroup.get("networkRedirectionMode")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,networkRedirectionMode:n.featureService.nativeNetworkIntegration?n.formGroup.get("networkRedirectionMode")?.value??"proxy":"proxy",proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),VP(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,O.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.networkBackendFactory.createBackendProxy(n.formGroup.get("proxyServer")?.value).handshake(0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value&&"native"!==this.formGroup.get("networkRedirectionMode")?.value}get showRedirectionMode(){return this.formGroup.get("networkRedirection")?.value&&this.featureService.nativeNetworkIntegration}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return ia.debug}get isIndicatorFixApplicable(){return CS()}get featureRunHidden(){return this.featureService.runHidden}createFormGroup(){this.formGroup=new Mv({volume:new bo(this.kvsService.kvs.volume),showStatistics:new bo(this.kvsService.kvs.showStatistics),runHidden:new bo(this.kvsService.kvs.runHidden),clipboardIntegration:new bo(this.kvsService.kvs.clipboardIntegration),networkRedirection:new bo(this.kvsService.kvs.networkRedirection),networkRedirectionMode:new bo(this.kvsService.kvs.networkRedirectionMode),proxyServer:new bo(this.kvsService.kvs.proxyServer,{validators:[SZ]}),autoLockUI:new bo(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new bo(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new bo(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new bo(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new bo(jP()),indicatorFixMode:new bo(xP())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange),this.formGroup.get("indicatorFixMode")?.valueChanges.subscribe(this.onIndicatorFixModeChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(us),v(Ii),v(uS),v(Pr),v(hP),v(SS))},e.\u0275cmp=qe({type:e,selectors:[["app-settings"]],decls:55,vars:7,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","runHidden"],["formControlName","clipboardIntegration"],["formControlName","networkRedirectionMode","label","Redirection method",1,"redirection-mode-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["label","Fix iOS home indicator","formControlName","indicatorFixMode"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"Settings"),N(),V(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.showHelp()}),je(6,"ion-icon",2),N(),je(7,"app-pwa-prompt"),N()()(),V(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),Se(12,"Settings"),N()()(),V(13,"div",5)(14,"form",6)(15,"h1"),Se(16,"Emulation"),N(),V(17,"ion-item",7)(18,"ion-label"),Se(19,"Volume"),N(),je(20,"ion-range",8),N(),V(21,"ion-item",7)(22,"ion-label"),Se(23,"Enable audio on start"),N(),je(24,"ion-toggle",9),N(),$t(25,bK,4,0,"ion-item",10),V(26,"h1"),Se(27,"Host integration"),N(),$t(28,CK,4,0,"ion-item",10),V(29,"ion-item",7)(30,"ion-label"),Se(31,"Network redirection"),N(),je(32,"ion-toggle",11),N(),$t(33,wK,3,1,"ion-item",10)(34,DK,7,1,"ion-item",10),V(35,"h1"),Se(36,"User interface"),N(),V(37,"ion-item",7)(38,"ion-label"),Se(39,"Auto-lock UI"),N(),je(40,"ion-toggle",12),N(),V(41,"ion-item",7)(42,"ion-label"),Se(43,"Reduce animations"),N(),je(44,"ion-toggle",13),N(),V(45,"ion-item",7)(46,"ion-label"),Se(47,"Show statistics"),N(),je(48,"ion-toggle",14),N(),V(49,"ion-item",7)(50,"ion-label"),Se(51,"Open from remote sources"),N(),je(52,"ion-toggle",15),N(),$t(53,EK,10,4,"ion-item",10)(54,IK,7,0,"ng-container",16),N()()()),2&n&&(he(14),Ce("formGroup",o.formGroup),he(11),Ce("ngIf",o.featureRunHidden),he(3),Ce("ngIf",o.clipboardService.isSupported()),he(5),Ce("ngIf",o.showRedirectionMode),he(1),Ce("ngIf",o.showProxyServer),he(19),Ce("ngIf",o.isIndicatorFixApplicable),he(1),Ce("ngIf",o.showDebugOptions))},dependencies:[Zl,Ao,Ql,Yl,Xl,Ui,Hi,Gi,zi,Uo,ec,Co,Wi,F0,gh,vh,Zi,_h,qi,uf,mh,Jl,ly,Ra,vl],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-bottom:2em}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}ion-select[_ngcontent-%COMP%]{margin-right:.5em}"]}),t})(),MS=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=To({name:"cardSize",type:e,pure:!0}),t})();function xK(e,t){1&e&&(V(0,"div",13)(1,"b"),Se(2,"WARNING:"),N(),Se(3," This image cannot be used as a memory stick image."),N())}let UP=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new jc({name:new cs("",{nonNullable:!0,validators:[oh.required,this.validateNameUnique]}),size:new cs({value:"dummy",disabled:!0}),checkAutomatically:new cs(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(v(bf))},e.\u0275cmp=qe({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3),N(),V(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.save()}),Se(6,"Save"),N()(),V(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancel()}),Se(9,"Cancel"),N()()()(),V(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return o.onEnter()}),V(12,"ion-item",6)(13,"ion-label",7),Se(14,"Card name"),N(),je(15,"ion-input",8),N(),V(16,"ion-item",6)(17,"ion-label",7),Se(18,"Card size"),N(),V(19,"ion-select",9)(20,"ion-select-option",10),Se(21),ll(22,"cardSize"),N()()(),V(23,"ion-item",6)(24,"ion-label"),Se(25,"Check for errors automatically"),N(),je(26,"ion-toggle",11),N()(),$t(27,xK,4,0,"div",12),N()),2&n&&(he(3),Fi(o.newCard?"New memory card":"Edit memory card"),he(2),Ce("disabled",o.formGroup.invalid),he(6),Ce("formGroup",o.formGroup),he(10),oi("",cl(22,5,null==o.card?null:o.card.size)," "),he(6),Ce("ngIf",!o.memoryStickSupported))},dependencies:[Ao,Ui,Hi,Gi,zi,ec,Co,Wi,gh,vh,Zi,_h,qi,uf,mh,Jl,Ql,Yl,Xl,Ra,vl,MS],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function MK(e,t){if(1&e&&(V(0,"ion-select-option",12),Se(1),ll(2,"cardSize"),N()),2&e){const r=t.$implicit,n=st();Ce("value",r),he(1),oi("",cl(2,2,n.sizeBytes(r))," ")}}const AK=[Ho.mb4,Ho.mb8,Ho.mb16,Ho.mb32,Ho.mb64,Ho.mb128];let kK=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new jc({name:new cs("",{nonNullable:!0,validators:[oh.required,this.validateNameUnique]}),size:new cs(Ho.mb32,{nonNullable:!0}),checkAutomatically:new cs(!0,{nonNullable:!0})})}get sizes(){return AK}sizeBytes(n){return function YZ(e){switch(e){case Ho.mb4:return 4046848;case Ho.mb8:return 8110080;case Ho.mb16:return 16220160;case Ho.mb32:return 32473088;case Ho.mb64:return 64978944;case Ho.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(bf))},e.\u0275cmp=qe({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"New memory card"),N(),V(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.create()}),Se(6,"Create"),N()(),V(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancel()}),Se(9,"Cancel"),N()()()(),V(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return o.onEnter()}),V(12,"ion-item",6)(13,"ion-label",7),Se(14,"Card name"),N(),je(15,"ion-input",8),N(),V(16,"ion-item",6)(17,"ion-label",7),Se(18,"Card size"),N(),V(19,"ion-select",9),$t(20,MK,3,4,"ion-select-option",10),N()(),V(21,"ion-item",6)(22,"ion-label"),Se(23,"Check for errors automatically"),N(),je(24,"ion-toggle",11),N()()()),2&n&&(he(5),Ce("disabled",o.formGroup.invalid),he(6),Ce("formGroup",o.formGroup),he(9),Ce("ngForOf",o.sizes))},dependencies:[Zl,Ui,Hi,Gi,zi,ec,Co,Wi,gh,vh,Zi,_h,qi,uf,mh,Jl,Ql,Yl,Xl,Ra,vl,MS]}),t})();function qc(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}const RK=b.p+"assets/doc/cards-75195154c07dfe52.md";let PK=(()=>{var e;class t{constructor(){this.cardCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(V(0,"ion-list")(1,"ion-item",0),Le("click",function(){return null==o.onExport?null:o.onExport()}),je(2,"ion-icon",1),Se(3," Export "),N(),V(4,"ion-item",0),Le("click",function(){return null==o.onDelete?null:o.onDelete()}),je(5,"ion-icon",2),Se(6," Delete "),N(),V(7,"ion-item",3),Le("click",function(){return null==o.onHelp?null:o.onHelp()}),je(8,"ion-icon",4),Se(9," Help "),N()()),2&n&&(he(1),Ce("detail",!1)("disabled",0===o.cardCount),he(3),Ce("detail",!1)("disabled",0===o.cardCount),he(3),Ce("detail",!1))},dependencies:[Uo,Co,Fs]}),t})(),OK=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(V(0,"ion-list")(1,"ion-item",0),Le("click",function(){return o.onEdit()}),je(2,"ion-icon",1),Se(3," Edit "),N(),V(4,"ion-item",0),Le("click",function(){return o.onSave()}),je(5,"ion-icon",2),Se(6," Export "),N(),V(7,"ion-item",0),Le("click",function(){return o.onCheck()}),je(8,"ion-icon",3),Se(9," Check "),N(),V(10,"ion-item",4),Le("click",function(){return o.onDelete()}),je(11,"ion-icon",5),Se(12," Delete "),N()()),2&n&&(he(1),Ce("detail",!1),he(3),Ce("detail",!1),he(3),Ce("detail",!1),he(3),Ce("detail",!1))},dependencies:[Uo,Co,Fs]}),t})();function NK(e,t){1&e&&je(0,"ion-icon",15)}function FK(e,t){1&e&&je(0,"ion-icon",16)}let LK=(()=>{var e;class t{constructor(n,o,i,s){this.storageCardService=n,this.popoverController=o,this.cd=s,this.touched=!1,this.interaction=new tn,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new tn,this.edit=new tn,this.check=new tn,this.delete=new tn,this.save=new tn,this.checkSessions=qc(s,[],()=>i.getSessions())}ngDoCheck(){this.checkSessions()}onContextmenu(n){var o=this;return(0,O.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:OK,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case hr.dirty:return"needs check";case hr.clean:return"no errors";case hr.unformatted:return"no filesystem";case hr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(v(bf),v(tc),v(ic),v(at))},e.\u0275cmp=qe({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:21,vars:10,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Cn();V(0,"ion-item-sliding",0,1),Le("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),V(2,"ion-item-options",2)(3,"ion-item-option",3),Le("click",function(){return Ct(i),Rs(1).close(),St(o.edit.emit(o.card))}),je(4,"ion-icon",4),N(),V(5,"ion-item-option",5),Le("click",function(){return Ct(i),Rs(1).close(),St(o.save.emit(o.card))}),je(6,"ion-icon",6),N()(),V(7,"ion-item-options",7)(8,"ion-item-option",8),Le("click",function(){return Ct(i),Rs(1).close(),St(o.check.emit(o.card))}),je(9,"ion-icon",9),N(),V(10,"ion-item-option",10),Le("click",function(){return Ct(i),Rs(1).close(),St(o.delete.emit(o.card))}),je(11,"ion-icon",11),N()(),V(12,"ion-item",12),Le("click",function(){return o.selectCard.emit(),o.interaction.emit()}),V(13,"ion-label")(14,"h2"),Se(15),N(),V(16,"p"),Se(17),ll(18,"cardSize"),N()(),$t(19,NK,1,0,"ion-icon",13)(20,FK,1,0,"ion-icon",14),N()()}2&n&&(he(12),Ce("color",o.color),he(1),Js("selecting",o.selecting),he(2),Fi(null==o.card?null:o.card.name),he(2),xp("",cl(18,8,null==o.card?null:o.card.size),", ",o.status,""),he(2),Ce("ngIf",o.selecting&&!o.selectedForExport),he(1),Ce("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Ao,Uo,Co,Fv,Lv,$v,Wi,MS],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var Ph;function $K(e,t){if(1&e){const r=Cn();V(0,"ion-toolbar")(1,"ion-title"),Se(2,"Memory cards"),N(),V(3,"ion-buttons",6)(4,"ion-button",7),Le("click",function(){return Ct(r),St(st().addCardImage())}),je(5,"ion-icon",8),N()(),V(6,"ion-buttons",9)(7,"ion-button",7),Le("click",function(o){return Ct(r),St(st().openActionMenu(o))}),je(8,"ion-icon",10),N(),je(9,"app-pwa-prompt"),N()()}}function BK(e,t){1&e&&(V(0,"ion-title"),Se(1,"Export"),N())}function VK(e,t){1&e&&(V(0,"ion-title"),Se(1,"Delete"),N())}function jK(e,t){if(1&e){const r=Cn();V(0,"ion-buttons",9)(1,"ion-button",7),Le("click",function(){return Ct(r),St(st(2).onSelectAll())}),Se(2,"Select all"),N()()}}function UK(e,t){if(1&e){const r=Cn();V(0,"ion-buttons",9)(1,"ion-button",7),Le("click",function(){return Ct(r),St(st(2).selection.clear())}),Se(2,"Clear"),N()()}}function HK(e,t){if(1&e){const r=Cn();V(0,"ion-toolbar"),$t(1,BK,2,0,"ion-title",0)(2,VK,2,0,"ion-title",0),V(3,"ion-buttons",6)(4,"ion-button",7),Le("click",function(){return Ct(r),St(st().onSelectionDone())}),Se(5),N()(),$t(6,jK,3,0,"ion-buttons",11)(7,UK,3,0,"ion-buttons",11),N()}if(2&e){const r=st();he(1),Ce("ngIf","select-for-export"===r.mode),he(1),Ce("ngIf","select-for-delete"===r.mode),he(3),Fi(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),he(1),Ce("ngIf",r.selection.size!==r.cards.length),he(1),Ce("ngIf",r.selection.size===r.cards.length)}}function GK(e,t){1&e&&(V(0,"ion-title",12),Se(1,"Memory cards"),N())}function zK(e,t){1&e&&(V(0,"ion-title",12),Se(1,"Select for export"),N())}function WK(e,t){1&e&&(V(0,"ion-title",12),Se(1,"Select for delete"),N())}function ZK(e,t){1&e&&(V(0,"div",13),je(1,"ion-spinner"),N())}function qK(e,t){1&e&&(V(0,"div",14)(1,"div",15),Se(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),N()())}function KK(e,t){if(1&e){const r=Cn();V(0,"app-storage-card",17),Le("delete",function(){const i=Ct(r).$implicit;return St(st(2).deleteCard(i))})("selectCard",function(){const i=Ct(r).$implicit,s=st(2);return St("manage"===s.mode?s.browseCard(i):s.toggleSelection(i))})("edit",function(){const i=Ct(r).$implicit;return St(st(2).editCard(i))})("check",function(){const i=Ct(r).$implicit;return St(st(2).checkCard(i))})("interaction",function(){const i=Ct(r).$implicit;return St(st(2).lastCardTouched=i.id)})("save",function(){const i=Ct(r).$implicit;return St(st(2).saveCard(i))}),N()}if(2&e){const r=t.$implicit,n=st(2);Ce("card",r)("touched",r.id===n.lastCardTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function YK(e,t){if(1&e&&(V(0,"ion-list"),$t(1,KK,1,4,"app-storage-card",16),N()),2&e){const r=st();he(1),Ce("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class wl{constructor(t,r,n,o,i,s,a,l,c,d,p,m){var _=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.cloudpilotService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=c,this.popoverController=d,this.cd=m,this.handleCardImport=function(){var U=(0,O.Z)(function*(Y){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(Y.name))return void _.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(Y.name.endsWith(".zip")){let ht=!1;return yield _.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>ht=!0},"Cancel"),void(ht&&(yield _.storageCardService.addAllCardsFromArchive(yield Y.getContent())))}const ge=yield _.cloudpilotService.cloudpilot;let we;try{we=yield Y.getContent()}catch(ht){return console.warn(ht),void(yield _.alertService.errorMessage(`Unable to open ${Y.name}".`))}if(/\.gz$/.test(Y.name)){const ht=yield _.loadingController.create({message:"Unpacking..."});yield ht.present();try{we=yield _.fstools.gunzip(we)}finally{yield ht.dismiss()}}const Ae=we?ge.getCardSupportLevel(we.length):0;if(void 0===we||0===Ae)return void _.alertService.errorMessage("This is not a supported card image.");const mt=yield new Promise(function(){var ht=(0,O.Z)(function*(Ut){const wt=yield _.modalController.create({component:UP,backdropDismiss:!1,componentProps:{card:{name:_.disambiguateName(Y.name.replace(/\.gz$/,"")),size:we.length},cardSupportLevel:Ae,newCard:!0,onCancel:()=>{wt.dismiss(),Ut(void 0)},onSave:ir=>{Ut(ir),wt.dismiss()}}});yield wt.present()});return function(Ut){return ht.apply(this,arguments)}}());mt&&(yield _.storageCardService.createCardFromImage(mt.name,we,!!mt.dontFsckAutomatically))});return function(Y){return U.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set,this.checkCards=qc(m,[],()=>this.storageCardService.getAllCards()),this.checkSessions=qc(m,void 0,()=>p.getSessions())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards(),this.checkSessions()}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,O.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,O.Z)(function*(){yield(yield t.modalController.create({component:Lu,componentProps:{url:RK}})).present()})()}browseCard(t){var r=this;return(0,O.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,O.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:UP,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,O.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,O.Z)(function*(){const n=`${_f(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Export uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,O.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,r){return r.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,O.Z)(function*(){const r=t.mode;switch(t.mode="manage",r){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,O.Z)(function*(){const o=yield n.popoverController.create({component:PK,event:t,componentProps:{cardCount:n.cards.length,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,O.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.saveCard(n));break}default:yield r.exportSelection(t)}})()}executeMassDelete(t){var r=this;return(0,O.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.deleteCard(n));break}default:{let n=!0;if(yield r.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.storageCardService.deleteCard(i)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var r=this;return(0,O.Z)(function*(){const n=new Map(yield r.storageCardService.getAllCards().map(i=>[i.id,i]));if(t.map(i=>n.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield r.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield r.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,O.Z)(function*(){const r=yield t.modalController.create({component:kK,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,O.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return yf(t,n=>r.some(o=>o.name===n))}}function XK(e,t){1&e&&je(0,"ion-icon",8)}function QK(e,t){1&e&&je(0,"ion-icon",9)}function JK(e,t){1&e&&je(0,"ion-icon",10)}function eY(e,t){if(1&e){const r=Cn();V(0,"ion-item",2),Le("click",function(){const i=Ct(r).index;return St(st(2).onSelect(i))}),mu(1,3),$t(2,XK,1,0,"ion-icon",4)(3,QK,1,0,"ion-icon",5)(4,JK,1,0,"ion-icon",6),gu(),V(5,"div",7),Se(6),N()()}if(2&e){const r=t.$implicit,n=t.index,o=st(2);Ce("detail",!1)("lines",n===o.entries.length-1?"none":"full"),he(1),Ce("ngSwitch",o.entries.length),he(1),Ce("ngSwitchCase",n+1),he(1),Ce("ngSwitchCase",n+2),he(3),Fi(r)}}function tY(e,t){if(1&e&&(V(0,"ion-list"),$t(1,eY,7,6,"ion-item",1),N()),2&e){const r=st();he(1),Ce("ngForOf",r.entries)}}(Ph=wl).\u0275fac=function(t){return new(t||Ph)(v(Ch),v(bf),v(us),v(Pa),v(Pr),v(Nu),v(Zc),v(Ls),v(ny),v(tc),v(ic),v(at))},Ph.\u0275cmp=qe({type:Ph,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(V(0,"ion-header"),$t(1,$K,10,0,"ion-toolbar",0)(2,HK,8,5,"ion-toolbar",0),N(),V(3,"ion-content",1),Le("contextmenu",function(o){return r.onContextMenu(o)}),V(4,"ion-header",2)(5,"ion-toolbar"),$t(6,GK,2,0,"ion-title",3)(7,zK,2,0,"ion-title",3)(8,WK,2,0,"ion-title",3),N()(),$t(9,ZK,2,0,"div",4)(10,qK,3,0,"div",5)(11,YK,2,2,"ion-list",0),N()),2&t&&(he(1),Ce("ngIf","manage"===r.mode),he(1),Ce("ngIf","manage"!==r.mode),he(4),Ce("ngIf","manage"===r.mode),he(1),Ce("ngIf","select-for-export"===r.mode),he(1),Ce("ngIf","select-for-delete"===r.mode),he(1),Ce("ngIf",r.storageCardService.isLoading()),he(1),Ce("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),he(1),Ce("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Zl,Ao,Ui,Hi,Gi,zi,Uo,Fs,yh,Zi,qi,ly,LK],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),re([An()],wl.prototype,"addCardImage",null),re([An()],wl.prototype,"browseCard",null),re([An()],wl.prototype,"editCard",null),re([An()],wl.prototype,"saveCard",null),re([An()],wl.prototype,"checkCard",null),re([An()],wl.prototype,"deleteCard",null),re([An()],wl.prototype,"onSelectionDone",null),re([An()],wl.prototype,"openActionMenu",null);let nY=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&$t(0,tY,2,1,"ion-list",0),2&n&&Ce("ngIf",o.entries)},dependencies:[Zl,Ao,Kg,Nx,Fx,Uo,Co,Fs],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}),t})(),rY=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Vu))},e.\u0275cmp=qe({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(V(0,"ion-list")(1,"ion-item",0),Le("click",function(){return o.onStartSelection()}),je(2,"ion-icon",1),Se(3," Start selection "),N(),V(4,"ion-item",2),Le("click",function(){return o.onAddFiles()}),je(5,"ion-icon",3),Se(6," Add files "),N(),V(7,"ion-item",2),Le("click",function(){return o.onCreateDirectry()}),je(8,"ion-icon",4),Se(9," Add directory "),N(),V(10,"ion-item",2),Le("click",function(){return o.onExtractZipfile()}),je(11,"ion-icon",5),Se(12," Extract zip "),N(),V(13,"ion-item",0),Le("click",function(){return o.onPaste()}),je(14,"ion-icon",6),Se(15," Paste "),N(),V(16,"ion-item",7),Le("click",function(){return o.onHelp()}),je(17,"ion-icon",8),Se(18," Help "),N()()),2&n&&(he(1),Ce("detail",!1)("disabled",o.emptyDirectory),he(3),Ce("detail",!1),he(3),Ce("detail",!1),he(3),Ce("detail",!1),he(3),Ce("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),he(3),Ce("detail",!1))},dependencies:[Uo,Co,Fs]}),t})();var Oh;class cy{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new jc({name:new cs("",{nonNullable:!0,validators:[oh.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new cs(!1,{nonNullable:!0}),attrHidden:new cs(!1,{nonNullable:!0}),attrSystem:new cs(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,O.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,O.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,O.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(Oh=cy).\u0275fac=function(t){return new(t||Oh)(v(us),v(Vu))},Oh.\u0275cmp=qe({type:Oh,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3),N(),V(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return r.onSaveClick()}),Se(6,"Save"),N()(),V(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return r.onCancelClick()}),Se(9,"Cancel"),N()()()(),V(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return r.onEnter()}),V(12,"ion-item",6)(13,"ion-label",7),Se(14),N(),je(15,"ion-input",8),N(),V(16,"ion-item",6)(17,"h2"),Se(18,"Attributes"),N()(),V(19,"ion-item",6)(20,"ion-label"),je(21,"ion-icon",9),Se(22,"Readonly"),N(),je(23,"ion-checkbox",10),N(),V(24,"ion-item",6)(25,"ion-label"),je(26,"ion-icon",11),Se(27,"Hidden"),N(),je(28,"ion-checkbox",12),N(),V(29,"ion-item",6)(30,"ion-label"),je(31,"ion-icon",13),Se(32,"System"),N(),je(33,"ion-checkbox",14),N()()()),2&t&&(he(3),oi("Edit ",r.subjectName.toLowerCase(),""),he(2),Ce("disabled",r.formGroup.invalid),he(6),Ce("formGroup",r.formGroup),he(3),oi("",r.subjectName," name"),he(1),Cg("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[Ui,Hi,hR,Gi,zi,Uo,ec,Co,Wi,Zi,qi,uf,Jl,Ql,Yl,Xl,Ra,vl],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),re([An()],cy.prototype,"onSaveClick",null),re([An()],cy.prototype,"onEnter",null);let oY=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(nt),v(Ge))},e.\u0275dir=xt({type:e,selectors:[["","appAutofocus",""]]}),t})(),iY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new jc({name:new cs("",{nonNullable:!0,validators:[oh.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Vu),v(us))},e.\u0275cmp=qe({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"Create directory"),N(),V(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.onCreateClick()}),Se(6,"Create"),N()(),V(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancelClick()}),Se(9,"Cancel"),N()()()(),V(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return o.onEnter()}),V(12,"ion-item",6)(13,"ion-label",7),Se(14,"Directory name"),N(),je(15,"ion-input",8),N()()()),2&n&&(he(5),Ce("disabled",o.formGroup.invalid),he(6),Ce("formGroup",o.formGroup))},dependencies:[Ui,Hi,Gi,zi,ec,Co,Wi,Zi,qi,Jl,Ql,Yl,Xl,Ra,vl,oY]}),t})();function HP(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const sY=b.p+"assets/doc/card-browser-5a0261814255810d.md";let aY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(V(0,"ion-list")(1,"ion-item",0),Le("click",function(){return o.onEdit()}),je(2,"ion-icon",1),Se(3," Edit "),N(),V(4,"ion-item",0),Le("click",function(){return o.onSave()}),je(5,"ion-icon",2),Se(6," Save "),N(),V(7,"ion-item",0),Le("click",function(){return o.onCopy()}),je(8,"ion-icon",3),Se(9," Copy "),N(),V(10,"ion-item",0),Le("click",function(){return o.onCut()}),je(11,"ion-icon",4),Se(12," Cut "),N(),V(13,"ion-item",5),Le("click",function(){return o.onDelete()}),je(14,"ion-icon",6),Se(15," Delete "),N()()),2&n&&(he(1),Ce("detail",!1),he(3),Ce("detail",!1),he(3),Ce("detail",!1),he(3),Ce("detail",!1),he(3),Ce("detail",!1))},dependencies:[Uo,Co,Fs]}),t})(),GP=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=To({name:"fileSize",type:e,pure:!0}),t})();const lY=["slidingItem"];function cY(e,t){1&e&&je(0,"ion-icon",24)}function uY(e,t){1&e&&je(0,"ion-icon",25)}function dY(e,t){1&e&&je(0,"ion-icon",26)}function fY(e,t){1&e&&je(0,"ion-icon",27)}function pY(e,t){1&e&&je(0,"ion-icon",28)}function hY(e,t){1&e&&je(0,"ion-icon",29)}function mY(e,t){1&e&&je(0,"ion-icon",30)}function gY(e,t){1&e&&je(0,"ion-icon",31)}function vY(e,t){1&e&&je(0,"ion-icon",32)}function yY(e,t){if(1&e&&(mu(0),Se(1),ll(2,"fileSize"),gu()),2&e){const r=st();he(1),oi(" - ",cl(2,1,null==r.entry?null:r.entry.size)," ")}}let _Y=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new tn,this.selectEntry=new tn,this.editEntry=new tn,this.copyEntry=new tn,this.cutEntry=new tn,this.deleteEntry=new tn,this.saveEntry=new tn,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,O.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:aY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,O.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ch),v(tc),v(Vu))},e.\u0275cmp=qe({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&xc(lY,5),2&n){let i;Ps(i=Os())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[ni],decls:29,vars:23,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Cn();V(0,"ion-item-sliding",0,1),Le("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),V(2,"ion-item-options",2)(3,"ion-item-option",3),Le("click",function(){return Ct(i),Rs(1).close(),St(o.editEntry.emit(o.entry))}),je(4,"ion-icon",4),N(),V(5,"ion-item-option",5),Le("click",function(){return Ct(i),Rs(1).close(),St(o.saveEntry.emit(o.entry))}),je(6,"ion-icon",6),N()(),V(7,"ion-item-options",7)(8,"ion-item-option",8),Le("click",function(){return Ct(i),Rs(1).close(),St(o.cutOrCopyEntry())}),je(9,"ion-icon",9),N(),V(10,"ion-item-option",10),Le("click",function(){return Ct(i),Rs(1).close(),St(o.deleteEntry.emit(o.entry))}),je(11,"ion-icon",11),N()(),V(12,"ion-item",12),Le("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),$t(13,cY,1,0,"ion-icon",13)(14,uY,1,0,"ion-icon",14),V(15,"div",15),$t(16,dY,1,0,"ion-icon",16)(17,fY,1,0,"ion-icon",17)(18,pY,1,0,"ion-icon",18)(19,hY,1,0,"ion-icon",19)(20,mY,1,0,"ion-icon",20),N(),$t(21,gY,1,0,"ion-icon",21)(22,vY,1,0,"ion-icon",22),V(23,"ion-label")(24,"h2"),Se(25),N(),V(26,"p"),Se(27),$t(28,yY,3,3,"ng-container",23),N()()()()}2&n&&(Ce("disabled",o.selecting),he(12),pu("opacity",o.touched?1:.99999),Js("is-directory",null==o.entry?null:o.entry.isDirectory),Ce("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),he(1),Ce("ngIf",null==o.entry?null:o.entry.isDirectory),he(1),Ce("ngIf",!(null!=o.entry&&o.entry.isDirectory)),he(2),Ce("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),he(1),Ce("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),he(1),Ce("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),he(1),Ce("ngIf",o.markedForCopy),he(1),Ce("ngIf",o.markedForCut),he(1),Ce("ngIf",o.selecting&&!o.selected),he(1),Ce("ngIf",o.selecting&&o.selected),he(1),pu("padding-right",o.safetyMargin),Js("selecting",o.selecting),he(2),Fi(null==o.entry?null:o.entry.name),he(2),oi(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),he(1),Ce("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[Ao,Uo,Co,Fv,Lv,$v,Wi,GP],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var Nh;function bY(e,t){if(1&e){const r=Cn();V(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",6),Le("trigger",function(o){return Ct(r),St(st().openBreadcrumbMenu(o))}),Se(3),N()(),V(4,"ion-buttons",7),je(5,"ion-back-button"),N(),V(6,"ion-buttons",8)(7,"ion-button",9),Le("click",function(o){return Ct(r),St(st().openContextMenu(o,"trigger"))}),je(8,"ion-icon",10),N()()()}if(2&e){const r=st();he(3),Fi(r.title)}}function CY(e,t){if(1&e){const r=Cn();V(0,"ion-buttons",12)(1,"ion-button",9),Le("click",function(){return Ct(r),St(st(2).onSelectAll())}),Se(2,"Select all"),N()()}}function SY(e,t){if(1&e){const r=Cn();V(0,"ion-buttons",12)(1,"ion-button",9),Le("click",function(){return Ct(r),St(st(2).selection.clear())}),Se(2,"Clear"),N()()}}function wY(e,t){if(1&e){const r=Cn();V(0,"ion-toolbar")(1,"ion-title"),Se(2,"Selection"),N(),V(3,"ion-buttons",8)(4,"ion-button",9),Le("click",function(){return Ct(r),St(st().onSelectionDone())}),Se(5),N()(),$t(6,CY,3,0,"ion-buttons",11)(7,SY,3,0,"ion-buttons",11),N()}if(2&e){const r=st();he(5),Fi(0===r.selection.size?"Cancel":"Done"),he(1),Ce("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),he(1),Ce("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function DY(e,t){if(1&e&&(V(0,"div",13)(1,"div",14),Se(2),N()()),2&e){const r=st();he(2),oi("empty ",r.isRoot?"card":"directory","")}}function EY(e,t){if(1&e){const r=Cn();V(0,"app-file-entry",15),Le("selectEntry",function(){const i=Ct(r).$implicit;return St(st().onSelect(i))})("editEntry",function(){const i=Ct(r).$implicit;return St(st().onEditEntry(i))})("saveEntry",function(){const i=Ct(r).$implicit;return St(st().onSaveEntry(i))})("copyEntry",function(){const i=Ct(r).$implicit;return St(st().onCopyEntry(i))})("cutEntry",function(){const i=Ct(r).$implicit;return St(st().onCutEntry(i))})("deleteEntry",function(){const i=Ct(r).$implicit;return St(st().onDeleteEntry(i))})("interaction",function(){const i=Ct(r).$implicit;return St(st().lastEntryTouched=i.name)}),N()}if(2&e){const r=t.$implicit,n=st();Ce("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function IY(e,t){if(1&e&&(V(0,"p"),Se(1),ll(2,"fileSize"),ll(3,"fileSize"),N()),2&e){const r=st(2);he(1),xp("",cl(2,2,r.bytesFree)," free, ",cl(3,4,r.bytesTotal)," total")}}function TY(e,t){if(1&e&&(V(0,"p"),Se(1),ll(2,"fileSize"),N()),2&e){const r=st(2);he(1),hb(" ",cl(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function xY(e,t){if(1&e&&(V(0,"ion-item",16)(1,"ion-label"),$t(2,IY,4,6,"p",0)(3,TY,3,5,"p",0),N()()),2&e){const r=st();he(2),Ce("ngIf",r.isRoot),he(1),Ce("ngIf",r.fileCount>0)}}function MY(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class Fa{constructor(t,r,n,o,i,s,a,l){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.bytesInFilesMemoized=HP(c=>c?.reduce((d,p)=>d+(p.isDirectory?0:p.size),0)??0),this.fileCountMemoized=HP(c=>c?.filter(d=>!d.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.checkEntries=qc(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0),this.checkBytesFree=qc(l,void 0,()=>this.vfsService.getBytesFree())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries(),this.checkBytesFree()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(MY):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,O.Z)(function*(){yield(yield r.modalController.create({component:cy,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,O.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,O.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,O.Z)(function*(){yield(yield t.modalController.create({component:iY,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,O.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,O.Z)(function*(){yield(yield t.modalController.create({component:Lu,componentProps:{url:sY}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,O.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,O.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,O.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,O.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:nY,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,r){var n=this;return(0,O.Z)(function*(){(yield n.popoverController.create({component:rY,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,O.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(Nh=Fa).\u0275fac=function(t){return new(t||Nh)(v(Vu),v(tc),v(uh),v(Pr),v(Ch),v(us),v(Zc),v(at))},Nh.\u0275cmp=qe({type:Nh,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(V(0,"ion-header"),$t(1,bY,9,1,"ion-toolbar",0)(2,wY,8,3,"ion-toolbar",0),N(),V(3,"ion-content",1),Le("contextmenu",function(o){return r.onContextMenu(o)}),V(4,"div",2),$t(5,DY,3,1,"div",3),V(6,"ion-list"),$t(7,EY,1,4,"app-file-entry",4)(8,xY,4,2,"ion-item",5),N()()()),2&t&&(he(1),Ce("ngIf","browse"===r.mode),he(1),Ce("ngIf","select"===r.mode),he(3),Ce("ngIf",0===(null==r.entries?null:r.entries.length)),he(2),Ce("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),he(1),Ce("ngIf",r.isRoot||r.fileCount>0))},dependencies:[Zl,Ao,Ui,Hi,Gi,zi,Uo,Co,Wi,Fs,Zi,qi,vR,$P,_Y,GP],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),re([An()],Fa.prototype,"onSaveEntry",null),re([An()],Fa.prototype,"onDeleteEntry",null),re([An()],Fa.prototype,"onCreateDirectory",null),re([An()],Fa.prototype,"onPaste",null),re([An()],Fa.prototype,"onHelp",null),re([An()],Fa.prototype,"onSelectionDone",null),re([An()],Fa.prototype,"onSaveZip",null),re([An()],Fa.prototype,"onDeleteSelection",null);const AY=["nav"];let kY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(Fa,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=wl,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var n=this;return(0,O.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,O.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!r9}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(Fa,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Vu),v(xS))},e.\u0275cmp=qe({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&xc(AY,5),2&n){let i;Ps(i=Os())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&je(0,"ion-nav",0,1),2&n&&Ce("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[L0]}),t})();const RY=b.p+"assets/doc/sessions-868d7e6c0550348b.md";let PY=(()=>{var e;class t{constructor(){this.sessionCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(V(0,"ion-list")(1,"ion-item",0),Le("click",function(){return null==o.onExport?null:o.onExport()}),je(2,"ion-icon",1),Se(3," Export "),N(),V(4,"ion-item",0),Le("click",function(){return null==o.onDelete?null:o.onDelete()}),je(5,"ion-icon",2),Se(6," Delete "),N(),V(7,"ion-item",3),Le("click",function(){return null==o.onHelp?null:o.onHelp()}),je(8,"ion-icon",4),Se(9," Help "),N()()),2&n&&(he(1),Ce("detail",!1)("disabled",0===o.sessionCount),he(3),Ce("detail",!1)("disabled",0===o.sessionCount),he(3),Ce("detail",!1))},dependencies:[Uo,Co,Fs]}),t})(),OY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(V(0,"ion-list")(1,"ion-item",0),Le("click",function(){return o.onEdit()}),je(2,"ion-icon",1),Se(3," Edit "),N(),V(4,"ion-item",0),Le("click",function(){return o.onSave()}),je(5,"ion-icon",2),Se(6," Export "),N(),V(7,"ion-item",0),Le("click",function(){return o.onReset()}),je(8,"ion-icon",3),Se(9," Reset "),N(),V(10,"ion-item",4),Le("click",function(){return o.onDelete()}),je(11,"ion-icon",5),Se(12," Delete "),N()()),2&n&&(he(1),Ce("detail",!1),he(3),Ce("detail",!1),he(3),Ce("detail",!1),he(3),Ce("detail",!1))},dependencies:[Uo,Co,Fs]}),t})();const FY=["slidingItem"];function LY(e,t){if(1&e&&(V(0,"span"),Se(1),N()),2&e){const r=st();he(1),oi(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}function $Y(e,t){1&e&&je(0,"ion-icon",16)}function BY(e,t){1&e&&je(0,"ion-icon",17)}let VY=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new tn,this.resetSession=new tn,this.edit=new tn,this.save=new tn,this.selectItem=new tn,this.interaction=new tn}get device(){return this.session?rP(this.session.device):""}onContextmenu(n){var o=this;return(0,O.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:OY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function NY(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(tc))},e.\u0275cmp=qe({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&xc(FY,5),2&n){let i;Ps(i=Os())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:21,vars:12,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Cn();V(0,"ion-item-sliding",0,1),Le("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),V(2,"ion-item-options",2)(3,"ion-item-option",3),Le("click",function(){return Ct(i),Rs(1).close(),St(o.edit.emit(o.session))}),je(4,"ion-icon",4),N(),V(5,"ion-item-option",5),Le("click",function(){return Ct(i),Rs(1).close(),St(o.save.emit(o.session))}),je(6,"ion-icon",6),N()(),V(7,"ion-item-options",7)(8,"ion-item-option",8),Le("click",function(){return Ct(i),Rs(1).close(),St(o.resetSession.emit(o.session))}),je(9,"ion-icon",9),N(),V(10,"ion-item-option",10),Le("click",function(){return Ct(i),Rs(1).close(),St(o.delete.emit(o.session))}),je(11,"ion-icon",11),N()(),V(12,"ion-item",12),Le("click",function(){return o.selectItem.emit()}),V(13,"ion-label")(14,"h2"),Se(15),N(),V(16,"p"),Se(17),$t(18,LY,2,1,"span",13),N()(),$t(19,$Y,1,0,"ion-icon",14)(20,BY,1,0,"ion-icon",15),N()()}2&n&&(Ce("disabled",o.selecting),he(12),Ce("color",o.color),he(1),Js("in-item-color",o.selected)("selecting",o.selecting),he(2),Fi(null==o.session?null:o.session.name),he(2),xp("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),he(1),Ce("ngIf",null==o.session?null:o.session.osVersion),he(1),Ce("ngIf",o.selecting&&!o.selectedForExport),he(1),Ce("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Ao,Uo,Co,Fv,Lv,$v,Wi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var Fh;function jY(e,t){if(1&e){const r=Cn();V(0,"ion-toolbar")(1,"ion-title"),Se(2,"Sessions"),N(),V(3,"ion-buttons",6)(4,"ion-button",7),Le("click",function(){return Ct(r),St(st().importSession())}),je(5,"ion-icon",8),N()(),V(6,"ion-buttons",9)(7,"ion-button",7),Le("click",function(o){return Ct(r),St(st().openActionMenu(o))}),je(8,"ion-icon",10),N(),je(9,"app-pwa-prompt"),N()()}}function UY(e,t){1&e&&(V(0,"ion-title"),Se(1,"Export"),N())}function HY(e,t){1&e&&(V(0,"ion-title"),Se(1,"Delete"),N())}function GY(e,t){if(1&e){const r=Cn();V(0,"ion-buttons",9)(1,"ion-button",7),Le("click",function(){return Ct(r),St(st(2).onSelectAll())}),Se(2,"Select all"),N()()}}function zY(e,t){if(1&e){const r=Cn();V(0,"ion-buttons",9)(1,"ion-button",7),Le("click",function(){return Ct(r),St(st(2).selection.clear())}),Se(2,"Clear"),N()()}}function WY(e,t){if(1&e){const r=Cn();V(0,"ion-toolbar"),$t(1,UY,2,0,"ion-title",0)(2,HY,2,0,"ion-title",0),V(3,"ion-buttons",6)(4,"ion-button",7),Le("click",function(){return Ct(r),St(st().onSelectionDone())}),Se(5),N()(),$t(6,GY,3,0,"ion-buttons",11)(7,zY,3,0,"ion-buttons",11),N()}if(2&e){const r=st();he(1),Ce("ngIf","select-for-export"===r.mode),he(1),Ce("ngIf","select-for-delete"===r.mode),he(3),Fi(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),he(1),Ce("ngIf",r.selection.size!==r.sessionCount),he(1),Ce("ngIf",r.selection.size===r.sessionCount)}}function ZY(e,t){1&e&&(V(0,"ion-title",12),Se(1,"Sessions"),N())}function qY(e,t){1&e&&(V(0,"ion-title",12),Se(1,"Select for export"),N())}function KY(e,t){1&e&&(V(0,"ion-title",12),Se(1,"Select for delete"),N())}function YY(e,t){1&e&&(V(0,"div",13),je(1,"ion-spinner"),N())}function XY(e,t){1&e&&(mu(0),je(1,"br")(2,"br"),Se(3," You can find a collection of compatible ROMs on "),V(4,"a",16),Se(5,"PalmDB"),N(),Se(6,". "),gu())}function QY(e,t){if(1&e&&(V(0,"div",14)(1,"div",15),Se(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),$t(3,XY,7,0,"ng-container",0),N()()),2&e){const r=st();he(3),Ce("ngIf",r.showPalmdbLink)}}function JY(e,t){if(1&e){const r=Cn();V(0,"app-session-item",18),Le("delete",function(){const i=Ct(r).$implicit;return St(st(2).deleteSession(i))})("selectItem",function(){const i=Ct(r).$implicit,s=st(2);return St("manage"===s.mode?s.launchSession(i):s.toggleSelection(i))})("edit",function(){const i=Ct(r).$implicit;return St(st(2).editSession(i))})("save",function(){const i=Ct(r).$implicit;return St(st(2).saveSession(i))})("resetSession",function(){const i=Ct(r).$implicit;return St(st(2).resetSession(i))})("interaction",function(){const i=Ct(r).$implicit;return St(st(2).lastSessionTouched=i.id)}),N()}if(2&e){const r=t.$implicit,n=st(2);Ce("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function eX(e,t){if(1&e&&(V(0,"ion-list"),$t(1,JY,1,5,"app-session-item",17),N()),2&e){const r=st();he(1),Ce("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class sc{constructor(t,r,n,o,i,s,a,l,c,d,p,m,_,U){this.sessionService=t,this.fileService=r,this.alertService=n,this.emulationService=o,this.emulationState=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.cloudpilotService=d,this.dragDropService=p,this.popoverController=m,this.loadingController=_,this.cd=U,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const Y=this.linkApi.import.receivePendingUrl();Y&&this.alertService.message("Import request",`Do you want to import<br>${Y} ?`,{OK:()=>this.fileService.openUrl(Y,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.checkSessions=qc(U,[],()=>this.sessionService.getSessions()),this.checkCurrentSessionId=qc(U,void 0,()=>this.emulationState.getCurrentSession()?.id),this.checkLoading=qc(U,!0,()=>this.sessionService.isLoading())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkSessions(),this.checkCurrentSessionId(),this.checkLoading()}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}get sessionCount(){return this.sessionService.getSessions().length}deleteSession(t){var r=this;return(0,O.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var r=this;return(0,O.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!SP()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,O.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,O.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield r.alertService.message("Done",`Session ${t.name} has been reset.`)})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,O.Z)(function*(){yield(yield t.modalController.create({component:Lu,componentProps:{url:RY}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,O.Z)(function*(){const r=new Map(t.sessionService.getSessions().map(i=>[i.id,i])),n=Array.from(t.selection).map(i=>r.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(n);break;case"select-for-export":yield t.executeMassExport(n)}})()}onSelectAll(){this.sessionService.getSessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,O.Z)(function*(){const o=yield n.popoverController.create({component:PY,event:t,componentProps:{sessionCount:n.sessionCount,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}get showPalmdbLink(){return!(So&&bl)}executeMassExport(t){var r=this;return(0,O.Z)(function*(){1===t.length&&(yield r.sessionService.saveSession(t[0])),t.length>1&&(yield r.sessionService.saveSessions(t))})()}executeMassDelete(t){var r=this;return(0,O.Z)(function*(){if(1===t.length&&(yield r.deleteSession(t[0])),t.length>1){let n=!0;if(yield r.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var r=this;return(0,O.Z)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield r.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield r.sessionService.addSessionsFromArchive(n)))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:OP,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return yf(t,n=>r.some(o=>o.name===n))}}(Fh=sc).\u0275fac=function(t){return new(t||Fh)(v(ic),v(Zc),v(Pr),v(Oa),v(rc),v(Xn),v(us),v(wC),v(jo),v(Pa),v(xS),v(tc),v(Ls),v(at))},Fh.\u0275cmp=qe({type:Fh,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(V(0,"ion-header"),$t(1,jY,10,0,"ion-toolbar",0)(2,WY,8,5,"ion-toolbar",0),N(),V(3,"ion-content",1),Le("contextmenu",function(o){return r.onContextMenu(o)}),V(4,"ion-header",2)(5,"ion-toolbar"),$t(6,ZY,2,0,"ion-title",3)(7,qY,2,0,"ion-title",3)(8,KY,2,0,"ion-title",3),N()(),$t(9,YY,2,0,"div",4)(10,QY,4,1,"div",5)(11,eX,2,2,"ion-list",0),N()),2&t&&(he(1),Ce("ngIf","manage"===r.mode),he(1),Ce("ngIf","manage"!==r.mode),he(4),Ce("ngIf","manage"===r.mode),he(1),Ce("ngIf","select-for-export"===r.mode),he(1),Ce("ngIf","select-for-delete"===r.mode),he(1),Ce("ngIf",r.sessionService.isLoading()),he(1),Ce("ngIf",!r.sessionService.isLoading()&&0===r.sessionCount),he(1),Ce("ngIf",!r.sessionService.isLoading()&&r.sessionCount>0))},dependencies:[Zl,Ao,Ui,Hi,Gi,zi,Uo,Fs,yh,Zi,qi,ly,VY],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),re([An()],sc.prototype,"deleteSession",null),re([An()],sc.prototype,"editSession",null),re([An()],sc.prototype,"saveSession",null),re([An()],sc.prototype,"launchSession",null),re([An()],sc.prototype,"resetSession",null),re([An()],sc.prototype,"onSelectionDone",null),re([An()],sc.prototype,"openActionMenu",null);const tX=["nav"],nX=()=>({}),rX=e=>({selfReference:e}),oX=[{path:"tab",component:DS,children:[{path:"emulation",component:Na},{path:"sessions",component:(()=>{var e;class t{constructor(){this.navRoot=sc}ionViewDidLeave(){var n=this;return(0,O.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewWillLeave(){var n=this;return(0,O.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave?.()})()}ionViewDidEnter(){var n=this;return(0,O.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_?.()})()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qe({type:e,selectors:[["app-sessions-wrapper"]],viewQuery:function(n,o){if(1&n&&xc(tX,5),2&n){let i;Ps(i=Os())&&(o.nav=i.first)}},decls:2,vars:6,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&je(0,"ion-nav",0,1),2&n&&Ce("animated",!1)("root",o.navRoot)("rootParams",function oT(e,t,r,n){return iT(We(),Oi(),e,t,r,n)}(4,rX,function rT(e,t,r){const n=Oi()+e,o=We();return o[n]===pn?il(o,n,r?t.call(r):t()):function dp(e,t){return e[t]}(o,n)}(3,nX)))},dependencies:[L0],encapsulation:2}),t})()},{path:"storage",component:kY},{path:"settings",component:TK},{path:"about",component:ES},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let iX=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({imports:[Cv.forChild(oX),Cv]}),t})(),sX=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({imports:[Uc,dl,ku,iX,gq,vq,yq,_q,mq]}),t})(),aX=(()=>{var e;class t extends bx{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Br(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const lX=[{path:"install",component:kP,canActivate:[RP]},{path:"import",component:kP,canActivate:[RP]},{path:"",component:DS}];let cX=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Jt({providers:[{provide:ul,useClass:aX}],imports:[Cv.forRoot(lX,{preloadingStrategy:B5,useHash:!0}),sX,Cv]}),t})();var AS=b(588);function dX(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var kS={exports:{}};!function(t,r,n){function o(l){var c=this,d=function a(){var l=4022871197;return function(d){d=String(d);for(var p=0;p<d.length;p++){var m=.02519603282416938*(l+=d.charCodeAt(p));m-=l=m>>>0,l=(m*=l)>>>0,l+=4294967296*(m-=l)}return 2.3283064365386963e-10*(l>>>0)}}();c.next=function(){var p=2091639*c.s0+2.3283064365386963e-10*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=p-(c.c=0|p)},c.c=1,c.s0=d(" "),c.s1=d(" "),c.s2=d(" "),c.s0-=d(l),c.s0<0&&(c.s0+=1),c.s1-=d(l),c.s1<0&&(c.s1+=1),c.s2-=d(l),c.s2<0&&(c.s2+=1),d=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var d=new o(l),p=c&&c.state,m=d.next;return m.int32=function(){return 4294967296*d.next()|0},m.double=function(){return m()+11102230246251565e-32*(2097152*m()|0)},m.quick=m,p&&("object"==typeof p&&i(p,d),m.state=function(){return i(d,{})}),m}r&&r.exports?r.exports=s:this.alea=s}(0,kS);const pX=dX(kS.exports),zP=AS.compile({WhiteSpace:{match:/[\t\v\f\ufeff\p{Zs}]+/u,lineBreaks:!0},Lines:{match:/\r?\n|[\r\u2028\u2029]/u,lineBreaks:!0},ObjectKey:/\[?(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+\]?(?=:)/u,Punctuator:/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/u,BooleanLiteral:/true|false/u,NumericLiteral:/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/u,StringLiteral:{match:/(?:'(?:(?!')[^\\\n\r]|\\(?:\r\n|[^]))*')|(?:"(?:(?!")[^\\\n\r]|\\(?:\r\n|[^]))*")/u,value:e=>`"${e.slice(1,-1)}"`},Identifier:/(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/u}),_X=new RegExp("(?<==)(?:true|false)"),bX=new RegExp("(?<==)-?(?:(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|-?0n|-?[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|-?0[0-7]+)"),CX=new RegExp("(?<==)'(?!.*&[0-9a-zA-Z]+;)[^'\\\\]*(?:\\\\.|\\\\n[^\"\\\\]*|&[^0-9a-zA-Z;]*)*'"),SX=new RegExp('(?<==)"(?!.*&[0-9a-zA-Z]+;)[^"\\\\]*(?:\\\\.|\\\\n[^"\\\\]*|&[^0-9a-zA-Z;]*)*"'),wX=new RegExp("(?<==)[^\"\\s'`=<>\\x00]+");function RS(e){const t="string"==typeof e&&/^(['"]).*?\1$/.test(e)?e.slice(1,-1):e;return t.startsWith("[")&&t.endsWith("]")||t.startsWith("{")&&t.endsWith("}")?JSON.parse(function hX(e,t={}){const r=e.trim().replace(/[\,]+$/,"");if(""===r)return"{}";if(!function mX(e){return e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")}(r))throw new TypeError("Unexpected input format");let n="";zP.reset(r);for(const o of zP)if("WhiteSpace"!==o.type&&"Lines"!==o.type){switch(o.type){case"Identifier":o.value=`"${t[o.value]||o.value}"`;break;case"ObjectKey":o.value="["===o.value.slice(0,1)&&"]"===o.value.slice(-1)?`"${t[o.value.slice(1,-1)]||o.value.slice(1,-1)}"`:`"${o.value}"`}n+=o.value}return n.replace(/\,([\}\]])/g,"$1")}(t)):t}const WP=AS.states({main:{WhiteSpace:/[ \t\v\f\ufeff]+/,AttributeShorthand:/[\.#](?:(?!-?\d)(?:[a-zA-Z0-9\xA0-\uFFFF_-])+)/,BooleanLiteral:{match:_X,value:e=>"true"===e},NumericLiteral:{match:bX,value(e){const t=Number(e);return Number.isNaN(t)?Number(e.replace(/_|n$/g,"")):Number(e)}},SingleQuotedValue:{match:CX,value:RS,type:()=>"StringLiteral"},DoubleQuotedLiteral:{match:SX,value:RS,type:()=>"StringLiteral"},UnquotedLiteral:{match:wX,value:RS,type:()=>"StringLiteral"},AttributeName:/(?:(?![\s\x00\x22\x27\x3E\x2F\x3D\x00-\x1F\x7F-\x9F])[^\s\x00-\x1F\x7F-\x9F\x22\x27\x3E\x2F\x3D])+/,Separator:"="}});const IX=AS.compile({spaces:/[\t\v\f\ufeff ]+/,name:/[a-zA-Z][\w-]*/,attrs:{match:/\{.*\}/,value:e=>function EX(e){let t=null;const r=WP.reset(e),n={};Object.defineProperties(n,{toString:{writable:!1,enumerable:!1,configurable:!1,value:()=>function DX(e){let t="";for(const r in e){const n=e[r];switch(typeof n){case"object":t+=` ${r}='${JSON.stringify(n)}'`;break;case"string":t+=` ${r}="${n}"`;break;case"number":case"boolean":t+=` ${r}=${n}`}}return t.slice(1)}(n)},getTokens:{writable:!1,enumerable:!1,configurable:!1,value:()=>Array.from(WP.reset(e))}});const o=[];for(const{type:i,value:s}of r)switch(i){case"AttributeName":t=s,n[t]=t;break;case"AttributeShorthand":const a=s[0];"."===a?o.push(s.slice(1)):"#"===a&&(n.id=s.slice(1));break;case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":t&&("class"===t&&o.push(s),n[t]=s,t=null)}return o.length&&(n.class=o.join(" ")),n}(e.slice(1,-1))},text:{match:/\[.*\]/,value:e=>e.slice(1,-1)},blockText:{match:/[\s\S]+/,lineBreaks:!0}});function TX(e){const{type:t,level:r,raw:n,content:o,marker:i,tag:s}=e,a=IX.reset(o);let l,c,d="",p=[];for(const{type:m,value:_}of a)switch(m){case"name":l=_;break;case"attrs":c=_;break;case"text":case"blockText":d=_,p="container"===r?this.lexer.blockTokens(_):this.lexer.inlineTokens(_)}return{type:t,raw:n,meta:{level:r,marker:i,tag:s,name:l},attrs:c,text:d,tokens:p}}function ZP(e){return["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"].includes(e)}function AX(e){const{meta:t,attrs:r,tokens:n=[]}=e,o=t.name||t.tag;let i=`<${o}`;return i+=r?" "+r.toString():"",i+=ZP(o)?" />":">",i+="container"===t.level?"\n":"",ZP(o)||(i+="container"===t.level?this.parser.parse(n):this.parser.parseInline(n),i+=`</${o}>`),i+="inline"===t.level?"":"\n",i}const kX=[{level:"container",marker:":::"},{level:"block",marker:"::"},{level:"inline",marker:":"}];function RX(e=kX){return{extensions:e.map(({level:t,marker:r,tag:n,renderer:o})=>{const i=pX(r).int32(),s=`directive${function MX(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}(t)}${i}`;return{name:s,level:"inline"===t?"inline":"block",start:a=>{var l;return null==(l=a.match(new RegExp(r)))?void 0:l.index},tokenizer(a){const l=function xX(e,t){switch(e){case"container":return`^${t}([\\s\\S]*?)\\n${t}`;case"block":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{\\[].*?[\\}\\]])+)`;case"inline":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{].*?[\\}]+|[\\[].*?[\\]])+)`}}(t,r),c=a.match(new RegExp(l));if(c){const[d,p=""]=c;return TX.call(this,{type:s,level:t,raw:d,content:p,marker:r,tag:n||("inline"===t?"span":"div")})}},renderer:o||AX}})}}const qP=["touchstart","click","keydown"];let PX=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,O.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;So&&bl&&n.audioService.initialize();const o=()=>{qP.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};qP.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Ii),se(TS))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const OX=()=>{const e=new Pu;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let NX=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,d){}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Xn),se(Oa),se(TS),se(ic),se(Ii),se(AP),se(PX),se(sy))},e.\u0275mod=Kr({type:e,bootstrap:[nq]}),e.\u0275inj=Jt({providers:[{provide:RA,useClass:t7},{provide:Pp,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[Ii]}],imports:[M6,Uc.forRoot({...jP()?{actionSheetEnter:mK,loadingEnter:gK,alertEnter:vK}:{},innerHTMLTemplatesEnabled:!0}),cX,Z0.forRoot({loader:IC,markedOptions:{provide:RR,useFactory:OX},markedExtensions:[RX()]}),pH]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function $6(){Qg=uM("#/install?"),Jg=uM("#/import?")}(),function h9(){return!!LR(zv)}()&&!dM()||function B6(){return void 0!==Qg}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),So&&(CSS.supports("height","100dvh")?document.body.style.height="100dvh":window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),MP()),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),T6().bootstrapModule(NX).then(e=>ia.production||function O6(e){return function sM(e,t){(typeof COMPILED>"u"||!COMPILED)&&((qt.ng=qt.ng||{})[e]=t)}("profiler",new P6(e)),e}(e.injector.get(Ta).components[0])).catch(e=>console.log(e))},2227:(ae,De,b)=>{var G,C=b(4144).default,E=b(9717).default,L=(G=typeof document<"u"?document.currentScript?.src:void 0,E(function*(F={}){var f=F,T="object"==typeof window,q=typeof WorkerGlobalScope<"u",j=("object"==typeof process&&process.versions?.node&&process,"./this.program"),M=(u,w)=>{throw w};q&&(G=self.location.href);var Ee,te,$="";if(T||q){try{$=new URL(".",G).href}catch{}q&&(te=u=>{var w=new XMLHttpRequest;return w.open("GET",u,!1),w.responseType="arraybuffer",w.send(null),new Uint8Array(w.response)}),Ee=function(){var u=E(function*(w){var le=yield fetch(w,{credentials:"same-origin"});if(le.ok)return le.arrayBuffer();throw new Error(le.status+" : "+le.url)});return function(le){return u.apply(this,arguments)}}()}var J,ie,Z=console.log.bind(console),A=console.error.bind(console),ce=!1;function Re(u,w){u||ye(w)}function R(){if(!ce){var u=on();0==u&&(u+=4);var w=Oe[u>>2],le=Oe[u+4>>2];(34821223!=w||2310721022!=le)&&ye(`Stack overflow! Stack cookie has been overwritten at ${gr(u)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${gr(le)} ${gr(w)}`),1668509029!=Oe[0]&&ye("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var P,ne,ee,I,D,oe,Oe,Ne,pe,Ke=!1;function yt(){var u=ee.buffer;I=new Int8Array(u),new Int16Array(u),f.HEAPU8=D=new Uint8Array(u),new Uint16Array(u),oe=new Int32Array(u),f.HEAPU32=Oe=new Uint32Array(u),new Float32Array(u),Ne=new Float64Array(u),pe=new BigInt64Array(u),new BigUint64Array(u)}var xe,ct=0,bt=null;function ye(u){f.onAbort?.(u),A(u="Aborted("+u+")"),ce=!0,u+=". Build with -sASSERTIONS for more info.";var w=new WebAssembly.RuntimeError(u);throw ne?.(w),w}function Kt(){return(Kt=E(function*(u){if(!J)try{var w=yield Ee(u);return new Uint8Array(w)}catch{}return function dt(u){if(u==xe&&J)return new Uint8Array(J);if(te)return te(u);throw"both async and sync fetching of the wasm failed"}(u)})).apply(this,arguments)}function Xt(){return Xt=E(function*(u,w){try{var le=yield function Ht(u){return Kt.apply(this,arguments)}(u);return yield WebAssembly.instantiate(le,w)}catch(jt){A(`failed to asynchronously prepare wasm: ${jt}`),ye(jt)}}),Xt.apply(this,arguments)}function Zn(){return Zn=E(function*(u,w,le){if(!u&&"function"==typeof WebAssembly.instantiateStreaming)try{var rt=fetch(w,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(rt,le)}catch(gn){A(`wasm streaming compile failed: ${gn}`),A("falling back to ArrayBuffer instantiation")}return function Yt(u,w){return Xt.apply(this,arguments)}(w,le)}),Zn.apply(this,arguments)}function xr(){return xr=E(function*(){function u(gn,Gn){return ee=(pi=gn.exports).u,yt(),X=pi.Xc,function tu(u){f._malloc=u.w,f._free=u.x,f._main=zr=u.y,f._webidl_free=u.z,f._webidl_malloc=u.A,f._emscripten_bind_VoidPtr___destroy___0=Rn=u.B,f._emscripten_bind_Cloudpilot_Cloudpilot_0=Oo=u.C,f._emscripten_bind_Cloudpilot_Malloc_1=Eo=u.D,f._emscripten_bind_Cloudpilot_Free_1=Xi=u.E,f._emscripten_bind_Cloudpilot_Nullptr_0=$a=u.F,f._emscripten_bind_Cloudpilot_EnableLogging_1=ca=u.G,f._emscripten_bind_Cloudpilot_InitializeSession_3=Us=u.H,f._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=ua=u.I,f._emscripten_bind_Cloudpilot_RunEmulation_1=Qi=u.J,f._emscripten_bind_Cloudpilot_SetClockFactor_1=Ba=u.K,f._emscripten_bind_Cloudpilot_CopyFrame_0=da=u.L,f._emscripten_bind_Cloudpilot_IsScreenDirty_0=fa=u.M,f._emscripten_bind_Cloudpilot_MarkScreenClean_0=Va=u.N,f._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=ja=u.O,f._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=Ua=u.P,f._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=Ha=u.Q,f._emscripten_bind_Cloudpilot_QueuePenMove_2=pa=u.R,f._emscripten_bind_Cloudpilot_QueuePenUp_0=Ga=u.S,f._emscripten_bind_Cloudpilot_QueueButtonDown_1=za=u.T,f._emscripten_bind_Cloudpilot_QueueButtonUp_1=_r=u.U,f._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=ha=u.V,f._emscripten_bind_Cloudpilot_IsPowerOff_0=lo=u.W,f._emscripten_bind_Cloudpilot_IsUIInitialized_0=Pt=u.X,f._emscripten_bind_Cloudpilot_GetOSVersion_0=ma=u.Y,f._emscripten_bind_Cloudpilot_IsSetupComplete_0=Hs=u.Z,f._emscripten_bind_Cloudpilot_Reset_0=Wr=u._,f._emscripten_bind_Cloudpilot_ResetNoExtensions_0=Gs=u.$,f._emscripten_bind_Cloudpilot_ResetHard_0=Wa=u.aa,f._emscripten_bind_Cloudpilot_InstallDb_2=Pn=u.ba,f._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=bs=u.ca,f._emscripten_bind_Cloudpilot_GetMemoryPtr_0=br=u.da,f._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=zs=u.ea,f._emscripten_bind_Cloudpilot_GetMemorySize_0=El=u.fa,f._emscripten_bind_Cloudpilot_ImportMemoryImage_2=Za=u.ga,f._emscripten_bind_Cloudpilot_GetRomPtr_0=Fn=u.ha,f._emscripten_bind_Cloudpilot_GetRomSize_0=Lt=u.ia,f._emscripten_bind_Cloudpilot_GetSavestatePtr_0=Cs=u.ja,f._emscripten_bind_Cloudpilot_GetSavestateSize_0=Ws=u.ka,f._emscripten_bind_Cloudpilot_SaveState_0=Il=u.la,f._emscripten_bind_Cloudpilot_LoadState_2=ga=u.ma,f._emscripten_bind_Cloudpilot_GetHotsyncName_0=Ye=u.na,f._emscripten_bind_Cloudpilot_SetHotsyncName_1=ki=u.oa,f._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=Ji=u.pa,f._emscripten_bind_Cloudpilot_StartBackup_0=Zs=u.qa,f._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=qs=u.ra,f._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=va=u.sa,f._emscripten_bind_Cloudpilot_IsSuspended_0=ei=u.ta,f._emscripten_bind_Cloudpilot_GetSuspendContext_0=es=u.ua,f._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=ya=u.va,f._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=Wt=u.wa,f._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=Dn=u.xa,f._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=Tl=u.ya,f._emscripten_bind_Cloudpilot_LaunchAppByName_1=qa=u.za,f._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=Ka=u.Aa,f._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=ac=u.Ba,f._emscripten_bind_Cloudpilot_ClearExternalStorage_0=xl=u.Ca,f._emscripten_bind_Cloudpilot_AllocateCard_2=_a=u.Da,f._emscripten_bind_Cloudpilot_AdoptCard_3=Or=u.Ea,f._emscripten_bind_Cloudpilot_MountCard_1=lc=u.Fa,f._emscripten_bind_Cloudpilot_RemoveCard_1=Ml=u.Ga,f._emscripten_bind_Cloudpilot_GetCardData_1=Ya=u.Ha,f._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=bi=u.Ia,f._emscripten_bind_Cloudpilot_GetCardSize_1=Zr=u.Ja,f._emscripten_bind_Cloudpilot_RemountCards_0=fi=u.Ka,f._emscripten_bind_Cloudpilot_GetSupportLevel_1=ho=u.La,f._emscripten_bind_Cloudpilot_GetMountedKey_0=cc=u.Ma,f._emscripten_bind_Cloudpilot_GetTransportIR_0=Al=u.Na,f._emscripten_bind_Cloudpilot_GetTransportSerial_0=uc=u.Oa,f._emscripten_bind_Cloudpilot___destroy___0=kl=u.Pa,f._emscripten_bind_RomInfo_RomInfo_2=dc=u.Qa,f._emscripten_bind_RomInfo_IsValid_0=rn=u.Ra,f._emscripten_bind_RomInfo_CardVersion_0=Ot=u.Sa,f._emscripten_bind_RomInfo_CardName_0=Nr=u.Ta,f._emscripten_bind_RomInfo_RomVersion_0=mo=u.Ua,f._emscripten_bind_RomInfo_RomVersionString_0=go=u.Va,f._emscripten_bind_RomInfo_Supports_1=Fr=u.Wa,f._emscripten_bind_RomInfo___destroy___0=$e=u.Xa,f._emscripten_bind_Frame_GetLineWidth_0=rr=u.Ya,f._emscripten_bind_Frame_GetBpp_0=Jt=u.Za,f._emscripten_bind_Frame_GetLines_0=qn=u._a,f._emscripten_bind_Frame_GetMargin_0=y=u.$a,f._emscripten_bind_Frame_GetBytesPerLine_0=z=u.ab,f._emscripten_bind_Frame_GetFirstDirtyLine_0=ue=u.bb,f._emscripten_bind_Frame_GetLastDirtyLine_0=ze=u.cb,f._emscripten_bind_Frame_GetHasChanges_0=kt=u.db,f._emscripten_bind_Frame_GetBuffer_0=en=u.eb,f._emscripten_bind_Frame_GetBufferSize_0=_n=u.fb,f._emscripten_bind_Frame_GetScaleX_0=Tn=u.gb,f._emscripten_bind_Frame_GetScaleY_0=Nt=u.hb,f._emscripten_bind_Frame___destroy___0=Zt=u.ib,f._emscripten_bind_DbBackup_Init_1=Dr=u.jb,f._emscripten_bind_DbBackup_IsInProgress_0=xn=u.kb,f._emscripten_bind_DbBackup_IsDone_0=er=u.lb,f._emscripten_bind_DbBackup_GetCurrentDatabase_0=At=u.mb,f._emscripten_bind_DbBackup_Save_0=qt=u.nb,f._emscripten_bind_DbBackup_Skip_0=tr=u.ob,f._emscripten_bind_DbBackup_GetArchivePtr_0=qr=u.pb,f._emscripten_bind_DbBackup_GetArchiveSize_0=et=u.qb,f._emscripten_bind_DbBackup___destroy___0=jn=u.rb,f._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=h=u.sb,f._emscripten_bind_SuspendContextClipboardCopy_Resume_0=W=u.tb,f._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=be=u.ub,f._emscripten_bind_SuspendContextClipboardCopy___destroy___0=tt=u.vb,f._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=Rt=u.wb,f._emscripten_bind_SuspendContextClipboardPaste_Resume_1=cn=u.xb,f._emscripten_bind_SuspendContextClipboardPaste___destroy___0=On=u.yb,f._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=Ln=u.zb,f._emscripten_bind_SuspendContextNetworkConnect_Resume_0=Io=u.Ab,f._emscripten_bind_SuspendContextNetworkConnect___destroy___0=Xa=u.Bb,f._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=Ss=u.Cb,f._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=ba=u.Db,f._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=ws=u.Eb,f._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=Kc=u.Fb,f._emscripten_bind_SuspendContextNetworkRpc___destroy___0=ju=u.Gb,f._emscripten_bind_SuspendContextSerialSync_Cancel_0=Yc=u.Hb,f._emscripten_bind_SuspendContextSerialSync_Resume_0=Xc=u.Ib,f._emscripten_bind_SuspendContextSerialSync___destroy___0=Ca=u.Jb,f._emscripten_bind_SuspendContext_GetKind_0=Lh=u.Kb,f._emscripten_bind_SuspendContext_Cancel_0=Sa=u.Lb,f._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=$h=u.Mb,f._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=se=u.Nb,f._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=Sf=u.Ob,f._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=ot=u.Pb,f._emscripten_bind_SuspendContext_AsContextSerialSync_0=Qc=u.Qb,f._emscripten_bind_SuspendContext___destroy___0=Uu=u.Rb,f._emscripten_bind_SessionImage_SessionImage_0=fc=u.Sb,f._emscripten_bind_SessionImage_GetDeviceId_0=Bh=u.Tb,f._emscripten_bind_SessionImage_SetDeviceId_1=Vh=u.Ub,f._emscripten_bind_SessionImage_GetRomImage_0=jh=u.Vb,f._emscripten_bind_SessionImage_GetRomImageSize_0=Ks=u.Wb,f._emscripten_bind_SessionImage_SetRomImage_2=Jc=u.Xb,f._emscripten_bind_SessionImage_GetMemoryImage_0=ts=u.Yb,f._emscripten_bind_SessionImage_GetMemoryImageSize_0=Ds=u.Zb,f._emscripten_bind_SessionImage_SetMemoryImage_2=Un=u._b,f._emscripten_bind_SessionImage_GetMetadata_0=wf=u.$b,f._emscripten_bind_SessionImage_GetMetadataSize_0=Hu=u.ac,f._emscripten_bind_SessionImage_SetMetadata_2=Df=u.bc,f._emscripten_bind_SessionImage_GetSavestate_0=Ef=u.cc,f._emscripten_bind_SessionImage_GetSavestateSize_0=pc=u.dc,f._emscripten_bind_SessionImage_SetSavestate_2=If=u.ec,f._emscripten_bind_SessionImage_GetVersion_0=Tf=u.fc,f._emscripten_bind_SessionImage_Serialize_0=Uh=u.gc,f._emscripten_bind_SessionImage_GetSerializedImage_0=xf=u.hc,f._emscripten_bind_SessionImage_GetSerializedImageSize_0=Hh=u.ic,f._emscripten_bind_SessionImage_Deserialize_2=Gh=u.jc,f._emscripten_bind_SessionImage___destroy___0=ns=u.kc,f._emscripten_bind_SkinLoader_SkinLoader_1=zh=u.lc,f._emscripten_bind_SkinLoader_GetData_0=Mf=u.mc,f._emscripten_bind_SkinLoader_GetSize_0=Wh=u.nc,f._emscripten_bind_SkinLoader___destroy___0=Zh=u.oc,f._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=qh=u.pc,f._emscripten_bind_EmTransportSerialBuffer_Receive_0=Kh=u.qc,f._emscripten_bind_EmTransportSerialBuffer_Send_3=Af=u.rc,f._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=Yh=u.sc,f._emscripten_bind_EmTransportSerialBuffer_Rts_0=Xh=u.tc,f._emscripten_bind_EmTransportSerialBuffer_Dtr_0=Qh=u.uc,f._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=qe=u.vc,f._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=Jh=u.wc,f._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=em=u.xc,f._emscripten_bind_EmTransportSerialBuffer_GetParity_0=Kr=u.yc,f._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=kf=u.zc,f._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=xt=u.Ac,f._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=To=u.Bc,f._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=bn=u.Cc,f._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=vo=u.Dc,f._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=No=u.Ec,f._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=wa=u.Fc,f._emscripten_bind_EmTransportSerialBuffer___destroy___0=Zo=u.Gc,f._emscripten_bind_GunzipContext_GunzipContext_3=Rf=u.Hc,f._emscripten_bind_GunzipContext_GetState_0=Pf=u.Ic,f._emscripten_bind_GunzipContext_Continue_0=eu=u.Jc,f._emscripten_bind_GunzipContext_GetUncompressedData_0=tm=u.Kc,f._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=nm=u.Lc,f._emscripten_bind_GunzipContext_GetUncompressedSize_0=Yr=u.Mc,f._emscripten_bind_GunzipContext_GetError_0=lt=u.Nc,f._emscripten_bind_GunzipContext___destroy___0=Bt=u.Oc,f._emscripten_bind_ZipfileWalker_ZipfileWalker_2=kr=u.Pc,f._emscripten_bind_ZipfileWalker_GetState_0=rs=u.Qc,f._emscripten_bind_ZipfileWalker_Next_0=qo=u.Rc,f._emscripten_bind_ZipfileWalker_GetTotalEntries_0=os=u.Sc,f._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=Rl=u.Tc,f._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=Cr=u.Uc,f._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=ti=u.Vc,f._emscripten_bind_ZipfileWalker___destroy___0=Pl=u.Wc,on=u.Yc,hc=u.Zc,Of=u._c,Ol=u.$c,f.___original_main=u.ad}(pi),function ke(u){if(ct--,f.monitorRunDependencies?.(ct),0==ct&&bt){var w=bt;bt=null,w()}}(),pi}!function Ft(u){ct++,f.monitorRunDependencies?.(ct)}();var le=function sr(){return{a:mc}}();if(f.instantiateWasm)return new Promise((gn,Gn)=>{f.instantiateWasm(le,(Yn,Lo)=>{gn(u(Yn))})});xe??=function Qe(){return function me(u){return f.locateFile?f.locateFile(u,$):$+u}("cloudpilot_web.wasm")}();var rt=yield function fn(u,w,le){return Zn.apply(this,arguments)}(J,xe,le);return function w(gn){return u(gn.instance)}(rt)}),xr.apply(this,arguments)}class oo{constructor(w){C(this,"name","ExitStatus"),this.message=`Program terminated with exit(${w})`,this.status=w}}var X,Ze,Qn=u=>{for(;u.length>0;)u.shift()(f)},mr=[],Do=u=>mr.push(u),io=[],li=u=>io.push(u),Jr=!0,gr=u=>"0x"+(u>>>=0).toString(16).padStart(8,"0"),Te=typeof TextDecoder<"u"?new TextDecoder:void 0,Me=(u,w=0,le=NaN)=>{for(var rt=w+le,jt=w;u[jt]&&!(jt>=rt);)++jt;if(jt-w>16&&u.buffer&&Te)return Te.decode(u.subarray(w,jt));for(var gn="";w<jt;){var Gn=u[w++];if(128&Gn){var Yn=63&u[w++];if(192!=(224&Gn)){var Lo=63&u[w++];if((Gn=224==(240&Gn)?(15&Gn)<<12|Yn<<6|Lo:(7&Gn)<<18|Yn<<12|Lo<<6|63&u[w++])<65536)gn+=String.fromCharCode(Gn);else{var Nl=Gn-65536;gn+=String.fromCharCode(55296|Nl>>10,56320|1023&Nl)}}else gn+=String.fromCharCode((31&Gn)<<6|Yn)}else gn+=String.fromCharCode(Gn)}return gn},gt=(u,w)=>u?Me(D,u,w):"",nr=u=>u<-9007199254740992||u>9007199254740992?NaN:Number(u),eo=0,so=[0,31,60,91,121,152,182,213,244,274,305,335],Ki=[0,31,59,90,120,151,181,212,243,273,304,334],Po=u=>((u=>u%4==0&&(u%100!=0||u%400==0))(u.getFullYear())?so:Ki)[u.getMonth()]+u.getDate()-1,Bn={},dn=u=>{if(u instanceof oo||"unwind"==u)return ie;R(),u instanceof WebAssembly.RuntimeError&&Ol()<=0&&A("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),M(0,u)},Sn=()=>Jr||eo>0,po=u=>{ie=u,Sn()||(f.onExit?.(u),ce=!0),M(0,new oo(u))},Qt=(u,w)=>{ie=u,po(u)},Go=Qt,zo=()=>performance.now(),Ti=(u,w,le,rt)=>{if(!(rt>0))return 0;for(var jt=le,gn=le+rt-1,Gn=0;Gn<u.length;++Gn){var Yn=u.codePointAt(Gn);if(Yn<=127){if(le>=gn)break;w[le++]=Yn}else if(Yn<=2047){if(le+1>=gn)break;w[le++]=192|Yn>>6,w[le++]=128|63&Yn}else if(Yn<=65535){if(le+2>=gn)break;w[le++]=224|Yn>>12,w[le++]=128|Yn>>6&63,w[le++]=128|63&Yn}else{if(le+3>=gn)break;w[le++]=240|Yn>>18,w[le++]=128|Yn>>12&63,w[le++]=128|Yn>>6&63,w[le++]=128|63&Yn,Gn++}}return w[le]=0,le-jt},ao=(u,w,le)=>Ti(u,D,w,le),Jo=()=>Date.now(),Mr=[],Ai=(u,w)=>Math.ceil(u/w)*w,_i=u=>{var le=(u-ee.buffer.byteLength+65535)/65536|0;try{return ee.grow(le),yt(),1}catch{}},no={},Vn=()=>{if(!Vn.strings){var w={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var le in no)void 0===no[le]?delete w[le]:w[le]=no[le];var rt=[];for(var le in w)rt.push(`${le}=${w[le]}`);Vn.strings=rt}return Vn.strings},fs=u=>{for(var w=0,le=0;le<u.length;++le){var rt=u.charCodeAt(le);rt<=127?w++:rt<=2047?w+=2:rt>=55296&&rt<=57343?(w+=4,++le):w+=3}return w},js=[null,[],[]],ms=(u,w)=>{var le=js[u];0===w||10===w?((1===u?Z:A)(Me(le)),le.length=0):le.push(w)},vs=(u,w,le)=>{var rt=le>0?le:fs(u)+1,jt=new Array(rt),gn=Ti(u,jt,0,jt.length);return w&&(jt.length=gn),jt},Yi=[],ys=(u,w)=>{u<128?w.push(u):w.push(u%128|128,u>>7)},B=[],Pe=u=>{var w=B[u];return w||(B[u]=w=X.get(u)),w},Je=[],ut=(u,w)=>{X.set(u,w),B[u]=X.get(u)};f.noExitRuntime&&(Jr=f.noExitRuntime),f.print&&(Z=f.print),f.printErr&&(A=f.printErr),f.wasmBinary&&(J=f.wasmBinary),f.thisProgram&&(j=f.thisProgram),f.addFunction=(u,w)=>{var le=(u=>(Ze||(Ze=new WeakMap,((u,w)=>{if(Ze)for(var le=0;le<0+w;le++){var rt=Pe(le);rt&&Ze.set(rt,le)}})(0,X.length)),Ze.get(u)||0))(u);if(le)return le;var rt=(()=>{if(Je.length)return Je.pop();try{X.grow(1)}catch(u){throw u instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":u}return X.length-1})();try{ut(rt,u)}catch(gn){if(!(gn instanceof TypeError))throw gn;var jt=((u,w)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((u=>{for(var w={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},le={parameters:[],results:"v"==u[0]?[]:[w[u[0]]]},rt=1;rt<u.length;++rt)le.parameters.push(w[u[rt]]);return le})(w),u);var le=[1];((u,w)=>{var le=u.slice(0,1),rt=u.slice(1),jt={i:127,p:127,j:126,f:125,d:124,e:111};for(var gn of(w.push(96),ys(rt.length,w),rt))w.push(jt[gn]);"v"==le?w.push(0):w.push(1,jt[le])})(w,le);var rt=[0,97,115,109,1,0,0,0,1];ys(le.length,rt),rt.push(...le),rt.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var jt=new WebAssembly.Module(new Uint8Array(rt));return new WebAssembly.Instance(jt,{e:{f:u}}).exports.f})(u,w);ut(rt,jt)}return Ze.set(u,rt),rt},f.UTF8ToString=gt;var zr,Rn,Oo,Eo,Xi,$a,ca,Us,ua,Qi,Ba,da,fa,Va,ja,Ua,Ha,pa,Ga,za,_r,ha,lo,Pt,ma,Hs,Wr,Gs,Wa,Pn,bs,br,zs,El,Za,Fn,Lt,Cs,Ws,Il,ga,Ye,ki,Ji,Zs,qs,va,ei,es,ya,Wt,Dn,Tl,qa,Ka,ac,xl,_a,Or,lc,Ml,Ya,bi,Zr,fi,ho,cc,Al,uc,kl,dc,rn,Ot,Nr,mo,go,Fr,$e,rr,Jt,qn,y,z,ue,ze,kt,en,_n,Tn,Nt,Zt,Dr,xn,er,At,qt,tr,qr,et,jn,h,W,be,tt,Rt,cn,On,Ln,Io,Xa,Ss,ba,ws,Kc,ju,Yc,Xc,Ca,Lh,Sa,$h,se,Sf,ot,Qc,Uu,fc,Bh,Vh,jh,Ks,Jc,ts,Ds,Un,wf,Hu,Df,Ef,pc,If,Tf,Uh,xf,Hh,Gh,ns,zh,Mf,Wh,Zh,qh,Kh,Af,Yh,Xh,Qh,qe,Jh,em,Kr,kf,xt,To,bn,vo,No,wa,Zo,Rf,Pf,eu,tm,nm,Yr,lt,Bt,kr,rs,qo,os,Rl,Cr,ti,Pl,on,hc,Of,Ol,Et={428784:u=>{X.grow(65536);for(let w=0;w<=65535;w++)X.set(X.length-65535-1+w,X.get(Oe[(u>>>2)+w]));return X.length-65535-1}},mc={a:(u,w,le,rt)=>ye(`Assertion failed: ${gt(u)}, at: `+[w?gt(w):"unknown filename",le,rt?gt(rt):"unknown function"]),s:function wn(u){const w=new Error(gt(u));throw w.isAssert=!0,w},c:function vr(u,w){w=nr(w)},h:()=>ye(""),j:()=>{Jr=!1,eo=0},p:function In(u,w){u=nr(u);var le=new Date(1e3*u);oe[w>>2]=le.getSeconds(),oe[w+4>>2]=le.getMinutes(),oe[w+8>>2]=le.getHours(),oe[w+12>>2]=le.getDate(),oe[w+16>>2]=le.getMonth(),oe[w+20>>2]=le.getFullYear()-1900,oe[w+24>>2]=le.getDay();var rt=0|Po(le);oe[w+28>>2]=rt,oe[w+36>>2]=-60*le.getTimezoneOffset();var jt=new Date(le.getFullYear(),0,1),gn=new Date(le.getFullYear(),6,1).getTimezoneOffset(),Gn=jt.getTimezoneOffset(),Yn=0|(gn!=Gn&&le.getTimezoneOffset()==Math.min(Gn,gn));oe[w+32>>2]=Yn},q:function(u){var w=(()=>{var le=new Date(oe[u+20>>2]+1900,oe[u+16>>2],oe[u+12>>2],oe[u+8>>2],oe[u+4>>2],oe[u>>2],0),rt=oe[u+32>>2],jt=le.getTimezoneOffset(),gn=new Date(le.getFullYear(),0,1),Gn=new Date(le.getFullYear(),6,1).getTimezoneOffset(),Yn=gn.getTimezoneOffset(),Lo=Math.min(Yn,Gn);if(rt<0)oe[u+32>>2]=+(Gn!=Yn&&Lo==jt);else if(rt>0!=(Lo==jt)){var Nl=Math.max(Yn,Gn),Nf=rt>0?Lo:Nl;le.setTime(le.getTime()+6e4*(Nf-jt))}oe[u+24>>2]=le.getDay();var Ff=0|Po(le);oe[u+28>>2]=Ff,oe[u>>2]=le.getSeconds(),oe[u+4>>2]=le.getMinutes(),oe[u+8>>2]=le.getHours(),oe[u+12>>2]=le.getDate(),oe[u+16>>2]=le.getMonth(),oe[u+20>>2]=le.getYear();var Wu=le.getTime();return isNaN(Wu)?-1:Wu/1e3})();return BigInt(w)},k:(u,w)=>{if(Bn[u]&&(clearTimeout(Bn[u].id),delete Bn[u]),!w)return 0;var le=setTimeout(()=>{delete Bn[u],(u=>{if(!ce)try{u(),(()=>{if(!Sn())try{Go(ie)}catch(u){dn(u)}})()}catch(w){dn(w)}})(()=>hc(u,zo()))},w);return Bn[u]={id:le,timeout_ms:w},0},r:(u,w,le,rt)=>{var jt=(new Date).getFullYear(),gn=new Date(jt,0,1),Gn=new Date(jt,6,1),Yn=gn.getTimezoneOffset(),Lo=Gn.getTimezoneOffset(),Nl=Math.max(Yn,Lo);Oe[u>>2]=60*Nl,oe[w>>2]=+(Yn!=Lo);var Nf=dy=>{var Fl=dy>=0?"-":"+",om=Math.abs(dy);return`UTC${Fl}${String(Math.floor(om/60)).padStart(2,"0")}${String(om%60).padStart(2,"0")}`},Ff=Nf(Yn),Wu=Nf(Lo);Lo<Yn?(ao(Ff,le,17),ao(Wu,rt,17)):(ao(Ff,rt,17),ao(Wu,le,17))},n:function yi(u,w,le){if(w=nr(w),!(u=>u>=0&&u<=3)(u))return 28;var rt;rt=0===u?Jo():zo();var jt=Math.round(1e3*rt*1e3);return pe[le>>3]=BigInt(jt),0},t:(u,w,le)=>((u,w,le)=>{var rt=((u,w)=>{Mr.length=0;for(var le;le=D[u++];){var rt=105!=le;w+=(rt&=112!=le)&&w%8?4:0,Mr.push(112==le?Oe[w>>2]:106==le?pe[w>>3]:105==le?oe[w>>2]:Ne[w>>3]),w+=rt?8:4}return Mr})(w,le);return Et[u](...rt)})(u,w,le),g:Jo,o:u=>{var w=D.length,le=2147483648;if((u>>>=0)>le)return!1;for(var rt=1;rt<=4;rt*=2){var jt=w*(1+.2/rt);jt=Math.min(jt,u+100663296);var gn=Math.min(le,Ai(Math.max(u,jt),65536));if(_i(gn))return!0}return!1},l:(u,w)=>{var le=0,rt=0;for(var jt of Vn()){var gn=w+le;Oe[u+rt>>2]=gn,le+=ao(jt,gn,1/0)+1,rt+=4}return 0},m:(u,w)=>{var le=Vn();Oe[u>>2]=le.length;var rt=0;for(var jt of le)rt+=fs(jt)+1;return Oe[w>>2]=rt,0},d:u=>52,f:(u,w,le,rt)=>52,b:function hs(u,w,le,rt){return w=nr(w),70},e:(u,w,le,rt)=>{for(var jt=0,gn=0;gn<le;gn++){var Gn=Oe[w>>2],Yn=Oe[w+4>>2];w+=8;for(var Lo=0;Lo<Yn;Lo++)ms(u,D[Gn+Lo]);jt+=Yn}return Oe[rt>>2]=jt,0},i:po},pi=yield function ai(){return xr.apply(this,arguments)}();function Kn(){}function Gt(u){return(u||Kn).__cache__}function mn(u,w){var le=Gt(w),rt=le[u];return rt||((rt=Object.create((w||Kn).prototype)).ptr=u,le[u]=rt)}(function Gu(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function Ys(){function u(){f.calledRun=!0,ce||(function Ve(){Ke=!0,R(),Qn(Yi),pi.v()}(),function it(){R()}(),P?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function nu(){var u=zr;try{var rt=u(0,0);return Qt(rt),rt}catch(jt){return dn(jt)}}(),function He(){if(R(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)Do(f.postRun.shift());Qn(mr)}())}ct>0?bt=Ys:(function rm(){Of(),function Be(){var u=on();0==u&&(u+=4),Oe[u>>2]=34821223,Oe[u+4>>2]=2310721022,Oe[0]=1668509029}()}(),function de(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)li(f.preRun.shift());Qn(io)}(),ct>0?bt=Ys:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),u()},1)):u(),R()))}(),(Kn.prototype=Object.create(Kn.prototype)).constructor=Kn,Kn.prototype.__class__=Kn,Kn.__cache__={},f.WrapperObject=Kn,f.getCache=Gt,f.wrapPointer=mn,f.castObject=function ru(u,w){return mn(u.ptr,w)},f.NULL=mn(0),f.destroy=function Xs(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete Gt(u.__class__)[u.ptr]},f.compare=function zu(u,w){return u.ptr===w.ptr},f.getPointer=function gc(u){return u.ptr},f.getClass=function co(u){return u.__class__};var sn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(sn.needed){for(var u=0;u<sn.temps.length;u++)f._webidl_free(sn.temps[u]);sn.temps.length=0,f._webidl_free(sn.buffer),sn.buffer=0,sn.size+=sn.needed,sn.needed=0}sn.buffer||(sn.size+=128,sn.buffer=f._webidl_malloc(sn.size),Re(sn.buffer)),sn.pos=0},alloc(u,w){Re(sn.buffer);var jt,rt=u.length*w.BYTES_PER_ELEMENT;return rt=Ai(rt,8),sn.pos+rt>=sn.size?(Re(rt>0),sn.needed+=rt,jt=f._webidl_malloc(rt),sn.temps.push(jt)):(jt=sn.buffer+sn.pos,sn.pos+=rt),jt},copy(u,w,le){le/=w.BYTES_PER_ELEMENT;for(var rt=0;rt<u.length;rt++)w[le+rt]=u[rt]}};function Hn(u){if("string"==typeof u){var w=vs(u),le=sn.alloc(w,I);return sn.copy(w,I,le),le}return u}function an(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Fe(){this.ptr=Oo(),Gt(Fe)[this.ptr]=this}function fr(u,w){u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),this.ptr=dc(u,w),Gt(fr)[this.ptr]=this}function Mn(){throw"cannot construct a Frame, no constructor in IDL"}function Nn(){throw"cannot construct a DbBackup, no constructor in IDL"}function Fo(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Ci(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Si(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function yo(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function hi(){throw"cannot construct a SuspendContextSerialSync, no constructor in IDL"}function Lr(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Vt(){this.ptr=fc(),Gt(Vt)[this.ptr]=this}function Ri(u){sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),this.ptr=zh(u),Gt(Ri)[this.ptr]=this}function un(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function uo(u,w,le){u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),le&&"object"==typeof le&&(le=le.ptr),this.ptr=Rf(u,w,le),Gt(uo)[this.ptr]=this}function fo(u,w){u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),this.ptr=kr(u,w),Gt(fo)[this.ptr]=this}return(an.prototype=Object.create(Kn.prototype)).constructor=an,an.prototype.__class__=an,an.__cache__={},f.VoidPtr=an,an.prototype.__destroy__=an.prototype.__destroy__=function(){Rn(this.ptr)},(Fe.prototype=Object.create(Kn.prototype)).constructor=Fe,Fe.prototype.__class__=Fe,Fe.__cache__={},f.Cloudpilot=Fe,Fe.prototype.Malloc=Fe.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),mn(Eo(this.ptr,u),an)},Fe.prototype.Free=Fe.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),Xi(this.ptr,u)},Fe.prototype.Nullptr=Fe.prototype.Nullptr=function(){return mn($a(this.ptr),an)},Fe.prototype.EnableLogging=Fe.prototype.EnableLogging=function(u){u&&"object"==typeof u&&(u=u.ptr),ca(this.ptr,u)},Fe.prototype.InitializeSession=Fe.prototype.InitializeSession=function(u,w,le){var rt=this.ptr;return sn.prepare(),u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),le=le&&"object"==typeof le?le.ptr:Hn(le),!!Us(rt,u,w,le)},Fe.prototype.GetCyclesPerSecond=Fe.prototype.GetCyclesPerSecond=function(){return ua(this.ptr)},Fe.prototype.RunEmulation=Fe.prototype.RunEmulation=function(u){return u&&"object"==typeof u&&(u=u.ptr),Qi(this.ptr,u)},Fe.prototype.SetClockFactor=Fe.prototype.SetClockFactor=function(u){u&&"object"==typeof u&&(u=u.ptr),Ba(this.ptr,u)},Fe.prototype.CopyFrame=Fe.prototype.CopyFrame=function(){return mn(da(this.ptr),Mn)},Fe.prototype.IsScreenDirty=Fe.prototype.IsScreenDirty=function(){return!!fa(this.ptr)},Fe.prototype.MarkScreenClean=Fe.prototype.MarkScreenClean=function(){Va(this.ptr)},Fe.prototype.MinMemoryForDevice=Fe.prototype.MinMemoryForDevice=function(u){var w=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),ja(w,u)},Fe.prototype.FramebufferSizeForDevice=Fe.prototype.FramebufferSizeForDevice=function(u){var w=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),Ua(w,u)},Fe.prototype.TotalMemoryForDevice=Fe.prototype.TotalMemoryForDevice=function(u){var w=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),Ha(w,u)},Fe.prototype.QueuePenMove=Fe.prototype.QueuePenMove=function(u,w){u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),pa(this.ptr,u,w)},Fe.prototype.QueuePenUp=Fe.prototype.QueuePenUp=function(){Ga(this.ptr)},Fe.prototype.QueueButtonDown=Fe.prototype.QueueButtonDown=function(u){u&&"object"==typeof u&&(u=u.ptr),za(this.ptr,u)},Fe.prototype.QueueButtonUp=Fe.prototype.QueueButtonUp=function(u){u&&"object"==typeof u&&(u=u.ptr),_r(this.ptr,u)},Fe.prototype.QueueKeyboardEvent=Fe.prototype.QueueKeyboardEvent=function(u,w){u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),ha(this.ptr,u,w)},Fe.prototype.IsPowerOff=Fe.prototype.IsPowerOff=function(){return!!lo(this.ptr)},Fe.prototype.IsUIInitialized=Fe.prototype.IsUIInitialized=function(){return!!Pt(this.ptr)},Fe.prototype.GetOSVersion=Fe.prototype.GetOSVersion=function(){return ma(this.ptr)},Fe.prototype.IsSetupComplete=Fe.prototype.IsSetupComplete=function(){return!!Hs(this.ptr)},Fe.prototype.Reset=Fe.prototype.Reset=function(){Wr(this.ptr)},Fe.prototype.ResetNoExtensions=Fe.prototype.ResetNoExtensions=function(){Gs(this.ptr)},Fe.prototype.ResetHard=Fe.prototype.ResetHard=function(){Wa(this.ptr)},Fe.prototype.InstallDb=Fe.prototype.InstallDb=function(u,w){return u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),Pn(this.ptr,u,w)},Fe.prototype.GetPalette2bitMapping=Fe.prototype.GetPalette2bitMapping=function(){return bs(this.ptr)},Fe.prototype.GetMemoryPtr=Fe.prototype.GetMemoryPtr=function(){return mn(br(this.ptr),an)},Fe.prototype.GetDirtyPagesPtr=Fe.prototype.GetDirtyPagesPtr=function(){return mn(zs(this.ptr),an)},Fe.prototype.GetMemorySize=Fe.prototype.GetMemorySize=function(){return El(this.ptr)},Fe.prototype.ImportMemoryImage=Fe.prototype.ImportMemoryImage=function(u,w){return u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),!!Za(this.ptr,u,w)},Fe.prototype.GetRomPtr=Fe.prototype.GetRomPtr=function(){return mn(Fn(this.ptr),an)},Fe.prototype.GetRomSize=Fe.prototype.GetRomSize=function(){return Lt(this.ptr)},Fe.prototype.GetSavestatePtr=Fe.prototype.GetSavestatePtr=function(){return mn(Cs(this.ptr),an)},Fe.prototype.GetSavestateSize=Fe.prototype.GetSavestateSize=function(){return Ws(this.ptr)},Fe.prototype.SaveState=Fe.prototype.SaveState=function(){return!!Il(this.ptr)},Fe.prototype.LoadState=Fe.prototype.LoadState=function(u,w){return u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),!!ga(this.ptr,u,w)},Fe.prototype.GetHotsyncName=Fe.prototype.GetHotsyncName=function(){return gt(Ye(this.ptr))},Fe.prototype.SetHotsyncName=Fe.prototype.SetHotsyncName=function(u){var w=this.ptr;sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),ki(w,u)},Fe.prototype.RegisterPwmHandler=Fe.prototype.RegisterPwmHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),Ji(this.ptr,u)},Fe.prototype.StartBackup=Fe.prototype.StartBackup=function(){return mn(Zs(this.ptr),Nn)},Fe.prototype.SetClipboardIntegration=Fe.prototype.SetClipboardIntegration=function(u){u&&"object"==typeof u&&(u=u.ptr),qs(this.ptr,u)},Fe.prototype.GetClipboardIntegration=Fe.prototype.GetClipboardIntegration=function(){return!!va(this.ptr)},Fe.prototype.IsSuspended=Fe.prototype.IsSuspended=function(){return!!ei(this.ptr)},Fe.prototype.GetSuspendContext=Fe.prototype.GetSuspendContext=function(){return mn(es(this.ptr),Lr)},Fe.prototype.SetNetworkRedirection=Fe.prototype.SetNetworkRedirection=function(u){u&&"object"==typeof u&&(u=u.ptr),ya(this.ptr,u)},Fe.prototype.GetNetworkRedirection=Fe.prototype.GetNetworkRedirection=function(){return!!Wt(this.ptr)},Fe.prototype.RegisterProxyDisconnectHandler=Fe.prototype.RegisterProxyDisconnectHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),Dn(this.ptr,u)},Fe.prototype.SetHotsyncNameManagement=Fe.prototype.SetHotsyncNameManagement=function(u){u&&"object"==typeof u&&(u=u.ptr),Tl(this.ptr,u)},Fe.prototype.LaunchAppByName=Fe.prototype.LaunchAppByName=function(u){var w=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),!!qa(w,u)},Fe.prototype.LaunchAppByDbHeader=Fe.prototype.LaunchAppByDbHeader=function(u,w){return u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),!!Ka(this.ptr,u,w)},Fe.prototype.DeviceSupportsCardSize=Fe.prototype.DeviceSupportsCardSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!ac(this.ptr,u)},Fe.prototype.ClearExternalStorage=Fe.prototype.ClearExternalStorage=function(){xl(this.ptr)},Fe.prototype.AllocateCard=Fe.prototype.AllocateCard=function(u,w){var le=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),w&&"object"==typeof w&&(w=w.ptr),!!_a(le,u,w)},Fe.prototype.AdoptCard=Fe.prototype.AdoptCard=function(u,w,le){var rt=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),w&&"object"==typeof w&&(w=w.ptr),le&&"object"==typeof le&&(le=le.ptr),!!Or(rt,u,w,le)},Fe.prototype.MountCard=Fe.prototype.MountCard=function(u){var w=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),!!lc(w,u)},Fe.prototype.RemoveCard=Fe.prototype.RemoveCard=function(u){var w=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),!!Ml(w,u)},Fe.prototype.GetCardData=Fe.prototype.GetCardData=function(u){var w=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),mn(Ya(w,u),an)},Fe.prototype.GetCardDirtyPages=Fe.prototype.GetCardDirtyPages=function(u){var w=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),mn(bi(w,u),an)},Fe.prototype.GetCardSize=Fe.prototype.GetCardSize=function(u){var w=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),Zr(w,u)},Fe.prototype.RemountCards=Fe.prototype.RemountCards=function(){fi(this.ptr)},Fe.prototype.GetSupportLevel=Fe.prototype.GetSupportLevel=function(u){return u&&"object"==typeof u&&(u=u.ptr),ho(this.ptr,u)},Fe.prototype.GetMountedKey=Fe.prototype.GetMountedKey=function(){return gt(cc(this.ptr))},Fe.prototype.GetTransportIR=Fe.prototype.GetTransportIR=function(){return mn(Al(this.ptr),un)},Fe.prototype.GetTransportSerial=Fe.prototype.GetTransportSerial=function(){return mn(uc(this.ptr),un)},Fe.prototype.__destroy__=Fe.prototype.__destroy__=function(){kl(this.ptr)},(fr.prototype=Object.create(Kn.prototype)).constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},f.RomInfo=fr,fr.prototype.IsValid=fr.prototype.IsValid=function(){return!!rn(this.ptr)},fr.prototype.CardVersion=fr.prototype.CardVersion=function(){return Ot(this.ptr)},fr.prototype.CardName=fr.prototype.CardName=function(){return gt(Nr(this.ptr))},fr.prototype.RomVersion=fr.prototype.RomVersion=function(){return mo(this.ptr)},fr.prototype.RomVersionString=fr.prototype.RomVersionString=function(){return gt(go(this.ptr))},fr.prototype.Supports=fr.prototype.Supports=function(u){var w=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),!!Fr(w,u)},fr.prototype.__destroy__=fr.prototype.__destroy__=function(){$e(this.ptr)},(Mn.prototype=Object.create(Kn.prototype)).constructor=Mn,Mn.prototype.__class__=Mn,Mn.__cache__={},f.Frame=Mn,Mn.prototype.GetLineWidth=Mn.prototype.GetLineWidth=function(){return rr(this.ptr)},Mn.prototype.GetBpp=Mn.prototype.GetBpp=function(){return Jt(this.ptr)},Mn.prototype.GetLines=Mn.prototype.GetLines=function(){return qn(this.ptr)},Mn.prototype.GetMargin=Mn.prototype.GetMargin=function(){return y(this.ptr)},Mn.prototype.GetBytesPerLine=Mn.prototype.GetBytesPerLine=function(){return z(this.ptr)},Mn.prototype.GetFirstDirtyLine=Mn.prototype.GetFirstDirtyLine=function(){return ue(this.ptr)},Mn.prototype.GetLastDirtyLine=Mn.prototype.GetLastDirtyLine=function(){return ze(this.ptr)},Mn.prototype.GetHasChanges=Mn.prototype.GetHasChanges=function(){return!!kt(this.ptr)},Mn.prototype.GetBuffer=Mn.prototype.GetBuffer=function(){return mn(en(this.ptr),an)},Mn.prototype.GetBufferSize=Mn.prototype.GetBufferSize=function(){return _n(this.ptr)},Mn.prototype.GetScaleX=Mn.prototype.GetScaleX=function(){return Tn(this.ptr)},Mn.prototype.GetScaleY=Mn.prototype.GetScaleY=function(){return Nt(this.ptr)},Mn.prototype.__destroy__=Mn.prototype.__destroy__=function(){Zt(this.ptr)},(Nn.prototype=Object.create(Kn.prototype)).constructor=Nn,Nn.prototype.__class__=Nn,Nn.__cache__={},f.DbBackup=Nn,Nn.prototype.Init=Nn.prototype.Init=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!Dr(this.ptr,u)},Nn.prototype.IsInProgress=Nn.prototype.IsInProgress=function(){return!!xn(this.ptr)},Nn.prototype.IsDone=Nn.prototype.IsDone=function(){return!!er(this.ptr)},Nn.prototype.GetCurrentDatabase=Nn.prototype.GetCurrentDatabase=function(){return gt(At(this.ptr))},Nn.prototype.Save=Nn.prototype.Save=function(){return!!qt(this.ptr)},Nn.prototype.Skip=Nn.prototype.Skip=function(){tr(this.ptr)},Nn.prototype.GetArchivePtr=Nn.prototype.GetArchivePtr=function(){return mn(qr(this.ptr),an)},Nn.prototype.GetArchiveSize=Nn.prototype.GetArchiveSize=function(){return et(this.ptr)},Nn.prototype.__destroy__=Nn.prototype.__destroy__=function(){jn(this.ptr)},(Fo.prototype=Object.create(Kn.prototype)).constructor=Fo,Fo.prototype.__class__=Fo,Fo.__cache__={},f.SuspendContextClipboardCopy=Fo,Fo.prototype.Cancel=Fo.prototype.Cancel=function(){h(this.ptr)},Fo.prototype.Resume=Fo.prototype.Resume=function(){W(this.ptr)},Fo.prototype.GetClipboardContent=Fo.prototype.GetClipboardContent=function(){return gt(be(this.ptr))},Fo.prototype.__destroy__=Fo.prototype.__destroy__=function(){tt(this.ptr)},(Ci.prototype=Object.create(Kn.prototype)).constructor=Ci,Ci.prototype.__class__=Ci,Ci.__cache__={},f.SuspendContextClipboardPaste=Ci,Ci.prototype.Cancel=Ci.prototype.Cancel=function(){Rt(this.ptr)},Ci.prototype.Resume=Ci.prototype.Resume=function(u){var w=this.ptr;sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),cn(w,u)},Ci.prototype.__destroy__=Ci.prototype.__destroy__=function(){On(this.ptr)},(Si.prototype=Object.create(Kn.prototype)).constructor=Si,Si.prototype.__class__=Si,Si.__cache__={},f.SuspendContextNetworkConnect=Si,Si.prototype.Cancel=Si.prototype.Cancel=function(){Ln(this.ptr)},Si.prototype.Resume=Si.prototype.Resume=function(){Io(this.ptr)},Si.prototype.__destroy__=Si.prototype.__destroy__=function(){Xa(this.ptr)},(yo.prototype=Object.create(Kn.prototype)).constructor=yo,yo.prototype.__class__=yo,yo.__cache__={},f.SuspendContextNetworkRpc=yo,yo.prototype.Cancel=yo.prototype.Cancel=function(){Ss(this.ptr)},yo.prototype.GetRequestSize=yo.prototype.GetRequestSize=function(){return ba(this.ptr)},yo.prototype.GetRequestData=yo.prototype.GetRequestData=function(){return mn(ws(this.ptr),an)},yo.prototype.ReceiveResponse=yo.prototype.ReceiveResponse=function(u,w){u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),Kc(this.ptr,u,w)},yo.prototype.__destroy__=yo.prototype.__destroy__=function(){ju(this.ptr)},(hi.prototype=Object.create(Kn.prototype)).constructor=hi,hi.prototype.__class__=hi,hi.__cache__={},f.SuspendContextSerialSync=hi,hi.prototype.Cancel=hi.prototype.Cancel=function(){Yc(this.ptr)},hi.prototype.Resume=hi.prototype.Resume=function(){Xc(this.ptr)},hi.prototype.__destroy__=hi.prototype.__destroy__=function(){Ca(this.ptr)},(Lr.prototype=Object.create(Kn.prototype)).constructor=Lr,Lr.prototype.__class__=Lr,Lr.__cache__={},f.SuspendContext=Lr,Lr.prototype.GetKind=Lr.prototype.GetKind=function(){return Lh(this.ptr)},Lr.prototype.Cancel=Lr.prototype.Cancel=function(){Sa(this.ptr)},Lr.prototype.AsContextClipboardCopy=Lr.prototype.AsContextClipboardCopy=function(){return mn($h(this.ptr),Fo)},Lr.prototype.AsContextClipboardPaste=Lr.prototype.AsContextClipboardPaste=function(){return mn(se(this.ptr),Ci)},Lr.prototype.AsContextNetworkConnect=Lr.prototype.AsContextNetworkConnect=function(){return mn(Sf(this.ptr),Si)},Lr.prototype.AsContextNetworkRpc=Lr.prototype.AsContextNetworkRpc=function(){return mn(ot(this.ptr),yo)},Lr.prototype.AsContextSerialSync=Lr.prototype.AsContextSerialSync=function(){return mn(Qc(this.ptr),hi)},Lr.prototype.__destroy__=Lr.prototype.__destroy__=function(){Uu(this.ptr)},(Vt.prototype=Object.create(Kn.prototype)).constructor=Vt,Vt.prototype.__class__=Vt,Vt.__cache__={},f.SessionImage=Vt,Vt.prototype.GetDeviceId=Vt.prototype.GetDeviceId=function(){return gt(Bh(this.ptr))},Vt.prototype.SetDeviceId=Vt.prototype.SetDeviceId=function(u){var w=this.ptr;return sn.prepare(),u=u&&"object"==typeof u?u.ptr:Hn(u),mn(Vh(w,u),Vt)},Vt.prototype.GetRomImage=Vt.prototype.GetRomImage=function(){return mn(jh(this.ptr),an)},Vt.prototype.GetRomImageSize=Vt.prototype.GetRomImageSize=function(){return Ks(this.ptr)},Vt.prototype.SetRomImage=Vt.prototype.SetRomImage=function(u,w){return u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),mn(Jc(this.ptr,u,w),Vt)},Vt.prototype.GetMemoryImage=Vt.prototype.GetMemoryImage=function(){return mn(ts(this.ptr),an)},Vt.prototype.GetMemoryImageSize=Vt.prototype.GetMemoryImageSize=function(){return Ds(this.ptr)},Vt.prototype.SetMemoryImage=Vt.prototype.SetMemoryImage=function(u,w){return u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),mn(Un(this.ptr,u,w),Vt)},Vt.prototype.GetMetadata=Vt.prototype.GetMetadata=function(){return mn(wf(this.ptr),an)},Vt.prototype.GetMetadataSize=Vt.prototype.GetMetadataSize=function(){return Hu(this.ptr)},Vt.prototype.SetMetadata=Vt.prototype.SetMetadata=function(u,w){return u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),mn(Df(this.ptr,u,w),Vt)},Vt.prototype.GetSavestate=Vt.prototype.GetSavestate=function(){return mn(Ef(this.ptr),an)},Vt.prototype.GetSavestateSize=Vt.prototype.GetSavestateSize=function(){return pc(this.ptr)},Vt.prototype.SetSavestate=Vt.prototype.SetSavestate=function(u,w){return u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),mn(If(this.ptr,u,w),Vt)},Vt.prototype.GetVersion=Vt.prototype.GetVersion=function(){return Tf(this.ptr)},Vt.prototype.Serialize=Vt.prototype.Serialize=function(){return!!Uh(this.ptr)},Vt.prototype.GetSerializedImage=Vt.prototype.GetSerializedImage=function(){return mn(xf(this.ptr),an)},Vt.prototype.GetSerializedImageSize=Vt.prototype.GetSerializedImageSize=function(){return Hh(this.ptr)},Vt.prototype.Deserialize=Vt.prototype.Deserialize=function(u,w){return u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),!!Gh(this.ptr,u,w)},Vt.prototype.__destroy__=Vt.prototype.__destroy__=function(){ns(this.ptr)},(Ri.prototype=Object.create(Kn.prototype)).constructor=Ri,Ri.prototype.__class__=Ri,Ri.__cache__={},f.SkinLoader=Ri,Ri.prototype.GetData=Ri.prototype.GetData=function(){return mn(Mf(this.ptr),an)},Ri.prototype.GetSize=Ri.prototype.GetSize=function(){return Wh(this.ptr)},Ri.prototype.__destroy__=Ri.prototype.__destroy__=function(){Zh(this.ptr)},(un.prototype=Object.create(Kn.prototype)).constructor=un,un.prototype.__class__=un,un.__cache__={},f.EmTransportSerialBuffer=un,un.prototype.RxBytesPending=un.prototype.RxBytesPending=function(){return qh(this.ptr)},un.prototype.Receive=un.prototype.Receive=function(){return mn(Kh(this.ptr),an)},un.prototype.Send=un.prototype.Send=function(u,w,le){return u&&"object"==typeof u&&(u=u.ptr),w&&"object"==typeof w&&(w=w.ptr),le&&"object"==typeof le&&(le=le.ptr),Af(this.ptr,u,w,le)},un.prototype.IsOpen=un.prototype.IsOpen=function(){return!!Yh(this.ptr)},un.prototype.Rts=un.prototype.Rts=function(){return Xh(this.ptr)},un.prototype.Dtr=un.prototype.Dtr=function(){return!!Qh(this.ptr)},un.prototype.IsBreak=un.prototype.IsBreak=function(){return!!qe(this.ptr)},un.prototype.BufferSize=un.prototype.BufferSize=function(){return Jh(this.ptr)},un.prototype.GetBaud=un.prototype.GetBaud=function(){return em(this.ptr)},un.prototype.GetParity=un.prototype.GetParity=function(){return Kr(this.ptr)},un.prototype.GetStopBits=un.prototype.GetStopBits=function(){return kf(this.ptr)},un.prototype.GetDataBits=un.prototype.GetDataBits=function(){return xt(this.ptr)},un.prototype.GetHwrHandshake=un.prototype.GetHwrHandshake=function(){return To(this.ptr)},un.prototype.GetModeSync=un.prototype.GetModeSync=function(){return!!bn(this.ptr)},un.prototype.SetModeSync=un.prototype.SetModeSync=function(u){u&&"object"==typeof u&&(u=u.ptr),vo(this.ptr,u)},un.prototype.IsFrameComplete=un.prototype.IsFrameComplete=function(){return!!No(this.ptr)},un.prototype.SetRequestTransferCallback=un.prototype.SetRequestTransferCallback=function(u){u&&"object"==typeof u&&(u=u.ptr),wa(this.ptr,u)},un.prototype.__destroy__=un.prototype.__destroy__=function(){Zo(this.ptr)},(uo.prototype=Object.create(Kn.prototype)).constructor=uo,uo.prototype.__class__=uo,uo.__cache__={},f.GunzipContext=uo,uo.prototype.GetState=uo.prototype.GetState=function(){return Pf(this.ptr)},uo.prototype.Continue=uo.prototype.Continue=function(){return eu(this.ptr)},uo.prototype.GetUncompressedData=uo.prototype.GetUncompressedData=function(){return mn(tm(this.ptr),an)},uo.prototype.ReleaseUncompressedData=uo.prototype.ReleaseUncompressedData=function(){return mn(nm(this.ptr),an)},uo.prototype.GetUncompressedSize=uo.prototype.GetUncompressedSize=function(){return Yr(this.ptr)},uo.prototype.GetError=uo.prototype.GetError=function(){return gt(lt(this.ptr))},uo.prototype.__destroy__=uo.prototype.__destroy__=function(){Bt(this.ptr)},(fo.prototype=Object.create(Kn.prototype)).constructor=fo,fo.prototype.__class__=fo,fo.__cache__={},f.ZipfileWalker=fo,fo.prototype.GetState=fo.prototype.GetState=function(){return rs(this.ptr)},fo.prototype.Next=fo.prototype.Next=function(){return qo(this.ptr)},fo.prototype.GetTotalEntries=fo.prototype.GetTotalEntries=function(){return os(this.ptr)},fo.prototype.GetCurrentEntrySize=fo.prototype.GetCurrentEntrySize=function(){return Rl(this.ptr)},fo.prototype.GetCurrentEntryName=fo.prototype.GetCurrentEntryName=function(){return gt(Cr(this.ptr))},fo.prototype.GetCurrentEntryContent=fo.prototype.GetCurrentEntryContent=function(){return mn(ti(this.ptr),an)},fo.prototype.__destroy__=fo.prototype.__destroy__=function(){Pl(this.ptr)},Ke?f:new Promise((u,w)=>{P=u,ne=w})}));ae.exports=L,ae.exports.default=L},3097:(ae,De,b)=>{var G,C=b(4144).default,E=b(9717).default,L=(G=typeof document<"u"?document.currentScript?.src:void 0,E(function*(F={}){var f=F,T="object"==typeof window,q=typeof WorkerGlobalScope<"u",j=("object"==typeof process&&process.versions?.node&&process,"./this.program"),M=(y,z)=>{throw z};q&&(G=self.location.href);var Ee,te,$="";if(T||q){try{$=new URL(".",G).href}catch{}q&&(te=y=>{var z=new XMLHttpRequest;return z.open("GET",y,!1),z.responseType="arraybuffer",z.send(null),new Uint8Array(z.response)}),Ee=function(){var y=E(function*(z){var ue=yield fetch(z,{credentials:"same-origin"});if(ue.ok)return ue.arrayBuffer();throw new Error(ue.status+" : "+ue.url)});return function(ue){return y.apply(this,arguments)}}()}var J,ie,Z=console.log.bind(console),A=console.error.bind(console),ce=!1;function Re(y,z){y||ye(z)}function R(){if(!ce){var y=Dn();0==y&&(y+=4);var z=Oe[y>>2],ue=Oe[y+4>>2];(34821223!=z||2310721022!=ue)&&ye(`Stack overflow! Stack cookie has been overwritten at ${gr(y)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${gr(ue)} ${gr(z)}`),1668509029!=Oe[0]&&ye("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var P,ne,ee,I,D,oe,Oe,Ne,pe,Ke=!1;function yt(){var y=ee.buffer;I=new Int8Array(y),new Int16Array(y),f.HEAPU8=D=new Uint8Array(y),new Uint16Array(y),oe=new Int32Array(y),f.HEAPU32=Oe=new Uint32Array(y),new Float32Array(y),Ne=new Float64Array(y),pe=new BigInt64Array(y),new BigUint64Array(y)}var xe,ct=0,bt=null;function ye(y){f.onAbort?.(y),A(y="Aborted("+y+")"),ce=!0,y+=". Build with -sASSERTIONS for more info.";var z=new WebAssembly.RuntimeError(y);throw ne?.(z),z}function Kt(){return(Kt=E(function*(y){if(!J)try{var z=yield Ee(y);return new Uint8Array(z)}catch{}return function dt(y){if(y==xe&&J)return new Uint8Array(J);if(te)return te(y);throw"both async and sync fetching of the wasm failed"}(y)})).apply(this,arguments)}function Xt(){return Xt=E(function*(y,z){try{var ue=yield function Ht(y){return Kt.apply(this,arguments)}(y);return yield WebAssembly.instantiate(ue,z)}catch(kt){A(`failed to asynchronously prepare wasm: ${kt}`),ye(kt)}}),Xt.apply(this,arguments)}function Zn(){return Zn=E(function*(y,z,ue){if(!y&&"function"==typeof WebAssembly.instantiateStreaming)try{var ze=fetch(z,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(ze,ue)}catch(en){A(`wasm streaming compile failed: ${en}`),A("falling back to ArrayBuffer instantiation")}return function Yt(y,z){return Xt.apply(this,arguments)}(z,ue)}),Zn.apply(this,arguments)}function xr(){return xr=E(function*(){function y(en,_n){return ee=(Or=en.exports).v,yt(),X=Or.za,function xl(y){f._free=y.x,f._malloc=y.y,f._main=Ar=y.z,f._webidl_free=y.A,f._webidl_malloc=y.B,f._emscripten_bind_VoidPtr___destroy___0=_s=y.C,f._emscripten_bind_FSTools_FSTools_0=Rn=y.D,f._emscripten_bind_FSTools_Malloc_1=Oo=y.E,f._emscripten_bind_FSTools_Free_1=Eo=y.F,f._emscripten_bind_FSTools_Nullptr_0=Xi=y.G,f._emscripten_bind_FSTools___destroy___0=$a=y.H,f._emscripten_bind_MkfsContext_MkfsContext_0=ca=y.I,f._emscripten_bind_MkfsContext_Mkfs_2=Us=y.J,f._emscripten_bind_MkfsContext_GetImage_0=ua=y.K,f._emscripten_bind_MkfsContext_GetImageSize_0=Qi=y.L,f._emscripten_bind_MkfsContext___destroy___0=Ba=y.M,f._emscripten_bind_FsckContext_FsckContext_1=da=y.N,f._emscripten_bind_FsckContext_GetImage_0=fa=y.O,f._emscripten_bind_FsckContext_GetDirtyPages_0=Va=y.P,f._emscripten_bind_FsckContext_GetImageSize_0=ja=y.Q,f._emscripten_bind_FsckContext_Fsck_0=Ua=y.R,f._emscripten_bind_FsckContext_GetResult_0=Ha=y.S,f._emscripten_bind_FsckContext___destroy___0=pa=y.T,f._emscripten_bind_GunzipContext_GunzipContext_3=Ga=y.U,f._emscripten_bind_GunzipContext_GetState_0=za=y.V,f._emscripten_bind_GunzipContext_Continue_0=_r=y.W,f._emscripten_bind_GunzipContext_GetUncompressedData_0=ha=y.X,f._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=lo=y.Y,f._emscripten_bind_GunzipContext_GetUncompressedSize_0=Pt=y.Z,f._emscripten_bind_GunzipContext_GetError_0=ma=y._,f._emscripten_bind_GunzipContext___destroy___0=Hs=y.$,f._emscripten_bind_GzipContext_GzipContext_3=Wr=y.aa,f._emscripten_bind_GzipContext_SetFilename_1=Gs=y.ba,f._emscripten_bind_GzipContext_SetMtime_1=Wa=y.ca,f._emscripten_bind_GzipContext_Continue_0=Pn=y.da,f._emscripten_bind_GzipContext_GetState_0=bs=y.ea,f._emscripten_bind_GzipContext_GetGzipData_0=br=y.fa,f._emscripten_bind_GzipContext_GetGzipSize_0=zs=y.ga,f._emscripten_bind_GzipContext_GetError_0=El=y.ha,f._emscripten_bind_GzipContext___destroy___0=Za=y.ia,f._emscripten_bind_CreateZipContext_CreateZipContext_0=Fn=y.ja,f._emscripten_bind_CreateZipContext_Initialize_1=Lt=y.ka,f._emscripten_bind_CreateZipContext_AddEntry_1=Cs=y.la,f._emscripten_bind_CreateZipContext_WriteData_2=Ws=y.ma,f._emscripten_bind_CreateZipContext_GetZipData_0=Il=y.na,f._emscripten_bind_CreateZipContext_GetZipDataSize_0=ga=y.oa,f._emscripten_bind_CreateZipContext_GetLastError_0=Ye=y.pa,f._emscripten_bind_CreateZipContext___destroy___0=ki=y.qa,f._emscripten_bind_ZipfileWalker_ZipfileWalker_2=Ji=y.ra,f._emscripten_bind_ZipfileWalker_GetState_0=Zs=y.sa,f._emscripten_bind_ZipfileWalker_Next_0=qs=y.ta,f._emscripten_bind_ZipfileWalker_GetTotalEntries_0=va=y.ua,f._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=ei=y.va,f._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=es=y.wa,f._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=ya=y.xa,f._emscripten_bind_ZipfileWalker___destroy___0=Wt=y.ya,Dn=y.Aa,Tl=y.Ba,qa=y.Ca,Ka=y.Da,f.___original_main=y.Ea}(Or),function ke(y){if(ct--,f.monitorRunDependencies?.(ct),0==ct&&bt){var z=bt;bt=null,z()}}(),Or}!function Ft(y){ct++,f.monitorRunDependencies?.(ct)}();var ue=function sr(){return{a:_a}}();if(f.instantiateWasm)return new Promise((en,_n)=>{f.instantiateWasm(ue,(Tn,Nt)=>{en(y(Tn))})});xe??=function Qe(){return function me(y){return f.locateFile?f.locateFile(y,$):$+y}("fstools_web.wasm")}();var ze=yield function fn(y,z,ue){return Zn.apply(this,arguments)}(J,xe,ue);return function z(en){return y(en.instance)}(ze)}),xr.apply(this,arguments)}class oo{constructor(z){C(this,"name","ExitStatus"),this.message=`Program terminated with exit(${z})`,this.status=z}}var X,Ze,Qn=y=>{for(;y.length>0;)y.shift()(f)},mr=[],Do=y=>mr.push(y),io=[],li=y=>io.push(y),Jr=!0,gr=y=>"0x"+(y>>>=0).toString(16).padStart(8,"0"),Te=typeof TextDecoder<"u"?new TextDecoder:void 0,Me=(y,z=0,ue=NaN)=>{for(var ze=z+ue,kt=z;y[kt]&&!(kt>=ze);)++kt;if(kt-z>16&&y.buffer&&Te)return Te.decode(y.subarray(z,kt));for(var en="";z<kt;){var _n=y[z++];if(128&_n){var Tn=63&y[z++];if(192!=(224&_n)){var Nt=63&y[z++];if((_n=224==(240&_n)?(15&_n)<<12|Tn<<6|Nt:(7&_n)<<18|Tn<<12|Nt<<6|63&y[z++])<65536)en+=String.fromCharCode(_n);else{var Zt=_n-65536;en+=String.fromCharCode(55296|Zt>>10,56320|1023&Zt)}}else en+=String.fromCharCode((31&_n)<<6|Tn)}else en+=String.fromCharCode(_n)}return en},gt=(y,z)=>y?Me(D,y,z):"",nr=y=>y<-9007199254740992||y>9007199254740992?NaN:Number(y),Hr={varargs:void 0,getStr:y=>gt(y)},Ro=0,In=[0,31,60,91,121,152,182,213,244,274,305,335],yr=[0,31,59,90,120,151,181,212,243,273,304,334],Bn=y=>((y=>y%4==0&&(y%100!=0||y%400==0))(y.getFullYear())?In:yr)[y.getMonth()]+y.getDate()-1,po={},Qt=y=>{if(y instanceof oo||"unwind"==y)return ie;R(),y instanceof WebAssembly.RuntimeError&&Ka()<=0&&A("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),M(0,y)},Go=()=>Jr||Ro>0,gi=y=>{ie=y,Go()||(f.onExit?.(y),ce=!0),M(0,new oo(y))},ci=(y,z)=>{ie=y,gi(y)},zo=ci,Jo=(y,z,ue,ze)=>{if(!(ze>0))return 0;for(var kt=ue,en=ue+ze-1,_n=0;_n<y.length;++_n){var Tn=y.codePointAt(_n);if(Tn<=127){if(ue>=en)break;z[ue++]=Tn}else if(Tn<=2047){if(ue+1>=en)break;z[ue++]=192|Tn>>6,z[ue++]=128|63&Tn}else if(Tn<=65535){if(ue+2>=en)break;z[ue++]=224|Tn>>12,z[ue++]=128|Tn>>6&63,z[ue++]=128|63&Tn}else{if(ue+3>=en)break;z[ue++]=240|Tn>>18,z[ue++]=128|Tn>>12&63,z[ue++]=128|Tn>>6&63,z[ue++]=128|63&Tn,_n++}}return z[ue]=0,ue-kt},vi=(y,z,ue)=>Jo(y,D,z,ue),yi=[],Ai=(y,z)=>Math.ceil(y/z)*z,_i=y=>{var ue=(y-ee.buffer.byteLength+65535)/65536|0;try{return ee.grow(ue),yt(),1}catch{}},no={},Vn=()=>{if(!Vn.strings){var z={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var ue in no)void 0===no[ue]?delete z[ue]:z[ue]=no[ue];var ze=[];for(var ue in z)ze.push(`${ue}=${z[ue]}`);Vn.strings=ze}return Vn.strings},fs=y=>{for(var z=0,ue=0;ue<y.length;++ue){var ze=y.charCodeAt(ue);ze<=127?z++:ze<=2047?z+=2:ze>=55296&&ze<=57343?(z+=4,++ue):z+=3}return z},js=[null,[],[]],ms=(y,z)=>{var ue=js[y];0===z||10===z?((1===y?Z:A)(Me(ue)),ue.length=0):ue.push(z)},Yi=[],ys=(y,z)=>{y<128?z.push(y):z.push(y%128|128,y>>7)},B=[],Pe=y=>{var z=B[y];return z||(B[y]=z=X.get(y)),z},Je=[],ut=(y,z)=>{X.set(y,z),B[y]=X.get(y)};f.noExitRuntime&&(Jr=f.noExitRuntime),f.print&&(Z=f.print),f.printErr&&(A=f.printErr),f.wasmBinary&&(J=f.wasmBinary),f.thisProgram&&(j=f.thisProgram),f.addFunction=(y,z)=>{var ue=(y=>(Ze||(Ze=new WeakMap,((y,z)=>{if(Ze)for(var ue=0;ue<0+z;ue++){var ze=Pe(ue);ze&&Ze.set(ze,ue)}})(0,X.length)),Ze.get(y)||0))(y);if(ue)return ue;var ze=(()=>{if(Je.length)return Je.pop();try{X.grow(1)}catch(y){throw y instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":y}return X.length-1})();try{ut(ze,y)}catch(en){if(!(en instanceof TypeError))throw en;var kt=((y,z)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((y=>{for(var z={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},ue={parameters:[],results:"v"==y[0]?[]:[z[y[0]]]},ze=1;ze<y.length;++ze)ue.parameters.push(z[y[ze]]);return ue})(z),y);var ue=[1];((y,z)=>{var ue=y.slice(0,1),ze=y.slice(1),kt={i:127,p:127,j:126,f:125,d:124,e:111};for(var en of(z.push(96),ys(ze.length,z),ze))z.push(kt[en]);"v"==ue?z.push(0):z.push(1,kt[ue])})(z,ue);var ze=[0,97,115,109,1,0,0,0,1];ys(ue.length,ze),ze.push(...ue),ze.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var kt=new WebAssembly.Module(new Uint8Array(ze));return new WebAssembly.Instance(kt,{e:{f:y}}).exports.f})(y,z);ut(ze,kt)}return Ze.set(y,ze),ze},f.UTF8ToString=gt;var Ar,_s,Rn,Oo,Eo,Xi,$a,ca,Us,ua,Qi,Ba,da,fa,Va,ja,Ua,Ha,pa,Ga,za,_r,ha,lo,Pt,ma,Hs,Wr,Gs,Wa,Pn,bs,br,zs,El,Za,Fn,Lt,Cs,Ws,Il,ga,Ye,ki,Ji,Zs,qs,va,ei,es,ya,Wt,Dn,Tl,qa,Ka,Et={46212:()=>{throw new Error("terminated")}},_a={b:(y,z,ue,ze)=>ye(`Assertion failed: ${gt(y)}, at: `+[z?gt(z):"unknown filename",ue,ze?gt(ze):"unknown function"]),f:function vr(y,z){z=nr(z)},h:function eo(y,z,ue,ze){Hr.varargs=ze},i:()=>ye(""),k:()=>{Jr=!1,Ro=0},n:function Ki(y,z){y=nr(y);var ue=new Date(1e3*y);oe[z>>2]=ue.getUTCSeconds(),oe[z+4>>2]=ue.getUTCMinutes(),oe[z+8>>2]=ue.getUTCHours(),oe[z+12>>2]=ue.getUTCDate(),oe[z+16>>2]=ue.getUTCMonth(),oe[z+20>>2]=ue.getUTCFullYear()-1900,oe[z+24>>2]=ue.getUTCDay();var ze=Date.UTC(ue.getUTCFullYear(),0,1,0,0,0,0),kt=(ue.getTime()-ze)/864e5|0;oe[z+28>>2]=kt},o:function dn(y,z){y=nr(y);var ue=new Date(1e3*y);oe[z>>2]=ue.getSeconds(),oe[z+4>>2]=ue.getMinutes(),oe[z+8>>2]=ue.getHours(),oe[z+12>>2]=ue.getDate(),oe[z+16>>2]=ue.getMonth(),oe[z+20>>2]=ue.getFullYear()-1900,oe[z+24>>2]=ue.getDay();var ze=0|Bn(ue);oe[z+28>>2]=ze,oe[z+36>>2]=-60*ue.getTimezoneOffset();var kt=new Date(ue.getFullYear(),0,1),en=new Date(ue.getFullYear(),6,1).getTimezoneOffset(),_n=kt.getTimezoneOffset(),Tn=0|(en!=_n&&ue.getTimezoneOffset()==Math.min(_n,en));oe[z+32>>2]=Tn},p:function(y){var z=(()=>{var ue=new Date(oe[y+20>>2]+1900,oe[y+16>>2],oe[y+12>>2],oe[y+8>>2],oe[y+4>>2],oe[y>>2],0),ze=oe[y+32>>2],kt=ue.getTimezoneOffset(),en=new Date(ue.getFullYear(),0,1),_n=new Date(ue.getFullYear(),6,1).getTimezoneOffset(),Tn=en.getTimezoneOffset(),Nt=Math.min(Tn,_n);if(ze<0)oe[y+32>>2]=+(_n!=Tn&&Nt==kt);else if(ze>0!=(Nt==kt)){var Zt=Math.max(Tn,_n),Dr=ze>0?Nt:Zt;ue.setTime(ue.getTime()+6e4*(Dr-kt))}oe[y+24>>2]=ue.getDay();var xn=0|Bn(ue);oe[y+28>>2]=xn,oe[y>>2]=ue.getSeconds(),oe[y+4>>2]=ue.getMinutes(),oe[y+8>>2]=ue.getHours(),oe[y+12>>2]=ue.getDate(),oe[y+16>>2]=ue.getMonth(),oe[y+20>>2]=ue.getYear();var er=ue.getTime();return isNaN(er)?-1:er/1e3})();return BigInt(z)},l:(y,z)=>{if(po[y]&&(clearTimeout(po[y].id),delete po[y]),!z)return 0;var ue=setTimeout(()=>{delete po[y],(y=>{if(!ce)try{y(),(()=>{if(!Go())try{zo(ie)}catch(y){Qt(y)}})()}catch(z){Qt(z)}})(()=>Tl(y,performance.now()))},z);return po[y]={id:ue,timeout_ms:z},0},q:(y,z,ue,ze)=>{var kt=(new Date).getFullYear(),en=new Date(kt,0,1),_n=new Date(kt,6,1),Tn=en.getTimezoneOffset(),Nt=_n.getTimezoneOffset(),Zt=Math.max(Tn,Nt);Oe[y>>2]=60*Zt,oe[z>>2]=+(Tn!=Nt);var Dr=At=>{var qt=At>=0?"-":"+",tr=Math.abs(At);return`UTC${qt}${String(Math.floor(tr/60)).padStart(2,"0")}${String(tr%60).padStart(2,"0")}`},xn=Dr(Tn),er=Dr(Nt);Nt<Tn?(vi(xn,ue,17),vi(er,ze,17)):(vi(xn,ze,17),vi(er,ue,17))},a:(y,z,ue)=>((y,z,ue)=>{var ze=((y,z)=>{yi.length=0;for(var ue;ue=D[y++];){var ze=105!=ue;z+=(ze&=112!=ue)&&z%8?4:0,yi.push(112==ue?Oe[z>>2]:106==ue?pe[z>>3]:105==ue?oe[z>>2]:Ne[z>>3]),z+=ze?8:4}return yi})(z,ue);return Et[y](...ze)})(y,z,ue),d:()=>Date.now(),m:y=>{var z=D.length,ue=2147483648;if((y>>>=0)>ue)return!1;for(var ze=1;ze<=4;ze*=2){var kt=z*(1+.2/ze);kt=Math.min(kt,y+100663296);var en=Math.min(ue,Ai(Math.max(y,kt),65536));if(_i(en))return!0}return!1},s:(y,z)=>{var ue=0,ze=0;for(var kt of Vn()){var en=z+ue;Oe[y+ze>>2]=en,ue+=vi(kt,en,1/0)+1,ze+=4}return 0},t:(y,z)=>{var ue=Vn();Oe[y>>2]=ue.length;var ze=0;for(var kt of ue)ze+=fs(kt)+1;return Oe[z>>2]=ze,0},u:zo,e:y=>52,c:(y,z,ue,ze)=>52,r:function hs(y,z,ue,ze){return z=nr(z),70},g:(y,z,ue,ze)=>{for(var kt=0,en=0;en<ue;en++){var _n=Oe[z>>2],Tn=Oe[z+4>>2];z+=8;for(var Nt=0;Nt<Tn;Nt++)ms(y,D[_n+Nt]);kt+=Tn}return Oe[ze>>2]=kt,0},j:gi},Or=yield function ai(){return xr.apply(this,arguments)}();function Zr(){}function fi(y){return(y||Zr).__cache__}function ho(y,z){var ue=fi(z),ze=ue[y];return ze||((ze=Object.create((z||Zr).prototype)).ptr=y,ue[y]=ze)}(function bi(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function Ya(){function y(){f.calledRun=!0,ce||(function Ve(){Ke=!0,R(),Qn(Yi),Or.w()}(),function it(){R()}(),P?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function lc(){var y=Ar;try{var ze=y(0,0);return ci(ze),ze}catch(kt){return Qt(kt)}}(),function He(){if(R(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)Do(f.postRun.shift());Qn(mr)}())}ct>0?bt=Ya:(function Ml(){qa(),function Be(){var y=Dn();0==y&&(y+=4),Oe[y>>2]=34821223,Oe[y+4>>2]=2310721022,Oe[0]=1668509029}()}(),function de(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)li(f.preRun.shift());Qn(io)}(),ct>0?bt=Ya:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),y()},1)):y(),R()))}(),(Zr.prototype=Object.create(Zr.prototype)).constructor=Zr,Zr.prototype.__class__=Zr,Zr.__cache__={},f.WrapperObject=Zr,f.getCache=fi,f.wrapPointer=ho,f.castObject=function cc(y,z){return ho(y.ptr,z)},f.NULL=ho(0),f.destroy=function Al(y){if(!y.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";y.__destroy__(),delete fi(y.__class__)[y.ptr]},f.compare=function uc(y,z){return y.ptr===z.ptr},f.getPointer=function kl(y){return y.ptr},f.getClass=function dc(y){return y.__class__};var rn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(rn.needed){for(var y=0;y<rn.temps.length;y++)f._webidl_free(rn.temps[y]);rn.temps.length=0,f._webidl_free(rn.buffer),rn.buffer=0,rn.size+=rn.needed,rn.needed=0}rn.buffer||(rn.size+=128,rn.buffer=f._webidl_malloc(rn.size),Re(rn.buffer)),rn.pos=0},alloc(y,z){Re(rn.buffer);var kt,ze=y.length*z.BYTES_PER_ELEMENT;return ze=Ai(ze,8),rn.pos+ze>=rn.size?(Re(ze>0),rn.needed+=ze,kt=f._webidl_malloc(ze),rn.temps.push(kt)):(kt=rn.buffer+rn.pos,rn.pos+=ze),kt},copy(y,z,ue){ue/=z.BYTES_PER_ELEMENT;for(var ze=0;ze<y.length;ze++)z[ue+ze]=y[ze]}};function Ot(y){if("string"==typeof y){var z=((y,z,ue)=>{var ze=fs(y)+1,kt=new Array(ze);Jo(y,kt,0,kt.length);return kt})(y),ue=rn.alloc(z,I);return rn.copy(z,I,ue),ue}return y}function Nr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function mo(){this.ptr=Rn(),fi(mo)[this.ptr]=this}function go(){this.ptr=ca(),fi(go)[this.ptr]=this}function Fr(y){y&&"object"==typeof y&&(y=y.ptr),this.ptr=da(y),fi(Fr)[this.ptr]=this}function $e(y,z,ue){y&&"object"==typeof y&&(y=y.ptr),z&&"object"==typeof z&&(z=z.ptr),ue&&"object"==typeof ue&&(ue=ue.ptr),this.ptr=Ga(y,z,ue),fi($e)[this.ptr]=this}function rr(y,z,ue){y&&"object"==typeof y&&(y=y.ptr),z&&"object"==typeof z&&(z=z.ptr),ue&&"object"==typeof ue&&(ue=ue.ptr),this.ptr=Wr(y,z,ue),fi(rr)[this.ptr]=this}function Jt(){this.ptr=Fn(),fi(Jt)[this.ptr]=this}function qn(y,z){y&&"object"==typeof y&&(y=y.ptr),z&&"object"==typeof z&&(z=z.ptr),this.ptr=Ji(y,z),fi(qn)[this.ptr]=this}return(Nr.prototype=Object.create(Zr.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},f.VoidPtr=Nr,Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){_s(this.ptr)},(mo.prototype=Object.create(Zr.prototype)).constructor=mo,mo.prototype.__class__=mo,mo.__cache__={},f.FSTools=mo,mo.prototype.Malloc=mo.prototype.Malloc=function(y){return y&&"object"==typeof y&&(y=y.ptr),ho(Oo(this.ptr,y),Nr)},mo.prototype.Free=mo.prototype.Free=function(y){y&&"object"==typeof y&&(y=y.ptr),Eo(this.ptr,y)},mo.prototype.Nullptr=mo.prototype.Nullptr=function(){return ho(Xi(this.ptr),Nr)},mo.prototype.__destroy__=mo.prototype.__destroy__=function(){$a(this.ptr)},(go.prototype=Object.create(Zr.prototype)).constructor=go,go.prototype.__class__=go,go.__cache__={},f.MkfsContext=go,go.prototype.Mkfs=go.prototype.Mkfs=function(y,z){var ue=this.ptr;return rn.prepare(),y&&"object"==typeof y&&(y=y.ptr),z=z&&"object"==typeof z?z.ptr:Ot(z),!!Us(ue,y,z)},go.prototype.GetImage=go.prototype.GetImage=function(){return ho(ua(this.ptr),Nr)},go.prototype.GetImageSize=go.prototype.GetImageSize=function(){return Qi(this.ptr)},go.prototype.__destroy__=go.prototype.__destroy__=function(){Ba(this.ptr)},(Fr.prototype=Object.create(Zr.prototype)).constructor=Fr,Fr.prototype.__class__=Fr,Fr.__cache__={},f.FsckContext=Fr,Fr.prototype.GetImage=Fr.prototype.GetImage=function(){return ho(fa(this.ptr),Nr)},Fr.prototype.GetDirtyPages=Fr.prototype.GetDirtyPages=function(){return ho(Va(this.ptr),Nr)},Fr.prototype.GetImageSize=Fr.prototype.GetImageSize=function(){return ja(this.ptr)},Fr.prototype.Fsck=Fr.prototype.Fsck=function(){return Ua(this.ptr)},Fr.prototype.GetResult=Fr.prototype.GetResult=function(){return Ha(this.ptr)},Fr.prototype.__destroy__=Fr.prototype.__destroy__=function(){pa(this.ptr)},($e.prototype=Object.create(Zr.prototype)).constructor=$e,$e.prototype.__class__=$e,$e.__cache__={},f.GunzipContext=$e,$e.prototype.GetState=$e.prototype.GetState=function(){return za(this.ptr)},$e.prototype.Continue=$e.prototype.Continue=function(){return _r(this.ptr)},$e.prototype.GetUncompressedData=$e.prototype.GetUncompressedData=function(){return ho(ha(this.ptr),Nr)},$e.prototype.ReleaseUncompressedData=$e.prototype.ReleaseUncompressedData=function(){return ho(lo(this.ptr),Nr)},$e.prototype.GetUncompressedSize=$e.prototype.GetUncompressedSize=function(){return Pt(this.ptr)},$e.prototype.GetError=$e.prototype.GetError=function(){return gt(ma(this.ptr))},$e.prototype.__destroy__=$e.prototype.__destroy__=function(){Hs(this.ptr)},(rr.prototype=Object.create(Zr.prototype)).constructor=rr,rr.prototype.__class__=rr,rr.__cache__={},f.GzipContext=rr,rr.prototype.SetFilename=rr.prototype.SetFilename=function(y){var z=this.ptr;return rn.prepare(),y=y&&"object"==typeof y?y.ptr:Ot(y),ho(Gs(z,y),rr)},rr.prototype.SetMtime=rr.prototype.SetMtime=function(y){return y&&"object"==typeof y&&(y=y.ptr),ho(Wa(this.ptr,y),rr)},rr.prototype.Continue=rr.prototype.Continue=function(){return Pn(this.ptr)},rr.prototype.GetState=rr.prototype.GetState=function(){return bs(this.ptr)},rr.prototype.GetGzipData=rr.prototype.GetGzipData=function(){return ho(br(this.ptr),Nr)},rr.prototype.GetGzipSize=rr.prototype.GetGzipSize=function(){return zs(this.ptr)},rr.prototype.GetError=rr.prototype.GetError=function(){return gt(El(this.ptr))},rr.prototype.__destroy__=rr.prototype.__destroy__=function(){Za(this.ptr)},(Jt.prototype=Object.create(Zr.prototype)).constructor=Jt,Jt.prototype.__class__=Jt,Jt.__cache__={},f.CreateZipContext=Jt,Jt.prototype.Initialize=Jt.prototype.Initialize=function(y){return y&&"object"==typeof y&&(y=y.ptr),!!Lt(this.ptr,y)},Jt.prototype.AddEntry=Jt.prototype.AddEntry=function(y){var z=this.ptr;return rn.prepare(),y=y&&"object"==typeof y?y.ptr:Ot(y),!!Cs(z,y)},Jt.prototype.WriteData=Jt.prototype.WriteData=function(y,z){return y&&"object"==typeof y&&(y=y.ptr),z&&"object"==typeof z&&(z=z.ptr),!!Ws(this.ptr,y,z)},Jt.prototype.GetZipData=Jt.prototype.GetZipData=function(){return ho(Il(this.ptr),Nr)},Jt.prototype.GetZipDataSize=Jt.prototype.GetZipDataSize=function(){return ga(this.ptr)},Jt.prototype.GetLastError=Jt.prototype.GetLastError=function(){return gt(Ye(this.ptr))},Jt.prototype.__destroy__=Jt.prototype.__destroy__=function(){ki(this.ptr)},(qn.prototype=Object.create(Zr.prototype)).constructor=qn,qn.prototype.__class__=qn,qn.__cache__={},f.ZipfileWalker=qn,qn.prototype.GetState=qn.prototype.GetState=function(){return Zs(this.ptr)},qn.prototype.Next=qn.prototype.Next=function(){return qs(this.ptr)},qn.prototype.GetTotalEntries=qn.prototype.GetTotalEntries=function(){return va(this.ptr)},qn.prototype.GetCurrentEntrySize=qn.prototype.GetCurrentEntrySize=function(){return ei(this.ptr)},qn.prototype.GetCurrentEntryName=qn.prototype.GetCurrentEntryName=function(){return gt(es(this.ptr))},qn.prototype.GetCurrentEntryContent=qn.prototype.GetCurrentEntryContent=function(){return ho(ya(this.ptr),Nr)},qn.prototype.__destroy__=qn.prototype.__destroy__=function(){Wt(this.ptr)},Ke?f:new Promise((y,z)=>{P=y,ne=z})}));ae.exports=L,ae.exports.default=L},8886:(ae,De,b)=>{var G,C=b(4144).default,E=b(9717).default,L=(G=typeof document<"u"?document.currentScript?.src:void 0,E(function*(F={}){var f=F,T="object"==typeof window,q=typeof WorkerGlobalScope<"u",j=("object"==typeof process&&process.versions?.node&&process,"./this.program"),M=(h,W)=>{throw W};q&&(G=self.location.href);var Ee,te,$="";if(T||q){try{$=new URL(".",G).href}catch{}q&&(te=h=>{var W=new XMLHttpRequest;return W.open("GET",h,!1),W.responseType="arraybuffer",W.send(null),new Uint8Array(W.response)}),Ee=function(){var h=E(function*(W){var be=yield fetch(W,{credentials:"same-origin"});if(be.ok)return be.arrayBuffer();throw new Error(be.status+" : "+be.url)});return function(be){return h.apply(this,arguments)}}()}var J,ie,Z=console.log.bind(console),A=console.error.bind(console),ce=!1;function Re(h,W){h||ye(W)}function R(){if(!ce){var h=Ot();0==h&&(h+=4);var W=Oe[h>>2],be=Oe[h+4>>2];(34821223!=W||2310721022!=be)&&ye(`Stack overflow! Stack cookie has been overwritten at ${gr(h)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${gr(be)} ${gr(W)}`),1668509029!=Oe[0]&&ye("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var P,ne,ee,I,D,oe,Oe,pe,Ke=!1;function yt(){var h=ee.buffer;I=new Int8Array(h),new Int16Array(h),f.HEAPU8=D=new Uint8Array(h),new Uint16Array(h),oe=new Int32Array(h),f.HEAPU32=Oe=new Uint32Array(h),new Float32Array(h),new Float64Array(h),pe=new BigInt64Array(h),new BigUint64Array(h)}var xe,ct=0,bt=null;function ye(h){f.onAbort?.(h),A(h="Aborted("+h+")"),ce=!0,h+=". Build with -sASSERTIONS for more info.";var W=new WebAssembly.RuntimeError(h);throw ne?.(W),W}function Kt(){return(Kt=E(function*(h){if(!J)try{var W=yield Ee(h);return new Uint8Array(W)}catch{}return function dt(h){if(h==xe&&J)return new Uint8Array(J);if(te)return te(h);throw"both async and sync fetching of the wasm failed"}(h)})).apply(this,arguments)}function Xt(){return Xt=E(function*(h,W){try{var be=yield function Ht(h){return Kt.apply(this,arguments)}(h);return yield WebAssembly.instantiate(be,W)}catch(Rt){A(`failed to asynchronously prepare wasm: ${Rt}`),ye(Rt)}}),Xt.apply(this,arguments)}function Zn(){return Zn=E(function*(h,W,be){if(!h&&"function"==typeof WebAssembly.instantiateStreaming)try{var tt=fetch(W,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(tt,be)}catch(cn){A(`wasm streaming compile failed: ${cn}`),A("falling back to ArrayBuffer instantiation")}return function Yt(h,W){return Xt.apply(this,arguments)}(W,be)}),Zn.apply(this,arguments)}function xr(){return xr=E(function*(){function h(cn,On){return ee=($e=cn.exports).s,yt(),Wo=$e.Ua,function go(h){f._malloc=h.u,f._free=h.v,f._main=ut=h.w,f._webidl_free=h.x,f._webidl_malloc=h.y,f._emscripten_bind_VoidPtr___destroy___0=wn=h.z,f._emscripten_bind_FileEntry_GetName_0=wr=h.A,f._emscripten_bind_FileEntry_IsDirectory_0=Ar=h.B,f._emscripten_bind_FileEntry_GetSize_0=zr=h.C,f._emscripten_bind_FileEntry_GetModifiedTS_0=Jn=h.D,f._emscripten_bind_FileEntry_GetAttributes_0=_s=h.E,f._emscripten_bind_FileEntry___destroy___0=Rn=h.F,f._emscripten_bind_Vfs_Vfs_0=Oo=h.G,f._emscripten_bind_Vfs_Malloc_1=Eo=h.H,f._emscripten_bind_Vfs_Free_1=Xi=h.I,f._emscripten_bind_Vfs_Nullptr_0=$a=h.J,f._emscripten_bind_Vfs_AllocateImage_1=ca=h.K,f._emscripten_bind_Vfs_MountImage_1=Us=h.L,f._emscripten_bind_Vfs_UnmountImage_1=ua=h.M,f._emscripten_bind_Vfs_SwitchSlot_1=Qi=h.N,f._emscripten_bind_Vfs_GetPendingImageSize_0=Ba=h.O,f._emscripten_bind_Vfs_GetSize_1=da=h.P,f._emscripten_bind_Vfs_GetPendingImage_0=fa=h.Q,f._emscripten_bind_Vfs_GetImage_1=Va=h.R,f._emscripten_bind_Vfs_GetDirtyPages_1=ja=h.S,f._emscripten_bind_Vfs_RenameFile_2=Ua=h.T,f._emscripten_bind_Vfs_ChmodFile_3=Ha=h.U,f._emscripten_bind_Vfs_StatFile_1=pa=h.V,f._emscripten_bind_Vfs_UnlinkFile_1=Ga=h.W,f._emscripten_bind_Vfs_Mkdir_1=za=h.X,f._emscripten_bind_Vfs_GetEntry_0=_r=h.Y,f._emscripten_bind_Vfs_BytesFree_1=ha=h.Z,f._emscripten_bind_Vfs_BytesTotal_1=lo=h._,f._emscripten_bind_Vfs_ReadFile_1=Pt=h.$,f._emscripten_bind_Vfs_GetCurrentFileSize_0=ma=h.aa,f._emscripten_bind_Vfs_GetCurrentFileContent_0=Hs=h.ba,f._emscripten_bind_Vfs_ReleaseCurrentFile_0=Wr=h.ca,f._emscripten_bind_Vfs_WriteFile_3=Gs=h.da,f._emscripten_bind_Vfs___destroy___0=Wa=h.ea,f._emscripten_bind_ReaddirContext_ReaddirContext_1=Pn=h.fa,f._emscripten_bind_ReaddirContext_Next_0=bs=h.ga,f._emscripten_bind_ReaddirContext_GetEntry_0=br=h.ha,f._emscripten_bind_ReaddirContext_GetStatus_0=zs=h.ia,f._emscripten_bind_ReaddirContext_GetError_0=El=h.ja,f._emscripten_bind_ReaddirContext_GetErrorDescription_0=Za=h.ka,f._emscripten_bind_ReaddirContext___destroy___0=Fn=h.la,f._emscripten_bind_ExportZipContext_ExportZipContext_2=Lt=h.ma,f._emscripten_bind_ExportZipContext_AddFile_1=Cs=h.na,f._emscripten_bind_ExportZipContext_AddDirectory_1=Ws=h.oa,f._emscripten_bind_ExportZipContext_Continue_0=Il=h.pa,f._emscripten_bind_ExportZipContext_GetState_0=ga=h.qa,f._emscripten_bind_ExportZipContext_GetZipContent_0=Ye=h.ra,f._emscripten_bind_ExportZipContext_GetZipSize_0=ki=h.sa,f._emscripten_bind_ExportZipContext_GetErrorItem_0=Ji=h.ta,f._emscripten_bind_ExportZipContext___destroy___0=Zs=h.ua,f._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=qs=h.va,f._emscripten_bind_DeleteRecursiveContext_AddFile_1=va=h.wa,f._emscripten_bind_DeleteRecursiveContext_Continue_0=ei=h.xa,f._emscripten_bind_DeleteRecursiveContext_GetState_0=es=h.ya,f._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=ya=h.za,f._emscripten_bind_DeleteRecursiveContext___destroy___0=Wt=h.Aa,f._emscripten_bind_UnzipContext_UnzipContext_4=Dn=h.Ba,f._emscripten_bind_UnzipContext_GetState_0=Tl=h.Ca,f._emscripten_bind_UnzipContext_Continue_0=qa=h.Da,f._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=Ka=h.Ea,f._emscripten_bind_UnzipContext_GetCurrentEntry_0=ac=h.Fa,f._emscripten_bind_UnzipContext_GetCollisionPath_0=xl=h.Ga,f._emscripten_bind_UnzipContext_GetEntriesTotal_0=_a=h.Ha,f._emscripten_bind_UnzipContext_GetEntriesSuccess_0=Or=h.Ia,f._emscripten_bind_UnzipContext___destroy___0=lc=h.Ja,f._emscripten_bind_PasteContext_PasteContext_3=Ml=h.Ka,f._emscripten_bind_PasteContext_AddFile_1=Ya=h.La,f._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=bi=h.Ma,f._emscripten_bind_PasteContext_GetState_0=Zr=h.Na,f._emscripten_bind_PasteContext_Continue_0=fi=h.Oa,f._emscripten_bind_PasteContext_ContinueWithOverwrite_0=ho=h.Pa,f._emscripten_bind_PasteContext_GetCurrentEntry_0=cc=h.Qa,f._emscripten_bind_PasteContext_GetCollisionPath_0=Al=h.Ra,f._emscripten_bind_PasteContext_GetEntriesSuccess_0=uc=h.Sa,f._emscripten_bind_PasteContext___destroy___0=kl=h.Ta,dc=h.Va,rn=h.Wa,Ot=h.Xa,Nr=h.Ya,f.___original_main=h.Za}($e),function ke(h){if(ct--,f.monitorRunDependencies?.(ct),0==ct&&bt){var W=bt;bt=null,W()}}(),$e}!function Ft(h){ct++,f.monitorRunDependencies?.(ct)}();var be=function sr(){return{a:Fr}}();if(f.instantiateWasm)return new Promise((cn,On)=>{f.instantiateWasm(be,(Ln,Io)=>{cn(h(Ln))})});xe??=function Qe(){return function me(h){return f.locateFile?f.locateFile(h,$):$+h}("vfs_web.wasm")}();var tt=yield function fn(h,W,be){return Zn.apply(this,arguments)}(J,xe,be);return function W(cn){return h(cn.instance)}(tt)}),xr.apply(this,arguments)}class oo{constructor(W){C(this,"name","ExitStatus"),this.message=`Program terminated with exit(${W})`,this.status=W}}var Wo,B,ut,wn,wr,Ar,zr,Jn,_s,Rn,Oo,Eo,Xi,$a,ca,Us,ua,Qi,Ba,da,fa,Va,ja,Ua,Ha,pa,Ga,za,_r,ha,lo,Pt,ma,Hs,Wr,Gs,Wa,Pn,bs,br,zs,El,Za,Fn,Lt,Cs,Ws,Il,ga,Ye,ki,Ji,Zs,qs,va,ei,es,ya,Wt,Dn,Tl,qa,Ka,ac,xl,_a,Or,lc,Ml,Ya,bi,Zr,fi,ho,cc,Al,uc,kl,dc,rn,Ot,Nr,Qn=h=>{for(;h.length>0;)h.shift()(f)},mr=[],Do=h=>mr.push(h),io=[],li=h=>io.push(h),Jr=!0,gr=h=>"0x"+(h>>>=0).toString(16).padStart(8,"0"),Te=typeof TextDecoder<"u"?new TextDecoder:void 0,Me=(h,W=0,be=NaN)=>{for(var tt=W+be,Rt=W;h[Rt]&&!(Rt>=tt);)++Rt;if(Rt-W>16&&h.buffer&&Te)return Te.decode(h.subarray(W,Rt));for(var cn="";W<Rt;){var On=h[W++];if(128&On){var Ln=63&h[W++];if(192!=(224&On)){var Io=63&h[W++];if((On=224==(240&On)?(15&On)<<12|Ln<<6|Io:(7&On)<<18|Ln<<12|Io<<6|63&h[W++])<65536)cn+=String.fromCharCode(On);else{var Xa=On-65536;cn+=String.fromCharCode(55296|Xa>>10,56320|1023&Xa)}}else cn+=String.fromCharCode((31&On)<<6|Ln)}else cn+=String.fromCharCode(On)}return cn},gt=(h,W)=>h?Me(D,h,W):"",nr=h=>h<-9007199254740992||h>9007199254740992?NaN:Number(h),eo=0,so=[0,31,60,91,121,152,182,213,244,274,305,335],Ki=[0,31,59,90,120,151,181,212,243,273,304,334],Po=h=>((h=>h%4==0&&(h%100!=0||h%400==0))(h.getFullYear())?so:Ki)[h.getMonth()]+h.getDate()-1,Bn={},dn=h=>{if(h instanceof oo||"unwind"==h)return ie;R(),h instanceof WebAssembly.RuntimeError&&Nr()<=0&&A("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),M(0,h)},Sn=()=>Jr||eo>0,po=h=>{ie=h,Sn()||(f.onExit?.(h),ce=!0),M(0,new oo(h))},Qt=(h,W)=>{ie=h,po(h)},Go=Qt,zo=()=>performance.now(),Ti=(h,W,be,tt)=>{if(!(tt>0))return 0;for(var Rt=be,cn=be+tt-1,On=0;On<h.length;++On){var Ln=h.codePointAt(On);if(Ln<=127){if(be>=cn)break;W[be++]=Ln}else if(Ln<=2047){if(be+1>=cn)break;W[be++]=192|Ln>>6,W[be++]=128|63&Ln}else if(Ln<=65535){if(be+2>=cn)break;W[be++]=224|Ln>>12,W[be++]=128|Ln>>6&63,W[be++]=128|63&Ln}else{if(be+3>=cn)break;W[be++]=240|Ln>>18,W[be++]=128|Ln>>12&63,W[be++]=128|Ln>>6&63,W[be++]=128|63&Ln,On++}}return W[be]=0,be-Rt},ao=(h,W,be)=>Ti(h,D,W,be),Jo=()=>Date.now(),xi=(h,W)=>Math.ceil(h/W)*W,sa=h=>{var be=(h-ee.buffer.byteLength+65535)/65536|0;try{return ee.grow(be),yt(),1}catch{}},to={},_i=()=>{if(!_i.strings){var W={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var be in to)void 0===to[be]?delete W[be]:W[be]=to[be];var tt=[];for(var be in W)tt.push(`${be}=${W[be]}`);_i.strings=tt}return _i.strings},no=h=>{for(var W=0,be=0;be<h.length;++be){var tt=h.charCodeAt(be);tt<=127?W++:tt<=2047?W+=2:tt>=55296&&tt<=57343?(W+=4,++be):W+=3}return W},aa=[null,[],[]],ps=(h,W)=>{var be=aa[h];0===W||10===W?((1===h?Z:A)(Me(be)),be.length=0):be.push(W)},hs=(h,W,be)=>{var tt=be>0?be:no(h)+1,Rt=new Array(tt),cn=Ti(h,Rt,0,Rt.length);return W&&(Rt.length=cn),Rt},js=[],ms=(h,W)=>{h<128?W.push(h):W.push(h%128|128,h>>7)},ys=[],g=h=>{var W=ys[h];return W||(ys[h]=W=Wo.get(h)),W},Pe=[],Ze=(h,W)=>{Wo.set(h,W),ys[h]=Wo.get(h)};f.noExitRuntime&&(Jr=f.noExitRuntime),f.print&&(Z=f.print),f.printErr&&(A=f.printErr),f.wasmBinary&&(J=f.wasmBinary),f.thisProgram&&(j=f.thisProgram),f.addFunction=(h,W)=>{var be=(h=>(B||(B=new WeakMap,((h,W)=>{if(B)for(var be=0;be<0+W;be++){var tt=g(be);tt&&B.set(tt,be)}})(0,Wo.length)),B.get(h)||0))(h);if(be)return be;var tt=(()=>{if(Pe.length)return Pe.pop();try{Wo.grow(1)}catch(h){throw h instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":h}return Wo.length-1})();try{Ze(tt,h)}catch(cn){if(!(cn instanceof TypeError))throw cn;var Rt=((h,W)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((h=>{for(var W={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},be={parameters:[],results:"v"==h[0]?[]:[W[h[0]]]},tt=1;tt<h.length;++tt)be.parameters.push(W[h[tt]]);return be})(W),h);var be=[1];((h,W)=>{var be=h.slice(0,1),tt=h.slice(1),Rt={i:127,p:127,j:126,f:125,d:124,e:111};for(var cn of(W.push(96),ms(tt.length,W),tt))W.push(Rt[cn]);"v"==be?W.push(0):W.push(1,Rt[be])})(W,be);var tt=[0,97,115,109,1,0,0,0,1];ms(be.length,tt),tt.push(...be),tt.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Rt=new WebAssembly.Module(new Uint8Array(tt));return new WebAssembly.Instance(Rt,{e:{f:h}}).exports.f})(h,W);Ze(tt,Rt)}return B.set(h,tt),tt},f.UTF8ToString=gt;var Fr={a:(h,W,be,tt)=>ye(`Assertion failed: ${gt(h)}, at: `+[W?gt(W):"unknown filename",be,tt?gt(tt):"unknown function"]),e:function vr(h,W){W=nr(W)},r:()=>ye(""),k:()=>{Jr=!1,eo=0},q:function In(h,W){h=nr(h);var be=new Date(1e3*h);oe[W>>2]=be.getSeconds(),oe[W+4>>2]=be.getMinutes(),oe[W+8>>2]=be.getHours(),oe[W+12>>2]=be.getDate(),oe[W+16>>2]=be.getMonth(),oe[W+20>>2]=be.getFullYear()-1900,oe[W+24>>2]=be.getDay();var tt=0|Po(be);oe[W+28>>2]=tt,oe[W+36>>2]=-60*be.getTimezoneOffset();var Rt=new Date(be.getFullYear(),0,1),cn=new Date(be.getFullYear(),6,1).getTimezoneOffset(),On=Rt.getTimezoneOffset(),Ln=0|(cn!=On&&be.getTimezoneOffset()==Math.min(On,cn));oe[W+32>>2]=Ln},b:function(h){var W=(()=>{var be=new Date(oe[h+20>>2]+1900,oe[h+16>>2],oe[h+12>>2],oe[h+8>>2],oe[h+4>>2],oe[h>>2],0),tt=oe[h+32>>2],Rt=be.getTimezoneOffset(),cn=new Date(be.getFullYear(),0,1),On=new Date(be.getFullYear(),6,1).getTimezoneOffset(),Ln=cn.getTimezoneOffset(),Io=Math.min(Ln,On);if(tt<0)oe[h+32>>2]=+(On!=Ln&&Io==Rt);else if(tt>0!=(Io==Rt)){var Xa=Math.max(Ln,On),Ss=tt>0?Io:Xa;be.setTime(be.getTime()+6e4*(Ss-Rt))}oe[h+24>>2]=be.getDay();var ba=0|Po(be);oe[h+28>>2]=ba,oe[h>>2]=be.getSeconds(),oe[h+4>>2]=be.getMinutes(),oe[h+8>>2]=be.getHours(),oe[h+12>>2]=be.getDate(),oe[h+16>>2]=be.getMonth(),oe[h+20>>2]=be.getYear();var ws=be.getTime();return isNaN(ws)?-1:ws/1e3})();return BigInt(W)},l:(h,W)=>{if(Bn[h]&&(clearTimeout(Bn[h].id),delete Bn[h]),!W)return 0;var be=setTimeout(()=>{delete Bn[h],(h=>{if(!ce)try{h(),(()=>{if(!Sn())try{Go(ie)}catch(h){dn(h)}})()}catch(W){dn(W)}})(()=>dc(h,zo()))},W);return Bn[h]={id:be,timeout_ms:W},0},c:(h,W,be,tt)=>{var Rt=(new Date).getFullYear(),cn=new Date(Rt,0,1),On=new Date(Rt,6,1),Ln=cn.getTimezoneOffset(),Io=On.getTimezoneOffset(),Xa=Math.max(Ln,Io);Oe[h>>2]=60*Xa,oe[W>>2]=+(Ln!=Io);var Ss=Kc=>{var ju=Kc>=0?"-":"+",Yc=Math.abs(Kc);return`UTC${ju}${String(Math.floor(Yc/60)).padStart(2,"0")}${String(Yc%60).padStart(2,"0")}`},ba=Ss(Ln),ws=Ss(Io);Io<Ln?(ao(ba,be,17),ao(ws,tt,17)):(ao(ba,tt,17),ao(ws,be,17))},o:function yi(h,W,be){if(W=nr(W),!(h=>h>=0&&h<=3)(h))return 28;var tt;tt=0===h?Jo():zo();var Rt=Math.round(1e3*tt*1e3);return pe[be>>3]=BigInt(Rt),0},i:Jo,p:h=>{var W=D.length,be=2147483648;if((h>>>=0)>be)return!1;for(var tt=1;tt<=4;tt*=2){var Rt=W*(1+.2/tt);Rt=Math.min(Rt,h+100663296);var cn=Math.min(be,xi(Math.max(h,Rt),65536));if(sa(cn))return!0}return!1},m:(h,W)=>{var be=0,tt=0;for(var Rt of _i()){var cn=W+be;Oe[h+tt>>2]=cn,be+=ao(Rt,cn,1/0)+1,tt+=4}return 0},n:(h,W)=>{var be=_i();Oe[h>>2]=be.length;var tt=0;for(var Rt of be)tt+=no(Rt)+1;return Oe[W>>2]=tt,0},f:h=>52,h:(h,W,be,tt)=>52,d:function fs(h,W,be,tt){return W=nr(W),70},g:(h,W,be,tt)=>{for(var Rt=0,cn=0;cn<be;cn++){var On=Oe[W>>2],Ln=Oe[W+4>>2];W+=8;for(var Io=0;Io<Ln;Io++)ps(h,D[On+Io]);Rt+=Ln}return Oe[tt>>2]=Rt,0},j:po},$e=yield function ai(){return xr.apply(this,arguments)}();function z(){}function ue(h){return(h||z).__cache__}function ze(h,W){var be=ue(W),tt=be[h];return tt||((tt=Object.create((W||z).prototype)).ptr=h,be[h]=tt)}(function y(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function qn(){function h(){f.calledRun=!0,ce||(function Ve(){Ke=!0,R(),Qn(js),$e.t()}(),function it(){R()}(),P?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function rr(){var h=ut;try{var tt=h(0,0);return Qt(tt),tt}catch(Rt){return dn(Rt)}}(),function He(){if(R(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)Do(f.postRun.shift());Qn(mr)}())}ct>0?bt=qn:(function Jt(){rn(),function Be(){var h=Ot();0==h&&(h+=4),Oe[h>>2]=34821223,Oe[h+4>>2]=2310721022,Oe[0]=1668509029}()}(),function de(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)li(f.preRun.shift());Qn(io)}(),ct>0?bt=qn:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),h()},1)):h(),R()))}(),(z.prototype=Object.create(z.prototype)).constructor=z,z.prototype.__class__=z,z.__cache__={},f.WrapperObject=z,f.getCache=ue,f.wrapPointer=ze,f.castObject=function kt(h,W){return ze(h.ptr,W)},f.NULL=ze(0),f.destroy=function en(h){if(!h.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";h.__destroy__(),delete ue(h.__class__)[h.ptr]},f.compare=function _n(h,W){return h.ptr===W.ptr},f.getPointer=function Tn(h){return h.ptr},f.getClass=function Nt(h){return h.__class__};var Zt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Zt.needed){for(var h=0;h<Zt.temps.length;h++)f._webidl_free(Zt.temps[h]);Zt.temps.length=0,f._webidl_free(Zt.buffer),Zt.buffer=0,Zt.size+=Zt.needed,Zt.needed=0}Zt.buffer||(Zt.size+=128,Zt.buffer=f._webidl_malloc(Zt.size),Re(Zt.buffer)),Zt.pos=0},alloc(h,W){Re(Zt.buffer);var Rt,tt=h.length*W.BYTES_PER_ELEMENT;return tt=xi(tt,8),Zt.pos+tt>=Zt.size?(Re(tt>0),Zt.needed+=tt,Rt=f._webidl_malloc(tt),Zt.temps.push(Rt)):(Rt=Zt.buffer+Zt.pos,Zt.pos+=tt),Rt},copy(h,W,be){be/=W.BYTES_PER_ELEMENT;for(var tt=0;tt<h.length;tt++)W[be+tt]=h[tt]}};function Dr(h){if("string"==typeof h){var W=hs(h),be=Zt.alloc(W,I);return Zt.copy(W,I,be),be}return h}function xn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function er(){throw"cannot construct a FileEntry, no constructor in IDL"}function At(){this.ptr=Oo(),ue(At)[this.ptr]=this}function qt(h){Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),this.ptr=Pn(h),ue(qt)[this.ptr]=this}function tr(h,W){Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),W&&"object"==typeof W&&(W=W.ptr),this.ptr=Lt(h,W),ue(tr)[this.ptr]=this}function qr(h){h&&"object"==typeof h&&(h=h.ptr),this.ptr=qs(h),ue(qr)[this.ptr]=this}function et(h,W,be,tt){Zt.prepare(),h&&"object"==typeof h&&(h=h.ptr),W=W&&"object"==typeof W?W.ptr:Dr(W),be&&"object"==typeof be&&(be=be.ptr),tt&&"object"==typeof tt&&(tt=tt.ptr),this.ptr=Dn(h,W,be,tt),ue(et)[this.ptr]=this}function jn(h,W,be){Zt.prepare(),h&&"object"==typeof h&&(h=h.ptr),W=W&&"object"==typeof W?W.ptr:Dr(W),be=be&&"object"==typeof be?be.ptr:Dr(be),this.ptr=Ml(h,W,be),ue(jn)[this.ptr]=this}return(xn.prototype=Object.create(z.prototype)).constructor=xn,xn.prototype.__class__=xn,xn.__cache__={},f.VoidPtr=xn,xn.prototype.__destroy__=xn.prototype.__destroy__=function(){wn(this.ptr)},(er.prototype=Object.create(z.prototype)).constructor=er,er.prototype.__class__=er,er.__cache__={},f.FileEntry=er,er.prototype.GetName=er.prototype.GetName=function(){return gt(wr(this.ptr))},er.prototype.IsDirectory=er.prototype.IsDirectory=function(){return!!Ar(this.ptr)},er.prototype.GetSize=er.prototype.GetSize=function(){return zr(this.ptr)},er.prototype.GetModifiedTS=er.prototype.GetModifiedTS=function(){return Jn(this.ptr)},er.prototype.GetAttributes=er.prototype.GetAttributes=function(){return _s(this.ptr)},er.prototype.__destroy__=er.prototype.__destroy__=function(){Rn(this.ptr)},(At.prototype=Object.create(z.prototype)).constructor=At,At.prototype.__class__=At,At.__cache__={},f.Vfs=At,At.prototype.Malloc=At.prototype.Malloc=function(h){return h&&"object"==typeof h&&(h=h.ptr),ze(Eo(this.ptr,h),xn)},At.prototype.Free=At.prototype.Free=function(h){h&&"object"==typeof h&&(h=h.ptr),Xi(this.ptr,h)},At.prototype.Nullptr=At.prototype.Nullptr=function(){return ze($a(this.ptr),xn)},At.prototype.AllocateImage=At.prototype.AllocateImage=function(h){h&&"object"==typeof h&&(h=h.ptr),ca(this.ptr,h)},At.prototype.MountImage=At.prototype.MountImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),!!Us(this.ptr,h)},At.prototype.UnmountImage=At.prototype.UnmountImage=function(h){h&&"object"==typeof h&&(h=h.ptr),ua(this.ptr,h)},At.prototype.SwitchSlot=At.prototype.SwitchSlot=function(h){h&&"object"==typeof h&&(h=h.ptr),Qi(this.ptr,h)},At.prototype.GetPendingImageSize=At.prototype.GetPendingImageSize=function(){return Ba(this.ptr)},At.prototype.GetSize=At.prototype.GetSize=function(h){return h&&"object"==typeof h&&(h=h.ptr),da(this.ptr,h)},At.prototype.GetPendingImage=At.prototype.GetPendingImage=function(){return ze(fa(this.ptr),xn)},At.prototype.GetImage=At.prototype.GetImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),ze(Va(this.ptr,h),xn)},At.prototype.GetDirtyPages=At.prototype.GetDirtyPages=function(h){return h&&"object"==typeof h&&(h=h.ptr),ze(ja(this.ptr,h),xn)},At.prototype.RenameFile=At.prototype.RenameFile=function(h,W){var be=this.ptr;return Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),W=W&&"object"==typeof W?W.ptr:Dr(W),Ua(be,h,W)},At.prototype.ChmodFile=At.prototype.ChmodFile=function(h,W,be){var tt=this.ptr;return Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),W&&"object"==typeof W&&(W=W.ptr),be&&"object"==typeof be&&(be=be.ptr),Ha(tt,h,W,be)},At.prototype.StatFile=At.prototype.StatFile=function(h){var W=this.ptr;return Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),pa(W,h)},At.prototype.UnlinkFile=At.prototype.UnlinkFile=function(h){var W=this.ptr;return Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),Ga(W,h)},At.prototype.Mkdir=At.prototype.Mkdir=function(h){var W=this.ptr;return Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),za(W,h)},At.prototype.GetEntry=At.prototype.GetEntry=function(){return ze(_r(this.ptr),er)},At.prototype.BytesFree=At.prototype.BytesFree=function(h){return h&&"object"==typeof h&&(h=h.ptr),ha(this.ptr,h)},At.prototype.BytesTotal=At.prototype.BytesTotal=function(h){return h&&"object"==typeof h&&(h=h.ptr),lo(this.ptr,h)},At.prototype.ReadFile=At.prototype.ReadFile=function(h){var W=this.ptr;return Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),!!Pt(W,h)},At.prototype.GetCurrentFileSize=At.prototype.GetCurrentFileSize=function(){return ma(this.ptr)},At.prototype.GetCurrentFileContent=At.prototype.GetCurrentFileContent=function(){return ze(Hs(this.ptr),xn)},At.prototype.ReleaseCurrentFile=At.prototype.ReleaseCurrentFile=function(){Wr(this.ptr)},At.prototype.WriteFile=At.prototype.WriteFile=function(h,W,be){var tt=this.ptr;return Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),W&&"object"==typeof W&&(W=W.ptr),be&&"object"==typeof be&&(be=be.ptr),Gs(tt,h,W,be)},At.prototype.__destroy__=At.prototype.__destroy__=function(){Wa(this.ptr)},(qt.prototype=Object.create(z.prototype)).constructor=qt,qt.prototype.__class__=qt,qt.__cache__={},f.ReaddirContext=qt,qt.prototype.Next=qt.prototype.Next=function(){return bs(this.ptr)},qt.prototype.GetEntry=qt.prototype.GetEntry=function(){return ze(br(this.ptr),er)},qt.prototype.GetStatus=qt.prototype.GetStatus=function(){return zs(this.ptr)},qt.prototype.GetError=qt.prototype.GetError=function(){return El(this.ptr)},qt.prototype.GetErrorDescription=qt.prototype.GetErrorDescription=function(){return gt(Za(this.ptr))},qt.prototype.__destroy__=qt.prototype.__destroy__=function(){Fn(this.ptr)},(tr.prototype=Object.create(z.prototype)).constructor=tr,tr.prototype.__class__=tr,tr.__cache__={},f.ExportZipContext=tr,tr.prototype.AddFile=tr.prototype.AddFile=function(h){var W=this.ptr;return Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),ze(Cs(W,h),tr)},tr.prototype.AddDirectory=tr.prototype.AddDirectory=function(h){var W=this.ptr;return Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),ze(Ws(W,h),tr)},tr.prototype.Continue=tr.prototype.Continue=function(){return Il(this.ptr)},tr.prototype.GetState=tr.prototype.GetState=function(){return ga(this.ptr)},tr.prototype.GetZipContent=tr.prototype.GetZipContent=function(){return ze(Ye(this.ptr),xn)},tr.prototype.GetZipSize=tr.prototype.GetZipSize=function(){return ki(this.ptr)},tr.prototype.GetErrorItem=tr.prototype.GetErrorItem=function(){return gt(Ji(this.ptr))},tr.prototype.__destroy__=tr.prototype.__destroy__=function(){Zs(this.ptr)},(qr.prototype=Object.create(z.prototype)).constructor=qr,qr.prototype.__class__=qr,qr.__cache__={},f.DeleteRecursiveContext=qr,qr.prototype.AddFile=qr.prototype.AddFile=function(h){var W=this.ptr;return Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),ze(va(W,h),qr)},qr.prototype.Continue=qr.prototype.Continue=function(){return ei(this.ptr)},qr.prototype.GetState=qr.prototype.GetState=function(){return es(this.ptr)},qr.prototype.GetFailingPath=qr.prototype.GetFailingPath=function(){return gt(ya(this.ptr))},qr.prototype.__destroy__=qr.prototype.__destroy__=function(){Wt(this.ptr)},(et.prototype=Object.create(z.prototype)).constructor=et,et.prototype.__class__=et,et.__cache__={},f.UnzipContext=et,et.prototype.GetState=et.prototype.GetState=function(){return Tl(this.ptr)},et.prototype.Continue=et.prototype.Continue=function(){return qa(this.ptr)},et.prototype.ContinueWithOverwrite=et.prototype.ContinueWithOverwrite=function(){return Ka(this.ptr)},et.prototype.GetCurrentEntry=et.prototype.GetCurrentEntry=function(){return gt(ac(this.ptr))},et.prototype.GetCollisionPath=et.prototype.GetCollisionPath=function(){return gt(xl(this.ptr))},et.prototype.GetEntriesTotal=et.prototype.GetEntriesTotal=function(){return _a(this.ptr)},et.prototype.GetEntriesSuccess=et.prototype.GetEntriesSuccess=function(){return Or(this.ptr)},et.prototype.__destroy__=et.prototype.__destroy__=function(){lc(this.ptr)},(jn.prototype=Object.create(z.prototype)).constructor=jn,jn.prototype.__class__=jn,jn.__cache__={},f.PasteContext=jn,jn.prototype.AddFile=jn.prototype.AddFile=function(h){var W=this.ptr;return Zt.prepare(),h=h&&"object"==typeof h?h.ptr:Dr(h),ze(Ya(W,h),jn)},jn.prototype.SetDeleteAfterCopy=jn.prototype.SetDeleteAfterCopy=function(h){return h&&"object"==typeof h&&(h=h.ptr),ze(bi(this.ptr,h),jn)},jn.prototype.GetState=jn.prototype.GetState=function(){return Zr(this.ptr)},jn.prototype.Continue=jn.prototype.Continue=function(){return fi(this.ptr)},jn.prototype.ContinueWithOverwrite=jn.prototype.ContinueWithOverwrite=function(){return ho(this.ptr)},jn.prototype.GetCurrentEntry=jn.prototype.GetCurrentEntry=function(){return gt(cc(this.ptr))},jn.prototype.GetCollisionPath=jn.prototype.GetCollisionPath=function(){return gt(Al(this.ptr))},jn.prototype.GetEntriesSuccess=jn.prototype.GetEntriesSuccess=function(){return uc(this.ptr)},jn.prototype.__destroy__=jn.prototype.__destroy__=function(){kl(this.ptr)},Ke?f:new Promise((h,W)=>{P=h,ne=W})}));ae.exports=L,ae.exports.default=L},276:(ae,De,b)=>{"use strict";b.d(De,{c:()=>L,r:()=>k});const L=(R,P)=>{R.componentOnReady?R.componentOnReady().then(ne=>P(ne)):k(()=>P(R))},k=R=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(R):"function"==typeof requestAnimationFrame?requestAnimationFrame(R):setTimeout(R)},7687:(ae,De,b)=>{"use strict";b.d(De,{L:()=>C,a:()=>E,b:()=>L,c:()=>G,d:()=>F,g:()=>R});const C="ionViewWillEnter",E="ionViewDidEnter",L="ionViewWillLeave",G="ionViewDidLeave",F="ionViewWillUnload",R=P=>P.classList.contains("ion-page")?P:P.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||P},2723:(ae,De,b)=>{"use strict";b.d(De,{c:()=>Ee});var C=b(6940),E=b(4675);let L;const F=te=>te.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x=te=>(void 0===L&&(L=void 0===te.style.animationName&&void 0!==te.style.webkitAnimationName?"-webkit-":""),L),f=(te,Z,A)=>{const J=Z.startsWith("animation")?x(te):"";te.style.setProperty(J+Z,A)},T=(te,Z)=>{const A=Z.startsWith("animation")?x(te):"";te.style.removeProperty(A+Z)},k=[],me=(te=[],Z)=>{if(void 0!==Z){const A=Array.isArray(Z)?Z:[Z];return[...te,...A]}return te},Ee=te=>{let Z,A,J,ce,ie,Re,ee,Ne,pe,Ie,Ke,it,He,Be=[],R=[],P=[],ne=!1,I={},D=[],K=[],ve={},oe=0,Oe=!1,_e=!1,yt=!0,de=!1,Ve=!0,ct=!1;const bt=te,Ft=[],ke=[],ye=[],xe=[],Qe=[],dt=[],Ht=[],Kt=[],Yt=[],Xt=[],fn=[],Zn="function"==typeof AnimationEffect||void 0!==C.w&&"function"==typeof C.w.AnimationEffect,sr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Zn,xr=()=>fn,io=(g,S)=>{const B=S.findIndex(X=>X.c===g);B>-1&&S.splice(B,1)},Jr=(g,S)=>((S?.oneTimeCallback?ke:Ft).push({c:g,o:S}),He),Te=()=>{if(sr)fn.forEach(g=>{g.cancel()}),fn.length=0;else{const g=xe.slice();(0,E.r)(()=>{g.forEach(S=>{T(S,"animation-name"),T(S,"animation-duration"),T(S,"animation-timing-function"),T(S,"animation-iteration-count"),T(S,"animation-delay"),T(S,"animation-play-state"),T(S,"animation-fill-mode"),T(S,"animation-direction")})})}},Me=()=>{dt.forEach(g=>{g?.parentNode&&g.parentNode.removeChild(g)}),dt.length=0},Po=()=>void 0!==ie?ie:ee?ee.getFill():"both",In=()=>void 0!==pe?pe:void 0!==Re?Re:ee?ee.getDirection():"normal",yr=()=>Oe?"linear":void 0!==J?J:ee?ee.getEasing():"linear",Bn=()=>_e?0:void 0!==Ie?Ie:void 0!==A?A:ee?ee.getDuration():0,dn=()=>void 0!==ce?ce:ee?ee.getIterations():1,Sn=()=>void 0!==Ke?Ke:void 0!==Z?Z:ee?ee.getDelay():0,Mr=()=>{0!==oe&&(oe--,0===oe&&((()=>{ps(),Yt.forEach(Pe=>Pe()),Xt.forEach(Pe=>Pe());const g=yt?1:0,S=D,B=K,X=ve;xe.forEach(Pe=>{const fe=Pe.classList;S.forEach(Ze=>fe.add(Ze)),B.forEach(Ze=>fe.remove(Ze));for(const Ze in X)X.hasOwnProperty(Ze)&&f(Pe,Ze,X[Ze])}),Ie=void 0,pe=void 0,Ke=void 0,Ft.forEach(Pe=>Pe.c(g,He)),ke.forEach(Pe=>Pe.c(g,He)),ke.length=0,Ve=!0,yt&&(de=!0),yt=!0})(),ee&&ee.animationFinish()))},xi=(g=!0)=>{Me();const S=(te=>(te.forEach(Z=>{for(const A in Z)if(Z.hasOwnProperty(A)){const J=Z[A];if("easing"===A)Z["animation-timing-function"]=J,delete Z[A];else{const ce=F(A);ce!==A&&(Z[ce]=J,delete Z[A])}}}),te))(Be);xe.forEach(B=>{if(S.length>0){const X=((te=[])=>te.map(Z=>{const A=Z.offset,J=[];for(const ce in Z)Z.hasOwnProperty(ce)&&"offset"!==ce&&J.push(`${ce}: ${Z[ce]};`);return`${100*A}% { ${J.join(" ")} }`}).join(" "))(S);it=void 0!==te?te:(te=>{let Z=k.indexOf(te);return Z<0&&(Z=k.push(te)-1),`ion-animation-${Z}`})(X);const Pe=((te,Z,A)=>{var J;const ce=(te=>{const Z=void 0!==te.getRootNode?te.getRootNode():te;return Z.head||Z})(A),ie=x(A),Re=ce.querySelector("#"+te);if(Re)return Re;const Be=(null!==(J=A.ownerDocument)&&void 0!==J?J:document).createElement("style");return Be.id=te,Be.textContent=`@${ie}keyframes ${te} { ${Z} } @${ie}keyframes ${te}-alt { ${Z} }`,ce.appendChild(Be),Be})(it,X,B);dt.push(Pe),f(B,"animation-duration",`${Bn()}ms`),f(B,"animation-timing-function",yr()),f(B,"animation-delay",`${Sn()}ms`),f(B,"animation-fill-mode",Po()),f(B,"animation-direction",In());const fe=dn()===1/0?"infinite":dn().toString();f(B,"animation-iteration-count",fe),f(B,"animation-play-state","paused"),g&&f(B,"animation-name",`${Pe.id}-alt`),(0,E.r)(()=>{f(B,"animation-name",Pe.id||null)})}})},Mi=(g=!0)=>{(()=>{Ht.forEach(X=>X()),Kt.forEach(X=>X());const g=R,S=P,B=I;xe.forEach(X=>{const Pe=X.classList;g.forEach(fe=>Pe.add(fe)),S.forEach(fe=>Pe.remove(fe));for(const fe in B)B.hasOwnProperty(fe)&&f(X,fe,B[fe])})})(),Be.length>0&&(sr?(xe.forEach(g=>{const S=g.animate(Be,{id:bt,delay:Sn(),duration:Bn(),easing:yr(),iterations:dn(),fill:Po(),direction:In()});S.pause(),fn.push(S)}),fn.length>0&&(fn[0].onfinish=()=>{Mr()})):xi(g)),ne=!0},to=g=>{if(g=Math.min(Math.max(g,0),.9999),sr)fn.forEach(S=>{S.currentTime=S.effect.getComputedTiming().delay+Bn()*g,S.pause()});else{const S=`-${Bn()*g}ms`;xe.forEach(B=>{Be.length>0&&(f(B,"animation-delay",S),f(B,"animation-play-state","paused"))})}},Ai=g=>{fn.forEach(S=>{S.effect.updateTiming({delay:Sn(),duration:Bn(),easing:yr(),iterations:dn(),fill:Po(),direction:In()})}),void 0!==g&&to(g)},_i=(g=!0,S)=>{(0,E.r)(()=>{xe.forEach(B=>{f(B,"animation-name",it||null),f(B,"animation-duration",`${Bn()}ms`),f(B,"animation-timing-function",yr()),f(B,"animation-delay",void 0!==S?`-${S*Bn()}ms`:`${Sn()}ms`),f(B,"animation-fill-mode",Po()||null),f(B,"animation-direction",In()||null);const X=dn()===1/0?"infinite":dn().toString();f(B,"animation-iteration-count",X),g&&f(B,"animation-name",`${it}-alt`),(0,E.r)(()=>{f(B,"animation-name",it||null)})})})},Gr=(g=!1,S=!0,B)=>(g&&Qe.forEach(X=>{X.update(g,S,B)}),sr?Ai(B):_i(S,B),He),yn=()=>{ne&&(sr?fn.forEach(g=>{g.pause()}):xe.forEach(g=>{f(g,"animation-play-state","paused")}),ct=!0)},aa=()=>{Ne=void 0,Mr()},ps=()=>{Ne&&clearTimeout(Ne)},gs=g=>new Promise(S=>{g?.sync&&(_e=!0,Jr(()=>_e=!1,{oneTimeCallback:!0})),ne||Mi(),de&&(sr?(to(0),Ai()):_i(),de=!1),Ve&&(oe=Qe.length+1,Ve=!1);const B=()=>{io(X,ke),S()},X=()=>{io(B,ye),S()};Jr(X,{oneTimeCallback:!0}),((g,S)=>{ye.push({c:g,o:{oneTimeCallback:!0}})})(B),Qe.forEach(Pe=>{Pe.play()}),sr?(fn.forEach(g=>{g.play()}),(0===Be.length||0===xe.length)&&Mr()):(()=>{if(ps(),(0,E.r)(()=>{xe.forEach(g=>{Be.length>0&&f(g,"animation-play-state","running")})}),0===Be.length||0===xe.length)Mr();else{const g=Sn()||0,S=Bn()||0,B=dn()||1;isFinite(B)&&(Ne=setTimeout(aa,g+S*B+100)),((te,Z)=>{let A;const J={passive:!0},ie=Re=>{te===Re.target&&(A&&A(),ps(),(0,E.r)(()=>{xe.forEach(g=>{T(g,"animation-duration"),T(g,"animation-delay"),T(g,"animation-play-state")}),(0,E.r)(Mr)}))};te&&(te.addEventListener("webkitAnimationEnd",ie,J),te.addEventListener("animationend",ie,J),A=()=>{te.removeEventListener("webkitAnimationEnd",ie,J),te.removeEventListener("animationend",ie,J)})})(xe[0])}})(),ct=!1}),Yi=(g,S)=>{const B=Be[0];return void 0===B||void 0!==B.offset&&0!==B.offset?Be=[{offset:0,[g]:S},...Be]:B[g]=S,He};return He={parentAnimation:ee,elements:xe,childAnimations:Qe,id:bt,animationFinish:Mr,from:Yi,to:(g,S)=>{const B=Be[Be.length-1];return void 0===B||void 0!==B.offset&&1!==B.offset?Be=[...Be,{offset:1,[g]:S}]:B[g]=S,He},fromTo:(g,S,B)=>Yi(g,S).to(g,B),parent:g=>(ee=g,He),play:gs,pause:()=>(Qe.forEach(g=>{g.pause()}),yn(),He),stop:()=>{Qe.forEach(g=>{g.stop()}),ne&&(Te(),ne=!1),Oe=!1,_e=!1,Ve=!0,pe=void 0,Ie=void 0,Ke=void 0,oe=0,de=!1,yt=!0,ct=!1,ye.forEach(g=>g.c(0,He)),ye.length=0},destroy:g=>(Qe.forEach(S=>{S.destroy(g)}),(g=>{Te(),g&&Me()})(g),xe.length=0,Qe.length=0,Be.length=0,Ft.length=0,ke.length=0,ne=!1,Ve=!0,He),keyframes:g=>{const S=Be!==g;return Be=g,S&&(g=>{sr?xr().forEach(S=>{const B=S.effect;if(B.setKeyframes)B.setKeyframes(g);else{const X=new KeyframeEffect(B.target,g,B.getTiming());S.effect=X}}):xi()})(Be),He},addAnimation:g=>{if(null!=g)if(Array.isArray(g))for(const S of g)S.parent(He),Qe.push(S);else g.parent(He),Qe.push(g);return He},addElement:g=>{if(null!=g)if(1===g.nodeType)xe.push(g);else if(g.length>=0)for(let S=0;S<g.length;S++)xe.push(g[S]);else console.error("Invalid addElement value");return He},update:Gr,fill:g=>(ie=g,Gr(!0),He),direction:g=>(Re=g,Gr(!0),He),iterations:g=>(ce=g,Gr(!0),He),duration:g=>(!sr&&0===g&&(g=1),A=g,Gr(!0),He),easing:g=>(J=g,Gr(!0),He),delay:g=>(Z=g,Gr(!0),He),getWebAnimations:xr,getKeyframes:()=>Be,getFill:Po,getDirection:In,getDelay:Sn,getIterations:dn,getEasing:yr,getDuration:Bn,afterAddRead:g=>(Yt.push(g),He),afterAddWrite:g=>(Xt.push(g),He),afterClearStyles:(g=[])=>{for(const S of g)ve[S]="";return He},afterStyles:(g={})=>(ve=g,He),afterRemoveClass:g=>(K=me(K,g),He),afterAddClass:g=>(D=me(D,g),He),beforeAddRead:g=>(Ht.push(g),He),beforeAddWrite:g=>(Kt.push(g),He),beforeClearStyles:(g=[])=>{for(const S of g)I[S]="";return He},beforeStyles:(g={})=>(I=g,He),beforeRemoveClass:g=>(P=me(P,g),He),beforeAddClass:g=>(R=me(R,g),He),onFinish:Jr,isRunning:()=>0!==oe&&!ct,progressStart:(g=!1,S)=>(Qe.forEach(B=>{B.progressStart(g,S)}),yn(),Oe=g,ne||Mi(),Gr(!1,!0,S),He),progressStep:g=>(Qe.forEach(S=>{S.progressStep(g)}),to(g),He),progressEnd:(g,S,B)=>(Oe=!1,Qe.forEach(X=>{X.progressEnd(g,S,B)}),void 0!==B&&(Ie=B),de=!1,yt=!0,0===g?(pe="reverse"===In()?"normal":"reverse","reverse"===pe&&(yt=!1),sr?(Gr(),to(1-S)):(Ke=(1-S)*Bn()*-1,Gr(!1,!1))):1===g&&(sr?(Gr(),to(S)):(Ke=S*Bn()*-1,Gr(!1,!1))),void 0!==g&&!ee&&gs(),He)}}},2984:(ae,De,b)=>{"use strict";b.d(De,{E:()=>H,I:()=>f,a:()=>C,s:()=>T});const C=k=>{try{if(k instanceof f)return k.value;if(!G()||"string"!=typeof k||""===k)return k;if(k.includes("onload="))return"";const j=document.createDocumentFragment(),M=document.createElement("div");j.appendChild(M),M.innerHTML=k,x.forEach(te=>{const Z=j.querySelectorAll(te);for(let A=Z.length-1;A>=0;A--){const J=Z[A];J.parentNode?J.parentNode.removeChild(J):j.removeChild(J);const ce=L(J);for(let ie=0;ie<ce.length;ie++)E(ce[ie])}});const $=L(j);for(let te=0;te<$.length;te++)E($[te]);const me=document.createElement("div");me.appendChild(j);const Ee=me.querySelector("div");return null!==Ee?Ee.innerHTML:me.innerHTML}catch(j){return console.error(j),""}},E=k=>{if(k.nodeType&&1!==k.nodeType)return;if(typeof NamedNodeMap<"u"&&!(k.attributes instanceof NamedNodeMap))return void k.remove();for(let M=k.attributes.length-1;M>=0;M--){const $=k.attributes.item(M),me=$.name;if(!F.includes(me.toLowerCase())){k.removeAttribute(me);continue}const Ee=$.value,te=k[me];(null!=Ee&&Ee.toLowerCase().includes("javascript:")||null!=te&&te.toLowerCase().includes("javascript:"))&&k.removeAttribute(me)}const j=L(k);for(let M=0;M<j.length;M++)E(j[M])},L=k=>null!=k.children?k.children:k.childNodes,G=()=>{var k;const j=window,M=null===(k=j?.Ionic)||void 0===k?void 0:k.config;return!M||(M.get?M.get("sanitizerEnabled",!0):!0===M.sanitizerEnabled||void 0===M.sanitizerEnabled)},F=["class","id","href","src","name","slot"],x=["script","style","iframe","meta","link","object","embed"];class f{constructor(j){this.value=j}}const T=k=>{const j=window,M=j.Ionic;if(!M||!M.config||"Object"===M.config.constructor.name)return j.Ionic=j.Ionic||{},j.Ionic.config=Object.assign(Object.assign({},j.Ionic.config),k),j.Ionic.config},H=!1},8573:(ae,De,b)=>{"use strict";b.d(De,{C:()=>F,a:()=>L,d:()=>G});var C=b(3918),E=b(4675);const L=function(){var x=(0,C.Z)(function*(f,T,q,H,k,j){var M;if(f)return f.attachViewToDom(T,q,k,H);if(!(j||"string"==typeof q||q instanceof HTMLElement))throw new Error("framework delegate is missing");const $="string"==typeof q?null===(M=T.ownerDocument)||void 0===M?void 0:M.createElement(q):q;return H&&H.forEach(me=>$.classList.add(me)),k&&Object.assign($,k),T.appendChild($),yield new Promise(me=>(0,E.c)($,me)),$});return function(T,q,H,k,j,M){return x.apply(this,arguments)}}(),G=(x,f)=>{if(f){if(x)return x.removeViewFromDom(f.parentElement,f);f.remove()}return Promise.resolve()},F=()=>{let x,f;return{attachViewToDom:function(){var H=(0,C.Z)(function*(k,j,M={},$=[]){var me,Ee;let te;if(x=k,j){const A="string"==typeof j?null===(me=x.ownerDocument)||void 0===me?void 0:me.createElement(j):j;$.forEach(J=>A.classList.add(J)),Object.assign(A,M),x.appendChild(A),te=A,yield new Promise(J=>(0,E.c)(A,J))}else if(x.children.length>0&&("ION-MODAL"===x.tagName||"ION-POPOVER"===x.tagName)&&!(te=x.children[0]).classList.contains("ion-delegate-host")){const J=null===(Ee=x.ownerDocument)||void 0===Ee?void 0:Ee.createElement("div");J.classList.add("ion-delegate-host"),$.forEach(ce=>J.classList.add(ce)),J.append(...x.children),x.appendChild(J),te=J}const Z=document.querySelector("ion-app")||document.body;return f=document.createComment("ionic teleport"),x.parentNode.insertBefore(f,x),Z.appendChild(x),te??x});return function(j,M){return H.apply(this,arguments)}}(),removeViewFromDom:()=>(x&&f&&(f.parentNode.insertBefore(x,f),f.remove()),Promise.resolve())}}},4967:(ae,De,b)=>{"use strict";b.d(De,{G:()=>F});class E{constructor(f,T,q,H,k){this.id=T,this.name=q,this.disableScroll=k,this.priority=1e6*H+T,this.ctrl=f}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const f=this.ctrl.capture(this.name,this.id,this.priority);return f&&this.disableScroll&&this.ctrl.disableScroll(this.id),f}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class L{constructor(f,T,q,H){this.id=T,this.disable=q,this.disableScroll=H,this.ctrl=f}block(){if(this.ctrl){if(this.disable)for(const f of this.disable)this.ctrl.disableGesture(f,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const f of this.disable)this.ctrl.enableGesture(f,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const G="backdrop-no-scroll",F=new class C{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(f){var T;return new E(this,this.newID(),f.name,null!==(T=f.priority)&&void 0!==T?T:0,!!f.disableScroll)}createBlocker(f={}){return new L(this,this.newID(),f.disable,!!f.disableScroll)}start(f,T,q){return this.canStart(f)?(this.requestedStart.set(T,q),!0):(this.requestedStart.delete(T),!1)}capture(f,T,q){if(!this.start(f,T,q))return!1;const H=this.requestedStart;let k=-1e4;if(H.forEach(j=>{k=Math.max(k,j)}),k===q){this.capturedId=T,H.clear();const j=new CustomEvent("ionGestureCaptured",{detail:{gestureName:f}});return document.dispatchEvent(j),!0}return H.delete(T),!1}release(f){this.requestedStart.delete(f),this.capturedId===f&&(this.capturedId=void 0)}disableGesture(f,T){let q=this.disabledGestures.get(f);void 0===q&&(q=new Set,this.disabledGestures.set(f,q)),q.add(T)}enableGesture(f,T){const q=this.disabledGestures.get(f);void 0!==q&&q.delete(T)}disableScroll(f){this.disabledScroll.add(f),1===this.disabledScroll.size&&document.body.classList.add(G)}enableScroll(f){this.disabledScroll.delete(f),0===this.disabledScroll.size&&document.body.classList.remove(G)}canStart(f){return!(void 0!==this.capturedId||this.isDisabled(f))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(f){const T=this.disabledGestures.get(f);return!!(T&&T.size>0)}newID(){return this.gestureId++,this.gestureId}}},1940:(ae,De,b)=>{"use strict";b.r(De),b.d(De,{MENU_BACK_BUTTON_PRIORITY:()=>F,OVERLAY_BACK_BUTTON_PRIORITY:()=>G,blockHardwareBackButton:()=>E,startHardwareBackButton:()=>L});var C=b(3918);const E=()=>{document.addEventListener("backbutton",()=>{})},L=()=>{const x=document;let f=!1;x.addEventListener("backbutton",()=>{if(f)return;let T=0,q=[];const H=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(M,$){q.push({priority:M,handler:$,id:T++})}}});x.dispatchEvent(H);const k=function(){var M=(0,C.Z)(function*($){try{if($?.handler){const me=$.handler(j);null!=me&&(yield me)}}catch(me){console.error(me)}});return function(me){return M.apply(this,arguments)}}(),j=()=>{if(q.length>0){let M={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};q.forEach($=>{$.priority>=M.priority&&(M=$)}),f=!0,q=q.filter($=>$.id!==M.id),k(M).then(()=>f=!1)}};j()})},G=100,F=99},4675:(ae,De,b)=>{"use strict";b.d(De,{a:()=>T,b:()=>q,c:()=>L,d:()=>Ee,e:()=>me,f:()=>$,g:()=>H,h:()=>M,i:()=>f,j:()=>ie,k:()=>F,l:()=>te,m:()=>G,n:()=>j,o:()=>Z,p:()=>ce,q:()=>Re,r:()=>k,s:()=>Be,t:()=>C,u:()=>A,v:()=>J});const C=(R,P=0)=>new Promise(ne=>{E(R,P,ne)}),E=(R,P=0,ne)=>{let ee,I;const D={passive:!0},ve=()=>{ee&&ee()},oe=Oe=>{(void 0===Oe||R===Oe.target)&&(ve(),ne(Oe))};return R&&(R.addEventListener("webkitTransitionEnd",oe,D),R.addEventListener("transitionend",oe,D),I=setTimeout(oe,P+500),ee=()=>{I&&(clearTimeout(I),I=void 0),R.removeEventListener("webkitTransitionEnd",oe,D),R.removeEventListener("transitionend",oe,D)}),ve},L=(R,P)=>{R.componentOnReady?R.componentOnReady().then(ne=>P(ne)):k(()=>P(R))},G=R=>void 0!==R.componentOnReady,F=(R,P=[])=>{const ne={};return P.forEach(ee=>{R.hasAttribute(ee)&&(null!==R.getAttribute(ee)&&(ne[ee]=R.getAttribute(ee)),R.removeAttribute(ee))}),ne},x=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],f=(R,P)=>{let ne=x;return P&&P.length>0&&(ne=ne.filter(ee=>!P.includes(ee))),F(R,ne)},T=(R,P,ne,ee)=>{var I;if(typeof window<"u"){const D=window,K=null===(I=D?.Ionic)||void 0===I?void 0:I.config;if(K){const ve=K.get("_ael");if(ve)return ve(R,P,ne,ee);if(K._ael)return K._ael(R,P,ne,ee)}}return R.addEventListener(P,ne,ee)},q=(R,P,ne,ee)=>{var I;if(typeof window<"u"){const D=window,K=null===(I=D?.Ionic)||void 0===I?void 0:I.config;if(K){const ve=K.get("_rel");if(ve)return ve(R,P,ne,ee);if(K._rel)return K._rel(R,P,ne,ee)}}return R.removeEventListener(P,ne,ee)},H=(R,P=R)=>R.shadowRoot||P,k=R=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(R):"function"==typeof requestAnimationFrame?requestAnimationFrame(R):setTimeout(R),j=R=>!!R.shadowRoot&&!!R.attachShadow,M=R=>{const P=R.closest("ion-item");return P?P.querySelector("ion-label"):null},$=R=>{if(R.focus(),R.classList.contains("ion-focusable")){const P=R.closest("ion-app");P&&P.setFocus([R])}},me=(R,P)=>{let ne;const ee=R.getAttribute("aria-labelledby"),I=R.id;let D=null!==ee&&""!==ee.trim()?ee:P+"-lbl",K=null!==ee&&""!==ee.trim()?document.getElementById(ee):M(R);return K?(null===ee&&(K.id=D),ne=K.textContent,K.setAttribute("aria-hidden","true")):""!==I.trim()&&(K=document.querySelector(`label[for="${I}"]`),K&&(""!==K.id?D=K.id:K.id=D=`${I}-lbl`,ne=K.textContent)),{label:K,labelId:D,labelText:ne}},Ee=(R,P,ne,ee,I)=>{if(R||j(P)){let D=P.querySelector("input.aux-input");D||(D=P.ownerDocument.createElement("input"),D.type="hidden",D.classList.add("aux-input"),P.appendChild(D)),D.disabled=I,D.name=ne,D.value=ee||""}},te=(R,P,ne)=>Math.max(R,Math.min(P,ne)),Z=(R,P)=>{if(!R){const ne="ASSERT: "+P;throw console.error(ne),new Error(ne)}},A=R=>R.timeStamp||Date.now(),J=R=>{if(R){const P=R.changedTouches;if(P&&P.length>0){const ne=P[0];return{x:ne.clientX,y:ne.clientY}}if(void 0!==R.pageX)return{x:R.pageX,y:R.pageY}}return{x:0,y:0}},ce=R=>{const P="rtl"===document.dir;switch(R){case"start":return P;case"end":return!P;default:throw new Error(`"${R}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ie=(R,P)=>{const ne=R._original||R;return{_original:R,emit:Re(ne.emit.bind(ne),P)}},Re=(R,P=0)=>{let ne;return(...ee)=>{clearTimeout(ne),ne=setTimeout(R,P,...ee)}},Be=(R,P)=>{if(R??(R={}),P??(P={}),R===P)return!0;const ne=Object.keys(R);if(ne.length!==Object.keys(P).length)return!1;for(const ee of ne)if(!(ee in P)||R[ee]!==P[ee])return!1;return!0}},4656:(ae,De,b)=>{"use strict";b.d(De,{m:()=>M});var C=b(3918),E=b(6940),L=b(1940),G=b(6240),F=b(4675),x=b(5194),f=b(2723);const T=$=>(0,f.c)().duration($?400:300),q=$=>{let me,Ee;const te=$.width+8,Z=(0,f.c)(),A=(0,f.c)();$.isEndSide?(me=te+"px",Ee="0px"):(me=-te+"px",Ee="0px"),Z.addElement($.menuInnerEl).fromTo("transform",`translateX(${me})`,`translateX(${Ee})`);const ce="ios"===(0,x.b)($),ie=ce?.2:.25;return A.addElement($.backdropEl).fromTo("opacity",.01,ie),T(ce).addAnimation([Z,A])},H=$=>{let me,Ee;const te=(0,x.b)($),Z=$.width;$.isEndSide?(me=-Z+"px",Ee=Z+"px"):(me=Z+"px",Ee=-Z+"px");const A=(0,f.c)().addElement($.menuInnerEl).fromTo("transform",`translateX(${Ee})`,"translateX(0px)"),J=(0,f.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${me})`),ce=(0,f.c)().addElement($.backdropEl).fromTo("opacity",.01,.32);return T("ios"===te).addAnimation([A,J,ce])},k=$=>{const me=(0,x.b)($),Ee=$.width*($.isEndSide?-1:1)+"px",te=(0,f.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ee})`);return T("ios"===me).addAnimation(te)},M=(()=>{const $=new Map,me=[],Ee=function(){var pe=(0,C.Z)(function*(Ie){const Ke=yield Re(Ie,!0);return!!Ke&&Ke.open()});return function(Ke){return pe.apply(this,arguments)}}(),te=function(){var pe=(0,C.Z)(function*(Ie){const Ke=yield void 0!==Ie?Re(Ie,!0):Be();return void 0!==Ke&&Ke.close()});return function(Ke){return pe.apply(this,arguments)}}(),Z=function(){var pe=(0,C.Z)(function*(Ie){const Ke=yield Re(Ie,!0);return!!Ke&&Ke.toggle()});return function(Ke){return pe.apply(this,arguments)}}(),A=function(){var pe=(0,C.Z)(function*(Ie,Ke){const yt=yield Re(Ke);return yt&&(yt.disabled=!Ie),yt});return function(Ke,yt){return pe.apply(this,arguments)}}(),J=function(){var pe=(0,C.Z)(function*(Ie,Ke){const yt=yield Re(Ke);return yt&&(yt.swipeGesture=Ie),yt});return function(Ke,yt){return pe.apply(this,arguments)}}(),ce=function(){var pe=(0,C.Z)(function*(Ie){if(null!=Ie){const Ke=yield Re(Ie);return void 0!==Ke&&Ke.isOpen()}return void 0!==(yield Be())});return function(Ke){return pe.apply(this,arguments)}}(),ie=function(){var pe=(0,C.Z)(function*(Ie){const Ke=yield Re(Ie);return!!Ke&&!Ke.disabled});return function(Ke){return pe.apply(this,arguments)}}(),Re=function(){var pe=(0,C.Z)(function*(Ie,Ke=!1){if(yield Ne(),"start"===Ie||"end"===Ie){const de=me.filter(it=>it.side===Ie&&!it.disabled);if(de.length>=1)return de.length>1&&Ke&&(0,G.p)(`menuController queried for a menu on the "${Ie}" side, but ${de.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,de.map(it=>it.el)),de[0].el;const Ve=me.filter(it=>it.side===Ie);if(Ve.length>=1)return Ve.length>1&&Ke&&(0,G.p)(`menuController queried for a menu on the "${Ie}" side, but ${Ve.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ve.map(it=>it.el)),Ve[0].el}else if(null!=Ie)return _e(de=>de.menuId===Ie);return _e(de=>!de.disabled)||(me.length>0?me[0].el:void 0)});return function(Ke){return pe.apply(this,arguments)}}(),Be=function(){var pe=(0,C.Z)(function*(){return yield Ne(),ve()});return function(){return pe.apply(this,arguments)}}(),R=function(){var pe=(0,C.Z)(function*(){return yield Ne(),oe()});return function(){return pe.apply(this,arguments)}}(),P=function(){var pe=(0,C.Z)(function*(){return yield Ne(),Oe()});return function(){return pe.apply(this,arguments)}}(),ne=(pe,Ie)=>{$.set(pe,Ie)},D=function(){var pe=(0,C.Z)(function*(Ie,Ke,yt){if(Oe())return!1;if(Ke){const de=yield Be();de&&Ie.el!==de&&(yield de.setOpen(!1,!1))}return Ie._setOpen(Ke,yt)});return function(Ke,yt,de){return pe.apply(this,arguments)}}(),ve=()=>_e(pe=>pe._isOpen),oe=()=>me.map(pe=>pe.el),Oe=()=>me.some(pe=>pe.isAnimating),_e=pe=>{const Ie=me.find(pe);if(void 0!==Ie)return Ie.el},Ne=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(pe=>new Promise(Ie=>(0,F.c)(pe,Ie))));return ne("reveal",k),ne("push",H),ne("overlay",q),null==E.d||E.d.addEventListener("ionBackButton",pe=>{const Ie=ve();Ie&&pe.detail.register(L.MENU_BACK_BUTTON_PRIORITY,()=>Ie.close())}),{registerAnimation:ne,get:Re,getMenus:R,getOpen:Be,isEnabled:ie,swipeGesture:J,isAnimating:P,isOpen:ce,enable:A,toggle:Z,close:te,open:Ee,_getOpenSync:ve,_createAnimation:(pe,Ie)=>{const Ke=$.get(pe);if(!Ke)throw new Error("animation not registered");return Ke(Ie)},_register:pe=>{me.indexOf(pe)<0&&me.push(pe)},_unregister:pe=>{const Ie=me.indexOf(pe);Ie>-1&&me.splice(Ie,1)},_setOpen:D}})()},4923:(ae,De,b)=>{"use strict";b.r(De),b.d(De,{GESTURE_CONTROLLER:()=>C.G,createGesture:()=>q});var C=b(4967);const E=(M,$,me,Ee)=>{const te=L(M)?{capture:!!Ee.capture,passive:!!Ee.passive}:!!Ee.capture;let Z,A;return M.__zone_symbol__addEventListener?(Z="__zone_symbol__addEventListener",A="__zone_symbol__removeEventListener"):(Z="addEventListener",A="removeEventListener"),M[Z]($,me,te),()=>{M[A]($,me,te)}},L=M=>{if(void 0===G)try{const $=Object.defineProperty({},"passive",{get:()=>{G=!0}});M.addEventListener("optsTest",()=>{},$)}catch{G=!1}return!!G};let G;const f=M=>M instanceof Document?M:M.ownerDocument,q=M=>{let $=!1,me=!1,Ee=!0,te=!1;const Z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},M),A=Z.canStart,J=Z.onWillStart,ce=Z.onStart,ie=Z.onEnd,Re=Z.notCaptured,Be=Z.onMove,R=Z.threshold,P=Z.passive,ne=Z.blurOnStart,ee={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},I=((M,$,me)=>{const Ee=me*(Math.PI/180),te="x"===M,Z=Math.cos(Ee),A=$*$;let J=0,ce=0,ie=!1,Re=0;return{start(Be,R){J=Be,ce=R,Re=0,ie=!0},detect(Be,R){if(!ie)return!1;const P=Be-J,ne=R-ce,ee=P*P+ne*ne;if(ee<A)return!1;const I=Math.sqrt(ee),D=(te?P:ne)/I;return Re=D>Z?1:D<-Z?-1:0,ie=!1,!0},isGesture:()=>0!==Re,getDirection:()=>Re}})(Z.direction,Z.threshold,Z.maxAngle),D=C.G.createGesture({name:M.gestureName,priority:M.gesturePriority,disableScroll:M.disableScroll}),oe=()=>{$&&(te=!1,Be&&Be(ee))},Oe=()=>!!D.capture()&&($=!0,Ee=!1,ee.startX=ee.currentX,ee.startY=ee.currentY,ee.startTime=ee.currentTime,J?J(ee).then(Ne):Ne(),!0),Ne=()=>{ne&&(()=>{if(typeof document<"u"){const de=document.activeElement;de?.blur&&de.blur()}})(),ce&&ce(ee),Ee=!0},pe=()=>{$=!1,me=!1,te=!1,Ee=!0,D.release()},Ie=de=>{const Ve=$,it=Ee;if(pe(),it){if(H(ee,de),Ve)return void(ie&&ie(ee));Re&&Re(ee)}},Ke=((M,$,me,Ee,te)=>{let Z,A,J,ce,ie,Re,Be,R=0;const P=_e=>{R=Date.now()+2e3,$(_e)&&(!A&&me&&(A=E(M,"touchmove",me,te)),J||(J=E(_e.target,"touchend",ee,te)),ce||(ce=E(_e.target,"touchcancel",ee,te)))},ne=_e=>{R>Date.now()||$(_e)&&(!Re&&me&&(Re=E(f(M),"mousemove",me,te)),Be||(Be=E(f(M),"mouseup",I,te)))},ee=_e=>{D(),Ee&&Ee(_e)},I=_e=>{K(),Ee&&Ee(_e)},D=()=>{A&&A(),J&&J(),ce&&ce(),A=J=ce=void 0},K=()=>{Re&&Re(),Be&&Be(),Re=Be=void 0},ve=()=>{D(),K()},oe=(_e=!0)=>{_e?(Z||(Z=E(M,"touchstart",P,te)),ie||(ie=E(M,"mousedown",ne,te))):(Z&&Z(),ie&&ie(),Z=ie=void 0,ve())};return{enable:oe,stop:ve,destroy:()=>{oe(!1),Ee=me=$=void 0}}})(Z.el,de=>{const Ve=j(de);return!(me||!Ee||(k(de,ee),ee.startX=ee.currentX,ee.startY=ee.currentY,ee.startTime=ee.currentTime=Ve,ee.velocityX=ee.velocityY=ee.deltaX=ee.deltaY=0,ee.event=de,A&&!1===A(ee))||(D.release(),!D.start()))&&(me=!0,0===R?Oe():(I.start(ee.startX,ee.startY),!0))},de=>{$?!te&&Ee&&(te=!0,H(ee,de),requestAnimationFrame(oe)):(H(ee,de),I.detect(ee.currentX,ee.currentY)&&(!I.isGesture()||!Oe())&&yt())},Ie,{capture:!1,passive:P}),yt=()=>{pe(),Ke.stop(),Re&&Re(ee)};return{enable(de=!0){de||($&&Ie(void 0),pe()),Ke.enable(de)},destroy(){D.destroy(),Ke.destroy()}}},H=(M,$)=>{if(!$)return;const me=M.currentX,Ee=M.currentY,te=M.currentTime;k($,M);const Z=M.currentX,A=M.currentY,ce=(M.currentTime=j($))-te;if(ce>0&&ce<100){const Re=(A-Ee)/ce;M.velocityX=(Z-me)/ce*.7+.3*M.velocityX,M.velocityY=.7*Re+.3*M.velocityY}M.deltaX=Z-M.startX,M.deltaY=A-M.startY,M.event=$},k=(M,$)=>{let me=0,Ee=0;if(M){const te=M.changedTouches;if(te&&te.length>0){const Z=te[0];me=Z.clientX,Ee=Z.clientY}else void 0!==M.pageX&&(me=M.pageX,Ee=M.pageY)}$.currentX=me,$.currentY=Ee},j=M=>M.timeStamp||Date.now()},8044:(ae,De,b)=>{"use strict";b.d(De,{b:()=>x,c:()=>f,d:()=>T,e:()=>R,g:()=>ee,l:()=>Re,s:()=>P,t:()=>k,w:()=>Be});var C=b(3918),E=b(3426),L=b(4675);const x="ionViewWillLeave",f="ionViewDidLeave",T="ionViewWillUnload",k=I=>new Promise((D,K)=>{(0,E.w)(()=>{j(I),M(I).then(ve=>{ve.animation&&ve.animation.destroy(),$(I),D(ve)},ve=>{$(I),K(ve)})})}),j=I=>{const D=I.enteringEl,K=I.leavingEl;ne(D,K,I.direction),I.showGoBack?D.classList.add("can-go-back"):D.classList.remove("can-go-back"),P(D,!1),D.style.setProperty("pointer-events","none"),K&&(P(K,!1),K.style.setProperty("pointer-events","none"))},M=function(){var I=(0,C.Z)(function*(D){const K=yield me(D);return K&&E.B.isBrowser?Ee(K,D):te(D)});return function(K){return I.apply(this,arguments)}}(),$=I=>{const D=I.enteringEl,K=I.leavingEl;D.classList.remove("ion-page-invisible"),D.style.removeProperty("pointer-events"),void 0!==K&&(K.classList.remove("ion-page-invisible"),K.style.removeProperty("pointer-events"))},me=function(){var I=(0,C.Z)(function*(D){return D.leavingEl&&D.animated&&0!==D.duration?D.animationBuilder?D.animationBuilder:"ios"===D.mode?(yield Promise.resolve().then(b.bind(b,5444))).iosTransitionAnimation:(yield Promise.resolve().then(b.bind(b,5922))).mdTransitionAnimation:void 0});return function(K){return I.apply(this,arguments)}}(),Ee=function(){var I=(0,C.Z)(function*(D,K){yield Z(K,!0);const ve=D(K.baseEl,K);ce(K.enteringEl,K.leavingEl);const oe=yield J(ve,K);return K.progressCallback&&K.progressCallback(void 0),oe&&ie(K.enteringEl,K.leavingEl),{hasCompleted:oe,animation:ve}});return function(K,ve){return I.apply(this,arguments)}}(),te=function(){var I=(0,C.Z)(function*(D){const K=D.enteringEl,ve=D.leavingEl;return yield Z(D,!1),ce(K,ve),ie(K,ve),{hasCompleted:!0}});return function(K){return I.apply(this,arguments)}}(),Z=function(){var I=(0,C.Z)(function*(D,K){(void 0!==D.deepWait?D.deepWait:K)&&(yield Promise.all([R(D.enteringEl),R(D.leavingEl)])),yield A(D.viewIsReady,D.enteringEl)});return function(K,ve){return I.apply(this,arguments)}}(),A=function(){var I=(0,C.Z)(function*(D,K){D&&(yield D(K))});return function(K,ve){return I.apply(this,arguments)}}(),J=(I,D)=>{const K=D.progressCallback,ve=new Promise(oe=>{I.onFinish(Oe=>oe(1===Oe))});return K?(I.progressStart(!0),K(I)):I.play(),ve},ce=(I,D)=>{Re(D,x),Re(I,"ionViewWillEnter")},ie=(I,D)=>{Re(I,"ionViewDidEnter"),Re(D,f)},Re=(I,D)=>{if(I){const K=new CustomEvent(D,{bubbles:!1,cancelable:!1});I.dispatchEvent(K)}},Be=()=>new Promise(I=>(0,L.r)(()=>(0,L.r)(()=>I()))),R=function(){var I=(0,C.Z)(function*(D){const K=D;if(K){if(null!=K.componentOnReady){if(null!=(yield K.componentOnReady()))return}else if(null!=K.__registerHost)return void(yield new Promise(oe=>(0,L.r)(oe)));yield Promise.all(Array.from(K.children).map(R))}});return function(K){return I.apply(this,arguments)}}(),P=(I,D)=>{D?(I.setAttribute("aria-hidden","true"),I.classList.add("ion-page-hidden")):(I.hidden=!1,I.removeAttribute("aria-hidden"),I.classList.remove("ion-page-hidden"))},ne=(I,D,K)=>{void 0!==I&&(I.style.zIndex="back"===K?"99":"101"),void 0!==D&&(D.style.zIndex="100")},ee=I=>I.classList.contains("ion-page")?I:I.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||I},6240:(ae,De,b)=>{"use strict";b.d(De,{a:()=>E,b:()=>L,p:()=>C});const C=(G,...F)=>console.warn(`[Ionic Warning]: ${G}`,...F),E=(G,...F)=>console.error(`[Ionic Error]: ${G}`,...F),L=(G,...F)=>console.error(`<${G.tagName.toLowerCase()}> must be used inside ${F.join(" or ")}.`)},6940:(ae,De,b)=>{"use strict";b.d(De,{d:()=>E,w:()=>C});const C=typeof window<"u"?window:void 0,E=typeof document<"u"?document:void 0},3426:(ae,De,b)=>{"use strict";b.d(De,{B:()=>j,H:()=>Oe,a:()=>fs,b:()=>Ti,c:()=>it,d:()=>Ft,e:()=>ys,f:()=>bt,g:()=>He,h:()=>ve,i:()=>Po,j:()=>M,r:()=>xi,w:()=>Wo});var C=b(3918);let G,F,x,f=!1,T=!1,q=!1,H=!1,k=!1;const j={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},M=g=>{const S=new URL(g,yn.$resourcesUrl$);return S.origin!==di.location.origin?S.href:S.pathname},J="s-id",ce="sty-id",Be="slot-fb{display:contents}slot-fb[hidden]{display:none}",R="http://www.w3.org/1999/xlink",P={},D=g=>"object"==(g=typeof g)||"function"===g;function K(g){var S,B,X;return null!==(X=null===(B=null===(S=g.head)||void 0===S?void 0:S.querySelector('meta[name="csp-nonce"]'))||void 0===B?void 0:B.getAttribute("content"))&&void 0!==X?X:void 0}const ve=(g,S,...B)=>{let X=null,Pe=null,fe=null,Ze=!1,Xe=!1;const Je=[],Ue=Dt=>{for(let Et=0;Et<Dt.length;Et++)X=Dt[Et],Array.isArray(X)?Ue(X):null!=X&&"boolean"!=typeof X&&((Ze="function"!=typeof g&&!D(X))&&(X=String(X)),Ze&&Xe?Je[Je.length-1].$text$+=X:Je.push(Ze?oe(null,X):X),Xe=Ze)};if(Ue(B),S){S.key&&(Pe=S.key),S.name&&(fe=S.name);{const Dt=S.className||S.class;Dt&&(S.class="object"!=typeof Dt?Dt:Object.keys(Dt).filter(Et=>Dt[Et]).join(" "))}}if("function"==typeof g)return g(null===S?{}:S,Je,Ne);const ut=oe(g,null);return ut.$attrs$=S,Je.length>0&&(ut.$children$=Je),ut.$key$=Pe,ut.$name$=fe,ut},oe=(g,S)=>({$flags$:0,$tag$:g,$text$:S,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Oe={},Ne={forEach:(g,S)=>g.map(pe).forEach(S),map:(g,S)=>g.map(pe).map(S).map(Ie)},pe=g=>({vattrs:g.$attrs$,vchildren:g.$children$,vkey:g.$key$,vname:g.$name$,vtag:g.$tag$,vtext:g.$text$}),Ie=g=>{if("function"==typeof g.vtag){const B=Object.assign({},g.vattrs);return g.vkey&&(B.key=g.vkey),g.vname&&(B.name=g.vname),ve(g.vtag,B,...g.vchildren||[])}const S=oe(g.vtag,g.vtext);return S.$attrs$=g.vattrs,S.$children$=g.vchildren,S.$key$=g.vkey,S.$name$=g.vname,S},yt=(g,S,B,X,Pe,fe,Ze)=>{let Xe,Je,Ue,ut;if(1===fe.nodeType){for(Xe=fe.getAttribute("c-id"),Xe&&(Je=Xe.split("."),(Je[0]===Ze||"0"===Je[0])&&(Ue={$flags$:0,$hostId$:Je[0],$nodeId$:Je[1],$depth$:Je[2],$index$:Je[3],$tag$:fe.tagName.toLowerCase(),$elm$:fe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},S.push(Ue),fe.removeAttribute("c-id"),g.$children$||(g.$children$=[]),g.$children$[Ue.$index$]=Ue,g=Ue,X&&"0"===Ue.$depth$&&(X[Ue.$index$]=Ue.$elm$))),ut=fe.childNodes.length-1;ut>=0;ut--)yt(g,S,B,X,Pe,fe.childNodes[ut],Ze);if(fe.shadowRoot)for(ut=fe.shadowRoot.childNodes.length-1;ut>=0;ut--)yt(g,S,B,X,Pe,fe.shadowRoot.childNodes[ut],Ze)}else if(8===fe.nodeType)Je=fe.nodeValue.split("."),(Je[1]===Ze||"0"===Je[1])&&(Xe=Je[0],Ue={$flags$:0,$hostId$:Je[1],$nodeId$:Je[2],$depth$:Je[3],$index$:Je[4],$elm$:fe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Xe?(Ue.$elm$=fe.nextSibling,Ue.$elm$&&3===Ue.$elm$.nodeType&&(Ue.$text$=Ue.$elm$.textContent,S.push(Ue),fe.remove(),g.$children$||(g.$children$=[]),g.$children$[Ue.$index$]=Ue,X&&"0"===Ue.$depth$&&(X[Ue.$index$]=Ue.$elm$))):Ue.$hostId$===Ze&&("s"===Xe?(Ue.$tag$="slot",fe["s-sn"]=Je[5]?Ue.$name$=Je[5]:"",fe["s-sr"]=!0,X&&(Ue.$elm$=Vn.createElement(Ue.$tag$),Ue.$name$&&Ue.$elm$.setAttribute("name",Ue.$name$),fe.parentNode.insertBefore(Ue.$elm$,fe),fe.remove(),"0"===Ue.$depth$&&(X[Ue.$index$]=Ue.$elm$)),B.push(Ue),g.$children$||(g.$children$=[]),g.$children$[Ue.$index$]=Ue):"r"===Xe&&(X?fe.remove():(Pe["s-cr"]=fe,fe["s-cn"]=!0))));else if(g&&"style"===g.$tag$){const Dt=oe(null,fe.textContent);Dt.$elm$=fe,Dt.$index$="0",g.$children$=[Dt]}},de=(g,S)=>{if(1===g.nodeType){let B=0;for(;B<g.childNodes.length;B++)de(g.childNodes[B],S);if(g.shadowRoot)for(B=0;B<g.shadowRoot.childNodes.length;B++)de(g.shadowRoot.childNodes[B],S)}else if(8===g.nodeType){const B=g.nodeValue.split(".");"o"===B[0]&&(S.set(B[1]+"."+B[2],g),g.nodeValue="",g["s-en"]=B[3])}},it=g=>no.push(g),He=g=>Mr(g).$modeName$,bt=g=>Mr(g).$hostElement$,Ft=(g,S,B)=>{const X=bt(g);return{emit:Pe=>ke(X,S,{bubbles:!!(4&B),composed:!!(2&B),cancelable:!!(1&B),detail:Pe})}},ke=(g,S,B)=>{const X=yn.ce(S,B);return g.dispatchEvent(X),X},ye=new WeakMap,xe=(g,S,B)=>{let X=Gr.get(g);la&&B?(X=X||new CSSStyleSheet,"string"==typeof X?X=S:X.replaceSync(S)):X=S,Gr.set(g,X)},Qe=(g,S,B)=>{var X;const Pe=Ht(S,B),fe=Gr.get(Pe);if(g=11===g.nodeType?g:Vn,fe)if("string"==typeof fe){let Xe,Ze=ye.get(g=g.head||g);if(Ze||ye.set(g,Ze=new Set),!Ze.has(Pe)){if(g.host&&(Xe=g.querySelector(`[${ce}="${Pe}"]`)))Xe.innerHTML=fe;else{Xe=Vn.createElement("style"),Xe.innerHTML=fe;const Je=null!==(X=yn.$nonce$)&&void 0!==X?X:K(Vn);null!=Je&&Xe.setAttribute("nonce",Je),g.insertBefore(Xe,g.querySelector("link"))}4&S.$flags$&&(Xe.innerHTML+=Be),Ze&&Ze.add(Pe)}}else g.adoptedStyleSheets.includes(fe)||(g.adoptedStyleSheets=[...g.adoptedStyleSheets,fe]);return Pe},Ht=(g,S)=>"sc-"+(S&&32&g.$flags$?g.$tagName$+"-"+S:g.$tagName$),Kt=g=>g.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Yt=(g,S,B,X,Pe,fe)=>{if(B!==X){let Ze=Mi(g,S),Xe=S.toLowerCase();if("class"===S){const Je=g.classList,Ue=fn(B),ut=fn(X);Je.remove(...Ue.filter(Dt=>Dt&&!ut.includes(Dt))),Je.add(...ut.filter(Dt=>Dt&&!Ue.includes(Dt)))}else if("style"===S){for(const Je in B)(!X||null==X[Je])&&(Je.includes("-")?g.style.removeProperty(Je):g.style[Je]="");for(const Je in X)(!B||X[Je]!==B[Je])&&(Je.includes("-")?g.style.setProperty(Je,X[Je]):g.style[Je]=X[Je])}else if("key"!==S)if("ref"===S)X&&X(g);else if(Ze||"o"!==S[0]||"n"!==S[1]){const Je=D(X);if((Ze||Je&&null!==X)&&!Pe)try{if(g.tagName.includes("-"))g[S]=X;else{const ut=X??"";"list"===S?Ze=!1:(null==B||g[S]!=ut)&&(g[S]=ut)}}catch{}let Ue=!1;Xe!==(Xe=Xe.replace(/^xlink\:?/,""))&&(S=Xe,Ue=!0),null==X||!1===X?(!1!==X||""===g.getAttribute(S))&&(Ue?g.removeAttributeNS(R,S):g.removeAttribute(S)):(!Ze||4&fe||Pe)&&!Je&&(X=!0===X?"":X,Ue?g.setAttributeNS(R,S,X):g.setAttribute(S,X))}else if(S="-"===S[2]?S.slice(3):Mi(di,Xe)?Xe.slice(2):Xe[2]+S.slice(3),B||X){const Je=S.endsWith(Zn);S=S.replace(sr,""),B&&yn.rel(g,S,B,Je),X&&yn.ael(g,S,X,Je)}}},Xt=/\s/,fn=g=>g?g.split(Xt):[],Zn="Capture",sr=new RegExp(Zn+"$"),ai=(g,S,B,X)=>{const Pe=11===S.$elm$.nodeType&&S.$elm$.host?S.$elm$.host:S.$elm$,fe=g&&g.$attrs$||P,Ze=S.$attrs$||P;for(X in fe)X in Ze||Yt(Pe,X,fe[X],void 0,B,S.$flags$);for(X in Ze)Yt(Pe,X,fe[X],Ze[X],B,S.$flags$)},xr=(g,S,B,X)=>{var Pe;const fe=S.$children$[B];let Xe,Je,Ue,Ze=0;if(f||(q=!0,"slot"===fe.$tag$&&(G&&X.classList.add(G+"-s"),fe.$flags$|=fe.$children$?2:1)),null!==fe.$text$)Xe=fe.$elm$=Vn.createTextNode(fe.$text$);else if(1&fe.$flags$)Xe=fe.$elm$=Vn.createTextNode("");else{if(H||(H="svg"===fe.$tag$),Xe=fe.$elm$=Vn.createElementNS(H?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&fe.$flags$?"slot-fb":fe.$tag$),H&&"foreignObject"===fe.$tag$&&(H=!1),ai(null,fe,H),(g=>null!=g)(G)&&Xe["s-si"]!==G&&Xe.classList.add(Xe["s-si"]=G),fe.$children$)for(Ze=0;Ze<fe.$children$.length;++Ze)Je=xr(g,fe,Ze,Xe),Je&&Xe.appendChild(Je);"svg"===fe.$tag$?H=!1:"foreignObject"===Xe.tagName&&(H=!0)}return Xe["s-hn"]=x,3&fe.$flags$&&(Xe["s-sr"]=!0,Xe["s-fs"]=null===(Pe=fe.$attrs$)||void 0===Pe?void 0:Pe.slot,Xe["s-cr"]=F,Xe["s-sn"]=fe.$name$||"",Ue=g&&g.$children$&&g.$children$[B],Ue&&Ue.$tag$===fe.$tag$&&g.$elm$&&oo(g.$elm$,!1)),Xe},oo=(g,S)=>{var B;yn.$flags$|=1;const X=g.childNodes;for(let Pe=X.length-1;Pe>=0;Pe--){const fe=X[Pe];fe["s-hn"]!==x&&fe["s-ol"]&&(Jr(fe).insertBefore(fe,li(fe)),fe["s-ol"].remove(),fe["s-ol"]=void 0,fe["s-sh"]=void 0,1===fe.nodeType&&fe.setAttribute("slot",null!==(B=fe["s-sn"])&&void 0!==B?B:""),q=!0),S&&oo(fe,S)}yn.$flags$&=-2},Qn=(g,S,B,X,Pe,fe)=>{let Xe,Ze=g["s-cr"]&&g["s-cr"].parentNode||g;for(Ze.shadowRoot&&Ze.tagName===x&&(Ze=Ze.shadowRoot);Pe<=fe;++Pe)X[Pe]&&(Xe=xr(null,B,Pe,g),Xe&&(X[Pe].$elm$=Xe,Ze.insertBefore(Xe,li(S))))},mr=(g,S,B)=>{for(let X=S;X<=B;++X){const Pe=g[X];if(Pe){const fe=Pe.$elm$;$n(Pe),fe&&(T=!0,fe["s-ol"]?fe["s-ol"].remove():oo(fe,!0),fe.remove())}}},io=(g,S)=>g.$tag$===S.$tag$&&("slot"===g.$tag$?g.$name$===S.$name$:g.$key$===S.$key$),li=g=>g&&g["s-ol"]||g,Jr=g=>(g["s-ol"]?g["s-ol"]:g).parentNode,gr=(g,S)=>{const B=S.$elm$=g.$elm$,X=g.$children$,Pe=S.$children$,fe=S.$tag$,Ze=S.$text$;let Xe;null===Ze?(H="svg"===fe||"foreignObject"!==fe&&H,"slot"===fe||ai(g,S,H),null!==X&&null!==Pe?((g,S,B,X)=>{let wr,Ar,Pe=0,fe=0,Ze=0,Xe=0,Je=S.length-1,Ue=S[0],ut=S[Je],Dt=X.length-1,Et=X[0],wn=X[Dt];for(;Pe<=Je&&fe<=Dt;)if(null==Ue)Ue=S[++Pe];else if(null==ut)ut=S[--Je];else if(null==Et)Et=X[++fe];else if(null==wn)wn=X[--Dt];else if(io(Ue,Et))gr(Ue,Et),Ue=S[++Pe],Et=X[++fe];else if(io(ut,wn))gr(ut,wn),ut=S[--Je],wn=X[--Dt];else if(io(Ue,wn))("slot"===Ue.$tag$||"slot"===wn.$tag$)&&oo(Ue.$elm$.parentNode,!1),gr(Ue,wn),g.insertBefore(Ue.$elm$,ut.$elm$.nextSibling),Ue=S[++Pe],wn=X[--Dt];else if(io(ut,Et))("slot"===Ue.$tag$||"slot"===wn.$tag$)&&oo(ut.$elm$.parentNode,!1),gr(ut,Et),g.insertBefore(ut.$elm$,Ue.$elm$),ut=S[--Je],Et=X[++fe];else{for(Ze=-1,Xe=Pe;Xe<=Je;++Xe)if(S[Xe]&&null!==S[Xe].$key$&&S[Xe].$key$===Et.$key$){Ze=Xe;break}Ze>=0?(Ar=S[Ze],Ar.$tag$!==Et.$tag$?wr=xr(S&&S[fe],B,Ze,g):(gr(Ar,Et),S[Ze]=void 0,wr=Ar.$elm$),Et=X[++fe]):(wr=xr(S&&S[fe],B,fe,g),Et=X[++fe]),wr&&Jr(Ue.$elm$).insertBefore(wr,li(Ue.$elm$))}Pe>Je?Qn(g,null==X[Dt+1]?null:X[Dt+1].$elm$,B,X,fe,Dt):fe>Dt&&mr(S,Pe,Je)})(B,X,S,Pe):null!==Pe?(null!==g.$text$&&(B.textContent=""),Qn(B,null,S,Pe,0,Pe.length-1)):null!==X&&mr(X,0,X.length-1),H&&"svg"===fe&&(H=!1)):(Xe=B["s-cr"])?Xe.parentNode.textContent=Ze:g.$text$!==Ze&&(B.data=Ze)},Te=g=>{const S=g.childNodes;for(const B of S)if(1===B.nodeType){if(B["s-sr"]){const X=B["s-sn"];B.hidden=!1;for(const Pe of S)if(Pe!==B)if(Pe["s-hn"]!==B["s-hn"]||""!==X){if(1===Pe.nodeType&&(X===Pe.getAttribute("slot")||X===Pe["s-sn"])){B.hidden=!0;break}}else if(1===Pe.nodeType||3===Pe.nodeType&&""!==Pe.textContent.trim()){B.hidden=!0;break}}Te(B)}},Me=[],gt=g=>{let S,B,X;for(const Pe of g.childNodes){if(Pe["s-sr"]&&(S=Pe["s-cr"])&&S.parentNode){B=S.parentNode.childNodes;const fe=Pe["s-sn"];for(X=B.length-1;X>=0;X--)if(S=B[X],!S["s-cn"]&&!S["s-nr"]&&S["s-hn"]!==Pe["s-hn"])if(En(S,fe)){let Ze=Me.find(Xe=>Xe.$nodeToRelocate$===S);T=!0,S["s-sn"]=S["s-sn"]||fe,Ze?(Ze.$nodeToRelocate$["s-sh"]=Pe["s-hn"],Ze.$slotRefNode$=Pe):(S["s-sh"]=Pe["s-hn"],Me.push({$slotRefNode$:Pe,$nodeToRelocate$:S})),S["s-sr"]&&Me.map(Xe=>{En(Xe.$nodeToRelocate$,S["s-sn"])&&(Ze=Me.find(Je=>Je.$nodeToRelocate$===S),Ze&&!Xe.$slotRefNode$&&(Xe.$slotRefNode$=Ze.$slotRefNode$))})}else Me.some(Ze=>Ze.$nodeToRelocate$===S)||Me.push({$nodeToRelocate$:S})}1===Pe.nodeType&&gt(Pe)}},En=(g,S)=>1===g.nodeType?null===g.getAttribute("slot")&&""===S||g.getAttribute("slot")===S:g["s-sn"]===S||""===S,$n=g=>{g.$attrs$&&g.$attrs$.ref&&g.$attrs$.ref(null),g.$children$&&g.$children$.map($n)},nr=(g,S)=>{S&&!g.$onRenderResolve$&&S["s-p"]&&S["s-p"].push(new Promise(B=>g.$onRenderResolve$=B))},vr=(g,S)=>{if(g.$flags$|=16,!(4&g.$flags$))return nr(g,g.$ancestorComponent$),Wo(()=>Hr(g,S));g.$flags$|=512},Hr=(g,S)=>{const X=g.$lazyInstance$;let Pe;return S&&(g.$flags$|=256,g.$queuedListeners$&&(g.$queuedListeners$.map(([fe,Ze])=>yr(X,fe,Ze)),g.$queuedListeners$=void 0),Pe=yr(X,"componentWillLoad")),Pe=eo(Pe,()=>yr(X,"componentWillRender")),eo(Pe,()=>Ro(g,X,S))},eo=(g,S)=>kn(g)?g.then(S):S(),kn=g=>g instanceof Promise||g&&g.then&&"function"==typeof g.then,Ro=function(){var g=(0,C.Z)(function*(S,B,X){var Pe;const fe=S.$hostElement$,Xe=fe["s-rc"];X&&(g=>{const S=g.$cmpMeta$,B=g.$hostElement$,X=S.$flags$,fe=Qe(B.shadowRoot?B.shadowRoot:B.getRootNode(),S,g.$modeName$);10&X&&(B["s-sc"]=fe,B.classList.add(fe+"-h"),2&X&&B.classList.add(fe+"-s"))})(S);so(S,B,fe,X),Xe&&(Xe.map(Ue=>Ue()),fe["s-rc"]=void 0);{const Ue=null!==(Pe=fe["s-p"])&&void 0!==Pe?Pe:[],ut=()=>Ki(S);0===Ue.length?ut():(Promise.all(Ue).then(ut),S.$flags$|=4,Ue.length=0)}});return function(B,X,Pe){return g.apply(this,arguments)}}(),so=(g,S,B,X)=>{try{S=S.render&&S.render(),g.$flags$&=-17,g.$flags$|=2,((g,S,B=!1)=>{var X,Pe,fe,Ze;const Xe=g.$hostElement$,Je=g.$cmpMeta$,Ue=g.$vnode$||oe(null,null),ut=(g=>g&&g.$tag$===Oe)(S)?S:ve(null,null,S);if(x=Xe.tagName,Je.$attrsToReflect$&&(ut.$attrs$=ut.$attrs$||{},Je.$attrsToReflect$.map(([Dt,Et])=>ut.$attrs$[Et]=Xe[Dt])),B&&ut.$attrs$)for(const Dt of Object.keys(ut.$attrs$))Xe.hasAttribute(Dt)&&!["key","ref","style","class"].includes(Dt)&&(ut.$attrs$[Dt]=Xe[Dt]);if(ut.$tag$=null,ut.$flags$|=4,g.$vnode$=ut,ut.$elm$=Ue.$elm$=Xe.shadowRoot||Xe,G=Xe["s-sc"],F=Xe["s-cr"],f=0!=(1&Je.$flags$),T=!1,gr(Ue,ut),yn.$flags$|=1,q){gt(ut.$elm$);for(const Dt of Me){const Et=Dt.$nodeToRelocate$;if(!Et["s-ol"]){const wn=Vn.createTextNode("");wn["s-nr"]=Et,Et.parentNode.insertBefore(Et["s-ol"]=wn,Et)}}for(const Dt of Me){const Et=Dt.$nodeToRelocate$,wn=Dt.$slotRefNode$;if(wn){const wr=wn.parentNode;let Ar=wn.nextSibling;{let zr=null===(X=Et["s-ol"])||void 0===X?void 0:X.previousSibling;for(;zr;){let Jn=null!==(Pe=zr["s-nr"])&&void 0!==Pe?Pe:null;if(Jn&&Jn["s-sn"]===Et["s-sn"]&&wr===Jn.parentNode&&(Jn=Jn.nextSibling,!Jn||!Jn["s-nr"])){Ar=Jn;break}zr=zr.previousSibling}}(!Ar&&wr!==Et.parentNode||Et.nextSibling!==Ar)&&Et!==Ar&&(!Et["s-hn"]&&Et["s-ol"]&&(Et["s-hn"]=Et["s-ol"].parentNode.nodeName),wr.insertBefore(Et,Ar),1===Et.nodeType&&(Et.hidden=null!==(fe=Et["s-ih"])&&void 0!==fe&&fe))}else 1===Et.nodeType&&(B&&(Et["s-ih"]=null!==(Ze=Et.hidden)&&void 0!==Ze&&Ze),Et.hidden=!0)}}T&&Te(ut.$elm$),yn.$flags$&=-2,Me.length=0})(g,S,X)}catch(Pe){to(Pe,g.$hostElement$)}return null},Ki=g=>{const B=g.$hostElement$,Pe=g.$lazyInstance$,fe=g.$ancestorComponent$;yr(Pe,"componentDidRender"),64&g.$flags$?yr(Pe,"componentDidUpdate"):(g.$flags$|=64,Bn(B),yr(Pe,"componentDidLoad"),g.$onReadyResolve$(B),fe||In()),g.$onInstanceResolve$(B),g.$onRenderResolve$&&(g.$onRenderResolve$(),g.$onRenderResolve$=void 0),512&g.$flags$&&Yi(()=>vr(g,!1)),g.$flags$&=-517},Po=g=>{{const S=Mr(g),B=S.$hostElement$.isConnected;return B&&2==(18&S.$flags$)&&vr(S,!1),B}},In=g=>{Bn(Vn.documentElement),Yi(()=>ke(di,"appload",{detail:{namespace:"ionic"}}))},yr=(g,S,B)=>{if(g&&g[S])try{return g[S](B)}catch(X){to(X)}},Bn=g=>g.classList.add("hydrated"),po=(g,S,B)=>{var X;const Pe=g.prototype;if(S.$members$){g.watchers&&(S.$watchers$=g.watchers);const fe=Object.entries(S.$members$);if(fe.map(([Ze,[Xe]])=>{31&Xe||2&B&&32&Xe?Object.defineProperty(Pe,Ze,{get(){return((g,S)=>Mr(this).$instanceValues$.get(S))(0,Ze)},set(Je){((g,S,B,X)=>{const Pe=Mr(g),fe=Pe.$hostElement$,Ze=Pe.$instanceValues$.get(S),Xe=Pe.$flags$,Je=Pe.$lazyInstance$;B=((g,S)=>null==g||D(g)?g:4&S?"false"!==g&&(""===g||!!g):2&S?parseFloat(g):1&S?String(g):g)(B,X.$members$[S][0]);const Ue=Number.isNaN(Ze)&&Number.isNaN(B);if((!(8&Xe)||void 0===Ze)&&B!==Ze&&!Ue&&(Pe.$instanceValues$.set(S,B),Je)){if(X.$watchers$&&128&Xe){const Dt=X.$watchers$[S];Dt&&Dt.map(Et=>{try{Je[Et](B,Ze,S)}catch(wn){to(wn,fe)}})}2==(18&Xe)&&vr(Pe,!1)}})(this,Ze,Je,S)},configurable:!0,enumerable:!0}):1&B&&64&Xe&&Object.defineProperty(Pe,Ze,{value(...Je){var Ue;const ut=Mr(this);return null===(Ue=ut?.$onInstancePromise$)||void 0===Ue?void 0:Ue.then(()=>{var Dt;return null===(Dt=ut.$lazyInstance$)||void 0===Dt?void 0:Dt[Ze](...Je)})}})}),1&B){const Ze=new Map;Pe.attributeChangedCallback=function(Xe,Je,Ue){yn.jmp(()=>{var ut;const Dt=Ze.get(Xe);if(this.hasOwnProperty(Dt))Ue=this[Dt],delete this[Dt];else{if(Pe.hasOwnProperty(Dt)&&"number"==typeof this[Dt]&&this[Dt]==Ue)return;if(null==Dt){const Et=Mr(this),wn=Et?.$flags$;if(wn&&!(8&wn)&&128&wn&&Ue!==Je){const wr=Et.$lazyInstance$,Ar=null===(ut=S.$watchers$)||void 0===ut?void 0:ut[Xe];Ar?.forEach(zr=>{null!=wr[zr]&&wr[zr].call(wr,Ue,Je,Xe)})}return}}this[Dt]=(null!==Ue||"boolean"!=typeof this[Dt])&&Ue})},g.observedAttributes=Array.from(new Set([...Object.keys(null!==(X=S.$watchers$)&&void 0!==X?X:{}),...fe.filter(([Xe,Je])=>15&Je[0]).map(([Xe,Je])=>{var Ue;const ut=Je[1]||Xe;return Ze.set(ut,Xe),512&Je[0]&&(null===(Ue=S.$attrsToReflect$)||void 0===Ue||Ue.push([Xe,ut])),ut})]))}}return g},Qt=function(){var g=(0,C.Z)(function*(S,B,X,Pe){let fe;if(!(32&B.$flags$)){B.$flags$|=32;{if(fe=_i(X),fe.then){const Ue=()=>{};fe=yield fe,Ue()}fe.isProxied||(X.$watchers$=fe.watchers,po(fe,X,2),fe.isProxied=!0);const Je=()=>{};B.$flags$|=8;try{new fe(B)}catch(Ue){to(Ue)}B.$flags$&=-9,B.$flags$|=128,Je(),Go(B.$lazyInstance$)}if(fe.style){let Je=fe.style;"string"!=typeof Je&&(Je=Je[B.$modeName$=(g=>no.map(S=>S(g)).find(S=>!!S))(S)]);const Ue=Ht(X,B.$modeName$);if(!Gr.has(Ue)){const ut=()=>{};xe(Ue,Je,!!(1&X.$flags$)),ut()}}}const Ze=B.$ancestorComponent$,Xe=()=>vr(B,!0);Ze&&Ze["s-rc"]?Ze["s-rc"].push(Xe):Xe()});return function(B,X,Pe,fe){return g.apply(this,arguments)}}(),Go=g=>{yr(g,"connectedCallback")},ci=g=>{const S=g["s-cr"]=Vn.createComment("");S["s-cn"]=!0,g.insertBefore(S,g.firstChild)},zo=g=>{yr(g,"disconnectedCallback")},re=function(){var g=(0,C.Z)(function*(S){if(!(1&yn.$flags$)){const B=Mr(S);B.$rmListeners$&&(B.$rmListeners$.map(X=>X()),B.$rmListeners$=void 0),B?.$lazyInstance$?zo(B.$lazyInstance$):B?.$onReadyPromise$&&B.$onReadyPromise$.then(()=>zo(B.$lazyInstance$))}});return function(B){return g.apply(this,arguments)}}(),Ti=(g,S={})=>{var B;const Pe=[],fe=S.exclude||[],Ze=di.customElements,Xe=Vn.head,Je=Xe.querySelector("meta[charset]"),Ue=Vn.createElement("style"),ut=[],Dt=Vn.querySelectorAll(`[${ce}]`);let Et,wn=!0,wr=0;for(Object.assign(yn,S),yn.$resourcesUrl$=new URL(S.resourcesUrl||"./",Vn.baseURI).href,yn.$flags$|=2;wr<Dt.length;wr++)xe(Dt[wr].getAttribute(ce),Kt(Dt[wr].innerHTML),!0);let Ar=!1;if(g.map(zr=>{zr[1].map(Jn=>{var _s;const Rn={$flags$:Jn[0],$tagName$:Jn[1],$members$:Jn[2],$listeners$:Jn[3]};4&Rn.$flags$&&(Ar=!0),Rn.$members$=Jn[2],Rn.$listeners$=Jn[3],Rn.$attrsToReflect$=[],Rn.$watchers$=null!==(_s=Jn[4])&&void 0!==_s?_s:{};const Oo=Rn.$tagName$,Eo=class extends HTMLElement{constructor(Xi){super(Xi),sa(Xi=this,Rn),1&Rn.$flags$&&Xi.attachShadow({mode:"open",delegatesFocus:!!(16&Rn.$flags$)})}connectedCallback(){Et&&(clearTimeout(Et),Et=null),wn?ut.push(this):yn.jmp(()=>(g=>{if(!(1&yn.$flags$)){const S=Mr(g),B=S.$cmpMeta$,X=()=>{};if(1&S.$flags$)ao(g,S,B.$listeners$),S?.$lazyInstance$?Go(S.$lazyInstance$):S?.$onReadyPromise$&&S.$onReadyPromise$.then(()=>Go(S.$lazyInstance$));else{let Pe;if(S.$flags$|=1,Pe=g.getAttribute(J),Pe){if(1&B.$flags$){const fe=Qe(g.shadowRoot,B,g.getAttribute("s-mode"));g.classList.remove(fe+"-h",fe+"-s")}((g,S,B,X)=>{const fe=g.shadowRoot,Ze=[],Je=fe?[]:null,Ue=X.$vnode$=oe(S,null);yn.$orgLocNodes$||de(Vn.body,yn.$orgLocNodes$=new Map),g[J]=B,g.removeAttribute(J),yt(Ue,Ze,[],Je,g,g,B),Ze.map(ut=>{const Dt=ut.$hostId$+"."+ut.$nodeId$,Et=yn.$orgLocNodes$.get(Dt),wn=ut.$elm$;Et&&aa&&""===Et["s-en"]&&Et.parentNode.insertBefore(wn,Et.nextSibling),fe||(wn["s-hn"]=S,Et&&(wn["s-ol"]=Et,wn["s-ol"]["s-nr"]=wn)),yn.$orgLocNodes$.delete(Dt)}),fe&&Je.map(ut=>{ut&&fe.appendChild(ut)})})(g,B.$tagName$,Pe,S)}Pe||12&B.$flags$&&ci(g);{let fe=g;for(;fe=fe.parentNode||fe.host;)if(1===fe.nodeType&&fe.hasAttribute("s-id")&&fe["s-p"]||fe["s-p"]){nr(S,S.$ancestorComponent$=fe);break}}B.$members$&&Object.entries(B.$members$).map(([fe,[Ze]])=>{if(31&Ze&&g.hasOwnProperty(fe)){const Xe=g[fe];delete g[fe],g[fe]=Xe}}),Qt(g,S,B)}X()}})(this))}disconnectedCallback(){yn.jmp(()=>re(this))}componentOnReady(){return Mr(this).$onReadyPromise$}};Rn.$lazyBundleId$=zr[0],!fe.includes(Oo)&&!Ze.get(Oo)&&(Pe.push(Oo),Ze.define(Oo,po(Eo,Rn,1)))})}),Ar&&(Ue.innerHTML+=Be),Ue.innerHTML+=Pe+"{visibility:hidden}.hydrated{visibility:inherit}",Ue.innerHTML.length){Ue.setAttribute("data-styles","");const zr=null!==(B=yn.$nonce$)&&void 0!==B?B:K(Vn);null!=zr&&Ue.setAttribute("nonce",zr),Xe.insertBefore(Ue,Je?Je.nextSibling:Xe.firstChild)}wn=!1,ut.length?ut.map(zr=>zr.connectedCallback()):yn.jmp(()=>Et=setTimeout(In,30))},ao=(g,S,B,X)=>{B&&B.map(([Pe,fe,Ze])=>{const Xe=Jo(g,Pe),Je=ui(S,Ze),Ue=vi(Pe);yn.ael(Xe,fe,Je,Ue),(S.$rmListeners$=S.$rmListeners$||[]).push(()=>yn.rel(Xe,fe,Je,Ue))})},ui=(g,S)=>B=>{try{256&g.$flags$?g.$lazyInstance$[S](B):(g.$queuedListeners$=g.$queuedListeners$||[]).push([S,B])}catch(X){to(X)}},Jo=(g,S)=>4&S?Vn:8&S?di:16&S?Vn.body:g,vi=g=>0!=(2&g),yi=new WeakMap,Mr=g=>yi.get(g),xi=(g,S)=>yi.set(S.$lazyInstance$=g,S),sa=(g,S)=>{const B={$flags$:0,$hostElement$:g,$cmpMeta$:S,$instanceValues$:new Map};return B.$onInstancePromise$=new Promise(X=>B.$onInstanceResolve$=X),B.$onReadyPromise$=new Promise(X=>B.$onReadyResolve$=X),g["s-p"]=[],g["s-rc"]=[],ao(g,B,S.$listeners$),yi.set(g,B)},Mi=(g,S)=>S in g,to=(g,S)=>(0,console.error)(g,S),Ai=new Map,_i=(g,S,B)=>{const X=g.$tagName$.replace(/-/g,"_"),Pe=g.$lazyBundleId$,fe=Ai.get(Pe);return fe?fe[X]:b(863)(`./${Pe}.entry.js`).then(Ze=>(Ai.set(Pe,Ze),Ze[X]),to)},Gr=new Map,no=[],di=typeof window<"u"?window:{},Vn=di.document||{head:{}},yn={$flags$:0,$resourcesUrl$:"",jmp:g=>g(),raf:g=>requestAnimationFrame(g),ael:(g,S,B,X)=>g.addEventListener(S,B,X),rel:(g,S,B,X)=>g.removeEventListener(S,B,X),ce:(g,S)=>new CustomEvent(g,S)},fs=g=>{Object.assign(yn,g)},aa=!0,la=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),hs=[],js=[],ms=(g,S)=>B=>{g.push(B),k||(k=!0,S&&4&yn.$flags$?Yi(vs):yn.raf(vs))},gs=g=>{for(let S=0;S<g.length;S++)try{g[S](performance.now())}catch(B){to(B)}g.length=0},vs=()=>{gs(hs),gs(js),(k=hs.length>0)&&yn.raf(vs)},Yi=g=>Promise.resolve(void 0).then(g),ys=ms(hs,!1),Wo=ms(js,!0)},5194:(ae,De,b)=>{"use strict";b.d(De,{a:()=>k,b:()=>oe,c:()=>L,i:()=>Oe});var C=b(3426);class E{constructor(){this.m=new Map}reset(Ne){this.m=new Map(Object.entries(Ne))}get(Ne,pe){const Ie=this.m.get(Ne);return void 0!==Ie?Ie:pe}getBoolean(Ne,pe=!1){const Ie=this.m.get(Ne);return void 0===Ie?pe:"string"==typeof Ie?"true"===Ie:!!Ie}getNumber(Ne,pe){const Ie=parseFloat(this.m.get(Ne));return isNaN(Ie)?void 0!==pe?pe:NaN:Ie}set(Ne,pe){this.m.set(Ne,pe)}}const L=new E,T="ionic:",q="ionic-persist-config",k=(_e,Ne)=>("string"==typeof _e&&(Ne=_e,_e=void 0),(_e=>j(_e))(_e).includes(Ne)),j=(_e=window)=>{if(typeof _e>"u")return[];_e.Ionic=_e.Ionic||{};let Ne=_e.Ionic.platforms;return null==Ne&&(Ne=_e.Ionic.platforms=M(_e),Ne.forEach(pe=>_e.document.documentElement.classList.add(`plt-${pe}`))),Ne},M=_e=>{const Ne=L.get("platform");return Object.keys(K).filter(pe=>{const Ie=Ne?.[pe];return"function"==typeof Ie?Ie(_e):K[pe](_e)})},me=_e=>!!(I(_e,/iPad/i)||I(_e,/Macintosh/i)&&ie(_e)),Z=_e=>I(_e,/android|sink/i),ie=_e=>D(_e,"(any-pointer:coarse)"),Be=_e=>R(_e)||P(_e),R=_e=>!!(_e.cordova||_e.phonegap||_e.PhoneGap),P=_e=>{const Ne=_e.Capacitor;return!!Ne?.isNative},I=(_e,Ne)=>Ne.test(_e.navigator.userAgent),D=(_e,Ne)=>{var pe;return null===(pe=_e.matchMedia)||void 0===pe?void 0:pe.call(_e,Ne).matches},K={ipad:me,iphone:_e=>I(_e,/iPhone/i),ios:_e=>I(_e,/iPhone|iPod/i)||me(_e),android:Z,phablet:_e=>{const Ne=_e.innerWidth,pe=_e.innerHeight,Ie=Math.min(Ne,pe),Ke=Math.max(Ne,pe);return Ie>390&&Ie<520&&Ke>620&&Ke<800},tablet:_e=>{const Ne=_e.innerWidth,pe=_e.innerHeight,Ie=Math.min(Ne,pe),Ke=Math.max(Ne,pe);return me(_e)||(_e=>Z(_e)&&!I(_e,/mobile/i))(_e)||Ie>460&&Ie<820&&Ke>780&&Ke<1400},cordova:R,capacitor:P,electron:_e=>I(_e,/electron/i),pwa:_e=>{var Ne;return!!(null!==(Ne=_e.matchMedia)&&void 0!==Ne&&Ne.call(_e,"(display-mode: standalone)").matches||_e.navigator.standalone)},mobile:ie,mobileweb:_e=>ie(_e)&&!Be(_e),desktop:_e=>!ie(_e),hybrid:Be};let ve;const oe=_e=>_e&&(0,C.g)(_e)||ve,Oe=(_e={})=>{if(typeof window>"u")return;const Ne=window.document,pe=window,Ie=pe.Ionic=pe.Ionic||{},Ke={};_e._ael&&(Ke.ael=_e._ael),_e._rel&&(Ke.rel=_e._rel),_e._ce&&(Ke.ce=_e._ce),(0,C.a)(Ke);const yt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(_e=>{try{const Ne=_e.sessionStorage.getItem(q);return null!==Ne?JSON.parse(Ne):{}}catch{return{}}})(pe)),{persistConfig:!1}),Ie.config),(_e=>{const Ne={};return _e.location.search.slice(1).split("&").map(pe=>pe.split("=")).map(([pe,Ie])=>[decodeURIComponent(pe),decodeURIComponent(Ie)]).filter(([pe])=>((_e,Ne)=>_e.substr(0,Ne.length)===Ne)(pe,T)).map(([pe,Ie])=>[pe.slice(6),Ie]).forEach(([pe,Ie])=>{Ne[pe]=Ie}),Ne})(pe)),_e);L.reset(yt),L.getBoolean("persistConfig")&&((_e,Ne)=>{try{_e.sessionStorage.setItem(q,JSON.stringify(Ne))}catch{return}})(pe,yt),j(pe),Ie.config=L,Ie.mode=ve=L.get("mode",Ne.documentElement.getAttribute("mode")||(k(pe,"ios")?"ios":"md")),L.set("mode",ve),Ne.documentElement.setAttribute("mode",ve),Ne.documentElement.classList.add(ve),L.getBoolean("_testing")&&L.set("animated",!1);const de=it=>{var He;return null===(He=it.tagName)||void 0===He?void 0:He.startsWith("ION-")},Ve=it=>["ios","md"].includes(it);(0,C.c)(it=>{for(;it;){const He=it.mode||it.getAttribute("mode");if(He){if(Ve(He))return He;de(it)&&console.warn('Invalid ionic mode: "'+He+'", expected: "ios" or "md"')}it=it.parentElement}return ve})}},5444:(ae,De,b)=>{"use strict";b.r(De),b.d(De,{iosTransitionAnimation:()=>M,shadow:()=>f});var C=b(2723),E=b(8044);b(6940),b(3426);const x=me=>document.querySelector(`${me}.ion-cloned-element`),f=me=>me.shadowRoot||me,T=me=>{const Ee="ION-TABS"===me.tagName?me:me.querySelector("ion-tabs"),te="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ee){const Z=Ee.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Z?Z.querySelector(te):null}return me.querySelector(te)},q=(me,Ee)=>{const te="ION-TABS"===me.tagName?me:me.querySelector("ion-tabs");let Z=[];if(null!=te){const A=te.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=A&&(Z=A.querySelectorAll("ion-buttons"))}else Z=me.querySelectorAll("ion-buttons");for(const A of Z){const J=A.closest("ion-header"),ce=J&&!J.classList.contains("header-collapse-condense-inactive"),ie=A.querySelector("ion-back-button"),Re=A.classList.contains("buttons-collapse");if(null!==ie&&("start"===A.slot||""===A.slot)&&(Re&&ce&&Ee||!Re))return ie}return null},k=(me,Ee,te,Z,A,J,ce,ie,Re)=>{var Be,R;const P=Ee?`calc(100% - ${A.right+4}px)`:A.left-4+"px",ne=Ee?"right":"left",ee=Ee?"left":"right",I=Ee?"right":"left",D=(null===(Be=J.textContent)||void 0===Be?void 0:Be.trim())===(null===(R=ie.textContent)||void 0===R?void 0:R.trim()),ve=(Re.height-$)/ce.height,oe=D?`scale(${Re.width/ce.width}, ${ve})`:`scale(${ve})`,Oe="scale(1)",Ne=f(Z).querySelector("ion-icon").getBoundingClientRect(),pe=Ee?Ne.width/2-(Ne.right-A.right)+"px":A.left-Ne.width/2+"px",Ie=Ee?`-${window.innerWidth-A.right}px`:`${A.left}px`,Ke=`${Re.top}px`,yt=`${A.top}px`,it=te?[{offset:0,transform:`translate3d(${Ie}, ${yt}, 0)`},{offset:1,transform:`translate3d(${pe}, ${Ke}, 0)`}]:[{offset:0,transform:`translate3d(${pe}, ${Ke}, 0)`},{offset:1,transform:`translate3d(${Ie}, ${yt}, 0)`}],bt=te?[{offset:0,opacity:1,transform:Oe},{offset:1,opacity:0,transform:oe}]:[{offset:0,opacity:0,transform:oe},{offset:1,opacity:1,transform:Oe}],ye=te?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],xe=(0,C.c)(),Qe=(0,C.c)(),dt=(0,C.c)(),Ht=x("ion-back-button"),Kt=f(Ht).querySelector(".button-text"),Yt=f(Ht).querySelector("ion-icon");Ht.text=Z.text,Ht.mode=Z.mode,Ht.icon=Z.icon,Ht.color=Z.color,Ht.disabled=Z.disabled,Ht.style.setProperty("display","block"),Ht.style.setProperty("position","fixed"),Qe.addElement(Yt),xe.addElement(Kt),dt.addElement(Ht),dt.beforeStyles({position:"absolute",top:"0px",[I]:"0px"}).keyframes(it),xe.beforeStyles({"transform-origin":`${ne} top`}).beforeAddWrite(()=>{Z.style.setProperty("display","none"),Ht.style.setProperty(ne,P)}).afterAddWrite(()=>{Z.style.setProperty("display",""),Ht.style.setProperty("display","none"),Ht.style.removeProperty(ne)}).keyframes(bt),Qe.beforeStyles({"transform-origin":`${ee} center`}).keyframes(ye),me.addAnimation([xe,Qe,dt])},j=(me,Ee,te,Z,A,J,ce,ie)=>{var Re,Be;const R=Ee?"right":"left",P=Ee?`calc(100% - ${A.right}px)`:`${A.left}px`,ee=`${A.top}px`,D=Ee?`-${window.innerWidth-ie.right-8}px`:ie.x-8+"px",ve=ie.y-2+"px",oe=(null===(Re=ce.textContent)||void 0===Re?void 0:Re.trim())===(null===(Be=Z.textContent)||void 0===Be?void 0:Be.trim()),_e=ie.height/(J.height-$),Ne="scale(1)",pe=oe?`scale(${ie.width/J.width}, ${_e})`:`scale(${_e})`,yt=te?[{offset:0,opacity:0,transform:`translate3d(${D}, ${ve}, 0) ${pe}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${ee}, 0) ${Ne}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${ee}, 0) ${Ne}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${D}, ${ve}, 0) ${pe}`}],de=x("ion-title"),Ve=(0,C.c)();de.innerText=Z.innerText,de.size=Z.size,de.color=Z.color,Ve.addElement(de),Ve.beforeStyles({"transform-origin":`${R} top`,height:`${A.height}px`,display:"",position:"relative",[R]:P}).beforeAddWrite(()=>{Z.style.setProperty("opacity","0")}).afterAddWrite(()=>{Z.style.setProperty("opacity",""),de.style.setProperty("display","none")}).keyframes(yt),me.addAnimation(Ve)},M=(me,Ee)=>{var te;try{const Z="cubic-bezier(0.32,0.72,0,1)",A="opacity",J="transform",ce="0%",Re="rtl"===me.ownerDocument.dir,Be=Re?"-99.5%":"99.5%",R=Re?"33%":"-33%",P=Ee.enteringEl,ne=Ee.leavingEl,ee="back"===Ee.direction,I=P.querySelector(":scope > ion-content"),D=P.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),K=P.querySelectorAll(":scope > ion-header > ion-toolbar"),ve=(0,C.c)(),oe=(0,C.c)();if(ve.addElement(P).duration((null!==(te=Ee.duration)&&void 0!==te?te:0)||540).easing(Ee.easing||Z).fill("both").beforeRemoveClass("ion-page-invisible"),ne&&null!=me){const pe=(0,C.c)();pe.addElement(me),ve.addAnimation(pe)}if(I||0!==K.length||0!==D.length?(oe.addElement(I),oe.addElement(D)):oe.addElement(P.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ve.addAnimation(oe),ee?oe.beforeClearStyles([A]).fromTo("transform",`translateX(${R})`,`translateX(${ce})`).fromTo(A,.8,1):oe.beforeClearStyles([A]).fromTo("transform",`translateX(${Be})`,`translateX(${ce})`),I){const pe=f(I).querySelector(".transition-effect");if(pe){const Ie=pe.querySelector(".transition-cover"),Ke=pe.querySelector(".transition-shadow"),yt=(0,C.c)(),de=(0,C.c)(),Ve=(0,C.c)();yt.addElement(pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),de.addElement(Ie).beforeClearStyles([A]).fromTo(A,0,.1),Ve.addElement(Ke).beforeClearStyles([A]).fromTo(A,.03,.7),yt.addAnimation([de,Ve]),oe.addAnimation([yt])}}const Oe=P.querySelector("ion-header.header-collapse-condense"),{forward:_e,backward:Ne}=((me,Ee,te,Z,A)=>{const J=q(Z,te),ce=T(A),ie=T(Z),Re=q(A,te),Be=null!==J&&null!==ce&&!te,R=null!==ie&&null!==Re&&te;if(Be){const P=ce.getBoundingClientRect(),ne=J.getBoundingClientRect(),ee=f(J).querySelector(".button-text"),I=ee.getBoundingClientRect(),K=f(ce).querySelector(".toolbar-title").getBoundingClientRect();j(me,Ee,te,ce,P,K,ee,I),k(me,Ee,te,J,ne,ee,I,ce,K)}else if(R){const P=ie.getBoundingClientRect(),ne=Re.getBoundingClientRect(),ee=f(Re).querySelector(".button-text"),I=ee.getBoundingClientRect(),K=f(ie).querySelector(".toolbar-title").getBoundingClientRect();j(me,Ee,te,ie,P,K,ee,I),k(me,Ee,te,Re,ne,ee,I,ie,K)}return{forward:Be,backward:R}})(ve,Re,ee,P,ne);if(K.forEach(pe=>{const Ie=(0,C.c)();Ie.addElement(pe),ve.addAnimation(Ie);const Ke=(0,C.c)();Ke.addElement(pe.querySelector("ion-title"));const yt=(0,C.c)(),de=Array.from(pe.querySelectorAll("ion-buttons,[menuToggle]")),Ve=pe.closest("ion-header"),it=Ve?.classList.contains("header-collapse-condense-inactive");let He;He=de.filter(ee?ye=>{const xe=ye.classList.contains("buttons-collapse");return xe&&!it||!xe}:ye=>!ye.classList.contains("buttons-collapse")),yt.addElement(He);const ct=(0,C.c)();ct.addElement(pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const bt=(0,C.c)();bt.addElement(f(pe).querySelector(".toolbar-background"));const Ft=(0,C.c)(),ke=pe.querySelector("ion-back-button");if(ke&&Ft.addElement(ke),Ie.addAnimation([Ke,yt,ct,bt,Ft]),yt.fromTo(A,.01,1),ct.fromTo(A,.01,1),ee)it||Ke.fromTo("transform",`translateX(${R})`,`translateX(${ce})`).fromTo(A,.01,1),ct.fromTo("transform",`translateX(${R})`,`translateX(${ce})`),Ft.fromTo(A,.01,1);else if(Oe||Ke.fromTo("transform",`translateX(${Be})`,`translateX(${ce})`).fromTo(A,.01,1),ct.fromTo("transform",`translateX(${Be})`,`translateX(${ce})`),bt.beforeClearStyles([A,"transform"]),Ve?.translucent?bt.fromTo("transform",Re?"translateX(-100%)":"translateX(100%)","translateX(0px)"):bt.fromTo(A,.01,"var(--opacity)"),_e||Ft.fromTo(A,.01,1),ke&&!_e){const xe=(0,C.c)();xe.addElement(f(ke).querySelector(".button-text")).fromTo("transform",Re?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ie.addAnimation(xe)}}),ne){const pe=(0,C.c)(),Ie=ne.querySelector(":scope > ion-content"),Ke=ne.querySelectorAll(":scope > ion-header > ion-toolbar"),yt=ne.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ie||0!==Ke.length||0!==yt.length?(pe.addElement(Ie),pe.addElement(yt)):pe.addElement(ne.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ve.addAnimation(pe),ee){pe.beforeClearStyles([A]).fromTo("transform",`translateX(${ce})`,Re?"translateX(-100%)":"translateX(100%)");const de=(0,E.g)(ne);ve.afterAddWrite(()=>{"normal"===ve.getDirection()&&de.style.setProperty("display","none")})}else pe.fromTo("transform",`translateX(${ce})`,`translateX(${R})`).fromTo(A,1,.8);if(Ie){const de=f(Ie).querySelector(".transition-effect");if(de){const Ve=de.querySelector(".transition-cover"),it=de.querySelector(".transition-shadow"),He=(0,C.c)(),ct=(0,C.c)(),bt=(0,C.c)();He.addElement(de).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ct.addElement(Ve).beforeClearStyles([A]).fromTo(A,.1,0),bt.addElement(it).beforeClearStyles([A]).fromTo(A,.7,.03),He.addAnimation([ct,bt]),pe.addAnimation([He])}}Ke.forEach(de=>{const Ve=(0,C.c)();Ve.addElement(de);const it=(0,C.c)();it.addElement(de.querySelector("ion-title"));const He=(0,C.c)(),ct=de.querySelectorAll("ion-buttons,[menuToggle]"),bt=de.closest("ion-header"),Ft=bt?.classList.contains("header-collapse-condense-inactive"),ke=Array.from(ct).filter(Kt=>{const Yt=Kt.classList.contains("buttons-collapse");return Yt&&!Ft||!Yt});He.addElement(ke);const ye=(0,C.c)(),xe=de.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");xe.length>0&&ye.addElement(xe);const Qe=(0,C.c)();Qe.addElement(f(de).querySelector(".toolbar-background"));const dt=(0,C.c)(),Ht=de.querySelector("ion-back-button");if(Ht&&dt.addElement(Ht),Ve.addAnimation([it,He,ye,dt,Qe]),ve.addAnimation(Ve),dt.fromTo(A,.99,0),He.fromTo(A,.99,0),ye.fromTo(A,.99,0),ee){if(Ft||it.fromTo("transform",`translateX(${ce})`,Re?"translateX(-100%)":"translateX(100%)").fromTo(A,.99,0),ye.fromTo("transform",`translateX(${ce})`,Re?"translateX(-100%)":"translateX(100%)"),Qe.beforeClearStyles([A,"transform"]),bt?.translucent?Qe.fromTo("transform","translateX(0px)",Re?"translateX(-100%)":"translateX(100%)"):Qe.fromTo(A,"var(--opacity)",0),Ht&&!Ne){const Yt=(0,C.c)();Yt.addElement(f(Ht).querySelector(".button-text")).fromTo("transform",`translateX(${ce})`,`translateX(${(Re?-124:124)+"px"})`),Ve.addAnimation(Yt)}}else Ft||it.fromTo("transform",`translateX(${ce})`,`translateX(${R})`).fromTo(A,.99,0).afterClearStyles([J,A]),ye.fromTo("transform",`translateX(${ce})`,`translateX(${R})`).afterClearStyles([J,A]),dt.afterClearStyles([A]),it.afterClearStyles([A]),He.afterClearStyles([A])})}return ve}catch(Z){throw Z}},$=10},5922:(ae,De,b)=>{"use strict";b.r(De),b.d(De,{mdTransitionAnimation:()=>F});var C=b(2723),E=b(8044);b(6940),b(3426);const F=(x,f)=>{var T,q,H;const k="40px",M="back"===f.direction,me=f.leavingEl,Ee=(0,E.g)(f.enteringEl),te=Ee.querySelector("ion-toolbar"),Z=(0,C.c)();if(Z.addElement(Ee).fill("both").beforeRemoveClass("ion-page-invisible"),M?Z.duration((null!==(T=f.duration)&&void 0!==T?T:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Z.duration((null!==(q=f.duration)&&void 0!==q?q:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${k})`,"translateY(0px)").fromTo("opacity",.01,1),te){const A=(0,C.c)();A.addElement(te),Z.addAnimation(A)}if(me&&M){Z.duration((null!==(H=f.duration)&&void 0!==H?H:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const A=(0,C.c)();A.addElement((0,E.g)(me)).onFinish(J=>{1===J&&A.elements.length>0&&A.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${k})`).fromTo("opacity",1,0),Z.addAnimation(A)}return Z}},7261:(ae,De,b)=>{"use strict";b.d(De,{B:()=>it,G:()=>He,O:()=>ct,a:()=>j,b:()=>M,c:()=>te,d:()=>bt,e:()=>Ft,f:()=>oe,g:()=>_e,h:()=>Ie,i:()=>yt,j:()=>A,k:()=>J,l:()=>$,m:()=>me,n:()=>H,o:()=>Re,q:()=>K,s:()=>Ve});var C=b(3918),E=b(6940),L=b(5194),G=b(8573),F=b(1940),x=b(4675),f=b(6240);let T=0,q=0;const H=new WeakMap,k=ke=>({create:ye=>ce(ke,ye),dismiss:(ye,xe,Qe)=>ee(document,ye,xe,ke,Qe),getTop:()=>(0,C.Z)(function*(){return K(document,ke)})()}),j=k("ion-alert"),M=k("ion-action-sheet"),$=k("ion-loading"),me=k("ion-modal"),te=k("ion-popover"),A=ke=>{typeof document<"u"&&ne(document);const ye=T++;ke.overlayIndex=ye},J=ke=>(ke.hasAttribute("id")||(ke.id="ion-overlay-"+ ++q),ke.id),ce=(ke,ye)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ke).then(()=>{const xe=document.createElement(ke);return xe.classList.add("overlay-hidden"),Object.assign(xe,Object.assign(Object.assign({},ye),{hasController:!0})),Ne(document).appendChild(xe),new Promise(Qe=>(0,x.c)(xe,Qe))}):Promise.resolve(),ie='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Re=(ke,ye)=>{let xe=ke.querySelector(ie);const Qe=xe?.shadowRoot;Qe&&(xe=Qe.querySelector(ie)||xe),xe?(0,x.f)(xe):ye.focus()},R=(ke,ye)=>{const xe=Array.from(ke.querySelectorAll(ie));let Qe=xe.length>0?xe[xe.length-1]:null;const dt=Qe?.shadowRoot;dt&&(Qe=dt.querySelector(ie)||Qe),Qe?Qe.focus():ye.focus()},ne=ke=>{0===T&&(T=1,ke.addEventListener("focus",ye=>{((ke,ye)=>{const xe=K(ye,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Qe=ke.target;xe&&Qe&&!xe.classList.contains("ion-disable-focus-trap")&&(xe.shadowRoot?(()=>{if(xe.contains(Qe))xe.lastFocus=Qe;else{const Kt=xe.lastFocus;Re(xe,xe),Kt===ye.activeElement&&R(xe,xe),xe.lastFocus=ye.activeElement}})():(()=>{if(xe===Qe)xe.lastFocus=void 0;else{const Kt=(0,x.g)(xe);if(!Kt.contains(Qe))return;const Yt=Kt.querySelector(".ion-overlay-wrapper");if(!Yt)return;if(Yt.contains(Qe)||Qe===Kt.querySelector("ion-backdrop"))xe.lastFocus=Qe;else{const Xt=xe.lastFocus;Re(Yt,xe),Xt===ye.activeElement&&R(Yt,xe),xe.lastFocus=ye.activeElement}}})())})(ye,ke)},!0),ke.addEventListener("ionBackButton",ye=>{const xe=K(ke);xe?.backdropDismiss&&ye.detail.register(F.OVERLAY_BACK_BUTTON_PRIORITY,()=>xe.dismiss(void 0,it))}),ke.addEventListener("keydown",ye=>{if("Escape"===ye.key){const xe=K(ke);xe?.backdropDismiss&&xe.dismiss(void 0,it)}}))},ee=(ke,ye,xe,Qe,dt)=>{const Ht=K(ke,Qe,dt);return Ht?Ht.dismiss(ye,xe):Promise.reject("overlay does not exist")},D=(ke,ye)=>((ke,ye)=>(void 0===ye&&(ye="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ke.querySelectorAll(ye)).filter(xe=>xe.overlayIndex>0)))(ke,ye).filter(xe=>!(ke=>ke.classList.contains("overlay-hidden"))(xe)),K=(ke,ye,xe)=>{const Qe=D(ke,ye);return void 0===xe?Qe[Qe.length-1]:Qe.find(dt=>dt.id===xe)},ve=(ke=!1)=>{const xe=Ne(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");xe&&(ke?xe.setAttribute("aria-hidden","true"):xe.removeAttribute("aria-hidden"))},oe=function(){var ke=(0,C.Z)(function*(ye,xe,Qe,dt,Ht){var Kt,Yt;if(ye.presented)return;ve(!0),ye.presented=!0,ye.willPresent.emit(),null===(Kt=ye.willPresentShorthand)||void 0===Kt||Kt.emit();const Xt=(0,L.b)(ye),fn=ye.enterAnimation?ye.enterAnimation:L.c.get(xe,"ios"===Xt?Qe:dt);(yield pe(ye,fn,ye.el,Ht))&&(ye.didPresent.emit(),null===(Yt=ye.didPresentShorthand)||void 0===Yt||Yt.emit()),"ION-TOAST"!==ye.el.tagName&&Oe(ye.el),ye.keyboardClose&&(null===document.activeElement||!ye.el.contains(document.activeElement))&&ye.el.focus()});return function(xe,Qe,dt,Ht,Kt){return ke.apply(this,arguments)}}(),Oe=function(){var ke=(0,C.Z)(function*(ye){let xe=document.activeElement;if(!xe)return;const Qe=xe?.shadowRoot;Qe&&(xe=Qe.querySelector(ie)||xe),yield ye.onDidDismiss(),xe.focus()});return function(xe){return ke.apply(this,arguments)}}(),_e=function(){var ke=(0,C.Z)(function*(ye,xe,Qe,dt,Ht,Kt,Yt){var Xt,fn;if(!ye.presented)return!1;void 0!==E.d&&1===D(E.d).length&&ve(!1),ye.presented=!1;try{ye.el.style.setProperty("pointer-events","none"),ye.willDismiss.emit({data:xe,role:Qe}),null===(Xt=ye.willDismissShorthand)||void 0===Xt||Xt.emit({data:xe,role:Qe});const Zn=(0,L.b)(ye),sr=ye.leaveAnimation?ye.leaveAnimation:L.c.get(dt,"ios"===Zn?Ht:Kt);Qe!==He&&(yield pe(ye,sr,ye.el,Yt)),ye.didDismiss.emit({data:xe,role:Qe}),null===(fn=ye.didDismissShorthand)||void 0===fn||fn.emit({data:xe,role:Qe}),H.delete(ye),ye.el.classList.add("overlay-hidden"),ye.el.style.removeProperty("pointer-events"),void 0!==ye.el.lastFocus&&(ye.el.lastFocus=void 0)}catch(Zn){console.error(Zn)}return ye.el.remove(),!0});return function(xe,Qe,dt,Ht,Kt,Yt,Xt){return ke.apply(this,arguments)}}(),Ne=ke=>ke.querySelector("ion-app")||ke.body,pe=function(){var ke=(0,C.Z)(function*(ye,xe,Qe,dt){Qe.classList.remove("overlay-hidden");const Kt=xe(ye.el,dt);(!ye.animated||!L.c.getBoolean("animated",!0))&&Kt.duration(0),ye.keyboardClose&&Kt.beforeAddWrite(()=>{const Xt=Qe.ownerDocument.activeElement;Xt?.matches("input,ion-input, ion-textarea")&&Xt.blur()});const Yt=H.get(ye)||[];return H.set(ye,[...Yt,Kt]),yield Kt.play(),!0});return function(xe,Qe,dt,Ht){return ke.apply(this,arguments)}}(),Ie=(ke,ye)=>{let xe;const Qe=new Promise(dt=>xe=dt);return Ke(ke,ye,dt=>{xe(dt.detail)}),Qe},Ke=(ke,ye,xe)=>{const Qe=dt=>{(0,x.b)(ke,ye,Qe),xe(dt)};(0,x.a)(ke,ye,Qe)},yt=ke=>"cancel"===ke||ke===it,de=ke=>ke(),Ve=(ke,ye)=>{if("function"==typeof ke)return L.c.get("_zoneGate",de)(()=>{try{return ke(ye)}catch(Qe){throw Qe}})},it="backdrop",He="gesture",ct=39,bt=ke=>{let xe,ye=!1;const Qe=(0,G.C)(),dt=(Yt=!1)=>{if(xe&&!Yt)return{delegate:xe,inline:ye};const{el:Xt,hasController:fn,delegate:Zn}=ke;return ye=null!==Xt.parentNode&&!fn,xe=ye?Zn||Qe:Zn,{inline:ye,delegate:xe}};return{attachViewToDom:function(){var Yt=(0,C.Z)(function*(Xt){const{delegate:fn}=dt(!0);if(fn)return yield fn.attachViewToDom(ke.el,Xt);const{hasController:Zn}=ke;if(Zn&&void 0!==Xt)throw new Error("framework delegate is missing");return null});return function(fn){return Yt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Yt}=dt();Yt&&void 0!==ke.el&&Yt.removeViewFromDom(ke.el.parentElement,ke.el)}}},Ft=()=>{let ke;const ye=()=>{ke&&(ke(),ke=void 0)};return{addClickListener:(Qe,dt)=>{ye();const Ht=void 0!==dt?document.getElementById(dt):null;Ht?ke=((Yt,Xt)=>{const fn=()=>{Xt.present()};return Yt.addEventListener("click",fn),()=>{Yt.removeEventListener("click",fn)}})(Ht,Qe):(0,f.p)(`A trigger element with the ID "${dt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Qe)},removeClickListener:ye}}},2410:(ae,De,b)=>{"use strict";var E=b(1491)("ArrayBuffer.prototype.byteLength",!0),L=b(9850);ae.exports=function(F){return L(F)?E?E(F):F.byteLength:NaN}},1491:(ae,De,b)=>{"use strict";var C=b(3485),E=b(1773),L=E(C("String.prototype.indexOf"));ae.exports=function(F,x){var f=C(F,!!x);return"function"==typeof f&&L(F,".prototype.")>-1?E(f):f}},1773:(ae,De,b)=>{"use strict";var C=b(8956),E=b(3485),L=b(3931),G=E("%TypeError%"),F=E("%Function.prototype.apply%"),x=E("%Function.prototype.call%"),f=E("%Reflect.apply%",!0)||C.call(x,F),T=E("%Object.defineProperty%",!0),q=E("%Math.max%");if(T)try{T({},"a",{value:1})}catch{T=null}ae.exports=function(j){if("function"!=typeof j)throw new G("a function is required");var M=f(C,x,arguments);return L(M,1+q(0,j.length-(arguments.length-1)),!0)};var H=function(){return f(C,F,arguments)};T?T(ae.exports,"apply",{value:H}):ae.exports.apply=H},7303:ae=>{var De={utf8:{stringToBytes:function(b){return De.bin.stringToBytes(unescape(encodeURIComponent(b)))},bytesToString:function(b){return decodeURIComponent(escape(De.bin.bytesToString(b)))}},bin:{stringToBytes:function(b){for(var C=[],E=0;E<b.length;E++)C.push(255&b.charCodeAt(E));return C},bytesToString:function(b){for(var C=[],E=0;E<b.length;E++)C.push(String.fromCharCode(b[E]));return C.join("")}}};ae.exports=De},3754:ae=>{var De,b;De="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ae.exports=b={rotl:function(C,E){return C<<E|C>>>32-E},rotr:function(C,E){return C<<32-E|C>>>E},endian:function(C){if(C.constructor==Number)return 16711935&b.rotl(C,8)|4278255360&b.rotl(C,24);for(var E=0;E<C.length;E++)C[E]=b.endian(C[E]);return C},randomBytes:function(C){for(var E=[];C>0;C--)E.push(Math.floor(256*Math.random()));return E},bytesToWords:function(C){for(var E=[],L=0,G=0;L<C.length;L++,G+=8)E[G>>>5]|=C[L]<<24-G%32;return E},wordsToBytes:function(C){for(var E=[],L=0;L<32*C.length;L+=8)E.push(C[L>>>5]>>>24-L%32&255);return E},bytesToHex:function(C){for(var E=[],L=0;L<C.length;L++)E.push((C[L]>>>4).toString(16)),E.push((15&C[L]).toString(16));return E.join("")},hexToBytes:function(C){for(var E=[],L=0;L<C.length;L+=2)E.push(parseInt(C.substr(L,2),16));return E},bytesToBase64:function(C){for(var E=[],L=0;L<C.length;L+=3)for(var G=C[L]<<16|C[L+1]<<8|C[L+2],F=0;F<4;F++)E.push(8*L+6*F<=8*C.length?De.charAt(G>>>6*(3-F)&63):"=");return E.join("")},base64ToBytes:function(C){C=C.replace(/[^A-Z0-9+\/]/gi,"");for(var E=[],L=0,G=0;L<C.length;G=++L%4)0!=G&&E.push((De.indexOf(C.charAt(L-1))&Math.pow(2,-2*G+8)-1)<<2*G|De.indexOf(C.charAt(L))>>>6-2*G);return E}}},307:(ae,De,b)=>{"use strict";var C=b(5747),E=b(1491),L=b(4300),G=b(3485),F=b(1324),x=b(4355),f=b(500),T=b(1568),q=b(9604),H=b(9850),k=b(6994),j=b(9649),M=b(5327),$=b(5692),me=b(8460),Ee=b(9148),te=b(927),Z=b(2410),A=E("SharedArrayBuffer.prototype.byteLength",!0),J=E("Date.prototype.getTime"),ce=Object.getPrototypeOf,ie=E("Object.prototype.toString"),Re=G("%Set%",!0),Be=E("Map.prototype.has",!0),R=E("Map.prototype.get",!0),P=E("Map.prototype.size",!0),ne=E("Set.prototype.add",!0),ee=E("Set.prototype.delete",!0),I=E("Set.prototype.has",!0),D=E("Set.prototype.size",!0);function K(de,Ve,it,He){for(var bt,ct=F(de);(bt=ct.next())&&!bt.done;)if(Ne(Ve,bt.value,it,He))return ee(de,bt.value),!0;return!1}function ve(de){return typeof de>"u"?null:"object"!=typeof de?"symbol"!=typeof de&&("string"!=typeof de&&"number"!=typeof de||+de==+de):void 0}function oe(de,Ve,it,He,ct,bt){var Ft=ve(it);if(null!=Ft)return Ft;var ke=R(Ve,Ft),ye=C({},ct,{strict:!1});return!(typeof ke>"u"&&!Be(Ve,Ft)||!Ne(He,ke,ye,bt))&&!Be(de,Ft)&&Ne(He,ke,ye,bt)}function Oe(de,Ve,it){var He=ve(it);return He??(I(Ve,He)&&!I(de,He))}function _e(de,Ve,it,He,ct,bt){for(var ke,ye,Ft=F(de);(ke=Ft.next())&&!ke.done;)if(Ne(it,ye=ke.value,ct,bt)&&Ne(He,R(Ve,ye),ct,bt))return ee(de,ye),!0;return!1}function Ne(de,Ve,it,He){var ct=it||{};if(ct.strict?f(de,Ve):de===Ve)return!0;if(me(de)!==me(Ve))return!1;if(!de||!Ve||"object"!=typeof de&&"object"!=typeof Ve)return ct.strict?f(de,Ve):de==Ve;var xe,ke=He.has(de),ye=He.has(Ve);if(ke&&ye){if(He.get(de)===He.get(Ve))return!0}else xe={};return ke||He.set(de,xe),ye||He.set(Ve,xe),function yt(de,Ve,it,He){var ct,bt;if(typeof de!=typeof Ve||null==de||null==Ve||ie(de)!==ie(Ve)||T(de)!==T(Ve))return!1;if(q(de)!==q(Ve))return!1;var ye=de instanceof Error,xe=Ve instanceof Error;if(ye!==xe||(ye||xe)&&(de.name!==Ve.name||de.message!==Ve.message))return!1;var Qe=j(de),dt=j(Ve);if(Qe!==dt||(Qe||dt)&&(de.source!==Ve.source||L(de)!==L(Ve)))return!1;var Ht=k(de),Kt=k(Ve);if(Ht!==Kt||(Ht||Kt)&&J(de)!==J(Ve)||it.strict&&ce&&ce(de)!==ce(Ve))return!1;var Yt=te(de),Xt=te(Ve);if(Yt!==Xt)return!1;if(Yt||Xt){if(de.length!==Ve.length)return!1;for(ct=0;ct<de.length;ct++)if(de[ct]!==Ve[ct])return!1;return!0}var fn=pe(de),Zn=pe(Ve);if(fn!==Zn)return!1;if(fn||Zn){if(de.length!==Ve.length)return!1;for(ct=0;ct<de.length;ct++)if(de[ct]!==Ve[ct])return!1;return!0}var sr=H(de),ai=H(Ve);if(sr!==ai)return!1;if(sr||ai)return Z(de)===Z(Ve)&&"function"==typeof Uint8Array&&Ne(new Uint8Array(de),new Uint8Array(Ve),it,He);var xr=M(de),oo=M(Ve);if(xr!==oo)return!1;if(xr||oo)return A(de)===A(Ve)&&"function"==typeof Uint8Array&&Ne(new Uint8Array(de),new Uint8Array(Ve),it,He);if(typeof de!=typeof Ve)return!1;var Qn=$(de),mr=$(Ve);if(Qn.length!==mr.length)return!1;for(Qn.sort(),mr.sort(),ct=Qn.length-1;ct>=0;ct--)if(Qn[ct]!=mr[ct])return!1;for(ct=Qn.length-1;ct>=0;ct--)if(!Ne(de[bt=Qn[ct]],Ve[bt],it,He))return!1;var Do=Ee(de),io=Ee(Ve);return Do===io&&("Set"===Do||"Set"===io?function Ie(de,Ve,it,He){if(D(de)!==D(Ve))return!1;for(var Ft,ke,ye,ct=F(de),bt=F(Ve);(Ft=ct.next())&&!Ft.done;)if(Ft.value&&"object"==typeof Ft.value)ye||(ye=new Re),ne(ye,Ft.value);else if(!I(Ve,Ft.value)){if(it.strict||!Oe(de,Ve,Ft.value))return!1;ye||(ye=new Re),ne(ye,Ft.value)}if(ye){for(;(ke=bt.next())&&!ke.done;)if(ke.value&&"object"==typeof ke.value){if(!K(ye,ke.value,it.strict,He))return!1}else if(!it.strict&&!I(de,ke.value)&&!K(ye,ke.value,it.strict,He))return!1;return 0===D(ye)}return!0}(de,Ve,it,He):"Map"!==Do||function Ke(de,Ve,it,He){if(P(de)!==P(Ve))return!1;for(var Ft,ke,ye,xe,Qe,dt,ct=F(de),bt=F(Ve);(Ft=ct.next())&&!Ft.done;)if(Qe=Ft.value[1],(xe=Ft.value[0])&&"object"==typeof xe)ye||(ye=new Re),ne(ye,xe);else if(typeof(dt=R(Ve,xe))>"u"&&!Be(Ve,xe)||!Ne(Qe,dt,it,He)){if(it.strict||!oe(de,Ve,xe,Qe,it,He))return!1;ye||(ye=new Re),ne(ye,xe)}if(ye){for(;(ke=bt.next())&&!ke.done;)if(dt=ke.value[1],(xe=ke.value[0])&&"object"==typeof xe){if(!_e(ye,de,xe,dt,it,He))return!1}else if(!(it.strict||de.has(xe)&&Ne(R(de,xe),dt,it,He)||_e(ye,de,xe,dt,C({},it,{strict:!1}),He)))return!1;return 0===D(ye)}return!0}(de,Ve,it,He))}(de,Ve,ct,He)}function pe(de){return!(!de||"object"!=typeof de||"number"!=typeof de.length||"function"!=typeof de.copy||"function"!=typeof de.slice||de.length>0&&"number"!=typeof de[0]||!(de.constructor&&de.constructor.isBuffer&&de.constructor.isBuffer(de)))}ae.exports=function(Ve,it,He){return Ne(Ve,it,He,x())}},4467:(ae,De,b)=>{"use strict";var C=b(7811)(),E=b(3485),L=C&&E("%Object.defineProperty%",!0);if(L)try{L({},"a",{value:1})}catch{L=!1}var G=E("%SyntaxError%"),F=E("%TypeError%"),x=b(6078);ae.exports=function(T,q,H){if(!T||"object"!=typeof T&&"function"!=typeof T)throw new F("`obj` must be an object or a function`");if("string"!=typeof q&&"symbol"!=typeof q)throw new F("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new F("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new F("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new F("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new F("`loose`, if provided, must be a boolean");var k=arguments.length>3?arguments[3]:null,j=arguments.length>4?arguments[4]:null,M=arguments.length>5?arguments[5]:null,$=arguments.length>6&&arguments[6],me=!!x&&x(T,q);if(L)L(T,q,{configurable:null===M&&me?me.configurable:!M,enumerable:null===k&&me?me.enumerable:!k,value:H,writable:null===j&&me?me.writable:!j});else{if(!$&&(k||j||M))throw new G("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");T[q]=H}}},9567:(ae,De,b)=>{"use strict";var C=b(5692),E="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),L=Object.prototype.toString,G=Array.prototype.concat,F=b(4467),f=b(7811)(),T=function(H,k,j,M){if(k in H)if(!0===M){if(H[k]===j)return}else if(!function(H){return"function"==typeof H&&"[object Function]"===L.call(H)}(M)||!M())return;f?F(H,k,j,!0):F(H,k,j)},q=function(H,k){var j=arguments.length>2?arguments[2]:{},M=C(k);E&&(M=G.call(M,Object.getOwnPropertySymbols(k)));for(var $=0;$<M.length;$+=1)T(H,M[$],k[M[$]],j[M[$]])};q.supportsDescriptors=!!f,ae.exports=q},1633:function(ae,De){!function(b){"use strict";var j,L=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,G=536870912,F=2*G,f=new WeakMap,q=function(j,M){return function($){var me=M.get($),Ee=void 0===me?$.size:me<F?me+1:0;if(!$.has(Ee))return j($,Ee);if($.size<G){for(;$.has(Ee);)Ee=Math.floor(Math.random()*F);return j($,Ee)}if($.size>L)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;$.has(Ee);)Ee=Math.floor(Math.random()*L);return j($,Ee)}}((j=f,function(M,$){return j.set(M,$),$}),f),H=function(j){return function(M){var $=j(M);return M.add($),$}}(q);b.addUniqueNumber=H,b.generateUniqueNumber=q}(De)},2418:(ae,De,b)=>{"use strict";var C=b(5487),E=Object.prototype.toString,L=Object.prototype.hasOwnProperty;ae.exports=function(q,H,k){if(!C(H))throw new TypeError("iterator must be a function");var j;arguments.length>=3&&(j=k),"[object Array]"===E.call(q)?function(q,H,k){for(var j=0,M=q.length;j<M;j++)L.call(q,j)&&(null==k?H(q[j],j,q):H.call(k,q[j],j,q))}(q,H,j):"string"==typeof q?function(q,H,k){for(var j=0,M=q.length;j<M;j++)null==k?H(q.charAt(j),j,q):H.call(k,q.charAt(j),j,q)}(q,H,j):function(q,H,k){for(var j in q)L.call(q,j)&&(null==k?H(q[j],j,q):H.call(k,q[j],j,q))}(q,H,j)}},8026:ae=>{"use strict";var b=Object.prototype.toString,C=Math.max,L=function(f,T){for(var q=[],H=0;H<f.length;H+=1)q[H]=f[H];for(var k=0;k<T.length;k+=1)q[k+f.length]=T[k];return q};ae.exports=function(f){var T=this;if("function"!=typeof T||"[object Function]"!==b.apply(T))throw new TypeError("Function.prototype.bind called on incompatible "+T);for(var H,q=function(f,T){for(var q=[],H=1,k=0;H<f.length;H+=1,k+=1)q[k]=f[H];return q}(arguments),j=C(0,T.length-q.length),M=[],$=0;$<j;$++)M[$]="$"+$;if(H=Function("binder","return function ("+function(x,f){for(var T="",q=0;q<x.length;q+=1)T+=x[q],q+1<x.length&&(T+=",");return T}(M)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof H){var Ee=T.apply(this,L(q,arguments));return Object(Ee)===Ee?Ee:this}return T.apply(f,L(q,arguments))}),T.prototype){var me=function(){};me.prototype=T.prototype,H.prototype=new me,me.prototype=null}return H}},8956:(ae,De,b)=>{"use strict";var C=b(8026);ae.exports=Function.prototype.bind||C},7688:ae=>{"use strict";var De=function(){return"string"==typeof function(){}.name},b=Object.getOwnPropertyDescriptor;if(b)try{b([],"length")}catch{b=null}De.functionsHaveConfigurableNames=function(){if(!De()||!b)return!1;var L=b(function(){},"name");return!!L&&!!L.configurable};var C=Function.prototype.bind;De.boundFunctionsHaveNames=function(){return De()&&"function"==typeof C&&""!==function(){}.bind().name},ae.exports=De},3485:(ae,De,b)=>{"use strict";var C,E=SyntaxError,L=Function,G=TypeError,F=function(I){try{return L('"use strict"; return ('+I+").constructor;")()}catch{}},x=Object.getOwnPropertyDescriptor;if(x)try{x({},"")}catch{x=null}var f=function(){throw new G},T=x?function(){try{return f}catch{try{return x(arguments,"callee").get}catch{return f}}}():f,q=b(2337)(),H=b(1441)(),k=Object.getPrototypeOf||(H?function(I){return I.__proto__}:null),j={},M=typeof Uint8Array>"u"||!k?C:k(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?C:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?C:ArrayBuffer,"%ArrayIteratorPrototype%":q&&k?k([][Symbol.iterator]()):C,"%AsyncFromSyncIteratorPrototype%":C,"%AsyncFunction%":j,"%AsyncGenerator%":j,"%AsyncGeneratorFunction%":j,"%AsyncIteratorPrototype%":j,"%Atomics%":typeof Atomics>"u"?C:Atomics,"%BigInt%":typeof BigInt>"u"?C:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?C:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?C:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?C:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?C:Float32Array,"%Float64Array%":typeof Float64Array>"u"?C:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?C:FinalizationRegistry,"%Function%":L,"%GeneratorFunction%":j,"%Int8Array%":typeof Int8Array>"u"?C:Int8Array,"%Int16Array%":typeof Int16Array>"u"?C:Int16Array,"%Int32Array%":typeof Int32Array>"u"?C:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":q&&k?k(k([][Symbol.iterator]())):C,"%JSON%":"object"==typeof JSON?JSON:C,"%Map%":typeof Map>"u"?C:Map,"%MapIteratorPrototype%":typeof Map>"u"||!q||!k?C:k((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?C:Promise,"%Proxy%":typeof Proxy>"u"?C:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?C:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?C:Set,"%SetIteratorPrototype%":typeof Set>"u"||!q||!k?C:k((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?C:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":q&&k?k(""[Symbol.iterator]()):C,"%Symbol%":q?Symbol:C,"%SyntaxError%":E,"%ThrowTypeError%":T,"%TypedArray%":M,"%TypeError%":G,"%Uint8Array%":typeof Uint8Array>"u"?C:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?C:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?C:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?C:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?C:WeakMap,"%WeakRef%":typeof WeakRef>"u"?C:WeakRef,"%WeakSet%":typeof WeakSet>"u"?C:WeakSet};if(k)try{null.error}catch(I){var me=k(k(I));$["%Error.prototype%"]=me}var Ee=function I(D){var K;if("%AsyncFunction%"===D)K=F("async function () {}");else if("%GeneratorFunction%"===D)K=F("function* () {}");else if("%AsyncGeneratorFunction%"===D)K=F("async function* () {}");else if("%AsyncGenerator%"===D){var ve=I("%AsyncGeneratorFunction%");ve&&(K=ve.prototype)}else if("%AsyncIteratorPrototype%"===D){var oe=I("%AsyncGenerator%");oe&&k&&(K=k(oe.prototype))}return $[D]=K,K},te={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Z=b(8956),A=b(7528),J=Z.call(Function.call,Array.prototype.concat),ce=Z.call(Function.apply,Array.prototype.splice),ie=Z.call(Function.call,String.prototype.replace),Re=Z.call(Function.call,String.prototype.slice),Be=Z.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,ee=function(D,K){var oe,ve=D;if(A(te,ve)&&(ve="%"+(oe=te[ve])[0]+"%"),A($,ve)){var Oe=$[ve];if(Oe===j&&(Oe=Ee(ve)),typeof Oe>"u"&&!K)throw new G("intrinsic "+D+" exists, but is not available. Please file an issue!");return{alias:oe,name:ve,value:Oe}}throw new E("intrinsic "+D+" does not exist!")};ae.exports=function(D,K){if("string"!=typeof D||0===D.length)throw new G("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof K)throw new G('"allowMissing" argument must be a boolean');if(null===Be(/^%?[^%]*%?$/,D))throw new E("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ve=function(D){var K=Re(D,0,1),ve=Re(D,-1);if("%"===K&&"%"!==ve)throw new E("invalid intrinsic syntax, expected closing `%`");if("%"===ve&&"%"!==K)throw new E("invalid intrinsic syntax, expected opening `%`");var oe=[];return ie(D,R,function(Oe,_e,Ne,pe){oe[oe.length]=Ne?ie(pe,P,"$1"):_e||Oe}),oe}(D),oe=ve.length>0?ve[0]:"",Oe=ee("%"+oe+"%",K),_e=Oe.name,Ne=Oe.value,pe=!1,Ie=Oe.alias;Ie&&(oe=Ie[0],ce(ve,J([0,1],Ie)));for(var Ke=1,yt=!0;Ke<ve.length;Ke+=1){var de=ve[Ke],Ve=Re(de,0,1),it=Re(de,-1);if(('"'===Ve||"'"===Ve||"`"===Ve||'"'===it||"'"===it||"`"===it)&&Ve!==it)throw new E("property names with quotes must have matching quotes");if(("constructor"===de||!yt)&&(pe=!0),A($,_e="%"+(oe+="."+de)+"%"))Ne=$[_e];else if(null!=Ne){if(!(de in Ne)){if(!K)throw new G("base intrinsic for "+D+" exists, but the property is not available.");return}if(x&&Ke+1>=ve.length){var He=x(Ne,de);Ne=(yt=!!He)&&"get"in He&&!("originalValue"in He.get)?He.get:Ne[de]}else yt=A(Ne,de),Ne=Ne[de];yt&&!pe&&($[_e]=Ne)}}return Ne}},6078:(ae,De,b)=>{"use strict";var E=b(3485)("%Object.getOwnPropertyDescriptor%",!0);if(E)try{E([],"length")}catch{E=null}ae.exports=E},5112:ae=>{"use strict";var De=typeof BigInt<"u"&&BigInt;ae.exports=function(){return"function"==typeof De&&"function"==typeof BigInt&&"bigint"==typeof De(42)&&"bigint"==typeof BigInt(42)}},7811:(ae,De,b)=>{"use strict";var E=b(3485)("%Object.defineProperty%",!0),L=function(){if(E)try{return E({},"a",{value:1}),!0}catch{return!1}return!1};L.hasArrayLengthDefineBug=function(){if(!L())return null;try{return 1!==E([],"length",{value:1}).length}catch{return!0}},ae.exports=L},1441:ae=>{"use strict";var De={foo:{}},b=Object;ae.exports=function(){return{__proto__:De}.foo===De.foo&&!({__proto__:null}instanceof b)}},2337:(ae,De,b)=>{"use strict";var C=typeof Symbol<"u"&&Symbol,E=b(2759);ae.exports=function(){return"function"==typeof C&&"function"==typeof Symbol&&"symbol"==typeof C("foo")&&"symbol"==typeof Symbol("bar")&&E()}},2759:ae=>{"use strict";ae.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var b={},C=Symbol("test"),E=Object(C);if("string"==typeof C||"[object Symbol]"!==Object.prototype.toString.call(C)||"[object Symbol]"!==Object.prototype.toString.call(E))return!1;for(C in b[C]=42,b)return!1;if("function"==typeof Object.keys&&0!==Object.keys(b).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(b).length)return!1;var G=Object.getOwnPropertySymbols(b);if(1!==G.length||G[0]!==C||!Object.prototype.propertyIsEnumerable.call(b,C))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var F=Object.getOwnPropertyDescriptor(b,C);if(42!==F.value||!0!==F.enumerable)return!1}return!0}},6518:(ae,De,b)=>{"use strict";var C=b(2759);ae.exports=function(){return C()&&!!Symbol.toStringTag}},7528:(ae,De,b)=>{"use strict";var C=Function.prototype.call,E=Object.prototype.hasOwnProperty,L=b(8956);ae.exports=L.call(C,E)},2605:(ae,De,b)=>{"use strict";var C=b(3485),E=b(7528),L=b(4355)(),G=C("%TypeError%"),F={assert:function(x,f){if(!x||"object"!=typeof x&&"function"!=typeof x)throw new G("`O` is not an object");if("string"!=typeof f)throw new G("`slot` must be a string");if(L.assert(x),!F.has(x,f))throw new G("`"+f+"` is not present on `O`")},get:function(x,f){if(!x||"object"!=typeof x&&"function"!=typeof x)throw new G("`O` is not an object");if("string"!=typeof f)throw new G("`slot` must be a string");var T=L.get(x);return T&&T["$"+f]},has:function(x,f){if(!x||"object"!=typeof x&&"function"!=typeof x)throw new G("`O` is not an object");if("string"!=typeof f)throw new G("`slot` must be a string");var T=L.get(x);return!!T&&E(T,"$"+f)},set:function(x,f,T){if(!x||"object"!=typeof x&&"function"!=typeof x)throw new G("`O` is not an object");if("string"!=typeof f)throw new G("`slot` must be a string");var q=L.get(x);q||L.set(x,q={}),q["$"+f]=T}};Object.freeze&&Object.freeze(F),ae.exports=F},1568:(ae,De,b)=>{"use strict";var C=b(6518)(),L=b(1491)("Object.prototype.toString"),G=function(T){return!(C&&T&&"object"==typeof T&&Symbol.toStringTag in T)&&"[object Arguments]"===L(T)},F=function(T){return!!G(T)||null!==T&&"object"==typeof T&&"number"==typeof T.length&&T.length>=0&&"[object Array]"!==L(T)&&"[object Function]"===L(T.callee)},x=function(){return G(arguments)}();G.isLegacyArguments=F,ae.exports=x?G:F},9850:(ae,De,b)=>{"use strict";var C=b(1773),E=b(1491),L=b(3485),G=b(3631),F=L("ArrayBuffer",!0),x=L("Float32Array",!0),f=E("ArrayBuffer.prototype.byteLength",!0),T=F&&!f&&(new F).slice,q=T&&C(T);ae.exports=f||q?function(k){if(!k||"object"!=typeof k)return!1;try{return f?f(k):q(k,0),!0}catch{return!1}}:x?function(k){try{return new x(k).buffer===k&&!G(k)}catch(j){return"object"==typeof k&&"RangeError"===j.name}}:function(k){return!1}},7050:(ae,De,b)=>{"use strict";if(b(5112)()){var E=BigInt.prototype.valueOf;ae.exports=function(F){return!(null===F||typeof F>"u"||"boolean"==typeof F||"string"==typeof F||"number"==typeof F||"symbol"==typeof F||"function"==typeof F)&&("bigint"==typeof F||function(F){try{return E.call(F),!0}catch{}return!1}(F))}}else ae.exports=function(F){return!1}},2856:(ae,De,b)=>{"use strict";var C=b(1491),E=C("Boolean.prototype.toString"),L=C("Object.prototype.toString"),x=b(6518)();ae.exports=function(T){return"boolean"==typeof T||null!==T&&"object"==typeof T&&(x&&Symbol.toStringTag in T?function(T){try{return E(T),!0}catch{return!1}}(T):"[object Boolean]"===L(T))}},7617:ae=>{function De(C){return!!C.constructor&&"function"==typeof C.constructor.isBuffer&&C.constructor.isBuffer(C)}ae.exports=function(C){return null!=C&&(De(C)||function b(C){return"function"==typeof C.readFloatLE&&"function"==typeof C.slice&&De(C.slice(0,0))}(C)||!!C._isBuffer)}},5487:ae=>{"use strict";var C,E,De=Function.prototype.toString,b="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof b&&"function"==typeof Object.defineProperty)try{C=Object.defineProperty({},"length",{get:function(){throw E}}),E={},b(function(){throw 42},null,C)}catch(te){te!==E&&(b=null)}else b=null;var L=/^\s*class\b/,G=function(Z){try{var A=De.call(Z);return L.test(A)}catch{return!1}},F=function(Z){try{return!G(Z)&&(De.call(Z),!0)}catch{return!1}},x=Object.prototype.toString,M="function"==typeof Symbol&&!!Symbol.toStringTag,$=!(0 in[,]),me=function(){return!1};if("object"==typeof document){var Ee=document.all;x.call(Ee)===x.call(document.all)&&(me=function(Z){if(($||!Z)&&(typeof Z>"u"||"object"==typeof Z))try{var A=x.call(Z);return("[object HTMLAllCollection]"===A||"[object HTML document.all class]"===A||"[object HTMLCollection]"===A||"[object Object]"===A)&&null==Z("")}catch{}return!1})}ae.exports=b?function(Z){if(me(Z))return!0;if(!Z||"function"!=typeof Z&&"object"!=typeof Z)return!1;try{b(Z,null,C)}catch(A){if(A!==E)return!1}return!G(Z)&&F(Z)}:function(Z){if(me(Z))return!0;if(!Z||"function"!=typeof Z&&"object"!=typeof Z)return!1;if(M)return F(Z);if(G(Z))return!1;var A=x.call(Z);return!("[object Function]"!==A&&"[object GeneratorFunction]"!==A&&!/^\[object HTML/.test(A))&&F(Z)}},6994:(ae,De,b)=>{"use strict";var C=Date.prototype.getDay,L=Object.prototype.toString,F=b(6518)();ae.exports=function(f){return"object"==typeof f&&null!==f&&(F?function(f){try{return C.call(f),!0}catch{return!1}}(f):"[object Date]"===L.call(f))}},6128:ae=>{"use strict";var C,De="function"==typeof Map&&Map.prototype?Map:null,b="function"==typeof Set&&Set.prototype?Set:null;De||(C=function(F){return!1});var E=De?Map.prototype.has:null,L=b?Set.prototype.has:null;!C&&!E&&(C=function(F){return!1}),ae.exports=C||function(F){if(!F||"object"!=typeof F)return!1;try{if(E.call(F),L)try{L.call(F)}catch{return!0}return F instanceof De}catch{}return!1}},9065:(ae,De,b)=>{"use strict";var C=Number.prototype.toString,L=Object.prototype.toString,F=b(6518)();ae.exports=function(f){return"number"==typeof f||"object"==typeof f&&(F?function(f){try{return C.call(f),!0}catch{return!1}}(f):"[object Number]"===L.call(f))}},9649:(ae,De,b)=>{"use strict";var L,G,F,x,C=b(1491),E=b(6518)();if(E){L=C("Object.prototype.hasOwnProperty"),G=C("RegExp.prototype.exec"),F={};var f=function(){throw F};x={toString:f,valueOf:f},"symbol"==typeof Symbol.toPrimitive&&(x[Symbol.toPrimitive]=f)}var T=C("Object.prototype.toString"),q=Object.getOwnPropertyDescriptor;ae.exports=E?function(j){if(!j||"object"!=typeof j)return!1;var M=q(j,"lastIndex");if(!M||!L(M,"value"))return!1;try{G(j,x)}catch(me){return me===F}}:function(j){return!(!j||"object"!=typeof j&&"function"!=typeof j)&&"[object RegExp]"===T(j)}},5918:ae=>{"use strict";var C,De="function"==typeof Map&&Map.prototype?Map:null,b="function"==typeof Set&&Set.prototype?Set:null;b||(C=function(F){return!1});var E=De?Map.prototype.has:null,L=b?Set.prototype.has:null;!C&&!L&&(C=function(F){return!1}),ae.exports=C||function(F){if(!F||"object"!=typeof F)return!1;try{if(L.call(F),E)try{E.call(F)}catch{return!0}return F instanceof b}catch{}return!1}},5327:(ae,De,b)=>{"use strict";var E=b(1491)("SharedArrayBuffer.prototype.byteLength",!0);ae.exports=E?function(G){if(!G||"object"!=typeof G)return!1;try{return E(G),!0}catch{return!1}}:function(G){return!1}},2706:(ae,De,b)=>{"use strict";var C=String.prototype.valueOf,L=Object.prototype.toString,F=b(6518)();ae.exports=function(f){return"string"==typeof f||"object"==typeof f&&(F?function(f){try{return C.call(f),!0}catch{return!1}}(f):"[object String]"===L.call(f))}},2630:(ae,De,b)=>{"use strict";var C=Object.prototype.toString;if(b(2337)()){var L=Symbol.prototype.toString,G=/^Symbol\(.*\)$/;ae.exports=function(f){if("symbol"==typeof f)return!0;if("[object Symbol]"!==C.call(f))return!1;try{return function(f){return"symbol"==typeof f.valueOf()&&G.test(L.call(f))}(f)}catch{return!1}}}else ae.exports=function(f){return!1}},3631:(ae,De,b)=>{"use strict";var C=b(927);ae.exports=function(L){return!!C(L)}},1545:ae=>{"use strict";var C,De="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,b="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;De||(C=function(F){return!1});var E=De?De.prototype.has:null,L=b?b.prototype.has:null;!C&&!E&&(C=function(F){return!1}),ae.exports=C||function(F){if(!F||"object"!=typeof F)return!1;try{if(E.call(F,E),L)try{L.call(F,L)}catch{return!0}return F instanceof De}catch{}return!1}},9043:(ae,De,b)=>{"use strict";var C=b(3485),E=b(1491),L=C("%WeakSet%",!0),G=E("WeakSet.prototype.has",!0);if(G){var F=E("WeakMap.prototype.has",!0);ae.exports=function(f){if(!f||"object"!=typeof f)return!1;try{if(G(f,G),F)try{F(f,F)}catch{return!0}return f instanceof L}catch{}return!1}}else ae.exports=function(f){return!1}},9604:ae=>{var De={}.toString;ae.exports=Array.isArray||function(b){return"[object Array]"==De.call(b)}},3219:(ae,De,b)=>{var C,E,L,G,F;C=b(3754),E=b(7303).utf8,L=b(7617),G=b(7303).bin,(F=function(x,f){x.constructor==String?x=f&&"binary"===f.encoding?G.stringToBytes(x):E.stringToBytes(x):L(x)?x=Array.prototype.slice.call(x,0):!Array.isArray(x)&&x.constructor!==Uint8Array&&(x=x.toString());for(var T=C.bytesToWords(x),q=8*x.length,H=1732584193,k=-271733879,j=-1732584194,M=271733878,$=0;$<T.length;$++)T[$]=16711935&(T[$]<<8|T[$]>>>24)|4278255360&(T[$]<<24|T[$]>>>8);T[q>>>5]|=128<<q%32,T[14+(q+64>>>9<<4)]=q;var me=F._ff,Ee=F._gg,te=F._hh,Z=F._ii;for($=0;$<T.length;$+=16){var A=H,J=k,ce=j,ie=M;H=me(H,k,j,M,T[$+0],7,-680876936),M=me(M,H,k,j,T[$+1],12,-389564586),j=me(j,M,H,k,T[$+2],17,606105819),k=me(k,j,M,H,T[$+3],22,-1044525330),H=me(H,k,j,M,T[$+4],7,-176418897),M=me(M,H,k,j,T[$+5],12,1200080426),j=me(j,M,H,k,T[$+6],17,-1473231341),k=me(k,j,M,H,T[$+7],22,-45705983),H=me(H,k,j,M,T[$+8],7,1770035416),M=me(M,H,k,j,T[$+9],12,-1958414417),j=me(j,M,H,k,T[$+10],17,-42063),k=me(k,j,M,H,T[$+11],22,-1990404162),H=me(H,k,j,M,T[$+12],7,1804603682),M=me(M,H,k,j,T[$+13],12,-40341101),j=me(j,M,H,k,T[$+14],17,-1502002290),H=Ee(H,k=me(k,j,M,H,T[$+15],22,1236535329),j,M,T[$+1],5,-165796510),M=Ee(M,H,k,j,T[$+6],9,-1069501632),j=Ee(j,M,H,k,T[$+11],14,643717713),k=Ee(k,j,M,H,T[$+0],20,-373897302),H=Ee(H,k,j,M,T[$+5],5,-701558691),M=Ee(M,H,k,j,T[$+10],9,38016083),j=Ee(j,M,H,k,T[$+15],14,-660478335),k=Ee(k,j,M,H,T[$+4],20,-405537848),H=Ee(H,k,j,M,T[$+9],5,568446438),M=Ee(M,H,k,j,T[$+14],9,-1019803690),j=Ee(j,M,H,k,T[$+3],14,-187363961),k=Ee(k,j,M,H,T[$+8],20,1163531501),H=Ee(H,k,j,M,T[$+13],5,-1444681467),M=Ee(M,H,k,j,T[$+2],9,-51403784),j=Ee(j,M,H,k,T[$+7],14,1735328473),H=te(H,k=Ee(k,j,M,H,T[$+12],20,-1926607734),j,M,T[$+5],4,-378558),M=te(M,H,k,j,T[$+8],11,-2022574463),j=te(j,M,H,k,T[$+11],16,1839030562),k=te(k,j,M,H,T[$+14],23,-35309556),H=te(H,k,j,M,T[$+1],4,-1530992060),M=te(M,H,k,j,T[$+4],11,1272893353),j=te(j,M,H,k,T[$+7],16,-155497632),k=te(k,j,M,H,T[$+10],23,-1094730640),H=te(H,k,j,M,T[$+13],4,681279174),M=te(M,H,k,j,T[$+0],11,-358537222),j=te(j,M,H,k,T[$+3],16,-722521979),k=te(k,j,M,H,T[$+6],23,76029189),H=te(H,k,j,M,T[$+9],4,-640364487),M=te(M,H,k,j,T[$+12],11,-421815835),j=te(j,M,H,k,T[$+15],16,530742520),H=Z(H,k=te(k,j,M,H,T[$+2],23,-995338651),j,M,T[$+0],6,-198630844),M=Z(M,H,k,j,T[$+7],10,1126891415),j=Z(j,M,H,k,T[$+14],15,-1416354905),k=Z(k,j,M,H,T[$+5],21,-57434055),H=Z(H,k,j,M,T[$+12],6,1700485571),M=Z(M,H,k,j,T[$+3],10,-1894986606),j=Z(j,M,H,k,T[$+10],15,-1051523),k=Z(k,j,M,H,T[$+1],21,-2054922799),H=Z(H,k,j,M,T[$+8],6,1873313359),M=Z(M,H,k,j,T[$+15],10,-30611744),j=Z(j,M,H,k,T[$+6],15,-1560198380),k=Z(k,j,M,H,T[$+13],21,1309151649),H=Z(H,k,j,M,T[$+4],6,-145523070),M=Z(M,H,k,j,T[$+11],10,-1120210379),j=Z(j,M,H,k,T[$+2],15,718787259),k=Z(k,j,M,H,T[$+9],21,-343485551),H=H+A>>>0,k=k+J>>>0,j=j+ce>>>0,M=M+ie>>>0}return C.endian([H,k,j,M])})._ff=function(x,f,T,q,H,k,j){var M=x+(f&T|~f&q)+(H>>>0)+j;return(M<<k|M>>>32-k)+f},F._gg=function(x,f,T,q,H,k,j){var M=x+(f&q|T&~q)+(H>>>0)+j;return(M<<k|M>>>32-k)+f},F._hh=function(x,f,T,q,H,k,j){var M=x+(f^T^q)+(H>>>0)+j;return(M<<k|M>>>32-k)+f},F._ii=function(x,f,T,q,H,k,j){var M=x+(T^(f|~q))+(H>>>0)+j;return(M<<k|M>>>32-k)+f},F._blocksize=16,F._digestsize=16,ae.exports=function(x,f){if(null==x)throw new Error("Illegal argument "+x);var T=C.wordsToBytes(F(x,f));return f&&f.asBytes?T:f&&f.asString?G.bytesToString(T):C.bytesToHex(T)}},5580:(ae,De)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var b=[];b[0]=function(){return function(){}},b[1]=function(G,F){return typeof F>"u"?G:function(f){G(f,F)}};var L=function(){function G(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return G.prototype.addHandler=function(F,x){return this.isHandlerAttached(F,x)||(this._handlers.push(F),this._contexts.push(x),this._createDispatcher(),this._updateHasHandlers()),this},G.prototype.removeHandler=function(F,x){var f=this._getHandlerIndex(F,x);return typeof f<"u"&&(this._handlers.splice(f,1),this._contexts.splice(f,1),this._createDispatcher(),this._updateHasHandlers()),this},G.prototype.isHandlerAttached=function(F,x){return typeof this._getHandlerIndex(F,x)<"u"},G.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},G.prototype._getHandlerIndex=function(F,x){var T,f=this._handlers.length;for(T=0;T<f&&(this._handlers[T]!==F||this._contexts[T]!==x);T++);return T<f?T:void 0},G.prototype._createDispatcher=function(){this.dispatch=function C(G){return b[G]||(b[G]=function E(G){for(var F="return function dispatcher"+G+"(payload) {\n",x=[],f=[],T=0;T<G;T++)x.push("cb"+T),f.push("ctx"+T),F+="    cb"+T+"(payload, ctx"+T+");\n";return F+="};",new(Function.bind.apply(Function,[void 0].concat(x.concat(f),[F])))}(G)),b[G]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},G}();De.default=L},5861:(ae,De,b)=>{"use strict";var E=b(5580);De.j=E.default},588:function(ae,De){var b,E;void 0!==(E="function"==typeof(b=function(){"use strict";var L=Object.prototype.hasOwnProperty,G=Object.prototype.toString,F="boolean"==typeof(new RegExp).sticky;function x(I){return I&&"[object RegExp]"===G.call(I)}function f(I){return I&&"object"==typeof I&&!x(I)&&!Array.isArray(I)}function q(I){return new RegExp("|"+I).exec("").length-1}function H(I){return"("+I+")"}function k(I){return I.length?"(?:"+I.map(function(K){return"(?:"+K+")"}).join("|")+")":"(?!)"}function j(I){if("string"==typeof I)return"(?:"+function T(I){return I.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(I)+")";if(x(I)){if(I.ignoreCase)throw new Error("RegExp /i flag not allowed");if(I.global)throw new Error("RegExp /g flag is implied");if(I.sticky)throw new Error("RegExp /y flag is implied");if(I.multiline)throw new Error("RegExp /m flag is implied");return I.source}throw new Error("Not a pattern: "+I)}function M(I,D){return I.length>D?I:Array(D-I.length+1).join(" ")+I}function te(I,D){if(f(D)||(D={match:D}),D.include)throw new Error("Matching rules cannot also include states");var K={defaultType:I,lineBreaks:!!D.error||!!D.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var ve in D)L.call(D,ve)&&(K[ve]=D[ve]);if("string"==typeof K.type&&I!==K.type)throw new Error("Type transform cannot be a string (type '"+K.type+"' for token '"+I+"')");var oe=K.match;return K.match=Array.isArray(oe)?oe:oe?[oe]:[],K.match.sort(function(Oe,_e){return x(Oe)&&x(_e)?0:x(_e)?-1:x(Oe)?1:_e.length-Oe.length}),K}function Z(I){return Array.isArray(I)?function Ee(I){for(var D=[],K=0;K<I.length;K++){var ve=I[K];if(ve.include)for(var oe=[].concat(ve.include),Oe=0;Oe<oe.length;Oe++)D.push({include:oe[Oe]});else{if(!ve.type)throw new Error("Rule has no type: "+JSON.stringify(ve));D.push(te(ve.type,ve))}}return D}(I):function me(I){for(var D=Object.getOwnPropertyNames(I),K=[],ve=0;ve<D.length;ve++){var oe=D[ve],_e=[].concat(I[oe]);if("include"!==oe){var pe=[];_e.forEach(function(Ie){f(Ie)?(pe.length&&K.push(te(oe,pe)),K.push(te(oe,Ie)),pe=[]):pe.push(Ie)}),pe.length&&K.push(te(oe,pe))}else for(var Ne=0;Ne<_e.length;Ne++)K.push({include:_e[Ne]})}return K}(I)}var A=te("error",{lineBreaks:!0,shouldThrow:!0});function J(I,D){for(var K=null,ve=Object.create(null),oe=!0,Oe=null,_e=[],Ne=[],pe=0;pe<I.length;pe++)I[pe].fallback&&(oe=!1);for(pe=0;pe<I.length;pe++){var Ie=I[pe];if(Ie.include)throw new Error("Inheritance is not allowed in stateless lexers");if(Ie.error||Ie.fallback){if(K)throw!Ie.fallback==!K.fallback?new Error("Multiple "+(Ie.fallback?"fallback":"error")+" rules not allowed (for token '"+Ie.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+Ie.defaultType+"')");K=Ie}var Ke=Ie.match.slice();if(oe)for(;Ke.length&&"string"==typeof Ke[0]&&1===Ke[0].length;)ve[Ke.shift().charCodeAt(0)]=Ie;if(Ie.pop||Ie.push||Ie.next){if(!D)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+Ie.defaultType+"')");if(Ie.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+Ie.defaultType+"')")}if(0!==Ke.length){oe=!1,_e.push(Ie);for(var de=0;de<Ke.length;de++){var Ve=Ke[de];if(x(Ve))if(null===Oe)Oe=Ve.unicode;else if(Oe!==Ve.unicode&&!1===Ie.fallback)throw new Error("If one rule is /u then all must be")}var it=k(Ke.map(j)),He=new RegExp(it);if(He.test(""))throw new Error("RegExp matches empty string: "+He);if(q(it)>0)throw new Error("RegExp has capture groups: "+He+"\nUse (?: \u2026 ) instead");if(!Ie.lineBreaks&&He.test("\n"))throw new Error("Rule should declare lineBreaks: "+He);Ne.push(H(it))}}var bt=K&&K.fallback,Ft=F&&!bt?"ym":"gm",ke=F||bt?"":"|";return!0===Oe&&(Ft+="u"),{regexp:new RegExp(k(Ne)+ke,Ft),groups:_e,fast:ve,error:K||A}}function ie(I,D,K){var ve=I&&(I.push||I.next);if(ve&&!K[ve])throw new Error("Missing state '"+ve+"' (in token '"+I.defaultType+"' of state '"+D+"')");if(I&&I.pop&&1!=+I.pop)throw new Error("pop must be 1 (in token '"+I.defaultType+"' of state '"+D+"')")}var R=function(I,D){this.startState=D,this.states=I,this.buffer="",this.stack=[],this.reset()};R.prototype.reset=function(I,D){return this.buffer=I||"",this.index=0,this.line=D?D.line:1,this.col=D?D.col:1,this.queuedToken=D?D.queuedToken:null,this.queuedText=D?D.queuedText:"",this.queuedThrow=D?D.queuedThrow:null,this.setState(D?D.state:this.startState),this.stack=D&&D.stack?D.stack.slice():[],this},R.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},R.prototype.setState=function(I){if(I&&this.state!==I){this.state=I;var D=this.states[I];this.groups=D.groups,this.error=D.error,this.re=D.regexp,this.fast=D.fast}},R.prototype.popState=function(){this.setState(this.stack.pop())},R.prototype.pushState=function(I){this.stack.push(this.state),this.setState(I)};var P=F?function(I,D){return I.exec(D)}:function(I,D){var K=I.exec(D);return 0===K[0].length?null:K};function ne(){return this.value}if(R.prototype._getGroup=function(I){for(var D=this.groups.length,K=0;K<D;K++)if(void 0!==I[K+1])return this.groups[K];throw new Error("Cannot find token type for matched text")},R.prototype.next=function(){var I=this.index;if(this.queuedGroup){var D=this._token(this.queuedGroup,this.queuedText,I);return this.queuedGroup=null,this.queuedText="",D}var K=this.buffer;if(I!==K.length){if(_e=this.fast[K.charCodeAt(I)])return this._token(_e,K.charAt(I),I);var ve=this.re;ve.lastIndex=I;var oe=P(ve,K),Oe=this.error;if(null==oe)return this._token(Oe,K.slice(I,K.length),I);var _e=this._getGroup(oe),Ne=oe[0];return Oe.fallback&&oe.index!==I?(this.queuedGroup=_e,this.queuedText=Ne,this._token(Oe,K.slice(I,oe.index),I)):this._token(_e,Ne,I)}},R.prototype._token=function(I,D,K){var ve=0;if(I.lineBreaks){var oe=/\n/g,Oe=1;if("\n"===D)ve=1;else for(;oe.exec(D);)ve++,Oe=oe.lastIndex}var _e={type:"function"==typeof I.type&&I.type(D)||I.defaultType,value:"function"==typeof I.value?I.value(D):D,text:D,toString:ne,offset:K,lineBreaks:ve,line:this.line,col:this.col},Ne=D.length;if(this.index+=Ne,this.line+=ve,0!==ve?this.col=Ne-Oe+1:this.col+=Ne,I.shouldThrow)throw new Error(this.formatError(_e,"invalid syntax"));return I.pop?this.popState():I.push?this.pushState(I.push):I.next&&this.setState(I.next),_e},typeof Symbol<"u"&&Symbol.iterator){var ee=function(I){this.lexer=I};ee.prototype.next=function(){var I=this.lexer.next();return{value:I,done:!I}},ee.prototype[Symbol.iterator]=function(){return this},R.prototype[Symbol.iterator]=function(){return new ee(this)}}return R.prototype.formatError=function(I,D){if(null==I){var K=this.buffer.slice(this.index);I={text:K,offset:this.index,lineBreaks:-1===K.indexOf("\n")?0:1,line:this.line,col:this.col}}var oe=Math.max(I.line-2,1),_e=String(I.line+2).length,Ne=function $(I,D){for(var K=I.length,ve=0;;){var oe=I.lastIndexOf("\n",K-1);if(-1===oe||(K=oe,++ve===D)||0===K)break}return I.substring(ve<D?0:K+1).split("\n")}(this.buffer,this.line-I.line+2+1).slice(0,5),pe=[];pe.push(D+" at line "+I.line+" col "+I.col+":"),pe.push("");for(var Ie=0;Ie<Ne.length;Ie++){var Ke=Ne[Ie],yt=oe+Ie;pe.push(M(String(yt),_e)+"  "+Ke),yt===I.line&&pe.push(M("",_e+I.col+1)+"^")}return pe.join("\n")},R.prototype.clone=function(){return new R(this.states,this.state)},R.prototype.has=function(I){return!0},{compile:function ce(I){var D=J(Z(I));return new R({start:D},"start")},states:function Re(I,D){var K=I.$all?Z(I.$all):[];delete I.$all;var ve=Object.getOwnPropertyNames(I);D||(D=ve[0]);for(var oe=Object.create(null),Oe=0;Oe<ve.length;Oe++)oe[_e=ve[Oe]]=Z(I[_e]).concat(K);for(Oe=0;Oe<ve.length;Oe++)for(var Ne=oe[_e=ve[Oe]],pe=Object.create(null),Ie=0;Ie<Ne.length;Ie++){var Ke=Ne[Ie];if(Ke.include){var yt=[Ie,1];if(Ke.include!==_e&&!pe[Ke.include]){pe[Ke.include]=!0;var de=oe[Ke.include];if(!de)throw new Error("Cannot include nonexistent state '"+Ke.include+"' (in state '"+_e+"')");for(var Ve=0;Ve<de.length;Ve++){var it=de[Ve];-1===Ne.indexOf(it)&&yt.push(it)}}Ne.splice.apply(Ne,yt),Ie--}}var He=Object.create(null);for(Oe=0;Oe<ve.length;Oe++){var _e;He[_e=ve[Oe]]=J(oe[_e],!0)}for(Oe=0;Oe<ve.length;Oe++){var ct=ve[Oe],bt=He[ct],Ft=bt.groups;for(Ie=0;Ie<Ft.length;Ie++)ie(Ft[Ie],ct,He);var ke=Object.getOwnPropertyNames(bt.fast);for(Ie=0;Ie<ke.length;Ie++)ie(bt.fast[ke[Ie]],ct,He)}return new R(He,D)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function Be(I){for(var D=typeof Map<"u",K=D?new Map:Object.create(null),ve=Object.getOwnPropertyNames(I),oe=0;oe<ve.length;oe++){var Oe=ve[oe],_e=I[Oe];(Array.isArray(_e)?_e:[_e]).forEach(function(pe){if("string"!=typeof pe)throw new Error("keyword must be string (in keyword '"+Oe+"')");D?K.set(pe,Oe):K[pe]=Oe})}return function(pe){return D?K.get(pe):K[pe]}}}})?b.apply(De,[]):b)&&(ae.exports=E)},2720:(ae,De,b)=>{var C="function"==typeof Map&&Map.prototype,E=Object.getOwnPropertyDescriptor&&C?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,L=C&&E&&"function"==typeof E.get?E.get:null,G=C&&Map.prototype.forEach,F="function"==typeof Set&&Set.prototype,x=Object.getOwnPropertyDescriptor&&F?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,f=F&&x&&"function"==typeof x.get?x.get:null,T=F&&Set.prototype.forEach,H="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,j="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,$="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,me=Boolean.prototype.valueOf,Ee=Object.prototype.toString,te=Function.prototype.toString,Z=String.prototype.match,A=String.prototype.slice,J=String.prototype.replace,ce=String.prototype.toUpperCase,ie=String.prototype.toLowerCase,Re=RegExp.prototype.test,Be=Array.prototype.concat,R=Array.prototype.join,P=Array.prototype.slice,ne=Math.floor,ee="function"==typeof BigInt?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,K="function"==typeof Symbol&&"object"==typeof Symbol.iterator,ve="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,oe=Object.prototype.propertyIsEnumerable,Oe=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Te){return Te.__proto__}:null);function _e(Te,Me){if(Te===1/0||Te===-1/0||Te!=Te||Te&&Te>-1e3&&Te<1e3||Re.call(/e/,Me))return Me;var gt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Te){var En=Te<0?-ne(-Te):ne(Te);if(En!==Te){var $n=String(En),nn=A.call(Me,$n.length+1);return J.call($n,gt,"$&_")+"."+J.call(J.call(nn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return J.call(Me,gt,"$&_")}var Ne=b(4654),pe=Ne.custom,Ie=ke(pe)?pe:null;function Ke(Te,Me,gt){var En="double"===(gt.quoteStyle||Me)?'"':"'";return En+Te+En}function yt(Te){return J.call(String(Te),/"/g,"&quot;")}function de(Te){return!("[object Array]"!==dt(Te)||ve&&"object"==typeof Te&&ve in Te)}function it(Te){return!("[object RegExp]"!==dt(Te)||ve&&"object"==typeof Te&&ve in Te)}function ke(Te){if(K)return Te&&"object"==typeof Te&&Te instanceof Symbol;if("symbol"==typeof Te)return!0;if(!Te||"object"!=typeof Te||!D)return!1;try{return D.call(Te),!0}catch{}return!1}ae.exports=function Te(Me,gt,En,$n){var nn=gt||{};if(Qe(nn,"quoteStyle")&&"single"!==nn.quoteStyle&&"double"!==nn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Qe(nn,"maxStringLength")&&("number"==typeof nn.maxStringLength?nn.maxStringLength<0&&nn.maxStringLength!==1/0:null!==nn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var nr=!Qe(nn,"customInspect")||nn.customInspect;if("boolean"!=typeof nr&&"symbol"!==nr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Qe(nn,"indent")&&null!==nn.indent&&"\t"!==nn.indent&&!(parseInt(nn.indent,10)===nn.indent&&nn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Qe(nn,"numericSeparator")&&"boolean"!=typeof nn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var vr=nn.numericSeparator;if(typeof Me>"u")return"undefined";if(null===Me)return"null";if("boolean"==typeof Me)return Me?"true":"false";if("string"==typeof Me)return xr(Me,nn);if("number"==typeof Me){if(0===Me)return 1/0/Me>0?"0":"-0";var Hr=String(Me);return vr?_e(Me,Hr):Hr}if("bigint"==typeof Me){var eo=String(Me)+"n";return vr?_e(Me,eo):eo}var kn=typeof nn.depth>"u"?5:nn.depth;if(typeof En>"u"&&(En=0),En>=kn&&kn>0&&"object"==typeof Me)return de(Me)?"[Array]":"[Object]";var Ro=function li(Te,Me){var gt;if("\t"===Te.indent)gt="\t";else{if(!("number"==typeof Te.indent&&Te.indent>0))return null;gt=R.call(Array(Te.indent+1)," ")}return{base:gt,prev:R.call(Array(Me+1),gt)}}(nn,En);if(typeof $n>"u")$n=[];else if(Kt($n,Me)>=0)return"[Circular]";function so(ui,Jo,vi){if(Jo&&($n=P.call($n)).push(Jo),vi){var ds={depth:nn.depth};return Qe(nn,"quoteStyle")&&(ds.quoteStyle=nn.quoteStyle),Te(ui,ds,En+1,$n)}return Te(ui,nn,En+1,$n)}if("function"==typeof Me&&!it(Me)){var Ki=function Ht(Te){if(Te.name)return Te.name;var Me=Z.call(te.call(Te),/^function\s*([\w$]+)/);return Me?Me[1]:null}(Me),Po=gr(Me,so);return"[Function"+(Ki?": "+Ki:" (anonymous)")+"]"+(Po.length>0?" { "+R.call(Po,", ")+" }":"")}if(ke(Me)){var In=K?J.call(String(Me),/^(Symbol\(.*\))_[^)]*$/,"$1"):D.call(Me);return"object"!=typeof Me||K?In:Qn(In)}if(function ai(Te){return!(!Te||"object"!=typeof Te)&&(typeof HTMLElement<"u"&&Te instanceof HTMLElement||"string"==typeof Te.nodeName&&"function"==typeof Te.getAttribute)}(Me)){for(var yr="<"+ie.call(String(Me.nodeName)),Bn=Me.attributes||[],dn=0;dn<Bn.length;dn++)yr+=" "+Bn[dn].name+"="+Ke(yt(Bn[dn].value),"double",nn);return yr+=">",Me.childNodes&&Me.childNodes.length&&(yr+="..."),yr+"</"+ie.call(String(Me.nodeName))+">"}if(de(Me)){if(0===Me.length)return"[]";var Sn=gr(Me,so);return Ro&&!function io(Te){for(var Me=0;Me<Te.length;Me++)if(Kt(Te[Me],"\n")>=0)return!1;return!0}(Sn)?"["+Jr(Sn,Ro)+"]":"[ "+R.call(Sn,", ")+" ]"}if(function He(Te){return!("[object Error]"!==dt(Te)||ve&&"object"==typeof Te&&ve in Te)}(Me)){var po=gr(Me,so);return"cause"in Error.prototype||!("cause"in Me)||oe.call(Me,"cause")?0===po.length?"["+String(Me)+"]":"{ ["+String(Me)+"] "+R.call(po,", ")+" }":"{ ["+String(Me)+"] "+R.call(Be.call("[cause]: "+so(Me.cause),po),", ")+" }"}if("object"==typeof Me&&nr){if(Ie&&"function"==typeof Me[Ie]&&Ne)return Ne(Me,{depth:kn-En});if("symbol"!==nr&&"function"==typeof Me.inspect)return Me.inspect()}if(function Yt(Te){if(!L||!Te||"object"!=typeof Te)return!1;try{L.call(Te);try{f.call(Te)}catch{return!0}return Te instanceof Map}catch{}return!1}(Me)){var Qt=[];return G&&G.call(Me,function(ui,Jo){Qt.push(so(Jo,Me,!0)+" => "+so(ui,Me))}),Do("Map",L.call(Me),Qt,Ro)}if(function Zn(Te){if(!f||!Te||"object"!=typeof Te)return!1;try{f.call(Te);try{L.call(Te)}catch{return!0}return Te instanceof Set}catch{}return!1}(Me)){var Go=[];return T&&T.call(Me,function(ui){Go.push(so(ui,Me))}),Do("Set",f.call(Me),Go,Ro)}if(function Xt(Te){if(!H||!Te||"object"!=typeof Te)return!1;try{H.call(Te,H);try{j.call(Te,j)}catch{return!0}return Te instanceof WeakMap}catch{}return!1}(Me))return mr("WeakMap");if(function sr(Te){if(!j||!Te||"object"!=typeof Te)return!1;try{j.call(Te,j);try{H.call(Te,H)}catch{return!0}return Te instanceof WeakSet}catch{}return!1}(Me))return mr("WeakSet");if(function fn(Te){if(!$||!Te||"object"!=typeof Te)return!1;try{return $.call(Te),!0}catch{}return!1}(Me))return mr("WeakRef");if(function bt(Te){return!("[object Number]"!==dt(Te)||ve&&"object"==typeof Te&&ve in Te)}(Me))return Qn(so(Number(Me)));if(function ye(Te){if(!Te||"object"!=typeof Te||!ee)return!1;try{return ee.call(Te),!0}catch{}return!1}(Me))return Qn(so(ee.call(Me)));if(function Ft(Te){return!("[object Boolean]"!==dt(Te)||ve&&"object"==typeof Te&&ve in Te)}(Me))return Qn(me.call(Me));if(function ct(Te){return!("[object String]"!==dt(Te)||ve&&"object"==typeof Te&&ve in Te)}(Me))return Qn(so(String(Me)));if(typeof window<"u"&&Me===window)return"{ [object Window] }";if(Me===global)return"{ [object globalThis] }";if(!function Ve(Te){return!("[object Date]"!==dt(Te)||ve&&"object"==typeof Te&&ve in Te)}(Me)&&!it(Me)){var gi=gr(Me,so),ci=Oe?Oe(Me)===Object.prototype:Me instanceof Object||Me.constructor===Object,zo=Me instanceof Object?"":"null prototype",re=!ci&&ve&&Object(Me)===Me&&ve in Me?A.call(dt(Me),8,-1):zo?"Object":"",ao=(ci||"function"!=typeof Me.constructor?"":Me.constructor.name?Me.constructor.name+" ":"")+(re||zo?"["+R.call(Be.call([],re||[],zo||[]),": ")+"] ":"");return 0===gi.length?ao+"{}":Ro?ao+"{"+Jr(gi,Ro)+"}":ao+"{ "+R.call(gi,", ")+" }"}return String(Me)};var xe=Object.prototype.hasOwnProperty||function(Te){return Te in this};function Qe(Te,Me){return xe.call(Te,Me)}function dt(Te){return Ee.call(Te)}function Kt(Te,Me){if(Te.indexOf)return Te.indexOf(Me);for(var gt=0,En=Te.length;gt<En;gt++)if(Te[gt]===Me)return gt;return-1}function xr(Te,Me){if(Te.length>Me.maxStringLength){var gt=Te.length-Me.maxStringLength,En="... "+gt+" more character"+(gt>1?"s":"");return xr(A.call(Te,0,Me.maxStringLength),Me)+En}return Ke(J.call(J.call(Te,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,oo),"single",Me)}function oo(Te){var Me=Te.charCodeAt(0),gt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Me];return gt?"\\"+gt:"\\x"+(Me<16?"0":"")+ce.call(Me.toString(16))}function Qn(Te){return"Object("+Te+")"}function mr(Te){return Te+" { ? }"}function Do(Te,Me,gt,En){return Te+" ("+Me+") {"+(En?Jr(gt,En):R.call(gt,", "))+"}"}function Jr(Te,Me){if(0===Te.length)return"";var gt="\n"+Me.prev+Me.base;return gt+R.call(Te,","+gt)+"\n"+Me.prev}function gr(Te,Me){var gt=de(Te),En=[];if(gt){En.length=Te.length;for(var $n=0;$n<Te.length;$n++)En[$n]=Qe(Te,$n)?Me(Te[$n],Te):""}var nr,nn="function"==typeof I?I(Te):[];if(K){nr={};for(var vr=0;vr<nn.length;vr++)nr["$"+nn[vr]]=nn[vr]}for(var Hr in Te)Qe(Te,Hr)&&(gt&&String(Number(Hr))===Hr&&Hr<Te.length||K&&nr["$"+Hr]instanceof Symbol||(Re.call(/[^\w$]/,Hr)?En.push(Me(Hr,Te)+": "+Me(Te[Hr],Te)):En.push(Hr+": "+Me(Te[Hr],Te))));if("function"==typeof I)for(var eo=0;eo<nn.length;eo++)oe.call(Te,nn[eo])&&En.push("["+Me(nn[eo])+"]: "+Me(Te[nn[eo]],Te));return En}},5376:ae=>{"use strict";var De=function(b){return b!=b};ae.exports=function(C,E){return 0===C&&0===E?1/C==1/E:!!(C===E||De(C)&&De(E))}},500:(ae,De,b)=>{"use strict";var C=b(9567),E=b(1773),L=b(5376),G=b(8204),F=b(2688),x=E(G(),Object);C(x,{getPolyfill:G,implementation:L,shim:F}),ae.exports=x},8204:(ae,De,b)=>{"use strict";var C=b(5376);ae.exports=function(){return"function"==typeof Object.is?Object.is:C}},2688:(ae,De,b)=>{"use strict";var C=b(8204),E=b(9567);ae.exports=function(){var G=C();return E(Object,{is:G},{is:function(){return Object.is!==G}}),G}},1601:(ae,De,b)=>{"use strict";var C;if(!Object.keys){var E=Object.prototype.hasOwnProperty,L=Object.prototype.toString,G=b(6755),F=Object.prototype.propertyIsEnumerable,x=!F.call({toString:null},"toString"),f=F.call(function(){},"prototype"),T=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],q=function(M){var $=M.constructor;return $&&$.prototype===M},H={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},k=function(){if(typeof window>"u")return!1;for(var M in window)try{if(!H["$"+M]&&E.call(window,M)&&null!==window[M]&&"object"==typeof window[M])try{q(window[M])}catch{return!0}}catch{return!0}return!1}();C=function($){var me=null!==$&&"object"==typeof $,Ee="[object Function]"===L.call($),te=G($),Z=me&&"[object String]"===L.call($),A=[];if(!me&&!Ee&&!te)throw new TypeError("Object.keys called on a non-object");var J=f&&Ee;if(Z&&$.length>0&&!E.call($,0))for(var ce=0;ce<$.length;++ce)A.push(String(ce));if(te&&$.length>0)for(var ie=0;ie<$.length;++ie)A.push(String(ie));else for(var Re in $)(!J||"prototype"!==Re)&&E.call($,Re)&&A.push(String(Re));if(x)for(var Be=function(M){if(typeof window>"u"||!k)return q(M);try{return q(M)}catch{return!1}}($),R=0;R<T.length;++R)(!Be||"constructor"!==T[R])&&E.call($,T[R])&&A.push(T[R]);return A}}ae.exports=C},5692:(ae,De,b)=>{"use strict";var C=Array.prototype.slice,E=b(6755),L=Object.keys,G=L?function(f){return L(f)}:b(1601),F=Object.keys;G.shim=function(){if(Object.keys){var f=function(){var T=Object.keys(arguments);return T&&T.length===arguments.length}(1,2);f||(Object.keys=function(q){return E(q)?F(C.call(q)):F(q)})}else Object.keys=G;return Object.keys||G},ae.exports=G},6755:ae=>{"use strict";var De=Object.prototype.toString;ae.exports=function(C){var E=De.call(C),L="[object Arguments]"===E;return L||(L="[object Array]"!==E&&null!==C&&"object"==typeof C&&"number"==typeof C.length&&C.length>=0&&"[object Function]"===De.call(C.callee)),L}},8032:(ae,De,b)=>{"use strict";var C=b(5692),E=b(2759)(),L=b(1491),G=Object,F=L("Array.prototype.push"),x=L("Object.prototype.propertyIsEnumerable"),f=E?Object.getOwnPropertySymbols:null;ae.exports=function(q,H){if(null==q)throw new TypeError("target must be an object");var k=G(q);if(1===arguments.length)return k;for(var j=1;j<arguments.length;++j){var M=G(arguments[j]),$=C(M),me=E&&(Object.getOwnPropertySymbols||f);if(me)for(var Ee=me(M),te=0;te<Ee.length;++te){var Z=Ee[te];x(M,Z)&&F($,Z)}for(var A=0;A<$.length;++A){var J=$[A];x(M,J)&&(k[J]=M[J])}}return k}},5747:(ae,De,b)=>{"use strict";var C=b(9567),E=b(1773),L=b(8032),G=b(9530),F=b(4096),x=E.apply(G()),f=function(q,H){return x(Object,arguments)};C(f,{getPolyfill:G,implementation:L,shim:F}),ae.exports=f},9530:(ae,De,b)=>{"use strict";var C=b(8032);ae.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var G="abcdefghijklmnopqrst",F=G.split(""),x={},f=0;f<F.length;++f)x[F[f]]=F[f];var T=Object.assign({},x),q="";for(var H in T)q+=H;return G!==q}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var G=Object.preventExtensions({1:2});try{Object.assign(G,"xy")}catch{return"y"===G[1]}return!1}()?C:Object.assign}},4096:(ae,De,b)=>{"use strict";var C=b(9567),E=b(9530);ae.exports=function(){var G=E();return C(Object,{assign:G},{assign:function(){return Object.assign!==G}}),G}},6716:(ae,De)=>{"use strict";var b=Object.prototype.hasOwnProperty;function E(x){try{return decodeURIComponent(x.replace(/\+/g," "))}catch{return null}}function L(x){try{return encodeURIComponent(x)}catch{return null}}De.stringify=function F(x,f){f=f||"";var q,H,T=[];for(H in"string"!=typeof f&&(f="?"),x)if(b.call(x,H)){if(!(q=x[H])&&(null==q||isNaN(q))&&(q=""),H=L(H),q=L(q),null===H||null===q)continue;T.push(H+"="+q)}return T.length?f+T.join("&"):""},De.parse=function G(x){for(var q,f=/([^=?#&]+)=?([^&]*)/g,T={};q=f.exec(x);){var H=E(q[1]),k=E(q[2]);null===H||null===k||H in T||(T[H]=k)}return T}},7732:(ae,De,b)=>{"use strict";var C=b(2562),E=Object,L=TypeError;ae.exports=C(function(){if(null!=this&&this!==E(this))throw new L("RegExp.prototype.flags getter called on non-object");var F="";return this.hasIndices&&(F+="d"),this.global&&(F+="g"),this.ignoreCase&&(F+="i"),this.multiline&&(F+="m"),this.dotAll&&(F+="s"),this.unicode&&(F+="u"),this.unicodeSets&&(F+="v"),this.sticky&&(F+="y"),F},"get flags",!0)},4300:(ae,De,b)=>{"use strict";var C=b(9567),E=b(1773),L=b(7732),G=b(5848),F=b(6472),x=E(G());C(x,{getPolyfill:G,implementation:L,shim:F}),ae.exports=x},5848:(ae,De,b)=>{"use strict";var C=b(7732),E=b(9567).supportsDescriptors,L=Object.getOwnPropertyDescriptor;ae.exports=function(){if(E&&"gim"===/a/gim.flags){var F=L(RegExp.prototype,"flags");if(F&&"function"==typeof F.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var x="",f={};if(Object.defineProperty(f,"hasIndices",{get:function(){x+="d"}}),Object.defineProperty(f,"sticky",{get:function(){x+="y"}}),"dy"===x)return F.get}}return C}},6472:(ae,De,b)=>{"use strict";var C=b(9567).supportsDescriptors,E=b(5848),L=Object.getOwnPropertyDescriptor,G=Object.defineProperty,F=TypeError,x=Object.getPrototypeOf,f=/a/;ae.exports=function(){if(!C||!x)throw new F("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var q=E(),H=x(f),k=L(H,"flags");return(!k||k.get!==q)&&G(H,"flags",{configurable:!0,enumerable:!1,get:q}),q}},716:ae=>{"use strict";ae.exports=function(b,C){if(C=C.split(":")[0],!(b=+b))return!1;switch(C){case"http":case"ws":return 80!==b;case"https":case"wss":return 443!==b;case"ftp":return 21!==b;case"gopher":return 70!==b;case"file":return!1}return 0!==b}},3931:(ae,De,b)=>{"use strict";var C=b(3485),E=b(4467),L=b(7811)(),G=b(6078),F=C("%TypeError%"),x=C("%Math.floor%");ae.exports=function(T,q){if("function"!=typeof T)throw new F("`fn` is not a function");if("number"!=typeof q||q<0||q>4294967295||x(q)!==q)throw new F("`length` must be a positive 32-bit integer");var H=arguments.length>2&&!!arguments[2],k=!0,j=!0;if("length"in T&&G){var M=G(T,"length");M&&!M.configurable&&(k=!1),M&&!M.writable&&(j=!1)}return(k||j||!H)&&(L?E(T,"length",q,!0,!0):E(T,"length",q)),T}},2562:(ae,De,b)=>{"use strict";var C=b(4467),E=b(7811)(),L=b(7688).functionsHaveConfigurableNames(),G=TypeError;ae.exports=function(x,f){if("function"!=typeof x)throw new G("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||L)&&(E?C(x,"name",f,!0,!0):C(x,"name",f)),x}},4355:(ae,De,b)=>{"use strict";var C=b(3485),E=b(1491),L=b(2720),G=C("%TypeError%"),F=C("%WeakMap%",!0),x=C("%Map%",!0),f=E("WeakMap.prototype.get",!0),T=E("WeakMap.prototype.set",!0),q=E("WeakMap.prototype.has",!0),H=E("Map.prototype.get",!0),k=E("Map.prototype.set",!0),j=E("Map.prototype.has",!0),M=function(te,Z){for(var J,A=te;null!==(J=A.next);A=J)if(J.key===Z)return A.next=J.next,J.next=te.next,te.next=J,J};ae.exports=function(){var Z,A,J,ce={assert:function(ie){if(!ce.has(ie))throw new G("Side channel does not contain "+L(ie))},get:function(ie){if(F&&ie&&("object"==typeof ie||"function"==typeof ie)){if(Z)return f(Z,ie)}else if(x){if(A)return H(A,ie)}else if(J)return function(te,Z){var A=M(te,Z);return A&&A.value}(J,ie)},has:function(ie){if(F&&ie&&("object"==typeof ie||"function"==typeof ie)){if(Z)return q(Z,ie)}else if(x){if(A)return j(A,ie)}else if(J)return function(te,Z){return!!M(te,Z)}(J,ie);return!1},set:function(ie,Re){F&&ie&&("object"==typeof ie||"function"==typeof ie)?(Z||(Z=new F),T(Z,ie,Re)):x?(A||(A=new x),k(A,ie,Re)):(J||(J={key:{},next:null}),function(te,Z,A){var J=M(te,Z);J?J.value=A:te.next={key:Z,next:te.next,value:A}}(J,ie,Re))}};return ce}},118:(ae,De,b)=>{"use strict";var C=b(2605),E=SyntaxError,L="object"==typeof StopIteration?StopIteration:null;ae.exports=function(F){if(!L)throw new E("this environment lacks StopIteration");C.set(F,"[[Done]]",!1);var x={next:function(){var T=C.get(this,"[[Iterator]]"),q=C.get(T,"[[Done]]");try{return{done:q,value:q?void 0:T.next()}}catch(H){if(C.set(T,"[[Done]]",!0),H!==L)throw H;return{done:!0,value:void 0}}}};return C.set(x,"[[Iterator]]",F),x}},6299:(ae,De,b)=>{"use strict";var C=b(716),E=b(6716),L=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,G=/[\n\r\t]/g,F=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,x=/:\d+$/,f=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,T=/^[a-zA-Z]:/;function q(A){return(A||"").toString().replace(L,"")}var H=[["#","hash"],["?","query"],function(J,ce){return M(ce.protocol)?J.replace(/\\/g,"/"):J},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],k={hash:1,query:1};function j(A){var J;J=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Be,ie={},Re=typeof(A=A||J.location||{});if("blob:"===A.protocol)ie=new Ee(unescape(A.pathname),{});else if("string"===Re)for(Be in ie=new Ee(A,{}),k)delete ie[Be];else if("object"===Re){for(Be in A)Be in k||(ie[Be]=A[Be]);void 0===ie.slashes&&(ie.slashes=F.test(A.href))}return ie}function M(A){return"file:"===A||"ftp:"===A||"http:"===A||"https:"===A||"ws:"===A||"wss:"===A}function $(A,J){A=(A=q(A)).replace(G,""),J=J||{};var P,ce=f.exec(A),ie=ce[1]?ce[1].toLowerCase():"",Re=!!ce[2],Be=!!ce[3],R=0;return Re?Be?(P=ce[2]+ce[3]+ce[4],R=ce[2].length+ce[3].length):(P=ce[2]+ce[4],R=ce[2].length):Be?(P=ce[3]+ce[4],R=ce[3].length):P=ce[4],"file:"===ie?R>=2&&(P=P.slice(2)):M(ie)?P=ce[4]:ie?Re&&(P=P.slice(2)):R>=2&&M(J.protocol)&&(P=ce[4]),{protocol:ie,slashes:Re||M(ie),slashesCount:R,rest:P}}function Ee(A,J,ce){if(A=(A=q(A)).replace(G,""),!(this instanceof Ee))return new Ee(A,J,ce);var ie,Re,Be,R,P,ne,ee=H.slice(),I=typeof J,D=this,K=0;for("object"!==I&&"string"!==I&&(ce=J,J=null),ce&&"function"!=typeof ce&&(ce=E.parse),ie=!(Re=$(A||"",J=j(J))).protocol&&!Re.slashes,D.slashes=Re.slashes||ie&&J.slashes,D.protocol=Re.protocol||J.protocol||"",A=Re.rest,("file:"===Re.protocol&&(2!==Re.slashesCount||T.test(A))||!Re.slashes&&(Re.protocol||Re.slashesCount<2||!M(D.protocol)))&&(ee[3]=[/(.*)/,"pathname"]);K<ee.length;K++)"function"!=typeof(R=ee[K])?(ne=R[1],(Be=R[0])!=Be?D[ne]=A:"string"==typeof Be?~(P="@"===Be?A.lastIndexOf(Be):A.indexOf(Be))&&("number"==typeof R[2]?(D[ne]=A.slice(0,P),A=A.slice(P+R[2])):(D[ne]=A.slice(P),A=A.slice(0,P))):(P=Be.exec(A))&&(D[ne]=P[1],A=A.slice(0,P.index)),D[ne]=D[ne]||ie&&R[3]&&J[ne]||"",R[4]&&(D[ne]=D[ne].toLowerCase())):A=R(A,D);ce&&(D.query=ce(D.query)),ie&&J.slashes&&"/"!==D.pathname.charAt(0)&&(""!==D.pathname||""!==J.pathname)&&(D.pathname=function me(A,J){if(""===A)return J;for(var ce=(J||"/").split("/").slice(0,-1).concat(A.split("/")),ie=ce.length,Re=ce[ie-1],Be=!1,R=0;ie--;)"."===ce[ie]?ce.splice(ie,1):".."===ce[ie]?(ce.splice(ie,1),R++):R&&(0===ie&&(Be=!0),ce.splice(ie,1),R--);return Be&&ce.unshift(""),("."===Re||".."===Re)&&ce.push(""),ce.join("/")}(D.pathname,J.pathname)),"/"!==D.pathname.charAt(0)&&M(D.protocol)&&(D.pathname="/"+D.pathname),C(D.port,D.protocol)||(D.host=D.hostname,D.port=""),D.username=D.password="",D.auth&&(~(P=D.auth.indexOf(":"))?(D.username=D.auth.slice(0,P),D.username=encodeURIComponent(decodeURIComponent(D.username)),D.password=D.auth.slice(P+1),D.password=encodeURIComponent(decodeURIComponent(D.password))):D.username=encodeURIComponent(decodeURIComponent(D.auth)),D.auth=D.password?D.username+":"+D.password:D.username),D.origin="file:"!==D.protocol&&M(D.protocol)&&D.host?D.protocol+"//"+D.host:"null",D.href=D.toString()}Ee.prototype={set:function te(A,J,ce){var ie=this;switch(A){case"query":"string"==typeof J&&J.length&&(J=(ce||E.parse)(J)),ie[A]=J;break;case"port":ie[A]=J,C(J,ie.protocol)?J&&(ie.host=ie.hostname+":"+J):(ie.host=ie.hostname,ie[A]="");break;case"hostname":ie[A]=J,ie.port&&(J+=":"+ie.port),ie.host=J;break;case"host":ie[A]=J,x.test(J)?(J=J.split(":"),ie.port=J.pop(),ie.hostname=J.join(":")):(ie.hostname=J,ie.port="");break;case"protocol":ie.protocol=J.toLowerCase(),ie.slashes=!ce;break;case"pathname":case"hash":if(J){var Re="pathname"===A?"/":"#";ie[A]=J.charAt(0)!==Re?Re+J:J}else ie[A]=J;break;case"username":case"password":ie[A]=encodeURIComponent(J);break;case"auth":var Be=J.indexOf(":");~Be?(ie.username=J.slice(0,Be),ie.username=encodeURIComponent(decodeURIComponent(ie.username)),ie.password=J.slice(Be+1),ie.password=encodeURIComponent(decodeURIComponent(ie.password))):ie.username=encodeURIComponent(decodeURIComponent(J))}for(var R=0;R<H.length;R++){var P=H[R];P[4]&&(ie[P[1]]=ie[P[1]].toLowerCase())}return ie.auth=ie.password?ie.username+":"+ie.password:ie.username,ie.origin="file:"!==ie.protocol&&M(ie.protocol)&&ie.host?ie.protocol+"//"+ie.host:"null",ie.href=ie.toString(),ie},toString:function Z(A){(!A||"function"!=typeof A)&&(A=E.stringify);var J,ce=this,ie=ce.host,Re=ce.protocol;Re&&":"!==Re.charAt(Re.length-1)&&(Re+=":");var Be=Re+(ce.protocol&&ce.slashes||M(ce.protocol)?"//":"");return ce.username?(Be+=ce.username,ce.password&&(Be+=":"+ce.password),Be+="@"):ce.password?(Be+=":"+ce.password,Be+="@"):"file:"!==ce.protocol&&M(ce.protocol)&&!ie&&"/"!==ce.pathname&&(Be+="@"),(":"===ie[ie.length-1]||x.test(ce.hostname)&&!ce.port)&&(ie+=":"),Be+=ie+ce.pathname,(J="object"==typeof ce.query?A(ce.query):ce.query)&&(Be+="?"!==J.charAt(0)?"?"+J:J),ce.hash&&(Be+=ce.hash),Be}},Ee.extractProtocol=$,Ee.location=j,Ee.trimLeft=q,Ee.qs=E,ae.exports=Ee},8460:(ae,De,b)=>{"use strict";var C=b(2706),E=b(9065),L=b(2856),G=b(2630),F=b(7050);ae.exports=function(f){return null==f||"object"!=typeof f&&"function"!=typeof f?null:C(f)?"String":E(f)?"Number":L(f)?"Boolean":G(f)?"Symbol":F(f)?"BigInt":void 0}},927:(ae,De,b)=>{"use strict";var C=b(2418),E=b(1001),L=b(1773),G=b(1491),F=b(6078),x=G("Object.prototype.toString"),f=b(6518)(),T=typeof globalThis>"u"?global:globalThis,q=E(),H=G("String.prototype.slice"),k=Object.getPrototypeOf,j=G("Array.prototype.indexOf",!0)||function(te,Z){for(var A=0;A<te.length;A+=1)if(te[A]===Z)return A;return-1},M={__proto__:null};C(q,f&&F&&k?function(Ee){var te=new T[Ee];if(Symbol.toStringTag in te){var Z=k(te),A=F(Z,Symbol.toStringTag);if(!A){var J=k(Z);A=F(J,Symbol.toStringTag)}M["$"+Ee]=L(A.get)}}:function(Ee){var te=new T[Ee],Z=te.slice||te.set;Z&&(M["$"+Ee]=L(Z))}),ae.exports=function(te){if(!te||"object"!=typeof te)return!1;if(!f){var Z=H(x(te),8,-1);return j(q,Z)>-1?Z:"Object"===Z&&function(te){var Z=!1;return C(M,function(A,J){if(!Z)try{A(te),Z=H(J,1)}catch{}}),Z}(te)}return F?function(te){var Z=!1;return C(M,function(A,J){if(!Z)try{"$"+A(te)===J&&(Z=H(J,1))}catch{}}),Z}(te):null}},863:(ae,De,b)=>{var C={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,5869,4969],"./ion-datetime_3.entry.js":[1835,5869,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,8592,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,8592,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[9964,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,8592,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function E(L){if(!b.o(C,L))return Promise.resolve().then(()=>{var x=new Error("Cannot find module '"+L+"'");throw x.code="MODULE_NOT_FOUND",x});var G=C[L],F=G[0];return Promise.all(G.slice(1).map(b.e)).then(()=>b(F))}E.keys=()=>Object.keys(C),E.id=863,ae.exports=E},4654:()=>{},1001:ae=>{"use strict";var De=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],b=typeof globalThis>"u"?global:globalThis;ae.exports=function(){for(var E=[],L=0;L<De.length;L++)"function"==typeof b[De[L]]&&(E[E.length]=De[L]);return E}},1324:(ae,De,b)=>{"use strict";var C=b(1568),E=b(118);if(b(2337)()||b(2759)()){var L=Symbol.iterator;ae.exports=function(P){return null!=P&&typeof P[L]<"u"?P[L]():C(P)?Array.prototype[L].call(P):void 0}}else{var G=b(9604),F=b(2706),x=b(3485),f=x("%Map%",!0),T=x("%Set%",!0),q=b(1491),H=q("Array.prototype.push"),k=q("String.prototype.charCodeAt"),j=q("String.prototype.slice"),$=function(P){var ne=0;return{next:function(){var D,I=ne>=P.length;return I||(D=P[ne],ne+=1),{done:I,value:D}}}},me=function(P,ne){if(G(P)||C(P))return $(P);if(F(P)){var ee=0;return{next:function(){var D=function(P,ne){if(ne+1>=P.length)return ne+1;var I=k(P,ne);if(I<55296||I>56319)return ne+1;var D=k(P,ne+1);return D<56320||D>57343?ne+1:ne+2}(P,ee),K=j(P,ee,D);return ee=D,{done:D>P.length,value:K}}}}return ne&&typeof P["_es6-shim iterator_"]<"u"?P["_es6-shim iterator_"]():void 0};if(f||T){var Ee=b(6128),te=b(5918),Z=q("Map.prototype.forEach",!0),A=q("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var J=q("Map.prototype.iterator",!0),ce=q("Set.prototype.iterator",!0);var ie=q("Map.prototype.@@iterator",!0)||q("Map.prototype._es6-shim iterator_",!0),Re=q("Set.prototype.@@iterator",!0)||q("Set.prototype._es6-shim iterator_",!0);ae.exports=function(P){return function(P){if(Ee(P)){if(J)return E(J(P));if(ie)return ie(P);if(Z){var ne=[];return Z(P,function(I,D){H(ne,[D,I])}),$(ne)}}if(te(P)){if(ce)return E(ce(P));if(Re)return Re(P);if(A){var ee=[];return A(P,function(I){H(ee,I)}),$(ee)}}}(P)||me(P)}}else ae.exports=function(P){if(null!=P)return me(P,!0)}}},9148:(ae,De,b)=>{"use strict";var C=b(6128),E=b(5918),L=b(1545),G=b(9043);ae.exports=function(x){if(x&&"object"==typeof x){if(C(x))return"Map";if(E(x))return"Set";if(L(x))return"WeakMap";if(G(x))return"WeakSet"}return!1}},9717:ae=>{function De(C,E,L,G,F,x,f){try{var T=C[x](f),q=T.value}catch(H){return void L(H)}T.done?E(q):Promise.resolve(q).then(G,F)}ae.exports=function b(C){return function(){var E=this,L=arguments;return new Promise(function(G,F){var x=C.apply(E,L);function f(q){De(x,G,F,f,T,"next",q)}function T(q){De(x,G,F,f,T,"throw",q)}f(void 0)})}},ae.exports.__esModule=!0,ae.exports.default=ae.exports},4144:(ae,De,b)=>{var C=b(4376);ae.exports=function E(L,G,F){return(G=C(G))in L?Object.defineProperty(L,G,{value:F,enumerable:!0,configurable:!0,writable:!0}):L[G]=F,L},ae.exports.__esModule=!0,ae.exports.default=ae.exports},7289:(ae,De,b)=>{var C=b(242).default;ae.exports=function E(L,G){if("object"!==C(L)||null===L)return L;var F=L[Symbol.toPrimitive];if(void 0!==F){var x=F.call(L,G||"default");if("object"!==C(x))return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===G?String:Number)(L)},ae.exports.__esModule=!0,ae.exports.default=ae.exports},4376:(ae,De,b)=>{var C=b(242).default,E=b(7289);ae.exports=function L(G){var F=E(G,"string");return"symbol"===C(F)?F:String(F)},ae.exports.__esModule=!0,ae.exports.default=ae.exports},242:ae=>{function De(b){return ae.exports=De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},ae.exports.__esModule=!0,ae.exports.default=ae.exports,De(b)}ae.exports=De,ae.exports.__esModule=!0,ae.exports.default=ae.exports},3918:(ae,De,b)=>{"use strict";function C(L,G,F,x,f,T,q){try{var H=L[T](q),k=H.value}catch(j){return void F(j)}H.done?G(k):Promise.resolve(k).then(x,f)}function E(L){return function(){var G=this,F=arguments;return new Promise(function(x,f){var T=L.apply(G,F);function q(k){C(T,x,f,q,H,"next",k)}function H(k){C(T,x,f,q,H,"throw",k)}q(void 0)})}}b.d(De,{Z:()=>E})}},ae=>{ae(ae.s=7267)}]);
//# sourceMappingURL=main.96fdf76dcbd4308d.js.map