(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{4370:(ke,Le,P)=>{"use strict";function D(t){return"function"==typeof t}function d(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ee=d(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function te(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class V{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(D(r))try{r()}catch(i){n=i instanceof ee?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{j(i)}catch(s){n=n??[],s instanceof ee?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ee(n)}}add(n){var e;if(n&&n!==this)if(this.closed)j(n);else{if(n instanceof V){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&te(e,n)}remove(n){const{_finalizers:e}=this;e&&te(e,n),n instanceof V&&n._removeParent(this)}}V.EMPTY=(()=>{const t=new V;return t.closed=!0,t})();const X=V.EMPTY;function N(t){return t instanceof V||t&&"closed"in t&&D(t.remove)&&D(t.add)&&D(t.unsubscribe)}function j(t){D(t)?t():t.unsubscribe()}const se={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Q={setTimeout(t,n,...e){const{delegate:r}=Q;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=Q;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function W(t){Q.setTimeout(()=>{const{onUnhandledError:n}=se;if(!n)throw t;n(t)})}function $(){}const L=Pe("C",void 0,void 0);function Pe(t,n,e){return{kind:t,value:n,error:e}}let pe=null;function z(t){if(se.useDeprecatedSynchronousErrorHandling){const n=!pe;if(n&&(pe={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=pe;if(pe=null,e)throw r}}else t()}class ae extends V{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,N(n)&&n.add(this)):this.destination=qe}static create(n,e,r){return new tt(n,e,r)}next(n){this.isStopped?ze(function Re(t){return Pe("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ze(function H(t){return Pe("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ze(L,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Se=Function.prototype.bind;function ce(t,n){return Se.call(t,n)}class rt{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){he(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){he(r)}else he(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){he(e)}}}class tt extends ae{constructor(n,e,r){let o;if(super(),D(n)||!n)o={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&se.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&ce(n.next,i),error:n.error&&ce(n.error,i),complete:n.complete&&ce(n.complete,i)}):o=n}this.destination=new rt(o)}}function he(t){se.useDeprecatedSynchronousErrorHandling?function G(t){se.useDeprecatedSynchronousErrorHandling&&pe&&(pe.errorThrown=!0,pe.error=t)}(t):W(t)}function ze(t,n){const{onStoppedNotification:e}=se;e&&Q.setTimeout(()=>e(t,n))}const qe={closed:!0,next:$,error:function le(t){throw t},complete:$},$e="function"==typeof Symbol&&Symbol.observable||"@@observable";function M(t){return t}function pt(t){return 0===t.length?M:1===t.length?t[0]:function(e){return t.reduce((r,o)=>o(r),e)}}let Dt=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){const i=function Ce(t){return t&&t instanceof ae||function Ve(t){return t&&D(t.next)&&D(t.error)&&D(t.complete)}(t)&&N(t)}(e)?e:new tt(e,r,o);return z(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Wt(r))((o,i)=>{const s=new tt({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[$e](){return this}pipe(...e){return pt(e)(this)}toPromise(e){return new(e=Wt(e))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=n=>new t(n),t})();function Wt(t){var n;return null!==(n=t??se.Promise)&&void 0!==n?n:Promise}const We=d(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nt=(()=>{class t extends Dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Nt(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new We}next(e){z(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){z(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){z(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:i}=this;return r||o?X:(this.currentObservers=null,i.push(e),new V(()=>{this.currentObservers=null,te(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){const e=new Dt;return e.source=this,e}}return t.create=(n,e)=>new Nt(n,e),t})();class Nt extends nt{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:X}}class Bt extends nt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Fe(t){return D(t?.lift)}function it(t){return n=>{if(Fe(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(t,n,e,r,o){return new ht(t,n,e,r,o)}class ht extends ae{constructor(n,e,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ee(t,n){return it((e,r)=>{let o=0;e.subscribe(Ct(r,i=>{r.next(t.call(n,i,o++))}))})}function U(t,n,e,r){var s,o=arguments.length,i=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(n,e,i):s(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i}function jt(t){return this instanceof jt?(this.v=t,this):new jt(t)}function _o(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function ai(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(p){i({value:p,done:a})},s)}(a,c,(s=t[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Er=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ln(t){return D(t?.then)}function Br(t){return D(t[$e])}function Vt(t){return Symbol.asyncIterator&&D(t?.[Symbol.asyncIterator])}function nn(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Fi=function rn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function li(t){return D(t?.[Fi])}function Ni(t){return function Xr(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(t,n||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(E){r[E]&&(o[E]=function(A){return new Promise(function(ne,ge){i.push([E,A,ne,ge])>1||a(E,A)})})}function a(E,A){try{!function c(E){E.value instanceof jt?Promise.resolve(E.value.v).then(p,g):v(i[0][2],E)}(r[E](A))}catch(ne){v(i[0][3],ne)}}function p(E){a("next",E)}function g(E){a("throw",E)}function v(E,A){E(A),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:o}=yield jt(e.read());if(o)return yield jt(void 0);yield yield jt(r)}}finally{e.releaseLock()}})}function _i(t){return D(t?.getReader)}function I(t){if(t instanceof Dt)return t;if(null!=t){if(Br(t))return function k(t){return new Dt(n=>{const e=t[$e]();if(D(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Er(t))return function x(t){return new Dt(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Ln(t))return function ko(t){return new Dt(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,W)})}(t);if(Vt(t))return Gi(t);if(li(t))return function ci(t){return new Dt(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(_i(t))return function $o(t){return Gi(Ni(t))}(t)}throw nn(t)}function Gi(t){return new Dt(n=>{(function cs(t,n){var e,r,o,i;return function Ho(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(g){try{p(r.next(g))}catch(v){s(v)}}function c(g){try{p(r.throw(g))}catch(v){s(v)}}function p(g){g.done?i(g.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(g.value).then(a,c)}p((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=_o(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Cr(t,n,e,r=0,o=!1){const i=n.schedule(function(){e(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function or(t,n,e=1/0){return D(n)?or((r,o)=>Ee((i,s)=>n(r,i,o,s))(I(t(r,o))),e):("number"==typeof n&&(e=n),it((r,o)=>function oo(t,n,e,r,o,i,s,a){const c=[];let p=0,g=0,v=!1;const E=()=>{v&&!c.length&&!p&&n.complete()},A=ge=>p<r?ne(ge):c.push(ge),ne=ge=>{i&&n.next(ge),p++;let Oe=!1;I(e(ge,g++)).subscribe(Ct(n,He=>{o?.(He),i?A(He):n.next(He)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(p--;c.length&&p<r;){const He=c.shift();s?Cr(n,s,()=>ne(He)):ne(He)}E()}catch(He){n.error(He)}}))};return t.subscribe(Ct(n,A,()=>{v=!0,E()})),()=>{a?.()}}(r,o,t,e)))}function Bo(t=1/0){return or(M,t)}const Mo=new Dt(t=>t.complete());function $i(t){return t&&D(t.schedule)}function Di(t){return t[t.length-1]}function uo(t){return D(Di(t))?t.pop():void 0}function To(t){return $i(Di(t))?t.pop():void 0}function Wn(t,n=0){return it((e,r)=>{e.subscribe(Ct(r,o=>Cr(r,t,()=>r.next(o),n),()=>Cr(r,t,()=>r.complete(),n),o=>Cr(r,t,()=>r.error(o),n)))})}function bs(t,n=0){return it((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Ii(t,n){if(!t)throw new Error("Iterable cannot be null");return new Dt(e=>{Cr(e,n,()=>{const r=t[Symbol.asyncIterator]();Cr(e,n,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function wr(t,n){return n?function us(t,n){if(null!=t){if(Br(t))return function Cs(t,n){return I(t).pipe(bs(n),Wn(n))}(t,n);if(Er(t))return function ui(t,n){return new Dt(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(Ln(t))return function oa(t,n){return I(t).pipe(bs(n),Wn(n))}(t,n);if(Vt(t))return Ii(t,n);if(li(t))return function ws(t,n){return new Dt(e=>{let r;return Cr(e,n,()=>{r=t[Fi](),Cr(e,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(o)},0,!0)}),()=>D(r?.return)&&r.return()})}(t,n);if(_i(t))return function js(t,n){return Ii(Ni(t),n)}(t,n)}throw nn(t)}(t,n):I(t)}function zo(...t){const n=To(t),e=function jr(t,n){return"number"==typeof Di(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?I(r[0]):Bo(e)(wr(r,n)):Mo}function Kt(...t){return wr(t,To(t))}function Ss(t={}){const{connector:n=(()=>new nt),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=t;return i=>{let s,a,c,p=0,g=!1,v=!1;const E=()=>{a?.unsubscribe(),a=void 0},A=()=>{E(),s=c=void 0,g=v=!1},ne=()=>{const ge=s;A(),ge?.unsubscribe()};return it((ge,Oe)=>{p++,!v&&!g&&E();const He=c=c??n();Oe.add(()=>{p--,0===p&&!v&&!g&&(a=R(ne,o))}),He.subscribe(Oe),!s&&p>0&&(s=new tt({next:Ie=>He.next(Ie),error:Ie=>{v=!0,E(),a=R(A,e,Ie),He.error(Ie)},complete:()=>{g=!0,E(),a=R(A,r),He.complete()}}),I(ge).subscribe(s))})(i)}}function R(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new tt({next:()=>{r.unsubscribe(),t()}});return I(n(...e)).subscribe(r)}function S(t,n){return it((e,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();e.subscribe(Ct(r,c=>{o?.unsubscribe();let p=0;const g=i++;I(t(c,g)).subscribe(o=Ct(r,v=>r.next(n?n(c,v,g,p++):v),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function B(t,n=M){return t=t??K,it((e,r)=>{let o,i=!0;e.subscribe(Ct(r,s=>{const a=n(s);(i||!t(o,a))&&(i=!1,o=a,r.next(s))}))})}function K(t,n){return t===n}function _e(t){for(let n in t)if(t[n]===_e)return n;throw Error("Could not find renamed property on target object.")}function be(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function ut(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const st=_e({__forward_ref__:_e});function Qe(t){return t.__forward_ref__=Qe,t.toString=function(){return Be(this())},t}function dt(t){return _n(t)?t():t}function _n(t){return"function"==typeof t&&t.hasOwnProperty(st)&&t.__forward_ref__===Qe}function bn(t){return t&&!!t.\u0275providers}const Wo="https://g.co/ng/security#xss";class ue extends Error{constructor(n,e){super(function Zo(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function on(t){return"string"==typeof t?t:null==t?"":String(t)}function sa(t,n){throw new ue(-201,!1)}function jo(t,n){null==t&&function Cn(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function mt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Es(t){return la(t,Is)||la(t,ca)}function la(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ds(t){return t&&(t.hasOwnProperty(Gs)||t.hasOwnProperty(Ta))?t[Gs]:null}const Is=_e({\u0275prov:_e}),Gs=_e({\u0275inj:_e}),ca=_e({ngInjectableDef:_e}),Ta=_e({ngInjectorDef:_e});var An=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(An||{});let zs;function vo(t){const n=zs;return zs=t,n}function da(t,n,e){const r=Es(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&An.Optional?null:void 0!==n?n:void sa(Be(t))}const ir=globalThis,xs={},ma="__NG_DI_FLAG__",Zs="ngTempTokenPath",ml=/\n/gm,ga="__source";let Ar;function Dr(t){const n=Ar;return Ar=t,n}function Vr(t,n=An.Default){if(void 0===Ar)throw new ue(-203,!1);return null===Ar?da(t,void 0,n):Ar.get(t,n&An.Optional?null:void 0,n)}function de(t,n=An.Default){return(function ua(){return zs}()||Vr)(dt(t),n)}function f(t,n=An.Default){return de(t,_(n))}function _(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function C(t){const n=[];for(let e=0;e<t.length;e++){const r=dt(t[e]);if(Array.isArray(r)){if(0===r.length)throw new ue(900,!1);let o,i=An.Default;for(let s=0;s<r.length;s++){const a=r[s],c=Z(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}n.push(de(o,i))}else n.push(de(r))}return n}function F(t,n){return t[ma]=n,t.prototype[ma]=n,t}function Z(t){return t[ma]}function je(t){return{toString:t}.toString()}var Mt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Mt||{}),cn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(cn||{});const Tn={},Yt=[],wn=_e({\u0275cmp:_e}),fn=_e({\u0275dir:_e}),Bn=_e({\u0275pipe:_e}),Ur=_e({\u0275mod:_e}),Qr=_e({\u0275fac:_e}),io=_e({__NG_ELEMENT_ID__:_e}),yt=_e({__NG_ENV_ID__:_e});function an(t,n,e){let r=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}e=o+1}}function Hr(t,n,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const i=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,i)}else{const i=o,s=e[++r];sr(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),r++}}return r}function mr(t){return 3===t||4===t||6===t}function sr(t){return 64===t.charCodeAt(0)}function Jn(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?e=o:0===e||bo(t,e,o,null,-1===e||2===e?n[++r]:null)}}return t}function bo(t,n,e,r,o){let i=0,s=t.length;if(-1===n)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}const kc="ng-template";function du(t,n,e){let r=0,o=!0;for(;r<t.length;){let i=t[r++];if("string"==typeof i&&o){const s=t[r++];if(e&&"class"===i&&-1!==an(s.toLowerCase(),n,0))return!0}else{if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===n)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function Mc(t){return 4===t.type&&t.value!==kc}function fu(t,n,e){return n===(4!==t.type||e?t.value:kc)}function pu(t,n,e){let r=4;const o=t.attrs||[],i=function tn(t){for(let n=0;n<t.length;n++)if(mr(t[n]))return n;return t.length}(o);let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!fu(t,c,e)||""===c&&1===n.length){if(Sn(r))return!1;s=!0}}else{const p=8&r?c:n[++a];if(8&r&&null!==t.attrs){if(!du(t.attrs,p,e)){if(Sn(r))return!1;s=!0}continue}const v=Ao(8&r?"class":c,o,Mc(t),e);if(-1===v){if(Sn(r))return!1;s=!0;continue}if(""!==p){let E;E=v>i?"":o[v+1].toLowerCase();const A=8&r?E:null;if(A&&-1!==an(A,p,0)||2&r&&p!==E){if(Sn(r))return!1;s=!0}}}}else{if(!s&&!Sn(r)&&!Sn(c))return!1;if(s&&Sn(c))continue;s=!1,r=c|1&r}}return Sn(r)||s}function Sn(t){return 0==(1&t)}function Ao(t,n,e,r){if(null===n)return-1;let o=0;if(r||!e){let i=!1;for(;o<n.length;){const s=n[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function so(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function Po(t,n,e=!1){for(let r=0;r<n.length;r++)if(pu(t,n[r],e))return!0;return!1}function Ir(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function ao(t,n){return t?":not("+n.trim()+")":n}function Fr(t){let n=t[0],e=1,r=2,o="",i=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Sn(s)&&(n+=ao(i,o),o=""),r=s,i=i||!Sn(r);e++}return""!==o&&(n+=ao(i,o)),n}function m(t){return je(()=>{const n=eo(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Mt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cn.Emulated,styles:t.styles||Yt,_:null,schemas:t.schemas||null,tView:null,id:""};yi(e);const r=t.dependencies;return e.directiveDefs=Co(r,!1),e.pipeDefs=Co(r,!0),e.id=function pn(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const o of e)n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function O(t){return zt(t)||In(t)}function Y(t){return null!==t}function me(t){return je(()=>({type:t.type,bootstrap:t.bootstrap||Yt,declarations:t.declarations||Yt,imports:t.imports||Yt,exports:t.exports||Yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ge(t,n){if(null==t)return Tn;const e={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),e[o]=r,n&&(n[o]=i)}return e}function Ze(t){return je(()=>{const n=eo(t);return yi(n),n})}function qt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function zt(t){return t[wn]||null}function In(t){return t[fn]||null}function sn(t){return t[Bn]||null}function En(t,n){const e=t[Ur]||null;if(!e&&!0===n)throw new Error(`Type ${Be(t)} does not have '\u0275mod' property.`);return e}function eo(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Tn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ge(t.inputs,n),outputs:Ge(t.outputs)}}function yi(t){t.features?.forEach(n=>n(t))}function Co(t,n){if(!t)return null;const e=n?sn:O;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(Y)}const Gn=0,St=1,hn=2,$n=3,ds=4,Kl=5,di=6,gl=7,po=8,_a=9,_l=10,Pn=11,Ql=12,Od=13,vl=14,ho=15,Jl=16,yl=17,ks=18,ec=19,Fd=20,va=21,qs=22,Tc=23,Ac=24,Yn=25,hu=1,Nd=2,Ms=7,bl=9,Xo=11;function xi(t){return Array.isArray(t)&&"object"==typeof t[hu]}function ki(t){return Array.isArray(t)&&!0===t[hu]}function mu(t){return 0!=(4&t.flags)}function Pa(t){return t.componentOffset>-1}function Rc(t){return 1==(1&t.flags)}function fs(t){return!!t.template}function gu(t){return 0!=(512&t[hn])}function Sr(t,n){return t.hasOwnProperty(Qr)?t[Qr]:null}let Tg=ir.WeakRef??class Mg{constructor(n){this.ref=n}deref(){return this.ref}},Ko=0,Xn=null,Je=!1;function Zn(t){const n=Xn;return Xn=t,n}class tr{constructor(){this.id=Ko++,this.ref=function Ag(t){return new Tg(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,e]of this.producers){const r=e.producerNode.deref();if(null!=r&&e.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=Je;Je=!0;try{for(const[e,r]of this.consumers){const o=r.consumerNode.deref();null!=o&&o.trackingVersion===r.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),o?.producers.delete(this.id))}}finally{Je=n}}producerAccessed(){if(Je)throw new Error("");if(null===Xn)return;let n=Xn.producers.get(this.id);void 0===n?(n={consumerNode:Xn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Xn.trackingVersion},Xn.producers.set(this.id,n),this.consumers.set(Xn.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=Xn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Xn?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let So=null;function T(t){const n=Zn(null);try{return t()}finally{Zn(n)}}const q=()=>{};class ye extends tr{constructor(n,e,r){super(),this.watch=n,this.schedule=e,this.dirty=!1,this.cleanupFn=q,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Zn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=q,this.watch(this.registerOnCleanup)}finally{Zn(n)}}cleanup(){this.cleanupFn()}}class Te{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ne(){return At}function At(t){return t.type.prototype.ngOnChanges&&(t.setInput=lr),Rn}function Rn(){const t=On(this),n=t?.current;if(n){const e=t.previous;if(e===Tn)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function lr(t,n,e,r){const o=this.declaredInputs[e],i=On(t)||function Dn(t,n){return t[gr]=n}(t,{previous:Tn,current:null}),s=i.current||(i.current={}),a=i.previous,c=a[o];s[o]=new Te(c&&c.currentValue,n,a===Tn),t[r]=n}Ne.ngInherit=!0;const gr="__ngSimpleChanges__";function On(t){return t[gr]||null}const Eo=function(t,n,e){};function Rt(t){for(;Array.isArray(t);)t=t[Gn];return t}function Pr(t,n){return Rt(n[t])}function to(t,n){return Rt(n[t.index])}function _0(t,n){return t.data[n]}function _u(t,n){return t[n]}function Ts(t,n){const e=n[t];return xi(e)?e:e[Gn]}function nc(t,n){return null==n?null:t[n]}function v0(t){t[yl]=0}function TT(t){1024&t[hn]||(t[hn]|=1024,b0(t,1))}function y0(t){1024&t[hn]&&(t[hn]&=-1025,b0(t,-1))}function b0(t,n){let e=t[$n];if(null===e)return;e[Kl]+=n;let r=e;for(e=e[$n];null!==e&&(1===n&&1===r[Kl]||-1===n&&0===r[Kl]);)e[Kl]+=n,r=e,e=e[$n]}const Fn={lFrame:A0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function S0(){return Fn.bindingsEnabled}function vu(){return null!==Fn.skipHydrationRootTNode}function _t(){return Fn.lFrame.lView}function _r(){return Fn.lFrame.tView}function mn(t){return Fn.lFrame.contextLView=t,t[po]}function gn(t){return Fn.lFrame.contextLView=null,t}function Mi(){let t=E0();for(;null!==t&&64===t.type;)t=t.parent;return t}function E0(){return Fn.lFrame.currentTNode}function Ra(t,n){const e=Fn.lFrame;e.currentTNode=t,e.isParent=n}function Pg(){return Fn.lFrame.isParent}function Rg(){Fn.lFrame.isParent=!1}function Cl(){return Fn.lFrame.bindingIndex}function yu(){return Fn.lFrame.bindingIndex++}function wl(t){const n=Fn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function UT(t,n){const e=Fn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Og(n)}function Og(t){Fn.lFrame.currentDirectiveIndex=t}function k0(){return Fn.lFrame.currentQueryIndex}function Ng(t){Fn.lFrame.currentQueryIndex=t}function GT(t){const n=t[St];return 2===n.type?n.declTNode:1===n.type?t[di]:null}function M0(t,n,e){if(e&An.SkipSelf){let o=n,i=t;for(;!(o=o.parent,null!==o||e&An.Host||(o=GT(i),null===o||(i=i[vl],10&o.type))););if(null===o)return!1;n=o,t=i}const r=Fn.lFrame=T0();return r.currentTNode=n,r.lView=t,!0}function Lg(t){const n=T0(),e=t[St];Fn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function T0(){const t=Fn.lFrame,n=null===t?null:t.child;return null===n?A0(t):n}function A0(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function P0(){const t=Fn.lFrame;return Fn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const R0=P0;function $g(){const t=P0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qi(){return Fn.lFrame.selectedIndex}function Fc(t){Fn.lFrame.selectedIndex=t}function Do(){const t=Fn.lFrame;return _0(t.tView,t.selectedIndex)}let F0=!0;function kp(){return F0}function rc(t){F0=t}function Mp(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:p,ngOnDestroy:g}=i;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),c&&(t.viewHooks??=[]).push(-e,c),p&&((t.viewHooks??=[]).push(e,p),(t.viewCheckHooks??=[]).push(e,p)),null!=g&&(t.destroyHooks??=[]).push(e,g)}}function Tp(t,n,e){N0(t,n,3,e)}function Ap(t,n,e,r){(3&t[hn])===e&&N0(t,n,e,r)}function Bg(t,n){let e=t[hn];(3&e)===n&&(e&=8191,e+=1,t[hn]=e)}function N0(t,n,e,r){const i=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&t[yl]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(t[yl]+=65536),(a<i||-1==i)&&(QT(t,e,n,c),t[yl]=(4294901760&t[yl])+c+2),c++}function L0(t,n){Eo(4,t,n);const e=Zn(null);try{n.call(t)}finally{Zn(e),Eo(5,t,n)}}function QT(t,n,e,r){const o=e[r]<0,i=e[r+1],a=t[o?-e[r]:e[r]];o?t[hn]>>13<t[yl]>>16&&(3&t[hn])===n&&(t[hn]+=8192,L0(a,i)):L0(a,i)}const bu=-1;class Bd{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Vg(t){return t!==bu}function jd(t){return 32767&t}function Vd(t,n){let e=function nA(t){return t>>16}(t),r=n;for(;e>0;)r=r[vl],e--;return r}let Ug=!0;function Pp(t){const n=Ug;return Ug=t,n}const $0=255,B0=5;let rA=0;const Oa={};function Rp(t,n){const e=j0(t,n);if(-1!==e)return e;const r=n[St];r.firstCreatePass&&(t.injectorIndex=n.length,Hg(r.data,t),Hg(n,null),Hg(r.blueprint,null));const o=Op(t,n),i=t.injectorIndex;if(Vg(o)){const s=jd(o),a=Vd(o,n),c=a[St].data;for(let p=0;p<8;p++)n[i+p]=a[s+p]|c[s+p]}return n[i+8]=o,i}function Hg(t,n){t.push(0,0,0,0,0,0,0,0,n)}function j0(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Op(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,o=n;for(;null!==o;){if(r=Z0(o),null===r)return bu;if(e++,o=o[vl],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return bu}function Gg(t,n,e){!function oA(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(io)&&(r=e[io]),null==r&&(r=e[io]=rA++);const o=r&$0;n.data[t+(o>>B0)]|=1<<o}(t,n,e)}function V0(t,n,e){if(e&An.Optional||void 0!==t)return t;sa()}function U0(t,n,e,r){if(e&An.Optional&&void 0===r&&(r=null),!(e&(An.Self|An.Host))){const o=t[_a],i=vo(void 0);try{return o?o.get(n,r,e&An.Optional):da(n,r,e&An.Optional)}finally{vo(i)}}return V0(r,0,e)}function H0(t,n,e,r=An.Default,o){if(null!==t){if(2048&n[hn]&&!(r&An.Self)){const s=function uA(t,n,e,r,o){let i=t,s=n;for(;null!==i&&null!==s&&2048&s[hn]&&!(512&s[hn]);){const a=G0(i,s,e,r|An.Self,Oa);if(a!==Oa)return a;let c=i.parent;if(!c){const p=s[Fd];if(p){const g=p.get(e,Oa,r);if(g!==Oa)return g}c=Z0(s),s=s[vl]}i=c}return o}(t,n,e,r,Oa);if(s!==Oa)return s}const i=G0(t,n,e,r,Oa);if(i!==Oa)return i}return U0(n,e,r,o)}function G0(t,n,e,r,o){const i=function aA(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(io)?t[io]:void 0;return"number"==typeof n?n>=0?n&$0:cA:n}(e);if("function"==typeof i){if(!M0(n,t,r))return r&An.Host?V0(o,0,r):U0(n,e,r,o);try{let s;if(s=i(r),null!=s||r&An.Optional)return s;sa()}finally{R0()}}else if("number"==typeof i){let s=null,a=j0(t,n),c=bu,p=r&An.Host?n[ho][di]:null;for((-1===a||r&An.SkipSelf)&&(c=-1===a?Op(t,n):n[a+8],c!==bu&&W0(r,!1)?(s=n[St],a=jd(c),n=Vd(c,n)):a=-1);-1!==a;){const g=n[St];if(z0(i,a,g.data)){const v=sA(a,n,e,s,r,p);if(v!==Oa)return v}c=n[a+8],c!==bu&&W0(r,n[St].data[a+8]===p)&&z0(i,a,n)?(s=g,a=jd(c),n=Vd(c,n)):a=-1}}return o}function sA(t,n,e,r,o,i){const s=n[St],a=s.data[t+8],g=Fp(a,s,e,null==r?Pa(a)&&Ug:r!=s&&0!=(3&a.type),o&An.Host&&i===a);return null!==g?Nc(n,s,g,a):Oa}function Fp(t,n,e,r,o){const i=t.providerIndexes,s=n.data,a=1048575&i,c=t.directiveStart,g=i>>20,E=o?a+g:t.directiveEnd;for(let A=r?a:a+g;A<E;A++){const ne=s[A];if(A<c&&e===ne||A>=c&&ne.type===e)return A}if(o){const A=s[c];if(A&&fs(A)&&A.type===e)return c}return null}function Nc(t,n,e,r){let o=t[e];const i=n.data;if(function JT(t){return t instanceof Bd}(o)){const s=o;s.resolving&&function nl(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ue(-200,`Circular dependency in DI detected for ${t}${e}`)}(function It(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():on(t)}(i[e]));const a=Pp(s.canSeeViewProviders);s.resolving=!0;const p=s.injectImpl?vo(s.injectImpl):null;M0(t,r,An.Default);try{o=t[e]=s.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&function KT(t,n,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const s=At(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}o&&(e.preOrderHooks??=[]).push(0-t,o),i&&((e.preOrderHooks??=[]).push(t,i),(e.preOrderCheckHooks??=[]).push(t,i))}(e,i[e],n)}finally{null!==p&&vo(p),Pp(a),s.resolving=!1,R0()}}return o}function z0(t,n,e){return!!(e[n+(t>>B0)]&1<<t)}function W0(t,n){return!(t&An.Self||t&An.Host&&n)}class Yi{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return H0(this._tNode,this._lView,n,_(r),e)}}function cA(){return new Yi(Mi(),_t())}function ti(t){return je(()=>{const n=t.prototype.constructor,e=n[Qr]||zg(n),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[Qr]||zg(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function zg(t){return _n(t)?()=>{const n=zg(dt(t));return n&&n()}:Sr(t)}function Z0(t){const n=t[St],e=n.type;return 2===e?n.declTNode:1===e?t[di]:null}function Cu(t){return function iA(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let o=0;for(;o<r;){const i=e[o];if(mr(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof e[o];)o++;else{if(i===n)return e[o+1];o+=2}}}return null}(Mi(),t)}const Su="__parameters__";function Du(t,n,e){return je(()=>{const r=function Wg(t){return function(...e){if(t){const r=t(...e);for(const o in r)this[o]=r[o]}}}(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,p,g){const v=c.hasOwnProperty(Su)?c[Su]:Object.defineProperty(c,Su,{value:[]})[Su];for(;v.length<=g;)v.push(null);return(v[g]=v[g]||[]).push(s),c}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function xu(t,n){t.forEach(e=>Array.isArray(e)?xu(e,n):n(e))}function Y0(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Np(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Gd(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function As(t,n,e){let r=ku(t,n);return r>=0?t[1|r]=e:(r=~r,function _A(t,n,e,r){let o=t.length;if(o==n)t.push(e,r);else if(1===o)t.push(r,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Zg(t,n){const e=ku(t,n);if(e>=0)return t[1|e]}function ku(t,n){return function X0(t,n,e){let r=0,o=t.length>>e;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<e];if(n===s)return i<<e;s>n?o=i:r=i+1}return~(o<<e)}(t,n,1)}const $p=F(Du("Optional"),8),Bp=F(Du("SkipSelf"),4);function Gp(t){return 128==(128&t.flags)}var oc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(oc||{});const $A=/^>|^->|<!--|-->|--!>|<!-$/g,BA=/(<|>)/,jA="\u200b$1\u200b";const Qg=new Map;let VA=0;const e_="__ngContext__";function ji(t,n){xi(n)?(t[e_]=n[ec],function HA(t){Qg.set(t[ec],t)}(n)):t[e_]=n}let t_;function n_(t,n){return t_(t,n)}function Zd(t){const n=t[$n];return ki(n)?n[$n]:n}function gC(t){return vC(t[Ql])}function _C(t){return vC(t[ds])}function vC(t){for(;null!==t&&!ki(t);)t=t[ds];return t}function Au(t,n,e,r,o){if(null!=r){let i,s=!1;ki(r)?i=r:xi(r)&&(s=!0,r=r[Gn]);const a=Rt(r);0===t&&null!==e?null==o?wC(n,e,a):Lc(n,e,a,o||null,!0):1===t&&null!==e?Lc(n,e,a,o||null,!0):2===t?function Kp(t,n,e){const r=Yp(t,n);r&&function l2(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=i&&function d2(t,n,e,r,o){const i=e[Ms];i!==Rt(e)&&Au(n,t,r,i,o);for(let a=Xo;a<e.length;a++){const c=e[a];Yd(c[St],c,t,n,r,i)}}(n,t,i,e,o)}}function r_(t,n){return t.createComment(function lC(t){return t.replace($A,n=>n.replace(BA,jA))}(n))}function Zp(t,n,e){return t.createElement(n,e)}function bC(t,n){const e=t[bl],r=e.indexOf(n);y0(n),e.splice(r,1)}function qp(t,n){if(t.length<=Xo)return;const e=Xo+n,r=t[e];if(r){const o=r[Jl];null!==o&&o!==t&&bC(o,r),n>0&&(t[e-1][ds]=r[ds]);const i=Np(t,Xo+n);!function e2(t,n){Yd(t,n,n[Pn],2,null,null),n[Gn]=null,n[di]=null}(r[St],r);const s=i[ks];null!==s&&s.detachView(i[St]),r[$n]=null,r[ds]=null,r[hn]&=-129}return r}function o_(t,n){if(!(256&n[hn])){const e=n[Pn];n[Tc]?.destroy(),n[Ac]?.destroy(),e.destroyNode&&Yd(t,n,e,3,null,null),function r2(t){let n=t[Ql];if(!n)return i_(t[St],t);for(;n;){let e=null;if(xi(n))e=n[Ql];else{const r=n[Xo];r&&(e=r)}if(!e){for(;n&&!n[ds]&&n!==t;)xi(n)&&i_(n[St],n),n=n[$n];null===n&&(n=t),xi(n)&&i_(n[St],n),e=n&&n[ds]}n=e}}(n)}}function i_(t,n){if(!(256&n[hn])){n[hn]&=-129,n[hn]|=256,function a2(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const o=n[e[r]];if(!(o instanceof Bd)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];Eo(4,a,c);try{c.call(a)}finally{Eo(5,a,c)}}else{Eo(4,o,i);try{i.call(o)}finally{Eo(5,o,i)}}}}}(t,n),function s2(t,n){const e=t.cleanup,r=n[gl];if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else e[i].call(r[e[i+1]]);null!==r&&(n[gl]=null);const o=n[va];if(null!==o){n[va]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(t,n),1===n[St].type&&n[Pn].destroy();const e=n[Jl];if(null!==e&&ki(n[$n])){e!==n[$n]&&bC(e,n);const r=n[ks];null!==r&&r.detachView(t)}!function GA(t){Qg.delete(t[ec])}(n)}}function s_(t,n,e){return function CC(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[Gn];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=t.data[r.directiveStart+o];if(i===cn.None||i===cn.Emulated)return null}return to(r,e)}}(t,n.parent,e)}function Lc(t,n,e,r,o){t.insertBefore(n,e,r,o)}function wC(t,n,e){t.appendChild(n,e)}function SC(t,n,e,r,o){null!==r?Lc(t,n,e,r,o):wC(t,n,e)}function Yp(t,n){return t.parentNode(n)}function EC(t,n,e){return IC(t,n,e)}let a_,Qp,d_,IC=function DC(t,n,e){return 40&t.type?to(t,e):null};function Xp(t,n,e,r){const o=s_(t,r,n),i=n[Pn],a=EC(r.parent||n[di],r,n);if(null!=o)if(Array.isArray(e))for(let c=0;c<e.length;c++)SC(i,o,e[c],a,!1);else SC(i,o,e,a,!1);void 0!==a_&&a_(i,r,n,e,o)}function qd(t,n){if(null!==n){const e=n.type;if(3&e)return to(n,t);if(4&e)return l_(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return qd(t,r);{const o=t[n.index];return ki(o)?l_(-1,o):Rt(o)}}if(32&e)return n_(n,t)()||Rt(t[n.index]);{const r=kC(t,n);return null!==r?Array.isArray(r)?r[0]:qd(Zd(t[ho]),r):qd(t,n.next)}}return null}function kC(t,n){return null!==n?t[ho][di].projection[n.projection]:null}function l_(t,n){const e=Xo+t+1;if(e<n.length){const r=n[e],o=r[St].firstChild;if(null!==o)return qd(r,o)}return n[Ms]}function c_(t,n,e,r,o,i,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===n&&(a&&ji(Rt(a),r),e.flags|=2),32!=(32&e.flags))if(8&c)c_(t,n,e.child,r,o,i,!1),Au(n,t,o,a,i);else if(32&c){const p=n_(e,r);let g;for(;g=p();)Au(n,t,o,g,i);Au(n,t,o,a,i)}else 16&c?TC(t,n,r,e,o,i):Au(n,t,o,a,i);e=s?e.projectionNext:e.next}}function Yd(t,n,e,r,o,i){c_(e,r,t.firstChild,n,o,i,!1)}function TC(t,n,e,r,o,i){const s=e[ho],c=s[di].projection[r.projection];if(Array.isArray(c))for(let p=0;p<c.length;p++)Au(n,t,o,c[p],i);else{let p=c;const g=s[$n];Gp(r)&&(p.flags|=128),c_(t,n,p,g,o,i,!0)}}function AC(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function PC(t,n,e){const{mergedAttrs:r,classes:o,styles:i}=e;null!==r&&Hr(t,n,r),null!==o&&AC(t,n,o),null!==i&&function p2(t,n,e){t.setAttribute(n,"style",e)}(t,n,i)}function Pu(t){return function u_(){if(void 0===Qp&&(Qp=null,ir.trustedTypes))try{Qp=ir.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qp}()?.createHTML(t)||t}class $c{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wo})`}}class v2 extends $c{getTypeName(){return"HTML"}}class y2 extends $c{getTypeName(){return"Style"}}class b2 extends $c{getTypeName(){return"Script"}}class C2 extends $c{getTypeName(){return"URL"}}class w2 extends $c{getTypeName(){return"ResourceURL"}}function Ps(t){return t instanceof $c?t.changingThisBreaksApplicationSecurity:t}function Fa(t,n){const e=function S2(t){return t instanceof $c&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Wo})`)}return e===n}class M2{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Pu(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class T2{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=Pu(n),e}}const P2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eh(t){return(t=String(t)).match(P2)?t:"unsafe:"+t}function Sl(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Xd(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const LC=Sl("area,br,col,hr,img,wbr"),$C=Sl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),BC=Sl("rp,rt"),p_=Xd(LC,Xd($C,Sl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xd(BC,Sl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xd(BC,$C)),h_=Sl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jC=Xd(h_,Sl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),R2=Sl("script,style,template");class O2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!p_.hasOwnProperty(e))return this.sanitizedSomething=!0,!R2.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!jC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;h_[a]&&(c=eh(c)),this.buf.push(" ",s,'="',VC(c),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();p_.hasOwnProperty(e)&&!LC.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(VC(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const F2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N2=/([^\#-~ |!])/g;function VC(t){return t.replace(/&/g,"&amp;").replace(F2,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(N2,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let th;function UC(t,n){let e=null;try{th=th||function NC(t){const n=new T2(t);return function A2(){try{return!!(new window.DOMParser).parseFromString(Pu(""),"text/html")}catch{return!1}}()?new M2(n):n}(t);let r=n?String(n):"";e=th.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=e.innerHTML,e=th.getInertBodyElement(r)}while(r!==i);return Pu((new O2).sanitizeChildren(m_(e)||e))}finally{if(e){const r=m_(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function m_(t){return"content"in t&&function L2(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Rs=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Rs||{});class Ht{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=mt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qd=new Ht("ENVIRONMENT_INITIALIZER"),WC=new Ht("INJECTOR",-1),ZC=new Ht("INJECTOR_DEF_TYPES");class g_{get(n,e=xs){if(e===xs){const r=new Error(`NullInjectorError: No provider for ${Be(n)}!`);throw r.name="NullInjectorError",r}return e}}function nh(t){return{\u0275providers:t}}function G2(...t){return{\u0275providers:qC(0,t),\u0275fromNgModule:!0}}function qC(t,...n){const e=[],r=new Set;let o;const i=s=>{e.push(s)};return xu(n,s=>{const a=s;rh(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&YC(o,i),e}function YC(t,n){for(let e=0;e<t.length;e++){const{ngModule:r,providers:o}=t[e];__(o,i=>{n(i,r)})}}function rh(t,n,e,r){if(!(t=dt(t)))return!1;let o=null,i=Ds(t);const s=!i&&zt(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const c=t.ngModule;if(i=Ds(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const p of c)rh(p,n,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let p;r.add(o);try{xu(i.imports,g=>{rh(g,n,e,r)&&(p||=[],p.push(g))})}finally{}void 0!==p&&YC(p,n)}if(!a){const p=Sr(o)||(()=>new o);n({provide:o,useFactory:p,deps:Yt},o),n({provide:ZC,useValue:o,multi:!0},o),n({provide:Qd,useValue:()=>de(o),multi:!0},o)}const c=i.providers;if(null!=c&&!a){const p=t;__(c,g=>{n(g,p)})}}}return o!==t&&void 0!==t.providers}function __(t,n){for(let e of t)bn(e)&&(e=e.\u0275providers),Array.isArray(e)?__(e,n):n(e)}const z2=_e({provide:String,useValue:_e});function v_(t){return null!==t&&"object"==typeof t&&z2 in t}function Bc(t){return"function"==typeof t}const y_=new Ht("Set Injector scope."),oh={},Z2={};let b_;function ih(){return void 0===b_&&(b_=new g_),b_}class Ti{}class sh extends Ti{get destroyed(){return this._destroyed}constructor(n,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,w_(n,s=>this.processProvider(s)),this.records.set(WC,Ou(void 0,this)),o.has("environment")&&this.records.set(Ti,Ou(void 0,this));const i=this.records.get(y_);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(ZC.multi,Yt,An.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Dr(this),r=vo(void 0);try{return n()}finally{Dr(e),vo(r)}}get(n,e=xs,r=An.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(yt))return n[yt](this);r=_(r);const i=Dr(this),s=vo(void 0);try{if(!(r&An.SkipSelf)){let c=this.records.get(n);if(void 0===c){const p=function Q2(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ht}(n)&&Es(n);c=p&&this.injectableDefInScope(p)?Ou(C_(n),oh):null,this.records.set(n,c)}if(null!=c)return this.hydrate(n,c)}return(r&An.Self?ih():this.parent).get(n,e=r&An.Optional&&e===xs?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Zs]=a[Zs]||[]).unshift(Be(n)),i)throw a;return function ve(t,n,e,r){const o=t[Zs];throw n[ga]&&o.unshift(n[ga]),t.message=function xe(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Be(n);if(Array.isArray(n))o=n.map(Be).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Be(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${t.replace(ml,"\n  ")}`}("\n"+t.message,o,e,r),t.ngTokenPath=o,t[Zs]=null,t}(a,n,"R3InjectorError",this.source)}throw a}finally{vo(s),Dr(i)}}resolveInjectorInitializers(){const n=Dr(this),e=vo(void 0);try{const o=this.get(Qd.multi,Yt,An.Self);for(const i of o)i()}finally{Dr(n),vo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Be(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(n){let e=Bc(n=dt(n))?n:dt(n&&n.provide);const r=function Y2(t){return v_(t)?Ou(void 0,t.useValue):Ou(QC(t),oh)}(n);if(Bc(n)||!0!==n.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=Ou(void 0,oh,!0),o.factory=()=>C(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===oh&&(e.value=Z2,e.value=e.factory()),"object"==typeof e.value&&e.value&&function K2(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=dt(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function C_(t){const n=Es(t),e=null!==n?n.factory:Sr(t);if(null!==e)return e;if(t instanceof Ht)throw new ue(204,!1);if(t instanceof Function)return function q2(t){const n=t.length;if(n>0)throw Gd(n,"?"),new ue(204,!1);const e=function Ma(t){return t&&(t[Is]||t[ca])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new ue(204,!1)}function QC(t,n,e){let r;if(Bc(t)){const o=dt(t);return Sr(o)||C_(o)}if(v_(t))r=()=>dt(t.useValue);else if(function KC(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...C(t.deps||[]));else if(function XC(t){return!(!t||!t.useExisting)}(t))r=()=>de(dt(t.useExisting));else{const o=dt(t&&(t.useClass||t.provide));if(!function X2(t){return!!t.deps}(t))return Sr(o)||C_(o);r=()=>new o(...C(t.deps))}return r}function Ou(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function w_(t,n){for(const e of t)Array.isArray(e)?w_(e,n):e&&bn(e)?w_(e.\u0275providers,n):n(e)}const ah=new Ht("AppId",{providedIn:"root",factory:()=>J2}),J2="ng",JC=new Ht("Platform Initializer"),Na=new Ht("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ew=new Ht("CSP nonce",{providedIn:"root",factory:()=>function Ru(){if(void 0!==d_)return d_;if(typeof document<"u")return document;throw new ue(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let nw=(t,n,e)=>null;function M_(t,n,e=!1){return nw(t,n,e)}class cP{}class iw{}class dP{resolveComponentFactory(n){throw function uP(t){const n=Error(`No component factory found for ${Be(t)}.`);return n.ngComponent=t,n}(n)}}let ph=(()=>{class t{static#e=this.NULL=new dP}return t})();function fP(){return Nu(Mi(),_t())}function Nu(t,n){return new bt(to(t,n))}let bt=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=fP}return t})();function pP(t){return t instanceof bt?t.nativeElement:t}class aw{}let El=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function hP(){const t=_t(),e=Ts(Mi().index,t);return(xi(e)?e:t)[Pn]}()}return t})(),mP=(()=>{class t{static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>null})}return t})();class nf{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const gP=new nf("16.2.2"),P_={};function dw(t,n=null,e=null,r){const o=fw(t,n,e,r);return o.resolveInjectorInitializers(),o}function fw(t,n=null,e=null,r,o=new Set){const i=[e||Yt,G2(t)];return r=r||("object"==typeof t?void 0:Be(t)),new sh(i,n||ih(),r||null,o)}let lo=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=xs;static#t=this.NULL=new g_;static create(e,r){if(Array.isArray(e))return dw({name:""},r,e,"");{const o=e.name??"";return dw({name:o},e.parent,e.providers,o)}}static#n=this.\u0275prov=mt({token:t,providedIn:"any",factory:()=>de(WC)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Dl(t){return t instanceof Function?t():t}let F_=(()=>{class t{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new ue(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const e of this.callbacks)e.invoke()}finally{this.runningCallbacks=!1;for(const e of this.deferredCallbacks)this.callbacks.add(e);this.deferredCallbacks.clear()}}register(e){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(e)}unregister(e){this.callbacks.delete(e),this.deferredCallbacks.delete(e)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>new t})}return t})();function rf(t){for(;t;){t[hn]|=64;const n=Zd(t);if(gu(t)&&!n)return t;t=n}return null}function N_(t){return t.ngOriginalError}class jc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&N_(n);for(;e&&N_(e);)e=N_(e);return e||null}}const _w=new Ht("",{providedIn:"root",factory:()=>!1});class Cw extends tr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){rf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,e,r){const o=Zn(this);this.trackingVersion++;try{n(e,r)}finally{Zn(o)}}destroy(){this.trackingVersion++}}let mh=null;function ww(){return mh??=new Cw,mh}function Sw(t,n){return t[n]??ww()}function Ew(t,n){const e=ww();e.hasReadASignal&&(t[n]=mh,e.lView=t,mh=new Cw)}const Un={};function et(t){Dw(_r(),_t(),qi()+t,!1)}function Dw(t,n,e,r){if(!r)if(3==(3&n[hn])){const i=t.preOrderCheckHooks;null!==i&&Tp(n,i,e)}else{const i=t.preOrderHooks;null!==i&&Ap(n,i,0,e)}Fc(e)}function w(t,n=An.Default){const e=_t();return null===e?de(t,n):H0(Mi(),e,dt(t),n)}function gh(t,n,e,r,o,i,s,a,c,p,g){const v=n.blueprint.slice();return v[Gn]=o,v[hn]=140|r,(null!==p||t&&2048&t[hn])&&(v[hn]|=2048),v0(v),v[$n]=v[vl]=t,v[po]=e,v[_l]=s||t&&t[_l],v[Pn]=a||t&&t[Pn],v[_a]=c||t&&t[_a]||null,v[di]=i,v[ec]=function UA(){return VA++}(),v[qs]=g,v[Fd]=p,v[ho]=2==n.type?t[ho]:v,v}function Bu(t,n,e,r,o){let i=t.data[n];if(null===i)i=function L_(t,n,e,r,o){const i=E0(),s=Pg(),c=t.data[n]=function BP(t,n,e,r,o,i){let s=n?n.injectorIndex:-1,a=0;return vu()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,n,r,o);return null===t.firstChild&&(t.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c,c.prev=i)),c}(t,n,e,r,o),function VT(){return Fn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=e,i.value=r,i.attrs=o;const s=function $d(){const t=Fn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Ra(i,!0),i}function sf(t,n,e,r){if(0===e)return-1;const o=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return o}function xw(t,n,e,r,o){const i=Sw(n,Tc),s=qi(),a=2&r;try{if(Fc(-1),a&&n.length>Yn&&Dw(t,n,Yn,!1),Eo(a?2:0,o),a)i.runInContext(e,r,o);else{const p=Zn(null);try{e(r,o)}finally{Zn(p)}}}finally{a&&null===n[Tc]&&Ew(n,Tc),Fc(s),Eo(a?3:1,o)}}function $_(t,n,e){if(mu(n)){const r=Zn(null);try{const i=n.directiveEnd;for(let s=n.directiveStart;s<i;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{Zn(r)}}}function B_(t,n,e){S0()&&(function WP(t,n,e,r){const o=e.directiveStart,i=e.directiveEnd;Pa(e)&&function JP(t,n,e){const r=to(n,t),o=kw(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=_h(t,gh(t,o,null,s,r,n,null,t[_l].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=a}(n,e,t.data[o+e.componentOffset]),t.firstCreatePass||Rp(e,n),ji(r,n);const s=e.initialInputs;for(let a=o;a<i;a++){const c=t.data[a],p=Nc(n,t,a,e);ji(p,n),null!==s&&eR(0,a-o,p,c,0,s),fs(c)&&(Ts(e.index,n)[po]=Nc(n,t,a,e))}}(t,n,e,to(e,n)),64==(64&e.flags)&&Rw(t,n,e))}function j_(t,n,e=to){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?e(n,t):t[s];t[o++]=a}}}function kw(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=V_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function V_(t,n,e,r,o,i,s,a,c,p,g){const v=Yn+r,E=v+o,A=function RP(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:Un);return e}(v,E),ne="function"==typeof p?p():p;return A[St]={type:t,blueprint:A,template:e,queries:null,viewQuery:a,declTNode:n,data:A.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:ne,incompleteFirstPass:!1,ssrId:g}}let Mw=t=>null;function Tw(t,n,e,r){for(let o in t)if(t.hasOwnProperty(o)){e=null===e?{}:e;const i=t[o];null===r?Aw(e,n,o,i):r.hasOwnProperty(o)&&Aw(e,n,r[o],i)}return e}function Aw(t,n,e,r){t.hasOwnProperty(e)?t[e].push(n,r):t[e]=[n,r]}function Os(t,n,e,r,o,i,s,a){const c=to(n,e);let g,p=n.inputs;!a&&null!=p&&(g=p[r])?(W_(t,e,g,r,o),Pa(n)&&function UP(t,n){const e=Ts(n,t);16&e[hn]||(e[hn]|=64)}(e,n.index)):3&n.type&&(r=function VP(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,n.value||"",r):o,i.setProperty(c,r,o))}function U_(t,n,e,r){if(S0()){const o=null===r?null:{"":-1},i=function qP(t,n){const e=t.directiveRegistry;let r=null,o=null;if(e)for(let i=0;i<e.length;i++){const s=e[i];if(Po(n,s.selectors,!1))if(r||(r=[]),fs(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),H_(t,n,a.length)}else r.unshift(s),H_(t,n,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(t,e);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&Pw(t,n,e,s,o,a),o&&function YP(t,n,e){if(n){const r=t.localNames=[];for(let o=0;o<n.length;o+=2){const i=e[n[o+1]];if(null==i)throw new ue(-301,!1);r.push(n[o],i)}}}(e,r,o)}e.mergedAttrs=Jn(e.mergedAttrs,e.attrs)}function Pw(t,n,e,r,o,i){for(let p=0;p<r.length;p++)Gg(Rp(e,n),t,r[p].type);!function KP(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let p=0;p<r.length;p++){const g=r[p];g.providersResolver&&g.providersResolver(g)}let s=!1,a=!1,c=sf(t,n,r.length,null);for(let p=0;p<r.length;p++){const g=r[p];e.mergedAttrs=Jn(e.mergedAttrs,g.hostAttrs),QP(t,e,n,c,g),XP(c,g,o),null!==g.contentQueries&&(e.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(e.flags|=64);const v=g.type.prototype;!s&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}!function jP(t,n,e){const o=n.directiveEnd,i=t.data,s=n.attrs,a=[];let c=null,p=null;for(let g=n.directiveStart;g<o;g++){const v=i[g],E=e?e.get(v):null,ne=E?E.outputs:null;c=Tw(v.inputs,g,c,E?E.inputs:null),p=Tw(v.outputs,g,p,ne);const ge=null===c||null===s||Mc(n)?null:tR(c,g,s);a.push(ge)}null!==c&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=c,n.outputs=p}(t,e,i)}function Rw(t,n,e){const r=e.directiveStart,o=e.directiveEnd,i=e.index,s=function HT(){return Fn.lFrame.currentDirectiveIndex}();try{Fc(i);for(let a=r;a<o;a++){const c=t.data[a],p=n[a];Og(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&ZP(c,p)}}finally{Fc(-1),Og(s)}}function ZP(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function H_(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function XP(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;fs(n)&&(e[""]=t)}}function QP(t,n,e,r,o){t.data[r]=o;const i=o.factory||(o.factory=Sr(o.type)),s=new Bd(i,fs(o),w);t.blueprint[r]=s,e[r]=s,function GP(t,n,e,r,o){const i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~n.index;(function zP(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,r,i)}}(t,n,r,sf(t,e,o.hostVars,Un),o)}function La(t,n,e,r,o,i){const s=to(t,n);!function G_(t,n,e,r,o,i,s){if(null==i)t.removeAttribute(n,o,e);else{const a=null==s?on(i):s(i,r||"",o);t.setAttribute(n,o,a,e)}}(n[Pn],s,i,t.value,e,r,o)}function eR(t,n,e,r,o,i){const s=i[n];if(null!==s)for(let a=0;a<s.length;)Ow(r,e,s[a++],s[a++],s[a++])}function Ow(t,n,e,r,o){const i=Zn(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(o=s[r].call(n,o)),null!==t.setInput?t.setInput(n,o,e,r):n[r]=o}finally{Zn(i)}}function tR(t,n,e){let r=null,o=0;for(;o<e.length;){const i=e[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(t.hasOwnProperty(i)){null===r&&(r=[]);const s=t[i];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(i,s[a+1],e[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Fw(t,n,e,r){return[t,!0,!1,n,null,0,r,e,null,null,null]}function Nw(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r+1];if(-1!==i){const s=t.data[i];Ng(e[r]),s.contentQueries(2,n[i],i)}}}function _h(t,n){return t[Ql]?t[Od][ds]=n:t[Ql]=n,t[Od]=n,n}function z_(t,n,e){Ng(0);const r=Zn(null);try{n(t,e)}finally{Zn(r)}}function Lw(t){return t[gl]||(t[gl]=[])}function $w(t){return t.cleanup||(t.cleanup=[])}function jw(t,n){const e=t[_a],r=e?e.get(jc,null):null;r&&r.handleError(n)}function W_(t,n,e,r,o){for(let i=0;i<e.length;){const s=e[i++],a=e[i++];Ow(t.data[s],n[s],r,a,o)}}function Il(t,n,e){const r=Pr(n,t);!function yC(t,n,e){t.setValue(n,e)}(t[Pn],r,e)}function nR(t,n){const e=Ts(n,t),r=e[St];!function rR(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const o=e[Gn];null!==o&&null===e[qs]&&(e[qs]=M_(o,e[_a])),Z_(r,e,e[po])}function Z_(t,n,e){Lg(n);try{const r=t.viewQuery;null!==r&&z_(1,r,e);const o=t.template;null!==o&&xw(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Nw(t,n),t.staticViewQueries&&z_(2,t.viewQuery,e);const i=t.components;null!==i&&function oR(t,n){for(let e=0;e<n.length;e++)nR(t,n[e])}(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[hn]&=-5,$g()}}let Vw=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,r,o){const i=typeof Zone>"u"?null:Zone.current,s=new ye(e,p=>{this.all.has(p)&&this.queue.set(p,i)},o);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>new t})}return t})();function vh(t,n,e){let r=e?t.styles:null,o=e?t.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:1==i?o=ut(o,a):2==i&&(r=ut(r,a+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=o:t.classesWithoutHost=o}function af(t,n,e,r,o=!1){for(;null!==e;){const i=n[e.index];if(null!==i&&r.push(Rt(i)),ki(i)){for(let a=Xo;a<i.length;a++){const c=i[a],p=c[St].firstChild;null!==p&&af(c[St],c,p,r)}i[Ms]!==i[Gn]&&r.push(i[Ms])}const s=e.type;if(8&s)af(t,n,e.child,r);else if(32&s){const a=n_(e,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=kC(n,e);if(Array.isArray(a))r.push(...a);else{const c=Zd(n[ho]);af(c[St],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}function yh(t,n,e,r=!0){const o=n[_l],i=o.rendererFactory,s=o.afterRenderEventManager;i.begin?.(),s?.begin();try{Uw(t,n,t.template,e)}catch(c){throw r&&jw(n,c),c}finally{i.end?.(),o.effectManager?.flush(),s?.end()}}function Uw(t,n,e,r){const o=n[hn];if(256!=(256&o)){n[_l].effectManager?.flush(),Lg(n);try{v0(n),function I0(t){return Fn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&xw(t,n,e,2,r);const s=3==(3&o);if(s){const p=t.preOrderCheckHooks;null!==p&&Tp(n,p,null)}else{const p=t.preOrderHooks;null!==p&&Ap(n,p,0,null),Bg(n,0)}if(function aR(t){for(let n=gC(t);null!==n;n=_C(n)){if(!n[Nd])continue;const e=n[bl];for(let r=0;r<e.length;r++){TT(e[r])}}}(n),Hw(n,2),null!==t.contentQueries&&Nw(t,n),s){const p=t.contentCheckHooks;null!==p&&Tp(n,p)}else{const p=t.contentHooks;null!==p&&Ap(n,p,1),Bg(n,1)}!function PP(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const r=Sw(n,Ac);try{for(let o=0;o<e.length;o++){const i=e[o];if(i<0)Fc(~i);else{const s=i,a=e[++o],c=e[++o];UT(a,s),r.runInContext(c,2,n[s])}}}finally{null===n[Ac]&&Ew(n,Ac),Fc(-1)}}(t,n);const a=t.components;null!==a&&zw(n,a,0);const c=t.viewQuery;if(null!==c&&z_(2,c,r),s){const p=t.viewCheckHooks;null!==p&&Tp(n,p)}else{const p=t.viewHooks;null!==p&&Ap(n,p,2),Bg(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[hn]&=-73,y0(n)}finally{$g()}}}function Hw(t,n){for(let e=gC(t);null!==e;e=_C(e))for(let r=Xo;r<e.length;r++)Gw(e[r],n)}function lR(t,n,e){Gw(Ts(n,t),e)}function Gw(t,n){if(!function kT(t){return 128==(128&t[hn])}(t))return;const e=t[St];if(80&t[hn]&&0===n||1024&t[hn]||2===n)Uw(e,t,e.template,t[po]);else if(t[Kl]>0){Hw(t,1);const o=t[St].components;null!==o&&zw(t,o,1)}}function zw(t,n,e){for(let r=0;r<n.length;r++)lR(t,n[r],e)}class lf{get rootNodes(){const n=this._lView,e=n[St];return af(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[po]}set context(n){this._lView[po]=n}get destroyed(){return 256==(256&this._lView[hn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[$n];if(ki(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(qp(n,r),Np(e,r))}this._attachedToViewContainer=!1}o_(this._lView[St],this._lView)}onDestroy(n){!function C0(t,n){if(256==(256&t[hn]))throw new ue(911,!1);null===t[va]&&(t[va]=[]),t[va].push(n)}(this._lView,n)}markForCheck(){rf(this._cdRefInjectingView||this._lView)}detach(){this._lView[hn]&=-129}reattach(){this._lView[hn]|=128}detectChanges(){yh(this._lView[St],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function n2(t,n){Yd(t,n,n[Pn],2,null,null)}(this._lView[St],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=n}}class cR extends lf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;yh(n[St],n,n[po],!1)}checkNoChanges(){}get context(){return null}}class Ww extends ph{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=zt(n);return new cf(e,this.ngModule)}}function Zw(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class dR{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=_(r);const o=this.injector.get(n,P_,r);return o!==P_||e===P_?o:this.parentInjector.get(n,e,r)}}class cf extends iw{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=Zw(n.inputs);if(null!==e)for(const o of r)e.hasOwnProperty(o.propName)&&(o.transform=e[o.propName]);return r}get outputs(){return Zw(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function br(t){return t.map(Fr).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,o){let i=(o=o||this.ngModule)instanceof Ti?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new dR(n,i):n,a=s.get(aw,null);if(null===a)throw new ue(407,!1);const v={rendererFactory:a,sanitizer:s.get(mP,null),effectManager:s.get(Vw,null),afterRenderEventManager:s.get(F_,null)},E=a.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",ne=r?function OP(t,n,e,r){const i=r.get(_w,!1)||e===cn.ShadowDom,s=t.selectRootElement(n,i);return function FP(t){Mw(t)}(s),s}(E,r,this.componentDef.encapsulation,s):Zp(E,A,function uR(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(A)),He=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ie=null;null!==ne&&(Ie=M_(ne,s,!0));const kt=V_(0,null,null,1,0,null,null,null,null,null,null),gt=gh(null,kt,null,He,null,null,v,E,s,null,Ie);let Xt,zn;Lg(gt);try{const Io=this.componentDef;let gi,mg=null;Io.findHostDirectiveDefs?(gi=[],mg=new Map,Io.findHostDirectiveDefs(Io,gi,mg),gi.push(Io)):gi=[Io];const wp=function pR(t,n){const e=t[St],r=Yn;return t[r]=n,Bu(e,r,2,"#host",null)}(gt,ne),d0=function hR(t,n,e,r,o,i,s){const a=o[St];!function mR(t,n,e,r){for(const o of t)n.mergedAttrs=Jn(n.mergedAttrs,o.hostAttrs);null!==n.mergedAttrs&&(vh(n,n.mergedAttrs,!0),null!==e&&PC(r,e,n))}(r,t,n,s);let c=null;null!==n&&(c=M_(n,o[_a]));const p=i.rendererFactory.createRenderer(n,e);let g=16;e.signals?g=4096:e.onPush&&(g=64);const v=gh(o,kw(e),null,g,o[t.index],t,i,p,null,null,c);return a.firstCreatePass&&H_(a,t,r.length-1),_h(o,v),o[t.index]=v}(wp,ne,Io,gi,gt,v,E);zn=_0(kt,Yn),ne&&function _R(t,n,e,r){if(r)Hr(t,e,["ng-version",gP.full]);else{const{attrs:o,classes:i}=function u(t){const n=[],e=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&n.push(i,t[++r]):8===o&&e.push(i);else{if(!Sn(o))break;o=i}r++}return{attrs:n,classes:e}}(n.selectors[0]);o&&Hr(t,e,o),i&&i.length>0&&AC(t,e,i.join(" "))}}(E,Io,ne,r),void 0!==e&&function vR(t,n,e){const r=t.projection=[];for(let o=0;o<n.length;o++){const i=e[o];r.push(null!=i?Array.from(i):null)}}(zn,this.ngContentSelectors,e),Xt=function gR(t,n,e,r,o,i){const s=Mi(),a=o[St],c=to(s,o);Pw(a,o,s,e,null,r);for(let g=0;g<e.length;g++)ji(Nc(o,a,s.directiveStart+g,s),o);Rw(a,o,s),c&&ji(c,o);const p=Nc(o,a,s.directiveStart+s.componentOffset,s);if(t[po]=o[po]=p,null!==i)for(const g of i)g(p,n);return $_(a,s,t),p}(d0,Io,gi,mg,gt,[yR]),Z_(kt,gt,null)}finally{$g()}return new fR(this.componentType,Xt,Nu(zn,gt),gt,zn)}}class fR extends cP{constructor(n,e,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new cR(o),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const i=this._rootLView;W_(i[St],i,o,n,e),this.previousInputValues.set(n,e),rf(Ts(this._tNode.index,i))}}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function yR(){const t=Mi();Mp(_t()[St],t)}function cr(t){let n=function qw(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let o;if(fs(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ue(903,!1);o=n.\u0275dir}if(o){if(e){r.push(o);const s=t;s.inputs=bh(t.inputs),s.inputTransforms=bh(t.inputTransforms),s.declaredInputs=bh(t.declaredInputs),s.outputs=bh(t.outputs);const a=o.hostBindings;a&&SR(t,a);const c=o.viewQuery,p=o.contentQueries;if(c&&CR(t,c),p&&wR(t,p),be(t.inputs,o.inputs),be(t.declaredInputs,o.declaredInputs),be(t.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),be(s.inputTransforms,o.inputTransforms)),fs(o)&&o.data.animation){const g=t.data;g.animation=(g.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===cr&&(e=!1)}}n=Object.getPrototypeOf(n)}!function bR(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=n+=o.hostVars,o.hostAttrs=Jn(o.hostAttrs,e=Jn(e,o.hostAttrs))}}(r)}function bh(t){return t===Tn?{}:t===Yt?[]:t}function CR(t,n){const e=t.viewQuery;t.viewQuery=e?(r,o)=>{n(r,o),e(r,o)}:n}function wR(t,n){const e=t.contentQueries;t.contentQueries=e?(r,o,i)=>{n(r,o,i),e(r,o,i)}:n}function SR(t,n){const e=t.hostBindings;t.hostBindings=e?(r,o)=>{n(r,o),e(r,o)}:n}function Ch(t){return!!function q_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Vi(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Vc(t,n,e,r){const o=Vi(t,n,e);return Vi(t,n+1,r)||o}function Qs(t,n,e,r){const o=_t();return Vi(o,yu(),n)&&(_r(),La(Do(),o,t,n,e,r)),Qs}function Vu(t,n,e,r){return Vi(t,yu(),e)?n+on(e)+r:Un}function Hu(t,n,e,r,o,i,s,a){const p=function wh(t,n,e,r,o){const i=Vc(t,n,e,r);return Vi(t,n+2,o)||i}(t,Cl(),e,o,s);return wl(3),p?n+on(e)+r+on(o)+i+on(s)+a:Un}function Qt(t,n,e,r,o,i,s,a){const c=_t(),p=_r(),g=t+Yn,v=p.firstCreatePass?function qR(t,n,e,r,o,i,s,a,c){const p=n.consts,g=Bu(n,t,4,s||null,nc(p,a));U_(n,e,g,nc(p,c)),Mp(n,g);const v=g.tView=V_(2,g,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,p,null);return null!==n.queries&&(n.queries.template(n,g),v.queries=n.queries.embeddedTView(g)),g}(g,p,c,n,e,r,o,i,s):p.data[g];Ra(v,!1);const E=dS(p,c,v,t);kp()&&Xp(p,c,E,v),ji(E,c),_h(c,c[g]=Fw(E,c,E,v)),Rc(v)&&B_(p,c,v),null!=s&&j_(c,v,a)}let dS=function fS(t,n,e,r){return rc(!0),n[Pn].createComment("")};function Fs(t){return _u(function jT(){return Fn.lFrame.contextLView}(),Yn+t)}function ot(t,n,e){const r=_t();return Vi(r,yu(),n)&&Os(_r(),Do(),r,t,n,r[Pn],e,!1),ot}function ev(t,n,e,r,o){const s=o?"class":"style";W_(t,e,n.inputs[s],s,r)}function oe(t,n,e,r){const o=_t(),i=_r(),s=Yn+t,a=o[Pn],c=i.firstCreatePass?function QR(t,n,e,r,o,i){const s=n.consts,c=Bu(n,t,2,r,nc(s,o));return U_(n,e,c,nc(s,i)),null!==c.attrs&&vh(c,c.attrs,!1),null!==c.mergedAttrs&&vh(c,c.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,c),c}(s,i,o,n,e,r):i.data[s],p=pS(i,o,c,a,n,t);o[s]=p;const g=Rc(c);return Ra(c,!0),PC(a,p,c),32!=(32&c.flags)&&kp()&&Xp(i,o,p,c),0===function PT(){return Fn.lFrame.elementDepthCount}()&&ji(p,o),function RT(){Fn.lFrame.elementDepthCount++}(),g&&(B_(i,o,c),$_(i,c,o)),null!==r&&j_(o,c),oe}function J(){let t=Mi();Pg()?Rg():(t=t.parent,Ra(t,!1));const n=t;(function FT(t){return Fn.skipHydrationRootTNode===t})(n)&&function BT(){Fn.skipHydrationRootTNode=null}(),function OT(){Fn.lFrame.elementDepthCount--}();const e=_r();return e.firstCreatePass&&(Mp(e,t),mu(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function eA(t){return 0!=(8&t.flags)}(n)&&ev(e,n,_t(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function tA(t){return 0!=(16&t.flags)}(n)&&ev(e,n,_t(),n.stylesWithoutHost,!1),J}function lt(t,n,e,r){return oe(t,n,e,r),J(),lt}let pS=(t,n,e,r,o,i)=>(rc(!0),Zp(r,o,function O0(){return Fn.lFrame.currentNamespace}()));function Yu(t,n,e){const r=_t(),o=_r(),i=t+Yn,s=o.firstCreatePass?function tO(t,n,e,r,o){const i=n.consts,s=nc(i,r),a=Bu(n,t,8,"ng-container",s);return null!==s&&vh(a,s,!0),U_(n,e,a,nc(i,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(i,o,r,n,e):o.data[i];Ra(s,!0);const a=hS(o,r,s,t);return r[i]=a,kp()&&Xp(o,r,a,s),ji(a,r),Rc(s)&&(B_(o,r,s),$_(o,s,r)),null!=e&&j_(r,s),Yu}function Xu(){let t=Mi();const n=_r();return Pg()?Rg():(t=t.parent,Ra(t,!1)),n.firstCreatePass&&(Mp(n,t),mu(t)&&n.queries.elementEnd(t)),Xu}let hS=(t,n,e,r)=>(rc(!0),r_(n[Pn],""));function Rr(){return _t()}function hf(t){return!!t&&"function"==typeof t.then}function mS(t){return!!t&&"function"==typeof t.subscribe}function at(t,n,e,r){const o=_t(),i=_r(),s=Mi();return function _S(t,n,e,r,o,i,s){const a=Rc(r),p=t.firstCreatePass&&$w(t),g=n[po],v=Lw(n);let E=!0;if(3&r.type||s){const ge=to(r,n),Oe=s?s(ge):ge,He=v.length,Ie=s?gt=>s(Rt(gt[r.index])):r.index;let kt=null;if(!s&&a&&(kt=function oO(t,n,e,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===e&&o[i+1]===r){const a=n[gl],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(t,n,o,r.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=i,kt.__ngLastListenerFn__=i,E=!1;else{i=yS(r,n,g,i,!1);const gt=e.listen(Oe,o,i);v.push(i,gt),p&&p.push(o,Ie,He,He+1)}}else i=yS(r,n,g,i,!1);const A=r.outputs;let ne;if(E&&null!==A&&(ne=A[o])){const ge=ne.length;if(ge)for(let Oe=0;Oe<ge;Oe+=2){const Xt=n[ne[Oe]][ne[Oe+1]].subscribe(i),zn=v.length;v.push(i,Xt),p&&p.push(o,r.index,zn,-(zn+1))}}}(i,o,o[Pn],s,t,n,r),at}function vS(t,n,e,r){try{return Eo(6,n,e),!1!==e(r)}catch(o){return jw(t,o),!1}finally{Eo(7,n,e)}}function yS(t,n,e,r,o){return function i(s){if(s===Function)return r;rf(t.componentOffset>-1?Ts(t.index,n):n);let c=vS(n,e,r,s),p=i.__ngNextListenerFn__;for(;p;)c=vS(n,e,p,s)&&c,p=p.__ngNextListenerFn__;return o&&!1===c&&s.preventDefault(),c}}function Ut(t=1){return function zT(t){return(Fn.lFrame.contextLView=function WT(t,n){for(;t>0;)n=n[vl],t--;return n}(t,Fn.lFrame.contextLView))[po]}(t)}function iO(t,n){let e=null;const r=function Jr(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const i=n[o];if("*"!==i){if(null===r?Po(t,i,!0):Ir(r,i))return o}else e=o}return e}function Ot(t){const n=_t()[ho][di];if(!n.projection){const r=n.projection=Gd(t?t.length:1,null),o=r.slice();let i=n.child;for(;null!==i;){const s=t?iO(i,t):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function Pt(t,n=0,e){const r=_t(),o=_r(),i=Bu(o,Yn+t,16,null,e||null);null===i.projection&&(i.projection=n),Rg(),(!r[qs]||vu())&&32!=(32&i.flags)&&function u2(t,n,e){TC(n[Pn],0,n,e,s_(t,e,n),EC(e.parent||n[di],e,n))}(o,r,i)}function xh(t,n,e,r,o){const i=_t(),s=Vu(i,n,e,r);return s!==Un&&Os(_r(),Do(),i,t,s,i[Pn],o,!1),xh}function kh(t,n){return t<<17|n<<2}function ic(t){return t>>17&32767}function tv(t){return 2|t}function Uc(t){return(131068&t)>>2}function nv(t,n){return-131069&t|n<<2}function rv(t){return 1|t}function MS(t,n,e,r,o){const i=t[e+1],s=null===n;let a=r?ic(i):Uc(i),c=!1;for(;0!==a&&(!1===c||s);){const g=t[a+1];dO(t[a],n)&&(c=!0,t[a+1]=r?rv(g):tv(g)),a=r?ic(g):Uc(g)}c&&(t[e+1]=r?tv(i):rv(i))}function dO(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ku(t,n)>=0}function Qu(t,n,e){return ya(t,n,e,!1),Qu}function xl(t,n){return ya(t,n,null,!0),xl}function ya(t,n,e,r){const o=_t(),i=_r(),s=wl(2);i.firstUpdatePass&&function LS(t,n,e,r){const o=t.data;if(null===o[e+1]){const i=o[qi()],s=function NS(t,n){return n>=t.expandoStartIndex}(t,e);(function VS(t,n){return 0!=(t.flags&(n?8:16))})(i,r)&&null===n&&!s&&(n=!1),n=function bO(t,n,e,r){const o=function Fg(t){const n=Fn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(e=mf(e=ov(null,t,n,e,r),n.attrs,r),i=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==o)if(e=ov(o,t,n,e,r),null===i){let c=function CO(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==Uc(r))return t[ic(r)]}(t,n,r);void 0!==c&&Array.isArray(c)&&(c=ov(null,t,n,c[1],r),c=mf(c,n.attrs,r),function wO(t,n,e,r){t[ic(e?n.classBindings:n.styleBindings)]=r}(t,n,r,c))}else i=function SO(t,n,e){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=mf(r,t[i].hostAttrs,e);return mf(r,n.attrs,e)}(t,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),e}(o,i,n,r),function cO(t,n,e,r,o,i){let s=i?n.classBindings:n.styleBindings,a=ic(s),c=Uc(s);t[r]=e;let g,p=!1;if(Array.isArray(e)?(g=e[1],(null===g||ku(e,g)>0)&&(p=!0)):g=e,o)if(0!==c){const E=ic(t[a+1]);t[r+1]=kh(E,a),0!==E&&(t[E+1]=nv(t[E+1],r)),t[a+1]=function aO(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=kh(a,0),0!==a&&(t[a+1]=nv(t[a+1],r)),a=r;else t[r+1]=kh(c,0),0===a?a=r:t[c+1]=nv(t[c+1],r),c=r;p&&(t[r+1]=tv(t[r+1])),MS(t,g,r,!0),MS(t,g,r,!1),function uO(t,n,e,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&ku(i,n)>=0&&(e[r+1]=rv(e[r+1]))}(n,g,t,r,i),s=kh(a,c),i?n.classBindings=s:n.styleBindings=s}(o,i,n,e,s,r)}}(i,t,s,r),n!==Un&&Vi(o,s,n)&&function BS(t,n,e,r,o,i,s,a){if(!(3&n.type))return;const c=t.data,p=c[a+1],g=function lO(t){return 1==(1&t)}(p)?jS(c,n,e,o,Uc(p),s):void 0;Mh(g)||(Mh(i)||function sO(t){return 2==(2&t)}(p)&&(i=jS(c,null,e,o,a,s)),function f2(t,n,e,r,o){if(n)o?t.addClass(e,r):t.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:oc.DashCase;null==o?t.removeStyle(e,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=oc.Important),t.setStyle(e,r,o,i))}}(r,s,Pr(qi(),e),o,i))}(i,i.data[qi()],o,o[Pn],t,o[s+1]=function xO(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Be(Ps(t)))),t}(n,e),r,s)}function ov(t,n,e,r,o){let i=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(i=n[a],r=mf(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function mf(t,n,e){const r=e?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),As(t,s,!!e||n[++i]))}return void 0===t?null:t}function jS(t,n,e,r,o,i){const s=null===n;let a;for(;o>0;){const c=t[o],p=Array.isArray(c),g=p?c[1]:c,v=null===g;let E=e[o+1];E===Un&&(E=v?Yt:void 0);let A=v?Zg(E,r):g===r?E:void 0;if(p&&!Mh(A)&&(A=Zg(c,r)),Mh(A)&&(a=A,s))return a;const ne=t[o+1];o=s?ic(ne):Uc(ne)}if(null!==n){let c=i?n.residualClasses:n.residualStyles;null!=c&&(a=Zg(c,r))}return a}function Mh(t){return void 0!==t}function Ue(t,n=""){const e=_t(),r=_r(),o=t+Yn,i=r.firstCreatePass?Bu(r,o,1,n,null):r.data[o],s=US(r,e,i,n,t);e[o]=s,kp()&&Xp(r,e,s,i),Ra(i,!1)}let US=(t,n,e,r,o)=>(rc(!0),function Wp(t,n){return t.createText(n)}(n[Pn],r));function Ns(t){return Ui("",t,""),Ns}function Ui(t,n,e){const r=_t(),o=Vu(r,t,n,e);return o!==Un&&Il(r,qi(),o),Ui}function gf(t,n,e,r,o){const i=_t(),s=function Uu(t,n,e,r,o,i){const a=Vc(t,Cl(),e,o);return wl(2),a?n+on(e)+r+on(o)+i:Un}(i,t,n,e,r,o);return s!==Un&&Il(i,qi(),s),gf}function iv(t,n,e,r,o,i,s){const a=_t(),c=Hu(a,t,n,e,r,o,i,s);return c!==Un&&Il(a,qi(),c),iv}const ed="en-US";let lE=ed;function lv(t,n,e,r,o){if(t=dt(t),Array.isArray(t))for(let i=0;i<t.length;i++)lv(t[i],n,e,r,o);else{const i=_r(),s=_t(),a=Mi();let c=Bc(t)?t:dt(t.provide);const p=QC(t),g=1048575&a.providerIndexes,v=a.directiveStart,E=a.providerIndexes>>20;if(Bc(t)||!t.multi){const A=new Bd(p,o,w),ne=uv(c,n,o?g:g+E,v);-1===ne?(Gg(Rp(a,s),i,c),cv(i,t,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(A),s.push(A)):(e[ne]=A,s[ne]=A)}else{const A=uv(c,n,g+E,v),ne=uv(c,n,g,g+E),Oe=ne>=0&&e[ne];if(o&&!Oe||!o&&!(A>=0&&e[A])){Gg(Rp(a,s),i,c);const He=function qF(t,n,e,r,o){const i=new Bd(t,e,w);return i.multi=[],i.index=n,i.componentProviders=0,RE(i,o,r&&!e),i}(o?ZF:WF,e.length,o,r,p);!o&&Oe&&(e[ne].providerFactory=He),cv(i,t,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(He),s.push(He)}else cv(i,t,A>-1?A:ne,RE(e[o?ne:A],p,!o&&r));!o&&r&&Oe&&e[ne].componentProviders++}}}function cv(t,n,e,r){const o=Bc(n),i=function W2(t){return!!t.useClass}(n);if(o||i){const c=(i?dt(n.useClass):n).prototype.ngOnDestroy;if(c){const p=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const g=p.indexOf(e);-1===g?p.push(e,[r,c]):p[g+1].push(r,c)}else p.push(e,c)}}}function RE(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function uv(t,n,e,r){for(let o=e;o<r;o++)if(n[o]===t)return o;return-1}function WF(t,n,e,r){return dv(this.multi,[])}function ZF(t,n,e,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Nc(e,e[St],this.providerFactory.index,r);i=a.slice(0,s),dv(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],dv(o,i);return i}function dv(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function xr(t,n=[]){return e=>{e.providersResolver=(r,o)=>function zF(t,n,e){const r=_r();if(r.firstCreatePass){const o=fs(t);lv(e,r.data,r.blueprint,o,!0),lv(n,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,n)}}class Gc{}class OE{}class fv extends Gc{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ww(this);const o=En(n);this._bootstrapComponents=Dl(o.bootstrap),this._r3Injector=fw(n,e,[{provide:Gc,useValue:this},{provide:ph,useValue:this.componentFactoryResolver},...r],Be(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class pv extends OE{constructor(n){super(),this.moduleType=n}create(n){return new fv(this.moduleType,n,[])}}class FE extends Gc{constructor(n){super(),this.componentFactoryResolver=new Ww(this),this.instance=null;const e=new sh([...n.providers,{provide:Gc,useValue:this},{provide:ph,useValue:this.componentFactoryResolver}],n.parent||ih(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function hv(t,n,e=null){return new FE({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let KF=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=qC(0,e.type),o=r.length>0?hv([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=mt({token:t,providedIn:"environment",factory:()=>new t(de(Ti))})}return t})();function NE(t){t.getStandaloneInjector=n=>n.get(KF).getOrCreateStandaloneInjector(t)}function HE(t,n,e,r,o,i){const s=n+e;return Vi(t,s,o)?function $a(t,n,e){return t[n]=e}(t,s+1,i?r.call(i,o):r(o)):function wf(t,n){const e=t[n];return e===Un?void 0:e}(t,s+1)}function Va(t,n){const e=_r();let r;const o=t+Yn;e.firstCreatePass?(r=function gN(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks??=[]).push(o,r.onDestroy)):r=e.data[o];const i=r.factory||(r.factory=Sr(r.type)),a=vo(w);try{const c=Pp(!1),p=i();return Pp(c),function KR(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,_t(),o,p),p}finally{vo(a)}}function Ua(t,n,e){const r=t+Yn,o=_t(),i=_u(o,r);return function Sf(t,n){return t[St].data[n].pure}(o,r)?HE(o,function Zi(){const t=Fn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,i.transform,e,i):i.transform(e)}function gv(t){return n=>{setTimeout(t,void 0,n)}}const Mn=class CN extends nt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let o=n,i=e||(()=>null),s=r;if(n&&"object"==typeof n){const c=n;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=gv(i),o&&(o=gv(o)),s&&(s=gv(s)));const a=super.subscribe({next:o,error:i,complete:s});return n instanceof V&&n.add(a),a}};function wN(){return this._results[Symbol.iterator]()}class _v{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Mn)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=_v.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=wN)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const o=function Xs(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function mA(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=n[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}(r._results,o,e))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function EN(t,n,e,r=!0){const o=n[St];if(function o2(t,n,e,r){const o=Xo+r,i=e.length;r>0&&(e[o-1][ds]=n),r<i-Xo?(n[ds]=e[o],Y0(e,Xo+r,n)):(e.push(n),n[ds]=null),n[$n]=e;const s=n[Jl];null!==s&&e!==s&&function i2(t,n){const e=t[bl];n[ho]!==n[$n][$n][ho]&&(t[Nd]=!0),null===e?t[bl]=[n]:e.push(n)}(s,n);const a=n[ks];null!==a&&a.insertView(t),n[hn]|=128}(o,n,t,e),r){const i=l_(e,t),s=n[Pn],a=Yp(s,t[Ms]);null!==a&&function t2(t,n,e,r,o,i){r[Gn]=o,r[di]=n,Yd(t,r,e,1,o,i)}(o,t[di],s,n,a,i)}}let Ca=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=xN}return t})();const DN=Ca,IN=class extends DN{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){const o=function SN(t,n,e,r){const o=n.tView,a=gh(t,o,e,4096&t[hn]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Jl]=t[n.index];const p=t[ks];return null!==p&&(a[ks]=p.createEmbeddedView(o)),Z_(o,a,e),a}(this._declarationLView,this._declarationTContainer,n,{injector:e,hydrationInfo:r});return new lf(o)}};function xN(){return Oh(Mi(),_t())}function Oh(t,n){return 4&t.type?new IN(n,t,Nu(t,n)):null}let ms=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=RN}return t})();function RN(){return eD(Mi(),_t())}const ON=ms,QE=class extends ON{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Nu(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Op(this._hostTNode,this._hostLView);if(Vg(n)){const e=Vd(n,this._hostLView),r=jd(n);return new Yi(e[St].data[r+8],e)}return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=JE(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-Xo}createEmbeddedView(n,e,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=n.createEmbeddedViewImpl(e||{},i,null);return this.insertImpl(a,o,false),a}createComponent(n,e,r,o,i){const s=n&&!function Hd(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const ge=e||{};a=ge.index,r=ge.injector,o=ge.projectableNodes,i=ge.environmentInjector||ge.ngModuleRef}const c=s?n:new cf(zt(n)),p=r||this.parentInjector;if(!i&&null==c.ngModule){const Oe=(s?p:this.parentInjector).get(Ti,null);Oe&&(i=Oe)}zt(c.componentType??{});const A=c.create(p,o,null,i);return this.insertImpl(A.hostView,a,false),A}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,r){const o=n._lView;if(function MT(t){return ki(t[$n])}(o)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const p=o[$n],g=new QE(p,p[di],p[$n]);g.detach(g.indexOf(n))}}const s=this._adjustIndex(e),a=this._lContainer;return EN(a,o,s,!r),n.attachToViewContainerRef(),Y0(vv(a),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=JE(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=qp(this._lContainer,e);r&&(Np(vv(this._lContainer),e),o_(r[St],r))}detach(n){const e=this._adjustIndex(n,-1),r=qp(this._lContainer,e);return r&&null!=Np(vv(this._lContainer),e)?new lf(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function JE(t){return t[8]}function vv(t){return t[8]||(t[8]=[])}function eD(t,n){let e;const r=n[t.index];return ki(r)?e=r:(e=Fw(r,n,null,t),n[t.index]=e,_h(n,e)),tD(e,n,t,r),new QE(e,t,n)}let tD=function nD(t,n,e,r){if(t[Ms])return;let o;o=8&e.type?Rt(r):function FN(t,n){const e=t[Pn],r=e.createComment(""),o=to(n,t);return Lc(e,Yp(e,o),r,function c2(t,n){return t.nextSibling(n)}(e,o),!1),r}(n,e),t[Ms]=o};class yv{constructor(n){this.queryList=n,this.matches=null}clone(){return new yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class bv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new bv(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==aD(n,e).matches&&this.queries[e].setDirty()}}class rD{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class Cv{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const o=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new Cv(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class wv{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new wv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(n,e,$N(e,i)),this.matchTNodeWithReadOption(n,e,Fp(e,n,i,!1,!1))}else r===Ca?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Fp(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===bt||o===ms||o===Ca&&4&e.type)this.addMatch(e.index,-2);else{const i=Fp(e,n,o,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function $N(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function jN(t,n,e,r){return-1===e?function BN(t,n){return 11&t.type?Nu(t,n):4&t.type?Oh(t,n):null}(n,t):-2===e?function VN(t,n,e){return e===bt?Nu(n,t):e===Ca?Oh(n,t):e===ms?eD(n,t):void 0}(t,n,r):Nc(t,t[St],e,n)}function oD(t,n,e,r){const o=n[ks].queries[r];if(null===o.matches){const i=t.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const p=s[c];a.push(p<0?null:jN(n,i[p],s[c+1],e.metadata.read))}o.matches=a}return o.matches}function Sv(t,n,e,r){const o=t.queries.getByIndex(e),i=o.matches;if(null!==i){const s=oD(t,n,o,e);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const p=i[a+1],g=n[-c];for(let v=Xo;v<g.length;v++){const E=g[v];E[Jl]===E[$n]&&Sv(E[St],E,p,r)}if(null!==g[bl]){const v=g[bl];for(let E=0;E<v.length;E++){const A=v[E];Sv(A[St],A,p,r)}}}}}return r}function Js(t){const n=_t(),e=_r(),r=k0();Ng(r+1);const o=aD(e,r);if(t.dirty&&function xT(t){return 4==(4&t[hn])}(n)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?Sv(e,n,r,[]):oD(e,n,o,r);t.reset(i,pP),t.notifyOnChanges()}return!0}return!1}function zc(t,n,e){const r=_r();r.firstCreatePass&&(sD(r,new rD(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),iD(r,_t(),n)}function td(t,n,e,r){const o=_r();if(o.firstCreatePass){const i=Mi();sD(o,new rD(n,e,r),i.index),function HN(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),2==(2&e)&&(o.staticContentQueries=!0)}iD(o,_t(),e)}function ea(){return function UN(t,n){return t[ks].queries[n].queryList}(_t(),k0())}function iD(t,n,e){const r=new _v(4==(4&e));(function $P(t,n,e,r){const o=Lw(n);o.push(e),t.firstCreatePass&&$w(t).push(r,o.length-1)})(t,n,r,r.destroy),null===n[ks]&&(n[ks]=new bv),n[ks].queries.push(new yv(r))}function sD(t,n,e){null===t.queries&&(t.queries=new Cv),t.queries.track(new wv(n,e))}function aD(t,n){return t.queries.getByIndex(n)}const od=new Ht("Application Initializer");let Mv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=f(od,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const o of this.appInits){const i=o();if(hf(i))e.push(i);else if(mS(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ED=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const kl=new Ht("LocaleId",{providedIn:"root",factory:()=>f(kl,An.Optional|An.SkipSelf)||function dL(){return typeof $localize<"u"&&$localize.locale||ed}()});let Lh=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Bt(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class hL{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let DD=(()=>{class t{compileModuleSync(e){return new pv(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=Dl(En(e).declarations).reduce((s,a)=>{const c=zt(a);return c&&s.push(new cf(c)),s},[]);return new hL(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MD(...t){}class ct{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mn(!1),this.onMicrotaskEmpty=new Mn(!1),this.onStable=new Mn(!1),this.onError=new Mn(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&e,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function OL(){const t="function"==typeof ir.requestAnimationFrame;let n=ir[t?"requestAnimationFrame":"setTimeout"],e=ir[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function LL(t){const n=()=>{!function NL(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ir,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Rv(t),t.isCheckStableRunning=!0,Pv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Rv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,o,i,s,a)=>{try{return TD(t),e.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&n(),AD(t)}},onInvoke:(e,r,o,i,s,a,c)=>{try{return TD(t),e.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&n(),AD(t)}},onHasTask:(e,r,o,i)=>{e.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Rv(t),Pv(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,o,i)=>(e.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ct.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(ct.isInAngularZone())throw new ue(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,FL,MD,MD);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const FL={};function Pv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Rv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function TD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function AD(t){t._nesting--,Pv(t)}class $L{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mn,this.onMicrotaskEmpty=new Mn,this.onStable=new Mn,this.onError=new Mn}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,o){return n.apply(e,r)}}const PD=new Ht("",{providedIn:"root",factory:RD});function RD(){const t=f(ct);let n=!0;return zo(new Dt(o=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{o.next(n),o.complete()})}),new Dt(o=>{let i;t.runOutsideAngular(()=>{i=t.onStable.subscribe(()=>{ct.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,o.next(!0))})})});const s=t.onUnstable.subscribe(()=>{ct.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(Ss()))}const OD=new Ht(""),Bh=new Ht("");let Nv,Ov=(()=>{class t{constructor(e,r,o){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nv||(function BL(t){Nv=t}(o),o.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ct.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:o})}whenStable(e,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,o){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(de(ct),de(Fv),de(Bh))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})(),Fv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Nv?.findTestabilityInTree(this,e,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),sc=null;const FD=new Ht("AllowMultipleToken"),Lv=new Ht("PlatformDestroyListeners"),$v=new Ht("appBootstrapListener");class LD{constructor(n,e){this.name=n,this.token=e}}function BD(t,n,e=[]){const r=`Platform: ${n}`,o=new Ht(r);return(i=[])=>{let s=Bv();if(!s||s.injector.get(FD,!1)){const a=[...e,...i,{provide:o,useValue:!0}];t?t(a):function UL(t){if(sc&&!sc.get(FD,!1))throw new ue(400,!1);(function ND(){!function Bi(t){So=t}(()=>{throw new ue(600,!1)})})(),sc=t;const n=t.get(VD);(function $D(t){t.get(JC,null)?.forEach(e=>e())})(t)}(function jD(t=[],n){return lo.create({name:n,providers:[{provide:y_,useValue:"platform"},{provide:Lv,useValue:new Set([()=>sc=null])},...t]})}(a,r))}return function GL(t){const n=Bv();if(!n)throw new ue(401,!1);return n}()}}function Bv(){return sc?.get(VD)??null}let VD=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const o=function zL(t="zone.js",n){return"noop"===t?new $L:"zone.js"===t?new ct(n):t}(r?.ngZone,function UD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const i=function XF(t,n,e){return new fv(t,n,e)}(e.moduleType,this.injector,function ZD(t){return[{provide:ct,useFactory:t},{provide:Qd,multi:!0,useFactory:()=>{const n=f(ZL,{optional:!0});return()=>n.initialize()}},{provide:WD,useFactory:WL},{provide:PD,useFactory:RD}]}(()=>o)),s=i.injector.get(jc,null);return o.runOutsideAngular(()=>{const a=o.onError.subscribe({next:c=>{s.handleError(c)}});i.onDestroy(()=>{jh(this._modules,i),a.unsubscribe()})}),function HD(t,n,e){try{const r=e();return hf(r)?r.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(s,o,()=>{const a=i.injector.get(Mv);return a.runInitializers(),a.donePromise.then(()=>(function cE(t){jo(t,"Expected localeId to be defined"),"string"==typeof t&&(lE=t.toLowerCase().replace(/_/g,"-"))}(i.injector.get(kl,ed)||ed),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,r=[]){const o=GD({},r);return function jL(t,n,e){const r=new pv(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(e){const r=e.injector.get(Ha);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new ue(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Lv,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(de(lo))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function GD(t,n){return Array.isArray(n)?n.reduce(GD,t):{...t,...n}}let Ha=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=f(WD),this.zoneIsStable=f(PD),this.componentTypes=[],this.components=[],this.isStable=f(Lh).hasPendingTasks.pipe(S(e=>e?Kt(!1):this.zoneIsStable),B(),Ss()),this._injector=f(Ti)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const o=e instanceof iw;if(!this._injector.get(Mv).done)throw!o&&function dn(t){const n=zt(t)||In(t)||sn(t);return null!==n&&n.standalone}(e),new ue(405,!1);let s;s=o?e:this._injector.get(ph).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function VL(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Gc),p=s.create(lo.NULL,[],r||s.selector,a),g=p.location.nativeElement,v=p.injector.get(OD,null);return v?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),jh(this.components,p),v?.unregisterApplication(g)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;jh(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get($v,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>jh(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new ue(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jh(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const WD=new Ht("",{providedIn:"root",factory:()=>f(jc).handleError.bind(void 0)});function WL(){const t=f(ct),n=f(jc);return e=>t.runOutsideAngular(()=>n.handleError(e))}let ZL=(()=>{class t{constructor(){this.zone=f(ct),this.applicationRef=f(Ha)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let xt=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=YL}return t})();function YL(t){return function XL(t,n,e){if(Pa(t)&&!e){const r=Ts(t.index,n);return new lf(r,r)}return 47&t.type?new lf(n[ho],n):null}(Mi(),_t(),16==(16&t))}class KD{constructor(){}supports(n){return Ch(n)}create(n){return new n3(n)}}const t3=(t,n)=>n;class n3{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||t3}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<JD(r,o,i)?e:r,a=JD(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{i||(i=[]);const p=a-o,g=c-o;if(p!=g){for(let E=0;E<p;E++){const A=E<i.length?i[E]:i[E]=0,ne=A+E;g<=ne&&ne<p&&(i[E]=A+1)}i[s.previousIndex]=g-p}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Ch(n))throw new ue(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,a),r=!0),e=e._next}else o=0,function TR(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),r=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,o)):n=this._addAfter(new r3(e,r),i,o),n}_verifyReinsertion(n,e,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new QD),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class r3{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class o3{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class QD{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new o3,this.map.set(e,r)),r.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JD(t,n,e){const r=t.previousIndex;if(null===r)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+n+o}function t1(){return new Hh([new KD])}let Hh=(()=>{class t{static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:t1});constructor(e){this.factories=e}static create(e,r){if(null!=r){const o=r.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||t1()),deps:[[t,new Bp,new $p]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(null!=r)return r;throw new ue(901,!1)}}return t})();const c3=BD(null,"core",[]);let u3=(()=>{class t{constructor(e){}static#e=this.\u0275fac=function(r){return new(r||t)(de(Ha))};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({})}return t})();function u1(t){const n=zt(t);if(!n)return null;const e=new cf(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}let zv=null;function ac(){return zv}class E3{}const Ai=new Ht("DocumentToken");let Wv=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return f(I3)},providedIn:"platform"})}return t})();const D3=new Ht("Location Initialized");let I3=(()=>{class t extends Wv{constructor(){super(),this._doc=f(Ai),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ac().getBaseHref(this._doc)}onPopState(e){const r=ac().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=ac().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Zv(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function d1(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Ml(t){return t&&"?"!==t[0]?"?"+t:t}let Ga=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return f(p1)},providedIn:"root"})}return t})();const f1=new Ht("appBaseHref");let p1=(()=>{class t extends Ga{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??f(Ai).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Zv(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ml(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){const s=this.prepareExternalUrl(o+Ml(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){const s=this.prepareExternalUrl(o+Ml(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||t)(de(Wv),de(f1,8))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),h1=(()=>{class t extends Ga{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Zv(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+Ml(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+Ml(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||t)(de(Wv),de(f1,8))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})(),xf=(()=>{class t{constructor(e){this._subject=new Mn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function M3(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(d1(m1(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ml(r))}normalize(e){return t.stripTrailingSlash(function k3(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,m1(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ml(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ml(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}static#e=this.normalizeQueryParams=Ml;static#t=this.joinWithSlash=Zv;static#n=this.stripTrailingSlash=d1;static#r=this.\u0275fac=function(r){return new(r||t)(de(Ga))};static#o=this.\u0275prov=mt({token:t,factory:function(){return function x3(){return new xf(de(Ga))}()},providedIn:"root"})}return t})();function m1(t){return t.replace(/\/index.html$/,"")}function E1(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[o,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}class m${constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zc=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new m$(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),x1(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{x1(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(w(ms),w(Ca),w(Hh))};static#t=this.\u0275dir=Ze({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function x1(t,n){t.context.$implicit=n.item}let wi=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new g$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){k1("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){k1("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(w(ms),w(Ca))};static#t=this.\u0275dir=Ze({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class g${constructor(){this.$implicit=null,this.ngIf=null}}function k1(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Be(n)}'.`)}class oy{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let tm=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const r of this._defaultViews)r.enforceState(e)}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Ze({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return t})(),M1=(()=>{class t{constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new oy(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(r){return new(r||t)(w(ms),w(Ca),w(tm,9))};static#t=this.\u0275dir=Ze({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return t})(),T1=(()=>{class t{constructor(e,r,o){o._addDefault(new oy(e,r))}static#e=this.\u0275fac=function(r){return new(r||t)(w(ms),w(Ca),w(tm,9))};static#t=this.\u0275dir=Ze({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return t})();class y${createSubscription(n,e){return T(()=>n.subscribe({next:e,error:r=>{throw r}}))}dispose(n){T(()=>n.unsubscribe())}}class b${createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const C$=new b$,w$=new y$;let P1=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(hf(e))return C$;if(mS(e))return w$;throw function Sa(t,n){return new ue(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(w(xt,16))};static#t=this.\u0275pipe=qt({name:"async",type:t,pure:!1,standalone:!0})}return t})(),za=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({})}return t})();const O1="browser";function lc(t){return t===O1}function F1(t){return"server"===t}let H$=(()=>{class t{static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>new G$(de(Ai),window)})}return t})();class G${constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function z$(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class N1{}class h4 extends E3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class uy extends h4{static makeCurrent(){!function S3(t){zv||(zv=t)}(new uy)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function m4(){return Af=Af||document.querySelector("base"),Af?Af.getAttribute("href"):null}();return null==e?null:function g4(t){om=om||document.createElement("a"),om.setAttribute("href",t);const n=om.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Af=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return E1(document.cookie,n)}}let om,Af=null,v4=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const dy=new Ht("EventManagerPlugins");let V1=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(i=>i.supports(e)),!r)throw new ue(5101,!1);return this._eventNameToPlugin.set(e,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(de(dy),de(ct))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();class U1{constructor(n){this._doc=n}}const fy="ng-app-id";let H1=(()=>{class t{constructor(e,r,o,i={}){this.doc=e,this.appId=r,this.nonce=o,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=F1(i),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(o=>o.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${fy}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(e,r){const o=this.styleRef;if(o.has(e)){const i=o.get(e);return i.usage+=r,i.usage}return o.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const o=this.styleNodesInDOM,i=o?.get(r);if(i?.parentNode===e)return o.delete(r),i.removeAttribute(fy),i;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(fy,this.appId),s}}addStyleToHost(e,r){const o=this.getStyleElement(e,r);e.appendChild(o);const i=this.styleRef,s=i.get(r)?.elements;s?s.push(o):i.set(r,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(de(Ai),de(ah),de(ew,8),de(Na))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const py={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hy=/%COMP%/g,w4=new Ht("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function z1(t,n){return n.map(e=>e.replace(hy,t))}let W1=(()=>{class t{constructor(e,r,o,i,s,a,c,p=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=F1(a),this.defaultRenderer=new my(e,s,c,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cn.ShadowDom&&(r={...r,encapsulation:cn.Emulated});const o=this.getOrCreateRenderer(e,r);return o instanceof q1?o.applyToHost(e):o instanceof gy&&o.applyStyles(),o}getOrCreateRenderer(e,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,c=this.eventManager,p=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(r.encapsulation){case cn.Emulated:i=new q1(c,p,r,this.appId,g,s,a,v);break;case cn.ShadowDom:return new I4(c,p,e,r,s,a,this.nonce,v);default:i=new gy(c,p,r,g,s,a,v)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(de(V1),de(H1),de(ah),de(w4),de(Ai),de(Na),de(ct),de(ew))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();class my{constructor(n,e,r,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(py[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Z1(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(Z1(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new ue(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;const i=py[o];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const o=py[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(oc.DashCase|oc.Important)?n.style.setProperty(e,r,o&oc.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&oc.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=ac().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function Z1(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class I4 extends my{constructor(n,e,r,o,i,s,a,c){super(n,i,s,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=z1(o.id,o.styles);for(const g of p){const v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=g,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class gy extends my{constructor(n,e,r,o,i,s,a,c){super(n,i,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=c?z1(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class q1 extends gy{constructor(n,e,r,o,i,s,a,c){const p=o+"-"+r.id;super(n,e,r,i,s,a,c,p),this.contentAttr=function S4(t){return"_ngcontent-%COMP%".replace(hy,t)}(p),this.hostAttr=function E4(t){return"_nghost-%COMP%".replace(hy,t)}(p)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let x4=(()=>{class t extends U1{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}static#e=this.\u0275fac=function(r){return new(r||t)(de(Ai))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const Y1=["alt","control","meta","shift"],k4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let T4=(()=>{class t extends U1{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ac().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Y1.forEach(p=>{const g=r.indexOf(p);g>-1&&(r.splice(g,1),s+=p+".")}),s+=i,0!=r.length||0===i.length)return null;const c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let o=k4[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Y1.forEach(s=>{s!==o&&(0,M4[s])(e)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{t.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(r){return new(r||t)(de(Ai))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const O4=BD(c3,"browser",[{provide:Na,useValue:O1},{provide:JC,useValue:function A4(){uy.makeCurrent()},multi:!0},{provide:Ai,useFactory:function R4(){return function _2(t){d_=t}(document),document},deps:[]}]),F4=new Ht(""),Q1=[{provide:Bh,useClass:class _4{addToWindow(n){ir.getAngularTestability=(r,o=!0)=>{const i=n.findTestabilityInTree(r,o);if(null==i)throw new ue(5103,!1);return i},ir.getAllAngularTestabilities=()=>n.getAllTestabilities(),ir.getAllAngularRootElements=()=>n.getAllRootElements(),ir.frameworkStabilizers||(ir.frameworkStabilizers=[]),ir.frameworkStabilizers.push(r=>{const o=ir.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?ac().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:OD,useClass:Ov,deps:[ct,Fv,Bh]},{provide:Ov,useClass:Ov,deps:[ct,Fv,Bh]}],J1=[{provide:y_,useValue:"root"},{provide:jc,useFactory:function P4(){return new jc},deps:[]},{provide:dy,useClass:x4,multi:!0,deps:[Ai,ct,Na]},{provide:dy,useClass:T4,multi:!0,deps:[Ai]},W1,H1,V1,{provide:aw,useExisting:W1},{provide:N1,useClass:v4,deps:[]},[]];let N4=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:ah,useValue:e.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(de(F4,12))};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({providers:[...J1,...Q1],imports:[za,u3]})}return t})(),eI=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(r){return new(r||t)(de(Ai))};static#t=this.\u0275prov=mt({token:t,factory:function(r){let o=null;return o=r?new r:function $4(){return new eI(de(Ai))}(),o},providedIn:"root"})}return t})();typeof window<"u"&&window;let vy=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(r){let o=null;return o=r?new(r||t):de(rI),o},providedIn:"root"})}return t})(),rI=(()=>{class t extends vy{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Rs.NONE:return r;case Rs.HTML:return Fa(r,"HTML")?Ps(r):UC(this._doc,String(r)).toString();case Rs.STYLE:return Fa(r,"Style")?Ps(r):r;case Rs.SCRIPT:if(Fa(r,"Script"))return Ps(r);throw new ue(5200,!1);case Rs.URL:return Fa(r,"URL")?Ps(r):eh(String(r));case Rs.RESOURCE_URL:if(Fa(r,"ResourceURL"))return Ps(r);throw new ue(5201,!1);default:throw new ue(5202,!1)}}bypassSecurityTrustHtml(e){return function E2(t){return new v2(t)}(e)}bypassSecurityTrustStyle(e){return function D2(t){return new y2(t)}(e)}bypassSecurityTrustScript(e){return function I2(t){return new b2(t)}(e)}bypassSecurityTrustUrl(e){return function x2(t){return new C2(t)}(e)}bypassSecurityTrustResourceUrl(e){return function k2(t){return new w2(t)}(e)}static#e=this.\u0275fac=function(r){return new(r||t)(de(Ai))};static#t=this.\u0275prov=mt({token:t,factory:function(r){let o=null;return o=r?new r:function U4(t){return new rI(t.get(Ai))}(de(lo)),o},providedIn:"root"})}return t})();var ri=P(5861),H4=P(6299),ad=P.n(H4);let im,sm;function iI(t){if(!window.location.hash.startsWith(t))return;const n=window.location.hash.split("?")[1];if(!n)return;const e=n.split("&").map(r=>r.split("="));for(const[r,o]of e)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function sI(){return void 0!==sm}class aI{constructor(){this.requestEvent=new ri.j}dispatchRequest(n){if(n){try{n=new(ad())(n).toString()}catch{return void console.error(`invalid URL: ${n}`)}this.url=n,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const n=this.url;return this.url=void 0,n}}let yy=(()=>{class t{constructor(){this.installation=new aI,this.import=new aI,im&&this.installation.dispatchRequest(im),sm&&this.import.dispatchRequest(sm)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ld(t,n){return D(n)?or(t,n,1):or(t,1)}function Pi(t,n){return it((e,r)=>{let o=0;e.subscribe(Ct(r,i=>t.call(n,i,o++)&&r.next(i)))})}function Pf(t){return it((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}class am{}class lm{}class Wa{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),i=o.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Wa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Wa;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Wa?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const i=n.value;if(i){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(i=>i.toString()),o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class W4{encodeKey(n){return lI(n)}encodeValue(n){return lI(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const q4=/%(\d[a-f0-9])/gi,Y4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lI(t){return encodeURIComponent(t).replace(q4,(n,e)=>Y4[e]??n)}function cm(t){return`${t}`}class uc{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new W4,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Z4(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map(cm):[cm(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new uc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(cm(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(cm(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class X4{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function cI(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function uI(t){return typeof Blob<"u"&&t instanceof Blob}function dI(t){return typeof FormData<"u"&&t instanceof FormData}class Rf{constructor(n,e,r,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function K4(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Wa),this.context||(this.context=new X4),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new uc,this.urlWithParams=e}serializeBody(){return null===this.body?null:cI(this.body)||uI(this.body)||dI(this.body)||function Q4(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof uc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dI(this.body)?null:uI(this.body)?this.body.type||null:cI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof uc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,i=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let c=n.headers||this.headers,p=n.params||this.params;const g=n.context??this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce((v,E)=>v.set(E,n.setHeaders[E]),c)),n.setParams&&(p=Object.keys(n.setParams).reduce((v,E)=>v.set(E,n.setParams[E]),p)),new Rf(e,r,i,{params:p,headers:c,context:g,reportProgress:a,responseType:o,withCredentials:s})}}var cd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(cd||{});class by{constructor(n,e=200,r="OK"){this.headers=n.headers||new Wa,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Cy extends by{constructor(n={}){super(n),this.type=cd.ResponseHeader}clone(n={}){return new Cy({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class ud extends by{constructor(n={}){super(n),this.type=cd.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new ud({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class fI extends by{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function wy(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Sy=(()=>{class t{constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof Rf)i=e;else{let c,p;c=o.headers instanceof Wa?o.headers:new Wa(o.headers),o.params&&(p=o.params instanceof uc?o.params:new uc({fromObject:o.params})),i=new Rf(e,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:p,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=Kt(i).pipe(ld(c=>this.handler.handle(c)));if(e instanceof Rf||"events"===o.observe)return s;const a=s.pipe(Pi(c=>c instanceof ud));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Ee(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Ee(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Ee(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Ee(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new uc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,wy(o,r))}post(e,r,o={}){return this.request("POST",e,wy(o,r))}put(e,r,o={}){return this.request("PUT",e,wy(o,r))}static#e=this.\u0275fac=function(r){return new(r||t)(de(am))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();function mI(t,n){return n(t)}function eB(t,n){return(e,r)=>n.intercept(e,{handle:o=>t(o,r)})}const nB=new Ht(""),Of=new Ht(""),gI=new Ht("");function rB(){let t=null;return(n,e)=>{null===t&&(t=(f(nB,{optional:!0})??[]).reduceRight(eB,mI));const r=f(Lh),o=r.add();return t(n,e).pipe(Pf(()=>r.remove(o)))}}let _I=(()=>{class t extends am{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=f(Lh)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Of),...this.injector.get(gI,[])]));this.chain=o.reduceRight((i,s)=>function tB(t,n,e){return(r,o)=>e.runInContext(()=>n(r,i=>t(i,o)))}(i,s,this.injector),mI)}const r=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(Pf(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(de(lm),de(Ti))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const aB=/^\)\]\}',?\n/;let yI=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new ue(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?wr(r.\u0275loadImpl()):Kt(null)).pipe(S(()=>new Dt(i=>{const s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((ge,Oe)=>s.setRequestHeader(ge,Oe.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ge=e.detectContentTypeHeader();null!==ge&&s.setRequestHeader("Content-Type",ge)}if(e.responseType){const ge=e.responseType.toLowerCase();s.responseType="json"!==ge?ge:"text"}const a=e.serializeBody();let c=null;const p=()=>{if(null!==c)return c;const ge=s.statusText||"OK",Oe=new Wa(s.getAllResponseHeaders()),He=function lB(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(s)||e.url;return c=new Cy({headers:Oe,status:s.status,statusText:ge,url:He}),c},g=()=>{let{headers:ge,status:Oe,statusText:He,url:Ie}=p(),kt=null;204!==Oe&&(kt=typeof s.response>"u"?s.responseText:s.response),0===Oe&&(Oe=kt?200:0);let gt=Oe>=200&&Oe<300;if("json"===e.responseType&&"string"==typeof kt){const Xt=kt;kt=kt.replace(aB,"");try{kt=""!==kt?JSON.parse(kt):null}catch(zn){kt=Xt,gt&&(gt=!1,kt={error:zn,text:kt})}}gt?(i.next(new ud({body:kt,headers:ge,status:Oe,statusText:He,url:Ie||void 0})),i.complete()):i.error(new fI({error:kt,headers:ge,status:Oe,statusText:He,url:Ie||void 0}))},v=ge=>{const{url:Oe}=p(),He=new fI({error:ge,status:s.status||0,statusText:s.statusText||"Unknown Error",url:Oe||void 0});i.error(He)};let E=!1;const A=ge=>{E||(i.next(p()),E=!0);let Oe={type:cd.DownloadProgress,loaded:ge.loaded};ge.lengthComputable&&(Oe.total=ge.total),"text"===e.responseType&&s.responseText&&(Oe.partialText=s.responseText),i.next(Oe)},ne=ge=>{let Oe={type:cd.UploadProgress,loaded:ge.loaded};ge.lengthComputable&&(Oe.total=ge.total),i.next(Oe)};return s.addEventListener("load",g),s.addEventListener("error",v),s.addEventListener("timeout",v),s.addEventListener("abort",v),e.reportProgress&&(s.addEventListener("progress",A),null!==a&&s.upload&&s.upload.addEventListener("progress",ne)),s.send(a),i.next({type:cd.Sent}),()=>{s.removeEventListener("error",v),s.removeEventListener("abort",v),s.removeEventListener("load",g),s.removeEventListener("timeout",v),e.reportProgress&&(s.removeEventListener("progress",A),null!==a&&s.upload&&s.upload.removeEventListener("progress",ne)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(de(N1))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const Ey=new Ht("XSRF_ENABLED"),bI=new Ht("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),CI=new Ht("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class wI{}let dB=(()=>{class t{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=E1(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(de(Ai),de(Na),de(bI))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();function fB(t,n){const e=t.url.toLowerCase();if(!f(Ey)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const r=f(wI).getToken(),o=f(CI);return null!=r&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,r)})),n(t)}var dc=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(dc||{});function pB(...t){const n=[Sy,yI,_I,{provide:am,useExisting:_I},{provide:lm,useExisting:yI},{provide:Of,useValue:fB,multi:!0},{provide:Ey,useValue:!0},{provide:wI,useClass:dB}];for(const e of t)n.push(...e.\u0275providers);return nh(n)}const SI=new Ht("LEGACY_INTERCEPTOR_FN");function hB(){return function qc(t,n){return{\u0275kind:t,\u0275providers:n}}(dc.LegacyInterceptors,[{provide:SI,useFactory:rB},{provide:Of,useExisting:SI,multi:!0}])}let mB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({providers:[pB(hB())]})}return t})();var re=P(3918);const{isArray:CB}=Array,{getPrototypeOf:wB,prototype:SB,keys:EB}=Object;function EI(t){if(1===t.length){const n=t[0];if(CB(n))return{args:n,keys:null};if(function DB(t){return t&&"object"==typeof t&&wB(t)===SB}(n)){const e=EB(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:IB}=Array;function Dy(t){return Ee(n=>function xB(t,n){return IB(n)?t(...n):t(n)}(t,n))}function DI(t,n){return t.reduce((e,r,o)=>(e[r]=n[o],e),{})}let II=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(r){return new(r||t)(w(El),w(bt))};static#t=this.\u0275dir=Ze({type:t})}return t})(),Yc=(()=>{class t extends II{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=ti(t)))(o||t)}}();static#t=this.\u0275dir=Ze({type:t,features:[cr]})}return t})();const Ji=new Ht("NgValueAccessor"),TB={provide:Ji,useExisting:Qe(()=>Iy),multi:!0},PB=new Ht("CompositionEventMode");let Iy=(()=>{class t extends II{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function AB(){const t=ac()?ac().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(r){return new(r||t)(w(El),w(bt),w(PB,8))};static#t=this.\u0275dir=Ze({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&at("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[xr([TB]),cr]})}return t})();function fc(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function kI(t){return null!=t&&"number"==typeof t.length}const Si=new Ht("NgValidators"),pc=new Ht("NgAsyncValidators"),RB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ff{static min(n){return MI(n)}static max(n){return TI(n)}static required(n){return function AI(t){return fc(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function PI(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function RI(t){return fc(t.value)||RB.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function OI(t){return n=>fc(n.value)||!kI(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return FI(n)}static pattern(n){return function NI(t){if(!t)return dm;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(fc(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return UI(n)}static composeAsync(n){return HI(n)}}function MI(t){return n=>{if(fc(n.value)||fc(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function TI(t){return n=>{if(fc(n.value)||fc(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function FI(t){return n=>kI(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function dm(t){return null}function LI(t){return null!=t}function $I(t){return hf(t)?wr(t):t}function BI(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function jI(t,n){return n.map(e=>e(t))}function VI(t){return t.map(n=>function OB(t){return!t.validate}(n)?n:e=>n.validate(e))}function UI(t){if(!t)return null;const n=t.filter(LI);return 0==n.length?null:function(e){return BI(jI(e,n))}}function xy(t){return null!=t?UI(VI(t)):null}function HI(t){if(!t)return null;const n=t.filter(LI);return 0==n.length?null:function(e){return function kB(...t){const n=uo(t),{args:e,keys:r}=EI(t),o=new Dt(i=>{const{length:s}=e;if(!s)return void i.complete();const a=new Array(s);let c=s,p=s;for(let g=0;g<s;g++){let v=!1;I(e[g]).subscribe(Ct(i,E=>{v||(v=!0,p--),a[g]=E},()=>c--,void 0,()=>{(!c||!v)&&(p||i.next(r?DI(r,a):a),i.complete())}))}});return n?o.pipe(Dy(n)):o}(jI(e,n).map($I)).pipe(Ee(BI))}}function ky(t){return null!=t?HI(VI(t)):null}function GI(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function zI(t){return t._rawValidators}function WI(t){return t._rawAsyncValidators}function My(t){return t?Array.isArray(t)?t:[t]:[]}function fm(t,n){return Array.isArray(t)?t.includes(n):t===n}function ZI(t,n){const e=My(n);return My(t).forEach(o=>{fm(e,o)||e.push(o)}),e}function qI(t,n){return My(n).filter(e=>!fm(t,e))}class YI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=xy(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=ky(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class es extends YI{get formDirective(){return null}get path(){return null}}class Pl extends YI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XI{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Rl=(()=>{class t extends XI{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||t)(w(Pl,2))};static#t=this.\u0275dir=Ze({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&xl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[cr]})}return t})(),Ol=(()=>{class t extends XI{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||t)(w(es,10))};static#t=this.\u0275dir=Ze({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&xl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[cr]})}return t})();const Nf="VALID",hm="INVALID",dd="PENDING",Lf="DISABLED";function Py(t){return(mm(t)?t.validators:t)||null}function Ry(t,n){return(mm(n)?n.asyncValidators:t)||null}function mm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ex{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Nf}get invalid(){return this.status===hm}get pending(){return this.status==dd}get disabled(){return this.status===Lf}get enabled(){return this.status!==Lf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(ZI(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(ZI(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(qI(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(qI(n,this._rawAsyncValidators))}hasValidator(n){return fm(this._rawValidators,n)}hasAsyncValidator(n){return fm(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=dd,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Lf,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Nf,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nf||this.status===dd)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lf:Nf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=dd,this._hasOwnPendingAsyncValidator=!0;const e=$I(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Mn,this.statusChanges=new Mn}_calculateStatus(){return this._allControlsDisabled()?Lf:this.errors?hm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dd)?dd:this._anyControlsHaveStatus(hm)?hm:Nf}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){mm(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function $B(t){return Array.isArray(t)?xy(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function BB(t){return Array.isArray(t)?ky(t):t||null}(this._rawAsyncValidators)}}class hc extends ex{constructor(n,e,r){super(Py(e),Ry(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function JI(t,n,e){t._forEachChild((r,o)=>{if(void 0===e[o])throw new ue(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function QI(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new ue(1e3,"");if(!r[e])throw new ue(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const gm=hc,Xc=new Ht("CallSetDisabledState",{providedIn:"root",factory:()=>$f}),$f="always";function Bf(t,n,e=$f){Oy(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function UB(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&tx(t,n)})}(t,n),function GB(t,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function HB(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&tx(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function VB(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function vm(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),bm(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ym(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Oy(t,n){const e=zI(t);null!==n.validator?t.setValidators(GI(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=WI(t);null!==n.asyncValidator?t.setAsyncValidators(GI(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();ym(n._rawValidators,o),ym(n._rawAsyncValidators,o)}function bm(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=zI(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(null!==n.asyncValidator){const o=WI(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}const r=()=>{};return ym(n._rawValidators,r),ym(n._rawAsyncValidators,r),e}function tx(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ox(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function ix(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const _s=class extends ex{constructor(n=null,e,r){super(Py(e),Ry(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=ix(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){ox(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){ox(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){ix(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},oi=_s;let Fl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Ze({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),dx=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({})}return t})();const By=new Ht("NgModelWithFormControlWarning"),oj={provide:es,useExisting:Qe(()=>Ea)};let Ea=(()=>{class t extends es{constructor(e,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Mn,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Bf(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){vm(e.control||null,e,!1),function qB(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function rx(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(vm(r||null,e),(t=>t instanceof _s)(o)&&(Bf(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function nx(t,n){Oy(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function zB(t,n){return bm(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Oy(this.form,this),this._oldForm&&bm(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(w(Si,10),w(pc,10),w(Xc,8))};static#t=this.\u0275dir=Ze({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&at("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xr([oj]),cr,Ne]})}return t})();const aj={provide:Pl,useExisting:Qe(()=>Za)};let Za=(()=>{class t extends Pl{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Mn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Ly(t,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===Iy?e=i:function ZB(t){return Object.getPrototypeOf(t.constructor)===Yc}(i)?r=i:o=i}),o||r||e||null}(0,i)}ngOnChanges(e){this._added||this._setUpControl(),function Ny(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function _m(t,n){return[...n.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(w(es,13),w(Si,10),w(pc,10),w(Ji,10),w(By,8))};static#n=this.\u0275dir=Ze({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[xr([aj]),cr,Ne]})}return t})();function yx(t){return"number"==typeof t?t:parseFloat(t)}let Kc=(()=>{class t{constructor(){this._validator=dm}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):dm,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Ze({type:t,features:[Ne]})}return t})();const hj={provide:Si,useExisting:Qe(()=>Gy),multi:!0};let Gy=(()=>{class t extends Kc{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>yx(e),this.createValidator=e=>TI(e)}static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=ti(t)))(o||t)}}();static#t=this.\u0275dir=Ze({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&Qs("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[xr([hj]),cr]})}return t})();const mj={provide:Si,useExisting:Qe(()=>zy),multi:!0};let zy=(()=>{class t extends Kc{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>yx(e),this.createValidator=e=>MI(e)}static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=ti(t)))(o||t)}}();static#t=this.\u0275dir=Ze({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&Qs("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[xr([mj]),cr]})}return t})();const bj={provide:Si,useExisting:Qe(()=>Zy),multi:!0};let Zy=(()=>{class t extends Kc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function vx(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>FI(e)}static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=ti(t)))(o||t)}}();static#t=this.\u0275dir=Ze({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&Qs("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[xr([bj]),cr]})}return t})(),Ex=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({imports:[dx]})}return t})(),Qc=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Xc,useValue:e.callSetDisabledState??$f}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({imports:[Ex]})}return t})(),Cm=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:By,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Xc,useValue:e.callSetDisabledState??$f}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({imports:[Ex]})}return t})();const Sj=["addListener","removeListener"],Ej=["addEventListener","removeEventListener"],Dj=["on","off"];function Vf(t,n,e,r){if(D(e)&&(r=e,e=void 0),r)return Vf(t,n,e).pipe(Dy(r));const[o,i]=function kj(t){return D(t.addEventListener)&&D(t.removeEventListener)}(t)?Ej.map(s=>a=>t[s](n,a,e)):function Ij(t){return D(t.addListener)&&D(t.removeListener)}(t)?Sj.map(Dx(t,n)):function xj(t){return D(t.on)&&D(t.off)}(t)?Dj.map(Dx(t,n)):[];if(!o&&Er(t))return or(s=>Vf(s,n,e))(I(t));if(!o)throw new TypeError("Invalid event target");return new Dt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function Dx(t,n){return e=>r=>t[e](n,r)}function wm(...t){const n=To(t),e=uo(t),{args:r,keys:o}=EI(t);if(0===r.length)return wr([],n);const i=new Dt(function Mj(t,n,e=M){return r=>{Ix(n,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)Ix(n,()=>{const p=wr(t[c],n);let g=!1;p.subscribe(Ct(r,v=>{i[c]=v,g||(g=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,o?s=>DI(o,s):M));return e?i.pipe(Dy(e)):i}function Ix(t,n,e){t?Cr(e,t,n):n()}const Sm=d(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Uf(...t){return function Aj(){return Bo(1)}()(wr(t,To(t)))}function Em(t){return new Dt(n=>{I(t()).subscribe(n)})}function fd(t,n){const e=D(t)?t:()=>t,r=o=>o.error(e());return new Dt(n?o=>n.schedule(r,0,o):r)}function qy(){return it((t,n)=>{let e=null;t._refCount++;const r=Ct(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class Yy extends Dt{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Fe(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new V;const e=this.getSubject();n.add(this.source.subscribe(Ct(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=V.EMPTY)}return n}refCount(){return qy()(this)}}function vs(t){return t<=0?()=>Mo:it((n,e)=>{let r=0;n.subscribe(Ct(e,o=>{++r<=t&&(e.next(o),t<=r&&e.complete())}))})}function xx(...t){const n=To(t);return it((e,r)=>{(n?Uf(t,e,n):Uf(t,e)).subscribe(r)})}function Dm(t){return it((n,e)=>{let r=!1;n.subscribe(Ct(e,o=>{r=!0,e.next(o)},()=>{r||e.next(t),e.complete()}))})}function kx(t=Pj){return it((n,e)=>{let r=!1;n.subscribe(Ct(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(t())))})}function Pj(){return new Sm}function mc(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Pi((o,i)=>t(o,i,r)):M,vs(1),e?Dm(n):kx(()=>new Sm))}function Ri(t,n,e){const r=D(t)||n||e?{next:t,error:n,complete:e}:t;return r?it((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(Ct(i,c=>{var p;null===(p=r.next)||void 0===p||p.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var p;a=!1,null===(p=r.error)||void 0===p||p.call(r,c),i.error(c)},()=>{var c,p;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(p=r.finalize)||void 0===p||p.call(r)}))}):M}function gc(t){return it((n,e)=>{let i,r=null,o=!1;r=n.subscribe(Ct(e,void 0,void 0,s=>{i=I(t(s,gc(t)(n))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function Xy(t){return t<=0?()=>Mo:it((n,e)=>{let r=[];n.subscribe(Ct(e,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function Ky(t){return Ee(()=>t)}function Mx(t){return it((n,e)=>{I(t).subscribe(Ct(e,()=>e.complete(),$)),!e.closed&&n.subscribe(e)})}const Hn="primary",Hf=Symbol("RouteTitle");class Nj{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pd(t){return new Nj(t)}function Lj(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function qa(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!Tx(t[o],n[o]))return!1;return!0}function Tx(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((o,i)=>r[i]===o)}return t===n}function Ax(t){return t.length>0?t[t.length-1]:null}function _c(t){return function Tj(t){return!!t&&(t instanceof Dt||D(t.lift)&&D(t.subscribe))}(t)?t:hf(t)?wr(Promise.resolve(t)):Kt(t)}const Bj={exact:function Ox(t,n,e){if(!Jc(t.segments,n.segments)||!Im(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!Ox(t.children[r],n.children[r],e))return!1;return!0},subset:Fx},Px={exact:function jj(t,n){return qa(t,n)},subset:function Vj(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Tx(t[e],n[e]))},ignored:()=>!0};function Rx(t,n,e){return Bj[e.paths](t.root,n.root,e.matrixParams)&&Px[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function Fx(t,n,e){return Nx(t,n,n.segments,e)}function Nx(t,n,e,r){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Jc(o,e)||n.hasChildren()||!Im(o,e,r))}if(t.segments.length===e.length){if(!Jc(t.segments,e)||!Im(t.segments,e,r))return!1;for(const o in n.children)if(!t.children[o]||!Fx(t.children[o],n.children[o],r))return!1;return!0}{const o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!!(Jc(t.segments,o)&&Im(t.segments,o,r)&&t.children[Hn])&&Nx(t.children[Hn],n,i,r)}}function Im(t,n,e){return n.every((r,o)=>Px[e](t[o].parameters,r.parameters))}class hd{constructor(n=new Nr([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pd(this.queryParams)),this._queryParamMap}toString(){return Gj.serialize(this)}}class Nr{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xm(this)}}class Gf{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pd(this.parameters)),this._parameterMap}toString(){return Bx(this)}}function Jc(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let md=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return new Qy},providedIn:"root"})}return t})();class Qy{parse(n){const e=new t6(n);return new hd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${zf(n.root,!0)}`,r=function Zj(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(o=>`${km(e)}=${km(o)}`).join("&"):`${km(e)}=${km(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function zj(t){return encodeURI(t)}(n.fragment)}`:""}`}}const Gj=new Qy;function xm(t){return t.segments.map(n=>Bx(n)).join("/")}function zf(t,n){if(!t.hasChildren())return xm(t);if(n){const e=t.children[Hn]?zf(t.children[Hn],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==Hn&&r.push(`${o}:${zf(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Hj(t,n){let e=[];return Object.entries(t.children).forEach(([r,o])=>{r===Hn&&(e=e.concat(n(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==Hn&&(e=e.concat(n(o,r)))}),e}(t,(r,o)=>o===Hn?[zf(t.children[Hn],!1)]:[`${o}:${zf(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Hn]?`${xm(t)}/${e[0]}`:`${xm(t)}/(${e.join("//")})`}}function Lx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function km(t){return Lx(t).replace(/%3B/gi,";")}function Jy(t){return Lx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mm(t){return decodeURIComponent(t)}function $x(t){return Mm(t.replace(/\+/g,"%20"))}function Bx(t){return`${Jy(t.path)}${function Wj(t){return Object.keys(t).map(n=>`;${Jy(n)}=${Jy(t[n])}`).join("")}(t.parameters)}`}const qj=/^[^\/()?;#]+/;function eb(t){const n=t.match(qj);return n?n[0]:""}const Yj=/^[^\/()?;=#]+/,Kj=/^[^=?&#]+/,Jj=/^[^&#]+/;class t6{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nr([],{}):new Nr([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Hn]=new Nr(n,e)),r}parseSegment(){const n=eb(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(n),new Gf(Mm(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function Xj(t){const n=t.match(Yj);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=eb(this.remaining);o&&(r=o,this.capture(r))}n[Mm(e)]=Mm(r)}parseQueryParam(n){const e=function Qj(t){const n=t.match(Kj);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function e6(t){const n=t.match(Jj);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=$x(e),i=$x(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eb(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new ue(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=Hn);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[Hn]:new Nr([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new ue(4011,!1)}}function jx(t){return t.segments.length>0?new Nr([],{[Hn]:t}):t}function Vx(t){const n={};for(const r of Object.keys(t.children)){const i=Vx(t.children[r]);if(r===Hn&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))n[s]=a;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function n6(t){if(1===t.numberOfChildren&&t.children[Hn]){const n=t.children[Hn];return new Nr(t.segments.concat(n.segments),n.children)}return t}(new Nr(t.segments,n))}function eu(t){return t instanceof hd}function Ux(t){let n;const o=jx(function e(i){const s={};for(const c of i.children){const p=e(c);s[c.outlet]=p}const a=new Nr(i.url,s);return i===t&&(n=a),a}(t.root));return n??o}function Hx(t,n,e,r){let o=t;for(;o.parent;)o=o.parent;if(0===n.length)return tb(o,o,o,e,r);const i=function o6(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zx(!0,0,t);let n=0,e=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([c,p])=>{a[c]="string"==typeof p?p.split("/"):p}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new zx(e,n,r)}(n);if(i.toRoot())return tb(o,o,new Nr([],{}),e,r);const s=function i6(t,n,e){if(t.isAbsolute)return new Am(n,!0,0);if(!e)return new Am(n,!1,NaN);if(null===e.parent)return new Am(e,!0,0);const r=Tm(t.commands[0])?0:1;return function s6(t,n,e){let r=t,o=n,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new ue(4005,!1);o=r.segments.length}return new Am(r,!1,o-i)}(e,e.segments.length-1+r,t.numberOfDoubleDots)}(i,o,t),a=s.processChildren?Zf(s.segmentGroup,s.index,i.commands):Wx(s.segmentGroup,s.index,i.commands);return tb(o,s.segmentGroup,a,e,r)}function Tm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Wf(t){return"object"==typeof t&&null!=t&&t.outlets}function tb(t,n,e,r,o){let s,i={};r&&Object.entries(r).forEach(([c,p])=>{i[c]=Array.isArray(p)?p.map(g=>`${g}`):`${p}`}),s=t===n?e:Gx(t,n,e);const a=jx(Vx(s));return new hd(a,i,o)}function Gx(t,n,e){const r={};return Object.entries(t.children).forEach(([o,i])=>{r[o]=i===n?e:Gx(i,n,e)}),new Nr(t.segments,r)}class zx{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Tm(r[0]))throw new ue(4003,!1);const o=r.find(Wf);if(o&&o!==Ax(r))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Am{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function Wx(t,n,e){if(t||(t=new Nr([],{})),0===t.segments.length&&t.hasChildren())return Zf(t,n,e);const r=function l6(t,n,e){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=e.length)return i;const s=t.segments[o],a=e[r];if(Wf(a))break;const c=`${a}`,p=r<e.length-1?e[r+1]:null;if(o>0&&void 0===c)break;if(c&&p&&"object"==typeof p&&void 0===p.outlets){if(!qx(c,p,s))return i;r+=2}else{if(!qx(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new Nr(t.segments.slice(0,r.pathIndex),{});return i.children[Hn]=new Nr(t.segments.slice(r.pathIndex),t.children),Zf(i,0,o)}return r.match&&0===o.length?new Nr(t.segments,{}):r.match&&!t.hasChildren()?nb(t,n,e):r.match?Zf(t,0,o):nb(t,n,e)}function Zf(t,n,e){if(0===e.length)return new Nr(t.segments,{});{const r=function a6(t){return Wf(t[0])?t[0].outlets:{[Hn]:t}}(e),o={};if(Object.keys(r).some(i=>i!==Hn)&&t.children[Hn]&&1===t.numberOfChildren&&0===t.children[Hn].segments.length){const i=Zf(t.children[Hn],n,e);return new Nr(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=Wx(t.children[i],n,s))}),Object.entries(t.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new Nr(t.segments,o)}}function nb(t,n,e){const r=t.segments.slice(0,n);let o=0;for(;o<e.length;){const i=e[o];if(Wf(i)){const c=c6(i.outlets);return new Nr(r,c)}if(0===o&&Tm(e[0])){r.push(new Gf(t.segments[n].path,Zx(e[0]))),o++;continue}const s=Wf(i)?i.outlets[Hn]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Tm(a)?(r.push(new Gf(s,Zx(a))),o+=2):(r.push(new Gf(s,{})),o++)}return new Nr(r,{})}function c6(t){const n={};return Object.entries(t).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=nb(new Nr([],{}),0,r))}),n}function Zx(t){const n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function qx(t,n,e){return t==e.path&&qa(n,e.parameters)}const qf="imperative";class Ya{constructor(n,e){this.id=n,this.url=e}}class Yf extends Ya{constructor(n,e,r="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vc extends Ya{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xf extends Ya{constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gd extends Ya{constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o,this.type=16}}class Pm extends Ya{constructor(n,e,r,o){super(n,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yx extends Ya{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u6 extends Ya{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d6 extends Ya{constructor(n,e,r,o,i){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class f6 extends Ya{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p6 extends Ya{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h6{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class m6{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class g6{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _6{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v6{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y6{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xx{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rb{}class ob{constructor(n){this.url=n}}class b6{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tu,this.attachRef=null}}let tu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new b6,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Kx{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=ib(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=ib(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=sb(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return sb(n,this._root).map(e=>e.value)}}function ib(t,n){if(t===n.value)return n;for(const e of n.children){const r=ib(t,e);if(r)return r}return null}function sb(t,n){if(t===n.value)return[n];for(const e of n.children){const r=sb(t,e);if(r.length)return r.unshift(n),r}return[]}class Nl{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function _d(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class Qx extends Kx{constructor(n,e){super(n),this.snapshot=e,ab(this,n)}toString(){return this.snapshot.toString()}}function Jx(t,n){const e=function C6(t,n){const s=new Rm([],{},{},"",{},Hn,n,null,{});return new tk("",new Nl(s,[]))}(0,n),r=new Bt([new Gf("",{})]),o=new Bt({}),i=new Bt({}),s=new Bt({}),a=new Bt(""),c=new Ll(r,o,s,a,i,Hn,n,e.root);return c.snapshot=e.root,new Qx(new Nl(c,[]),e)}class Ll{constructor(n,e,r,o,i,s,a,c){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ee(p=>p[Hf]))??Kt(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ee(n=>pd(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ee(n=>pd(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ek(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const o=e[r],i=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function w6(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Rm{get title(){return this.data?.[Hf]}constructor(n,e,r,o,i,s,a,c,p){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tk extends Kx{constructor(n,e){super(e),this.url=n,ab(this,e)}toString(){return nk(this._root)}}function ab(t,n){n.value._routerState=t,n.children.forEach(e=>ab(t,e))}function nk(t){const n=t.children.length>0?` { ${t.children.map(nk).join(", ")} } `:"";return`${t.value}${n}`}function lb(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,qa(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),qa(n.params,e.params)||t.paramsSubject.next(e.params),function $j(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!qa(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),qa(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function cb(t,n){const e=qa(t.params,n.params)&&function Uj(t,n){return Jc(t,n)&&t.every((e,r)=>qa(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||cb(t.parent,n.parent))}let rk=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Hn,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.attachEvents=new Mn,this.detachEvents=new Mn,this.parentContexts=f(tu),this.location=f(ms),this.changeDetector=f(xt),this.environmentInjector=f(Ti),this.inputBinder=f(Om,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new ue(4013,!1);this._activatedRoute=e;const o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new S6(e,a,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Ze({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ne]})}return t})();class S6{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Ll?this.route:n===tu?this.childContexts:this.parent.get(n,e)}}const Om=new Ht("");let ok=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,o=wm([r.queryParams,r.params,r.data]).pipe(S(([i,s,a],c)=>(a={...i,...s,...a},0===c?Kt(a):Promise.resolve(a)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const s=u1(r.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();function Kf(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const o=function D6(t,n,e){return n.children.map(r=>{for(const o of e.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Kf(t,r,o);return Kf(t,r)})}(t,n,e);return new Nl(r,o)}{if(t.shouldAttach(n.value)){const i=t.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Kf(t,a)),s}}const r=function I6(t){return new Ll(new Bt(t.url),new Bt(t.params),new Bt(t.queryParams),new Bt(t.fragment),new Bt(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(i=>Kf(t,i));return new Nl(r,o)}}const ub="ngNavigationCancelingError";function ik(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=eu(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=sk(!1,0,n);return o.url=e,o.navigationBehaviorOptions=r,o}function sk(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[ub]=!0,r.cancellationCode=n,e&&(r.url=e),r}function ak(t){return t&&t[ub]}let lk=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=m({type:t,selectors:[["ng-component"]],standalone:!0,features:[NE],decls:1,vars:0,template:function(r,o){1&r&&lt(0,"router-outlet")},dependencies:[rk],encapsulation:2})}return t})();function db(t){const n=t.children&&t.children.map(db),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Hn&&(e.component=lk),e}function Da(t){return t.outlet||Hn}function Qf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class O6{constructor(n,e,r,o,i){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),lb(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const o=_d(e);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=_d(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=_d(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const o=_d(e);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new y6(i.value.snapshot))}),n.children.length&&this.forwardEvent(new _6(n.value.snapshot))}activateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(lb(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lb(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=Qf(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class ck{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Fm{constructor(n,e){this.component=n,this.route=e}}function F6(t,n,e){const r=t._root;return Jf(r,n?n._root:null,e,[r.value])}function vd(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function ka(t){return null!==Es(t)}(t)?n.get(t):t:r}function Jf(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=_d(n);return t.children.forEach(s=>{(function L6(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function $6(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Jc(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Jc(t.url,n.url)||!qa(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cb(t,n)||!qa(t.queryParams,n.queryParams);default:return!cb(t,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ck(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Jf(t,n,i.component?a?a.children:null:e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Fm(a.outlet.component,s))}else s&&ep(n,a,o),o.canActivateChecks.push(new ck(r)),Jf(t,null,i.component?a?a.children:null:e,r,o)})(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>ep(a,e.getContext(s),o)),o}function ep(t,n,e){const r=_d(t),o=t.value;Object.entries(r).forEach(([i,s])=>{ep(s,o.component?n?n.children.getContext(i):null:n,e)}),e.canDeactivateChecks.push(new Fm(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function tp(t){return"function"==typeof t}function uk(t){return t instanceof Sm||"EmptyError"===t?.name}const Nm=Symbol("INITIAL_VALUE");function yd(){return S(t=>wm(t.map(n=>n.pipe(vs(1),xx(Nm)))).pipe(Ee(n=>{for(const e of n)if(!0!==e){if(e===Nm)return Nm;if(!1===e||e instanceof hd)return e}return!0}),Pi(n=>n!==Nm),vs(1)))}function dk(t){return function fe(...t){return pt(t)}(Ri(n=>{if(eu(n))throw ik(0,n)}),Ee(n=>!0===n))}class Lm{constructor(n){this.segmentGroup=n||null}}class fk{constructor(n){this.urlTree=n}}function bd(t){return fd(new Lm(t))}function pk(t){return fd(new fk(t))}class oV{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new ue(4002,!1)}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Kt(r);if(o.numberOfChildren>1||!o.children[Hn])return fd(new ue(4e3,!1));o=o.children[Hn]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,o){const i=this.createSegmentGroup(n,e.root,r,o);return new hd(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(n,e,r,o){const i=this.createSegments(n,e.segments,r,o);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,o)}),new Nr(i,s)}createSegments(n,e,r,o){return e.map(i=>i.path.startsWith(":")?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,e,r){const o=r[e.path.substring(1)];if(!o)throw new ue(4001,!1);return o}findOrReturn(n,e){let r=0;for(const o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}}const fb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iV(t,n,e,r,o){const i=pb(t,n,e);return i.matched?(r=function k6(t,n){return t.providers&&!t._injector&&(t._injector=hv(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,r),function tV(t,n,e,r){const o=n.canMatch;return o&&0!==o.length?Kt(o.map(s=>{const a=vd(s,t);return _c(function G6(t){return t&&tp(t.canMatch)}(a)?a.canMatch(n,e):t.runInContext(()=>a(n,e)))})).pipe(yd(),dk()):Kt(!0)}(r,n,e).pipe(Ee(s=>!0===s?i:{...fb}))):Kt(i)}function pb(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...fb}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||Lj)(e,t,n);if(!o)return{...fb};const i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function hk(t,n,e,r){return e.length>0&&function lV(t,n,e){return e.some(r=>$m(t,n,r)&&Da(r)!==Hn)}(t,e,r)?{segmentGroup:new Nr(n,aV(r,new Nr(e,t.children))),slicedSegments:[]}:0===e.length&&function cV(t,n,e){return e.some(r=>$m(t,n,r))}(t,e,r)?{segmentGroup:new Nr(t.segments,sV(t,0,e,r,t.children)),slicedSegments:e}:{segmentGroup:new Nr(t.segments,t.children),slicedSegments:e}}function sV(t,n,e,r,o){const i={};for(const s of r)if($m(t,e,s)&&!o[Da(s)]){const a=new Nr([],{});i[Da(s)]=a}return{...o,...i}}function aV(t,n){const e={};e[Hn]=n;for(const r of t)if(""===r.path&&Da(r)!==Hn){const o=new Nr([],{});e[Da(r)]=o}return e}function $m(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class pV{constructor(n,e,r,o,i,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new oV(this.urlSerializer,this.urlTree)}noMatchError(n){return new ue(4002,!1)}recognize(){const n=hk(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Hn).pipe(gc(e=>{if(e instanceof fk)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Lm?this.noMatchError(e):e}),Ee(e=>{const r=new Rm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Hn,this.rootComponentType,null,{}),o=new Nl(r,e),i=new tk("",o),s=function r6(t,n,e=null,r=null){return Hx(Ux(t),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root),{state:i,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Hn).pipe(gc(r=>{throw r instanceof Lm?this.noMatchError(r):r}))}inheritParamsAndData(n){const e=n.value,r=ek(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,o,!0)}processChildren(n,e,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return wr(o).pipe(ld(i=>{const s=r.children[i],a=function P6(t,n){const e=t.filter(r=>Da(r)===n);return e.push(...t.filter(r=>Da(r)!==n)),e}(e,i);return this.processSegmentGroup(n,a,s,i)}),function Oj(t,n){return it(function Rj(t,n,e,r,o){return(i,s)=>{let a=e,c=n,p=0;i.subscribe(Ct(s,g=>{const v=p++;c=a?t(c,g,v):(a=!0,g),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}(t,n,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),Dm(null),function Fj(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Pi((o,i)=>t(o,i,r)):M,Xy(1),e?Dm(n):kx(()=>new Sm))}(),or(i=>{if(null===i)return bd(r);const s=mk(i);return function hV(t){t.sort((n,e)=>n.value.outlet===Hn?-1:e.value.outlet===Hn?1:n.value.outlet.localeCompare(e.value.outlet))}(s),Kt(s)}))}processSegment(n,e,r,o,i,s){return wr(e).pipe(ld(a=>this.processSegmentAgainstRoute(a._injector??n,e,a,r,o,i,s).pipe(gc(c=>{if(c instanceof Lm)return Kt(null);throw c}))),mc(a=>!!a),gc(a=>{if(uk(a))return function dV(t,n,e){return 0===n.length&&!t.children[e]}(r,o,i)?Kt([]):bd(r);throw a}))}processSegmentAgainstRoute(n,e,r,o,i,s,a){return function uV(t,n,e,r){return!!(Da(t)===r||r!==Hn&&$m(n,e,t))&&("**"===t.path||pb(n,t,e).matched)}(r,o,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,o,r,i,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,r,i,s):bd(o):bd(o)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,o){const i=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?pk(i):this.applyRedirects.lineralizeSegments(r,i).pipe(or(s=>{const a=new Nr(s,{});return this.processSegment(n,e,a,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:p,positionalParamSegments:g}=pb(e,o,i);if(!a)return bd(e);const v=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,g);return o.redirectTo.startsWith("/")?pk(v):this.applyRedirects.lineralizeSegments(o,v).pipe(or(E=>this.processSegment(n,r,e,E.concat(p),s,!1)))}matchSegmentAgainstRoute(n,e,r,o,i,s){let a;if("**"===r.path){const c=o.length>0?Ax(o).parameters:{};a=Kt({snapshot:new Rm(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gk(r),Da(r),r.component??r._loadedComponent??null,r,_k(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=iV(e,r,o,n).pipe(Ee(({matched:c,consumedSegments:p,remainingSegments:g,parameters:v})=>c?{snapshot:new Rm(p,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gk(r),Da(r),r.component??r._loadedComponent??null,r,_k(r)),consumedSegments:p,remainingSegments:g}:null));return a.pipe(S(c=>null===c?bd(e):this.getChildConfig(n=r._injector??n,r,o).pipe(S(({routes:p})=>{const g=r._loadedInjector??n,{snapshot:v,consumedSegments:E,remainingSegments:A}=c,{segmentGroup:ne,slicedSegments:ge}=hk(e,E,A,p);if(0===ge.length&&ne.hasChildren())return this.processChildren(g,p,ne).pipe(Ee(He=>null===He?null:[new Nl(v,He)]));if(0===p.length&&0===ge.length)return Kt([new Nl(v,[])]);const Oe=Da(r)===i;return this.processSegment(g,p,ne,ge,Oe?Hn:i,!0).pipe(Ee(He=>[new Nl(v,He)]))}))))}getChildConfig(n,e,r){return e.children?Kt({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Kt({routes:e._loadedRoutes,injector:e._loadedInjector}):function eV(t,n,e,r){const o=n.canLoad;return void 0===o||0===o.length?Kt(!0):Kt(o.map(s=>{const a=vd(s,t);return _c(function j6(t){return t&&tp(t.canLoad)}(a)?a.canLoad(n,e):t.runInContext(()=>a(n,e)))})).pipe(yd(),dk())}(n,e,r).pipe(or(o=>o?this.configLoader.loadChildren(n,e).pipe(Ri(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):function rV(t){return fd(sk(!1,3))}())):Kt({routes:[],injector:n})}}function mV(t){const n=t.value.routeConfig;return n&&""===n.path}function mk(t){const n=[],e=new Set;for(const r of t){if(!mV(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):n.push(r)}for(const r of e){const o=mk(r.children);n.push(new Nl(r.value,o))}return n.filter(r=>!e.has(r))}function gk(t){return t.data||{}}function _k(t){return t.resolve||{}}function vk(t){return"string"==typeof t.title||null===t.title}function hb(t){return S(n=>{const e=t(n);return e?wr(e).pipe(Ee(()=>n)):Kt(n)})}const Cd=new Ht("ROUTES");let mb=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=f(DD)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Kt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=_c(e.loadComponent()).pipe(Ee(yk),Ri(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),Pf(()=>{this.componentLoaders.delete(e)})),o=new Yy(r,()=>new nt).pipe(qy());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Kt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ee(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,p;return Array.isArray(a)?p=a:(c=a.create(e).injector,p=c.get(Cd,[],An.Self|An.Optional).flat()),{routes:p.map(db),injector:c}}),Pf(()=>{this.childrenLoaders.delete(r)})),s=new Yy(i,()=>new nt).pipe(qy());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return _c(e()).pipe(Ee(yk),or(r=>r instanceof OE||Array.isArray(r)?Kt(r):wr(this.compiler.compileModuleAsync(r))))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yk(t){return function wV(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Bm=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.transitionAbortSubject=new nt,this.configLoader=f(mb),this.environmentInjector=f(Ti),this.urlSerializer=f(md),this.rootContexts=f(tu),this.inputBindingEnabled=null!==f(Om,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Kt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new m6(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new h6(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,o){return this.transitions=new Bt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:e.urlHandlingStrategy.extract(r),urlAfterRedirects:e.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qf,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pi(i=>0!==i.id),Ee(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),S(i=>{this.currentTransition=i;let s=!1,a=!1;return Kt(i).pipe(Ri(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),S(c=>{const p=c.currentBrowserUrl.toString(),g=!e.navigated||c.extractedUrl.toString()!==p||p!==c.currentUrlTree.toString();if(!g&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const E="";return this.events.next(new gd(c.id,this.urlSerializer.serialize(c.rawUrl),E,0)),c.resolve(null),Mo}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Kt(c).pipe(S(E=>{const A=this.transitions?.getValue();return this.events.next(new Yf(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),A!==this.transitions?.getValue()?Mo:Promise.resolve(E)}),function gV(t,n,e,r,o,i){return or(s=>function fV(t,n,e,r,o,i,s="emptyOnly"){return new pV(t,n,e,r,o,s,i).recognize()}(t,n,e,r,s.extractedUrl,o,i).pipe(Ee(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Ri(E=>{i.targetSnapshot=E.targetSnapshot,i.urlAfterRedirects=E.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects};const A=new Yx(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(A)}));if(g&&e.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:E,extractedUrl:A,source:ne,restoredState:ge,extras:Oe}=c,He=new Yf(E,this.urlSerializer.serialize(A),ne,ge);this.events.next(He);const Ie=Jx(0,this.rootComponentType).snapshot;return this.currentTransition=i={...c,targetSnapshot:Ie,urlAfterRedirects:A,extras:{...Oe,skipLocationChange:!1,replaceUrl:!1}},Kt(i)}{const E="";return this.events.next(new gd(c.id,this.urlSerializer.serialize(c.extractedUrl),E,1)),c.resolve(null),Mo}}),Ri(c=>{const p=new u6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}),Ee(c=>(this.currentTransition=i={...c,guards:F6(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},i)),function W6(t,n){return or(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?Kt({...e,guardsResult:!0}):function Z6(t,n,e,r){return wr(t).pipe(or(o=>function J6(t,n,e,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?Kt(i.map(a=>{const c=Qf(n)??o,p=vd(a,c);return _c(function H6(t){return t&&tp(t.canDeactivate)}(p)?p.canDeactivate(t,n,e,r):c.runInContext(()=>p(t,n,e,r))).pipe(mc())})).pipe(yd()):Kt(!0)}(o.component,o.route,e,n,r)),mc(o=>!0!==o,!0))}(s,r,o,t).pipe(or(a=>a&&function B6(t){return"boolean"==typeof t}(a)?function q6(t,n,e,r){return wr(n).pipe(ld(o=>Uf(function X6(t,n){return null!==t&&n&&n(new g6(t)),Kt(!0)}(o.route.parent,r),function Y6(t,n){return null!==t&&n&&n(new v6(t)),Kt(!0)}(o.route,r),function Q6(t,n,e){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function N6(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>Em(()=>Kt(s.guards.map(c=>{const p=Qf(s.node)??e,g=vd(c,p);return _c(function U6(t){return t&&tp(t.canActivateChild)}(g)?g.canActivateChild(r,t):p.runInContext(()=>g(r,t))).pipe(mc())})).pipe(yd())));return Kt(i).pipe(yd())}(t,o.path,e),function K6(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Kt(!0);const o=r.map(i=>Em(()=>{const s=Qf(n)??e,a=vd(i,s);return _c(function V6(t){return t&&tp(t.canActivate)}(a)?a.canActivate(n,t):s.runInContext(()=>a(n,t))).pipe(mc())}));return Kt(o).pipe(yd())}(t,o.route,e))),mc(o=>!0!==o,!0))}(r,i,t,n):Kt(a)),Ee(a=>({...e,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ri(c=>{if(i.guardsResult=c.guardsResult,eu(c.guardsResult))throw ik(0,c.guardsResult);const p=new d6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(p)}),Pi(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),hb(c=>{if(c.guards.canActivateChecks.length)return Kt(c).pipe(Ri(p=>{const g=new f6(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),S(p=>{let g=!1;return Kt(p).pipe(function _V(t,n){return or(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return Kt(e);let i=0;return wr(o).pipe(ld(s=>function vV(t,n,e,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!vk(o)&&(i[Hf]=o.title),function yV(t,n,e,r){const o=function bV(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return Kt({});const i={};return wr(o).pipe(or(s=>function CV(t,n,e,r){const o=Qf(n)??r,i=vd(t,o);return _c(i.resolve?i.resolve(n,e):o.runInContext(()=>i(n,e)))}(t[s],n,e,r).pipe(mc(),Ri(a=>{i[s]=a}))),Xy(1),Ky(i),gc(s=>uk(s)?Mo:fd(s)))}(i,t,n,r).pipe(Ee(s=>(t._resolvedData=s,t.data=ek(t,e).resolve,o&&vk(o)&&(t.data[Hf]=o.title),null)))}(s.route,r,t,n)),Ri(()=>i++),Xy(1),or(s=>i===o.length?Kt(e):Mo))})}(e.paramsInheritanceStrategy,this.environmentInjector),Ri({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(p,"",2)}}))}),Ri(p=>{const g=new p6(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}))}),hb(c=>{const p=g=>{const v=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe(Ri(E=>{g.component=E}),Ee(()=>{})));for(const E of g.children)v.push(...p(E));return v};return wm(p(c.targetSnapshot.root)).pipe(Dm(),vs(1))}),hb(()=>this.afterPreactivation()),Ee(c=>{const p=function E6(t,n,e){const r=Kf(t,n._root,e?e._root:void 0);return new Qx(r,n)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i={...c,targetRouterState:p},i}),Ri(()=>{this.events.next(new rb)}),((t,n,e,r)=>Ee(o=>(new O6(n,o.targetRouterState,o.currentRouterState,e,r).activate(t),o)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),vs(1),Ri({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Mx(this.transitionAbortSubject.pipe(Ri(c=>{throw c}))),Pf(()=>{s||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),gc(c=>{if(a=!0,ak(c))this.events.next(new Xf(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),function x6(t){return ak(t)&&eu(t.url)}(c)?this.events.next(new ob(c.url)):i.resolve(!1);else{this.events.next(new Pm(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0));try{i.resolve(e.errorHandler(c))}catch(p){i.reject(p)}}return Mo}))}))}cancelNavigationTransition(e,r,o){const i=new Xf(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(i),e.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bk(t){return t!==qf}let Ck=(()=>{class t{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Hn);return r}getResolvedTitleForRoute(e){return e.data[Hf]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return f(SV)},providedIn:"root"})}return t})(),SV=(()=>{class t extends Ck{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(de(eI))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wk=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return f(DV)},providedIn:"root"})}return t})();class EV{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let DV=(()=>{class t extends EV{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=ti(t)))(o||t)}}();static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const jm=new Ht("",{providedIn:"root",factory:()=>({})});let IV=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:function(){return f(xV)},providedIn:"root"})}return t})(),xV=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var np=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(np||{});function Sk(t,n){t.events.pipe(Pi(e=>e instanceof vc||e instanceof Xf||e instanceof Pm||e instanceof gd),Ee(e=>e instanceof vc||e instanceof gd?np.COMPLETE:e instanceof Xf&&(0===e.code||1===e.code)?np.REDIRECTING:np.FAILED),Pi(e=>e!==np.REDIRECTING),vs(1)).subscribe(()=>{n()})}function kV(t){throw t}function MV(t,n,e){return n.parse("/")}const TV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ii=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=f(ED),this.isNgZoneEnabled=!1,this._events=new nt,this.options=f(jm,{optional:!0})||{},this.pendingTasks=f(Lh),this.errorHandler=this.options.errorHandler||kV,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||MV,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=f(IV),this.routeReuseStrategy=f(wk),this.titleStrategy=f(Ck),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=f(Cd,{optional:!0})?.flat()??[],this.navigationTransitions=f(Bm),this.urlSerializer=f(md),this.location=f(xf),this.componentInputBindingEnabled=!!f(Om,{optional:!0}),this.eventsSubscription=new V,this.isNgZoneEnabled=f(ct)instanceof ct&&ct.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new hd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Jx(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(Ek(r)&&this._events.next(r));if(r instanceof Yf)bk(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(r instanceof gd)this.rawUrlTree=o.rawUrl;else if(r instanceof Yx){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(i,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(r instanceof rb)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(r instanceof Xf)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(o);else if(r instanceof ob){const i=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),s={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bk(o.source)};this.scheduleNavigation(i,qf,null,s,{resolve:o.resolve,reject:o.reject,promise:o.promise})}r instanceof Pm&&this.restoreHistory(o,!0),r instanceof vc&&(this.navigated=!0),Ek(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(db),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,p=c?this.currentUrlTree.fragment:s;let v,g=null;switch(a){case"merge":g={...this.currentUrlTree.queryParams,...i};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=i||null}null!==g&&(g=this.removeEmptyProps(g));try{v=Ux(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),v=this.currentUrlTree.root}return Hx(v,e,g,p??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=eu(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,qf,null,r)}navigate(e,r={skipLocationChange:!1}){return function PV(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new ue(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...TV}:!1===r?{...AV}:r,eu(e))return Rx(this.currentUrlTree,e,o);const i=this.parseUrl(e);return Rx(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const i=e[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,p;s?(a=s.resolve,c=s.reject,p=s.promise):p=new Promise((v,E)=>{a=v,c=E});const g=this.pendingTasks.add();return Sk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(v=>Promise.reject(v))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",s)}else{const i={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",i)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ek(t){return!(t instanceof rb||t instanceof ob)}class Dk{}let FV=(()=>{class t{preload(e,r){return r().pipe(gc(()=>Kt(null)))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NV=(()=>{class t{constructor(e,r,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Pi(e=>e instanceof vc),ld(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=hv(i.providers,e,`Route: ${i.path}`));const s=i._injector??e,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return wr(o).pipe(Bo())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Kt(null);const i=o.pipe(or(s=>null===s?Kt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?wr([i,this.loader.loadComponent(r)]).pipe(Bo()):i})}static#e=this.\u0275fac=function(r){return new(r||t)(de(ii),de(DD),de(Ti),de(Dk),de(mb))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gb=new Ht("");let Ik=(()=>{class t{constructor(e,r,o,i,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Yf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof vc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof gd&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Xx&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xx(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function Iw(){throw new Error("invalid")}()};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();function $l(t,n){return{\u0275kind:t,\u0275providers:n}}function kk(){const t=f(lo);return n=>{const e=t.get(Ha);if(n!==e.components[0])return;const r=t.get(ii),o=t.get(Mk);1===t.get(_b)&&r.initialNavigation(),t.get(Tk,null,An.Optional)?.setUpPreloading(),t.get(gb,null,An.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Mk=new Ht("",{factory:()=>new nt}),_b=new Ht("",{providedIn:"root",factory:()=>1}),Tk=new Ht("");function jV(t){return $l(0,[{provide:Tk,useExisting:NV},{provide:Dk,useExisting:t}])}const Ak=new Ht("ROUTER_FORROOT_GUARD"),UV=[xf,{provide:md,useClass:Qy},ii,tu,{provide:Ll,useFactory:function xk(t){return t.routerState.root},deps:[ii]},mb,[]];function HV(){return new LD("Router",ii)}let Vm=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[UV,[],{provide:Cd,multi:!0,useValue:e},{provide:Ak,useFactory:ZV,deps:[[ii,new $p,new Bp]]},{provide:jm,useValue:r||{}},r?.useHash?{provide:Ga,useClass:h1}:{provide:Ga,useClass:p1},{provide:gb,useFactory:()=>{const t=f(H$),n=f(ct),e=f(jm),r=f(Bm),o=f(md);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Ik(o,r,t,n,e)}},r?.preloadingStrategy?jV(r.preloadingStrategy).\u0275providers:[],{provide:LD,multi:!0,useFactory:HV},r?.initialNavigation?qV(r):[],r?.bindToComponentInputs?$l(8,[ok,{provide:Om,useExisting:ok}]).\u0275providers:[],[{provide:Pk,useFactory:kk},{provide:$v,multi:!0,useExisting:Pk}]]}}static forChild(e){return{ngModule:t,providers:[{provide:Cd,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(r){return new(r||t)(de(Ak,8))};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({})}return t})();function ZV(t){return"guarded"}function qV(t){return["disabled"===t.initialNavigation?$l(3,[{provide:od,multi:!0,useFactory:()=>{const n=f(ii);return()=>{n.setUpLocationChangeListener()}}},{provide:_b,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?$l(2,[{provide:_b,useValue:0},{provide:od,multi:!0,deps:[lo],useFactory:n=>{const e=n.get(D3,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=n.get(ii),i=n.get(Mk);Sk(o,()=>{r(!0)}),n.get(Bm).afterPreactivation=()=>(r(!0),i.closed?Kt(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const Pk=new Ht("");var vb=P(7143),yb=(P(2574),P(8576),P(873),P(1904)),XV=P(4259),nu=P(6277),op=P(5701),ip=(P(4168),P(5732)),KV=(P(2678),P(9212),P(4865));const JV=yb.i,$t=["*"],tU=["outlet"],nU=["tabsInner"],rU=[[["","slot","top"]],"*"],oU=["[slot=top]","*"],Rk=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);let sp=(()=>{class t{constructor(e,r){this.injector=e,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=e,wd(this.el)}handleValueChange(e,r){e===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),wd(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),wd(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(Pl)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>wd(this.el)));const r=e.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),wd(this.el)}}})}}return t.\u0275fac=function(e){return new(e||t)(w(lo),w(bt))},t.\u0275dir=Ze({type:t,hostBindings:function(e,r){1&e&&at("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),t})();const wd=t=>{Rk(()=>{const n=t.nativeElement,e=null!=n.value&&n.value.toString().length>0,r=aU(n);bb(n,r);const o=n.closest("ion-item");o&&bb(o,e?[...r,"item-has-value"]:r)})},aU=t=>{const n=t.classList,e=[];for(let r=0;r<n.length;r++){const o=n.item(r);null!==o&&lU(o,"ng-")&&e.push(`ion-${o.substring(3)}`)}return e},bb=(t,n)=>{const e=t.classList;e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),e.add(...n)},lU=(t,n)=>t.substring(0,n.length)===n;let Sd=(()=>{class t extends sp{constructor(e,r){super(e,r)}writeValue(e){this.el.nativeElement.checked=this.lastValue=e,wd(this.el)}_handleIonChange(e){this.handleValueChange(e,e.checked)}}return t.\u0275fac=function(e){return new(e||t)(w(lo),w(bt))},t.\u0275dir=Ze({type:t,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,r){1&e&&at("ionChange",function(i){return r._handleIonChange(i.target)})},features:[xr([{provide:Ji,useExisting:t,multi:!0}]),cr]}),t})(),ap=(()=>{class t extends sp{constructor(e,r){super(e,r)}_handleChangeEvent(e){this.handleValueChange(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(w(lo),w(bt))},t.\u0275dir=Ze({type:t,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,r){1&e&&at("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[xr([{provide:Ji,useExisting:t,multi:!0}]),cr]}),t})(),Bl=(()=>{class t extends sp{constructor(e,r){super(e,r)}_handleInputEvent(e){this.handleValueChange(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(w(lo),w(bt))},t.\u0275dir=Ze({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,r){1&e&&at("ionInput",function(i){return r._handleInputEvent(i.target)})},features:[xr([{provide:Ji,useExisting:t,multi:!0}]),cr]}),t})();const dU=(t,n)=>{const e=t.prototype;n.forEach(r=>{Object.defineProperty(e,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},fU=(t,n)=>{const e=t.prototype;n.forEach(r=>{e[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},fr=(t,n,e)=>{e.forEach(r=>t[r]=Vf(n,r))};function Ft(t){return function(e){const{defineCustomElementFn:r,inputs:o,methods:i}=t;return void 0!==r&&r(),o&&dU(e,o),i&&fU(e,i),e}}let Ok=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-app"]],ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({})],t),t})(),Fk=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],t),t})(),ts=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,fr(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),ns=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["collapse"]})],t),t})(),Nk=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,fr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],t),t})(),rs=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,fr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),os=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["collapse","mode","translucent"]})],t),t})(),Ei=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),jl=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,fr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),mi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],t),t})(),Um=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],t),t})(),Hm=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,fr(this,this.el,["ionSwipe"])}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["side"]})],t),t})(),Gm=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,fr(this,this.el,["ionDrag"])}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],t),t})(),is=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["color","mode","position"]})],t),t})(),Xa=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t),t})(),Lk=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,fr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})(),Cb=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,fr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],t),t})(),zm=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,fr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],t),t})(),Wm=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["disabled","value"]})],t),t})(),lp=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["color","duration","name","paused"]})],t),t})(),Zm=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["color","mode","selectedTab","translucent"]})],t),t})(),$k=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],t),t})(),ss=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["color","size"]})],t),t})(),cp=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,fr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],t),t})(),as=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(w(xt),w(bt),w(ct))},t.\u0275cmp=m({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$t,decls:1,vars:0,template:function(e,r){1&e&&(Ot(),Pt(0))},encapsulation:2,changeDetection:0}),t=U([Ft({inputs:["color","mode"]})],t),t})(),wb=(()=>{class t{get(e,r){const o=Sb();return o?o.get(e,r):null}getBoolean(e,r){const o=Sb();return!!o&&o.getBoolean(e,r)}getNumber(e,r){const o=Sb();return o?o.getNumber(e,r):0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Bk=new Ht("USERCONFIG"),Sb=()=>{if(typeof window<"u"){const t=window.Ionic;if(t?.config)return t.config}return null};let pH=(()=>{class t{constructor(e,r){this.doc=e,this.backButton=new nt,this.keyboardDidShow=new nt,this.keyboardDidHide=new nt,this.pause=new nt,this.resume=new nt,this.resize=new nt,r.run(()=>{let o;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,c=>r.run(()=>s(c))))},Ed(this.pause,e,"pause"),Ed(this.resume,e,"resume"),Ed(this.backButton,e,"ionBackButton"),Ed(this.resize,this.win,"resize"),Ed(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ed(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?e.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(e){return(0,yb.a)(this.win,e)}platforms(){return(0,yb.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return hH(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(e){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(e){return new(e||t)(de(Ai),de(ct))},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const hH=(t,n)=>{n=n.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Ed=(t,n,e)=>{n&&n.addEventListener(e,r=>{const o=r?.detail;t.next(o)})};let up=(()=>{class t{constructor(e,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=jk,this.animated=Vk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Yf){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),e.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(e,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateBack(e,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateRoot(e,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){var e=this;return(0,re.Z)(function*(){let r=e.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(e,r,o,i){this.direction=e,this.animated=mH(e,r,o),this.animationBuilder=i}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let r,e="root";const o=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,r=this.guessAnimation):(r=this.animated,e=this.direction),this.direction=jk,this.animated=Vk,this.animationBuilder=void 0,{direction:e,animation:r,animationBuilder:o}}navigate(e,r){if(Array.isArray(e))return this.router.navigate(e,r);{const o=this.serializer.parse(e.toString());return void 0!==r.queryParams&&(o.queryParams={...r.queryParams}),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return t.\u0275fac=function(e){return new(e||t)(de(pH),de(xf),de(md),de(ii,8))},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const mH=(t,n,e)=>{if(!1!==n){if(void 0!==e)return e;if("forward"===t||"back"===t)return t;if("root"===t&&!0===n)return"forward"}},jk="auto",Vk=void 0;class Uk{constructor(n={}){this.data=n}get(n){return this.data[n]}}let qm=(()=>{class t{constructor(){this.zone=f(ct),this.applicationRef=f(Ha)}create(e,r,o){return new gH(e,r,this.applicationRef,this.zone,o)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t})();class gH{constructor(n,e,r,o,i){this.environmentInjector=n,this.injector=e,this.applicationRef=r,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(n,e,r,o){return this.zone.run(()=>new Promise(i=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=n),i(_H(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,n,e,s,o,this.elementReferenceKey))}))}removeViewFromDom(n,e){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(e);if(o){o.destroy(),this.elRefMap.delete(e);const i=this.elEventsMap.get(e);i&&(i(),this.elEventsMap.delete(e))}r()}))}}const _H=(t,n,e,r,o,i,s,a,c,p,g)=>{const E=function w3(t,n){const e=zt(t),r=n.elementInjector||ih();return new cf(e).create(r,n.projectableNodes,n.hostElement,n.environmentInjector)}(a,{environmentInjector:n,elementInjector:lo.create({providers:yH(c),parent:e})}),A=E.instance,ne=E.location.nativeElement;if(c&&(g&&void 0!==A[g]&&console.error(`[Ionic Error]: ${g} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${g}" property from ${a.name}.`),Object.assign(A,c)),p)for(const Oe of p)ne.classList.add(Oe);const ge=Hk(t,A,ne);return s.appendChild(ne),r.attachView(E.hostView),o.set(ne,E),i.set(ne,ge),ne},vH=[op.L,op.a,op.b,op.c,op.d],Hk=(t,n,e)=>t.run(()=>{const r=vH.filter(o=>"function"==typeof n[o]).map(o=>{const i=s=>n[o](s.detail);return e.addEventListener(o,i),()=>e.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),Gk=new Ht("NavParamsToken"),yH=t=>[{provide:Gk,useValue:t},{provide:Uk,useFactory:bH,deps:[Gk]}],bH=t=>new Uk(t),zk=(t,n)=>((t=t.filter(e=>e.stackId!==n.stackId)).push(n),t),Eb=(t,n)=>{const e=t.createUrlTree(["."],{relativeTo:n});return t.serializeUrl(e)},Wk=(t,n)=>!n||t.stackId!==n.stackId,EH=(t,n)=>{if(!t)return;const e=Zk(n);for(let r=0;r<e.length;r++){if(r>=t.length)return e[r];if(e[r]!==t[r])return}},Zk=t=>t.split("/").map(n=>n.trim()).filter(n=>""!==n),qk=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class DH{constructor(n,e,r,o,i,s){this.containerEl=e,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==n?Zk(n):void 0}createView(n,e){const r=Eb(this.router,e),o=n?.location?.nativeElement,i=Hk(this.zone,n.instance,o);return{id:this.nextId++,stackId:EH(this.tabsPrefix,r),unlistenEvents:i,element:o,ref:n,url:r}}getExistingView(n){const e=Eb(this.router,n),r=this.views.find(o=>o.url===e);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(n){const e=this.navCtrl.consumeTransition();let{direction:r,animation:o,animationBuilder:i}=e;const s=this.activeView,a=Wk(n,s);a&&(r="back",o=void 0);const c=this.views.slice();let p;const g=this.router;g.getCurrentNavigation?p=g.getCurrentNavigation():g.navigations?.value&&(p=g.navigations.value),p?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const v=this.views.includes(n),E=this.insertView(n,r);v||n.ref.changeDetectorRef.detectChanges();const A=n.animationBuilder;return void 0===i&&"back"===r&&!a&&void 0!==A&&(i=A),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),n.ref.changeDetectorRef.reattach(),this.transition(n,s,o,this.canGoBack(1),!1,i).then(()=>IH(n,E,c,this.location,this.zone)).then(()=>({enteringView:n,direction:r,animation:o,tabSwitch:a})))))}canGoBack(n,e=this.getActiveStackId()){return this.getStack(e).length>n}pop(n,e=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(e);if(r.length<=n)return Promise.resolve(!1);const o=r[r.length-n-1];let i=o.url;const s=o.savedData;if(s){const c=s.get("primary");c?.route?._routerState?.snapshot.url&&(i=c.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const n=this.activeView;if(n){const e=this.getStack(n.stackId),r=e[e.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,n,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(n){n?(this.skipTransition=!0,this.pop(1)):this.activeView&&Yk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(n){const e=this.getStack(n);return e.length>0?e[e.length-1]:void 0}getRootUrl(n){const e=this.getStack(n);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(qk),this.activeView=void 0,this.views=[]}getStack(n){return this.views.filter(e=>e.stackId===n)}insertView(n,e){return this.activeView=n,this.views=((t,n,e)=>"root"===e?zk(t,n):"forward"===e?((t,n)=>(t.indexOf(n)>=0?t=t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):t.push(n),t))(t,n):((t,n)=>t.indexOf(n)>=0?t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):zk(t,n))(t,n))(this.views,n,e),this.views.slice()}transition(n,e,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===n)return Promise.resolve(!1);const a=n?n.element:void 0,c=e?e.element:void 0,p=this.containerEl;return a&&a!==c&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==p&&p.appendChild(a),p.commit)?p.commit(a,c,{duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(n){var e=this;return(0,re.Z)(function*(){void 0!==e.runningTask&&(yield e.runningTask,e.runningTask=void 0);const r=e.runningTask=n();return r.finally(()=>e.runningTask=void 0),r})()}}const IH=(t,n,e,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Yk(t,n,e,r,o),i()})}):Promise.resolve(),Yk=(t,n,e,r,o)=>{o.run(()=>e.filter(i=>!n.includes(i)).forEach(qk)),n.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==t&&i.url!==a){const c=i.element;c.setAttribute("aria-hidden","true"),c.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let dp=(()=>{class t{constructor(e,r,o,i,s,a,c,p){this.parentOutlet=p,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Bt(null),this.activated=null,this._activatedRoute=null,this.name=Hn,this.stackWillChange=new Mn,this.stackDidChange=new Mn,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.parentContexts=f(tu),this.location=f(ms),this.environmentInjector=f(Ti),this.inputBinder=f(Xk,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=f(wb),this.navCtrl=f(up),this.nativeEl=i.nativeElement,this.name=e||Hn,this.tabsPrefix="true"===r?Eb(s,c):void 0,this.stackCtrl=new DH(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const e=this.getContext();e?.route&&this.activateWith(e.route,e.injector)}new Promise(e=>(0,XV.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route={...r.route}),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;let o,i=this.stackCtrl.getExistingView(e);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,e)}else{const a=e._futureSnapshot,c=this.parentContexts.getOrCreateContext(this.name).children,p=new Bt(null),g=this.createActivatedRouteProxy(p,e),v=new xH(g,c,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:v,environmentInjector:r??this.environmentInjector}),p.next(o.instance),i=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(o.instance,g),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:e})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:Wk(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(e=1,r){return this.stackCtrl.canGoBack(e,r)}pop(e=1,r){return this.stackCtrl.pop(e,r)}getLastUrl(e){const r=this.stackCtrl.getLastUrl(e);return r?r.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,r){const o=new Ll;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(e,"paramMap"),o._queryParamMap=this.proxyObservable(e,"queryParamMap"),o.url=this.proxyObservable(e,"url"),o.params=this.proxyObservable(e,"params"),o.queryParams=this.proxyObservable(e,"queryParams"),o.fragment=this.proxyObservable(e,"fragment"),o.data=this.proxyObservable(e,"data"),o}proxyObservable(e,r){return e.pipe(Pi(o=>!!o),S(o=>this.currentActivatedRoute$.pipe(Pi(i=>null!==i&&i.component===o),S(i=>i&&i.activatedRoute[r]),B())))}updateActivatedRouteProxy(e,r){const o=this.proxyMap.get(e);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:e,activatedRoute:r})}}return t.\u0275fac=function(e){return new(e||t)(Cu("name"),Cu("tabs"),w(xf),w(bt),w(ii),w(ct),w(Ll),w(t,12))},t.\u0275dir=Ze({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class xH{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Ll?this.route:n===tu?this.childContexts:this.parent.get(n,e)}}const Xk=new Ht("");let kH=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,o=wm([r.queryParams,r.params,r.data]).pipe(S(([i,s,a],c)=>(a={...i,...s,...a},0===c?Kt(a):Promise.resolve(a)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const s=u1(r.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t})(),Kk=(()=>{class t{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new Mn,this.ionTabsDidChange=new Mn,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:e,tabSwitch:r}){const o=e.stackId;r&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:e,tabSwitch:r}){const o=e.stackId;r&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(e){const r="string"==typeof e,o=r?e:e.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||e.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const p=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...p&&s===p.url&&p.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),c=a?.url||s,p=a?.savedExtras;return this.navCtrl.navigateRoot(c,{...p,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(e=>{const r=e.el.getAttribute("slot");r!==this.tabBarSlot&&(this.tabBarSlot=r,this.relocateTabBar())})}relocateTabBar(){const e=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(e):this.tabsInner.nativeElement.after(e)}}return t.\u0275fac=function(e){return new(e||t)(w(up))},t.\u0275cmp=m({type:t,selectors:[["ion-tabs"]],contentQueries:function(e,r,o){if(1&e&&(td(o,Zm,5),td(o,Zm,4)),2&e){let i;Js(i=ea())&&(r.tabBar=i.first),Js(i=ea())&&(r.tabBars=i)}},viewQuery:function(e,r){if(1&e&&(zc(tU,5,dp),zc(nU,7,bt)),2&e){let o;Js(o=ea())&&(r.outlet=o.first),Js(o=ea())&&(r.tabsInner=o.first)}},hostBindings:function(e,r){1&e&&at("ionTabButtonClick",function(i){return r.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:oU,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(e,r){1&e&&(Ot(rU),Pt(0),oe(1,"div",0,1)(3,"ion-router-outlet",2,3),at("stackWillChange",function(i){return r.onStackWillChange(i)})("stackDidChange",function(i){return r.onStackDidChange(i)}),J()(),Pt(5,1))},dependencies:[dp],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),t})(),Qk=(()=>{class t{constructor(e,r,o){this.routerOutlet=e,this.navCtrl=r,this.config=o}onClick(e){const r=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=r&&(this.navCtrl.navigateBack(r,{animation:this.routerAnimation}),e.preventDefault())}}return t.\u0275fac=function(e){return new(e||t)(w(dp,8),w(up),w(wb))},t.\u0275dir=Ze({type:t,selectors:[["ion-back-button"]],hostBindings:function(e,r){1&e&&at("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),t})(),Jk=(()=>{let t=class{constructor(e,r,o,i){this.el=e.nativeElement,e.nativeElement.delegate=i.create(r,o),fr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return t.\u0275fac=function(e){return new(e||t)(w(bt),w(Ti),w(lo),w(qm))},t.\u0275dir=Ze({type:t,selectors:[["ion-nav"]]}),t=U([Ft({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})();const RH={provide:Si,useExisting:Qe(()=>eM),multi:!0};let eM=(()=>{class t extends Gy{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=ti(t)))(r||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Qs("max",r._enabled?r.max:null)},features:[xr([RH]),cr]}),t})();const OH={provide:Si,useExisting:Qe(()=>tM),multi:!0};let tM=(()=>{class t extends zy{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=ti(t)))(r||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Qs("min",r._enabled?r.min:null)},features:[xr([OH]),cr]}),t})();class fp{constructor(n){this.ctrl=n}create(n){return this.ctrl.create(n||{})}dismiss(n,e,r){return this.ctrl.dismiss(n,e,r)}getTop(){return this.ctrl.getTop()}}let pp=(()=>{class t extends fp{constructor(){super(ip.b)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ru=(()=>{class t extends fp{constructor(){super(ip.a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vl=(()=>{class t extends fp{constructor(){super(ip.l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ys=(()=>{class t extends fp{constructor(){super(ip.m),this.angularDelegate=f(qm),this.injector=f(lo),this.environmentInjector=f(Ti)}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t})(),ou=(()=>{class t extends fp{constructor(){super(ip.c),this.angularDelegate=f(qm),this.injector=f(lo),this.environmentInjector=f(Ti)}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t})();class FH{shouldDetach(n){return!1}shouldAttach(n){return!1}store(n,e){}retrieve(n){return null}shouldReuseRoute(n,e){if(n.routeConfig!==e.routeConfig)return!1;const r=n.params,o=e.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}const NH=(t,n,e)=>()=>{if(n.defaultView&&typeof window<"u"){(0,nu.s)({...t,_zoneGate:i=>e.run(i)});const o="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return function QV(){var t=[];if(typeof window<"u"){var n=window;(!n.customElements||n.Element&&(!n.Element.prototype.closest||!n.Element.prototype.matches||!n.Element.prototype.remove||!n.Element.prototype.getRootNode))&&t.push(P.e(6748).then(P.t.bind(P,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||n.NodeList&&!n.NodeList.prototype.forEach||!n.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(P.e(2214).then(P.t.bind(P,7386,23)))}return Promise.all(t)}().then(()=>((t,n)=>{if(!(typeof window>"u"))return JV(),(0,KV.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),n)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Rk,jmp:i=>e.runOutsideAngular(i),ael(i,s,a,c){i[o](s,a,c)},rel(i,s,a,c){i.removeEventListener(s,a,c)}}))}};let yc=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:Bk,useValue:e},{provide:od,useFactory:NH,multi:!0,deps:[Bk,Ai,ct]},{provide:Xk,useFactory:LH,deps:[ii]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=me({type:t}),t.\u0275inj=yr({providers:[qm,ys,ou],imports:[za]}),t})();function LH(t){return t?.componentInputBindingEnabled?new kH:null}let iu={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const rM=/[&<>"']/,BH=new RegExp(rM.source,"g"),oM=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,jH=new RegExp(oM.source,"g"),VH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},iM=t=>VH[t];function Hi(t,n){if(n){if(rM.test(t))return t.replace(BH,iM)}else if(oM.test(t))return t.replace(jH,iM);return t}const UH=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function sM(t){return t.replace(UH,(n,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const HH=/(^|[^\[])\^/g;function qr(t,n){t="string"==typeof t?t:t.source,n=n||"";const e={replace:(r,o)=>(o=(o=o.source||o).replace(HH,"$1"),t=t.replace(r,o),e),getRegex:()=>new RegExp(t,n)};return e}const GH=/[^\w:]/g,zH=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function aM(t,n,e){if(t){let r;try{r=decodeURIComponent(sM(e)).replace(GH,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}n&&!zH.test(e)&&(e=function YH(t,n){Ym[" "+t]||(Ym[" "+t]=WH.test(t)?t+"/":Km(t,"/",!0));const e=-1===(t=Ym[" "+t]).indexOf(":");return"//"===n.substring(0,2)?e?n:t.replace(ZH,"$1")+n:"/"===n.charAt(0)?e?n:t.replace(qH,"$1")+n:t+n}(n,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Ym={},WH=/^[^:]+:\/*[^/]*$/,ZH=/^([^:]+:)[\s\S]*$/,qH=/^([^:]+:\/*[^/]*)[\s\S]*$/,Xm={exec:function(){}};function lM(t,n){const r=t.replace(/\|/g,(i,s,a)=>{let c=!1,p=s;for(;--p>=0&&"\\"===a[p];)c=!c;return c?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Km(t,n,e){const r=t.length;if(0===r)return"";let o=0;for(;o<r;){const i=t.charAt(r-o-1);if(i!==n||e){if(i===n||!e)break;o++}else o++}return t.slice(0,r-o)}function cM(t,n){if(n<1)return"";let e="";for(;n>1;)1&n&&(e+=t),n>>=1,t+=t;return e+t}function uM(t,n,e,r){const o=n.href,i=n.title?Hi(n.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:e,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:i,text:Hi(s)}}class Db{constructor(n){this.options=n||iu}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Km(r,"\n")}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const r=e[0],o=function QH(t,n){const e=t.match(/^(\s+)(?:```)/);if(null===e)return n;const r=e[1];return n.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:o}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let r=e[2].trim();if(/#$/.test(r)){const o=Km(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:e[0],tokens:i,text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let r,o,i,s,a,c,p,g,v,E,A,ne,ge=e[1].trim();const Oe=ge.length>1,He={type:"list",raw:"",ordered:Oe,start:Oe?+ge.slice(0,-1):"",loose:!1,items:[]};ge=Oe?`\\d{1,9}\\${ge.slice(-1)}`:`\\${ge}`,this.options.pedantic&&(ge=Oe?ge:"[*+-]");const Ie=new RegExp(`^( {0,3}${ge})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(ne=!1,(e=Ie.exec(n))&&!this.rules.block.hr.test(n));){if(r=e[0],n=n.substring(r.length),g=e[2].split("\n",1)[0].replace(/^\t+/,gt=>" ".repeat(3*gt.length)),v=n.split("\n",1)[0],this.options.pedantic?(s=2,A=g.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,A=g.slice(s),s+=e[1].length),c=!1,!g&&/^ *$/.test(v)&&(r+=v+"\n",n=n.substring(v.length+1),ne=!0),!ne){const gt=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Xt=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),zn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),Io=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;n&&(E=n.split("\n",1)[0],v=E,this.options.pedantic&&(v=v.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(zn.test(v)||Io.test(v)||gt.test(v)||Xt.test(n)));){if(v.search(/[^ ]/)>=s||!v.trim())A+="\n"+v.slice(s);else{if(c||g.search(/[^ ]/)>=4||zn.test(g)||Io.test(g)||Xt.test(g))break;A+="\n"+v}!c&&!v.trim()&&(c=!0),r+=E+"\n",n=n.substring(E.length+1),g=v.slice(s)}}He.loose||(p?He.loose=!0:/\n *\n *$/.test(r)&&(p=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(A),o&&(i="[ ] "!==o[0],A=A.replace(/^\[[ xX]\] +/,""))),He.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:A}),He.raw+=r}He.items[He.items.length-1].raw=r.trimRight(),He.items[He.items.length-1].text=A.trimRight(),He.raw=He.raw.trimRight();const kt=He.items.length;for(a=0;a<kt;a++)if(this.lexer.state.top=!1,He.items[a].tokens=this.lexer.blockTokens(He.items[a].text,[]),!He.loose){const gt=He.items[a].tokens.filter(zn=>"space"===zn.type),Xt=gt.length>0&&gt.some(zn=>/\n.*\n/.test(zn.raw));He.loose=Xt}if(He.loose)for(a=0;a<kt;a++)He.items[a].loose=!0;return He}}html(n){const e=this.rules.block.html.exec(n);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(e[0]):Hi(e[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(n){const e=this.rules.block.def.exec(n);if(e){const r=e[1].toLowerCase().replace(/\s+/g," "),o=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:o,title:i}}}table(n){const e=this.rules.block.table.exec(n);if(e){const r={type:"table",header:lM(e[1]).map(o=>({text:o})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let i,s,a,c,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=lM(r.rows[i],r.header.length).map(p=>({text:p}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(c=r.rows[s],a=0;a<c.length;a++)c[a].tokens=this.lexer.inline(c[a].text);return r}}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const r="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(n){const e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:Hi(e[1])}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Hi(e[0]):e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Km(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function XH(t,n){if(-1===t.indexOf(n[1]))return-1;const e=t.length;let r=0,o=0;for(;o<e;o++)if("\\"===t[o])o++;else if(t[o]===n[0])r++;else if(t[o]===n[1]&&(r--,r<0))return o;return-1}(e[2],"()");if(s>-1){const c=(0===e[0].indexOf("!")?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,c).trim(),e[3]=""}}let o=e[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),uM(e,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(n,e){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=e[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return uM(r,o,r[0],this.lexer)}}emStrong(n,e,r=""){let o=this.rules.inline.emStrong.lDelim.exec(n);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,c,p=s,g=0;const v="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(v.lastIndex=0,e=e.slice(-1*n.length+s);null!=(o=v.exec(e));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(c=a.length,o[3]||o[4]){p+=c;continue}if((o[5]||o[6])&&s%3&&!((s+c)%3)){g+=c;continue}if(p-=c,p>0)continue;c=Math.min(c,c+p+g);const E=n.slice(0,s+o.index+(o[0].length-a.length)+c);if(Math.min(s,c)%2){const ne=E.slice(1,-1);return{type:"em",raw:E,text:ne,tokens:this.lexer.inlineTokens(ne)}}const A=E.slice(2,-2);return{type:"strong",raw:E,text:A,tokens:this.lexer.inlineTokens(A)}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let r=e[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Hi(r,!0),{type:"codespan",raw:e[0],text:r}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n,e){const r=this.rules.inline.autolink.exec(n);if(r){let o,i;return"@"===r[2]?(o=Hi(this.options.mangle?e(r[1]):r[1]),i="mailto:"+o):(o=Hi(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(n,e){let r;if(r=this.rules.inline.url.exec(n)){let o,i;if("@"===r[2])o=Hi(this.options.mangle?e(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=Hi(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(n,e){const r=this.rules.inline.text.exec(n);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Hi(r[0]):r[0]:Hi(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const xn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Xm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};xn.def=qr(xn.def).replace("label",xn._label).replace("title",xn._title).getRegex(),xn.bullet=/(?:[*+-]|\d{1,9}[.)])/,xn.listItemStart=qr(/^( *)(bull) */).replace("bull",xn.bullet).getRegex(),xn.list=qr(xn.list).replace(/bull/g,xn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+xn.def.source+")").getRegex(),xn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",xn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,xn.html=qr(xn.html,"i").replace("comment",xn._comment).replace("tag",xn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),xn.paragraph=qr(xn._paragraph).replace("hr",xn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xn._tag).getRegex(),xn.blockquote=qr(xn.blockquote).replace("paragraph",xn.paragraph).getRegex(),xn.normal={...xn},xn.gfm={...xn.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},xn.gfm.table=qr(xn.gfm.table).replace("hr",xn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xn._tag).getRegex(),xn.gfm.paragraph=qr(xn._paragraph).replace("hr",xn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",xn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xn._tag).getRegex(),xn.pedantic={...xn.normal,html:qr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",xn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Xm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:qr(xn.normal._paragraph).replace("hr",xn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",xn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Jt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Xm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Xm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function JH(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function dM(t){let e,r,n="";const o=t.length;for(e=0;e<o;e++)r=t.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}Jt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Jt.punctuation=qr(Jt.punctuation).replace(/punctuation/g,Jt._punctuation).getRegex(),Jt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Jt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Jt._comment=qr(xn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Jt.emStrong.lDelim=qr(Jt.emStrong.lDelim).replace(/punct/g,Jt._punctuation).getRegex(),Jt.emStrong.rDelimAst=qr(Jt.emStrong.rDelimAst,"g").replace(/punct/g,Jt._punctuation).getRegex(),Jt.emStrong.rDelimUnd=qr(Jt.emStrong.rDelimUnd,"g").replace(/punct/g,Jt._punctuation).getRegex(),Jt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Jt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Jt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Jt.autolink=qr(Jt.autolink).replace("scheme",Jt._scheme).replace("email",Jt._email).getRegex(),Jt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Jt.tag=qr(Jt.tag).replace("comment",Jt._comment).replace("attribute",Jt._attribute).getRegex(),Jt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Jt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Jt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Jt.link=qr(Jt.link).replace("label",Jt._label).replace("href",Jt._href).replace("title",Jt._title).getRegex(),Jt.reflink=qr(Jt.reflink).replace("label",Jt._label).replace("ref",xn._label).getRegex(),Jt.nolink=qr(Jt.nolink).replace("ref",xn._label).getRegex(),Jt.reflinkSearch=qr(Jt.reflinkSearch,"g").replace("reflink",Jt.reflink).replace("nolink",Jt.nolink).getRegex(),Jt.normal={...Jt},Jt.pedantic={...Jt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:qr(/^!?\[(label)\]\((.*?)\)/).replace("label",Jt._label).getRegex(),reflink:qr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Jt._label).getRegex()},Jt.gfm={...Jt.normal,escape:qr(Jt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Jt.gfm.url=qr(Jt.gfm.url,"i").replace("email",Jt.gfm._extended_email).getRegex(),Jt.breaks={...Jt.gfm,br:qr(Jt.br).replace("{2,}","*").getRegex(),text:qr(Jt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class bc{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||iu,this.options.tokenizer=this.options.tokenizer||new Db,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:xn.normal,inline:Jt.normal};this.options.pedantic?(e.block=xn.pedantic,e.inline=Jt.pedantic):this.options.gfm&&(e.block=xn.gfm,e.inline=this.options.breaks?Jt.breaks:Jt.gfm),this.tokenizer.rules=e}static get rules(){return{block:xn,inline:Jt}}static lex(n,e){return new bc(e).lex(n)}static lexInline(n,e){return new bc(e).inlineTokens(n)}lex(n){let e;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(n,e=[]){let r,o,i,s;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(a,c,p)=>c+"    ".repeat(p.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(n)){n=n.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?e.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=n.slice(1);let p;this.options.extensions.startBlock.forEach(function(g){p=g.call({lexer:this},c),"number"==typeof p&&p>=0&&(a=Math.min(a,p))}),a<1/0&&a>=0&&(i=n.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=e[e.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r),s=i.length!==n.length,n=n.substring(r.raw.length);continue}if(r=this.tokenizer.text(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(n){const a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,e}inline(n,e=[]){return this.inlineQueue.push({src:n,tokens:e}),e}inlineTokens(n,e=[]){let r,o,i,a,c,p,s=n;if(this.tokens.links){const g=Object.keys(this.tokens.links);if(g.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)g.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+cM("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+cM("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;n;)if(c||(p=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(g=>!!(r=g.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(n,s,p)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(n,dM)){n=n.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(n,dM))){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startInline){let g=1/0;const v=n.slice(1);let E;this.options.extensions.startInline.forEach(function(A){E=A.call({lexer:this},v),"number"==typeof E&&E>=0&&(g=Math.min(g,E))}),g<1/0&&g>=0&&(i=n.substring(0,g+1))}if(r=this.tokenizer.inlineText(i,JH)){n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(p=r.raw.slice(-1)),c=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(n){const g="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(g);break}throw new Error(g)}}return e}}class Dd{constructor(n){this.options=n||iu}code(n,e,r){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(n,o);null!=i&&i!==n&&(r=!0,n=i)}return n=n.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+Hi(o)+'">'+(r?n:Hi(n,!0))+"</code></pre>\n":"<pre><code>"+(r?n:Hi(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,e,r,o){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+o.slug(r)}">${n}</h${e}>\n`:`<h${e}>${n}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,e,r){const o=e?"ol":"ul";return"<"+o+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,e,r){if(null===(n=aM(this.options.sanitize,this.options.baseUrl,n)))return r;let o='<a href="'+n+'"';return e&&(o+=' title="'+e+'"'),o+=">"+r+"</a>",o}image(n,e,r){if(null===(n=aM(this.options.sanitize,this.options.baseUrl,n)))return r;let o=`<img src="${n}" alt="${r}"`;return e&&(o+=` title="${e}"`),o+=this.options.xhtml?"/>":">",o}text(n){return n}}class fM{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,r){return""+r}image(n,e,r){return""+r}br(){return""}}class pM{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,e){let r=n,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[n];do{o++,r=n+"-"+o}while(this.seen.hasOwnProperty(r))}return e||(this.seen[n]=o,this.seen[r]=0),r}slug(n,e={}){const r=this.serialize(n);return this.getNextSafeSlug(r,e.dryrun)}}class Cc{constructor(n){this.options=n||iu,this.options.renderer=this.options.renderer||new Dd,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new fM,this.slugger=new pM}static parse(n,e){return new Cc(e).parse(n)}static parseInline(n,e){return new Cc(e).parseInline(n)}parse(n,e=!0){let o,i,s,a,c,p,g,v,E,A,ne,ge,Oe,He,Ie,kt,gt,Xt,zn,r="";const Io=n.length;for(o=0;o<Io;o++)if(A=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[A.type]&&(zn=this.options.extensions.renderers[A.type].call({parser:this},A),!1!==zn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(A.type)))r+=zn||"";else switch(A.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(A.tokens),A.depth,sM(this.parseInline(A.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(A.text,A.lang,A.escaped);continue;case"table":for(v="",g="",a=A.header.length,i=0;i<a;i++)g+=this.renderer.tablecell(this.parseInline(A.header[i].tokens),{header:!0,align:A.align[i]});for(v+=this.renderer.tablerow(g),E="",a=A.rows.length,i=0;i<a;i++){for(p=A.rows[i],g="",c=p.length,s=0;s<c;s++)g+=this.renderer.tablecell(this.parseInline(p[s].tokens),{header:!1,align:A.align[s]});E+=this.renderer.tablerow(g)}r+=this.renderer.table(v,E);continue;case"blockquote":E=this.parse(A.tokens),r+=this.renderer.blockquote(E);continue;case"list":for(ne=A.ordered,ge=A.start,Oe=A.loose,a=A.items.length,E="",i=0;i<a;i++)Ie=A.items[i],kt=Ie.checked,gt=Ie.task,He="",Ie.task&&(Xt=this.renderer.checkbox(kt),Oe?Ie.tokens.length>0&&"paragraph"===Ie.tokens[0].type?(Ie.tokens[0].text=Xt+" "+Ie.tokens[0].text,Ie.tokens[0].tokens&&Ie.tokens[0].tokens.length>0&&"text"===Ie.tokens[0].tokens[0].type&&(Ie.tokens[0].tokens[0].text=Xt+" "+Ie.tokens[0].tokens[0].text)):Ie.tokens.unshift({type:"text",text:Xt}):He+=Xt),He+=this.parse(Ie.tokens,Oe),E+=this.renderer.listitem(He,gt,kt);r+=this.renderer.list(E,ne,ge);continue;case"html":r+=this.renderer.html(A.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(A.tokens));continue;case"text":for(E=A.tokens?this.parseInline(A.tokens):A.text;o+1<Io&&"text"===n[o+1].type;)A=n[++o],E+="\n"+(A.tokens?this.parseInline(A.tokens):A.text);r+=e?this.renderer.paragraph(E):E;continue;default:{const gi='Token with "'+A.type+'" type was not found.';if(this.options.silent)return void console.error(gi);throw new Error(gi)}}return r}parseInline(n,e){e=e||this.renderer;let o,i,s,r="";const a=n.length;for(o=0;o<a;o++)if(i=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=e.text(i.text);break;case"html":r+=e.html(i.text);break;case"link":r+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break;case"image":r+=e.image(i.href,i.title,i.text);break;case"strong":r+=e.strong(this.parseInline(i.tokens,e));break;case"em":r+=e.em(this.parseInline(i.tokens,e));break;case"codespan":r+=e.codespan(i.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(i.tokens,e));break;default:{const c='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}}return r}}class Ib{constructor(n){this.options=n||iu}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(n){return n}postprocess(n){return n}}function hM(t,n){return(e,r,o)=>{"function"==typeof r&&(o=r,r=null);const i={...r},s=function eG(t,n,e){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const o="<p>An error occurred:</p><pre>"+Hi(r.message+"",!0)+"</pre>";return n?Promise.resolve(o):e?void e(null,o):o}if(n)return Promise.reject(r);if(!e)throw r;e(r)}}((r={...kn.defaults,...i}).silent,r.async,o);if(typeof e>"u"||null===e)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof e)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(function KH(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(r),r.hooks&&(r.hooks.options=r),o){const a=r.highlight;let c;try{r.hooks&&(e=r.hooks.preprocess(e)),c=t(e,r)}catch(v){return s(v)}const p=function(v){let E;if(!v)try{r.walkTokens&&kn.walkTokens(c,r.walkTokens),E=n(c,r),r.hooks&&(E=r.hooks.postprocess(E))}catch(A){v=A}return r.highlight=a,v?s(v):o(null,E)};if(!a||a.length<3||(delete r.highlight,!c.length))return p();let g=0;return kn.walkTokens(c,function(v){"code"===v.type&&(g++,setTimeout(()=>{a(v.text,v.lang,function(E,A){if(E)return p(E);null!=A&&A!==v.text&&(v.text=A,v.escaped=!0),g--,0===g&&p()})},0))}),void(0===g&&p())}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(e):e).then(a=>t(a,r)).then(a=>r.walkTokens?Promise.all(kn.walkTokens(a,r.walkTokens)).then(()=>a):a).then(a=>n(a,r)).then(a=>r.hooks?r.hooks.postprocess(a):a).catch(s);try{r.hooks&&(e=r.hooks.preprocess(e));const a=t(e,r);r.walkTokens&&kn.walkTokens(a,r.walkTokens);let c=n(a,r);return r.hooks&&(c=r.hooks.postprocess(c)),c}catch(a){return s(a)}}}function kn(t,n,e){return hM(bc.lex,Cc.parse)(t,n,e)}kn.options=kn.setOptions=function(t){return function $H(t){iu=t}(kn.defaults={...kn.defaults,...t}),kn},kn.getDefaults=function nM(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},kn.defaults=iu,kn.use=function(...t){const n=kn.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(e=>{const r={...e};if(r.async=kn.defaults.async||r.async||!1,e.extensions&&(e.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=n.renderers[o.name];n.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");n[o.level]?n[o.level].unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&("block"===o.level?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:"inline"===o.level&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),r.extensions=n),e.renderer){const o=kn.defaults.renderer||new Dd;for(const i in e.renderer){const s=o[i];o[i]=(...a)=>{let c=e.renderer[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}r.renderer=o}if(e.tokenizer){const o=kn.defaults.tokenizer||new Db;for(const i in e.tokenizer){const s=o[i];o[i]=(...a)=>{let c=e.tokenizer[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}r.tokenizer=o}if(e.hooks){const o=kn.defaults.hooks||new Ib;for(const i in e.hooks){const s=o[i];o[i]=Ib.passThroughHooks.has(i)?a=>{if(kn.defaults.async)return Promise.resolve(e.hooks[i].call(o,a)).then(p=>s.call(o,p));const c=e.hooks[i].call(o,a);return s.call(o,c)}:(...a)=>{let c=e.hooks[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}r.hooks=o}if(e.walkTokens){const o=kn.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(e.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}kn.setOptions(r)})},kn.walkTokens=function(t,n){let e=[];for(const r of t)switch(e=e.concat(n.call(kn,r)),r.type){case"table":for(const o of r.header)e=e.concat(kn.walkTokens(o.tokens,n));for(const o of r.rows)for(const i of o)e=e.concat(kn.walkTokens(i.tokens,n));break;case"list":e=e.concat(kn.walkTokens(r.items,n));break;default:kn.defaults.extensions&&kn.defaults.extensions.childTokens&&kn.defaults.extensions.childTokens[r.type]?kn.defaults.extensions.childTokens[r.type].forEach(function(o){e=e.concat(kn.walkTokens(r[o],n))}):r.tokens&&(e=e.concat(kn.walkTokens(r.tokens,n)))}return e},kn.parseInline=hM(bc.lexInline,Cc.parseInline),kn.Parser=Cc,kn.parser=Cc.parse,kn.Renderer=Dd,kn.TextRenderer=fM,kn.Lexer=bc,kn.lexer=bc.lex,kn.Tokenizer=Db,kn.Slugger=pM,kn.Hooks=Ib,kn.parse=kn;class tG extends V{constructor(n,e){super()}schedule(n,e=0){return this}}const Qm={setInterval(t,n,...e){const{delegate:r}=Qm;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Qm;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},xb={now:()=>(xb.delegate||Date).now(),delegate:void 0};class hp{constructor(n,e=hp.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}hp.now=xb.now;const mM=new class rG extends hp{constructor(n,e=hp.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class nG extends tG{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,e),this}requestAsyncId(n,e,r=0){return Qm.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Qm.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,r=!1;try{this.work(n)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,te(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),oG=mM;function gM(t=0,n,e=oG){let r=-1;return null!=n&&($i(n)?e=n:r=n),new Dt(o=>{let i=function iG(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class sG extends nt{constructor(n=1/0,e=1/0,r=xb){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=e.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}const lG=["*"];let _M=(()=>{class t{constructor(){this._buttonClick$=new nt,this.copied$=this._buttonClick$.pipe(S(()=>zo(Kt(!0),gM(3e3).pipe(Ky(!1)))),B(),function aG(t,n,e){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):r=t??1/0,Ss({connector:()=>new sG(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(xx(!1),Ee(e=>e?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=m({type:t,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(r,o){1&r&&(oe(0,"button",0),at("click",function(){return o.onCopyToClipboardClick()}),Va(1,"async"),Ue(2),Va(3,"async"),J()),2&r&&(xl("copied",Ua(1,3,o.copied$)),et(2),Ns(Ua(3,5,o.copiedText$)))},dependencies:[P1],encapsulation:2,changeDetection:0})}return t})();class dG{}var kb=function(t){return t.CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",t}(kb||{});class vM{}const yM=new Ht("SECURITY_CONTEXT");let Mb=(()=>{class t{get options(){return this._options}set options(e){this._options={...this.DEFAULT_MARKED_OPTIONS,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}constructor(e,r,o,i,s,a){this.platform=e,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new Dd},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new nt,this.reload$=this._reload$.asObservable(),this.options=s}parse(e,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:c}=r,p={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(p.renderer||new Dd));const g=this.trimIndentation(e),v=o?this.decodeHtml(g):g,E=s?this.parseEmoji(v):v,A=this.parseMarked(E,p,i);return(c?A:this.sanitizer.sanitize(this.securityContext,A))||""}render(e,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:c,mermaid:p,mermaidOptions:g}=r;i&&this.renderClipboard(e,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(e,{...this.DEFAULT_KATEX_OPTIONS,...c}),p&&this.renderMermaid(e,{...this.DEFAULT_MERMAID_OPTIONS,...g}),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe(Ee(r=>this.handleExtension(e,r)))}highlight(e){if(!lc(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!lc(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}extendRenderer(e){const r=e;if(!0===r.\u0275NgxMarkdownRendererExtended)return e;const o=e.code;return e.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,e}handleExtension(e,r){const o=e.lastIndexOf("://"),i=o>-1?e.substring(o+4):e,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),p=c>-1?a.substring(c+1):"";return p&&"md"!==p?"```"+p+"\n"+r+"\n```":r}parseMarked(e,r,o=!1){return o?kn.parseInline(e,r):kn.parse(e,r)}parseEmoji(e){if(!lc(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}renderKatex(e,r){if(lc(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,r)}}renderClipboard(e,r,o){if(!lc(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=e.querySelectorAll("pre");for(let c=0;c<a.length;c++){const p=a.item(c),g=document.createElement("div");g.style.position="relative",p.parentNode.insertBefore(g,p),g.appendChild(p);const v=document.createElement("div");let E,A;v.style.position="absolute",v.style.top=".5em",v.style.right=".5em",v.style.opacity="0",v.style.transition="opacity 250ms ease-out",g.insertAdjacentElement("beforeend",v),p.onmouseover=()=>v.style.opacity="1",p.onmouseout=()=>v.style.opacity="0",E=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(_M).hostView,E.rootNodes.forEach(ne=>{ne.onmouseover=()=>v.style.opacity="1",v.appendChild(ne),A=new ClipboardJS(ne,{text:()=>p.innerText})}),E.onDestroy(()=>A.destroy())}}renderMermaid(e,r=this.DEFAULT_MERMAID_OPTIONS){if(!lc(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=e.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}static#e=this.\u0275fac=function(r){return new(r||t)(de(Na),de(yM),de(Sy,8),de(dG,8),de(vM,8),de(vy))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})(),Tb=(()=>{class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(e){this._disableSanitizer=this.coerceBooleanProperty(e)}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(e){this._srcRelativeLink=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}constructor(e,r,o){this.element=e,this.markdownService=r,this.viewContainerRef=o,this.error=new Mn,this.load=new Mn,this.ready=new Mn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new nt}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(Mx(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(e,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(e){return null!=e&&"false"!=`${String(e)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e),this.load.emit(e)},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,kb.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,kb.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const c=this.toLispCase(s);o.item(i).setAttribute(c,a.toString())}})}toLispCase(e){const r=e.match(/([A-Z])/g);if(!r)return e;let o=e.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}static#e=this.\u0275fac=function(r){return new(r||t)(w(bt),w(Mb),w(ms))};static#t=this.\u0275cmp=m({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Ne],ngContentSelectors:lG,decls:1,vars:0,template:function(r,o){1&r&&(Ot(),Pt(0))},encapsulation:2})}return t})(),Ab=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[Mb,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:yM,useValue:e&&null!=e.sanitize?e.sanitize:Rs.HTML}]}}static forChild(){return{ngModule:t}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({imports:[za]})}return t})();var bM;!function(t){let n;var o;let e,r;(o=n=t.SecurityLevel||(t.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(e=t.Theme||(t.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={}))}(bM||(bM={}));const CM="safari"in window,wM=!navigator.userAgent.match(/(crios)|(fxios)/i),ra=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,SM=!!navigator.userAgent.match(/android/i),yG=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Id=function(t){return t.web="web",t.pwa="pwa",t.twa="twa",t}(Id||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const wG=new Error("request for lock canceled");class EG{constructor(n,e=wG){this._value=n,this._cancelError=e,this._weightedQueues=[],this._weightedWaiters=[]}acquire(n=1){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);return new Promise((e,r)=>{this._weightedQueues[n-1]||(this._weightedQueues[n-1]=[]),this._weightedQueues[n-1].push({resolve:e,reject:r}),this._dispatch()})}runExclusive(n,e=1){return function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(g){try{p(r.next(g))}catch(v){s(v)}}function c(g){try{p(r.throw(g))}catch(v){s(v)}}function p(g){g.done?i(g.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(g.value).then(a,c)}p((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(e);try{return yield n(r)}finally{o()}})}waitForUnlock(n=1){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);return new Promise(e=>{this._weightedWaiters[n-1]||(this._weightedWaiters[n-1]=[]),this._weightedWaiters[n-1].push(e),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(n){this._value=n,this._dispatch()}release(n=1){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);this._value+=n,this._dispatch()}cancel(){this._weightedQueues.forEach(n=>n.forEach(e=>e.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var n;for(let e=this._value;e>0;e--){const r=null===(n=this._weightedQueues[e-1])||void 0===n?void 0:n.shift();if(!r)continue;const o=this._value,i=e;this._value-=e,e=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(n){let e=!1;return()=>{e||(e=!0,this.release(n))}}_drainUnlockWaiters(){for(let n=this._value;n>0;n--)this._weightedWaiters[n-1]&&(this._weightedWaiters[n-1].forEach(e=>e()),this._weightedWaiters[n-1]=[])}}class Ka{constructor(n){this._semaphore=new EG(1,n)}acquire(){return t=this,n=void 0,r=function*(){const[,n]=yield this._semaphore.acquire();return n},new((e=void 0)||(e=Promise))(function(i,s){function a(g){try{p(r.next(g))}catch(v){s(v)}}function c(g){try{p(r.throw(g))}catch(v){s(v)}}function p(g){g.done?i(g.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(g.value).then(a,c)}p((r=r.apply(t,n||[])).next())});var t,n,e,r}runExclusive(n){return this._semaphore.runExclusive(()=>n())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Ia={production:!0,dbName:"cloudpilot",debug:!1},Jm="cloudpilot-session"+(Ia.localStorageSuffix?`-${Ia.localStorageSuffix}`:"");function DM(){localStorage.removeItem(Jm)}function mo(){return(t,n,e)=>{const r=e.value;let o=!1;return e.value=(0,re.Z)(function*(...i){if(!o){o=!0;try{return yield r.apply(this,i)}finally{o=!1}}}),e}}let Ul=(()=>{class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class co{constructor(n,e){this.alertController=n,this.emulationState=e,this.emergencySaveEvent=new ri.j}errorMessage(n){var e=this;return(0,re.Z)(function*(){yield(yield e.alertController.create({header:"Error",backdropDismiss:!1,message:new nu.I(n),buttons:[{text:"Close",role:"cancel"}],cssClass:"alert-error"})).present()})()}message(n,e,r={},o="Close"){var i=this;return(0,re.Z)(function*(){const s=yield i.alertController.create({header:n,message:new nu.I(e),backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var n=this;return(0,re.Z)(function*(){const e=yield n.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield e.present(),yield e.onDidDismiss()})()}fatalError(n,e=!0){var r=this;return(0,re.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:new nu.I(`\n                ${n}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&e?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&e?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(n){var e=this;return(0,re.Z)(function*(){const r=yield e.alertController.create({header:"Error",message:new nu.I(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${n}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}static#e=this.\u0275fac=function(e){return new(e||co)(de(ru),de(Ul))};static#t=this.\u0275prov=mt({token:co,factory:co.\u0275fac,providedIn:"root"})}U([mo()],co.prototype,"updateAvailable",null),U([mo()],co.prototype,"fatalError",null),U([mo()],co.prototype,"errorInNativeCode",null);let su=(()=>{class t{constructor(e,r){this.alertService=e,this.ngZone=r,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=o=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${o}.`),this.fatalInNativeCode=o=>this.fatalWithMessage(o.message,!0,!1),this.fatalWithMessage=(o,i=!0,s=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,i&&DM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(o,s))}),this.fatalErrorEvent=new ri.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}static#e=this.\u0275fac=function(r){return new(r||t)(de(co),de(ct))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Lr=function(t){return t.cloudpilot="cloudpilot",t.fstools="fstools",t.vfs="vfs",t.none="none",t}(Lr||{});let mp=(()=>{class t{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Lr.none}claim(e,r){this.assertOwnership(e,Lr.none),this.ownershipMmap.set(e,r)}release(e,r){this.assertOwnership(e,r),this.ownershipMmap.delete(e)}assertOwnership(e,r){if(this.getOwner(e)===r)return;const o=r===Lr.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${r}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(o),new Error(o)}transferOwnership(e,r,o){this.assertOwnership(e,r),this.ownershipMmap.set(e,o)}static#e=this.\u0275fac=function(r){return new(r||t)(de(su))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const wc="session",xd="rom",Sc="memory",Hl="state",eg="kvs",Ec="memory-meta",Qa="storage",$s="storage-card",gp="lock";class kd extends Error{constructor(n){super(n)}}function pr(t){return new Promise((n,e)=>{!function AG(t){return!!t.abort}(t)?t.onsuccess=()=>n(t.result):t.oncomplete=()=>n(void 0),t.onerror=()=>e(new kd(t.error?.message))})}function xM(t){let n=255&t[0];n|=n<<8,n|=n<<16;for(let e=1;e<256;e++)if(t[e]!==n)return t;return 255&t[0]}function PG(t){const n=t[0];for(let e=1;e<2048;e++)if(t[e]!==n)return t;return n}const tg="session",Rb="memory",MM="storage-meta",TM="storage-card";function Ob(){return(Ob=(0,re.Z)(function*(t,n){function e(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!n)throw new Error("no version change transaction!");const o=n.objectStore(tg).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value,p={...c,totalMemory:1024*c.ram*1024+e(c.device)};a.update(p),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Fb(){return(Fb=(0,re.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=n.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=e.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(e.put(r,"credentials"),e.delete("proxyCredentials"))})).apply(this,arguments)}function Nb(){return(Nb=(0,re.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=t.createObjectStore("memory-meta",{keyPath:"sessionId"});t.createObjectStore("storage"),t.createObjectStore(MM,{keyPath:"id",autoIncrement:!0});const o=n.objectStore(tg).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value;void 0!==c.totalMemory&&(e.put({sessionId:c.id,totalSize:c.totalMemory}),delete c.totalMemory,a.update(c)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Lb(){return(Lb=(0,re.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(MM).name=TM})).apply(this,arguments)}function $b(){return($b=(0,re.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(TM).createIndex("storageId","storageId")})).apply(this,arguments)}function Bb(){return(Bb=(0,re.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");t.createObjectStore("lock")})).apply(this,arguments)}const WG=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function AM(t){let n=-1;for(let e=0;e<t.length;e++)n=WG[255&(n^t[e])]^n>>>8;return~n}var ZG=P(3219),qG=P.n(ZG);const PM={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let ng;const YG=new Uint8Array(16);function XG(){if(!ng&&(ng=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ng))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ng(YG)}const Oi=[];for(let t=0;t<256;++t)Oi.push((t+256).toString(16).slice(1));const jb=function KG(t,n,e){if(PM.randomUUID&&!n&&!t)return PM.randomUUID();const r=(t=t||{}).random||(t.rng||XG)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=r[o];return n}return function RM(t,n=0){return(Oi[t[n+0]]+Oi[t[n+1]]+Oi[t[n+2]]+Oi[t[n+3]]+"-"+Oi[t[n+4]]+Oi[t[n+5]]+"-"+Oi[t[n+6]]+Oi[t[n+7]]+"-"+Oi[t[n+8]]+Oi[t[n+9]]+"-"+Oi[t[n+10]]+Oi[t[n+11]]+Oi[t[n+12]]+Oi[t[n+13]]+Oi[t[n+14]]+Oi[t[n+15]]).toLowerCase()}(r)},Vb=new Error("page lock lost"),OM=new Error("version mismatch"),FM=jb();function Fo(){return(t,n,e)=>{const r=e.value;return e.value=(0,re.Z)(function*(...o){const i=this.errorService;try{return yield r.apply(this,o)}catch(s){throw s instanceof kd?i.fatalIDBDead():s===OM?i.fatalVersionMismatch():s===Vb?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),e}}class nr{constructor(n,e,r){this.ngZone=n,this.errorService=e,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Sc),c=o.objectStore(Ec),p=new Uint32Array(256),g=new Uint8Array(p.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),c.put({sessionId:i,totalSize:s.length});const E=s.length>>>10;for(let A=0;A<E;A++){g.set(s.subarray(1024*A,1024*(A+1)));const ne=xM(p);if("number"==typeof ne)a.put(ne,[i,A]);else{const ge=new Uint32Array(256);ge.set(ne),a.put(ge,[i,A])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,re.Z)(function*(){const a=o.objectStore(Ec),c=yield pr(a.get(i));if(!c)return;const p=yield new Promise(function(){var g=(0,re.Z)(function*(v,E){const A=o.objectStore(Sc),ne=new Uint32Array(c.totalSize>>>2),ge=A.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));ge.onsuccess=()=>{const Oe=ge.result;if(!Oe)return v(new Uint8Array(ne.buffer));const He=Oe.value,[,Ie]=Oe.key;"number"==typeof He?ne.subarray(256*Ie,256*(Ie+1)).fill(He|He<<8|He<<16|He<<24):ne.subarray(256*Ie,256*(Ie+1)).set(1024===He.length?new Uint32Array(He.buffer):He),Oe.continue()},ge.onerror=()=>E(new kd(ge.error?.message))});return function(v,E){return g.apply(this,arguments)}}());if(void 0!==c.crc32&&s&&Ia.debug&&c.crc32!==AM(p))throw new Error("snapshot CRC mismatch");return p})),this.sessionChangeEvent=new ri.j,this.storageCardChangeEvent=new ri.j,this.sessionUpdateMutex=new Ka,this.db=this.requestPersistentStorage().then(()=>n.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(n,e,r,o){var i=this;return(0,re.Z)(function*(){const s=qG()(e),a=yield i.newTransaction(wc,xd,Hl,Sc,Ec),c=a.objectStore(wc),p=a.objectStore(xd);(yield pr(p.get(s)))||p.put(e,s);const{id:v,...E}=n,A=yield pr(c.add({...E,rom:s})),ne=yield pr(c.get(A));return r&&i.saveMemory(a,ne.id,r),o&&i.saveState(a,ne.id,o),yield pr(a),ne})()}getAllSessions(){var n=this;return(0,re.Z)(function*(){const[e]=yield n.prepareObjectStore(wc);return yield pr(e.getAll())})()}getSession(n){var e=this;return(0,re.Z)(function*(){const[r]=yield e.prepareObjectStore(wc);return yield pr(r.get(n))})()}deleteSession(n){var e=this;return(0,re.Z)(function*(){const r=yield e.newTransaction(wc,xd,Hl,Sc,Ec),o=r.objectStore(wc),i=r.objectStore(xd);(n=yield pr(o.get(n.id)))&&(o.delete(n.id),0===(yield pr(o.index("rom").getAll(n.rom))).length&&i.delete(n.rom),e.deleteMemory(r,n.id),e.deleteState(r,n.id),yield pr(r),e.sessionChangeEvent.dispatch([n.id,void 0]))})()}updateSessionPartial(n,e){var r=this;return this.sessionUpdateMutex.runExclusive((0,re.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...c}=e,[p,g]=yield r.prepareObjectStore(wc),v=yield pr(p.get(n));if(!v)throw new Error(`no session with id ${n}`);const E={...v,...c};p.put(E),yield pr(g),r.sessionChangeEvent.dispatch([v.id,E])}))}updateSession(n){var e=this;return this.sessionUpdateMutex.runExclusive((0,re.Z)(function*(){const[r,o]=yield e.prepareObjectStore(wc),i=yield pr(r.get(n.id));if(!i)throw new Error(`no session with id ${n.id}`);if(i.rom!==n.rom)throw new Error("attempt to change ROM reference");if(i.ram!==n.ram)throw new Error("attempt to change RAM size");if(i.device!==n.device)throw new Error("attempt to change device type");r.put(n),yield pr(o),e.sessionChangeEvent.dispatch([n.id,n])}))}loadSession(n,e){var r=this;return(0,re.Z)(function*(){const o=yield r.newTransaction(xd,Hl,Sc,Ec),i=o.objectStore(xd);return[yield pr(i.get(n.rom)),yield r.loadMemory(o,n.id,e),yield r.loadState(o,n.id)]})()}deleteStateForSession(n){var e=this;return(0,re.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Hl);r.delete(n.id),yield pr(o)})()}addEmptyStorageCard(n){var e=this;return(0,re.Z)(function*(){const[r]=yield e.prepareObjectStore($s),o=yield pr(r.add(n)),i=yield pr(r.get(o));return e.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(n,e){var r=this;return(0,re.Z)(function*(){return r.ngZone.runOutsideAngular((0,re.Z)(function*(){const o=yield r.newTransaction($s,Qa),i=o.objectStore($s),s=o.objectStore(Qa),a=yield pr(i.add(n)),c=(n.size>>>13)+(e.length%8192==0?0:1),p=new Uint32Array(2048);for(let v=0;v<c;v++){const E=e.subarray(2048*v,2048*(v+1));v===c-1&&p.set(E);const A=PG(v===c-1?p:E);0!==A&&s.put("number"==typeof A?A:A?.slice(),[a,v])}const g=yield pr(i.get(a));return yield pr(o),r.storageCardChangeEvent.dispatch(g.id),g}))})()}getAllStorageCards(){var n=this;return(0,re.Z)(function*(){const[e]=yield n.prepareObjectStore($s);return pr(e.getAll())})()}getCard(n){var e=this;return(0,re.Z)(function*(){const[r]=yield e.prepareObjectStore($s);return pr(r.get(n))})()}updateStorageCardPartial(n,e){var r=this;return(0,re.Z)(function*(){const{storageId:o,size:i,id:s,...a}=e,[c,p]=yield r.prepareObjectStore($s),g=yield pr(c.get(n));if(!g)throw new Error(`no card with id ${n}`);const v={...g,...a};c.put(v),yield pr(p),r.storageCardChangeEvent.dispatch(n)})()}deleteStorageCard(n){var e=this;return(0,re.Z)(function*(){const r=yield e.newTransaction($s,Qa);e.storageCardContext.assertOwnership(n,Lr.none);const o=r.objectStore($s),i=r.objectStore(Qa);o.delete(n),i.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0)),yield pr(r),e.storageCardChangeEvent.dispatch(n)})()}loadCardData(n,e,r){var o=this;return this.ngZone.runOutsideAngular((0,re.Z)(function*(){const i=yield o.newTransaction($s,Qa);o.storageCardContext.assertOwnership(n,r);const s=i.objectStore(Qa);yield new Promise(function(){var a=(0,re.Z)(function*(c,p){const g=s.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));g.onsuccess=()=>{const v=g.result;if(!v)return c();let E=v.value;const[,A]=v.key;"number"==typeof E?e.subarray(2048*A,2048*(A+1)).fill(E):(2048*(A+1)>e.length&&(E=E.subarray(0,2048-2048*(A+1)+e.length)),e.subarray(2048*A,2048*(A+1)).set(E)),v.continue()},g.onerror=()=>p(new kd(g.error?.message))});return function(c,p){return a.apply(this,arguments)}}())}))}updateCardData(n,e,r,o){var i=this;return this.ngZone.runOutsideAngular((0,re.Z)(function*(){const s=yield i.newTransaction($s,Qa);i.storageCardContext.assertOwnership(n,o);const a=s.objectStore($s),c=s.objectStore(Qa),p=yield pr(a.get(n));if(!p)throw new Error(`no card with ID ${n}`);if(e.length!==p.size>>>2)throw new Error("data size mismatch");const g=(p.size>>>13)+(p.size%8192>0?1:0);if((g>>>3)+(g%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let v=0;for(let E=0;E<r.length;E++)for(let A=1;A<256&&!(v>=g);A<<=1)r[E]&A&&c.put(e.subarray(2048*v,2048*(v+1)).slice(),[p.id,v]),v++;yield pr(s)}))}kvsGet(n){var e=this;return(0,re.Z)(function*(){const[r]=yield e.prepareObjectStore(eg);return pr(r.get(n))})()}kvsSet(n){var e=this;return(0,re.Z)(function*(){const[r,o]=yield e.prepareObjectStore(eg);for(const i of Object.keys(n))r.put(n[i],i);yield pr(o)})()}kvsLoad(){var n=this;return(0,re.Z)(function*(){const[e]=yield n.prepareObjectStore(eg);return new Promise((r,o)=>{const i={},s=e.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new kd(s.error?.message))})})()}kvsDelete(n){var e=this;return(0,re.Z)(function*(){const[r,o]=yield e.prepareObjectStore(eg);r.delete(n),yield pr(o)})()}acquireLock(n){var e=this;return(0,re.Z)(function*(){if(e.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield pr(n.objectStore(gp).get(0)))!==FM)throw n.abort(),n.db.close(),Vb})()}newTransaction(...n){var e=this;return(0,re.Z)(function*(){const r=(yield e.db).transaction([gp,...n],"readwrite",{durability:"relaxed"});return yield e.acquireLock(r),r})()}prepareObjectStore(n){var e=this;return(0,re.Z)(function*(){const r=yield e.newTransaction(n);return[r.objectStore(n),r]})()}saveState(n,e,r){const o=n.objectStore(Hl);r?o.put(r,e):o.delete(e)}deleteState(n,e){n.objectStore(Hl).delete(e)}loadState(n,e){return pr(n.objectStore(Hl).get(e))}deleteMemory(n,e){const r=n.objectStore(Sc),o=n.objectStore(Ec);r.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),o.delete(e)}initializeLock(n){return(0,re.Z)(function*(){const e=n.transaction(gp,"readwrite");yield pr(e.objectStore(gp).put(FM,0))})()}setupDb(){var n=this;return(0,re.Z)(function*(){const e=setTimeout(()=>ra&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>i.name===Ia.dbName);if(clearTimeout(e),o&&void 0!==o.version&&o.version>9)throw OM}const r=yield new Promise((o,i)=>{const s=indexedDB.open(Ia.dbName,9);s.onerror=()=>{i(new kd("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,re.Z)(function*(c){clearTimeout(e),c.oldVersion<1&&function $G(t){t.createObjectStore(tg,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),t.createObjectStore("state")}(s.result),c.oldVersion<2&&function BG(t,n){if(!n)throw new Error("no version change transaction!");t.objectStoreNames.contains("rom")&&t.deleteObjectStore("rom"),t.objectStoreNames.contains(Rb)&&t.deleteObjectStore(Rb),n.objectStore(tg).clear(),t.createObjectStore("rom"),t.createObjectStore(Rb),t.createObjectStore("kvs")}(s.result,s.transaction),c.oldVersion<4&&(yield function jG(t,n){return Ob.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<5&&(yield function VG(t,n){return Fb.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<6&&(yield function UG(t,n){return Nb.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<7&&(yield function HG(t,n){return Lb.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<8&&(yield function GG(t,n){return $b.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<9&&(yield function zG(t,n){return Bb.apply(this,arguments)}(s.result,s.transaction))});return function(c){return a.apply(this,arguments)}}()});return yield n.initializeLock(r),r}finally{clearTimeout(e)}})()}requestPersistentStorage(){return(0,re.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(n){console.warn(n),console.log("failed to request persistent storage")}})()}static#e=this.\u0275fac=function(e){return new(e||nr)(de(ct),de(su),de(mp))};static#t=this.\u0275prov=mt({token:nr,factory:nr.\u0275fac,providedIn:"root"})}U([Fo()],nr.prototype,"addSession",null),U([Fo()],nr.prototype,"getAllSessions",null),U([Fo()],nr.prototype,"getSession",null),U([Fo()],nr.prototype,"deleteSession",null),U([Fo()],nr.prototype,"updateSessionPartial",null),U([Fo()],nr.prototype,"updateSession",null),U([Fo()],nr.prototype,"loadSession",null),U([Fo()],nr.prototype,"deleteStateForSession",null),U([Fo()],nr.prototype,"addEmptyStorageCard",null),U([Fo()],nr.prototype,"importStorageCard",null),U([Fo()],nr.prototype,"getAllStorageCards",null),U([Fo()],nr.prototype,"getCard",null),U([Fo()],nr.prototype,"updateStorageCardPartial",null),U([Fo()],nr.prototype,"deleteStorageCard",null),U([Fo()],nr.prototype,"loadCardData",null),U([Fo()],nr.prototype,"kvsGet",null),U([Fo()],nr.prototype,"kvsSet",null),U([Fo()],nr.prototype,"kvsDelete",null),U([Fo()],nr.prototype,"newTransaction",null),U([Fo()],nr.prototype,"prepareObjectStore",null),U([Fo()],nr.prototype,"initializeLock",null),U([Fo()],nr.prototype,"setupDb",null);const NM={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let ls=(()=>{class t{constructor(e){var r=this;this.storageService=e,this.set=o=>this.storageMutex.runExclusive((0,re.Z)(function*(){yield r.storageService.kvsSet(o);for(const i of Object.keys(o))r.rawKvs[i]=o[i];r.updateEvent.dispatch()})),this.updateEvent=new ri.j,this.mutex=new Ka,this.storageMutex=new Ka,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,re.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,re.Z)(function*(){const r=e;try{const o={...NM,...yield e.storageService.kvsLoad()};e.rawKvs=o,e.kvsProxy=new Proxy(o,{set:(i,s,a)=>(i[s]=a,r.storageMutex.runExclusive(()=>r.storageService.kvsSet({[s]:a})),r.updateEvent.dispatch(),!0),deleteProperty:(i,s)=>(delete i[s],r.storageMutex.runExclusive(()=>r.storageService.kvsDelete(s)),r.updateEvent.dispatch(),!0)})}catch(o){console.error("failed to load KVS"),console.error(o),e.kvsProxy={...NM}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(de(nr))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),LM=(()=>{class t{constructor(e,r){var o=this;this.kvsService=e,this.alertService=r,this.serviceWorkerKeepalive=(0,re.Z)(function*(){if(navigator.serviceWorker)try{const i=yield navigator.serviceWorker.getRegistration();i?.active?.postMessage&&i.active.postMessage({})}catch{}setTimeout(o.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(ra||SM)&&this.installationMode===Id.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return ra&&wM?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ra?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return ra&&wM?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ra?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Id.pwa:document.referrer.startsWith("android-app://")?Id.twa:window.matchMedia("(display-mode: standalone)").matches?Id.pwa:Id.web}static#e=this.\u0275fac=function(r){return new(r||t)(de(ls),de(co))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function i5(t,n){1&t&&(oe(0,"div",5),lt(1,"ion-spinner"),J())}let au=(()=>{class t{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}static#e=this.\u0275fac=function(r){return new(r||t)(w(ys))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(r,o){1&r&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.modalController.dismiss()}),Ue(6,"Close"),J()()()(),oe(7,"ion-content",2),Qt(8,i5,2,0,"div",3),oe(9,"markdown",4),at("load",function(){return o.loading=!1}),J()()),2&r&&(et(3),Ns(o.title),et(5),ot("ngIf",o.loading),et(1),ot("src",o.url))},dependencies:[wi,Tb,ts,ns,rs,os,lp,ss,as],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]})}return t})();const lu=Ia.releaseExtra?`1.8.10-9902180 (${Ia.releaseExtra})`:"1.8.10";var rg=P(1633);const og=((t,n)=>{let e=null;return()=>{if(null!==e)return e;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return e=(t=>{const n=new Map([[0,()=>{}]]),e=new Map([[0,()=>{}]]),r=new Map,o=new Worker(t);return o.addEventListener("message",({data:p})=>{if((t=>void 0!==t.method&&"call"===t.method)(p)){const{params:{timerId:g,timerType:v}}=p;if("interval"===v){const E=n.get(g);if("number"==typeof E){const A=r.get(E);if(void 0===A||A.timerId!==g||A.timerType!==v)throw new Error("The timer is in an undefined state.")}else{if(!(typeof E<"u"))throw new Error("The timer is in an undefined state.");E()}}else if("timeout"===v){const E=e.get(g);if("number"==typeof E){const A=r.get(E);if(void 0===A||A.timerId!==g||A.timerType!==v)throw new Error("The timer is in an undefined state.")}else{if(!(typeof E<"u"))throw new Error("The timer is in an undefined state.");E(),e.delete(g)}}}else{if(!(t=>null===t.error&&"number"==typeof t.id)(p)){const{error:{message:g}}=p;throw new Error(g)}{const{id:g}=p,v=r.get(g);if(void 0===v)throw new Error("The timer is in an undefined state.");const{timerId:E,timerType:A}=v;r.delete(g),"interval"===A?n.delete(E):e.delete(E)}}}),{clearInterval:p=>{const g=(0,rg.generateUniqueNumber)(r);r.set(g,{timerId:p,timerType:"interval"}),n.set(p,g),o.postMessage({id:g,method:"clear",params:{timerId:p,timerType:"interval"}})},clearTimeout:p=>{const g=(0,rg.generateUniqueNumber)(r);r.set(g,{timerId:p,timerType:"timeout"}),e.set(p,g),o.postMessage({id:g,method:"clear",params:{timerId:p,timerType:"timeout"}})},setInterval:(p,g)=>{const v=(0,rg.generateUniqueNumber)(n);return n.set(v,()=>{p(),"function"==typeof n.get(v)&&o.postMessage({id:null,method:"set",params:{delay:g,now:performance.now(),timerId:v,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:g,now:performance.now(),timerId:v,timerType:"interval"}}),v},setTimeout:(p,g)=>{const v=(0,rg.generateUniqueNumber)(e);return e.set(v,p),o.postMessage({id:null,method:"set",params:{delay:g,now:performance.now(),timerId:v,timerType:"timeout"}}),v}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),e}})();var Md=function(t){return t[t.animationFrame=0]="animationFrame",t[t.timeout=1]="timeout",t}(Md||{});class BM{constructor(n){this.callback=n}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(n=>{this.handle=void 0,this.callback(n)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Md.animationFrame}}class d5{constructor(n,e=60){this.callback=n,this.fps=e}schedule(){if(void 0!==this.handle)return;const n=performance.now(),e=1e3*Math.ceil(n/1e3*this.fps)/this.fps;this.handle=((t,n)=>og().setTimeout(t,n))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(e-n,0))}cancel(){var t;void 0!==this.handle&&(t=this.handle,og().clearTimeout(t),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Md.timeout}}const f5=[135,135,105],p5=[0,0,0],Dc=new Array(16).fill(0).map((t,n)=>p5.map((e,r)=>Math.floor((n*e+(15-n)*f5[r])/15))).map(([t,n,e])=>4278190080|e<<16|n<<8|t),Ub=Dc.map(t=>"#"+(16777215&t).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var ie=function(t){return t.palmPilot="PalmPilot",t.pilot="Pilot",t.iii="PalmIII",t.palmVx="PalmVx",t.palmV="PalmV",t.palmVII="PalmVII",t.palmVIIEZ="PalmVIIEZ",t.palmVIIx="PalmVIIx",t.iiic="PalmIIIc",t.iiix="PalmIIIx",t.iiixe="PalmIIIxe",t.iiie="PalmIIIe",t.m500="PalmM500",t.m505="PalmM505",t.m515="PalmM515",t.m520="PalmM520",t.m100="PalmM100",t.m105="PalmM105",t.m125="PalmM125",t.m130="PalmM130",t.i705="Palmi705",t.i710="PalmI710",t.handera330="HandEra330",t.handera330c="HandEra330c",t.pegS300="PEG-S300",t.pegS320="PEG-S320",t.pegS500c="PEG-S500C",t.pegT400="PEG-T400",t.pegN600c="PEG-N600C/N610C",t.pegT600c="PEG-T600",t.pegN700c="PEG-N700C/N710C",t.pegT650c="YSX1230",t.pegNR70="NR70",t.acerS11="Acer-S11",t.lp168="Legend-P168",t}(ie||{}),Td=function(t){return t.sdcard="sdcard",t.memorystick="memorystick",t.none="none",t}(Td||{});function _p(t){switch(t){case ie.i710:case ie.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.handera330:case ie.handera330c:case ie.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case ie.pegS300:case ie.pegS320:case ie.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case ie.pegT600c:case ie.pegT400:case ie.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case ie.pegN600c:case ie.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case ie.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function Hb(t){switch(t){case ie.pilot:case ie.palmPilot:case ie.iii:case ie.palmV:case ie.palmVx:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.m125:case ie.m500:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:case ie.i705:case ie.handera330:case ie.pegS300:case ie.pegS320:case ie.pegT400:case ie.acerS11:return!1;default:return!0}}function jM(t){switch(t){case ie.pilot:return"Pilot";case ie.palmPilot:return"Palm Pilot";case ie.iii:return"Palm III";case ie.m500:return"Palm m500";case ie.m505:return"Palm m505";case ie.m515:return"Palm m515";case ie.m520:return"Palm m520";case ie.palmVx:return"Palm Vx";case ie.iiix:return"Palm IIIx";case ie.iiixe:return"Palm IIIxe";case ie.iiie:return"Palm IIIe";case ie.palmV:return"Palm V";case ie.palmVII:return"Palm VII";case ie.palmVIIEZ:return"Palm VII EZ";case ie.palmVIIx:return"Palm VIIx";case ie.iiic:return"Palm IIIc";case ie.m100:return"Palm m100";case ie.m105:return"Palm m105";case ie.m125:return"Palm m125";case ie.m130:return"Palm m130";case ie.i705:return"Palm i705";case ie.i710:return"Tungsten W";case ie.handera330:return"Handera 330";case ie.handera330c:return"Handera 330c";case ie.pegS300:return"Sony PEG-S300";case ie.pegS320:return"Sony PEG-S320";case ie.pegT400:return"Sony PEG-T400 series";case ie.pegN600c:return"Sony PEG-N600C series";case ie.pegT600c:return"Sony PEG-T600C series";case ie.pegN700c:return"Sony PEG-N700C series";case ie.pegT650c:return"Sony PEG-T650C series";case ie.pegNR70:return"Sony PEG-NR70 series";case ie.pegS500c:return"Sony PEG-S500C series";case ie.acerS11:return"Acer S1x series";case ie.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function VM(t){switch(t){case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:return Td.sdcard;case ie.pegS300:case ie.pegS500c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.pegT650c:case ie.pegNR70:case ie.acerS11:return Td.memorystick;default:return Td.none}}class UM{constructor(n,e){this.queue=new Array(n).fill(0),this.reset(e)}reset(n=0){this.next=1,this.size=1,this.queue[0]=n}push(n){return this.queue[this.next]=n,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let n=0;for(let e=0;e<this.size;e++)n+=this.queue[e];return n/this.size}}class g5{constructor(n){this.start=0,this.size=0,this.buffer=new Array(n)}push(n){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=n:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}pop(){if(0===this.size)return;const n=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,n}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(n){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class S5{constructor(){this.onPwmUpdate=n=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(n):this.pendingPwmUpdates.push(n)},this.advanceEmulation=n=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||n<this.clockEmulator)return;const e=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),n-this.clockEmulator>1e3/30&&(this.clockEmulator=n-1e3/30);const o=(n-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,c=performance.now()-i;if(this.clockEmulator+=Math.max(a,c),this.speedAverage.push(a/(c>0?c:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!e)return void this.handleSuspend();const p=this.cloudpilotInstance.isPowerOff(),g=this.cloudpilotInstance.isUiInitialized();if(p!==this.powerOff||g!==this.uiInitialized){const v=this.powerOff;this.powerOff=p,this.uiInitialized=g,v!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}g&&!p&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(n,s)},this.newFrameEvent=new ri.j,this.pwmUpdateEvent=new ri.j,this.emulationStateChangeEvent=new ri.j,this.powerOffChangeEvent=new ri.j,this.deviceId=ie.m515,this.clockEmulator=0,this.scheduler=new BM(n=>this.onSchedule(n)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new g5(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new UM(20),this.timePerFrameAverage=new UM(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(n,e,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=_p(this.deviceId);n=this.transformSilkscreenX(n,i),e=this.transformSilkscreenY(e,i)}this.cloudpilotInstance.queuePenMove(Math.floor(n),Math.floor(e)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(n){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(n)}handleButtonUp(n){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(n)}handleKeyDown(n,e=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(n,e)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(n,e){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(n,e,r,o,i){let s=!1;return!!n.initializeSession(e,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=n.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&n.loadState(i),n.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),n.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=n,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=n.isPowerOff(),this.uiInitialized=n.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const n=_p(this.deviceId);this.canvas.width=this.canvasTmp.width=n.width,this.canvas.height=this.canvasTmp.height=n.height;const e=this.canvas.getContext("2d");if(!e)throw new Error("get a new browser");this.context=e;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const n=this.timePerFrameAverage.calculateAverage();return n&&1e3/n}transformSilkscreenX(n,e){return void 0===e.silkscreenOvershoot?n:(n-e.width/2)/(e.width/(e.width+2*e.silkscreenOvershoot))+e.width/2}transformSilkscreenY(n,e){return void 0===e.siklscreenShift?n:n+e.siklscreenShift}setRunning(n){n!==this.running&&(this.running=n,this.emulationStateChangeEvent.dispatch(n))}updateEmulationSpeed(n){if(n>=1&&this.emulationSpeed>=1)return;const e=Math.min(Math.max(Math.floor(10*n)/10,.1),1);this.emulationSpeed=e<=this.emulationSpeed||n-e>=.05?e:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(n){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&n-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=n),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(n)},0)),this.timePerFrameAverage.push(Math.max(0,n-this.timestampLastFrame)),this.timestampLastFrame=n),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Md.animationFrame?new BM(n=>this.onSchedule(n)):new d5(n=>this.onSchedule(n))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const n=this.getConfiguredHotsyncName();void 0===n?this.updateConfiguredHotsyncName(this.deviceHotsyncName):n!==this.deviceHotsyncName&&n.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(n),this.deviceHotsyncName=n)}clearCanvas(){const n=this.deviceId,e=_p(n);this.context.beginPath(),this.context.rect(0,0,e.width,e.height),this.context.fillStyle=Hb(n)?"white":Ub[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const n=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!n.hasChanges)return;if(n.lines*n.scaleY===this.canvas.height&&n.lineWidth*n.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const o=Dc[15],i=Dc[0];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let p=n.margin;p<n.lineWidth+n.margin;p++)r[s++]=n.buffer[c+(p>>>3)]&128>>>(7&p)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Dc[15&o],Dc[o>>>4&15],Dc[o>>>8&15],Dc[o>>>12&15]];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let p=n.margin;p<n.lineWidth+n.margin;p++)r[s++]=i[n.buffer[c+(p>>>2)]>>6-2*(3&p)&3]}break}case 4:{let o=0;for(let i=n.firstDirtyLine;i<=n.lastDirtyLine;i++){const s=i*n.bytesPerLine;for(let a=n.margin;a<n.lineWidth+n.margin;a++)r[o++]=Dc[n.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)r.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(o.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let i=0;for(let s=n.firstDirtyLine;s<=n.lastDirtyLine;s++){let a=s*(n.bytesPerLine>>>2)+n.margin;for(let c=0;c<n.lineWidth;c++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const e=1!==n.scaleX||1!==n.scaleY;(e?this.contextTmp:this.context).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),e&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class E5{constructor(n,e){this.timeoutRemaining=n,this.cb=e,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,n)}increase(n){this.timeoutRemaining+=n}cancel(){clearTimeout(this.handle)}}const x5=new Error("transaction timeout"),zM=new Error("session does not match emulation");let vp=(()=>{class t{constructor(e,r,o,i,s,a){var c=this;this.storageService=e,this.emulationState=r,this.errorService=o,this.storageCardContext=i,this.kvsService=s,this.ngZone=a,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,re.Z)(function*(){try{yield c.triggerSnapshotUnguarded()}finally{c.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new ri.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,r){var o=this;return(0,re.Z)(function*(){o.errorService.hasFatalError()||(o.sessionId=e.id,o.dirtyPages=void 0,o.pages=void 0,o.state=void 0,o.db=yield o.storageService.getDb(),o.cloudpilot=r,o.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,re.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(r){if(console.error("snapshot error",r),r===zM)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),r;if(r===Vb)throw e.errorService.fatalPageLockLost(),r;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),r}})()}triggerSnapshotOnce(){var e=this;return(0,re.Z)(function*(){const r=e.db.transaction([Sc,Ec,Hl,Qa,$s,gp],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(r),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw zM;let o;const i=e.cloudpilot.getMountedKey();i&&(o=yield pr(r.objectStore($s).index("storageId").get(i)));const s=yield new Promise((a,c)=>{let p=!1;const g=performance.now();let v=0,E=0,A=0;const ne=new E5(500,()=>{p=!0;try{r.abort()}catch{}c(x5)});r.oncomplete=(0,re.Z)(function*(){ne.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),a({timestamp:Date.now(),pages:A,timeBlocking:E-v,timeTotal:performance.now()-g})}),r.onerror=()=>{ne.cancel(),c(new Error(r.error?.message))};try{v=performance.now(),A=e.saveDirtyMemory(r,ne),o&&(A+=e.saveDirtyStorage(o,r,ne)),e.saveSession(r),E=performance.now()}catch(ge){throw p||(ne.cancel(),r.abort()),ge}});e.snapshotEvent.dispatch(s)})()}saveDirtyMemory(e,r){let o=0;const i=e.objectStore(Sc),s=e.objectStore(Ec),a=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let p=0;if(!this.dirtyPages||!this.pages){const v=c.length>>>8;this.dirtyPages=new Uint8Array(a.length),this.pages=new Array(v);for(let E=0;E<v;E++)this.pages[E]=new Uint32Array(256)}const g={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&Ia.debug&&(g.crc32=AM(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),s.put(g);for(let v=0;v<a.length;v++)if(this.dirtyPages[v]|=a[v],a[v]=0,0!==this.dirtyPages[v])for(let E=1;E<256&&!(o>=this.pages.length);E<<=1){if(this.dirtyPages[v]&E){const A=xM(c.subarray(256*o,256*(o+1)));"number"==typeof A?i.put(A,[this.sessionId,o]):(this.pages[o].set(A),i.put(this.pages[o],[this.sessionId,o])),r.increase(.5),p++}o++}else o+=8;return p}saveDirtyStorage(e,r,o){const i=this.cloudpilot.getCardDirtyPages(e.storageId),s=this.cloudpilot.getCardData(e.storageId);if(!s)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Lr.cloudpilot),!i)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(s.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(i.length)),this.cardDirtyPages.length!==i.length)throw new Error("card size has changed without notification");let a=0,c=0,p=0;const g=r.objectStore(Qa),v=(s.length>>11)+(s.length%2048>0?1:0);for(let E=0;E<i.length;E++)if(this.cardDirtyPages[E]|=i[E],i[E]=0,0!==this.cardDirtyPages[E])for(let A=1;A<256&&!(a>=v);A<<=1){if(this.cardDirtyPages[E]&A){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const ne=this.cardPagePool[c++];ne.set(s.subarray(2048*a,2048*(a+1))),g.put(ne,[e.id,a]),o.increase(4),p++}a++}else a+=8;return 8*p}saveSession(e){const r=e.objectStore(Hl);if(this.cloudpilot.saveState()){const o=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(o.length)),this.state.set(o),r.put(this.state,this.sessionId)}else console.log("save state failed"),r.delete(this.sessionId)}static#e=this.\u0275fac=function(r){return new(r||t)(de(nr),de(Ul),de(su),de(mp),de(ls),de(ct))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function k5(t,n){1&t&&(oe(0,"p",10),Ue(1," ERROR: URL must be served via HTTPS. "),J())}function M5(t){if(!t.value)return{url:"URL empty"};let n;try{n=new(ad())(t.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==n.protocol?{url:"mixed content"}:null}let T5=(()=>{class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(ad())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const r=new(ad())(e);return"https:"===location.protocol&&"https:"!==r.protocol}catch{}return!1}createFormGroup(){this.formGroup=new gm({url:new oi("",M5)})}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=m({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(r,o){1&r&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3,"Enter download URL"),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.continue()}),Ue(6,"OK"),J()(),oe(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancel()}),Ue(9,"Cancel"),J()()()(),oe(10,"ion-content",4)(11,"form",5),at("keydown",function(s){return o.formKeyDown(s)}),oe(12,"p"),Ue(13," Please enter the URL from which to download: "),J(),oe(14,"ion-item",6)(15,"ion-label",7),Ue(16,"URL"),J(),lt(17,"ion-input",8),J(),Qt(18,k5,2,0,"p",9),oe(19,"p"),Ue(20," Note that the remote server needs to support the CORS protocol. "),J()()()),2&r&&(et(5),ot("disabled",o.formGroup.invalid),et(6),ot("formGroup",o.formGroup),et(7),ot("ngIf",o.isMixedContent))},dependencies:[wi,ts,ns,rs,os,jl,mi,is,ss,as,Bl,Fl,Rl,Ol,Ea,Za],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]})}return t})();function ig(t){const n=new Date;return`${t}_${n.getFullYear()}${(n.getMonth()+1).toString().padStart(2,"0")}${n.getDate().toString().padStart(2,"0")}-${n.getHours().toString().padStart(2,"0")}${n.getMinutes().toString().padStart(2,"0")}${n.getSeconds().toString().padStart(2,"0")}`}function WM(t){return`${ig(t.name)}.bin`}function ZM(t,n){return`backup_${ig(t.name)}${n?"_with_rom":""}.zip`}function Gb(t,n=3){return 0===t.length?"":1===t.length?t[0]:`${t.slice(0,t.length>n?n:t.length-1).join(", ")} and ${t.length>n?t.length-n+" more files":t[t.length-1]}`}function qM(t){const{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=t;return{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}let P5=(()=>{class t{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new gm({username:new oi(e?.username??""),password:new oi(e?.password??"")})}static#e=this.\u0275fac=function(r){return new(r||t)(w(ls))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(r,o){1&r&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3,"Authenticate"),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.saveAndContinue()}),Ue(6,"OK"),J()(),oe(7,"ion-buttons",2)(8,"ion-button",1),at("click",function(){return o.onCancel()}),Ue(9,"Cancel"),J()()()(),oe(10,"ion-content",3)(11,"form",4),at("keydown",function(s){return o.formKeyDown(s)}),oe(12,"p"),Ue(13," The server requires authentication. "),J(),oe(14,"ion-item",5)(15,"ion-label",6),Ue(16,"Username"),J(),lt(17,"ion-input",7),J(),oe(18,"ion-item",5)(19,"ion-label",6),Ue(20,"Password"),J(),lt(21,"ion-input",8),J()()()),2&r&&(et(11),ot("formGroup",o.formGroup))},dependencies:[ts,ns,rs,os,jl,mi,is,ss,as,Bl,Fl,Rl,Ol,Ea,Za],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]})}return t})(),YM=(()=>{class t{constructor(e,r,o){this.loadingController=e,this.kvsService=r,this.modalController=o}fetch(e,r){var o=this;return(0,re.Z)(function*(){let i=r?.loaderDelay;const s=void 0===r?.timeout?5e3:r?.timeout,a=new(ad())("string"==typeof e?e:e.url);let c,p,g=!1;for(;;)try{c||(c=yield o.loadingController.create({message:"Loading..."})),void 0!==i&&i>0&&void 0===p?p=window.setTimeout(()=>c?.present(),i):c.present();const v=o.kvsService.kvs.credentials[a.origin],E=new AbortController,A=window.setTimeout(()=>E.abort(),s),ne=yield fetch(e,{...o.requestInit(r),signal:E.signal,headers:{...r?.headers||{},...g&&v?{Authorization:"Basic "+btoa(`${v.username}:${v.password}`)}:{}}});if(clearTimeout(A),401===ne.status){if(!g&&v){g=!0;continue}if(c?.dismiss(),clearTimeout(p),i=0,c=void 0,i=void 0,g=!0,yield o.authenticate(a.origin))continue}return ne}finally{c&&(yield c.dismiss()),clearTimeout(p)}})()}requestInit(e){if(!e)return;const{timeout:r,loaderDelay:o,...i}=e;return i}authenticate(e){var r=this;return(0,re.Z)(function*(){const o=yield new Promise(i=>r.modalController.create({component:P5,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>i(!0),onCancel:()=>i(!1)}}).then(s=>s.present()));return r.modalController.dismiss(),o})()}static#e=this.\u0275fac=function(r){return new(r||t)(de(Vl),de(ls),de(ys))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var O5=P(2227),F5=P.n(O5);function zb(t){const n=(t>>>13)+(t%8192>0?1:0);return(n>>>3)+(n%8>0?1:0)}const XM=[ie.palmPilot,ie.pilot,ie.iii,ie.palmVx,ie.palmV,ie.palmVII,ie.palmVIIEZ,ie.palmVIIx,ie.iiixe,ie.iiix,ie.iiie,ie.m500,ie.m505,ie.m515,ie.m520,ie.iiic,ie.m100,ie.m105,ie.m125,ie.m130,ie.i705,ie.i710,ie.handera330,ie.handera330c,ie.pegS300,ie.pegS320,ie.pegS500c,ie.pegT400,ie.pegN600c,ie.pegT600c,ie.pegN700c,ie.pegT650c,ie.pegNR70,ie.acerS11,ie.lp168];function en(){return(t,n,e)=>{const r=e.value;return e.value=function(o,i){return this.guard(()=>r.call(this,o,i))},e}}class Zt{constructor(n){this.module=n,this.fatalErrorEvent=new ri.j,this.pwmUpdateEvent=new ri.j,this.proxyDisconnectEvent=new ri.j,this.amIdead=!1,this.cloudpilot=new n.Cloudpilot,this.cloudpilot.RegisterPwmHandler(n.addFunction((e,r)=>this.pwmUpdateEvent.dispatch({frequency:e,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(n.addFunction(e=>this.proxyDisconnectEvent.dispatch(n.UTF8ToString(e)),"vi"))}static create(n){return(0,re.Z)(function*(){return new Zt(yield F5()({print:e=>console.log(e),printErr:e=>console.error(e),..."string"==typeof n?{locateFile:()=>n}:{},..."function"==typeof n?{instantiateWasm:n}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(n){const e=this.copyIn(n),r=new this.module.RomInfo(e,n.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:XM.filter(r.Supports.bind(r))}),this.cloudpilot.Free(e),this.module.destroy(r),o}initializeSession(n,e){const r=this.copyIn(n),o=this.cloudpilot.InitializeSession(r,n.length,e);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(n){return this.cloudpilot.RunEmulation(n)}getFrame(){const n=this.cloudpilot.CopyFrame(),e=this.module.getPointer(n.GetBuffer());return{bpp:n.GetBpp(),bytesPerLine:n.GetBytesPerLine(),lines:n.GetLines(),lineWidth:n.GetLineWidth(),margin:n.GetMargin(),firstDirtyLine:n.GetFirstDirtyLine(),lastDirtyLine:n.GetLastDirtyLine(),hasChanges:n.GetHasChanges(),scaleX:n.GetScaleX(),scaleY:n.GetScaleY(),buffer:this.module.HEAPU8.subarray(e,e+n.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(n){return 1024*this.cloudpilot.MinMemoryForDevice(n)}framebufferSizeForDevice(n){return 1024*this.cloudpilot.FramebufferSizeForDevice(n)}totalMemorySizeForDevice(n){return 1024*this.cloudpilot.TotalMemoryForDevice(n)}queuePenMove(n,e){this.cloudpilot.QueuePenMove(n,e)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(n){this.cloudpilot.QueueButtonDown(n)}queueButtonUp(n){this.cloudpilot.QueueButtonUp(n)}queueKeyboardEvent(n,e){this.cloudpilot.QueueKeyboardEvent(n,e)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(n){const e=this.copyIn(n),r=this.cloudpilot.InstallDb(e,n.length);return this.cloudpilot.Free(e),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetMemorySize())}getMemory32(){let n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&n)throw new Error("unaligned pointer");return n>>>=2,this.module.HEAPU32.subarray(n,n+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const n=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),e=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(n,n+((e>>>13)+(e%8192==0?0:1)))}loadMemory(n){const e=this.getMemory32();if((()=>{if(n.length!==e.length||n.length<256)return!1;for(let o=256;o>0;o--){if(n[n.length-o]!==e[e.length-o])return!1;if(4294967295===e[e.length-o])break}return!0})())return e.set(n),!0;{const o=this.copyIn32(n),i=this.cloudpilot.ImportMemoryImage(o,n.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const n=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetRomSize())}getSavestate(){const n=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(n){const e=this.copyIn(n),r=this.cloudpilot.LoadState(e,n.length);return this.cloudpilot.Free(e),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(n){this.cloudpilot.SetClockFactor(n)}setHotsyncName(n){this.cloudpilot.SetHotsyncName(n)}backup(n){var e=this;return(0,re.Z)(function*(){const r=e.guard(()=>e.cloudpilot.StartBackup());try{return yield n(e.wrap(r))}finally{e.module.destroy(r)}})()}getArchive(n){const e=n.GetArchiveSize();return this.copyOut(n.GetArchivePtr(),e)}setClipboardIntegration(n){this.cloudpilot.SetClipboardIntegration(n)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(n){this.cloudpilot.SetNetworkRedirection(n)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(n){return this.copyIn(n)}freeBuffer(n){this.cloudpilot.Free(n)}setHotsyncNameManagement(n){this.cloudpilot.SetHotsyncNameManagement(n)}resolveBuffer(n,e){const r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+e)}withZipfileWalker(n,e){var r=this;return(0,re.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(n),s=new r.module.ZipfileWalker(n.length,i);return r.cloudpilot.Free(i),s});try{return yield e(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(n,e){const r=this.guard(()=>{const o=this.copyIn(n),i=new this.module.ZipfileWalker(n.length,o);return this.cloudpilot.Free(o),i});try{return e(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(n){const e=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(n.rom),i=n.memory?this.copyIn(n.memory):r,s=void 0!==n.savestate?this.copyIn(n.savestate):r;let a=r,c=0;if(void 0!==n.metadata){const g=(new TextEncoder).encode(JSON.stringify(n.metadata));c=g.length,a=this.copyIn(g)}e.SetRomImage(o,n.rom.length),e.SetMemoryImage(i,n.memory?.length||0),e.SetDeviceId(n.deviceId),e.SetSavestate(s,n.savestate?.length||0),e.SetMetadata(a,c);const p=e.Serialize()?this.copyOut(e.GetSerializedImage(),e.GetSerializedImageSize()):void 0;return this.module.destroy(e),[o,i,s,a].forEach(g=>this.cloudpilot.Free(g)),p}deserializeSessionImage(n){const e=new this.module.SessionImage,r=this.copyIn(n),o=(()=>{if(!e.Deserialize(r,n.length))return;const i=this.copyOut(e.GetRomImage(),e.GetRomImageSize()),s=this.copyOut(e.GetMemoryImage(),e.GetMemoryImageSize()),a=this.copyOut(e.GetSavestate(),e.GetSavestateSize()),c=e.GetDeviceId();if(!XM.includes(c))return void console.warn(`unsupported device ${c}`);let p;const g=this.copyOut(e.GetMetadata(),e.GetMetadataSize());if(g)try{p=JSON.parse((new TextDecoder).decode(g))}catch(v){console.warn("invalid metadata",v)}return{deviceId:c,rom:i,memory:s,savestate:a,metadata:p,version:e.GetVersion()}})();return this.module.destroy(e),this.cloudpilot.Free(r),o}launchAppByName(n){return this.cloudpilot.LaunchAppByName(n)}launchAppByDbHeader(n){if(n.length<32)return!1;const e=this.copyIn(n.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(e,32);return this.cloudpilot.Free(e),r}deviceSupportsCardSize(n){return this.cloudpilot.DeviceSupportsCardSize(n)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(n,e){return this.cloudpilot.AllocateCard(n,e>>>9)}decompressCard(n,e){const r=this.copyIn(e);let o;try{for(o=new this.module.GunzipContext(r,e.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(n,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(r),o&&this.module.destroy(o)}}getCardData(n){const e=this.module.getPointer(this.cloudpilot.GetCardData(n));if(0!==e)return this.module.HEAPU32.subarray(e>>>2,e+this.cloudpilot.GetCardSize(n)>>2)}getCardDirtyPages(n){const e=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(n));if(0===e)return;const r=zb(this.cloudpilot.GetCardSize(n));return this.module.HEAPU8.subarray(e,e+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(n){return this.cloudpilot.MountCard(n)}removeCard(n){return this.cloudpilot.RemoveCard(n)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(n){return this.cloudpilot.GetSupportLevel(n)}loadSkin(n){const e=new this.module.SkinLoader(n);try{const r=this.module.getPointer(e.GetData());return 0===r?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(r,r+e.GetSize()))}finally{this.module.destroy(e)}}guard(n){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return n()}catch(e){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(e instanceof Error?e:new Error("unknown error")),e}}copyIn(n){const e=this.cloudpilot.Malloc(n.length),r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+n.length).set(n),e}copyIn32(n){const e=this.cloudpilot.Malloc(n.length<<2),r=this.module.getPointer(e);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+n.length).set(n),e}copyOut(n,e){const r=this.module.getPointer(n);return r>0&&e>0?this.module.HEAPU8.subarray(r,r+e).slice():void 0}wrap(n){return new Proxy(n,{get:(e,r)=>{const o=e[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(e,i))}})}}U([en()],Zt.prototype,"getRomInfo",null),U([en()],Zt.prototype,"initializeSession",null),U([en()],Zt.prototype,"cyclesPerSecond",null),U([en()],Zt.prototype,"runEmulation",null),U([en()],Zt.prototype,"getFrame",null),U([en()],Zt.prototype,"isScreenDirty",null),U([en()],Zt.prototype,"markScreenClean",null),U([en()],Zt.prototype,"minRamForDevice",null),U([en()],Zt.prototype,"framebufferSizeForDevice",null),U([en()],Zt.prototype,"totalMemorySizeForDevice",null),U([en()],Zt.prototype,"queuePenMove",null),U([en()],Zt.prototype,"queuePenUp",null),U([en()],Zt.prototype,"queueButtonDown",null),U([en()],Zt.prototype,"queueButtonUp",null),U([en()],Zt.prototype,"queueKeyboardEvent",null),U([en()],Zt.prototype,"isPowerOff",null),U([en()],Zt.prototype,"isUiInitialized",null),U([en()],Zt.prototype,"isSetupComplete",null),U([en()],Zt.prototype,"getOSVersion",null),U([en()],Zt.prototype,"reset",null),U([en()],Zt.prototype,"resetNoExtensions",null),U([en()],Zt.prototype,"resetHard",null),U([en()],Zt.prototype,"installDb",null),U([en()],Zt.prototype,"getPalette2bitMapping",null),U([en()],Zt.prototype,"getMemory",null),U([en()],Zt.prototype,"getMemory32",null),U([en()],Zt.prototype,"getDirtyPages",null),U([en()],Zt.prototype,"loadMemory",null),U([en()],Zt.prototype,"getRomImage",null),U([en()],Zt.prototype,"getSavestate",null),U([en()],Zt.prototype,"saveState",null),U([en()],Zt.prototype,"loadState",null),U([en()],Zt.prototype,"getHotsyncName",null),U([en()],Zt.prototype,"setClockFactor",null),U([en()],Zt.prototype,"setHotsyncName",null),U([en()],Zt.prototype,"setClipboardIntegration",null),U([en()],Zt.prototype,"getClipboardIntegration",null),U([en()],Zt.prototype,"isSuspended",null),U([en()],Zt.prototype,"getSuspendKind",null),U([en()],Zt.prototype,"cancelSuspend",null),U([en()],Zt.prototype,"getSuspendContextClipboardCopy",null),U([en()],Zt.prototype,"getSuspendContextClipboardPaste",null),U([en()],Zt.prototype,"setNetworkRedirection",null),U([en()],Zt.prototype,"getNetworkRedirection",null),U([en()],Zt.prototype,"getSuspendContextNetworkConnect",null),U([en()],Zt.prototype,"getSuspendContextNetworkRpc",null),U([en()],Zt.prototype,"copyBuffer",null),U([en()],Zt.prototype,"freeBuffer",null),U([en()],Zt.prototype,"setHotsyncNameManagement",null),U([en()],Zt.prototype,"resolveBuffer",null),U([en()],Zt.prototype,"serializeSessionImage",null),U([en()],Zt.prototype,"deserializeSessionImage",null),U([en()],Zt.prototype,"launchAppByName",null),U([en()],Zt.prototype,"launchAppByDbHeader",null),U([en()],Zt.prototype,"deviceSupportsCardSize",null),U([en()],Zt.prototype,"clearExternalStorage",null),U([en()],Zt.prototype,"allocateCard",null),U([en()],Zt.prototype,"decompressCard",null),U([en()],Zt.prototype,"getCardData",null),U([en()],Zt.prototype,"getCardDirtyPages",null),U([en()],Zt.prototype,"getMountedKey",null),U([en()],Zt.prototype,"mountCard",null),U([en()],Zt.prototype,"removeCard",null),U([en()],Zt.prototype,"remountCards",null),U([en()],Zt.prototype,"getCardSupportLevel",null),U([en()],Zt.prototype,"loadSkin",null);let xa=(()=>{class t{constructor(){this.cloudpilot=Zt.create()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ic=(()=>{class t{constructor(e,r,o,i,s,a,c,p){this.storageService=e,this.loadingController=r,this.actionSheetController=o,this.kvsService=i,this.modalController=s,this.alertService=a,this.fetchService=c,this.cloudpilotService=p}openFile(e){this.openFilesImpl(!1,r=>{r.length>0&&e(r[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,r){"drop"!==e.type||!e.dataTransfer?.files||r(Array.from(e.dataTransfer.files).map(this.readFile.bind(this)))}saveSession(e){var r=this;return(0,re.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});yield o.present();try{const[i,s,a]=yield r.storageService.loadSession(e,!1);if(!i)throw new Error(`invalid ROM ${e.rom}`);const c={deviceId:e.device,metadata:qM(e),rom:i,memory:s,savestate:a},p=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(c);p?r.saveFile(WM(e),p):(yield o.dismiss(),r.alertService.errorMessage("Failed to save session."))}finally{o.dismiss()}})()}emergencySaveSession(e,r){var o=this;return(0,re.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});i.style.zIndex="10000000",yield i.present();try{const s=r.getRomImage().slice(),a=r.getMemory().slice(),c=r.saveState()?r.getSavestate().slice():void 0;if(r.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const g={deviceId:e.device,metadata:qM(e),rom:s,memory:a,savestate:c},v=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(g);v&&o.saveFile(WM(e),v)}finally{i.dismiss()}})()}saveFile(e,r){const o=new Blob([r],{type:"application/octet-stream"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=e,s.click()}openUrl(e,r){var o=this;return(0,re.Z)(function*(){let i;try{i=new(ad())(e)}catch{return void(yield o.alertService.errorMessage(`Invalid URL: ${e}`))}try{const s=yield o.fetchService.fetch(e);if(!s.ok)throw new Error("request failed");const a=yield o.loadingController.create({message:"Loading..."});a.present();const c=s.arrayBuffer().then(p=>new Uint8Array(p));return c.finally(()=>a.dismiss()),void r({name:i.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield o.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,r){var o=this;return(0,re.Z)(function*(){o.kvsService.kvs.enableRemoteInstall?(yield o.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>o.openFilesLocal(e,r)},{text:"File on remote server",handler:()=>o.queryAndOpenFileRemote(r)},{text:"Cancel"}]})).present():o.openFilesLocal(e,r)})()}queryAndOpenFileRemote(e){var r=this;return(0,re.Z)(function*(){let o;try{o=yield new Promise((i,s)=>r.modalController.create({component:T5,backdropDismiss:!1,componentProps:{onContinue:i,onCancel:s}}).then(a=>a.present()))}catch{return}finally{r.modalController.dismiss()}yield r.openUrl(o,i=>e([i]))})()}openFilesLocal(e,r){var o=this;const i=document.createElement("input");i.multiple=e,i.type="file",i.addEventListener("change",function(){var s=(0,re.Z)(function*(a){const c=a.target;c?.files&&r(Array.from(c.files).map(o.readFile.bind(o)))});return function(a){return s.apply(this,arguments)}}()),i.click()}readFile(e){let r;const o=function(){var i=(0,re.Z)(function*(){return r||(r=new Promise((s,a)=>{const c=new FileReader;c.onload=()=>s(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),a(c.error)},c.readAsArrayBuffer(e)}),r)});return function(){return i.apply(this,arguments)}}();return{name:e.name,getContent:o}}static#e=this.\u0275fac=function(r){return new(r||t)(de(nr),de(Vl),de(pp),de(ls),de(ys),de(co),de(YM),de(xa))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wb=(()=>{class t{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new ri.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}static#e=this.\u0275fac=function(r){return new(r||t)(de(ct))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const sg=new Error("permission denied");let KM=(()=>{class t{constructor(e,r){this.alertController=e,this.alertService=r,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var r=this;return(0,re.Z)(function*(){const o=e.getSuspendContextClipboardCopy(),i=o.GetClipboardContent();try{return yield r.tryCopyDirect(i),void o.Resume()}catch(s){if(s===sg)return o.Cancel(),r.msgPermissionDenied()}try{yield r.tryCopyWithInteraction(i),o.Resume()}catch{yield r.msgCopyFailed(),o.Cancel()}})()}tryCopyDirect(e){var r=this;return(0,re.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(o){throw(yield r.isPermissionDenied("clipboard-write"))?sg:o}})()}tryCopyWithInteraction(e){var r=this;return new Promise(function(){var o=(0,re.Z)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(c=(0,re.Z)(function*(){a.dismiss();try{yield navigator.clipboard.writeText(e),i(!0)}catch(p){s(p)}}),function(){return c.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(!1)}}]});a.present()}catch(a){s(a)}var c});return function(i,s){return o.apply(this,arguments)}}())}handlePaste(e){var r=this;return(0,re.Z)(function*(){const o=yield r.tryPaste();e.getSuspendContextClipboardPaste().Resume(o??""),void 0!==o&&(r.clipboardContent=o,r.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,re.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(r){if(r===sg)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,re.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(r){throw(yield e.isPermissionDenied("clipboard-read"))?sg:r}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var r=(0,re.Z)(function*(o,i){try{const s=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(a=(0,re.Z)(function*(){s.dismiss();try{o(yield navigator.clipboard.readText())}catch(c){i(c)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(void 0)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePasteSafari(e){var r=this;return(0,re.Z)(function*(){const o=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(i=(0,re.Z)(function*(){try{r.clipboardContent=yield navigator.clipboard.readText(),r.lastClipboardReadAt=performance.now(),o.dismiss(),e.Resume(r.clipboardContent)}catch{o.dismiss(),yield r.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return i.apply(this,arguments)})},{text:"Cancel",handler:()=>{o.dismiss(),e.Resume("")}}]});var i;yield o.present()})()}isPermissionDenied(e){return(0,re.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}static#e=this.\u0275fac=function(r){return new(r||t)(de(ru),de(co))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const L5="https:"===window.location.protocol?8667:8666,$5=/^[\da-z\-\.]+$/i,B5=/^[\da-z\-\.]+:\d+$/i;function Zb(t){if(!t)return;const n=window.location.protocol;if(t.match($5))return`${n}//${t}:${L5}`;if(t.match(B5))return`${n}//${t}`;try{const e=new URL(t);if("https:"===e.protocol||"http:"===e.protocol)return e.toString().replace(/\/+$/,"")}catch{}}function j5(t){return void 0!==Zb(t.value)?null:{proxyAddress:"invalid"}}let qb=(()=>{class t{constructor(e,r,o,i){var s=this;this.kvsService=e,this.alertService=r,this.ngZone=o,this.fetchService=i,this.handleConnect=()=>this.mutex.runExclusive((0,re.Z)(function*(){s.socket&&s.disconnect(s.socket);const a=Zb(s.kvsService.kvs.proxyServer);if(!a)return yield s.alertService.errorMessage(`Invalid proxy address: ${s.kvsService.kvs.proxyServer}`),void s.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield s.handshake(void 0,500);switch(c.status){case"failed":return void s.onSocketError(void 0);case"version_mismatch":return yield s.alertService.proxyVersionMismatchError(),void s.cancelSuspend();case"success":break;default:throw new Error("unreachable")}s.socket=new WebSocket(`${a.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),s.socket.binaryType="arraybuffer",s.bindListeners(s.socket),s.ngZone.run(()=>s.connectTimeoutHandle=setTimeout(s.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=jb(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=a=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(a.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(a.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,a.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=a=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",a)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=a=>{a!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new ri.j,this.mutex=new Ka,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,r=-1){var o=this;return(0,re.Z)(function*(){const i=Zb(e);if(!i)return{status:"failed"};try{const s=yield o.fetchService.fetch(`${i}/network-proxy/handshake`,{method:"POST",loaderDelay:r});if(!s.ok)return{status:"failed"};const a=yield s.json();return a.version<3||a.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:a.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}static#e=this.\u0275fac=function(r){return new(r||t)(de(ls),de(co),de(ct),de(YM))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JM=(()=>{class t{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(r=>e.queueButtonUp(r))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[r,o]of this.buttons)o.timer+=1e3*e,o.timer>250&&(this.cloudpilot.queueButtonUp(r),this.buttons.delete(r))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eT=(()=>{class t{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var G5=P(3097),ag=P.n(G5);const lg=function z5(t){const n=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(t)):fetch(t).then(e=>e.arrayBuffer()).then(e=>WebAssembly.compile(e));return function(){var e=(0,re.Z)(function*(r,o){return o(yield WebAssembly.instantiate(yield n,r))});return function(r,o){return e.apply(this,arguments)}}()}("fstools_web.wasm");function Yb(){return(Yb=(0,re.Z)(function*(t){const n=yield Kb.create();if(n.mkfs(t))return n.getImage()})).apply(this,arguments)}function Xb(){return(Xb=(0,re.Z)(function*(t){const n=yield Qb.create(t);if(yield n.gunzip())return n.getDecompressedData()})).apply(this,arguments)}class Kb{constructor(n){this.module=n,this.nativeContext=new n.MkfsContext}static create(){return(0,re.Z)(function*(){return new Kb(yield ag()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:lg}))})()}mkfs(n){return this.nativeContext.Mkfs(n,"card")}getImage(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());if(0!==n&&0!==e)return this.module.HEAPU32.subarray(e>>>2,e+n>>>2)}}class cg{constructor(n,e){this.module=n,this.result=0,this.nativeContext=new n.FsckContext(e>>>9)}static create(n){return(0,re.Z)(function*(){const e=yield ag()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:lg});return new cg(e,n)})()}getImageData(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(e>>>2,e+n>>2)}getDirtyPages(){const n=this.module.getPointer(this.nativeContext.GetDirtyPages()),e=zb(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(n,n+e)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(n){return console.warn("fsck failed",n),this.result=4,this.result}}getResult(){return this.result}}class Qb{constructor(n,e){this.module=n;const r=new n.FSTools,o=r.Malloc(e.length),i=n.getPointer(o);n.HEAPU8.subarray(i,i+e.length).set(e),n.destroy(r),this.nativeContext=new n.GunzipContext(o,e.length,524288)}static create(n){return(0,re.Z)(function*(){const e=yield ag()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:lg});return new Qb(e,n)})()}gunzip(){var n=this;return(0,re.Z)(function*(){for(;0===n.nativeContext.Continue();)yield new Promise(e=>setTimeout(e,0));return-1!==n.nativeContext.GetState()||(console.error(`gunzip failed: ${n.nativeContext.GetError()}`),!1)})()}getDecompressedData(){const n=this.nativeContext.GetUncompressedSize(),e=this.nativeContext.GetUncompressedData(),r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+n)}}class Jb{constructor(n,e){this.module=n,this.uncompressedDataSize=e;const r=new n.FSTools,o=r.Malloc(e);this.uncompressedDataPtr=n.getPointer(o),n.destroy(r),this.nativeContext=new n.GzipContext(o,e,524288)}static create(n){return(0,re.Z)(function*(){const e=yield ag()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:lg});return new Jb(e,n)})()}getBuffer(){return this.module.HEAPU8.subarray(this.uncompressedDataPtr,this.uncompressedDataPtr+this.uncompressedDataSize)}setFilename(n){return this.nativeContext.SetFilename(n),this}setMtime(n){return this.nativeContext.SetMtime(n),this}gzip(){var n=this;return(0,re.Z)(function*(){for(n.nativeContext.Continue();1===n.nativeContext.Continue();)yield new Promise(e=>setTimeout(e,0));return-1!==n.nativeContext.GetState()||(console.error(`gzip failed: ${n.nativeContext.GetError()}`),!1)})()}getGzipData(){const n=this.nativeContext.GetGzipSize(),e=this.nativeContext.GetGzipData(),r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+n)}}var $r=function(t){return t.dirty="dirty",t.clean="clean",t.unformatted="unformatted",t.unfixable="unfixable",t}($r||{}),Gr=function(t){return t.portrait="portrait",t.landscape90="landscape90",t.landscape270="landscape270",t.portrait180="portrait180",t}(Gr||{});let yp=(()=>{class t{constructor(e,r,o){this.cloudpilotService=e,this.storageService=r,this.loadingController=o,this.sessions=[],this.loading=!0,this.updateMutex=new Ka,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,r,o={}){var i=this;return(0,re.Z)(function*(){const s={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Gr.portrait,...o,id:-1,name:r,device:e.deviceId,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const c=yield i.storageService.addSession(s,e.rom,e.memory,e.savestate);return yield i.updateSessionsFromStorage(),yield a.dismiss(),c})()}addSessionFromRom(e,r,o,i={}){var s=this;return(0,re.Z)(function*(){const a={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Gr.portrait,...i,id:-1,name:r,device:o,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(o)/1024/1024,rom:""},c=yield s.loadingController.create({message:"Importing..."});yield c.present();const p=yield s.storageService.addSession(a,e);return yield s.updateSessionsFromStorage(),yield c.dismiss(),p})()}getSessions(){return this.sessions}deleteSession(e){var r=this;return(0,re.Z)(function*(){yield r.storageService.deleteSession(e)})()}updateSession(e){var r=this;return(0,re.Z)(function*(){yield r.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,re.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,re.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}static#e=this.\u0275fac=function(r){return new(r||t)(de(xa),de(nr),de(Vl))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var X5=P(8886),K5=P.n(X5),Ja=function(t){return t[t.success=0]="success",t[t.zipfileError=1]="zipfileError",t[t.ioError=2]="ioError",t[t.cardFull=3]="cardFull",t}(Ja||{}),cu=function(t){return t[t.success=0]="success",t[t.ioError=1]="ioError",t[t.cardFull=2]="cardFull",t}(cu||{});function Q5(t){return{readonly:0!=(1&t),hidden:0!=(2&t),system:0!=(4&t)}}function tT(t,n){const e=t.GetName(),r=t.GetModifiedTS();return{path:n,name:e,size:t.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:t.IsDirectory(),attributes:Q5(t.GetAttributes())}}class e0{constructor(n){this.module=n,this.vfsNative=new n.Vfs}static create(){return(0,re.Z)(function*(){return new e0(yield K5()({print:n=>console.log(n),printErr:n=>console.error(n)}))})()}allocateImage(n){this.vfsNative.AllocateImage(n>>>9)}mountImage(n){return this.vfsNative.MountImage(n)}unmountImage(n){this.vfsNative.UnmountImage(n)}getPendingImage(){const n=this.module.getPointer(this.vfsNative.GetPendingImage()),e=this.vfsNative.GetPendingImageSize();if(0!==n&&0!==e)return this.module.HEAPU32.subarray(n>>>2,n+e>>>2)}getImageInSlot(n){const e=this.module.getPointer(this.vfsNative.GetImage(n)),r=this.vfsNative.GetSize(n);if(0!==e&&0!==r)return this.module.HEAPU32.subarray(e>>>2,e+r>>>2)}getDirtyPagesForSlot(n){const e=this.module.getPointer(this.vfsNative.GetDirtyPages(n));if(0===e)return;const r=zb(this.vfsNative.GetSize(n));return this.module.HEAPU8.subarray(e,e+r)}readdir(n){const e=new this.module.ReaddirContext(n);try{const r=[];for(;0===e.GetStatus();){const o=e.GetEntry();r.push(tT(o,`${n.replace(/\/*$/,"")}/${o.GetName()}`)),e.Next()}if(2===e.GetStatus()){console.warn(`readdir failed: ${e.GetErrorDescription()}`);const o=e.GetError();return{error:0===o?2:o,reason:e.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(e)}}rename(n,e){return this.vfsNative.RenameFile(n,e)}chmod(n,e){let r=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(e.hidden,2),i(e.readonly,1),i(e.system,4),this.vfsNative.ChmodFile(n,r,o)}stat(n){const e=this.vfsNative.StatFile(n);return 0!==e?{result:e,entry:void 0}:{entry:tT(this.vfsNative.GetEntry(),n),result:e}}bytesFree(n){return this.vfsNative.BytesFree(n)}bytesTotal(n){return this.vfsNative.BytesTotal(n)}readFile(n){if(!this.vfsNative.ReadFile(n))return;const e=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(e,e+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(n){return this.vfsNative.UnlinkFile(n)}mkdir(n){return this.vfsNative.Mkdir(n)}switchSlot(n){this.vfsNative.SwitchSlot(n)}createZipArchive({files:n,directories:e,prefix:r}){var o=this;return(0,re.Z)(function*(){const i=new o.module.CreateZipContext(r,25),s=[];try{for(n&&n.forEach(g=>i.AddFile(g)),e&&e.forEach(g=>i.AddDirectory(g));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(g=>setTimeout(g,0)))}let a;const c=o.module.getPointer(i.GetZipContent()),p=i.GetZipSize();return 0!==c&&0!==p&&(a=o.module.HEAPU8.subarray(c,c+p).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(n){var e=this;return(0,re.Z)(function*(){const r=new e.module.DeleteRecursiveContext(25);try{for(n.forEach(o=>r.AddFile(o));1===r.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{e.module.destroy(r)}})()}writeFile(n,e){const r=this.copyIn(e);try{return this.vfsNative.WriteFile(n,e.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(n,e,r){var o=this;return(0,re.Z)(function*(){const i=o.copyIn(e),s=new o.module.UnzipContext(25,n,i,e.length),a=c=>({result:c,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(p=>setTimeout(p,0)),s.GetState()){case 1:return a(Ja.success);case-3:return a(Ja.cardFull);case-1:return a(Ja.ioError);case-2:return a(Ja.zipfileError);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(n,e,r,o,i){var s=this;return(0,re.Z)(function*(){const a=new s.module.PasteContext(25,n,e);r.forEach(c=>a.AddFile(c)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(p=>setTimeout(p,0)),a.GetState()){case 1:return cu.success;case-2:return cu.cardFull;case-1:return cu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(n){const e=this.vfsNative.Malloc(n.length),r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+n.length).set(n),e}}var J5=P(307),nT=P.n(J5);function rT(t){return 0===t.length?t:t[0].toUpperCase()+t.substring(1)}let uu=(()=>{class t{constructor(e,r,o,i,s,a){this.storageService=e,this.storageCardContext=r,this.fileService=o,this.loadingController=i,this.alertController=s,this.alertService=a,this.onReleaseCard=new ri.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=e0.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(c=>this.vfsInstance=c)}setStorageCardService(e){this.storageCardService=e,e.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),e.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}isEntryInClipboard(e){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(e.path)?this.clipboard.operation:void 0}activateCard(e){var r=this;return(0,re.Z)(function*(){if(r.primaryCard?.id!==e){if(r.secondaryCard?.id===e)return r.primarySlot=r.secondarySlot,void(yield r.activatePrimaryCard());throw new Error(`card ${e} not mounted in VFS`)}})()}mountCardUnchecked(e,r,o){var i=this;return(0,re.Z)(function*(){const s=yield i.storageService.getCard(e);if(!s)throw new Error(`no card with id ${e}`);if(i.primaryCard?.id===e||i.secondaryCard?.id===e)throw new Error(`card ${e} already mounted in VFS`);i.storageCardContext.claim(e,Lr.vfs),i.primaryCard&&i.primaryCard.storageId===i.clipboard?.storageId&&(i.primarySlot=i.secondarySlot),i.primaryCard&&(yield i.releaseCard(i.primaryCard.id));const a=yield i.vfs;a.allocateImage(s.size);const c=a.getPendingImage();if(!c)throw new Error("failed to allocate image");return o?c.set(o):yield i.storageService.loadCardData(e,c,Lr.vfs),a.mountImage(i.primarySlot)?(i.primaryCard=s,yield i.activatePrimaryCard(),!0):(i.storageCardContext.release(e,Lr.vfs),!1)})()}releaseCard(e){var r=this;return(0,re.Z)(function*(){let o;if(r.primaryCard?.id===e)o=r.primarySlot;else{if(r.secondaryCard?.id!==e)return;o=r.secondarySlot}(yield r.vfs).unmountImage(o),r.mountedCards[o]=void 0,r.storageCardContext.release(e,Lr.vfs),r.onReleaseCard.dispatch(e)})()}readdir(e){if(!this.vfsInstance)return[];const r=this.normalizePath(e);if(!this.directoryCache.has(r)){const o=this.vfsInstance.readdir(e);this.directoryCache.set(r,0===o.error?o.entries:[])}return this.directoryCache.get(r)||[]}updateFileEntry(e,r){var o=this;return(0,re.Z)(function*(){const i=yield o.vfs;if(e=o.normalizePath(e),!o.isFilenameValid(r.name))return void(yield o.error("The provided file name is invalid."));const{result:s,entry:a}=i.stat(e);if(0===s)if(void 0===r.attributes||nT()(r.attributes,a.attributes)||0===(o.directoryCache.delete(o.dirname(e)),i.chmod(e,r.attributes))){if(void 0!==r.name&&r.name!==a.name)switch(o.directoryCache.delete(o.dirname(e)),i.rename(e,`${o.dirname(e)}/${r.name}`)){case 0:break;case 6:return void(yield o.error("The provided file name is invalid."));default:return void(yield o.fatalError("Unable to write the updated file attributes."))}yield o.sync()}else yield o.fatalError("Unable to write the updated file attributes.");else yield o.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(e){var r=this;return(0,re.Z)(function*(){const o=yield r.loadingController.create();yield o.present();try{const s=(yield r.vfs).readFile(e.path);if(!s)return void(yield r.alertService.errorMessage(`Could not read file '${e.name}'.`));r.fileService.saveFile(e.name,s)}finally{yield o.dismiss()}})()}archiveFiles(e,r){var o=this;return(0,re.Z)(function*(){if(0===e.length||!o.primaryCard)return;const i=yield o.loadingController.create({message:"Creating archive..."});yield i.present();try{const s=yield o.vfs,a=e.filter(E=>E.isDirectory).map(E=>o.normalizePath(E.path)),c=e.filter(E=>!E.isDirectory).map(E=>o.normalizePath(E.path)),p=1===e.length?`${e[0].name}.zip`:function A5(t){return`files_${ig(t.name)}.zip`}(o.primaryCard),{archive:g,failedItems:v}=yield s.createZipArchive({directories:a,files:c,prefix:r});yield i.dismiss(),v.length>0&&(v.length<=3?yield o.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${v.join("<br>")}`):yield o.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${v.slice(0,3).join("<br>")}<br><br> and ${v.length-3} other file`)),g&&o.fileService.saveFile(p,g)}finally{yield i.dismiss()}})()}unlinkEntry(e){var r=this;return(0,re.Z)(function*(){if(e.isDirectory)return;const i=(yield r.vfs).unlinkFile(e.path);if(0!==i)return console.error(`failed to unlink ${e.path}: ${i}`),void(yield r.error(`Failed to delete: ${e.path}`));yield r.updateBytesFree(),yield r.sync(),r.directoryCache.delete(r.dirname(e.path))})()}deleteRecursive(e){var r=this;return(0,re.Z)(function*(){const o=e.map(s=>r.normalizePath(s.path)),i=yield r.loadingController.create({message:"Deleting..."});yield i.present();try{const a=yield(yield r.vfs).deleteRecursive(o);if(!a.success)return yield i.dismiss(),void(yield r.fatalError(`Failed to delete ${a.failingItem}`));yield r.updateBytesFree(),yield r.sync(),e.map(c=>c.path).forEach(c=>r.directoryCache.delete(r.dirname(c)))}finally{yield i.dismiss()}})()}mkdir(e){var r=this;return(0,re.Z)(function*(){switch((yield r.vfs).mkdir(e)){case 6:return void(yield r.alertService.errorMessage("Invalid name."));case 7:return void(yield r.alertService.errorMessage("No space left on card."));case 8:return void(yield r.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield r.error(`Failed to create ${e}.`))}yield r.updateBytesFree(),yield r.sync(),r.directoryCache.delete(r.dirname(e))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const e=this.storageCardService.getAllCards().find(r=>r.storageId===this.clipboard?.storageId);return!!e&&(e.status===$r.clean||e.status===$r.dirty&&!!e.dontFsckAutomatically)}invalidateClipboardForCard(e){this.clipboard?.storageId===e.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(e,r,o){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:o,prefix:this.normalizePath(e),storageId:this.primaryCard.storageId,items:r.map(i=>({name:i,path:this.normalizePath(`${e}/${i}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(i=>i.path).forEach(i=>this.clipboardSet.add(i)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(e,r){var o=this;return(0,re.Z)(function*(){const i=yield o.loadingController.create();yield i.present();try{const{entriesTotal:s,entriesSuccess:a,result:c}=yield o.unpackArchiveUnchecked(e,r);let p,g;switch(yield i.dismiss(),c){case Ja.success:p="The archive was extracted successfully, but some entries were skipped.",g="Skipped entries";break;case Ja.ioError:return void(yield o.fatalError("There was an error writing to the card."));case Ja.cardFull:p="No space left on card.",g="No space left";break;case Ja.zipfileError:p="There was an error reading from the archive.",g="Error reading archive";break;default:throw new Error("unreachable")}const v=s-a,E=A=>A>1?`${A} entries`:"one entry";s>0&&v===s&&(yield o.alertService.message(g,`\n                    ${p}\n                    <br><br>\n                    The archive contains ${E(s)}, but none could be unpacked.\n                `)),v>0&&a>0&&(yield o.alertService.message(g,`\n                    ${p}\n                    <br><br>\n                    ${rT(E(a))} unpacked succesfully, but ${E(v)} could not be unpacked.\n                `))}finally{i.dismiss()}})()}paste(e){var r=this;return(0,re.Z)(function*(){if(!r.isClipboardPopulated())return;const o=yield r.loadingController.create();yield o.present();try{const i=yield r.pasteUnchecked(e);switch(yield o.dismiss(),i){case cu.cardFull:yield r.alertService.message("No space left","No space left on card.");break;case cu.ioError:return void(yield r.fatalError("There was an error copying files to the card."))}}catch(i){yield r.alertService.errorMessage(i instanceof Error?i.message:"Unknown error.")}finally{o.dismiss()}})()}addFiles(e,r){var o=this;return(0,re.Z)(function*(){if(0===e.length)return;const i=yield o.loadingController.create();yield i.present();try{const s=yield o.addFilesUnchecked(e,r);yield i.dismiss();const a=c=>c>1?`${c} entries`:"one file";s.length===e.length?yield o.alertService.message("Skipped files","No files were added to the card."):0!==s.length&&(yield o.alertService.message("Skipped files",`Successfully added ${a(e.length-s.length)} to card. ${rT(a(s.length))} could not be added.\n                `))}finally{i.dismiss()}})()}addFilesUnchecked(e,r){var o=this;return(0,re.Z)(function*(){const i=o.readdir(r),s=[],a=yield o.vfs;let c=!1,p=!1,g=!1,v=!1;e:for(let E=0;E<e.length;E++){const A=e[E],ne=i.find(Oe=>Oe.name===A.name);if(ne&&ne.isDirectory){if(!g){const{overwrite:He,rememberChoice:Ie}=yield o.overwriteFileDialog(A.name,"directory");v=He,g=Ie}let Oe=!0;if(v&&(Oe=!(yield a.deleteRecursive([o.normalizePath(`${r}/${A.name}`)])).success),Oe){s.push(A.name);continue}}if(ne&&!ne.isDirectory){if(!c){const{overwrite:Oe,rememberChoice:He}=yield o.overwriteFileDialog(A.name,"file");p=Oe,c=He}if(!p){s.push(A.name);continue}}let ge;try{ge=yield A.getContent()}catch(Oe){console.warn(Oe),s.push(A.name),yield o.alertService.errorMessage(`Unable to open ${A.name}`);continue}switch(a.writeFile(o.normalizePath(`${r}/${A.name}`),ge)){case 3:yield o.alertService.errorMessage("Card full."),s.push(...e.slice(E).map(Oe=>Oe.name));break e;case 4:throw yield o.fatalError("Unable to write file."),new Error;case 0:break;default:s.push(A.name)}}return yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.normalizePath(r)),s})()}collisionHandlers(){var e=this;let r=!1,o=!1,i=!1,s=!1;return{onFileCollision:(a=(0,re.Z)(function*(c){if(o)return r;const{overwrite:p,rememberChoice:g}=yield e.overwriteFileDialog(c.replace(/^\d:/,""),"file");return r=p,o=g,r}),function(p){return a.apply(this,arguments)}),onDirectoryCollision:function(){var a=(0,re.Z)(function*(c){if(s)return i;const{overwrite:p,rememberChoice:g}=yield e.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return i=p,s=g,i});return function(p){return a.apply(this,arguments)}}()};var a}unpackArchiveUnchecked(e,r){var o=this;return(0,re.Z)(function*(){const s=yield(yield o.vfs).unzipArchive(o.normalizePath(r),e,{...o.collisionHandlers(),onInvalidEntry:(a=(0,re.Z)(function*(c){yield o.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(p){return a.apply(this,arguments)})});var a;return s.result!==Ja.ioError&&(yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()),s})()}pasteUnchecked(e){var r=this;return(0,re.Z)(function*(){if(!r.clipboard||!r.primaryCard)throw new Error("invalid state for paste");const o=yield r.mountClipboard(),s=yield(yield r.vfs).paste(`${r.primarySlot}:${r.normalizePath(e)}`,`${o}:${r.normalizePath(r.clipboard.prefix)}`,r.clipboard.items.map(a=>a.name),r.clipboard.operation,r.collisionHandlers());return s===cu.ioError||(yield r.updateBytesFree(),yield r.sync(r.primarySlot),o!==r.primarySlot&&(yield r.sync(o)),r.directoryCache.clear(),"cut"===r.clipboard.operation&&(r.clipboard=void 0,r.clipboardSet.clear())),s})()}mountClipboard(){var e=this;return(0,re.Z)(function*(){if(!e.clipboard||!e.primaryCard||!e.storageCardService)throw new Error("invalid state for paste");if(e.clipboard.storageId===e.primaryCard.storageId)return e.primarySlot;if(e.secondaryCard&&e.clipboard.storageId===e.secondaryCard.storageId)return e.secondarySlot;e.secondaryCard&&(yield e.releaseCard(e.secondaryCard.id));const r=e.storageCardService.getAllCards().find(s=>s.storageId===e.clipboard?.storageId);if(!r)throw new Error("invalid storage card in clipboard");const o=yield e.vfs;o.allocateImage(r.size);const i=o.getPendingImage();if(!i)throw new Error("failed to allocate image");if(e.storageCardContext.claim(r.id,Lr.vfs),yield e.storageService.loadCardData(r.id,i,Lr.vfs),!o.mountImage(e.secondarySlot))throw e.storageCardContext.release(r.id,Lr.vfs),new Error("unable to mount card");return e.secondaryCard=r,e.secondarySlot})()}overwriteFileDialog(e,r){var o=this;return(0,re.Z)(function*(){let i=!1,s=!1;const a=yield o.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:new nu.I("file"===r?`Do you want to overwrite the existing file ${e}?`:`\n                    Do you want to overwrite the existing directory ${e}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `),buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>i=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:c=>s=!0===c.checked,cssClass:"alert-checkbox"}]});return yield a.present(),yield a.onDidDismiss(),{overwrite:i,rememberChoice:s}})()}error(e){var r=this;return(0,re.Z)(function*(){yield r.alertService.errorMessage(e)})()}fatalError(e){var r=this;return(0,re.Z)(function*(){r.primaryCard&&(yield r.storageService.updateStorageCardPartial(r.primaryCard.id,{status:$r.dirty}),yield r.releaseCard(r.primaryCard.id),r.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(e=this.primarySlot){var r=this;return(0,re.Z)(function*(){const o=r.mountedCards[e];if(!o)return;const i=yield r.vfs,s=i.getImageInSlot(e),a=i.getDirtyPagesForSlot(e);!s||!a||(yield r.storageService.updateCardData(o.id,s,a,Lr.vfs),a.fill(0))})()}activatePrimaryCard(){var e=this;return(0,re.Z)(function*(){const r=yield e.vfs;r.switchSlot(e.primarySlot),e.bytesFree=r.bytesFree(e.primarySlot),e.bytesTotal=r.bytesTotal(e.primarySlot),e.directoryCache.clear()})()}updateBytesFree(){var e=this;return(0,re.Z)(function*(){e.bytesFree=(yield e.vfs).bytesFree(e.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(e){this.mountedCards[this.primarySlot]=e}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(e){this.mountedCards[this.secondarySlot]=e}static#e=this.\u0275fac=function(r){return new(r||t)(de(nr),de(mp),de(Ic),de(Vl),de(ru),de(co))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var si=function(t){return t[t.mb4=0]="mb4",t[t.mb8=1]="mb8",t[t.mb16=2]="mb16",t[t.mb32=3]="mb32",t[t.mb64=4]="mb64",t[t.mb128=5]="mb128",t}(si||{});function oT(){return jb().replace(/-/g,"")}let Ad=(()=>{class t{constructor(e,r,o,i,s,a,c,p,g,v,E){this.sessionService=e,this.storageService=r,this.emulationStateService=o,this.cloudpilotService=i,this.loadingController=s,this.snapshotService=a,this.alertService=c,this.errorService=p,this.fileService=g,this.vfsService=v,this.storageCardContext=E,this.mountCardEvent=new ri.j,this.deleteCardEvent=new ri.j,this.loading=!0,this.cards=[],this.updateMutex=new Ka,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),r.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,r,o){var i=this;return(0,re.Z)(function*(){const s=yield i.loadingController.create({message:"Formatting..."});try{yield s.present();const a=yield function q5(t){return Yb.apply(this,arguments)}(function e8(t){switch(t){case si.mb4:return 4;case si.mb8:return 8;case si.mb16:return 16;case si.mb32:return 32;case si.mb64:return 64;case si.mb128:return 128;default:throw new Error(`bad card size ${t}`)}}(r));if(!a)throw new Error("failed to create image");const c={storageId:oT(),name:e,size:4*a.length,status:$r.clean,dontFsckAutomatically:o};return yield i.storageService.importStorageCard(c,a)}finally{s.dismiss()}})()}createCardFromImage(e,r,o){var i=this;return(0,re.Z)(function*(){const s={storageId:oT(),name:e,size:r.length,status:$r.clean,dontFsckAutomatically:o},a=new Uint32Array(r.buffer,r.byteOffset,r.byteLength>>>2),c=yield i.loadingController.create({message:"Importing..."});try{if(o)yield c.present(),yield i.storageService.importStorageCard(s,a);else{const[p,g]=yield i.fsckNewCard(a,s);yield c.present(),yield i.storageService.importStorageCard(g,p)}}finally{c.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Lr.cloudpilot)}loadCardInEmulator(e,r){var o=this;return(0,re.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield o.vfsService.releaseCard(e);const s=yield o.cloudpilotService.cloudpilot;if(s.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!s.allocateCard(i.storageId,i.size))throw new Error("failed to allocate card");const a=s.getCardData(i.storageId);if(!a)throw new Error("failed to access card data");return o.storageCardContext.claim(e,Lr.cloudpilot),r?a.set(r):yield o.storageService.loadCardData(i.id,a,Lr.cloudpilot),i})()}ejectCurrentCard(){var e=this;return(0,re.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)throw new Error("no running session");const o=r?.mountedCard;if(void 0===o)throw new Error("no mounted card");const i=yield e.storageService.getCard(o);if(!i)throw new Error(`no card with id ${o}`);yield e.storageService.updateStorageCardPartial(o,{status:$r.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(i.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(o,Lr.cloudpilot)})()}checkCard(e){var r=this;return(0,re.Z)(function*(){const o=r.mountedInSession(e.id);if(o){let s=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be checked.`,{"Eject now":()=>s=!0},"Cancel"),!s)return;yield r.ejectCard(e.id)}const i=yield r.executeFsckAndUpdateCard(e.id);switch(i.getResult()){case 1:return void r.alertService.cardIsClean();case 3:return void r.alertService.cardHasNoValidFileSystem();case 4:r.alertService.cardHasUncorrectableErrors();break;case 2:{let s=!1;return yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),void(s?yield r.applyFsckResult(e.id,i):r.storageCardContext.release(e.id,Lr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var r=this;return(0,re.Z)(function*(){if(r.storageCardContext.getOwner(e.id)===Lr.vfs)return yield r.vfsService.activateCard(e.id),!0;const o=r.mountedInSession(e.id);if(o){let i=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be browsed.`,{"Eject now":()=>i=!0},"Cancel"),!i)return!1;yield r.ejectCard(e.id)}return r.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,r){var o=this;return(0,re.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);return!r.dontFsckAutomatically&&i.dontFsckAutomatically&&(r.status=$r.dirty),o.storageService.updateStorageCardPartial(e,r)})()}deleteCard(e){var r=this;return(0,re.Z)(function*(){const o=yield r.loadingController.create();yield o.present();try{const i=r.cards.find(s=>s.id===e);yield r.vfsService.releaseCard(e),yield r.ejectCard(e),yield r.storageService.deleteStorageCard(e),i&&r.deleteCardEvent.dispatch(i)}finally{o.dismiss()}})()}saveCard(e,r,o){var i=this;return(0,re.Z)(function*(){const s=yield i.getCard(e);if(!s)throw new Error(`no card with id ${e}`);const a=yield i.loadingController.create({message:"Exporting..."});let c;const p=o?yield Jb.create(s.size):void 0;if(p){const g=p.getBuffer();c=new Uint32Array(g.buffer,g.byteOffset,g.byteLength>>2)}try{yield a.present();const g=i.mountedInSession(e);let v;if(g&&g.id===i.emulationStateService.getCurrentSession()?.id&&(yield i.snapshotService.waitForPendingSnapshot(),yield i.snapshotService.triggerSnapshot(),v=(yield i.cloudpilotService.cloudpilot).getCardData(s.storageId),v&&(c?c.set(v):c=v)),v||(c||(c=new Uint32Array(s.size>>>2)),yield i.storageService.loadCardData(s.id,c,i.storageCardContext.getOwner(e))),p){if(p.setFilename(r).setMtime(Math.floor(Date.now()/1e3)),!(yield p.gzip()))return void i.alertService.errorMessage("Failed to compress card image.");r+=".gz"}}finally{a.dismiss()}i.fileService.saveFile(r,p?p.getGzipData():new Uint8Array(c.buffer,c.byteOffset,c.length<<2))})()}getCard(e){var r=this;return(0,re.Z)(function*(){return r.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(r=>r.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,re.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,re.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}cardIsMounted(e){var r=this;return(0,re.Z)(function*(){return(yield r.storageService.getAllSessions()).some(i=>i.mountedCard===e)})()}checkAndClaimCard(e,r){var o=this;return(0,re.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");let i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);let s,a=!0,c=!1;if(!i.dontFsckAutomatically){if(i.status===$r.dirty){if(s=yield o.executeFsckAndUpdateCard(e),2===s.getResult()){if(a=!1,yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===r?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),!a)return o.storageCardContext.release(e,Lr.fstools),!1;yield o.applyFsckResult(i.id,s)}if(i=yield o.getCard(e),!i)throw new Error(`no card with id ${e}`)}switch(i.status){case $r.clean:break;case $r.unformatted:if("vfs"===r)return yield o.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case $r.dirty:return yield o.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===r?"inserted":"browsed"}.`),!1;case $r.unfixable:if(a=!1,c=!0,yield o.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>a=!0},"Cancel"),!a)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===r?(yield o.vfsService.releaseCard(e),yield o.mountCardInEmulator(e,s?.getImageData())):(yield o.mountCardForBrowsing(e,c,s?.getImageData()))||(yield o.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(p){return o.errorService.fatalBug(p instanceof Error?p.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var r=this;return(0,re.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});try{if(yield o.present(),yield r.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const i=yield r.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e),r.storageCardContext.claim(e,Lr.fstools);const s=yield cg.create(i.size);switch(yield r.storageService.loadCardData(i.id,s.getImageData(),Lr.fstools),s.fsck()){case 1:yield r.storageService.updateStorageCardPartial(e,{status:$r.clean}),r.storageCardContext.release(e,Lr.fstools);break;case 3:yield r.storageService.updateStorageCardPartial(e,{status:$r.unformatted}),r.storageCardContext.release(e,Lr.fstools);break;case 2:yield r.storageService.updateStorageCardPartial(e,{status:$r.dirty});break;case 4:yield r.storageService.updateStorageCardPartial(e,{status:$r.unfixable}),r.storageCardContext.release(e,Lr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return s}finally{o.dismiss()}})()}applyFsckResult(e,r){var o=this;return(0,re.Z)(function*(){if(2!==r.getResult())return;const i=yield o.loadingController.create({message:"Fixing errors..."});try{yield i.present(),yield o.storageService.updateCardData(e,r.getImageData(),r.getDirtyPages(),Lr.fstools),yield o.storageService.updateStorageCardPartial(e,{status:$r.clean}),o.storageCardContext.release(e,Lr.fstools)}finally{i.dismiss()}})()}fsckNewCard(e,r){var o=this;return(0,re.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});let s,a;try{yield i.present(),s=yield cg.create(r.size),s.getImageData().set(e),a=s.fsck()}finally{i.dismiss()}switch(a){case 1:return[e,{...r,status:$r.clean}];case 2:{let c=!1;return yield o.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[s.getImageData(),{...r,status:$r.clean}]:[e,{...r,status:$r.dirty}]}case 3:return yield o.alertService.cardHasNoValidFileSystem(),[e,{...r,status:$r.unformatted}];case 4:return yield o.alertService.cardHasUncorrectableErrors(),[e,{...r,status:$r.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var r=this;return(0,re.Z)(function*(){const o=r.mountedInSession(e),i=yield r.storageService.getCard(e);!o||!i||(o.id===r.emulationStateService.getCurrentSession()?.id?yield r.ejectCurrentCard():(yield r.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),yield r.storageService.updateStorageCardPartial(e,{status:$r.dirty})))})()}mountCardInEmulator(e,r){var o=this;return(0,re.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");const i=yield o.loadingController.create({message:"Inserting..."});try{yield i.present(),yield o.vfsService.releaseCard(e);const s=o.emulationStateService.getCurrentSession();if(!s)throw new Error("no current session");if(void 0!==s.mountedCard)throw new Error("session already has a mounted card");const a=yield o.loadCardInEmulator(e,r),c=yield o.cloudpilotService.cloudpilot;if(yield o.storageService.updateStorageCardPartial(e,{status:$r.dirty}),yield o.storageService.updateSessionPartial(s.id,{mountedCard:e}),!c.mountCard(a.storageId))throw c.removeCard(a.storageId),new Error("failed to mount card");return o.mountCardEvent.dispatch(a),a}finally{i.dismiss()}})()}mountCardForBrowsing(e,r,o){var i=this;return(0,re.Z)(function*(){const s=yield i.loadingController.create({message:"Mounting..."});try{return yield s.present(),yield i.vfsService.mountCardUnchecked(e,r,o)}finally{s.dismiss()}})()}static#e=this.\u0275fac=function(r){return new(r||t)(de(yp),de(nr),de(Ul),de(xa),de(Vl),de(vp),de(co),de(su),de(Ic),de(uu),de(mp))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),el=(()=>{class t extends S5{constructor(e,r,o,i,s,a,c,p,g,v,E,A,ne,ge,Oe,He,Ie,kt){var gt;super(),gt=this,this.storageService=e,this.ngZone=r,this.loadingController=o,this.emulationState=i,this.snapshotService=s,this.errorService=a,this.fileService=c,this.alertService=p,this.modalWatcher=g,this.clipboardService=v,this.kvsService=E,this.proxyService=A,this.buttonService=ne,this.bootstrapService=ge,this.cloudpilotService=Oe,this.storageCardService=He,this.storageCardContext=Ie,this.app=kt,this.switchSession=(zn,Io={})=>this.mutex.runExclusive((0,re.Z)(function*(){if(zn===gt.emulationState.getCurrentSession()?.id)return!0;let gi;yield gt.stopUnchecked(),yield gt.bootstrapService.hasRendered(),(Io.showLoader??1)&&(gi=yield gt.loadingController.create({message:"Loading..."}),yield gi.present());try{const wp=yield gt.storageService.getSession(zn);if(!wp)throw new Error(`invalid session ${zn}`);gt.emulationState.setCurrentSession(void 0);const d0=yield gt.cloudpilotService.cloudpilot;if(!(yield gt.restoreSession(wp,d0)))return gt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;gt.emulationState.setCurrentSession(wp),function MG(t){localStorage.setItem(Jm,t+"")}(zn)}finally{gi&&(yield gi.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,re.Z)(function*(){!gt.emulationState.getCurrentSession()||gt.running||gt.errorService.hasFatalError()||!gt.cloudpilotInstance||(yield gt.kvsService.mutex.runExclusive(()=>gt.updateFeatures()),gt.doResume(),gt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,re.Z)(function*(){gt.doPause(),!gt.errorService.hasFatalError()&&gt.emulationState.getCurrentSession()&&(yield gt.snapshotService.waitForPendingSnapshot(),yield gt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([zn,Io])=>this.mutex.runExclusive((0,re.Z)(function*(){const gi=gt.emulationState.getCurrentSession();zn===gi?.id&&(void 0!==gi.mountedCard&&void 0===Io&&gt.storageCardContext.release(gi.mountedCard,Lr.cloudpilot),gt.emulationState.setCurrentSession(Io),gt.emulationState.getCurrentSession()||(DM(),gt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,re.Z)(function*(){const zn=gt.emulationState.getCurrentSession();zn&&gt.fileService.emergencySaveSession(zn,yield gt.cloudpilotService.cloudpilot)})),this.mutex=new Ka,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),a.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(zn=>{zn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(zn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Xt=function kG(){const t=localStorage.getItem(Jm);return t?parseInt(t,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Xt&&!sI()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Xt))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const r=this.emulationState.getCurrentSession();r&&this.storageService.updateSessionPartial(r.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?Md.timeout:Md.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,r){if(!this.cloudpilotInstance)return;const o=this.emulationState.getCurrentSession();this.uiInitialized&&o&&void 0===o.osVersion&&this.storageService.updateSessionPartial(o.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(r/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,re.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var r=this;return(0,re.Z)(function*(){let o;const i=setTimeout(()=>{o=r.loadingController.create({message:"Loading..."}).then(function(){var s=(0,re.Z)(function*(a){return yield a.present(),a});return function(a){return s.apply(this,arguments)}}())},100);try{yield r.switchSession(e,{showLoader:!1})}catch{ra&&r.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{o&&o.then(s=>s.dismiss()),clearTimeout(i)}})()}restoreSession(e,r){var o=this;return(0,re.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(e,o.kvsService.kvs.snapshotIntegrityCheck);if(!i)throw new Error(`invalid ROM ${e.rom}`);return r.clearExternalStorage(),void 0!==e.mountedCard&&(yield o.storageCardService.loadCardInEmulator(e.mountedCard)),!!o.openSession(r,i,e.device,s,a)&&(o.proxyService.reset(),o.buttonService.reset(r),yield o.snapshotService.initialize(e,yield o.cloudpilotService.cloudpilot),!0)})()}static#e=this.\u0275fac=function(r){return new(r||t)(de(nr),de(ct),de(Vl),de(Ul),de(vp),de(su),de(Ic),de(co),de(Wb),de(KM),de(ls),de(qb),de(JM),de(eT),de(xa),de(Ad),de(mp),de(Ha))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const xc=new Dt($),o8={connector:()=>new nt};function iT(t,n=o8){const{connector:e}=n;return it((r,o)=>{const i=e();I(t(function r8(t){return new Dt(n=>t.subscribe(n))}(i))).subscribe(o),o.add(r.subscribe(i))})}function sT(t,n){return n?e=>Uf(n.pipe(vs(1),function a8(){return it((t,n)=>{t.subscribe(Ct(n,$))})}()),e.pipe(sT(t))):or((e,r)=>I(t(e,r)).pipe(vs(1),Ky(e)))}const bp="Service workers are disabled or not supported by this browser";class dg{constructor(n){if(this.serviceWorker=n,n){const r=Vf(n,"controllerchange").pipe(Ee(()=>n.controller)),i=Uf(Em(()=>Kt(n.controller)),r);this.worker=i.pipe(Pi(g=>!!g)),this.registration=this.worker.pipe(S(()=>n.getRegistration()));const p=Vf(n,"message").pipe(Ee(g=>g.data)).pipe(Pi(g=>g&&g.type)).pipe(function s8(t){return t?n=>iT(t)(n):n=>function i8(t,n){const e=D(t)?t:()=>t;return D(n)?iT(n,{connector:e}):r=>new Yy(r,e)}(new nt)(n)}());p.connect(),this.events=p}else this.worker=this.events=this.registration=function c8(t){return Em(()=>fd(new Error(t)))}(bp)}postMessage(n,e){return this.worker.pipe(vs(1),Ri(r=>{r.postMessage({action:n,...e})})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(n,e);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(Pi(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(vs(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(Pi(e=>e.nonce===n),vs(1),Ee(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let aT=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new nt,!e.isEnabled)return this.messages=xc,this.notificationClicks=xc,void(this.subscription=xc);this.messages=this.sw.eventsOfType("PUSH").pipe(Ee(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ee(o=>o.data)),this.pushManager=this.sw.registration.pipe(Ee(o=>o.pushManager));const r=this.pushManager.pipe(S(o=>o.getSubscription()));this.subscription=zo(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(bp));const r={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(S(s=>s.subscribe(r)),vs(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(vs(1),S(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(bp))}decodeBase64(e){return atob(e)}static#e=this.\u0275fac=function(r){return new(r||t)(de(dg))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})(),fg=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=xc,this.available=xc,this.activated=xc,void(this.unrecoverable=xc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Pi(r=>"VERSION_READY"===r.type),Ee(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(bp));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(bp));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static#e=this.\u0275fac=function(r){return new(r||t)(de(dg))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const lT=new Ht("NGSW_REGISTER_SCRIPT");function u8(t,n,e,r){return()=>{if(!lc(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)o=e.registrationStrategy();else{const[s,...a]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=Kt(null);break;case"registerWithDelay":o=cT(+a[0]||0);break;case"registerWhenStable":o=a[0]?zo(uT(t),cT(+a[0])):uT(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}t.get(ct).runOutsideAngular(()=>o.pipe(vs(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function cT(t){return Kt(null).pipe(function l8(t,n=mM){const e=gM(t,n);return sT(()=>e)}(t))}function uT(t){return t.get(Ha).isStable.pipe(Pi(e=>e))}function d8(t,n){return new dg(lc(n)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class t0{}function f8(t,n={}){return nh([aT,fg,{provide:lT,useValue:t},{provide:t0,useValue:n},{provide:dg,useFactory:d8,deps:[t0,Na]},{provide:od,useFactory:u8,deps:[lo,lT,t0,Na],multi:!0}])}let p8=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[f8(e,r)]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({providers:[aT,fg]})}return t})(),dT=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.kvsService=e,this.emulationService=r,this.alertService=o,this.modalController=i,this.updates=s,this.checkForUpgrade=()=>this.mutex.runExclusive((0,re.Z)(function*(){const c=a.kvsService.kvs.version;void 0!==c?c!==lu&&(yield a.kvsService.set({version:lu,previousVersion:c,latestVersion:lu}),yield a.emulationService.bootstrapComplete(),a.alertService.message("Update complete",`CloudpilotEmu was updated to version ${lu}.`,{Changes:()=>a.showChangelog()})):a.kvsService.kvs.version=lu})),this.mutex=new Ka,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,re.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,re.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===lu){const r=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),r&&(yield r.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,re.Z)(function*(){yield(yield e.modalController.create({component:au,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}static#e=this.\u0275fac=function(r){return new(r||t)(de(ls),de(el),de(co),de(ys),de(fg))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),m8=(()=>{class t{constructor(e,r,o){this.pwaService=e,this.updateService=r,this.bootstrapService=o}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}static#e=this.\u0275fac=function(r){return new(r||t)(w(LM),w(dT),w(eT))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,o){1&r&&(oe(0,"ion-app"),lt(1,"ion-router-outlet"),J())},dependencies:[Ok,dp]})}return t})(),fT=(()=>{class t{constructor(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=m({type:t,selectors:[["app-dummy"]],decls:2,vars:0,template:function(r,o){1&r&&(oe(0,"div"),Ue(1,"Dummy"),J())},encapsulation:2})}return t})(),pT=(()=>{class t{constructor(e,r){this.linkApi=e,this.router=r}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}static#e=this.\u0275fac=function(r){return new(r||t)(de(yy),de(ii))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const n0=ie.m515,g8=Ub[2],_8=Ub[0],Pd="rgba(0,0,0,0.2)";function hT(t){const n=_p(t),e=(0===n.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:e},o=c=>({frameDevice:c,frameCanvas:c*e}),i=c=>({frameDevice:c,frameCanvas:r.frameCanvas+c*e}),s=o(n.silkscreenHeight>0?1:0),a=o(function C8(t){switch(t){case 3:case 1:return 60;case 2:return 45;default:return 30}}(n.screenSize));return{scale:e,borderWidth:r,height:o(2*r.frameDevice+n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+n.width),screenHeight:o(n.height),screenWidth:o(n.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(n.height),separatorHeight:s,silkscreenHeight:o(n.silkscreenHeight),silkscreenTop:i(n.height+s.frameDevice),silkscreenBottom:i(n.height+s.frameDevice+n.silkscreenHeight),softSilkscreenHeight:o(n.silkscreenHeight>0?0:n.height-n.width),buttonHeight:a,buttonWidth:a,buttonTop:i(n.height+s.frameDevice+n.silkscreenHeight),buttonBottom:i(n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice)}}class w8{constructor(n){this.skinLoader=n,this.layout=hT(n0),this.onResize=new ri.j}get width(){switch(this.getOrientation()){case Gr.portrait:case Gr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Gr.portrait:case Gr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(n){this.drawEmulationCanvas(n),this.onAfterUpdateCanvas()}eventToPalmCoordinates(n,e=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let c=(n.clientX-o)/s*this.width/this.layout.scale,p=(n.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Gr.landscape90:{const v=p;p=this.layout.height.frameDevice-c,c=v;break}case Gr.landscape270:{const v=p;p=c,c=this.layout.width.frameDevice-v;break}case Gr.portrait180:c=this.layout.width.frameDevice-c,p=this.layout.height.frameDevice-p}c-=this.layout.borderWidth.frameDevice,p-=this.layout.borderWidth.frameDevice,p>=this.layout.screenHeight.frameDevice&&(p<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?p=this.layout.screenHeight.frameDevice:p-=this.layout.separatorHeight.frameDevice);const g=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(e)c<0&&(c=0),c>=this.layout.screenWidth.frameDevice&&(c=this.layout.screenWidth.frameDevice-1),p<0&&(p=0),p>=g&&(p=g-1);else if(c<0||c>=this.layout.screenWidth.frameDevice||p<0||p>=g)return;return[c,p]}isSilkscreen(n){const[,e]=n;return!this.isButtons(n)&&e>=this.layout.screenHeight.frameDevice}isButtons([,n]){return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([n,e]){return n>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:n>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:n>=2*this.layout.buttonWidth.frameDevice?e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:n>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(n=this.ctx?.canvas){var e=this;return(0,re.Z)(function*(){if(!n)return;e.layout=hT(e.getDeviceId()),e.onResize.dispatch(),n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");e.ctx=r,e.setupTransformation(),e.fillCanvasRect(0,0,e.layout.width.frameCanvas,e.layout.height.frameCanvas,e.frameColor()),e.fillRect(0,0,e.layout.screenWidth.frameDevice,e.layout.screenHeight.frameDevice+e.layout.silkscreenHeight.frameDevice+e.layout.separatorHeight.frameDevice+e.layout.buttonHeight.frameDevice,e.backgroundColor()),e.drawEmulationCanvas(),yield Promise.all([e.drawSilkscreen(),e.drawButtons()])})()}drawButtons(n=[]){var e=this;return(0,re.Z)(function*(){e.ctx&&(e.setupTransformation(),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.buttonsImage()(e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),e.layout.screenLeft.frameCanvas,e.layout.buttonTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),n.includes(0)&&e.fillRect(0,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,Pd),n.includes(1)&&e.fillRect(e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,Pd),n.includes(2)&&e.fillRect(e.layout.screenWidth.frameDevice-2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,Pd),n.includes(3)&&e.fillRect(e.layout.screenWidth.frameDevice-e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,Pd),n.includes(4)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,Pd),n.includes(5)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice+e.layout.buttonHeight.frameDevice/2,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,Pd))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Gr.portrait:case void 0:break;case Gr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Gr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Gr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var n=this;return(0,re.Z)(function*(){0===n.layout.silkscreenHeight.frameCanvas||!n.ctx||(n.setupTransformation(),n.fillRect(n.layout.screenLeft.frameDevice,n.layout.silkscreenTop.frameDevice,n.layout.screenWidth.frameDevice,n.layout.silkscreenHeight.frameDevice,g8),n.ctx.imageSmoothingEnabled=!0,n.ctx.imageSmoothingQuality="high",n.ctx.drawImage(yield n.silkscreenImage()(n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas),n.layout.borderWidth.frameCanvas,n.layout.silkscreenTop.frameCanvas,n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(n=this.lastEmulationCanvas){!n||!this.ctx||(this.lastEmulationCanvas=n,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(n,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(n,e,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(n,e,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(n,e,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case ie.pegT600c:case ie.pegT650c:return"silkscreen/clie-t600.svg";case ie.pegN700c:case ie.pegN600c:return"silkscreen/clie-n610.svg";case ie.pegS320:case ie.pegS300:return"silkscreen/clie-s300.svg";case ie.pegS500c:return"silkscreen/clie-s500.svg";case ie.pegT400:return"silkscreen/clie-t415.svg";case ie.acerS11:return"silkscreen/acer-s10.svg";case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:return"silkscreen/pilot.svg";case ie.m500:return"silkscreen/m500.svg";case ie.m505:case ie.m515:case ie.m520:return"silkscreen/m515.svg";case ie.iiic:return"silkscreen/iiic.svg";case ie.m100:case ie.m105:case ie.m125:return"silkscreen/m100.svg";case ie.m130:return"silkscreen/m130.svg";case ie.i710:return"silkscreen/tungstenw.svg";case ie.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case ie.acerS11:return"hard-buttons/acer-s10.svg";case ie.pegNR70:return"hard-buttons/clie-nr70.svg";case ie.pegN700c:return"hard-buttons/clie-n700.svg";case ie.pegN600c:return"hard-buttons/clie-n610.svg";case ie.pegS300:return"hard-buttons/clie-s300.svg";case ie.pegS500c:return"hard-buttons/clie-s500.svg";case ie.pegS320:return"hard-buttons/clie-s320.svg";case ie.pegT400:case ie.pegT600c:case ie.pegT650c:return"hard-buttons/clie-t415.svg";case ie.pilot:case ie.palmPilot:return"hard-buttons/pilot.svg";case ie.m500:return"hard-buttons/m500.svg";case ie.m505:case ie.m515:case ie.m520:return"hard-buttons/m515.svg";case ie.iiic:return"hard-buttons/iiic.svg";case ie.m100:case ie.m105:return"hard-buttons/m100.svg";case ie.m125:return"hard-buttons/m125.svg";case ie.m130:return"hard-buttons/m130.svg";case ie.i710:return"hard-buttons/tungstenw.svg";case ie.iii:case ie.iiix:case ie.iiixe:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:return"hard-buttons/iiix.svg";case ie.iiie:return"hard-buttons/iiie.svg";case ie.i705:return"hard-buttons/i705.svg";case ie.handera330:return"hard-buttons/handera330.svg";case ie.handera330c:return"hard-buttons/handera330c.svg";case ie.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return Hb(this.getDeviceId())?"white":_8}frameColor(){return Hb(this.getDeviceId())?"white":"#ccc"}}function E8(t){return new Promise((n,e)=>{const r=new Image;r.onload=()=>n(r),r.onerror=()=>e(),r.src=t})}class I8{constructor(n){this.cloudpilot=n,this.images=new Map}loadSkinElement(n){if(this.images.has(n))return this.images.get(n);const e=this.cloudpilot.then(o=>o.loadSkin(n)).then(o=>{return o?Promise.all([o,E8((t=o,`data:image/svg+xml;base64,${btoa(t)}`))]):Promise.reject(new Error(`failed to load skin ${n}`));var t}),r=function S8(t,n){let e,r;const o=document.createElement("canvas");return function(){var i=(0,re.Z)(function*(s,a){if(e===s&&r===a)return o;o.width=s,o.height=a;const c=o.getContext("2d");if(!c)throw new Error("get a new browser");return c.drawImage(yield t,0,0,o.width,o.height),(CM||ra)&&(yield n).indexOf("data:image")>=0&&(yield new Promise(p=>setTimeout(p,0)),c.drawImage(yield t,0,0,o.width,o.height)),e=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(e.then(([,o])=>o),e.then(([o])=>o));return this.images.set(n,r),r}}let pg=(()=>{class t extends w8{constructor(e){super(new I8(e.cloudpilot)),this.cloudpilotService=e,this.statisticsVisible=!1}initialize(e,r=this.session){var o=this;return(0,re.Z)(function*(){o.session=r,yield o.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,re.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,r){var o=this;return(0,re.Z)(function*(){yield o.clearStatistics(),o.drawStatistics(e,r),o.lastEmulationStatistics=r,o.lastSnapshotStatistics=e,o.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??n0}getOrientation(){return this.session?.deviceOrientation??Gr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,r){if(!this.ctx)return;this.setupTransformation();const o=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,i=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-o.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-o.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,i.frameDevice,this.layout.screenWidth.frameDevice,o.frameDevice,"rgba(255,255,255,0.6)");const a=function x8(t){switch(t){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(_p(this.session?.device??n0).screenSize);this.ctx.font=6*this.layout.scale*a+"px monospace",this.ctx.fillStyle="black",[...e||r?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...r?[`host speed             : ${r.hostSpeed.toFixed(2)}x`,`emulation speed        : ${r.emulationSpeed.toFixed(2)}x`,`average FPS            : ${r.averageFps.toFixed(2)}`]:[]].forEach((c,p)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+a*this.layout.scale,i.frameCanvas+a*this.layout.scale*(8+6*p)))}static#e=this.\u0275fac=function(r){return new(r||t)(de(xa))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),r0=(()=>{class t{constructor(e,r,o){this.router=e,this.canvasDisplayService=r,this.emulationStateService=o,this.updateUseSmallUI=()=>{const i=!!document.querySelector("html.md"),s=i?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-s-(i?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-s-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),r.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,r){let o,i;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(r=Math.min(r,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(i=e,o=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(o=r,i=r/this.canvasDisplayService.width*this.canvasDisplayService.height),o*i}static#e=this.\u0275fac=function(r){return new(r||t)(w(ii),w(pg),w(Ul))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(r,o){1&r&&(oe(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),lt(4,"ion-icon",3),oe(5,"ion-label"),Ue(6,"Emulator"),J()(),oe(7,"ion-tab-button",4),lt(8,"ion-icon",5),oe(9,"ion-label"),Ue(10,"Sessions"),J()(),oe(11,"ion-tab-button",6),lt(12,"ion-icon",7),oe(13,"ion-label"),Ue(14,"Cards"),J()(),oe(15,"ion-tab-button",8),lt(16,"ion-icon",9),oe(17,"ion-label"),Ue(18,"Settings"),J()(),oe(19,"ion-tab-button",10),lt(20,"ion-icon",11),oe(21,"ion-label"),Ue(22,"About"),J()()()()()),2&r&&(et(2),xl("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[Ei,is,Zm,$k,Kk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]})}return t})(),Cp=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({imports:[za,Ab.forChild(),yc,Qc,Cm]})}return t})(),k8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({imports:[za,Qc,yc,Cp,Ab.forChild()]})}return t})(),M8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({imports:[za,Qc,yc,Cp]})}return t})(),T8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({imports:[za,Qc,yc,Cm,Cp]})}return t})(),A8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({imports:[za,Qc,yc,Cp,Cm]})}return t})(),P8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({imports:[za,yc,Qc,Cm,Cp]})}return t})();function R8(t,n){if(1&t){const e=Rr();oe(0,"ion-button",1),at("click",function(){return mn(e),gn(Ut().onClick())}),lt(1,"ion-icon",2),J()}if(2&t){const e=Ut();et(1),ot("name",e.iconName)}}let hg=(()=>{class t{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return ra?"logo-apple-appstore":SM?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}static#e=this.\u0275fac=function(r){return new(r||t)(w(LM))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(r,o){1&r&&Qt(0,R8,2,1,"ion-button",0),2&r&&ot("ngIf",o.show)},dependencies:[wi,ts,Ei]})}return t})();function O8(t,n){1&t&&(oe(0,"div",10),lt(1,"ion-spinner"),J())}function F8(t,n){1&t&&(oe(0,"div"),Ue(1,"app cached for offline use"),J())}let N8=(()=>{class t{constructor(e,r){this.modalController=e,this.updates=r,this.loading=!0}get version(){return lu}showChangelog(){var e=this;return(0,re.Z)(function*(){yield(yield e.modalController.create({component:au,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}static#e=this.\u0275fac=function(r){return new(r||t)(w(ys),w(fg))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-about"]],decls:21,vars:3,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(r,o){1&r&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3,"About"),J(),oe(4,"ion-buttons",0),lt(5,"app-pwa-prompt"),J()()(),oe(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),Ue(10,"About"),J()()(),Qt(11,O8,2,0,"div",3),oe(12,"div",4)(13,"markdown",5),at("load",function(){return o.loading=!1}),J()(),oe(14,"div",6),Ue(15),lt(16,"br"),oe(17,"a",7),at("click",function(){return o.showChangelog()}),Ue(18,"Changelog"),J(),Qt(19,F8,2,0,"div",8),J(),lt(20,"img",9),J()),2&r&&(et(11),ot("ngIf",o.loading),et(4),Ui(" CloudpilotEmu version ",o.version," "),et(4),ot("ngIf",o.serviceWorkerAvailable))},dependencies:[wi,ns,rs,os,lp,ss,as,hg,Tb],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]})}return t})();function L8(t,n){if(1&t&&(oe(0,"ion-select-option",16),Ue(1),J()),2&t){const e=n.$implicit;ot("value",e[0]),et(1),Ui("",e[1]," ")}}function $8(t,n){if(1&t&&(oe(0,"ion-select-option",16),Ue(1),J()),2&t){const e=n.$implicit;ot("value",e[0]),et(1),Ui("",e[1]," ")}}function B8(t,n){if(1&t&&(oe(0,"ion-item",6)(1,"ion-label",7),Ue(2,"Hotsync name"),J(),lt(3,"ion-input",17),J()),2&t){const e=Ut();et(3),ot("placeholder",e.placeholder)}}let mT=(()=>{class t{constructor(e,r){this.sessionService=e,this.alertService=r,this.validateNameUnique=o=>o.value!==this.session.name&&this.sessionService.getSessions().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Gr.portrait,"Portrait"],[Gr.landscape90,"Landscape 90\xb0"],[Gr.landscape270,"Landscape 270\xb0"],[Gr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,jM(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function h5(t){switch(t){case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:case ie.palmVx:case ie.palmV:case ie.palmVIIEZ:case ie.palmVIIx:case ie.iiic:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.pegS300:case ie.pegS500c:return 16;case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.acerS11:return 33;case ie.pegT650c:case ie.pegNR70:case ie.lp168:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new gm({name:new oi(this.session.name,{validators:[Ff.required,this.validateNameUnique]}),manageHotsyncName:new oi(!this.session.dontManageHotsyncName),hotsyncName:new oi(this.session.hotsyncName||""),device:new oi({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new oi((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new oi(this.session.deviceOrientation||Gr.portrait)})}static#e=this.\u0275fac=function(r){return new(r||t)(w(yp),w(co))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(r,o){1&r&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3,"Session settings"),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.save()}),Ue(6,"Save"),J()(),oe(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancel()}),Ue(9,"Cancel"),J()()()(),oe(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return o.onEnter()}),oe(12,"h1"),Ue(13,"Session"),J(),oe(14,"ion-item",6)(15,"ion-label",7),Ue(16,"Session name"),J(),lt(17,"ion-input",8),J(),oe(18,"h1"),Ue(19,"Device"),J(),oe(20,"ion-item",6)(21,"ion-label",7),Ue(22,"Device type"),J(),oe(23,"ion-select",9),Qt(24,L8,2,2,"ion-select-option",10),J()(),oe(25,"ion-item",6)(26,"ion-label",7),Ue(27,"Orientation"),J(),oe(28,"ion-select",11),Qt(29,$8,2,2,"ion-select-option",10),J()(),oe(30,"ion-item",6)(31,"ion-label",12),Ue(32),J(),lt(33,"ion-range",13),J(),oe(34,"h1"),Ue(35,"Hotsync"),J(),oe(36,"ion-item",6)(37,"ion-label"),Ue(38,"Manage hotsync name"),J(),lt(39,"ion-toggle",14),J(),Qt(40,B8,4,1,"ion-item",15),J()()),2&r&&(et(5),ot("disabled",o.formGroup.invalid),et(6),ot("formGroup",o.formGroup),et(13),ot("ngForOf",o.deviceList),et(5),ot("ngForOf",o.orientations),et(3),Ns(o.speedLabel),et(8),ot("ngIf",o.showHotsyncNameInput))},dependencies:[Zc,wi,ts,ns,rs,os,jl,mi,is,Cb,zm,Wm,ss,cp,as,Sd,ap,Bl,Fl,Rl,Ol,Zy,Ea,Za],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]})}return t})(),j8=(()=>{class t{constructor(e,r,o,i,s,a,c){this.emulationService=e,this.loadingController=r,this.snapshotService=o,this.fileService=i,this.emulationStateService=s,this.alertService=a,this.cloudpilotService=c}saveBackup(e){var r=this;return(0,re.Z)(function*(){const o=r.emulationStateService.getCurrentSession();if(!o)return;const i=yield r.loadingController.create({message:"Backing up..."});yield i.present();const s=[];let a;yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();try{const c=yield r.cloudpilotService.cloudpilot;yield c.backup(function(){var p=(0,re.Z)(function*(g){for(g.Init(e);g.IsInProgress();){const v=g.GetCurrentDatabase();g.Save()||s.push(v),yield new Promise(E=>setTimeout(E,0))}a=c.getArchive(g)});return function(g){return p.apply(this,arguments)}}())}finally{yield i.dismiss(),yield r.emulationService.resume()}a?s.length>0?yield r.alertService.message("Backup complete",`\n                    ${Gb(s)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>r.fileService.saveFile(ZM(o,e),a)},"Cancel"):r.fileService.saveFile(ZM(o,e),a):yield r.alertService.errorMessage("Backup failed.")})()}static#e=this.\u0275fac=function(r){return new(r||t)(de(el),de(Vl),de(vp),de(Ic),de(Ul),de(co),de(xa))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const V8=window.AudioContext||window.webkitAudioContext;function o0(t,n=100){return new Promise((e,r)=>{setTimeout(()=>r(new Error("timeout")),n),t.then(e,r)})}class U8{constructor(n){var e=this;this.emulationService=n,this.initialize=()=>this.mutex.runExclusive((0,re.Z)(function*(){if(!e.initialized){try{e.context=new V8}catch(r){return console.error(r),void console.error("web audio not available")}try{e.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield e.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}e.context.addEventListener("statechange",()=>{"interrupted"===e.context?.state&&e.updateState()}),e.gainNode=e.context.createGain(),e.gainNode.channelCount=1,e.gainNode.channelInterpretation="speakers",e.gainNode.gain.value=e.gain(),e.gainNode.connect(e.context.destination),e.applyPwmUpdate(),e.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,re.Z)(function*(){if(!e.context||e.isRunning()===e.shouldRun())return;!r&&!e.isRunning()&&e.shouldRun()&&e.applyPwmUpdate();const o=e.context.state;if(e.shouldRun())try{e.updateGain(),yield o0(e.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield o0(e.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${e.context.state}`)})),this.onPwmUpdate=function(){var r=(0,re.Z)(function*(o){e.pendingPwmUpdate=o,e.initialized&&(e.shouldRun()!==e.isRunning()&&e.updateState(!0),e.shouldRun()&&e.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Ka,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),ra||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(n){this.muted=n,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||ra||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var n=this;return(0,re.Z)(function*(){n.context&&(yield o0(n.context.resume()),n.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:n,dutyCycle:e}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,n<=0||e<=0||n>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/n),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<e?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let s0=(()=>{class t extends U8{constructor(e,r,o){super(e),this.kvs=r,this.modalWatcher=o,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}static#e=this.\u0275fac=function(r){return new(r||t)(de(el),de(ls),de(Wb))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_T=(()=>{class t{constructor(e,r){this.emulationService=e,this.ngZone=r,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=o=>{this.reset(),o&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!o&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}static#e=this.\u0275fac=function(r){return new(r||t)(de(el),de(ct))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function G8(t,n){if(1&t){const e=Rr();oe(0,"ion-item",4),at("click",function(){return mn(e),gn(Ut().power())}),oe(1,"ion-label"),Ue(2,"Power"),J(),lt(3,"ion-icon",5),J()}if(2&t){const e=Ut();ot("detail",!1)("disabled",!e.emulationService.isRunning())}}function z8(t,n){if(1&t){const e=Rr();oe(0,"ion-item",4),at("click",function(){return mn(e),gn(Ut().hotsync())}),oe(1,"ion-label"),Ue(2,"Hotsync"),J(),lt(3,"ion-icon",6),J()}if(2&t){const e=Ut();ot("detail",!1)("disabled",!e.emulationService.isRunning())}}function W8(t,n){if(1&t){const e=Rr();oe(0,"ion-item",4),at("click",function(){return mn(e),gn(Ut().reset())}),oe(1,"ion-label"),Ue(2,"Reset"),J(),lt(3,"ion-icon",7),J()}if(2&t){const e=Ut();ot("detail",!1)("disabled",!e.emulationService.isRunning())}}function Z8(t,n){if(1&t){const e=Rr();oe(0,"ion-item",8),at("click",function(){return mn(e),gn(Ut().insertCard())}),oe(1,"ion-label"),Ue(2),J(),lt(3,"ion-icon",9),J()}if(2&t){const e=Ut();ot("detail",!1),et(2),Ui("Insert ",e.hasMemorystick?"stick":"SD card","")}}function q8(t,n){if(1&t){const e=Rr();oe(0,"ion-item",8),at("click",function(){return mn(e),gn(Ut().ejectCard())}),oe(1,"ion-label"),Ue(2),J(),lt(3,"ion-icon",10),J()}if(2&t){const e=Ut();ot("detail",!1),et(2),Ui("Eject ",e.hasMemorystick?"stick":"SD card","")}}function Y8(t,n){if(1&t){const e=Rr();oe(0,"ion-item",8),at("click",function(){return mn(e),gn(Ut().mute(!1))}),oe(1,"ion-label"),Ue(2,"Enable audio"),J(),lt(3,"ion-icon",11),J()}2&t&&ot("detail",!1)}function X8(t,n){if(1&t){const e=Rr();oe(0,"ion-item",8),at("click",function(){return mn(e),gn(Ut().mute(!0))}),oe(1,"ion-label"),Ue(2,"Disable audio"),J(),lt(3,"ion-icon",12),J()}2&t&&ot("detail",!1)}function K8(t,n){if(1&t){const e=Rr();oe(0,"ion-item",4),at("click",function(){return mn(e),gn(Ut().backup())}),oe(1,"ion-label"),Ue(2,"Save backup"),J(),lt(3,"ion-icon",13),J()}if(2&t){const e=Ut();ot("detail",!1)("disabled",e.backupDisabled)}}function Q8(t,n){if(1&t){const e=Rr();oe(0,"ion-item",8),at("click",function(){return mn(e),gn(Ut().rotate())}),oe(1,"ion-label"),Ue(2,"Rotate"),J(),lt(3,"ion-icon",14),J()}2&t&&ot("detail",!1)}function J8(t,n){if(1&t){const e=Rr();oe(0,"ion-item",8),at("click",function(){return mn(e),gn(Ut().editSettings())}),oe(1,"ion-label"),Ue(2,"Settings"),J(),lt(3,"ion-icon",15),J()}2&t&&ot("detail",!1)}function ez(t){switch(t){case Gr.portrait:case void 0:return Gr.landscape90;case Gr.landscape90:return Gr.portrait180;case Gr.portrait180:return Gr.landscape270;case Gr.landscape270:return Gr.portrait;default:throw new Error("cannot happen")}}let tz=(()=>{class t{constructor(e,r,o,i,s,a,c,p,g,v,E,A,ne,ge,Oe,He,Ie,kt){this.emulationService=e,this.emulationStateService=r,this.backupService=o,this.buttonService=i,this.actionSheetController=s,this.popoverController=a,this.audioService=c,this.kvsService=p,this.modalController=g,this.sessionService=v,this.performanceWatchdogService=E,this.canvasDisplayService=A,this.cloudpilotService=ne,this.storageCardService=ge,this.alertService=Oe,this.alertController=He,this.storageService=Ie,this.errorService=kt,this.showHelp=()=>{}}reset(){var e=this;return(0,re.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,re.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function m5(t){switch(t){case ie.i705:case ie.i710:case ie.pegNR70:case ie.pegT650c:case ie.lp168:return!0;default:return!1}}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&VM(e.device)!==Td.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&VM(e.device)===Td.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,re.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;const o=r.speed,i=r.deviceOrientation,s=yield e.modalController.create({component:mT,backdropDismiss:!1,componentProps:{session:r,availableDevices:[r.device],onSave:(a=(0,re.Z)(function*(){o!==r.speed&&e.performanceWatchdogService.reset(),i!==r.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(r),s.dismiss()}),function(){return a.apply(this,arguments)}),onCancel:()=>s.dismiss()}});var a;yield e.popoverController.dismiss(),yield s.present()})()}rotate(){var e=this;return(0,re.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;yield e.storageService.updateSessionPartial(r.id,{deviceOrientation:ez(r.deviceOrientation)});const o=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,o),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,re.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const o=yield e.cloudpilotService.cloudpilot,i=e.storageCardService.getAllCards().filter(a=>o.deviceSupportsCardSize(a.size)&&!e.storageCardService.mountedInSession(a.id));0!==i.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>e.storageCardService.insertCard(a)}],inputs:i.map((a,c)=>({label:a.name,type:"radio",value:a.id,checked:0===c})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,re.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(r){e.errorService.fatalBug(r instanceof Error?r.message:"eject failed")}e.popoverController.dismiss()})()}static#e=this.\u0275fac=function(r){return new(r||t)(w(el),w(Ul),w(j8),w(JM),w(pp),w(ou),w(s0),w(ls),w(ys),w(yp),w(_T),w(pg),w(xa),w(Ad),w(co),w(ru),w(nr),w(su))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(r,o){1&r&&(oe(0,"ion-list"),Qt(1,G8,4,2,"ion-item",0),Qt(2,z8,4,2,"ion-item",0),Qt(3,W8,4,2,"ion-item",0),Qt(4,Z8,4,2,"ion-item",1),Qt(5,q8,4,2,"ion-item",1),Qt(6,Y8,4,1,"ion-item",1),Qt(7,X8,4,1,"ion-item",1),Qt(8,K8,4,2,"ion-item",0),Qt(9,Q8,4,1,"ion-item",1),Qt(10,J8,4,1,"ion-item",1),oe(11,"ion-item",2),at("click",function(){return o.help()}),oe(12,"ion-label"),Ue(13,"Help"),J(),lt(14,"ion-icon",3),J()()),2&r&&(et(1),ot("ngIf",o.hasActiveSession&&!o.powerDisabled),et(1),ot("ngIf",o.hasActiveSession),et(1),ot("ngIf",o.hasActiveSession),et(1),ot("ngIf",o.supportsStorageCard&&!o.hasMountedCard),et(1),ot("ngIf",o.supportsStorageCard&&o.hasMountedCard),et(1),ot("ngIf",o.isMuted&&!o.isAudioOff),et(1),ot("ngIf",!o.isMuted&&!o.isAudioOff),et(1),ot("ngIf",o.hasActiveSession),et(1),ot("ngIf",o.hasActiveSession),et(1),ot("ngIf",o.hasActiveSession),et(1),ot("detail",!1))},dependencies:[wi,Ei,mi,is,Xa]})}return t})();class nz{constructor(n,e){this.emulationService=n,this.canvasDisplayService=e,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const c=this.determineArea(a);if(2===c){const p=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:c,buttonPrimary:p}),this.handleButtonDown(p)}else this.interactionsTouch.set(s.identifier,{area:c}),this.emulationService.handlePointerMove(...a,1===c)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const c=a.area;switch(c){case 2:{const p=this.canvasDisplayService.eventToPalmCoordinates(s);if(!p||2!==this.determineArea(p)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const g=this.canvasDisplayService.determineButton(p);g===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):g!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=g,this.handleButtonDown(g));break}case 0:case 1:{const p=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!p)continue;this.emulationService.handlePointerMove(...p,1===c);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(n,e=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=n,this.keyEventTarget=e||window,this.addEventListener(n,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(n,"touchstart",this.handleTouchStart),this.addEventListener(n,"touchmove",this.handleTouchMove),this.addEventListener(n,"touchend",this.handleTouchEnd),this.addEventListener(n,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const n of this.activeButtons)this.handleButtonUp(n);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(n){this.gameMode=n,this.onToggleGameMode()}setGameModeHotkeyEnabled(n){this.enableGamemodeHotkey=n}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(n,e,r,o){n.addEventListener(e,r,o)}removeEventListener(n,e,r,o){n.removeEventListener(e,r,o)}determineArea(n){return this.canvasDisplayService.isButtons(n)?2:this.canvasDisplayService.isSilkscreen(n)?1:0}handleButtonDown(n){this.activeButtons.has(n)||(this.activeButtons.add(n),this.emulationService.handleButtonDown(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(n){void 0===n||!this.activeButtons.has(n)||(this.activeButtons.delete(n),this.emulationService.handleButtonUp(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(n){return this.isGameModeHotkeyEnabled()&&("Shift"===n.key&&n.ctrlKey||"Control"===n.key&&n.shiftKey)}isGameModeActive(n){return!this.gameMode&&n.ctrlKey||this.gameMode&&!n.ctrlKey}buttonFromEvent(n){switch(n.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(n))switch(n.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(n){if(!this.isGameModeActive(n)){if(1===n.key.length&&n.key.charCodeAt(0)<=255)return n.key.charCodeAt(0);switch(n.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let rz=(()=>{class t extends nz{constructor(e,r,o,i,s){super(e,r),this.modalWatcher=o,this.ngZone=i,this.app=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,r,o,i){this.ngZone.runOutsideAngular(()=>e.addEventListener(r,o,i))}static#e=this.\u0275fac=function(r){return new(r||t)(de(el),de(pg),de(Wb),de(ct),de(Ha))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vT(t){return/\.(prc|pdb|pqa)$/i.test(t)}class lz{constructor(n,e,r,o){this.cloudpilotService=n,this.alertController=e,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var n=this;return(0,re.Z)(function*(){for(const e of n.files){let r;try{r=yield e.getContent()}catch(o){console.warn(o),n.filesFail.push(e.name);continue}if(/\.zip/i.test(e.name)&&r.length<33554432)try{yield n.installZip(e)}catch{n.filesFail.push(e.name)}else vT(e.name)?yield n.installOne(e.name,r):n.filesFail.push(e.name)}return[n.filesSuccess,n.filesRequireReset,n.filesFail]})()}installOne(n,e){var r=this;return(0,re.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(e);switch(i){case 2:r.filesRequireReset.push(n),r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;case 1:r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;default:r.filesFail.push(n),yield r.reportError(n,i)}if(2===i||1===i)try{const s=function az(t){if(t.length<32)throw new Error("not a database");let n;for(n=0;n<32&&0!==t[n];n++);if(n>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(t.subarray(0,n))}(e);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${n} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,n)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(n){var e=this;return(0,re.Z)(function*(){yield(yield e.cloudpilotService.cloudpilot).withZipfileWalker(yield n.getContent(),function(){var o=(0,re.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!vT(i.GetCurrentEntryName())){i.Next();continue}const c=i.GetCurrentEntryContent();c?(yield e.installOne(a,c),s++):e.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(n,e){return this.errorDialog("Item failed to install",`Could not install ${n}: ${function sz(t){switch(t){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(e)}.`)}errorDialog(n,e){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:n,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:new nu.I(e),buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}let cz=(()=>{class t{constructor(e,r,o,i,s,a){this.cloudpilotService=e,this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.alertService=s,this.alertController=a}installFiles(e){var r=this;return(0,re.Z)(function*(){const o=yield r.loadingController.create({message:"Installing..."});yield o.present(),yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();let i=[],s=[],a=[];try{[i,a,s]=yield new lz(r.cloudpilotService,r.alertController,r.snapshotService,e).run()}finally{o.dismiss(),r.emulationService.resume()}const c=[r.messageSucces(i),r.messageFailed(s),r.messageRequireReset(a)].filter(g=>!!g).join("<br/><br/>");let p;p=0===s.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",r.alertService.message(p,c,a.length>0?{"Reset now":()=>r.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${Gb(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${Gb(e)} require a device reset.`:void 0}static#e=this.\u0275fac=function(r){return new(r||t)(de(xa),de(el),de(Vl),de(vp),de(co),de(ru))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),a0=(()=>{class t{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const uz=["canvas"];function dz(t,n){if(1&t){const e=Rr();oe(0,"ion-button",5),at("click",function(){return mn(e),gn(Ut().navigation.lock())}),lt(1,"ion-icon",10),J()}}function fz(t,n){if(1&t){const e=Rr();oe(0,"ion-button",5),at("click",function(){return mn(e),gn(Ut().navigation.unlock())}),lt(1,"ion-icon",11),J()}}function pz(t,n){if(1&t){const e=Rr();oe(0,"ion-button",5),at("click",function(){return mn(e),gn(Ut().showGameModeHint())}),lt(1,"ion-icon",12),J()}}function hz(t,n){if(1&t){const e=Rr();oe(0,"ion-button",5),at("click",function(){return mn(e),gn(Ut().showProxyConnectedHint())}),lt(1,"ion-icon",13),J()}}function mz(t,n){if(1&t){const e=Rr();oe(0,"ion-button",5),at("click",function(){return mn(e),gn(Ut().showSlowdowndHint())}),lt(1,"ion-icon",14),J()}}function gz(t,n){if(1&t){const e=Rr();oe(0,"div",15),Ue(1," The device was reset forcefully. How do you want to boot? "),oe(2,"ion-button",16),at("click",function(){return mn(e),gn(Ut().bootAfterForcefulReset())}),Ue(3,"Normal boot"),J(),oe(4,"ion-button",16),at("click",function(){return mn(e),gn(Ut().bootAfterForcefulResetNoExtensions())}),Ue(5,"No extensions"),J(),oe(6,"ion-button",16),at("click",function(){return mn(e),gn(Ut().bootAfterForcefulResetHardReset())}),Ue(7,"Hard reset"),J()()}}function _z(t,n){1&t&&(oe(0,"div",15)(1,"div"),Ue(2,"No session selected"),J()())}let vz=(()=>{class t{constructor(e,r,o,i,s,a,c,p,g,v,E,A,ne,ge,Oe,He,Ie,kt){var gt=this;this.emulationService=e,this.emulationState=r,this.storageService=o,this.eventHandlingService=i,this.canvasDisplayService=s,this.kvsService=a,this.popoverController=c,this.modalController=p,this.alertService=g,this.fileService=v,this.snapshotService=E,this.installlationService=A,this.proxyService=ne,this.navigation=ge,this.linkApi=Oe,this.performanceWatchdogService=He,this.cloudpilotService=Ie,this.dragDropService=kt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,re.Z)(function*(){yield gt.emulationService.bootstrapComplete(),gt.boostrapComplete=!0;const Xt=gt.emulationState.getCurrentSession();Xt&&!Xt.wasResetForcefully&&(yield gt.launchEmulator()),gt.linkApi.installation.requestEvent.addHandler(gt.handleLinkApiInstallationRequest),gt.handleLinkApiInstallationRequest(),gt.dragDropService.registerClient(gt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Xt=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Xt,this.emulationService.getStatistics())},this.onNewFrame=Xt=>{this.canvasDisplayService.updateEmulationCanvas(Xt)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Xt=this.linkApi.installation.receivePendingUrl();Xt&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Xt} ?`,{OK:()=>this.fileService.openUrl(Xt,Io=>this.installlationService.installFiles([Io]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Xt} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Ka}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var r=this;return(0,re.Z)(function*(){(yield r.popoverController.create({component:tz,event:e,componentProps:{showHelp:()=>r.showHelp()},arrow:!1,translucent:!0})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,re.Z)(function*(){yield(yield e.modalController.create({component:au,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,re.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,re.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,re.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,re.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,re.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,re.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,re.Z)(function*(){const r=e.emulationState.getCurrentSession();r&&(yield e.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,re.Z)(function*(){const r=e.emulationState.getCurrentSession();r&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,r).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}static#e=this.\u0275fac=function(r){return new(r||t)(w(el),w(Ul),w(nr),w(rz),w(pg),w(ls),w(ou),w(ys),w(co),w(Ic),w(vp),w(cz),w(qb),w(r0),w(yy),w(_T),w(xa),w(a0))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-emulation"]],viewQuery:function(r,o){if(1&r&&zc(uz,5),2&r){let i;Js(i=ea())&&(o.canvasRef=i.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(r,o){if(1&r&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.installFiles()}),lt(6,"ion-icon",2),J(),Qt(7,dz,2,0,"ion-button",3),Qt(8,fz,2,0,"ion-button",3),J(),oe(9,"ion-buttons",4)(10,"ion-button",5),at("click",function(s){return o.openContextMenu(s)}),lt(11,"ion-icon",6),J(),Qt(12,pz,2,0,"ion-button",3),Qt(13,hz,2,0,"ion-button",3),Qt(14,mz,2,0,"ion-button",3),J()()(),oe(15,"ion-content")(16,"div",7),at("touchstart",function(s){return o.cancelIfEmulationActive(s)})("touchmove",function(s){return o.cancelIfEmulationActive(s)}),lt(17,"canvas",null,8),J(),Qt(19,gz,8,0,"div",9),Qt(20,_z,3,0,"div",9),J()),2&r){let i,s;et(3),Ns(o.title),et(2),ot("disabled",o.installFileDisabled),et(2),ot("ngIf",!o.navigation.isLocked()),et(1),ot("ngIf",o.navigation.isLocked()),et(4),ot("ngIf",o.eventHandlingService.isGameMode()),et(1),ot("ngIf",o.proxyService.isConnected()),et(1),ot("ngIf",o.performanceWatchdogService.isSlowdownDetected()),et(1),xl("locked",o.navigation.isLocked()),et(1),Qu("display",!o.emulationState.getCurrentSession()||null!=(i=o.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),et(1),Qu("width",o.cssWidth)("height",o.cssHeight)("display",o.emulationState.getCurrentSession()?"block":"none"),et(2),ot("ngIf",null!=(s=o.emulationState.getCurrentSession())&&s.wasResetForcefully?"none":void 0),et(1),ot("ngIf",!o.emulationState.getCurrentSession()&&o.boostrapComplete)}},dependencies:[wi,ts,ns,rs,os,Ei,ss,as],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]})}return t})();function l0(t,n,e){return()=>{const r=e();r!==n&&(t.markForCheck(),n=r)}}function yT(t,n){let e=t,r=1;for(;n(e);)e=`${t} (${r++})`;return e}let yz=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=m({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(r,o){1&r&&(oe(0,"ion-list")(1,"ion-item",0),at("click",function(){return o.onEdit()}),lt(2,"ion-icon",1),Ue(3," Edit "),J(),oe(4,"ion-item",0),at("click",function(){return o.onSave()}),lt(5,"ion-icon",2),Ue(6," Save "),J(),oe(7,"ion-item",0),at("click",function(){return o.onReset()}),lt(8,"ion-icon",3),Ue(9," Reset "),J(),oe(10,"ion-item",4),at("click",function(){return o.onDelete()}),lt(11,"ion-icon",5),Ue(12," Delete "),J()()),2&r&&(et(1),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1))},dependencies:[Ei,mi,Xa]})}return t})();const Cz=["slidingItem"];function wz(t,n){if(1&t&&(oe(0,"span"),Ue(1),J()),2&t){const e=Ut();et(1),Ui(", OS ",e.decodeVersion(null==e.session?null:e.session.osVersion),"")}}let Sz=(()=>{class t{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new Mn,this.resetSession=new Mn,this.edit=new Mn,this.save=new Mn,this.selectItem=new Mn,this.interaction=new Mn}get device(){return this.session?jM(this.session.device):""}onContextmenu(e){var r=this;return(0,re.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:yz,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.edit.emit(),onSave:()=>r.save.emit(),onDelete:()=>r.delete.emit(),onReset:()=>r.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(e){if(void 0===e)return"";const r=function bz(t){return{major:t>>>24&255,minor:t>>>20&15,fix:t>>>16&15,stage:t>>>12&15,build:4095&t}}(e);return`${r.major}.${r.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}static#e=this.\u0275fac=function(r){return new(r||t)(w(ou))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-session-item"]],viewQuery:function(r,o){if(1&r&&zc(Cz,5),2&r){let i;Js(i=ea())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(r,o){if(1&r){const i=Rr();oe(0,"ion-item-sliding",0,1),at("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),oe(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return mn(i),Fs(1).close(),gn(o.edit.emit(o.session))}),lt(4,"ion-icon",4),J(),oe(5,"ion-item-option",5),at("click",function(){return mn(i),Fs(1).close(),gn(o.save.emit(o.session))}),lt(6,"ion-icon",6),J()(),oe(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return mn(i),Fs(1).close(),gn(o.resetSession.emit(o.session))}),lt(9,"ion-icon",9),J(),oe(10,"ion-item-option",10),at("click",function(){return mn(i),Fs(1).close(),gn(o.delete.emit(o.session))}),lt(11,"ion-icon",11),J()(),oe(12,"ion-item",12),at("click",function(){return o.selectItem.emit()}),oe(13,"ion-label")(14,"h2"),Ue(15),J(),oe(16,"p"),Ue(17),Qt(18,wz,2,1,"span",13),J()()()()}2&r&&(et(12),ot("color",o.color),et(1),xl("in-item-color",o.selected),et(2),Ns(null==o.session?null:o.session.name),et(2),gf("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),et(1),ot("ngIf",null==o.session?null:o.session.osVersion))},dependencies:[wi,Ei,mi,Um,Hm,Gm,is],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0})}return t})();function Ez(t,n){1&t&&(oe(0,"div",10),lt(1,"ion-spinner"),J())}function Dz(t,n){1&t&&(oe(0,"div",11)(1,"div",12),Ue(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),lt(3,"br")(4,"br"),Ue(5," You can find a collection of compatible ROMs on "),oe(6,"a",13),Ue(7,"PalmDB"),J(),Ue(8,". "),J()())}function Iz(t,n){if(1&t){const e=Rr();oe(0,"app-session-item",15),at("delete",function(){const i=mn(e).$implicit;return gn(Ut(2).deleteSession(i))})("selectItem",function(){const i=mn(e).$implicit;return gn(Ut(2).launchSession(i))})("edit",function(){const i=mn(e).$implicit;return gn(Ut(2).editSession(i))})("save",function(){const i=mn(e).$implicit;return gn(Ut(2).saveSession(i))})("resetSession",function(){const i=mn(e).$implicit;return gn(Ut(2).resetSession(i))})("interaction",function(){const i=mn(e).$implicit;return gn(Ut(2).lastSessionTouched=i.id)}),J()}if(2&t){const e=n.$implicit,r=Ut(2);ot("session",e)("selected",r.currentSessionId===e.id)("touched",e.id===r.lastSessionTouched)}}function xz(t,n){if(1&t&&(oe(0,"ion-list"),Qt(1,Iz,1,3,"app-session-item",14),J()),2&t){const e=Ut();et(1),ot("ngForOf",e.sessions)("ngForTrackBy",e.trackSessionBy)}}class Gl{constructor(n,e,r,o,i,s,a,c,p,g,v,E,A){this.sessionService=n,this.fileService=e,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=c,this.linkApi=p,this.router=g,this.cloudpilotService=v,this.dragDropService=E,this.cd=A,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const ne=this.linkApi.import.receivePendingUrl();ne&&this.alertService.message("Import request",`Do you want to import<br>${ne} ?`,{OK:()=>this.fileService.openUrl(ne,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=l0(A,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((n,e)=>n.name.localeCompare(e.name))}deleteSession(n){var e=this;return(0,re.Z)(function*(){yield(yield e.alertController.create({header:"Warning",message:`Deleting the session '${n.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>e.sessionService.deleteSession(n)}],backdropDismiss:!1})).present()})()}editSession(n){var e=this;return(0,re.Z)(function*(){const r={...n};(yield e.editSettings(n))&&!nT()(n,r)&&(yield e.sessionService.updateSession(n))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(n){return this.fileService.saveSession(n)}trackSessionBy(n,e){return e.id}launchSession(n){var e=this;return(0,re.Z)(function*(){e.lastSessionTouched=n.id,e.currentSessionOverride=n.id,e.cd.markForCheck();const r=yield e.emulationService.switchSession(n.id);e.currentSessionOverride=void 0,e.cd.markForCheck(),r&&e.router.navigateByUrl("/tab/emulation")})()}resetSession(n){var e=this;return(0,re.Z)(function*(){const r=n.id===e.emulationState.getCurrentSession()?.id;r&&(yield e.emulationService.stop()),yield e.storageService.deleteStateForSession(n),yield e.storageService.updateSessionPartial(n.id,{wasResetForcefully:!0}),r&&(yield e.emulationService.switchSession(n.id)),yield(yield e.alertController.create({header:"Done",message:`Session ${n.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var n=this;return(0,re.Z)(function*(){yield(yield n.modalController.create({component:au,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(n){this.fileService.openFromDrop(n,this.handleDropFiles.bind(this))}handleDropFiles(n){if(0!==n.length){if(n.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(n[0])}}processFile(n){var e=this;return(0,re.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(n.name))return void e.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");let r;try{r=yield n.getContent()}catch(i){return console.warn(i),void(yield e.alertService.errorMessage(`Unable to open ${n.name}.`))}const o=(yield e.cloudpilotService.cloudpilot).deserializeSessionImage(r);if(o){const i={name:e.disambiguateSessionName(o.metadata?.name??n.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield e.editSettings(i)){const s=yield e.sessionService.addSessionFromImage(o,i.name,i);e.lastSessionTouched=s.id}}else{const i=(yield e.cloudpilotService.cloudpilot).getRomInfo(r);if(!i)return void e.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void e.alertService.errorMessage("No supported device for this ROM.");const s={name:e.disambiguateSessionName(n.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield e.editSettings(s,i.supportedDevices)){const a=yield e.sessionService.addSessionFromRom(r,s.name,s.device,s);e.lastSessionTouched=a.id}}})()}editSettings(n,e=[n.device]){return new Promise(r=>{let o;this.modalController.create({component:mT,backdropDismiss:!1,componentProps:{session:n,availableDevices:e,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(n){const e=this.sessionService.getSessions();return yT(n,r=>e.some(o=>o.name===r))}static#e=this.\u0275fac=function(e){return new(e||Gl)(w(yp),w(Ic),w(ru),w(co),w(el),w(Ul),w(nr),w(ys),w(yy),w(ii),w(xa),w(a0),w(xt))};static#t=this.\u0275cmp=m({type:Gl,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,r){1&e&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3,"Sessions"),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return r.importSession()}),lt(6,"ion-icon",2),J()(),oe(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return r.showHelp()}),lt(9,"ion-icon",4),J(),lt(10,"app-pwa-prompt"),J()()(),oe(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ue(15,"Sessions"),J()()(),Qt(16,Ez,2,0,"div",7),Qt(17,Dz,9,0,"div",8),Qt(18,xz,2,2,"ion-list",9),J()),2&e&&(et(16),ot("ngIf",r.sessionService.isLoading()),et(1),ot("ngIf",!r.sessionService.isLoading()&&0===r.sessions.length),et(1),ot("ngIf",!r.sessionService.isLoading()&&r.sessions.length>0))},dependencies:[Zc,wi,ts,ns,rs,os,Ei,Xa,lp,ss,as,hg,Sz],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]})}U([mo()],Gl.prototype,"deleteSession",null),U([mo()],Gl.prototype,"editSession",null),U([mo()],Gl.prototype,"saveSession",null),U([mo()],Gl.prototype,"launchSession",null),U([mo()],Gl.prototype,"resetSession",null);const bT="reduced-animations",kz=t=>(t.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",t.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,vb.c)()),Mz=t=>{t.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const n=t.querySelector(".loading-wrapper");return n.style.transform="scale(1)",n.style.opacity="1",(0,vb.c)()},Tz=t=>{t.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const n=t.querySelector(".alert-wrapper");return n.style.transform="scale(1)",n.style.opacity="1",(0,vb.c)()};function c0(t){localStorage.setItem(bT,t?"1":"0")}function CT(){const t=localStorage.getItem(bT);if(null===t){const n=CM&&!ra;return c0(n),n}return"1"===t}function Az(){return CT()?{actionSheetEnter:kz,loadingEnter:Mz,alertEnter:Tz}:{}}function Pz(t,n){1&t&&(oe(0,"ion-item",7)(1,"ion-label"),Ue(2,"Clipboard integration"),J(),lt(3,"ion-toggle",18),J())}function Rz(t,n){if(1&t){const e=Rr();oe(0,"ion-item",7)(1,"ion-label",19),Ue(2,"Proxy server"),J(),oe(3,"div",20),lt(4,"ion-input",21),oe(5,"ion-button",22),at("click",function(o){mn(e);const i=Ut();return o.preventDefault(),o.stopPropagation(),gn(i.testProxyConnection())})("touchstart",function(o){mn(e);const i=Ut();return o.preventDefault(),o.stopPropagation(),gn(i.testProxyConnection())}),Ue(6," Test "),J()()()}if(2&t){const e=Ut();et(5),ot("disabled",!e.proxyServerValid)}}function Oz(t,n){1&t&&(Yu(0),oe(1,"h1"),Ue(2,"Debug"),J(),oe(3,"ion-item",7)(4,"ion-label"),Ue(5,"Snapshot validation (slow)"),J(),lt(6,"ion-toggle",23),J(),Xu())}let Fz=(()=>{class t{constructor(e,r,o,i,s){this.modalController=e,this.kvsService=r,this.clipboardService=o,this.alertService=i,this.proxyService=s,this.onAudioOnStartChange=a=>{this.kvsService.kvs.enableAudioOnFirstInteraction=a,a&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event).\n            <br><br>\n            This option will take effect the next time\n            Coudpilot is restarts.\n        ")},this.onReducedAnimationsChange=a=>{c0(a),this.alertService.message("Reduce animations",a?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                Coudpilot is restarts.\n            ":"\n                This option will only take effect the next time Coudpilot is restarts.\n            ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,re.Z)(function*(){yield(yield e.modalController.create({component:au,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,re.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:e.formGroup.get("snapshotIntegrityCheck")?.value}),c0(e.formGroup.get("reducedAnimations")?.value),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,re.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}get showDebugOptions(){return Ia.debug}createFormGroup(){this.formGroup=new gm({volume:new oi(this.kvsService.kvs.volume),showStatistics:new oi(this.kvsService.kvs.showStatistics),runHidden:new oi(this.kvsService.kvs.runHidden),clipboardIntegration:new oi(this.kvsService.kvs.clipboardIntegration),networkRedirection:new oi(this.kvsService.kvs.networkRedirection),proxyServer:new oi(this.kvsService.kvs.proxyServer,{validators:[j5]}),autoLockUI:new oi(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new oi(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new oi(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new oi(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new oi(CT())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange)}static#e=this.\u0275fac=function(r){return new(r||t)(w(ys),w(ls),w(KM),w(co),w(qb))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-settings"]],decls:56,vars:4,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["formControlName","snapshotIntegrityCheck"]],template:function(r,o){1&r&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3,"Settings"),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.showHelp()}),lt(6,"ion-icon",2),J(),lt(7,"app-pwa-prompt"),J()()(),oe(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),Ue(12,"Settings"),J()()(),oe(13,"div",5)(14,"form",6)(15,"h1"),Ue(16,"Emulation"),J(),oe(17,"ion-item",7)(18,"ion-label"),Ue(19,"Volume"),J(),lt(20,"ion-range",8),J(),oe(21,"ion-item",7)(22,"ion-label"),Ue(23,"Enable audio on start"),J(),lt(24,"ion-toggle",9),J(),oe(25,"ion-item",7)(26,"ion-label"),Ue(27,"Run when hidden"),J(),lt(28,"ion-toggle",10),J(),oe(29,"h1"),Ue(30,"Host integration"),J(),Qt(31,Pz,4,0,"ion-item",11),oe(32,"ion-item",7)(33,"ion-label"),Ue(34,"Network redirection"),J(),lt(35,"ion-toggle",12),J(),Qt(36,Rz,7,1,"ion-item",11),oe(37,"h1"),Ue(38,"UI"),J(),oe(39,"ion-item",7)(40,"ion-label"),Ue(41,"Auto-lock UI"),J(),lt(42,"ion-toggle",13),J(),oe(43,"ion-item",7)(44,"ion-label"),Ue(45,"Reduce animations"),J(),lt(46,"ion-toggle",14),J(),oe(47,"ion-item",7)(48,"ion-label"),Ue(49,"Show statistics"),J(),lt(50,"ion-toggle",15),J(),oe(51,"ion-item",7)(52,"ion-label"),Ue(53,"Open from remote sources"),J(),lt(54,"ion-toggle",16),J(),Qt(55,Oz,7,0,"ng-container",17),J()()()),2&r&&(et(14),ot("formGroup",o.formGroup),et(17),ot("ngIf",o.clipboardService.isSupported()),et(5),ot("ngIf",o.showProxyServer),et(19),ot("ngIf",o.showDebugOptions))},dependencies:[wi,Fl,Rl,Ol,ts,ns,rs,os,Ei,jl,mi,is,Cb,ss,cp,as,Sd,ap,Bl,hg,Ea,Za],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]})}return t})(),u0=(()=>{class t{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=qt({name:"cardSize",type:t,pure:!0})}return t})();function Nz(t,n){1&t&&(oe(0,"div",13)(1,"b"),Ue(2,"WARNING:"),J(),Ue(3," This image cannot be used as a memory stick image."),J())}let wT=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value&&o.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new hc({name:new _s("",{nonNullable:!0,validators:[Ff.required,this.validateNameUnique]}),size:new _s({value:"dummy",disabled:!0}),checkAutomatically:new _s(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}static#e=this.\u0275fac=function(r){return new(r||t)(w(Ad))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(r,o){1&r&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.save()}),Ue(6,"Save"),J()(),oe(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancel()}),Ue(9,"Cancel"),J()()()(),oe(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return o.onEnter()}),oe(12,"ion-item",6)(13,"ion-label",7),Ue(14,"Card name"),J(),lt(15,"ion-input",8),J(),oe(16,"ion-item",6)(17,"ion-label",7),Ue(18,"Card size"),J(),oe(19,"ion-select",9)(20,"ion-select-option",10),Ue(21),Va(22,"cardSize"),J()()(),oe(23,"ion-item",6)(24,"ion-label"),Ue(25,"Check for errors automatically"),J(),lt(26,"ion-toggle",11),J()(),Qt(27,Nz,4,0,"div",12),J()),2&r&&(et(3),Ns(o.newCard?"New memory card":"Edit memory card"),et(2),ot("disabled",o.formGroup.invalid),et(6),ot("formGroup",o.formGroup),et(10),Ui("",Ua(22,5,null==o.card?null:o.card.size)," "),et(6),ot("ngIf",!o.memoryStickSupported))},dependencies:[wi,ts,ns,rs,os,jl,mi,is,zm,Wm,ss,cp,as,Sd,ap,Bl,Fl,Rl,Ol,Ea,Za,u0],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]})}return t})();function Lz(t,n){if(1&t&&(oe(0,"ion-select-option",12),Ue(1),Va(2,"cardSize"),J()),2&t){const e=n.$implicit,r=Ut();ot("value",e),et(1),Ui("",Ua(2,2,r.sizeBytes(e))," ")}}const $z=[si.mb4,si.mb8,si.mb16,si.mb32,si.mb64,si.mb128];let Bz=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new hc({name:new _s("",{nonNullable:!0,validators:[Ff.required,this.validateNameUnique]}),size:new _s(si.mb32,{nonNullable:!0}),checkAutomatically:new _s(!0,{nonNullable:!0})})}get sizes(){return $z}sizeBytes(e){return function t8(t){switch(t){case si.mb4:return 4046848;case si.mb8:return 8110080;case si.mb16:return 16220160;case si.mb32:return 32473088;case si.mb64:return 64978944;case si.mb128:return 129990656;default:throw new Error(`bad card size ${t}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}static#e=this.\u0275fac=function(r){return new(r||t)(w(Ad))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(r,o){1&r&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3,"New memory card"),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.create()}),Ue(6,"Create"),J()(),oe(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancel()}),Ue(9,"Cancel"),J()()()(),oe(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return o.onEnter()}),oe(12,"ion-item",6)(13,"ion-label",7),Ue(14,"Card name"),J(),lt(15,"ion-input",8),J(),oe(16,"ion-item",6)(17,"ion-label",7),Ue(18,"Card size"),J(),oe(19,"ion-select",9),Qt(20,Lz,3,4,"ion-select-option",10),J()(),oe(21,"ion-item",6)(22,"ion-label"),Ue(23,"Check for errors automatically"),J(),lt(24,"ion-toggle",11),J()()()),2&r&&(et(5),ot("disabled",o.formGroup.invalid),et(6),ot("formGroup",o.formGroup),et(9),ot("ngForOf",o.sizes))},dependencies:[Zc,ts,ns,rs,os,jl,mi,is,zm,Wm,ss,cp,as,Sd,ap,Bl,Fl,Rl,Ol,Ea,Za,u0]})}return t})(),jz=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=m({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(r,o){1&r&&(oe(0,"ion-list")(1,"ion-item",0),at("click",function(){return o.onEdit()}),lt(2,"ion-icon",1),Ue(3," Edit "),J(),oe(4,"ion-item",0),at("click",function(){return o.onSave()}),lt(5,"ion-icon",2),Ue(6," Save "),J(),oe(7,"ion-item",0),at("click",function(){return o.onCheck()}),lt(8,"ion-icon",3),Ue(9," Check "),J(),oe(10,"ion-item",4),at("click",function(){return o.onDelete()}),lt(11,"ion-icon",5),Ue(12," Delete "),J()()),2&r&&(et(1),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1))},dependencies:[Ei,mi,Xa]})}return t})(),Vz=(()=>{class t{constructor(e,r){this.storageCardService=e,this.popoverController=r,this.touched=!1,this.interaction=new Mn,this.selectCard=new Mn,this.edit=new Mn,this.check=new Mn,this.delete=new Mn,this.save=new Mn}onContextmenu(e){var r=this;return(0,re.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:jz,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.edit.emit(r.card),onSave:()=>r.save.emit(r.card),onCheck:()=>r.check.emit(),onDelete:()=>r.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case $r.dirty:return"needs check";case $r.clean:return"no errors";case $r.unformatted:return"no filesystem";case $r.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}static#e=this.\u0275fac=function(r){return new(r||t)(w(Ad),w(ou))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(r,o){if(1&r){const i=Rr();oe(0,"ion-item-sliding",0,1),at("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),oe(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return mn(i),Fs(1).close(),gn(o.edit.emit(o.card))}),lt(4,"ion-icon",4),J(),oe(5,"ion-item-option",5),at("click",function(){return mn(i),Fs(1).close(),gn(o.save.emit(o.card))}),lt(6,"ion-icon",6),J()(),oe(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return mn(i),Fs(1).close(),gn(o.check.emit(o.card))}),lt(9,"ion-icon",9),J(),oe(10,"ion-item-option",10),at("click",function(){return mn(i),Fs(1).close(),gn(o.delete.emit(o.card))}),lt(11,"ion-icon",11),J()(),oe(12,"ion-item",12),at("click",function(){return o.selectCard.emit(),o.interaction.emit()}),oe(13,"ion-label")(14,"h2"),Ue(15),J(),oe(16,"p"),Ue(17),Va(18,"cardSize"),J()()()()}2&r&&(et(12),ot("color",o.color),et(3),Ns(null==o.card?null:o.card.name),et(2),gf("",Ua(18,4,null==o.card?null:o.card.size),", ",o.status,""))},dependencies:[Ei,mi,Um,Hm,Gm,is,u0],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0})}return t})();function Uz(t,n){1&t&&(oe(0,"div",10),lt(1,"ion-spinner"),J())}function Hz(t,n){1&t&&(oe(0,"div",11)(1,"div",12),Ue(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),J()())}function Gz(t,n){if(1&t){const e=Rr();oe(0,"app-storage-card",14),at("delete",function(){const i=mn(e).$implicit;return gn(Ut(2).deleteCard(i))})("selectCard",function(){const i=mn(e).$implicit;return gn(Ut(2).selectCard(i))})("edit",function(){const i=mn(e).$implicit;return gn(Ut(2).editCard(i))})("check",function(){const i=mn(e).$implicit;return gn(Ut(2).checkCard(i))})("interaction",function(){const i=mn(e).$implicit;return gn(Ut(2).lastCardTouched=i.id)})("save",function(){const i=mn(e).$implicit;return gn(Ut(2).saveCard(i))}),J()}if(2&t){const e=n.$implicit,r=Ut(2);ot("card",e)("touched",e.id===r.lastCardTouched)}}function zz(t,n){if(1&t&&(oe(0,"ion-list"),Qt(1,Gz,1,2,"app-storage-card",13),J()),2&t){const e=Ut();et(1),ot("ngForOf",e.cards)("ngForTrackBy",e.trackCardBy)}}class tl{constructor(n,e,r,o,i,s,a,c,p,g){var v=this;this.actionSheetController=n,this.storageCardService=e,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=c,this.loadingController=p,this.handleCardImport=function(){var E=(0,re.Z)(function*(A){const ne=yield v.cloudpilotService.cloudpilot;let ge;try{ge=yield A.getContent()}catch(Ie){return console.warn(Ie),void(yield v.alertService.errorMessage(`Unable to open ${A.name}".`))}if(/\.gz$/.test(A.name)){const Ie=yield v.loadingController.create({message:"Unpacking..."});yield Ie.present();try{ge=yield function Y5(t){return Xb.apply(this,arguments)}(ge)}finally{yield Ie.dismiss()}}const Oe=ge?ne.getCardSupportLevel(ge.length):0;if(void 0===ge||0===Oe)return void v.alertService.errorMessage("This is not a supported card image.");const He=yield new Promise(function(){var Ie=(0,re.Z)(function*(kt){const gt=yield v.modalController.create({component:wT,backdropDismiss:!1,componentProps:{card:{name:v.disambiguateName(A.name.replace(/\.gz$/,"")),size:ge.length},cardSupportLevel:Oe,newCard:!0,onCancel:()=>{gt.dismiss(),kt(void 0)},onSave:Xt=>{kt(Xt),gt.dismiss()}}});yield gt.present()});return function(kt){return Ie.apply(this,arguments)}}());He&&(yield v.storageCardService.createCardFromImage(He.name,ge,!!He.dontFsckAutomatically))});return function(A){return E.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=l0(g,[],()=>this.storageCardService.getAllCards())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(n){this.fileService.openFromDrop(n,this.handleFilesFromDrop.bind(this))}addCardImage(){var n=this;return(0,re.Z)(function*(){(yield n.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>n.createNewCardImage()},{text:"Import an existing image",handler:()=>n.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var n=this;return(0,re.Z)(function*(){yield(yield n.modalController.create({component:au,componentProps:{url:"assets/doc/cards.md"}})).present()})()}selectCard(n){var e=this;return(0,re.Z)(function*(){(yield e.storageCardService.browseCard(n))&&e.onMountForBrowse(n)})()}editCard(n){var e=this;return(0,re.Z)(function*(){const r=yield e.cloudpilotService.cloudpilot,o=yield e.modalController.create({component:wT,backdropDismiss:!1,componentProps:{card:n,cardSupportLevel:r.getCardSupportLevel(n.size),onCancel:()=>o.dismiss(),onSave:(i=(0,re.Z)(function*(s){yield e.storageCardService.updateCard(n.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(n){var e=this;return(0,re.Z)(function*(){const r=`${ig(n.name.replace(/\.img$/,""))}.img`;yield(yield e.actionSheetController.create({header:"How do you want to save the image?",buttons:[{text:"Save gzip compressed image",handler:()=>e.storageCardService.saveCard(n.id,r,!0)},{text:"Save uncompressed image",handler:()=>e.storageCardService.saveCard(n.id,r,!1)},{text:"Cancel"}]})).present()})()}checkCard(n){return this.storageCardService.checkCard(n)}deleteCard(n){var e=this;return(0,re.Z)(function*(){var o;yield(yield e.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${n.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,re.Z)(function*(){try{yield e.storageCardService.deleteCard(n.id)}catch(i){e.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(n,e){return e.id}handleFilesFromDrop(n){if(0!==n.length){if(n.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(n[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var n=this;return(0,re.Z)(function*(){const e=yield n.modalController.create({component:Bz,backdropDismiss:!1,componentProps:{onCancel:()=>e.dismiss(),onCreate:(r=(0,re.Z)(function*(o,i,s){yield n.storageCardService.createEmptyCard(o,i,s),yield e.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield e.present()})()}disambiguateName(n){const e=this.storageCardService.getAllCards();return yT(n,r=>e.some(o=>o.name===r))}static#e=this.\u0275fac=function(e){return new(e||tl)(w(pp),w(Ad),w(ys),w(ru),w(xa),w(co),w(su),w(Ic),w(Vl),w(xt))};static#t=this.\u0275cmp=m({type:tl,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,r){1&e&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3,"Memory cards"),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return r.addCardImage()}),lt(6,"ion-icon",2),J()(),oe(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return r.showHelp()}),lt(9,"ion-icon",4),J(),lt(10,"app-pwa-prompt"),J()()(),oe(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ue(15,"Memory cards"),J()()(),Qt(16,Uz,2,0,"div",7),Qt(17,Hz,3,0,"div",8),Qt(18,zz,2,2,"ion-list",9),J()),2&e&&(et(16),ot("ngIf",r.storageCardService.isLoading()),et(1),ot("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),et(1),ot("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Zc,wi,ts,ns,rs,os,Ei,Xa,lp,ss,as,hg,Vz],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0})}function Wz(t,n){1&t&&lt(0,"ion-icon",8)}function Zz(t,n){1&t&&lt(0,"ion-icon",9)}function qz(t,n){1&t&&lt(0,"ion-icon",10)}function Yz(t,n){if(1&t){const e=Rr();oe(0,"ion-item",2),at("click",function(){const i=mn(e).index;return gn(Ut(2).onSelect(i))}),Yu(1,3),Qt(2,Wz,1,0,"ion-icon",4),Qt(3,Zz,1,0,"ion-icon",5),Qt(4,qz,1,0,"ion-icon",6),Xu(),oe(5,"div",7),Ue(6),J()()}if(2&t){const e=n.$implicit,r=n.index,o=Ut(2);ot("detail",!1)("lines",r===o.entries.length-1?"none":"full"),et(1),ot("ngSwitch",o.entries.length),et(1),ot("ngSwitchCase",r+1),et(1),ot("ngSwitchCase",r+2),et(3),Ns(e)}}function Xz(t,n){if(1&t&&(oe(0,"ion-list"),Qt(1,Yz,7,6,"ion-item",1),J()),2&t){const e=Ut();et(1),ot("ngForOf",e.entries)}}U([mo()],tl.prototype,"addCardImage",null),U([mo()],tl.prototype,"selectCard",null),U([mo()],tl.prototype,"editCard",null),U([mo()],tl.prototype,"saveCard",null),U([mo()],tl.prototype,"checkCard",null),U([mo()],tl.prototype,"deleteCard",null);let Kz=(()=>{class t{constructor(){this.onSelect=()=>{}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=m({type:t,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(r,o){1&r&&Qt(0,Xz,2,1,"ion-list",0),2&r&&ot("ngIf",o.entries)},dependencies:[Zc,wi,tm,M1,T1,Ei,mi,Xa],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}return t})(),Qz=(()=>{class t{constructor(e){this.vfsService=e,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}static#e=this.\u0275fac=function(r){return new(r||t)(w(uu))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(r,o){1&r&&(oe(0,"ion-list")(1,"ion-item",0),at("click",function(){return o.onStartSelection()}),lt(2,"ion-icon",1),Ue(3," Start selection "),J(),oe(4,"ion-item",2),at("click",function(){return o.onAddFiles()}),lt(5,"ion-icon",3),Ue(6," Add files "),J(),oe(7,"ion-item",2),at("click",function(){return o.onCreateDirectry()}),lt(8,"ion-icon",4),Ue(9," Add directory "),J(),oe(10,"ion-item",2),at("click",function(){return o.onExtractZipfile()}),lt(11,"ion-icon",5),Ue(12," Extract zip "),J(),oe(13,"ion-item",0),at("click",function(){return o.onPaste()}),lt(14,"ion-icon",6),Ue(15," Paste "),J(),oe(16,"ion-item",7),at("click",function(){return o.onHelp()}),lt(17,"ion-icon",8),Ue(18," Help "),J()()),2&r&&(et(1),ot("detail",!1)("disabled",o.emptyDirectory),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),et(3),ot("detail",!1))},dependencies:[Ei,mi,Xa]})}return t})();class Rd{constructor(n,e){this.modalController=n,this.vfsService=e,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new hc({name:new _s("",{nonNullable:!0,validators:[Ff.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new _s(!1,{nonNullable:!0}),attrHidden:new _s(!1,{nonNullable:!0}),attrSystem:new _s(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var n=this;return(0,re.Z)(function*(){yield n.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var n=this;return(0,re.Z)(function*(){yield n.save()})()}save(){var n=this;return(0,re.Z)(function*(){n.entry&&n.formGroup.valid&&(yield n.vfsService.updateFileEntry(n.entry.path,{name:n.formGroup.controls.name.value??"",attributes:{hidden:!!n.formGroup.controls.attrHidden.value,readonly:!!n.formGroup.controls.attrReadonly.value,system:!!n.formGroup.controls.attrSystem.value}}),n.onSave(),n.modalController.dismiss())})()}static#e=this.\u0275fac=function(e){return new(e||Rd)(w(ys),w(uu))};static#t=this.\u0275cmp=m({type:Rd,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,r){1&e&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return r.onSaveClick()}),Ue(6,"Save"),J()(),oe(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return r.onCancelClick()}),Ue(9,"Cancel"),J()()()(),oe(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return r.onEnter()}),oe(12,"ion-item",6)(13,"ion-label",7),Ue(14),J(),lt(15,"ion-input",8),J(),oe(16,"ion-item",6)(17,"h2"),Ue(18,"Attributes"),J()(),oe(19,"ion-item",6)(20,"ion-label"),lt(21,"ion-icon",9),Ue(22,"Readonly"),J(),lt(23,"ion-checkbox",10),J(),oe(24,"ion-item",6)(25,"ion-label"),lt(26,"ion-icon",11),Ue(27,"Hidden"),J(),lt(28,"ion-checkbox",12),J(),oe(29,"ion-item",6)(30,"ion-label"),lt(31,"ion-icon",13),Ue(32,"System"),J(),lt(33,"ion-checkbox",14),J()()()),2&e&&(et(3),Ui("Edit ",r.subjectName.toLowerCase(),""),et(2),ot("disabled",r.formGroup.invalid),et(6),ot("formGroup",r.formGroup),et(3),Ui("",r.subjectName," name"),et(1),xh("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[ts,ns,Nk,rs,os,Ei,jl,mi,is,ss,as,Sd,Bl,Fl,Rl,Ol,Ea,Za],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]})}U([mo()],Rd.prototype,"onSaveClick",null),U([mo()],Rd.prototype,"onEnter",null);let Jz=(()=>{class t{constructor(e,r){this.el=e,this.zone=r;const o=e.nativeElement.querySelector("input");o?o.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const e=this.el.nativeElement.querySelector("input");e&&(setTimeout(()=>e.focus(),100),this.observer?.disconnect())}static#e=this.\u0275fac=function(r){return new(r||t)(w(bt),w(ct))};static#t=this.\u0275dir=Ze({type:t,selectors:[["","appAutofocus",""]]})}return t})(),e9=(()=>{class t{constructor(e,r){this.vfsService=e,this.modalController=r,this.validateNameUnique=o=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(i=>i.name.toLocaleLowerCase()===o.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=o=>this.vfsService.isFilenameValid(o.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new hc({name:new _s("",{nonNullable:!0,validators:[Ff.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}static#e=this.\u0275fac=function(r){return new(r||t)(w(uu),w(ys))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(r,o){1&r&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ue(3,"Create directory"),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.onCreateClick()}),Ue(6,"Create"),J()(),oe(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancelClick()}),Ue(9,"Cancel"),J()()()(),oe(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return o.onEnter()}),oe(12,"ion-item",6)(13,"ion-label",7),Ue(14,"Directory name"),J(),lt(15,"ion-input",8),J()()()),2&r&&(et(5),ot("disabled",o.formGroup.invalid),et(6),ot("formGroup",o.formGroup))},dependencies:[ts,ns,rs,os,jl,mi,is,ss,as,Bl,Fl,Rl,Ol,Ea,Za,Jz]})}return t})();function ST(t){let n,e,r=!1;return o=>((!r||o!==n)&&(n=o,r=!0,e=t(o)),e)}let t9=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=m({type:t,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(r,o){1&r&&(oe(0,"ion-list")(1,"ion-item",0),at("click",function(){return o.onEdit()}),lt(2,"ion-icon",1),Ue(3," Edit "),J(),oe(4,"ion-item",0),at("click",function(){return o.onSave()}),lt(5,"ion-icon",2),Ue(6," Save "),J(),oe(7,"ion-item",0),at("click",function(){return o.onCopy()}),lt(8,"ion-icon",3),Ue(9," Copy "),J(),oe(10,"ion-item",0),at("click",function(){return o.onCut()}),lt(11,"ion-icon",4),Ue(12," Cut "),J(),oe(13,"ion-item",5),at("click",function(){return o.onDelete()}),lt(14,"ion-icon",6),Ue(15," Delete "),J()()),2&r&&(et(1),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1))},dependencies:[Ei,mi,Xa]})}return t})(),ET=(()=>{class t{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=qt({name:"fileSize",type:t,pure:!0})}return t})();const n9=["slidingItem"];function r9(t,n){1&t&&lt(0,"ion-icon",24)}function o9(t,n){1&t&&lt(0,"ion-icon",25)}function i9(t,n){1&t&&lt(0,"ion-icon",26)}function s9(t,n){1&t&&lt(0,"ion-icon",27)}function a9(t,n){1&t&&lt(0,"ion-icon",28)}function l9(t,n){1&t&&lt(0,"ion-icon",29)}function c9(t,n){1&t&&lt(0,"ion-icon",30)}function u9(t,n){1&t&&lt(0,"ion-icon",31)}function d9(t,n){1&t&&lt(0,"ion-icon",32)}function f9(t,n){if(1&t&&(Yu(0),Ue(1),Va(2,"fileSize"),Xu()),2&t){const e=Ut();et(1),Ui(" - ",Ua(2,1,null==e.entry?null:e.entry.size)," ")}}let p9=(()=>{class t{constructor(e,r,o){this.actionSheetController=e,this.popoverController=r,this.vfsService=o,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new Mn,this.selectEntry=new Mn,this.editEntry=new Mn,this.copyEntry=new Mn,this.cutEntry=new Mn,this.deleteEntry=new Mn,this.saveEntry=new Mn,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var r=this;return(0,re.Z)(function*(){r.selecting||(e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:t9,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.editEntry.emit(r.entry),onSave:()=>r.saveEntry.emit(r.entry),onCopy:()=>r.copyEntry.emit(r.entry),onCut:()=>r.cutEntry.emit(r.entry),onDelete:()=>r.deleteEntry.emit(r.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var e=this;return(0,re.Z)(function*(){const r=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${r}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${r}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let e=0;return this.entry?.attributes.readonly&&(e+=1.7),this.entry?.attributes.hidden&&(e+=1.7),this.entry?.attributes.system&&(e+=1.7),(this.markedForCopy||this.markedForCut)&&(e+=1.7),0===e?"0":(e+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,e+"em")}static#e=this.\u0275fac=function(r){return new(r||t)(w(pp),w(ou),w(uu))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-file-entry"]],viewQuery:function(r,o){if(1&r&&zc(n9,5),2&r){let i;Js(i=ea())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[Ne],decls:29,vars:21,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(r,o){if(1&r){const i=Rr();oe(0,"ion-item-sliding",0,1),at("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),oe(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return mn(i),Fs(1).close(),gn(o.editEntry.emit(o.entry))}),lt(4,"ion-icon",4),J(),oe(5,"ion-item-option",5),at("click",function(){return mn(i),Fs(1).close(),gn(o.saveEntry.emit(o.entry))}),lt(6,"ion-icon",6),J()(),oe(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return mn(i),Fs(1).close(),gn(o.cutOrCopyEntry())}),lt(9,"ion-icon",9),J(),oe(10,"ion-item-option",10),at("click",function(){return mn(i),Fs(1).close(),gn(o.deleteEntry.emit(o.entry))}),lt(11,"ion-icon",11),J()(),oe(12,"ion-item",12),at("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),Qt(13,r9,1,0,"ion-icon",13),Qt(14,o9,1,0,"ion-icon",14),oe(15,"div",15),Qt(16,i9,1,0,"ion-icon",16),Qt(17,s9,1,0,"ion-icon",17),Qt(18,a9,1,0,"ion-icon",18),Qt(19,l9,1,0,"ion-icon",19),Qt(20,c9,1,0,"ion-icon",20),J(),Qt(21,u9,1,0,"ion-icon",21),Qt(22,d9,1,0,"ion-icon",22),oe(23,"ion-label")(24,"h2"),Ue(25),J(),oe(26,"p"),Ue(27),Qt(28,f9,3,3,"ng-container",23),J()()()()}2&r&&(ot("disabled",o.selecting),et(12),Qu("opacity",o.touched?1:.99999),xl("is-directory",null==o.entry?null:o.entry.isDirectory),ot("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),et(1),ot("ngIf",null==o.entry?null:o.entry.isDirectory),et(1),ot("ngIf",!(null!=o.entry&&o.entry.isDirectory)),et(2),ot("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),et(1),ot("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),et(1),ot("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),et(1),ot("ngIf",o.markedForCopy),et(1),ot("ngIf",o.markedForCut),et(1),ot("ngIf",o.selecting&&!o.selected),et(1),ot("ngIf",o.selecting&&o.selected),et(1),Qu("margin-right",o.safetyMargin),et(2),Ns(null==o.entry?null:o.entry.name),et(2),Ui(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),et(1),ot("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[wi,Ei,mi,Um,Hm,Gm,is,ET],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{margin-right:7em}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0})}return t})();function h9(t,n){if(1&t){const e=Rr();oe(0,"ion-toolbar")(1,"ion-title",6),at("click",function(o){return mn(e),gn(Ut().openBreadcrumbMenu(o))}),oe(2,"div",7)(3,"div",8),Ue(4),J(),lt(5,"div",9),J()(),oe(6,"ion-buttons",10),lt(7,"ion-back-button"),J(),oe(8,"ion-buttons",11)(9,"ion-button",12),at("click",function(o){return mn(e),gn(Ut().openContextMenu(o,"trigger"))}),lt(10,"ion-icon",13),J()()()}if(2&t){const e=Ut();et(1),ot("id",e.breadcrumbTriggerId),et(3),Ns(e.title)}}function m9(t,n){if(1&t){const e=Rr();oe(0,"ion-buttons",15)(1,"ion-button",12),at("click",function(){return mn(e),gn(Ut(2).onSelectAll())}),Ue(2,"Select all"),J()()}}function g9(t,n){if(1&t){const e=Rr();oe(0,"ion-buttons",15)(1,"ion-button",12),at("click",function(){return mn(e),gn(Ut(2).selection.clear())}),Ue(2,"Clear"),J()()}}function _9(t,n){if(1&t){const e=Rr();oe(0,"ion-toolbar")(1,"ion-title"),Ue(2,"Selection"),J(),oe(3,"ion-buttons",11)(4,"ion-button",12),at("click",function(){return mn(e),gn(Ut().onSelectionDone())}),Ue(5),J()(),Qt(6,m9,3,0,"ion-buttons",14),Qt(7,g9,3,0,"ion-buttons",14),J()}if(2&t){const e=Ut();et(5),Ns(0===e.selection.size?"Cancel":"Done"),et(1),ot("ngIf",e.selection.size!==(null==e.entries?null:e.entries.length)),et(1),ot("ngIf",e.selection.size===(null==e.entries?null:e.entries.length))}}function v9(t,n){if(1&t&&(oe(0,"div",16)(1,"div",17),Ue(2),J()()),2&t){const e=Ut();et(2),Ui(" empty ",e.isRoot?"card":"directory"," ")}}function y9(t,n){if(1&t){const e=Rr();oe(0,"app-file-entry",18),at("selectEntry",function(){const i=mn(e).$implicit;return gn(Ut().onSelect(i))})("editEntry",function(){const i=mn(e).$implicit;return gn(Ut().onEditEntry(i))})("saveEntry",function(){const i=mn(e).$implicit;return gn(Ut().onSaveEntry(i))})("copyEntry",function(){const i=mn(e).$implicit;return gn(Ut().onCopyEntry(i))})("cutEntry",function(){const i=mn(e).$implicit;return gn(Ut().onCutEntry(i))})("deleteEntry",function(){const i=mn(e).$implicit;return gn(Ut().onDeleteEntry(i))})("interaction",function(){const i=mn(e).$implicit;return gn(Ut().lastEntryTouched=i.name)}),J()}if(2&t){const e=n.$implicit,r=Ut();ot("entry",e)("selecting","select"===r.mode)("selected",r.selection.has(e.name))("touched",e.name===r.lastEntryTouched)}}function b9(t,n){if(1&t&&(oe(0,"p"),Ue(1),Va(2,"fileSize"),Va(3,"fileSize"),J()),2&t){const e=Ut(2);et(1),gf(" ",Ua(2,2,e.bytesFree)," free, ",Ua(3,4,e.bytesTotal)," total ")}}function C9(t,n){if(1&t&&(oe(0,"p"),Ue(1),Va(2,"fileSize"),J()),2&t){const e=Ut(2);et(1),iv(" ",Ua(2,3,e.bytesInFiles)," in ",e.fileCount," ",1===e.fileCount?"file":"files"," ")}}function w9(t,n){if(1&t&&(oe(0,"ion-item",19)(1,"ion-label"),Qt(2,b9,4,6,"p",0),Qt(3,C9,3,5,"p",0),J()()),2&t){const e=Ut();et(2),ot("ngIf",e.isRoot),et(1),ot("ngIf",e.fileCount>0)}}function S9(t,n){return t.isDirectory&&!n.isDirectory?-1:!t.isDirectory&&n.isDirectory?1:t.name.localeCompare(n.name)}let E9=0;class Bs{constructor(n,e,r,o,i,s,a,c){this.vfsService=n,this.popoverController=e,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=c,this.bytesInFilesMemoized=ST(p=>p?.reduce((g,v)=>g+(v.isDirectory?0:v.size),0)??0),this.fileCountMemoized=ST(p=>p?.filter(g=>!g.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+E9++,this.checkEntries=l0(c,void 0,()=>void 0!==this.path?n.readdir(this.path):void 0)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries()}handleDragDropEvent(n){this.fileService.openFromDrop(n,e=>this.vfsService.addFiles(e,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const n=this.vfsService.splitPath(this.path);return n[n.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(S9):[]}trackEntryBy(n,e){return e.name}onSelect(n){"browse"===this.mode?n.isDirectory&&this.onNavigate(n.path):this.selection?.has(n.name)?this.selection.delete(n.name):this.selection.add(n.name)}onEditEntry(n){var e=this;return(0,re.Z)(function*(){yield(yield e.modalController.create({component:Rd,backdropDismiss:!1,componentProps:{entry:n}})).present()})()}onSaveEntry(n){var e=this;return(0,re.Z)(function*(){e.path&&(n.isDirectory?yield e.vfsService.archiveFiles([n],e.path):yield e.vfsService.saveFile(n))})()}onCopyEntry(n){this.path&&this.vfsService.copyToClipboard(this.path,[n.name],"copy")}onCutEntry(n){this.path&&this.vfsService.copyToClipboard(this.path,[n.name],"cut")}onDeleteEntry(n){var e=this;return(0,re.Z)(function*(){n.isDirectory?yield e.vfsService.deleteRecursive([n]):yield e.vfsService.unlinkEntry(n)})()}onAddFiles(){this.fileService.openFiles(n=>this.vfsService.addFiles(n,this.path||"/"))}onCreateDirectory(){var n=this;return(0,re.Z)(function*(){yield(yield n.modalController.create({component:e9,backdropDismiss:!1,componentProps:{parentPath:n.path,onCreate:r=>n.vfsService.mkdir(`${n.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var n=this;return(0,re.Z)(function*(){n.path&&(yield n.vfsService.paste(n.path))})()}onHelp(){var n=this;return(0,re.Z)(function*(){yield(yield n.modalController.create({component:au,componentProps:{url:"assets/doc/card-browser.md"}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var n=this;return(0,re.Z)(function*(){if(!n.entries)return;const e=Array.from(n.selection),r=new Map(n.entries.map(a=>[a.name,a])),o=e.every(a=>!r.get(a)?.isDirectory),i=e.every(a=>r.get(a)?.isDirectory);let s=`${n.selection.size} items`;if(o&&(s=1===n.selection.size?"file":`${n.selection.size} files`),i&&(s=1===n.selection.size?"directory":`${n.selection.size} directories`),0!==n.selection.size){const a=yield n.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:n.onCopySelection.bind(n)},{text:`Cut ${s}`,handler:n.onCutSelection.bind(n)},{text:`Save ${s} as zip`,handler:n.onSaveZip.bind(n)},{text:`Delete ${s}`,handler:n.onDeleteSelection.bind(n)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}n.mode="browse",n.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(n=>this.selection.add(n.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var n=this;return(0,re.Z)(function*(){const e=n.materializeSelection();!e||!n.path||(yield n.vfsService.archiveFiles(e,n.path))})()}onDeleteSelection(){var n=this;return(0,re.Z)(function*(){const e=n.materializeSelection();!e||!n.path||(yield n.vfsService.deleteRecursive(e))})()}openBreadcrumbMenu(n){var e=this;return(0,re.Z)(function*(){if(!e.card||!e.path)return;const r=[..."/"===e.path?[]:[...e.vfsService.splitPath(e.path).reverse().slice(1),e.card.name],"Memory cards"];(yield e.popoverController.create({component:Kz,event:n,componentProps:{entries:r,onSelect:i=>e.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===e.config.get("mode")?"center":"start",trigger:e.breadcrumbTriggerId})).present()})()}openContextMenu(n,e){var r=this;return(0,re.Z)(function*(){(yield r.popoverController.create({component:Qz,componentProps:{emptyDirectory:0===r.entries?.length,onStartSelection:r.onStartSelection.bind(r),onAddFiles:r.onAddFiles.bind(r),onCreateDirectry:r.onCreateDirectory.bind(r),onExtractZipfile:r.onExtractZipfile.bind(r),onPaste:r.onPaste.bind(r),onHelp:r.onHelp.bind(r)},event:n,dismissOnSelect:!0,arrow:!1,reference:e})).present()})()}onContextMenu(n){"select"!==this.mode&&(n.preventDefault(),this.openContextMenu(n,"event"))}materializeSelection(){if(!this.path)return;const n=new Map(this.vfsService.readdir(this.path).map(e=>[e.name,e]));return Array.from(this.selection).map(e=>n.get(e)).filter(e=>!!e)}extractZipArchive(n){var e=this;return(0,re.Z)(function*(){/\.zip$/.test(n.name)?e.vfsService.unpackArchive(yield n.getContent(),e.path||"/"):yield e.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}static#e=this.\u0275fac=function(e){return new(e||Bs)(w(uu),w(ou),w(wb),w(co),w(pp),w(ys),w(Ic),w(xt))};static#t=this.\u0275cmp=m({type:Bs,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,r){1&e&&(oe(0,"ion-header"),Qt(1,h9,11,2,"ion-toolbar",0),Qt(2,_9,8,3,"ion-toolbar",0),J(),oe(3,"ion-content",1),at("contextmenu",function(i){return r.onContextMenu(i)}),oe(4,"div",2),Qt(5,v9,3,1,"div",3),oe(6,"ion-list"),Qt(7,y9,1,4,"app-file-entry",4),Qt(8,w9,4,2,"ion-item",5),J()()()),2&e&&(et(1),ot("ngIf","browse"===r.mode),et(1),ot("ngIf","select"===r.mode),et(3),ot("ngIf",0===(null==r.entries?null:r.entries.length)),et(2),ot("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),et(1),ot("ngIf",r.isRoot||r.fileCount>0))},dependencies:[Zc,wi,Fk,ts,ns,rs,os,Ei,mi,is,Xa,ss,as,Qk,p9,ET],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0})}U([mo()],Bs.prototype,"onSaveEntry",null),U([mo()],Bs.prototype,"onDeleteEntry",null),U([mo()],Bs.prototype,"onCreateDirectory",null),U([mo()],Bs.prototype,"onPaste",null),U([mo()],Bs.prototype,"onHelp",null),U([mo()],Bs.prototype,"onSelectionDone",null),U([mo()],Bs.prototype,"onSaveZip",null),U([mo()],Bs.prototype,"onDeleteSelection",null);const D9=["nav"],I9=[{path:"tab",component:r0,children:[{path:"emulation",component:vz},{path:"sessions",component:Gl},{path:"storage",component:(()=>{class t{constructor(e,r){this.vfsService=e,this.dragDropService=r,this.navRootProps={onMountForBrowse:o=>this.browseCard(o),selfReference:{}},this.onNavigate=o=>{this.currentlyBrowsingCard&&this.nav?.push(Bs,{card:this.currentlyBrowsingCard,path:o,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=o=>{this.currentlyBrowsingCard&&this.nav?.popTo(o,{animated:this.animateNav})},this.navRoot=tl,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(e){var r=this;return(0,re.Z)(function*(){yield(yield r.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(e)})()}get animateNav(){return!yG}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Bs,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}static#e=this.\u0275fac=function(r){return new(r||t)(w(uu),w(a0))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-storage"]],viewQuery:function(r,o){if(1&r&&zc(D9,5),2&r){let i;Js(i=ea())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(r,o){1&r&&lt(0,"ion-nav",0,1),2&r&&ot("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[Lk,Jk]})}return t})()},{path:"settings",component:Fz},{path:"about",component:N8},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let x9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({imports:[Vm.forChild(I9),Vm]})}return t})(),k9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({imports:[yc,za,Qc,x9,M8,T8,A8,P8,k8]})}return t})(),M9=(()=>{class t extends h1{pushState(e,r,o,i){this.replaceState(e,r,o,i)}static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=ti(t)))(o||t)}}();static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const T9=[{path:"install",component:fT,canActivate:[pT]},{path:"import",component:fT,canActivate:[pT]},{path:"",component:r0}];let A9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=me({type:t});static#n=this.\u0275inj=yr({providers:[{provide:Ga,useClass:M9}],imports:[Vm.forRoot(T9,{preloadingStrategy:FV,useHash:!0}),k9,Vm]})}return t})();const DT=["touch","click","keydown"];let P9=(()=>{class t{constructor(e,r){this.kvsService=e,this.audioService=r,this.initialize()}initialize(){var e=this;return(0,re.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const r=()=>{DT.forEach(o=>window.removeEventListener(o,r,!0)),e.audioService.initialize()};DT.forEach(o=>window.addEventListener(o,r,!0))})()}static#e=this.\u0275fac=function(r){return new(r||t)(de(ls),de(s0))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const R9=()=>{const t=new Dd;return t.link=(n,e,r)=>`<a href="${n}" target="_blank" rel="external">${r||n}</a>`,{renderer:t,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}};let O9=(()=>{class t{constructor(e,r,o,i,s,a,c){}static#e=this.\u0275fac=function(r){return new(r||t)(de(nr),de(el),de(s0),de(yp),de(ls),de(dT),de(P9))};static#t=this.\u0275mod=me({type:t,bootstrap:[m8]});static#n=this.\u0275inj=yr({providers:[{provide:wk,useClass:FH},{provide:od,multi:!0,useFactory:e=>e.initialize.bind(e),deps:[ls]}],imports:[N4,yc.forRoot({...Az(),innerHTMLTemplatesEnabled:!0}),A9,p8.register("ngsw-worker.js",{enabled:Ia.production}),Ab.forRoot({loader:Sy,markedOptions:{provide:vM,useFactory:R9}}),mB]})}return t})();window.global=window,document.body.addEventListener("dblclick",t=>t.preventDefault()),function G4(){im=iI("#/install?"),sm=iI("#/import?")}(),function xG(){return!!localStorage.getItem(Jm)}()&&!sI()||function z4(){return void 0!==im}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",t=>t.preventDefault()),O4().bootstrapModule(O9).catch(t=>console.log(t))},2227:ke=>{var P,Le=(P=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(D={}){var ee,te,d=D;d.ready=new Promise((l,h)=>{ee=l,te=h});var H,Re,Pe,V=Object.assign({},d),N="./this.program",j=(l,h)=>{throw h},se="object"==typeof window,Q="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(se||Q)&&(Q?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),P&&($=P),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},Q&&(Pe=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Re=(l,h,y)=>{var T=new XMLHttpRequest;T.open("GET",l,!0),T.responseType="arraybuffer",T.onload=()=>{200==T.status||0==T.status&&T.response?h(T.response):y()},T.onerror=y,T.send(null)});var ae,z=d.print||console.log.bind(console),G=d.printErr||console.error.bind(console);Object.assign(d,V),V=null,d.thisProgram&&(N=d.thisProgram),d.quit&&(j=d.quit),d.wasmBinary&&(ae=d.wasmBinary);var Se=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Nn("no native wasm support detected");var ce,tt,le,ze,M,fe,Dt,rt=!1;function he(l,h){l||Nn(h)}function Wt(){var l=ce.buffer;d.HEAP8=le=new Int8Array(l),d.HEAP16=new Int16Array(l),d.HEAPU8=ze=new Uint8Array(l),d.HEAPU16=new Uint16Array(l),d.HEAP32=M=new Int32Array(l),d.HEAPU32=fe=new Uint32Array(l),d.HEAPF32=new Float32Array(l),d.HEAPF64=Dt=new Float64Array(l)}var Ve,Ce=[],We=[],nt=[],Nt=[],U=0,ln=null,Gt=null;function jn(l){U++,d.monitorRunDependencies&&d.monitorRunDependencies(U)}function rr(l){if(U--,d.monitorRunDependencies&&d.monitorRunDependencies(U),0==U&&(null!==ln&&(clearInterval(ln),ln=null),Gt)){var h=Gt;Gt=null,h()}}function Nn(l){d.onAbort&&d.onAbort(l),G(l="Aborted("+l+")"),rt=!0,tt=1,l+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(l);throw te(h),h}var hr;function vr(l){return l.startsWith("data:application/octet-stream;base64,")}function No(l){if(l==hr&&ae)return new Uint8Array(ae);if(Pe)return Pe(l);throw"both async and sync fetching of the wasm failed"}function go(l,h,y){return function ai(l){return ae||!se&&!Q||"function"!=typeof fetch?Promise.resolve().then(()=>No(l)):fetch(l,{credentials:"same-origin"}).then(h=>{if(!h.ok)throw"failed to load wasm binary file at '"+l+"'";return h.arrayBuffer()}).catch(()=>No(l))}(l).then(T=>WebAssembly.instantiate(T,h)).then(T=>T).then(y,T=>{G(`failed to asynchronously prepare wasm: ${T}`),Nn(T)})}vr(hr="cloudpilot_web.wasm")||(hr=function L(l){return d.locateFile?d.locateFile(l,$):$+l}(hr));var Xe,jt,Xr={1472568:l=>{Ve.grow(65536);for(let h=0;h<=65535;h++)Ve.set(Ve.length-65535-1+h,Ve.get(fe[(l>>>2)+h]));return Ve.length-65535-1}};function _o(l){this.name="ExitStatus",this.message=`Program terminated with exit(${l})`,this.status=l}var De=l=>{for(;l.length>0;)l.shift()(d)},Ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,yn=(l,h,y)=>{for(var T=h+y,q=h;l[q]&&!(q>=T);)++q;if(q-h>16&&l.buffer&&Ae)return Ae.decode(l.subarray(h,q));for(var ye="";h<q;){var Te=l[h++];if(128&Te){var Ne=63&l[h++];if(192!=(224&Te)){var At=63&l[h++];if((Te=224==(240&Te)?(15&Te)<<12|Ne<<6|At:(7&Te)<<18|Ne<<12|At<<6|63&l[h++])<65536)ye+=String.fromCharCode(Te);else{var Rn=Te-65536;ye+=String.fromCharCode(55296|Rn>>10,56320|1023&Rn)}}else ye+=String.fromCharCode((31&Te)<<6|Ne)}else ye+=String.fromCharCode(Te)}return ye},Tt=(l,h)=>l?yn(ze,l,h):"",Lt={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,h)=>{for(var y=0,T=l.length-1;T>=0;T--){var q=l[T];"."===q?l.splice(T,1):".."===q?(l.splice(T,1),y++):y&&(l.splice(T,1),y--)}if(h)for(;y;y--)l.unshift("..");return l},normalize:l=>{var h=Lt.isAbs(l),y="/"===l.substr(-1);return!(l=Lt.normalizeArray(l.split("/").filter(T=>!!T),!h).join("/"))&&!h&&(l="."),l&&y&&(l+="/"),(h?"/":"")+l},dirname:l=>{var h=Lt.splitPath(l),y=h[0],T=h[1];return y||T?(T&&(T=T.substr(0,T.length-1)),y+T):"."},basename:l=>{if("/"===l)return"/";var h=(l=(l=Lt.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?l:l.substr(h+1)},join:function(){var l=Array.prototype.slice.call(arguments);return Lt.normalize(l.join("/"))},join2:(l,h)=>Lt.normalize(l+"/"+h)},Tr=l=>(Tr=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return l=>crypto.getRandomValues(l);Nn("initRandomDevice")})())(l),er={resolve:function(){for(var l="",h=!1,y=arguments.length-1;y>=-1&&!h;y--){var T=y>=0?arguments[y]:x.cwd();if("string"!=typeof T)throw new TypeError("Arguments to path.resolve must be strings");if(!T)return"";l=T+"/"+l,h=Lt.isAbs(T)}return(h?"/":"")+(l=Lt.normalizeArray(l.split("/").filter(q=>!!q),!h).join("/"))||"."},relative:(l,h)=>{function y(Rn){for(var lr=0;lr<Rn.length&&""===Rn[lr];lr++);for(var gr=Rn.length-1;gr>=0&&""===Rn[gr];gr--);return lr>gr?[]:Rn.slice(lr,gr-lr+1)}l=er.resolve(l).substr(1),h=er.resolve(h).substr(1);for(var T=y(l.split("/")),q=y(h.split("/")),ye=Math.min(T.length,q.length),Te=ye,Ne=0;Ne<ye;Ne++)if(T[Ne]!==q[Ne]){Te=Ne;break}var At=[];for(Ne=Te;Ne<T.length;Ne++)At.push("..");return(At=At.concat(q.slice(Te))).join("/")}},Kr=[],xo=l=>{for(var h=0,y=0;y<l.length;++y){var T=l.charCodeAt(y);T<=127?h++:T<=2047?h+=2:T>=55296&&T<=57343?(h+=4,++y):h+=3}return h},Er=(l,h,y,T)=>{if(!(T>0))return 0;for(var q=y,ye=y+T-1,Te=0;Te<l.length;++Te){var Ne=l.charCodeAt(Te);if(Ne>=55296&&Ne<=57343&&(Ne=65536+((1023&Ne)<<10)|1023&l.charCodeAt(++Te)),Ne<=127){if(y>=ye)break;h[y++]=Ne}else if(Ne<=2047){if(y+1>=ye)break;h[y++]=192|Ne>>6,h[y++]=128|63&Ne}else if(Ne<=65535){if(y+2>=ye)break;h[y++]=224|Ne>>12,h[y++]=128|Ne>>6&63,h[y++]=128|63&Ne}else{if(y+3>=ye)break;h[y++]=240|Ne>>18,h[y++]=128|Ne>>12&63,h[y++]=128|Ne>>6&63,h[y++]=128|63&Ne}}return h[y]=0,y-q};function Ln(l,h,y){var T=y>0?y:xo(l)+1,q=new Array(T),ye=Er(l,q,0,q.length);return h&&(q.length=ye),q}var Vt={ttys:[],init(){},shutdown(){},register(l,h){Vt.ttys[l]={input:[],output:[],ops:h},x.registerDevice(l,Vt.stream_ops)},stream_ops:{open(l){var h=Vt.ttys[l.node.rdev];if(!h)throw new x.ErrnoError(43);l.tty=h,l.seekable=!1},close(l){l.tty.ops.fsync(l.tty)},fsync(l){l.tty.ops.fsync(l.tty)},read(l,h,y,T,q){if(!l.tty||!l.tty.ops.get_char)throw new x.ErrnoError(60);for(var ye=0,Te=0;Te<T;Te++){var Ne;try{Ne=l.tty.ops.get_char(l.tty)}catch{throw new x.ErrnoError(29)}if(void 0===Ne&&0===ye)throw new x.ErrnoError(6);if(null==Ne)break;ye++,h[y+Te]=Ne}return ye&&(l.node.timestamp=Date.now()),ye},write(l,h,y,T,q){if(!l.tty||!l.tty.ops.put_char)throw new x.ErrnoError(60);try{for(var ye=0;ye<T;ye++)l.tty.ops.put_char(l.tty,h[y+ye])}catch{throw new x.ErrnoError(29)}return T&&(l.node.timestamp=Date.now()),ye}},default_tty_ops:{get_char:l=>(()=>{if(!Kr.length){var l=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(l=window.prompt("Input: "))&&(l+="\n"):"function"==typeof readline&&null!==(l=readline())&&(l+="\n"),!l)return null;Kr=Ln(l,!0)}return Kr.shift()})(),put_char(l,h){null===h||10===h?(z(yn(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync(l){l.output&&l.output.length>0&&(z(yn(l.output,0)),l.output=[])},ioctl_tcgets:l=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(l,h,y)=>0,ioctl_tiocgwinsz:l=>[24,80]},default_tty1_ops:{put_char(l,h){null===h||10===h?(G(yn(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync(l){l.output&&l.output.length>0&&(G(yn(l.output,0)),l.output=[])}}},nn=l=>{Nn()},rn={ops_table:null,mount:l=>rn.createNode(null,"/",16895,0),createNode(l,h,y,T){if(x.isBlkdev(y)||x.isFIFO(y))throw new x.ErrnoError(63);rn.ops_table||(rn.ops_table={dir:{node:{getattr:rn.node_ops.getattr,setattr:rn.node_ops.setattr,lookup:rn.node_ops.lookup,mknod:rn.node_ops.mknod,rename:rn.node_ops.rename,unlink:rn.node_ops.unlink,rmdir:rn.node_ops.rmdir,readdir:rn.node_ops.readdir,symlink:rn.node_ops.symlink},stream:{llseek:rn.stream_ops.llseek}},file:{node:{getattr:rn.node_ops.getattr,setattr:rn.node_ops.setattr},stream:{llseek:rn.stream_ops.llseek,read:rn.stream_ops.read,write:rn.stream_ops.write,allocate:rn.stream_ops.allocate,mmap:rn.stream_ops.mmap,msync:rn.stream_ops.msync}},link:{node:{getattr:rn.node_ops.getattr,setattr:rn.node_ops.setattr,readlink:rn.node_ops.readlink},stream:{}},chrdev:{node:{getattr:rn.node_ops.getattr,setattr:rn.node_ops.setattr},stream:x.chrdev_stream_ops}});var q=x.createNode(l,h,y,T);return x.isDir(q.mode)?(q.node_ops=rn.ops_table.dir.node,q.stream_ops=rn.ops_table.dir.stream,q.contents={}):x.isFile(q.mode)?(q.node_ops=rn.ops_table.file.node,q.stream_ops=rn.ops_table.file.stream,q.usedBytes=0,q.contents=null):x.isLink(q.mode)?(q.node_ops=rn.ops_table.link.node,q.stream_ops=rn.ops_table.link.stream):x.isChrdev(q.mode)&&(q.node_ops=rn.ops_table.chrdev.node,q.stream_ops=rn.ops_table.chrdev.stream),q.timestamp=Date.now(),l&&(l.contents[h]=q,l.timestamp=q.timestamp),q},getFileDataAsTypedArray:l=>l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0),expandFileStorage(l,h){var y=l.contents?l.contents.length:0;if(!(y>=h)){h=Math.max(h,y*(y<1048576?2:1.125)>>>0),0!=y&&(h=Math.max(h,256));var q=l.contents;l.contents=new Uint8Array(h),l.usedBytes>0&&l.contents.set(q.subarray(0,l.usedBytes),0)}},resizeFileStorage(l,h){if(l.usedBytes!=h)if(0==h)l.contents=null,l.usedBytes=0;else{var y=l.contents;l.contents=new Uint8Array(h),y&&l.contents.set(y.subarray(0,Math.min(h,l.usedBytes))),l.usedBytes=h}},node_ops:{getattr(l){var h={};return h.dev=x.isChrdev(l.mode)?l.id:1,h.ino=l.id,h.mode=l.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=l.rdev,h.size=x.isDir(l.mode)?4096:x.isFile(l.mode)?l.usedBytes:x.isLink(l.mode)?l.link.length:0,h.atime=new Date(l.timestamp),h.mtime=new Date(l.timestamp),h.ctime=new Date(l.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr(l,h){void 0!==h.mode&&(l.mode=h.mode),void 0!==h.timestamp&&(l.timestamp=h.timestamp),void 0!==h.size&&rn.resizeFileStorage(l,h.size)},lookup(l,h){throw x.genericErrors[44]},mknod:(l,h,y,T)=>rn.createNode(l,h,y,T),rename(l,h,y){if(x.isDir(l.mode)){var T;try{T=x.lookupNode(h,y)}catch{}if(T)for(var q in T.contents)throw new x.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=y,h.contents[y]=l,h.timestamp=l.parent.timestamp,l.parent=h},unlink(l,h){delete l.contents[h],l.timestamp=Date.now()},rmdir(l,h){var y=x.lookupNode(l,h);for(var T in y.contents)throw new x.ErrnoError(55);delete l.contents[h],l.timestamp=Date.now()},readdir(l){var h=[".",".."];for(var y in l.contents)l.contents.hasOwnProperty(y)&&h.push(y);return h},symlink(l,h,y){var T=rn.createNode(l,h,41471,0);return T.link=y,T},readlink(l){if(!x.isLink(l.mode))throw new x.ErrnoError(28);return l.link}},stream_ops:{read(l,h,y,T,q){var ye=l.node.contents;if(q>=l.node.usedBytes)return 0;var Te=Math.min(l.node.usedBytes-q,T);if(Te>8&&ye.subarray)h.set(ye.subarray(q,q+Te),y);else for(var Ne=0;Ne<Te;Ne++)h[y+Ne]=ye[q+Ne];return Te},write(l,h,y,T,q,ye){if(h.buffer===le.buffer&&(ye=!1),!T)return 0;var Te=l.node;if(Te.timestamp=Date.now(),h.subarray&&(!Te.contents||Te.contents.subarray)){if(ye)return Te.contents=h.subarray(y,y+T),Te.usedBytes=T,T;if(0===Te.usedBytes&&0===q)return Te.contents=h.slice(y,y+T),Te.usedBytes=T,T;if(q+T<=Te.usedBytes)return Te.contents.set(h.subarray(y,y+T),q),T}if(rn.expandFileStorage(Te,q+T),Te.contents.subarray&&h.subarray)Te.contents.set(h.subarray(y,y+T),q);else for(var Ne=0;Ne<T;Ne++)Te.contents[q+Ne]=h[y+Ne];return Te.usedBytes=Math.max(Te.usedBytes,q+T),T},llseek(l,h,y){var T=h;if(1===y?T+=l.position:2===y&&x.isFile(l.node.mode)&&(T+=l.node.usedBytes),T<0)throw new x.ErrnoError(28);return T},allocate(l,h,y){rn.expandFileStorage(l.node,h+y),l.node.usedBytes=Math.max(l.node.usedBytes,h+y)},mmap(l,h,y,T,q){if(!x.isFile(l.node.mode))throw new x.ErrnoError(43);var ye,Te,Ne=l.node.contents;if(2&q||Ne.buffer!==le.buffer){if((y>0||y+h<Ne.length)&&(Ne=Ne.subarray?Ne.subarray(y,y+h):Array.prototype.slice.call(Ne,y,y+h)),Te=!0,!(ye=nn()))throw new x.ErrnoError(48);le.set(Ne,ye)}else Te=!1,ye=Ne.byteOffset;return{ptr:ye,allocated:Te}},msync:(l,h,y,T,q)=>(rn.stream_ops.write(l,h,0,T,y,!1),0)}},li=d.preloadPlugins||[],k=(l,h)=>{var y=0;return l&&(y|=365),h&&(y|=146),y},x={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(l,h={}){if(!(l=er.resolve(l)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new x.ErrnoError(32);for(var T=l.split("/").filter(gr=>!!gr),q=x.root,ye="/",Te=0;Te<T.length;Te++){var Ne=Te===T.length-1;if(Ne&&h.parent)break;if(q=x.lookupNode(q,T[Te]),ye=Lt.join2(ye,T[Te]),x.isMountpoint(q)&&(!Ne||Ne&&h.follow_mount)&&(q=q.mounted.root),!Ne||h.follow)for(var At=0;x.isLink(q.mode);){var Rn=x.readlink(ye);if(ye=er.resolve(Lt.dirname(ye),Rn),q=x.lookupPath(ye,{recurse_count:h.recurse_count+1}).node,At++>40)throw new x.ErrnoError(32)}}return{path:ye,node:q}},getPath(l){for(var h;;){if(x.isRoot(l)){var y=l.mount.mountpoint;return h?"/"!==y[y.length-1]?`${y}/${h}`:y+h:y}h=h?`${l.name}/${h}`:l.name,l=l.parent}},hashName(l,h){for(var y=0,T=0;T<h.length;T++)y=(y<<5)-y+h.charCodeAt(T)|0;return(l+y>>>0)%x.nameTable.length},hashAddNode(l){var h=x.hashName(l.parent.id,l.name);l.name_next=x.nameTable[h],x.nameTable[h]=l},hashRemoveNode(l){var h=x.hashName(l.parent.id,l.name);if(x.nameTable[h]===l)x.nameTable[h]=l.name_next;else for(var y=x.nameTable[h];y;){if(y.name_next===l){y.name_next=l.name_next;break}y=y.name_next}},lookupNode(l,h){var y=x.mayLookup(l);if(y)throw new x.ErrnoError(y,l);for(var T=x.hashName(l.id,h),q=x.nameTable[T];q;q=q.name_next)if(q.parent.id===l.id&&q.name===h)return q;return x.lookup(l,h)},createNode(l,h,y,T){var q=new x.FSNode(l,h,y,T);return x.hashAddNode(q),q},destroyNode(l){x.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagsToPermissionString(l){var h=["r","w","rw"][3&l];return 512&l&&(h+="w"),h},nodePermissions:(l,h)=>x.ignorePermissions?0:h.includes("r")&&!(292&l.mode)||h.includes("w")&&!(146&l.mode)||h.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>x.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate(l,h){try{return x.lookupNode(l,h),20}catch{}return x.nodePermissions(l,"wx")},mayDelete(l,h,y){var T;try{T=x.lookupNode(l,h)}catch(ye){return ye.errno}var q=x.nodePermissions(l,"wx");if(q)return q;if(y){if(!x.isDir(T.mode))return 54;if(x.isRoot(T)||x.getPath(T)===x.cwd())return 10}else if(x.isDir(T.mode))return 31;return 0},mayOpen:(l,h)=>l?x.isLink(l.mode)?32:x.isDir(l.mode)&&("r"!==x.flagsToPermissionString(h)||512&h)?31:x.nodePermissions(l,x.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd(){for(var l=0;l<=x.MAX_OPEN_FDS;l++)if(!x.streams[l])return l;throw new x.ErrnoError(33)},getStreamChecked(l){var h=x.getStream(l);if(!h)throw new x.ErrnoError(8);return h},getStream:l=>x.streams[l],createStream:(l,h=-1)=>(x.FSStream||(x.FSStream=function(){this.shared={}},x.FSStream.prototype={},Object.defineProperties(x.FSStream.prototype,{object:{get(){return this.node},set(y){this.node=y}},isRead:{get(){return 1!=(2097155&this.flags)}},isWrite:{get(){return 0!=(2097155&this.flags)}},isAppend:{get(){return 1024&this.flags}},flags:{get(){return this.shared.flags},set(y){this.shared.flags=y}},position:{get(){return this.shared.position},set(y){this.shared.position=y}}})),l=Object.assign(new x.FSStream,l),-1==h&&(h=x.nextfd()),l.fd=h,x.streams[h]=l,l),closeStream(l){x.streams[l]=null},chrdev_stream_ops:{open(l){var h=x.getDevice(l.node.rdev);l.stream_ops=h.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek(){throw new x.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,h)=>l<<8|h,registerDevice(l,h){x.devices[l]={stream_ops:h}},getDevice:l=>x.devices[l],getMounts(l){for(var h=[],y=[l];y.length;){var T=y.pop();h.push(T),y.push.apply(y,T.mounts)}return h},syncfs(l,h){"function"==typeof l&&(h=l,l=!1),x.syncFSRequests++,x.syncFSRequests>1&&G(`warning: ${x.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var y=x.getMounts(x.root.mount),T=0;function q(Te){return x.syncFSRequests--,h(Te)}function ye(Te){if(Te)return ye.errored?void 0:(ye.errored=!0,q(Te));++T>=y.length&&q(null)}y.forEach(Te=>{if(!Te.type.syncfs)return ye(null);Te.type.syncfs(Te,l,ye)})},mount(l,h,y){var ye,T="/"===y,q=!y;if(T&&x.root)throw new x.ErrnoError(10);if(!T&&!q){var Te=x.lookupPath(y,{follow_mount:!1});if(y=Te.path,x.isMountpoint(ye=Te.node))throw new x.ErrnoError(10);if(!x.isDir(ye.mode))throw new x.ErrnoError(54)}var Ne={type:l,opts:h,mountpoint:y,mounts:[]},At=l.mount(Ne);return At.mount=Ne,Ne.root=At,T?x.root=At:ye&&(ye.mounted=Ne,ye.mount&&ye.mount.mounts.push(Ne)),At},unmount(l){var h=x.lookupPath(l,{follow_mount:!1});if(!x.isMountpoint(h.node))throw new x.ErrnoError(28);var y=h.node,T=y.mounted,q=x.getMounts(T);Object.keys(x.nameTable).forEach(Te=>{for(var Ne=x.nameTable[Te];Ne;){var At=Ne.name_next;q.includes(Ne.mount)&&x.destroyNode(Ne),Ne=At}}),y.mounted=null;var ye=y.mount.mounts.indexOf(T);y.mount.mounts.splice(ye,1)},lookup:(l,h)=>l.node_ops.lookup(l,h),mknod(l,h,y){var q=x.lookupPath(l,{parent:!0}).node,ye=Lt.basename(l);if(!ye||"."===ye||".."===ye)throw new x.ErrnoError(28);var Te=x.mayCreate(q,ye);if(Te)throw new x.ErrnoError(Te);if(!q.node_ops.mknod)throw new x.ErrnoError(63);return q.node_ops.mknod(q,ye,h,y)},create:(l,h)=>(h=void 0!==h?h:438,h&=4095,x.mknod(l,h|=32768,0)),mkdir:(l,h)=>(h=void 0!==h?h:511,h&=1023,x.mknod(l,h|=16384,0)),mkdirTree(l,h){for(var y=l.split("/"),T="",q=0;q<y.length;++q)if(y[q]){T+="/"+y[q];try{x.mkdir(T,h)}catch(ye){if(20!=ye.errno)throw ye}}},mkdev:(l,h,y)=>(typeof y>"u"&&(y=h,h=438),x.mknod(l,h|=8192,y)),symlink(l,h){if(!er.resolve(l))throw new x.ErrnoError(44);var T=x.lookupPath(h,{parent:!0}).node;if(!T)throw new x.ErrnoError(44);var q=Lt.basename(h),ye=x.mayCreate(T,q);if(ye)throw new x.ErrnoError(ye);if(!T.node_ops.symlink)throw new x.ErrnoError(63);return T.node_ops.symlink(T,q,l)},rename(l,h){var Ne,At,y=Lt.dirname(l),T=Lt.dirname(h),q=Lt.basename(l),ye=Lt.basename(h);if(Ne=x.lookupPath(l,{parent:!0}).node,At=x.lookupPath(h,{parent:!0}).node,!Ne||!At)throw new x.ErrnoError(44);if(Ne.mount!==At.mount)throw new x.ErrnoError(75);var gr,Rn=x.lookupNode(Ne,q),lr=er.relative(l,T);if("."!==lr.charAt(0))throw new x.ErrnoError(28);if("."!==(lr=er.relative(h,y)).charAt(0))throw new x.ErrnoError(55);try{gr=x.lookupNode(At,ye)}catch{}if(Rn!==gr){var On=x.isDir(Rn.mode),Dn=x.mayDelete(Ne,q,On);if(Dn)throw new x.ErrnoError(Dn);if(Dn=gr?x.mayDelete(At,ye,On):x.mayCreate(At,ye))throw new x.ErrnoError(Dn);if(!Ne.node_ops.rename)throw new x.ErrnoError(63);if(x.isMountpoint(Rn)||gr&&x.isMountpoint(gr))throw new x.ErrnoError(10);if(At!==Ne&&(Dn=x.nodePermissions(Ne,"w")))throw new x.ErrnoError(Dn);x.hashRemoveNode(Rn);try{Ne.node_ops.rename(Rn,At,ye)}catch(qn){throw qn}finally{x.hashAddNode(Rn)}}},rmdir(l){var y=x.lookupPath(l,{parent:!0}).node,T=Lt.basename(l),q=x.lookupNode(y,T),ye=x.mayDelete(y,T,!0);if(ye)throw new x.ErrnoError(ye);if(!y.node_ops.rmdir)throw new x.ErrnoError(63);if(x.isMountpoint(q))throw new x.ErrnoError(10);y.node_ops.rmdir(y,T),x.destroyNode(q)},readdir(l){var y=x.lookupPath(l,{follow:!0}).node;if(!y.node_ops.readdir)throw new x.ErrnoError(54);return y.node_ops.readdir(y)},unlink(l){var y=x.lookupPath(l,{parent:!0}).node;if(!y)throw new x.ErrnoError(44);var T=Lt.basename(l),q=x.lookupNode(y,T),ye=x.mayDelete(y,T,!1);if(ye)throw new x.ErrnoError(ye);if(!y.node_ops.unlink)throw new x.ErrnoError(63);if(x.isMountpoint(q))throw new x.ErrnoError(10);y.node_ops.unlink(y,T),x.destroyNode(q)},readlink(l){var y=x.lookupPath(l).node;if(!y)throw new x.ErrnoError(44);if(!y.node_ops.readlink)throw new x.ErrnoError(28);return er.resolve(x.getPath(y.parent),y.node_ops.readlink(y))},stat(l,h){var T=x.lookupPath(l,{follow:!h}).node;if(!T)throw new x.ErrnoError(44);if(!T.node_ops.getattr)throw new x.ErrnoError(63);return T.node_ops.getattr(T)},lstat:l=>x.stat(l,!0),chmod(l,h,y){var T;if(!(T="string"==typeof l?x.lookupPath(l,{follow:!y}).node:l).node_ops.setattr)throw new x.ErrnoError(63);T.node_ops.setattr(T,{mode:4095&h|-4096&T.mode,timestamp:Date.now()})},lchmod(l,h){x.chmod(l,h,!0)},fchmod(l,h){var y=x.getStreamChecked(l);x.chmod(y.node,h)},chown(l,h,y,T){var q;if(!(q="string"==typeof l?x.lookupPath(l,{follow:!T}).node:l).node_ops.setattr)throw new x.ErrnoError(63);q.node_ops.setattr(q,{timestamp:Date.now()})},lchown(l,h,y){x.chown(l,h,y,!0)},fchown(l,h,y){var T=x.getStreamChecked(l);x.chown(T.node,h,y)},truncate(l,h){if(h<0)throw new x.ErrnoError(28);var y;if(!(y="string"==typeof l?x.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new x.ErrnoError(63);if(x.isDir(y.mode))throw new x.ErrnoError(31);if(!x.isFile(y.mode))throw new x.ErrnoError(28);var q=x.nodePermissions(y,"w");if(q)throw new x.ErrnoError(q);y.node_ops.setattr(y,{size:h,timestamp:Date.now()})},ftruncate(l,h){var y=x.getStreamChecked(l);if(!(2097155&y.flags))throw new x.ErrnoError(28);x.truncate(y.node,h)},utime(l,h,y){var q=x.lookupPath(l,{follow:!0}).node;q.node_ops.setattr(q,{timestamp:Math.max(h,y)})},open(l,h,y){if(""===l)throw new x.ErrnoError(44);var T;if(h="string"==typeof h?(l=>{var y={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[l];if(typeof y>"u")throw new Error(`Unknown file open mode: ${l}`);return y})(h):h,y=typeof y>"u"?438:y,y=64&h?4095&y|32768:0,"object"==typeof l)T=l;else{l=Lt.normalize(l);try{T=x.lookupPath(l,{follow:!(131072&h)}).node}catch{}}var ye=!1;if(64&h)if(T){if(128&h)throw new x.ErrnoError(20)}else T=x.mknod(l,y,0),ye=!0;if(!T)throw new x.ErrnoError(44);if(x.isChrdev(T.mode)&&(h&=-513),65536&h&&!x.isDir(T.mode))throw new x.ErrnoError(54);if(!ye){var Te=x.mayOpen(T,h);if(Te)throw new x.ErrnoError(Te)}512&h&&!ye&&x.truncate(T,0),h&=-131713;var Ne=x.createStream({node:T,path:x.getPath(T),flags:h,seekable:!0,position:0,stream_ops:T.stream_ops,ungotten:[],error:!1});return Ne.stream_ops.open&&Ne.stream_ops.open(Ne),d.logReadFiles&&!(1&h)&&(x.readFiles||(x.readFiles={}),l in x.readFiles||(x.readFiles[l]=1)),Ne},close(l){if(x.isClosed(l))throw new x.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(h){throw h}finally{x.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek(l,h,y){if(x.isClosed(l))throw new x.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new x.ErrnoError(70);if(0!=y&&1!=y&&2!=y)throw new x.ErrnoError(28);return l.position=l.stream_ops.llseek(l,h,y),l.ungotten=[],l.position},read(l,h,y,T,q){if(T<0||q<0)throw new x.ErrnoError(28);if(x.isClosed(l))throw new x.ErrnoError(8);if(1==(2097155&l.flags))throw new x.ErrnoError(8);if(x.isDir(l.node.mode))throw new x.ErrnoError(31);if(!l.stream_ops.read)throw new x.ErrnoError(28);var ye=typeof q<"u";if(ye){if(!l.seekable)throw new x.ErrnoError(70)}else q=l.position;var Te=l.stream_ops.read(l,h,y,T,q);return ye||(l.position+=Te),Te},write(l,h,y,T,q,ye){if(T<0||q<0)throw new x.ErrnoError(28);if(x.isClosed(l))throw new x.ErrnoError(8);if(!(2097155&l.flags))throw new x.ErrnoError(8);if(x.isDir(l.node.mode))throw new x.ErrnoError(31);if(!l.stream_ops.write)throw new x.ErrnoError(28);l.seekable&&1024&l.flags&&x.llseek(l,0,2);var Te=typeof q<"u";if(Te){if(!l.seekable)throw new x.ErrnoError(70)}else q=l.position;var Ne=l.stream_ops.write(l,h,y,T,q,ye);return Te||(l.position+=Ne),Ne},allocate(l,h,y){if(x.isClosed(l))throw new x.ErrnoError(8);if(h<0||y<=0)throw new x.ErrnoError(28);if(!(2097155&l.flags))throw new x.ErrnoError(8);if(!x.isFile(l.node.mode)&&!x.isDir(l.node.mode))throw new x.ErrnoError(43);if(!l.stream_ops.allocate)throw new x.ErrnoError(138);l.stream_ops.allocate(l,h,y)},mmap(l,h,y,T,q){if(2&T&&!(2&q)&&2!=(2097155&l.flags))throw new x.ErrnoError(2);if(1==(2097155&l.flags))throw new x.ErrnoError(2);if(!l.stream_ops.mmap)throw new x.ErrnoError(43);return l.stream_ops.mmap(l,h,y,T,q)},msync:(l,h,y,T,q)=>l.stream_ops.msync?l.stream_ops.msync(l,h,y,T,q):0,munmap:l=>0,ioctl(l,h,y){if(!l.stream_ops.ioctl)throw new x.ErrnoError(59);return l.stream_ops.ioctl(l,h,y)},readFile(l,h={}){if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error(`Invalid encoding type "${h.encoding}"`);var y,T=x.open(l,h.flags),ye=x.stat(l).size,Te=new Uint8Array(ye);return x.read(T,Te,0,ye,0),"utf8"===h.encoding?y=yn(Te,0):"binary"===h.encoding&&(y=Te),x.close(T),y},writeFile(l,h,y={}){y.flags=y.flags||577;var T=x.open(l,y.flags,y.mode);if("string"==typeof h){var q=new Uint8Array(xo(h)+1),ye=Er(h,q,0,q.length);x.write(T,q,0,ye,void 0,y.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");x.write(T,h,0,h.byteLength,void 0,y.canOwn)}x.close(T)},cwd:()=>x.currentPath,chdir(l){var h=x.lookupPath(l,{follow:!0});if(null===h.node)throw new x.ErrnoError(44);if(!x.isDir(h.node.mode))throw new x.ErrnoError(54);var y=x.nodePermissions(h.node,"x");if(y)throw new x.ErrnoError(y);x.currentPath=h.path},createDefaultDirectories(){x.mkdir("/tmp"),x.mkdir("/home"),x.mkdir("/home/web_user")},createDefaultDevices(){x.mkdir("/dev"),x.registerDevice(x.makedev(1,3),{read:()=>0,write:(T,q,ye,Te,Ne)=>Te}),x.mkdev("/dev/null",x.makedev(1,3)),Vt.register(x.makedev(5,0),Vt.default_tty_ops),Vt.register(x.makedev(6,0),Vt.default_tty1_ops),x.mkdev("/dev/tty",x.makedev(5,0)),x.mkdev("/dev/tty1",x.makedev(6,0));var l=new Uint8Array(1024),h=0,y=()=>(0===h&&(h=Tr(l).byteLength),l[--h]);x.createDevice("/dev","random",y),x.createDevice("/dev","urandom",y),x.mkdir("/dev/shm"),x.mkdir("/dev/shm/tmp")},createSpecialDirectories(){x.mkdir("/proc");var l=x.mkdir("/proc/self");x.mkdir("/proc/self/fd"),x.mount({mount(){var h=x.createNode(l,"fd",16895,73);return h.node_ops={lookup(y,T){var ye=x.getStreamChecked(+T),Te={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ye.path}};return Te.parent=Te,Te}},h}},{},"/proc/self/fd")},createStandardStreams(){d.stdin?x.createDevice("/dev","stdin",d.stdin):x.symlink("/dev/tty","/dev/stdin"),d.stdout?x.createDevice("/dev","stdout",null,d.stdout):x.symlink("/dev/tty","/dev/stdout"),d.stderr?x.createDevice("/dev","stderr",null,d.stderr):x.symlink("/dev/tty1","/dev/stderr"),x.open("/dev/stdin",0),x.open("/dev/stdout",1),x.open("/dev/stderr",1)},ensureErrnoError(){x.ErrnoError||(x.ErrnoError=function(h,y){this.name="ErrnoError",this.node=y,this.setErrno=function(T){this.errno=T},this.setErrno(h),this.message="FS error"},x.ErrnoError.prototype=new Error,x.ErrnoError.prototype.constructor=x.ErrnoError,[44].forEach(l=>{x.genericErrors[l]=new x.ErrnoError(l),x.genericErrors[l].stack="<generic error, no stack>"}))},staticInit(){x.ensureErrnoError(),x.nameTable=new Array(4096),x.mount(rn,{},"/"),x.createDefaultDirectories(),x.createDefaultDevices(),x.createSpecialDirectories(),x.filesystems={MEMFS:rn}},init(l,h,y){x.init.initialized=!0,x.ensureErrnoError(),d.stdin=l||d.stdin,d.stdout=h||d.stdout,d.stderr=y||d.stderr,x.createStandardStreams()},quit(){x.init.initialized=!1;for(var l=0;l<x.streams.length;l++){var h=x.streams[l];h&&x.close(h)}},findObject(l,h){var y=x.analyzePath(l,h);return y.exists?y.object:null},analyzePath(l,h){try{l=(y=x.lookupPath(l,{follow:!h})).path}catch{}var T={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var y=x.lookupPath(l,{parent:!0});T.parentExists=!0,T.parentPath=y.path,T.parentObject=y.node,T.name=Lt.basename(l),y=x.lookupPath(l,{follow:!h}),T.exists=!0,T.path=y.path,T.object=y.node,T.name=y.node.name,T.isRoot="/"===y.path}catch(q){T.error=q.errno}return T},createPath(l,h,y,T){l="string"==typeof l?l:x.getPath(l);for(var q=h.split("/").reverse();q.length;){var ye=q.pop();if(ye){var Te=Lt.join2(l,ye);try{x.mkdir(Te)}catch{}l=Te}}return Te},createFile(l,h,y,T,q){var ye=Lt.join2("string"==typeof l?l:x.getPath(l),h),Te=k(T,q);return x.create(ye,Te)},createDataFile(l,h,y,T,q,ye){var Te=h;l&&(l="string"==typeof l?l:x.getPath(l),Te=h?Lt.join2(l,h):l);var Ne=k(T,q),At=x.create(Te,Ne);if(y){if("string"==typeof y){for(var Rn=new Array(y.length),lr=0,gr=y.length;lr<gr;++lr)Rn[lr]=y.charCodeAt(lr);y=Rn}x.chmod(At,146|Ne);var On=x.open(At,577);x.write(On,y,0,y.length,0,ye),x.close(On),x.chmod(At,Ne)}return At},createDevice(l,h,y,T){var q=Lt.join2("string"==typeof l?l:x.getPath(l),h),ye=k(!!y,!!T);x.createDevice.major||(x.createDevice.major=64);var Te=x.makedev(x.createDevice.major++,0);return x.registerDevice(Te,{open(Ne){Ne.seekable=!1},close(Ne){T&&T.buffer&&T.buffer.length&&T(10)},read(Ne,At,Rn,lr,gr){for(var On=0,Dn=0;Dn<lr;Dn++){var qn;try{qn=y()}catch{throw new x.ErrnoError(29)}if(void 0===qn&&0===On)throw new x.ErrnoError(6);if(null==qn)break;On++,At[Rn+Dn]=qn}return On&&(Ne.node.timestamp=Date.now()),On},write(Ne,At,Rn,lr,gr){for(var On=0;On<lr;On++)try{T(At[Rn+On])}catch{throw new x.ErrnoError(29)}return lr&&(Ne.node.timestamp=Date.now()),On}}),x.mkdev(q,ye,Te)},forceLoadFile(l){if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=Ln(H(l.url),!0),l.usedBytes=l.contents.length}catch{throw new x.ErrnoError(29)}},createLazyFile(l,h,y,T,q){function ye(){this.lengthKnown=!1,this.chunks=[]}if(ye.prototype.get=function(Dn){if(!(Dn>this.length-1||Dn<0)){var qn=Dn%this.chunkSize;return this.getter(Dn/this.chunkSize|0)[qn]}},ye.prototype.setDataGetter=function(Dn){this.getter=Dn},ye.prototype.cacheLength=function(){var Dn=new XMLHttpRequest;if(Dn.open("HEAD",y,!1),Dn.send(null),!(Dn.status>=200&&Dn.status<300||304===Dn.status))throw new Error("Couldn't load "+y+". Status: "+Dn.status);var Ro,qn=Number(Dn.getResponseHeader("Content-length")),Eo=(Ro=Dn.getResponseHeader("Accept-Ranges"))&&"bytes"===Ro,Ci=(Ro=Dn.getResponseHeader("Content-Encoding"))&&"gzip"===Ro,Et=1048576;Eo||(Et=qn);var ei=this;ei.setDataGetter(Pr=>{var to=Pr*Et,Vo=(Pr+1)*Et-1;if(Vo=Math.min(Vo,qn-1),typeof ei.chunks[Pr]>"u"&&(ei.chunks[Pr]=((Pr,to)=>{if(Pr>to)throw new Error("invalid range ("+Pr+", "+to+") or no bytes requested!");if(to>qn-1)throw new Error("only "+qn+" bytes available! programmer error!");var Vo=new XMLHttpRequest;if(Vo.open("GET",y,!1),qn!==Et&&Vo.setRequestHeader("Range","bytes="+Pr+"-"+to),Vo.responseType="arraybuffer",Vo.overrideMimeType&&Vo.overrideMimeType("text/plain; charset=x-user-defined"),Vo.send(null),!(Vo.status>=200&&Vo.status<300||304===Vo.status))throw new Error("Couldn't load "+y+". Status: "+Vo.status);return void 0!==Vo.response?new Uint8Array(Vo.response||[]):Ln(Vo.responseText||"",!0)})(to,Vo)),typeof ei.chunks[Pr]>"u")throw new Error("doXHR failed!");return ei.chunks[Pr]}),(Ci||!qn)&&(Et=qn=1,qn=this.getter(0).length,Et=qn,z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=qn,this._chunkSize=Et,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Q)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Te=new ye;Object.defineProperties(Te,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ne={isDevice:!1,contents:Te}}else Ne={isDevice:!1,url:y};var At=x.createFile(l,h,Ne,T,q);Ne.contents?At.contents=Ne.contents:Ne.url&&(At.contents=null,At.url=Ne.url),Object.defineProperties(At,{usedBytes:{get:function(){return this.contents.length}}});var Rn={};function gr(On,Dn,qn,Ro,Eo){var Ci=On.node.contents;if(Eo>=Ci.length)return 0;var Et=Math.min(Ci.length-Eo,Ro);if(Ci.slice)for(var Rt=0;Rt<Et;Rt++)Dn[qn+Rt]=Ci[Eo+Rt];else for(Rt=0;Rt<Et;Rt++)Dn[qn+Rt]=Ci.get(Eo+Rt);return Et}return Object.keys(At.stream_ops).forEach(On=>{var Dn=At.stream_ops[On];Rn[On]=function(){return x.forceLoadFile(At),Dn.apply(null,arguments)}}),Rn.read=(On,Dn,qn,Ro,Eo)=>(x.forceLoadFile(At),gr(On,Dn,qn,Ro,Eo)),Rn.mmap=(On,Dn,qn,Ro,Eo)=>{x.forceLoadFile(At);var Ci=nn();if(!Ci)throw new x.ErrnoError(48);return gr(On,le,Ci,Dn,qn),{ptr:Ci,allocated:!0}},At.stream_ops=Rn,At}},ko={DEFAULT_POLLMASK:5,calculateAt(l,h,y){if(Lt.isAbs(h))return h;var T;if(T=-100===l?x.cwd():ko.getStreamFromFD(l).path,0==h.length){if(!y)throw new x.ErrnoError(44);return T}return Lt.join2(T,h)},doStat(l,h,y){try{var T=l(h)}catch(Ne){if(Ne&&Ne.node&&Lt.normalize(h)!==Lt.normalize(x.getPath(Ne.node)))return-54;throw Ne}M[y>>2]=T.dev,M[y+4>>2]=T.mode,fe[y+8>>2]=T.nlink,M[y+12>>2]=T.uid,M[y+16>>2]=T.gid,M[y+20>>2]=T.rdev,jt=[T.size>>>0,(Xe=T.size,+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[y+24>>2]=jt[0],M[y+28>>2]=jt[1],M[y+32>>2]=4096,M[y+36>>2]=T.blocks;var q=T.atime.getTime(),ye=T.mtime.getTime(),Te=T.ctime.getTime();return jt=[Math.floor(q/1e3)>>>0,(Xe=Math.floor(q/1e3),+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[y+40>>2]=jt[0],M[y+44>>2]=jt[1],fe[y+48>>2]=q%1e3*1e3,jt=[Math.floor(ye/1e3)>>>0,(Xe=Math.floor(ye/1e3),+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[y+56>>2]=jt[0],M[y+60>>2]=jt[1],fe[y+64>>2]=ye%1e3*1e3,jt=[Math.floor(Te/1e3)>>>0,(Xe=Math.floor(Te/1e3),+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[y+72>>2]=jt[0],M[y+76>>2]=jt[1],fe[y+80>>2]=Te%1e3*1e3,jt=[T.ino>>>0,(Xe=T.ino,+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[y+88>>2]=jt[0],M[y+92>>2]=jt[1],0},doMsync(l,h,y,T,q){if(!x.isFile(h.node.mode))throw new x.ErrnoError(43);if(2&T)return 0;var ye=ze.slice(l,l+y);x.msync(h,ye,q,y,T)},varargs:void 0,get(){var l=M[ko.varargs>>2];return ko.varargs+=4,l},getp:()=>ko.get(),getStr:l=>Tt(l),getStreamFromFD:l=>x.getStreamChecked(l)},ci=(l,h)=>h+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*h:NaN,Cr=l=>l%4==0&&(l%100!=0||l%400==0),oo=[0,31,60,91,121,152,182,213,244,274,305,335],or=[0,31,59,90,120,151,181,212,243,273,304,334],Bo=l=>(Cr(l.getFullYear())?oo:or)[l.getMonth()]+l.getDate()-1,$i=l=>{var h=xo(l)+1,y=jo(h);return y&&((l,h,y)=>{Er(l,ze,h,y)})(l,y,h),y},To=[],Ii=l=>{var y=(l-ce.buffer.byteLength+65535)/65536;try{return ce.grow(y),Wt(),1}catch{}},us={},zo=()=>{if(!zo.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"};for(var y in us)void 0===us[y]?delete h[y]:h[y]=us[y];var T=[];for(var y in h)T.push(`${y}=${h[y]}`);zo.strings=T}return zo.strings},st=[31,29,31,30,31,30,31,31,30,31,30,31],Qe=[31,28,31,30,31,30,31,31,30,31,30,31],ue=(l,h)=>{tt=l,(l=>{tt=l,function it(){return Se||!1}()||(d.onExit&&d.onExit(l),rt=!0),j(l,new _o(l))})(l)},on=(l,h)=>{l<128?h.push(l):h.push(l%128|128,l>>7)},Vs=[],sa=l=>{var h=Vs[l];return h||(l>=Vs.length&&(Vs.length=l+1),Vs[l]=h=Ve.get(l)),h},Us=void 0,ol=[],il=(l,h)=>{Ve.set(l,h),Vs[l]=Ve.get(l)},sl=function(l,h,y,T){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=x.nextInode++,this.name=h,this.mode=y,this.node_ops={},this.stream_ops={},this.rdev=T};Object.defineProperties(sl.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return x.isDir(this.mode)}},isDevice:{get:function(){return x.isChrdev(this.mode)}}}),x.FSNode=sl,x.createPreloadedFile=(l,h,y,T,q,ye,Te,Ne,At,Rn)=>{var lr=h?er.resolve(Lt.join2(l,h)):l;function On(Dn){function qn(Ro){Rn&&Rn(),Ne||x.createDataFile(l,h,Ro,T,q,At),ye&&ye(),rr()}((l,h,y,T)=>{typeof Browser<"u"&&Browser.init();var q=!1;return li.forEach(ye=>{q||ye.canHandle(h)&&(ye.handle(l,h,y,T),q=!0)}),q})(Dn,lr,qn,()=>{Te&&Te(),rr()})||qn(Dn)}jn(),"string"==typeof y?((l,h,y,T)=>{var q=`al ${l}`;Re(l,ye=>{he(ye,`Loading data file "${l}" failed (no arrayBuffer).`),On(new Uint8Array(ye)),q&&rr()},ye=>{if(!y)throw`Loading data file "${l}" failed.`;y()}),q&&jn()})(y,0,Te):On(y)},x.staticInit();var Oc,Wl={b:(l,h,y,T)=>{Nn(`Assertion failed: ${Tt(l)}, at: `+[h?Tt(h):"unknown filename",y,T?Tt(T):"unknown function"])},i:function Lo(l){const h=new Error(Tt(l));throw h.isAssert=!0,h},m:function Gi(l,h,y){var T=ci(h,y);try{return isNaN(T)?61:(x.ftruncate(l,T),0)}catch(q){if(typeof x>"u"||"ErrnoError"!==q.name)throw q;return-q.errno}},h:()=>!0,j:function Mo(l,h,y){var T=ci(l,h),q=new Date(1e3*T);M[y>>2]=q.getSeconds(),M[y+4>>2]=q.getMinutes(),M[y+8>>2]=q.getHours(),M[y+12>>2]=q.getDate(),M[y+16>>2]=q.getMonth(),M[y+20>>2]=q.getFullYear()-1900,M[y+24>>2]=q.getDay();var ye=0|Bo(q);M[y+28>>2]=ye,M[y+36>>2]=-60*q.getTimezoneOffset();var Te=new Date(q.getFullYear(),0,1),Ne=new Date(q.getFullYear(),6,1).getTimezoneOffset(),At=Te.getTimezoneOffset(),Rn=0|(Ne!=At&&q.getTimezoneOffset()==Math.min(At,Ne));M[y+32>>2]=Rn},k:function(l){var h=(()=>{var y=new Date(M[l+20>>2]+1900,M[l+16>>2],M[l+12>>2],M[l+8>>2],M[l+4>>2],M[l>>2],0),T=M[l+32>>2],q=y.getTimezoneOffset(),ye=new Date(y.getFullYear(),0,1),Te=new Date(y.getFullYear(),6,1).getTimezoneOffset(),Ne=ye.getTimezoneOffset(),At=Math.min(Ne,Te);if(T<0)M[l+32>>2]=+(Te!=Ne&&At==q);else if(T>0!=(At==q)){var Rn=Math.max(Ne,Te),lr=T>0?At:Rn;y.setTime(y.getTime()+6e4*(lr-q))}M[l+24>>2]=y.getDay();var gr=0|Bo(y);return M[l+28>>2]=gr,M[l>>2]=y.getSeconds(),M[l+4>>2]=y.getMinutes(),M[l+8>>2]=y.getHours(),M[l+12>>2]=y.getDate(),M[l+16>>2]=y.getMonth(),M[l+20>>2]=y.getYear(),y.getTime()/1e3})();return Dg((Xe=h,+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)),h>>>0},r:(l,h,y)=>{var T=(new Date).getFullYear(),q=new Date(T,0,1),ye=new Date(T,6,1),Te=q.getTimezoneOffset(),Ne=ye.getTimezoneOffset(),At=Math.max(Te,Ne);function Rn(qn){var Ro=qn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Ro?Ro[1]:"GMT"}fe[l>>2]=60*At,M[h>>2]=+(Te!=Ne);var lr=Rn(q),gr=Rn(ye),On=$i(lr),Dn=$i(gr);Ne<Te?(fe[y>>2]=On,fe[y+4>>2]=Dn):(fe[y>>2]=Dn,fe[y+4>>2]=On)},a:()=>{Nn("")},s:(l,h,y)=>((l,h,y)=>{var T=((l,h)=>{To.length=0;for(var y;y=ze[l++];)h+=105!=y&&h%8?4:0,To.push(105==y?M[h>>2]:Dt[h>>3]),h+=105==y?4:8;return To})(h,y);return Xr[l].apply(null,T)})(l,h,y),c:()=>Date.now(),d:(l,h,y)=>ze.copyWithin(l,h,h+y),q:l=>{var At,h=ze.length,y=2147483648;if((l>>>=0)>y)return!1;for(var q=1;q<=4;q*=2){var ye=h*(1+.2/q);ye=Math.min(ye,l+100663296);var Te=Math.min(y,(At=Math.max(l,ye))+(65536-At%65536)%65536);if(Ii(Te))return!0}return!1},o:(l,h)=>{var y=0;return zo().forEach((T,q)=>{var ye=h+y;fe[l+4*q>>2]=ye,((l,h)=>{for(var y=0;y<l.length;++y)le[h++>>0]=l.charCodeAt(y);le[h>>0]=0})(T,ye),y+=T.length+1}),0},p:(l,h)=>{var y=zo();fe[l>>2]=y.length;var T=0;return y.forEach(q=>T+=q.length+1),fe[h>>2]=T,0},e:function S(l){try{var h=ko.getStreamFromFD(l);return x.close(h),0}catch(y){if(typeof x>"u"||"ErrnoError"!==y.name)throw y;return y.errno}},g:function K(l,h,y,T){try{var ye=((l,h,y,T)=>{for(var q=0,ye=0;ye<y;ye++){var Te=fe[h>>2],Ne=fe[h+4>>2];h+=8;var At=x.read(l,le,Te,Ne,T);if(At<0)return-1;if(q+=At,At<Ne)break;typeof T<"u"&&(T+=At)}return q})(ko.getStreamFromFD(l),h,y);return fe[T>>2]=ye,0}catch(Te){if(typeof x>"u"||"ErrnoError"!==Te.name)throw Te;return Te.errno}},l:function _e(l,h,y,T,q){var ye=ci(h,y);try{if(isNaN(ye))return 61;var Te=ko.getStreamFromFD(l);return x.llseek(Te,ye,T),jt=[Te.position>>>0,(Xe=Te.position,+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[q>>2]=jt[0],M[q+4>>2]=jt[1],Te.getdents&&0===ye&&0===T&&(Te.getdents=null),0}catch(Ne){if(typeof x>"u"||"ErrnoError"!==Ne.name)throw Ne;return Ne.errno}},f:function Be(l,h,y,T){try{var ye=((l,h,y,T)=>{for(var q=0,ye=0;ye<y;ye++){var Te=fe[h>>2],Ne=fe[h+4>>2];h+=8;var At=x.write(l,le,Te,Ne,T);if(At<0)return-1;q+=At,typeof T<"u"&&(T+=At)}return q})(ko.getStreamFromFD(l),h,y);return fe[T>>2]=ye,0}catch(Te){if(typeof x>"u"||"ErrnoError"!==Te.name)throw Te;return Te.errno}},n:(l,h,y,T,q)=>((l,h,y,T)=>{var q=fe[T+40>>2],ye={tm_sec:M[T>>2],tm_min:M[T+4>>2],tm_hour:M[T+8>>2],tm_mday:M[T+12>>2],tm_mon:M[T+16>>2],tm_year:M[T+20>>2],tm_wday:M[T+24>>2],tm_yday:M[T+28>>2],tm_isdst:M[T+32>>2],tm_gmtoff:M[T+36>>2],tm_zone:q?Tt(q):""},Te=Tt(y),Ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var At in Ne)Te=Te.replace(new RegExp(At,"g"),Ne[At]);var Rn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],lr=["January","February","March","April","May","June","July","August","September","October","November","December"];function gr(Et,Rt,ei){for(var Pr="number"==typeof Et?Et.toString():Et||"";Pr.length<Rt;)Pr=ei[0]+Pr;return Pr}function On(Et,Rt){return gr(Et,Rt,"0")}function Dn(Et,Rt){function ei(to){return to<0?-1:to>0?1:0}var Pr;return 0===(Pr=ei(Et.getFullYear()-Rt.getFullYear()))&&0===(Pr=ei(Et.getMonth()-Rt.getMonth()))&&(Pr=ei(Et.getDate()-Rt.getDate())),Pr}function qn(Et){switch(Et.getDay()){case 0:return new Date(Et.getFullYear()-1,11,29);case 1:return Et;case 2:return new Date(Et.getFullYear(),0,3);case 3:return new Date(Et.getFullYear(),0,2);case 4:return new Date(Et.getFullYear(),0,1);case 5:return new Date(Et.getFullYear()-1,11,31);case 6:return new Date(Et.getFullYear()-1,11,30)}}function Ro(Et){var Rt=((l,h)=>{for(var y=new Date(l.getTime());h>0;){var T=Cr(y.getFullYear()),q=y.getMonth(),ye=(T?st:Qe)[q];if(!(h>ye-y.getDate()))return y.setDate(y.getDate()+h),y;h-=ye-y.getDate()+1,y.setDate(1),q<11?y.setMonth(q+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1))}return y})(new Date(Et.tm_year+1900,0,1),Et.tm_yday),ei=new Date(Rt.getFullYear(),0,4),Pr=new Date(Rt.getFullYear()+1,0,4),to=qn(ei),Vo=qn(Pr);return Dn(to,Rt)<=0?Dn(Vo,Rt)<=0?Rt.getFullYear()+1:Rt.getFullYear():Rt.getFullYear()-1}var Eo={"%a":Et=>Rn[Et.tm_wday].substring(0,3),"%A":Et=>Rn[Et.tm_wday],"%b":Et=>lr[Et.tm_mon].substring(0,3),"%B":Et=>lr[Et.tm_mon],"%C":Et=>On((Et.tm_year+1900)/100|0,2),"%d":Et=>On(Et.tm_mday,2),"%e":Et=>gr(Et.tm_mday,2," "),"%g":Et=>Ro(Et).toString().substring(2),"%G":Et=>Ro(Et),"%H":Et=>On(Et.tm_hour,2),"%I":Et=>{var Rt=Et.tm_hour;return 0==Rt?Rt=12:Rt>12&&(Rt-=12),On(Rt,2)},"%j":Et=>On(Et.tm_mday+((l,h)=>{for(var y=0,T=0;T<=h;y+=l[T++]);return y})(Cr(Et.tm_year+1900)?st:Qe,Et.tm_mon-1),3),"%m":Et=>On(Et.tm_mon+1,2),"%M":Et=>On(Et.tm_min,2),"%n":()=>"\n","%p":Et=>Et.tm_hour>=0&&Et.tm_hour<12?"AM":"PM","%S":Et=>On(Et.tm_sec,2),"%t":()=>"\t","%u":Et=>Et.tm_wday||7,"%U":Et=>On(Math.floor((Et.tm_yday+7-Et.tm_wday)/7),2),"%V":Et=>{var Rt=Math.floor((Et.tm_yday+7-(Et.tm_wday+6)%7)/7);if((Et.tm_wday+371-Et.tm_yday-2)%7<=2&&Rt++,Rt){if(53==Rt){var Pr=(Et.tm_wday+371-Et.tm_yday)%7;4!=Pr&&(3!=Pr||!Cr(Et.tm_year))&&(Rt=1)}}else{Rt=52;var ei=(Et.tm_wday+7-Et.tm_yday-1)%7;(4==ei||5==ei&&Cr(Et.tm_year%400-1))&&Rt++}return On(Rt,2)},"%w":Et=>Et.tm_wday,"%W":Et=>On(Math.floor((Et.tm_yday+7-(Et.tm_wday+6)%7)/7),2),"%y":Et=>(Et.tm_year+1900).toString().substring(2),"%Y":Et=>Et.tm_year+1900,"%z":Et=>{var Rt=Et.tm_gmtoff;return(Rt>=0?"+":"-")+("0000"+(Rt=(Rt=Math.abs(Rt)/60)/60*100+Rt%60)).slice(-4)},"%Z":Et=>Et.tm_zone,"%%":()=>"%"};for(var At in Te=Te.replace(/%%/g,"\0\0"),Eo)Te.includes(At)&&(Te=Te.replace(new RegExp(At,"g"),Eo[At](ye)));var Ci=Ln(Te=Te.replace(/\0\0/g,"%"),!1);return Ci.length>h?0:(((l,h)=>{le.set(l,h)})(Ci,l),Ci.length-1)})(l,h,y,T)},we=function Go(){var l={a:Wl};function h(T,q){var ye=T.exports;return ce=(we=ye).t,Wt(),Ve=we.wc,function ft(l){We.unshift(l)}(we.u),rr(),ye}if(jn(),d.instantiateWasm)try{return d.instantiateWasm(l,h)}catch(T){G(`Module.instantiateWasm callback failed with error: ${T}`),te(T)}return function Yr(l,h,y,T){return l||"function"!=typeof WebAssembly.instantiateStreaming||vr(h)||"function"!=typeof fetch?go(h,y,T):fetch(h,{credentials:"same-origin"}).then(q=>WebAssembly.instantiateStreaming(q,y).then(T,function(Te){return G(`wasm streaming compile failed: ${Te}`),G("falling back to ArrayBuffer instantiation"),go(h,y,T)}))}(ae,hr,l,function y(T){h(T.instance)}).catch(te),{}}(),jo=d._malloc=l=>(jo=d._malloc=we.v)(l),al=(d._free=l=>(d._free=we.w)(l),d._main=(l,h)=>(al=d._main=we.x)(l,h)),mt=(d._webidl_free=l=>(d._webidl_free=we.y)(l),d._webidl_malloc=l=>(d._webidl_malloc=we.z)(l),d._emscripten_bind_VoidPtr___destroy___0=l=>(mt=d._emscripten_bind_VoidPtr___destroy___0=we.A)(l)),ll=d._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(ll=d._emscripten_bind_Cloudpilot_Cloudpilot_0=we.B)(),yr=d._emscripten_bind_Cloudpilot_Malloc_1=(l,h)=>(yr=d._emscripten_bind_Cloudpilot_Malloc_1=we.C)(l,h),Es=d._emscripten_bind_Cloudpilot_Free_1=(l,h)=>(Es=d._emscripten_bind_Cloudpilot_Free_1=we.D)(l,h),ka=d._emscripten_bind_Cloudpilot_Nullptr_0=l=>(ka=d._emscripten_bind_Cloudpilot_Nullptr_0=we.E)(l),la=d._emscripten_bind_Cloudpilot_InitializeSession_3=(l,h,y,T)=>(la=d._emscripten_bind_Cloudpilot_InitializeSession_3=we.F)(l,h,y,T),Ma=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=l=>(Ma=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=we.G)(l),Ds=d._emscripten_bind_Cloudpilot_RunEmulation_1=(l,h)=>(Ds=d._emscripten_bind_Cloudpilot_RunEmulation_1=we.H)(l,h),Is=d._emscripten_bind_Cloudpilot_SetClockFactor_1=(l,h)=>(Is=d._emscripten_bind_Cloudpilot_SetClockFactor_1=we.I)(l,h),Gs=d._emscripten_bind_Cloudpilot_CopyFrame_0=l=>(Gs=d._emscripten_bind_Cloudpilot_CopyFrame_0=we.J)(l),ca=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=l=>(ca=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=we.K)(l),Ta=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=l=>(Ta=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=we.L)(l),An=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(l,h)=>(An=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=we.M)(l,h),zs=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(l,h)=>(zs=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=we.N)(l,h),ua=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(l,h)=>(ua=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=we.O)(l,h),vo=d._emscripten_bind_Cloudpilot_QueuePenMove_2=(l,h,y)=>(vo=d._emscripten_bind_Cloudpilot_QueuePenMove_2=we.P)(l,h,y),da=d._emscripten_bind_Cloudpilot_QueuePenUp_0=l=>(da=d._emscripten_bind_Cloudpilot_QueuePenUp_0=we.Q)(l),cl=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=(l,h)=>(cl=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=we.R)(l,h),ir=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=(l,h)=>(ir=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=we.S)(l,h),ul=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(l,h,y)=>(ul=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=we.T)(l,h,y),Xl=d._emscripten_bind_Cloudpilot_IsPowerOff_0=l=>(Xl=d._emscripten_bind_Cloudpilot_IsPowerOff_0=we.U)(l),fa=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=l=>(fa=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=we.V)(l),pa=d._emscripten_bind_Cloudpilot_GetOSVersion_0=l=>(pa=d._emscripten_bind_Cloudpilot_GetOSVersion_0=we.W)(l),dl=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=l=>(dl=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=we.X)(l),Aa=d._emscripten_bind_Cloudpilot_Reset_0=l=>(Aa=d._emscripten_bind_Cloudpilot_Reset_0=we.Y)(l),Ws=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=l=>(Ws=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=we.Z)(l),ha=d._emscripten_bind_Cloudpilot_ResetHard_0=l=>(ha=d._emscripten_bind_Cloudpilot_ResetHard_0=we._)(l),fl=d._emscripten_bind_Cloudpilot_InstallDb_2=(l,h,y)=>(fl=d._emscripten_bind_Cloudpilot_InstallDb_2=we.$)(l,h,y),pl=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=l=>(pl=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=we.aa)(l),yo=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=l=>(yo=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=we.ba)(l),Wi=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=l=>(Wi=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=we.ca)(l),Yo=d._emscripten_bind_Cloudpilot_GetMemorySize_0=l=>(Yo=d._emscripten_bind_Cloudpilot_GetMemorySize_0=we.da)(l),xs=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(l,h,y)=>(xs=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=we.ea)(l,h,y),ma=d._emscripten_bind_Cloudpilot_GetRomPtr_0=l=>(ma=d._emscripten_bind_Cloudpilot_GetRomPtr_0=we.fa)(l),Zs=d._emscripten_bind_Cloudpilot_GetRomSize_0=l=>(Zs=d._emscripten_bind_Cloudpilot_GetRomSize_0=we.ga)(l),hl=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=l=>(hl=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=we.ha)(l),ml=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=l=>(ml=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=we.ia)(l),ur=d._emscripten_bind_Cloudpilot_SaveState_0=l=>(ur=d._emscripten_bind_Cloudpilot_SaveState_0=we.ja)(l),ga=d._emscripten_bind_Cloudpilot_LoadState_2=(l,h,y)=>(ga=d._emscripten_bind_Cloudpilot_LoadState_2=we.ka)(l,h,y),Ar=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=l=>(Ar=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=we.la)(l),fo=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=(l,h)=>(fo=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=we.ma)(l,h),Dr=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(l,h)=>(Dr=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=we.na)(l,h),Vr=d._emscripten_bind_Cloudpilot_StartBackup_0=l=>(Vr=d._emscripten_bind_Cloudpilot_StartBackup_0=we.oa)(l),de=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(l,h)=>(de=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=we.pa)(l,h),dr=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=l=>(dr=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=we.qa)(l),f=d._emscripten_bind_Cloudpilot_IsSuspended_0=l=>(f=d._emscripten_bind_Cloudpilot_IsSuspended_0=we.ra)(l),_=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=l=>(_=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=we.sa)(l),C=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(l,h)=>(C=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=we.ta)(l,h),F=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=l=>(F=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=we.ua)(l),Z=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(l,h)=>(Z=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=we.va)(l,h),ve=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(l,h)=>(ve=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=we.wa)(l,h),xe=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=(l,h)=>(xe=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=we.xa)(l,h),je=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(l,h,y)=>(je=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=we.ya)(l,h,y),Mt=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(l,h)=>(Mt=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=we.za)(l,h),cn=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=l=>(cn=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=we.Aa)(l),Tn=d._emscripten_bind_Cloudpilot_AllocateCard_2=(l,h,y)=>(Tn=d._emscripten_bind_Cloudpilot_AllocateCard_2=we.Ba)(l,h,y),Yt=d._emscripten_bind_Cloudpilot_AdoptCard_3=(l,h,y,T)=>(Yt=d._emscripten_bind_Cloudpilot_AdoptCard_3=we.Ca)(l,h,y,T),wn=d._emscripten_bind_Cloudpilot_MountCard_1=(l,h)=>(wn=d._emscripten_bind_Cloudpilot_MountCard_1=we.Da)(l,h),fn=d._emscripten_bind_Cloudpilot_RemoveCard_1=(l,h)=>(fn=d._emscripten_bind_Cloudpilot_RemoveCard_1=we.Ea)(l,h),Bn=d._emscripten_bind_Cloudpilot_GetCardData_1=(l,h)=>(Bn=d._emscripten_bind_Cloudpilot_GetCardData_1=we.Fa)(l,h),Ur=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(l,h)=>(Ur=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=we.Ga)(l,h),Qr=d._emscripten_bind_Cloudpilot_GetCardSize_1=(l,h)=>(Qr=d._emscripten_bind_Cloudpilot_GetCardSize_1=we.Ha)(l,h),io=d._emscripten_bind_Cloudpilot_RemountCards_0=l=>(io=d._emscripten_bind_Cloudpilot_RemountCards_0=we.Ia)(l),yt=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=(l,h)=>(yt=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=we.Ja)(l,h),an=d._emscripten_bind_Cloudpilot_GetMountedKey_0=l=>(an=d._emscripten_bind_Cloudpilot_GetMountedKey_0=we.Ka)(l),Hr=d._emscripten_bind_Cloudpilot___destroy___0=l=>(Hr=d._emscripten_bind_Cloudpilot___destroy___0=we.La)(l),mr=d._emscripten_bind_RomInfo_RomInfo_2=(l,h)=>(mr=d._emscripten_bind_RomInfo_RomInfo_2=we.Ma)(l,h),sr=d._emscripten_bind_RomInfo_IsValid_0=l=>(sr=d._emscripten_bind_RomInfo_IsValid_0=we.Na)(l),Jn=d._emscripten_bind_RomInfo_CardVersion_0=l=>(Jn=d._emscripten_bind_RomInfo_CardVersion_0=we.Oa)(l),bo=d._emscripten_bind_RomInfo_CardName_0=l=>(bo=d._emscripten_bind_RomInfo_CardName_0=we.Pa)(l),kc=d._emscripten_bind_RomInfo_RomVersion_0=l=>(kc=d._emscripten_bind_RomInfo_RomVersion_0=we.Qa)(l),du=d._emscripten_bind_RomInfo_RomVersionString_0=l=>(du=d._emscripten_bind_RomInfo_RomVersionString_0=we.Ra)(l),Mc=d._emscripten_bind_RomInfo_Supports_1=(l,h)=>(Mc=d._emscripten_bind_RomInfo_Supports_1=we.Sa)(l,h),fu=d._emscripten_bind_RomInfo___destroy___0=l=>(fu=d._emscripten_bind_RomInfo___destroy___0=we.Ta)(l),pu=d._emscripten_bind_Frame_GetLineWidth_0=l=>(pu=d._emscripten_bind_Frame_GetLineWidth_0=we.Ua)(l),Sn=d._emscripten_bind_Frame_GetBpp_0=l=>(Sn=d._emscripten_bind_Frame_GetBpp_0=we.Va)(l),Ao=d._emscripten_bind_Frame_GetLines_0=l=>(Ao=d._emscripten_bind_Frame_GetLines_0=we.Wa)(l),Po=d._emscripten_bind_Frame_GetMargin_0=l=>(Po=d._emscripten_bind_Frame_GetMargin_0=we.Xa)(l),Jr=d._emscripten_bind_Frame_GetBytesPerLine_0=l=>(Jr=d._emscripten_bind_Frame_GetBytesPerLine_0=we.Ya)(l),tn=d._emscripten_bind_Frame_GetFirstDirtyLine_0=l=>(tn=d._emscripten_bind_Frame_GetFirstDirtyLine_0=we.Za)(l),so=d._emscripten_bind_Frame_GetLastDirtyLine_0=l=>(so=d._emscripten_bind_Frame_GetLastDirtyLine_0=we._a)(l),Ir=d._emscripten_bind_Frame_GetHasChanges_0=l=>(Ir=d._emscripten_bind_Frame_GetHasChanges_0=we.$a)(l),ao=d._emscripten_bind_Frame_GetBuffer_0=l=>(ao=d._emscripten_bind_Frame_GetBuffer_0=we.ab)(l),Fr=d._emscripten_bind_Frame_GetBufferSize_0=l=>(Fr=d._emscripten_bind_Frame_GetBufferSize_0=we.bb)(l),br=d._emscripten_bind_Frame_GetScaleX_0=l=>(br=d._emscripten_bind_Frame_GetScaleX_0=we.cb)(l),u=d._emscripten_bind_Frame_GetScaleY_0=l=>(u=d._emscripten_bind_Frame_GetScaleY_0=we.db)(l),m=d._emscripten_bind_Frame___destroy___0=l=>(m=d._emscripten_bind_Frame___destroy___0=we.eb)(l),b=d._emscripten_bind_DbBackup_Init_1=(l,h)=>(b=d._emscripten_bind_DbBackup_Init_1=we.fb)(l,h),O=d._emscripten_bind_DbBackup_IsInProgress_0=l=>(O=d._emscripten_bind_DbBackup_IsInProgress_0=we.gb)(l),Y=d._emscripten_bind_DbBackup_IsDone_0=l=>(Y=d._emscripten_bind_DbBackup_IsDone_0=we.hb)(l),me=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=l=>(me=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=we.ib)(l),Me=d._emscripten_bind_DbBackup_Save_0=l=>(Me=d._emscripten_bind_DbBackup_Save_0=we.jb)(l),Ge=d._emscripten_bind_DbBackup_Skip_0=l=>(Ge=d._emscripten_bind_DbBackup_Skip_0=we.kb)(l),Ze=d._emscripten_bind_DbBackup_GetArchivePtr_0=l=>(Ze=d._emscripten_bind_DbBackup_GetArchivePtr_0=we.lb)(l),qt=d._emscripten_bind_DbBackup_GetArchiveSize_0=l=>(qt=d._emscripten_bind_DbBackup_GetArchiveSize_0=we.mb)(l),zt=d._emscripten_bind_DbBackup___destroy___0=l=>(zt=d._emscripten_bind_DbBackup___destroy___0=we.nb)(l),In=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=l=>(In=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=we.ob)(l),sn=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=l=>(sn=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=we.pb)(l),dn=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=l=>(dn=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=we.qb)(l),En=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=l=>(En=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=we.rb)(l),eo=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=l=>(eo=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=we.sb)(l),yi=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(l,h)=>(yi=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=we.tb)(l,h),Co=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=l=>(Co=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=we.ub)(l),wt=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=l=>(wt=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=we.vb)(l),pn=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=(l,h)=>(pn=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=we.wb)(l,h),Gn=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=l=>(Gn=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=we.xb)(l),St=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=l=>(St=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=we.yb)(l),hn=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=l=>(hn=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=we.zb)(l),$n=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=l=>($n=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=we.Ab)(l),ds=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(l,h,y)=>(ds=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=we.Bb)(l,h,y),Kl=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=l=>(Kl=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=we.Cb)(l),di=d._emscripten_bind_SuspendContext_GetKind_0=l=>(di=d._emscripten_bind_SuspendContext_GetKind_0=we.Db)(l),gl=d._emscripten_bind_SuspendContext_Cancel_0=l=>(gl=d._emscripten_bind_SuspendContext_Cancel_0=we.Eb)(l),po=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=l=>(po=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=we.Fb)(l),_a=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=l=>(_a=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=we.Gb)(l),_l=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=l=>(_l=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=we.Hb)(l),Pn=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=l=>(Pn=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=we.Ib)(l),Ql=d._emscripten_bind_SuspendContext___destroy___0=l=>(Ql=d._emscripten_bind_SuspendContext___destroy___0=we.Jb)(l),Od=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(l,h)=>(Od=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=we.Kb)(l,h),vl=d._emscripten_bind_ZipfileWalker_GetState_0=l=>(vl=d._emscripten_bind_ZipfileWalker_GetState_0=we.Lb)(l),ho=d._emscripten_bind_ZipfileWalker_Next_0=l=>(ho=d._emscripten_bind_ZipfileWalker_Next_0=we.Mb)(l),Jl=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=l=>(Jl=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=we.Nb)(l),yl=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=l=>(yl=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=we.Ob)(l),ks=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=l=>(ks=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=we.Pb)(l),ec=d._emscripten_bind_ZipfileWalker___destroy___0=l=>(ec=d._emscripten_bind_ZipfileWalker___destroy___0=we.Qb)(l),Fd=d._emscripten_bind_SessionImage_SessionImage_0=()=>(Fd=d._emscripten_bind_SessionImage_SessionImage_0=we.Rb)(),va=d._emscripten_bind_SessionImage_GetDeviceId_0=l=>(va=d._emscripten_bind_SessionImage_GetDeviceId_0=we.Sb)(l),qs=d._emscripten_bind_SessionImage_SetDeviceId_1=(l,h)=>(qs=d._emscripten_bind_SessionImage_SetDeviceId_1=we.Tb)(l,h),Tc=d._emscripten_bind_SessionImage_GetRomImage_0=l=>(Tc=d._emscripten_bind_SessionImage_GetRomImage_0=we.Ub)(l),Ac=d._emscripten_bind_SessionImage_GetRomImageSize_0=l=>(Ac=d._emscripten_bind_SessionImage_GetRomImageSize_0=we.Vb)(l),Yn=d._emscripten_bind_SessionImage_SetRomImage_2=(l,h,y)=>(Yn=d._emscripten_bind_SessionImage_SetRomImage_2=we.Wb)(l,h,y),gg=d._emscripten_bind_SessionImage_GetMemoryImage_0=l=>(gg=d._emscripten_bind_SessionImage_GetMemoryImage_0=we.Xb)(l),hu=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=l=>(hu=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=we.Yb)(l),Nd=d._emscripten_bind_SessionImage_SetMemoryImage_2=(l,h,y)=>(Nd=d._emscripten_bind_SessionImage_SetMemoryImage_2=we.Zb)(l,h,y),Ms=d._emscripten_bind_SessionImage_GetMetadata_0=l=>(Ms=d._emscripten_bind_SessionImage_GetMetadata_0=we._b)(l),Pc=d._emscripten_bind_SessionImage_GetMetadataSize_0=l=>(Pc=d._emscripten_bind_SessionImage_GetMetadataSize_0=we.$b)(l),bl=d._emscripten_bind_SessionImage_SetMetadata_2=(l,h,y)=>(bl=d._emscripten_bind_SessionImage_SetMetadata_2=we.ac)(l,h,y),tc=d._emscripten_bind_SessionImage_GetSavestate_0=l=>(tc=d._emscripten_bind_SessionImage_GetSavestate_0=we.bc)(l),Xo=d._emscripten_bind_SessionImage_GetSavestateSize_0=l=>(Xo=d._emscripten_bind_SessionImage_GetSavestateSize_0=we.cc)(l),_g=d._emscripten_bind_SessionImage_SetSavestate_2=(l,h,y)=>(_g=d._emscripten_bind_SessionImage_SetSavestate_2=we.dc)(l,h,y),xi=d._emscripten_bind_SessionImage_GetVersion_0=l=>(xi=d._emscripten_bind_SessionImage_GetVersion_0=we.ec)(l),ki=d._emscripten_bind_SessionImage_Serialize_0=l=>(ki=d._emscripten_bind_SessionImage_Serialize_0=we.fc)(l),mu=d._emscripten_bind_SessionImage_GetSerializedImage_0=l=>(mu=d._emscripten_bind_SessionImage_GetSerializedImage_0=we.gc)(l),Pa=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=l=>(Pa=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=we.hc)(l),Rc=d._emscripten_bind_SessionImage_Deserialize_2=(l,h,y)=>(Rc=d._emscripten_bind_SessionImage_Deserialize_2=we.ic)(l,h,y),fs=d._emscripten_bind_SessionImage___destroy___0=l=>(fs=d._emscripten_bind_SessionImage___destroy___0=we.jc)(l),gu=d._emscripten_bind_SkinLoader_SkinLoader_1=l=>(gu=d._emscripten_bind_SkinLoader_SkinLoader_1=we.kc)(l),Sp=d._emscripten_bind_SkinLoader_GetData_0=l=>(Sp=d._emscripten_bind_SkinLoader_GetData_0=we.lc)(l),Ep=d._emscripten_bind_SkinLoader_GetSize_0=l=>(Ep=d._emscripten_bind_SkinLoader_GetSize_0=we.mc)(l),vg=d._emscripten_bind_SkinLoader___destroy___0=l=>(vg=d._emscripten_bind_SkinLoader___destroy___0=we.nc)(l),Dp=d._emscripten_bind_GunzipContext_GunzipContext_3=(l,h,y)=>(Dp=d._emscripten_bind_GunzipContext_GunzipContext_3=we.oc)(l,h,y),Ip=d._emscripten_bind_GunzipContext_GetState_0=l=>(Ip=d._emscripten_bind_GunzipContext_GetState_0=we.pc)(l),yg=d._emscripten_bind_GunzipContext_Continue_0=l=>(yg=d._emscripten_bind_GunzipContext_Continue_0=we.qc)(l),bg=d._emscripten_bind_GunzipContext_GetUncompressedData_0=l=>(bg=d._emscripten_bind_GunzipContext_GetUncompressedData_0=we.rc)(l),Cg=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=l=>(Cg=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=we.sc)(l),wg=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=l=>(wg=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=we.tc)(l),Sg=d._emscripten_bind_GunzipContext_GetError_0=l=>(Sg=d._emscripten_bind_GunzipContext_GetError_0=we.uc)(l),Eg=d._emscripten_bind_GunzipContext___destroy___0=l=>(Eg=d._emscripten_bind_GunzipContext___destroy___0=we.vc)(l),Dg=l=>(Dg=we.xc)(l);function xg(){function l(){Oc||(Oc=!0,d.calledRun=!0,!rt&&(function ht(){!d.noFSInit&&!x.init.initialized&&x.init(),x.ignorePermissions=!1,Vt.init(),De(We)}(),function Ee(){De(nt)}(),ee(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),kg&&function g0(){var l=al;try{var T=l(0,0);return ue(T),T}catch(q){return(l=>{if(l instanceof _o||"unwind"==l)return tt;j(1,l)})(q)}}(),function Ye(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)l=d.postRun.shift(),Nt.unshift(l);var l;De(Nt)}()))}U>0||(function Ct(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)l=d.preRun.shift(),Ce.unshift(l);var l;De(Ce)}(),U>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),l()},1)):l())}if(d.___original_main=()=>(d.___original_main=we.yc)(),d.___start_em_js=1472759,d.___stop_em_js=1472956,d.addFunction=(l,h)=>{var y=(l=>(Us||(Us=new WeakMap,((l,h)=>{if(Us)for(var y=0;y<0+h;y++){var T=sa(y);T&&Us.set(T,y)}})(0,Ve.length)),Us.get(l)||0))(l);if(y)return y;var T=(()=>{if(ol.length)return ol.pop();try{Ve.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return Ve.length-1})();try{il(T,l)}catch(ye){if(!(ye instanceof TypeError))throw ye;var q=((l,h)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((l=>{for(var h={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},y={parameters:[],results:"v"==l[0]?[]:[h[l[0]]]},T=1;T<l.length;++T)y.parameters.push(h[l[T]]);return y})(h),l);var y=[1];((l,h)=>{var y=l.slice(0,1),T=l.slice(1),q={i:127,p:127,j:126,f:125,d:124};h.push(96),on(T.length,h);for(var ye=0;ye<T.length;++ye)h.push(q[T[ye]]);"v"==y?h.push(0):h.push(1,q[y])})(h,y);var T=[0,97,115,109,1,0,0,0,1];on(y.length,T),T.push.apply(T,y),T.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var q=new WebAssembly.Module(new Uint8Array(T));return new WebAssembly.Instance(q,{e:{f:l}}).exports.f})(l,h);il(T,q)}return Us.set(l,T),T},d.UTF8ToString=Tt,Gt=function l(){Oc||xg(),Oc||(Gt=l)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var kg=!0;function Sr(){}function Ys(l){return(l||Sr).__cache__}function ar(l,h){var y=Ys(h),T=y[l];return T||((T=Object.create((h||Sr).prototype)).ptr=l,y[l]=T)}d.noInitialRun&&(kg=!1),xg(),(Sr.prototype=Object.create(Sr.prototype)).constructor=Sr,Sr.prototype.__class__=Sr,Sr.__cache__={},d.WrapperObject=Sr,d.getCache=Ys,d.wrapPointer=ar,d.castObject=function Ld(l,h){return ar(l.ptr,h)},d.NULL=ar(0),d.destroy=function xp(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete Ys(l.__class__)[l.ptr]},d.compare=function Mg(l,h){return l.ptr===h.ptr},d.getPointer=function Tg(l){return l.ptr},d.getClass=function Ag(l){return l.__class__};var Vn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Vn.needed){for(var l=0;l<Vn.temps.length;l++)d._webidl_free(Vn.temps[l]);Vn.temps.length=0,d._webidl_free(Vn.buffer),Vn.buffer=0,Vn.size+=Vn.needed,Vn.needed=0}Vn.buffer||(Vn.size+=128,Vn.buffer=d._webidl_malloc(Vn.size),he(Vn.buffer)),Vn.pos=0},alloc(l,h){he(Vn.buffer);var q,T=l.length*h.BYTES_PER_ELEMENT;return Vn.pos+(T=T+7&-8)>=Vn.size?(he(T>0),Vn.needed+=T,q=d._webidl_malloc(T),Vn.temps.push(q)):(q=Vn.buffer+Vn.pos,Vn.pos+=T),q},copy(l,h,y){switch(y>>>=0,h.BYTES_PER_ELEMENT){case 2:y>>>=1;break;case 4:y>>>=2;break;case 8:y>>>=3}for(var q=0;q<l.length;q++)h[y+q]=l[q]}};function Ko(l){if("string"==typeof l){var h=Ln(l),y=Vn.alloc(h,le);return Vn.copy(h,le,y),y}return l}function Xn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Je(){this.ptr=ll(),Ys(Je)[this.ptr]=this}function Zn(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=mr(l,h),Ys(Zn)[this.ptr]=this}function tr(){throw"cannot construct a Frame, no constructor in IDL"}function zr(){throw"cannot construct a DbBackup, no constructor in IDL"}function Qo(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function bi(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function fi(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function Jo(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function wo(){throw"cannot construct a SuspendContext, no constructor in IDL"}function So(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=Od(l,h),Ys(So)[this.ptr]=this}function vn(){this.ptr=Fd(),Ys(vn)[this.ptr]=this}function Bi(l){Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),this.ptr=gu(l),Ys(Bi)[this.ptr]=this}function Wr(l,h,y){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=Dp(l,h,y),Ys(Wr)[this.ptr]=this}return(Xn.prototype=Object.create(Sr.prototype)).constructor=Xn,Xn.prototype.__class__=Xn,Xn.__cache__={},d.VoidPtr=Xn,Xn.prototype.__destroy__=Xn.prototype.__destroy__=function(){mt(this.ptr)},(Je.prototype=Object.create(Sr.prototype)).constructor=Je,Je.prototype.__class__=Je,Je.__cache__={},d.Cloudpilot=Je,Je.prototype.Malloc=Je.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),ar(yr(this.ptr,l),Xn)},Je.prototype.Free=Je.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),Es(this.ptr,l)},Je.prototype.Nullptr=Je.prototype.Nullptr=function(){return ar(ka(this.ptr),Xn)},Je.prototype.InitializeSession=Je.prototype.InitializeSession=function(l,h,y){var T=this.ptr;return Vn.prepare(),l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),y=y&&"object"==typeof y?y.ptr:Ko(y),!!la(T,l,h,y)},Je.prototype.GetCyclesPerSecond=Je.prototype.GetCyclesPerSecond=function(){return Ma(this.ptr)},Je.prototype.RunEmulation=Je.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),Ds(this.ptr,l)},Je.prototype.SetClockFactor=Je.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),Is(this.ptr,l)},Je.prototype.CopyFrame=Je.prototype.CopyFrame=function(){return ar(Gs(this.ptr),tr)},Je.prototype.IsScreenDirty=Je.prototype.IsScreenDirty=function(){return!!ca(this.ptr)},Je.prototype.MarkScreenClean=Je.prototype.MarkScreenClean=function(){Ta(this.ptr)},Je.prototype.MinMemoryForDevice=Je.prototype.MinMemoryForDevice=function(l){var h=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),An(h,l)},Je.prototype.FramebufferSizeForDevice=Je.prototype.FramebufferSizeForDevice=function(l){var h=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),zs(h,l)},Je.prototype.TotalMemoryForDevice=Je.prototype.TotalMemoryForDevice=function(l){var h=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),ua(h,l)},Je.prototype.QueuePenMove=Je.prototype.QueuePenMove=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),vo(this.ptr,l,h)},Je.prototype.QueuePenUp=Je.prototype.QueuePenUp=function(){da(this.ptr)},Je.prototype.QueueButtonDown=Je.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),cl(this.ptr,l)},Je.prototype.QueueButtonUp=Je.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),ir(this.ptr,l)},Je.prototype.QueueKeyboardEvent=Je.prototype.QueueKeyboardEvent=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ul(this.ptr,l,h)},Je.prototype.IsPowerOff=Je.prototype.IsPowerOff=function(){return!!Xl(this.ptr)},Je.prototype.IsUIInitialized=Je.prototype.IsUIInitialized=function(){return!!fa(this.ptr)},Je.prototype.GetOSVersion=Je.prototype.GetOSVersion=function(){return pa(this.ptr)},Je.prototype.IsSetupComplete=Je.prototype.IsSetupComplete=function(){return!!dl(this.ptr)},Je.prototype.Reset=Je.prototype.Reset=function(){Aa(this.ptr)},Je.prototype.ResetNoExtensions=Je.prototype.ResetNoExtensions=function(){Ws(this.ptr)},Je.prototype.ResetHard=Je.prototype.ResetHard=function(){ha(this.ptr)},Je.prototype.InstallDb=Je.prototype.InstallDb=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),fl(this.ptr,l,h)},Je.prototype.GetPalette2bitMapping=Je.prototype.GetPalette2bitMapping=function(){return pl(this.ptr)},Je.prototype.GetMemoryPtr=Je.prototype.GetMemoryPtr=function(){return ar(yo(this.ptr),Xn)},Je.prototype.GetDirtyPagesPtr=Je.prototype.GetDirtyPagesPtr=function(){return ar(Wi(this.ptr),Xn)},Je.prototype.GetMemorySize=Je.prototype.GetMemorySize=function(){return Yo(this.ptr)},Je.prototype.ImportMemoryImage=Je.prototype.ImportMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!xs(this.ptr,l,h)},Je.prototype.GetRomPtr=Je.prototype.GetRomPtr=function(){return ar(ma(this.ptr),Xn)},Je.prototype.GetRomSize=Je.prototype.GetRomSize=function(){return Zs(this.ptr)},Je.prototype.GetSavestatePtr=Je.prototype.GetSavestatePtr=function(){return ar(hl(this.ptr),Xn)},Je.prototype.GetSavestateSize=Je.prototype.GetSavestateSize=function(){return ml(this.ptr)},Je.prototype.SaveState=Je.prototype.SaveState=function(){return!!ur(this.ptr)},Je.prototype.LoadState=Je.prototype.LoadState=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!ga(this.ptr,l,h)},Je.prototype.GetHotsyncName=Je.prototype.GetHotsyncName=function(){return Tt(Ar(this.ptr))},Je.prototype.SetHotsyncName=Je.prototype.SetHotsyncName=function(l){var h=this.ptr;Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),fo(h,l)},Je.prototype.RegisterPwmHandler=Je.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),Dr(this.ptr,l)},Je.prototype.StartBackup=Je.prototype.StartBackup=function(){return ar(Vr(this.ptr),zr)},Je.prototype.SetClipboardIntegration=Je.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),de(this.ptr,l)},Je.prototype.GetClipboardIntegration=Je.prototype.GetClipboardIntegration=function(){return!!dr(this.ptr)},Je.prototype.IsSuspended=Je.prototype.IsSuspended=function(){return!!f(this.ptr)},Je.prototype.GetSuspendContext=Je.prototype.GetSuspendContext=function(){return ar(_(this.ptr),wo)},Je.prototype.SetNetworkRedirection=Je.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),C(this.ptr,l)},Je.prototype.GetNetworkRedirection=Je.prototype.GetNetworkRedirection=function(){return!!F(this.ptr)},Je.prototype.RegisterProxyDisconnectHandler=Je.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),Z(this.ptr,l)},Je.prototype.SetHotsyncNameManagement=Je.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),ve(this.ptr,l)},Je.prototype.LaunchAppByName=Je.prototype.LaunchAppByName=function(l){var h=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),!!xe(h,l)},Je.prototype.LaunchAppByDbHeader=Je.prototype.LaunchAppByDbHeader=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!je(this.ptr,l,h)},Je.prototype.DeviceSupportsCardSize=Je.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Mt(this.ptr,l)},Je.prototype.ClearExternalStorage=Je.prototype.ClearExternalStorage=function(){cn(this.ptr)},Je.prototype.AllocateCard=Je.prototype.AllocateCard=function(l,h){var y=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),h&&"object"==typeof h&&(h=h.ptr),!!Tn(y,l,h)},Je.prototype.AdoptCard=Je.prototype.AdoptCard=function(l,h,y){var T=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),h&&"object"==typeof h&&(h=h.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Yt(T,l,h,y)},Je.prototype.MountCard=Je.prototype.MountCard=function(l){var h=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),!!wn(h,l)},Je.prototype.RemoveCard=Je.prototype.RemoveCard=function(l){var h=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),!!fn(h,l)},Je.prototype.GetCardData=Je.prototype.GetCardData=function(l){var h=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),ar(Bn(h,l),Xn)},Je.prototype.GetCardDirtyPages=Je.prototype.GetCardDirtyPages=function(l){var h=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),ar(Ur(h,l),Xn)},Je.prototype.GetCardSize=Je.prototype.GetCardSize=function(l){var h=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),Qr(h,l)},Je.prototype.RemountCards=Je.prototype.RemountCards=function(){io(this.ptr)},Je.prototype.GetSupportLevel=Je.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),yt(this.ptr,l)},Je.prototype.GetMountedKey=Je.prototype.GetMountedKey=function(){return Tt(an(this.ptr))},Je.prototype.__destroy__=Je.prototype.__destroy__=function(){Hr(this.ptr)},(Zn.prototype=Object.create(Sr.prototype)).constructor=Zn,Zn.prototype.__class__=Zn,Zn.__cache__={},d.RomInfo=Zn,Zn.prototype.IsValid=Zn.prototype.IsValid=function(){return!!sr(this.ptr)},Zn.prototype.CardVersion=Zn.prototype.CardVersion=function(){return Jn(this.ptr)},Zn.prototype.CardName=Zn.prototype.CardName=function(){return Tt(bo(this.ptr))},Zn.prototype.RomVersion=Zn.prototype.RomVersion=function(){return kc(this.ptr)},Zn.prototype.RomVersionString=Zn.prototype.RomVersionString=function(){return Tt(du(this.ptr))},Zn.prototype.Supports=Zn.prototype.Supports=function(l){var h=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),!!Mc(h,l)},Zn.prototype.__destroy__=Zn.prototype.__destroy__=function(){fu(this.ptr)},(tr.prototype=Object.create(Sr.prototype)).constructor=tr,tr.prototype.__class__=tr,tr.__cache__={},d.Frame=tr,tr.prototype.GetLineWidth=tr.prototype.GetLineWidth=function(){return pu(this.ptr)},tr.prototype.GetBpp=tr.prototype.GetBpp=function(){return Sn(this.ptr)},tr.prototype.GetLines=tr.prototype.GetLines=function(){return Ao(this.ptr)},tr.prototype.GetMargin=tr.prototype.GetMargin=function(){return Po(this.ptr)},tr.prototype.GetBytesPerLine=tr.prototype.GetBytesPerLine=function(){return Jr(this.ptr)},tr.prototype.GetFirstDirtyLine=tr.prototype.GetFirstDirtyLine=function(){return tn(this.ptr)},tr.prototype.GetLastDirtyLine=tr.prototype.GetLastDirtyLine=function(){return so(this.ptr)},tr.prototype.GetHasChanges=tr.prototype.GetHasChanges=function(){return!!Ir(this.ptr)},tr.prototype.GetBuffer=tr.prototype.GetBuffer=function(){return ar(ao(this.ptr),Xn)},tr.prototype.GetBufferSize=tr.prototype.GetBufferSize=function(){return Fr(this.ptr)},tr.prototype.GetScaleX=tr.prototype.GetScaleX=function(){return br(this.ptr)},tr.prototype.GetScaleY=tr.prototype.GetScaleY=function(){return u(this.ptr)},tr.prototype.__destroy__=tr.prototype.__destroy__=function(){m(this.ptr)},(zr.prototype=Object.create(Sr.prototype)).constructor=zr,zr.prototype.__class__=zr,zr.__cache__={},d.DbBackup=zr,zr.prototype.Init=zr.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!b(this.ptr,l)},zr.prototype.IsInProgress=zr.prototype.IsInProgress=function(){return!!O(this.ptr)},zr.prototype.IsDone=zr.prototype.IsDone=function(){return!!Y(this.ptr)},zr.prototype.GetCurrentDatabase=zr.prototype.GetCurrentDatabase=function(){return Tt(me(this.ptr))},zr.prototype.Save=zr.prototype.Save=function(){return!!Me(this.ptr)},zr.prototype.Skip=zr.prototype.Skip=function(){Ge(this.ptr)},zr.prototype.GetArchivePtr=zr.prototype.GetArchivePtr=function(){return ar(Ze(this.ptr),Xn)},zr.prototype.GetArchiveSize=zr.prototype.GetArchiveSize=function(){return qt(this.ptr)},zr.prototype.__destroy__=zr.prototype.__destroy__=function(){zt(this.ptr)},(Qo.prototype=Object.create(Sr.prototype)).constructor=Qo,Qo.prototype.__class__=Qo,Qo.__cache__={},d.SuspendContextClipboardCopy=Qo,Qo.prototype.Cancel=Qo.prototype.Cancel=function(){In(this.ptr)},Qo.prototype.Resume=Qo.prototype.Resume=function(){sn(this.ptr)},Qo.prototype.GetClipboardContent=Qo.prototype.GetClipboardContent=function(){return Tt(dn(this.ptr))},Qo.prototype.__destroy__=Qo.prototype.__destroy__=function(){En(this.ptr)},(bi.prototype=Object.create(Sr.prototype)).constructor=bi,bi.prototype.__class__=bi,bi.__cache__={},d.SuspendContextClipboardPaste=bi,bi.prototype.Cancel=bi.prototype.Cancel=function(){eo(this.ptr)},bi.prototype.Resume=bi.prototype.Resume=function(l){var h=this.ptr;Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),yi(h,l)},bi.prototype.__destroy__=bi.prototype.__destroy__=function(){Co(this.ptr)},(fi.prototype=Object.create(Sr.prototype)).constructor=fi,fi.prototype.__class__=fi,fi.__cache__={},d.SuspendContextNetworkConnect=fi,fi.prototype.Cancel=fi.prototype.Cancel=function(){wt(this.ptr)},fi.prototype.Resume=fi.prototype.Resume=function(l){var h=this.ptr;Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),pn(h,l)},fi.prototype.__destroy__=fi.prototype.__destroy__=function(){Gn(this.ptr)},(Jo.prototype=Object.create(Sr.prototype)).constructor=Jo,Jo.prototype.__class__=Jo,Jo.__cache__={},d.SuspendContextNetworkRpc=Jo,Jo.prototype.Cancel=Jo.prototype.Cancel=function(){St(this.ptr)},Jo.prototype.GetRequestSize=Jo.prototype.GetRequestSize=function(){return hn(this.ptr)},Jo.prototype.GetRequestData=Jo.prototype.GetRequestData=function(){return ar($n(this.ptr),Xn)},Jo.prototype.ReceiveResponse=Jo.prototype.ReceiveResponse=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ds(this.ptr,l,h)},Jo.prototype.__destroy__=Jo.prototype.__destroy__=function(){Kl(this.ptr)},(wo.prototype=Object.create(Sr.prototype)).constructor=wo,wo.prototype.__class__=wo,wo.__cache__={},d.SuspendContext=wo,wo.prototype.GetKind=wo.prototype.GetKind=function(){return di(this.ptr)},wo.prototype.Cancel=wo.prototype.Cancel=function(){gl(this.ptr)},wo.prototype.AsContextClipboardCopy=wo.prototype.AsContextClipboardCopy=function(){return ar(po(this.ptr),Qo)},wo.prototype.AsContextClipboardPaste=wo.prototype.AsContextClipboardPaste=function(){return ar(_a(this.ptr),bi)},wo.prototype.AsContextNetworkConnect=wo.prototype.AsContextNetworkConnect=function(){return ar(_l(this.ptr),fi)},wo.prototype.AsContextNetworkRpc=wo.prototype.AsContextNetworkRpc=function(){return ar(Pn(this.ptr),Jo)},wo.prototype.__destroy__=wo.prototype.__destroy__=function(){Ql(this.ptr)},(So.prototype=Object.create(Sr.prototype)).constructor=So,So.prototype.__class__=So,So.__cache__={},d.ZipfileWalker=So,So.prototype.GetState=So.prototype.GetState=function(){return vl(this.ptr)},So.prototype.Next=So.prototype.Next=function(){return ho(this.ptr)},So.prototype.GetCurrentEntrySize=So.prototype.GetCurrentEntrySize=function(){return Jl(this.ptr)},So.prototype.GetCurrentEntryName=So.prototype.GetCurrentEntryName=function(){return Tt(yl(this.ptr))},So.prototype.GetCurrentEntryContent=So.prototype.GetCurrentEntryContent=function(){return ar(ks(this.ptr),Xn)},So.prototype.__destroy__=So.prototype.__destroy__=function(){ec(this.ptr)},(vn.prototype=Object.create(Sr.prototype)).constructor=vn,vn.prototype.__class__=vn,vn.__cache__={},d.SessionImage=vn,vn.prototype.GetDeviceId=vn.prototype.GetDeviceId=function(){return Tt(va(this.ptr))},vn.prototype.SetDeviceId=vn.prototype.SetDeviceId=function(l){var h=this.ptr;return Vn.prepare(),l=l&&"object"==typeof l?l.ptr:Ko(l),ar(qs(h,l),vn)},vn.prototype.GetRomImage=vn.prototype.GetRomImage=function(){return ar(Tc(this.ptr),Xn)},vn.prototype.GetRomImageSize=vn.prototype.GetRomImageSize=function(){return Ac(this.ptr)},vn.prototype.SetRomImage=vn.prototype.SetRomImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ar(Yn(this.ptr,l,h),vn)},vn.prototype.GetMemoryImage=vn.prototype.GetMemoryImage=function(){return ar(gg(this.ptr),Xn)},vn.prototype.GetMemoryImageSize=vn.prototype.GetMemoryImageSize=function(){return hu(this.ptr)},vn.prototype.SetMemoryImage=vn.prototype.SetMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ar(Nd(this.ptr,l,h),vn)},vn.prototype.GetMetadata=vn.prototype.GetMetadata=function(){return ar(Ms(this.ptr),Xn)},vn.prototype.GetMetadataSize=vn.prototype.GetMetadataSize=function(){return Pc(this.ptr)},vn.prototype.SetMetadata=vn.prototype.SetMetadata=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ar(bl(this.ptr,l,h),vn)},vn.prototype.GetSavestate=vn.prototype.GetSavestate=function(){return ar(tc(this.ptr),Xn)},vn.prototype.GetSavestateSize=vn.prototype.GetSavestateSize=function(){return Xo(this.ptr)},vn.prototype.SetSavestate=vn.prototype.SetSavestate=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ar(_g(this.ptr,l,h),vn)},vn.prototype.GetVersion=vn.prototype.GetVersion=function(){return xi(this.ptr)},vn.prototype.Serialize=vn.prototype.Serialize=function(){return!!ki(this.ptr)},vn.prototype.GetSerializedImage=vn.prototype.GetSerializedImage=function(){return ar(mu(this.ptr),Xn)},vn.prototype.GetSerializedImageSize=vn.prototype.GetSerializedImageSize=function(){return Pa(this.ptr)},vn.prototype.Deserialize=vn.prototype.Deserialize=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Rc(this.ptr,l,h)},vn.prototype.__destroy__=vn.prototype.__destroy__=function(){fs(this.ptr)},(Bi.prototype=Object.create(Sr.prototype)).constructor=Bi,Bi.prototype.__class__=Bi,Bi.__cache__={},d.SkinLoader=Bi,Bi.prototype.GetData=Bi.prototype.GetData=function(){return ar(Sp(this.ptr),Xn)},Bi.prototype.GetSize=Bi.prototype.GetSize=function(){return Ep(this.ptr)},Bi.prototype.__destroy__=Bi.prototype.__destroy__=function(){vg(this.ptr)},(Wr.prototype=Object.create(Sr.prototype)).constructor=Wr,Wr.prototype.__class__=Wr,Wr.__cache__={},d.GunzipContext=Wr,Wr.prototype.GetState=Wr.prototype.GetState=function(){return Ip(this.ptr)},Wr.prototype.Continue=Wr.prototype.Continue=function(){return yg(this.ptr)},Wr.prototype.GetUncompressedData=Wr.prototype.GetUncompressedData=function(){return ar(bg(this.ptr),Xn)},Wr.prototype.ReleaseUncompressedData=Wr.prototype.ReleaseUncompressedData=function(){return ar(Cg(this.ptr),Xn)},Wr.prototype.GetUncompressedSize=Wr.prototype.GetUncompressedSize=function(){return wg(this.ptr)},Wr.prototype.GetError=Wr.prototype.GetError=function(){return Tt(Sg(this.ptr))},Wr.prototype.__destroy__=Wr.prototype.__destroy__=function(){Eg(this.ptr)},D.ready});ke.exports=Le},3097:ke=>{var P,Le=(P=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(D={}){var ee,te,d=D;d.ready=new Promise((f,_)=>{ee=f,te=_});var H,Re,Pe,V=Object.assign({},d),N="./this.program",j=(f,_)=>{throw _},se="object"==typeof window,Q="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(se||Q)&&(Q?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),P&&($=P),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=f=>{var _=new XMLHttpRequest;return _.open("GET",f,!1),_.send(null),_.responseText},Q&&(Pe=f=>{var _=new XMLHttpRequest;return _.open("GET",f,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),Re=(f,_,C)=>{var F=new XMLHttpRequest;F.open("GET",f,!0),F.responseType="arraybuffer",F.onload=()=>{200==F.status||0==F.status&&F.response?_(F.response):C()},F.onerror=C,F.send(null)});var ae,z=d.print||console.log.bind(console),G=d.printErr||console.error.bind(console);Object.assign(d,V),V=null,d.thisProgram&&(N=d.thisProgram),d.quit&&(j=d.quit),d.wasmBinary&&(ae=d.wasmBinary);var Se=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Nn("no native wasm support detected");var ce,tt,le,ze,M,fe,Dt,rt=!1;function he(f,_){f||Nn(_)}function Wt(){var f=ce.buffer;d.HEAP8=le=new Int8Array(f),d.HEAP16=new Int16Array(f),d.HEAPU8=ze=new Uint8Array(f),d.HEAPU16=new Uint16Array(f),d.HEAP32=M=new Int32Array(f),d.HEAPU32=fe=new Uint32Array(f),d.HEAPF32=new Float32Array(f),d.HEAPF64=Dt=new Float64Array(f)}var Ce=[],We=[],nt=[],Nt=[],U=0,ln=null,Gt=null;function jn(f){U++,d.monitorRunDependencies&&d.monitorRunDependencies(U)}function rr(f){if(U--,d.monitorRunDependencies&&d.monitorRunDependencies(U),0==U&&(null!==ln&&(clearInterval(ln),ln=null),Gt)){var _=Gt;Gt=null,_()}}function Nn(f){d.onAbort&&d.onAbort(f),G(f="Aborted("+f+")"),rt=!0,tt=1,f+=". Build with -sASSERTIONS for more info.";var _=new WebAssembly.RuntimeError(f);throw te(_),_}var hr;function vr(f){return f.startsWith("data:application/octet-stream;base64,")}function No(f){if(f==hr&&ae)return new Uint8Array(ae);if(Pe)return Pe(f);throw"both async and sync fetching of the wasm failed"}function go(f,_,C){return function ai(f){return ae||!se&&!Q||"function"!=typeof fetch?Promise.resolve().then(()=>No(f)):fetch(f,{credentials:"same-origin"}).then(_=>{if(!_.ok)throw"failed to load wasm binary file at '"+f+"'";return _.arrayBuffer()}).catch(()=>No(f))}(f).then(F=>WebAssembly.instantiate(F,_)).then(F=>F).then(C,F=>{G(`failed to asynchronously prepare wasm: ${F}`),Nn(F)})}vr(hr="fstools_web.wasm")||(hr=function L(f){return d.locateFile?d.locateFile(f,$):$+f}(hr));var Xe,jt,Xr={1092656:()=>{throw new Error("terminated")}};function Lo(f){this.name="ExitStatus",this.message=`Program terminated with exit(${f})`,this.status=f}var _o=f=>{for(;f.length>0;)f.shift()(d)},De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ae=(f,_,C)=>{for(var F=_+C,Z=_;f[Z]&&!(Z>=F);)++Z;if(Z-_>16&&f.buffer&&De)return De.decode(f.subarray(_,Z));for(var ve="";_<Z;){var xe=f[_++];if(128&xe){var je=63&f[_++];if(192!=(224&xe)){var Mt=63&f[_++];if((xe=224==(240&xe)?(15&xe)<<12|je<<6|Mt:(7&xe)<<18|je<<12|Mt<<6|63&f[_++])<65536)ve+=String.fromCharCode(xe);else{var cn=xe-65536;ve+=String.fromCharCode(55296|cn>>10,56320|1023&cn)}}else ve+=String.fromCharCode((31&xe)<<6|je)}else ve+=String.fromCharCode(xe)}return ve},yn=(f,_)=>f?Ae(ze,f,_):"",un={isAbs:f=>"/"===f.charAt(0),splitPath:f=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1),normalizeArray:(f,_)=>{for(var C=0,F=f.length-1;F>=0;F--){var Z=f[F];"."===Z?f.splice(F,1):".."===Z?(f.splice(F,1),C++):C&&(f.splice(F,1),C--)}if(_)for(;C;C--)f.unshift("..");return f},normalize:f=>{var _=un.isAbs(f),C="/"===f.substr(-1);return!(f=un.normalizeArray(f.split("/").filter(F=>!!F),!_).join("/"))&&!_&&(f="."),f&&C&&(f+="/"),(_?"/":"")+f},dirname:f=>{var _=un.splitPath(f),C=_[0],F=_[1];return C||F?(F&&(F=F.substr(0,F.length-1)),C+F):"."},basename:f=>{if("/"===f)return"/";var _=(f=(f=un.normalize(f)).replace(/\/$/,"")).lastIndexOf("/");return-1===_?f:f.substr(_+1)},join:function(){var f=Array.prototype.slice.call(arguments);return un.normalize(f.join("/"))},join2:(f,_)=>un.normalize(f+"/"+_)},Or=f=>(Or=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return f=>crypto.getRandomValues(f);Nn("initRandomDevice")})())(f),Tr={resolve:function(){for(var f="",_=!1,C=arguments.length-1;C>=-1&&!_;C--){var F=C>=0?arguments[C]:k.cwd();if("string"!=typeof F)throw new TypeError("Arguments to path.resolve must be strings");if(!F)return"";f=F+"/"+f,_=un.isAbs(F)}return(_?"/":"")+(f=un.normalizeArray(f.split("/").filter(Z=>!!Z),!_).join("/"))||"."},relative:(f,_)=>{function C(cn){for(var Tn=0;Tn<cn.length&&""===cn[Tn];Tn++);for(var Yt=cn.length-1;Yt>=0&&""===cn[Yt];Yt--);return Tn>Yt?[]:cn.slice(Tn,Yt-Tn+1)}f=Tr.resolve(f).substr(1),_=Tr.resolve(_).substr(1);for(var F=C(f.split("/")),Z=C(_.split("/")),ve=Math.min(F.length,Z.length),xe=ve,je=0;je<ve;je++)if(F[je]!==Z[je]){xe=je;break}var Mt=[];for(je=xe;je<F.length;je++)Mt.push("..");return(Mt=Mt.concat(Z.slice(xe))).join("/")}},er=[],Kr=f=>{for(var _=0,C=0;C<f.length;++C){var F=f.charCodeAt(C);F<=127?_++:F<=2047?_+=2:F>=55296&&F<=57343?(_+=4,++C):_+=3}return _},xo=(f,_,C,F)=>{if(!(F>0))return 0;for(var Z=C,ve=C+F-1,xe=0;xe<f.length;++xe){var je=f.charCodeAt(xe);if(je>=55296&&je<=57343&&(je=65536+((1023&je)<<10)|1023&f.charCodeAt(++xe)),je<=127){if(C>=ve)break;_[C++]=je}else if(je<=2047){if(C+1>=ve)break;_[C++]=192|je>>6,_[C++]=128|63&je}else if(je<=65535){if(C+2>=ve)break;_[C++]=224|je>>12,_[C++]=128|je>>6&63,_[C++]=128|63&je}else{if(C+3>=ve)break;_[C++]=240|je>>18,_[C++]=128|je>>12&63,_[C++]=128|je>>6&63,_[C++]=128|63&je}}return _[C]=0,C-Z};function Er(f,_,C){var F=C>0?C:Kr(f)+1,Z=new Array(F),ve=xo(f,Z,0,Z.length);return _&&(Z.length=ve),Z}var Br={ttys:[],init(){},shutdown(){},register(f,_){Br.ttys[f]={input:[],output:[],ops:_},k.registerDevice(f,Br.stream_ops)},stream_ops:{open(f){var _=Br.ttys[f.node.rdev];if(!_)throw new k.ErrnoError(43);f.tty=_,f.seekable=!1},close(f){f.tty.ops.fsync(f.tty)},fsync(f){f.tty.ops.fsync(f.tty)},read(f,_,C,F,Z){if(!f.tty||!f.tty.ops.get_char)throw new k.ErrnoError(60);for(var ve=0,xe=0;xe<F;xe++){var je;try{je=f.tty.ops.get_char(f.tty)}catch{throw new k.ErrnoError(29)}if(void 0===je&&0===ve)throw new k.ErrnoError(6);if(null==je)break;ve++,_[C+xe]=je}return ve&&(f.node.timestamp=Date.now()),ve},write(f,_,C,F,Z){if(!f.tty||!f.tty.ops.put_char)throw new k.ErrnoError(60);try{for(var ve=0;ve<F;ve++)f.tty.ops.put_char(f.tty,_[C+ve])}catch{throw new k.ErrnoError(29)}return F&&(f.node.timestamp=Date.now()),ve}},default_tty_ops:{get_char:f=>(()=>{if(!er.length){var f=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(f=window.prompt("Input: "))&&(f+="\n"):"function"==typeof readline&&null!==(f=readline())&&(f+="\n"),!f)return null;er=Er(f,!0)}return er.shift()})(),put_char(f,_){null===_||10===_?(z(Ae(f.output,0)),f.output=[]):0!=_&&f.output.push(_)},fsync(f){f.output&&f.output.length>0&&(z(Ae(f.output,0)),f.output=[])},ioctl_tcgets:f=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(f,_,C)=>0,ioctl_tiocgwinsz:f=>[24,80]},default_tty1_ops:{put_char(f,_){null===_||10===_?(G(Ae(f.output,0)),f.output=[]):0!=_&&f.output.push(_)},fsync(f){f.output&&f.output.length>0&&(G(Ae(f.output,0)),f.output=[])}}},Vt=f=>{Nn()},nn={ops_table:null,mount:f=>nn.createNode(null,"/",16895,0),createNode(f,_,C,F){if(k.isBlkdev(C)||k.isFIFO(C))throw new k.ErrnoError(63);nn.ops_table||(nn.ops_table={dir:{node:{getattr:nn.node_ops.getattr,setattr:nn.node_ops.setattr,lookup:nn.node_ops.lookup,mknod:nn.node_ops.mknod,rename:nn.node_ops.rename,unlink:nn.node_ops.unlink,rmdir:nn.node_ops.rmdir,readdir:nn.node_ops.readdir,symlink:nn.node_ops.symlink},stream:{llseek:nn.stream_ops.llseek}},file:{node:{getattr:nn.node_ops.getattr,setattr:nn.node_ops.setattr},stream:{llseek:nn.stream_ops.llseek,read:nn.stream_ops.read,write:nn.stream_ops.write,allocate:nn.stream_ops.allocate,mmap:nn.stream_ops.mmap,msync:nn.stream_ops.msync}},link:{node:{getattr:nn.node_ops.getattr,setattr:nn.node_ops.setattr,readlink:nn.node_ops.readlink},stream:{}},chrdev:{node:{getattr:nn.node_ops.getattr,setattr:nn.node_ops.setattr},stream:k.chrdev_stream_ops}});var Z=k.createNode(f,_,C,F);return k.isDir(Z.mode)?(Z.node_ops=nn.ops_table.dir.node,Z.stream_ops=nn.ops_table.dir.stream,Z.contents={}):k.isFile(Z.mode)?(Z.node_ops=nn.ops_table.file.node,Z.stream_ops=nn.ops_table.file.stream,Z.usedBytes=0,Z.contents=null):k.isLink(Z.mode)?(Z.node_ops=nn.ops_table.link.node,Z.stream_ops=nn.ops_table.link.stream):k.isChrdev(Z.mode)&&(Z.node_ops=nn.ops_table.chrdev.node,Z.stream_ops=nn.ops_table.chrdev.stream),Z.timestamp=Date.now(),f&&(f.contents[_]=Z,f.timestamp=Z.timestamp),Z},getFileDataAsTypedArray:f=>f.contents?f.contents.subarray?f.contents.subarray(0,f.usedBytes):new Uint8Array(f.contents):new Uint8Array(0),expandFileStorage(f,_){var C=f.contents?f.contents.length:0;if(!(C>=_)){_=Math.max(_,C*(C<1048576?2:1.125)>>>0),0!=C&&(_=Math.max(_,256));var Z=f.contents;f.contents=new Uint8Array(_),f.usedBytes>0&&f.contents.set(Z.subarray(0,f.usedBytes),0)}},resizeFileStorage(f,_){if(f.usedBytes!=_)if(0==_)f.contents=null,f.usedBytes=0;else{var C=f.contents;f.contents=new Uint8Array(_),C&&f.contents.set(C.subarray(0,Math.min(_,f.usedBytes))),f.usedBytes=_}},node_ops:{getattr(f){var _={};return _.dev=k.isChrdev(f.mode)?f.id:1,_.ino=f.id,_.mode=f.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=f.rdev,_.size=k.isDir(f.mode)?4096:k.isFile(f.mode)?f.usedBytes:k.isLink(f.mode)?f.link.length:0,_.atime=new Date(f.timestamp),_.mtime=new Date(f.timestamp),_.ctime=new Date(f.timestamp),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},setattr(f,_){void 0!==_.mode&&(f.mode=_.mode),void 0!==_.timestamp&&(f.timestamp=_.timestamp),void 0!==_.size&&nn.resizeFileStorage(f,_.size)},lookup(f,_){throw k.genericErrors[44]},mknod:(f,_,C,F)=>nn.createNode(f,_,C,F),rename(f,_,C){if(k.isDir(f.mode)){var F;try{F=k.lookupNode(_,C)}catch{}if(F)for(var Z in F.contents)throw new k.ErrnoError(55)}delete f.parent.contents[f.name],f.parent.timestamp=Date.now(),f.name=C,_.contents[C]=f,_.timestamp=f.parent.timestamp,f.parent=_},unlink(f,_){delete f.contents[_],f.timestamp=Date.now()},rmdir(f,_){var C=k.lookupNode(f,_);for(var F in C.contents)throw new k.ErrnoError(55);delete f.contents[_],f.timestamp=Date.now()},readdir(f){var _=[".",".."];for(var C in f.contents)f.contents.hasOwnProperty(C)&&_.push(C);return _},symlink(f,_,C){var F=nn.createNode(f,_,41471,0);return F.link=C,F},readlink(f){if(!k.isLink(f.mode))throw new k.ErrnoError(28);return f.link}},stream_ops:{read(f,_,C,F,Z){var ve=f.node.contents;if(Z>=f.node.usedBytes)return 0;var xe=Math.min(f.node.usedBytes-Z,F);if(xe>8&&ve.subarray)_.set(ve.subarray(Z,Z+xe),C);else for(var je=0;je<xe;je++)_[C+je]=ve[Z+je];return xe},write(f,_,C,F,Z,ve){if(_.buffer===le.buffer&&(ve=!1),!F)return 0;var xe=f.node;if(xe.timestamp=Date.now(),_.subarray&&(!xe.contents||xe.contents.subarray)){if(ve)return xe.contents=_.subarray(C,C+F),xe.usedBytes=F,F;if(0===xe.usedBytes&&0===Z)return xe.contents=_.slice(C,C+F),xe.usedBytes=F,F;if(Z+F<=xe.usedBytes)return xe.contents.set(_.subarray(C,C+F),Z),F}if(nn.expandFileStorage(xe,Z+F),xe.contents.subarray&&_.subarray)xe.contents.set(_.subarray(C,C+F),Z);else for(var je=0;je<F;je++)xe.contents[Z+je]=_[C+je];return xe.usedBytes=Math.max(xe.usedBytes,Z+F),F},llseek(f,_,C){var F=_;if(1===C?F+=f.position:2===C&&k.isFile(f.node.mode)&&(F+=f.node.usedBytes),F<0)throw new k.ErrnoError(28);return F},allocate(f,_,C){nn.expandFileStorage(f.node,_+C),f.node.usedBytes=Math.max(f.node.usedBytes,_+C)},mmap(f,_,C,F,Z){if(!k.isFile(f.node.mode))throw new k.ErrnoError(43);var ve,xe,je=f.node.contents;if(2&Z||je.buffer!==le.buffer){if((C>0||C+_<je.length)&&(je=je.subarray?je.subarray(C,C+_):Array.prototype.slice.call(je,C,C+_)),xe=!0,!(ve=Vt()))throw new k.ErrnoError(48);le.set(je,ve)}else xe=!1,ve=je.byteOffset;return{ptr:ve,allocated:xe}},msync:(f,_,C,F,Z)=>(nn.stream_ops.write(f,_,0,F,C,!1),0)}},Fi=d.preloadPlugins||[],I=(f,_)=>{var C=0;return f&&(C|=365),_&&(C|=146),C},k={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(f,_={}){if(!(f=Tr.resolve(f)))return{path:"",node:null};if((_=Object.assign({follow_mount:!0,recurse_count:0},_)).recurse_count>8)throw new k.ErrnoError(32);for(var F=f.split("/").filter(Yt=>!!Yt),Z=k.root,ve="/",xe=0;xe<F.length;xe++){var je=xe===F.length-1;if(je&&_.parent)break;if(Z=k.lookupNode(Z,F[xe]),ve=un.join2(ve,F[xe]),k.isMountpoint(Z)&&(!je||je&&_.follow_mount)&&(Z=Z.mounted.root),!je||_.follow)for(var Mt=0;k.isLink(Z.mode);){var cn=k.readlink(ve);if(ve=Tr.resolve(un.dirname(ve),cn),Z=k.lookupPath(ve,{recurse_count:_.recurse_count+1}).node,Mt++>40)throw new k.ErrnoError(32)}}return{path:ve,node:Z}},getPath(f){for(var _;;){if(k.isRoot(f)){var C=f.mount.mountpoint;return _?"/"!==C[C.length-1]?`${C}/${_}`:C+_:C}_=_?`${f.name}/${_}`:f.name,f=f.parent}},hashName(f,_){for(var C=0,F=0;F<_.length;F++)C=(C<<5)-C+_.charCodeAt(F)|0;return(f+C>>>0)%k.nameTable.length},hashAddNode(f){var _=k.hashName(f.parent.id,f.name);f.name_next=k.nameTable[_],k.nameTable[_]=f},hashRemoveNode(f){var _=k.hashName(f.parent.id,f.name);if(k.nameTable[_]===f)k.nameTable[_]=f.name_next;else for(var C=k.nameTable[_];C;){if(C.name_next===f){C.name_next=f.name_next;break}C=C.name_next}},lookupNode(f,_){var C=k.mayLookup(f);if(C)throw new k.ErrnoError(C,f);for(var F=k.hashName(f.id,_),Z=k.nameTable[F];Z;Z=Z.name_next)if(Z.parent.id===f.id&&Z.name===_)return Z;return k.lookup(f,_)},createNode(f,_,C,F){var Z=new k.FSNode(f,_,C,F);return k.hashAddNode(Z),Z},destroyNode(f){k.hashRemoveNode(f)},isRoot:f=>f===f.parent,isMountpoint:f=>!!f.mounted,isFile:f=>32768==(61440&f),isDir:f=>16384==(61440&f),isLink:f=>40960==(61440&f),isChrdev:f=>8192==(61440&f),isBlkdev:f=>24576==(61440&f),isFIFO:f=>4096==(61440&f),isSocket:f=>49152==(49152&f),flagsToPermissionString(f){var _=["r","w","rw"][3&f];return 512&f&&(_+="w"),_},nodePermissions:(f,_)=>k.ignorePermissions?0:_.includes("r")&&!(292&f.mode)||_.includes("w")&&!(146&f.mode)||_.includes("x")&&!(73&f.mode)?2:0,mayLookup:f=>k.nodePermissions(f,"x")||(f.node_ops.lookup?0:2),mayCreate(f,_){try{return k.lookupNode(f,_),20}catch{}return k.nodePermissions(f,"wx")},mayDelete(f,_,C){var F;try{F=k.lookupNode(f,_)}catch(ve){return ve.errno}var Z=k.nodePermissions(f,"wx");if(Z)return Z;if(C){if(!k.isDir(F.mode))return 54;if(k.isRoot(F)||k.getPath(F)===k.cwd())return 10}else if(k.isDir(F.mode))return 31;return 0},mayOpen:(f,_)=>f?k.isLink(f.mode)?32:k.isDir(f.mode)&&("r"!==k.flagsToPermissionString(_)||512&_)?31:k.nodePermissions(f,k.flagsToPermissionString(_)):44,MAX_OPEN_FDS:4096,nextfd(){for(var f=0;f<=k.MAX_OPEN_FDS;f++)if(!k.streams[f])return f;throw new k.ErrnoError(33)},getStreamChecked(f){var _=k.getStream(f);if(!_)throw new k.ErrnoError(8);return _},getStream:f=>k.streams[f],createStream:(f,_=-1)=>(k.FSStream||(k.FSStream=function(){this.shared={}},k.FSStream.prototype={},Object.defineProperties(k.FSStream.prototype,{object:{get(){return this.node},set(C){this.node=C}},isRead:{get(){return 1!=(2097155&this.flags)}},isWrite:{get(){return 0!=(2097155&this.flags)}},isAppend:{get(){return 1024&this.flags}},flags:{get(){return this.shared.flags},set(C){this.shared.flags=C}},position:{get(){return this.shared.position},set(C){this.shared.position=C}}})),f=Object.assign(new k.FSStream,f),-1==_&&(_=k.nextfd()),f.fd=_,k.streams[_]=f,f),closeStream(f){k.streams[f]=null},chrdev_stream_ops:{open(f){var _=k.getDevice(f.node.rdev);f.stream_ops=_.stream_ops,f.stream_ops.open&&f.stream_ops.open(f)},llseek(){throw new k.ErrnoError(70)}},major:f=>f>>8,minor:f=>255&f,makedev:(f,_)=>f<<8|_,registerDevice(f,_){k.devices[f]={stream_ops:_}},getDevice:f=>k.devices[f],getMounts(f){for(var _=[],C=[f];C.length;){var F=C.pop();_.push(F),C.push.apply(C,F.mounts)}return _},syncfs(f,_){"function"==typeof f&&(_=f,f=!1),k.syncFSRequests++,k.syncFSRequests>1&&G(`warning: ${k.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var C=k.getMounts(k.root.mount),F=0;function Z(xe){return k.syncFSRequests--,_(xe)}function ve(xe){if(xe)return ve.errored?void 0:(ve.errored=!0,Z(xe));++F>=C.length&&Z(null)}C.forEach(xe=>{if(!xe.type.syncfs)return ve(null);xe.type.syncfs(xe,f,ve)})},mount(f,_,C){var ve,F="/"===C,Z=!C;if(F&&k.root)throw new k.ErrnoError(10);if(!F&&!Z){var xe=k.lookupPath(C,{follow_mount:!1});if(C=xe.path,k.isMountpoint(ve=xe.node))throw new k.ErrnoError(10);if(!k.isDir(ve.mode))throw new k.ErrnoError(54)}var je={type:f,opts:_,mountpoint:C,mounts:[]},Mt=f.mount(je);return Mt.mount=je,je.root=Mt,F?k.root=Mt:ve&&(ve.mounted=je,ve.mount&&ve.mount.mounts.push(je)),Mt},unmount(f){var _=k.lookupPath(f,{follow_mount:!1});if(!k.isMountpoint(_.node))throw new k.ErrnoError(28);var C=_.node,F=C.mounted,Z=k.getMounts(F);Object.keys(k.nameTable).forEach(xe=>{for(var je=k.nameTable[xe];je;){var Mt=je.name_next;Z.includes(je.mount)&&k.destroyNode(je),je=Mt}}),C.mounted=null;var ve=C.mount.mounts.indexOf(F);C.mount.mounts.splice(ve,1)},lookup:(f,_)=>f.node_ops.lookup(f,_),mknod(f,_,C){var Z=k.lookupPath(f,{parent:!0}).node,ve=un.basename(f);if(!ve||"."===ve||".."===ve)throw new k.ErrnoError(28);var xe=k.mayCreate(Z,ve);if(xe)throw new k.ErrnoError(xe);if(!Z.node_ops.mknod)throw new k.ErrnoError(63);return Z.node_ops.mknod(Z,ve,_,C)},create:(f,_)=>(_=void 0!==_?_:438,_&=4095,k.mknod(f,_|=32768,0)),mkdir:(f,_)=>(_=void 0!==_?_:511,_&=1023,k.mknod(f,_|=16384,0)),mkdirTree(f,_){for(var C=f.split("/"),F="",Z=0;Z<C.length;++Z)if(C[Z]){F+="/"+C[Z];try{k.mkdir(F,_)}catch(ve){if(20!=ve.errno)throw ve}}},mkdev:(f,_,C)=>(typeof C>"u"&&(C=_,_=438),k.mknod(f,_|=8192,C)),symlink(f,_){if(!Tr.resolve(f))throw new k.ErrnoError(44);var F=k.lookupPath(_,{parent:!0}).node;if(!F)throw new k.ErrnoError(44);var Z=un.basename(_),ve=k.mayCreate(F,Z);if(ve)throw new k.ErrnoError(ve);if(!F.node_ops.symlink)throw new k.ErrnoError(63);return F.node_ops.symlink(F,Z,f)},rename(f,_){var je,Mt,C=un.dirname(f),F=un.dirname(_),Z=un.basename(f),ve=un.basename(_);if(je=k.lookupPath(f,{parent:!0}).node,Mt=k.lookupPath(_,{parent:!0}).node,!je||!Mt)throw new k.ErrnoError(44);if(je.mount!==Mt.mount)throw new k.ErrnoError(75);var Yt,cn=k.lookupNode(je,Z),Tn=Tr.relative(f,F);if("."!==Tn.charAt(0))throw new k.ErrnoError(28);if("."!==(Tn=Tr.relative(_,C)).charAt(0))throw new k.ErrnoError(55);try{Yt=k.lookupNode(Mt,ve)}catch{}if(cn!==Yt){var wn=k.isDir(cn.mode),fn=k.mayDelete(je,Z,wn);if(fn)throw new k.ErrnoError(fn);if(fn=Yt?k.mayDelete(Mt,ve,wn):k.mayCreate(Mt,ve))throw new k.ErrnoError(fn);if(!je.node_ops.rename)throw new k.ErrnoError(63);if(k.isMountpoint(cn)||Yt&&k.isMountpoint(Yt))throw new k.ErrnoError(10);if(Mt!==je&&(fn=k.nodePermissions(je,"w")))throw new k.ErrnoError(fn);k.hashRemoveNode(cn);try{je.node_ops.rename(cn,Mt,ve)}catch(Bn){throw Bn}finally{k.hashAddNode(cn)}}},rmdir(f){var C=k.lookupPath(f,{parent:!0}).node,F=un.basename(f),Z=k.lookupNode(C,F),ve=k.mayDelete(C,F,!0);if(ve)throw new k.ErrnoError(ve);if(!C.node_ops.rmdir)throw new k.ErrnoError(63);if(k.isMountpoint(Z))throw new k.ErrnoError(10);C.node_ops.rmdir(C,F),k.destroyNode(Z)},readdir(f){var C=k.lookupPath(f,{follow:!0}).node;if(!C.node_ops.readdir)throw new k.ErrnoError(54);return C.node_ops.readdir(C)},unlink(f){var C=k.lookupPath(f,{parent:!0}).node;if(!C)throw new k.ErrnoError(44);var F=un.basename(f),Z=k.lookupNode(C,F),ve=k.mayDelete(C,F,!1);if(ve)throw new k.ErrnoError(ve);if(!C.node_ops.unlink)throw new k.ErrnoError(63);if(k.isMountpoint(Z))throw new k.ErrnoError(10);C.node_ops.unlink(C,F),k.destroyNode(Z)},readlink(f){var C=k.lookupPath(f).node;if(!C)throw new k.ErrnoError(44);if(!C.node_ops.readlink)throw new k.ErrnoError(28);return Tr.resolve(k.getPath(C.parent),C.node_ops.readlink(C))},stat(f,_){var F=k.lookupPath(f,{follow:!_}).node;if(!F)throw new k.ErrnoError(44);if(!F.node_ops.getattr)throw new k.ErrnoError(63);return F.node_ops.getattr(F)},lstat:f=>k.stat(f,!0),chmod(f,_,C){var F;if(!(F="string"==typeof f?k.lookupPath(f,{follow:!C}).node:f).node_ops.setattr)throw new k.ErrnoError(63);F.node_ops.setattr(F,{mode:4095&_|-4096&F.mode,timestamp:Date.now()})},lchmod(f,_){k.chmod(f,_,!0)},fchmod(f,_){var C=k.getStreamChecked(f);k.chmod(C.node,_)},chown(f,_,C,F){var Z;if(!(Z="string"==typeof f?k.lookupPath(f,{follow:!F}).node:f).node_ops.setattr)throw new k.ErrnoError(63);Z.node_ops.setattr(Z,{timestamp:Date.now()})},lchown(f,_,C){k.chown(f,_,C,!0)},fchown(f,_,C){var F=k.getStreamChecked(f);k.chown(F.node,_,C)},truncate(f,_){if(_<0)throw new k.ErrnoError(28);var C;if(!(C="string"==typeof f?k.lookupPath(f,{follow:!0}).node:f).node_ops.setattr)throw new k.ErrnoError(63);if(k.isDir(C.mode))throw new k.ErrnoError(31);if(!k.isFile(C.mode))throw new k.ErrnoError(28);var Z=k.nodePermissions(C,"w");if(Z)throw new k.ErrnoError(Z);C.node_ops.setattr(C,{size:_,timestamp:Date.now()})},ftruncate(f,_){var C=k.getStreamChecked(f);if(!(2097155&C.flags))throw new k.ErrnoError(28);k.truncate(C.node,_)},utime(f,_,C){var Z=k.lookupPath(f,{follow:!0}).node;Z.node_ops.setattr(Z,{timestamp:Math.max(_,C)})},open(f,_,C){if(""===f)throw new k.ErrnoError(44);var F;if(_="string"==typeof _?(f=>{var C={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[f];if(typeof C>"u")throw new Error(`Unknown file open mode: ${f}`);return C})(_):_,C=typeof C>"u"?438:C,C=64&_?4095&C|32768:0,"object"==typeof f)F=f;else{f=un.normalize(f);try{F=k.lookupPath(f,{follow:!(131072&_)}).node}catch{}}var ve=!1;if(64&_)if(F){if(128&_)throw new k.ErrnoError(20)}else F=k.mknod(f,C,0),ve=!0;if(!F)throw new k.ErrnoError(44);if(k.isChrdev(F.mode)&&(_&=-513),65536&_&&!k.isDir(F.mode))throw new k.ErrnoError(54);if(!ve){var xe=k.mayOpen(F,_);if(xe)throw new k.ErrnoError(xe)}512&_&&!ve&&k.truncate(F,0),_&=-131713;var je=k.createStream({node:F,path:k.getPath(F),flags:_,seekable:!0,position:0,stream_ops:F.stream_ops,ungotten:[],error:!1});return je.stream_ops.open&&je.stream_ops.open(je),d.logReadFiles&&!(1&_)&&(k.readFiles||(k.readFiles={}),f in k.readFiles||(k.readFiles[f]=1)),je},close(f){if(k.isClosed(f))throw new k.ErrnoError(8);f.getdents&&(f.getdents=null);try{f.stream_ops.close&&f.stream_ops.close(f)}catch(_){throw _}finally{k.closeStream(f.fd)}f.fd=null},isClosed:f=>null===f.fd,llseek(f,_,C){if(k.isClosed(f))throw new k.ErrnoError(8);if(!f.seekable||!f.stream_ops.llseek)throw new k.ErrnoError(70);if(0!=C&&1!=C&&2!=C)throw new k.ErrnoError(28);return f.position=f.stream_ops.llseek(f,_,C),f.ungotten=[],f.position},read(f,_,C,F,Z){if(F<0||Z<0)throw new k.ErrnoError(28);if(k.isClosed(f))throw new k.ErrnoError(8);if(1==(2097155&f.flags))throw new k.ErrnoError(8);if(k.isDir(f.node.mode))throw new k.ErrnoError(31);if(!f.stream_ops.read)throw new k.ErrnoError(28);var ve=typeof Z<"u";if(ve){if(!f.seekable)throw new k.ErrnoError(70)}else Z=f.position;var xe=f.stream_ops.read(f,_,C,F,Z);return ve||(f.position+=xe),xe},write(f,_,C,F,Z,ve){if(F<0||Z<0)throw new k.ErrnoError(28);if(k.isClosed(f))throw new k.ErrnoError(8);if(!(2097155&f.flags))throw new k.ErrnoError(8);if(k.isDir(f.node.mode))throw new k.ErrnoError(31);if(!f.stream_ops.write)throw new k.ErrnoError(28);f.seekable&&1024&f.flags&&k.llseek(f,0,2);var xe=typeof Z<"u";if(xe){if(!f.seekable)throw new k.ErrnoError(70)}else Z=f.position;var je=f.stream_ops.write(f,_,C,F,Z,ve);return xe||(f.position+=je),je},allocate(f,_,C){if(k.isClosed(f))throw new k.ErrnoError(8);if(_<0||C<=0)throw new k.ErrnoError(28);if(!(2097155&f.flags))throw new k.ErrnoError(8);if(!k.isFile(f.node.mode)&&!k.isDir(f.node.mode))throw new k.ErrnoError(43);if(!f.stream_ops.allocate)throw new k.ErrnoError(138);f.stream_ops.allocate(f,_,C)},mmap(f,_,C,F,Z){if(2&F&&!(2&Z)&&2!=(2097155&f.flags))throw new k.ErrnoError(2);if(1==(2097155&f.flags))throw new k.ErrnoError(2);if(!f.stream_ops.mmap)throw new k.ErrnoError(43);return f.stream_ops.mmap(f,_,C,F,Z)},msync:(f,_,C,F,Z)=>f.stream_ops.msync?f.stream_ops.msync(f,_,C,F,Z):0,munmap:f=>0,ioctl(f,_,C){if(!f.stream_ops.ioctl)throw new k.ErrnoError(59);return f.stream_ops.ioctl(f,_,C)},readFile(f,_={}){if(_.flags=_.flags||0,_.encoding=_.encoding||"binary","utf8"!==_.encoding&&"binary"!==_.encoding)throw new Error(`Invalid encoding type "${_.encoding}"`);var C,F=k.open(f,_.flags),ve=k.stat(f).size,xe=new Uint8Array(ve);return k.read(F,xe,0,ve,0),"utf8"===_.encoding?C=Ae(xe,0):"binary"===_.encoding&&(C=xe),k.close(F),C},writeFile(f,_,C={}){C.flags=C.flags||577;var F=k.open(f,C.flags,C.mode);if("string"==typeof _){var Z=new Uint8Array(Kr(_)+1),ve=xo(_,Z,0,Z.length);k.write(F,Z,0,ve,void 0,C.canOwn)}else{if(!ArrayBuffer.isView(_))throw new Error("Unsupported data type");k.write(F,_,0,_.byteLength,void 0,C.canOwn)}k.close(F)},cwd:()=>k.currentPath,chdir(f){var _=k.lookupPath(f,{follow:!0});if(null===_.node)throw new k.ErrnoError(44);if(!k.isDir(_.node.mode))throw new k.ErrnoError(54);var C=k.nodePermissions(_.node,"x");if(C)throw new k.ErrnoError(C);k.currentPath=_.path},createDefaultDirectories(){k.mkdir("/tmp"),k.mkdir("/home"),k.mkdir("/home/web_user")},createDefaultDevices(){k.mkdir("/dev"),k.registerDevice(k.makedev(1,3),{read:()=>0,write:(F,Z,ve,xe,je)=>xe}),k.mkdev("/dev/null",k.makedev(1,3)),Br.register(k.makedev(5,0),Br.default_tty_ops),Br.register(k.makedev(6,0),Br.default_tty1_ops),k.mkdev("/dev/tty",k.makedev(5,0)),k.mkdev("/dev/tty1",k.makedev(6,0));var f=new Uint8Array(1024),_=0,C=()=>(0===_&&(_=Or(f).byteLength),f[--_]);k.createDevice("/dev","random",C),k.createDevice("/dev","urandom",C),k.mkdir("/dev/shm"),k.mkdir("/dev/shm/tmp")},createSpecialDirectories(){k.mkdir("/proc");var f=k.mkdir("/proc/self");k.mkdir("/proc/self/fd"),k.mount({mount(){var _=k.createNode(f,"fd",16895,73);return _.node_ops={lookup(C,F){var ve=k.getStreamChecked(+F),xe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ve.path}};return xe.parent=xe,xe}},_}},{},"/proc/self/fd")},createStandardStreams(){d.stdin?k.createDevice("/dev","stdin",d.stdin):k.symlink("/dev/tty","/dev/stdin"),d.stdout?k.createDevice("/dev","stdout",null,d.stdout):k.symlink("/dev/tty","/dev/stdout"),d.stderr?k.createDevice("/dev","stderr",null,d.stderr):k.symlink("/dev/tty1","/dev/stderr"),k.open("/dev/stdin",0),k.open("/dev/stdout",1),k.open("/dev/stderr",1)},ensureErrnoError(){k.ErrnoError||(k.ErrnoError=function(_,C){this.name="ErrnoError",this.node=C,this.setErrno=function(F){this.errno=F},this.setErrno(_),this.message="FS error"},k.ErrnoError.prototype=new Error,k.ErrnoError.prototype.constructor=k.ErrnoError,[44].forEach(f=>{k.genericErrors[f]=new k.ErrnoError(f),k.genericErrors[f].stack="<generic error, no stack>"}))},staticInit(){k.ensureErrnoError(),k.nameTable=new Array(4096),k.mount(nn,{},"/"),k.createDefaultDirectories(),k.createDefaultDevices(),k.createSpecialDirectories(),k.filesystems={MEMFS:nn}},init(f,_,C){k.init.initialized=!0,k.ensureErrnoError(),d.stdin=f||d.stdin,d.stdout=_||d.stdout,d.stderr=C||d.stderr,k.createStandardStreams()},quit(){k.init.initialized=!1;for(var f=0;f<k.streams.length;f++){var _=k.streams[f];_&&k.close(_)}},findObject(f,_){var C=k.analyzePath(f,_);return C.exists?C.object:null},analyzePath(f,_){try{f=(C=k.lookupPath(f,{follow:!_})).path}catch{}var F={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var C=k.lookupPath(f,{parent:!0});F.parentExists=!0,F.parentPath=C.path,F.parentObject=C.node,F.name=un.basename(f),C=k.lookupPath(f,{follow:!_}),F.exists=!0,F.path=C.path,F.object=C.node,F.name=C.node.name,F.isRoot="/"===C.path}catch(Z){F.error=Z.errno}return F},createPath(f,_,C,F){f="string"==typeof f?f:k.getPath(f);for(var Z=_.split("/").reverse();Z.length;){var ve=Z.pop();if(ve){var xe=un.join2(f,ve);try{k.mkdir(xe)}catch{}f=xe}}return xe},createFile(f,_,C,F,Z){var ve=un.join2("string"==typeof f?f:k.getPath(f),_),xe=I(F,Z);return k.create(ve,xe)},createDataFile(f,_,C,F,Z,ve){var xe=_;f&&(f="string"==typeof f?f:k.getPath(f),xe=_?un.join2(f,_):f);var je=I(F,Z),Mt=k.create(xe,je);if(C){if("string"==typeof C){for(var cn=new Array(C.length),Tn=0,Yt=C.length;Tn<Yt;++Tn)cn[Tn]=C.charCodeAt(Tn);C=cn}k.chmod(Mt,146|je);var wn=k.open(Mt,577);k.write(wn,C,0,C.length,0,ve),k.close(wn),k.chmod(Mt,je)}return Mt},createDevice(f,_,C,F){var Z=un.join2("string"==typeof f?f:k.getPath(f),_),ve=I(!!C,!!F);k.createDevice.major||(k.createDevice.major=64);var xe=k.makedev(k.createDevice.major++,0);return k.registerDevice(xe,{open(je){je.seekable=!1},close(je){F&&F.buffer&&F.buffer.length&&F(10)},read(je,Mt,cn,Tn,Yt){for(var wn=0,fn=0;fn<Tn;fn++){var Bn;try{Bn=C()}catch{throw new k.ErrnoError(29)}if(void 0===Bn&&0===wn)throw new k.ErrnoError(6);if(null==Bn)break;wn++,Mt[cn+fn]=Bn}return wn&&(je.node.timestamp=Date.now()),wn},write(je,Mt,cn,Tn,Yt){for(var wn=0;wn<Tn;wn++)try{F(Mt[cn+wn])}catch{throw new k.ErrnoError(29)}return Tn&&(je.node.timestamp=Date.now()),wn}}),k.mkdev(Z,ve,xe)},forceLoadFile(f){if(f.isDevice||f.isFolder||f.link||f.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{f.contents=Er(H(f.url),!0),f.usedBytes=f.contents.length}catch{throw new k.ErrnoError(29)}},createLazyFile(f,_,C,F,Z){function ve(){this.lengthKnown=!1,this.chunks=[]}if(ve.prototype.get=function(fn){if(!(fn>this.length-1||fn<0)){var Bn=fn%this.chunkSize;return this.getter(fn/this.chunkSize|0)[Bn]}},ve.prototype.setDataGetter=function(fn){this.getter=fn},ve.prototype.cacheLength=function(){var fn=new XMLHttpRequest;if(fn.open("HEAD",C,!1),fn.send(null),!(fn.status>=200&&fn.status<300||304===fn.status))throw new Error("Couldn't load "+C+". Status: "+fn.status);var Ur,Bn=Number(fn.getResponseHeader("Content-length")),Qr=(Ur=fn.getResponseHeader("Accept-Ranges"))&&"bytes"===Ur,io=(Ur=fn.getResponseHeader("Content-Encoding"))&&"gzip"===Ur,yt=1048576;Qr||(yt=Bn);var Hr=this;Hr.setDataGetter(mr=>{var sr=mr*yt,Jn=(mr+1)*yt-1;if(Jn=Math.min(Jn,Bn-1),typeof Hr.chunks[mr]>"u"&&(Hr.chunks[mr]=((mr,sr)=>{if(mr>sr)throw new Error("invalid range ("+mr+", "+sr+") or no bytes requested!");if(sr>Bn-1)throw new Error("only "+Bn+" bytes available! programmer error!");var Jn=new XMLHttpRequest;if(Jn.open("GET",C,!1),Bn!==yt&&Jn.setRequestHeader("Range","bytes="+mr+"-"+sr),Jn.responseType="arraybuffer",Jn.overrideMimeType&&Jn.overrideMimeType("text/plain; charset=x-user-defined"),Jn.send(null),!(Jn.status>=200&&Jn.status<300||304===Jn.status))throw new Error("Couldn't load "+C+". Status: "+Jn.status);return void 0!==Jn.response?new Uint8Array(Jn.response||[]):Er(Jn.responseText||"",!0)})(sr,Jn)),typeof Hr.chunks[mr]>"u")throw new Error("doXHR failed!");return Hr.chunks[mr]}),(io||!Bn)&&(yt=Bn=1,Bn=this.getter(0).length,yt=Bn,z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Bn,this._chunkSize=yt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Q)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var xe=new ve;Object.defineProperties(xe,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var je={isDevice:!1,contents:xe}}else je={isDevice:!1,url:C};var Mt=k.createFile(f,_,je,F,Z);je.contents?Mt.contents=je.contents:je.url&&(Mt.contents=null,Mt.url=je.url),Object.defineProperties(Mt,{usedBytes:{get:function(){return this.contents.length}}});var cn={};function Yt(wn,fn,Bn,Ur,Qr){var io=wn.node.contents;if(Qr>=io.length)return 0;var yt=Math.min(io.length-Qr,Ur);if(io.slice)for(var an=0;an<yt;an++)fn[Bn+an]=io[Qr+an];else for(an=0;an<yt;an++)fn[Bn+an]=io.get(Qr+an);return yt}return Object.keys(Mt.stream_ops).forEach(wn=>{var fn=Mt.stream_ops[wn];cn[wn]=function(){return k.forceLoadFile(Mt),fn.apply(null,arguments)}}),cn.read=(wn,fn,Bn,Ur,Qr)=>(k.forceLoadFile(Mt),Yt(wn,fn,Bn,Ur,Qr)),cn.mmap=(wn,fn,Bn,Ur,Qr)=>{k.forceLoadFile(Mt);var io=Vt();if(!io)throw new k.ErrnoError(48);return Yt(wn,le,io,fn,Bn),{ptr:io,allocated:!0}},Mt.stream_ops=cn,Mt}},x={DEFAULT_POLLMASK:5,calculateAt(f,_,C){if(un.isAbs(_))return _;var F;if(F=-100===f?k.cwd():x.getStreamFromFD(f).path,0==_.length){if(!C)throw new k.ErrnoError(44);return F}return un.join2(F,_)},doStat(f,_,C){try{var F=f(_)}catch(je){if(je&&je.node&&un.normalize(_)!==un.normalize(k.getPath(je.node)))return-54;throw je}M[C>>2]=F.dev,M[C+4>>2]=F.mode,fe[C+8>>2]=F.nlink,M[C+12>>2]=F.uid,M[C+16>>2]=F.gid,M[C+20>>2]=F.rdev,jt=[F.size>>>0,(Xe=F.size,+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[C+24>>2]=jt[0],M[C+28>>2]=jt[1],M[C+32>>2]=4096,M[C+36>>2]=F.blocks;var Z=F.atime.getTime(),ve=F.mtime.getTime(),xe=F.ctime.getTime();return jt=[Math.floor(Z/1e3)>>>0,(Xe=Math.floor(Z/1e3),+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[C+40>>2]=jt[0],M[C+44>>2]=jt[1],fe[C+48>>2]=Z%1e3*1e3,jt=[Math.floor(ve/1e3)>>>0,(Xe=Math.floor(ve/1e3),+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[C+56>>2]=jt[0],M[C+60>>2]=jt[1],fe[C+64>>2]=ve%1e3*1e3,jt=[Math.floor(xe/1e3)>>>0,(Xe=Math.floor(xe/1e3),+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[C+72>>2]=jt[0],M[C+76>>2]=jt[1],fe[C+80>>2]=xe%1e3*1e3,jt=[F.ino>>>0,(Xe=F.ino,+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[C+88>>2]=jt[0],M[C+92>>2]=jt[1],0},doMsync(f,_,C,F,Z){if(!k.isFile(_.node.mode))throw new k.ErrnoError(43);if(2&F)return 0;var ve=ze.slice(f,f+C);k.msync(_,ve,Z,C,F)},varargs:void 0,get(){var f=M[x.varargs>>2];return x.varargs+=4,f},getp:()=>x.get(),getStr:f=>yn(f),getStreamFromFD:f=>k.getStreamChecked(f)},ci=(f,_)=>_+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*_:NaN,$o=f=>f%4==0&&(f%100!=0||f%400==0),cs=[0,31,60,91,121,152,182,213,244,274,305,335],Cr=[0,31,59,90,120,151,181,212,243,273,304,334],Mo=f=>{var _=Kr(f)+1,C=sa(_);return C&&((f,_,C)=>{xo(f,ze,_,C)})(f,C,_),C},$i=[],Cs=f=>{var C=(f-ce.buffer.byteLength+65535)/65536;try{return ce.grow(C),Wt(),1}catch{}},ui={},Ii=()=>{if(!Ii.strings){var _={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"};for(var C in ui)void 0===ui[C]?delete _[C]:_[C]=ui[C];var F=[];for(var C in _)F.push(`${C}=${_[C]}`);Ii.strings=F}return Ii.strings},Kt=(f,_)=>{tt=f,(f=>{tt=f,function it(){return Se||!1}()||(d.onExit&&d.onExit(f),rt=!0),j(f,new Lo(f))})(f)},Ss=Kt,ut=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31],Wo=function(f,_,C,F){f||(f=this),this.parent=f,this.mount=f.mount,this.mounted=null,this.id=k.nextInode++,this.name=_,this.mode=C,this.node_ops={},this.stream_ops={},this.rdev=F};Object.defineProperties(Wo.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(f){f?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(f){f?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return k.isDir(this.mode)}},isDevice:{get:function(){return k.isChrdev(this.mode)}}}),k.FSNode=Wo,k.createPreloadedFile=(f,_,C,F,Z,ve,xe,je,Mt,cn)=>{var Tn=_?Tr.resolve(un.join2(f,_)):f;function wn(fn){function Bn(Ur){cn&&cn(),je||k.createDataFile(f,_,Ur,F,Z,Mt),ve&&ve(),rr()}((f,_,C,F)=>{typeof Browser<"u"&&Browser.init();var Z=!1;return Fi.forEach(ve=>{Z||ve.canHandle(_)&&(ve.handle(f,_,C,F),Z=!0)}),Z})(fn,Tn,Bn,()=>{xe&&xe(),rr()})||Bn(fn)}jn(),"string"==typeof C?((f,_,C,F)=>{var Z=`al ${f}`;Re(f,ve=>{he(ve,`Loading data file "${f}" failed (no arrayBuffer).`),wn(new Uint8Array(ve)),Z&&rr()},ve=>{if(!C)throw`Loading data file "${f}" failed.`;C()}),Z&&jn()})(C,0,xe):wn(C)},k.staticInit();var Ws,on={b:(f,_,C,F)=>{Nn(`Assertion failed: ${yn(f)}, at: `+[_?yn(_):"unknown filename",C,F?yn(F):"unknown function"])},i:function ko(f,_,C,F){x.varargs=F;try{_=x.getStr(_),_=x.calculateAt(f,_);var Z=F?x.get():0;return k.open(_,C,Z).fd}catch(ve){if(typeof k>"u"||"ErrnoError"!==ve.name)throw ve;return-ve.errno}},j:function Gi(f,_,C){var F=ci(f,_),Z=new Date(1e3*F);M[C>>2]=Z.getUTCSeconds(),M[C+4>>2]=Z.getUTCMinutes(),M[C+8>>2]=Z.getUTCHours(),M[C+12>>2]=Z.getUTCDate(),M[C+16>>2]=Z.getUTCMonth(),M[C+20>>2]=Z.getUTCFullYear()-1900,M[C+24>>2]=Z.getUTCDay();var ve=Date.UTC(Z.getUTCFullYear(),0,1,0,0,0,0),xe=(Z.getTime()-ve)/864e5|0;M[C+28>>2]=xe},k:function or(f,_,C){var F=ci(f,_),Z=new Date(1e3*F);M[C>>2]=Z.getSeconds(),M[C+4>>2]=Z.getMinutes(),M[C+8>>2]=Z.getHours(),M[C+12>>2]=Z.getDate(),M[C+16>>2]=Z.getMonth(),M[C+20>>2]=Z.getFullYear()-1900,M[C+24>>2]=Z.getDay();var ve=0|(f=>($o(f.getFullYear())?cs:Cr)[f.getMonth()]+f.getDate()-1)(Z);M[C+28>>2]=ve,M[C+36>>2]=-60*Z.getTimezoneOffset();var xe=new Date(Z.getFullYear(),0,1),je=new Date(Z.getFullYear(),6,1).getTimezoneOffset(),Mt=xe.getTimezoneOffset(),cn=0|(je!=Mt&&Z.getTimezoneOffset()==Math.min(Mt,je));M[C+32>>2]=cn},o:(f,_,C)=>{var F=(new Date).getFullYear(),Z=new Date(F,0,1),ve=new Date(F,6,1),xe=Z.getTimezoneOffset(),je=ve.getTimezoneOffset(),Mt=Math.max(xe,je);function cn(Bn){var Ur=Bn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Ur?Ur[1]:"GMT"}fe[f>>2]=60*Mt,M[_>>2]=+(xe!=je);var Tn=cn(Z),Yt=cn(ve),wn=Mo(Tn),fn=Mo(Yt);je<xe?(fe[C>>2]=wn,fe[C+4>>2]=fn):(fe[C>>2]=fn,fe[C+4>>2]=wn)},c:()=>{Nn("")},a:(f,_,C)=>((f,_,C)=>{var F=((f,_)=>{$i.length=0;for(var C;C=ze[f++];)_+=105!=C&&_%8?4:0,$i.push(105==C?M[_>>2]:Dt[_>>3]),_+=105==C?4:8;return $i})(_,C);return Xr[f].apply(null,F)})(f,_,C),e:()=>Date.now(),g:(f,_,C)=>ze.copyWithin(f,_,_+C),n:f=>{var Mt,_=ze.length,C=2147483648;if((f>>>=0)>C)return!1;for(var Z=1;Z<=4;Z*=2){var ve=_*(1+.2/Z);ve=Math.min(ve,f+100663296);var xe=Math.min(C,(Mt=Math.max(f,ve))+(65536-Mt%65536)%65536);if(Cs(xe))return!0}return!1},p:(f,_)=>{var C=0;return Ii().forEach((F,Z)=>{var ve=_+C;fe[f+4*Z>>2]=ve,((f,_)=>{for(var C=0;C<f.length;++C)le[_++>>0]=f.charCodeAt(C);le[_>>0]=0})(F,ve),C+=F.length+1}),0},q:(f,_)=>{var C=Ii();fe[f>>2]=C.length;var F=0;return C.forEach(Z=>F+=Z.length+1),fe[_>>2]=F,0},r:Ss,f:function R(f){try{var _=x.getStreamFromFD(f);return k.close(_),0}catch(C){if(typeof k>"u"||"ErrnoError"!==C.name)throw C;return C.errno}},d:function B(f,_,C,F){try{var ve=((f,_,C,F)=>{for(var Z=0,ve=0;ve<C;ve++){var xe=fe[_>>2],je=fe[_+4>>2];_+=8;var Mt=k.read(f,le,xe,je,F);if(Mt<0)return-1;if(Z+=Mt,Mt<je)break;typeof F<"u"&&(F+=Mt)}return Z})(x.getStreamFromFD(f),_,C);return fe[F>>2]=ve,0}catch(xe){if(typeof k>"u"||"ErrnoError"!==xe.name)throw xe;return xe.errno}},l:function K(f,_,C,F,Z){var ve=ci(_,C);try{if(isNaN(ve))return 61;var xe=x.getStreamFromFD(f);return k.llseek(xe,ve,F),jt=[xe.position>>>0,(Xe=xe.position,+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[Z>>2]=jt[0],M[Z+4>>2]=jt[1],xe.getdents&&0===ve&&0===F&&(xe.getdents=null),0}catch(je){if(typeof k>"u"||"ErrnoError"!==je.name)throw je;return je.errno}},h:function be(f,_,C,F){try{var ve=((f,_,C,F)=>{for(var Z=0,ve=0;ve<C;ve++){var xe=fe[_>>2],je=fe[_+4>>2];_+=8;var Mt=k.write(f,le,xe,je,F);if(Mt<0)return-1;Z+=Mt,typeof F<"u"&&(F+=Mt)}return Z})(x.getStreamFromFD(f),_,C);return fe[F>>2]=ve,0}catch(xe){if(typeof k>"u"||"ErrnoError"!==xe.name)throw xe;return xe.errno}},m:(f,_,C,F,Z)=>((f,_,C,F)=>{var Z=fe[F+40>>2],ve={tm_sec:M[F>>2],tm_min:M[F+4>>2],tm_hour:M[F+8>>2],tm_mday:M[F+12>>2],tm_mon:M[F+16>>2],tm_year:M[F+20>>2],tm_wday:M[F+24>>2],tm_yday:M[F+28>>2],tm_isdst:M[F+32>>2],tm_gmtoff:M[F+36>>2],tm_zone:Z?yn(Z):""},xe=yn(C),je={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Mt in je)xe=xe.replace(new RegExp(Mt,"g"),je[Mt]);var cn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Tn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Yt(yt,an,Hr){for(var mr="number"==typeof yt?yt.toString():yt||"";mr.length<an;)mr=Hr[0]+mr;return mr}function wn(yt,an){return Yt(yt,an,"0")}function fn(yt,an){function Hr(sr){return sr<0?-1:sr>0?1:0}var mr;return 0===(mr=Hr(yt.getFullYear()-an.getFullYear()))&&0===(mr=Hr(yt.getMonth()-an.getMonth()))&&(mr=Hr(yt.getDate()-an.getDate())),mr}function Bn(yt){switch(yt.getDay()){case 0:return new Date(yt.getFullYear()-1,11,29);case 1:return yt;case 2:return new Date(yt.getFullYear(),0,3);case 3:return new Date(yt.getFullYear(),0,2);case 4:return new Date(yt.getFullYear(),0,1);case 5:return new Date(yt.getFullYear()-1,11,31);case 6:return new Date(yt.getFullYear()-1,11,30)}}function Ur(yt){var an=((f,_)=>{for(var C=new Date(f.getTime());_>0;){var F=$o(C.getFullYear()),Z=C.getMonth(),ve=(F?ut:st)[Z];if(!(_>ve-C.getDate()))return C.setDate(C.getDate()+_),C;_-=ve-C.getDate()+1,C.setDate(1),Z<11?C.setMonth(Z+1):(C.setMonth(0),C.setFullYear(C.getFullYear()+1))}return C})(new Date(yt.tm_year+1900,0,1),yt.tm_yday),Hr=new Date(an.getFullYear(),0,4),mr=new Date(an.getFullYear()+1,0,4),sr=Bn(Hr),Jn=Bn(mr);return fn(sr,an)<=0?fn(Jn,an)<=0?an.getFullYear()+1:an.getFullYear():an.getFullYear()-1}var Qr={"%a":yt=>cn[yt.tm_wday].substring(0,3),"%A":yt=>cn[yt.tm_wday],"%b":yt=>Tn[yt.tm_mon].substring(0,3),"%B":yt=>Tn[yt.tm_mon],"%C":yt=>wn((yt.tm_year+1900)/100|0,2),"%d":yt=>wn(yt.tm_mday,2),"%e":yt=>Yt(yt.tm_mday,2," "),"%g":yt=>Ur(yt).toString().substring(2),"%G":yt=>Ur(yt),"%H":yt=>wn(yt.tm_hour,2),"%I":yt=>{var an=yt.tm_hour;return 0==an?an=12:an>12&&(an-=12),wn(an,2)},"%j":yt=>wn(yt.tm_mday+((f,_)=>{for(var C=0,F=0;F<=_;C+=f[F++]);return C})($o(yt.tm_year+1900)?ut:st,yt.tm_mon-1),3),"%m":yt=>wn(yt.tm_mon+1,2),"%M":yt=>wn(yt.tm_min,2),"%n":()=>"\n","%p":yt=>yt.tm_hour>=0&&yt.tm_hour<12?"AM":"PM","%S":yt=>wn(yt.tm_sec,2),"%t":()=>"\t","%u":yt=>yt.tm_wday||7,"%U":yt=>wn(Math.floor((yt.tm_yday+7-yt.tm_wday)/7),2),"%V":yt=>{var an=Math.floor((yt.tm_yday+7-(yt.tm_wday+6)%7)/7);if((yt.tm_wday+371-yt.tm_yday-2)%7<=2&&an++,an){if(53==an){var mr=(yt.tm_wday+371-yt.tm_yday)%7;4!=mr&&(3!=mr||!$o(yt.tm_year))&&(an=1)}}else{an=52;var Hr=(yt.tm_wday+7-yt.tm_yday-1)%7;(4==Hr||5==Hr&&$o(yt.tm_year%400-1))&&an++}return wn(an,2)},"%w":yt=>yt.tm_wday,"%W":yt=>wn(Math.floor((yt.tm_yday+7-(yt.tm_wday+6)%7)/7),2),"%y":yt=>(yt.tm_year+1900).toString().substring(2),"%Y":yt=>yt.tm_year+1900,"%z":yt=>{var an=yt.tm_gmtoff;return(an>=0?"+":"-")+("0000"+(an=(an=Math.abs(an)/60)/60*100+an%60)).slice(-4)},"%Z":yt=>yt.tm_zone,"%%":()=>"%"};for(var Mt in xe=xe.replace(/%%/g,"\0\0"),Qr)xe.includes(Mt)&&(xe=xe.replace(new RegExp(Mt,"g"),Qr[Mt](ve)));var io=Er(xe=xe.replace(/\0\0/g,"%"),!1);return io.length>_?0:(((f,_)=>{le.set(f,_)})(io,f),io.length-1)})(f,_,C,F)},It=function Go(){var f={a:on};function _(F,Z){var ve=F.exports;return ce=(It=ve).s,Wt(),function ft(f){We.unshift(f)}(It.t),rr(),ve}if(jn(),d.instantiateWasm)try{return d.instantiateWasm(f,_)}catch(F){G(`Module.instantiateWasm callback failed with error: ${F}`),te(F)}return function Yr(f,_,C,F){return f||"function"!=typeof WebAssembly.instantiateStreaming||vr(_)||"function"!=typeof fetch?go(_,C,F):fetch(_,{credentials:"same-origin"}).then(Z=>WebAssembly.instantiateStreaming(Z,C).then(F,function(xe){return G(`wasm streaming compile failed: ${xe}`),G("falling back to ArrayBuffer instantiation"),go(_,C,F)}))}(ae,hr,f,function C(F){_(F.instance)}).catch(te),{}}(),sa=(d._free=f=>(d._free=It.u)(f),d._malloc=f=>(sa=d._malloc=It.v)(f)),rl=(d._webidl_free=f=>(d._webidl_free=It.w)(f),d._webidl_malloc=f=>(d._webidl_malloc=It.x)(f),d._emscripten_bind_VoidPtr___destroy___0=f=>(rl=d._emscripten_bind_VoidPtr___destroy___0=It.y)(f)),ol=d._emscripten_bind_FSTools_FSTools_0=()=>(ol=d._emscripten_bind_FSTools_FSTools_0=It.z)(),zi=d._emscripten_bind_FSTools_Malloc_1=(f,_)=>(zi=d._emscripten_bind_FSTools_Malloc_1=It.A)(f,_),il=d._emscripten_bind_FSTools_Free_1=(f,_)=>(il=d._emscripten_bind_FSTools_Free_1=It.B)(f,_),zl=d._emscripten_bind_FSTools_Nullptr_0=f=>(zl=d._emscripten_bind_FSTools_Nullptr_0=It.C)(f),sl=d._emscripten_bind_FSTools___destroy___0=f=>(sl=d._emscripten_bind_FSTools___destroy___0=It.D)(f),aa=d._emscripten_bind_MkfsContext_MkfsContext_0=()=>(aa=d._emscripten_bind_MkfsContext_MkfsContext_0=It.E)(),Hs=d._emscripten_bind_MkfsContext_Mkfs_2=(f,_,C)=>(Hs=d._emscripten_bind_MkfsContext_Mkfs_2=It.F)(f,_,C),Wl=d._emscripten_bind_MkfsContext_GetImage_0=f=>(Wl=d._emscripten_bind_MkfsContext_GetImage_0=It.G)(f),we=d._emscripten_bind_MkfsContext_GetImageSize_0=f=>(we=d._emscripten_bind_MkfsContext_GetImageSize_0=It.H)(f),Zl=d._emscripten_bind_MkfsContext___destroy___0=f=>(Zl=d._emscripten_bind_MkfsContext___destroy___0=It.I)(f),jo=d._emscripten_bind_FsckContext_FsckContext_1=f=>(jo=d._emscripten_bind_FsckContext_FsckContext_1=It.J)(f),Cn=d._emscripten_bind_FsckContext_GetImage_0=f=>(Cn=d._emscripten_bind_FsckContext_GetImage_0=It.K)(f),al=d._emscripten_bind_FsckContext_GetDirtyPages_0=f=>(al=d._emscripten_bind_FsckContext_GetDirtyPages_0=It.L)(f),ql=d._emscripten_bind_FsckContext_GetImageSize_0=f=>(ql=d._emscripten_bind_FsckContext_GetImageSize_0=It.M)(f),Yl=d._emscripten_bind_FsckContext_Fsck_0=f=>(Yl=d._emscripten_bind_FsckContext_Fsck_0=It.N)(f),mt=d._emscripten_bind_FsckContext_GetResult_0=f=>(mt=d._emscripten_bind_FsckContext_GetResult_0=It.O)(f),ll=d._emscripten_bind_FsckContext___destroy___0=f=>(ll=d._emscripten_bind_FsckContext___destroy___0=It.P)(f),yr=d._emscripten_bind_GunzipContext_GunzipContext_3=(f,_,C)=>(yr=d._emscripten_bind_GunzipContext_GunzipContext_3=It.Q)(f,_,C),Es=d._emscripten_bind_GunzipContext_GetState_0=f=>(Es=d._emscripten_bind_GunzipContext_GetState_0=It.R)(f),ka=d._emscripten_bind_GunzipContext_Continue_0=f=>(ka=d._emscripten_bind_GunzipContext_Continue_0=It.S)(f),la=d._emscripten_bind_GunzipContext_GetUncompressedData_0=f=>(la=d._emscripten_bind_GunzipContext_GetUncompressedData_0=It.T)(f),Ma=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=f=>(Ma=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=It.U)(f),Ds=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=f=>(Ds=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=It.V)(f),Is=d._emscripten_bind_GunzipContext_GetError_0=f=>(Is=d._emscripten_bind_GunzipContext_GetError_0=It.W)(f),Gs=d._emscripten_bind_GunzipContext___destroy___0=f=>(Gs=d._emscripten_bind_GunzipContext___destroy___0=It.X)(f),ca=d._emscripten_bind_GzipContext_GzipContext_3=(f,_,C)=>(ca=d._emscripten_bind_GzipContext_GzipContext_3=It.Y)(f,_,C),Ta=d._emscripten_bind_GzipContext_SetFilename_1=(f,_)=>(Ta=d._emscripten_bind_GzipContext_SetFilename_1=It.Z)(f,_),An=d._emscripten_bind_GzipContext_SetMtime_1=(f,_)=>(An=d._emscripten_bind_GzipContext_SetMtime_1=It._)(f,_),zs=d._emscripten_bind_GzipContext_Continue_0=f=>(zs=d._emscripten_bind_GzipContext_Continue_0=It.$)(f),ua=d._emscripten_bind_GzipContext_GetState_0=f=>(ua=d._emscripten_bind_GzipContext_GetState_0=It.aa)(f),vo=d._emscripten_bind_GzipContext_GetGzipData_0=f=>(vo=d._emscripten_bind_GzipContext_GetGzipData_0=It.ba)(f),da=d._emscripten_bind_GzipContext_GetGzipSize_0=f=>(da=d._emscripten_bind_GzipContext_GetGzipSize_0=It.ca)(f),cl=d._emscripten_bind_GzipContext_GetError_0=f=>(cl=d._emscripten_bind_GzipContext_GetError_0=It.da)(f),ir=d._emscripten_bind_GzipContext___destroy___0=f=>(ir=d._emscripten_bind_GzipContext___destroy___0=It.ea)(f),ul=d._main=(f,_)=>(ul=d._main=It.fa)(f,_);function fl(){function f(){Ws||(Ws=!0,d.calledRun=!0,!rt&&(function ht(){!d.noFSInit&&!k.init.initialized&&k.init(),k.ignorePermissions=!1,Br.init(),_o(We)}(),function Ee(){_o(nt)}(),ee(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),pl&&function ha(){var f=ul;try{var F=f(0,0);return Kt(F),F}catch(Z){return(f=>{if(f instanceof Lo||"unwind"==f)return tt;j(1,f)})(Z)}}(),function Ye(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)f=d.postRun.shift(),Nt.unshift(f);var f;_o(Nt)}()))}U>0||(function Ct(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)f=d.preRun.shift(),Ce.unshift(f);var f;_o(Ce)}(),U>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),f()},1)):f())}if(d.___original_main=()=>(d.___original_main=It.ha)(),d.___start_em_js=1092558,d.___stop_em_js=1092656,Gt=function f(){Ws||fl(),Ws||(Gt=f)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var pl=!0;function yo(){}function Wi(f){return(f||yo).__cache__}function Yo(f,_){var C=Wi(_),F=C[f];return F||((F=Object.create((_||yo).prototype)).ptr=f,C[f]=F)}d.noInitialRun&&(pl=!1),fl(),(yo.prototype=Object.create(yo.prototype)).constructor=yo,yo.prototype.__class__=yo,yo.__cache__={},d.WrapperObject=yo,d.getCache=Wi,d.wrapPointer=Yo,d.castObject=function xs(f,_){return Yo(f.ptr,_)},d.NULL=Yo(0),d.destroy=function ma(f){if(!f.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";f.__destroy__(),delete Wi(f.__class__)[f.ptr]},d.compare=function Zs(f,_){return f.ptr===_.ptr},d.getPointer=function hl(f){return f.ptr},d.getClass=function ml(f){return f.__class__};var ur={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(ur.needed){for(var f=0;f<ur.temps.length;f++)d._webidl_free(ur.temps[f]);ur.temps.length=0,d._webidl_free(ur.buffer),ur.buffer=0,ur.size+=ur.needed,ur.needed=0}ur.buffer||(ur.size+=128,ur.buffer=d._webidl_malloc(ur.size),he(ur.buffer)),ur.pos=0},alloc(f,_){he(ur.buffer);var Z,F=f.length*_.BYTES_PER_ELEMENT;return ur.pos+(F=F+7&-8)>=ur.size?(he(F>0),ur.needed+=F,Z=d._webidl_malloc(F),ur.temps.push(Z)):(Z=ur.buffer+ur.pos,ur.pos+=F),Z},copy(f,_,C){switch(C>>>=0,_.BYTES_PER_ELEMENT){case 2:C>>>=1;break;case 4:C>>>=2;break;case 8:C>>>=3}for(var Z=0;Z<f.length;Z++)_[C+Z]=f[Z]}};function ga(f){if("string"==typeof f){var _=Er(f),C=ur.alloc(_,le);return ur.copy(_,le,C),C}return f}function Ar(){throw"cannot construct a VoidPtr, no constructor in IDL"}function fo(){this.ptr=ol(),Wi(fo)[this.ptr]=this}function Dr(){this.ptr=aa(),Wi(Dr)[this.ptr]=this}function Vr(f){f&&"object"==typeof f&&(f=f.ptr),this.ptr=jo(f),Wi(Vr)[this.ptr]=this}function de(f,_,C){f&&"object"==typeof f&&(f=f.ptr),_&&"object"==typeof _&&(_=_.ptr),C&&"object"==typeof C&&(C=C.ptr),this.ptr=yr(f,_,C),Wi(de)[this.ptr]=this}function dr(f,_,C){f&&"object"==typeof f&&(f=f.ptr),_&&"object"==typeof _&&(_=_.ptr),C&&"object"==typeof C&&(C=C.ptr),this.ptr=ca(f,_,C),Wi(dr)[this.ptr]=this}return(Ar.prototype=Object.create(yo.prototype)).constructor=Ar,Ar.prototype.__class__=Ar,Ar.__cache__={},d.VoidPtr=Ar,Ar.prototype.__destroy__=Ar.prototype.__destroy__=function(){rl(this.ptr)},(fo.prototype=Object.create(yo.prototype)).constructor=fo,fo.prototype.__class__=fo,fo.__cache__={},d.FSTools=fo,fo.prototype.Malloc=fo.prototype.Malloc=function(f){return f&&"object"==typeof f&&(f=f.ptr),Yo(zi(this.ptr,f),Ar)},fo.prototype.Free=fo.prototype.Free=function(f){f&&"object"==typeof f&&(f=f.ptr),il(this.ptr,f)},fo.prototype.Nullptr=fo.prototype.Nullptr=function(){return Yo(zl(this.ptr),Ar)},fo.prototype.__destroy__=fo.prototype.__destroy__=function(){sl(this.ptr)},(Dr.prototype=Object.create(yo.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},d.MkfsContext=Dr,Dr.prototype.Mkfs=Dr.prototype.Mkfs=function(f,_){var C=this.ptr;return ur.prepare(),f&&"object"==typeof f&&(f=f.ptr),_=_&&"object"==typeof _?_.ptr:ga(_),!!Hs(C,f,_)},Dr.prototype.GetImage=Dr.prototype.GetImage=function(){return Yo(Wl(this.ptr),Ar)},Dr.prototype.GetImageSize=Dr.prototype.GetImageSize=function(){return we(this.ptr)},Dr.prototype.__destroy__=Dr.prototype.__destroy__=function(){Zl(this.ptr)},(Vr.prototype=Object.create(yo.prototype)).constructor=Vr,Vr.prototype.__class__=Vr,Vr.__cache__={},d.FsckContext=Vr,Vr.prototype.GetImage=Vr.prototype.GetImage=function(){return Yo(Cn(this.ptr),Ar)},Vr.prototype.GetDirtyPages=Vr.prototype.GetDirtyPages=function(){return Yo(al(this.ptr),Ar)},Vr.prototype.GetImageSize=Vr.prototype.GetImageSize=function(){return ql(this.ptr)},Vr.prototype.Fsck=Vr.prototype.Fsck=function(){return Yl(this.ptr)},Vr.prototype.GetResult=Vr.prototype.GetResult=function(){return mt(this.ptr)},Vr.prototype.__destroy__=Vr.prototype.__destroy__=function(){ll(this.ptr)},(de.prototype=Object.create(yo.prototype)).constructor=de,de.prototype.__class__=de,de.__cache__={},d.GunzipContext=de,de.prototype.GetState=de.prototype.GetState=function(){return Es(this.ptr)},de.prototype.Continue=de.prototype.Continue=function(){return ka(this.ptr)},de.prototype.GetUncompressedData=de.prototype.GetUncompressedData=function(){return Yo(la(this.ptr),Ar)},de.prototype.ReleaseUncompressedData=de.prototype.ReleaseUncompressedData=function(){return Yo(Ma(this.ptr),Ar)},de.prototype.GetUncompressedSize=de.prototype.GetUncompressedSize=function(){return Ds(this.ptr)},de.prototype.GetError=de.prototype.GetError=function(){return yn(Is(this.ptr))},de.prototype.__destroy__=de.prototype.__destroy__=function(){Gs(this.ptr)},(dr.prototype=Object.create(yo.prototype)).constructor=dr,dr.prototype.__class__=dr,dr.__cache__={},d.GzipContext=dr,dr.prototype.SetFilename=dr.prototype.SetFilename=function(f){var _=this.ptr;return ur.prepare(),f=f&&"object"==typeof f?f.ptr:ga(f),Yo(Ta(_,f),dr)},dr.prototype.SetMtime=dr.prototype.SetMtime=function(f){return f&&"object"==typeof f&&(f=f.ptr),Yo(An(this.ptr,f),dr)},dr.prototype.Continue=dr.prototype.Continue=function(){return zs(this.ptr)},dr.prototype.GetState=dr.prototype.GetState=function(){return ua(this.ptr)},dr.prototype.GetGzipData=dr.prototype.GetGzipData=function(){return Yo(vo(this.ptr),Ar)},dr.prototype.GetGzipSize=dr.prototype.GetGzipSize=function(){return da(this.ptr)},dr.prototype.GetError=dr.prototype.GetError=function(){return yn(cl(this.ptr))},dr.prototype.__destroy__=dr.prototype.__destroy__=function(){ir(this.ptr)},D.ready});ke.exports=Le},8886:ke=>{var P,Le=(P=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(D={}){var ee,te,d=D;d.ready=new Promise((u,m)=>{ee=u,te=m});var H,Re,Pe,V=Object.assign({},d),N="./this.program",j=(u,m)=>{throw m},se="object"==typeof window,Q="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(se||Q)&&(Q?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),P&&($=P),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=u=>{var m=new XMLHttpRequest;return m.open("GET",u,!1),m.send(null),m.responseText},Q&&(Pe=u=>{var m=new XMLHttpRequest;return m.open("GET",u,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),Re=(u,m,b)=>{var O=new XMLHttpRequest;O.open("GET",u,!0),O.responseType="arraybuffer",O.onload=()=>{200==O.status||0==O.status&&O.response?m(O.response):b()},O.onerror=b,O.send(null)});var ae,z=d.print||console.log.bind(console),G=d.printErr||console.error.bind(console);Object.assign(d,V),V=null,d.thisProgram&&(N=d.thisProgram),d.quit&&(j=d.quit),d.wasmBinary&&(ae=d.wasmBinary);var Se=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Nn("no native wasm support detected");var ce,tt,le,ze,M,fe,rt=!1;function he(u,m){u||Nn(m)}function Wt(){var u=ce.buffer;d.HEAP8=le=new Int8Array(u),d.HEAP16=new Int16Array(u),d.HEAPU8=ze=new Uint8Array(u),d.HEAPU16=new Uint16Array(u),d.HEAP32=M=new Int32Array(u),d.HEAPU32=fe=new Uint32Array(u),d.HEAPF32=new Float32Array(u),d.HEAPF64=new Float64Array(u)}var Ce=[],We=[],nt=[],Nt=[],U=0,ln=null,Gt=null;function jn(u){U++,d.monitorRunDependencies&&d.monitorRunDependencies(U)}function rr(u){if(U--,d.monitorRunDependencies&&d.monitorRunDependencies(U),0==U&&(null!==ln&&(clearInterval(ln),ln=null),Gt)){var m=Gt;Gt=null,m()}}function Nn(u){d.onAbort&&d.onAbort(u),G(u="Aborted("+u+")"),rt=!0,tt=1,u+=". Build with -sASSERTIONS for more info.";var m=new WebAssembly.RuntimeError(u);throw te(m),m}var hr,Xe,jt;function vr(u){return u.startsWith("data:application/octet-stream;base64,")}function No(u){if(u==hr&&ae)return new Uint8Array(ae);if(Pe)return Pe(u);throw"both async and sync fetching of the wasm failed"}function go(u,m,b){return function ai(u){return ae||!se&&!Q||"function"!=typeof fetch?Promise.resolve().then(()=>No(u)):fetch(u,{credentials:"same-origin"}).then(m=>{if(!m.ok)throw"failed to load wasm binary file at '"+u+"'";return m.arrayBuffer()}).catch(()=>No(u))}(u).then(O=>WebAssembly.instantiate(O,m)).then(O=>O).then(b,O=>{G(`failed to asynchronously prepare wasm: ${O}`),Nn(O)})}function Xr(u){this.name="ExitStatus",this.message=`Program terminated with exit(${u})`,this.status=u}vr(hr="vfs_web.wasm")||(hr=function L(u){return d.locateFile?d.locateFile(u,$):$+u}(hr));var Lo=u=>{for(;u.length>0;)u.shift()(d)},_o=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,De=(u,m,b)=>{for(var O=m+b,Y=m;u[Y]&&!(Y>=O);)++Y;if(Y-m>16&&u.buffer&&_o)return _o.decode(u.subarray(m,Y));for(var me="";m<Y;){var Me=u[m++];if(128&Me){var Ge=63&u[m++];if(192!=(224&Me)){var Ze=63&u[m++];if((Me=224==(240&Me)?(15&Me)<<12|Ge<<6|Ze:(7&Me)<<18|Ge<<12|Ze<<6|63&u[m++])<65536)me+=String.fromCharCode(Me);else{var qt=Me-65536;me+=String.fromCharCode(55296|qt>>10,56320|1023&qt)}}else me+=String.fromCharCode((31&Me)<<6|Ge)}else me+=String.fromCharCode(Me)}return me},Ae=(u,m)=>u?De(ze,u,m):"",Tt={isAbs:u=>"/"===u.charAt(0),splitPath:u=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(u).slice(1),normalizeArray:(u,m)=>{for(var b=0,O=u.length-1;O>=0;O--){var Y=u[O];"."===Y?u.splice(O,1):".."===Y?(u.splice(O,1),b++):b&&(u.splice(O,1),b--)}if(m)for(;b;b--)u.unshift("..");return u},normalize:u=>{var m=Tt.isAbs(u),b="/"===u.substr(-1);return!(u=Tt.normalizeArray(u.split("/").filter(O=>!!O),!m).join("/"))&&!m&&(u="."),u&&b&&(u+="/"),(m?"/":"")+u},dirname:u=>{var m=Tt.splitPath(u),b=m[0],O=m[1];return b||O?(O&&(O=O.substr(0,O.length-1)),b+O):"."},basename:u=>{if("/"===u)return"/";var m=(u=(u=Tt.normalize(u)).replace(/\/$/,"")).lastIndexOf("/");return-1===m?u:u.substr(m+1)},join:function(){var u=Array.prototype.slice.call(arguments);return Tt.normalize(u.join("/"))},join2:(u,m)=>Tt.normalize(u+"/"+m)},Lt=u=>(Lt=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return u=>crypto.getRandomValues(u);Nn("initRandomDevice")})())(u),Or={resolve:function(){for(var u="",m=!1,b=arguments.length-1;b>=-1&&!m;b--){var O=b>=0?arguments[b]:I.cwd();if("string"!=typeof O)throw new TypeError("Arguments to path.resolve must be strings");if(!O)return"";u=O+"/"+u,m=Tt.isAbs(O)}return(m?"/":"")+(u=Tt.normalizeArray(u.split("/").filter(Y=>!!Y),!m).join("/"))||"."},relative:(u,m)=>{function b(qt){for(var zt=0;zt<qt.length&&""===qt[zt];zt++);for(var In=qt.length-1;In>=0&&""===qt[In];In--);return zt>In?[]:qt.slice(zt,In-zt+1)}u=Or.resolve(u).substr(1),m=Or.resolve(m).substr(1);for(var O=b(u.split("/")),Y=b(m.split("/")),me=Math.min(O.length,Y.length),Me=me,Ge=0;Ge<me;Ge++)if(O[Ge]!==Y[Ge]){Me=Ge;break}var Ze=[];for(Ge=Me;Ge<O.length;Ge++)Ze.push("..");return(Ze=Ze.concat(Y.slice(Me))).join("/")}},Tr=[],er=u=>{for(var m=0,b=0;b<u.length;++b){var O=u.charCodeAt(b);O<=127?m++:O<=2047?m+=2:O>=55296&&O<=57343?(m+=4,++b):m+=3}return m},Kr=(u,m,b,O)=>{if(!(O>0))return 0;for(var Y=b,me=b+O-1,Me=0;Me<u.length;++Me){var Ge=u.charCodeAt(Me);if(Ge>=55296&&Ge<=57343&&(Ge=65536+((1023&Ge)<<10)|1023&u.charCodeAt(++Me)),Ge<=127){if(b>=me)break;m[b++]=Ge}else if(Ge<=2047){if(b+1>=me)break;m[b++]=192|Ge>>6,m[b++]=128|63&Ge}else if(Ge<=65535){if(b+2>=me)break;m[b++]=224|Ge>>12,m[b++]=128|Ge>>6&63,m[b++]=128|63&Ge}else{if(b+3>=me)break;m[b++]=240|Ge>>18,m[b++]=128|Ge>>12&63,m[b++]=128|Ge>>6&63,m[b++]=128|63&Ge}}return m[b]=0,b-Y};function xo(u,m,b){var O=b>0?b:er(u)+1,Y=new Array(O),me=Kr(u,Y,0,Y.length);return m&&(Y.length=me),Y}var Ln={ttys:[],init(){},shutdown(){},register(u,m){Ln.ttys[u]={input:[],output:[],ops:m},I.registerDevice(u,Ln.stream_ops)},stream_ops:{open(u){var m=Ln.ttys[u.node.rdev];if(!m)throw new I.ErrnoError(43);u.tty=m,u.seekable=!1},close(u){u.tty.ops.fsync(u.tty)},fsync(u){u.tty.ops.fsync(u.tty)},read(u,m,b,O,Y){if(!u.tty||!u.tty.ops.get_char)throw new I.ErrnoError(60);for(var me=0,Me=0;Me<O;Me++){var Ge;try{Ge=u.tty.ops.get_char(u.tty)}catch{throw new I.ErrnoError(29)}if(void 0===Ge&&0===me)throw new I.ErrnoError(6);if(null==Ge)break;me++,m[b+Me]=Ge}return me&&(u.node.timestamp=Date.now()),me},write(u,m,b,O,Y){if(!u.tty||!u.tty.ops.put_char)throw new I.ErrnoError(60);try{for(var me=0;me<O;me++)u.tty.ops.put_char(u.tty,m[b+me])}catch{throw new I.ErrnoError(29)}return O&&(u.node.timestamp=Date.now()),me}},default_tty_ops:{get_char:u=>(()=>{if(!Tr.length){var u=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(u=window.prompt("Input: "))&&(u+="\n"):"function"==typeof readline&&null!==(u=readline())&&(u+="\n"),!u)return null;Tr=xo(u,!0)}return Tr.shift()})(),put_char(u,m){null===m||10===m?(z(De(u.output,0)),u.output=[]):0!=m&&u.output.push(m)},fsync(u){u.output&&u.output.length>0&&(z(De(u.output,0)),u.output=[])},ioctl_tcgets:u=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(u,m,b)=>0,ioctl_tiocgwinsz:u=>[24,80]},default_tty1_ops:{put_char(u,m){null===m||10===m?(G(De(u.output,0)),u.output=[]):0!=m&&u.output.push(m)},fsync(u){u.output&&u.output.length>0&&(G(De(u.output,0)),u.output=[])}}},Br=u=>{Nn()},Vt={ops_table:null,mount:u=>Vt.createNode(null,"/",16895,0),createNode(u,m,b,O){if(I.isBlkdev(b)||I.isFIFO(b))throw new I.ErrnoError(63);Vt.ops_table||(Vt.ops_table={dir:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,lookup:Vt.node_ops.lookup,mknod:Vt.node_ops.mknod,rename:Vt.node_ops.rename,unlink:Vt.node_ops.unlink,rmdir:Vt.node_ops.rmdir,readdir:Vt.node_ops.readdir,symlink:Vt.node_ops.symlink},stream:{llseek:Vt.stream_ops.llseek}},file:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:{llseek:Vt.stream_ops.llseek,read:Vt.stream_ops.read,write:Vt.stream_ops.write,allocate:Vt.stream_ops.allocate,mmap:Vt.stream_ops.mmap,msync:Vt.stream_ops.msync}},link:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,readlink:Vt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:I.chrdev_stream_ops}});var Y=I.createNode(u,m,b,O);return I.isDir(Y.mode)?(Y.node_ops=Vt.ops_table.dir.node,Y.stream_ops=Vt.ops_table.dir.stream,Y.contents={}):I.isFile(Y.mode)?(Y.node_ops=Vt.ops_table.file.node,Y.stream_ops=Vt.ops_table.file.stream,Y.usedBytes=0,Y.contents=null):I.isLink(Y.mode)?(Y.node_ops=Vt.ops_table.link.node,Y.stream_ops=Vt.ops_table.link.stream):I.isChrdev(Y.mode)&&(Y.node_ops=Vt.ops_table.chrdev.node,Y.stream_ops=Vt.ops_table.chrdev.stream),Y.timestamp=Date.now(),u&&(u.contents[m]=Y,u.timestamp=Y.timestamp),Y},getFileDataAsTypedArray:u=>u.contents?u.contents.subarray?u.contents.subarray(0,u.usedBytes):new Uint8Array(u.contents):new Uint8Array(0),expandFileStorage(u,m){var b=u.contents?u.contents.length:0;if(!(b>=m)){m=Math.max(m,b*(b<1048576?2:1.125)>>>0),0!=b&&(m=Math.max(m,256));var Y=u.contents;u.contents=new Uint8Array(m),u.usedBytes>0&&u.contents.set(Y.subarray(0,u.usedBytes),0)}},resizeFileStorage(u,m){if(u.usedBytes!=m)if(0==m)u.contents=null,u.usedBytes=0;else{var b=u.contents;u.contents=new Uint8Array(m),b&&u.contents.set(b.subarray(0,Math.min(m,u.usedBytes))),u.usedBytes=m}},node_ops:{getattr(u){var m={};return m.dev=I.isChrdev(u.mode)?u.id:1,m.ino=u.id,m.mode=u.mode,m.nlink=1,m.uid=0,m.gid=0,m.rdev=u.rdev,m.size=I.isDir(u.mode)?4096:I.isFile(u.mode)?u.usedBytes:I.isLink(u.mode)?u.link.length:0,m.atime=new Date(u.timestamp),m.mtime=new Date(u.timestamp),m.ctime=new Date(u.timestamp),m.blksize=4096,m.blocks=Math.ceil(m.size/m.blksize),m},setattr(u,m){void 0!==m.mode&&(u.mode=m.mode),void 0!==m.timestamp&&(u.timestamp=m.timestamp),void 0!==m.size&&Vt.resizeFileStorage(u,m.size)},lookup(u,m){throw I.genericErrors[44]},mknod:(u,m,b,O)=>Vt.createNode(u,m,b,O),rename(u,m,b){if(I.isDir(u.mode)){var O;try{O=I.lookupNode(m,b)}catch{}if(O)for(var Y in O.contents)throw new I.ErrnoError(55)}delete u.parent.contents[u.name],u.parent.timestamp=Date.now(),u.name=b,m.contents[b]=u,m.timestamp=u.parent.timestamp,u.parent=m},unlink(u,m){delete u.contents[m],u.timestamp=Date.now()},rmdir(u,m){var b=I.lookupNode(u,m);for(var O in b.contents)throw new I.ErrnoError(55);delete u.contents[m],u.timestamp=Date.now()},readdir(u){var m=[".",".."];for(var b in u.contents)u.contents.hasOwnProperty(b)&&m.push(b);return m},symlink(u,m,b){var O=Vt.createNode(u,m,41471,0);return O.link=b,O},readlink(u){if(!I.isLink(u.mode))throw new I.ErrnoError(28);return u.link}},stream_ops:{read(u,m,b,O,Y){var me=u.node.contents;if(Y>=u.node.usedBytes)return 0;var Me=Math.min(u.node.usedBytes-Y,O);if(Me>8&&me.subarray)m.set(me.subarray(Y,Y+Me),b);else for(var Ge=0;Ge<Me;Ge++)m[b+Ge]=me[Y+Ge];return Me},write(u,m,b,O,Y,me){if(m.buffer===le.buffer&&(me=!1),!O)return 0;var Me=u.node;if(Me.timestamp=Date.now(),m.subarray&&(!Me.contents||Me.contents.subarray)){if(me)return Me.contents=m.subarray(b,b+O),Me.usedBytes=O,O;if(0===Me.usedBytes&&0===Y)return Me.contents=m.slice(b,b+O),Me.usedBytes=O,O;if(Y+O<=Me.usedBytes)return Me.contents.set(m.subarray(b,b+O),Y),O}if(Vt.expandFileStorage(Me,Y+O),Me.contents.subarray&&m.subarray)Me.contents.set(m.subarray(b,b+O),Y);else for(var Ge=0;Ge<O;Ge++)Me.contents[Y+Ge]=m[b+Ge];return Me.usedBytes=Math.max(Me.usedBytes,Y+O),O},llseek(u,m,b){var O=m;if(1===b?O+=u.position:2===b&&I.isFile(u.node.mode)&&(O+=u.node.usedBytes),O<0)throw new I.ErrnoError(28);return O},allocate(u,m,b){Vt.expandFileStorage(u.node,m+b),u.node.usedBytes=Math.max(u.node.usedBytes,m+b)},mmap(u,m,b,O,Y){if(!I.isFile(u.node.mode))throw new I.ErrnoError(43);var me,Me,Ge=u.node.contents;if(2&Y||Ge.buffer!==le.buffer){if((b>0||b+m<Ge.length)&&(Ge=Ge.subarray?Ge.subarray(b,b+m):Array.prototype.slice.call(Ge,b,b+m)),Me=!0,!(me=Br()))throw new I.ErrnoError(48);le.set(Ge,me)}else Me=!1,me=Ge.byteOffset;return{ptr:me,allocated:Me}},msync:(u,m,b,O,Y)=>(Vt.stream_ops.write(u,m,0,O,b,!1),0)}},rn=d.preloadPlugins||[],_i=(u,m)=>{var b=0;return u&&(b|=365),m&&(b|=146),b},I={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(u,m={}){if(!(u=Or.resolve(u)))return{path:"",node:null};if((m=Object.assign({follow_mount:!0,recurse_count:0},m)).recurse_count>8)throw new I.ErrnoError(32);for(var O=u.split("/").filter(In=>!!In),Y=I.root,me="/",Me=0;Me<O.length;Me++){var Ge=Me===O.length-1;if(Ge&&m.parent)break;if(Y=I.lookupNode(Y,O[Me]),me=Tt.join2(me,O[Me]),I.isMountpoint(Y)&&(!Ge||Ge&&m.follow_mount)&&(Y=Y.mounted.root),!Ge||m.follow)for(var Ze=0;I.isLink(Y.mode);){var qt=I.readlink(me);if(me=Or.resolve(Tt.dirname(me),qt),Y=I.lookupPath(me,{recurse_count:m.recurse_count+1}).node,Ze++>40)throw new I.ErrnoError(32)}}return{path:me,node:Y}},getPath(u){for(var m;;){if(I.isRoot(u)){var b=u.mount.mountpoint;return m?"/"!==b[b.length-1]?`${b}/${m}`:b+m:b}m=m?`${u.name}/${m}`:u.name,u=u.parent}},hashName(u,m){for(var b=0,O=0;O<m.length;O++)b=(b<<5)-b+m.charCodeAt(O)|0;return(u+b>>>0)%I.nameTable.length},hashAddNode(u){var m=I.hashName(u.parent.id,u.name);u.name_next=I.nameTable[m],I.nameTable[m]=u},hashRemoveNode(u){var m=I.hashName(u.parent.id,u.name);if(I.nameTable[m]===u)I.nameTable[m]=u.name_next;else for(var b=I.nameTable[m];b;){if(b.name_next===u){b.name_next=u.name_next;break}b=b.name_next}},lookupNode(u,m){var b=I.mayLookup(u);if(b)throw new I.ErrnoError(b,u);for(var O=I.hashName(u.id,m),Y=I.nameTable[O];Y;Y=Y.name_next)if(Y.parent.id===u.id&&Y.name===m)return Y;return I.lookup(u,m)},createNode(u,m,b,O){var Y=new I.FSNode(u,m,b,O);return I.hashAddNode(Y),Y},destroyNode(u){I.hashRemoveNode(u)},isRoot:u=>u===u.parent,isMountpoint:u=>!!u.mounted,isFile:u=>32768==(61440&u),isDir:u=>16384==(61440&u),isLink:u=>40960==(61440&u),isChrdev:u=>8192==(61440&u),isBlkdev:u=>24576==(61440&u),isFIFO:u=>4096==(61440&u),isSocket:u=>49152==(49152&u),flagsToPermissionString(u){var m=["r","w","rw"][3&u];return 512&u&&(m+="w"),m},nodePermissions:(u,m)=>I.ignorePermissions?0:m.includes("r")&&!(292&u.mode)||m.includes("w")&&!(146&u.mode)||m.includes("x")&&!(73&u.mode)?2:0,mayLookup:u=>I.nodePermissions(u,"x")||(u.node_ops.lookup?0:2),mayCreate(u,m){try{return I.lookupNode(u,m),20}catch{}return I.nodePermissions(u,"wx")},mayDelete(u,m,b){var O;try{O=I.lookupNode(u,m)}catch(me){return me.errno}var Y=I.nodePermissions(u,"wx");if(Y)return Y;if(b){if(!I.isDir(O.mode))return 54;if(I.isRoot(O)||I.getPath(O)===I.cwd())return 10}else if(I.isDir(O.mode))return 31;return 0},mayOpen:(u,m)=>u?I.isLink(u.mode)?32:I.isDir(u.mode)&&("r"!==I.flagsToPermissionString(m)||512&m)?31:I.nodePermissions(u,I.flagsToPermissionString(m)):44,MAX_OPEN_FDS:4096,nextfd(){for(var u=0;u<=I.MAX_OPEN_FDS;u++)if(!I.streams[u])return u;throw new I.ErrnoError(33)},getStreamChecked(u){var m=I.getStream(u);if(!m)throw new I.ErrnoError(8);return m},getStream:u=>I.streams[u],createStream:(u,m=-1)=>(I.FSStream||(I.FSStream=function(){this.shared={}},I.FSStream.prototype={},Object.defineProperties(I.FSStream.prototype,{object:{get(){return this.node},set(b){this.node=b}},isRead:{get(){return 1!=(2097155&this.flags)}},isWrite:{get(){return 0!=(2097155&this.flags)}},isAppend:{get(){return 1024&this.flags}},flags:{get(){return this.shared.flags},set(b){this.shared.flags=b}},position:{get(){return this.shared.position},set(b){this.shared.position=b}}})),u=Object.assign(new I.FSStream,u),-1==m&&(m=I.nextfd()),u.fd=m,I.streams[m]=u,u),closeStream(u){I.streams[u]=null},chrdev_stream_ops:{open(u){var m=I.getDevice(u.node.rdev);u.stream_ops=m.stream_ops,u.stream_ops.open&&u.stream_ops.open(u)},llseek(){throw new I.ErrnoError(70)}},major:u=>u>>8,minor:u=>255&u,makedev:(u,m)=>u<<8|m,registerDevice(u,m){I.devices[u]={stream_ops:m}},getDevice:u=>I.devices[u],getMounts(u){for(var m=[],b=[u];b.length;){var O=b.pop();m.push(O),b.push.apply(b,O.mounts)}return m},syncfs(u,m){"function"==typeof u&&(m=u,u=!1),I.syncFSRequests++,I.syncFSRequests>1&&G(`warning: ${I.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var b=I.getMounts(I.root.mount),O=0;function Y(Me){return I.syncFSRequests--,m(Me)}function me(Me){if(Me)return me.errored?void 0:(me.errored=!0,Y(Me));++O>=b.length&&Y(null)}b.forEach(Me=>{if(!Me.type.syncfs)return me(null);Me.type.syncfs(Me,u,me)})},mount(u,m,b){var me,O="/"===b,Y=!b;if(O&&I.root)throw new I.ErrnoError(10);if(!O&&!Y){var Me=I.lookupPath(b,{follow_mount:!1});if(b=Me.path,I.isMountpoint(me=Me.node))throw new I.ErrnoError(10);if(!I.isDir(me.mode))throw new I.ErrnoError(54)}var Ge={type:u,opts:m,mountpoint:b,mounts:[]},Ze=u.mount(Ge);return Ze.mount=Ge,Ge.root=Ze,O?I.root=Ze:me&&(me.mounted=Ge,me.mount&&me.mount.mounts.push(Ge)),Ze},unmount(u){var m=I.lookupPath(u,{follow_mount:!1});if(!I.isMountpoint(m.node))throw new I.ErrnoError(28);var b=m.node,O=b.mounted,Y=I.getMounts(O);Object.keys(I.nameTable).forEach(Me=>{for(var Ge=I.nameTable[Me];Ge;){var Ze=Ge.name_next;Y.includes(Ge.mount)&&I.destroyNode(Ge),Ge=Ze}}),b.mounted=null;var me=b.mount.mounts.indexOf(O);b.mount.mounts.splice(me,1)},lookup:(u,m)=>u.node_ops.lookup(u,m),mknod(u,m,b){var Y=I.lookupPath(u,{parent:!0}).node,me=Tt.basename(u);if(!me||"."===me||".."===me)throw new I.ErrnoError(28);var Me=I.mayCreate(Y,me);if(Me)throw new I.ErrnoError(Me);if(!Y.node_ops.mknod)throw new I.ErrnoError(63);return Y.node_ops.mknod(Y,me,m,b)},create:(u,m)=>(m=void 0!==m?m:438,m&=4095,I.mknod(u,m|=32768,0)),mkdir:(u,m)=>(m=void 0!==m?m:511,m&=1023,I.mknod(u,m|=16384,0)),mkdirTree(u,m){for(var b=u.split("/"),O="",Y=0;Y<b.length;++Y)if(b[Y]){O+="/"+b[Y];try{I.mkdir(O,m)}catch(me){if(20!=me.errno)throw me}}},mkdev:(u,m,b)=>(typeof b>"u"&&(b=m,m=438),I.mknod(u,m|=8192,b)),symlink(u,m){if(!Or.resolve(u))throw new I.ErrnoError(44);var O=I.lookupPath(m,{parent:!0}).node;if(!O)throw new I.ErrnoError(44);var Y=Tt.basename(m),me=I.mayCreate(O,Y);if(me)throw new I.ErrnoError(me);if(!O.node_ops.symlink)throw new I.ErrnoError(63);return O.node_ops.symlink(O,Y,u)},rename(u,m){var Ge,Ze,b=Tt.dirname(u),O=Tt.dirname(m),Y=Tt.basename(u),me=Tt.basename(m);if(Ge=I.lookupPath(u,{parent:!0}).node,Ze=I.lookupPath(m,{parent:!0}).node,!Ge||!Ze)throw new I.ErrnoError(44);if(Ge.mount!==Ze.mount)throw new I.ErrnoError(75);var In,qt=I.lookupNode(Ge,Y),zt=Or.relative(u,O);if("."!==zt.charAt(0))throw new I.ErrnoError(28);if("."!==(zt=Or.relative(m,b)).charAt(0))throw new I.ErrnoError(55);try{In=I.lookupNode(Ze,me)}catch{}if(qt!==In){var sn=I.isDir(qt.mode),dn=I.mayDelete(Ge,Y,sn);if(dn)throw new I.ErrnoError(dn);if(dn=In?I.mayDelete(Ze,me,sn):I.mayCreate(Ze,me))throw new I.ErrnoError(dn);if(!Ge.node_ops.rename)throw new I.ErrnoError(63);if(I.isMountpoint(qt)||In&&I.isMountpoint(In))throw new I.ErrnoError(10);if(Ze!==Ge&&(dn=I.nodePermissions(Ge,"w")))throw new I.ErrnoError(dn);I.hashRemoveNode(qt);try{Ge.node_ops.rename(qt,Ze,me)}catch(En){throw En}finally{I.hashAddNode(qt)}}},rmdir(u){var b=I.lookupPath(u,{parent:!0}).node,O=Tt.basename(u),Y=I.lookupNode(b,O),me=I.mayDelete(b,O,!0);if(me)throw new I.ErrnoError(me);if(!b.node_ops.rmdir)throw new I.ErrnoError(63);if(I.isMountpoint(Y))throw new I.ErrnoError(10);b.node_ops.rmdir(b,O),I.destroyNode(Y)},readdir(u){var b=I.lookupPath(u,{follow:!0}).node;if(!b.node_ops.readdir)throw new I.ErrnoError(54);return b.node_ops.readdir(b)},unlink(u){var b=I.lookupPath(u,{parent:!0}).node;if(!b)throw new I.ErrnoError(44);var O=Tt.basename(u),Y=I.lookupNode(b,O),me=I.mayDelete(b,O,!1);if(me)throw new I.ErrnoError(me);if(!b.node_ops.unlink)throw new I.ErrnoError(63);if(I.isMountpoint(Y))throw new I.ErrnoError(10);b.node_ops.unlink(b,O),I.destroyNode(Y)},readlink(u){var b=I.lookupPath(u).node;if(!b)throw new I.ErrnoError(44);if(!b.node_ops.readlink)throw new I.ErrnoError(28);return Or.resolve(I.getPath(b.parent),b.node_ops.readlink(b))},stat(u,m){var O=I.lookupPath(u,{follow:!m}).node;if(!O)throw new I.ErrnoError(44);if(!O.node_ops.getattr)throw new I.ErrnoError(63);return O.node_ops.getattr(O)},lstat:u=>I.stat(u,!0),chmod(u,m,b){var O;if(!(O="string"==typeof u?I.lookupPath(u,{follow:!b}).node:u).node_ops.setattr)throw new I.ErrnoError(63);O.node_ops.setattr(O,{mode:4095&m|-4096&O.mode,timestamp:Date.now()})},lchmod(u,m){I.chmod(u,m,!0)},fchmod(u,m){var b=I.getStreamChecked(u);I.chmod(b.node,m)},chown(u,m,b,O){var Y;if(!(Y="string"==typeof u?I.lookupPath(u,{follow:!O}).node:u).node_ops.setattr)throw new I.ErrnoError(63);Y.node_ops.setattr(Y,{timestamp:Date.now()})},lchown(u,m,b){I.chown(u,m,b,!0)},fchown(u,m,b){var O=I.getStreamChecked(u);I.chown(O.node,m,b)},truncate(u,m){if(m<0)throw new I.ErrnoError(28);var b;if(!(b="string"==typeof u?I.lookupPath(u,{follow:!0}).node:u).node_ops.setattr)throw new I.ErrnoError(63);if(I.isDir(b.mode))throw new I.ErrnoError(31);if(!I.isFile(b.mode))throw new I.ErrnoError(28);var Y=I.nodePermissions(b,"w");if(Y)throw new I.ErrnoError(Y);b.node_ops.setattr(b,{size:m,timestamp:Date.now()})},ftruncate(u,m){var b=I.getStreamChecked(u);if(!(2097155&b.flags))throw new I.ErrnoError(28);I.truncate(b.node,m)},utime(u,m,b){var Y=I.lookupPath(u,{follow:!0}).node;Y.node_ops.setattr(Y,{timestamp:Math.max(m,b)})},open(u,m,b){if(""===u)throw new I.ErrnoError(44);var O;if(m="string"==typeof m?(u=>{var b={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[u];if(typeof b>"u")throw new Error(`Unknown file open mode: ${u}`);return b})(m):m,b=typeof b>"u"?438:b,b=64&m?4095&b|32768:0,"object"==typeof u)O=u;else{u=Tt.normalize(u);try{O=I.lookupPath(u,{follow:!(131072&m)}).node}catch{}}var me=!1;if(64&m)if(O){if(128&m)throw new I.ErrnoError(20)}else O=I.mknod(u,b,0),me=!0;if(!O)throw new I.ErrnoError(44);if(I.isChrdev(O.mode)&&(m&=-513),65536&m&&!I.isDir(O.mode))throw new I.ErrnoError(54);if(!me){var Me=I.mayOpen(O,m);if(Me)throw new I.ErrnoError(Me)}512&m&&!me&&I.truncate(O,0),m&=-131713;var Ge=I.createStream({node:O,path:I.getPath(O),flags:m,seekable:!0,position:0,stream_ops:O.stream_ops,ungotten:[],error:!1});return Ge.stream_ops.open&&Ge.stream_ops.open(Ge),d.logReadFiles&&!(1&m)&&(I.readFiles||(I.readFiles={}),u in I.readFiles||(I.readFiles[u]=1)),Ge},close(u){if(I.isClosed(u))throw new I.ErrnoError(8);u.getdents&&(u.getdents=null);try{u.stream_ops.close&&u.stream_ops.close(u)}catch(m){throw m}finally{I.closeStream(u.fd)}u.fd=null},isClosed:u=>null===u.fd,llseek(u,m,b){if(I.isClosed(u))throw new I.ErrnoError(8);if(!u.seekable||!u.stream_ops.llseek)throw new I.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new I.ErrnoError(28);return u.position=u.stream_ops.llseek(u,m,b),u.ungotten=[],u.position},read(u,m,b,O,Y){if(O<0||Y<0)throw new I.ErrnoError(28);if(I.isClosed(u))throw new I.ErrnoError(8);if(1==(2097155&u.flags))throw new I.ErrnoError(8);if(I.isDir(u.node.mode))throw new I.ErrnoError(31);if(!u.stream_ops.read)throw new I.ErrnoError(28);var me=typeof Y<"u";if(me){if(!u.seekable)throw new I.ErrnoError(70)}else Y=u.position;var Me=u.stream_ops.read(u,m,b,O,Y);return me||(u.position+=Me),Me},write(u,m,b,O,Y,me){if(O<0||Y<0)throw new I.ErrnoError(28);if(I.isClosed(u))throw new I.ErrnoError(8);if(!(2097155&u.flags))throw new I.ErrnoError(8);if(I.isDir(u.node.mode))throw new I.ErrnoError(31);if(!u.stream_ops.write)throw new I.ErrnoError(28);u.seekable&&1024&u.flags&&I.llseek(u,0,2);var Me=typeof Y<"u";if(Me){if(!u.seekable)throw new I.ErrnoError(70)}else Y=u.position;var Ge=u.stream_ops.write(u,m,b,O,Y,me);return Me||(u.position+=Ge),Ge},allocate(u,m,b){if(I.isClosed(u))throw new I.ErrnoError(8);if(m<0||b<=0)throw new I.ErrnoError(28);if(!(2097155&u.flags))throw new I.ErrnoError(8);if(!I.isFile(u.node.mode)&&!I.isDir(u.node.mode))throw new I.ErrnoError(43);if(!u.stream_ops.allocate)throw new I.ErrnoError(138);u.stream_ops.allocate(u,m,b)},mmap(u,m,b,O,Y){if(2&O&&!(2&Y)&&2!=(2097155&u.flags))throw new I.ErrnoError(2);if(1==(2097155&u.flags))throw new I.ErrnoError(2);if(!u.stream_ops.mmap)throw new I.ErrnoError(43);return u.stream_ops.mmap(u,m,b,O,Y)},msync:(u,m,b,O,Y)=>u.stream_ops.msync?u.stream_ops.msync(u,m,b,O,Y):0,munmap:u=>0,ioctl(u,m,b){if(!u.stream_ops.ioctl)throw new I.ErrnoError(59);return u.stream_ops.ioctl(u,m,b)},readFile(u,m={}){if(m.flags=m.flags||0,m.encoding=m.encoding||"binary","utf8"!==m.encoding&&"binary"!==m.encoding)throw new Error(`Invalid encoding type "${m.encoding}"`);var b,O=I.open(u,m.flags),me=I.stat(u).size,Me=new Uint8Array(me);return I.read(O,Me,0,me,0),"utf8"===m.encoding?b=De(Me,0):"binary"===m.encoding&&(b=Me),I.close(O),b},writeFile(u,m,b={}){b.flags=b.flags||577;var O=I.open(u,b.flags,b.mode);if("string"==typeof m){var Y=new Uint8Array(er(m)+1),me=Kr(m,Y,0,Y.length);I.write(O,Y,0,me,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(m))throw new Error("Unsupported data type");I.write(O,m,0,m.byteLength,void 0,b.canOwn)}I.close(O)},cwd:()=>I.currentPath,chdir(u){var m=I.lookupPath(u,{follow:!0});if(null===m.node)throw new I.ErrnoError(44);if(!I.isDir(m.node.mode))throw new I.ErrnoError(54);var b=I.nodePermissions(m.node,"x");if(b)throw new I.ErrnoError(b);I.currentPath=m.path},createDefaultDirectories(){I.mkdir("/tmp"),I.mkdir("/home"),I.mkdir("/home/web_user")},createDefaultDevices(){I.mkdir("/dev"),I.registerDevice(I.makedev(1,3),{read:()=>0,write:(O,Y,me,Me,Ge)=>Me}),I.mkdev("/dev/null",I.makedev(1,3)),Ln.register(I.makedev(5,0),Ln.default_tty_ops),Ln.register(I.makedev(6,0),Ln.default_tty1_ops),I.mkdev("/dev/tty",I.makedev(5,0)),I.mkdev("/dev/tty1",I.makedev(6,0));var u=new Uint8Array(1024),m=0,b=()=>(0===m&&(m=Lt(u).byteLength),u[--m]);I.createDevice("/dev","random",b),I.createDevice("/dev","urandom",b),I.mkdir("/dev/shm"),I.mkdir("/dev/shm/tmp")},createSpecialDirectories(){I.mkdir("/proc");var u=I.mkdir("/proc/self");I.mkdir("/proc/self/fd"),I.mount({mount(){var m=I.createNode(u,"fd",16895,73);return m.node_ops={lookup(b,O){var me=I.getStreamChecked(+O),Me={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>me.path}};return Me.parent=Me,Me}},m}},{},"/proc/self/fd")},createStandardStreams(){d.stdin?I.createDevice("/dev","stdin",d.stdin):I.symlink("/dev/tty","/dev/stdin"),d.stdout?I.createDevice("/dev","stdout",null,d.stdout):I.symlink("/dev/tty","/dev/stdout"),d.stderr?I.createDevice("/dev","stderr",null,d.stderr):I.symlink("/dev/tty1","/dev/stderr"),I.open("/dev/stdin",0),I.open("/dev/stdout",1),I.open("/dev/stderr",1)},ensureErrnoError(){I.ErrnoError||(I.ErrnoError=function(m,b){this.name="ErrnoError",this.node=b,this.setErrno=function(O){this.errno=O},this.setErrno(m),this.message="FS error"},I.ErrnoError.prototype=new Error,I.ErrnoError.prototype.constructor=I.ErrnoError,[44].forEach(u=>{I.genericErrors[u]=new I.ErrnoError(u),I.genericErrors[u].stack="<generic error, no stack>"}))},staticInit(){I.ensureErrnoError(),I.nameTable=new Array(4096),I.mount(Vt,{},"/"),I.createDefaultDirectories(),I.createDefaultDevices(),I.createSpecialDirectories(),I.filesystems={MEMFS:Vt}},init(u,m,b){I.init.initialized=!0,I.ensureErrnoError(),d.stdin=u||d.stdin,d.stdout=m||d.stdout,d.stderr=b||d.stderr,I.createStandardStreams()},quit(){I.init.initialized=!1;for(var u=0;u<I.streams.length;u++){var m=I.streams[u];m&&I.close(m)}},findObject(u,m){var b=I.analyzePath(u,m);return b.exists?b.object:null},analyzePath(u,m){try{u=(b=I.lookupPath(u,{follow:!m})).path}catch{}var O={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=I.lookupPath(u,{parent:!0});O.parentExists=!0,O.parentPath=b.path,O.parentObject=b.node,O.name=Tt.basename(u),b=I.lookupPath(u,{follow:!m}),O.exists=!0,O.path=b.path,O.object=b.node,O.name=b.node.name,O.isRoot="/"===b.path}catch(Y){O.error=Y.errno}return O},createPath(u,m,b,O){u="string"==typeof u?u:I.getPath(u);for(var Y=m.split("/").reverse();Y.length;){var me=Y.pop();if(me){var Me=Tt.join2(u,me);try{I.mkdir(Me)}catch{}u=Me}}return Me},createFile(u,m,b,O,Y){var me=Tt.join2("string"==typeof u?u:I.getPath(u),m),Me=_i(O,Y);return I.create(me,Me)},createDataFile(u,m,b,O,Y,me){var Me=m;u&&(u="string"==typeof u?u:I.getPath(u),Me=m?Tt.join2(u,m):u);var Ge=_i(O,Y),Ze=I.create(Me,Ge);if(b){if("string"==typeof b){for(var qt=new Array(b.length),zt=0,In=b.length;zt<In;++zt)qt[zt]=b.charCodeAt(zt);b=qt}I.chmod(Ze,146|Ge);var sn=I.open(Ze,577);I.write(sn,b,0,b.length,0,me),I.close(sn),I.chmod(Ze,Ge)}return Ze},createDevice(u,m,b,O){var Y=Tt.join2("string"==typeof u?u:I.getPath(u),m),me=_i(!!b,!!O);I.createDevice.major||(I.createDevice.major=64);var Me=I.makedev(I.createDevice.major++,0);return I.registerDevice(Me,{open(Ge){Ge.seekable=!1},close(Ge){O&&O.buffer&&O.buffer.length&&O(10)},read(Ge,Ze,qt,zt,In){for(var sn=0,dn=0;dn<zt;dn++){var En;try{En=b()}catch{throw new I.ErrnoError(29)}if(void 0===En&&0===sn)throw new I.ErrnoError(6);if(null==En)break;sn++,Ze[qt+dn]=En}return sn&&(Ge.node.timestamp=Date.now()),sn},write(Ge,Ze,qt,zt,In){for(var sn=0;sn<zt;sn++)try{O(Ze[qt+sn])}catch{throw new I.ErrnoError(29)}return zt&&(Ge.node.timestamp=Date.now()),sn}}),I.mkdev(Y,me,Me)},forceLoadFile(u){if(u.isDevice||u.isFolder||u.link||u.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{u.contents=xo(H(u.url),!0),u.usedBytes=u.contents.length}catch{throw new I.ErrnoError(29)}},createLazyFile(u,m,b,O,Y){function me(){this.lengthKnown=!1,this.chunks=[]}if(me.prototype.get=function(dn){if(!(dn>this.length-1||dn<0)){var En=dn%this.chunkSize;return this.getter(dn/this.chunkSize|0)[En]}},me.prototype.setDataGetter=function(dn){this.getter=dn},me.prototype.cacheLength=function(){var dn=new XMLHttpRequest;if(dn.open("HEAD",b,!1),dn.send(null),!(dn.status>=200&&dn.status<300||304===dn.status))throw new Error("Couldn't load "+b+". Status: "+dn.status);var eo,En=Number(dn.getResponseHeader("Content-length")),yi=(eo=dn.getResponseHeader("Accept-Ranges"))&&"bytes"===eo,Co=(eo=dn.getResponseHeader("Content-Encoding"))&&"gzip"===eo,wt=1048576;yi||(wt=En);var Gn=this;Gn.setDataGetter(St=>{var hn=St*wt,$n=(St+1)*wt-1;if($n=Math.min($n,En-1),typeof Gn.chunks[St]>"u"&&(Gn.chunks[St]=((St,hn)=>{if(St>hn)throw new Error("invalid range ("+St+", "+hn+") or no bytes requested!");if(hn>En-1)throw new Error("only "+En+" bytes available! programmer error!");var $n=new XMLHttpRequest;if($n.open("GET",b,!1),En!==wt&&$n.setRequestHeader("Range","bytes="+St+"-"+hn),$n.responseType="arraybuffer",$n.overrideMimeType&&$n.overrideMimeType("text/plain; charset=x-user-defined"),$n.send(null),!($n.status>=200&&$n.status<300||304===$n.status))throw new Error("Couldn't load "+b+". Status: "+$n.status);return void 0!==$n.response?new Uint8Array($n.response||[]):xo($n.responseText||"",!0)})(hn,$n)),typeof Gn.chunks[St]>"u")throw new Error("doXHR failed!");return Gn.chunks[St]}),(Co||!En)&&(wt=En=1,En=this.getter(0).length,wt=En,z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=En,this._chunkSize=wt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Q)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Me=new me;Object.defineProperties(Me,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ge={isDevice:!1,contents:Me}}else Ge={isDevice:!1,url:b};var Ze=I.createFile(u,m,Ge,O,Y);Ge.contents?Ze.contents=Ge.contents:Ge.url&&(Ze.contents=null,Ze.url=Ge.url),Object.defineProperties(Ze,{usedBytes:{get:function(){return this.contents.length}}});var qt={};function In(sn,dn,En,eo,yi){var Co=sn.node.contents;if(yi>=Co.length)return 0;var wt=Math.min(Co.length-yi,eo);if(Co.slice)for(var pn=0;pn<wt;pn++)dn[En+pn]=Co[yi+pn];else for(pn=0;pn<wt;pn++)dn[En+pn]=Co.get(yi+pn);return wt}return Object.keys(Ze.stream_ops).forEach(sn=>{var dn=Ze.stream_ops[sn];qt[sn]=function(){return I.forceLoadFile(Ze),dn.apply(null,arguments)}}),qt.read=(sn,dn,En,eo,yi)=>(I.forceLoadFile(Ze),In(sn,dn,En,eo,yi)),qt.mmap=(sn,dn,En,eo,yi)=>{I.forceLoadFile(Ze);var Co=Br();if(!Co)throw new I.ErrnoError(48);return In(sn,le,Co,dn,En),{ptr:Co,allocated:!0}},Ze.stream_ops=qt,Ze}},k={DEFAULT_POLLMASK:5,calculateAt(u,m,b){if(Tt.isAbs(m))return m;var O;if(O=-100===u?I.cwd():k.getStreamFromFD(u).path,0==m.length){if(!b)throw new I.ErrnoError(44);return O}return Tt.join2(O,m)},doStat(u,m,b){try{var O=u(m)}catch(Ge){if(Ge&&Ge.node&&Tt.normalize(m)!==Tt.normalize(I.getPath(Ge.node)))return-54;throw Ge}M[b>>2]=O.dev,M[b+4>>2]=O.mode,fe[b+8>>2]=O.nlink,M[b+12>>2]=O.uid,M[b+16>>2]=O.gid,M[b+20>>2]=O.rdev,jt=[O.size>>>0,(Xe=O.size,+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[b+24>>2]=jt[0],M[b+28>>2]=jt[1],M[b+32>>2]=4096,M[b+36>>2]=O.blocks;var Y=O.atime.getTime(),me=O.mtime.getTime(),Me=O.ctime.getTime();return jt=[Math.floor(Y/1e3)>>>0,(Xe=Math.floor(Y/1e3),+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[b+40>>2]=jt[0],M[b+44>>2]=jt[1],fe[b+48>>2]=Y%1e3*1e3,jt=[Math.floor(me/1e3)>>>0,(Xe=Math.floor(me/1e3),+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[b+56>>2]=jt[0],M[b+60>>2]=jt[1],fe[b+64>>2]=me%1e3*1e3,jt=[Math.floor(Me/1e3)>>>0,(Xe=Math.floor(Me/1e3),+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[b+72>>2]=jt[0],M[b+76>>2]=jt[1],fe[b+80>>2]=Me%1e3*1e3,jt=[O.ino>>>0,(Xe=O.ino,+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[b+88>>2]=jt[0],M[b+92>>2]=jt[1],0},doMsync(u,m,b,O,Y){if(!I.isFile(m.node.mode))throw new I.ErrnoError(43);if(2&O)return 0;var me=ze.slice(u,u+b);I.msync(m,me,Y,b,O)},varargs:void 0,get(){var u=M[k.varargs>>2];return k.varargs+=4,u},getp:()=>k.get(),getStr:u=>Ae(u),getStreamFromFD:u=>I.getStreamChecked(u)},x=(u,m)=>m+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*m:NaN,$o=u=>u%4==0&&(u%100!=0||u%400==0),cs=[0,31,60,91,121,152,182,213,244,274,305,335],Cr=[0,31,59,90,120,151,181,212,243,273,304,334],oo=u=>($o(u.getFullYear())?cs:Cr)[u.getMonth()]+u.getDate()-1,vi=u=>{var m=er(u)+1,b=on(m);return b&&((u,m,b)=>{Kr(u,ze,m,b)})(u,b,m),b},Wn=u=>{var b=(u-ce.buffer.byteLength+65535)/65536;try{return ce.grow(b),Wt(),1}catch{}},Cs={},ui=()=>{if(!ui.strings){var m={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"};for(var b in Cs)void 0===Cs[b]?delete m[b]:m[b]=Cs[b];var O=[];for(var b in m)O.push(`${b}=${m[b]}`);ui.strings=O}return ui.strings},B=[31,29,31,30,31,30,31,31,30,31,30,31],K=[31,28,31,30,31,30,31,31,30,31,30,31],Qe=(u,m)=>{tt=u,(u=>{tt=u,function it(){return Se||!1}()||(d.onExit&&d.onExit(u),rt=!0),j(u,new Xr(u))})(u)},_n=function(u,m,b,O){u||(u=this),this.parent=u,this.mount=u.mount,this.mounted=null,this.id=I.nextInode++,this.name=m,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=O};Object.defineProperties(_n.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(u){u?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(u){u?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return I.isDir(this.mode)}},isDevice:{get:function(){return I.isChrdev(this.mode)}}}),I.FSNode=_n,I.createPreloadedFile=(u,m,b,O,Y,me,Me,Ge,Ze,qt)=>{var zt=m?Or.resolve(Tt.join2(u,m)):u;function sn(dn){function En(eo){qt&&qt(),Ge||I.createDataFile(u,m,eo,O,Y,Ze),me&&me(),rr()}((u,m,b,O)=>{typeof Browser<"u"&&Browser.init();var Y=!1;return rn.forEach(me=>{Y||me.canHandle(m)&&(me.handle(u,m,b,O),Y=!0)}),Y})(dn,zt,En,()=>{Me&&Me(),rr()})||En(dn)}jn(),"string"==typeof b?((u,m,b,O)=>{var Y=`al ${u}`;Re(u,me=>{he(me,`Loading data file "${u}" failed (no arrayBuffer).`),sn(new Uint8Array(me)),Y&&rr()},me=>{if(!b)throw`Loading data file "${u}" failed.`;b()}),Y&&jn()})(b,0,Me):sn(b)},I.staticInit();var yt,Wo={a:(u,m,b,O)=>{Nn(`Assertion failed: ${Ae(u)}, at: `+[m?Ae(m):"unknown filename",b,O?Ae(O):"unknown function"])},n:function ko(u,m,b){var O=x(m,b);try{return isNaN(O)?61:(I.ftruncate(u,O),0)}catch(Y){if(typeof I>"u"||"ErrnoError"!==Y.name)throw Y;return-Y.errno}},j:()=>!0,k:function or(u,m,b){var O=x(u,m),Y=new Date(1e3*O);M[b>>2]=Y.getSeconds(),M[b+4>>2]=Y.getMinutes(),M[b+8>>2]=Y.getHours(),M[b+12>>2]=Y.getDate(),M[b+16>>2]=Y.getMonth(),M[b+20>>2]=Y.getFullYear()-1900,M[b+24>>2]=Y.getDay();var me=0|oo(Y);M[b+28>>2]=me,M[b+36>>2]=-60*Y.getTimezoneOffset();var Me=new Date(Y.getFullYear(),0,1),Ge=new Date(Y.getFullYear(),6,1).getTimezoneOffset(),Ze=Me.getTimezoneOffset(),qt=0|(Ge!=Ze&&Y.getTimezoneOffset()==Math.min(Ze,Ge));M[b+32>>2]=qt},l:function(u){var m=(()=>{var b=new Date(M[u+20>>2]+1900,M[u+16>>2],M[u+12>>2],M[u+8>>2],M[u+4>>2],M[u>>2],0),O=M[u+32>>2],Y=b.getTimezoneOffset(),me=new Date(b.getFullYear(),0,1),Me=new Date(b.getFullYear(),6,1).getTimezoneOffset(),Ge=me.getTimezoneOffset(),Ze=Math.min(Ge,Me);if(O<0)M[u+32>>2]=+(Me!=Ge&&Ze==Y);else if(O>0!=(Ze==Y)){var qt=Math.max(Ge,Me),zt=O>0?Ze:qt;b.setTime(b.getTime()+6e4*(zt-Y))}M[u+24>>2]=b.getDay();var In=0|oo(b);return M[u+28>>2]=In,M[u>>2]=b.getSeconds(),M[u+4>>2]=b.getMinutes(),M[u+8>>2]=b.getHours(),M[u+12>>2]=b.getDate(),M[u+16>>2]=b.getMonth(),M[u+20>>2]=b.getYear(),b.getTime()/1e3})();return wn((Xe=m,+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)),m>>>0},e:(u,m,b)=>{var O=(new Date).getFullYear(),Y=new Date(O,0,1),me=new Date(O,6,1),Me=Y.getTimezoneOffset(),Ge=me.getTimezoneOffset(),Ze=Math.max(Me,Ge);function qt(En){var eo=En.toTimeString().match(/\(([A-Za-z ]+)\)$/);return eo?eo[1]:"GMT"}fe[u>>2]=60*Ze,M[m>>2]=+(Me!=Ge);var zt=qt(Y),In=qt(me),sn=vi(zt),dn=vi(In);Ge<Me?(fe[b>>2]=sn,fe[b+4>>2]=dn):(fe[b>>2]=dn,fe[b+4>>2]=sn)},b:()=>{Nn("")},c:()=>Date.now(),f:(u,m,b)=>ze.copyWithin(u,m,m+b),d:u=>{var Ze,m=ze.length,b=2147483648;if((u>>>=0)>b)return!1;for(var Y=1;Y<=4;Y*=2){var me=m*(1+.2/Y);me=Math.min(me,u+100663296);var Me=Math.min(b,(Ze=Math.max(u,me))+(65536-Ze%65536)%65536);if(Wn(Me))return!0}return!1},p:(u,m)=>{var b=0;return ui().forEach((O,Y)=>{var me=m+b;fe[u+4*Y>>2]=me,((u,m)=>{for(var b=0;b<u.length;++b)le[m++>>0]=u.charCodeAt(b);le[m>>0]=0})(O,me),b+=O.length+1}),0},q:(u,m)=>{var b=ui();fe[u>>2]=b.length;var O=0;return b.forEach(Y=>O+=Y.length+1),fe[m>>2]=O,0},g:function us(u){try{var m=k.getStreamFromFD(u);return I.close(m),0}catch(b){if(typeof I>"u"||"ErrnoError"!==b.name)throw b;return b.errno}},i:function zo(u,m,b,O){try{var me=((u,m,b,O)=>{for(var Y=0,me=0;me<b;me++){var Me=fe[m>>2],Ge=fe[m+4>>2];m+=8;var Ze=I.read(u,le,Me,Ge,O);if(Ze<0)return-1;if(Y+=Ze,Ze<Ge)break;typeof O<"u"&&(O+=Ze)}return Y})(k.getStreamFromFD(u),m,b);return fe[O>>2]=me,0}catch(Me){if(typeof I>"u"||"ErrnoError"!==Me.name)throw Me;return Me.errno}},m:function Kt(u,m,b,O,Y){var me=x(m,b);try{if(isNaN(me))return 61;var Me=k.getStreamFromFD(u);return I.llseek(Me,me,O),jt=[Me.position>>>0,(Xe=Me.position,+Math.abs(Xe)>=1?Xe>0?+Math.floor(Xe/4294967296)>>>0:~~+Math.ceil((Xe-+(~~Xe>>>0))/4294967296)>>>0:0)],M[Y>>2]=jt[0],M[Y+4>>2]=jt[1],Me.getdents&&0===me&&0===O&&(Me.getdents=null),0}catch(Ge){if(typeof I>"u"||"ErrnoError"!==Ge.name)throw Ge;return Ge.errno}},h:function R(u,m,b,O){try{var me=((u,m,b,O)=>{for(var Y=0,me=0;me<b;me++){var Me=fe[m>>2],Ge=fe[m+4>>2];m+=8;var Ze=I.write(u,le,Me,Ge,O);if(Ze<0)return-1;Y+=Ze,typeof O<"u"&&(O+=Ze)}return Y})(k.getStreamFromFD(u),m,b);return fe[O>>2]=me,0}catch(Me){if(typeof I>"u"||"ErrnoError"!==Me.name)throw Me;return Me.errno}},o:(u,m,b,O,Y)=>((u,m,b,O)=>{var Y=fe[O+40>>2],me={tm_sec:M[O>>2],tm_min:M[O+4>>2],tm_hour:M[O+8>>2],tm_mday:M[O+12>>2],tm_mon:M[O+16>>2],tm_year:M[O+20>>2],tm_wday:M[O+24>>2],tm_yday:M[O+28>>2],tm_isdst:M[O+32>>2],tm_gmtoff:M[O+36>>2],tm_zone:Y?Ae(Y):""},Me=Ae(b),Ge={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ze in Ge)Me=Me.replace(new RegExp(Ze,"g"),Ge[Ze]);var qt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],zt=["January","February","March","April","May","June","July","August","September","October","November","December"];function In(wt,pn,Gn){for(var St="number"==typeof wt?wt.toString():wt||"";St.length<pn;)St=Gn[0]+St;return St}function sn(wt,pn){return In(wt,pn,"0")}function dn(wt,pn){function Gn(hn){return hn<0?-1:hn>0?1:0}var St;return 0===(St=Gn(wt.getFullYear()-pn.getFullYear()))&&0===(St=Gn(wt.getMonth()-pn.getMonth()))&&(St=Gn(wt.getDate()-pn.getDate())),St}function En(wt){switch(wt.getDay()){case 0:return new Date(wt.getFullYear()-1,11,29);case 1:return wt;case 2:return new Date(wt.getFullYear(),0,3);case 3:return new Date(wt.getFullYear(),0,2);case 4:return new Date(wt.getFullYear(),0,1);case 5:return new Date(wt.getFullYear()-1,11,31);case 6:return new Date(wt.getFullYear()-1,11,30)}}function eo(wt){var pn=((u,m)=>{for(var b=new Date(u.getTime());m>0;){var O=$o(b.getFullYear()),Y=b.getMonth(),me=(O?B:K)[Y];if(!(m>me-b.getDate()))return b.setDate(b.getDate()+m),b;m-=me-b.getDate()+1,b.setDate(1),Y<11?b.setMonth(Y+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b})(new Date(wt.tm_year+1900,0,1),wt.tm_yday),Gn=new Date(pn.getFullYear(),0,4),St=new Date(pn.getFullYear()+1,0,4),hn=En(Gn),$n=En(St);return dn(hn,pn)<=0?dn($n,pn)<=0?pn.getFullYear()+1:pn.getFullYear():pn.getFullYear()-1}var yi={"%a":wt=>qt[wt.tm_wday].substring(0,3),"%A":wt=>qt[wt.tm_wday],"%b":wt=>zt[wt.tm_mon].substring(0,3),"%B":wt=>zt[wt.tm_mon],"%C":wt=>sn((wt.tm_year+1900)/100|0,2),"%d":wt=>sn(wt.tm_mday,2),"%e":wt=>In(wt.tm_mday,2," "),"%g":wt=>eo(wt).toString().substring(2),"%G":wt=>eo(wt),"%H":wt=>sn(wt.tm_hour,2),"%I":wt=>{var pn=wt.tm_hour;return 0==pn?pn=12:pn>12&&(pn-=12),sn(pn,2)},"%j":wt=>sn(wt.tm_mday+((u,m)=>{for(var b=0,O=0;O<=m;b+=u[O++]);return b})($o(wt.tm_year+1900)?B:K,wt.tm_mon-1),3),"%m":wt=>sn(wt.tm_mon+1,2),"%M":wt=>sn(wt.tm_min,2),"%n":()=>"\n","%p":wt=>wt.tm_hour>=0&&wt.tm_hour<12?"AM":"PM","%S":wt=>sn(wt.tm_sec,2),"%t":()=>"\t","%u":wt=>wt.tm_wday||7,"%U":wt=>sn(Math.floor((wt.tm_yday+7-wt.tm_wday)/7),2),"%V":wt=>{var pn=Math.floor((wt.tm_yday+7-(wt.tm_wday+6)%7)/7);if((wt.tm_wday+371-wt.tm_yday-2)%7<=2&&pn++,pn){if(53==pn){var St=(wt.tm_wday+371-wt.tm_yday)%7;4!=St&&(3!=St||!$o(wt.tm_year))&&(pn=1)}}else{pn=52;var Gn=(wt.tm_wday+7-wt.tm_yday-1)%7;(4==Gn||5==Gn&&$o(wt.tm_year%400-1))&&pn++}return sn(pn,2)},"%w":wt=>wt.tm_wday,"%W":wt=>sn(Math.floor((wt.tm_yday+7-(wt.tm_wday+6)%7)/7),2),"%y":wt=>(wt.tm_year+1900).toString().substring(2),"%Y":wt=>wt.tm_year+1900,"%z":wt=>{var pn=wt.tm_gmtoff;return(pn>=0?"+":"-")+("0000"+(pn=(pn=Math.abs(pn)/60)/60*100+pn%60)).slice(-4)},"%Z":wt=>wt.tm_zone,"%%":()=>"%"};for(var Ze in Me=Me.replace(/%%/g,"\0\0"),yi)Me.includes(Ze)&&(Me=Me.replace(new RegExp(Ze,"g"),yi[Ze](me)));var Co=xo(Me=Me.replace(/\0\0/g,"%"),!1);return Co.length>m?0:(((u,m)=>{le.set(u,m)})(Co,u),Co.length-1)})(u,m,b,O)},ue=function Go(){var u={a:Wo};function m(O,Y){var me=O.exports;return ce=(ue=me).r,Wt(),function ft(u){We.unshift(u)}(ue.s),rr(),me}if(jn(),d.instantiateWasm)try{return d.instantiateWasm(u,m)}catch(O){G(`Module.instantiateWasm callback failed with error: ${O}`),te(O)}return function Yr(u,m,b,O){return u||"function"!=typeof WebAssembly.instantiateStreaming||vr(m)||"function"!=typeof fetch?go(m,b,O):fetch(m,{credentials:"same-origin"}).then(Y=>WebAssembly.instantiateStreaming(Y,b).then(O,function(Me){return G(`wasm streaming compile failed: ${Me}`),G("falling back to ArrayBuffer instantiation"),go(m,b,O)}))}(ae,hr,u,function b(O){m(O.instance)}).catch(te),{}}(),on=d._malloc=u=>(on=d._malloc=ue.t)(u),Vs=(d._free=u=>(d._free=ue.u)(u),d._webidl_free=u=>(d._webidl_free=ue.v)(u),d._webidl_malloc=u=>(d._webidl_malloc=ue.w)(u),d._emscripten_bind_VoidPtr___destroy___0=u=>(Vs=d._emscripten_bind_VoidPtr___destroy___0=ue.x)(u)),sa=d._emscripten_bind_FileEntry_GetName_0=u=>(sa=d._emscripten_bind_FileEntry_GetName_0=ue.y)(u),qo=d._emscripten_bind_FileEntry_IsDirectory_0=u=>(qo=d._emscripten_bind_FileEntry_IsDirectory_0=ue.z)(u),Us=d._emscripten_bind_FileEntry_GetSize_0=u=>(Us=d._emscripten_bind_FileEntry_GetSize_0=ue.A)(u),rl=d._emscripten_bind_FileEntry_GetModifiedTS_0=u=>(rl=d._emscripten_bind_FileEntry_GetModifiedTS_0=ue.B)(u),ol=d._emscripten_bind_FileEntry_GetAttributes_0=u=>(ol=d._emscripten_bind_FileEntry_GetAttributes_0=ue.C)(u),zi=d._emscripten_bind_FileEntry___destroy___0=u=>(zi=d._emscripten_bind_FileEntry___destroy___0=ue.D)(u),il=d._emscripten_bind_Vfs_Vfs_0=()=>(il=d._emscripten_bind_Vfs_Vfs_0=ue.E)(),zl=d._emscripten_bind_Vfs_Malloc_1=(u,m)=>(zl=d._emscripten_bind_Vfs_Malloc_1=ue.F)(u,m),sl=d._emscripten_bind_Vfs_Free_1=(u,m)=>(sl=d._emscripten_bind_Vfs_Free_1=ue.G)(u,m),aa=d._emscripten_bind_Vfs_Nullptr_0=u=>(aa=d._emscripten_bind_Vfs_Nullptr_0=ue.H)(u),Hs=d._emscripten_bind_Vfs_AllocateImage_1=(u,m)=>(Hs=d._emscripten_bind_Vfs_AllocateImage_1=ue.I)(u,m),Wl=d._emscripten_bind_Vfs_MountImage_1=(u,m)=>(Wl=d._emscripten_bind_Vfs_MountImage_1=ue.J)(u,m),we=d._emscripten_bind_Vfs_UnmountImage_1=(u,m)=>(we=d._emscripten_bind_Vfs_UnmountImage_1=ue.K)(u,m),Zl=d._emscripten_bind_Vfs_SwitchSlot_1=(u,m)=>(Zl=d._emscripten_bind_Vfs_SwitchSlot_1=ue.L)(u,m),jo=d._emscripten_bind_Vfs_GetPendingImageSize_0=u=>(jo=d._emscripten_bind_Vfs_GetPendingImageSize_0=ue.M)(u),Cn=d._emscripten_bind_Vfs_GetSize_1=(u,m)=>(Cn=d._emscripten_bind_Vfs_GetSize_1=ue.N)(u,m),al=d._emscripten_bind_Vfs_GetPendingImage_0=u=>(al=d._emscripten_bind_Vfs_GetPendingImage_0=ue.O)(u),ql=d._emscripten_bind_Vfs_GetImage_1=(u,m)=>(ql=d._emscripten_bind_Vfs_GetImage_1=ue.P)(u,m),Yl=d._emscripten_bind_Vfs_GetDirtyPages_1=(u,m)=>(Yl=d._emscripten_bind_Vfs_GetDirtyPages_1=ue.Q)(u,m),mt=d._emscripten_bind_Vfs_RenameFile_2=(u,m,b)=>(mt=d._emscripten_bind_Vfs_RenameFile_2=ue.R)(u,m,b),ll=d._emscripten_bind_Vfs_ChmodFile_3=(u,m,b,O)=>(ll=d._emscripten_bind_Vfs_ChmodFile_3=ue.S)(u,m,b,O),yr=d._emscripten_bind_Vfs_StatFile_1=(u,m)=>(yr=d._emscripten_bind_Vfs_StatFile_1=ue.T)(u,m),Es=d._emscripten_bind_Vfs_UnlinkFile_1=(u,m)=>(Es=d._emscripten_bind_Vfs_UnlinkFile_1=ue.U)(u,m),ka=d._emscripten_bind_Vfs_Mkdir_1=(u,m)=>(ka=d._emscripten_bind_Vfs_Mkdir_1=ue.V)(u,m),la=d._emscripten_bind_Vfs_GetEntry_0=u=>(la=d._emscripten_bind_Vfs_GetEntry_0=ue.W)(u),Ma=d._emscripten_bind_Vfs_BytesFree_1=(u,m)=>(Ma=d._emscripten_bind_Vfs_BytesFree_1=ue.X)(u,m),Ds=d._emscripten_bind_Vfs_BytesTotal_1=(u,m)=>(Ds=d._emscripten_bind_Vfs_BytesTotal_1=ue.Y)(u,m),Is=d._emscripten_bind_Vfs_ReadFile_1=(u,m)=>(Is=d._emscripten_bind_Vfs_ReadFile_1=ue.Z)(u,m),Gs=d._emscripten_bind_Vfs_GetCurrentFileSize_0=u=>(Gs=d._emscripten_bind_Vfs_GetCurrentFileSize_0=ue._)(u),ca=d._emscripten_bind_Vfs_GetCurrentFileContent_0=u=>(ca=d._emscripten_bind_Vfs_GetCurrentFileContent_0=ue.$)(u),Ta=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=u=>(Ta=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=ue.aa)(u),An=d._emscripten_bind_Vfs_WriteFile_3=(u,m,b,O)=>(An=d._emscripten_bind_Vfs_WriteFile_3=ue.ba)(u,m,b,O),zs=d._emscripten_bind_Vfs___destroy___0=u=>(zs=d._emscripten_bind_Vfs___destroy___0=ue.ca)(u),ua=d._emscripten_bind_ReaddirContext_ReaddirContext_1=u=>(ua=d._emscripten_bind_ReaddirContext_ReaddirContext_1=ue.da)(u),vo=d._emscripten_bind_ReaddirContext_Next_0=u=>(vo=d._emscripten_bind_ReaddirContext_Next_0=ue.ea)(u),da=d._emscripten_bind_ReaddirContext_GetEntry_0=u=>(da=d._emscripten_bind_ReaddirContext_GetEntry_0=ue.fa)(u),cl=d._emscripten_bind_ReaddirContext_GetStatus_0=u=>(cl=d._emscripten_bind_ReaddirContext_GetStatus_0=ue.ga)(u),ir=d._emscripten_bind_ReaddirContext_GetError_0=u=>(ir=d._emscripten_bind_ReaddirContext_GetError_0=ue.ha)(u),ul=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=u=>(ul=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=ue.ia)(u),Xl=d._emscripten_bind_ReaddirContext___destroy___0=u=>(Xl=d._emscripten_bind_ReaddirContext___destroy___0=ue.ja)(u),fa=d._emscripten_bind_CreateZipContext_CreateZipContext_2=(u,m)=>(fa=d._emscripten_bind_CreateZipContext_CreateZipContext_2=ue.ka)(u,m),pa=d._emscripten_bind_CreateZipContext_AddFile_1=(u,m)=>(pa=d._emscripten_bind_CreateZipContext_AddFile_1=ue.la)(u,m),dl=d._emscripten_bind_CreateZipContext_AddDirectory_1=(u,m)=>(dl=d._emscripten_bind_CreateZipContext_AddDirectory_1=ue.ma)(u,m),Aa=d._emscripten_bind_CreateZipContext_Continue_0=u=>(Aa=d._emscripten_bind_CreateZipContext_Continue_0=ue.na)(u),Ws=d._emscripten_bind_CreateZipContext_GetState_0=u=>(Ws=d._emscripten_bind_CreateZipContext_GetState_0=ue.oa)(u),ha=d._emscripten_bind_CreateZipContext_GetZipContent_0=u=>(ha=d._emscripten_bind_CreateZipContext_GetZipContent_0=ue.pa)(u),fl=d._emscripten_bind_CreateZipContext_GetZipSize_0=u=>(fl=d._emscripten_bind_CreateZipContext_GetZipSize_0=ue.qa)(u),pl=d._emscripten_bind_CreateZipContext_GetErrorItem_0=u=>(pl=d._emscripten_bind_CreateZipContext_GetErrorItem_0=ue.ra)(u),yo=d._emscripten_bind_CreateZipContext___destroy___0=u=>(yo=d._emscripten_bind_CreateZipContext___destroy___0=ue.sa)(u),Wi=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=u=>(Wi=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=ue.ta)(u),Yo=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=(u,m)=>(Yo=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=ue.ua)(u,m),xs=d._emscripten_bind_DeleteRecursiveContext_Continue_0=u=>(xs=d._emscripten_bind_DeleteRecursiveContext_Continue_0=ue.va)(u),ma=d._emscripten_bind_DeleteRecursiveContext_GetState_0=u=>(ma=d._emscripten_bind_DeleteRecursiveContext_GetState_0=ue.wa)(u),Zs=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=u=>(Zs=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=ue.xa)(u),hl=d._emscripten_bind_DeleteRecursiveContext___destroy___0=u=>(hl=d._emscripten_bind_DeleteRecursiveContext___destroy___0=ue.ya)(u),ml=d._emscripten_bind_UnzipContext_UnzipContext_4=(u,m,b,O)=>(ml=d._emscripten_bind_UnzipContext_UnzipContext_4=ue.za)(u,m,b,O),ur=d._emscripten_bind_UnzipContext_GetState_0=u=>(ur=d._emscripten_bind_UnzipContext_GetState_0=ue.Aa)(u),ga=d._emscripten_bind_UnzipContext_Continue_0=u=>(ga=d._emscripten_bind_UnzipContext_Continue_0=ue.Ba)(u),Ar=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=u=>(Ar=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=ue.Ca)(u),fo=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=u=>(fo=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=ue.Da)(u),Dr=d._emscripten_bind_UnzipContext_GetCollisionPath_0=u=>(Dr=d._emscripten_bind_UnzipContext_GetCollisionPath_0=ue.Ea)(u),Vr=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=u=>(Vr=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=ue.Fa)(u),de=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=u=>(de=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=ue.Ga)(u),dr=d._emscripten_bind_UnzipContext___destroy___0=u=>(dr=d._emscripten_bind_UnzipContext___destroy___0=ue.Ha)(u),f=d._emscripten_bind_PasteContext_PasteContext_3=(u,m,b)=>(f=d._emscripten_bind_PasteContext_PasteContext_3=ue.Ia)(u,m,b),_=d._emscripten_bind_PasteContext_AddFile_1=(u,m)=>(_=d._emscripten_bind_PasteContext_AddFile_1=ue.Ja)(u,m),C=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(u,m)=>(C=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=ue.Ka)(u,m),F=d._emscripten_bind_PasteContext_GetState_0=u=>(F=d._emscripten_bind_PasteContext_GetState_0=ue.La)(u),Z=d._emscripten_bind_PasteContext_Continue_0=u=>(Z=d._emscripten_bind_PasteContext_Continue_0=ue.Ma)(u),ve=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=u=>(ve=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=ue.Na)(u),xe=d._emscripten_bind_PasteContext_GetCurrentEntry_0=u=>(xe=d._emscripten_bind_PasteContext_GetCurrentEntry_0=ue.Oa)(u),je=d._emscripten_bind_PasteContext_GetCollisionPath_0=u=>(je=d._emscripten_bind_PasteContext_GetCollisionPath_0=ue.Pa)(u),Mt=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=u=>(Mt=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=ue.Qa)(u),cn=d._emscripten_bind_PasteContext___destroy___0=u=>(cn=d._emscripten_bind_PasteContext___destroy___0=ue.Ra)(u),Tn=d._main=(u,m)=>(Tn=d._main=ue.Sa)(u,m),wn=u=>(wn=ue.Ua)(u);function Hr(){function u(){yt||(yt=!0,d.calledRun=!0,!rt&&(function ht(){!d.noFSInit&&!I.init.initialized&&I.init(),I.ignorePermissions=!1,Ln.init(),Lo(We)}(),function Ee(){Lo(nt)}(),ee(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),mr&&function an(){var u=Tn;try{var O=u(0,0);return Qe(O),O}catch(Y){return(u=>{if(u instanceof Xr||"unwind"==u)return tt;j(1,u)})(Y)}}(),function Ye(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)u=d.postRun.shift(),Nt.unshift(u);var u;Lo(Nt)}()))}U>0||(function Ct(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)u=d.preRun.shift(),Ce.unshift(u);var u;Lo(Ce)}(),U>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),u()},1)):u())}if(d.___original_main=()=>(d.___original_main=ue.Va)(),d.___start_em_js=1067786,d.___stop_em_js=1067884,Gt=function u(){yt||Hr(),yt||(Gt=u)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var mr=!0;function sr(){}function Jn(u){return(u||sr).__cache__}function bo(u,m){var b=Jn(m),O=b[u];return O||((O=Object.create((m||sr).prototype)).ptr=u,b[u]=O)}d.noInitialRun&&(mr=!1),Hr(),(sr.prototype=Object.create(sr.prototype)).constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},d.WrapperObject=sr,d.getCache=Jn,d.wrapPointer=bo,d.castObject=function kc(u,m){return bo(u.ptr,m)},d.NULL=bo(0),d.destroy=function du(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete Jn(u.__class__)[u.ptr]},d.compare=function Mc(u,m){return u.ptr===m.ptr},d.getPointer=function fu(u){return u.ptr},d.getClass=function pu(u){return u.__class__};var Sn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Sn.needed){for(var u=0;u<Sn.temps.length;u++)d._webidl_free(Sn.temps[u]);Sn.temps.length=0,d._webidl_free(Sn.buffer),Sn.buffer=0,Sn.size+=Sn.needed,Sn.needed=0}Sn.buffer||(Sn.size+=128,Sn.buffer=d._webidl_malloc(Sn.size),he(Sn.buffer)),Sn.pos=0},alloc(u,m){he(Sn.buffer);var Y,O=u.length*m.BYTES_PER_ELEMENT;return Sn.pos+(O=O+7&-8)>=Sn.size?(he(O>0),Sn.needed+=O,Y=d._webidl_malloc(O),Sn.temps.push(Y)):(Y=Sn.buffer+Sn.pos,Sn.pos+=O),Y},copy(u,m,b){switch(b>>>=0,m.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var Y=0;Y<u.length;Y++)m[b+Y]=u[Y]}};function Ao(u){if("string"==typeof u){var m=xo(u),b=Sn.alloc(m,le);return Sn.copy(m,le,b),b}return u}function Po(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Jr(){throw"cannot construct a FileEntry, no constructor in IDL"}function tn(){this.ptr=il(),Jn(tn)[this.ptr]=this}function so(u){Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),this.ptr=ua(u),Jn(so)[this.ptr]=this}function Ir(u,m){Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),m&&"object"==typeof m&&(m=m.ptr),this.ptr=fa(u,m),Jn(Ir)[this.ptr]=this}function ao(u){u&&"object"==typeof u&&(u=u.ptr),this.ptr=Wi(u),Jn(ao)[this.ptr]=this}function Fr(u,m,b,O){Sn.prepare(),u&&"object"==typeof u&&(u=u.ptr),m=m&&"object"==typeof m?m.ptr:Ao(m),b&&"object"==typeof b&&(b=b.ptr),O&&"object"==typeof O&&(O=O.ptr),this.ptr=ml(u,m,b,O),Jn(Fr)[this.ptr]=this}function br(u,m,b){Sn.prepare(),u&&"object"==typeof u&&(u=u.ptr),m=m&&"object"==typeof m?m.ptr:Ao(m),b=b&&"object"==typeof b?b.ptr:Ao(b),this.ptr=f(u,m,b),Jn(br)[this.ptr]=this}return(Po.prototype=Object.create(sr.prototype)).constructor=Po,Po.prototype.__class__=Po,Po.__cache__={},d.VoidPtr=Po,Po.prototype.__destroy__=Po.prototype.__destroy__=function(){Vs(this.ptr)},(Jr.prototype=Object.create(sr.prototype)).constructor=Jr,Jr.prototype.__class__=Jr,Jr.__cache__={},d.FileEntry=Jr,Jr.prototype.GetName=Jr.prototype.GetName=function(){return Ae(sa(this.ptr))},Jr.prototype.IsDirectory=Jr.prototype.IsDirectory=function(){return!!qo(this.ptr)},Jr.prototype.GetSize=Jr.prototype.GetSize=function(){return Us(this.ptr)},Jr.prototype.GetModifiedTS=Jr.prototype.GetModifiedTS=function(){return rl(this.ptr)},Jr.prototype.GetAttributes=Jr.prototype.GetAttributes=function(){return ol(this.ptr)},Jr.prototype.__destroy__=Jr.prototype.__destroy__=function(){zi(this.ptr)},(tn.prototype=Object.create(sr.prototype)).constructor=tn,tn.prototype.__class__=tn,tn.__cache__={},d.Vfs=tn,tn.prototype.Malloc=tn.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),bo(zl(this.ptr,u),Po)},tn.prototype.Free=tn.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),sl(this.ptr,u)},tn.prototype.Nullptr=tn.prototype.Nullptr=function(){return bo(aa(this.ptr),Po)},tn.prototype.AllocateImage=tn.prototype.AllocateImage=function(u){u&&"object"==typeof u&&(u=u.ptr),Hs(this.ptr,u)},tn.prototype.MountImage=tn.prototype.MountImage=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!Wl(this.ptr,u)},tn.prototype.UnmountImage=tn.prototype.UnmountImage=function(u){u&&"object"==typeof u&&(u=u.ptr),we(this.ptr,u)},tn.prototype.SwitchSlot=tn.prototype.SwitchSlot=function(u){u&&"object"==typeof u&&(u=u.ptr),Zl(this.ptr,u)},tn.prototype.GetPendingImageSize=tn.prototype.GetPendingImageSize=function(){return jo(this.ptr)},tn.prototype.GetSize=tn.prototype.GetSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),Cn(this.ptr,u)},tn.prototype.GetPendingImage=tn.prototype.GetPendingImage=function(){return bo(al(this.ptr),Po)},tn.prototype.GetImage=tn.prototype.GetImage=function(u){return u&&"object"==typeof u&&(u=u.ptr),bo(ql(this.ptr,u),Po)},tn.prototype.GetDirtyPages=tn.prototype.GetDirtyPages=function(u){return u&&"object"==typeof u&&(u=u.ptr),bo(Yl(this.ptr,u),Po)},tn.prototype.RenameFile=tn.prototype.RenameFile=function(u,m){var b=this.ptr;return Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),m=m&&"object"==typeof m?m.ptr:Ao(m),mt(b,u,m)},tn.prototype.ChmodFile=tn.prototype.ChmodFile=function(u,m,b){var O=this.ptr;return Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),m&&"object"==typeof m&&(m=m.ptr),b&&"object"==typeof b&&(b=b.ptr),ll(O,u,m,b)},tn.prototype.StatFile=tn.prototype.StatFile=function(u){var m=this.ptr;return Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),yr(m,u)},tn.prototype.UnlinkFile=tn.prototype.UnlinkFile=function(u){var m=this.ptr;return Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),Es(m,u)},tn.prototype.Mkdir=tn.prototype.Mkdir=function(u){var m=this.ptr;return Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),ka(m,u)},tn.prototype.GetEntry=tn.prototype.GetEntry=function(){return bo(la(this.ptr),Jr)},tn.prototype.BytesFree=tn.prototype.BytesFree=function(u){return u&&"object"==typeof u&&(u=u.ptr),Ma(this.ptr,u)},tn.prototype.BytesTotal=tn.prototype.BytesTotal=function(u){return u&&"object"==typeof u&&(u=u.ptr),Ds(this.ptr,u)},tn.prototype.ReadFile=tn.prototype.ReadFile=function(u){var m=this.ptr;return Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),!!Is(m,u)},tn.prototype.GetCurrentFileSize=tn.prototype.GetCurrentFileSize=function(){return Gs(this.ptr)},tn.prototype.GetCurrentFileContent=tn.prototype.GetCurrentFileContent=function(){return bo(ca(this.ptr),Po)},tn.prototype.ReleaseCurrentFile=tn.prototype.ReleaseCurrentFile=function(){Ta(this.ptr)},tn.prototype.WriteFile=tn.prototype.WriteFile=function(u,m,b){var O=this.ptr;return Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),m&&"object"==typeof m&&(m=m.ptr),b&&"object"==typeof b&&(b=b.ptr),An(O,u,m,b)},tn.prototype.__destroy__=tn.prototype.__destroy__=function(){zs(this.ptr)},(so.prototype=Object.create(sr.prototype)).constructor=so,so.prototype.__class__=so,so.__cache__={},d.ReaddirContext=so,so.prototype.Next=so.prototype.Next=function(){return vo(this.ptr)},so.prototype.GetEntry=so.prototype.GetEntry=function(){return bo(da(this.ptr),Jr)},so.prototype.GetStatus=so.prototype.GetStatus=function(){return cl(this.ptr)},so.prototype.GetError=so.prototype.GetError=function(){return ir(this.ptr)},so.prototype.GetErrorDescription=so.prototype.GetErrorDescription=function(){return Ae(ul(this.ptr))},so.prototype.__destroy__=so.prototype.__destroy__=function(){Xl(this.ptr)},(Ir.prototype=Object.create(sr.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},d.CreateZipContext=Ir,Ir.prototype.AddFile=Ir.prototype.AddFile=function(u){var m=this.ptr;return Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),bo(pa(m,u),Ir)},Ir.prototype.AddDirectory=Ir.prototype.AddDirectory=function(u){var m=this.ptr;return Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),bo(dl(m,u),Ir)},Ir.prototype.Continue=Ir.prototype.Continue=function(){return Aa(this.ptr)},Ir.prototype.GetState=Ir.prototype.GetState=function(){return Ws(this.ptr)},Ir.prototype.GetZipContent=Ir.prototype.GetZipContent=function(){return bo(ha(this.ptr),Po)},Ir.prototype.GetZipSize=Ir.prototype.GetZipSize=function(){return fl(this.ptr)},Ir.prototype.GetErrorItem=Ir.prototype.GetErrorItem=function(){return Ae(pl(this.ptr))},Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){yo(this.ptr)},(ao.prototype=Object.create(sr.prototype)).constructor=ao,ao.prototype.__class__=ao,ao.__cache__={},d.DeleteRecursiveContext=ao,ao.prototype.AddFile=ao.prototype.AddFile=function(u){var m=this.ptr;return Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),bo(Yo(m,u),ao)},ao.prototype.Continue=ao.prototype.Continue=function(){return xs(this.ptr)},ao.prototype.GetState=ao.prototype.GetState=function(){return ma(this.ptr)},ao.prototype.GetFailingPath=ao.prototype.GetFailingPath=function(){return Ae(Zs(this.ptr))},ao.prototype.__destroy__=ao.prototype.__destroy__=function(){hl(this.ptr)},(Fr.prototype=Object.create(sr.prototype)).constructor=Fr,Fr.prototype.__class__=Fr,Fr.__cache__={},d.UnzipContext=Fr,Fr.prototype.GetState=Fr.prototype.GetState=function(){return ur(this.ptr)},Fr.prototype.Continue=Fr.prototype.Continue=function(){return ga(this.ptr)},Fr.prototype.ContinueWithOverwrite=Fr.prototype.ContinueWithOverwrite=function(){return Ar(this.ptr)},Fr.prototype.GetCurrentEntry=Fr.prototype.GetCurrentEntry=function(){return Ae(fo(this.ptr))},Fr.prototype.GetCollisionPath=Fr.prototype.GetCollisionPath=function(){return Ae(Dr(this.ptr))},Fr.prototype.GetEntriesTotal=Fr.prototype.GetEntriesTotal=function(){return Vr(this.ptr)},Fr.prototype.GetEntriesSuccess=Fr.prototype.GetEntriesSuccess=function(){return de(this.ptr)},Fr.prototype.__destroy__=Fr.prototype.__destroy__=function(){dr(this.ptr)},(br.prototype=Object.create(sr.prototype)).constructor=br,br.prototype.__class__=br,br.__cache__={},d.PasteContext=br,br.prototype.AddFile=br.prototype.AddFile=function(u){var m=this.ptr;return Sn.prepare(),u=u&&"object"==typeof u?u.ptr:Ao(u),bo(_(m,u),br)},br.prototype.SetDeleteAfterCopy=br.prototype.SetDeleteAfterCopy=function(u){return u&&"object"==typeof u&&(u=u.ptr),bo(C(this.ptr,u),br)},br.prototype.GetState=br.prototype.GetState=function(){return F(this.ptr)},br.prototype.Continue=br.prototype.Continue=function(){return Z(this.ptr)},br.prototype.ContinueWithOverwrite=br.prototype.ContinueWithOverwrite=function(){return ve(this.ptr)},br.prototype.GetCurrentEntry=br.prototype.GetCurrentEntry=function(){return Ae(xe(this.ptr))},br.prototype.GetCollisionPath=br.prototype.GetCollisionPath=function(){return Ae(je(this.ptr))},br.prototype.GetEntriesSuccess=br.prototype.GetEntriesSuccess=function(){return Mt(this.ptr)},br.prototype.__destroy__=br.prototype.__destroy__=function(){cn(this.ptr)},D.ready});ke.exports=Le},7143:(ke,Le,P)=>{"use strict";P.d(Le,{c:()=>Pe});var D=P(2678),d=P(4259);let ee;const V=pe=>pe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X=pe=>(void 0===ee&&(ee=void 0===pe.style.animationName&&void 0!==pe.style.webkitAnimationName?"-webkit-":""),ee),N=(pe,z,G)=>{const ae=z.startsWith("animation")?X(pe):"";pe.style.setProperty(ae+z,G)},j=(pe,z)=>{const G=z.startsWith("animation")?X(pe):"";pe.style.removeProperty(G+z)},W=[],Re=(pe=[],z)=>{if(void 0!==z){const G=Array.isArray(z)?z:[z];return[...pe,...G]}return pe},Pe=pe=>{let z,G,ae,Se,ce,rt,qe,Ce,We,nt,Nt,Ct,ht,tt=[],he=[],le=[],ze=!1,$e={},M=[],fe=[],pt={},Dt=0,Wt=!1,Ve=!1,Bt=!0,Fe=!1,it=!0,Ee=!1;const Ye=pe,Ke=[],ft=[],vt=[],U=[],ln=[],Gt=[],Kn=[],jn=[],rr=[],Nn=[],Ho="function"==typeof AnimationEffect||void 0!==D.w&&"function"==typeof D.w.AnimationEffect,vr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Ho,No=()=>Nn,Xe=(S,B)=>((B?.oneTimeCallback?ft:Ke).push({c:S,o:B}),ht),Xr=()=>{if(vr)Nn.forEach(S=>{S.cancel()}),Nn.length=0;else{const S=vt.slice();(0,d.r)(()=>{S.forEach(B=>{j(B,"animation-name"),j(B,"animation-duration"),j(B,"animation-timing-function"),j(B,"animation-iteration-count"),j(B,"animation-delay"),j(B,"animation-play-state"),j(B,"animation-fill-mode"),j(B,"animation-direction")})})}},Lo=()=>{ln.forEach(S=>{S?.parentNode&&S.parentNode.removeChild(S)}),ln.length=0},Er=()=>void 0!==ce?ce:qe?qe.getFill():"both",Ln=()=>void 0!==We?We:void 0!==rt?rt:qe?qe.getDirection():"normal",Br=()=>Wt?"linear":void 0!==ae?ae:qe?qe.getEasing():"linear",Vt=()=>Ve?0:void 0!==nt?nt:void 0!==G?G:qe?qe.getDuration():0,nn=()=>void 0!==Se?Se:qe?qe.getIterations():1,rn=()=>void 0!==Nt?Nt:void 0!==z?z:qe?qe.getDelay():0,or=()=>{0!==Dt&&(Dt--,0===Dt&&((()=>{ui(),jn.forEach(be=>be()),rr.forEach(be=>be());const S=Bt?1:0,B=M,K=fe,_e=pt;vt.forEach(be=>{const Be=be.classList;B.forEach(ut=>Be.add(ut)),K.forEach(ut=>Be.remove(ut));for(const ut in _e)_e.hasOwnProperty(ut)&&N(be,ut,_e[ut])}),Ke.forEach(be=>be.c(S,ht)),ft.forEach(be=>be.c(S,ht)),ft.length=0,it=!0,Bt&&(Fe=!0),Bt=!0})(),qe&&qe.animationFinish()))},Bo=(S=!0)=>{Lo();const B=(pe=>(pe.forEach(z=>{for(const G in z)if(z.hasOwnProperty(G)){const ae=z[G];if("easing"===G)z["animation-timing-function"]=ae,delete z[G];else{const Se=V(G);Se!==G&&(z[Se]=ae,delete z[G])}}}),pe))(tt);vt.forEach(K=>{if(B.length>0){const _e=((pe=[])=>pe.map(z=>{const G=z.offset,ae=[];for(const Se in z)z.hasOwnProperty(Se)&&"offset"!==Se&&ae.push(`${Se}: ${z[Se]};`);return`${100*G}% { ${ae.join(" ")} }`}).join(" "))(B);Ct=void 0!==pe?pe:(pe=>{let z=W.indexOf(pe);return z<0&&(z=W.push(pe)-1),`ion-animation-${z}`})(_e);const be=((pe,z,G)=>{var ae;const Se=(pe=>{const z=void 0!==pe.getRootNode?pe.getRootNode():pe;return z.head||z})(G),ce=X(G),rt=Se.querySelector("#"+pe);if(rt)return rt;const tt=(null!==(ae=G.ownerDocument)&&void 0!==ae?ae:document).createElement("style");return tt.id=pe,tt.textContent=`@${ce}keyframes ${pe} { ${z} } @${ce}keyframes ${pe}-alt { ${z} }`,Se.appendChild(tt),tt})(Ct,_e,K);ln.push(be),N(K,"animation-duration",`${Vt()}ms`),N(K,"animation-timing-function",Br()),N(K,"animation-delay",`${rn()}ms`),N(K,"animation-fill-mode",Er()),N(K,"animation-direction",Ln());const Be=nn()===1/0?"infinite":nn().toString();N(K,"animation-iteration-count",Be),N(K,"animation-play-state","paused"),S&&N(K,"animation-name",`${be.id}-alt`),(0,d.r)(()=>{N(K,"animation-name",be.id||null)})}})},vi=(S=!0)=>{(()=>{Gt.forEach(_e=>_e()),Kn.forEach(_e=>_e());const S=he,B=le,K=$e;vt.forEach(_e=>{const be=_e.classList;S.forEach(Be=>be.add(Be)),B.forEach(Be=>be.remove(Be));for(const Be in K)K.hasOwnProperty(Be)&&N(_e,Be,K[Be])})})(),tt.length>0&&(vr?(vt.forEach(S=>{const B=S.animate(tt,{id:Ye,delay:rn(),duration:Vt(),easing:Br(),iterations:nn(),fill:Er(),direction:Ln()});B.pause(),Nn.push(B)}),Nn.length>0&&(Nn[0].onfinish=()=>{or()})):Bo(S)),ze=!0},Li=S=>{if(S=Math.min(Math.max(S,0),.9999),vr)Nn.forEach(B=>{B.currentTime=B.effect.getComputedTiming().delay+Vt()*S,B.pause()});else{const B=`-${Vt()*S}ms`;vt.forEach(K=>{tt.length>0&&(N(K,"animation-delay",B),N(K,"animation-play-state","paused"))})}},$i=S=>{Nn.forEach(B=>{B.effect.updateTiming({delay:rn(),duration:Vt(),easing:Br(),iterations:nn(),fill:Er(),direction:Ln()})}),void 0!==S&&Li(S)},Di=(S=!0,B)=>{(0,d.r)(()=>{vt.forEach(K=>{N(K,"animation-name",Ct||null),N(K,"animation-duration",`${Vt()}ms`),N(K,"animation-timing-function",Br()),N(K,"animation-delay",void 0!==B?`-${B*Vt()}ms`:`${rn()}ms`),N(K,"animation-fill-mode",Er()||null),N(K,"animation-direction",Ln()||null);const _e=nn()===1/0?"infinite":nn().toString();N(K,"animation-iteration-count",_e),S&&N(K,"animation-name",`${Ct}-alt`),(0,d.r)(()=>{N(K,"animation-name",Ct||null)})})})},uo=(S=!1,B=!0,K)=>(S&&U.forEach(_e=>{_e.update(S,B,K)}),vr?$i(K):Di(B,K),ht),bs=()=>{ze&&(vr?Nn.forEach(S=>{S.pause()}):vt.forEach(S=>{N(S,"animation-play-state","paused")}),Ee=!0)},oa=()=>{Ce=void 0,or()},ui=()=>{Ce&&clearTimeout(Ce)},wr=S=>new Promise(B=>{S?.sync&&(Ve=!0,Xe(()=>Ve=!1,{oneTimeCallback:!0})),ze||vi(),Fe&&(vr?(Li(0),$i()):Di(),Fe=!1),it&&(Dt=U.length+1,it=!1),Xe(()=>B(),{oneTimeCallback:!0}),U.forEach(K=>{K.play()}),vr?(Nn.forEach(S=>{S.play()}),(0===tt.length||0===vt.length)&&or()):(()=>{if(ui(),(0,d.r)(()=>{vt.forEach(S=>{tt.length>0&&N(S,"animation-play-state","running")})}),0===tt.length||0===vt.length)or();else{const S=rn()||0,B=Vt()||0,K=nn()||1;isFinite(K)&&(Ce=setTimeout(oa,S+B*K+100)),((pe,z)=>{let G;const ae={passive:!0},ce=rt=>{pe===rt.target&&(G&&G(),ui(),(0,d.r)(()=>{vt.forEach(S=>{j(S,"animation-duration"),j(S,"animation-delay"),j(S,"animation-play-state")}),(0,d.r)(or)}))};pe&&(pe.addEventListener("webkitAnimationEnd",ce,ae),pe.addEventListener("animationend",ce,ae),G=()=>{pe.removeEventListener("webkitAnimationEnd",ce,ae),pe.removeEventListener("animationend",ce,ae)})})(vt[0])}})(),Ee=!1}),Kt=(S,B)=>{const K=tt[0];return void 0===K||void 0!==K.offset&&0!==K.offset?tt=[{offset:0,[S]:B},...tt]:K[S]=B,ht};return ht={parentAnimation:qe,elements:vt,childAnimations:U,id:Ye,animationFinish:or,from:Kt,to:(S,B)=>{const K=tt[tt.length-1];return void 0===K||void 0!==K.offset&&1!==K.offset?tt=[...tt,{offset:1,[S]:B}]:K[S]=B,ht},fromTo:(S,B,K)=>Kt(S,B).to(S,K),parent:S=>(qe=S,ht),play:wr,pause:()=>(U.forEach(S=>{S.pause()}),bs(),ht),stop:()=>{U.forEach(S=>{S.stop()}),ze&&(Xr(),ze=!1),Wt=!1,Ve=!1,it=!0,We=void 0,nt=void 0,Nt=void 0,Dt=0,Fe=!1,Bt=!0,Ee=!1},destroy:S=>(U.forEach(B=>{B.destroy(S)}),(S=>{Xr(),S&&Lo()})(S),vt.length=0,U.length=0,tt.length=0,Ke.length=0,ft.length=0,ze=!1,it=!0,ht),keyframes:S=>{const B=tt!==S;return tt=S,B&&(S=>{vr?No().forEach(B=>{if(B.effect.setKeyframes)B.effect.setKeyframes(S);else{const K=new KeyframeEffect(B.effect.target,S,B.effect.getTiming());B.effect=K}}):Bo()})(tt),ht},addAnimation:S=>{if(null!=S)if(Array.isArray(S))for(const B of S)B.parent(ht),U.push(B);else S.parent(ht),U.push(S);return ht},addElement:S=>{if(null!=S)if(1===S.nodeType)vt.push(S);else if(S.length>=0)for(let B=0;B<S.length;B++)vt.push(S[B]);else console.error("Invalid addElement value");return ht},update:uo,fill:S=>(ce=S,uo(!0),ht),direction:S=>(rt=S,uo(!0),ht),iterations:S=>(Se=S,uo(!0),ht),duration:S=>(!vr&&0===S&&(S=1),G=S,uo(!0),ht),easing:S=>(ae=S,uo(!0),ht),delay:S=>(z=S,uo(!0),ht),getWebAnimations:No,getKeyframes:()=>tt,getFill:Er,getDirection:Ln,getDelay:rn,getIterations:nn,getEasing:Br,getDuration:Vt,afterAddRead:S=>(jn.push(S),ht),afterAddWrite:S=>(rr.push(S),ht),afterClearStyles:(S=[])=>{for(const B of S)pt[B]="";return ht},afterStyles:(S={})=>(pt=S,ht),afterRemoveClass:S=>(fe=Re(fe,S),ht),afterAddClass:S=>(M=Re(M,S),ht),beforeAddRead:S=>(Gt.push(S),ht),beforeAddWrite:S=>(Kn.push(S),ht),beforeClearStyles:(S=[])=>{for(const B of S)$e[B]="";return ht},beforeStyles:(S={})=>($e=S,ht),beforeRemoveClass:S=>(le=Re(le,S),ht),beforeAddClass:S=>(he=Re(he,S),ht),onFinish:Xe,isRunning:()=>0!==Dt&&!Ee,progressStart:(S=!1,B)=>(U.forEach(K=>{K.progressStart(S,B)}),bs(),Wt=S,ze||vi(),uo(!1,!0,B),ht),progressStep:S=>(U.forEach(B=>{B.progressStep(S)}),Li(S),ht),progressEnd:(S,B,K)=>(Wt=!1,U.forEach(_e=>{_e.progressEnd(S,B,K)}),void 0!==K&&(nt=K),Fe=!1,Bt=!0,0===S?(We="reverse"===Ln()?"normal":"reverse","reverse"===We&&(Bt=!1),vr?(uo(),Li(1-B)):(Nt=(1-B)*Vt()*-1,uo(!1,!1))):1===S&&(vr?(uo(),Li(B)):(Nt=B*Vt()*-1,uo(!1,!1))),void 0!==S&&(Xe(()=>{nt=void 0,We=void 0,Nt=void 0},{oneTimeCallback:!0}),qe||wr()),ht)}}},6277:(ke,Le,P)=>{"use strict";P.d(Le,{E:()=>Q,I:()=>N,a:()=>D,s:()=>j});const D=W=>{try{if(W instanceof N)return W.value;if(!te()||"string"!=typeof W||""===W)return W;if(W.includes("onload="))return"";const $=document.createDocumentFragment(),L=document.createElement("div");$.appendChild(L),L.innerHTML=W,X.forEach(pe=>{const z=$.querySelectorAll(pe);for(let G=z.length-1;G>=0;G--){const ae=z[G];ae.parentNode?ae.parentNode.removeChild(ae):$.removeChild(ae);const Se=ee(ae);for(let ce=0;ce<Se.length;ce++)d(Se[ce])}});const H=ee($);for(let pe=0;pe<H.length;pe++)d(H[pe]);const Re=document.createElement("div");Re.appendChild($);const Pe=Re.querySelector("div");return null!==Pe?Pe.innerHTML:Re.innerHTML}catch($){return console.error($),""}},d=W=>{if(W.nodeType&&1!==W.nodeType)return;if(typeof NamedNodeMap<"u"&&!(W.attributes instanceof NamedNodeMap))return void W.remove();for(let L=W.attributes.length-1;L>=0;L--){const H=W.attributes.item(L),Re=H.name;if(!V.includes(Re.toLowerCase())){W.removeAttribute(Re);continue}const Pe=H.value,pe=W[Re];(null!=Pe&&Pe.toLowerCase().includes("javascript:")||null!=pe&&pe.toLowerCase().includes("javascript:"))&&W.removeAttribute(Re)}const $=ee(W);for(let L=0;L<$.length;L++)d($[L])},ee=W=>null!=W.children?W.children:W.childNodes,te=()=>{var W;const $=window,L=null===(W=$?.Ionic)||void 0===W?void 0:W.config;return!L||(L.get?L.get("sanitizerEnabled",!0):!0===L.sanitizerEnabled||void 0===L.sanitizerEnabled)},V=["class","id","href","src","name","slot"],X=["script","style","iframe","meta","link","object","embed"];class N{constructor($){this.value=$}}const j=W=>{const $=window,L=$.Ionic;if(!L||!L.config||"Object"===L.config.constructor.name)return $.Ionic=$.Ionic||{},$.Ionic.config=Object.assign(Object.assign({},$.Ionic.config),W),$.Ionic.config},Q=!1},1286:(ke,Le,P)=>{"use strict";P.d(Le,{C:()=>V,a:()=>ee,d:()=>te});var D=P(3918),d=P(4259);const ee=function(){var X=(0,D.Z)(function*(N,j,se,Q,W,$){var L;if(N)return N.attachViewToDom(j,se,W,Q);if(!($||"string"==typeof se||se instanceof HTMLElement))throw new Error("framework delegate is missing");const H="string"==typeof se?null===(L=j.ownerDocument)||void 0===L?void 0:L.createElement(se):se;return Q&&Q.forEach(Re=>H.classList.add(Re)),W&&Object.assign(H,W),j.appendChild(H),yield new Promise(Re=>(0,d.c)(H,Re)),H});return function(j,se,Q,W,$,L){return X.apply(this,arguments)}}(),te=(X,N)=>{if(N){if(X)return X.removeViewFromDom(N.parentElement,N);N.remove()}return Promise.resolve()},V=()=>{let X,N;return{attachViewToDom:function(){var Q=(0,D.Z)(function*(W,$,L={},H=[]){var Re,Pe;if(X=W,$){const z="string"==typeof $?null===(Re=X.ownerDocument)||void 0===Re?void 0:Re.createElement($):$;H.forEach(G=>z.classList.add(G)),Object.assign(z,L),X.appendChild(z),yield new Promise(G=>(0,d.c)(z,G))}else if(X.children.length>0&&("ION-MODAL"===X.tagName||"ION-POPOVER"===X.tagName)&&!X.children[0].classList.contains("ion-delegate-host")){const G=null===(Pe=X.ownerDocument)||void 0===Pe?void 0:Pe.createElement("div");G.classList.add("ion-delegate-host"),H.forEach(ae=>G.classList.add(ae)),G.append(...X.children),X.appendChild(G)}const pe=document.querySelector("ion-app")||document.body;return N=document.createComment("ionic teleport"),X.parentNode.insertBefore(N,X),pe.appendChild(X),X});return function($,L){return Q.apply(this,arguments)}}(),removeViewFromDom:()=>(X&&N&&(N.parentNode.insertBefore(X,N),N.remove()),Promise.resolve())}}},9212:(ke,Le,P)=>{"use strict";P.d(Le,{G:()=>V});class d{constructor(N,j,se,Q,W){this.id=j,this.name=se,this.disableScroll=W,this.priority=1e6*Q+j,this.ctrl=N}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const N=this.ctrl.capture(this.name,this.id,this.priority);return N&&this.disableScroll&&this.ctrl.disableScroll(this.id),N}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ee{constructor(N,j,se,Q){this.id=j,this.disable=se,this.disableScroll=Q,this.ctrl=N}block(){if(this.ctrl){if(this.disable)for(const N of this.disable)this.ctrl.disableGesture(N,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const N of this.disable)this.ctrl.enableGesture(N,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const te="backdrop-no-scroll",V=new class D{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(N){var j;return new d(this,this.newID(),N.name,null!==(j=N.priority)&&void 0!==j?j:0,!!N.disableScroll)}createBlocker(N={}){return new ee(this,this.newID(),N.disable,!!N.disableScroll)}start(N,j,se){return this.canStart(N)?(this.requestedStart.set(j,se),!0):(this.requestedStart.delete(j),!1)}capture(N,j,se){if(!this.start(N,j,se))return!1;const Q=this.requestedStart;let W=-1e4;if(Q.forEach($=>{W=Math.max(W,$)}),W===se){this.capturedId=j,Q.clear();const $=new CustomEvent("ionGestureCaptured",{detail:{gestureName:N}});return document.dispatchEvent($),!0}return Q.delete(j),!1}release(N){this.requestedStart.delete(N),this.capturedId===N&&(this.capturedId=void 0)}disableGesture(N,j){let se=this.disabledGestures.get(N);void 0===se&&(se=new Set,this.disabledGestures.set(N,se)),se.add(j)}enableGesture(N,j){const se=this.disabledGestures.get(N);void 0!==se&&se.delete(j)}disableScroll(N){this.disabledScroll.add(N),1===this.disabledScroll.size&&document.body.classList.add(te)}enableScroll(N){this.disabledScroll.delete(N),0===this.disabledScroll.size&&document.body.classList.remove(te)}canStart(N){return!(void 0!==this.capturedId||this.isDisabled(N))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(N){const j=this.disabledGestures.get(N);return!!(j&&j.size>0)}newID(){return this.gestureId++,this.gestureId}}},1474:(ke,Le,P)=>{"use strict";P.r(Le),P.d(Le,{MENU_BACK_BUTTON_PRIORITY:()=>V,OVERLAY_BACK_BUTTON_PRIORITY:()=>te,blockHardwareBackButton:()=>d,startHardwareBackButton:()=>ee});var D=P(3918);const d=()=>{document.addEventListener("backbutton",()=>{})},ee=()=>{const X=document;let N=!1;X.addEventListener("backbutton",()=>{if(N)return;let j=0,se=[];const Q=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(L,H){se.push({priority:L,handler:H,id:j++})}}});X.dispatchEvent(Q);const W=function(){var L=(0,D.Z)(function*(H){try{if(H?.handler){const Re=H.handler($);null!=Re&&(yield Re)}}catch(Re){console.error(Re)}});return function(Re){return L.apply(this,arguments)}}(),$=()=>{if(se.length>0){let L={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};se.forEach(H=>{H.priority>=L.priority&&(L=H)}),N=!0,se=se.filter(H=>H.id!==L.id),W(L).then(()=>N=!1)}};$()})},te=100,V=99},4259:(ke,Le,P)=>{"use strict";P.d(Le,{a:()=>j,b:()=>se,c:()=>ee,d:()=>Pe,e:()=>Re,f:()=>H,g:()=>Q,h:()=>L,i:()=>N,j:()=>ce,k:()=>V,l:()=>pe,m:()=>te,n:()=>$,o:()=>z,p:()=>Se,q:()=>rt,r:()=>W,s:()=>tt,t:()=>D,u:()=>G,v:()=>ae});const D=(he,le=0)=>new Promise(ze=>{d(he,le,ze)}),d=(he,le=0,ze)=>{let qe,$e;const M={passive:!0},pt=()=>{qe&&qe()},Dt=Wt=>{(void 0===Wt||he===Wt.target)&&(pt(),ze(Wt))};return he&&(he.addEventListener("webkitTransitionEnd",Dt,M),he.addEventListener("transitionend",Dt,M),$e=setTimeout(Dt,le+500),qe=()=>{$e&&(clearTimeout($e),$e=void 0),he.removeEventListener("webkitTransitionEnd",Dt,M),he.removeEventListener("transitionend",Dt,M)}),pt},ee=(he,le)=>{he.componentOnReady?he.componentOnReady().then(ze=>le(ze)):W(()=>le(he))},te=he=>void 0!==he.componentOnReady,V=(he,le=[])=>{const ze={};return le.forEach(qe=>{he.hasAttribute(qe)&&(null!==he.getAttribute(qe)&&(ze[qe]=he.getAttribute(qe)),he.removeAttribute(qe))}),ze},X=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],N=(he,le)=>{let ze=X;return le&&le.length>0&&(ze=ze.filter(qe=>!le.includes(qe))),V(he,ze)},j=(he,le,ze,qe)=>{var $e;if(typeof window<"u"){const M=window,fe=null===($e=M?.Ionic)||void 0===$e?void 0:$e.config;if(fe){const pt=fe.get("_ael");if(pt)return pt(he,le,ze,qe);if(fe._ael)return fe._ael(he,le,ze,qe)}}return he.addEventListener(le,ze,qe)},se=(he,le,ze,qe)=>{var $e;if(typeof window<"u"){const M=window,fe=null===($e=M?.Ionic)||void 0===$e?void 0:$e.config;if(fe){const pt=fe.get("_rel");if(pt)return pt(he,le,ze,qe);if(fe._rel)return fe._rel(he,le,ze,qe)}}return he.removeEventListener(le,ze,qe)},Q=(he,le=he)=>he.shadowRoot||le,W=he=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(he):"function"==typeof requestAnimationFrame?requestAnimationFrame(he):setTimeout(he),$=he=>!!he.shadowRoot&&!!he.attachShadow,L=he=>{const le=he.closest("ion-item");return le?le.querySelector("ion-label"):null},H=he=>{if(he.focus(),he.classList.contains("ion-focusable")){const le=he.closest("ion-app");le&&le.setFocus([he])}},Re=(he,le)=>{let ze;const qe=he.getAttribute("aria-labelledby"),$e=he.id;let M=null!==qe&&""!==qe.trim()?qe:le+"-lbl",fe=null!==qe&&""!==qe.trim()?document.getElementById(qe):L(he);return fe?(null===qe&&(fe.id=M),ze=fe.textContent,fe.setAttribute("aria-hidden","true")):""!==$e.trim()&&(fe=document.querySelector(`label[for="${$e}"]`),fe&&(""!==fe.id?M=fe.id:fe.id=M=`${$e}-lbl`,ze=fe.textContent)),{label:fe,labelId:M,labelText:ze}},Pe=(he,le,ze,qe,$e)=>{if(he||$(le)){let M=le.querySelector("input.aux-input");M||(M=le.ownerDocument.createElement("input"),M.type="hidden",M.classList.add("aux-input"),le.appendChild(M)),M.disabled=$e,M.name=ze,M.value=qe||""}},pe=(he,le,ze)=>Math.max(he,Math.min(le,ze)),z=(he,le)=>{if(!he){const ze="ASSERT: "+le;throw console.error(ze),new Error(ze)}},G=he=>he.timeStamp||Date.now(),ae=he=>{if(he){const le=he.changedTouches;if(le&&le.length>0){const ze=le[0];return{x:ze.clientX,y:ze.clientY}}if(void 0!==he.pageX)return{x:he.pageX,y:he.pageY}}return{x:0,y:0}},Se=he=>{const le="rtl"===document.dir;switch(he){case"start":return le;case"end":return!le;default:throw new Error(`"${he}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ce=(he,le)=>{const ze=he._original||he;return{_original:he,emit:rt(ze.emit.bind(ze),le)}},rt=(he,le=0)=>{let ze;return(...qe)=>{clearTimeout(ze),ze=setTimeout(he,le,...qe)}},tt=(he,le)=>{if(he??(he={}),le??(le={}),he===le)return!0;const ze=Object.keys(he);if(ze.length!==Object.keys(le).length)return!1;for(const qe of ze)if(!(qe in le)||he[qe]!==le[qe])return!1;return!0}},2957:(ke,Le,P)=>{"use strict";P.d(Le,{a:()=>d,b:()=>ee,p:()=>D});const D=(te,...V)=>console.warn(`[Ionic Warning]: ${te}`,...V),d=(te,...V)=>console.error(`[Ionic Error]: ${te}`,...V),ee=(te,...V)=>console.error(`<${te.tagName.toLowerCase()}> must be used inside ${V.join(" or ")}.`)},5701:(ke,Le,P)=>{"use strict";P.d(Le,{L:()=>te,a:()=>V,b:()=>X,c:()=>N,d:()=>j,e:()=>he,g:()=>qe,l:()=>rt,s:()=>le,t:()=>W,w:()=>tt});var D=P(3918),d=P(4865),ee=P(4259);const te="ionViewWillEnter",V="ionViewDidEnter",X="ionViewWillLeave",N="ionViewDidLeave",j="ionViewWillUnload",W=$e=>new Promise((M,fe)=>{(0,d.w)(()=>{$($e),L($e).then(pt=>{pt.animation&&pt.animation.destroy(),H($e),M(pt)},pt=>{H($e),fe(pt)})})}),$=$e=>{const M=$e.enteringEl,fe=$e.leavingEl;ze(M,fe,$e.direction),$e.showGoBack?M.classList.add("can-go-back"):M.classList.remove("can-go-back"),le(M,!1),M.style.setProperty("pointer-events","none"),fe&&(le(fe,!1),fe.style.setProperty("pointer-events","none"))},L=function(){var $e=(0,D.Z)(function*(M){const fe=yield Re(M);return fe&&d.B.isBrowser?Pe(fe,M):pe(M)});return function(fe){return $e.apply(this,arguments)}}(),H=$e=>{const M=$e.enteringEl,fe=$e.leavingEl;M.classList.remove("ion-page-invisible"),M.style.removeProperty("pointer-events"),void 0!==fe&&(fe.classList.remove("ion-page-invisible"),fe.style.removeProperty("pointer-events"))},Re=function(){var $e=(0,D.Z)(function*(M){return M.leavingEl&&M.animated&&0!==M.duration?M.animationBuilder?M.animationBuilder:"ios"===M.mode?(yield Promise.resolve().then(P.bind(P,2574))).iosTransitionAnimation:(yield Promise.resolve().then(P.bind(P,8576))).mdTransitionAnimation:void 0});return function(fe){return $e.apply(this,arguments)}}(),Pe=function(){var $e=(0,D.Z)(function*(M,fe){yield z(fe,!0);const pt=M(fe.baseEl,fe);Se(fe.enteringEl,fe.leavingEl);const Dt=yield ae(pt,fe);return fe.progressCallback&&fe.progressCallback(void 0),Dt&&ce(fe.enteringEl,fe.leavingEl),{hasCompleted:Dt,animation:pt}});return function(fe,pt){return $e.apply(this,arguments)}}(),pe=function(){var $e=(0,D.Z)(function*(M){const fe=M.enteringEl,pt=M.leavingEl;return yield z(M,!1),Se(fe,pt),ce(fe,pt),{hasCompleted:!0}});return function(fe){return $e.apply(this,arguments)}}(),z=function(){var $e=(0,D.Z)(function*(M,fe){(void 0!==M.deepWait?M.deepWait:fe)&&(yield Promise.all([he(M.enteringEl),he(M.leavingEl)])),yield G(M.viewIsReady,M.enteringEl)});return function(fe,pt){return $e.apply(this,arguments)}}(),G=function(){var $e=(0,D.Z)(function*(M,fe){M&&(yield M(fe))});return function(fe,pt){return $e.apply(this,arguments)}}(),ae=($e,M)=>{const fe=M.progressCallback,pt=new Promise(Dt=>{$e.onFinish(Wt=>Dt(1===Wt))});return fe?($e.progressStart(!0),fe($e)):$e.play(),pt},Se=($e,M)=>{rt(M,X),rt($e,te)},ce=($e,M)=>{rt($e,V),rt(M,N)},rt=($e,M)=>{if($e){const fe=new CustomEvent(M,{bubbles:!1,cancelable:!1});$e.dispatchEvent(fe)}},tt=()=>new Promise($e=>(0,ee.r)(()=>(0,ee.r)(()=>$e()))),he=function(){var $e=(0,D.Z)(function*(M){const fe=M;if(fe){if(null!=fe.componentOnReady){if(null!=(yield fe.componentOnReady()))return}else if(null!=fe.__registerHost)return void(yield new Promise(Dt=>(0,ee.r)(Dt)));yield Promise.all(Array.from(fe.children).map(he))}});return function(fe){return $e.apply(this,arguments)}}(),le=($e,M)=>{M?($e.setAttribute("aria-hidden","true"),$e.classList.add("ion-page-hidden")):($e.hidden=!1,$e.removeAttribute("aria-hidden"),$e.classList.remove("ion-page-hidden"))},ze=($e,M,fe)=>{void 0!==$e&&($e.style.zIndex="back"===fe?"99":"101"),void 0!==M&&(M.style.zIndex="100")},qe=$e=>$e.classList.contains("ion-page")?$e:$e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||$e},2678:(ke,Le,P)=>{"use strict";P.d(Le,{d:()=>d,w:()=>D});const D=typeof window<"u"?window:void 0,d=typeof document<"u"?document:void 0},4865:(ke,Le,P)=>{"use strict";P.d(Le,{B:()=>W,H:()=>pt,a:()=>bs,b:()=>x,c:()=>Fe,d:()=>Ee,e:()=>Kt,f:()=>ht,g:()=>it,h:()=>M,i:()=>xo,j:()=>$,r:()=>or,w:()=>Ss});var D=P(3918);let ee,te,V,X=!1,N=!1,j=!1,se=!1,Q=!1;const W={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},$=R=>{const S=new URL(R,Wn.$resourcesUrl$);return S.origin!==To.location.origin?S.href:S.pathname},G="s-id",ae="sty-id",rt="http://www.w3.org/1999/xlink",tt={},qe=R=>"object"==(R=typeof R)||"function"===R;function $e(R){var S,B,K;return null!==(K=null===(B=null===(S=R.head)||void 0===S?void 0:S.querySelector('meta[name="csp-nonce"]'))||void 0===B?void 0:B.getAttribute("content"))&&void 0!==K?K:void 0}const M=(R,S,...B)=>{let K=null,_e=null,be=null,Be=!1,ut=!1;const st=[],Qe=_n=>{for(let bn=0;bn<_n.length;bn++)K=_n[bn],Array.isArray(K)?Qe(K):null!=K&&"boolean"!=typeof K&&((Be="function"!=typeof R&&!qe(K))&&(K=String(K)),Be&&ut?st[st.length-1].$text$+=K:st.push(Be?fe(null,K):K),ut=Be)};if(Qe(B),S){S.key&&(_e=S.key),S.name&&(be=S.name);{const _n=S.className||S.class;_n&&(S.class="object"!=typeof _n?_n:Object.keys(_n).filter(bn=>_n[bn]).join(" "))}}if("function"==typeof R)return R(null===S?{}:S,st,Wt);const dt=fe(R,null);return dt.$attrs$=S,st.length>0&&(dt.$children$=st),dt.$key$=_e,dt.$name$=be,dt},fe=(R,S)=>({$flags$:0,$tag$:R,$text$:S,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),pt={},Wt={forEach:(R,S)=>R.map(Ve).forEach(S),map:(R,S)=>R.map(Ve).map(S).map(Ce)},Ve=R=>({vattrs:R.$attrs$,vchildren:R.$children$,vkey:R.$key$,vname:R.$name$,vtag:R.$tag$,vtext:R.$text$}),Ce=R=>{if("function"==typeof R.vtag){const B=Object.assign({},R.vattrs);return R.vkey&&(B.key=R.vkey),R.vname&&(B.name=R.vname),M(R.vtag,B,...R.vchildren||[])}const S=fe(R.vtag,R.vtext);return S.$attrs$=R.vattrs,S.$children$=R.vchildren,S.$key$=R.vkey,S.$name$=R.vname,S},nt=(R,S,B,K,_e,be,Be)=>{let ut,st,Qe,dt;if(1===be.nodeType){for(ut=be.getAttribute("c-id"),ut&&(st=ut.split("."),(st[0]===Be||"0"===st[0])&&(Qe={$flags$:0,$hostId$:st[0],$nodeId$:st[1],$depth$:st[2],$index$:st[3],$tag$:be.tagName.toLowerCase(),$elm$:be,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},S.push(Qe),be.removeAttribute("c-id"),R.$children$||(R.$children$=[]),R.$children$[Qe.$index$]=Qe,R=Qe,K&&"0"===Qe.$depth$&&(K[Qe.$index$]=Qe.$elm$))),dt=be.childNodes.length-1;dt>=0;dt--)nt(R,S,B,K,_e,be.childNodes[dt],Be);if(be.shadowRoot)for(dt=be.shadowRoot.childNodes.length-1;dt>=0;dt--)nt(R,S,B,K,_e,be.shadowRoot.childNodes[dt],Be)}else if(8===be.nodeType)st=be.nodeValue.split("."),(st[1]===Be||"0"===st[1])&&(ut=st[0],Qe={$flags$:0,$hostId$:st[1],$nodeId$:st[2],$depth$:st[3],$index$:st[4],$elm$:be,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ut?(Qe.$elm$=be.nextSibling,Qe.$elm$&&3===Qe.$elm$.nodeType&&(Qe.$text$=Qe.$elm$.textContent,S.push(Qe),be.remove(),R.$children$||(R.$children$=[]),R.$children$[Qe.$index$]=Qe,K&&"0"===Qe.$depth$&&(K[Qe.$index$]=Qe.$elm$))):Qe.$hostId$===Be&&("s"===ut?(Qe.$tag$="slot",be["s-sn"]=st[5]?Qe.$name$=st[5]:"",be["s-sr"]=!0,K&&(Qe.$elm$=jr.createElement(Qe.$tag$),Qe.$name$&&Qe.$elm$.setAttribute("name",Qe.$name$),be.parentNode.insertBefore(Qe.$elm$,be),be.remove(),"0"===Qe.$depth$&&(K[Qe.$index$]=Qe.$elm$)),B.push(Qe),R.$children$||(R.$children$=[]),R.$children$[Qe.$index$]=Qe):"r"===ut&&(K?be.remove():(_e["s-cr"]=be,be["s-cn"]=!0))));else if(R&&"style"===R.$tag$){const _n=fe(null,be.textContent);_n.$elm$=be,_n.$index$="0",R.$children$=[_n]}},Nt=(R,S)=>{if(1===R.nodeType){let B=0;for(;B<R.childNodes.length;B++)Nt(R.childNodes[B],S);if(R.shadowRoot)for(B=0;B<R.shadowRoot.childNodes.length;B++)Nt(R.shadowRoot.childNodes[B],S)}else if(8===R.nodeType){const B=R.nodeValue.split(".");"o"===B[0]&&(S.set(B[1]+"."+B[2],R),R.nodeValue="",R["s-en"]=B[3])}},Fe=R=>uo.push(R),it=R=>oo(R).$modeName$,ht=R=>oo(R).$hostElement$,Ee=(R,S,B)=>{const K=ht(R);return{emit:_e=>Ye(K,S,{bubbles:!!(4&B),composed:!!(2&B),cancelable:!!(1&B),detail:_e})}},Ye=(R,S,B)=>{const K=Wn.ce(S,B);return R.dispatchEvent(K),K},Ke=new WeakMap,ft=(R,S,B)=>{let K=Di.get(R);ui&&B?(K=K||new CSSStyleSheet,"string"==typeof K?K=S:K.replaceSync(S)):K=S,Di.set(R,K)},vt=(R,S,B)=>{var K;const _e=ln(S,B),be=Di.get(_e);if(R=11===R.nodeType?R:jr,be)if("string"==typeof be){let ut,Be=Ke.get(R=R.head||R);if(Be||Ke.set(R,Be=new Set),!Be.has(_e)){if(R.host&&(ut=R.querySelector(`[${ae}="${_e}"]`)))ut.innerHTML=be;else{ut=jr.createElement("style"),ut.innerHTML=be;const st=null!==(K=Wn.$nonce$)&&void 0!==K?K:$e(jr);null!=st&&ut.setAttribute("nonce",st),R.insertBefore(ut,R.querySelector("link"))}Be&&Be.add(_e)}}else R.adoptedStyleSheets.includes(be)||(R.adoptedStyleSheets=[...R.adoptedStyleSheets,be]);return _e},ln=(R,S)=>"sc-"+(S&&32&R.$flags$?R.$tagName$+"-"+S:R.$tagName$),Gt=R=>R.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Kn=(R,S,B,K,_e,be)=>{if(B!==K){let Be=Mo(R,S),ut=S.toLowerCase();if("class"===S){const st=R.classList,Qe=rr(B),dt=rr(K);st.remove(...Qe.filter(_n=>_n&&!dt.includes(_n))),st.add(...dt.filter(_n=>_n&&!Qe.includes(_n)))}else if("style"===S){for(const st in B)(!K||null==K[st])&&(st.includes("-")?R.style.removeProperty(st):R.style[st]="");for(const st in K)(!B||K[st]!==B[st])&&(st.includes("-")?R.style.setProperty(st,K[st]):R.style[st]=K[st])}else if("key"!==S)if("ref"===S)K&&K(R);else if(Be||"o"!==S[0]||"n"!==S[1]){const st=qe(K);if((Be||st&&null!==K)&&!_e)try{if(R.tagName.includes("-"))R[S]=K;else{const dt=K??"";"list"===S?Be=!1:(null==B||R[S]!=dt)&&(R[S]=dt)}}catch{}let Qe=!1;ut!==(ut=ut.replace(/^xlink\:?/,""))&&(S=ut,Qe=!0),null==K||!1===K?(!1!==K||""===R.getAttribute(S))&&(Qe?R.removeAttributeNS(rt,S):R.removeAttribute(S)):(!Be||4&be||_e)&&!st&&(K=!0===K?"":K,Qe?R.setAttributeNS(rt,S,K):R.setAttribute(S,K))}else S="-"===S[2]?S.slice(3):Mo(To,ut)?ut.slice(2):ut[2]+S.slice(3),B&&Wn.rel(R,S,B,!1),K&&Wn.ael(R,S,K,!1)}},jn=/\s/,rr=R=>R?R.split(jn):[],Nn=(R,S,B,K)=>{const _e=11===S.$elm$.nodeType&&S.$elm$.host?S.$elm$.host:S.$elm$,be=R&&R.$attrs$||tt,Be=S.$attrs$||tt;for(K in be)K in Be||Kn(_e,K,be[K],void 0,B,S.$flags$);for(K in Be)Kn(_e,K,be[K],Be[K],B,S.$flags$)},Ho=(R,S,B,K)=>{const _e=S.$children$[B];let Be,ut,st,be=0;if(X||(j=!0,"slot"===_e.$tag$&&(ee&&K.classList.add(ee+"-s"),_e.$flags$|=_e.$children$?2:1)),null!==_e.$text$)Be=_e.$elm$=jr.createTextNode(_e.$text$);else if(1&_e.$flags$)Be=_e.$elm$=jr.createTextNode("");else{if(se||(se="svg"===_e.$tag$),Be=_e.$elm$=jr.createElementNS(se?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&_e.$flags$?"slot-fb":_e.$tag$),se&&"foreignObject"===_e.$tag$&&(se=!1),Nn(null,_e,se),(R=>null!=R)(ee)&&Be["s-si"]!==ee&&Be.classList.add(Be["s-si"]=ee),_e.$children$)for(be=0;be<_e.$children$.length;++be)ut=Ho(R,_e,be,Be),ut&&Be.appendChild(ut);"svg"===_e.$tag$?se=!1:"foreignObject"===Be.tagName&&(se=!0)}return Be["s-hn"]=V,3&_e.$flags$&&(Be["s-sr"]=!0,Be["s-cr"]=te,Be["s-sn"]=_e.$name$||"",st=R&&R.$children$&&R.$children$[B],st&&st.$tag$===_e.$tag$&&R.$elm$&&vr(R.$elm$,!1)),Be},vr=(R,S)=>{Wn.$flags$|=1;const B=R.childNodes;for(let K=B.length-1;K>=0;K--){const _e=B[K];_e["s-hn"]!==V&&_e["s-ol"]&&(Go(_e).insertBefore(_e,Yr(_e)),_e["s-ol"].remove(),_e["s-ol"]=void 0,j=!0),S&&vr(_e,S)}Wn.$flags$&=-2},hr=(R,S,B,K,_e,be)=>{let ut,Be=R["s-cr"]&&R["s-cr"].parentNode||R;for(Be.shadowRoot&&Be.tagName===V&&(Be=Be.shadowRoot);_e<=be;++_e)K[_e]&&(ut=Ho(null,B,_e,R),ut&&(K[_e].$elm$=ut,Be.insertBefore(ut,Yr(S))))},No=(R,S,B)=>{for(let K=S;K<=B;++K){const _e=R[K];if(_e){const be=_e.$elm$;De(_e),be&&(N=!0,be["s-ol"]?be["s-ol"].remove():vr(be,!0),be.remove())}}},go=(R,S)=>R.$tag$===S.$tag$&&("slot"===R.$tag$?R.$name$===S.$name$:R.$key$===S.$key$),Yr=R=>R&&R["s-ol"]||R,Go=R=>(R["s-ol"]?R["s-ol"]:R).parentNode,Xe=(R,S)=>{const B=S.$elm$=R.$elm$,K=R.$children$,_e=S.$children$,be=S.$tag$,Be=S.$text$;let ut;null===Be?(se="svg"===be||"foreignObject"!==be&&se,"slot"===be||Nn(R,S,se),null!==K&&null!==_e?((R,S,B,K)=>{let Wo,ue,_e=0,be=0,Be=0,ut=0,st=S.length-1,Qe=S[0],dt=S[st],_n=K.length-1,bn=K[0],Qn=K[_n];for(;_e<=st&&be<=_n;)if(null==Qe)Qe=S[++_e];else if(null==dt)dt=S[--st];else if(null==bn)bn=K[++be];else if(null==Qn)Qn=K[--_n];else if(go(Qe,bn))Xe(Qe,bn),Qe=S[++_e],bn=K[++be];else if(go(dt,Qn))Xe(dt,Qn),dt=S[--st],Qn=K[--_n];else if(go(Qe,Qn))("slot"===Qe.$tag$||"slot"===Qn.$tag$)&&vr(Qe.$elm$.parentNode,!1),Xe(Qe,Qn),R.insertBefore(Qe.$elm$,dt.$elm$.nextSibling),Qe=S[++_e],Qn=K[--_n];else if(go(dt,bn))("slot"===Qe.$tag$||"slot"===Qn.$tag$)&&vr(dt.$elm$.parentNode,!1),Xe(dt,bn),R.insertBefore(dt.$elm$,Qe.$elm$),dt=S[--st],bn=K[++be];else{for(Be=-1,ut=_e;ut<=st;++ut)if(S[ut]&&null!==S[ut].$key$&&S[ut].$key$===bn.$key$){Be=ut;break}Be>=0?(ue=S[Be],ue.$tag$!==bn.$tag$?Wo=Ho(S&&S[be],B,Be,R):(Xe(ue,bn),S[Be]=void 0,Wo=ue.$elm$),bn=K[++be]):(Wo=Ho(S&&S[be],B,be,R),bn=K[++be]),Wo&&Go(Qe.$elm$).insertBefore(Wo,Yr(Qe.$elm$))}_e>st?hr(R,null==K[_n+1]?null:K[_n+1].$elm$,B,K,be,_n):be>_n&&No(S,_e,st)})(B,K,S,_e):null!==_e?(null!==R.$text$&&(B.textContent=""),hr(B,null,S,_e,0,_e.length-1)):null!==K&&No(K,0,K.length-1),se&&"svg"===be&&(se=!1)):(ut=B["s-cr"])?ut.parentNode.textContent=Be:R.$text$!==Be&&(B.data=Be)},jt=R=>{const S=R.childNodes;let B,K,_e,be,Be,ut;for(K=0,_e=S.length;K<_e;K++)if(B=S[K],1===B.nodeType){if(B["s-sr"])for(Be=B["s-sn"],B.hidden=!1,be=0;be<_e;be++)if(ut=S[be].nodeType,S[be]["s-hn"]!==B["s-hn"]||""!==Be){if(1===ut&&Be===S[be].getAttribute("slot")){B.hidden=!0;break}}else if(1===ut||3===ut&&""!==S[be].textContent.trim()){B.hidden=!0;break}jt(B)}},Xr=[],Lo=R=>{let S,B,K,_e,be,Be,ut=0;const st=R.childNodes,Qe=st.length;for(;ut<Qe;ut++){if(S=st[ut],S["s-sr"]&&(B=S["s-cr"])&&B.parentNode)for(K=B.parentNode.childNodes,_e=S["s-sn"],Be=K.length-1;Be>=0;Be--)B=K[Be],!B["s-cn"]&&!B["s-nr"]&&B["s-hn"]!==S["s-hn"]&&(_o(B,_e)?(be=Xr.find(dt=>dt.$nodeToRelocate$===B),N=!0,B["s-sn"]=B["s-sn"]||_e,be?be.$slotRefNode$=S:Xr.push({$slotRefNode$:S,$nodeToRelocate$:B}),B["s-sr"]&&Xr.map(dt=>{_o(dt.$nodeToRelocate$,B["s-sn"])&&(be=Xr.find(_n=>_n.$nodeToRelocate$===B),be&&!dt.$slotRefNode$&&(dt.$slotRefNode$=be.$slotRefNode$))})):Xr.some(dt=>dt.$nodeToRelocate$===B)||Xr.push({$nodeToRelocate$:B}));1===S.nodeType&&Lo(S)}},_o=(R,S)=>1===R.nodeType?null===R.getAttribute("slot")&&""===S||R.getAttribute("slot")===S:R["s-sn"]===S||""===S,De=R=>{R.$attrs$&&R.$attrs$.ref&&R.$attrs$.ref(null),R.$children$&&R.$children$.map(De)},yn=(R,S)=>{S&&!R.$onRenderResolve$&&S["s-p"]&&S["s-p"].push(new Promise(B=>R.$onRenderResolve$=B))},Tt=(R,S)=>{if(R.$flags$|=16,!(4&R.$flags$))return yn(R,R.$ancestorComponent$),Ss(()=>un(R,S));R.$flags$|=512},un=(R,S)=>{const K=R.$lazyInstance$;let _e;return S&&(R.$flags$|=256,R.$queuedListeners$&&(R.$queuedListeners$.map(([be,Be])=>Ln(K,be,Be)),R.$queuedListeners$=void 0),_e=Ln(K,"componentWillLoad")),_e=Lt(_e,()=>Ln(K,"componentWillRender")),Lt(_e,()=>Tr(R,K,S))},Lt=(R,S)=>Or(R)?R.then(S):S(),Or=R=>R instanceof Promise||R&&R.then&&"function"==typeof R.then,Tr=function(){var R=(0,D.Z)(function*(S,B,K){var _e;const be=S.$hostElement$,ut=be["s-rc"];K&&(R=>{const S=R.$cmpMeta$,B=R.$hostElement$,K=S.$flags$,be=vt(B.shadowRoot?B.shadowRoot:B.getRootNode(),S,R.$modeName$);10&K&&(B["s-sc"]=be,B.classList.add(be+"-h"),2&K&&B.classList.add(be+"-s"))})(S);er(S,B,be,K),ut&&(ut.map(Qe=>Qe()),be["s-rc"]=void 0);{const Qe=null!==(_e=be["s-p"])&&void 0!==_e?_e:[],dt=()=>Kr(S);0===Qe.length?dt():(Promise.all(Qe).then(dt),S.$flags$|=4,Qe.length=0)}});return function(B,K,_e){return R.apply(this,arguments)}}(),er=(R,S,B,K)=>{try{S=S.render&&S.render(),R.$flags$&=-17,R.$flags$|=2,((R,S,B=!1)=>{const K=R.$hostElement$,_e=R.$cmpMeta$,be=R.$vnode$||fe(null,null),Be=(R=>R&&R.$tag$===pt)(S)?S:M(null,null,S);if(V=K.tagName,_e.$attrsToReflect$&&(Be.$attrs$=Be.$attrs$||{},_e.$attrsToReflect$.map(([ut,st])=>Be.$attrs$[st]=K[ut])),B&&Be.$attrs$)for(const ut of Object.keys(Be.$attrs$))K.hasAttribute(ut)&&!["key","ref","style","class"].includes(ut)&&(Be.$attrs$[ut]=K[ut]);if(Be.$tag$=null,Be.$flags$|=4,R.$vnode$=Be,Be.$elm$=be.$elm$=K.shadowRoot||K,ee=K["s-sc"],te=K["s-cr"],X=0!=(1&_e.$flags$),N=!1,Xe(be,Be),Wn.$flags$|=1,j){Lo(Be.$elm$);let ut,st,Qe,dt,_n,bn,Qn=0;for(;Qn<Xr.length;Qn++)ut=Xr[Qn],st=ut.$nodeToRelocate$,st["s-ol"]||(Qe=jr.createTextNode(""),Qe["s-nr"]=st,st.parentNode.insertBefore(st["s-ol"]=Qe,st));for(Qn=0;Qn<Xr.length;Qn++)if(ut=Xr[Qn],st=ut.$nodeToRelocate$,ut.$slotRefNode$){for(dt=ut.$slotRefNode$.parentNode,_n=ut.$slotRefNode$.nextSibling,Qe=st["s-ol"];Qe=Qe.previousSibling;)if(bn=Qe["s-nr"],bn&&bn["s-sn"]===st["s-sn"]&&dt===bn.parentNode&&(bn=bn.nextSibling,!bn||!bn["s-nr"])){_n=bn;break}(!_n&&dt!==st.parentNode||st.nextSibling!==_n)&&st!==_n&&(!st["s-hn"]&&st["s-ol"]&&(st["s-hn"]=st["s-ol"].parentNode.nodeName),dt.insertBefore(st,_n))}else 1===st.nodeType&&(st.hidden=!0)}N&&jt(Be.$elm$),Wn.$flags$&=-2,Xr.length=0})(R,S,K)}catch(_e){vi(_e,R.$hostElement$)}return null},Kr=R=>{const B=R.$hostElement$,_e=R.$lazyInstance$,be=R.$ancestorComponent$;Ln(_e,"componentDidRender"),64&R.$flags$?Ln(_e,"componentDidUpdate"):(R.$flags$|=64,Br(B),Ln(_e,"componentDidLoad"),R.$onReadyResolve$(B),be||Er()),R.$onInstanceResolve$(B),R.$onRenderResolve$&&(R.$onRenderResolve$(),R.$onRenderResolve$=void 0),512&R.$flags$&&zo(()=>Tt(R,!1)),R.$flags$&=-517},xo=R=>{{const S=oo(R),B=S.$hostElement$.isConnected;return B&&2==(18&S.$flags$)&&Tt(S,!1),B}},Er=R=>{Br(jr.documentElement),zo(()=>Ye(To,"appload",{detail:{namespace:"ionic"}}))},Ln=(R,S,B)=>{if(R&&R[S])try{return R[S](B)}catch(K){vi(K)}},Br=R=>R.classList.add("hydrated"),rn=(R,S,B)=>{if(S.$members$){R.watchers&&(S.$watchers$=R.watchers);const K=Object.entries(S.$members$),_e=R.prototype;if(K.map(([be,[Be]])=>{31&Be||2&B&&32&Be?Object.defineProperty(_e,be,{get(){return((R,S)=>oo(this).$instanceValues$.get(S))(0,be)},set(ut){((R,S,B,K)=>{const _e=oo(R),be=_e.$hostElement$,Be=_e.$instanceValues$.get(S),ut=_e.$flags$,st=_e.$lazyInstance$;B=((R,S)=>null==R||qe(R)?R:4&S?"false"!==R&&(""===R||!!R):2&S?parseFloat(R):1&S?String(R):R)(B,K.$members$[S][0]);const Qe=Number.isNaN(Be)&&Number.isNaN(B);if((!(8&ut)||void 0===Be)&&B!==Be&&!Qe&&(_e.$instanceValues$.set(S,B),st)){if(K.$watchers$&&128&ut){const _n=K.$watchers$[S];_n&&_n.map(bn=>{try{st[bn](B,Be,S)}catch(Qn){vi(Qn,be)}})}2==(18&ut)&&Tt(_e,!1)}})(this,be,ut,S)},configurable:!0,enumerable:!0}):1&B&&64&Be&&Object.defineProperty(_e,be,{value(...ut){const st=oo(this);return st.$onInstancePromise$.then(()=>st.$lazyInstance$[be](...ut))}})}),1&B){const be=new Map;_e.attributeChangedCallback=function(Be,ut,st){Wn.jmp(()=>{const Qe=be.get(Be);if(this.hasOwnProperty(Qe))st=this[Qe],delete this[Qe];else if(_e.hasOwnProperty(Qe)&&"number"==typeof this[Qe]&&this[Qe]==st)return;this[Qe]=(null!==st||"boolean"!=typeof this[Qe])&&st})},R.observedAttributes=K.filter(([Be,ut])=>15&ut[0]).map(([Be,ut])=>{const st=ut[1]||Be;return be.set(st,Be),512&ut[0]&&S.$attrsToReflect$.push([Be,st]),st})}}return R},Fi=function(){var R=(0,D.Z)(function*(S,B,K,_e,be){if(!(32&B.$flags$)){B.$flags$|=32;{if((be=$i(K)).then){const Qe=()=>{};be=yield be,Qe()}be.isProxied||(K.$watchers$=be.watchers,rn(be,K,2),be.isProxied=!0);const st=()=>{};B.$flags$|=8;try{new be(B)}catch(Qe){vi(Qe)}B.$flags$&=-9,B.$flags$|=128,st(),li(B.$lazyInstance$)}if(be.style){let st=be.style;"string"!=typeof st&&(st=st[B.$modeName$=(R=>uo.map(S=>S(R)).find(S=>!!S))(S)]);const Qe=ln(K,B.$modeName$);if(!Di.has(Qe)){const dt=()=>{};ft(Qe,st,!!(1&K.$flags$)),dt()}}}const Be=B.$ancestorComponent$,ut=()=>Tt(B,!0);Be&&Be["s-rc"]?Be["s-rc"].push(ut):ut()});return function(B,K,_e,be,Be){return R.apply(this,arguments)}}(),li=R=>{Ln(R,"connectedCallback")},_i=R=>{const S=R["s-cr"]=jr.createComment("");S["s-cn"]=!0,R.insertBefore(S,R.firstChild)},I=R=>{Ln(R,"disconnectedCallback")},k=function(){var R=(0,D.Z)(function*(S){if(!(1&Wn.$flags$)){const B=oo(S);B.$rmListeners$&&(B.$rmListeners$.map(K=>K()),B.$rmListeners$=void 0),B?.$lazyInstance$?I(B.$lazyInstance$):B?.$onReadyPromise$&&B.$onReadyPromise$.then(()=>I(B.$lazyInstance$))}});return function(B){return R.apply(this,arguments)}}(),x=(R,S={})=>{var B;const _e=[],be=S.exclude||[],Be=To.customElements,ut=jr.head,st=ut.querySelector("meta[charset]"),Qe=jr.createElement("style"),dt=[],_n=jr.querySelectorAll(`[${ae}]`);let bn,Qn=!0,Wo=0;for(Object.assign(Wn,S),Wn.$resourcesUrl$=new URL(S.resourcesUrl||"./",jr.baseURI).href,Wn.$flags$|=2;Wo<_n.length;Wo++)ft(_n[Wo].getAttribute(ae),Gt(_n[Wo].innerHTML),!0);R.map(ue=>{ue[1].map(Zo=>{const on={$flags$:Zo[0],$tagName$:Zo[1],$members$:Zo[2],$listeners$:Zo[3]};on.$members$=Zo[2],on.$listeners$=Zo[3],on.$attrsToReflect$=[],on.$watchers$={};const It=on.$tagName$,nl=class extends HTMLElement{constructor(ia){super(ia),Bo(ia=this,on),1&on.$flags$&&ia.attachShadow({mode:"open",delegatesFocus:!!(16&on.$flags$)})}connectedCallback(){bn&&(clearTimeout(bn),bn=null),Qn?dt.push(this):Wn.jmp(()=>(R=>{if(!(1&Wn.$flags$)){const S=oo(R),B=S.$cmpMeta$,K=()=>{};if(1&S.$flags$)ko(R,S,B.$listeners$),S?.$lazyInstance$?li(S.$lazyInstance$):S?.$onReadyPromise$&&S.$onReadyPromise$.then(()=>li(S.$lazyInstance$));else{let _e;if(S.$flags$|=1,_e=R.getAttribute(G),_e){if(1&B.$flags$){const be=vt(R.shadowRoot,B,R.getAttribute("s-mode"));R.classList.remove(be+"-h",be+"-s")}((R,S,B,K)=>{const be=R.shadowRoot,Be=[],st=be?[]:null,Qe=K.$vnode$=fe(S,null);Wn.$orgLocNodes$||Nt(jr.body,Wn.$orgLocNodes$=new Map),R[G]=B,R.removeAttribute(G),nt(Qe,Be,[],st,R,R,B),Be.map(dt=>{const _n=dt.$hostId$+"."+dt.$nodeId$,bn=Wn.$orgLocNodes$.get(_n),Qn=dt.$elm$;bn&&Cs&&""===bn["s-en"]&&bn.parentNode.insertBefore(Qn,bn.nextSibling),be||(Qn["s-hn"]=S,bn&&(Qn["s-ol"]=bn,Qn["s-ol"]["s-nr"]=Qn)),Wn.$orgLocNodes$.delete(_n)}),be&&st.map(dt=>{dt&&be.appendChild(dt)})})(R,B.$tagName$,_e,S)}_e||12&B.$flags$&&_i(R);{let be=R;for(;be=be.parentNode||be.host;)if(1===be.nodeType&&be.hasAttribute("s-id")&&be["s-p"]||be["s-p"]){yn(S,S.$ancestorComponent$=be);break}}B.$members$&&Object.entries(B.$members$).map(([be,[Be]])=>{if(31&Be&&R.hasOwnProperty(be)){const ut=R[be];delete R[be],R[be]=ut}}),Fi(R,S,B)}K()}})(this))}disconnectedCallback(){Wn.jmp(()=>k(this))}componentOnReady(){return oo(this).$onReadyPromise$}};on.$lazyBundleId$=ue[0],!be.includes(It)&&!Be.get(It)&&(_e.push(It),Be.define(It,rn(nl,on,1)))})});{Qe.innerHTML=_e+"{visibility:hidden}.hydrated{visibility:inherit}",Qe.setAttribute("data-styles","");const ue=null!==(B=Wn.$nonce$)&&void 0!==B?B:$e(jr);null!=ue&&Qe.setAttribute("nonce",ue),ut.insertBefore(Qe,st?st.nextSibling:ut.firstChild)}Qn=!1,dt.length?dt.map(ue=>ue.connectedCallback()):Wn.jmp(()=>bn=setTimeout(Er,30))},ko=(R,S,B,K)=>{B&&B.map(([_e,be,Be])=>{const ut=Gi(R,_e),st=ci(S,Be),Qe=$o(_e);Wn.ael(ut,be,st,Qe),(S.$rmListeners$=S.$rmListeners$||[]).push(()=>Wn.rel(ut,be,st,Qe))})},ci=(R,S)=>B=>{try{256&R.$flags$?R.$lazyInstance$[S](B):(R.$queuedListeners$=R.$queuedListeners$||[]).push([S,B])}catch(K){vi(K)}},Gi=(R,S)=>4&S?jr:8&S?To:16&S?jr.body:R,$o=R=>0!=(2&R),Cr=new WeakMap,oo=R=>Cr.get(R),or=(R,S)=>Cr.set(S.$lazyInstance$=R,S),Bo=(R,S)=>{const B={$flags$:0,$hostElement$:R,$cmpMeta$:S,$instanceValues$:new Map};return B.$onInstancePromise$=new Promise(K=>B.$onInstanceResolve$=K),B.$onReadyPromise$=new Promise(K=>B.$onReadyResolve$=K),R["s-p"]=[],R["s-rc"]=[],ko(R,B,S.$listeners$),Cr.set(R,B)},Mo=(R,S)=>S in R,vi=(R,S)=>(0,console.error)(R,S),Li=new Map,$i=(R,S,B)=>{const K=R.$tagName$.replace(/-/g,"_"),_e=R.$lazyBundleId$,be=Li.get(_e);return be?be[K]:P(863)(`./${_e}.entry.js`).then(Be=>(Li.set(_e,Be),Be[K]),vi)},Di=new Map,uo=[],To=typeof window<"u"?window:{},jr=To.document||{head:{}},Wn={$flags$:0,$resourcesUrl$:"",jmp:R=>R(),raf:R=>requestAnimationFrame(R),ael:(R,S,B,K)=>R.addEventListener(S,B,K),rel:(R,S,B,K)=>R.removeEventListener(S,B,K),ce:(R,S)=>new CustomEvent(R,S)},bs=R=>{Object.assign(Wn,R)},Cs=!0,ui=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ws=[],Ii=[],js=(R,S)=>B=>{R.push(B),Q||(Q=!0,S&&4&Wn.$flags$?zo(wr):Wn.raf(wr))},us=R=>{for(let S=0;S<R.length;S++)try{R[S](performance.now())}catch(B){vi(B)}R.length=0},wr=()=>{us(ws),us(Ii),(Q=ws.length>0)&&Wn.raf(wr)},zo=R=>Promise.resolve(void 0).then(R),Kt=js(ws,!1),Ss=js(Ii,!0)},4168:(ke,Le,P)=>{"use strict";P.d(Le,{m:()=>W});var D=P(3918),d=P(1474),ee=P(4259),te=P(1904),V=P(7143);const X=$=>(0,V.c)().duration($?400:300),N=$=>{let L,H;const Re=$.width+8,Pe=(0,V.c)(),pe=(0,V.c)();$.isEndSide?(L=Re+"px",H="0px"):(L=-Re+"px",H="0px"),Pe.addElement($.menuInnerEl).fromTo("transform",`translateX(${L})`,`translateX(${H})`);const G="ios"===(0,te.b)($),ae=G?.2:.25;return pe.addElement($.backdropEl).fromTo("opacity",.01,ae),X(G).addAnimation([Pe,pe])},j=$=>{let L,H;const Re=(0,te.b)($),Pe=$.width;$.isEndSide?(L=-Pe+"px",H=Pe+"px"):(L=Pe+"px",H=-Pe+"px");const pe=(0,V.c)().addElement($.menuInnerEl).fromTo("transform",`translateX(${H})`,"translateX(0px)"),z=(0,V.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${L})`),G=(0,V.c)().addElement($.backdropEl).fromTo("opacity",.01,.32);return X("ios"===Re).addAnimation([pe,z,G])},se=$=>{const L=(0,te.b)($),H=$.width*($.isEndSide?-1:1)+"px",Re=(0,V.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${H})`);return X("ios"===L).addAnimation(Re)},W=(()=>{const $=new Map,L=[],H=function(){var Ce=(0,D.Z)(function*(We){const nt=yield Se(We);return!!nt&&nt.open()});return function(nt){return Ce.apply(this,arguments)}}(),Re=function(){var Ce=(0,D.Z)(function*(We){const nt=yield void 0!==We?Se(We):ce();return void 0!==nt&&nt.close()});return function(nt){return Ce.apply(this,arguments)}}(),Pe=function(){var Ce=(0,D.Z)(function*(We){const nt=yield Se(We);return!!nt&&nt.toggle()});return function(nt){return Ce.apply(this,arguments)}}(),pe=function(){var Ce=(0,D.Z)(function*(We,nt){const Nt=yield Se(nt);return Nt&&(Nt.disabled=!We),Nt});return function(nt,Nt){return Ce.apply(this,arguments)}}(),z=function(){var Ce=(0,D.Z)(function*(We,nt){const Nt=yield Se(nt);return Nt&&(Nt.swipeGesture=We),Nt});return function(nt,Nt){return Ce.apply(this,arguments)}}(),G=function(){var Ce=(0,D.Z)(function*(We){if(null!=We){const nt=yield Se(We);return void 0!==nt&&nt.isOpen()}return void 0!==(yield ce())});return function(nt){return Ce.apply(this,arguments)}}(),ae=function(){var Ce=(0,D.Z)(function*(We){const nt=yield Se(We);return!!nt&&!nt.disabled});return function(nt){return Ce.apply(this,arguments)}}(),Se=function(){var Ce=(0,D.Z)(function*(We){return yield Ve(),"start"===We||"end"===We?Wt(Bt=>Bt.side===We&&!Bt.disabled)||Wt(Bt=>Bt.side===We):null!=We?Wt(Nt=>Nt.menuId===We):Wt(Nt=>!Nt.disabled)||(L.length>0?L[0].el:void 0)});return function(nt){return Ce.apply(this,arguments)}}(),ce=function(){var Ce=(0,D.Z)(function*(){return yield Ve(),fe()});return function(){return Ce.apply(this,arguments)}}(),rt=function(){var Ce=(0,D.Z)(function*(){return yield Ve(),pt()});return function(){return Ce.apply(this,arguments)}}(),tt=function(){var Ce=(0,D.Z)(function*(){return yield Ve(),Dt()});return function(){return Ce.apply(this,arguments)}}(),he=(Ce,We)=>{$.set(Ce,We)},qe=Ce=>{const We=Ce.side;L.filter(nt=>nt.side===We&&nt!==Ce).forEach(nt=>nt.disabled=!0)},$e=function(){var Ce=(0,D.Z)(function*(We,nt,Nt){if(Dt())return!1;if(nt){const Bt=yield ce();Bt&&We.el!==Bt&&(yield Bt.setOpen(!1,!1))}return We._setOpen(nt,Nt)});return function(nt,Nt,Bt){return Ce.apply(this,arguments)}}(),fe=()=>Wt(Ce=>Ce._isOpen),pt=()=>L.map(Ce=>Ce.el),Dt=()=>L.some(Ce=>Ce.isAnimating),Wt=Ce=>{const We=L.find(Ce);if(void 0!==We)return We.el},Ve=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ce=>new Promise(We=>(0,ee.c)(Ce,We))));return he("reveal",se),he("push",j),he("overlay",N),typeof document<"u"&&document.addEventListener("ionBackButton",Ce=>{const We=fe();We&&Ce.detail.register(d.MENU_BACK_BUTTON_PRIORITY,()=>We.close())}),{registerAnimation:he,get:Se,getMenus:rt,getOpen:ce,isEnabled:ae,swipeGesture:z,isAnimating:tt,isOpen:G,enable:pe,toggle:Pe,close:Re,open:H,_getOpenSync:fe,_createAnimation:(Ce,We)=>{const nt=$.get(Ce);if(!nt)throw new Error("animation not registered");return nt(We)},_register:Ce=>{L.indexOf(Ce)<0&&(Ce.disabled||qe(Ce),L.push(Ce))},_unregister:Ce=>{const We=L.indexOf(Ce);We>-1&&L.splice(We,1)},_setOpen:$e,_setActiveMenu:qe}})()},873:(ke,Le,P)=>{"use strict";P.r(Le),P.d(Le,{GESTURE_CONTROLLER:()=>D.G,createGesture:()=>se});var D=P(9212);const d=(L,H,Re,Pe)=>{const pe=ee(L)?{capture:!!Pe.capture,passive:!!Pe.passive}:!!Pe.capture;let z,G;return L.__zone_symbol__addEventListener?(z="__zone_symbol__addEventListener",G="__zone_symbol__removeEventListener"):(z="addEventListener",G="removeEventListener"),L[z](H,Re,pe),()=>{L[G](H,Re,pe)}},ee=L=>{if(void 0===te)try{const H=Object.defineProperty({},"passive",{get:()=>{te=!0}});L.addEventListener("optsTest",()=>{},H)}catch{te=!1}return!!te};let te;const N=L=>L instanceof Document?L:L.ownerDocument,se=L=>{let H=!1,Re=!1,Pe=!0,pe=!1;const z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},L),G=z.canStart,ae=z.onWillStart,Se=z.onStart,ce=z.onEnd,rt=z.notCaptured,tt=z.onMove,he=z.threshold,le=z.passive,ze=z.blurOnStart,qe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},$e=((L,H,Re)=>{const Pe=Re*(Math.PI/180),pe="x"===L,z=Math.cos(Pe),G=H*H;let ae=0,Se=0,ce=!1,rt=0;return{start(tt,he){ae=tt,Se=he,rt=0,ce=!0},detect(tt,he){if(!ce)return!1;const le=tt-ae,ze=he-Se,qe=le*le+ze*ze;if(qe<G)return!1;const $e=Math.sqrt(qe),M=(pe?le:ze)/$e;return rt=M>z?1:M<-z?-1:0,ce=!1,!0},isGesture:()=>0!==rt,getDirection:()=>rt}})(z.direction,z.threshold,z.maxAngle),M=D.G.createGesture({name:L.gestureName,priority:L.gesturePriority,disableScroll:L.disableScroll}),Dt=()=>{H&&(pe=!1,tt&&tt(qe))},Wt=()=>!!M.capture()&&(H=!0,Pe=!1,qe.startX=qe.currentX,qe.startY=qe.currentY,qe.startTime=qe.currentTime,ae?ae(qe).then(Ce):Ce(),!0),Ce=()=>{ze&&(()=>{if(typeof document<"u"){const Fe=document.activeElement;Fe?.blur&&Fe.blur()}})(),Se&&Se(qe),Pe=!0},We=()=>{H=!1,Re=!1,pe=!1,Pe=!0,M.release()},nt=Fe=>{const it=H,Ct=Pe;if(We(),Ct){if(Q(qe,Fe),it)return void(ce&&ce(qe));rt&&rt(qe)}},Nt=((L,H,Re,Pe,pe)=>{let z,G,ae,Se,ce,rt,tt,he=0;const le=Ve=>{he=Date.now()+2e3,H(Ve)&&(!G&&Re&&(G=d(L,"touchmove",Re,pe)),ae||(ae=d(Ve.target,"touchend",qe,pe)),Se||(Se=d(Ve.target,"touchcancel",qe,pe)))},ze=Ve=>{he>Date.now()||H(Ve)&&(!rt&&Re&&(rt=d(N(L),"mousemove",Re,pe)),tt||(tt=d(N(L),"mouseup",$e,pe)))},qe=Ve=>{M(),Pe&&Pe(Ve)},$e=Ve=>{fe(),Pe&&Pe(Ve)},M=()=>{G&&G(),ae&&ae(),Se&&Se(),G=ae=Se=void 0},fe=()=>{rt&&rt(),tt&&tt(),rt=tt=void 0},pt=()=>{M(),fe()},Dt=(Ve=!0)=>{Ve?(z||(z=d(L,"touchstart",le,pe)),ce||(ce=d(L,"mousedown",ze,pe))):(z&&z(),ce&&ce(),z=ce=void 0,pt())};return{enable:Dt,stop:pt,destroy:()=>{Dt(!1),Pe=Re=H=void 0}}})(z.el,Fe=>{const it=$(Fe);return!(Re||!Pe||(W(Fe,qe),qe.startX=qe.currentX,qe.startY=qe.currentY,qe.startTime=qe.currentTime=it,qe.velocityX=qe.velocityY=qe.deltaX=qe.deltaY=0,qe.event=Fe,G&&!1===G(qe))||(M.release(),!M.start()))&&(Re=!0,0===he?Wt():($e.start(qe.startX,qe.startY),!0))},Fe=>{H?!pe&&Pe&&(pe=!0,Q(qe,Fe),requestAnimationFrame(Dt)):(Q(qe,Fe),$e.detect(qe.currentX,qe.currentY)&&(!$e.isGesture()||!Wt())&&Bt())},nt,{capture:!1,passive:le}),Bt=()=>{We(),Nt.stop(),rt&&rt(qe)};return{enable(Fe=!0){Fe||(H&&nt(void 0),We()),Nt.enable(Fe)},destroy(){M.destroy(),Nt.destroy()}}},Q=(L,H)=>{if(!H)return;const Re=L.currentX,Pe=L.currentY,pe=L.currentTime;W(H,L);const z=L.currentX,G=L.currentY,Se=(L.currentTime=$(H))-pe;if(Se>0&&Se<100){const rt=(G-Pe)/Se;L.velocityX=(z-Re)/Se*.7+.3*L.velocityX,L.velocityY=.7*rt+.3*L.velocityY}L.deltaX=z-L.startX,L.deltaY=G-L.startY,L.event=H},W=(L,H)=>{let Re=0,Pe=0;if(L){const pe=L.changedTouches;if(pe&&pe.length>0){const z=pe[0];Re=z.clientX,Pe=z.clientY}else void 0!==L.pageX&&(Re=L.pageX,Pe=L.pageY)}H.currentX=Re,H.currentY=Pe},$=L=>L.timeStamp||Date.now()},1904:(ke,Le,P)=>{"use strict";P.d(Le,{a:()=>W,b:()=>Dt,c:()=>ee,g:()=>Q,i:()=>Wt});var D=P(4865);class d{constructor(){this.m=new Map}reset(Ce){this.m=new Map(Object.entries(Ce))}get(Ce,We){const nt=this.m.get(Ce);return void 0!==nt?nt:We}getBoolean(Ce,We=!1){const nt=this.m.get(Ce);return void 0===nt?We:"string"==typeof nt?"true"===nt:!!nt}getNumber(Ce,We){const nt=parseFloat(this.m.get(Ce));return isNaN(nt)?void 0!==We?We:NaN:nt}set(Ce,We){this.m.set(Ce,We)}}const ee=new d,j="ionic:",se="ionic-persist-config",Q=Ve=>$(Ve),W=(Ve,Ce)=>("string"==typeof Ve&&(Ce=Ve,Ve=void 0),Q(Ve).includes(Ce)),$=(Ve=window)=>{if(typeof Ve>"u")return[];Ve.Ionic=Ve.Ionic||{};let Ce=Ve.Ionic.platforms;return null==Ce&&(Ce=Ve.Ionic.platforms=L(Ve),Ce.forEach(We=>Ve.document.documentElement.classList.add(`plt-${We}`))),Ce},L=Ve=>{const Ce=ee.get("platform");return Object.keys(fe).filter(We=>{const nt=Ce?.[We];return"function"==typeof nt?nt(Ve):fe[We](Ve)})},Re=Ve=>!!($e(Ve,/iPad/i)||$e(Ve,/Macintosh/i)&&ce(Ve)),z=Ve=>$e(Ve,/android|sink/i),ce=Ve=>M(Ve,"(any-pointer:coarse)"),tt=Ve=>he(Ve)||le(Ve),he=Ve=>!!(Ve.cordova||Ve.phonegap||Ve.PhoneGap),le=Ve=>{const Ce=Ve.Capacitor;return!!Ce?.isNative},$e=(Ve,Ce)=>Ce.test(Ve.navigator.userAgent),M=(Ve,Ce)=>{var We;return null===(We=Ve.matchMedia)||void 0===We?void 0:We.call(Ve,Ce).matches},fe={ipad:Re,iphone:Ve=>$e(Ve,/iPhone/i),ios:Ve=>$e(Ve,/iPhone|iPod/i)||Re(Ve),android:z,phablet:Ve=>{const Ce=Ve.innerWidth,We=Ve.innerHeight,nt=Math.min(Ce,We),Nt=Math.max(Ce,We);return nt>390&&nt<520&&Nt>620&&Nt<800},tablet:Ve=>{const Ce=Ve.innerWidth,We=Ve.innerHeight,nt=Math.min(Ce,We),Nt=Math.max(Ce,We);return Re(Ve)||(Ve=>z(Ve)&&!$e(Ve,/mobile/i))(Ve)||nt>460&&nt<820&&Nt>780&&Nt<1400},cordova:he,capacitor:le,electron:Ve=>$e(Ve,/electron/i),pwa:Ve=>{var Ce;return!!(null!==(Ce=Ve.matchMedia)&&void 0!==Ce&&Ce.call(Ve,"(display-mode: standalone)").matches||Ve.navigator.standalone)},mobile:ce,mobileweb:Ve=>ce(Ve)&&!tt(Ve),desktop:Ve=>!ce(Ve),hybrid:tt};let pt;const Dt=Ve=>Ve&&(0,D.g)(Ve)||pt,Wt=(Ve={})=>{if(typeof window>"u")return;const Ce=window.document,We=window,nt=We.Ionic=We.Ionic||{},Nt={};Ve._ael&&(Nt.ael=Ve._ael),Ve._rel&&(Nt.rel=Ve._rel),Ve._ce&&(Nt.ce=Ve._ce),(0,D.a)(Nt);const Bt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ve=>{try{const Ce=Ve.sessionStorage.getItem(se);return null!==Ce?JSON.parse(Ce):{}}catch{return{}}})(We)),{persistConfig:!1}),nt.config),(Ve=>{const Ce={};return Ve.location.search.slice(1).split("&").map(We=>We.split("=")).map(([We,nt])=>[decodeURIComponent(We),decodeURIComponent(nt)]).filter(([We])=>((Ve,Ce)=>Ve.substr(0,Ce.length)===Ce)(We,j)).map(([We,nt])=>[We.slice(6),nt]).forEach(([We,nt])=>{Ce[We]=nt}),Ce})(We)),Ve);ee.reset(Bt),ee.getBoolean("persistConfig")&&((Ve,Ce)=>{try{Ve.sessionStorage.setItem(se,JSON.stringify(Ce))}catch{return}})(We,Bt),$(We),nt.config=ee,nt.mode=pt=ee.get("mode",Ce.documentElement.getAttribute("mode")||(W(We,"ios")?"ios":"md")),ee.set("mode",pt),Ce.documentElement.setAttribute("mode",pt),Ce.documentElement.classList.add(pt),ee.getBoolean("_testing")&&ee.set("animated",!1);const Fe=Ct=>{var ht;return null===(ht=Ct.tagName)||void 0===ht?void 0:ht.startsWith("ION-")},it=Ct=>["ios","md"].includes(Ct);(0,D.c)(Ct=>{for(;Ct;){const ht=Ct.mode||Ct.getAttribute("mode");if(ht){if(it(ht))return ht;Fe(Ct)&&console.warn('Invalid ionic mode: "'+ht+'", expected: "ios" or "md"')}Ct=Ct.parentElement}return pt})}},2574:(ke,Le,P)=>{"use strict";P.r(Le),P.d(Le,{iosTransitionAnimation:()=>L,shadow:()=>N});var D=P(7143),d=P(5701);P(2678),P(4865);const X=H=>document.querySelector(`${H}.ion-cloned-element`),N=H=>H.shadowRoot||H,j=H=>{const Re="ION-TABS"===H.tagName?H:H.querySelector("ion-tabs"),Pe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Re){const pe=Re.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=pe?pe.querySelector(Pe):null}return H.querySelector(Pe)},se=(H,Re)=>{const Pe="ION-TABS"===H.tagName?H:H.querySelector("ion-tabs");let pe=[];if(null!=Pe){const z=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=z&&(pe=z.querySelectorAll("ion-buttons"))}else pe=H.querySelectorAll("ion-buttons");for(const z of pe){const G=z.closest("ion-header"),ae=G&&!G.classList.contains("header-collapse-condense-inactive"),Se=z.querySelector("ion-back-button"),ce=z.classList.contains("buttons-collapse");if(null!==Se&&("start"===z.slot||""===z.slot)&&(ce&&ae&&Re||!ce))return Se}return null},W=(H,Re,Pe,pe,z,G)=>{const ae=Re?`calc(100% - ${G.right+4}px)`:G.left-4+"px",Se=Re?"7px":"-7px",ce=Re?"-4px":"4px",rt=Re?"-4px":"4px",tt=Re?"right":"left",he=Re?"left":"right",qe=Pe?[{offset:0,opacity:1,transform:`translate3d(${ce}, ${G.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Se}, ${z.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Se}, ${z.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ce}, ${G.top-46}px, 0) scale(1)`}],fe=Pe?[{offset:0,opacity:1,transform:`translate3d(${rt}, ${G.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${rt}, ${G.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${rt}, ${G.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${rt}, ${G.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${rt}, ${G.top-46}px, 0) scale(1)`}],pt=(0,D.c)(),Dt=(0,D.c)(),Wt=X("ion-back-button"),Ve=N(Wt).querySelector(".button-text"),Ce=N(Wt).querySelector("ion-icon");Wt.text=pe.text,Wt.mode=pe.mode,Wt.icon=pe.icon,Wt.color=pe.color,Wt.disabled=pe.disabled,Wt.style.setProperty("display","block"),Wt.style.setProperty("position","fixed"),Dt.addElement(Ce),pt.addElement(Ve),pt.beforeStyles({"transform-origin":`${tt} center`}).beforeAddWrite(()=>{pe.style.setProperty("display","none"),Wt.style.setProperty(tt,ae)}).afterAddWrite(()=>{pe.style.setProperty("display",""),Wt.style.setProperty("display","none"),Wt.style.removeProperty(tt)}).keyframes(qe),Dt.beforeStyles({"transform-origin":`${he} center`}).keyframes(fe),H.addAnimation([pt,Dt])},$=(H,Re,Pe,pe,z,G)=>{const ae=Re?`calc(100% - ${z.right}px)`:`${z.left}px`,Se=Re?"-18px":"18px",ce=Re?"right":"left",he=Pe?[{offset:0,opacity:0,transform:`translate3d(${Se}, ${G.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${z.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${z.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Se}, ${G.top-4}px, 0) scale(0.5)`}],le=X("ion-title"),ze=(0,D.c)();le.innerText=pe.innerText,le.size=pe.size,le.color=pe.color,ze.addElement(le),ze.beforeStyles({"transform-origin":`${ce} center`,height:"46px",display:"",position:"relative",[ce]:ae}).beforeAddWrite(()=>{pe.style.setProperty("display","none")}).afterAddWrite(()=>{pe.style.setProperty("display",""),le.style.setProperty("display","none")}).keyframes(he),H.addAnimation(ze)},L=(H,Re)=>{var Pe;try{const pe="cubic-bezier(0.32,0.72,0,1)",z="opacity",G="transform",ae="0%",ce="rtl"===H.ownerDocument.dir,rt=ce?"-99.5%":"99.5%",tt=ce?"33%":"-33%",he=Re.enteringEl,le=Re.leavingEl,ze="back"===Re.direction,qe=he.querySelector(":scope > ion-content"),$e=he.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),M=he.querySelectorAll(":scope > ion-header > ion-toolbar"),fe=(0,D.c)(),pt=(0,D.c)();if(fe.addElement(he).duration((null!==(Pe=Re.duration)&&void 0!==Pe?Pe:0)||540).easing(Re.easing||pe).fill("both").beforeRemoveClass("ion-page-invisible"),le&&null!=H){const Ce=(0,D.c)();Ce.addElement(H),fe.addAnimation(Ce)}if(qe||0!==M.length||0!==$e.length?(pt.addElement(qe),pt.addElement($e)):pt.addElement(he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),fe.addAnimation(pt),ze?pt.beforeClearStyles([z]).fromTo("transform",`translateX(${tt})`,`translateX(${ae})`).fromTo(z,.8,1):pt.beforeClearStyles([z]).fromTo("transform",`translateX(${rt})`,`translateX(${ae})`),qe){const Ce=N(qe).querySelector(".transition-effect");if(Ce){const We=Ce.querySelector(".transition-cover"),nt=Ce.querySelector(".transition-shadow"),Nt=(0,D.c)(),Bt=(0,D.c)(),Fe=(0,D.c)();Nt.addElement(Ce).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Bt.addElement(We).beforeClearStyles([z]).fromTo(z,0,.1),Fe.addElement(nt).beforeClearStyles([z]).fromTo(z,.03,.7),Nt.addAnimation([Bt,Fe]),pt.addAnimation([Nt])}}const Dt=he.querySelector("ion-header.header-collapse-condense"),{forward:Wt,backward:Ve}=((H,Re,Pe,pe,z)=>{const G=se(pe,Pe),ae=j(z),Se=j(pe),ce=se(z,Pe),rt=null!==G&&null!==ae&&!Pe,tt=null!==Se&&null!==ce&&Pe;if(rt){const he=ae.getBoundingClientRect(),le=G.getBoundingClientRect();$(H,Re,Pe,ae,he,le),W(H,Re,Pe,G,he,le)}else if(tt){const he=Se.getBoundingClientRect(),le=ce.getBoundingClientRect();$(H,Re,Pe,Se,he,le),W(H,Re,Pe,ce,he,le)}return{forward:rt,backward:tt}})(fe,ce,ze,he,le);if(M.forEach(Ce=>{const We=(0,D.c)();We.addElement(Ce),fe.addAnimation(We);const nt=(0,D.c)();nt.addElement(Ce.querySelector("ion-title"));const Nt=(0,D.c)(),Bt=Array.from(Ce.querySelectorAll("ion-buttons,[menuToggle]")),Fe=Ce.closest("ion-header"),it=Fe?.classList.contains("header-collapse-condense-inactive");let Ct;Ct=Bt.filter(ze?ft=>{const vt=ft.classList.contains("buttons-collapse");return vt&&!it||!vt}:ft=>!ft.classList.contains("buttons-collapse")),Nt.addElement(Ct);const ht=(0,D.c)();ht.addElement(Ce.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ee=(0,D.c)();Ee.addElement(N(Ce).querySelector(".toolbar-background"));const Ye=(0,D.c)(),Ke=Ce.querySelector("ion-back-button");if(Ke&&Ye.addElement(Ke),We.addAnimation([nt,Nt,ht,Ee,Ye]),Nt.fromTo(z,.01,1),ht.fromTo(z,.01,1),ze)it||nt.fromTo("transform",`translateX(${tt})`,`translateX(${ae})`).fromTo(z,.01,1),ht.fromTo("transform",`translateX(${tt})`,`translateX(${ae})`),Ye.fromTo(z,.01,1);else if(Dt||nt.fromTo("transform",`translateX(${rt})`,`translateX(${ae})`).fromTo(z,.01,1),ht.fromTo("transform",`translateX(${rt})`,`translateX(${ae})`),Ee.beforeClearStyles([z,"transform"]),Fe?.translucent?Ee.fromTo("transform",ce?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ee.fromTo(z,.01,"var(--opacity)"),Wt||Ye.fromTo(z,.01,1),Ke&&!Wt){const vt=(0,D.c)();vt.addElement(N(Ke).querySelector(".button-text")).fromTo("transform",ce?"translateX(-100px)":"translateX(100px)","translateX(0px)"),We.addAnimation(vt)}}),le){const Ce=(0,D.c)(),We=le.querySelector(":scope > ion-content"),nt=le.querySelectorAll(":scope > ion-header > ion-toolbar"),Nt=le.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(We||0!==nt.length||0!==Nt.length?(Ce.addElement(We),Ce.addElement(Nt)):Ce.addElement(le.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),fe.addAnimation(Ce),ze){Ce.beforeClearStyles([z]).fromTo("transform",`translateX(${ae})`,ce?"translateX(-100%)":"translateX(100%)");const Bt=(0,d.g)(le);fe.afterAddWrite(()=>{"normal"===fe.getDirection()&&Bt.style.setProperty("display","none")})}else Ce.fromTo("transform",`translateX(${ae})`,`translateX(${tt})`).fromTo(z,1,.8);if(We){const Bt=N(We).querySelector(".transition-effect");if(Bt){const Fe=Bt.querySelector(".transition-cover"),it=Bt.querySelector(".transition-shadow"),Ct=(0,D.c)(),ht=(0,D.c)(),Ee=(0,D.c)();Ct.addElement(Bt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ht.addElement(Fe).beforeClearStyles([z]).fromTo(z,.1,0),Ee.addElement(it).beforeClearStyles([z]).fromTo(z,.7,.03),Ct.addAnimation([ht,Ee]),Ce.addAnimation([Ct])}}nt.forEach(Bt=>{const Fe=(0,D.c)();Fe.addElement(Bt);const it=(0,D.c)();it.addElement(Bt.querySelector("ion-title"));const Ct=(0,D.c)(),ht=Bt.querySelectorAll("ion-buttons,[menuToggle]"),Ee=Bt.closest("ion-header"),Ye=Ee?.classList.contains("header-collapse-condense-inactive"),Ke=Array.from(ht).filter(Kn=>{const jn=Kn.classList.contains("buttons-collapse");return jn&&!Ye||!jn});Ct.addElement(Ke);const ft=(0,D.c)(),vt=Bt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");vt.length>0&&ft.addElement(vt);const U=(0,D.c)();U.addElement(N(Bt).querySelector(".toolbar-background"));const ln=(0,D.c)(),Gt=Bt.querySelector("ion-back-button");if(Gt&&ln.addElement(Gt),Fe.addAnimation([it,Ct,ft,ln,U]),fe.addAnimation(Fe),ln.fromTo(z,.99,0),Ct.fromTo(z,.99,0),ft.fromTo(z,.99,0),ze){if(Ye||it.fromTo("transform",`translateX(${ae})`,ce?"translateX(-100%)":"translateX(100%)").fromTo(z,.99,0),ft.fromTo("transform",`translateX(${ae})`,ce?"translateX(-100%)":"translateX(100%)"),U.beforeClearStyles([z,"transform"]),Ee?.translucent?U.fromTo("transform","translateX(0px)",ce?"translateX(-100%)":"translateX(100%)"):U.fromTo(z,"var(--opacity)",0),Gt&&!Ve){const jn=(0,D.c)();jn.addElement(N(Gt).querySelector(".button-text")).fromTo("transform",`translateX(${ae})`,`translateX(${(ce?-124:124)+"px"})`),Fe.addAnimation(jn)}}else Ye||it.fromTo("transform",`translateX(${ae})`,`translateX(${tt})`).fromTo(z,.99,0).afterClearStyles([G,z]),ft.fromTo("transform",`translateX(${ae})`,`translateX(${tt})`).afterClearStyles([G,z]),ln.afterClearStyles([z]),it.afterClearStyles([z]),Ct.afterClearStyles([z])})}return fe}catch(pe){throw pe}}},8576:(ke,Le,P)=>{"use strict";P.r(Le),P.d(Le,{mdTransitionAnimation:()=>V});var D=P(7143),d=P(5701);P(2678),P(4865);const V=(X,N)=>{var j,se,Q;const W="40px",L="back"===N.direction,Re=N.leavingEl,Pe=(0,d.g)(N.enteringEl),pe=Pe.querySelector("ion-toolbar"),z=(0,D.c)();if(z.addElement(Pe).fill("both").beforeRemoveClass("ion-page-invisible"),L?z.duration((null!==(j=N.duration)&&void 0!==j?j:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):z.duration((null!==(se=N.duration)&&void 0!==se?se:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${W})`,"translateY(0px)").fromTo("opacity",.01,1),pe){const G=(0,D.c)();G.addElement(pe),z.addAnimation(G)}if(Re&&L){z.duration((null!==(Q=N.duration)&&void 0!==Q?Q:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const G=(0,D.c)();G.addElement((0,d.g)(Re)).onFinish(ae=>{1===ae&&G.elements.length>0&&G.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${W})`).fromTo("opacity",1,0),z.addAnimation(G)}return z}},5732:(ke,Le,P)=>{"use strict";P.d(Le,{B:()=>Fe,G:()=>it,a:()=>W,b:()=>$,c:()=>Pe,d:()=>Ct,e:()=>ht,f:()=>fe,g:()=>Dt,h:()=>Ce,i:()=>nt,j:()=>z,k:()=>G,l:()=>L,m:()=>H,n:()=>se,o:()=>ce,q:()=>$e,s:()=>Bt});var D=P(3918),d=P(1904),ee=P(1286),te=P(1474),V=P(4259),X=P(2957);let N=0,j=0;const se=new WeakMap,Q=Ee=>({create:Ye=>ae(Ee,Ye),dismiss:(Ye,Ke,ft)=>ze(document,Ye,Ke,Ee,ft),getTop:()=>(0,D.Z)(function*(){return $e(document,Ee)})()}),W=Q("ion-alert"),$=Q("ion-action-sheet"),L=Q("ion-loading"),H=Q("ion-modal"),Pe=Q("ion-popover"),z=Ee=>{typeof document<"u"&&le(document);const Ye=N++;Ee.overlayIndex=Ye},G=Ee=>(Ee.hasAttribute("id")||(Ee.id="ion-overlay-"+ ++j),Ee.id),ae=(Ee,Ye)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ee).then(()=>{const Ke=document.createElement(Ee);return Ke.classList.add("overlay-hidden"),Object.assign(Ke,Object.assign(Object.assign({},Ye),{hasController:!0})),Wt(document).appendChild(Ke),new Promise(ft=>(0,V.c)(Ke,ft))}):Promise.resolve(),Se='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ce=(Ee,Ye)=>{let Ke=Ee.querySelector(Se);const ft=Ke?.shadowRoot;ft&&(Ke=ft.querySelector(Se)||Ke),Ke?(0,V.f)(Ke):Ye.focus()},tt=(Ee,Ye)=>{const Ke=Array.from(Ee.querySelectorAll(Se));let ft=Ke.length>0?Ke[Ke.length-1]:null;const vt=ft?.shadowRoot;vt&&(ft=vt.querySelector(Se)||ft),ft?ft.focus():Ye.focus()},le=Ee=>{0===N&&(N=1,Ee.addEventListener("focus",Ye=>{((Ee,Ye)=>{const Ke=$e(Ye,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ft=Ee.target;Ke&&ft&&!Ke.classList.contains("ion-disable-focus-trap")&&(Ke.shadowRoot?(()=>{if(Ke.contains(ft))Ke.lastFocus=ft;else{const ln=Ke.lastFocus;ce(Ke,Ke),ln===Ye.activeElement&&tt(Ke,Ke),Ke.lastFocus=Ye.activeElement}})():(()=>{if(Ke===ft)Ke.lastFocus=void 0;else{const ln=(0,V.g)(Ke);if(!ln.contains(ft))return;const Gt=ln.querySelector(".ion-overlay-wrapper");if(!Gt)return;if(Gt.contains(ft)||ft===ln.querySelector("ion-backdrop"))Ke.lastFocus=ft;else{const Kn=Ke.lastFocus;ce(Gt,Ke),Kn===Ye.activeElement&&tt(Gt,Ke),Ke.lastFocus=Ye.activeElement}}})())})(Ye,Ee)},!0),Ee.addEventListener("ionBackButton",Ye=>{const Ke=$e(Ee);Ke?.backdropDismiss&&Ye.detail.register(te.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ke.dismiss(void 0,Fe))}),Ee.addEventListener("keydown",Ye=>{if("Escape"===Ye.key){const Ke=$e(Ee);Ke?.backdropDismiss&&Ke.dismiss(void 0,Fe)}}))},ze=(Ee,Ye,Ke,ft,vt)=>{const U=$e(Ee,ft,vt);return U?U.dismiss(Ye,Ke):Promise.reject("overlay does not exist")},$e=(Ee,Ye,Ke)=>{const ft=((Ee,Ye)=>(void 0===Ye&&(Ye="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ee.querySelectorAll(Ye)).filter(Ke=>Ke.overlayIndex>0)))(Ee,Ye).filter(vt=>!(Ee=>Ee.classList.contains("overlay-hidden"))(vt));return void 0===Ke?ft[ft.length-1]:ft.find(vt=>vt.id===Ke)},M=(Ee=!1)=>{const Ke=Wt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ke&&(Ee?Ke.setAttribute("aria-hidden","true"):Ke.removeAttribute("aria-hidden"))},fe=function(){var Ee=(0,D.Z)(function*(Ye,Ke,ft,vt,U){var ln,Gt;if(Ye.presented)return;M(!0),Ye.presented=!0,Ye.willPresent.emit(),null===(ln=Ye.willPresentShorthand)||void 0===ln||ln.emit();const Kn=(0,d.b)(Ye),jn=Ye.enterAnimation?Ye.enterAnimation:d.c.get(Ke,"ios"===Kn?ft:vt);(yield Ve(Ye,jn,Ye.el,U))&&(Ye.didPresent.emit(),null===(Gt=Ye.didPresentShorthand)||void 0===Gt||Gt.emit()),"ION-TOAST"!==Ye.el.tagName&&pt(Ye.el),Ye.keyboardClose&&(null===document.activeElement||!Ye.el.contains(document.activeElement))&&Ye.el.focus()});return function(Ke,ft,vt,U,ln){return Ee.apply(this,arguments)}}(),pt=function(){var Ee=(0,D.Z)(function*(Ye){let Ke=document.activeElement;if(!Ke)return;const ft=Ke?.shadowRoot;ft&&(Ke=ft.querySelector(Se)||Ke),yield Ye.onDidDismiss(),Ke.focus()});return function(Ke){return Ee.apply(this,arguments)}}(),Dt=function(){var Ee=(0,D.Z)(function*(Ye,Ke,ft,vt,U,ln,Gt){var Kn,jn;if(!Ye.presented)return!1;M(!1),Ye.presented=!1;try{Ye.el.style.setProperty("pointer-events","none"),Ye.willDismiss.emit({data:Ke,role:ft}),null===(Kn=Ye.willDismissShorthand)||void 0===Kn||Kn.emit({data:Ke,role:ft});const rr=(0,d.b)(Ye),Nn=Ye.leaveAnimation?Ye.leaveAnimation:d.c.get(vt,"ios"===rr?U:ln);ft!==it&&(yield Ve(Ye,Nn,Ye.el,Gt)),Ye.didDismiss.emit({data:Ke,role:ft}),null===(jn=Ye.didDismissShorthand)||void 0===jn||jn.emit({data:Ke,role:ft}),se.delete(Ye),Ye.el.classList.add("overlay-hidden"),Ye.el.style.removeProperty("pointer-events"),void 0!==Ye.el.lastFocus&&(Ye.el.lastFocus=void 0)}catch(rr){console.error(rr)}return Ye.el.remove(),!0});return function(Ke,ft,vt,U,ln,Gt,Kn){return Ee.apply(this,arguments)}}(),Wt=Ee=>Ee.querySelector("ion-app")||Ee.body,Ve=function(){var Ee=(0,D.Z)(function*(Ye,Ke,ft,vt){ft.classList.remove("overlay-hidden");const ln=Ke(Ye.el,vt);(!Ye.animated||!d.c.getBoolean("animated",!0))&&ln.duration(0),Ye.keyboardClose&&ln.beforeAddWrite(()=>{const Kn=ft.ownerDocument.activeElement;Kn?.matches("input,ion-input, ion-textarea")&&Kn.blur()});const Gt=se.get(Ye)||[];return se.set(Ye,[...Gt,ln]),yield ln.play(),!0});return function(Ke,ft,vt,U){return Ee.apply(this,arguments)}}(),Ce=(Ee,Ye)=>{let Ke;const ft=new Promise(vt=>Ke=vt);return We(Ee,Ye,vt=>{Ke(vt.detail)}),ft},We=(Ee,Ye,Ke)=>{const ft=vt=>{(0,V.b)(Ee,Ye,ft),Ke(vt)};(0,V.a)(Ee,Ye,ft)},nt=Ee=>"cancel"===Ee||Ee===Fe,Nt=Ee=>Ee(),Bt=(Ee,Ye)=>{if("function"==typeof Ee)return d.c.get("_zoneGate",Nt)(()=>{try{return Ee(Ye)}catch(ft){throw ft}})},Fe="backdrop",it="gesture",Ct=Ee=>{let Ke,Ye=!1;const ft=(0,ee.C)(),vt=(Gt=!1)=>{if(Ke&&!Gt)return{delegate:Ke,inline:Ye};const{el:Kn,hasController:jn,delegate:rr}=Ee;return Ye=null!==Kn.parentNode&&!jn,Ke=Ye?rr||ft:rr,{inline:Ye,delegate:Ke}};return{attachViewToDom:function(){var Gt=(0,D.Z)(function*(Kn){const{delegate:jn}=vt(!0);if(jn)return yield jn.attachViewToDom(Ee.el,Kn);const{hasController:rr}=Ee;if(rr&&void 0!==Kn)throw new Error("framework delegate is missing");return null});return function(jn){return Gt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Gt}=vt();Gt&&void 0!==Ee.el&&Gt.removeViewFromDom(Ee.el.parentElement,Ee.el)}}},ht=()=>{let Ee;const Ye=()=>{Ee&&(Ee(),Ee=void 0)};return{addClickListener:(ft,vt)=>{Ye();const U=void 0!==vt?document.getElementById(vt):null;U?Ee=((Gt,Kn)=>{const jn=()=>{Kn.present()};return Gt.addEventListener("click",jn),()=>{Gt.removeEventListener("click",jn)}})(U,ft):(0,X.p)(`A trigger element with the ID "${vt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ft)},removeClickListener:Ye}}},2410:(ke,Le,P)=>{"use strict";var d=P(1491)("ArrayBuffer.prototype.byteLength",!0),ee=P(9850);ke.exports=function(V){return ee(V)?d?d(V):V.byteLength:NaN}},1491:(ke,Le,P)=>{"use strict";var D=P(3485),d=P(1773),ee=d(D("String.prototype.indexOf"));ke.exports=function(V,X){var N=D(V,!!X);return"function"==typeof N&&ee(V,".prototype.")>-1?d(N):N}},1773:(ke,Le,P)=>{"use strict";var D=P(8956),d=P(3485),ee=d("%Function.prototype.apply%"),te=d("%Function.prototype.call%"),V=d("%Reflect.apply%",!0)||D.call(te,ee),X=d("%Object.getOwnPropertyDescriptor%",!0),N=d("%Object.defineProperty%",!0),j=d("%Math.max%");if(N)try{N({},"a",{value:1})}catch{N=null}ke.exports=function(W){var $=V(D,te,arguments);return X&&N&&X($,"length").configurable&&N($,"length",{value:1+j(0,W.length-(arguments.length-1))}),$};var se=function(){return V(D,ee,arguments)};N?N(ke.exports,"apply",{value:se}):ke.exports.apply=se},7303:ke=>{var Le={utf8:{stringToBytes:function(P){return Le.bin.stringToBytes(unescape(encodeURIComponent(P)))},bytesToString:function(P){return decodeURIComponent(escape(Le.bin.bytesToString(P)))}},bin:{stringToBytes:function(P){for(var D=[],d=0;d<P.length;d++)D.push(255&P.charCodeAt(d));return D},bytesToString:function(P){for(var D=[],d=0;d<P.length;d++)D.push(String.fromCharCode(P[d]));return D.join("")}}};ke.exports=Le},3754:ke=>{var Le,P;Le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ke.exports=P={rotl:function(D,d){return D<<d|D>>>32-d},rotr:function(D,d){return D<<32-d|D>>>d},endian:function(D){if(D.constructor==Number)return 16711935&P.rotl(D,8)|4278255360&P.rotl(D,24);for(var d=0;d<D.length;d++)D[d]=P.endian(D[d]);return D},randomBytes:function(D){for(var d=[];D>0;D--)d.push(Math.floor(256*Math.random()));return d},bytesToWords:function(D){for(var d=[],ee=0,te=0;ee<D.length;ee++,te+=8)d[te>>>5]|=D[ee]<<24-te%32;return d},wordsToBytes:function(D){for(var d=[],ee=0;ee<32*D.length;ee+=8)d.push(D[ee>>>5]>>>24-ee%32&255);return d},bytesToHex:function(D){for(var d=[],ee=0;ee<D.length;ee++)d.push((D[ee]>>>4).toString(16)),d.push((15&D[ee]).toString(16));return d.join("")},hexToBytes:function(D){for(var d=[],ee=0;ee<D.length;ee+=2)d.push(parseInt(D.substr(ee,2),16));return d},bytesToBase64:function(D){for(var d=[],ee=0;ee<D.length;ee+=3)for(var te=D[ee]<<16|D[ee+1]<<8|D[ee+2],V=0;V<4;V++)d.push(8*ee+6*V<=8*D.length?Le.charAt(te>>>6*(3-V)&63):"=");return d.join("")},base64ToBytes:function(D){D=D.replace(/[^A-Z0-9+\/]/gi,"");for(var d=[],ee=0,te=0;ee<D.length;te=++ee%4)0!=te&&d.push((Le.indexOf(D.charAt(ee-1))&Math.pow(2,-2*te+8)-1)<<2*te|Le.indexOf(D.charAt(ee))>>>6-2*te);return d}}},307:(ke,Le,P)=>{"use strict";var D=P(5747),d=P(1491),ee=P(4300),te=P(3485),V=P(1324),X=P(4355),N=P(500),j=P(1568),se=P(9604),Q=P(9850),W=P(6994),$=P(9649),L=P(5327),H=P(5692),Re=P(8460),Pe=P(9148),pe=P(927),z=P(2410),G=d("SharedArrayBuffer.prototype.byteLength",!0),ae=d("Date.prototype.getTime"),Se=Object.getPrototypeOf,ce=d("Object.prototype.toString"),rt=te("%Set%",!0),tt=d("Map.prototype.has",!0),he=d("Map.prototype.get",!0),le=d("Map.prototype.size",!0),ze=d("Set.prototype.add",!0),qe=d("Set.prototype.delete",!0),$e=d("Set.prototype.has",!0),M=d("Set.prototype.size",!0);function fe(Fe,it,Ct,ht){for(var Ye,Ee=V(Fe);(Ye=Ee.next())&&!Ye.done;)if(Ce(it,Ye.value,Ct,ht))return qe(Fe,Ye.value),!0;return!1}function pt(Fe){return typeof Fe>"u"?null:"object"!=typeof Fe?"symbol"!=typeof Fe&&("string"!=typeof Fe&&"number"!=typeof Fe||+Fe==+Fe):void 0}function Dt(Fe,it,Ct,ht,Ee,Ye){var Ke=pt(Ct);if(null!=Ke)return Ke;var ft=he(it,Ke),vt=D({},Ee,{strict:!1});return!(typeof ft>"u"&&!tt(it,Ke)||!Ce(ht,ft,vt,Ye))&&!tt(Fe,Ke)&&Ce(ht,ft,vt,Ye)}function Wt(Fe,it,Ct){var ht=pt(Ct);return ht??($e(it,ht)&&!$e(Fe,ht))}function Ve(Fe,it,Ct,ht,Ee,Ye){for(var ft,vt,Ke=V(Fe);(ft=Ke.next())&&!ft.done;)if(Ce(Ct,vt=ft.value,Ee,Ye)&&Ce(ht,he(it,vt),Ee,Ye))return qe(Fe,vt),!0;return!1}function Ce(Fe,it,Ct,ht){var Ee=Ct||{};if(Ee.strict?N(Fe,it):Fe===it)return!0;if(Re(Fe)!==Re(it))return!1;if(!Fe||!it||"object"!=typeof Fe&&"object"!=typeof it)return Ee.strict?N(Fe,it):Fe==it;var U,ft=ht.has(Fe),vt=ht.has(it);if(ft&&vt){if(ht.get(Fe)===ht.get(it))return!0}else U={};return ft||ht.set(Fe,U),vt||ht.set(it,U),function Bt(Fe,it,Ct,ht){var Ee,Ye;if(typeof Fe!=typeof it||null==Fe||null==it||ce(Fe)!==ce(it)||j(Fe)!==j(it))return!1;if(se(Fe)!==se(it))return!1;var vt=Fe instanceof Error,U=it instanceof Error;if(vt!==U||(vt||U)&&(Fe.name!==it.name||Fe.message!==it.message))return!1;var ln=$(Fe),Gt=$(it);if(ln!==Gt||(ln||Gt)&&(Fe.source!==it.source||ee(Fe)!==ee(it)))return!1;var Kn=W(Fe),jn=W(it);if(Kn!==jn||(Kn||jn)&&ae(Fe)!==ae(it)||Ct.strict&&Se&&Se(Fe)!==Se(it))return!1;var rr=pe(Fe),Nn=pe(it);if(rr!==Nn)return!1;if(rr||Nn){if(Fe.length!==it.length)return!1;for(Ee=0;Ee<Fe.length;Ee++)if(Fe[Ee]!==it[Ee])return!1;return!0}var Ho=We(Fe),vr=We(it);if(Ho!==vr)return!1;if(Ho||vr){if(Fe.length!==it.length)return!1;for(Ee=0;Ee<Fe.length;Ee++)if(Fe[Ee]!==it[Ee])return!1;return!0}var hr=Q(Fe),No=Q(it);if(hr!==No)return!1;if(hr||No)return z(Fe)===z(it)&&"function"==typeof Uint8Array&&Ce(new Uint8Array(Fe),new Uint8Array(it),Ct,ht);var ai=L(Fe),go=L(it);if(ai!==go)return!1;if(ai||go)return G(Fe)===G(it)&&"function"==typeof Uint8Array&&Ce(new Uint8Array(Fe),new Uint8Array(it),Ct,ht);if(typeof Fe!=typeof it)return!1;var Yr=H(Fe),Go=H(it);if(Yr.length!==Go.length)return!1;for(Yr.sort(),Go.sort(),Ee=Yr.length-1;Ee>=0;Ee--)if(Yr[Ee]!=Go[Ee])return!1;for(Ee=Yr.length-1;Ee>=0;Ee--)if(!Ce(Fe[Ye=Yr[Ee]],it[Ye],Ct,ht))return!1;var Xe=Pe(Fe),jt=Pe(it);return Xe===jt&&("Set"===Xe||"Set"===jt?function nt(Fe,it,Ct,ht){if(M(Fe)!==M(it))return!1;for(var Ke,ft,vt,Ee=V(Fe),Ye=V(it);(Ke=Ee.next())&&!Ke.done;)if(Ke.value&&"object"==typeof Ke.value)vt||(vt=new rt),ze(vt,Ke.value);else if(!$e(it,Ke.value)){if(Ct.strict||!Wt(Fe,it,Ke.value))return!1;vt||(vt=new rt),ze(vt,Ke.value)}if(vt){for(;(ft=Ye.next())&&!ft.done;)if(ft.value&&"object"==typeof ft.value){if(!fe(vt,ft.value,Ct.strict,ht))return!1}else if(!Ct.strict&&!$e(Fe,ft.value)&&!fe(vt,ft.value,Ct.strict,ht))return!1;return 0===M(vt)}return!0}(Fe,it,Ct,ht):"Map"!==Xe||function Nt(Fe,it,Ct,ht){if(le(Fe)!==le(it))return!1;for(var Ke,ft,vt,U,ln,Gt,Ee=V(Fe),Ye=V(it);(Ke=Ee.next())&&!Ke.done;)if(ln=Ke.value[1],(U=Ke.value[0])&&"object"==typeof U)vt||(vt=new rt),ze(vt,U);else if(typeof(Gt=he(it,U))>"u"&&!tt(it,U)||!Ce(ln,Gt,Ct,ht)){if(Ct.strict||!Dt(Fe,it,U,ln,Ct,ht))return!1;vt||(vt=new rt),ze(vt,U)}if(vt){for(;(ft=Ye.next())&&!ft.done;)if(Gt=ft.value[1],(U=ft.value[0])&&"object"==typeof U){if(!Ve(vt,Fe,U,Gt,Ct,ht))return!1}else if(!(Ct.strict||Fe.has(U)&&Ce(he(Fe,U),Gt,Ct,ht)||Ve(vt,Fe,U,Gt,D({},Ct,{strict:!1}),ht)))return!1;return 0===M(vt)}return!0}(Fe,it,Ct,ht))}(Fe,it,Ee,ht)}function We(Fe){return!(!Fe||"object"!=typeof Fe||"number"!=typeof Fe.length||"function"!=typeof Fe.copy||"function"!=typeof Fe.slice||Fe.length>0&&"number"!=typeof Fe[0]||!(Fe.constructor&&Fe.constructor.isBuffer&&Fe.constructor.isBuffer(Fe)))}ke.exports=function(it,Ct,ht){return Ce(it,Ct,ht,X())}},9567:(ke,Le,P)=>{"use strict";var D=P(5692),d="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ee=Object.prototype.toString,te=Array.prototype.concat,V=Object.defineProperty,N=P(7811)(),j=V&&N,se=function(W,$,L,H){if($ in W)if(!0===H){if(W[$]===L)return}else if(!function(W){return"function"==typeof W&&"[object Function]"===ee.call(W)}(H)||!H())return;j?V(W,$,{configurable:!0,enumerable:!1,value:L,writable:!0}):W[$]=L},Q=function(W,$){var L=arguments.length>2?arguments[2]:{},H=D($);d&&(H=te.call(H,Object.getOwnPropertySymbols($)));for(var Re=0;Re<H.length;Re+=1)se(W,H[Re],$[H[Re]],L[H[Re]])};Q.supportsDescriptors=!!j,ke.exports=Q},1633:function(ke,Le){!function(P){"use strict";var $,ee=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,te=536870912,V=2*te,N=new WeakMap,se=function($,L){return function(H){var Re=L.get(H),Pe=void 0===Re?H.size:Re<V?Re+1:0;if(!H.has(Pe))return $(H,Pe);if(H.size<te){for(;H.has(Pe);)Pe=Math.floor(Math.random()*V);return $(H,Pe)}if(H.size>ee)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;H.has(Pe);)Pe=Math.floor(Math.random()*ee);return $(H,Pe)}}(($=N,function(L,H){return $.set(L,H),H}),N),Q=function($){return function(L){var H=$(L);return L.add(H),H}}(se);P.addUniqueNumber=Q,P.generateUniqueNumber=se}(Le)},2418:(ke,Le,P)=>{"use strict";var D=P(5487),d=Object.prototype.toString,ee=Object.prototype.hasOwnProperty;ke.exports=function(se,Q,W){if(!D(Q))throw new TypeError("iterator must be a function");var $;arguments.length>=3&&($=W),"[object Array]"===d.call(se)?function(se,Q,W){for(var $=0,L=se.length;$<L;$++)ee.call(se,$)&&(null==W?Q(se[$],$,se):Q.call(W,se[$],$,se))}(se,Q,$):"string"==typeof se?function(se,Q,W){for(var $=0,L=se.length;$<L;$++)null==W?Q(se.charAt($),$,se):Q.call(W,se.charAt($),$,se)}(se,Q,$):function(se,Q,W){for(var $ in se)ee.call(se,$)&&(null==W?Q(se[$],$,se):Q.call(W,se[$],$,se))}(se,Q,$)}},8026:ke=>{"use strict";var P=Array.prototype.slice,D=Object.prototype.toString;ke.exports=function(te){var V=this;if("function"!=typeof V||"[object Function]"!==D.call(V))throw new TypeError("Function.prototype.bind called on incompatible "+V);for(var N,X=P.call(arguments,1),se=Math.max(0,V.length-X.length),Q=[],W=0;W<se;W++)Q.push("$"+W);if(N=Function("binder","return function ("+Q.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof N){var L=V.apply(this,X.concat(P.call(arguments)));return Object(L)===L?L:this}return V.apply(te,X.concat(P.call(arguments)))}),V.prototype){var $=function(){};$.prototype=V.prototype,N.prototype=new $,$.prototype=null}return N}},8956:(ke,Le,P)=>{"use strict";var D=P(8026);ke.exports=Function.prototype.bind||D},7688:ke=>{"use strict";var Le=function(){return"string"==typeof function(){}.name},P=Object.getOwnPropertyDescriptor;if(P)try{P([],"length")}catch{P=null}Le.functionsHaveConfigurableNames=function(){if(!Le()||!P)return!1;var ee=P(function(){},"name");return!!ee&&!!ee.configurable};var D=Function.prototype.bind;Le.boundFunctionsHaveNames=function(){return Le()&&"function"==typeof D&&""!==function(){}.bind().name},ke.exports=Le},3485:(ke,Le,P)=>{"use strict";var D,d=SyntaxError,ee=Function,te=TypeError,V=function($e){try{return ee('"use strict"; return ('+$e+").constructor;")()}catch{}},X=Object.getOwnPropertyDescriptor;if(X)try{X({},"")}catch{X=null}var N=function(){throw new te},j=X?function(){try{return N}catch{try{return X(arguments,"callee").get}catch{return N}}}():N,se=P(2337)(),Q=P(1441)(),W=Object.getPrototypeOf||(Q?function($e){return $e.__proto__}:null),$={},L=typeof Uint8Array>"u"||!W?D:W(Uint8Array),H={"%AggregateError%":typeof AggregateError>"u"?D:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?D:ArrayBuffer,"%ArrayIteratorPrototype%":se&&W?W([][Symbol.iterator]()):D,"%AsyncFromSyncIteratorPrototype%":D,"%AsyncFunction%":$,"%AsyncGenerator%":$,"%AsyncGeneratorFunction%":$,"%AsyncIteratorPrototype%":$,"%Atomics%":typeof Atomics>"u"?D:Atomics,"%BigInt%":typeof BigInt>"u"?D:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?D:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?D:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?D:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?D:Float32Array,"%Float64Array%":typeof Float64Array>"u"?D:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?D:FinalizationRegistry,"%Function%":ee,"%GeneratorFunction%":$,"%Int8Array%":typeof Int8Array>"u"?D:Int8Array,"%Int16Array%":typeof Int16Array>"u"?D:Int16Array,"%Int32Array%":typeof Int32Array>"u"?D:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":se&&W?W(W([][Symbol.iterator]())):D,"%JSON%":"object"==typeof JSON?JSON:D,"%Map%":typeof Map>"u"?D:Map,"%MapIteratorPrototype%":typeof Map>"u"||!se||!W?D:W((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?D:Promise,"%Proxy%":typeof Proxy>"u"?D:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?D:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?D:Set,"%SetIteratorPrototype%":typeof Set>"u"||!se||!W?D:W((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?D:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":se&&W?W(""[Symbol.iterator]()):D,"%Symbol%":se?Symbol:D,"%SyntaxError%":d,"%ThrowTypeError%":j,"%TypedArray%":L,"%TypeError%":te,"%Uint8Array%":typeof Uint8Array>"u"?D:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?D:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?D:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?D:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?D:WeakMap,"%WeakRef%":typeof WeakRef>"u"?D:WeakRef,"%WeakSet%":typeof WeakSet>"u"?D:WeakSet};if(W)try{null.error}catch($e){var Re=W(W($e));H["%Error.prototype%"]=Re}var Pe=function $e(M){var fe;if("%AsyncFunction%"===M)fe=V("async function () {}");else if("%GeneratorFunction%"===M)fe=V("function* () {}");else if("%AsyncGeneratorFunction%"===M)fe=V("async function* () {}");else if("%AsyncGenerator%"===M){var pt=$e("%AsyncGeneratorFunction%");pt&&(fe=pt.prototype)}else if("%AsyncIteratorPrototype%"===M){var Dt=$e("%AsyncGenerator%");Dt&&W&&(fe=W(Dt.prototype))}return H[M]=fe,fe},pe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=P(8956),G=P(2705),ae=z.call(Function.call,Array.prototype.concat),Se=z.call(Function.apply,Array.prototype.splice),ce=z.call(Function.call,String.prototype.replace),rt=z.call(Function.call,String.prototype.slice),tt=z.call(Function.call,RegExp.prototype.exec),he=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,le=/\\(\\)?/g,qe=function(M,fe){var Dt,pt=M;if(G(pe,pt)&&(pt="%"+(Dt=pe[pt])[0]+"%"),G(H,pt)){var Wt=H[pt];if(Wt===$&&(Wt=Pe(pt)),typeof Wt>"u"&&!fe)throw new te("intrinsic "+M+" exists, but is not available. Please file an issue!");return{alias:Dt,name:pt,value:Wt}}throw new d("intrinsic "+M+" does not exist!")};ke.exports=function(M,fe){if("string"!=typeof M||0===M.length)throw new te("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof fe)throw new te('"allowMissing" argument must be a boolean');if(null===tt(/^%?[^%]*%?$/,M))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var pt=function(M){var fe=rt(M,0,1),pt=rt(M,-1);if("%"===fe&&"%"!==pt)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===pt&&"%"!==fe)throw new d("invalid intrinsic syntax, expected opening `%`");var Dt=[];return ce(M,he,function(Wt,Ve,Ce,We){Dt[Dt.length]=Ce?ce(We,le,"$1"):Ve||Wt}),Dt}(M),Dt=pt.length>0?pt[0]:"",Wt=qe("%"+Dt+"%",fe),Ve=Wt.name,Ce=Wt.value,We=!1,nt=Wt.alias;nt&&(Dt=nt[0],Se(pt,ae([0,1],nt)));for(var Nt=1,Bt=!0;Nt<pt.length;Nt+=1){var Fe=pt[Nt],it=rt(Fe,0,1),Ct=rt(Fe,-1);if(('"'===it||"'"===it||"`"===it||'"'===Ct||"'"===Ct||"`"===Ct)&&it!==Ct)throw new d("property names with quotes must have matching quotes");if(("constructor"===Fe||!Bt)&&(We=!0),G(H,Ve="%"+(Dt+="."+Fe)+"%"))Ce=H[Ve];else if(null!=Ce){if(!(Fe in Ce)){if(!fe)throw new te("base intrinsic for "+M+" exists, but the property is not available.");return}if(X&&Nt+1>=pt.length){var ht=X(Ce,Fe);Ce=(Bt=!!ht)&&"get"in ht&&!("originalValue"in ht.get)?ht.get:Ce[Fe]}else Bt=G(Ce,Fe),Ce=Ce[Fe];Bt&&!We&&(H[Ve]=Ce)}}return Ce}},6078:(ke,Le,P)=>{"use strict";var d=P(3485)("%Object.getOwnPropertyDescriptor%",!0);if(d)try{d([],"length")}catch{d=null}ke.exports=d},5112:ke=>{"use strict";var Le=typeof BigInt<"u"&&BigInt;ke.exports=function(){return"function"==typeof Le&&"function"==typeof BigInt&&"bigint"==typeof Le(42)&&"bigint"==typeof BigInt(42)}},7811:(ke,Le,P)=>{"use strict";var d=P(3485)("%Object.defineProperty%",!0),ee=function(){if(d)try{return d({},"a",{value:1}),!0}catch{return!1}return!1};ee.hasArrayLengthDefineBug=function(){if(!ee())return null;try{return 1!==d([],"length",{value:1}).length}catch{return!0}},ke.exports=ee},1441:ke=>{"use strict";var Le={foo:{}},P=Object;ke.exports=function(){return{__proto__:Le}.foo===Le.foo&&!({__proto__:null}instanceof P)}},2337:(ke,Le,P)=>{"use strict";var D=typeof Symbol<"u"&&Symbol,d=P(2759);ke.exports=function(){return"function"==typeof D&&"function"==typeof Symbol&&"symbol"==typeof D("foo")&&"symbol"==typeof Symbol("bar")&&d()}},2759:ke=>{"use strict";ke.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var P={},D=Symbol("test"),d=Object(D);if("string"==typeof D||"[object Symbol]"!==Object.prototype.toString.call(D)||"[object Symbol]"!==Object.prototype.toString.call(d))return!1;for(D in P[D]=42,P)return!1;if("function"==typeof Object.keys&&0!==Object.keys(P).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(P).length)return!1;var te=Object.getOwnPropertySymbols(P);if(1!==te.length||te[0]!==D||!Object.prototype.propertyIsEnumerable.call(P,D))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var V=Object.getOwnPropertyDescriptor(P,D);if(42!==V.value||!0!==V.enumerable)return!1}return!0}},6518:(ke,Le,P)=>{"use strict";var D=P(2759);ke.exports=function(){return D()&&!!Symbol.toStringTag}},2705:(ke,Le,P)=>{"use strict";var D=P(8956);ke.exports=D.call(Function.call,Object.prototype.hasOwnProperty)},2605:(ke,Le,P)=>{"use strict";var D=P(3485),d=P(2705),ee=P(4355)(),te=D("%TypeError%"),V={assert:function(X,N){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new te("`O` is not an object");if("string"!=typeof N)throw new te("`slot` must be a string");if(ee.assert(X),!V.has(X,N))throw new te("`"+N+"` is not present on `O`")},get:function(X,N){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new te("`O` is not an object");if("string"!=typeof N)throw new te("`slot` must be a string");var j=ee.get(X);return j&&j["$"+N]},has:function(X,N){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new te("`O` is not an object");if("string"!=typeof N)throw new te("`slot` must be a string");var j=ee.get(X);return!!j&&d(j,"$"+N)},set:function(X,N,j){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new te("`O` is not an object");if("string"!=typeof N)throw new te("`slot` must be a string");var se=ee.get(X);se||ee.set(X,se={}),se["$"+N]=j}};Object.freeze&&Object.freeze(V),ke.exports=V},1568:(ke,Le,P)=>{"use strict";var D=P(6518)(),ee=P(1491)("Object.prototype.toString"),te=function(j){return!(D&&j&&"object"==typeof j&&Symbol.toStringTag in j)&&"[object Arguments]"===ee(j)},V=function(j){return!!te(j)||null!==j&&"object"==typeof j&&"number"==typeof j.length&&j.length>=0&&"[object Array]"!==ee(j)&&"[object Function]"===ee(j.callee)},X=function(){return te(arguments)}();te.isLegacyArguments=V,ke.exports=X?te:V},9850:(ke,Le,P)=>{"use strict";var D=P(1773),d=P(1491),ee=P(3485),te=P(3631),V=ee("ArrayBuffer",!0),X=ee("Float32Array",!0),N=d("ArrayBuffer.prototype.byteLength",!0),j=V&&!N&&(new V).slice,se=j&&D(j);ke.exports=N||se?function(W){if(!W||"object"!=typeof W)return!1;try{return N?N(W):se(W,0),!0}catch{return!1}}:X?function(W){try{return new X(W).buffer===W&&!te(W)}catch($){return"object"==typeof W&&"RangeError"===$.name}}:function(W){return!1}},7050:(ke,Le,P)=>{"use strict";if(P(5112)()){var d=BigInt.prototype.valueOf;ke.exports=function(V){return!(null===V||typeof V>"u"||"boolean"==typeof V||"string"==typeof V||"number"==typeof V||"symbol"==typeof V||"function"==typeof V)&&("bigint"==typeof V||function(V){try{return d.call(V),!0}catch{}return!1}(V))}}else ke.exports=function(V){return!1}},2856:(ke,Le,P)=>{"use strict";var D=P(1491),d=D("Boolean.prototype.toString"),ee=D("Object.prototype.toString"),X=P(6518)();ke.exports=function(j){return"boolean"==typeof j||null!==j&&"object"==typeof j&&(X&&Symbol.toStringTag in j?function(j){try{return d(j),!0}catch{return!1}}(j):"[object Boolean]"===ee(j))}},7617:ke=>{function Le(D){return!!D.constructor&&"function"==typeof D.constructor.isBuffer&&D.constructor.isBuffer(D)}ke.exports=function(D){return null!=D&&(Le(D)||function P(D){return"function"==typeof D.readFloatLE&&"function"==typeof D.slice&&Le(D.slice(0,0))}(D)||!!D._isBuffer)}},5487:ke=>{"use strict";var D,d,Le=Function.prototype.toString,P="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof P&&"function"==typeof Object.defineProperty)try{D=Object.defineProperty({},"length",{get:function(){throw d}}),d={},P(function(){throw 42},null,D)}catch(pe){pe!==d&&(P=null)}else P=null;var ee=/^\s*class\b/,te=function(z){try{var G=Le.call(z);return ee.test(G)}catch{return!1}},V=function(z){try{return!te(z)&&(Le.call(z),!0)}catch{return!1}},X=Object.prototype.toString,L="function"==typeof Symbol&&!!Symbol.toStringTag,H=!(0 in[,]),Re=function(){return!1};if("object"==typeof document){var Pe=document.all;X.call(Pe)===X.call(document.all)&&(Re=function(z){if((H||!z)&&(typeof z>"u"||"object"==typeof z))try{var G=X.call(z);return("[object HTMLAllCollection]"===G||"[object HTML document.all class]"===G||"[object HTMLCollection]"===G||"[object Object]"===G)&&null==z("")}catch{}return!1})}ke.exports=P?function(z){if(Re(z))return!0;if(!z||"function"!=typeof z&&"object"!=typeof z)return!1;try{P(z,null,D)}catch(G){if(G!==d)return!1}return!te(z)&&V(z)}:function(z){if(Re(z))return!0;if(!z||"function"!=typeof z&&"object"!=typeof z)return!1;if(L)return V(z);if(te(z))return!1;var G=X.call(z);return!("[object Function]"!==G&&"[object GeneratorFunction]"!==G&&!/^\[object HTML/.test(G))&&V(z)}},6994:(ke,Le,P)=>{"use strict";var D=Date.prototype.getDay,ee=Object.prototype.toString,V=P(6518)();ke.exports=function(N){return"object"==typeof N&&null!==N&&(V?function(N){try{return D.call(N),!0}catch{return!1}}(N):"[object Date]"===ee.call(N))}},6128:ke=>{"use strict";var D,Le="function"==typeof Map&&Map.prototype?Map:null,P="function"==typeof Set&&Set.prototype?Set:null;Le||(D=function(V){return!1});var d=Le?Map.prototype.has:null,ee=P?Set.prototype.has:null;!D&&!d&&(D=function(V){return!1}),ke.exports=D||function(V){if(!V||"object"!=typeof V)return!1;try{if(d.call(V),ee)try{ee.call(V)}catch{return!0}return V instanceof Le}catch{}return!1}},9065:(ke,Le,P)=>{"use strict";var D=Number.prototype.toString,ee=Object.prototype.toString,V=P(6518)();ke.exports=function(N){return"number"==typeof N||"object"==typeof N&&(V?function(N){try{return D.call(N),!0}catch{return!1}}(N):"[object Number]"===ee.call(N))}},9649:(ke,Le,P)=>{"use strict";var ee,te,V,X,D=P(1491),d=P(6518)();if(d){ee=D("Object.prototype.hasOwnProperty"),te=D("RegExp.prototype.exec"),V={};var N=function(){throw V};X={toString:N,valueOf:N},"symbol"==typeof Symbol.toPrimitive&&(X[Symbol.toPrimitive]=N)}var j=D("Object.prototype.toString"),se=Object.getOwnPropertyDescriptor;ke.exports=d?function($){if(!$||"object"!=typeof $)return!1;var L=se($,"lastIndex");if(!L||!ee(L,"value"))return!1;try{te($,X)}catch(Re){return Re===V}}:function($){return!(!$||"object"!=typeof $&&"function"!=typeof $)&&"[object RegExp]"===j($)}},5918:ke=>{"use strict";var D,Le="function"==typeof Map&&Map.prototype?Map:null,P="function"==typeof Set&&Set.prototype?Set:null;P||(D=function(V){return!1});var d=Le?Map.prototype.has:null,ee=P?Set.prototype.has:null;!D&&!ee&&(D=function(V){return!1}),ke.exports=D||function(V){if(!V||"object"!=typeof V)return!1;try{if(ee.call(V),d)try{d.call(V)}catch{return!0}return V instanceof P}catch{}return!1}},5327:(ke,Le,P)=>{"use strict";var d=P(1491)("SharedArrayBuffer.prototype.byteLength",!0);ke.exports=d?function(te){if(!te||"object"!=typeof te)return!1;try{return d(te),!0}catch{return!1}}:function(te){return!1}},2706:(ke,Le,P)=>{"use strict";var D=String.prototype.valueOf,ee=Object.prototype.toString,V=P(6518)();ke.exports=function(N){return"string"==typeof N||"object"==typeof N&&(V?function(N){try{return D.call(N),!0}catch{return!1}}(N):"[object String]"===ee.call(N))}},2630:(ke,Le,P)=>{"use strict";var D=Object.prototype.toString;if(P(2337)()){var ee=Symbol.prototype.toString,te=/^Symbol\(.*\)$/;ke.exports=function(N){if("symbol"==typeof N)return!0;if("[object Symbol]"!==D.call(N))return!1;try{return function(N){return"symbol"==typeof N.valueOf()&&te.test(ee.call(N))}(N)}catch{return!1}}}else ke.exports=function(N){return!1}},3631:(ke,Le,P)=>{"use strict";var D=P(927);ke.exports=function(ee){return!!D(ee)}},1545:ke=>{"use strict";var D,Le="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,P="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Le||(D=function(V){return!1});var d=Le?Le.prototype.has:null,ee=P?P.prototype.has:null;!D&&!d&&(D=function(V){return!1}),ke.exports=D||function(V){if(!V||"object"!=typeof V)return!1;try{if(d.call(V,d),ee)try{ee.call(V,ee)}catch{return!0}return V instanceof Le}catch{}return!1}},9043:(ke,Le,P)=>{"use strict";var D=P(3485),d=P(1491),ee=D("%WeakSet%",!0),te=d("WeakSet.prototype.has",!0);if(te){var V=d("WeakMap.prototype.has",!0);ke.exports=function(N){if(!N||"object"!=typeof N)return!1;try{if(te(N,te),V)try{V(N,V)}catch{return!0}return N instanceof ee}catch{}return!1}}else ke.exports=function(N){return!1}},9604:ke=>{var Le={}.toString;ke.exports=Array.isArray||function(P){return"[object Array]"==Le.call(P)}},3219:(ke,Le,P)=>{var D,d,ee,te,V;D=P(3754),d=P(7303).utf8,ee=P(7617),te=P(7303).bin,(V=function(X,N){X.constructor==String?X=N&&"binary"===N.encoding?te.stringToBytes(X):d.stringToBytes(X):ee(X)?X=Array.prototype.slice.call(X,0):!Array.isArray(X)&&X.constructor!==Uint8Array&&(X=X.toString());for(var j=D.bytesToWords(X),se=8*X.length,Q=1732584193,W=-271733879,$=-1732584194,L=271733878,H=0;H<j.length;H++)j[H]=16711935&(j[H]<<8|j[H]>>>24)|4278255360&(j[H]<<24|j[H]>>>8);j[se>>>5]|=128<<se%32,j[14+(se+64>>>9<<4)]=se;var Re=V._ff,Pe=V._gg,pe=V._hh,z=V._ii;for(H=0;H<j.length;H+=16){var G=Q,ae=W,Se=$,ce=L;Q=Re(Q,W,$,L,j[H+0],7,-680876936),L=Re(L,Q,W,$,j[H+1],12,-389564586),$=Re($,L,Q,W,j[H+2],17,606105819),W=Re(W,$,L,Q,j[H+3],22,-1044525330),Q=Re(Q,W,$,L,j[H+4],7,-176418897),L=Re(L,Q,W,$,j[H+5],12,1200080426),$=Re($,L,Q,W,j[H+6],17,-1473231341),W=Re(W,$,L,Q,j[H+7],22,-45705983),Q=Re(Q,W,$,L,j[H+8],7,1770035416),L=Re(L,Q,W,$,j[H+9],12,-1958414417),$=Re($,L,Q,W,j[H+10],17,-42063),W=Re(W,$,L,Q,j[H+11],22,-1990404162),Q=Re(Q,W,$,L,j[H+12],7,1804603682),L=Re(L,Q,W,$,j[H+13],12,-40341101),$=Re($,L,Q,W,j[H+14],17,-1502002290),Q=Pe(Q,W=Re(W,$,L,Q,j[H+15],22,1236535329),$,L,j[H+1],5,-165796510),L=Pe(L,Q,W,$,j[H+6],9,-1069501632),$=Pe($,L,Q,W,j[H+11],14,643717713),W=Pe(W,$,L,Q,j[H+0],20,-373897302),Q=Pe(Q,W,$,L,j[H+5],5,-701558691),L=Pe(L,Q,W,$,j[H+10],9,38016083),$=Pe($,L,Q,W,j[H+15],14,-660478335),W=Pe(W,$,L,Q,j[H+4],20,-405537848),Q=Pe(Q,W,$,L,j[H+9],5,568446438),L=Pe(L,Q,W,$,j[H+14],9,-1019803690),$=Pe($,L,Q,W,j[H+3],14,-187363961),W=Pe(W,$,L,Q,j[H+8],20,1163531501),Q=Pe(Q,W,$,L,j[H+13],5,-1444681467),L=Pe(L,Q,W,$,j[H+2],9,-51403784),$=Pe($,L,Q,W,j[H+7],14,1735328473),Q=pe(Q,W=Pe(W,$,L,Q,j[H+12],20,-1926607734),$,L,j[H+5],4,-378558),L=pe(L,Q,W,$,j[H+8],11,-2022574463),$=pe($,L,Q,W,j[H+11],16,1839030562),W=pe(W,$,L,Q,j[H+14],23,-35309556),Q=pe(Q,W,$,L,j[H+1],4,-1530992060),L=pe(L,Q,W,$,j[H+4],11,1272893353),$=pe($,L,Q,W,j[H+7],16,-155497632),W=pe(W,$,L,Q,j[H+10],23,-1094730640),Q=pe(Q,W,$,L,j[H+13],4,681279174),L=pe(L,Q,W,$,j[H+0],11,-358537222),$=pe($,L,Q,W,j[H+3],16,-722521979),W=pe(W,$,L,Q,j[H+6],23,76029189),Q=pe(Q,W,$,L,j[H+9],4,-640364487),L=pe(L,Q,W,$,j[H+12],11,-421815835),$=pe($,L,Q,W,j[H+15],16,530742520),Q=z(Q,W=pe(W,$,L,Q,j[H+2],23,-995338651),$,L,j[H+0],6,-198630844),L=z(L,Q,W,$,j[H+7],10,1126891415),$=z($,L,Q,W,j[H+14],15,-1416354905),W=z(W,$,L,Q,j[H+5],21,-57434055),Q=z(Q,W,$,L,j[H+12],6,1700485571),L=z(L,Q,W,$,j[H+3],10,-1894986606),$=z($,L,Q,W,j[H+10],15,-1051523),W=z(W,$,L,Q,j[H+1],21,-2054922799),Q=z(Q,W,$,L,j[H+8],6,1873313359),L=z(L,Q,W,$,j[H+15],10,-30611744),$=z($,L,Q,W,j[H+6],15,-1560198380),W=z(W,$,L,Q,j[H+13],21,1309151649),Q=z(Q,W,$,L,j[H+4],6,-145523070),L=z(L,Q,W,$,j[H+11],10,-1120210379),$=z($,L,Q,W,j[H+2],15,718787259),W=z(W,$,L,Q,j[H+9],21,-343485551),Q=Q+G>>>0,W=W+ae>>>0,$=$+Se>>>0,L=L+ce>>>0}return D.endian([Q,W,$,L])})._ff=function(X,N,j,se,Q,W,$){var L=X+(N&j|~N&se)+(Q>>>0)+$;return(L<<W|L>>>32-W)+N},V._gg=function(X,N,j,se,Q,W,$){var L=X+(N&se|j&~se)+(Q>>>0)+$;return(L<<W|L>>>32-W)+N},V._hh=function(X,N,j,se,Q,W,$){var L=X+(N^j^se)+(Q>>>0)+$;return(L<<W|L>>>32-W)+N},V._ii=function(X,N,j,se,Q,W,$){var L=X+(j^(N|~se))+(Q>>>0)+$;return(L<<W|L>>>32-W)+N},V._blocksize=16,V._digestsize=16,ke.exports=function(X,N){if(null==X)throw new Error("Illegal argument "+X);var j=D.wordsToBytes(V(X,N));return N&&N.asBytes?j:N&&N.asString?te.bytesToString(j):D.bytesToHex(j)}},5580:(ke,Le)=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var P=[];P[0]=function(){return function(){}},P[1]=function(te,V){return typeof V>"u"?te:function(N){te(N,V)}};var ee=function(){function te(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return te.prototype.addHandler=function(V,X){return this.isHandlerAttached(V,X)||(this._handlers.push(V),this._contexts.push(X),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.removeHandler=function(V,X){var N=this._getHandlerIndex(V,X);return typeof N<"u"&&(this._handlers.splice(N,1),this._contexts.splice(N,1),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.isHandlerAttached=function(V,X){return typeof this._getHandlerIndex(V,X)<"u"},te.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},te.prototype._getHandlerIndex=function(V,X){var j,N=this._handlers.length;for(j=0;j<N&&(this._handlers[j]!==V||this._contexts[j]!==X);j++);return j<N?j:void 0},te.prototype._createDispatcher=function(){this.dispatch=function D(te){return P[te]||(P[te]=function d(te){for(var V="return function dispatcher"+te+"(payload) {\n",X=[],N=[],j=0;j<te;j++)X.push("cb"+j),N.push("ctx"+j),V+="    cb"+j+"(payload, ctx"+j+");\n";return V+="};",new(Function.bind.apply(Function,[void 0].concat(X.concat(N),[V])))}(te)),P[te]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},te}();Le.default=ee},5861:(ke,Le,P)=>{"use strict";var d=P(5580);Le.j=d.default},2720:(ke,Le,P)=>{var D="function"==typeof Map&&Map.prototype,d=Object.getOwnPropertyDescriptor&&D?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ee=D&&d&&"function"==typeof d.get?d.get:null,te=D&&Map.prototype.forEach,V="function"==typeof Set&&Set.prototype,X=Object.getOwnPropertyDescriptor&&V?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,N=V&&X&&"function"==typeof X.get?X.get:null,j=V&&Set.prototype.forEach,Q="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,$="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,H="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Re=Boolean.prototype.valueOf,Pe=Object.prototype.toString,pe=Function.prototype.toString,z=String.prototype.match,G=String.prototype.slice,ae=String.prototype.replace,Se=String.prototype.toUpperCase,ce=String.prototype.toLowerCase,rt=RegExp.prototype.test,tt=Array.prototype.concat,he=Array.prototype.join,le=Array.prototype.slice,ze=Math.floor,qe="function"==typeof BigInt?BigInt.prototype.valueOf:null,$e=Object.getOwnPropertySymbols,M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,fe="function"==typeof Symbol&&"object"==typeof Symbol.iterator,pt="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Dt=Object.prototype.propertyIsEnumerable,Wt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(De){return De.__proto__}:null);function Ve(De,Ae){if(De===1/0||De===-1/0||De!=De||De&&De>-1e3&&De<1e3||rt.call(/e/,Ae))return Ae;var yn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof De){var Tt=De<0?-ze(-De):ze(De);if(Tt!==De){var un=String(Tt),Lt=G.call(Ae,un.length+1);return ae.call(un,yn,"$&_")+"."+ae.call(ae.call(Lt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ae.call(Ae,yn,"$&_")}var Ce=P(4654),We=Ce.custom,nt=ft(We)?We:null;function Nt(De,Ae,yn){var Tt="double"===(yn.quoteStyle||Ae)?'"':"'";return Tt+De+Tt}function Bt(De){return ae.call(String(De),/"/g,"&quot;")}function Fe(De){return!("[object Array]"!==Gt(De)||pt&&"object"==typeof De&&pt in De)}function Ct(De){return!("[object RegExp]"!==Gt(De)||pt&&"object"==typeof De&&pt in De)}function ft(De){if(fe)return De&&"object"==typeof De&&De instanceof Symbol;if("symbol"==typeof De)return!0;if(!De||"object"!=typeof De||!M)return!1;try{return M.call(De),!0}catch{}return!1}ke.exports=function De(Ae,yn,Tt,un){var Lt=yn||{};if(ln(Lt,"quoteStyle")&&"single"!==Lt.quoteStyle&&"double"!==Lt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ln(Lt,"maxStringLength")&&("number"==typeof Lt.maxStringLength?Lt.maxStringLength<0&&Lt.maxStringLength!==1/0:null!==Lt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Or=!ln(Lt,"customInspect")||Lt.customInspect;if("boolean"!=typeof Or&&"symbol"!==Or)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ln(Lt,"indent")&&null!==Lt.indent&&"\t"!==Lt.indent&&!(parseInt(Lt.indent,10)===Lt.indent&&Lt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ln(Lt,"numericSeparator")&&"boolean"!=typeof Lt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Tr=Lt.numericSeparator;if(typeof Ae>"u")return"undefined";if(null===Ae)return"null";if("boolean"==typeof Ae)return Ae?"true":"false";if("string"==typeof Ae)return ai(Ae,Lt);if("number"==typeof Ae){if(0===Ae)return 1/0/Ae>0?"0":"-0";var er=String(Ae);return Tr?Ve(Ae,er):er}if("bigint"==typeof Ae){var Kr=String(Ae)+"n";return Tr?Ve(Ae,Kr):Kr}var xo=typeof Lt.depth>"u"?5:Lt.depth;if(typeof Tt>"u"&&(Tt=0),Tt>=xo&&xo>0&&"object"==typeof Ae)return Fe(Ae)?"[Array]":"[Object]";var Er=function Xr(De,Ae){var yn;if("\t"===De.indent)yn="\t";else{if(!("number"==typeof De.indent&&De.indent>0))return null;yn=he.call(Array(De.indent+1)," ")}return{base:yn,prev:he.call(Array(Ae+1),yn)}}(Lt,Tt);if(typeof un>"u")un=[];else if(jn(un,Ae)>=0)return"[Circular]";function Ln(Cr,oo,or){if(oo&&(un=le.call(un)).push(oo),or){var Bo={depth:Lt.depth};return ln(Lt,"quoteStyle")&&(Bo.quoteStyle=Lt.quoteStyle),De(Cr,Bo,Tt+1,un)}return De(Cr,Lt,Tt+1,un)}if("function"==typeof Ae&&!Ct(Ae)){var Br=function Kn(De){if(De.name)return De.name;var Ae=z.call(pe.call(De),/^function\s*([\w$]+)/);return Ae?Ae[1]:null}(Ae),Vt=_o(Ae,Ln);return"[Function"+(Br?": "+Br:" (anonymous)")+"]"+(Vt.length>0?" { "+he.call(Vt,", ")+" }":"")}if(ft(Ae)){var nn=fe?ae.call(String(Ae),/^(Symbol\(.*\))_[^)]*$/,"$1"):M.call(Ae);return"object"!=typeof Ae||fe?nn:Yr(nn)}if(function No(De){return!(!De||"object"!=typeof De)&&(typeof HTMLElement<"u"&&De instanceof HTMLElement||"string"==typeof De.nodeName&&"function"==typeof De.getAttribute)}(Ae)){for(var rn="<"+ce.call(String(Ae.nodeName)),Fi=Ae.attributes||[],li=0;li<Fi.length;li++)rn+=" "+Fi[li].name+"="+Nt(Bt(Fi[li].value),"double",Lt);return rn+=">",Ae.childNodes&&Ae.childNodes.length&&(rn+="..."),rn+"</"+ce.call(String(Ae.nodeName))+">"}if(Fe(Ae)){if(0===Ae.length)return"[]";var Ni=_o(Ae,Ln);return Er&&!function jt(De){for(var Ae=0;Ae<De.length;Ae++)if(jn(De[Ae],"\n")>=0)return!1;return!0}(Ni)?"["+Lo(Ni,Er)+"]":"[ "+he.call(Ni,", ")+" ]"}if(function ht(De){return!("[object Error]"!==Gt(De)||pt&&"object"==typeof De&&pt in De)}(Ae)){var _i=_o(Ae,Ln);return"cause"in Error.prototype||!("cause"in Ae)||Dt.call(Ae,"cause")?0===_i.length?"["+String(Ae)+"]":"{ ["+String(Ae)+"] "+he.call(_i,", ")+" }":"{ ["+String(Ae)+"] "+he.call(tt.call("[cause]: "+Ln(Ae.cause),_i),", ")+" }"}if("object"==typeof Ae&&Or){if(nt&&"function"==typeof Ae[nt]&&Ce)return Ce(Ae,{depth:xo-Tt});if("symbol"!==Or&&"function"==typeof Ae.inspect)return Ae.inspect()}if(function rr(De){if(!ee||!De||"object"!=typeof De)return!1;try{ee.call(De);try{N.call(De)}catch{return!0}return De instanceof Map}catch{}return!1}(Ae)){var I=[];return te&&te.call(Ae,function(Cr,oo){I.push(Ln(oo,Ae,!0)+" => "+Ln(Cr,Ae))}),Xe("Map",ee.call(Ae),I,Er)}if(function vr(De){if(!N||!De||"object"!=typeof De)return!1;try{N.call(De);try{ee.call(De)}catch{return!0}return De instanceof Set}catch{}return!1}(Ae)){var k=[];return j&&j.call(Ae,function(Cr){k.push(Ln(Cr,Ae))}),Xe("Set",N.call(Ae),k,Er)}if(function Nn(De){if(!Q||!De||"object"!=typeof De)return!1;try{Q.call(De,Q);try{$.call(De,$)}catch{return!0}return De instanceof WeakMap}catch{}return!1}(Ae))return Go("WeakMap");if(function hr(De){if(!$||!De||"object"!=typeof De)return!1;try{$.call(De,$);try{Q.call(De,Q)}catch{return!0}return De instanceof WeakSet}catch{}return!1}(Ae))return Go("WeakSet");if(function Ho(De){if(!H||!De||"object"!=typeof De)return!1;try{return H.call(De),!0}catch{}return!1}(Ae))return Go("WeakRef");if(function Ye(De){return!("[object Number]"!==Gt(De)||pt&&"object"==typeof De&&pt in De)}(Ae))return Yr(Ln(Number(Ae)));if(function vt(De){if(!De||"object"!=typeof De||!qe)return!1;try{return qe.call(De),!0}catch{}return!1}(Ae))return Yr(Ln(qe.call(Ae)));if(function Ke(De){return!("[object Boolean]"!==Gt(De)||pt&&"object"==typeof De&&pt in De)}(Ae))return Yr(Re.call(Ae));if(function Ee(De){return!("[object String]"!==Gt(De)||pt&&"object"==typeof De&&pt in De)}(Ae))return Yr(Ln(String(Ae)));if(!function it(De){return!("[object Date]"!==Gt(De)||pt&&"object"==typeof De&&pt in De)}(Ae)&&!Ct(Ae)){var x=_o(Ae,Ln),ko=Wt?Wt(Ae)===Object.prototype:Ae instanceof Object||Ae.constructor===Object,ci=Ae instanceof Object?"":"null prototype",Gi=!ko&&pt&&Object(Ae)===Ae&&pt in Ae?G.call(Gt(Ae),8,-1):ci?"Object":"",cs=(ko||"function"!=typeof Ae.constructor?"":Ae.constructor.name?Ae.constructor.name+" ":"")+(Gi||ci?"["+he.call(tt.call([],Gi||[],ci||[]),": ")+"] ":"");return 0===x.length?cs+"{}":Er?cs+"{"+Lo(x,Er)+"}":cs+"{ "+he.call(x,", ")+" }"}return String(Ae)};var U=Object.prototype.hasOwnProperty||function(De){return De in this};function ln(De,Ae){return U.call(De,Ae)}function Gt(De){return Pe.call(De)}function jn(De,Ae){if(De.indexOf)return De.indexOf(Ae);for(var yn=0,Tt=De.length;yn<Tt;yn++)if(De[yn]===Ae)return yn;return-1}function ai(De,Ae){if(De.length>Ae.maxStringLength){var yn=De.length-Ae.maxStringLength,Tt="... "+yn+" more character"+(yn>1?"s":"");return ai(G.call(De,0,Ae.maxStringLength),Ae)+Tt}return Nt(ae.call(ae.call(De,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,go),"single",Ae)}function go(De){var Ae=De.charCodeAt(0),yn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ae];return yn?"\\"+yn:"\\x"+(Ae<16?"0":"")+Se.call(Ae.toString(16))}function Yr(De){return"Object("+De+")"}function Go(De){return De+" { ? }"}function Xe(De,Ae,yn,Tt){return De+" ("+Ae+") {"+(Tt?Lo(yn,Tt):he.call(yn,", "))+"}"}function Lo(De,Ae){if(0===De.length)return"";var yn="\n"+Ae.prev+Ae.base;return yn+he.call(De,","+yn)+"\n"+Ae.prev}function _o(De,Ae){var yn=Fe(De),Tt=[];if(yn){Tt.length=De.length;for(var un=0;un<De.length;un++)Tt[un]=ln(De,un)?Ae(De[un],De):""}var Or,Lt="function"==typeof $e?$e(De):[];if(fe){Or={};for(var Tr=0;Tr<Lt.length;Tr++)Or["$"+Lt[Tr]]=Lt[Tr]}for(var er in De)ln(De,er)&&(yn&&String(Number(er))===er&&er<De.length||fe&&Or["$"+er]instanceof Symbol||(rt.call(/[^\w$]/,er)?Tt.push(Ae(er,De)+": "+Ae(De[er],De)):Tt.push(er+": "+Ae(De[er],De))));if("function"==typeof $e)for(var Kr=0;Kr<Lt.length;Kr++)Dt.call(De,Lt[Kr])&&Tt.push("["+Ae(Lt[Kr])+"]: "+Ae(De[Lt[Kr]],De));return Tt}},5376:ke=>{"use strict";var Le=function(P){return P!=P};ke.exports=function(D,d){return 0===D&&0===d?1/D==1/d:!!(D===d||Le(D)&&Le(d))}},500:(ke,Le,P)=>{"use strict";var D=P(9567),d=P(1773),ee=P(5376),te=P(8204),V=P(2688),X=d(te(),Object);D(X,{getPolyfill:te,implementation:ee,shim:V}),ke.exports=X},8204:(ke,Le,P)=>{"use strict";var D=P(5376);ke.exports=function(){return"function"==typeof Object.is?Object.is:D}},2688:(ke,Le,P)=>{"use strict";var D=P(8204),d=P(9567);ke.exports=function(){var te=D();return d(Object,{is:te},{is:function(){return Object.is!==te}}),te}},1601:(ke,Le,P)=>{"use strict";var D;if(!Object.keys){var d=Object.prototype.hasOwnProperty,ee=Object.prototype.toString,te=P(6755),V=Object.prototype.propertyIsEnumerable,X=!V.call({toString:null},"toString"),N=V.call(function(){},"prototype"),j=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],se=function(L){var H=L.constructor;return H&&H.prototype===L},Q={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},W=function(){if(typeof window>"u")return!1;for(var L in window)try{if(!Q["$"+L]&&d.call(window,L)&&null!==window[L]&&"object"==typeof window[L])try{se(window[L])}catch{return!0}}catch{return!0}return!1}();D=function(H){var Re=null!==H&&"object"==typeof H,Pe="[object Function]"===ee.call(H),pe=te(H),z=Re&&"[object String]"===ee.call(H),G=[];if(!Re&&!Pe&&!pe)throw new TypeError("Object.keys called on a non-object");var ae=N&&Pe;if(z&&H.length>0&&!d.call(H,0))for(var Se=0;Se<H.length;++Se)G.push(String(Se));if(pe&&H.length>0)for(var ce=0;ce<H.length;++ce)G.push(String(ce));else for(var rt in H)(!ae||"prototype"!==rt)&&d.call(H,rt)&&G.push(String(rt));if(X)for(var tt=function(L){if(typeof window>"u"||!W)return se(L);try{return se(L)}catch{return!1}}(H),he=0;he<j.length;++he)(!tt||"constructor"!==j[he])&&d.call(H,j[he])&&G.push(j[he]);return G}}ke.exports=D},5692:(ke,Le,P)=>{"use strict";var D=Array.prototype.slice,d=P(6755),ee=Object.keys,te=ee?function(N){return ee(N)}:P(1601),V=Object.keys;te.shim=function(){if(Object.keys){var N=function(){var j=Object.keys(arguments);return j&&j.length===arguments.length}(1,2);N||(Object.keys=function(se){return d(se)?V(D.call(se)):V(se)})}else Object.keys=te;return Object.keys||te},ke.exports=te},6755:ke=>{"use strict";var Le=Object.prototype.toString;ke.exports=function(D){var d=Le.call(D),ee="[object Arguments]"===d;return ee||(ee="[object Array]"!==d&&null!==D&&"object"==typeof D&&"number"==typeof D.length&&D.length>=0&&"[object Function]"===Le.call(D.callee)),ee}},8032:(ke,Le,P)=>{"use strict";var D=P(5692),d=P(2759)(),ee=P(1491),te=Object,V=ee("Array.prototype.push"),X=ee("Object.prototype.propertyIsEnumerable"),N=d?Object.getOwnPropertySymbols:null;ke.exports=function(se,Q){if(null==se)throw new TypeError("target must be an object");var W=te(se);if(1===arguments.length)return W;for(var $=1;$<arguments.length;++$){var L=te(arguments[$]),H=D(L),Re=d&&(Object.getOwnPropertySymbols||N);if(Re)for(var Pe=Re(L),pe=0;pe<Pe.length;++pe){var z=Pe[pe];X(L,z)&&V(H,z)}for(var G=0;G<H.length;++G){var ae=H[G];X(L,ae)&&(W[ae]=L[ae])}}return W}},5747:(ke,Le,P)=>{"use strict";var D=P(9567),d=P(1773),ee=P(8032),te=P(9530),V=P(4096),X=d.apply(te()),N=function(se,Q){return X(Object,arguments)};D(N,{getPolyfill:te,implementation:ee,shim:V}),ke.exports=N},9530:(ke,Le,P)=>{"use strict";var D=P(8032);ke.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var te="abcdefghijklmnopqrst",V=te.split(""),X={},N=0;N<V.length;++N)X[V[N]]=V[N];var j=Object.assign({},X),se="";for(var Q in j)se+=Q;return te!==se}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var te=Object.preventExtensions({1:2});try{Object.assign(te,"xy")}catch{return"y"===te[1]}return!1}()?D:Object.assign}},4096:(ke,Le,P)=>{"use strict";var D=P(9567),d=P(9530);ke.exports=function(){var te=d();return D(Object,{assign:te},{assign:function(){return Object.assign!==te}}),te}},6716:(ke,Le)=>{"use strict";var P=Object.prototype.hasOwnProperty;function d(X){try{return decodeURIComponent(X.replace(/\+/g," "))}catch{return null}}function ee(X){try{return encodeURIComponent(X)}catch{return null}}Le.stringify=function V(X,N){N=N||"";var se,Q,j=[];for(Q in"string"!=typeof N&&(N="?"),X)if(P.call(X,Q)){if(!(se=X[Q])&&(null==se||isNaN(se))&&(se=""),Q=ee(Q),se=ee(se),null===Q||null===se)continue;j.push(Q+"="+se)}return j.length?N+j.join("&"):""},Le.parse=function te(X){for(var se,N=/([^=?#&]+)=?([^&]*)/g,j={};se=N.exec(X);){var Q=d(se[1]),W=d(se[2]);null===Q||null===W||Q in j||(j[Q]=W)}return j}},7732:(ke,Le,P)=>{"use strict";var D=P(7688).functionsHaveConfigurableNames(),d=Object,ee=TypeError;ke.exports=function(){if(null!=this&&this!==d(this))throw new ee("RegExp.prototype.flags getter called on non-object");var V="";return this.hasIndices&&(V+="d"),this.global&&(V+="g"),this.ignoreCase&&(V+="i"),this.multiline&&(V+="m"),this.dotAll&&(V+="s"),this.unicode&&(V+="u"),this.unicodeSets&&(V+="v"),this.sticky&&(V+="y"),V},D&&Object.defineProperty&&Object.defineProperty(ke.exports,"name",{value:"get flags"})},4300:(ke,Le,P)=>{"use strict";var D=P(9567),d=P(1773),ee=P(7732),te=P(5848),V=P(6472),X=d(te());D(X,{getPolyfill:te,implementation:ee,shim:V}),ke.exports=X},5848:(ke,Le,P)=>{"use strict";var D=P(7732),d=P(9567).supportsDescriptors,ee=Object.getOwnPropertyDescriptor;ke.exports=function(){if(d&&"gim"===/a/gim.flags){var V=ee(RegExp.prototype,"flags");if(V&&"function"==typeof V.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var X="",N={};if(Object.defineProperty(N,"hasIndices",{get:function(){X+="d"}}),Object.defineProperty(N,"sticky",{get:function(){X+="y"}}),"dy"===X)return V.get}}return D}},6472:(ke,Le,P)=>{"use strict";var D=P(9567).supportsDescriptors,d=P(5848),ee=Object.getOwnPropertyDescriptor,te=Object.defineProperty,V=TypeError,X=Object.getPrototypeOf,N=/a/;ke.exports=function(){if(!D||!X)throw new V("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var se=d(),Q=X(N),W=ee(Q,"flags");return(!W||W.get!==se)&&te(Q,"flags",{configurable:!0,enumerable:!1,get:se}),se}},716:ke=>{"use strict";ke.exports=function(P,D){if(D=D.split(":")[0],!(P=+P))return!1;switch(D){case"http":case"ws":return 80!==P;case"https":case"wss":return 443!==P;case"ftp":return 21!==P;case"gopher":return 70!==P;case"file":return!1}return 0!==P}},4355:(ke,Le,P)=>{"use strict";var D=P(3485),d=P(1491),ee=P(2720),te=D("%TypeError%"),V=D("%WeakMap%",!0),X=D("%Map%",!0),N=d("WeakMap.prototype.get",!0),j=d("WeakMap.prototype.set",!0),se=d("WeakMap.prototype.has",!0),Q=d("Map.prototype.get",!0),W=d("Map.prototype.set",!0),$=d("Map.prototype.has",!0),L=function(pe,z){for(var ae,G=pe;null!==(ae=G.next);G=ae)if(ae.key===z)return G.next=ae.next,ae.next=pe.next,pe.next=ae,ae};ke.exports=function(){var z,G,ae,Se={assert:function(ce){if(!Se.has(ce))throw new te("Side channel does not contain "+ee(ce))},get:function(ce){if(V&&ce&&("object"==typeof ce||"function"==typeof ce)){if(z)return N(z,ce)}else if(X){if(G)return Q(G,ce)}else if(ae)return function(pe,z){var G=L(pe,z);return G&&G.value}(ae,ce)},has:function(ce){if(V&&ce&&("object"==typeof ce||"function"==typeof ce)){if(z)return se(z,ce)}else if(X){if(G)return $(G,ce)}else if(ae)return function(pe,z){return!!L(pe,z)}(ae,ce);return!1},set:function(ce,rt){V&&ce&&("object"==typeof ce||"function"==typeof ce)?(z||(z=new V),j(z,ce,rt)):X?(G||(G=new X),W(G,ce,rt)):(ae||(ae={key:{},next:null}),function(pe,z,G){var ae=L(pe,z);ae?ae.value=G:pe.next={key:z,next:pe.next,value:G}}(ae,ce,rt))}};return Se}},118:(ke,Le,P)=>{"use strict";var D=P(2605),d=SyntaxError,ee="object"==typeof StopIteration?StopIteration:null;ke.exports=function(V){if(!ee)throw new d("this environment lacks StopIteration");D.set(V,"[[Done]]",!1);var X={next:function(){var j=D.get(this,"[[Iterator]]"),se=D.get(j,"[[Done]]");try{return{done:se,value:se?void 0:j.next()}}catch(Q){if(D.set(j,"[[Done]]",!0),Q!==ee)throw Q;return{done:!0,value:void 0}}}};return D.set(X,"[[Iterator]]",V),X}},6299:(ke,Le,P)=>{"use strict";var D=P(716),d=P(6716),ee=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,te=/[\n\r\t]/g,V=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,X=/:\d+$/,N=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,j=/^[a-zA-Z]:/;function se(G){return(G||"").toString().replace(ee,"")}var Q=[["#","hash"],["?","query"],function(ae,Se){return L(Se.protocol)?ae.replace(/\\/g,"/"):ae},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],W={hash:1,query:1};function $(G){var ae;ae=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tt,ce={},rt=typeof(G=G||ae.location||{});if("blob:"===G.protocol)ce=new Pe(unescape(G.pathname),{});else if("string"===rt)for(tt in ce=new Pe(G,{}),W)delete ce[tt];else if("object"===rt){for(tt in G)tt in W||(ce[tt]=G[tt]);void 0===ce.slashes&&(ce.slashes=V.test(G.href))}return ce}function L(G){return"file:"===G||"ftp:"===G||"http:"===G||"https:"===G||"ws:"===G||"wss:"===G}function H(G,ae){G=(G=se(G)).replace(te,""),ae=ae||{};var le,Se=N.exec(G),ce=Se[1]?Se[1].toLowerCase():"",rt=!!Se[2],tt=!!Se[3],he=0;return rt?tt?(le=Se[2]+Se[3]+Se[4],he=Se[2].length+Se[3].length):(le=Se[2]+Se[4],he=Se[2].length):tt?(le=Se[3]+Se[4],he=Se[3].length):le=Se[4],"file:"===ce?he>=2&&(le=le.slice(2)):L(ce)?le=Se[4]:ce?rt&&(le=le.slice(2)):he>=2&&L(ae.protocol)&&(le=Se[4]),{protocol:ce,slashes:rt||L(ce),slashesCount:he,rest:le}}function Pe(G,ae,Se){if(G=(G=se(G)).replace(te,""),!(this instanceof Pe))return new Pe(G,ae,Se);var ce,rt,tt,he,le,ze,qe=Q.slice(),$e=typeof ae,M=this,fe=0;for("object"!==$e&&"string"!==$e&&(Se=ae,ae=null),Se&&"function"!=typeof Se&&(Se=d.parse),ce=!(rt=H(G||"",ae=$(ae))).protocol&&!rt.slashes,M.slashes=rt.slashes||ce&&ae.slashes,M.protocol=rt.protocol||ae.protocol||"",G=rt.rest,("file:"===rt.protocol&&(2!==rt.slashesCount||j.test(G))||!rt.slashes&&(rt.protocol||rt.slashesCount<2||!L(M.protocol)))&&(qe[3]=[/(.*)/,"pathname"]);fe<qe.length;fe++)"function"!=typeof(he=qe[fe])?(ze=he[1],(tt=he[0])!=tt?M[ze]=G:"string"==typeof tt?~(le="@"===tt?G.lastIndexOf(tt):G.indexOf(tt))&&("number"==typeof he[2]?(M[ze]=G.slice(0,le),G=G.slice(le+he[2])):(M[ze]=G.slice(le),G=G.slice(0,le))):(le=tt.exec(G))&&(M[ze]=le[1],G=G.slice(0,le.index)),M[ze]=M[ze]||ce&&he[3]&&ae[ze]||"",he[4]&&(M[ze]=M[ze].toLowerCase())):G=he(G,M);Se&&(M.query=Se(M.query)),ce&&ae.slashes&&"/"!==M.pathname.charAt(0)&&(""!==M.pathname||""!==ae.pathname)&&(M.pathname=function Re(G,ae){if(""===G)return ae;for(var Se=(ae||"/").split("/").slice(0,-1).concat(G.split("/")),ce=Se.length,rt=Se[ce-1],tt=!1,he=0;ce--;)"."===Se[ce]?Se.splice(ce,1):".."===Se[ce]?(Se.splice(ce,1),he++):he&&(0===ce&&(tt=!0),Se.splice(ce,1),he--);return tt&&Se.unshift(""),("."===rt||".."===rt)&&Se.push(""),Se.join("/")}(M.pathname,ae.pathname)),"/"!==M.pathname.charAt(0)&&L(M.protocol)&&(M.pathname="/"+M.pathname),D(M.port,M.protocol)||(M.host=M.hostname,M.port=""),M.username=M.password="",M.auth&&(~(le=M.auth.indexOf(":"))?(M.username=M.auth.slice(0,le),M.username=encodeURIComponent(decodeURIComponent(M.username)),M.password=M.auth.slice(le+1),M.password=encodeURIComponent(decodeURIComponent(M.password))):M.username=encodeURIComponent(decodeURIComponent(M.auth)),M.auth=M.password?M.username+":"+M.password:M.username),M.origin="file:"!==M.protocol&&L(M.protocol)&&M.host?M.protocol+"//"+M.host:"null",M.href=M.toString()}Pe.prototype={set:function pe(G,ae,Se){var ce=this;switch(G){case"query":"string"==typeof ae&&ae.length&&(ae=(Se||d.parse)(ae)),ce[G]=ae;break;case"port":ce[G]=ae,D(ae,ce.protocol)?ae&&(ce.host=ce.hostname+":"+ae):(ce.host=ce.hostname,ce[G]="");break;case"hostname":ce[G]=ae,ce.port&&(ae+=":"+ce.port),ce.host=ae;break;case"host":ce[G]=ae,X.test(ae)?(ae=ae.split(":"),ce.port=ae.pop(),ce.hostname=ae.join(":")):(ce.hostname=ae,ce.port="");break;case"protocol":ce.protocol=ae.toLowerCase(),ce.slashes=!Se;break;case"pathname":case"hash":if(ae){var rt="pathname"===G?"/":"#";ce[G]=ae.charAt(0)!==rt?rt+ae:ae}else ce[G]=ae;break;case"username":case"password":ce[G]=encodeURIComponent(ae);break;case"auth":var tt=ae.indexOf(":");~tt?(ce.username=ae.slice(0,tt),ce.username=encodeURIComponent(decodeURIComponent(ce.username)),ce.password=ae.slice(tt+1),ce.password=encodeURIComponent(decodeURIComponent(ce.password))):ce.username=encodeURIComponent(decodeURIComponent(ae))}for(var he=0;he<Q.length;he++){var le=Q[he];le[4]&&(ce[le[1]]=ce[le[1]].toLowerCase())}return ce.auth=ce.password?ce.username+":"+ce.password:ce.username,ce.origin="file:"!==ce.protocol&&L(ce.protocol)&&ce.host?ce.protocol+"//"+ce.host:"null",ce.href=ce.toString(),ce},toString:function z(G){(!G||"function"!=typeof G)&&(G=d.stringify);var ae,Se=this,ce=Se.host,rt=Se.protocol;rt&&":"!==rt.charAt(rt.length-1)&&(rt+=":");var tt=rt+(Se.protocol&&Se.slashes||L(Se.protocol)?"//":"");return Se.username?(tt+=Se.username,Se.password&&(tt+=":"+Se.password),tt+="@"):Se.password?(tt+=":"+Se.password,tt+="@"):"file:"!==Se.protocol&&L(Se.protocol)&&!ce&&"/"!==Se.pathname&&(tt+="@"),(":"===ce[ce.length-1]||X.test(Se.hostname)&&!Se.port)&&(ce+=":"),tt+=ce+Se.pathname,(ae="object"==typeof Se.query?G(Se.query):Se.query)&&(tt+="?"!==ae.charAt(0)?"?"+ae:ae),Se.hash&&(tt+=Se.hash),tt}},Pe.extractProtocol=H,Pe.location=$,Pe.trimLeft=se,Pe.qs=d,ke.exports=Pe},8460:(ke,Le,P)=>{"use strict";var D=P(2706),d=P(9065),ee=P(2856),te=P(2630),V=P(7050);ke.exports=function(N){return null==N||"object"!=typeof N&&"function"!=typeof N?null:D(N)?"String":d(N)?"Number":ee(N)?"Boolean":te(N)?"Symbol":V(N)?"BigInt":void 0}},927:(ke,Le,P)=>{"use strict";var D=P(2418),d=P(1001),ee=P(1773),te=P(1491),V=P(6078),X=te("Object.prototype.toString"),N=P(6518)(),j=typeof globalThis>"u"?global:globalThis,se=d(),Q=te("String.prototype.slice"),W=Object.getPrototypeOf,$=te("Array.prototype.indexOf",!0)||function(pe,z){for(var G=0;G<pe.length;G+=1)if(pe[G]===z)return G;return-1},L={__proto__:null};D(se,N&&V&&W?function(Pe){var pe=new j[Pe];if(Symbol.toStringTag in pe){var z=W(pe),G=V(z,Symbol.toStringTag);if(!G){var ae=W(z);G=V(ae,Symbol.toStringTag)}L["$"+Pe]=ee(G.get)}}:function(Pe){var pe=new j[Pe];L["$"+Pe]=ee(pe.slice)}),ke.exports=function(pe){if(!pe||"object"!=typeof pe)return!1;if(!N){var z=Q(X(pe),8,-1);return $(se,z)>-1?z:"Object"===z&&function(pe){var z=!1;return D(L,function(G,ae){if(!z)try{G(pe),z=Q(ae,1)}catch{}}),z}(pe)}return V?function(pe){var z=!1;return D(L,function(G,ae){if(!z)try{"$"+G(pe)===ae&&(z=Q(ae,1))}catch{}}),z}(pe):null}},863:(ke,Le,P)=>{var D={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,7238,4969],"./ion-datetime_3.entry.js":[1835,7238,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[5922,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function d(ee){if(!P.o(D,ee))return Promise.resolve().then(()=>{var X=new Error("Cannot find module '"+ee+"'");throw X.code="MODULE_NOT_FOUND",X});var te=D[ee],V=te[0];return Promise.all(te.slice(1).map(P.e)).then(()=>P(V))}d.keys=()=>Object.keys(D),d.id=863,ke.exports=d},4654:()=>{},1001:ke=>{"use strict";var Le=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?global:globalThis;ke.exports=function(){for(var d=[],ee=0;ee<Le.length;ee++)"function"==typeof P[Le[ee]]&&(d[d.length]=Le[ee]);return d}},1324:(ke,Le,P)=>{"use strict";var D=P(1568),d=P(118);if(P(2337)()||P(2759)()){var ee=Symbol.iterator;ke.exports=function(le){return null!=le&&typeof le[ee]<"u"?le[ee]():D(le)?Array.prototype[ee].call(le):void 0}}else{var te=P(9604),V=P(2706),X=P(3485),N=X("%Map%",!0),j=X("%Set%",!0),se=P(1491),Q=se("Array.prototype.push"),W=se("String.prototype.charCodeAt"),$=se("String.prototype.slice"),H=function(le){var ze=0;return{next:function(){var M,$e=ze>=le.length;return $e||(M=le[ze],ze+=1),{done:$e,value:M}}}},Re=function(le,ze){if(te(le)||D(le))return H(le);if(V(le)){var qe=0;return{next:function(){var M=function(le,ze){if(ze+1>=le.length)return ze+1;var $e=W(le,ze);if($e<55296||$e>56319)return ze+1;var M=W(le,ze+1);return M<56320||M>57343?ze+1:ze+2}(le,qe),fe=$(le,qe,M);return qe=M,{done:M>le.length,value:fe}}}}return ze&&typeof le["_es6-shim iterator_"]<"u"?le["_es6-shim iterator_"]():void 0};if(N||j){var Pe=P(6128),pe=P(5918),z=se("Map.prototype.forEach",!0),G=se("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var ae=se("Map.prototype.iterator",!0),Se=se("Set.prototype.iterator",!0);var ce=se("Map.prototype.@@iterator",!0)||se("Map.prototype._es6-shim iterator_",!0),rt=se("Set.prototype.@@iterator",!0)||se("Set.prototype._es6-shim iterator_",!0);ke.exports=function(le){return function(le){if(Pe(le)){if(ae)return d(ae(le));if(ce)return ce(le);if(z){var ze=[];return z(le,function($e,M){Q(ze,[M,$e])}),H(ze)}}if(pe(le)){if(Se)return d(Se(le));if(rt)return rt(le);if(G){var qe=[];return G(le,function($e){Q(qe,$e)}),H(qe)}}}(le)||Re(le)}}else ke.exports=function(le){if(null!=le)return Re(le,!0)}}},9148:(ke,Le,P)=>{"use strict";var D=P(6128),d=P(5918),ee=P(1545),te=P(9043);ke.exports=function(X){if(X&&"object"==typeof X){if(D(X))return"Map";if(d(X))return"Set";if(ee(X))return"WeakMap";if(te(X))return"WeakSet"}return!1}},3918:(ke,Le,P)=>{"use strict";function D(ee,te,V,X,N,j,se){try{var Q=ee[j](se),W=Q.value}catch($){return void V($)}Q.done?te(W):Promise.resolve(W).then(X,N)}function d(ee){return function(){var te=this,V=arguments;return new Promise(function(X,N){var j=ee.apply(te,V);function se(W){D(j,X,N,se,Q,"next",W)}function Q(W){D(j,X,N,se,Q,"throw",W)}se(void 0)})}}P.d(Le,{Z:()=>d})}},ke=>{ke(ke.s=4370)}]);
//# sourceMappingURL=main.88bb7a1c4d0cd0b3.js.map