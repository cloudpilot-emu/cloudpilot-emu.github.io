(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{8448:(ve,De,C)=>{"use strict";let u=null,Y=1;function P(e){const t=u;return u=e,t}function A(e){if((!Ae(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Y)){if(!e.producerMustRecompute(e)&&!k(e))return e.dirty=!1,void(e.lastCleanEpoch=Y);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Y}}function k(e){Re(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(A(r),n!==r.version))return!0}return!1}function ae(e,t){if(function F(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Re(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)ae(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Re(o),o.producerIndexOfThis[n]=t}}function Ae(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Re(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Be=null;function xe(e){return"function"==typeof e}function _e(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const Te=_e(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Je(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class ot{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(xe(n))try{n()}catch(i){t=i instanceof Te?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{Vt(i)}catch(s){t=t??[],s instanceof Te?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Te(t)}}add(t){var r;if(t&&t!==this)if(this.closed)Vt(t);else{if(t instanceof ot){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Je(r,t)}remove(t){const{_finalizers:r}=this;r&&Je(r,t),t instanceof ot&&t._removeParent(this)}}ot.EMPTY=(()=>{const e=new ot;return e.closed=!0,e})();const qt=ot.EMPTY;function ln(e){return e instanceof ot||e&&"closed"in e&&xe(e.remove)&&xe(e.add)&&xe(e.unsubscribe)}function Vt(e){xe(e)?e():e.unsubscribe()}const cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bn={setTimeout(e,t,...r){const{delegate:n}=bn;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=bn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function mr(e){bn.setTimeout(()=>{const{onUnhandledError:t}=cn;if(!t)throw e;t(e)})}function Pn(){}const zo=Rr("C",void 0,void 0);function Rr(e,t,r){return{kind:e,value:t,error:r}}let Pr=null;function Kn(e){if(cn.useDeprecatedSynchronousErrorHandling){const t=!Pr;if(t&&(Pr={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=Pr;if(Pr=null,r)throw n}}else e()}class so extends ot{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ln(t)&&t.add(this)):this.destination=en}static create(t,r,n){return new we(t,r,n)}next(t){this.isStopped?_n(function po(e){return Rr("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?_n(function Vr(e){return Rr("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_n(zo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ho=Function.prototype.bind;function jr(e,t){return ho.call(e,t)}class de{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){nn(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){nn(n)}else nn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){nn(r)}}}class we extends so{constructor(t,r,n){let o;if(super(),xe(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&cn.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&jr(t.next,i),error:t.error&&jr(t.error,i),complete:t.complete&&jr(t.complete,i)}):o=t}this.destination=new de(o)}}function nn(e){cn.useDeprecatedSynchronousErrorHandling?function So(e){cn.useDeprecatedSynchronousErrorHandling&&Pr&&(Pr.errorThrown=!0,Pr.error=e)}(e):mr(e)}function _n(e,t){const{onStoppedNotification:r}=cn;r&&bn.setTimeout(()=>r(e,t))}const en={closed:!0,next:Pn,error:function Yt(e){throw e},complete:Pn},wr="function"==typeof Symbol&&Symbol.observable||"@@observable";function zn(e){return e}function mo(e){return 0===e.length?zn:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let In=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function Ii(e){return e&&e instanceof so||function lo(e){return e&&xe(e.next)&&xe(e.error)&&xe(e.complete)}(e)&&ln(e)}(r)?r:new we(r,n,o);return Kn(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=ao(n))((o,i)=>{const s=new we({next:a=>{try{r(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[wr](){return this}pipe(...r){return mo(r)(this)}toPromise(r){return new(r=ao(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function ao(e){var t;return null!==(t=e??cn.Promise)&&void 0!==t?t:Promise}const Po=_e(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let On=(()=>{class e extends In{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new gr(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Po}next(r){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?qt:(this.currentObservers=null,i.push(r),new ot(()=>{this.currentObservers=null,Je(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new In;return r.source=this,r}}return e.create=(t,r)=>new gr(t,r),e})();class gr extends On{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:qt}}function _r(e){return xe(e?.lift)}function xn(e){return t=>{if(_r(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ln(e,t,r,n,o){return new Wo(e,t,r,n,o)}class Wo extends so{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function un(e,t){return xn((r,n)=>{let o=0;r.subscribe(Ln(n,i=>{n.next(e.call(t,i,o++))}))})}function oe(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function wo(e){return this instanceof wo?(this.v=e,this):new wo(e)}function Tn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Mi(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ki=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function g(e){return xe(e?.then)}function w(e){return xe(e[wr])}function E(e){return Symbol.asyncIterator&&xe(e?.[Symbol.asyncIterator])}function ie(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ce=function ke(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Qe(e){return xe(e?.[ce])}function Ke(e){return function qo(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(m){n[m]&&(o[m]=function(b){return new Promise(function(j,ee){i.push([m,b,j,ee])>1||a(m,b)})})}function a(m,b){try{!function l(m){m.value instanceof wo?Promise.resolve(m.value.v).then(c,f):h(i[0][2],m)}(n[m](b))}catch(j){h(i[0][3],j)}}function c(m){a("next",m)}function f(m){a("throw",m)}function h(m,b){m(b),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield wo(r.read());if(o)return yield wo(void 0);yield yield wo(n)}}finally{r.releaseLock()}})}function nt(e){return xe(e?.getReader)}function Ve(e){if(e instanceof In)return e;if(null!=e){if(w(e))return function pt(e){return new In(t=>{const r=e[wr]();if(xe(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ki(e))return function Dt(e){return new In(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(g(e))return function X(e){return new In(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,mr)})}(e);if(E(e))return ur(e);if(Qe(e))return function kn(e){return new In(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(nt(e))return function Or(e){return ur(Ke(e))}(e)}throw ie(e)}function ur(e){return new In(t=>{(function Gr(e,t){var r,n,o,i;return function yi(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=Tn(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Xn(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function jn(e,t,r=1/0){return xe(t)?jn((n,o)=>un((i,s)=>t(n,i,o,s))(Ve(e(n,o))),r):("number"==typeof t&&(r=t),xn((n,o)=>function _s(e,t,r,n,o,i,s,a){const l=[];let c=0,f=0,h=!1;const m=()=>{h&&!l.length&&!c&&t.complete()},b=ee=>c<n?j(ee):l.push(ee),j=ee=>{i&&t.next(ee),c++;let he=!1;Ve(r(ee,f++)).subscribe(Ln(t,ye=>{o?.(ye),i?b(ye):t.next(ye)},()=>{he=!0},void 0,()=>{if(he)try{for(c--;l.length&&c<n;){const ye=l.shift();s?Xn(t,s,()=>j(ye)):j(ye)}m()}catch(ye){t.error(ye)}}))};return e.subscribe(Ln(t,b,()=>{h=!0,m()})),()=>{a?.()}}(n,o,e,r)))}function Oo(e=1/0){return jn(zn,e)}const Eo=new In(e=>e.complete());function ia(e){return e&&xe(e.schedule)}function js(e){return e[e.length-1]}function sa(e){return xe(js(e))?e.pop():void 0}function Qi(e){return ia(js(e))?e.pop():void 0}function aa(e,t=0){return xn((r,n)=>{r.subscribe(Ln(n,o=>Xn(n,e,()=>n.next(o),t),()=>Xn(n,e,()=>n.complete(),t),o=>Xn(n,e,()=>n.error(o),t)))})}function la(e,t=0){return xn((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function ca(e,t){if(!e)throw new Error("Iterable cannot be null");return new In(r=>{Xn(r,t,()=>{const n=e[Symbol.asyncIterator]();Xn(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function yr(e,t){return t?function Ba(e,t){if(null!=e){if(w(e))return function Oa(e,t){return Ve(e).pipe(la(t),aa(t))}(e,t);if(Ki(e))return function Na(e,t){return new In(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(g(e))return function Fa(e,t){return Ve(e).pipe(la(t),aa(t))}(e,t);if(E(e))return ca(e,t);if(Qe(e))return function La(e,t){return new In(r=>{let n;return Xn(r,t,()=>{n=e[ce](),Xn(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>xe(n?.return)&&n.return()})}(e,t);if(nt(e))return function $a(e,t){return ca(Ke(e),t)}(e,t)}throw ie(e)}(e,t):Ve(e)}function ua(...e){const t=Qi(e),r=function Pa(e,t){return"number"==typeof js(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?Ve(n[0]):Oo(r)(yr(n,t)):Eo}class co extends On{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Gt(...e){return yr(e,Qi(e))}function da(e={}){const{connector:t=(()=>new On),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,f=!1,h=!1;const m=()=>{a?.unsubscribe(),a=void 0},b=()=>{m(),s=l=void 0,f=h=!1},j=()=>{const ee=s;b(),ee?.unsubscribe()};return xn((ee,he)=>{c++,!h&&!f&&m();const ye=l=l??t();he.add(()=>{c--,0===c&&!h&&!f&&(a=Gs(j,o))}),ye.subscribe(he),!s&&c>0&&(s=new we({next:Ie=>ye.next(Ie),error:Ie=>{h=!0,m(),a=Gs(b,r,Ie),ye.error(Ie)},complete:()=>{f=!0,m(),a=Gs(b,n),ye.complete()}}),Ve(ee).subscribe(s))})(i)}}function Gs(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new we({next:()=>{n.unsubscribe(),e()}});return Ve(t(...r)).subscribe(n)}function Jr(e,t){return xn((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe(Ln(n,l=>{o?.unsubscribe();let c=0;const f=i++;Ve(e(l,f)).subscribe(o=Ln(n,h=>n.next(t?t(l,h,f,c++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Us(e,t=zn){return e=e??Va,xn((r,n)=>{let o,i=!0;r.subscribe(Ln(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function Va(e,t){return e===t}function Gn(e){for(let t in e)if(e[t]===Gn)return t;throw Error("Could not find renamed property on target object.")}function vs(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function br(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(br).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Hs(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ja=Gn({__forward_ref__:Gn});function Un(e){return e.__forward_ref__=Un,e.toString=function(){return br(this())},e}function zt(e){return ys(e)?e():e}function ys(e){return"function"==typeof e&&e.hasOwnProperty(ja)&&e.__forward_ref__===Un}function zs(e){return e&&!!e.\u0275providers}const fa="https://g.co/ng/security#xss";class Xe extends Error{constructor(t,r){super(function Ai(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}const Ji=Gn({\u0275cmp:Gn}),Ws=Gn({\u0275dir:Gn}),pa=Gn({\u0275pipe:Gn}),Ga=Gn({\u0275mod:Gn}),Yo=Gn({\u0275fac:Gn}),es=Gn({__NG_ELEMENT_ID__:Gn}),Ua=Gn({__NG_ENV_ID__:Gn});function Qt(e){return"string"==typeof e?e:null==e?"":String(e)}function Er(e,t){throw new Xe(-201,!1)}function vn(e,t){null==e&&function Ct(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function M(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function tt(e){return{providers:e.providers||[],imports:e.imports||[]}}function sn(e){return dn(e,rr)||dn(e,yn)}function dn(e,t){return e.hasOwnProperty(t)?e[t]:null}function $t(e){return e&&(e.hasOwnProperty(fr)||e.hasOwnProperty(At))?e[fr]:null}const rr=Gn({\u0275prov:Gn}),fr=Gn({\u0275inj:Gn}),yn=Gn({ngInjectableDef:Gn}),At=Gn({ngInjectorDef:Gn});var Nt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Nt||{});let Vn;function Ir(){return Vn}function hn(e){const t=Vn;return Vn=e,t}function qe(e,t,r){const n=sn(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Nt.Optional?null:void 0!==t?t:void Er(br(e))}const D=globalThis;class Me{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=M({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ga={},Wa="__NG_DI_FLAG__",lt="ngTempTokenPath",fi=/\n/gm,Za="__source";let _a;function va(e){const t=_a;return _a=e,t}function gh(e,t=Nt.Default){if(void 0===_a)throw new Xe(-203,!1);return null===_a?qe(e,void 0,t):_a.get(e,t&Nt.Optional?null:void 0,t)}function ue(e,t=Nt.Default){return(Ir()||gh)(zt(e),t)}function it(e,t=Nt.Default){return ue(e,Gc(t))}function Gc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Tu(e){const t=[];for(let r=0;r<e.length;r++){const n=zt(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Xe(900,!1);let o,i=Nt.Default;for(let s=0;s<n.length;s++){const a=n[s],l=_h(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(ue(o,i))}else t.push(ue(n))}return t}function nc(e,t){return e[Wa]=t,e.prototype[Wa]=t,e}function _h(e){return e[Wa]}function Zs(e){return{toString:e}.toString()}var Uc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Uc||{}),ts=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ts||{});const Cs={},Wn=[];function cf(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function Mu(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];df(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function uf(e){return 3===e||4===e||6===e}function df(e){return 64===e.charCodeAt(0)}function rc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||ff(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function ff(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const pf="ng-template";function bh(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==cf(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function hf(e){return 4===e.type&&e.value!==pf}function Ch(e,t,r){return t===(4!==e.type||r?e.value:pf)}function Sh(e,t,r){let n=4;const o=e.attrs||[],i=function Dh(e){for(let t=0;t<e.length;t++)if(uf(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!Ch(e,l,r)||""===l&&1===t.length){if(ns(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!bh(e.attrs,c,r)){if(ns(n))return!1;s=!0}continue}const h=wh(8&n?"class":l,o,hf(e),r);if(-1===h){if(ns(n))return!1;s=!0;continue}if(""!==c){let m;m=h>i?"":o[h+1].toLowerCase();const b=8&n?m:null;if(b&&-1!==cf(b,c,0)||2&n&&c!==m){if(ns(n))return!1;s=!0}}}}else{if(!s&&!ns(n)&&!ns(l))return!1;if(s&&ns(l))continue;s=!1,n=l|1&n}}return ns(n)||s}function ns(e){return 0==(1&e)}function wh(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function Ih(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function mf(e,t,r=!1){for(let n=0;n<t.length;n++)if(Sh(e,t[n],r))return!0;return!1}function xh(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function gf(e,t){return e?":not("+t.trim()+")":t}function Th(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!ns(s)&&(t+=gf(i,o),o=""),n=s,i=i||!ns(n);r++}return""!==o&&(t+=gf(i,o)),t}function Ze(e){return Zs(()=>{const t=Ph(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Uc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ts.Emulated,styles:e.styles||Wn,_:null,schemas:e.schemas||null,tView:null,id:""};$_(r);const n=e.dependencies;return r.directiveDefs=vf(n,!1),r.pipeDefs=vf(n,!0),r.id=function B_(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function kh(e){return Fn(e)||fo(e)}function Rh(e){return null!==e}function eo(e){return Zs(()=>({type:e.type,bootstrap:e.bootstrap||Wn,declarations:e.declarations||Wn,imports:e.imports||Wn,exports:e.exports||Wn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function _f(e,t){if(null==e)return Cs;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function Rt(e){return Zs(()=>{const t=Ph(e);return $_(t),t})}function Fo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Fn(e){return e[Ji]||null}function fo(e){return e[Ws]||null}function No(e){return e[pa]||null}function ii(e,t){const r=e[Ga]||null;if(!r&&!0===t)throw new Error(`Type ${br(e)} does not have '\u0275mod' property.`);return r}function Ph(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Cs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Wn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_f(e.inputs,t),outputs:_f(e.outputs),debugInfo:null}}function $_(e){e.features?.forEach(t=>t(e))}function vf(e,t){if(!e)return null;const r=t?No:kh;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(Rh)}const no=0,dt=1,Wt=2,an=3,xo=4,tn=5,Ss=6,oc=7,xr=8,pi=9,ic=10,ft=11,ro=12,or=13,Le=14,gn=15,$n=16,nr=17,Nr=18,Lo=19,hi=20,Lr=21,$r=22,Ut=23,Ht=25,Hr=1,d=7,W=9,Ee=10;var yt=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(yt||{});function jt(e){return Array.isArray(e)&&"object"==typeof e[Hr]}function Bt(e){return Array.isArray(e)&&!0===e[Hr]}function Sn(e){return 0!=(4&e.flags)}function Zn(e){return e.componentOffset>-1}function To(e){return 1==(1&e.flags)}function si(e){return!!e.template}function Ya(e){return 0!=(512&e[Wt])}function Wc(e,t){return e.hasOwnProperty(Yo)?e[Yo]:null}class aP{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ci(){return nS}function nS(e){return e.type.prototype.ngOnChanges&&(e.setInput=cP),lP}function lP(){const e=oS(this),t=e?.current;if(t){const r=e.previous;if(r===Cs)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function cP(e,t,r,n){const o=this.declaredInputs[r],i=oS(e)||function uP(e,t){return e[rS]=t}(e,{previous:Cs,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new aP(l&&l.currentValue,t,a===Cs),e[n]=t}Ci.ngInherit=!0;const rS="__ngSimpleChanges__";function oS(e){return e[rS]||null}const Ka=function(e,t,r){};function zr(e){for(;Array.isArray(e);)e=e[no];return e}function bf(e,t){return zr(t[e])}function Ri(e,t){return zr(t[e.index])}function Cf(e,t){return e.data[t]}function ku(e,t){return e[t]}function Es(e,t){const r=t[e];return jt(r)?r:r[no]}function G_(e){return 128==(128&e[Wt])}function Xa(e,t){return null==t?null:e[t]}function aS(e){e[nr]=0}function mP(e){1024&e[Wt]||(e[Wt]|=1024,G_(e)&&Fh(e))}function cS(e){return 9216&e[Wt]||e[Ut]?.dirty}function uS(e){cS(e)&&Fh(e)}function Fh(e){let t=e[an];for(;null!==t&&!(Bt(t)&&t[Wt]&yt.HasChildViewsToRefresh||jt(t)&&8192&t[Wt]);){if(Bt(t))t[Wt]|=yt.HasChildViewsToRefresh;else if(t[Wt]|=8192,!G_(t))break;t=t[an]}}function Nh(e,t){if(256==(256&e[Wt]))throw new Xe(911,!1);null===e[Lr]&&(e[Lr]=[]),e[Lr].push(t)}const pn={lFrame:bS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fS(){return pn.bindingsEnabled}function Ru(){return null!==pn.skipHydrationRootTNode}function ze(){return pn.lFrame.lView}function qn(){return pn.lFrame.tView}function It(e){return pn.lFrame.contextLView=e,e[xr]}function xt(e){return pn.lFrame.contextLView=null,e}function Mr(){let e=pS();for(;null!==e&&64===e.type;)e=e.parent;return e}function pS(){return pn.lFrame.currentTNode}function Qa(e,t){const r=pn.lFrame;r.currentTNode=e,r.isParent=t}function H_(){return pn.lFrame.isParent}function z_(){pn.lFrame.isParent=!1}function Pi(){const e=pn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function kl(){return pn.lFrame.bindingIndex}function Ja(){return pn.lFrame.bindingIndex++}function Rl(e){const t=pn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function IP(e,t){const r=pn.lFrame;r.bindingIndex=r.bindingRootIndex=e,W_(t)}function W_(e){pn.lFrame.currentDirectiveIndex=e}function _S(){return pn.lFrame.currentQueryIndex}function q_(e){pn.lFrame.currentQueryIndex=e}function TP(e){const t=e[dt];return 2===t.type?t.declTNode:1===t.type?e[tn]:null}function vS(e,t,r){if(r&Nt.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&Nt.Host||(o=TP(i),null===o||(i=i[Le],10&o.type))););if(null===o)return!1;t=o,e=i}const n=pn.lFrame=yS();return n.currentTNode=t,n.lView=e,!0}function Y_(e){const t=yS(),r=e[dt];pn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function yS(){const e=pn.lFrame,t=null===e?null:e.child;return null===t?bS(e):t}function bS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function CS(){const e=pn.lFrame;return pn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const SS=CS;function K_(){const e=CS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Si(){return pn.lFrame.selectedIndex}function Zc(e){pn.lFrame.selectedIndex=e}function to(){const e=pn.lFrame;return Cf(e.tView,e.selectedIndex)}let ES=!0;function Lh(){return ES}function lc(e){ES=e}function $h(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),null!=f&&(e.destroyHooks??=[]).push(r,f)}}function Bh(e,t,r){DS(e,t,3,r)}function Vh(e,t,r,n){(3&e[Wt])===r&&DS(e,t,r,n)}function X_(e,t){let r=e[Wt];(3&r)===t&&(r&=16383,r+=1,e[Wt]=r)}function DS(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&e[nr]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[nr]+=65536),(a<i||-1==i)&&(FP(e,r,t,l),e[nr]=(4294901760&e[nr])+l+2),l++}function IS(e,t){Ka(4,e,t);const r=P(null);try{t.call(e)}finally{P(r),Ka(5,e,t)}}function FP(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[Wt]>>14<e[nr]>>16&&(3&e[Wt])===t&&(e[Wt]+=16384,IS(a,i)):IS(a,i)}const Pu=-1;class wf{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function J_(e){return e!==Pu}function Ef(e){return 32767&e}function Df(e,t){let r=function VP(e){return e>>16}(e),n=t;for(;r>0;)n=n[Le],r--;return n}let ev=!0;function jh(e){const t=ev;return ev=e,t}const xS=255,TS=5;let jP=0;const el={};function Gh(e,t){const r=MS(e,t);if(-1!==r)return r;const n=t[dt];n.firstCreatePass&&(e.injectorIndex=t.length,tv(n.data,e),tv(t,null),tv(n.blueprint,null));const o=Uh(e,t),i=e.injectorIndex;if(J_(o)){const s=Ef(o),a=Df(o,t),l=a[dt].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function tv(e,t){e.push(0,0,0,0,0,0,0,0,t)}function MS(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Uh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=NS(o),null===n)return Pu;if(r++,o=o[Le],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return Pu}function nv(e,t,r){!function GP(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(es)&&(n=r[es]),null==n&&(n=r[es]=jP++);const o=n&xS;t.data[e+(o>>TS)]|=1<<o}(e,t,r)}function AS(e,t,r){if(r&Nt.Optional||void 0!==e)return e;Er()}function kS(e,t,r,n){if(r&Nt.Optional&&void 0===n&&(n=null),!(r&(Nt.Self|Nt.Host))){const o=e[pi],i=hn(void 0);try{return o?o.get(t,n,r&Nt.Optional):qe(t,n,r&Nt.Optional)}finally{hn(i)}}return AS(n,0,r)}function RS(e,t,r,n=Nt.Default,o){if(null!==e){if(2048&t[Wt]&&!(n&Nt.Self)){const s=function ZP(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[Wt]&&!(512&s[Wt]);){const a=PS(i,s,r,n|Nt.Self,el);if(a!==el)return a;let l=i.parent;if(!l){const c=s[hi];if(c){const f=c.get(r,el,n);if(f!==el)return f}l=NS(s),s=s[Le]}i=l}return o}(e,t,r,n,el);if(s!==el)return s}const i=PS(e,t,r,n,el);if(i!==el)return i}return kS(t,r,n,o)}function PS(e,t,r,n,o){const i=function zP(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(es)?e[es]:void 0;return"number"==typeof t?t>=0?t&xS:WP:t}(r);if("function"==typeof i){if(!vS(t,e,n))return n&Nt.Host?AS(o,0,n):kS(t,r,n,o);try{let s;if(s=i(n),null!=s||n&Nt.Optional)return s;Er()}finally{SS()}}else if("number"==typeof i){let s=null,a=MS(e,t),l=Pu,c=n&Nt.Host?t[gn][tn]:null;for((-1===a||n&Nt.SkipSelf)&&(l=-1===a?Uh(e,t):t[a+8],l!==Pu&&FS(n,!1)?(s=t[dt],a=Ef(l),t=Df(l,t)):a=-1);-1!==a;){const f=t[dt];if(OS(i,a,f.data)){const h=HP(a,t,r,s,n,c);if(h!==el)return h}l=t[a+8],l!==Pu&&FS(n,t[dt].data[a+8]===c)&&OS(i,a,t)?(s=f,a=Ef(l),t=Df(l,t)):a=-1}}return o}function HP(e,t,r,n,o,i){const s=t[dt],a=s.data[e+8],f=Hh(a,s,r,null==n?Zn(a)&&ev:n!=s&&0!=(3&a.type),o&Nt.Host&&i===a);return null!==f?qc(t,s,f,a):el}function Hh(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,f=i>>20,m=o?a+f:e.directiveEnd;for(let b=n?a:a+f;b<m;b++){const j=s[b];if(b<l&&r===j||b>=l&&j.type===r)return b}if(o){const b=s[l];if(b&&si(b)&&b.type===r)return l}return null}function qc(e,t,r,n){let o=e[r];const i=t.data;if(function NP(e){return e instanceof wf}(o)){const s=o;s.resolving&&function Il(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${e}${r}`)}(function Bn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Qt(e)}(i[r]));const a=jh(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?hn(s.injectImpl):null;vS(e,n,Nt.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function OP(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=nS(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==c&&hn(c),jh(a),s.resolving=!1,SS()}}return o}function OS(e,t,r){return!!(r[t+(e>>TS)]&1<<e)}function FS(e,t){return!(e&Nt.Self||e&Nt.Host&&t)}class Qo{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return RS(this._tNode,this._lView,t,Gc(n),r)}}function WP(){return new Qo(Mr(),ze())}function Wr(e){return Zs(()=>{const t=e.prototype.constructor,r=t[Yo]||rv(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[Yo]||rv(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function rv(e){return ys(e)?()=>{const t=rv(zt(e));return t&&t()}:Wc(e)}function NS(e){const t=e[dt],r=t.type;return 2===r?t.declTNode:1===r?e[tn]:null}function cc(e){return function UP(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(uf(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Mr(),e)}const Lu="__parameters__";function Bu(e,t,r){return Zs(()=>{const n=function ov(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,c,f){const h=l.hasOwnProperty(Lu)?l[Lu]:Object.defineProperty(l,Lu,{value:[]})[Lu];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function ju(e,t){e.forEach(r=>Array.isArray(r)?ju(r,t):t(r))}function $S(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function zh(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function xf(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function Ds(e,t,r){let n=Gu(e,t);return n>=0?e[1|n]=r:(n=~n,function BS(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function sv(e,t){const r=Gu(e,t);if(r>=0)return e[1|r]}function Gu(e,t){return function VS(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const Zh=nc(Bu("Optional"),8),qh=nc(Bu("SkipSelf"),4),Hu=new Me("ENVIRONMENT_INITIALIZER"),HS=new Me("INJECTOR",-1),cv=new Me("INJECTOR_DEF_TYPES");class Kh{get(t,r=ga){if(r===ga){const n=new Error(`NullInjectorError: No provider for ${br(t)}!`);throw n.name="NullInjectorError",n}return r}}function mO(...e){return{\u0275providers:zS(0,e),\u0275fromNgModule:!0}}function zS(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return ju(t,s=>{const a=s;Xh(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&WS(o,i),r}function WS(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];dv(o,i=>{t(i,n)})}}function Xh(e,t,r,n){if(!(e=zt(e)))return!1;let o=null,i=$t(e);const s=!i&&Fn(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=$t(l),!i)return!1;o=l}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Xh(c,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;n.add(o);try{ju(i.imports,f=>{Xh(f,t,r,n)&&(c||=[],c.push(f))})}finally{}void 0!==c&&WS(c,t)}if(!a){const c=Wc(o)||(()=>new o);t({provide:o,useFactory:c,deps:Wn},o),t({provide:cv,useValue:o,multi:!0},o),t({provide:Hu,useValue:()=>ue(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;dv(l,f=>{t(f,c)})}}}return o!==e&&void 0!==e.providers}function dv(e,t){for(let r of e)zs(r)&&(r=r.\u0275providers),Array.isArray(r)?dv(r,t):t(r)}const gO=Gn({provide:String,useValue:Gn});function fv(e){return null!==e&&"object"==typeof e&&gO in e}function Yc(e){return"function"==typeof e}const pv=new Me("Set Injector scope."),Qh={},vO={};let hv;function Jh(){return void 0===hv&&(hv=new Kh),hv}class ai{}class zu extends ai{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gv(t,s=>this.processProvider(s)),this.records.set(HS,Wu(void 0,this)),o.has("environment")&&this.records.set(ai,Wu(void 0,this));const i=this.records.get(pv);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(cv,Wn,Nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=va(this),n=hn(void 0);try{return t()}finally{va(r),hn(n)}}get(t,r=ga,n=Nt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ua))return t[Ua](this);n=Gc(n);const i=va(this),s=hn(void 0);try{if(!(n&Nt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function wO(e){return"function"==typeof e||"object"==typeof e&&e instanceof Me}(t)&&sn(t);l=c&&this.injectableDefInScope(c)?Wu(mv(t),Qh):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Nt.Self?Jh():this.parent).get(t,r=n&Nt.Optional&&r===ga?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[lt]=a[lt]||[]).unshift(br(t)),i)throw a;return function vh(e,t,r,n){const o=e[lt];throw t[Za]&&o.unshift(t[Za]),e.message=function yh(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=br(t);if(Array.isArray(t))o=t.map(br).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):br(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(fi,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[lt]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{hn(s),va(i)}}resolveInjectorInitializers(){const t=va(this),r=hn(void 0);try{const o=this.get(Hu,Wn,Nt.Self);for(const i of o)i()}finally{va(t),hn(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(br(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(t){let r=Yc(t=zt(t))?t:zt(t&&t.provide);const n=function bO(e){return fv(e)?Wu(void 0,e.useValue):Wu(YS(e),Qh)}(t);if(Yc(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Wu(void 0,Qh,!0),o.factory=()=>Tu(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===Qh&&(r.value=vO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function SO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=zt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function mv(e){const t=sn(e),r=null!==t?t.factory:Wc(e);if(null!==r)return r;if(e instanceof Me)throw new Xe(204,!1);if(e instanceof Function)return function yO(e){const t=e.length;if(t>0)throw xf(t,"?"),new Xe(204,!1);const r=function Jn(e){return e&&(e[rr]||e[yn])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Xe(204,!1)}function YS(e,t,r){let n;if(Yc(e)){const o=zt(e);return Wc(o)||mv(o)}if(fv(e))n=()=>zt(e.useValue);else if(function qS(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Tu(e.deps||[]));else if(function ZS(e){return!(!e||!e.useExisting)}(e))n=()=>ue(zt(e.useExisting));else{const o=zt(e&&(e.useClass||e.provide));if(!function CO(e){return!!e.deps}(e))return Wc(o)||mv(o);n=()=>new o(...Tu(e.deps))}return n}function Wu(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function gv(e,t){for(const r of e)Array.isArray(r)?gv(r,t):r&&zs(r)?gv(r.\u0275providers,t):t(r)}function uc(e,t){e instanceof zu&&e.assertNotDestroyed();const n=va(e),o=hn(void 0);try{return t()}finally{va(n),hn(o)}}function JS(e,t=null,r=null,n){const o=ew(e,t,r,n);return o.resolveInjectorInitializers(),o}function ew(e,t=null,r=null,n,o=new Set){const i=[r||Wn,mO(e)];return n=n||("object"==typeof e?void 0:br(e)),new zu(i,t||Jh(),n||null,o)}let yv,Zr=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return JS({name:""},o,n,"");{const i=n.name??"";return JS({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=ga,e.NULL=new Kh,e.\u0275prov=M({token:e,providedIn:"any",factory:()=>ue(HS)}),e.__NG_ELEMENT_ID__=-1,t})();const tm=new Me("AppId",{providedIn:"root",factory:()=>RO}),RO="ng",nw=new Me("Platform Initializer"),pc=new Me("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rw=new Me("CSP nonce",{providedIn:"root",factory:()=>function fc(){if(void 0!==yv)return yv;if(typeof document<"u")return document;throw new Xe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Is(e){return e instanceof Function?e():e}function im(e){return 128==(128&e.flags)}var gc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(gc||{});const GO=/^>|^->|<!--|-->|--!>|<!-$/g,UO=/(<|>)/g,HO="\u200b$1\u200b";const Ev=new Map;let zO=0;const Iv="__ngContext__";function wi(e,t){jt(t)?(e[Iv]=t[Lo],function ZO(e){Ev.set(e[Lo],e)}(t)):e[Iv]=t}let xv;function Tv(e,t){return xv(e,t)}function Pf(e){const t=e[an];return Bt(t)?t[an]:t}function Cw(e){return ww(e[ro])}function Sw(e){return ww(e[xo])}function ww(e){for(;null!==e&&!Bt(e);)e=e[xo];return e}function qu(e,t,r,n,o){if(null!=n){let i,s=!1;Bt(n)?i=n:jt(n)&&(s=!0,n=n[no]);const a=zr(n);0===e&&null!==r?null==o?xw(t,r,a):Kc(t,r,a,o||null,!0):1===e&&null!==r?Kc(t,r,a,o||null,!0):2===e?function fm(e,t,r){const n=um(e,t);n&&function f2(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function m2(e,t,r,n,o){const i=r[d];i!==zr(r)&&qu(t,e,n,i,o);for(let a=Ee;a<r.length;a++){const l=r[a];Nf(l[dt],l,e,t,n,i)}}(t,e,i,r,o)}}function Mv(e,t){return e.createComment(function pw(e){return e.replace(GO,t=>t.replace(UO,HO))}(t))}function lm(e,t,r){return e.createElement(t,r)}function Dw(e,t){const r=e[W],n=r.indexOf(t);r.splice(n,1)}function Of(e,t){if(e.length<=Ee)return;const r=Ee+t,n=e[r];if(n){const o=n[$n];null!==o&&o!==e&&Dw(o,n),t>0&&(e[r-1][xo]=n[xo]);const i=zh(e,Ee+t);!function o2(e,t){Nf(e,t,t[ft],2,null,null),t[no]=null,t[tn]=null}(n[dt],n);const s=i[Nr];null!==s&&s.detachView(i[dt]),n[an]=null,n[xo]=null,n[Wt]&=-129}return n}function cm(e,t){if(!(256&t[Wt])){const r=t[ft];r.destroyNode&&Nf(e,t,r,3,null,null),function a2(e){let t=e[ro];if(!t)return Av(e[dt],e);for(;t;){let r=null;if(jt(t))r=t[ro];else{const n=t[Ee];n&&(r=n)}if(!r){for(;t&&!t[xo]&&t!==e;)jt(t)&&Av(t[dt],t),t=t[an];null===t&&(t=e),jt(t)&&Av(t[dt],t),r=t&&t[xo]}t=r}}(t)}}function Av(e,t){if(!(256&t[Wt])){t[Wt]&=-129,t[Wt]|=256,t[Ut]&&function te(e){if(Re(e),Ae(e))for(let t=0;t<e.producerNode.length;t++)ae(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Ut]),function d2(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof wf)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Ka(4,a,l);try{l.call(a)}finally{Ka(5,a,l)}}else{Ka(4,o,i);try{i.call(o)}finally{Ka(5,o,i)}}}}}(e,t),function u2(e,t){const r=e.cleanup,n=t[oc];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[oc]=null);const o=t[Lr];if(null!==o){t[Lr]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[dt].type&&t[ft].destroy();const r=t[$n];if(null!==r&&Bt(t[an])){r!==t[an]&&Dw(r,t);const n=t[Nr];null!==n&&n.detachView(e)}!function qO(e){Ev.delete(e[Lo])}(t)}}function kv(e,t,r){return function Iw(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[no];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===ts.None||i===ts.Emulated)return null}return Ri(n,r)}}(e,t.parent,r)}function Kc(e,t,r,n,o){e.insertBefore(t,r,n,o)}function xw(e,t,r){e.appendChild(t,r)}function Tw(e,t,r,n,o){null!==n?Kc(e,t,r,n,o):xw(e,t,r)}function um(e,t){return e.parentNode(t)}function Mw(e,t,r){return kw(e,t,r)}let Rv,pm,kw=function Aw(e,t,r){return 40&e.type?Ri(e,r):null};function dm(e,t,r,n){const o=kv(e,n,t),i=t[ft],a=Mw(n.parent||t[tn],n,t);if(null!=o)if(Array.isArray(r))for(let l=0;l<r.length;l++)Tw(i,o,r[l],a,!1);else Tw(i,o,r,a,!1);void 0!==Rv&&Rv(i,n,t,r,o)}function Ff(e,t){if(null!==t){const r=t.type;if(3&r)return Ri(t,e);if(4&r)return Pv(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return Ff(e,n);{const o=e[t.index];return Bt(o)?Pv(-1,o):zr(o)}}if(32&r)return Tv(t,e)()||zr(e[t.index]);{const n=Pw(e,t);return null!==n?Array.isArray(n)?n[0]:Ff(Pf(e[gn]),n):Ff(e,t.next)}}return null}function Pw(e,t){return null!==t?e[gn][tn].projection[t.projection]:null}function Pv(e,t){const r=Ee+e+1;if(r<t.length){const n=t[r],o=n[dt].firstChild;if(null!==o)return Ff(n,o)}return t[d]}function Ov(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&wi(zr(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)Ov(e,t,r.child,n,o,i,!1),qu(t,e,o,a,i);else if(32&l){const c=Tv(r,n);let f;for(;f=c();)qu(t,e,o,f,i);qu(t,e,o,a,i)}else 16&l?Fw(e,t,n,r,o,i):qu(t,e,o,a,i);r=s?r.projectionNext:r.next}}function Nf(e,t,r,n,o,i){Ov(r,n,e.firstChild,t,o,i,!1)}function Fw(e,t,r,n,o,i){const s=r[gn],l=s[tn].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)qu(t,e,o,l[c],i);else{let c=l;const f=s[an];im(n)&&(c.flags|=128),Ov(e,t,c,f,o,i,!0)}}function Nw(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Lw(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&Mu(e,t,n),null!==o&&Nw(e,t,o),null!==i&&function _2(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function Yu(e){return function Fv(){if(void 0===pm&&(pm=null,D.trustedTypes))try{pm=D.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return pm}()?.createHTML(e)||e}class Xc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fa})`}}class C2 extends Xc{getTypeName(){return"HTML"}}class S2 extends Xc{getTypeName(){return"Style"}}class w2 extends Xc{getTypeName(){return"Script"}}class E2 extends Xc{getTypeName(){return"URL"}}class D2 extends Xc{getTypeName(){return"ResourceURL"}}function xs(e){return e instanceof Xc?e.changingThisBreaksApplicationSecurity:e}function tl(e,t){const r=function I2(e){return e instanceof Xc&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${fa})`)}return r===t}class R2{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Yu(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class P2{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Yu(t),r}}const F2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mm(e){return(e=String(e)).match(F2)?e:"unsafe:"+e}function Pl(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Lf(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const Gw=Pl("area,br,col,hr,img,wbr"),Uw=Pl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hw=Pl("rp,rt"),Lv=Lf(Gw,Lf(Uw,Pl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lf(Hw,Pl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lf(Hw,Uw)),$v=Pl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zw=Lf($v,Pl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),N2=Pl("script,style,template");class L2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!Lv.hasOwnProperty(r))return this.sanitizedSomething=!0,!N2.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!zw.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;$v[a]&&(l=mm(l)),this.buf.push(" ",s,'="',Ww(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();Lv.hasOwnProperty(r)&&!Gw.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(Ww(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const $2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,B2=/([^\#-~ |!])/g;function Ww(e){return e.replace(/&/g,"&amp;").replace($2,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(B2,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gm;function Zw(e,t){let r=null;try{gm=gm||function jw(e){const t=new P2(e);return function O2(){try{return!!(new window.DOMParser).parseFromString(Yu(""),"text/html")}catch{return!1}}()?new R2(t):t}(e);let n=t?String(t):"";r=gm.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=gm.getInertBodyElement(n)}while(n!==i);return Yu((new L2).sanitizeChildren(Bv(r)||r))}finally{if(r){const n=Bv(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Bv(e){return"content"in e&&function V2(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ts=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ts||{});let Xw=(e,t,r)=>null;function Zv(e,t,r=!1){return Xw(e,t,r)}class tF{}class eE{}class rF{resolveComponentFactory(t){throw function nF(e){const t=Error(`No component factory found for ${br(e)}.`);return t.ngComponent=e,t}(t)}}let Sm=(()=>{class t{}return t.NULL=new rF,t})();function oF(){return Qu(Mr(),ze())}function Qu(e,t){return new rt(Ri(e,t))}let rt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=oF,t})();function iF(e){return e instanceof rt?e.nativeElement:e}class nE{}let Ol=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function sF(){const e=ze(),r=Es(Mr().index,e);return(jt(r)?r:e)[ft]}(),t})(),aF=(()=>{var e;class t{}return(e=t).\u0275prov=M({token:e,providedIn:"root",factory:()=>null}),t})();class jf{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const lF=new jf("17.0.7"),Kv={};function rE(e){const t=P(null);try{return e()}finally{P(t)}}function wm(e){return!!function Xv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class oE{constructor(){}supports(t){return wm(t)}create(t){return new pF(t)}}const fF=(e,t)=>t;class pF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fF}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<sE(n,o,i)?r:n,a=sE(s,o,i),l=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,f=l-o;if(c!=f){for(let m=0;m<c;m++){const b=m<i.length?i[m]:i[m]=0,j=b+m;f<=j&&j<c&&(i[m]=b+1)}i[s.previousIndex]=f-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!wm(t))throw new Xe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function dF(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new hF(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new iE),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class hF{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class iE{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new mF,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sE(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function lE(){return new Em([new oE])}let Em=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||lE()),deps:[[t,new qh,new Zh]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new Xe(901,!1)}}return(e=t).\u0275prov=M({token:e,providedIn:"root",factory:lE}),t})();function Uf(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];null!==i&&n.push(zr(i)),Bt(i)&&uE(i,n);const s=r.type;if(8&s)Uf(e,t,r.child,n);else if(32&s){const a=Tv(r,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=Pw(t,r);if(Array.isArray(a))n.push(...a);else{const l=Pf(t[gn]);Uf(l[dt],l,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function uE(e,t){for(let r=Ee;r<e.length;r++){const n=e[r],o=n[dt].firstChild;null!==o&&Uf(n[dt],n,o,t)}e[d]!==e[no]&&t.push(e[d])}let dE=[];const SF={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Fh(e.lView)},consumerOnSignalRead(){this.lView[Ut]=this}};function Qv(e){return e.ngOriginalError}class Fl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Qv(t);for(;r&&Qv(r);)r=Qv(r);return r||null}}const pE=new Me("",{providedIn:"root",factory:()=>it(Fl).handleError.bind(void 0)}),mE=new Me("",{providedIn:"root",factory:()=>!1}),En={};function ge(e){yE(qn(),ze(),Si()+e,!1)}function yE(e,t,r,n){if(!n)if(3==(3&t[Wt])){const i=e.preOrderCheckHooks;null!==i&&Bh(t,i,r)}else{const i=e.preOrderHooks;null!==i&&Vh(t,i,0,r)}Zc(r)}function v(e,t=Nt.Default){const r=ze();return null===r?ue(e,t):RS(Mr(),r,zt(e),t)}function Im(e,t,r,n,o,i,s,a,l,c,f){const h=t.blueprint.slice();return h[no]=o,h[Wt]=140|n,(null!==c||e&&2048&e[Wt])&&(h[Wt]|=2048),aS(h),h[an]=h[Le]=e,h[xr]=r,h[ic]=s||e&&e[ic],h[ft]=a||e&&e[ft],h[pi]=l||e&&e[pi]||null,h[tn]=i,h[Lo]=function WO(){return zO++}(),h[Ss]=f,h[hi]=c,h[gn]=2==t.type?e[gn]:h,h}function Ju(e,t,r,n,o){let i=e.data[t];if(null===i)i=function Jv(e,t,r,n,o){const i=pS(),s=H_(),l=e.data[t]=function FF(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return Ru()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(e,t,r,n,o),function DP(){return pn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function Sf(){const e=pn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Qa(i,!0),i}function Hf(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function CE(e,t,r,n,o){const i=Si(),s=2&n;try{Zc(-1),s&&t.length>Ht&&yE(e,t,Ht,!1),Ka(s?2:0,o),r(n,o)}finally{Zc(i),Ka(s?3:1,o)}}function ey(e,t,r){if(Sn(t)){const n=P(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{P(n)}}}function ty(e,t,r){fS()&&(function GF(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;Zn(r)&&function YF(e,t,r){const n=Ri(t,e),o=SE(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=xm(e,Im(e,o,null,s,n,t,null,e[ic].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||Gh(r,t),wi(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],c=qc(t,e,a,r);wi(c,t),null!==s&&KF(0,a-o,c,l,0,s),si(l)&&(Es(r.index,t)[xr]=qc(t,e,a,r))}}(e,t,r,Ri(r,t)),64==(64&r.flags)&&xE(e,t,r))}function ny(e,t,r=Ri){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function SE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ry(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ry(e,t,r,n,o,i,s,a,l,c,f){const h=Ht+n,m=h+o,b=function MF(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:En);return r}(h,m),j="function"==typeof c?c():c;return b[dt]={type:e,blueprint:b,template:r,queries:null,viewQuery:a,declTNode:t,data:b.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:j,incompleteFirstPass:!1,ssrId:f}}let wE=e=>null;function EE(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?DE(r,t,o,i):n.hasOwnProperty(o)&&DE(r,t,n[o],i)}return r}function DE(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function Ms(e,t,r,n,o,i,s,a){const l=Ri(t,r);let f,c=t.inputs;!a&&null!=c&&(f=c[n])?(ly(e,r,f,n,o),Zn(t)&&function $F(e,t){const r=Es(t,e);16&r[Wt]||(r[Wt]|=64)}(r,t.index)):3&t.type&&(n=function LF(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(l,n,o))}function oy(e,t,r,n){if(fS()){const o=null===n?null:{"":-1},i=function HF(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if(mf(t,s.selectors,!1))if(n||(n=[]),si(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),iy(e,t,a.length)}else n.unshift(s),iy(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&IE(e,t,r,s,o,a),o&&function zF(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new Xe(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=rc(r.mergedAttrs,r.attrs)}function IE(e,t,r,n,o,i){for(let c=0;c<n.length;c++)nv(Gh(r,t),e,n[c].type);!function ZF(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let c=0;c<n.length;c++){const f=n[c];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=Hf(e,t,n.length,null);for(let c=0;c<n.length;c++){const f=n[c];r.mergedAttrs=rc(r.mergedAttrs,f.hostAttrs),qF(e,r,t,l,f),WF(l,f,o),null!==f.contentQueries&&(r.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(r.flags|=64);const h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function NF(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,c=null;for(let f=t.directiveStart;f<o;f++){const h=i[f],m=r?r.get(h):null,j=m?m.outputs:null;l=EE(h.inputs,f,l,m?m.inputs:null),c=EE(h.outputs,f,c,j);const ee=null===l||null===s||hf(t)?null:XF(l,f,s);a.push(ee)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,r,i)}function xE(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function xP(){return pn.lFrame.currentDirectiveIndex}();try{Zc(i);for(let a=n;a<o;a++){const l=e.data[a],c=t[a];W_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&UF(l,c)}}finally{Zc(-1),W_(s)}}function UF(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function iy(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function WF(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;si(t)&&(r[""]=e)}}function qF(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=Wc(o.type)),s=new wf(i,si(o),v);e.blueprint[n]=s,r[n]=s,function VF(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function jF(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,Hf(e,r,o.hostVars,En),o)}function nl(e,t,r,n,o,i){const s=Ri(e,t);!function sy(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?Qt(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[ft],s,i,e.value,r,n,o)}function KF(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)TE(n,r,s[a++],s[a++],s[a++])}function TE(e,t,r,n,o){const i=P(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{P(i)}}function XF(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function ME(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function AE(e,t){const r=e.contentQueries;if(null!==r){const n=P(null);try{for(let o=0;o<r.length;o+=2){const s=r[o+1];if(-1!==s){const a=e.data[s];q_(r[o]),a.contentQueries(2,t[s],s)}}}finally{P(n)}}}function xm(e,t){return e[ro]?e[or][xo]=t:e[ro]=t,e[or]=t,t}function ay(e,t,r){q_(0);const n=P(null);try{t(e,r)}finally{P(n)}}function kE(e){return e[oc]||(e[oc]=[])}function RE(e){return e.cleanup||(e.cleanup=[])}function Tm(e,t){const r=e[pi],n=r?r.get(Fl,null):null;n&&n.handleError(t)}function ly(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];TE(e.data[s],t[s],n,a,o)}}function Nl(e,t,r){const n=bf(t,e);!function Ew(e,t,r){e.setValue(t,r)}(e[ft],n,r)}function eN(e,t,r,n){const o=t[Wt];if(256==(256&o))return;t[ic].inlineEffectRunner?.flush(),Y_(t);let s=null,a=null;(function tN(e){return 2!==e.type})(e)&&(a=function yF(e){return e[Ut]??function bF(e){const t=dE.pop()??Object.create(SF);return t.lView=e,t}(e)}(t),s=function se(e){return e&&(e.nextProducerIndex=0),P(e)}(a));try{aS(t),function mS(e){return pn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&CE(e,t,r,2,n);const l=3==(3&o);if(l){const h=e.preOrderCheckHooks;null!==h&&Bh(t,h,null)}else{const h=e.preOrderHooks;null!==h&&Vh(t,h,0,null),X_(t,0)}if(function nN(e){for(let t=Cw(e);null!==t;t=Sw(t)){if(!(t[Wt]&yt.HasTransplantedViews))continue;const r=t[W];for(let n=0;n<r.length;n++){mP(r[n])}}}(t),OE(t,0),null!==e.contentQueries&&AE(e,t),l){const h=e.contentCheckHooks;null!==h&&Bh(t,h)}else{const h=e.contentHooks;null!==h&&Vh(t,h,1),X_(t,1)}!function TF(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const o=r[n];if(o<0)Zc(~o);else{const i=o,s=r[++n],a=r[++n];IP(s,i),a(2,t[i])}}}finally{Zc(-1)}}(e,t);const c=e.components;null!==c&&NE(t,c,0);const f=e.viewQuery;if(null!==f&&ay(2,f,n),l){const h=e.viewCheckHooks;null!==h&&Bh(t,h)}else{const h=e.viewHooks;null!==h&&Vh(t,h,2),X_(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[$r]){for(const h of t[$r])h();t[$r]=null}t[Wt]&=-73}catch(l){throw Fh(t),l}finally{null!==a&&(function H(e,t){if(P(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ae(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ae(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function CF(e){e.lView[Ut]!==e&&(e.lView=null,dE.push(e))}(a)),K_()}}function OE(e,t){for(let r=Cw(e);null!==r;r=Sw(r)){r[Wt]&=~yt.HasChildViewsToRefresh;for(let n=Ee;n<r.length;n++)FE(r[n],t)}}function rN(e,t,r){FE(Es(t,e),r)}function FE(e,t){G_(e)&&uy(e,t)}function uy(e,t){const n=e[dt],o=e[Wt],i=e[Ut];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!k(i)),i&&(i.dirty=!1),e[Wt]&=-9217,s)eN(n,e,n.template,e[xr]);else if(8192&o){OE(e,1);const a=n.components;null!==a&&NE(e,a,1)}}function NE(e,t,r){for(let n=0;n<t.length;n++)rN(e,t[n],r)}function zf(e){for(;e;){e[Wt]|=64;const t=Pf(e);if(Ya(e)&&!t)return e;e=t}return null}class Wf{get rootNodes(){const t=this._lView,r=t[dt];return Uf(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xr]}set context(t){this._lView[xr]=t}get destroyed(){return 256==(256&this._lView[Wt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[an];if(Bt(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(Of(t,n),zh(r,n))}this._attachedToViewContainer=!1}cm(this._lView[dt],this._lView)}onDestroy(t){Nh(this._lView,t)}markForCheck(){zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wt]&=-129}reattach(){uS(this._lView),this._lView[Wt]|=128}detectChanges(){this._lView[Wt]|=1024,function cy(e,t=!0){const r=e[ic],n=r.rendererFactory,o=r.afterRenderEventManager;n.begin?.(),o?.begin();try{!function JF(e){uy(e,0);let t=0;for(;cS(e);){if(100===t)throw new Xe(103,!1);t++,uy(e,1)}}(e)}catch(s){throw t&&Tm(e,s),s}finally{n.end?.(),r.inlineEffectRunner?.flush(),o?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function s2(e,t){Nf(e,t,t[ft],2,null,null)}(this._lView[dt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=t}}let ct=(()=>{class t{}return t.__NG_ELEMENT_ID__=oN,t})();function oN(e){return function iN(e,t,r){if(Zn(e)&&!r){const n=Es(e.index,t);return new Wf(n,n)}return 47&e.type?new Wf(t[gn],t):null}(Mr(),ze(),16==(16&e))}let Mm=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=cN,e.__NG_ENV_ID__=r=>r,t})();class lN extends Mm{constructor(t){super(),this._lView=t}onDestroy(t){return Nh(this._lView,t),()=>function U_(e,t){if(null===e[Lr])return;const r=e[Lr].indexOf(t);-1!==r&&e[Lr].splice(r,1)}(this._lView,t)}}function cN(){return new lN(ze())}const LE=new Set;function Qc(e){LE.has(e)||(LE.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function dy(e){return t=>{setTimeout(e,void 0,t)}}const on=class gN extends On{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=dy(i),o&&(o=dy(o)),s&&(s=dy(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof ot&&t.add(a),a}};function $E(...e){}class Ue{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new on(!1),this.onMicrotaskEmpty=new on(!1),this.onStable=new on(!1),this.onError=new on(!1),typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function _N(){const e="function"==typeof D.requestAnimationFrame;let t=D[e?"requestAnimationFrame":"setTimeout"],r=D[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function bN(e){const t=()=>{!function yN(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(D,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,py(e),e.isCheckStableRunning=!0,fy(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),py(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{if(function SN(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return r.invokeTask(o,i,s,a);try{return BE(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),VE(e)}},onInvoke:(r,n,o,i,s,a,l)=>{try{return BE(e),r.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),VE(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,py(e),fy(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ue.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(Ue.isInAngularZone())throw new Xe(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,vN,$E,$E);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const vN={};function fy(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function py(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function BE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function VE(e){e._nesting--,fy(e)}class CN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new on,this.onMicrotaskEmpty=new on,this.onStable=new on,this.onError=new on}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const jE=new Me("",{providedIn:"root",factory:GE});function GE(){const e=it(Ue);let t=!0;return ua(new In(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new In(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(da()))}var Jc=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Jc||{});const UE={destroy(){}};function zE(e,t){!t&&function _v(e){if(!Ir()&&!function mh(){return _a}())throw new Xe(-203,!1)}();const r=t?.injector??it(Zr);if(!function hc(e){return"browser"===(e??it(Zr)).get(pc)}(r))return UE;Qc("NgAfterNextRender");const n=r.get(Am),o=n.handler??=new ZE,i=t?.phase??Jc.MixedReadWrite,s=()=>{o.unregister(l),a()},a=r.get(Mm).onDestroy(s),l=new WE(r,i,()=>{s(),e()});return o.register(l),{destroy:s}}class WE{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(Ue),this.errorHandler=t.get(Fl,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class ZE{constructor(){this.executingCallbacks=!1,this.buckets={[Jc.EarlyRead]:new Set,[Jc.Write]:new Set,[Jc.MixedReadWrite]:new Set,[Jc.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Xe(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Am=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=M({token:e,providedIn:"root",factory:()=>new e}),t})();function DN(e,t){const r=Es(t,e),n=r[dt];!function IN(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[no];null!==o&&null===r[Ss]&&(r[Ss]=Zv(o,r[pi])),hy(n,r,r[xr])}function hy(e,t,r){Y_(t);try{const n=e.viewQuery;null!==n&&ay(1,n,r);const o=e.template;null!==o&&CE(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&AE(e,t),e.staticViewQueries&&ay(2,e.viewQuery,r);const i=e.components;null!==i&&function xN(e,t){for(let r=0;r<t.length;r++)DN(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[Wt]&=-5,K_()}}function km(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Hs(o,a):2==i&&(n=Hs(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}class qE extends Sm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Fn(t);return new Zf(r,this.ngModule)}}function YE(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class MN{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Gc(n);const o=this.injector.get(t,Kv,n);return o!==Kv||r===Kv?o:this.parentInjector.get(t,r,n)}}class Zf extends eE{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=YE(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return YE(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Mh(e){return e.map(Th).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof ai?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new MN(t,i):t,a=s.get(nE,null);if(null===a)throw new Xe(407,!1);const f={rendererFactory:a,sanitizer:s.get(aF,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Am,null)},h=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",b=n?function AF(e,t,r,n){const i=n.get(mE,!1)||r===ts.ShadowDom,s=e.selectRootElement(t,i);return function kF(e){wE(e)}(s),s}(h,n,this.componentDef.encapsulation,s):lm(h,m,function TN(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m)),he=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ye=null;null!==b&&(ye=Zv(b,s,!0));const Ie=ry(0,null,null,1,0,null,null,null,null,null,null),St=Im(null,Ie,null,he,null,null,f,h,s,null,ye);let bt,ht;Y_(St);try{const An=this.componentDef;let Rn,$s=null;An.findHostDirectiveDefs?(Rn=[],$s=new Map,An.findHostDirectiveDefs(An,Rn,$s),Rn.push(An)):Rn=[An];const qi=function kN(e,t){const r=e[dt],n=Ht;return e[n]=t,Ju(r,n,2,"#host",null)}(St,b),sP=function RN(e,t,r,n,o,i,s){const a=o[dt];!function PN(e,t,r,n){for(const o of e)t.mergedAttrs=rc(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(km(t,t.mergedAttrs,!0),null!==r&&Lw(n,r,t))}(n,e,t,s);let l=null;null!==t&&(l=Zv(t,o[pi]));const c=i.rendererFactory.createRenderer(t,r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const h=Im(o,SE(r),null,f,o[e.index],e,i,c,null,null,l);return a.firstCreatePass&&iy(a,e,n.length-1),xm(o,h),o[e.index]=h}(qi,b,An,Rn,St,f,h);ht=Cf(Ie,Ht),b&&function FN(e,t,r,n){if(n)Mu(e,r,["ng-version",lF.full]);else{const{attrs:o,classes:i}=function Ah(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!ns(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&Mu(e,r,o),i&&i.length>0&&Nw(e,r,i.join(" "))}}(h,An,b,n),void 0!==r&&function NN(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(ht,this.ngContentSelectors,r),bt=function ON(e,t,r,n,o,i){const s=Mr(),a=o[dt],l=Ri(s,o);IE(a,o,s,r,null,n);for(let f=0;f<r.length;f++)wi(qc(o,a,s.directiveStart+f,s),o);xE(a,o,s),l&&wi(l,o);const c=qc(o,a,s.directiveStart+s.componentOffset,s);if(e[xr]=o[xr]=c,null!==i)for(const f of i)f(c,t);return ey(a,s,e),c}(sP,An,Rn,$s,St,[LN]),hy(Ie,St,null)}finally{K_()}return new AN(this.componentType,bt,Qu(ht,St),St,ht)}}class AN extends tF{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Wf(o,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;ly(i[dt],i,o,t,r),this.previousInputValues.set(t,r),zf(Es(this._tNode.index,i))}}get injector(){return new Qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function LN(){const e=Mr();$h(ze()[dt],e)}function Dn(e){let t=function KE(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(si(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Xe(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=Rm(e.inputs),s.inputTransforms=Rm(e.inputTransforms),s.declaredInputs=Rm(e.declaredInputs),s.outputs=Rm(e.outputs);const a=o.hostBindings;a&&jN(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&BN(e,l),c&&VN(e,c),vs(e.inputs,o.inputs),vs(e.declaredInputs,o.declaredInputs),vs(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),vs(s.inputTransforms,o.inputTransforms)),si(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===Dn&&(r=!1)}}t=Object.getPrototypeOf(t)}!function $N(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=rc(o.hostAttrs,r=rc(r,o.hostAttrs))}}(n)}function Rm(e){return e===Cs?{}:e===Wn?[]:e}function BN(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function VN(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function jN(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function rl(e,t,r){return e[t]=r}function $o(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function eu(e,t,r,n){const o=$o(e,t,r);return $o(e,t+1,n)||o}function As(e,t,r,n){const o=ze();return $o(o,Ja(),t)&&(qn(),nl(to(),o,e,t,r,n)),As}function td(e,t,r,n){return $o(e,Ja(),r)?t+Qt(r)+n:En}function rd(e,t,r,n,o,i,s,a){const c=function Pm(e,t,r,n,o){const i=eu(e,t,r,n);return $o(e,t+2,o)||i}(e,kl(),r,o,s);return Rl(3),c?t+Qt(r)+n+Qt(o)+i+Qt(s)+a:En}function Om(e,t){return e<<17|t<<2}function _c(e){return e>>17&32767}function my(e){return 2|e}function tu(e){return(131068&e)>>2}function gy(e,t){return-131069&e|t<<2}function _y(e){return 1|e}function uD(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?_c(i):tu(i),l=!1;for(;0!==a&&(!1===l||s);){const f=e[a+1];QN(e[a],t)&&(l=!0,e[a+1]=n?_y(f):my(f)),a=n?_c(f):tu(f)}l&&(e[r+1]=n?my(i):_y(i))}function QN(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Gu(e,t)>=0}function Se(e,t,r){const n=ze();return $o(n,Ja(),t)&&Ms(qn(),to(),n,e,t,n[ft],r,!1),Se}function vy(e,t,r,n,o){const s=o?"class":"style";ly(e,r,t.inputs[s],s,n)}function nu(e,t,r){return ya(e,t,r,!1),nu}function Ys(e,t){return ya(e,t,null,!0),Ys}function ya(e,t,r,n){const o=ze(),i=qn(),s=Rl(2);i.firstUpdatePass&&function vD(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[Si()],s=function _D(e,t){return t>=e.expandoStartIndex}(e,r);(function SD(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function aL(e,t,r,n){const o=function Z_(e){const t=pn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=Yf(r=yy(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=yy(o,e,t,r,n),null===i){let l=function lL(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==tu(n))return e[_c(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=yy(null,e,t,l[1],n),l=Yf(l,t.attrs,n),function cL(e,t,r,n){e[_c(r?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else i=function uL(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=Yf(n,e[i].hostAttrs,r);return Yf(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function KN(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=_c(s),l=tu(s);e[n]=r;let f,c=!1;if(Array.isArray(r)?(f=r[1],(null===f||Gu(r,f)>0)&&(c=!0)):f=r,o)if(0!==l){const m=_c(e[a+1]);e[n+1]=Om(m,a),0!==m&&(e[m+1]=gy(e[m+1],n)),e[a+1]=function qN(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=Om(a,0),0!==a&&(e[a+1]=gy(e[a+1],n)),a=n;else e[n+1]=Om(l,0),0===a?a=n:e[l+1]=gy(e[l+1],n),l=n;c&&(e[n+1]=my(e[n+1])),uD(e,f,n,!0),uD(e,f,n,!1),function XN(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Gu(i,t)>=0&&(r[n+1]=_y(r[n+1]))}(t,f,e,n,i),s=Om(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==En&&$o(o,s,t)&&function bD(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],f=function YN(e){return 1==(1&e)}(c)?CD(l,t,r,o,tu(c),s):void 0;Fm(f)||(Fm(i)||function ZN(e){return 2==(2&e)}(c)&&(i=CD(l,null,r,o,a,s)),function g2(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:gc.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=gc.Important),e.setStyle(r,n,o,i))}}(n,s,bf(Si(),r),o,i))}(i,i.data[Si()],o,o[ft],e,o[s+1]=function hL(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=br(xs(e)))),e}(t,r),n,s)}function yy(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=Yf(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function Yf(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ds(e,s,!!r||t[++i]))}return void 0===e?null:e}function CD(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),f=c?l[1]:l,h=null===f;let m=r[o+1];m===En&&(m=h?Wn:void 0);let b=h?sv(m,n):f===n?m:void 0;if(c&&!Fm(b)&&(b=sv(l,n)),Fm(b)&&(a=b,s))return a;const j=e[o+1];o=s?_c(j):tu(j)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=sv(l,n))}return a}function Fm(e){return void 0!==e}function dd(e,t){return!t||null===t.firstChild||im(e)}function tp(e,t,r,n=!0){const o=t[dt];if(function l2(e,t,r,n){const o=Ee+n,i=r.length;n>0&&(r[o-1][xo]=t),n<i-Ee?(t[xo]=r[o],$S(r,Ee+n,t)):(r.push(t),t[xo]=null),t[an]=r;const s=t[$n];null!==s&&r!==s&&function c2(e,t){const r=e[W];t[gn]!==t[an][an][gn]&&(e[Wt]|=yt.HasTransplantedViews),null===r?e[W]=[t]:r.push(t)}(s,t);const a=t[Nr];null!==a&&a.insertView(e),uS(t),t[Wt]|=128}(o,t,e,r),n){const s=Pv(r,e),a=t[ft],l=um(a,e[d]);null!==l&&function i2(e,t,r,n,o,i){n[no]=o,n[tn]=t,Nf(e,n,r,1,o,i)}(o,e[tn],a,t,l,s)}const i=t[Ss];null!==i&&null!==i.firstChild&&(i.firstChild=null)}let is=(()=>{class t{}return t.__NG_ELEMENT_ID__=qL,t})();function qL(){return FD(Mr(),ze())}const YL=is,PD=class extends YL{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return Qu(this._hostTNode,this._hostLView)}get injector(){return new Qo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Uh(this._hostTNode,this._hostLView);if(J_(t)){const r=Df(t,this._hostLView),n=Ef(t);return new Qo(r[dt].data[n+8],r)}return new Qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=OD(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Ee}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const a=t.createEmbeddedViewImpl(r||{},i,null);return this.insertImpl(a,o,dd(this._hostTNode,null)),a}createComponent(t,r,n,o,i){const s=t&&!function If(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const j=r||{};a=j.index,n=j.injector,o=j.projectableNodes,i=j.environmentInjector||j.ngModuleRef}const l=s?t:new Zf(Fn(t)),c=n||this.parentInjector;if(!i&&null==l.ngModule){const ee=(s?c:this.parentInjector).get(ai,null);ee&&(i=ee)}Fn(l.componentType??{});const b=l.create(c,o,null,i);return this.insertImpl(b.hostView,a,dd(this._hostTNode,null)),b}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const o=t._lView;if(function hP(e){return Bt(e[an])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[an],c=new PD(l,l[tn],l[an]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(r),s=this._lContainer;return tp(s,o,i,n),t.attachToViewContainerRef(),$S(Ty(s),i,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=OD(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=Of(this._lContainer,r);n&&(zh(Ty(this._lContainer),r),cm(n[dt],n))}detach(t){const r=this._adjustIndex(t,-1),n=Of(this._lContainer,r);return n&&null!=zh(Ty(this._lContainer),r)?new Wf(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function OD(e){return e[8]}function Ty(e){return e[8]||(e[8]=[])}function FD(e,t){let r;const n=t[e.index];return Bt(n)?r=n:(r=ME(n,t,null,e),t[e.index]=r,xm(t,r)),ND(r,t,e,n),new PD(r,e,t)}let ND=function $D(e,t,r,n){if(e[d])return;let o;o=8&r.type?zr(n):function KL(e,t){const r=e[ft],n=r.createComment(""),o=Ri(t,e);return Kc(r,um(r,o),n,function p2(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[d]=o},My=(e,t,r)=>!1;function Kt(e,t,r,n,o,i,s,a){const l=ze(),c=qn(),f=e+Ht,h=c.firstCreatePass?function e3(e,t,r,n,o,i,s,a,l){const c=t.consts,f=Ju(t,e,4,s||null,Xa(c,a));oy(t,r,f,Xa(c,l)),$h(t,f);const h=f.tView=ry(2,f,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}(f,c,l,t,r,n,o,i,s):c.data[f];Qa(h,!1);const m=BD(c,l,h,e);Lh()&&dm(c,l,m,h),wi(m,l);const b=ME(m,l,m,h);return l[f]=b,xm(l,b),function LD(e,t,r){return My(e,t,r)}(b,h,l),To(h)&&ty(c,l,h),null!=s&&ny(l,h,a),Kt}let BD=function VD(e,t,r,n){return lc(!0),t[ft].createComment("")};function z(e,t,r,n){const o=ze(),i=qn(),s=Ht+e,a=o[ft],l=i.firstCreatePass?function U3(e,t,r,n,o,i){const s=t.consts,l=Ju(t,e,2,n,Xa(s,o));return oy(t,r,l,Xa(s,i)),null!==l.attrs&&km(l,l.attrs,!1),null!==l.mergedAttrs&&km(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,t,r,n):i.data[s],c=c1(i,o,l,a,t,e);o[s]=c;const f=To(l);return Qa(l,!0),Lw(a,c,l),32!=(32&l.flags)&&Lh()&&dm(i,o,c,l),0===function gP(){return pn.lFrame.elementDepthCount}()&&wi(c,o),function _P(){pn.lFrame.elementDepthCount++}(),f&&(ty(i,o,l),ey(i,l,o)),null!==n&&ny(o,l),z}function L(){let e=Mr();H_()?z_():(e=e.parent,Qa(e,!1));const t=e;(function yP(e){return pn.skipHydrationRootTNode===e})(t)&&function wP(){pn.skipHydrationRootTNode=null}(),function vP(){pn.lFrame.elementDepthCount--}();const r=qn();return r.firstCreatePass&&($h(r,e),Sn(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function $P(e){return 0!=(8&e.flags)}(t)&&vy(r,t,ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function BP(e){return 0!=(16&e.flags)}(t)&&vy(r,t,ze(),t.stylesWithoutHost,!1),L}function je(e,t,r,n){return z(e,t,r,n),L(),je}let c1=(e,t,r,n,o,i)=>(lc(!0),lm(n,o,function wS(){return pn.lFrame.currentNamespace}()));function vd(e,t,r){const n=ze(),o=qn(),i=e+Ht,s=o.firstCreatePass?function W3(e,t,r,n,o){const i=t.consts,s=Xa(i,n),a=Ju(t,e,8,"ng-container",s);return null!==s&&km(a,s,!0),oy(t,r,a,Xa(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];Qa(s,!0);const a=u1(o,n,s,e);return n[i]=a,Lh()&&dm(o,n,a,s),wi(a,n),To(s)&&(ty(o,n,s),ey(o,s,n)),null!=r&&ny(n,s),vd}function yd(){let e=Mr();const t=qn();return H_()?z_():(e=e.parent,Qa(e,!1)),t.firstCreatePass&&($h(t,e),Sn(e)&&t.queries.elementEnd(e)),yd}let u1=(e,t,r,n)=>(lc(!0),Mv(t[ft],""));function Nn(){return ze()}const Cd="en-US";let m1=Cd;function up(e){return!!e&&"function"==typeof e.then}function V1(e){return!!e&&"function"==typeof e.subscribe}function Ne(e,t,r,n){const o=ze(),i=qn(),s=Mr();return function G1(e,t,r,n,o,i,s){const a=To(n),c=e.firstCreatePass&&RE(e),f=t[xr],h=kE(t);let m=!0;if(3&n.type||s){const ee=Ri(n,t),he=s?s(ee):ee,ye=h.length,Ie=s?bt=>s(zr(bt[n.index])):n.index;let St=null;if(!s&&a&&(St=function z$(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[oc],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==St)(St.__ngLastListenerFn__||St).__ngNextListenerFn__=i,St.__ngLastListenerFn__=i,m=!1;else{i=H1(n,t,f,i,!1);const bt=r.listen(he,o,i);h.push(i,bt),c&&c.push(o,Ie,ye,ye+1)}}else i=H1(n,t,f,i,!1);const b=n.outputs;let j;if(m&&null!==b&&(j=b[o])){const ee=j.length;if(ee)for(let he=0;he<ee;he+=2){const ht=t[j[he]][j[he+1]].subscribe(i),An=h.length;h.push(i,ht),c&&c.push(o,n.index,An,-(An+1))}}}(i,o,o[ft],s,e,t,n),Ne}function U1(e,t,r,n){try{return Ka(6,t,r),!1!==r(n)}catch(o){return Tm(e,o),!1}finally{Ka(7,t,r)}}function H1(e,t,r,n,o){return function i(s){if(s===Function)return n;zf(e.componentOffset>-1?Es(e.index,t):t);let l=U1(t,r,n,s),c=i.__ngNextListenerFn__;for(;c;)l=U1(t,r,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function ut(e=1){return function MP(e){return(pn.lFrame.contextLView=function lS(e,t){for(;e>0;)t=t[Le],e--;return t}(e,pn.lFrame.contextLView))[xr]}(e)}function W$(e,t){let r=null;const n=function Eh(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?mf(e,i,!0):xh(n,i))return o}else r=o}return r}function vt(e){const t=ze()[gn][tn];if(!t.projection){const n=t.projection=xf(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?W$(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function _t(e,t=0,r){const n=ze(),o=qn(),i=Ju(o,Ht+e,16,null,r||null);null===i.projection&&(i.projection=t),z_(),(!n[Ss]||Ru())&&32!=(32&i.flags)&&function h2(e,t,r){Fw(t[ft],0,t,r,kv(e,r,t),Mw(r.parent||t[tn],r,t))}(o,n,i)}function Km(e,t,r,n,o){const i=ze(),s=td(i,t,r,n);return s!==En&&Ms(qn(),to(),i,e,s,i[ft],o,!1),Km}function ks(e){return ku(function EP(){return pn.lFrame.contextLView}(),Ht+e)}function Ce(e,t=""){const r=ze(),n=qn(),o=e+Ht,i=n.firstCreatePass?Ju(n,o,1,t,null):n.data[o],s=cI(n,r,i,t,e);r[o]=s,Lh()&&dm(n,r,s,i),Qa(i,!1)}let cI=(e,t,r,n,o)=>(lc(!0),function am(e,t){return e.createText(t)}(t[ft],n));function Fi(e){return mi("",e,""),Fi}function mi(e,t,r){const n=ze(),o=td(n,e,t,r);return o!==En&&Nl(n,Si(),o),mi}function dp(e,t,r,n,o){const i=ze(),s=function nd(e,t,r,n,o,i){const a=eu(e,kl(),r,o);return Rl(2),a?t+Qt(r)+n+Qt(o)+i:En}(i,e,t,r,n,o);return s!==En&&Nl(i,Si(),s),dp}function Gy(e,t,r,n,o,i,s){const a=ze(),l=rd(a,e,t,r,n,o,i,s);return l!==En&&Nl(a,Si(),l),Gy}function Uy(e,t,r,n,o){if(e=zt(e),Array.isArray(e))for(let i=0;i<e.length;i++)Uy(e[i],t,r,n,o);else{const i=qn(),s=ze(),a=Mr();let l=Yc(e)?e:zt(e.provide);const c=YS(e),f=1048575&a.providerIndexes,h=a.directiveStart,m=a.providerIndexes>>20;if(Yc(e)||!e.multi){const b=new wf(c,o,v),j=zy(l,t,o?f:f+m,h);-1===j?(nv(Gh(a,s),i,l),Hy(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(b),s.push(b)):(r[j]=b,s[j]=b)}else{const b=zy(l,t,f+m,h),j=zy(l,t,f,f+m),he=j>=0&&r[j];if(o&&!he||!o&&!(b>=0&&r[b])){nv(Gh(a,s),i,l);const ye=function lB(e,t,r,n,o){const i=new wf(e,r,v);return i.multi=[],i.index=t,i.componentProviders=0,gI(i,o,n&&!r),i}(o?aB:sB,r.length,o,n,c);!o&&he&&(r[j].providerFactory=ye),Hy(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(ye),s.push(ye)}else Hy(i,e,b>-1?b:j,gI(r[o?j:b],c,!o&&n));!o&&n&&he&&r[j].componentProviders++}}}function Hy(e,t,r,n){const o=Yc(t),i=function _O(e){return!!e.useClass}(t);if(o||i){const l=(i?zt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=c.indexOf(r);-1===f?c.push(r,[n,l]):c[f+1].push(n,l)}else c.push(r,l)}}}function gI(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function zy(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function sB(e,t,r,n){return Wy(this.multi,[])}function aB(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=qc(r,r[dt],this.providerFactory.index,n);i=a.slice(0,s),Wy(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],Wy(o,i);return i}function Wy(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function sr(e,t=[]){return r=>{r.providersResolver=(n,o)=>function iB(e,t,r){const n=qn();if(n.firstCreatePass){const o=si(e);Uy(r,n.data,n.blueprint,o,!0),Uy(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class iu{}class _I{}class Zy extends iu{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qE(this);const o=ii(t);this._bootstrapComponents=Is(o.bootstrap),this._r3Injector=ew(t,r,[{provide:iu,useValue:this},{provide:Sm,useValue:this.componentFactoryResolver},...n],br(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class qy extends _I{constructor(t){super(),this.moduleType=t}create(t){return new Zy(this.moduleType,t,[])}}class vI extends iu{constructor(t){super(),this.componentFactoryResolver=new qE(this),this.instance=null;const r=new zu([...t.providers,{provide:iu,useValue:this},{provide:Sm,useValue:this.componentFactoryResolver}],t.parent||Jh(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Yy(e,t,r=null){return new vI({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let dB=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=zS(0,n.type),i=o.length>0?Yy([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(ue(ai))}),t})();function Xm(e){Qc("NgStandalone"),e.getStandaloneInjector=t=>t.get(dB).getOrCreateStandaloneInjector(e)}function TI(e,t,r,n,o,i){const s=t+r;return $o(e,s,o)?rl(e,s+1,i?n.call(i,o):n(o)):function fp(e,t){const r=e[t];return r===En?void 0:r}(e,s+1)}function sl(e,t){const r=qn();let n;const o=e+Ht;r.firstCreatePass?(n=function AB(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=Wc(n.type)),a=hn(v);try{const l=jh(!1),c=i();return jh(l),function Z$(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,ze(),o,c),c}finally{hn(a)}}function al(e,t,r){const n=e+Ht,o=ze(),i=ku(o,n);return function pp(e,t){return e[dt].data[t].pure}(o,n)?TI(o,Pi(),t,i.transform,r,i):i.transform(r)}function FB(){return this._results[Symbol.iterator]()}class Xy{get changes(){return this._changes??=new on}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Xy.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=FB)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const n=function rs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function QP(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=$B,t})();const NB=Ca,LB=class extends NB{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=function ep(e,t,r,n){const o=t.tView,a=Im(e,o,r,4096&e[Wt]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[$n]=e[t.index];const c=e[Nr];return null!==c&&(a[Nr]=c.createEmbeddedView(o)),hy(o,a,r),a}(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new Wf(o)}};function $B(){return eg(Mr(),ze())}function eg(e,t){return 4&e.type?new LB(t,e,Qu(e,t)):null}class Qy{constructor(t){this.queryList=t,this.matches=null}clone(){return new Qy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jy{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Jy(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==LI(t,r).matches&&this.queries[r].setDirty()}}class PI{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class eb{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new eb(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class tb{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new tb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,BB(r,i)),this.matchTNodeWithReadOption(t,r,Hh(r,t,i,!1,!1))}else n===Ca?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Hh(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===rt||o===is||o===Ca&&4&r.type)this.addMatch(r.index,-2);else{const i=Hh(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function BB(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function jB(e,t,r,n){return-1===r?function VB(e,t){return 11&e.type?Qu(e,t):4&e.type?eg(e,t):null}(t,e):-2===r?function GB(e,t,r){return r===rt?Qu(t,e):r===Ca?eg(t,e):r===is?FD(t,e):void 0}(e,t,n):qc(e,e[dt],r,t)}function OI(e,t,r,n){const o=t[Nr].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:jB(t,i[c],s[l+1],r.metadata.read))}o.matches=a}return o.matches}function nb(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=OI(e,t,o,r);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)n.push(s[a/2]);else{const c=i[a+1],f=t[-l];for(let h=Ee;h<f.length;h++){const m=f[h];m[$n]===m[an]&&nb(m[dt],m,c,n)}if(null!==f[W]){const h=f[W];for(let m=0;m<h.length;m++){const b=h[m];nb(b[dt],b,c,n)}}}}}return n}function Rs(e){const t=ze(),r=qn(),n=_S();q_(n+1);const o=LI(r,n);if(e.dirty&&function pP(e){return 4==(4&e[Wt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?nb(r,t,n,[]):OI(r,t,o,n);e.reset(i,iF),e.notifyOnChanges()}return!0}return!1}function yc(e,t,r){const n=qn();n.firstCreatePass&&(NI(n,new PI(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),FI(n,ze(),t)}function Sd(e,t,r,n){const o=qn();if(o.firstCreatePass){const i=Mr();NI(o,new PI(t,r,n),i.index),function HB(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}FI(o,ze(),r)}function Ps(){return function UB(e,t){return e[Nr].queries[t].queryList}(ze(),_S())}function FI(e,t,r){const n=new Xy(4==(4&r));(function OF(e,t,r,n){const o=kE(t);o.push(r),e.firstCreatePass&&RE(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[Nr]&&(t[Nr]=new Jy),t[Nr].queries.push(new Qy(n))}function NI(e,t,r){null===e.queries&&(e.queries=new eb),e.queries.track(new tb(t,r))}function LI(e,t){return e.queries.getByIndex(t)}let JI=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),ng=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new co(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class pV{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let ex=(()=>{var e;class t{compileModuleSync(n){return new qy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=Is(ii(n).declarations).reduce((a,l)=>{const c=Fn(l);return c&&a.push(new Zf(c)),a},[]);return new pV(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const ix=new Me(""),og=new Me("");let ub,lb=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ub||(function $V(e){ub=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ue),ue(cb),ue(og))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})(),cb=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return ub?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const gp=new Me("Application Initializer");let db=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=it(gp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(up(s))n.push(s);else if(V1(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const fb=new Me("appBootstrapListener");function lx(e,t){return Array.isArray(t)?t.reduce(lx,e):{...e,...t}}let Sa=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=it(pE),this.zoneIsStable=it(jE),this.componentTypes=[],this.components=[],this.isStable=it(ng).hasPendingTasks.pipe(Jr(n=>n?Gt(!1):this.zoneIsStable),Us()),this._injector=it(ai)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof eE;if(!this._injector.get(db).done)throw!i&&function qa(e){const t=Fn(e)||fo(e)||No(e);return null!==t&&t.standalone}(n),new Xe(405,!1);let a;a=i?n:this._injector.get(Sm).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function VV(e){return e.isBoundToModule}(a)?void 0:this._injector.get(iu),f=a.create(Zr.NULL,[],o||a.selector,l),h=f.location.nativeElement,m=f.injector.get(ix,null);return m?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),ig(this.components,f),m?.unregisterApplication(h)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Xe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;ig(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(fb,[]);[...this._bootstrapListeners,...o].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ig(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Xe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function ig(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let GV=(()=>{var e;class t{constructor(){this.zone=it(Ue),this.applicationRef=it(Sa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function UV(){const e=it(Ue),t=it(Fl);return r=>e.runOutsideAngular(()=>t.handleError(r))}const Ll=new Me("LocaleId",{providedIn:"root",factory:()=>it(Ll,Nt.Optional|Nt.SkipSelf)||function zV(){return typeof $localize<"u"&&$localize.locale||Cd}()}),pb=new Me("PlatformDestroyListeners");let fx=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function wN(e="zone.js",t){return"noop"===e?new CN:"zone.js"===e?new Ue(t):e}(o?.ngZone,function dx(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function uB(e,t,r){return new Zy(e,t,r)}(n.moduleType,this.injector,function ux(e){return[{provide:Ue,useFactory:e},{provide:Hu,multi:!0,useFactory:()=>{const t=it(GV,{optional:!0});return()=>t.initialize()}},{provide:pE,useFactory:UV},{provide:jE,useFactory:GE}]}(()=>i)),a=s.injector.get(Fl,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{ig(this._modules,s),l.unsubscribe()})}),function ax(e,t,r){try{const n=r();return up(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const l=s.injector.get(db);return l.runInitializers(),l.donePromise.then(()=>(function g1(e){vn(e,"Expected localeId to be defined"),"string"==typeof e&&(m1=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ll,Cd)||Cd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=lx({},o);return function BV(e,t,r){const n=new qy(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(Sa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Xe(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(pb,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Zr))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),bc=null;const px=new Me("AllowMultipleToken");function hx(e,t,r=[]){const n=`Platform: ${t}`,o=new Me(n);return(i=[])=>{let s=hb();if(!s||s.injector.get(px,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function qV(e){if(bc&&!bc.get(px,!1))throw new Xe(400,!1);(function sx(){!function Mt(e){Be=e}(()=>{throw new Xe(600,!1)})})(),bc=e;const t=e.get(fx);(function gx(e){e.get(nw,null)?.forEach(r=>r())})(e)}(function mx(e=[],t){return Zr.create({name:t,providers:[{provide:pv,useValue:"platform"},{provide:pb,useValue:new Set([()=>bc=null])},...e]})}(a,n))}return function YV(e){const t=hb();if(!t)throw new Xe(401,!1);return t}()}}function hb(){return bc?.get(fx)??null}const t4=hx(null,"core",[]);let n4=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Sa))},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({}),t})();function Bx(e){const t=Fn(e);if(!t)return null;const r=new Zf(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let wb=null;function Cc(){return wb}class A4{}const li=new Me("DocumentToken");let Eb=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(R4),providedIn:"platform"}),t})();const k4=new Me("Location Initialized");let R4=(()=>{var e;class t extends Eb{constructor(){super(),this._doc=it(li),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cc().getBaseHref(this._doc)}onPopState(n){const o=Cc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=Cc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"}),t})();function Db(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function Vx(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function $l(e){return e&&"?"!==e[0]?"?"+e:e}let ll=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(Gx),providedIn:"root"}),t})();const jx=new Me("appBaseHref");let Gx=(()=>{var e;class t extends ll{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??it(li).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Db(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+$l(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+$l(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+$l(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Eb),ue(jx,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Ux=(()=>{var e;class t extends ll{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=Db(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+$l(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+$l(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Eb),ue(jx,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})(),Sc=(()=>{var e;class t{constructor(n){this._subject=new on,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function F4(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(Vx(Hx(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+$l(o))}normalize(n){return t.stripTrailingSlash(function O4(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,Hx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$l(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$l(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=$l,e.joinWithSlash=Db,e.stripTrailingSlash=Vx,e.\u0275fac=function(n){return new(n||e)(ue(ll))},e.\u0275prov=M({token:e,factory:()=>function P4(){return new Sc(ue(ll))}(),providedIn:"root"}),t})();function Hx(e){return e.replace(/\/index.html$/,"")}function Jx(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class Cj{constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wc=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new Cj(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const l=o.get(s);o.move(l,a),nT(l,i)}});for(let i=0,s=o.length;i<s;i++){const l=o.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{nT(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(is),v(Ca),v(Em))},e.\u0275dir=Rt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function nT(e,t){e.context.$implicit=t.item}let ko=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new Sj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){rT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){rT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(is),v(Ca))},e.\u0275dir=Rt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class Sj{constructor(){this.$implicit=null,this.ngIf=null}}function rT(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${br(t)}'.`)}class Nb{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Eg=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Rt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),oT=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new Nb(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(is),v(Ca),v(Eg,9))},e.\u0275dir=Rt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),iT=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new Nb(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(is),v(Ca),v(Eg,9))},e.\u0275dir=Rt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class Ij{createSubscription(t,r){return rE(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){rE(()=>t.unsubscribe())}}class xj{createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const Tj=new xj,Mj=new Ij;let aT=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(up(n))return Tj;if(V1(n))return Mj;throw function Ea(e,t){return new Xe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ct,16))},e.\u0275pipe=Fo({name:"async",type:e,pure:!1,standalone:!0}),t})(),cl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({}),t})();const cT="browser";function Td(e){return e===cT}function uT(e){return"server"===e}let Kj=(()=>{var e;class t{}return(e=t).\u0275prov=M({token:e,providedIn:"root",factory:()=>new Xj(ue(li),window)}),t})();class Xj{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function Qj(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class dT{}class CG extends A4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gb extends CG{static makeCurrent(){!function M4(e){wb||(wb=e)}(new Gb)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function SG(){return Sp=Sp||document.querySelector("base"),Sp?Sp.getAttribute("href"):null}();return null==r?null:function wG(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){Sp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Jx(document.cookie,t)}}let Sp=null,DG=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const Ub=new Me("EventManagerPlugins");let mT=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Xe(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ub),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();class gT{constructor(t){this._doc=t}}const Hb="ng-app-id";let _T=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=uT(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Hb}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(Hb),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(Hb,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(li),ue(tm),ue(rw,8),ue(pc))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const zb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wb=/%COMP%/g,MG=new Me("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function yT(e,t){return t.map(r=>r.replace(Wb,e))}let bT=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=uT(l),this.defaultRenderer=new Zb(n,a,c,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===ts.ShadowDom&&(o={...o,encapsulation:ts.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof ST?i.applyToHost(n):i instanceof qb&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,f=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(o.encapsulation){case ts.Emulated:s=new ST(c,f,o,this.appId,h,a,l,m);break;case ts.ShadowDom:return new PG(c,f,n,o,a,l,this.nonce,m);default:s=new qb(c,f,o,h,a,l,m)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(mT),ue(_T),ue(tm),ue(MG),ue(li),ue(pc),ue(Ue),ue(rw))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();class Zb{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(zb[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(CT(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(CT(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Xe(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=zb[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=zb[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(gc.DashCase|gc.Important)?t.style.setProperty(r,n,o&gc.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&gc.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=Cc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function CT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class PG extends Zb{constructor(t,r,n,o,i,s,a,l){super(t,i,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=yT(o.id,o.styles);for(const f of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qb extends Zb{constructor(t,r,n,o,i,s,a,l){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?yT(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ST extends qb{constructor(t,r,n,o,i,s,a,l){const c=o+"-"+n.id;super(t,r,n,i,s,a,l,c),this.contentAttr=function AG(e){return"_ngcontent-%COMP%".replace(Wb,e)}(c),this.hostAttr=function kG(e){return"_nghost-%COMP%".replace(Wb,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let OG=(()=>{var e;class t extends gT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(li))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const wT=["alt","control","meta","shift"],FG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NG={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let LG=(()=>{var e;class t extends gT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cc().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),wT.forEach(f=>{const h=o.indexOf(f);h>-1&&(o.splice(h,1),a+=f+".")}),a+=s,0!=o.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let i=FG[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wT.forEach(a=>{a!==i&&(0,NG[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(li))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const jG=hx(t4,"browser",[{provide:pc,useValue:cT},{provide:nw,useValue:function $G(){Gb.makeCurrent()},multi:!0},{provide:li,useFactory:function VG(){return function kO(e){yv=e}(document),document},deps:[]}]),GG=new Me(""),IT=[{provide:og,useClass:class EG{addToWindow(t){D.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new Xe(5103,!1);return i},D.getAllAngularTestabilities=()=>t.getAllTestabilities(),D.getAllAngularRootElements=()=>t.getAllRootElements(),D.frameworkStabilizers||(D.frameworkStabilizers=[]),D.frameworkStabilizers.push(n=>{const o=D.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&n(s)};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?Cc().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:ix,useClass:lb,deps:[Ue,cb,og]},{provide:lb,useClass:lb,deps:[Ue,cb,og]}],xT=[{provide:pv,useValue:"root"},{provide:Fl,useFactory:function BG(){return new Fl},deps:[]},{provide:Ub,useClass:OG,multi:!0,deps:[li,Ue,pc]},{provide:Ub,useClass:LG,multi:!0,deps:[li]},bT,_T,mT,{provide:nE,useExisting:bT},{provide:dT,useClass:DG,deps:[]},[]];let UG=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:tm,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(GG,12))},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({providers:[...xT,...IT],imports:[cl,n4]}),t})(),TT=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(li))},e.\u0275prov=M({token:e,factory:function(n){let o=null;return o=n?new n:function zG(){return new TT(ue(li))}(),o},providedIn:"root"}),t})();const Ec=typeof window<"u"&&window||{};class WG{constructor(t,r){this.msPerTick=t,this.numTicks=r}}class ZG{constructor(t){this.appRef=t.injector.get(Sa)}timeChangeDetection(t){const r=t&&t.record,n="Change Detection",o=null!=Ec.console.profile;r&&o&&Ec.console.profile(n);const i=Yb();let s=0;for(;s<5||Yb()-i<500;)this.appRef.tick(),s++;const a=Yb();r&&o&&Ec.console.profileEnd(n);const l=(a-i)/s;return Ec.console.log(`ran ${s} change detection cycles`),Ec.console.log(`${l.toFixed(2)} ms per check`),new WG(l,s)}}function Yb(){return Ec.performance&&Ec.performance.now?Ec.performance.now():(new Date).getTime()}let Kb=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:function(n){let o=null;return o=n?new(n||e):ue(kT),o},providedIn:"root"}),t})(),kT=(()=>{var e;class t extends Kb{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case Ts.NONE:return o;case Ts.HTML:return tl(o,"HTML")?xs(o):Zw(this._doc,String(o)).toString();case Ts.STYLE:return tl(o,"Style")?xs(o):o;case Ts.SCRIPT:if(tl(o,"Script"))return xs(o);throw new Xe(5200,!1);case Ts.URL:return tl(o,"URL")?xs(o):mm(String(o));case Ts.RESOURCE_URL:if(tl(o,"ResourceURL"))return xs(o);throw new Xe(5201,!1);default:throw new Xe(5202,!1)}}bypassSecurityTrustHtml(n){return function x2(e){return new C2(e)}(n)}bypassSecurityTrustStyle(n){return function T2(e){return new S2(e)}(n)}bypassSecurityTrustScript(n){return function M2(e){return new w2(e)}(n)}bypassSecurityTrustUrl(n){return function A2(e){return new E2(e)}(n)}bypassSecurityTrustResourceUrl(n){return function k2(e){return new D2(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(li))},e.\u0275prov=M({token:e,factory:function(n){let o=null;return o=n?new n:function KG(e){return new kT(e.get(li))}(ue(Zr)),o},providedIn:"root"}),t})();var Ro=C(5861),XG=C(6299),Md=C.n(XG);let xg,Tg;function PT(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function OT(){return void 0!==Tg}class FT{constructor(){this.requestEvent=new Ro.j}dispatchRequest(t){if(t){try{t=new(Md())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let Xb=(()=>{var e;class t{constructor(){this.installation=new FT,this.import=new FT,xg&&this.installation.dispatchRequest(xg),Tg&&this.import.dispatchRequest(Tg)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var B=C(3918);function Ad(e,t){return xe(t)?jn(e,t,1):jn(e,1)}function Da(e,t){return xn((r,n)=>{let o=0;r.subscribe(Ln(n,i=>e.call(t,i,o++)&&n.next(i)))})}function wp(e){return xn((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class Mg{}class Ag{}class Js{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof Js?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new Js;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Js?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class eU{encodeKey(t){return NT(t)}encodeValue(t){return NT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const nU=/%(\d[a-f0-9])/gi,rU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function NT(e){return encodeURIComponent(e).replace(nU,(t,r)=>rU[r]??t)}function kg(e){return`${e}`}class Dc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new eU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tU(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(kg):[kg(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new Dc({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(kg(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(kg(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class oU{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function LT(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function $T(e){return typeof Blob<"u"&&e instanceof Blob}function BT(e){return typeof FormData<"u"&&e instanceof FormData}class Ep{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function iU(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers||(this.headers=new Js),this.context||(this.context=new oU),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new Dc,this.urlWithParams=r}serializeBody(){return null===this.body?null:LT(this.body)||$T(this.body)||BT(this.body)||function sU(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Dc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BT(this.body)?null:$T(this.body)?this.body.type||null:LT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Dc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((h,m)=>h.set(m,t.setHeaders[m]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((h,m)=>h.set(m,t.setParams[m]),c)),new Ep(r,n,i,{params:c,headers:l,context:f,reportProgress:a,responseType:o,withCredentials:s})}}var Ic=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ic||{});class Qb{constructor(t,r=200,n="OK"){this.headers=t.headers||new Js,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Rg extends Qb{constructor(t={}){super(t),this.type=Ic.ResponseHeader}clone(t={}){return new Rg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class au extends Qb{constructor(t={}){super(t),this.type=Ic.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new au({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kd extends Qb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Jb(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let eC=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof Ep)s=n;else{let c,f;c=i.headers instanceof Js?i.headers:new Js(i.headers),i.params&&(f=i.params instanceof Dc?i.params:new Dc({fromObject:i.params})),s=new Ep(n,o,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=Gt(s).pipe(Ad(c=>this.handler.handle(c)));if(n instanceof Ep||"events"===i.observe)return a;const l=a.pipe(Da(c=>c instanceof au));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(un(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(un(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(un(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(un(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new Dc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,Jb(i,o))}post(n,o,i={}){return this.request("POST",n,Jb(i,o))}put(n,o,i={}){return this.request("PUT",n,Jb(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Mg))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();function jT(e,t){return t(e)}function dU(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const pU=new Me(""),Dp=new Me(""),GT=new Me(""),UT=new Me("");function hU(){let e=null;return(t,r)=>{null===e&&(e=(it(pU,{optional:!0})??[]).reduceRight(dU,jT));const n=it(ng),o=n.add();return e(t,r).pipe(wp(()=>n.remove(o)))}}let HT=(()=>{var e;class t extends Mg{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=it(ng);const i=it(UT,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Dp),...this.injector.get(GT,[])]));this.chain=i.reduceRight((s,a)=>function fU(e,t,r){return(n,o)=>uc(r,()=>t(n,i=>e(i,o)))}(s,a,this.injector),jT)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(wp(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ag),ue(ai))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const yU=/^\)\]\}',?\n/;let WT=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Xe(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?yr(o.\u0275loadImpl()):Gt(null)).pipe(Jr(()=>new In(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((he,ye)=>a.setRequestHeader(he,ye.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const he=n.detectContentTypeHeader();null!==he&&a.setRequestHeader("Content-Type",he)}if(n.responseType){const he=n.responseType.toLowerCase();a.responseType="json"!==he?he:"text"}const l=n.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const he=a.statusText||"OK",ye=new Js(a.getAllResponseHeaders()),Ie=function bU(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return c=new Rg({headers:ye,status:a.status,statusText:he,url:Ie}),c},h=()=>{let{headers:he,status:ye,statusText:Ie,url:St}=f(),bt=null;204!==ye&&(bt=typeof a.response>"u"?a.responseText:a.response),0===ye&&(ye=bt?200:0);let ht=ye>=200&&ye<300;if("json"===n.responseType&&"string"==typeof bt){const An=bt;bt=bt.replace(yU,"");try{bt=""!==bt?JSON.parse(bt):null}catch(Rn){bt=An,ht&&(ht=!1,bt={error:Rn,text:bt})}}ht?(s.next(new au({body:bt,headers:he,status:ye,statusText:Ie,url:St||void 0})),s.complete()):s.error(new kd({error:bt,headers:he,status:ye,statusText:Ie,url:St||void 0}))},m=he=>{const{url:ye}=f(),Ie=new kd({error:he,status:a.status||0,statusText:a.statusText||"Unknown Error",url:ye||void 0});s.error(Ie)};let b=!1;const j=he=>{b||(s.next(f()),b=!0);let ye={type:Ic.DownloadProgress,loaded:he.loaded};he.lengthComputable&&(ye.total=he.total),"text"===n.responseType&&a.responseText&&(ye.partialText=a.responseText),s.next(ye)},ee=he=>{let ye={type:Ic.UploadProgress,loaded:he.loaded};he.lengthComputable&&(ye.total=he.total),s.next(ye)};return a.addEventListener("load",h),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),n.reportProgress&&(a.addEventListener("progress",j),null!==l&&a.upload&&a.upload.addEventListener("progress",ee)),a.send(l),s.next({type:Ic.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",h),a.removeEventListener("timeout",m),n.reportProgress&&(a.removeEventListener("progress",j),null!==l&&a.upload&&a.upload.removeEventListener("progress",ee)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(dT))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const rC=new Me("XSRF_ENABLED"),ZT=new Me("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qT=new Me("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class YT{}let wU=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jx(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(li),ue(pc),ue(ZT))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();function EU(e,t){const r=e.url.toLowerCase();if(!it(rC)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=it(YT).getToken(),o=it(qT);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var xc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(xc||{});function lu(e,t){return{\u0275kind:e,\u0275providers:t}}function DU(...e){const t=[eC,WT,HT,{provide:Mg,useExisting:HT},{provide:Ag,useExisting:WT},{provide:Dp,useValue:EU,multi:!0},{provide:rC,useValue:!0},{provide:YT,useClass:wU}];for(const r of e)t.push(...r.\u0275providers);return function uv(e){return{\u0275providers:e}}(t)}const KT=new Me("LEGACY_INTERCEPTOR_FN");let xU=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({providers:[DU(lu(xc.LegacyInterceptors,[{provide:KT,useFactory:hU},{provide:Dp,useExisting:KT,multi:!0}]))]}),t})();const{isArray:OU}=Array,{getPrototypeOf:FU,prototype:NU,keys:LU}=Object;function rM(e){if(1===e.length){const t=e[0];if(OU(t))return{args:t,keys:null};if(function $U(e){return e&&"object"==typeof e&&FU(e)===NU}(t)){const r=LU(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:BU}=Array;function oC(e){return un(t=>function VU(e,t){return BU(t)?e(...t):e(t)}(e,t))}function oM(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}function Og(...e){const t=Qi(e),r=sa(e),{args:n,keys:o}=rM(e);if(0===n.length)return yr([],t);const i=new In(function jU(e,t,r=zn){return n=>{iM(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)iM(t,()=>{const c=yr(e[l],t);let f=!1;c.subscribe(Ln(n,h=>{i[l]=h,f||(f=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>oM(o,s):zn));return r?i.pipe(oC(r)):i}function iM(e,t,r){e?Xn(r,e,t):t()}const Fg=_e(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function iC(...e){return function GU(){return Oo(1)}()(yr(e,Qi(e)))}function sM(e){return new In(t=>{Ve(e()).subscribe(t)})}function Ng(e,t){const r=xe(e)?e:()=>e,n=o=>o.error(r());return new In(t?o=>t.schedule(n,0,o):n)}function sC(){return xn((e,t)=>{let r=null;e._refCount++;const n=Ln(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class aM extends In{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,_r(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ot;const r=this.getSubject();t.add(this.source.subscribe(Ln(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ot.EMPTY)}return t}refCount(){return sC()(this)}}function Rd(e){return e<=0?()=>Eo:xn((t,r)=>{let n=0;t.subscribe(Ln(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function lM(...e){const t=Qi(e);return xn((r,n)=>{(t?iC(e,r,t):iC(e,r)).subscribe(n)})}function Lg(e){return xn((t,r)=>{let n=!1;t.subscribe(Ln(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function cM(e=UU){return xn((t,r)=>{let n=!1;t.subscribe(Ln(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function UU(){return new Fg}function Tc(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Da((o,i)=>e(o,i,n)):zn,Rd(1),r?Lg(t):cM(()=>new Fg))}function Ei(e,t,r){const n=xe(e)||t||r?{next:e,error:t,complete:r}:e;return n?xn((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe(Ln(i,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),i.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),i.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),i.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):zn}function cu(e){return xn((t,r)=>{let i,n=null,o=!1;n=t.subscribe(Ln(r,void 0,void 0,s=>{i=Ve(e(s,cu(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function aC(e){return e<=0?()=>Eo:xn((t,r)=>{let n=[];t.subscribe(Ln(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function uM(e){return un(()=>e)}function dM(e){return xn((t,r)=>{Ve(e).subscribe(Ln(r,()=>r.complete(),Pn)),!r.closed&&t.subscribe(r)})}const Mn="primary",Ip=Symbol("RouteTitle");class ZU{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Pd(e){return new ZU(e)}function qU(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function ul(e,t){const r=e?lC(e):void 0,n=t?lC(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!fM(e[o],t[o]))return!1;return!0}function lC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function fM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function pM(e){return e.length>0?e[e.length-1]:null}function Mc(e){return function PU(e){return!!e&&(e instanceof In||xe(e.lift)&&xe(e.subscribe))}(e)?e:up(e)?yr(Promise.resolve(e)):Gt(e)}const KU={exact:function gM(e,t,r){if(!uu(e.segments,t.segments)||!$g(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!gM(e.children[n],t.children[n],r))return!1;return!0},subset:_M},hM={exact:function XU(e,t){return ul(e,t)},subset:function QU(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>fM(e[r],t[r]))},ignored:()=>!0};function mM(e,t,r){return KU[r.paths](e.root,t.root,r.matrixParams)&&hM[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function _M(e,t,r){return vM(e,t,t.segments,r)}function vM(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!uu(o,r)||t.hasChildren()||!$g(o,r,n))}if(e.segments.length===r.length){if(!uu(e.segments,r)||!$g(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!_M(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(uu(e.segments,o)&&$g(e.segments,o,n)&&e.children[Mn])&&vM(e.children[Mn],t,i,n)}}function $g(e,t,r){return t.every((n,o)=>hM[r](e[o].parameters,n.parameters))}class Od{constructor(t=new Ar([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pd(this.queryParams)),this._queryParamMap}toString(){return t6.serialize(this)}}class Ar{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bg(this)}}class xp{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Pd(this.parameters)),this._parameterMap}toString(){return CM(this)}}function uu(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let du=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>new cC,providedIn:"root"}),t})();class cC{parse(t){const r=new f6(t);return new Od(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${Tp(t.root,!0)}`,n=function o6(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${Vg(r)}=${Vg(o)}`).join("&"):`${Vg(r)}=${Vg(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function n6(e){return encodeURI(e)}(t.fragment)}`:""}`}}const t6=new cC;function Bg(e){return e.segments.map(t=>CM(t)).join("/")}function Tp(e,t){if(!e.hasChildren())return Bg(e);if(t){const r=e.children[Mn]?Tp(e.children[Mn],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Mn&&n.push(`${o}:${Tp(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function e6(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===Mn&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==Mn&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===Mn?[Tp(e.children[Mn],!1)]:[`${o}:${Tp(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Mn]?`${Bg(e)}/${r[0]}`:`${Bg(e)}/(${r.join("//")})`}}function yM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vg(e){return yM(e).replace(/%3B/gi,";")}function uC(e){return yM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jg(e){return decodeURIComponent(e)}function bM(e){return jg(e.replace(/\+/g,"%20"))}function CM(e){return`${uC(e.path)}${function r6(e){return Object.keys(e).map(t=>`;${uC(t)}=${uC(e[t])}`).join("")}(e.parameters)}`}const i6=/^[^\/()?;#]+/;function dC(e){const t=e.match(i6);return t?t[0]:""}const s6=/^[^\/()?;=#]+/,l6=/^[^=?&#]+/,u6=/^[^&#]+/;class f6{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ar([],{}):new Ar([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[Mn]=new Ar(t,r)),n}parseSegment(){const t=dC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Xe(4009,!1);return this.capture(t),new xp(jg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function a6(e){const t=e.match(s6);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=dC(this.remaining);o&&(n=o,this.capture(n))}t[jg(r)]=jg(n)}parseQueryParam(t){const r=function c6(e){const t=e.match(l6);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function d6(e){const t=e.match(u6);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=bM(r),i=bM(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=dC(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Xe(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Mn);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[Mn]:new Ar([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Xe(4011,!1)}}function SM(e){return e.segments.length>0?new Ar([],{[Mn]:e}):e}function wM(e){const t={};for(const n of Object.keys(e.children)){const i=wM(e.children[n]);if(n===Mn&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function p6(e){if(1===e.numberOfChildren&&e.children[Mn]){const t=e.children[Mn];return new Ar(e.segments.concat(t.segments),t.children)}return e}(new Ar(e.segments,t))}function fu(e){return e instanceof Od}function EM(e){let t;const o=SM(function r(i){const s={};for(const l of i.children){const c=r(l);s[l.outlet]=c}const a=new Ar(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function DM(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return fC(o,o,o,r,n);const i=function m6(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new xM(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new xM(r,t,n)}(t);if(i.toRoot())return fC(o,o,new Ar([],{}),r,n);const s=function g6(e,t,r){if(e.isAbsolute)return new Ug(t,!0,0);if(!r)return new Ug(t,!1,NaN);if(null===r.parent)return new Ug(r,!0,0);const n=Gg(e.commands[0])?0:1;return function _6(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Xe(4005,!1);o=n.segments.length}return new Ug(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?Ap(s.segmentGroup,s.index,i.commands):TM(s.segmentGroup,s.index,i.commands);return fC(o,s.segmentGroup,a,r,n)}function Gg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Mp(e){return"object"==typeof e&&null!=e&&e.outlets}function fC(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),s=e===t?r:IM(e,t,r);const a=SM(wM(s));return new Od(a,i,o)}function IM(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:IM(i,t,r)}),new Ar(e.segments,n)}class xM{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&Gg(n[0]))throw new Xe(4003,!1);const o=n.find(Mp);if(o&&o!==pM(n))throw new Xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ug{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function TM(e,t,r){if(e||(e=new Ar([],{})),0===e.segments.length&&e.hasChildren())return Ap(e,t,r);const n=function y6(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(Mp(a))break;const l=`${a}`,c=n<r.length-1?r[n+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!AM(l,c,s))return i;n+=2}else{if(!AM(l,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new Ar(e.segments.slice(0,n.pathIndex),{});return i.children[Mn]=new Ar(e.segments.slice(n.pathIndex),e.children),Ap(i,0,o)}return n.match&&0===o.length?new Ar(e.segments,{}):n.match&&!e.hasChildren()?pC(e,t,r):n.match?Ap(e,0,o):pC(e,t,r)}function Ap(e,t,r){if(0===r.length)return new Ar(e.segments,{});{const n=function v6(e){return Mp(e[0])?e[0].outlets:{[Mn]:e}}(r),o={};if(Object.keys(n).some(i=>i!==Mn)&&e.children[Mn]&&1===e.numberOfChildren&&0===e.children[Mn].segments.length){const i=Ap(e.children[Mn],t,r);return new Ar(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=TM(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new Ar(e.segments,o)}}function pC(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(Mp(i)){const l=b6(i.outlets);return new Ar(n,l)}if(0===o&&Gg(r[0])){n.push(new xp(e.segments[t].path,MM(r[0]))),o++;continue}const s=Mp(i)?i.outlets[Mn]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&Gg(a)?(n.push(new xp(s,MM(a))),o+=2):(n.push(new xp(s,{})),o++)}return new Ar(n,{})}function b6(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=pC(new Ar([],{}),0,n))}),t}function MM(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function AM(e,t,r){return e==r.path&&ul(t,r.parameters)}const kp="imperative";class dl{constructor(t,r){this.id=t,this.url=r}}class Rp extends dl{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jl extends dl{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fd extends dl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nd extends dl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class Hg extends dl{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kM extends dl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C6 extends dl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S6 extends dl{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class w6 extends dl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E6 extends dl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D6{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class I6{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class x6{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T6{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M6{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A6{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RM{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hC{}class mC{constructor(t){this.url=t}}class k6{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pu,this.attachRef=null}}let pu=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new k6,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class PM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=gC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=gC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=_C(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return _C(t,this._root).map(r=>r.value)}}function gC(e,t){if(e===t.value)return t;for(const r of t.children){const n=gC(e,r);if(n)return n}return null}function _C(e,t){if(e===t.value)return[t];for(const r of t.children){const n=_C(e,r);if(n.length)return n.unshift(t),n}return[]}class Ia{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function Ld(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class OM extends PM{constructor(t,r){super(t),this.snapshot=r,bC(this,t)}toString(){return this.snapshot.toString()}}function FM(e,t){const r=function R6(e,t){const s=new yC([],{},{},"",{},Mn,t,null,{});return new NM("",new Ia(s,[]))}(0,t),n=new co([new xp("",{})]),o=new co({}),i=new co({}),s=new co({}),a=new co(""),l=new fl(n,o,s,a,i,Mn,t,r.root);return l.snapshot=r.root,new OM(new Ia(l,[]),r)}class fl{constructor(t,r,n,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(un(c=>c[Ip]))??Gt(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(un(t=>Pd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(un(t=>Pd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vC(e,t,r="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===t||"always"!==r&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&$M(o)&&(n.resolve[Ip]=o.title),n}class yC{get title(){return this.data?.[Ip]}constructor(t,r,n,o,i,s,a,l,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class NM extends PM{constructor(t,r){super(r),this.url=t,bC(this,r)}toString(){return LM(this._root)}}function bC(e,t){t.value._routerState=e,t.children.forEach(r=>bC(e,r))}function LM(e){const t=e.children.length>0?` { ${e.children.map(LM).join(", ")} } `:"";return`${e.value}${t}`}function CC(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,ul(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),ul(t.params,r.params)||e.paramsSubject.next(r.params),function YU(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!ul(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),ul(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function SC(e,t){const r=ul(e.params,t.params)&&function JU(e,t){return uu(e,t)&&e.every((r,n)=>ul(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||SC(e.parent,t.parent))}function $M(e){return"string"==typeof e.title||null===e.title}let BM=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mn,this.activateEvents=new on,this.deactivateEvents=new on,this.attachEvents=new on,this.detachEvents=new on,this.parentContexts=it(pu),this.location=it(is),this.changeDetector=it(ct),this.environmentInjector=it(ai),this.inputBinder=it(zg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Xe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Xe(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new P6(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Rt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ci]}),t})();class P6{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===fl?this.route:t===pu?this.childContexts:this.parent.get(t,r)}}const zg=new Me("");let VM=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=Og([o.queryParams,o.params,o.data]).pipe(Jr(([s,a,l],c)=>(l={...s,...a,...l},0===c?Gt(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=Bx(o.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();function Pp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function F6(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return Pp(e,n,o);return Pp(e,n)})}(e,t,r);return new Ia(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Pp(e,a)),s}}const n=function N6(e){return new fl(new co(e.url),new co(e.params),new co(e.queryParams),new co(e.fragment),new co(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>Pp(e,i));return new Ia(n,o)}}const wC="ngNavigationCancelingError";function jM(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=fu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=GM(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function GM(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[wC]=!0,n.cancellationCode=t,r&&(n.url=r),n}function UM(e){return e&&e[wC]}let HM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["ng-component"]],standalone:!0,features:[Xm],decls:1,vars:0,template:function(n,o){1&n&&je(0,"router-outlet")},dependencies:[BM],encapsulation:2}),t})();function EC(e){const t=e.children&&e.children.map(EC),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==Mn&&(r.component=HM),r}function pl(e){return e.outlet||Mn}function Op(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class H6{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),CC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=Ld(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Ld(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Ld(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=Ld(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new A6(i.value.snapshot))}),t.children.length&&this.forwardEvent(new T6(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(CC(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),CC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Op(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class zM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wg{constructor(t,r){this.component=t,this.route=r}}function z6(e,t,r){const n=e._root;return Fp(n,t?t._root:null,r,[n.value])}function $d(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function Jt(e){return null!==sn(e)}(e)?t.get(e):e:n}function Fp(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Ld(t);return e.children.forEach(s=>{(function Z6(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function q6(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!uu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!uu(e.url,t.url)||!ul(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SC(e,t)||!ul(e.queryParams,t.queryParams);default:return!SC(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new zM(n)):(i.data=s.data,i._resolvedData=s._resolvedData),Fp(e,t,i.component?a?a.children:null:r,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Wg(a.outlet.component,s))}else s&&Np(t,a,o),o.canActivateChecks.push(new zM(n)),Fp(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Np(a,r.getContext(s),o)),o}function Np(e,t,r){const n=Ld(e),o=e.value;Object.entries(n).forEach(([i,s])=>{Np(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new Wg(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Lp(e){return"function"==typeof e}function WM(e){return e instanceof Fg||"EmptyError"===e?.name}const Zg=Symbol("INITIAL_VALUE");function Bd(){return Jr(e=>Og(e.map(t=>t.pipe(Rd(1),lM(Zg)))).pipe(un(t=>{for(const r of t)if(!0!==r){if(r===Zg)return Zg;if(!1===r||r instanceof Od)return r}return!0}),Da(t=>t!==Zg),Rd(1)))}function ZM(e){return function Kr(...e){return mo(e)}(Ei(t=>{if(fu(t))throw jM(0,t)}),un(t=>!0===t))}class DC{constructor(t){this.segmentGroup=t||null}}class IC extends Error{constructor(t){super(),this.urlTree=t}}function Vd(e){return Ng(new DC(e))}class hH{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return Gt(n);if(o.numberOfChildren>1||!o.children[Mn])return Ng(new Xe(4e3,!1));o=o.children[Mn]}}applyRedirectCommands(t,r,n){const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new IC(o);return o}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new Od(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new Ar(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new Xe(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const xC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mH(e,t,r,n,o){const i=TC(e,t,r);return i.matched?(n=function $6(e,t){return e.providers&&!e._injector&&(e._injector=Yy(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function dH(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?Gt(o.map(s=>{const a=$d(s,e);return Mc(function eH(e){return e&&Lp(e.canMatch)}(a)?a.canMatch(t,r):uc(e,()=>a(t,r)))})).pipe(Bd(),ZM()):Gt(!0)}(n,t,r).pipe(un(s=>!0===s?i:{...xC}))):Gt(i)}function TC(e,t,r){if("**"===t.path)return function gH(e){return{matched:!0,parameters:e.length>0?pM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...xC}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||qU)(r,e,t);if(!o)return{...xC};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function qM(e,t,r,n){return r.length>0&&function yH(e,t,r){return r.some(n=>qg(e,t,n)&&pl(n)!==Mn)}(e,r,n)?{segmentGroup:new Ar(t,vH(n,new Ar(r,e.children))),slicedSegments:[]}:0===r.length&&function bH(e,t,r){return r.some(n=>qg(e,t,n))}(e,r,n)?{segmentGroup:new Ar(e.segments,_H(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new Ar(e.segments,e.children),slicedSegments:r}}function _H(e,t,r,n,o){const i={};for(const s of n)if(qg(e,r,s)&&!o[pl(s)]){const a=new Ar([],{});i[pl(s)]=a}return{...o,...i}}function vH(e,t){const r={};r[Mn]=t;for(const n of e)if(""===n.path&&pl(n)!==Mn){const o=new Ar([],{});r[pl(n)]=o}return r}function qg(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class wH{}class IH{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new hH(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Xe(4002,`'${t.segmentGroup}'`)}recognize(){const t=qM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(un(r=>{const n=new yC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mn,this.rootComponentType,null,{}),o=new Ia(n,r),i=new NM("",o),s=function h6(e,t,r=null,n=null){return DM(EM(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Mn).pipe(cu(n=>{if(n instanceof IC)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof DC?this.noMatchError(n):n}))}inheritParamsAndData(t,r){const n=t.value,o=vC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),t.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0).pipe(un(i=>i instanceof Ia?[i]:[]))}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return yr(o).pipe(Ad(i=>{const s=n.children[i],a=function G6(e,t){const r=e.filter(n=>pl(n)===t);return r.push(...e.filter(n=>pl(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function zU(e,t){return xn(function HU(e,t,r,n,o){return(i,s)=>{let a=r,l=t,c=0;i.subscribe(Ln(s,f=>{const h=c++;l=a?e(l,f,h):(a=!0,f),n&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),Lg(null),function WU(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Da((o,i)=>e(o,i,n)):zn,aC(1),r?Lg(t):cM(()=>new Fg))}(),jn(i=>{if(null===i)return Vd(n);const s=YM(i);return function xH(e){e.sort((t,r)=>t.value.outlet===Mn?-1:r.value.outlet===Mn?1:t.value.outlet.localeCompare(r.value.outlet))}(s),Gt(s)}))}processSegment(t,r,n,o,i,s){return yr(r).pipe(Ad(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(cu(l=>{if(l instanceof DC)return Gt(null);throw l}))),Tc(a=>!!a),cu(a=>{if(WM(a))return function SH(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?Gt(new wH):Vd(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function CH(e,t,r,n){return!!(pl(e)===n||n!==Mn&&qg(t,r,e))&&TC(t,e,r).matched}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):Vd(o):Vd(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:f}=TC(r,o,i);if(!a)return Vd(r);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,c);return this.applyRedirects.lineralizeSegments(o,h).pipe(jn(m=>this.processSegment(t,n,r,m.concat(f),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i){const s=mH(r,n,o,t);return"**"===n.path&&(r.children={}),s.pipe(Jr(a=>a.matched?this.getChildConfig(t=n._injector??t,n,o).pipe(Jr(({routes:l})=>{const c=n._loadedInjector??t,{consumedSegments:f,remainingSegments:h,parameters:m}=a,b=new yC(f,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function MH(e){return e.data||{}}(n),pl(n),n.component??n._loadedComponent??null,n,function AH(e){return e.resolve||{}}(n)),{segmentGroup:j,slicedSegments:ee}=qM(r,f,h,l);if(0===ee.length&&j.hasChildren())return this.processChildren(c,l,j).pipe(un(ye=>null===ye?null:new Ia(b,ye)));if(0===l.length&&0===ee.length)return Gt(new Ia(b,[]));const he=pl(n)===i;return this.processSegment(c,l,j,ee,he?Mn:i,!0).pipe(un(ye=>new Ia(b,ye instanceof Ia?[ye]:[])))})):Vd(r)))}getChildConfig(t,r,n){return r.children?Gt({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?Gt({routes:r._loadedRoutes,injector:r._loadedInjector}):function uH(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?Gt(!0):Gt(o.map(s=>{const a=$d(s,e);return Mc(function K6(e){return e&&Lp(e.canLoad)}(a)?a.canLoad(t,r):uc(e,()=>a(t,r)))})).pipe(Bd(),ZM())}(t,r,n).pipe(jn(o=>o?this.configLoader.loadChildren(t,r).pipe(Ei(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function pH(e){return Ng(GM(!1,3))}())):Gt({routes:[],injector:t})}}function TH(e){const t=e.value.routeConfig;return t&&""===t.path}function YM(e){const t=[],r=new Set;for(const n of e){if(!TH(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=YM(n.children);t.push(new Ia(n.value,o))}return t.filter(n=>!r.has(n))}function KM(e){const t=e.children.map(r=>KM(r)).flat();return[e,...t]}function MC(e){return Jr(t=>{const r=e(t);return r?yr(r).pipe(un(()=>t)):Gt(t)})}let XM=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===Mn);return o}getResolvedTitleForRoute(n){return n.data[Ip]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(NH),providedIn:"root"}),t})(),NH=(()=>{var e;class t extends XM{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(TT))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const jd=new Me("",{providedIn:"root",factory:()=>({})}),Gd=new Me("ROUTES");let AC=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=it(ex)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Gt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=Mc(n.loadComponent()).pipe(un(QM),Ei(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),wp(()=>{this.componentLoaders.delete(n)})),i=new aM(o,()=>new On).pipe(sC());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Gt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function LH(e,t,r,n){return Mc(e.loadChildren()).pipe(un(QM),jn(o=>o instanceof _I||Array.isArray(o)?Gt(o):yr(t.compileModuleAsync(o))),un(o=>{n&&n(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(r).injector,s=i.get(Gd,[],{optional:!0,self:!0}).flat()),{routes:s.map(EC),injector:i}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(wp(()=>{this.childrenLoaders.delete(o)})),a=new aM(s,()=>new On).pipe(sC());return this.childrenLoaders.set(o,a),a}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function QM(e){return function $H(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let kC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(BH),providedIn:"root"}),t})(),BH=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const JM=new Me(""),eA=new Me("");function VH(e,t,r){const n=e.get(eA),o=e.get(li);return e.get(Ue).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function jH(e){return new Promise(t=>{zE(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=n;return l&&uc(e,()=>l({transition:a,from:t,to:r})),s})}let Yg=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new On,this.transitionAbortSubject=new On,this.configLoader=it(AC),this.environmentInjector=it(ai),this.urlSerializer=it(du),this.rootContexts=it(pu),this.location=it(Sc),this.inputBindingEnabled=null!==it(zg,{optional:!0}),this.titleStrategy=it(XM),this.options=it(jd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=it(kC),this.createViewTransition=it(JM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Gt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new I6(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new D6(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new co({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Da(s=>0!==s.id),un(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Jr(s=>{this.currentTransition=s;let a=!1,l=!1;return Gt(s).pipe(Ei(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jr(c=>{const f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new Nd(c.id,this.urlSerializer.serialize(c.rawUrl),m,0)),c.resolve(null),Eo}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Gt(c).pipe(Jr(m=>{const b=this.transitions?.getValue();return this.events.next(new Rp(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),b!==this.transitions?.getValue()?Eo:Promise.resolve(m)}),function kH(e,t,r,n,o,i){return jn(s=>function EH(e,t,r,n,o,i,s="emptyOnly"){return new IH(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(un(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ei(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const b=new kM(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:m,extractedUrl:b,source:j,restoredState:ee,extras:he}=c,ye=new Rp(m,this.urlSerializer.serialize(b),j,ee);this.events.next(ye);const Ie=FM(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:Ie,urlAfterRedirects:b,extras:{...he,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=b,Gt(s)}{const m="";return this.events.next(new Nd(c.id,this.urlSerializer.serialize(c.extractedUrl),m,1)),c.resolve(null),Eo}}),Ei(c=>{const f=new C6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),un(c=>(this.currentTransition=s={...c,guards:z6(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function nH(e,t){return jn(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?Gt({...r,guardsResult:!0}):function rH(e,t,r,n){return yr(e).pipe(jn(o=>function cH(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Gt(i.map(a=>{const l=Op(t)??o,c=$d(a,l);return Mc(function J6(e){return e&&Lp(e.canDeactivate)}(c)?c.canDeactivate(e,t,r,n):uc(l,()=>c(e,t,r,n))).pipe(Tc())})).pipe(Bd()):Gt(!0)}(o.component,o.route,r,t,n)),Tc(o=>!0!==o,!0))}(s,n,o,e).pipe(jn(a=>a&&function Y6(e){return"boolean"==typeof e}(a)?function oH(e,t,r,n){return yr(t).pipe(Ad(o=>iC(function sH(e,t){return null!==e&&t&&t(new x6(e)),Gt(!0)}(o.route.parent,n),function iH(e,t){return null!==e&&t&&t(new M6(e)),Gt(!0)}(o.route,n),function lH(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function W6(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>sM(()=>Gt(s.guards.map(l=>{const c=Op(s.node)??r,f=$d(l,c);return Mc(function Q6(e){return e&&Lp(e.canActivateChild)}(f)?f.canActivateChild(n,e):uc(c,()=>f(n,e))).pipe(Tc())})).pipe(Bd())));return Gt(i).pipe(Bd())}(e,o.path,r),function aH(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Gt(!0);const o=n.map(i=>sM(()=>{const s=Op(t)??r,a=$d(i,s);return Mc(function X6(e){return e&&Lp(e.canActivate)}(a)?a.canActivate(t,e):uc(s,()=>a(t,e))).pipe(Tc())}));return Gt(o).pipe(Bd())}(e,o.route,r))),Tc(o=>!0!==o,!0))}(n,i,e,t):Gt(a)),un(a=>({...r,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ei(c=>{if(s.guardsResult=c.guardsResult,fu(c.guardsResult))throw jM(0,c.guardsResult);const f=new S6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),Da(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),MC(c=>{if(c.guards.canActivateChecks.length)return Gt(c).pipe(Ei(f=>{const h=new w6(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}),Jr(f=>{let h=!1;return Gt(f).pipe(function RH(e,t){return jn(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return Gt(r);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of KM(l))s.add(c);let a=0;return yr(s).pipe(Ad(l=>i.has(l)?function PH(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!$M(o)&&(i[Ip]=o.title),function OH(e,t,r,n){const o=lC(e);if(0===o.length)return Gt({});const i={};return yr(o).pipe(jn(s=>function FH(e,t,r,n){const o=Op(t)??n,i=$d(e,o);return Mc(i.resolve?i.resolve(t,r):uc(o,()=>i(t,r)))}(e[s],t,r,n).pipe(Tc(),Ei(a=>{i[s]=a}))),aC(1),uM(i),cu(s=>WM(s)?Eo:Ng(s)))}(i,e,t,n).pipe(un(s=>(e._resolvedData=s,e.data=vC(e,e.parent,r).resolve,null)))}(l,n,e,t):(l.data=vC(l,l.parent,e).resolve,Gt(void 0))),Ei(()=>a++),aC(1),jn(l=>a===s.size?Gt(r):Eo))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ei({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(f,"",2)}}))}),Ei(f=>{const h=new E6(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}))}),MC(c=>{const f=h=>{const m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ei(b=>{h.component=b}),un(()=>{})));for(const b of h.children)m.push(...f(b));return m};return Og(f(c.targetSnapshot.root)).pipe(Lg(),Rd(1))}),MC(()=>this.afterPreactivation()),Jr(()=>{const{currentSnapshot:c,targetSnapshot:f}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,f.root);return h?yr(h).pipe(un(()=>s)):Gt(s)}),un(c=>{const f=function O6(e,t,r){const n=Pp(e,t._root,r?r._root:void 0);return new OM(n,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:f},this.currentNavigation.targetRouterState=f,s}),Ei(()=>{this.events.next(new hC)}),((e,t,r,n)=>un(o=>(new H6(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Rd(1),Ei({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),dM(this.transitionAbortSubject.pipe(Ei(c=>{throw c}))),wp(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),cu(c=>{if(l=!0,UM(c))this.events.next(new Fd(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function L6(e){return UM(e)&&fu(e.url)}(c)?this.events.next(new mC(c.url)):s.resolve(!1);else{this.events.next(new Hg(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(f){s.reject(f)}}return Eo}))}))}cancelNavigationTransition(n,o,i){const s=new Fd(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function GH(e){return e!==kp}let tA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(HH),providedIn:"root"}),t})();class UH{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let HH=(()=>{var e;class t extends UH{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Wr(e)))(o||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),nA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(zH),providedIn:"root"}),t})(),zH=(()=>{var e;class t extends nA{constructor(){super(...arguments),this.location=it(Sc),this.urlSerializer=it(du),this.options=it(jd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=it(kC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Od,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=FM(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof Rp)this.stateMemento=this.createStateMemento();else if(n instanceof Nd)this.rawUrlTree=o.initialUrl;else if(n instanceof kM){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else n instanceof hC?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof Fd&&(3===n.code||2===n.code)?this.restoreHistory(o):n instanceof Hg?this.restoreHistory(o,!0):n instanceof jl&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Wr(e)))(o||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var $p=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}($p||{});function rA(e,t){e.events.pipe(Da(r=>r instanceof jl||r instanceof Fd||r instanceof Hg||r instanceof Nd),un(r=>r instanceof jl||r instanceof Nd?$p.COMPLETE:r instanceof Fd&&(0===r.code||1===r.code)?$p.REDIRECTING:$p.FAILED),Da(r=>r!==$p.REDIRECTING),Rd(1)).subscribe(()=>{t()})}function WH(e){throw e}const ZH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jo=(()=>{var e;class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=it(JI),this.stateManager=it(nA),this.options=it(jd,{optional:!0})||{},this.pendingTasks=it(ng),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=it(Yg),this.urlSerializer=it(du),this.location=it(Sc),this.urlHandlingStrategy=it(kC),this._events=new On,this.errorHandler=this.options.errorHandler||WH,this.navigated=!1,this.routeReuseStrategy=it(tA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=it(Gd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!it(zg,{optional:!0}),this.eventsSubscription=new ot,this.isNgZoneEnabled=it(Ue)instanceof Ue&&Ue.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof Fd&&0!==o.code&&1!==o.code)this.navigated=!0;else if(o instanceof jl)this.navigated=!0;else if(o instanceof mC){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||GH(i.source)};this.scheduleNavigation(a,kp,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function KH(e){return!(e instanceof hC||e instanceof mC)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(EC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=o,f=c?this.currentUrlTree.fragment:a;let m,h=null;switch(l){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{m=EM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),m=this.currentUrlTree.root}return DM(m,n,h,f??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=fu(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,kp,null,o)}navigate(n,o={skipLocationChange:!1}){return function YH(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Xe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let i;if(i=!0===o?{...ZH}:!1===o?{...qH}:o,fu(n))return mM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return mM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,f;a?(l=a.resolve,c=a.reject,f=a.promise):f=new Promise((m,b)=>{l=m,c=b});const h=this.pendingTasks.add();return rA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class oA{}let JH=(()=>{var e;class t{preload(n,o){return o().pipe(cu(()=>Gt(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),e5=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Da(n=>n instanceof jl),Ad(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=Yy(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return yr(i).pipe(Oo())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):Gt(null);const s=i.pipe(jn(a=>null===a?Gt(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?yr([s,this.loader.loadComponent(o)]).pipe(Oo()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(jo),ue(ex),ue(ai),ue(oA),ue(AC))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const RC=new Me("");let iA=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Rp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof jl?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Nd&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof RM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new RM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function bE(){throw new Error("invalid")}()},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();function hl(e,t){return{\u0275kind:e,\u0275providers:t}}function aA(){const e=it(Zr);return t=>{const r=e.get(Sa);if(t!==r.components[0])return;const n=e.get(jo),o=e.get(lA);1===e.get(PC)&&n.initialNavigation(),e.get(cA,null,Nt.Optional)?.setUpPreloading(),e.get(RC,null,Nt.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const lA=new Me("",{factory:()=>new On}),PC=new Me("",{providedIn:"root",factory:()=>1}),cA=new Me("");function o5(e){return hl(0,[{provide:cA,useExisting:e5},{provide:oA,useExisting:e}])}function s5(e){return hl(9,[{provide:JM,useValue:VH},{provide:eA,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const uA=new Me("ROUTER_FORROOT_GUARD"),a5=[Sc,{provide:du,useClass:cC},jo,pu,{provide:fl,useFactory:function sA(e){return e.routerState.root},deps:[jo]},AC,[]];let Kg=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[a5,[],{provide:Gd,multi:!0,useValue:n},{provide:uA,useFactory:d5,deps:[[jo,new Zh,new qh]]},{provide:jd,useValue:o||{}},o?.useHash?{provide:ll,useClass:Ux}:{provide:ll,useClass:Gx},{provide:RC,useFactory:()=>{const e=it(Kj),t=it(Ue),r=it(jd),n=it(Yg),o=it(du);return r.scrollOffset&&e.setOffset(r.scrollOffset),new iA(o,n,e,t,r)}},o?.preloadingStrategy?o5(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?f5(o):[],o?.bindToComponentInputs?hl(8,[VM,{provide:zg,useExisting:VM}]).\u0275providers:[],o?.enableViewTransitions?s5().\u0275providers:[],[{provide:dA,useFactory:aA},{provide:fb,multi:!0,useExisting:dA}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Gd,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(uA,8))},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({}),t})();function d5(e){return"guarded"}function f5(e){return["disabled"===e.initialNavigation?hl(3,[{provide:gp,multi:!0,useFactory:()=>{const t=it(jo);return()=>{t.setUpLocationChangeListener()}}},{provide:PC,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?hl(2,[{provide:PC,useValue:0},{provide:gp,multi:!0,deps:[Zr],useFactory:t=>{const r=t.get(k4,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get(jo),i=t.get(lA);rA(o,()=>{n(!0)}),t.get(Yg).afterPreactivation=()=>(n(!0),i.closed?Gt(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const dA=new Me("");class h5{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,r){const n=this.m.get(t);return void 0!==n?n:r}getBoolean(t,r=!1){const n=this.m.get(t);return void 0===n?r:"string"==typeof n?"true"===n:!!n}getNumber(t,r){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==r?r:NaN:n}set(t,r){this.m.set(t,r)}}const Ac=new h5,hA=e=>gA(e),gA=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=y5(e),t.forEach(r=>e.document.documentElement.classList.add(`plt-${r}`))),t},y5=e=>{const t=Ac.get("platform");return Object.keys(CA).filter(r=>{const n=t?.[r];return"function"==typeof n?n(e):CA[r](e)})},OC=e=>!!(hu(e,/iPad/i)||hu(e,/Macintosh/i)&&Xg(e)),_A=e=>hu(e,/android|sink/i),Xg=e=>M5(e,"(any-pointer:coarse)"),vA=e=>yA(e)||bA(e),yA=e=>!!(e.cordova||e.phonegap||e.PhoneGap),bA=e=>{const t=e.Capacitor;return!!t?.isNative},hu=(e,t)=>t.test(e.navigator.userAgent),M5=(e,t)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,t).matches},CA={ipad:OC,iphone:e=>hu(e,/iPhone/i),ios:e=>hu(e,/iPhone|iPod/i)||OC(e),android:_A,phablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return OC(e)||(e=>_A(e)&&!hu(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:yA,capacitor:bA,electron:e=>hu(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:Xg,mobileweb:e=>Xg(e)&&!vA(e),desktop:e=>!Xg(e),hybrid:vA};var Vp=C(7687),A5=C(276);const k5=["addListener","removeListener"],R5=["addEventListener","removeEventListener"],P5=["on","off"];function Qg(e,t,r,n){if(xe(r)&&(n=r,r=void 0),n)return Qg(e,t,r).pipe(oC(n));const[o,i]=function N5(e){return xe(e.addEventListener)&&xe(e.removeEventListener)}(e)?R5.map(s=>a=>e[s](t,a,r)):function O5(e){return xe(e.addListener)&&xe(e.removeListener)}(e)?k5.map(SA(e,t)):function F5(e){return xe(e.on)&&xe(e.off)}(e)?P5.map(SA(e,t)):[];if(!o&&Ki(e))return jn(s=>Qg(s,t,r))(Ve(e));if(!o)throw new TypeError("Invalid event target");return new In(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function SA(e,t){return r=>n=>e[r](t,n)}let wA=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ol),v(rt))},e.\u0275dir=Rt({type:e}),t})(),mu=(()=>{var e;class t extends wA{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Wr(e)))(o||e)}})(),e.\u0275dir=Rt({type:e,features:[Dn]}),t})();const Bi=new Me("NgValueAccessor"),B5={provide:Bi,useExisting:Un(()=>FC),multi:!0},j5=new Me("CompositionEventMode");let FC=(()=>{var e;class t extends wA{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function V5(){const e=Cc()?Cc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ol),v(rt),v(j5,8))},e.\u0275dir=Rt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&Ne("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[sr([B5]),Dn]}),t})();function kc(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function DA(e){return null!=e&&"number"==typeof e.length}const ci=new Me("NgValidators"),Rc=new Me("NgAsyncValidators"),G5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jp{static min(t){return IA(t)}static max(t){return xA(t)}static required(t){return function TA(e){return kc(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function MA(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function AA(e){return kc(e.value)||G5.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function kA(e){return t=>kc(t.value)||!DA(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return RA(t)}static pattern(t){return function PA(e){if(!e)return Jg;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(kc(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return BA(t)}static composeAsync(t){return VA(t)}}function IA(e){return t=>{if(kc(t.value)||kc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function xA(e){return t=>{if(kc(t.value)||kc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function RA(e){return t=>DA(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function Jg(e){return null}function OA(e){return null!=e}function FA(e){return up(e)?yr(e):e}function NA(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function LA(e,t){return t.map(r=>r(e))}function $A(e){return e.map(t=>function U5(e){return!e.validate}(t)?t:r=>t.validate(r))}function BA(e){if(!e)return null;const t=e.filter(OA);return 0==t.length?null:function(r){return NA(LA(r,t))}}function NC(e){return null!=e?BA($A(e)):null}function VA(e){if(!e)return null;const t=e.filter(OA);return 0==t.length?null:function(r){return function L5(...e){const t=sa(e),{args:r,keys:n}=rM(e),o=new In(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let f=0;f<s;f++){let h=!1;Ve(r[f]).subscribe(Ln(i,m=>{h||(h=!0,c--),a[f]=m},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(n?oM(n,a):a),i.complete())}))}});return t?o.pipe(oC(t)):o}(LA(r,t).map(FA)).pipe(un(NA))}}function LC(e){return null!=e?VA($A(e)):null}function jA(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function GA(e){return e._rawValidators}function UA(e){return e._rawAsyncValidators}function $C(e){return e?Array.isArray(e)?e:[e]:[]}function e_(e,t){return Array.isArray(e)?e.includes(t):e===t}function HA(e,t){const r=$C(t);return $C(e).forEach(o=>{e_(r,o)||r.push(o)}),r}function zA(e,t){return $C(t).filter(r=>!e_(e,r))}class WA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=NC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=LC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Vi extends WA{get formDirective(){return null}get path(){return null}}class Gl extends WA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ZA{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ul=(()=>{var e;class t extends ZA{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Gl,2))},e.\u0275dir=Rt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&Ys("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Dn]}),t})(),Hl=(()=>{var e;class t extends ZA{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Vi,10))},e.\u0275dir=Rt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&Ys("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Dn]}),t})();const Gp="VALID",n_="INVALID",Hd="PENDING",Up="DISABLED";function jC(e){return(r_(e)?e.validators:e)||null}function GC(e,t){return(r_(t)?t.asyncValidators:e)||null}function r_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class XA{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Gp}get invalid(){return this.status===n_}get pending(){return this.status==Hd}get disabled(){return this.status===Up}get enabled(){return this.status!==Up}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(HA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(HA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zA(t,this._rawAsyncValidators))}hasValidator(t){return e_(this._rawValidators,t)}hasAsyncValidator(t){return e_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Hd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=Up,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=Gp,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gp||this.status===Hd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Up:Gp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Hd,this._hasOwnPendingAsyncValidator=!0;const r=FA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new on,this.statusChanges=new on}_calculateStatus(){return this._allControlsDisabled()?Up:this.errors?n_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hd)?Hd:this._anyControlsHaveStatus(n_)?n_:Gp}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){r_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Z5(e){return Array.isArray(e)?NC(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function q5(e){return Array.isArray(e)?LC(e):e||null}(this._rawAsyncValidators)}}class Pc extends XA{constructor(t,r,n){super(jC(r),GC(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function KA(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new Xe(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function YA(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new Xe(1e3,"");if(!n[r])throw new Xe(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const o_=Pc,gu=new Me("CallSetDisabledState",{providedIn:"root",factory:()=>Hp}),Hp="always";function zp(e,t,r=Hp){UC(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function X5(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&QA(e,t)})}(e,t),function J5(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function Q5(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&QA(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function K5(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function s_(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),l_(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function a_(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function UC(e,t){const r=GA(e);null!==t.validator?e.setValidators(jA(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=UA(e);null!==t.asyncValidator?e.setAsyncValidators(jA(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();a_(t._rawValidators,o),a_(t._rawAsyncValidators,o)}function l_(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=GA(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=UA(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return a_(t._rawValidators,n),a_(t._rawAsyncValidators,n),r}function QA(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function tk(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function nk(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const as=class extends XA{constructor(t=null,r,n){super(jC(r),GC(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),r_(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=nk(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){tk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){tk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){nk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Go=as;let zl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Rt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),lk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({}),t})();const qC=new Me("NgModelWithFormControlWarning"),pz={provide:Vi,useExisting:Un(()=>xa)};let xa=(()=>{var e;class t extends Vi{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new on,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(l_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return zp(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){s_(n.control||null,n,!1),function rz(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function ek(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&(s_(o||null,n),(e=>e instanceof as)(i)&&(zp(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function JA(e,t){UC(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function ez(e,t){return l_(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){UC(this.form,this),this._oldForm&&l_(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ci,10),v(Rc,10),v(gu,8))},e.\u0275dir=Rt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&Ne("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[sr([pz]),Dn,Ci]}),t})();const gz={provide:Gl,useExisting:Un(()=>ml)};let ml=(()=>{var e;class t extends Gl{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new on,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function WC(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===FC?r=i:function nz(e){return Object.getPrototypeOf(e.constructor)===mu}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function zC(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function i_(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(v(Vi,13),v(ci,10),v(Rc,10),v(Bi,10),v(qC,8))},e.\u0275dir=Rt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[sr([gz]),Dn,Ci]}),t})();function gk(e){return"number"==typeof e?e:parseFloat(e)}let _u=(()=>{var e;class t{constructor(){this._validator=Jg}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Jg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Rt({type:e,features:[Ci]}),t})();const wz={provide:ci,useExisting:Un(()=>JC),multi:!0};let JC=(()=>{var e;class t extends _u{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>gk(n),this.createValidator=n=>xA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Wr(e)))(o||e)}})(),e.\u0275dir=Rt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&As("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[sr([wz]),Dn]}),t})();const Ez={provide:ci,useExisting:Un(()=>e0),multi:!0};let e0=(()=>{var e;class t extends _u{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>gk(n),this.createValidator=n=>IA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Wr(e)))(o||e)}})(),e.\u0275dir=Rt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&As("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[sr([Ez]),Dn]}),t})();const Mz={provide:ci,useExisting:Un(()=>n0),multi:!0};let n0=(()=>{var e;class t extends _u{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function mk(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>RA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Wr(e)))(o||e)}})(),e.\u0275dir=Rt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&As("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[sr([Mz]),Dn]}),t})(),Ck=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({imports:[lk]}),t})(),vu=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:gu,useValue:n.callSetDisabledState??Hp}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({imports:[Ck]}),t})(),c_=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:qC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:gu,useValue:n.callSetDisabledState??Hp}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({imports:[Ck]}),t})();const Rz=["tabsInner"];let Pz=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new On,this.keyboardDidShow=new On,this.keyboardDidHide=new On,this.pause=new On,this.resume=new On,this.resize=new On,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>n.run(()=>s(l))))},zd(this.pause,r,"pause",n),zd(this.resume,r,"resume",n),zd(this.backButton,r,"ionBackButton",n),zd(this.resize,this.win,"resize",n),zd(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),zd(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),hA(e).includes(t)))(this.win,r)}platforms(){return hA(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return Oz(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(ue(li),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Oz=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},zd=(e,t,r,n)=>{t&&t.addEventListener(r,o=>{n.run(()=>{const i=o?.detail;e.next(i)})})};let Wd=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=Sk,this.animated=wk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Rp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,B.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=Fz(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=Sk,this.animated=wk,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(ue(Pz),ue(Sc),ue(du),ue(jo,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Fz=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},Sk="auto",wk=void 0;let Zp=(()=>{class e{get(r,n){const o=r0();return o?o.get(r,n):null}getBoolean(r,n){const o=r0();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=r0();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ek=new Me("USERCONFIG"),r0=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class Dk{constructor(t={}){this.data=t}get(t){return this.data[t]}}let qp=(()=>{class e{constructor(){this.zone=it(Ue),this.applicationRef=it(Sa)}create(r,n,o){return new Nz(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),e})();class Nz{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(Lz(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const Lz=(e,t,r,n,o,i,s,a,l,c,f)=>{const m=function T4(e,t){const r=Fn(e),n=t.elementInjector||Jh();return new Zf(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:Zr.create({providers:Bz(l),parent:r})}),b=m.instance,j=m.location.nativeElement;if(l&&(f&&void 0!==b[f]&&console.error(`[Ionic Error]: ${f} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${f}" property from ${a.name}.`),Object.assign(b,l)),c)for(const he of c)j.classList.add(he);const ee=Ik(e,b,j);return s.appendChild(j),n.attachView(m.hostView),o.set(j,m),i.set(j,ee),j},$z=[Vp.L,Vp.a,Vp.b,Vp.c,Vp.d],Ik=(e,t,r)=>e.run(()=>{const n=$z.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),xk=new Me("NavParamsToken"),Bz=e=>[{provide:xk,useValue:e},{provide:Dk,useFactory:Vz,deps:[xk]}],Vz=e=>new Dk(e),jz=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},Gz=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})};function u_(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&jz(r,o),i&&Gz(r,i),r}}const Tk=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),s0=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},Mk=(e,t)=>!t||e.stackId!==t.stackId,Qz=(e,t)=>{if(!e)return;const r=Ak(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},Ak=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),kk=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class Jz{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?Ak(t):void 0}createView(t,r){const n=s0(this.router,r),o=t?.location?.nativeElement,i=Ik(this.zone,t.instance,o);return{id:this.nextId++,stackId:Qz(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=s0(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=Mk(t,s);a&&(n="back",o=void 0);const l=this.views.slice();let c;const f=this.router;f.getCurrentNavigation?c=f.getCurrentNavigation():f.navigations?.value&&(c=f.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const h=this.views.includes(t),m=this.insertView(t,n);h||t.ref.changeDetectorRef.detectChanges();const b=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==b&&(i=b),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>e8(t,m,l,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&Rk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(kk),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?Tk(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):Tk(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=r?r.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==c&&c.appendChild(a),c.commit)?c.commit(a,l,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,B.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const e8=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Rk(e,t,r,n,o),i()})}):Promise.resolve(),Rk=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(kk)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let Pk=(()=>{class e{constructor(r,n,o,i,s,a,l,c){this.parentOutlet=c,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new co(null),this.activated=null,this._activatedRoute=null,this.name=Mn,this.stackWillChange=new on,this.stackDidChange=new on,this.activateEvents=new on,this.deactivateEvents=new on,this.parentContexts=it(pu),this.location=it(is),this.environmentInjector=it(ai),this.inputBinder=it(Ok,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=it(Zp),this.navCtrl=it(Wd),this.nativeEl=i.nativeElement,this.name=r||Mn,this.tabsPrefix="true"===n?s0(s,l):void 0,this.stackCtrl=new Jz(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,A5.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new co(null),f=this.createActivatedRouteProxy(c,r),h=new t8(f,l,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:h,environmentInjector:n??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,f),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:Mk(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new fl;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(Da(o=>!!o),Jr(o=>this.currentActivatedRoute$.pipe(Da(i=>null!==i&&i.component===o),Jr(i=>i&&i.activatedRoute[n]),Us())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(cc("name"),cc("tabs"),v(Sc),v(rt),v(jo),v(Ue),v(fl),v(e,12))},e.\u0275dir=Rt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class t8{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===fl?this.route:t===pu?this.childContexts:this.parent.get(t,r)}}const Ok=new Me("");let n8=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=Og([n.queryParams,n.params,n.data]).pipe(Jr(([i,s,a],l)=>(a={...i,...s,...a},0===l?Gt(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=Bx(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),e})();function o8(e){return e?.componentInputBindingEnabled?new n8:null}const i8=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let s8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.routerOutlet=r,this.navCtrl=n,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}};return e.\u0275fac=function(r){return new(r||e)(v(Pk,8),v(Wd),v(Zp),v(rt),v(Ue),v(ct))},e.\u0275dir=Rt({type:e,hostBindings:function(r,n){1&r&&Ne("click",function(i){return n.onClick(i)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),e=oe([u_({inputs:i8})],e),e})();const c8=["animated","animation","root","rootParams","swipeGesture"],u8=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let d8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.z=s,a.detach(),this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),((e,t,r)=>{r.forEach(n=>e[n]=Qg(t,n))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(v(rt),v(ai),v(Zr),v(qp),v(Ue),v(ct))},e.\u0275dir=Rt({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),e=oe([u_({inputs:c8,methods:u8})],e),e})(),f8=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new on,this.ionTabsDidChange=new on,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(v(Wd))},e.\u0275dir=Rt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,n){if(1&r&&yc(Rz,7,rt),2&r){let o;Rs(o=Ps())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&Ne("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),e})();const Fk=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let Yp=(()=>{class e{constructor(r,n){this.injector=r,this.elementRef=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,Zd(this.elementRef)}handleValueChange(r,n){r===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),Zd(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),Zd(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(Gl)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>Zd(this.elementRef)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),Zd(this.elementRef)}}})}}return e.\u0275fac=function(r){return new(r||e)(v(Zr),v(rt))},e.\u0275dir=Rt({type:e,hostBindings:function(r,n){1&r&&Ne("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const Zd=e=>{Fk(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=p8(t);a0(t,n);const o=t.closest("ion-item");o&&a0(o,r?[...n,"item-has-value"]:n)})},p8=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&h8(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},a0=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},h8=(e,t)=>e.substring(0,t.length)===t;class m8{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}class Kp{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}var l0=C(2723),g8=(C(8044),C(5444),C(5922),C(4923),C(5194)),Nk=C(2984),Xp=(C(4656),C(7261)),_8=(C(6940),C(3426));C(4967);const y8=g8.i,wt=["*"],C8=["outlet"],S8=[[["","slot","top"]],"*"],w8=["[slot=top]","*"];let qd=(()=>{class e extends Yp{constructor(r,n){super(r,n)}writeValue(r){this.elementRef.nativeElement.checked=this.lastValue=r,Zd(this.elementRef)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(v(Zr),v(rt))},e.\u0275dir=Rt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&Ne("ionChange",function(i){return n._handleIonChange(i.target)})},features:[sr([{provide:Bi,useExisting:e,multi:!0}]),Dn]}),e})(),d_=(()=>{class e extends Yp{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(v(Zr),v(rt))},e.\u0275dir=Rt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&Ne("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[sr([{provide:Bi,useExisting:e,multi:!0}]),Dn]}),e})(),Wl=(()=>{class e extends Yp{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(v(Zr),v(rt))},e.\u0275dir=Rt({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(r,n){1&r&&Ne("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[sr([{provide:Bi,useExisting:e,multi:!0}]),Dn]}),e})();const T8=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)},configurable:!0})})},M8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},cr=(e,t,r)=>{r.forEach(n=>e[n]=Qg(t,n))};function Et(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&T8(r,o),i&&M8(r,i),r}}let Lk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-app"]],ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({})],e),e})(),ji=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),Gi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["collapse"]})],e),e})(),$k=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Ui=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),Hi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["collapse","mode","translucent"]})],e),e})(),Uo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),Zl=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),bo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),f_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),p_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["side"]})],e),e})(),h_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),zi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["color","mode","position"]})],e),e})(),Fs=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),c0=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),m_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),g_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["disabled","value"]})],e),e})(),Qp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["color","duration","name","paused"]})],e),e})(),__=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),Bk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),Wi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["color","size"]})],e),e})(),Jp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Zi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e=oe([Et({inputs:["color","mode"]})],e),e})(),eh=(()=>{class e extends Pk{constructor(r,n,o,i,s,a,l,c){super(r,n,o,i,s,a,l,c),this.parentOutlet=c}}return e.\u0275fac=function(r){return new(r||e)(cc("name"),cc("tabs"),v(Sc),v(rt),v(jo),v(Ue),v(fl),v(e,12))},e.\u0275dir=Rt({type:e,selectors:[["ion-router-outlet"]],features:[Dn]}),e})(),Vk=(()=>{class e extends f8{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Wr(e)))(n||e)}})(),e.\u0275cmp=Ze({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(Sd(o,__,5),Sd(o,__,4)),2&r){let i;Rs(i=Ps())&&(n.tabBar=i.first),Rs(i=Ps())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&yc(C8,5,eh),2&r){let o;Rs(o=Ps())&&(n.outlet=o.first)}},features:[Dn],ngContentSelectors:w8,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&(vt(S8),_t(0),z(1,"div",0,1)(3,"ion-router-outlet",2,3),Ne("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),L()(),_t(5,1))},dependencies:[eh],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),jk=(()=>{class e extends s8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(v(eh,8),v(Wd),v(Zp),v(rt),v(Ue),v(ct))},e.\u0275cmp=Ze({type:e,selectors:[["ion-back-button"]],features:[Dn],ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e})(),u0=(()=>{class e extends d8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(v(rt),v(ai),v(Zr),v(qp),v(Ue),v(ct))},e.\u0275cmp=Ze({type:e,selectors:[["ion-nav"]],features:[Dn],ngContentSelectors:wt,decls:1,vars:0,template:function(r,n){1&r&&(vt(),_t(0))},encapsulation:2,changeDetection:0}),e})();const OW={provide:ci,useExisting:Un(()=>Gk),multi:!0};let Gk=(()=>{class e extends JC{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Wr(e)))(n||e)}})(),e.\u0275dir=Rt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&As("max",n._enabled?n.max:null)},features:[sr([OW]),Dn]}),e})();const FW={provide:ci,useExisting:Un(()=>Uk),multi:!0};let Uk=(()=>{class e extends e0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Wr(e)))(n||e)}})(),e.\u0275dir=Rt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&As("min",n._enabled?n.min:null)},features:[sr([FW]),Dn]}),e})(),d0=(()=>{class e extends Kp{constructor(){super(Xp.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),th=(()=>{class e extends Kp{constructor(){super(Xp.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ea=(()=>{class e extends Kp{constructor(){super(Xp.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ls=(()=>{class e extends Kp{constructor(){super(Xp.m),this.angularDelegate=it(qp),this.injector=it(Zr),this.environmentInjector=it(ai)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),e})();class ql extends Kp{constructor(){super(Xp.c),this.angularDelegate=it(qp),this.injector=it(Zr),this.environmentInjector=it(ai)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const NW=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,Nk.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function v8(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(C.e(6748).then(C.t.bind(C,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(C.e(2214).then(C.t.bind(C,7386,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return y8(),(0,_8.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Fk,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}}))}};let Oc=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:Ek,useValue:r},{provide:gp,useFactory:NW,multi:!0,deps:[Ek,li,Ue]},{provide:Ok,useFactory:o8,deps:[jo]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({providers:[qp,ls,ql],imports:[cl]}),e})();function Hk(e,t){(function LW(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function f0(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function nh(e){return(nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function oo(e,t,r){return(t=function BW(e){var t=function $W(e,t){if("object"!==nh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==nh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let yu={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function zk(e){yu=e}const Wk=/[&<>"']/,VW=new RegExp(Wk.source,"g"),Zk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,jW=new RegExp(Zk.source,"g"),GW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qk=e=>GW[e];function Ns(e,t){if(t){if(Wk.test(e))return e.replace(VW,qk)}else if(Zk.test(e))return e.replace(jW,qk);return e}const UW=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,zW=/(^|[^\[])\^/g;function pr(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o="object"==typeof o&&"source"in o?o.source:o).replace(zW,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}function Yk(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const v_={exec:()=>null};function Kk(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function y_(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function Xk(e,t,r,n){const o=t.href,i=t.title?Ns(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:Ns(s)}}class b_{constructor(t){oo(this,"options",void 0),oo(this,"rules",void 0),oo(this,"lexer",void 0),this.options=t||yu}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:y_(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function ZW(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=y_(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=y_(r[0].replace(/^ *>[ \t]?/gm,""),"\n"),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;t;){let f=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let h=r[2].split("\n",1)[0].replace(/^\t+/,ye=>" ".repeat(3*ye.length)),m=t.split("\n",1)[0],b=0;this.options.pedantic?(b=2,l=h.trimStart()):(b=r[2].search(/[^ ]/),b=b>4?1:b,l=h.slice(b),b+=r[1].length);let j=!1;if(!h&&/^ *$/.test(m)&&(a+=m+"\n",t=t.substring(m.length+1),f=!0),!f){const ye=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Ie=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),St=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),bt=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;t;){const ht=t.split("\n",1)[0];if(m=ht,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),St.test(m)||bt.test(m)||ye.test(m)||Ie.test(t))break;if(m.search(/[^ ]/)>=b||!m.trim())l+="\n"+m.slice(b);else{if(j||h.search(/[^ ]/)>=4||St.test(h)||bt.test(h)||Ie.test(h))break;l+="\n"+m}!j&&!m.trim()&&(j=!0),a+=ht+"\n",t=t.substring(ht.length+1),h=m.slice(b)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let he,ee=null;this.options.gfm&&(ee=/^\[[ xX]\] /.exec(l),ee&&(he="[ ] "!==ee[0],l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!ee,checked:he,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){const h=i.items[f].tokens.filter(b=>"space"===b.type),m=h.length>0&&h.some(b=>/\n.*\n/.test(b.raw));i.loose=m}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){if(!/[:|]/.test(r[2]))return;const n={type:"table",raw:r[0],header:Kk(r[1]).map(o=>({text:o,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){let i,s,a,l,o=n.align.length;for(i=0;i<o;i++){const c=n.align[i];c&&(n.align[i]=/^ *-+: *$/.test(c)?"right":/^ *:-+: *$/.test(c)?"center":/^ *:-+ *$/.test(c)?"left":null)}for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=Kk(n.rows[i],n.header.length).map(c=>({text:c,tokens:[]}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(l=n.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Ns(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=y_(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function WW(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}(r[2],"()");if(s>-1){const l=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),Xk(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Xk(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){const s=[...o[0]].length-1;let a,l,c=s,f=0;const h="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=h.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){f+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+f);const m=[...o[0]][0].length,b=t.slice(0,s+o.index+m+l);if(Math.min(s,l)%2){const ee=b.slice(1,-1);return{type:"em",raw:b,text:ee,tokens:this.lexer.inlineTokens(ee)}}const j=b.slice(2,-2);return{type:"strong",raw:b,text:j,tokens:this.lexer.inlineTokens(j)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=Ns(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,o;return"@"===r[2]?(n=Ns(r[1]),o="mailto:"+n):(n=Ns(r[1]),o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,o;if("@"===r[2])n=Ns(r[0]),o="mailto:"+n;else{let i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=Ns(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:Ns(r[0]),{type:"text",raw:r[0],text:n}}}}const Xt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:v_,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Xt.def=pr(Xt.def).replace("label",Xt._label).replace("title",Xt._title).getRegex(),Xt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Xt.listItemStart=pr(/^( *)(bull) */).replace("bull",Xt.bullet).getRegex(),Xt.list=pr(Xt.list).replace(/bull/g,Xt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Xt.def.source+")").getRegex(),Xt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Xt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Xt.html=pr(Xt.html,"i").replace("comment",Xt._comment).replace("tag",Xt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Xt.lheading=pr(Xt.lheading).replace(/bull/g,Xt.bullet).getRegex(),Xt.paragraph=pr(Xt._paragraph).replace("hr",Xt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xt._tag).getRegex(),Xt.blockquote=pr(Xt.blockquote).replace("paragraph",Xt.paragraph).getRegex(),Xt.normal={...Xt},Xt.gfm={...Xt.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Xt.gfm.table=pr(Xt.gfm.table).replace("hr",Xt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xt._tag).getRegex(),Xt.gfm.paragraph=pr(Xt._paragraph).replace("hr",Xt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Xt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xt._tag).getRegex(),Xt.pedantic={...Xt.normal,html:pr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Xt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:v_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:pr(Xt.normal._paragraph).replace("hr",Xt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Xt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Tt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:v_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:v_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};Tt.punctuation=pr(Tt.punctuation,"u").replace(/punctuation/g,Tt._punctuation).getRegex(),Tt.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Tt.anyPunctuation=/\\[punct]/g,Tt._escapes=/\\([punct])/g,Tt._comment=pr(Xt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Tt.emStrong.lDelim=pr(Tt.emStrong.lDelim,"u").replace(/punct/g,Tt._punctuation).getRegex(),Tt.emStrong.rDelimAst=pr(Tt.emStrong.rDelimAst,"gu").replace(/punct/g,Tt._punctuation).getRegex(),Tt.emStrong.rDelimUnd=pr(Tt.emStrong.rDelimUnd,"gu").replace(/punct/g,Tt._punctuation).getRegex(),Tt.anyPunctuation=pr(Tt.anyPunctuation,"gu").replace(/punct/g,Tt._punctuation).getRegex(),Tt._escapes=pr(Tt._escapes,"gu").replace(/punct/g,Tt._punctuation).getRegex(),Tt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Tt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Tt.autolink=pr(Tt.autolink).replace("scheme",Tt._scheme).replace("email",Tt._email).getRegex(),Tt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Tt.tag=pr(Tt.tag).replace("comment",Tt._comment).replace("attribute",Tt._attribute).getRegex(),Tt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Tt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Tt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Tt.link=pr(Tt.link).replace("label",Tt._label).replace("href",Tt._href).replace("title",Tt._title).getRegex(),Tt.reflink=pr(Tt.reflink).replace("label",Tt._label).replace("ref",Xt._label).getRegex(),Tt.nolink=pr(Tt.nolink).replace("ref",Xt._label).getRegex(),Tt.reflinkSearch=pr(Tt.reflinkSearch,"g").replace("reflink",Tt.reflink).replace("nolink",Tt.nolink).getRegex(),Tt.normal={...Tt},Tt.pedantic={...Tt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:pr(/^!?\[(label)\]\((.*?)\)/).replace("label",Tt._label).getRegex(),reflink:pr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Tt._label).getRegex()},Tt.gfm={...Tt.normal,escape:pr(Tt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Tt.gfm.url=pr(Tt.gfm.url,"i").replace("email",Tt.gfm._extended_email).getRegex(),Tt.breaks={...Tt.gfm,br:pr(Tt.br).replace("{2,}","*").getRegex(),text:pr(Tt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class gl{constructor(t){oo(this,"tokens",void 0),oo(this,"options",void 0),oo(this,"state",void 0),oo(this,"tokenizer",void 0),oo(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||yu,this.options.tokenizer=this.options.tokenizer||new b_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Xt.normal,inline:Tt.normal};this.options.pedantic?(r.block=Xt.pedantic,r.inline=Tt.pedantic):this.options.gfm&&(r.block=Xt.gfm,r.inline=this.options.breaks?Tt.breaks:Tt.gfm),this.tokenizer.rules=r}static get rules(){return{block:Xt,inline:Tt}}static lex(t,r){return new gl(r).lex(t)}static lexInline(t,r){return new gl(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},l),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,l,c,s=t;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>!!(n=f.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,c)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const h=t.slice(1);let m;this.options.extensions.startInline.forEach(b=>{m=b.call({lexer:this},h),"number"==typeof m&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(i=t.substring(0,f+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(c=n.raw.slice(-1)),l=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return r}}class bu{constructor(t){oo(this,"options",void 0),this.options=t||yu}code(t,r,n){const o=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="language-'+Ns(o)+'">'+(n?t:Ns(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:Ns(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>\n`}hr(){return"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t,r,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const o=Yk(t);if(null===o)return n;let i='<a href="'+(t=o)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const o=Yk(t);if(null===o)return n;let i=`<img src="${t=o}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class h0{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class _l{constructor(t){oo(this,"options",void 0),oo(this,"renderer",void 0),oo(this,"textRenderer",void 0),this.options=t||yu,this.options.renderer=this.options.renderer||new bu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new h0}static parse(t,r){return new _l(r).parse(t)}static parseInline(t,r){return new _l(r).parseInline(t)}parse(t,r=!0){let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,this.parseInline(s.tokens,this.textRenderer).replace(UW,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""));continue}case"code":n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue;case"table":{const s=i;let a="",l="";for(let f=0;f<s.header.length;f++)l+=this.renderer.tablecell(this.parseInline(s.header[f].tokens),{header:!0,align:s.align[f]});a+=this.renderer.tablerow(l);let c="";for(let f=0;f<s.rows.length;f++){const h=s.rows[f];l="";for(let m=0;m<h.length;m++)l+=this.renderer.tablecell(this.parseInline(h[m].tokens),{header:!1,align:s.align[m]});c+=this.renderer.tablerow(l)}n+=this.renderer.table(a,c);continue}case"blockquote":{const a=this.parse(i.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,l=s.start,c=s.loose;let f="";for(let h=0;h<s.items.length;h++){const m=s.items[h],b=m.checked,j=m.task;let ee="";if(m.task){const he=this.renderer.checkbox(!!b);c?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=he+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=he+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:he+" "}):ee+=he+" "}ee+=this.parse(m.tokens,c),f+=this.renderer.listitem(ee,j,!!b)}n+=this.renderer.list(f,a,l);continue}case"html":n+=this.renderer.html(i.text,i.block);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(i.tokens));continue;case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<t.length&&"text"===t[o+1].type;)s=t[++o],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class rh{constructor(t){oo(this,"options",void 0),this.options=t||yu}preprocess(t){return t}postprocess(t){return t}}oo(rh,"passThroughHooks",new Set(["preprocess","postprocess"]));var m0=new WeakSet,Qk=new WeakSet;function Jk(e,t){return(r,n)=>{const o={...n},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const s=f0(this,Qk,YW).call(this,!!i.silent,!!i.async);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));const a=e(r,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=t(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return s(a)}}}function YW(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const n="<p>An error occurred:</p><pre>"+Ns(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}const Cu=new class qW{constructor(...t){Hk(this,Qk),Hk(this,m0),oo(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),oo(this,"options",this.setOptions),oo(this,"parse",f0(this,m0,Jk).call(this,gl.lex,_l.parse)),oo(this,"parseInline",f0(this,m0,Jk).call(this,gl.lexInline,_l.parseInline)),oo(this,"Parser",_l),oo(this,"Renderer",bu),oo(this,"TextRenderer",h0),oo(this,"Lexer",gl),oo(this,"Tokenizer",b_),oo(this,"Hooks",rh),this.use(...t)}walkTokens(t,r){let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const i=o;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":n=n.concat(this.walkTokens(o.items,r));break;default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{n=n.concat(this.walkTokens(i[s],r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];r.renderers[i.name]=s?function(...a){let l=i.renderer.apply(this,a);return!1===l&&(l=s.apply(this,a)),l}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&("block"===i.level?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:"inline"===i.level&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){const i=this.defaults.renderer||new bu(this.defaults);for(const s in n.renderer){const a=n.renderer[s],c=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new b_(this.defaults);for(const s in n.tokenizer){const a=n.tokenizer[s],c=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new rh;for(const s in n.hooks){const a=n.hooks[s],c=i[s];i[s]=rh.passThroughHooks.has(s)?f=>{if(this.defaults.async)return Promise.resolve(a.call(i,f)).then(m=>c.call(i,m));const h=a.call(i,f);return c.call(i,h)}:(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return gl.lex(t,r??this.defaults)}parser(t,r){return _l.parse(t,r??this.defaults)}};function ir(e,t){return Cu.parse(e,t)}ir.options=ir.setOptions=function(e){return Cu.setOptions(e),zk(ir.defaults=Cu.defaults),ir},ir.getDefaults=function p0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},ir.defaults=yu,ir.use=function(...e){return Cu.use(...e),zk(ir.defaults=Cu.defaults),ir},ir.walkTokens=function(e,t){return Cu.walkTokens(e,t)},ir.parseInline=Cu.parseInline,ir.Parser=_l,ir.parser=_l.parse,ir.Renderer=bu,ir.TextRenderer=h0,ir.Lexer=gl,ir.lexer=gl.lex,ir.Tokenizer=b_,ir.Hooks=rh,ir.parse=ir;class KW extends ot{constructor(t,r){super()}schedule(t,r=0){return this}}const C_={setInterval(e,t,...r){const{delegate:n}=C_;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=C_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},g0={now:()=>(g0.delegate||Date).now(),delegate:void 0};class oh{constructor(t,r=oh.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}oh.now=g0.now;const JW=new class QW extends oh{constructor(t,r=oh.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class XW extends KW{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return C_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&C_.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Je(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class n9 extends On{constructor(t=1/0,r=1/0,n=g0){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}const o9=["*"];let eR=(()=>{var e;class t{constructor(){this._buttonClick$=new On,this.copied$=this._buttonClick$.pipe(Jr(()=>ua(Gt(!0),function t9(e=0,t,r=JW){let n=-1;return null!=t&&(ia(t)?r=t:n=t),new In(o=>{let i=function e9(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(uM(!1)))),Us(),function r9(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,da({connector:()=>new n9(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(lM(!1),un(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[Xm],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(z(0,"button",0),Ne("click",function(){return o.onCopyToClipboardClick()}),sl(1,"async"),Ce(2),sl(3,"async"),L()),2&n&&(Ys("copied",al(1,3,o.copied$)),ge(2),Fi(al(3,5,o.copiedText$)))},dependencies:[aT],encapsulation:2,changeDetection:0}),t})();const a9=new Me("CLIPBOARD_OPTIONS");var _0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(_0||{});const tR=new Me("MARKED_EXTENSIONS"),nR=new Me("MARKED_OPTIONS"),rR=new Me("SECURITY_CONTEXT");let v0=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,l,c){this.clipboardOptions=n,this.extensions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new bu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new On,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,f={...this.options,...o.markedOptions},h=f.renderer||this.renderer||new bu;this.extensions&&(this.renderer=this.extendsRendererForExtensions(h)),l&&(this.renderer=this.extendsRendererForMermaid(h));const m=this.trimIndentation(n),b=i?this.decodeHtml(m):m,j=a?this.parseEmoji(b):b,ee=this.parseMarked(j,f,s);return(c?ee:this.sanitizer.sanitize(this.securityContext,ee))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:f,mermaidOptions:h}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),l&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...h}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(un(o=>this.handleExtension(n,o)))}highlight(n){if(!Td(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!Td(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendsRendererForExtensions(n){const o=n;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&ir.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return n;const i=n.code;return n.code=function(s,a,l){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,l)},o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),f=c>-1?l.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return o.renderer&&(ir.use({renderer:o.renderer}),delete o.renderer),i?ir.parseInline(n,o):ir.parse(n,o)}parseEmoji(n){if(!Td(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(Td(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!Td(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=n.querySelectorAll("pre");for(let c=0;c<l.length;c++){const f=l.item(c),h=document.createElement("div");h.style.position="relative",f.parentNode.insertBefore(h,f),h.appendChild(f);const m=document.createElement("div");let b,j;m.style.position="absolute",m.style.top=".5em",m.style.right=".5em",m.style.opacity="0",m.style.transition="opacity 250ms ease-out",h.insertAdjacentElement("beforeend",m),f.onmouseover=()=>m.style.opacity="1",f.onmouseout=()=>m.style.opacity="0",b=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(eR).hostView,b.rootNodes.forEach(ee=>{ee.onmouseover=()=>m.style.opacity="1",m.appendChild(ee),j=new ClipboardJS(ee,{text:()=>f.innerText})}),b.onDestroy(()=>j.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!Td(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(a9,8),ue(tR,8),ue(nR,8),ue(pc),ue(rR),ue(eC,8),ue(Kb))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})(),y0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new on,this.load=new on,this.ready=new on,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new On}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(dM(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){var i=this;return(0,B.Z)(function*(){const s={decodeHtml:o,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},a={clipboard:i.clipboard,clipboardOptions:{buttonComponent:i.clipboardButtonComponent,buttonTemplate:i.clipboardButtonTemplate},katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},l=yield i.markdownService.parse(n,s);i.element.nativeElement.innerHTML=l,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,a,i.viewContainerRef),i.ready.emit()})()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n).then(()=>{this.load.emit(n)})},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,_0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,_0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(v(rt),v(v0),v(is))},e.\u0275cmp=Ze({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[Ci,Xm],ngContentSelectors:o9,decls:1,vars:0,template:function(n,o){1&n&&(vt(),_t(0))},encapsulation:2}),t})();function g9(e){return[v0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:tR,useValue:e?.markedExtensions??[]},{provide:rR,useValue:e?.sanitize??Ts.HTML}]}let b0=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[g9(n)]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({imports:[cl]}),t})();var oR;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(oR||(oR={}));const iR="safari"in window,C0=!navigator.userAgent.match(/(crios)|(fxios)/i),cs=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,sR=!!navigator.userAgent.match(/android/i),_9=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Yd=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(Yd||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const b9=new Error("request for lock canceled");class S9{constructor(t,r=b9){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class vl{constructor(t){this._semaphore=new S9(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const ta={production:!0,dbName:"cloudpilot",debug:!1},S_="cloudpilot-session"+(ta.localStorageSuffix?`-${ta.localStorageSuffix}`:"");function lR(){localStorage.removeItem(S_)}function Hn(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,B.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let Yl=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Kd;class io{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new Ro.j,this.sanitizeDiv=document.createElement("div")}errorMessage(t,r="Close"){var n=this;return(0,B.Z)(function*(){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(t),buttons:[{text:r,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()})()}message(t,r,n={},o="Close"){var i=this;return(0,B.Z)(function*(){const s=yield i.alertController.create({header:t,message:i.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:o,role:"cancel"},...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}}))],cssClass:"alert-message"});yield s.present(),yield s.onDidDismiss()})()}messageWithChoice(t,r,n,o,i={},s="Close"){var a=this;return(0,B.Z)(function*(){const l=yield a.alertController.create({header:t,message:a.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:s,role:"cancel"},...Object.keys(i).map(c=>({text:c,handler:()=>{i[c](),l.dismiss()}}))],inputs:[{type:"checkbox",label:n,checked:!1,handler:c=>o=!0===c.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border alert-message"});return yield l.present(),yield l.onDidDismiss(),o})()}updateAvailable(t){var r=this;return(0,B.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,B.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,B.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:r.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new Nk.I(t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(r=>(this.sanitizeDiv.textContent=r,this.sanitizeDiv.innerHTML)).join("<br/>"))}}(Kd=io).\u0275fac=function(t){return new(t||Kd)(ue(d0),ue(Yl))},Kd.\u0275prov=M({token:Kd,factory:Kd.\u0275fac,providedIn:"root"}),oe([Hn()],io.prototype,"updateAvailable",null),oe([Hn()],io.prototype,"fatalError",null),oe([Hn()],io.prototype,"errorInNativeCode",null);let Su=(()=>{var e;class t{constructor(n,o){this.alertService=n,this.ngZone=o,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=i=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${i}.`),this.fatalInNativeCode=i=>this.fatalWithMessage(i.message,!0,!1),this.fatalWithMessage=(i,s=!0,a=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,s&&lR(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(i,a))}),this.fatalErrorEvent=new Ro.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(io),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Sr=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Sr||{});let ih=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??Sr.none}claim(n,o){this.assertOwnership(n,Sr.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===Sr.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Su))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Fc="session",Xd="rom",Nc="memory",Kl="state",w_="kvs",Lc="memory-meta",yl="storage",Ls="storage-card",sh="lock";class wu extends Error{constructor(t){super(t)}}function Yn(e){return new Promise((t,r)=>{!function M9(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new wu(e.error?.message))})}function uR(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function A9(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const E_="session",w0="memory",fR="storage-meta",pR="storage-card";function E0(){return(E0=(0,B.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(E_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+r(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function D0(){return(D0=(0,B.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function I0(){return(I0=(0,B.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(fR,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(E_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(r.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function x0(){return(x0=(0,B.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(fR).name=pR})).apply(this,arguments)}function T0(){return(T0=(0,B.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(pR).createIndex("storageId","storageId")})).apply(this,arguments)}function M0(){return(M0=(0,B.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const H9=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function hR(e){let t=-1;for(let r=0;r<e.length;r++)t=H9[255&(t^e[r])]^t>>>8;return~t}var z9=C(3219),W9=C.n(z9);const mR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let D_;const Z9=new Uint8Array(16);function q9(){if(!D_&&(D_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!D_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return D_(Z9)}const gi=[];for(let e=0;e<256;++e)gi.push((e+256).toString(16).slice(1));const A0=function Y9(e,t,r){if(mR.randomUUID&&!t&&!e)return mR.randomUUID();const n=(e=e||{}).random||(e.rng||q9)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function gR(e,t=0){return gi[e[t+0]]+gi[e[t+1]]+gi[e[t+2]]+gi[e[t+3]]+"-"+gi[e[t+4]]+gi[e[t+5]]+"-"+gi[e[t+6]]+gi[e[t+7]]+"-"+gi[e[t+8]]+gi[e[t+9]]+"-"+gi[e[t+10]]+gi[e[t+11]]+gi[e[t+12]]+gi[e[t+13]]+gi[e[t+14]]+gi[e[t+15]]}(n)};var Qd;const k0=new Error("page lock lost"),_R=new Error("version mismatch"),vR=A0();function Co(){return(e,t,r)=>{const n=r.value;return r.value=(0,B.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw s instanceof wu?i.fatalIDBDead():s===_R?i.fatalVersionMismatch():s===k0?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class tr{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Nc),l=o.objectStore(Lc),c=new Uint32Array(256),f=new Uint8Array(c.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const m=s.length>>>10;for(let b=0;b<m;b++){f.set(s.subarray(1024*b,1024*(b+1)));const j=uR(c);if("number"==typeof j)a.put(j,[i,b]);else{const ee=new Uint32Array(256);ee.set(j),a.put(ee,[i,b])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,B.Z)(function*(){const a=o.objectStore(Lc),l=yield Yn(a.get(i));if(!l)return;const c=yield new Promise(function(){var f=(0,B.Z)(function*(h,m){const b=o.objectStore(Nc),j=new Uint32Array(l.totalSize>>>2),ee=b.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));ee.onsuccess=()=>{const he=ee.result;if(!he)return h(new Uint8Array(j.buffer));const ye=he.value,[,Ie]=he.key;"number"==typeof ye?j.subarray(256*Ie,256*(Ie+1)).fill(ye|ye<<8|ye<<16|ye<<24):j.subarray(256*Ie,256*(Ie+1)).set(1024===ye.length?new Uint32Array(ye.buffer):ye),he.continue()},ee.onerror=()=>m(new wu(ee.error?.message))});return function(h,m){return f.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&ta.debug&&l.crc32!==hR(c))throw new Error("snapshot CRC mismatch");return c})),this.sessionChangeEvent=new Ro.j,this.storageCardChangeEvent=new Ro.j,this.sessionUpdateMutex=new vl,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,B.Z)(function*(){const s=W9()(r),a=yield i.newTransaction(Fc,Xd,Kl,Nc,Lc),l=a.objectStore(Fc),c=a.objectStore(Xd);(yield Yn(c.get(s)))||c.put(r,s);const{id:h,...m}=t,b=yield Yn(l.add({...m,rom:s})),j=yield Yn(l.get(b));return n&&i.saveMemory(a,j.id,n),o&&i.saveState(a,j.id,o),yield Yn(a),j})()}getAllSessions(){var t=this;return(0,B.Z)(function*(){const[r]=yield t.prepareObjectStore(Fc);return yield Yn(r.getAll())})()}getSession(t){var r=this;return(0,B.Z)(function*(){const[n]=yield r.prepareObjectStore(Fc);return yield Yn(n.get(t))})()}deleteSession(t){var r=this;return(0,B.Z)(function*(){const n=yield r.newTransaction(Fc,Xd,Kl,Nc,Lc),o=n.objectStore(Fc),i=n.objectStore(Xd);(t=yield Yn(o.get(t.id)))&&(o.delete(t.id),0===(yield Yn(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield Yn(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,B.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=r,[c,f]=yield n.prepareObjectStore(Fc),h=yield Yn(c.get(t));if(!h)throw new Error(`no session with id ${t}`);const m={...h,...l};c.put(m),yield Yn(f),n.sessionChangeEvent.dispatch([h.id,m])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,B.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Fc),i=yield Yn(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield Yn(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,B.Z)(function*(){const o=yield n.newTransaction(Xd,Kl,Nc,Lc),i=o.objectStore(Xd);return[yield Yn(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,B.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Kl);n.delete(t.id),yield Yn(o)})()}addEmptyStorageCard(t){var r=this;return(0,B.Z)(function*(){const[n]=yield r.prepareObjectStore(Ls),o=yield Yn(n.add(t)),i=yield Yn(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,B.Z)(function*(){return n.ngZone.runOutsideAngular((0,B.Z)(function*(){const o=yield n.newTransaction(Ls,yl),i=o.objectStore(Ls),s=o.objectStore(yl),a=yield Yn(i.add(t)),l=(t.size>>>13)+(r.length%8192==0?0:1),c=new Uint32Array(2048);for(let h=0;h<l;h++){const m=r.subarray(2048*h,2048*(h+1));h===l-1&&c.set(m);const b=A9(h===l-1?c:m);0!==b&&s.put("number"==typeof b?b:b?.slice(),[a,h])}const f=yield Yn(i.get(a));return yield Yn(o),n.storageCardChangeEvent.dispatch(f.id),f}))})()}getAllStorageCards(){var t=this;return(0,B.Z)(function*(){const[r]=yield t.prepareObjectStore(Ls);return Yn(r.getAll())})()}getCard(t){var r=this;return(0,B.Z)(function*(){const[n]=yield r.prepareObjectStore(Ls);return Yn(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,B.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[l,c]=yield n.prepareObjectStore(Ls),f=yield Yn(l.get(t));if(!f)throw new Error(`no card with id ${t}`);const h={...f,...a};l.put(h),yield Yn(c),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,B.Z)(function*(){const n=yield r.newTransaction(Ls,yl);r.storageCardContext.assertOwnership(t,Sr.none);const o=n.objectStore(Ls),i=n.objectStore(yl);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield Yn(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,B.Z)(function*(){r.fill(0);const i=yield o.newTransaction(Ls,yl);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(yl);yield new Promise(function(){var a=(0,B.Z)(function*(l,c){const f=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));f.onsuccess=()=>{const h=f.result;if(!h)return l();let m=h.value;const[,b]=h.key;"number"==typeof m?r.subarray(2048*b,2048*(b+1)).fill(m):(2048*(b+1)>r.length&&(m=m.subarray(0,2048-2048*(b+1)+r.length)),r.subarray(2048*b,2048*(b+1)).set(m)),h.continue()},f.onerror=()=>c(new wu(f.error?.message))});return function(l,c){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,B.Z)(function*(){const s=yield i.newTransaction(Ls,yl);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(Ls),l=s.objectStore(yl),c=yield Yn(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(r.length!==c.size>>>2)throw new Error("data size mismatch");const f=(c.size>>>13)+(c.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let h=0;for(let m=0;m<n.length;m++)for(let b=1;b<256&&!(h>=f);b<<=1)n[m]&b&&l.put(r.subarray(2048*h,2048*(h+1)).slice(),[c.id,h]),h++;yield Yn(s)}))}kvsGet(t){var r=this;return(0,B.Z)(function*(){const[n]=yield r.prepareObjectStore(w_);return Yn(n.get(t))})()}kvsSet(t){var r=this;return(0,B.Z)(function*(){const[n,o]=yield r.prepareObjectStore(w_);for(const i of Object.keys(t))n.put(t[i],i);yield Yn(o)})()}kvsLoad(){var t=this;return(0,B.Z)(function*(){const[r]=yield t.prepareObjectStore(w_);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new wu(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,B.Z)(function*(){const[n,o]=yield r.prepareObjectStore(w_);n.delete(t),yield Yn(o)})()}acquireLock(t){var r=this;return(0,B.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Yn(t.objectStore(sh).get(0)))!==vR)throw t.abort(),t.db.close(),k0})()}newTransaction(...t){var r=this;return(0,B.Z)(function*(){const n=(yield r.db).transaction([sh,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,B.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore(Kl);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore(Kl).delete(r)}loadState(t,r){return Yn(t.objectStore(Kl).get(r))}deleteMemory(t,r){const n=t.objectStore(Nc),o=t.objectStore(Lc);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,B.Z)(function*(){const r=t.transaction(sh,"readwrite");yield Yn(r.objectStore(sh).put(vR,0))})()}setupDb(){var t=this;return(0,B.Z)(function*(){const r=setTimeout(()=>cs&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>i.name===ta.dbName);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw _R}const n=yield new Promise((o,i)=>{const s=indexedDB.open(ta.dbName,9);s.onerror=()=>{i(new wu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new wu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,B.Z)(function*(l){clearTimeout(r),l.oldVersion<1&&function N9(e){e.createObjectStore(E_,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function L9(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(w0)&&e.deleteObjectStore(w0),t.objectStore(E_).clear(),e.createObjectStore("rom"),e.createObjectStore(w0),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function $9(e,t){return E0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function B9(e,t){return D0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function V9(e,t){return I0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function j9(e,t){return x0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function G9(e,t){return T0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function U9(e,t){return M0.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,B.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(Qd=tr).\u0275fac=function(t){return new(t||Qd)(ue(Ue),ue(Su),ue(ih))},Qd.\u0275prov=M({token:Qd,factory:Qd.\u0275fac,providedIn:"root"}),oe([Co()],tr.prototype,"addSession",null),oe([Co()],tr.prototype,"getAllSessions",null),oe([Co()],tr.prototype,"getSession",null),oe([Co()],tr.prototype,"deleteSession",null),oe([Co()],tr.prototype,"updateSessionPartial",null),oe([Co()],tr.prototype,"updateSession",null),oe([Co()],tr.prototype,"loadSession",null),oe([Co()],tr.prototype,"deleteStateForSession",null),oe([Co()],tr.prototype,"addEmptyStorageCard",null),oe([Co()],tr.prototype,"importStorageCard",null),oe([Co()],tr.prototype,"getAllStorageCards",null),oe([Co()],tr.prototype,"getCard",null),oe([Co()],tr.prototype,"updateStorageCardPartial",null),oe([Co()],tr.prototype,"deleteStorageCard",null),oe([Co()],tr.prototype,"loadCardData",null),oe([Co()],tr.prototype,"kvsGet",null),oe([Co()],tr.prototype,"kvsSet",null),oe([Co()],tr.prototype,"kvsDelete",null),oe([Co()],tr.prototype,"newTransaction",null),oe([Co()],tr.prototype,"prepareObjectStore",null),oe([Co()],tr.prototype,"initializeLock",null),oe([Co()],tr.prototype,"setupDb",null);const yR={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Di=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,B.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new Ro.j,this.mutex=new vl,this.storageMutex=new vl,this.initializationPromise=this.startInitialiation()}initialize(){var n=this;return(0,B.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var n=this;return(0,B.Z)(function*(){const o=n;try{const i={...yR,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive(()=>o.storageService.kvsSet({[a]:l})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...yR}}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(tr))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),bR=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,B.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(cs||sR)&&this.installationMode===Yd.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return cs&&C0?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':cs?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return cs&&C0?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':cs?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Yd.pwa:document.referrer.startsWith("android-app://")?Yd.twa:window.matchMedia("(display-mode: standalone)").matches?Yd.pwa:Yd.web}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Di),ue(io))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function r7(e,t){1&e&&(z(0,"div",5),je(1,"ion-spinner"),L())}let Eu=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ls))},e.\u0275cmp=Ze({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.modalController.dismiss()}),Ce(6,"Close"),L()()()(),z(7,"ion-content",2),Kt(8,r7,2,0,"div",3),z(9,"markdown",4),Ne("load",function(){return o.loading=!1}),L()()),2&n&&(ge(3),Fi(o.title),ge(5),Se("ngIf",o.loading),ge(1),Se("src",o.url))},dependencies:[ko,y0,ji,Gi,Ui,Hi,Qp,Wi,Zi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const Du=ta.releaseExtra?`1.9.6-63f3554 (${ta.releaseExtra})`:"1.9.6",SR=C.p+"assets/doc/CHANGELOG-43f5170dfcc0d938.md";var I_=C(1633);const x_=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:c})=>{if((e=>void 0!==e.method&&"call"===e.method)(c)){const{params:{timerId:f,timerType:h}}=c;if("interval"===h){const m=t.get(f);if("number"==typeof m){const b=n.get(m);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m()}}else if("timeout"===h){const m=r.get(f);if("number"==typeof m){const b=n.get(m);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m(),r.delete(f)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(c)){const{error:{message:f}}=c;throw new Error(f)}{const{id:f}=c,h=n.get(f);if(void 0===h)throw new Error("The timer is in an undefined state.");const{timerId:m,timerType:b}=h;n.delete(f),"interval"===b?t.delete(m):r.delete(m)}}}),{clearInterval:c=>{const f=(0,I_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"interval"}),t.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"interval"}})},clearTimeout:c=>{const f=(0,I_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"timeout"}),r.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"timeout"}})},setInterval:(c,f)=>{const h=(0,I_.generateUniqueNumber)(t);return t.set(h,()=>{c(),"function"==typeof t.get(h)&&o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}}),h},setTimeout:(c,f)=>{const h=(0,I_.generateUniqueNumber)(r);return r.set(h,c),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"timeout"}}),h}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})();var Jd=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(Jd||{});class wR{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Jd.animationFrame}}class c7{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((e,t)=>x_().setTimeout(e,t))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,x_().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Jd.timeout}}const u7=[135,135,105],d7=[0,0,0],$c=new Array(16).fill(0).map((e,t)=>d7.map((r,n)=>Math.floor((t*r+(15-t)*u7[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),R0=$c.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var J=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(J||{}),ef=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(ef||{});function ah(e){switch(e){case J.i710:case J.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case J.handera330:case J.handera330c:case J.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case J.pegS300:case J.pegS320:case J.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case J.pegT600c:case J.pegT400:case J.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case J.pegN600c:case J.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case J.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case J.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function P0(e){switch(e){case J.pilot:case J.palmPilot:case J.iii:case J.palmV:case J.palmVx:case J.iiix:case J.iiixe:case J.iiie:case J.m100:case J.m105:case J.m125:case J.m500:case J.palmVII:case J.palmVIIEZ:case J.palmVIIx:case J.i705:case J.handera330:case J.pegS300:case J.pegS320:case J.pegT400:case J.acerS11:return!1;default:return!0}}function ER(e){switch(e){case J.pilot:return"Pilot";case J.palmPilot:return"Palm Pilot";case J.iii:return"Palm III";case J.m500:return"Palm m500";case J.m505:return"Palm m505";case J.m515:return"Palm m515";case J.m520:return"Palm m520";case J.palmVx:return"Palm Vx";case J.iiix:return"Palm IIIx";case J.iiixe:return"Palm IIIxe";case J.iiie:return"Palm IIIe";case J.palmV:return"Palm V";case J.palmVII:return"Palm VII";case J.palmVIIEZ:return"Palm VII EZ";case J.palmVIIx:return"Palm VIIx";case J.iiic:return"Palm IIIc";case J.m100:return"Palm m100";case J.m105:return"Palm m105";case J.m125:return"Palm m125";case J.m130:return"Palm m130";case J.i705:return"Palm i705";case J.i710:return"Tungsten W";case J.handera330:return"Handera 330";case J.handera330c:return"Handera 330c";case J.pegS300:return"Sony PEG-S300";case J.pegS320:return"Sony PEG-S320";case J.pegT400:return"Sony PEG-T400 series";case J.pegN600c:return"Sony PEG-N600C series";case J.pegT600c:return"Sony PEG-T600C series";case J.pegN700c:return"Sony PEG-N700C series";case J.pegT650c:return"Sony PEG-T650C series";case J.pegNR70:return"Sony PEG-NR70 series";case J.pegS500c:return"Sony PEG-S500C series";case J.acerS11:return"Acer S1x series";case J.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function DR(e){switch(e){case J.m500:case J.m505:case J.m515:case J.m520:case J.m125:case J.m130:case J.i705:case J.i710:case J.handera330:case J.handera330c:return ef.sdcard;case J.pegS300:case J.pegS500c:case J.pegS320:case J.pegT400:case J.pegN600c:case J.pegT600c:case J.pegN700c:case J.pegT650c:case J.pegNR70:case J.acerS11:return ef.memorystick;default:return ef.none}}class IR{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class h7{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class C7{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;if(this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r)return void this.handleSuspend();const c=this.cloudpilotInstance.isPowerOff(),f=this.cloudpilotInstance.isUiInitialized();if(c!==this.powerOff||f!==this.uiInitialized){const h=this.powerOff;this.powerOff=c,this.uiInitialized=f,h!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}f&&!c&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new Ro.j,this.pwmUpdateEvent=new Ro.j,this.emulationStateChangeEvent=new Ro.j,this.powerOffChangeEvent=new Ro.j,this.deviceId=J.m515,this.clockEmulator=0,this.scheduler=new wR(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new h7(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new IR(20),this.timePerFrameAverage=new IR(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=ah(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=ah(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Jd.animationFrame?new wR(t=>this.onSchedule(t)):new c7(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=ah(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=P0(t)?"white":R0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=$c[15],i=$c[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=t.buffer[l+(c>>>3)]&128>>>(7&c)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[$c[15&o],$c[o>>>4&15],$c[o>>>8&15],$c[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=i[t.buffer[l+(c>>>2)]>>6-2*(3&c)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=$c[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class S7{constructor(t,r){this.timeoutRemaining=t,this.cb=r,this.onTimeout=()=>{const n=performance.now();if(this.timeoutRemaining-=n-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,t)}increase(t){this.timeoutRemaining+=t}cancel(){clearTimeout(this.handle)}}const D7=new Error("transaction timeout"),MR=new Error("session does not match emulation");let lh=(()=>{var e;class t{constructor(n,o,i,s,a,l){var c=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.ngZone=l,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,B.Z)(function*(){try{yield c.triggerSnapshotUnguarded()}finally{c.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Ro.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,B.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,B.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(console.error("snapshot error",o),o===MR)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===k0)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,B.Z)(function*(){const o=n.db.transaction([Nc,Lc,Kl,yl,Ls,sh],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield Yn(o.objectStore(Ls).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((l,c)=>{let f=!1;const h=performance.now();let m=0,b=0,j=0;const ee=new S7(500,()=>{f=!0;try{o.abort()}catch{}c(D7)});o.oncomplete=()=>{ee.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:j,timeBlocking:b-m,timeTotal:performance.now()-h})},o.onerror=()=>{ee.cancel(),c(new Error(o.error?.message))};try{n.assertSessionMatches(),m=performance.now(),j=n.saveDirtyMemory(o,ee),i&&(j+=n.saveDirtyStorage(i,o,ee)),n.saveSession(o),b=performance.now()}catch(he){throw f||(ee.cancel(),o.abort()),he}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(Nc),a=n.objectStore(Lc),l=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let f=0;if(!this.dirtyPages||!this.pages){const m=c.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(m);for(let b=0;b<m;b++)this.pages[b]=new Uint32Array(256)}const h={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&ta.debug&&(h.crc32=hR(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),a.put(h);for(let m=0;m<l.length;m++)if(this.dirtyPages[m]|=l[m],l[m]=0,0!==this.dirtyPages[m])for(let b=1;b<256&&!(i>=this.pages.length);b<<=1){if(this.dirtyPages[m]&b){const j=uR(c.subarray(256*i,256*(i+1)));"number"==typeof j?s.put(j,[this.sessionId,i]):(this.pages[i].set(j),s.put(this.pages[i],[this.sessionId,i])),o.increase(.5),f++}i++}else i+=8;return f}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,Sr.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,c=0,f=0;const h=o.objectStore(yl),m=(a.length>>11)+(a.length%2048>0?1:0);for(let b=0;b<s.length;b++)if(this.cardDirtyPages[b]|=s[b],s[b]=0,0!==this.cardDirtyPages[b])for(let j=1;j<256&&!(l>=m);j<<=1){if(this.cardDirtyPages[b]&j){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const ee=this.cardPagePool[c++];ee.set(a.subarray(2048*l,2048*(l+1))),h.put(ee,[n.id,l]),i.increase(4),f++}l++}else l+=8;return 8*f}saveSession(n){const o=n.objectStore(Kl);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw MR}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(tr),ue(Yl),ue(Su),ue(ih),ue(Di),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),O0=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new Ro.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var I7=C(2227),x7=C.n(I7);function F0(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}function AR(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const r=t.getPointer(e.GetCurrentEntryContent()),n=e.GetCurrentEntrySize();return r>0&&n>0?t.HEAPU8.subarray(r,r+n):void 0}},e)}const kR=[J.palmPilot,J.pilot,J.iii,J.palmVx,J.palmV,J.palmVII,J.palmVIIEZ,J.palmVIIx,J.iiixe,J.iiix,J.iiie,J.m500,J.m505,J.m515,J.m520,J.iiic,J.m100,J.m105,J.m125,J.m130,J.i705,J.i710,J.handera330,J.handera330c,J.pegS300,J.pegS320,J.pegS500c,J.pegT400,J.pegN600c,J.pegT600c,J.pegN700c,J.pegT650c,J.pegNR70,J.acerS11,J.lp168];function Lt(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Pt{constructor(t){this.module=t,this.fatalErrorEvent=new Ro.j,this.pwmUpdateEvent=new Ro.j,this.proxyDisconnectEvent=new Ro.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(r=>this.proxyDisconnectEvent.dispatch(t.UTF8ToString(r)),"vi"))}static create(t){return(0,B.Z)(function*(){return new Pt(yield x7()({print:r=>console.log(r),printErr:r=>console.error(r),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:kR.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,B.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,B.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(AR(n.wrap(o),n.module))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,l=0;if(void 0!==t.metadata){const f=(new TextEncoder).encode(JSON.stringify(t.metadata));l=f.length,a=this.copyIn(f)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,l);const c=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(f=>this.cloudpilot.Free(f)),c}deserializeSessionImage(t){if(!t)return;const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),l=r.GetDeviceId();if(!kR.includes(l))return void console.warn(`unsupported device ${l}`);let c;const f=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(f)try{c=JSON.parse((new TextDecoder).decode(f))}catch(h){console.warn("invalid metadata",h)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:c,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=F0(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}}oe([Lt()],Pt.prototype,"getRomInfo",null),oe([Lt()],Pt.prototype,"initializeSession",null),oe([Lt()],Pt.prototype,"cyclesPerSecond",null),oe([Lt()],Pt.prototype,"runEmulation",null),oe([Lt()],Pt.prototype,"getFrame",null),oe([Lt()],Pt.prototype,"isScreenDirty",null),oe([Lt()],Pt.prototype,"markScreenClean",null),oe([Lt()],Pt.prototype,"minRamForDevice",null),oe([Lt()],Pt.prototype,"framebufferSizeForDevice",null),oe([Lt()],Pt.prototype,"totalMemorySizeForDevice",null),oe([Lt()],Pt.prototype,"queuePenMove",null),oe([Lt()],Pt.prototype,"queuePenUp",null),oe([Lt()],Pt.prototype,"queueButtonDown",null),oe([Lt()],Pt.prototype,"queueButtonUp",null),oe([Lt()],Pt.prototype,"queueKeyboardEvent",null),oe([Lt()],Pt.prototype,"isPowerOff",null),oe([Lt()],Pt.prototype,"isUiInitialized",null),oe([Lt()],Pt.prototype,"isSetupComplete",null),oe([Lt()],Pt.prototype,"getOSVersion",null),oe([Lt()],Pt.prototype,"reset",null),oe([Lt()],Pt.prototype,"resetNoExtensions",null),oe([Lt()],Pt.prototype,"resetHard",null),oe([Lt()],Pt.prototype,"installDb",null),oe([Lt()],Pt.prototype,"getPalette2bitMapping",null),oe([Lt()],Pt.prototype,"getMemory",null),oe([Lt()],Pt.prototype,"getMemory32",null),oe([Lt()],Pt.prototype,"getDirtyPages",null),oe([Lt()],Pt.prototype,"loadMemory",null),oe([Lt()],Pt.prototype,"getRomImage",null),oe([Lt()],Pt.prototype,"getSavestate",null),oe([Lt()],Pt.prototype,"saveState",null),oe([Lt()],Pt.prototype,"loadState",null),oe([Lt()],Pt.prototype,"getHotsyncName",null),oe([Lt()],Pt.prototype,"setClockFactor",null),oe([Lt()],Pt.prototype,"setHotsyncName",null),oe([Lt()],Pt.prototype,"setClipboardIntegration",null),oe([Lt()],Pt.prototype,"getClipboardIntegration",null),oe([Lt()],Pt.prototype,"isSuspended",null),oe([Lt()],Pt.prototype,"getSuspendKind",null),oe([Lt()],Pt.prototype,"cancelSuspend",null),oe([Lt()],Pt.prototype,"getSuspendContextClipboardCopy",null),oe([Lt()],Pt.prototype,"getSuspendContextClipboardPaste",null),oe([Lt()],Pt.prototype,"setNetworkRedirection",null),oe([Lt()],Pt.prototype,"getNetworkRedirection",null),oe([Lt()],Pt.prototype,"getSuspendContextNetworkConnect",null),oe([Lt()],Pt.prototype,"getSuspendContextNetworkRpc",null),oe([Lt()],Pt.prototype,"copyBuffer",null),oe([Lt()],Pt.prototype,"freeBuffer",null),oe([Lt()],Pt.prototype,"setHotsyncNameManagement",null),oe([Lt()],Pt.prototype,"resolveBuffer",null),oe([Lt()],Pt.prototype,"serializeSessionImage",null),oe([Lt()],Pt.prototype,"deserializeSessionImage",null),oe([Lt()],Pt.prototype,"launchAppByName",null),oe([Lt()],Pt.prototype,"launchAppByDbHeader",null),oe([Lt()],Pt.prototype,"deviceSupportsCardSize",null),oe([Lt()],Pt.prototype,"clearExternalStorage",null),oe([Lt()],Pt.prototype,"allocateCard",null),oe([Lt()],Pt.prototype,"decompressCard",null),oe([Lt()],Pt.prototype,"getCardData",null),oe([Lt()],Pt.prototype,"getCardDirtyPages",null),oe([Lt()],Pt.prototype,"getMountedKey",null),oe([Lt()],Pt.prototype,"mountCard",null),oe([Lt()],Pt.prototype,"removeCard",null),oe([Lt()],Pt.prototype,"remountCards",null),oe([Lt()],Pt.prototype,"getCardSupportLevel",null),oe([Lt()],Pt.prototype,"loadSkin",null);const T_=new Error("permission denied");let RR=(()=>{var e;class t{constructor(n,o){this.alertController=n,this.alertService=o,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(n){if(n.isSuspended())switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,B.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===T_)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}})()}tryCopyDirect(n){var o=this;return(0,B.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?T_:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,B.Z)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,B.Z)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(f){a(f)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,B.Z)(function*(){const i=yield o.tryPaste();n.getSuspendContextClipboardPaste().Resume(i??""),void 0!==i&&(o.clipboardContent=i,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,B.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===T_)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,B.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?T_:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,B.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,B.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}handlePasteSafari(n){var o=this;return(0,B.Z)(function*(){const i=yield o.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{i.dismiss(),n.Resume("")}},{text:"Paste",handler:(s=(0,B.Z)(function*(){try{o.clipboardContent=yield navigator.clipboard.readText(),o.lastClipboardReadAt=performance.now(),i.dismiss(),n.Resume(o.clipboardContent)}catch{i.dismiss(),yield o.alertService.errorMessage("Paste from host clipboard failed."),n.Resume("")}}),function(){return s.apply(this,arguments)})}]});var s;yield i.present()})()}isPermissionDenied(n){return(0,B.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(d0),ue(io))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const M7="https:"===window.location.protocol?8667:8666,A7=/^[\da-z\-\.]+$/i,k7=/^[\da-z\-\.]+:\d+$/i;function N0(e){if(!e)return;const t=window.location.protocol;if(e.match(A7))return`${t}//${e}:${M7}`;if(e.match(k7))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function R7(e){return void 0!==N0(e.value)?null:{proxyAddress:"invalid"}}let P7=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new o_({username:new Go(n?.username??""),password:new Go(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Di))},e.\u0275cmp=Ze({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Authenticate"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.saveAndContinue()}),Ce(6,"OK"),L()(),z(7,"ion-buttons",2)(8,"ion-button",1),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",3)(11,"form",4),Ne("keydown",function(s){return o.formKeyDown(s)}),z(12,"p"),Ce(13," The server requires authentication. "),L(),z(14,"ion-item",5)(15,"ion-label",6),Ce(16,"Username"),L(),je(17,"ion-input",7),L(),z(18,"ion-item",5)(19,"ion-label",6),Ce(20,"Password"),L(),je(21,"ion-input",8),L()()()),2&n&&(ge(11),Se("formGroup",o.formGroup))},dependencies:[ji,Gi,Ui,Hi,Zl,bo,zi,Wi,Zi,Wl,zl,Ul,Hl,xa,ml],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),PR=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,B.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(Md())("string"==typeof n?n:n.url);let c,f,h=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===f?f=window.setTimeout(()=>c?.present(),s):c.present();const m=i.kvsService.kvs.credentials[l.origin],b=new AbortController,j=window.setTimeout(()=>b.abort(),a),ee=yield fetch(n,{...i.requestInit(o),signal:b.signal,headers:{...o?.headers||{},...h&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(j),401===ee.status){if(!h&&m){h=!0;continue}if(c?.dismiss(),clearTimeout(f),s=0,c=void 0,s=void 0,h=!0,yield i.authenticate(l.origin))continue}return ee}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,B.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:P7,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ea),ue(Di),ue(ls))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),L0=(()=>{var e;class t{constructor(n,o,i,s){var a=this;this.kvsService=n,this.alertService=o,this.ngZone=i,this.fetchService=s,this.handleConnect=()=>this.mutex.runExclusive((0,B.Z)(function*(){a.socket&&a.disconnect(a.socket);const l=N0(a.kvsService.kvs.proxyServer);if(!l)return yield a.alertService.errorMessage(`Invalid proxy address: ${a.kvsService.kvs.proxyServer}`),void a.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield a.handshake(void 0,500);switch(c.status){case"failed":return void a.onSocketError(void 0);case"version_mismatch":return yield a.alertService.proxyVersionMismatchError(),void a.cancelSuspend();case"success":break;default:throw new Error("unreachable")}a.socket=new WebSocket(`${l.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),a.socket.binaryType="arraybuffer",a.bindListeners(a.socket),a.ngZone.run(()=>a.connectTimeoutHandle=setTimeout(a.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=A0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=l=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(l.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(l.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,l.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=l=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",l)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=l=>{l!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Ro.j,this.mutex=new vl,this.sessionId=""}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(n=this.kvsService.kvs.proxyServer,o=-1){var i=this;return(0,B.Z)(function*(){const s=N0(n);if(!s)return{status:"failed"};try{const a=yield i.fetchService.fetch(`${s}/network-proxy/handshake`,{method:"POST",loaderDelay:o});if(!a.ok)return{status:"failed"};const l=yield a.json();return l.version<3||l.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:l.token}}catch{return{status:"failed"}}})()}handleRpc(){const n=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(n.GetRequestData(),n.GetRequestSize())):n.Cancel()}disconnect(n){n&&(this.unbindListeners(n),n.close()),this.sessionId="",this.socket=void 0}bindListeners(n){this.ngZone.run(()=>{n.addEventListener("open",this.onSocketOpen),n.addEventListener("error",this.onSocketError),n.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>n.addEventListener("message",this.onSocketMessage))}unbindListeners(n){n&&(n.removeEventListener("message",this.onSocketMessage),n.removeEventListener("open",this.onSocketOpen),n.removeEventListener("error",this.onSocketError),n.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Di),ue(io),ue(Ue),ue(PR))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),FR=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),NR=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const $7=C.p+"wasm/cloudpilot_web-6338a3645e8a0053.wasm";let Ta=(()=>{var e;class t{constructor(){this.cloudpilot=Pt.create($7)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var B7=C(3097),tf=C.n(B7);const $0=524288;class B0{constructor(t,r){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(r))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const n=new t.FSTools;this.chunkBufferPtr=n.Malloc($0),t.destroy(n)}static create(t,r){return(0,B.Z)(function*(){return new B0(yield tf()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:r}),t)})()}addEntry(t,r){var n=this;return(0,B.Z)(function*(){if(!n.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${n.nativeContext.GetLastError()}`);const o=n.module.getPointer(n.chunkBufferPtr);for(let i=0;i<r.length;i+=$0){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(r.length-i,$0);if(n.module.HEAPU8.subarray(o,o+s).set(r.subarray(i,i+s)),!n.nativeContext.WriteData(n.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${n.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class V0{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,B.Z)(function*(){return new V0(yield tf()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class j0{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,B.Z)(function*(){const n=yield tf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new j0(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=F0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class M_{constructor(t,r){this.module=t,r&&this.initialize(r)}static create(t,r){return(0,B.Z)(function*(){const n=yield tf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new M_(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t.length);const n=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(n,n+t.length).set(t),this.module.destroy(r),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,B.Z)(function*(){const r=t.getNativeContext();for(;0===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gunzip failed: ${r.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),r=t.GetUncompressedSize(),n=t.GetUncompressedData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class G0{constructor(t,r){this.module=t,void 0!==r&&this.initialize(r)}static create(t,r){return(0,B.Z)(function*(){const n=yield tf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new G0(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(r),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,B.Z)(function*(){const r=t.getNativeContext();for(r.Continue();1===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gzip failed: ${r.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),r=t.GetGzipSize(),n=t.GetGzipData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const LR=new Map;class H7{constructor(t="fstools_web.wasm"){let r=LR.get(t);r||(r=function V7(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,B.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),LR.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,B.Z)(function*(){const n=yield V0.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,B.Z)(function*(){const n=yield M_.create(r.instantiante,t);if(yield n.gunzip())return n.getDecompressedData()})()}createGunzipContext(t){return M_.create(this.instantiante,t)}createGzipContext(t){return G0.create(this.instantiante,t)}createFsckContext(t){return j0.create(t,this.instantiante)}createZipContext(t){return B0.create(t,this.instantiante)}createZipfileWalker(t){var r=this;return(0,B.Z)(function*(){const n=yield tf()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:r.instantiante}),o=new n.FSTools,i=o.Malloc(t.length),s=n.getPointer(i);return n.HEAPU8.subarray(s,s+t.length).set(t),n.destroy(o),AR(new n.ZipfileWalker(t.length,i),n)})()}}var hr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(hr||{});function nf(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}function rf(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function U0(e){return`${rf(e.name)}.img`}function $R(e,t){return`backup_${rf(e.name)}${t?"_with_rom":""}.zip`}function H0(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}var kr=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(kr||{});function A_(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}const q7=C.p+"wasm/fstools_web-9237f90a406faac8.wasm";let k_=(()=>{var e;class t extends H7{constructor(){super(q7)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Y7(e,t){1&e&&(z(0,"p",10),Ce(1," ERROR: URL must be served via HTTPS. "),L())}function K7(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(Md())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let X7=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(Md())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(Md())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new o_({url:new Go("",K7)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Enter download URL"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.continue()}),Ce(6,"OK"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Ne("keydown",function(s){return o.formKeyDown(s)}),z(12,"p"),Ce(13," Please enter the URL from which to download: "),L(),z(14,"ion-item",6)(15,"ion-label",7),Ce(16,"URL"),L(),je(17,"ion-input",8),L(),Kt(18,Y7,2,0,"p",9),z(19,"p"),Ce(20," Note that the remote server needs to support the CORS protocol. "),L()()()),2&n&&(ge(5),Se("disabled",o.formGroup.invalid),ge(6),Se("formGroup",o.formGroup),ge(7),Se("ngIf",o.isMixedContent))},dependencies:[ko,ji,Gi,Ui,Hi,Zl,bo,zi,Wi,Zi,Wl,zl,Ul,Hl,xa,ml],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})(),Bc=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=c,this.cloudpilotService=f}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(n){var o=this;return(0,B.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:A_(n),rom:a,memory:l,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);m&&o.saveFile(U0(n),m)}finally{s.dismiss()}})()}saveFile(n,o){const i=new Blob([o],{type:"application/octet-stream"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download=n,a.click()}openUrl(n,o){var i=this;return(0,B.Z)(function*(){let s;try{s=new(Md())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const c=a.arrayBuffer().then(f=>new Uint8Array(f));return c.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}serializeSession(n){var o=this;return(0,B.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:A_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(n,o){var i=this;return(0,B.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,B.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:X7,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=iR||cs&&C0;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",this.input.addEventListener("change",function(){var a=(0,B.Z)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,B.Z)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(tr),ue(ea),ue(th),ue(Di),ue(ls),ue(io),ue(PR),ue(Ta))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class BR extends Error{constructor(t){super(t)}}let Xl=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this.sessions=[],this.loading=!0,this.updateMutex=new vl,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,B.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});yield a.present();try{return s.doAddSessionFromImage(n,o,i)}finally{yield a.dismiss()}})()}addSessionsFromArchive(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(n);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),c=new Set(o.sessions.map(b=>b.name));let f=1,h=!1;const m=[];for(;0===a.GetState();)try{i.message=`Importing ${f++}/${l}...`;const b=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!b)throw new BR(`${a.GetCurrentEntryName()} is not a valid session.`);const j=nf(b.metadata?.name??a.GetCurrentEntryName(),ee=>c.has(ee));yield o.doAddSessionFromImage(b,j,b.metadata)}catch(b){if(!(b instanceof BR))throw b;m.push(a.GetCurrentEntryName()),h||(h=yield o.alertService.messageWithChoice("Error",b.message,"Skip further errors",h,{},"Continue"))}finally{a.Next()}m.length<=3&&m.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${m.join("<br>")}`):m.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${m.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${m.length-3} more files.\n                    `))}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,B.Z)(function*(){const l={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:kr.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},c=yield a.loadingController.create({message:"Importing..."});yield c.present();const f=yield a.storageService.addSession(l,n);return yield a.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,B.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,B.Z)(function*(){yield o.storageService.updateSession(n)})()}saveSession(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(n);s?o.fileService.saveFile(U0(n),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of n){i.message=`Exporting ${l++}/${n.length}...`;const f=yield o.serializeSession(c);if(f){const h=nf(c.name.replace(/[\/\\]/,"_").substring(0,200),m=>a.has(m));a.add(h),yield s.addEntry(h+".img",f)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function z7(){return`${rf("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(n){var o=this;return(0,B.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:A_(n),rom:a,memory:l,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);m&&o.fileService.saveFile(U0(n),m)}finally{s.dismiss()}})()}serializeSession(n){var o=this;return(0,B.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:A_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var n=this;return(0,B.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,B.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}doAddSessionFromImage(n,o,i={}){var s=this;return(0,B.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:kr.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},l=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),l})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ta),ue(tr),ue(ea),ue(k_),ue(io),ue(Bc))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Q7=C(8886),J7=C.n(Q7),bl=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(bl||{}),Iu=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(Iu||{});function eZ(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function VR(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:eZ(e.GetAttributes())}}class z0{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,B.Z)(function*(){return new z0(yield J7()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=F0(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(VR(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:VR(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,B.Z)(function*(){const i=new o.module.ExportZipContext(n,25),s=[];try{for(t&&t.forEach(f=>i.AddFile(f)),r&&r.forEach(f=>i.AddDirectory(f));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(f=>setTimeout(f,0)))}let a;const l=o.module.getPointer(i.GetZipContent()),c=i.GetZipSize();return 0!==l&&0!==c&&(a=o.module.HEAPU8.subarray(l,l+c).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,B.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,B.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(bl.success);case-3:return a(bl.cardFull);case-1:return a(bl.ioError);case-2:return a(bl.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,B.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return Iu.success;case-2:return Iu.cardFull;case-1:return Iu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var tZ=C(307),jR=C.n(tZ);function GR(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const nZ=C.p+"wasm/vfs_web-65d4c4c58f79c339.wasm";let xu=(()=>{var e;class t{constructor(n,o,i,s,a){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertService=a,this.onReleaseCard=new Ro.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=z0.create(nZ),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(l=>this.vfsInstance=l)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,B.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,B.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,Sr.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(n,c,Sr.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,Sr.vfs),!1)})()}releaseCard(n){var o=this;return(0,B.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,Sr.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,B.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(n);if(0===a)if(void 0===o.attributes||jR()(o.attributes,l.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,B.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=n.filter(b=>b.isDirectory).map(b=>i.normalizePath(b.path)),c=n.filter(b=>!b.isDirectory).map(b=>i.normalizePath(b.path)),f=1===n.length?`${n[0].name}.zip`:function Z7(e){return`files_${rf(e.name)}.zip`}(i.primaryCard),{archive:h,failedItems:m}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),m.length>0&&(m.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),h&&i.fileService.saveFile(f,h)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,B.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,B.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,B.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===hr.clean||n.status===hr.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,B.Z)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(n,o);let f,h;switch(yield s.dismiss(),c){case bl.success:f="The archive was extracted successfully, but some entries were skipped.",h="Skipped entries";break;case bl.ioError:return void(yield i.fatalError("There was an error writing to the card."));case bl.cardFull:f="No space left on card.",h="No space left";break;case bl.zipfileError:f="There was an error reading from the archive.",h="Error reading archive";break;default:throw new Error("unreachable")}const m=a-l,b=j=>j>1?`${j} entries`:"one entry";a>0&&m===a&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    The archive contains ${b(a)}, but none could be unpacked.\n                `)),m>0&&l>0&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    ${GR(b(l))} unpacked succesfully, but ${b(m)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,B.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case Iu.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case Iu.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,B.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(n.length-a.length)} to card. ${GR(l(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,B.Z)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,f=!1,h=!1,m=!1;e:for(let b=0;b<n.length;b++){const j=n[b],ee=s.find(ye=>ye.name===j.name);if(ee&&ee.isDirectory){if(!h){const{overwrite:Ie,rememberChoice:St}=yield i.overwriteFileDialog(j.name,"directory");m=Ie,h=St}let ye=!0;if(m&&(ye=!(yield l.deleteRecursive([i.normalizePath(`${o}/${j.name}`)])).success),ye){a.push(j.name);continue}}if(ee&&!ee.isDirectory){if(!c){const{overwrite:ye,rememberChoice:Ie}=yield i.overwriteFileDialog(j.name,"file");f=ye,c=Ie}if(!f){a.push(j.name);continue}}let he;try{he=yield j.getContent()}catch(ye){console.warn(ye),a.push(j.name),yield i.alertService.errorMessage(`Unable to open ${j.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${j.name}`),he)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(b).map(ye=>ye.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(j.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,B.Z)(function*(c){if(i)return o;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=f,i=h,o}),function(f){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,B.Z)(function*(c){if(a)return s;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=f,a=h,s});return function(f){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(n,o){var i=this;return(0,B.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(l=(0,B.Z)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(f){return l.apply(this,arguments)})});var l;return a.result!==bl.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,B.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===Iu.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,B.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,Sr.vfs),yield n.storageService.loadCardData(o.id,s,Sr.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,Sr.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,B.Z)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                     Do you want to overwrite the existing directory ${n}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,B.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,B.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:hr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,B.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),l=s.getDirtyPagesForSlot(n);!a||!l||(yield o.storageService.updateCardData(i.id,a,l,Sr.vfs),l.fill(0))})()}activatePrimaryCard(){var n=this;return(0,B.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,B.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(tr),ue(ih),ue(Bc),ue(ea),ue(io))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Ho=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(Ho||{});class P_ extends Error{constructor(t){super(t)}}function UR(){return A0().replace(/-/g,"")}let sf=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,m,b,j){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=f,this.fileService=h,this.vfsService=m,this.storageCardContext=b,this.fstools=j,this.mountCardEvent=new Ro.j,this.deleteCardEvent=new Ro.j,this.loading=!0,this.cards=[],this.updateMutex=new vl,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,B.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function rZ(e){switch(e){case Ho.mb4:return 4;case Ho.mb8:return 8;case Ho.mb16:return 16;case Ho.mb32:return 32;case Ho.mb64:return 64;case Ho.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:UR(),name:n,size:4*l.length,status:hr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,B.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(n,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,Sr.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,B.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(n,Sr.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,Sr.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,B.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:hr.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,Sr.cloudpilot)})()}checkCard(n){var o=this;return(0,B.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,Sr.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,B.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===Sr.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,B.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=hr.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,B.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const f of n){c++;const h=yield o.getCard(f);if(!h)continue;i.message=`Exporting ${c}/${n.length}...`;const m=nf(h.name,j=>a.has(j));a.add(m);const b=yield o.getCardData(h,m,l);b&&(yield s.addEntry(`${m}.img.gz`,b))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function W7(){return`${rf("cards")}.zip`}(),s.getContent())})()}getCard(n){var o=this;return(0,B.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}addAllCardsFromArchive(n){var o=this;return(0,B.Z)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=cs?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"",a=yield o.loadingController.create({message:"Importing..."});try{yield a.present();const l=yield o.cloudpilotService.cloudpilot,c=yield o.fstools.createZipfileWalker(n);if(-1===c.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const f=c.GetTotalEntries(),h=new Set((yield o.getAllCards()).map(he=>he.name)),m=yield o.fstools.createGunzipContext();let b=1,j=!1;const ee=[];for(;0===c.GetState();){a.message=`Importing ${b++}/${f}...`;let he=c.GetCurrentEntryName();try{if(!i.test(he))throw new P_(`${he} has the wrong suffix to be considered as a card image.`);let ye=c.GetCurrentEntryContent();if(he.endsWith(".gz")&&ye&&(m.initialize(ye),ye=(yield m.gunzip())?m.getDecompressedData():void 0,he=he.substring(0,he.length-3)),void 0===ye)throw new P_(`Failed to extract ${he}. ${s}`);if(0===l.getCardSupportLevel(ye.length))throw new P_(`${he} is not a valid card image.`);const Ie=nf(he.replace(i,""),St=>h.has(St));yield o.doCreateCardFromImage(Ie,ye,!1,!0)}catch(ye){if(!(ye instanceof P_))throw ye;ee.push(he),j||(j=yield o.alertService.messageWithChoice("Error",ye.message,"Skip further errors",j,{},"Continue"))}finally{c.Next()}}ee.length<=3&&ee.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${ee.join("<br>")}`):ee.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${ee.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${ee.length-3} more files.\n                    `))}catch(l){yield a.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${l?.message??"unknown error"}<br><br>${s}`)}finally{a.dismiss()}})()}doCreateCardFromImage(n,o,i,s=!1){var a=this;return(0,B.Z)(function*(){const l={storageId:UR(),name:n,size:o.length,status:s?hr.dirty:hr.clean,dontFsckAutomatically:i},c=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2);if(s||i)yield a.storageService.importStorageCard(l,c);else{const[f,h]=yield a.fsckNewCard(c,l);yield a.storageService.importStorageCard(h,f)}})()}getCardData(n,o,i){var s=this;return(0,B.Z)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(n.size),i){const f=i.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}const l=s.mountedInSession(n.id);let c;return l&&l.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),c=(yield s.cloudpilotService.cloudpilot).getCardData(n.storageId),c&&(a?a.set(c):a=c)),c||(a||(a=new Uint32Array(n.size>>>2)),yield s.storageService.loadCardData(n.id,a,s.storageCardContext.getOwner(n.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var n=this;return(0,B.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,B.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,B.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,B.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===hr.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(n,Sr.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case hr.clean:break;case hr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case hr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case hr.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return i.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,Sr.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Sr.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:hr.clean}),o.storageCardContext.release(n,Sr.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:hr.unformatted}),o.storageCardContext.release(n,Sr.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:hr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:hr.unfixable}),o.storageCardContext.release(n,Sr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,B.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),Sr.fstools),yield i.storageService.updateStorageCardPartial(n,{status:hr.clean}),i.storageCardContext.release(n,Sr.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,B.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[n,{...o,status:hr.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:hr.clean}]:[n,{...o,status:hr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:hr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:hr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,B.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:hr.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,B.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(n,o),c=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:hr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!c.mountCard(l.storageId))throw c.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,B.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Xl),ue(tr),ue(Yl),ue(Ta),ue(ea),ue(lh),ue(io),ue(Su),ue(Bc),ue(xu),ue(ih),ue(k_))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Ma=(()=>{var e;class t extends C7{constructor(n,o,i,s,a,l,c,f,h,m,b,j,ee,he,ye,Ie,St,bt){var ht;super(),ht=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.modalWatcher=f,this.clipboardService=h,this.kvsService=m,this.proxyService=b,this.buttonService=j,this.bootstrapService=ee,this.cloudpilotService=he,this.storageCardService=ye,this.storageCardContext=Ie,this.sessionsService=St,this.app=bt,this.switchSession=(Rn,$s={})=>this.mutex.runExclusive((0,B.Z)(function*(){if(Rn===ht.emulationState.getCurrentSession()?.id)return!0;let qi;yield ht.stopUnchecked(),yield ht.bootstrapService.hasRendered(),($s.showLoader??1)&&(qi=yield ht.loadingController.create({message:"Loading..."}),yield qi.present());try{const L_=yield ht.storageService.getSession(Rn);if(!L_)throw new Error(`invalid session ${Rn}`);ht.emulationState.setCurrentSession(void 0);const _K=yield ht.cloudpilotService.cloudpilot;if(!(yield ht.restoreSession(L_,_K)))return ht.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;ht.emulationState.setCurrentSession(L_),yield ht.sessionsService.updateSession({...L_,lastLaunch:Date.now()}),function x9(e){localStorage.setItem(S_,e+"")}(Rn)}finally{qi&&(yield qi.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,B.Z)(function*(){!ht.emulationState.getCurrentSession()||ht.running||ht.errorService.hasFatalError()||!ht.cloudpilotInstance||(yield ht.kvsService.mutex.runExclusive(()=>ht.updateFeatures()),ht.doResume(),ht.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,B.Z)(function*(){ht.doPause(),!ht.errorService.hasFatalError()&&ht.emulationState.getCurrentSession()&&(yield ht.snapshotService.waitForPendingSnapshot(),yield ht.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Rn,$s])=>this.mutex.runExclusive((0,B.Z)(function*(){const qi=ht.emulationState.getCurrentSession();Rn===qi?.id&&(void 0!==qi.mountedCard&&void 0===$s&&ht.storageCardContext.release(qi.mountedCard,Sr.cloudpilot),ht.emulationState.setCurrentSession($s),ht.emulationState.getCurrentSession()||(lR(),ht.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,B.Z)(function*(){const Rn=ht.emulationState.getCurrentSession();Rn&&ht.sessionsService.emergencySaveSession(Rn)})),this.mutex=new vl,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Rn=>{Rn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Rn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const An=function I9(){const e=localStorage.getItem(S_);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==An&&!OT()&&(this.bootstrapCompletePromise=this.recoverStoredSession(An))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?Jd.timeout:Jd.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,B.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,B.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,B.Z)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{cs&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,B.Z)(function*(){const[s,a,l]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,l)&&(i.proxyService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(tr),ue(Ue),ue(ea),ue(Yl),ue(lh),ue(Su),ue(io),ue(O0),ue(RR),ue(Di),ue(L0),ue(FR),ue(NR),ue(Ta),ue(sf),ue(ih),ue(Xl),ue(Sa))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),W0=(()=>{var e;class t{constructor(n){this.loadingController=n,this.reloadOnControllerChange=!1,this.updateAvailableEvent=new Ro.j,this.register()}isEnabled(){return ta.production&&!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}update(){var n=this;return(0,B.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,B.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}register(){var n=this;return(0,B.Z)(function*(){if(n.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>n.reloadOnControllerChange&&window.location.reload()),yield new Promise(o=>setTimeout(o,3e3));try{n.setupRegistration(yield n.doRegister())}catch(o){console.error(o)}}})()}doRegister(){return(0,B.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ea))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),HR=(()=>{var e;class t{constructor(n,o,i,s,a){var l=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,B.Z)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==Du&&(yield l.kvsService.set({version:Du,previousVersion:c,latestVersion:Du}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Du}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=Du})),this.mutex=new vl,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,B.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,B.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===Du){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,B.Z)(function*(){yield(yield n.modalController.create({component:Eu,componentProps:{url:SR,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,B.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Di),ue(Ma),ue(io),ue(ls),ue(W0))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),cZ=(()=>{var e;class t{constructor(n,o,i){this.kvsService=n,this.alertService=o,this.emulationService=i}start(){var n=this;return(0,B.Z)(function*(){const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o)})()}showInfo(n){var o=this;return(0,B.Z)(function*(){return 2===n&&cs&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Di),ue(io),ue(Ma))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),uZ=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,B.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(bR),v(HR),v(NR),v(cZ))},e.\u0275cmp=Ze({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(z(0,"ion-app"),je(1,"ion-router-outlet"),L())},dependencies:[Lk,eh]}),t})(),zR=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(z(0,"div"),Ce(1,"Dummy"),L())},encapsulation:2}),t})(),WR=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Xb),ue(jo))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Z0=J.m515,dZ=R0[2],fZ=R0[0],af="rgba(0,0,0,0.2)";function ZR(e){const t=ah(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=l=>({frameDevice:l,frameCanvas:l*r}),i=l=>({frameDevice:l,frameCanvas:n.frameCanvas+l*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function gZ(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class _Z{constructor(t){this.skinLoader=t,this.layout=ZR(Z0),this.onResize=new Ro.j}get width(){switch(this.getOrientation()){case kr.portrait:case kr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case kr.portrait:case kr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case kr.landscape90:{const h=c;c=this.layout.height.frameDevice-l,l=h;break}case kr.landscape270:{const h=c;c=l,l=this.layout.width.frameDevice-h;break}case kr.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const f=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=f&&(c=f-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=f)return;return[l,c]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,B.Z)(function*(){if(!t)return;r.layout=ZR(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,B.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,af),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,af),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,af),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,af),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,af),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,af))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case kr.portrait:case void 0:break;case kr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case kr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case kr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,B.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,dZ),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case J.pegT600c:case J.pegT650c:return"silkscreen/clie-t600.svg";case J.pegN700c:case J.pegN600c:return"silkscreen/clie-n610.svg";case J.pegS320:case J.pegS300:return"silkscreen/clie-s300.svg";case J.pegS500c:return"silkscreen/clie-s500.svg";case J.pegT400:return"silkscreen/clie-t415.svg";case J.acerS11:return"silkscreen/acer-s10.svg";case J.palmPilot:case J.pilot:case J.iii:case J.palmVII:return"silkscreen/pilot.svg";case J.m500:return"silkscreen/m500.svg";case J.m505:case J.m515:case J.m520:return"silkscreen/m515.svg";case J.iiic:return"silkscreen/iiic.svg";case J.m100:case J.m105:case J.m125:return"silkscreen/m100.svg";case J.m130:return"silkscreen/m130.svg";case J.i710:return"silkscreen/tungstenw.svg";case J.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case J.acerS11:return"hard-buttons/acer-s10.svg";case J.pegNR70:return"hard-buttons/clie-nr70.svg";case J.pegN700c:return"hard-buttons/clie-n700.svg";case J.pegN600c:return"hard-buttons/clie-n610.svg";case J.pegS300:return"hard-buttons/clie-s300.svg";case J.pegS500c:return"hard-buttons/clie-s500.svg";case J.pegS320:return"hard-buttons/clie-s320.svg";case J.pegT400:case J.pegT600c:case J.pegT650c:return"hard-buttons/clie-t415.svg";case J.pilot:case J.palmPilot:return"hard-buttons/pilot.svg";case J.m500:return"hard-buttons/m500.svg";case J.m505:case J.m515:case J.m520:return"hard-buttons/m515.svg";case J.iiic:return"hard-buttons/iiic.svg";case J.m100:case J.m105:return"hard-buttons/m100.svg";case J.m125:return"hard-buttons/m125.svg";case J.m130:return"hard-buttons/m130.svg";case J.i710:return"hard-buttons/tungstenw.svg";case J.iii:case J.iiix:case J.iiixe:case J.palmVII:case J.palmVIIEZ:case J.palmVIIx:return"hard-buttons/iiix.svg";case J.iiie:return"hard-buttons/iiie.svg";case J.i705:return"hard-buttons/i705.svg";case J.handera330:return"hard-buttons/handera330.svg";case J.handera330c:return"hard-buttons/handera330c.svg";case J.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return P0(this.getDeviceId())?"white":fZ}frameColor(){return P0(this.getDeviceId())?"white":"#ccc"}}function yZ(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class CZ{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,yZ((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function vZ(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,B.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(iR||cs)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let O_=(()=>{var e;class t extends _Z{constructor(n){super(new CZ(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,B.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,B.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,B.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??Z0}getOrientation(){return this.session?.deviceOrientation??kr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function SZ(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(ah(this.session?.device??Z0).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*f)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ta))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),q0=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(v(jo),v(O_),v(Yl))},e.\u0275cmp=Ze({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(z(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),je(4,"ion-icon",3),z(5,"ion-label"),Ce(6,"Emulator"),L()(),z(7,"ion-tab-button",4),je(8,"ion-icon",5),z(9,"ion-label"),Ce(10,"Sessions"),L()(),z(11,"ion-tab-button",6),je(12,"ion-icon",7),z(13,"ion-label"),Ce(14,"Cards"),L()(),z(15,"ion-tab-button",8),je(16,"ion-icon",9),z(17,"ion-label"),Ce(18,"Settings"),L()(),z(19,"ion-tab-button",10),je(20,"ion-icon",11),z(21,"ion-label"),Ce(22,"About"),L()()()()()),2&n&&(ge(2),Ys("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[Uo,zi,__,Bk,Vk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),ch=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({imports:[cl,b0.forChild(),Oc,vu,c_]}),t})(),wZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({imports:[cl,vu,Oc,ch,b0.forChild()]}),t})(),EZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({imports:[cl,vu,Oc,ch]}),t})(),DZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({imports:[cl,vu,Oc,c_,ch]}),t})(),IZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({imports:[cl,vu,Oc,ch,c_]}),t})(),xZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({imports:[cl,Oc,vu,c_,ch]}),t})();const TZ=C.p+"assets/doc/about-d0ca8b5cf1135905.md";function MZ(e,t){if(1&e){const r=Nn();z(0,"ion-button",1),Ne("click",function(){return It(r),xt(ut().onClick())}),je(1,"ion-icon",2),L()}if(2&e){const r=ut();ge(1),Se("name",r.iconName)}}let F_=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return cs?"logo-apple-appstore":sR?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(bR))},e.\u0275cmp=Ze({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&Kt(0,MZ,2,1,"ion-button",0),2&n&&Se("ngIf",o.show)},dependencies:[ko,ji,Uo]}),t})();function AZ(e,t){1&e&&(z(0,"div",10),je(1,"ion-spinner"),L())}function kZ(e,t){1&e&&(z(0,"div"),Ce(1,"app cached for offline use"),L())}let RZ=(()=>{var e;class t{constructor(n,o){this.modalController=n,this.serviceWorkerService=o,this.loading=!0}get version(){return Du}get url(){return TZ}showChangelog(){var n=this;return(0,B.Z)(function*(){yield(yield n.modalController.create({component:Eu,componentProps:{url:SR,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ls),v(W0))},e.\u0275cmp=Ze({type:e,selectors:[["app-about"]],decls:21,vars:4,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"About"),L(),z(4,"ion-buttons",0),je(5,"app-pwa-prompt"),L()()(),z(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),Ce(10,"About"),L()()(),Kt(11,AZ,2,0,"div",3),z(12,"div",4)(13,"markdown",5),Ne("load",function(){return o.loading=!1}),L()(),z(14,"div",6),Ce(15),je(16,"br"),z(17,"a",7),Ne("click",function(){return o.showChangelog()}),Ce(18,"Changelog"),L(),Kt(19,kZ,2,0,"div",8),L(),je(20,"img",9),L()),2&n&&(ge(11),Se("ngIf",o.loading),ge(2),Se("src",o.url),ge(2),mi(" CloudpilotEmu version ",o.version," "),ge(4),Se("ngIf",o.serviceWorkerAvailable))},dependencies:[ko,Gi,Ui,Hi,Qp,Wi,Zi,F_,y0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function PZ(e,t){if(1&e&&(z(0,"ion-select-option",16),Ce(1),L()),2&e){const r=t.$implicit;Se("value",r[0]),ge(1),mi("",r[1]," ")}}function OZ(e,t){if(1&e&&(z(0,"ion-select-option",16),Ce(1),L()),2&e){const r=t.$implicit;Se("value",r[0]),ge(1),mi("",r[1]," ")}}function FZ(e,t){if(1&e&&(z(0,"ion-item",6)(1,"ion-label",7),Ce(2,"Hotsync name"),L(),je(3,"ion-input",17),L()),2&e){const r=ut();ge(3),Se("placeholder",r.placeholder)}}let qR=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[kr.portrait,"Portrait"],[kr.landscape90,"Landscape 90\xb0"],[kr.landscape270,"Landscape 270\xb0"],[kr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,ER(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function f7(e){switch(e){case J.palmPilot:case J.pilot:case J.iii:case J.palmVII:case J.palmVx:case J.palmV:case J.palmVIIEZ:case J.palmVIIx:case J.iiic:case J.iiix:case J.iiixe:case J.iiie:case J.m100:case J.m105:case J.pegS300:case J.pegS500c:return 16;case J.m500:case J.m505:case J.m515:case J.m520:case J.m125:case J.m130:case J.i705:case J.i710:case J.handera330:case J.handera330c:case J.pegS320:case J.pegT400:case J.pegN600c:case J.pegT600c:case J.pegN700c:case J.acerS11:return 33;case J.pegT650c:case J.pegNR70:case J.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new o_({name:new Go(this.session.name,{validators:[jp.required,this.validateNameUnique]}),manageHotsyncName:new Go(!this.session.dontManageHotsyncName),hotsyncName:new Go(this.session.hotsyncName||""),device:new Go({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Go((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Go(this.session.deviceOrientation||kr.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Xl),v(io))},e.\u0275cmp=Ze({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Session settings"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.save()}),Ce(6,"Save"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),z(12,"h1"),Ce(13,"Session"),L(),z(14,"ion-item",6)(15,"ion-label",7),Ce(16,"Session name"),L(),je(17,"ion-input",8),L(),z(18,"h1"),Ce(19,"Device"),L(),z(20,"ion-item",6)(21,"ion-label",7),Ce(22,"Device type"),L(),z(23,"ion-select",9),Kt(24,PZ,2,2,"ion-select-option",10),L()(),z(25,"ion-item",6)(26,"ion-label",7),Ce(27,"Orientation"),L(),z(28,"ion-select",11),Kt(29,OZ,2,2,"ion-select-option",10),L()(),z(30,"ion-item",6)(31,"ion-label",12),Ce(32),L(),z(33,"ion-range",13),Ne("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),L()(),z(34,"h1"),Ce(35,"Hotsync"),L(),z(36,"ion-item",6)(37,"ion-label"),Ce(38,"Manage hotsync name"),L(),je(39,"ion-toggle",14),L(),Kt(40,FZ,4,1,"ion-item",15),L()()),2&n&&(ge(5),Se("disabled",o.formGroup.invalid),ge(6),Se("formGroup",o.formGroup),ge(13),Se("ngForOf",o.deviceList),ge(5),Se("ngForOf",o.orientations),ge(3),Fi(o.speedLabel),ge(8),Se("ngIf",o.showHotsyncNameInput))},dependencies:[wc,ko,ji,Gi,Ui,Hi,Zl,bo,zi,c0,m_,g_,Wi,Jp,Zi,qd,d_,Wl,zl,Ul,Hl,n0,xa,ml],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),NZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=c}saveBackup(n){var o=this;return(0,B.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const c=yield o.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,B.Z)(function*(h){for(h.Init(n);h.IsInProgress();){const m=h.GetCurrentDatabase();h.Save()||a.push(m),yield new Promise(b=>setTimeout(b,0))}l=c.getArchive(h)});return function(h){return f.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${H0(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile($R(i,n),l)},"Cancel"):o.fileService.saveFile($R(i,n),l):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ma),ue(ea),ue(lh),ue(Bc),ue(Yl),ue(io),ue(Ta))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const LZ=window.AudioContext||window.webkitAudioContext;function Y0(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class $Z{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,B.Z)(function*(){if(!r.initialized){try{r.context=new LZ}catch(n){return console.error(n),void console.error("web audio not available")}try{r.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield r.start()}catch(n){return console.error(n),void console.error("failed to initialize audio context")}r.context.addEventListener("statechange",()=>{"interrupted"===r.context?.state&&r.updateState()}),r.gainNode=r.context.createGain(),r.gainNode.channelCount=1,r.gainNode.channelInterpretation="speakers",r.gainNode.gain.value=r.gain(),r.gainNode.connect(r.context.destination),r.applyPwmUpdate(),r.initialized=!0}})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,B.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield Y0(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield Y0(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,B.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new vl,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),cs||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||cs||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var t=this;return(0,B.Z)(function*(){t.context&&(yield Y0(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let K0=(()=>{var e;class t extends $Z{constructor(n,o,i){super(n),this.kvs=o,this.modalWatcher=i,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ma),ue(Di),ue(O0))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),KR=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ma),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function VZ(e,t){if(1&e){const r=Nn();z(0,"ion-item",4),Ne("click",function(){return It(r),xt(ut().power())}),z(1,"ion-label"),Ce(2,"Power"),L(),je(3,"ion-icon",5),L()}if(2&e){const r=ut();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function jZ(e,t){if(1&e){const r=Nn();z(0,"ion-item",4),Ne("click",function(){return It(r),xt(ut().hotsync())}),z(1,"ion-label"),Ce(2,"Hotsync"),L(),je(3,"ion-icon",6),L()}if(2&e){const r=ut();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function GZ(e,t){if(1&e){const r=Nn();z(0,"ion-item",4),Ne("click",function(){return It(r),xt(ut().reset())}),z(1,"ion-label"),Ce(2,"Reset"),L(),je(3,"ion-icon",7),L()}if(2&e){const r=ut();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function UZ(e,t){if(1&e){const r=Nn();z(0,"ion-item",8),Ne("click",function(){return It(r),xt(ut().insertCard())}),z(1,"ion-label"),Ce(2),L(),je(3,"ion-icon",9),L()}if(2&e){const r=ut();Se("detail",!1),ge(2),mi("Insert ",r.hasMemorystick?"stick":"SD card","")}}function HZ(e,t){if(1&e){const r=Nn();z(0,"ion-item",8),Ne("click",function(){return It(r),xt(ut().ejectCard())}),z(1,"ion-label"),Ce(2),L(),je(3,"ion-icon",10),L()}if(2&e){const r=ut();Se("detail",!1),ge(2),mi("Eject ",r.hasMemorystick?"stick":"SD card","")}}function zZ(e,t){if(1&e){const r=Nn();z(0,"ion-item",8),Ne("click",function(){return It(r),xt(ut().mute(!1))}),z(1,"ion-label"),Ce(2,"Enable audio"),L(),je(3,"ion-icon",11),L()}2&e&&Se("detail",!1)}function WZ(e,t){if(1&e){const r=Nn();z(0,"ion-item",8),Ne("click",function(){return It(r),xt(ut().mute(!0))}),z(1,"ion-label"),Ce(2,"Disable audio"),L(),je(3,"ion-icon",12),L()}2&e&&Se("detail",!1)}function ZZ(e,t){if(1&e){const r=Nn();z(0,"ion-item",4),Ne("click",function(){return It(r),xt(ut().backup())}),z(1,"ion-label"),Ce(2,"Save backup"),L(),je(3,"ion-icon",13),L()}if(2&e){const r=ut();Se("detail",!1)("disabled",r.backupDisabled)}}function qZ(e,t){if(1&e){const r=Nn();z(0,"ion-item",8),Ne("click",function(){return It(r),xt(ut().rotate())}),z(1,"ion-label"),Ce(2,"Rotate"),L(),je(3,"ion-icon",14),L()}2&e&&Se("detail",!1)}function YZ(e,t){if(1&e){const r=Nn();z(0,"ion-item",8),Ne("click",function(){return It(r),xt(ut().editSettings())}),z(1,"ion-label"),Ce(2,"Settings"),L(),je(3,"ion-icon",15),L()}2&e&&Se("detail",!1)}function KZ(e){switch(e){case kr.portrait:case void 0:return kr.landscape90;case kr.landscape90:return kr.portrait180;case kr.portrait180:return kr.landscape270;case kr.landscape270:return kr.portrait;default:throw new Error("cannot happen")}}let XZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,m,b,j,ee,he,ye,Ie,St,bt){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=f,this.modalController=h,this.sessionService=m,this.performanceWatchdogService=b,this.canvasDisplayService=j,this.cloudpilotService=ee,this.storageCardService=he,this.alertService=ye,this.alertController=Ie,this.storageService=St,this.errorService=bt,this.showHelp=()=>{}}reset(){var n=this;return(0,B.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,B.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function p7(e){switch(e){case J.i705:case J.i710:case J.pegNR70:case J.pegT650c:case J.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&DR(n.device)!==ef.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&DR(n.device)===ef.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,B.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:qR,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,B.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,B.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:KZ(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,B.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(l=>i.deviceSupportsCardSize(l.size)&&!n.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>n.storageCardService.insertCard(l)}],inputs:s.map((l,c)=>({label:l.name,type:"radio",value:l.id,checked:0===c})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,B.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ma),v(Yl),v(NZ),v(FR),v(th),v(ql),v(K0),v(Di),v(ls),v(Xl),v(KR),v(O_),v(Ta),v(sf),v(io),v(d0),v(tr),v(Su))},e.\u0275cmp=Ze({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list"),Kt(1,VZ,4,2,"ion-item",0)(2,jZ,4,2,"ion-item",0)(3,GZ,4,2,"ion-item",0)(4,UZ,4,2,"ion-item",1)(5,HZ,4,2,"ion-item",1)(6,zZ,4,1,"ion-item",1)(7,WZ,4,1,"ion-item",1)(8,ZZ,4,2,"ion-item",0)(9,qZ,4,1,"ion-item",1)(10,YZ,4,1,"ion-item",1),z(11,"ion-item",2),Ne("click",function(){return o.help()}),z(12,"ion-label"),Ce(13,"Help"),L(),je(14,"ion-icon",3),L()()),2&n&&(ge(1),Se("ngIf",o.hasActiveSession&&!o.powerDisabled),ge(1),Se("ngIf",o.hasActiveSession),ge(1),Se("ngIf",o.hasActiveSession),ge(1),Se("ngIf",o.supportsStorageCard&&!o.hasMountedCard),ge(1),Se("ngIf",o.supportsStorageCard&&o.hasMountedCard),ge(1),Se("ngIf",o.isMuted&&!o.isAudioOff),ge(1),Se("ngIf",!o.isMuted&&!o.isAudioOff),ge(1),Se("ngIf",o.hasActiveSession),ge(1),Se("ngIf",o.hasActiveSession),ge(1),Se("ngIf",o.hasActiveSession),ge(1),Se("detail",!1))},dependencies:[ko,Uo,bo,zi,Fs]}),t})();const QZ=C.p+"assets/doc/emulation-36994d751edec46c.md";function JZ(e,t){if(1&e){const r=Nn();z(0,"ion-item",2),Ne("click",function(){const i=It(r).$implicit;return xt(ut(2).onSelect(i))}),z(1,"div",3),Ce(2),L()()}if(2&e){const r=t.$implicit,n=t.index,o=ut(2);Se("detail",!1)("lines",n===o.sessions.length-1?"none":"full"),ge(2),Fi(r.name)}}function eq(e,t){if(1&e&&(z(0,"ion-list"),Kt(1,JZ,3,3,"ion-item",1),L()),2&e){const r=ut();ge(1),Se("ngForOf",r.sessions)}}let tq=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[1,"text-wrapper"]],template:function(n,o){1&n&&Kt(0,eq,2,1,"ion-list",0),2&n&&Se("ngIf",o.sessions)},dependencies:[wc,ko,bo,Fs],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}),t})();class nq{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const f=this.canvasDisplayService.determineButton(c);f===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):f!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=f,this.handleButtonDown(f));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let rq=(()=>{var e;class t extends nq{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ma),ue(O_),ue(O0),ue(Ue),ue(Sa))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function XR(e){return/\.(prc|pdb|pqa)$/i.test(e)}class lq{constructor(t,r,n,o,i){this.cloudpilotService=t,this.fstools=r,this.alertService=n,this.snapshotService=o,this.files=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,B.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else XR(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,B.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function aq(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,B.Z)(function*(){const n=yield r.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===n.GetState();){const i=n.GetCurrentEntryName().replace(/^.*\//,"");if(!XR(n.GetCurrentEntryName())){n.Next();continue}const s=n.GetCurrentEntryContent();s?(yield r.installOne(i,s),o++):r.filesFail.push(i),n.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function sq(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,r,"Skip any remaining errors",!1,{},"Continue").then(n=>{this.skipErrors=n})}}let cq=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.fstools=l}installFiles(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new lq(o.cloudpilotService,o.fstools,o.alertService,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const c=[o.messageSuccess(s),o.messageFailed(a),o.messageRequireReset(l)].filter(h=>!!h).join("<br/><br/>");let f;f=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(f,c,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${H0(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${H0(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ta),ue(Ma),ue(ea),ue(lh),ue(io),ue(k_))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),X0=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function uq(e,t){1&e&&je(0,"div",2)}const dq=["*"];let fq=0,QR=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new on,this.triggerId="breadcrumb-trigger-"+fq++}handleClick(n){this.disabled||(n.preventDefault(),this.trigger.emit(this.triggerId))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(n,o){1&n&&Ne("click",function(s){return o.handleClick(s)}),2&n&&(As("id",o.triggerId),Ys("disabled",o.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},ngContentSelectors:dq,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(n,o){1&n&&(vt(),z(0,"div",0),_t(1),L(),Kt(2,uq,1,0,"div",1)),2&n&&(ge(2),Se("ngIf",!o.disabled))},dependencies:[ko],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}),t})();var uh;const pq=["canvas"];function hq(e,t){1&e&&je(0,"div",11),2&e&&nu("width",ut().iosPlaceholderWidth)}function mq(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Ne("click",function(){return It(r),xt(ut().navigation.lock())}),je(1,"ion-icon",13),L()}}function gq(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Ne("click",function(){return It(r),xt(ut().navigation.unlock())}),je(1,"ion-icon",14),L()}}function _q(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Ne("click",function(o){return It(r),xt(ut().openContextMenu(o))}),je(1,"ion-icon",15),L()}}function vq(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Ne("click",function(){return It(r),xt(ut().showGameModeHint())}),je(1,"ion-icon",16),L()}}function yq(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Ne("click",function(){return It(r),xt(ut().showProxyConnectedHint())}),je(1,"ion-icon",17),L()}}function bq(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Ne("click",function(){return It(r),xt(ut().showSlowdowndHint())}),je(1,"ion-icon",18),L()}}function Cq(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Ne("click",function(o){return It(r),xt(ut().openContextMenu(o))}),je(1,"ion-icon",15),L()}}function Sq(e,t){if(1&e){const r=Nn();z(0,"div",19),Ce(1," The device was reset forcefully. How do you want to boot? "),z(2,"ion-button",20),Ne("click",function(){return It(r),xt(ut().bootAfterForcefulReset())}),Ce(3,"Normal boot"),L(),z(4,"ion-button",20),Ne("click",function(){return It(r),xt(ut().bootAfterForcefulResetNoExtensions())}),Ce(5,"No extensions"),L(),z(6,"ion-button",20),Ne("click",function(){return It(r),xt(ut().bootAfterForcefulResetHardReset())}),Ce(7,"Hard reset"),L()()}}function wq(e,t){1&e&&(z(0,"div",19)(1,"div"),Ce(2,"No session selected"),L()())}class Aa{constructor(t,r,n,o,i,s,a,l,c,f,h,m,b,j,ee,he,ye,Ie,St,bt,ht){var An=this;this.emulationService=t,this.emulationState=r,this.storageService=n,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=f,this.snapshotService=h,this.installlationService=m,this.proxyService=b,this.navigation=j,this.linkApi=ee,this.performanceWatchdogService=he,this.cloudpilotService=ye,this.dragDropService=Ie,this.sessionService=St,this.loadingController=bt,this.config=ht,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,B.Z)(function*(){yield An.emulationService.bootstrapComplete(),An.bootstrapComplete=!0;const Rn=An.emulationState.getCurrentSession();Rn&&!Rn.wasResetForcefully&&(yield An.launchEmulator()),An.linkApi.installation.requestEvent.addHandler(An.handleLinkApiInstallationRequest),An.handleLinkApiInstallationRequest(),An.dragDropService.registerClient(An)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Rn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Rn,this.emulationService.getStatistics())},this.onNewFrame=Rn=>{this.canvasDisplayService.updateEmulationCanvas(Rn)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Rn=this.linkApi.installation.receivePendingUrl();Rn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Rn} ?`,{OK:()=>this.fileService.openUrl(Rn,qi=>this.installlationService.installFiles([qi]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Rn} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new vl}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t,r="trigger"){var n=this;return(0,B.Z)(function*(){(yield n.popoverController.create({component:XZ,event:t,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:r})).present()})()}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,B.Z)(function*(){yield(yield t.modalController.create({component:Eu,componentProps:{url:QZ}})).present()})()}showGameModeHint(){var t=this;return(0,B.Z)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,B.Z)(function*(){yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,B.Z)(function*(){yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,B.Z)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,B.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,B.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.proxyService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var r=this;return(0,B.Z)(function*(){(yield r.popoverController.create({component:tq,componentProps:{sessions:r.sessionService.getSessions().filter(o=>o.id!==r.emulationState.getCurrentSession()?.id),onSelect:o=>r.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.getSessions()}get currentSession(){return this.emulationState.getCurrentSession()}clearForcefulReset(){var t=this;return(0,B.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationState.getCurrentSession()?.name??"No session":""}launchEmulator(){var t=this;return(0,B.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,r).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.snapshotService.snapshotEvent.addHandler(t.onSnapshot),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement))})()}switchSession(t){var r=this;return(0,B.Z)(function*(){const n=yield r.loadingController.create();yield n.present();try{if(r.lastTitle=r.title,r.switching=!0,yield r.emulationService.pause(),!(yield r.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield r.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield r.launchEmulator())}finally{n.dismiss(),r.switching=!1}})()}}(uh=Aa).\u0275fac=function(t){return new(t||uh)(v(Ma),v(Yl),v(tr),v(rq),v(O_),v(Di),v(ql),v(ls),v(io),v(Bc),v(lh),v(cq),v(L0),v(q0),v(Xb),v(KR),v(Ta),v(X0),v(Xl),v(ea),v(Zp))},uh.\u0275cmp=Ze({type:uh,selectors:[["app-emulation"]],viewQuery:function(t,r){if(1&t&&yc(pq,5),2&t){let n;Rs(n=Ps())&&(r.canvasRef=n.first)}},decls:23,vars:23,consts:[[3,"disabled","trigger"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(t,r){if(1&t&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",0),Ne("trigger",function(o){return r.onBreadcrumbTrigger(o)}),Kt(4,hq,1,2,"div",1),Ce(5),L()(),z(6,"ion-buttons",2)(7,"ion-button",3),Ne("click",function(){return r.installFiles()}),je(8,"ion-icon",4),L(),Kt(9,mq,2,0,"ion-button",5)(10,gq,2,0,"ion-button",5),L(),z(11,"ion-buttons",6),Kt(12,_q,2,0,"ion-button",5)(13,vq,2,0,"ion-button",5)(14,yq,2,0,"ion-button",5)(15,bq,2,0,"ion-button",5)(16,Cq,2,0,"ion-button",5),L()()(),z(17,"ion-content",7),Ne("contextmenu",function(o){return r.onContextMenu(o)}),z(18,"div",8),Ne("touchstart",function(o){return r.cancelIfEmulationActive(o)})("touchmove",function(o){return r.cancelIfEmulationActive(o)}),je(19,"canvas",null,9),L(),Kt(21,Sq,8,0,"div",10)(22,wq,3,0,"div",10),L()),2&t){let n,o;ge(3),Se("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.currentSession||0===r.sessions.length),ge(1),Se("ngIf","ios"===r.config.get("mode")),ge(1),mi(" ",r.title,""),ge(2),Se("disabled",r.installFileDisabled),ge(2),Se("ngIf",!r.navigation.isLocked()),ge(1),Se("ngIf",r.navigation.isLocked()),ge(2),Se("ngIf","ios"===r.config.get("mode")),ge(1),Se("ngIf",r.eventHandlingService.isGameMode()),ge(1),Se("ngIf",r.proxyService.isConnected()),ge(1),Se("ngIf",r.performanceWatchdogService.isSlowdownDetected()),ge(1),Se("ngIf","ios"!==r.config.get("mode")),ge(1),Ys("locked",r.navigation.isLocked()),ge(1),nu("display",!r.emulationState.getCurrentSession()||null!=(n=r.emulationState.getCurrentSession())&&n.wasResetForcefully?"none":void 0),ge(1),nu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),ge(2),Se("ngIf",null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),ge(1),Se("ngIf",!r.emulationState.getCurrentSession()&&r.bootstrapComplete&&!r.switching)}},dependencies:[ko,ji,Gi,Ui,Hi,Uo,Wi,Zi,QR],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),oe([Hn()],Aa.prototype,"openContextMenu",null),oe([Hn()],Aa.prototype,"showHelp",null),oe([Hn()],Aa.prototype,"showGameModeHint",null),oe([Hn()],Aa.prototype,"showProxyConnectedHint",null),oe([Hn()],Aa.prototype,"showSlowdowndHint",null),oe([Hn()],Aa.prototype,"bootAfterForcefulReset",null),oe([Hn()],Aa.prototype,"bootAfterForcefulResetNoExtensions",null),oe([Hn()],Aa.prototype,"bootAfterForcefulResetHardReset",null),oe([Hn()],Aa.prototype,"onBreadcrumbTrigger",null);const JR="reduced-animations",Eq=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,l0.c)()),Dq=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,l0.c)()},Iq=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,l0.c)()};function eP(e){localStorage.setItem(JR,e?"1":"0")}function tP(){return"1"===(localStorage.getItem(JR)??"0")}const Tq=C.p+"assets/doc/settings-589ae62c10d3967b.md";function Mq(e,t){1&e&&(z(0,"ion-item",7)(1,"ion-label"),Ce(2,"Clipboard integration"),L(),je(3,"ion-toggle",18),L())}function Aq(e,t){if(1&e){const r=Nn();z(0,"ion-item",7)(1,"ion-label",19),Ce(2,"Proxy server"),L(),z(3,"div",20),je(4,"ion-input",21),z(5,"ion-button",22),Ne("click",function(o){It(r);const i=ut();return o.preventDefault(),o.stopPropagation(),xt(i.testProxyConnection())})("touchstart",function(o){It(r);const i=ut();return o.preventDefault(),o.stopPropagation(),xt(i.testProxyConnection())}),Ce(6," Test "),L()()()}if(2&e){const r=ut();ge(5),Se("disabled",!r.proxyServerValid)}}function kq(e,t){1&e&&(vd(0),z(1,"h1"),Ce(2,"Debug"),L(),z(3,"ion-item",7)(4,"ion-label"),Ce(5,"Snapshot validation (slow)"),L(),je(6,"ion-toggle",23),L(),yd())}let Rq=(()=>{var e;class t{constructor(n,o,i,s,a){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.proxyService=a,this.onAudioOnStartChange=l=>{this.kvsService.kvs.enableAudioOnFirstInteraction=l,l&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event).\n            <br><br>\n            This option will take effect the next time\n            Coudpilot is restarts.\n        ")},this.onReducedAnimationsChange=l=>{eP(l),this.alertService.message("Reduce animations",l?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                Coudpilot is restarts.\n            ":"\n                This option will only take effect the next time Coudpilot is restarts.\n            ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,B.Z)(function*(){yield(yield n.modalController.create({component:Eu,componentProps:{url:Tq}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,B.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),eP(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,B.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.proxyService.handshake(n.formGroup.get("proxyServer")?.value,0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return ta.debug}createFormGroup(){this.formGroup=new o_({volume:new Go(this.kvsService.kvs.volume),showStatistics:new Go(this.kvsService.kvs.showStatistics),runHidden:new Go(this.kvsService.kvs.runHidden),clipboardIntegration:new Go(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Go(this.kvsService.kvs.networkRedirection),proxyServer:new Go(this.kvsService.kvs.proxyServer,{validators:[R7]}),autoLockUI:new Go(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Go(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Go(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new Go(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new Go(tP())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ls),v(Di),v(RR),v(io),v(L0))},e.\u0275cmp=Ze({type:e,selectors:[["app-settings"]],decls:56,vars:4,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Settings"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.showHelp()}),je(6,"ion-icon",2),L(),je(7,"app-pwa-prompt"),L()()(),z(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),Ce(12,"Settings"),L()()(),z(13,"div",5)(14,"form",6)(15,"h1"),Ce(16,"Emulation"),L(),z(17,"ion-item",7)(18,"ion-label"),Ce(19,"Volume"),L(),je(20,"ion-range",8),L(),z(21,"ion-item",7)(22,"ion-label"),Ce(23,"Enable audio on start"),L(),je(24,"ion-toggle",9),L(),z(25,"ion-item",7)(26,"ion-label"),Ce(27,"Run when hidden"),L(),je(28,"ion-toggle",10),L(),z(29,"h1"),Ce(30,"Host integration"),L(),Kt(31,Mq,4,0,"ion-item",11),z(32,"ion-item",7)(33,"ion-label"),Ce(34,"Network redirection"),L(),je(35,"ion-toggle",12),L(),Kt(36,Aq,7,1,"ion-item",11),z(37,"h1"),Ce(38,"UI"),L(),z(39,"ion-item",7)(40,"ion-label"),Ce(41,"Auto-lock UI"),L(),je(42,"ion-toggle",13),L(),z(43,"ion-item",7)(44,"ion-label"),Ce(45,"Reduce animations"),L(),je(46,"ion-toggle",14),L(),z(47,"ion-item",7)(48,"ion-label"),Ce(49,"Show statistics"),L(),je(50,"ion-toggle",15),L(),z(51,"ion-item",7)(52,"ion-label"),Ce(53,"Open from remote sources"),L(),je(54,"ion-toggle",16),L(),Kt(55,kq,7,0,"ng-container",17),L()()()),2&n&&(ge(14),Se("formGroup",o.formGroup),ge(17),Se("ngIf",o.clipboardService.isSupported()),ge(5),Se("ngIf",o.showProxyServer),ge(19),Se("ngIf",o.showDebugOptions))},dependencies:[ko,zl,Ul,Hl,ji,Gi,Ui,Hi,Uo,Zl,bo,zi,c0,Wi,Jp,Zi,qd,Wl,F_,xa,ml],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),Q0=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Fo({name:"cardSize",type:e,pure:!0}),t})();function Pq(e,t){1&e&&(z(0,"div",13)(1,"b"),Ce(2,"WARNING:"),L(),Ce(3," This image cannot be used as a memory stick image."),L())}let nP=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Pc({name:new as("",{nonNullable:!0,validators:[jp.required,this.validateNameUnique]}),size:new as({value:"dummy",disabled:!0}),checkAutomatically:new as(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(v(sf))},e.\u0275cmp=Ze({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.save()}),Ce(6,"Save"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Card name"),L(),je(15,"ion-input",8),L(),z(16,"ion-item",6)(17,"ion-label",7),Ce(18,"Card size"),L(),z(19,"ion-select",9)(20,"ion-select-option",10),Ce(21),sl(22,"cardSize"),L()()(),z(23,"ion-item",6)(24,"ion-label"),Ce(25,"Check for errors automatically"),L(),je(26,"ion-toggle",11),L()(),Kt(27,Pq,4,0,"div",12),L()),2&n&&(ge(3),Fi(o.newCard?"New memory card":"Edit memory card"),ge(2),Se("disabled",o.formGroup.invalid),ge(6),Se("formGroup",o.formGroup),ge(10),mi("",al(22,5,null==o.card?null:o.card.size)," "),ge(6),Se("ngIf",!o.memoryStickSupported))},dependencies:[ko,ji,Gi,Ui,Hi,Zl,bo,zi,m_,g_,Wi,Jp,Zi,qd,d_,Wl,zl,Ul,Hl,xa,ml,Q0],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function Oq(e,t){if(1&e&&(z(0,"ion-select-option",12),Ce(1),sl(2,"cardSize"),L()),2&e){const r=t.$implicit,n=ut();Se("value",r),ge(1),mi("",al(2,2,n.sizeBytes(r))," ")}}const Fq=[Ho.mb4,Ho.mb8,Ho.mb16,Ho.mb32,Ho.mb64,Ho.mb128];let Nq=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Pc({name:new as("",{nonNullable:!0,validators:[jp.required,this.validateNameUnique]}),size:new as(Ho.mb32,{nonNullable:!0}),checkAutomatically:new as(!0,{nonNullable:!0})})}get sizes(){return Fq}sizeBytes(n){return function oZ(e){switch(e){case Ho.mb4:return 4046848;case Ho.mb8:return 8110080;case Ho.mb16:return 16220160;case Ho.mb32:return 32473088;case Ho.mb64:return 64978944;case Ho.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(sf))},e.\u0275cmp=Ze({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"New memory card"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.create()}),Ce(6,"Create"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Card name"),L(),je(15,"ion-input",8),L(),z(16,"ion-item",6)(17,"ion-label",7),Ce(18,"Card size"),L(),z(19,"ion-select",9),Kt(20,Oq,3,4,"ion-select-option",10),L()(),z(21,"ion-item",6)(22,"ion-label"),Ce(23,"Check for errors automatically"),L(),je(24,"ion-toggle",11),L()()()),2&n&&(ge(5),Se("disabled",o.formGroup.invalid),ge(6),Se("formGroup",o.formGroup),ge(9),Se("ngForOf",o.sizes))},dependencies:[wc,ji,Gi,Ui,Hi,Zl,bo,zi,m_,g_,Wi,Jp,Zi,qd,d_,Wl,zl,Ul,Hl,xa,ml,Q0]}),t})();function Vc(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}const Lq=C.p+"assets/doc/cards-75195154c07dfe52.md";let $q=(()=>{var e;class t{constructor(){this.cardCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return null==o.onExport?null:o.onExport()}),je(2,"ion-icon",1),Ce(3," Export "),L(),z(4,"ion-item",0),Ne("click",function(){return null==o.onDelete?null:o.onDelete()}),je(5,"ion-icon",2),Ce(6," Delete "),L(),z(7,"ion-item",3),Ne("click",function(){return null==o.onHelp?null:o.onHelp()}),je(8,"ion-icon",4),Ce(9," Help "),L()()),2&n&&(ge(1),Se("detail",!1)("disabled",0===o.cardCount),ge(3),Se("detail",!1)("disabled",0===o.cardCount),ge(3),Se("detail",!1))},dependencies:[Uo,bo,Fs]}),t})(),Bq=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onEdit()}),je(2,"ion-icon",1),Ce(3," Edit "),L(),z(4,"ion-item",0),Ne("click",function(){return o.onSave()}),je(5,"ion-icon",2),Ce(6," Export "),L(),z(7,"ion-item",0),Ne("click",function(){return o.onCheck()}),je(8,"ion-icon",3),Ce(9," Check "),L(),z(10,"ion-item",4),Ne("click",function(){return o.onDelete()}),je(11,"ion-icon",5),Ce(12," Delete "),L()()),2&n&&(ge(1),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1))},dependencies:[Uo,bo,Fs]}),t})();function Vq(e,t){1&e&&je(0,"ion-icon",15)}function jq(e,t){1&e&&je(0,"ion-icon",16)}let Gq=(()=>{var e;class t{constructor(n,o,i,s){this.storageCardService=n,this.popoverController=o,this.cd=s,this.touched=!1,this.interaction=new on,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new on,this.edit=new on,this.check=new on,this.delete=new on,this.save=new on,this.checkSessions=Vc(s,[],()=>i.getSessions())}ngDoCheck(){this.checkSessions()}onContextmenu(n){var o=this;return(0,B.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Bq,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case hr.dirty:return"needs check";case hr.clean:return"no errors";case hr.unformatted:return"no filesystem";case hr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(v(sf),v(ql),v(Xl),v(ct))},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:21,vars:10,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Nn();z(0,"ion-item-sliding",0,1),Ne("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),z(2,"ion-item-options",2)(3,"ion-item-option",3),Ne("click",function(){return It(i),ks(1).close(),xt(o.edit.emit(o.card))}),je(4,"ion-icon",4),L(),z(5,"ion-item-option",5),Ne("click",function(){return It(i),ks(1).close(),xt(o.save.emit(o.card))}),je(6,"ion-icon",6),L()(),z(7,"ion-item-options",7)(8,"ion-item-option",8),Ne("click",function(){return It(i),ks(1).close(),xt(o.check.emit(o.card))}),je(9,"ion-icon",9),L(),z(10,"ion-item-option",10),Ne("click",function(){return It(i),ks(1).close(),xt(o.delete.emit(o.card))}),je(11,"ion-icon",11),L()(),z(12,"ion-item",12),Ne("click",function(){return o.selectCard.emit(),o.interaction.emit()}),z(13,"ion-label")(14,"h2"),Ce(15),L(),z(16,"p"),Ce(17),sl(18,"cardSize"),L()(),Kt(19,Vq,1,0,"ion-icon",13)(20,jq,1,0,"ion-icon",14),L()()}2&n&&(ge(12),Se("color",o.color),ge(1),Ys("selecting",o.selecting),ge(2),Fi(null==o.card?null:o.card.name),ge(2),dp("",al(18,8,null==o.card?null:o.card.size),", ",o.status,""),ge(2),Se("ngIf",o.selecting&&!o.selectedForExport),ge(1),Se("ngIf",o.selecting&&o.selectedForExport))},dependencies:[ko,Uo,bo,f_,p_,h_,zi,Q0],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var dh;function Uq(e,t){if(1&e){const r=Nn();z(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Memory cards"),L(),z(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return It(r),xt(ut().addCardImage())}),je(5,"ion-icon",8),L()(),z(6,"ion-buttons",9)(7,"ion-button",7),Ne("click",function(o){return It(r),xt(ut().openActionMenu(o))}),je(8,"ion-icon",10),L(),je(9,"app-pwa-prompt"),L()()}}function Hq(e,t){1&e&&(z(0,"ion-title"),Ce(1,"Export"),L())}function zq(e,t){1&e&&(z(0,"ion-title"),Ce(1,"Delete"),L())}function Wq(e,t){if(1&e){const r=Nn();z(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return It(r),xt(ut(2).onSelectAll())}),Ce(2,"Select all"),L()()}}function Zq(e,t){if(1&e){const r=Nn();z(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return It(r),xt(ut(2).selection.clear())}),Ce(2,"Clear"),L()()}}function qq(e,t){if(1&e){const r=Nn();z(0,"ion-toolbar"),Kt(1,Hq,2,0,"ion-title",0)(2,zq,2,0,"ion-title",0),z(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return It(r),xt(ut().onSelectionDone())}),Ce(5),L()(),Kt(6,Wq,3,0,"ion-buttons",11)(7,Zq,3,0,"ion-buttons",11),L()}if(2&e){const r=ut();ge(1),Se("ngIf","select-for-export"===r.mode),ge(1),Se("ngIf","select-for-delete"===r.mode),ge(3),Fi(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),ge(1),Se("ngIf",r.selection.size!==r.cards.length),ge(1),Se("ngIf",r.selection.size===r.cards.length)}}function Yq(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Memory cards"),L())}function Kq(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Select for export"),L())}function Xq(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Select for delete"),L())}function Qq(e,t){1&e&&(z(0,"div",13),je(1,"ion-spinner"),L())}function Jq(e,t){1&e&&(z(0,"div",14)(1,"div",15),Ce(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),L()())}function eY(e,t){if(1&e){const r=Nn();z(0,"app-storage-card",17),Ne("delete",function(){const i=It(r).$implicit;return xt(ut(2).deleteCard(i))})("selectCard",function(){const i=It(r).$implicit,s=ut(2);return xt("manage"===s.mode?s.browseCard(i):s.toggleSelection(i))})("edit",function(){const i=It(r).$implicit;return xt(ut(2).editCard(i))})("check",function(){const i=It(r).$implicit;return xt(ut(2).checkCard(i))})("interaction",function(){const i=It(r).$implicit;return xt(ut(2).lastCardTouched=i.id)})("save",function(){const i=It(r).$implicit;return xt(ut(2).saveCard(i))}),L()}if(2&e){const r=t.$implicit,n=ut(2);Se("card",r)("touched",r.id===n.lastCardTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function tY(e,t){if(1&e&&(z(0,"ion-list"),Kt(1,eY,1,4,"app-storage-card",16),L()),2&e){const r=ut();ge(1),Se("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class Cl{constructor(t,r,n,o,i,s,a,l,c,f,h,m){var b=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.cloudpilotService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=c,this.popoverController=f,this.cd=m,this.handleCardImport=function(){var j=(0,B.Z)(function*(ee){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(ee.name))return void b.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(ee.name.endsWith(".zip")){let bt=!1;return yield b.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>bt=!0},"Cancel"),void(bt&&(yield b.storageCardService.addAllCardsFromArchive(yield ee.getContent())))}const he=yield b.cloudpilotService.cloudpilot;let ye;try{ye=yield ee.getContent()}catch(bt){return console.warn(bt),void(yield b.alertService.errorMessage(`Unable to open ${ee.name}".`))}if(/\.gz$/.test(ee.name)){const bt=yield b.loadingController.create({message:"Unpacking..."});yield bt.present();try{ye=yield b.fstools.gunzip(ye)}finally{yield bt.dismiss()}}const Ie=ye?he.getCardSupportLevel(ye.length):0;if(void 0===ye||0===Ie)return void b.alertService.errorMessage("This is not a supported card image.");const St=yield new Promise(function(){var bt=(0,B.Z)(function*(ht){const An=yield b.modalController.create({component:nP,backdropDismiss:!1,componentProps:{card:{name:b.disambiguateName(ee.name.replace(/\.gz$/,"")),size:ye.length},cardSupportLevel:Ie,newCard:!0,onCancel:()=>{An.dismiss(),ht(void 0)},onSave:Rn=>{ht(Rn),An.dismiss()}}});yield An.present()});return function(ht){return bt.apply(this,arguments)}}());St&&(yield b.storageCardService.createCardFromImage(St.name,ye,!!St.dontFsckAutomatically))});return function(ee){return j.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set,this.checkCards=Vc(m,[],()=>this.storageCardService.getAllCards()),this.checkSessions=Vc(m,void 0,()=>h.getSessions())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards(),this.checkSessions()}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,B.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,B.Z)(function*(){yield(yield t.modalController.create({component:Eu,componentProps:{url:Lq}})).present()})()}browseCard(t){var r=this;return(0,B.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,B.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:nP,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,B.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,B.Z)(function*(){const n=`${rf(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Export uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,B.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,r){return r.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,B.Z)(function*(){const r=t.mode;switch(t.mode="manage",r){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,B.Z)(function*(){const o=yield n.popoverController.create({component:$q,event:t,componentProps:{cardCount:n.cards.length,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,B.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.saveCard(n));break}default:yield r.exportSelection(t)}})()}executeMassDelete(t){var r=this;return(0,B.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.deleteCard(n));break}default:{let n=!0;if(yield r.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.storageCardService.deleteCard(i)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var r=this;return(0,B.Z)(function*(){const n=new Map(yield r.storageCardService.getAllCards().map(i=>[i.id,i]));if(t.map(i=>n.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield r.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield r.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,B.Z)(function*(){const r=yield t.modalController.create({component:Nq,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,B.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return nf(t,n=>r.some(o=>o.name===n))}}function nY(e,t){1&e&&je(0,"ion-icon",8)}function rY(e,t){1&e&&je(0,"ion-icon",9)}function oY(e,t){1&e&&je(0,"ion-icon",10)}function iY(e,t){if(1&e){const r=Nn();z(0,"ion-item",2),Ne("click",function(){const i=It(r).index;return xt(ut(2).onSelect(i))}),vd(1,3),Kt(2,nY,1,0,"ion-icon",4)(3,rY,1,0,"ion-icon",5)(4,oY,1,0,"ion-icon",6),yd(),z(5,"div",7),Ce(6),L()()}if(2&e){const r=t.$implicit,n=t.index,o=ut(2);Se("detail",!1)("lines",n===o.entries.length-1?"none":"full"),ge(1),Se("ngSwitch",o.entries.length),ge(1),Se("ngSwitchCase",n+1),ge(1),Se("ngSwitchCase",n+2),ge(3),Fi(r)}}function sY(e,t){if(1&e&&(z(0,"ion-list"),Kt(1,iY,7,6,"ion-item",1),L()),2&e){const r=ut();ge(1),Se("ngForOf",r.entries)}}(dh=Cl).\u0275fac=function(t){return new(t||dh)(v(th),v(sf),v(ls),v(Ta),v(io),v(Su),v(Bc),v(ea),v(k_),v(ql),v(Xl),v(ct))},dh.\u0275cmp=Ze({type:dh,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(z(0,"ion-header"),Kt(1,Uq,10,0,"ion-toolbar",0)(2,qq,8,5,"ion-toolbar",0),L(),z(3,"ion-content",1),Ne("contextmenu",function(o){return r.onContextMenu(o)}),z(4,"ion-header",2)(5,"ion-toolbar"),Kt(6,Yq,2,0,"ion-title",3)(7,Kq,2,0,"ion-title",3)(8,Xq,2,0,"ion-title",3),L()(),Kt(9,Qq,2,0,"div",4)(10,Jq,3,0,"div",5)(11,tY,2,2,"ion-list",0),L()),2&t&&(ge(1),Se("ngIf","manage"===r.mode),ge(1),Se("ngIf","manage"!==r.mode),ge(4),Se("ngIf","manage"===r.mode),ge(1),Se("ngIf","select-for-export"===r.mode),ge(1),Se("ngIf","select-for-delete"===r.mode),ge(1),Se("ngIf",r.storageCardService.isLoading()),ge(1),Se("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),ge(1),Se("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[wc,ko,ji,Gi,Ui,Hi,Uo,Fs,Qp,Wi,Zi,F_,Gq],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),oe([Hn()],Cl.prototype,"addCardImage",null),oe([Hn()],Cl.prototype,"browseCard",null),oe([Hn()],Cl.prototype,"editCard",null),oe([Hn()],Cl.prototype,"saveCard",null),oe([Hn()],Cl.prototype,"checkCard",null),oe([Hn()],Cl.prototype,"deleteCard",null),oe([Hn()],Cl.prototype,"onSelectionDone",null),oe([Hn()],Cl.prototype,"openActionMenu",null);let aY=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&Kt(0,sY,2,1,"ion-list",0),2&n&&Se("ngIf",o.entries)},dependencies:[wc,ko,Eg,oT,iT,Uo,bo,Fs],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}),t})(),lY=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(v(xu))},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onStartSelection()}),je(2,"ion-icon",1),Ce(3," Start selection "),L(),z(4,"ion-item",2),Ne("click",function(){return o.onAddFiles()}),je(5,"ion-icon",3),Ce(6," Add files "),L(),z(7,"ion-item",2),Ne("click",function(){return o.onCreateDirectry()}),je(8,"ion-icon",4),Ce(9," Add directory "),L(),z(10,"ion-item",2),Ne("click",function(){return o.onExtractZipfile()}),je(11,"ion-icon",5),Ce(12," Extract zip "),L(),z(13,"ion-item",0),Ne("click",function(){return o.onPaste()}),je(14,"ion-icon",6),Ce(15," Paste "),L(),z(16,"ion-item",7),Ne("click",function(){return o.onHelp()}),je(17,"ion-icon",8),Ce(18," Help "),L()()),2&n&&(ge(1),Se("detail",!1)("disabled",o.emptyDirectory),ge(3),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),ge(3),Se("detail",!1))},dependencies:[Uo,bo,Fs]}),t})();var fh;class N_{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Pc({name:new as("",{nonNullable:!0,validators:[jp.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new as(!1,{nonNullable:!0}),attrHidden:new as(!1,{nonNullable:!0}),attrSystem:new as(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,B.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,B.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,B.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(fh=N_).\u0275fac=function(t){return new(t||fh)(v(ls),v(xu))},fh.\u0275cmp=Ze({type:fh,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return r.onSaveClick()}),Ce(6,"Save"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return r.onCancelClick()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return r.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),Ce(14),L(),je(15,"ion-input",8),L(),z(16,"ion-item",6)(17,"h2"),Ce(18,"Attributes"),L()(),z(19,"ion-item",6)(20,"ion-label"),je(21,"ion-icon",9),Ce(22,"Readonly"),L(),je(23,"ion-checkbox",10),L(),z(24,"ion-item",6)(25,"ion-label"),je(26,"ion-icon",11),Ce(27,"Hidden"),L(),je(28,"ion-checkbox",12),L(),z(29,"ion-item",6)(30,"ion-label"),je(31,"ion-icon",13),Ce(32,"System"),L(),je(33,"ion-checkbox",14),L()()()),2&t&&(ge(3),mi("Edit ",r.subjectName.toLowerCase(),""),ge(2),Se("disabled",r.formGroup.invalid),ge(6),Se("formGroup",r.formGroup),ge(3),mi("",r.subjectName," name"),ge(1),Km("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[ji,Gi,$k,Ui,Hi,Uo,Zl,bo,zi,Wi,Zi,qd,Wl,zl,Ul,Hl,xa,ml],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),oe([Hn()],N_.prototype,"onSaveClick",null),oe([Hn()],N_.prototype,"onEnter",null);let cY=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(rt),v(Ue))},e.\u0275dir=Rt({type:e,selectors:[["","appAutofocus",""]]}),t})(),uY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Pc({name:new as("",{nonNullable:!0,validators:[jp.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(xu),v(ls))},e.\u0275cmp=Ze({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Create directory"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.onCreateClick()}),Ce(6,"Create"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancelClick()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Directory name"),L(),je(15,"ion-input",8),L()()()),2&n&&(ge(5),Se("disabled",o.formGroup.invalid),ge(6),Se("formGroup",o.formGroup))},dependencies:[ji,Gi,Ui,Hi,Zl,bo,zi,Wi,Zi,Wl,zl,Ul,Hl,xa,ml,cY]}),t})();function rP(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const dY=C.p+"assets/doc/card-browser-5a0261814255810d.md";let fY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onEdit()}),je(2,"ion-icon",1),Ce(3," Edit "),L(),z(4,"ion-item",0),Ne("click",function(){return o.onSave()}),je(5,"ion-icon",2),Ce(6," Save "),L(),z(7,"ion-item",0),Ne("click",function(){return o.onCopy()}),je(8,"ion-icon",3),Ce(9," Copy "),L(),z(10,"ion-item",0),Ne("click",function(){return o.onCut()}),je(11,"ion-icon",4),Ce(12," Cut "),L(),z(13,"ion-item",5),Ne("click",function(){return o.onDelete()}),je(14,"ion-icon",6),Ce(15," Delete "),L()()),2&n&&(ge(1),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1))},dependencies:[Uo,bo,Fs]}),t})(),oP=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Fo({name:"fileSize",type:e,pure:!0}),t})();const pY=["slidingItem"];function hY(e,t){1&e&&je(0,"ion-icon",24)}function mY(e,t){1&e&&je(0,"ion-icon",25)}function gY(e,t){1&e&&je(0,"ion-icon",26)}function _Y(e,t){1&e&&je(0,"ion-icon",27)}function vY(e,t){1&e&&je(0,"ion-icon",28)}function yY(e,t){1&e&&je(0,"ion-icon",29)}function bY(e,t){1&e&&je(0,"ion-icon",30)}function CY(e,t){1&e&&je(0,"ion-icon",31)}function SY(e,t){1&e&&je(0,"ion-icon",32)}function wY(e,t){if(1&e&&(vd(0),Ce(1),sl(2,"fileSize"),yd()),2&e){const r=ut();ge(1),mi(" - ",al(2,1,null==r.entry?null:r.entry.size)," ")}}let EY=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new on,this.selectEntry=new on,this.editEntry=new on,this.copyEntry=new on,this.cutEntry=new on,this.deleteEntry=new on,this.saveEntry=new on,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,B.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:fY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,B.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(v(th),v(ql),v(xu))},e.\u0275cmp=Ze({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&yc(pY,5),2&n){let i;Rs(i=Ps())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[Ci],decls:29,vars:23,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Nn();z(0,"ion-item-sliding",0,1),Ne("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),z(2,"ion-item-options",2)(3,"ion-item-option",3),Ne("click",function(){return It(i),ks(1).close(),xt(o.editEntry.emit(o.entry))}),je(4,"ion-icon",4),L(),z(5,"ion-item-option",5),Ne("click",function(){return It(i),ks(1).close(),xt(o.saveEntry.emit(o.entry))}),je(6,"ion-icon",6),L()(),z(7,"ion-item-options",7)(8,"ion-item-option",8),Ne("click",function(){return It(i),ks(1).close(),xt(o.cutOrCopyEntry())}),je(9,"ion-icon",9),L(),z(10,"ion-item-option",10),Ne("click",function(){return It(i),ks(1).close(),xt(o.deleteEntry.emit(o.entry))}),je(11,"ion-icon",11),L()(),z(12,"ion-item",12),Ne("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),Kt(13,hY,1,0,"ion-icon",13)(14,mY,1,0,"ion-icon",14),z(15,"div",15),Kt(16,gY,1,0,"ion-icon",16)(17,_Y,1,0,"ion-icon",17)(18,vY,1,0,"ion-icon",18)(19,yY,1,0,"ion-icon",19)(20,bY,1,0,"ion-icon",20),L(),Kt(21,CY,1,0,"ion-icon",21)(22,SY,1,0,"ion-icon",22),z(23,"ion-label")(24,"h2"),Ce(25),L(),z(26,"p"),Ce(27),Kt(28,wY,3,3,"ng-container",23),L()()()()}2&n&&(Se("disabled",o.selecting),ge(12),nu("opacity",o.touched?1:.99999),Ys("is-directory",null==o.entry?null:o.entry.isDirectory),Se("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),ge(1),Se("ngIf",null==o.entry?null:o.entry.isDirectory),ge(1),Se("ngIf",!(null!=o.entry&&o.entry.isDirectory)),ge(2),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),ge(1),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),ge(1),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),ge(1),Se("ngIf",o.markedForCopy),ge(1),Se("ngIf",o.markedForCut),ge(1),Se("ngIf",o.selecting&&!o.selected),ge(1),Se("ngIf",o.selecting&&o.selected),ge(1),nu("padding-right",o.safetyMargin),Ys("selecting",o.selecting),ge(2),Fi(null==o.entry?null:o.entry.name),ge(2),mi(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),ge(1),Se("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[ko,Uo,bo,f_,p_,h_,zi,oP],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var ph;function DY(e,t){if(1&e){const r=Nn();z(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",6),Ne("trigger",function(o){return It(r),xt(ut().openBreadcrumbMenu(o))}),Ce(3),L()(),z(4,"ion-buttons",7),je(5,"ion-back-button"),L(),z(6,"ion-buttons",8)(7,"ion-button",9),Ne("click",function(o){return It(r),xt(ut().openContextMenu(o,"trigger"))}),je(8,"ion-icon",10),L()()()}if(2&e){const r=ut();ge(3),Fi(r.title)}}function IY(e,t){if(1&e){const r=Nn();z(0,"ion-buttons",12)(1,"ion-button",9),Ne("click",function(){return It(r),xt(ut(2).onSelectAll())}),Ce(2,"Select all"),L()()}}function xY(e,t){if(1&e){const r=Nn();z(0,"ion-buttons",12)(1,"ion-button",9),Ne("click",function(){return It(r),xt(ut(2).selection.clear())}),Ce(2,"Clear"),L()()}}function TY(e,t){if(1&e){const r=Nn();z(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Selection"),L(),z(3,"ion-buttons",8)(4,"ion-button",9),Ne("click",function(){return It(r),xt(ut().onSelectionDone())}),Ce(5),L()(),Kt(6,IY,3,0,"ion-buttons",11)(7,xY,3,0,"ion-buttons",11),L()}if(2&e){const r=ut();ge(5),Fi(0===r.selection.size?"Cancel":"Done"),ge(1),Se("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),ge(1),Se("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function MY(e,t){if(1&e&&(z(0,"div",13)(1,"div",14),Ce(2),L()()),2&e){const r=ut();ge(2),mi("empty ",r.isRoot?"card":"directory","")}}function AY(e,t){if(1&e){const r=Nn();z(0,"app-file-entry",15),Ne("selectEntry",function(){const i=It(r).$implicit;return xt(ut().onSelect(i))})("editEntry",function(){const i=It(r).$implicit;return xt(ut().onEditEntry(i))})("saveEntry",function(){const i=It(r).$implicit;return xt(ut().onSaveEntry(i))})("copyEntry",function(){const i=It(r).$implicit;return xt(ut().onCopyEntry(i))})("cutEntry",function(){const i=It(r).$implicit;return xt(ut().onCutEntry(i))})("deleteEntry",function(){const i=It(r).$implicit;return xt(ut().onDeleteEntry(i))})("interaction",function(){const i=It(r).$implicit;return xt(ut().lastEntryTouched=i.name)}),L()}if(2&e){const r=t.$implicit,n=ut();Se("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function kY(e,t){if(1&e&&(z(0,"p"),Ce(1),sl(2,"fileSize"),sl(3,"fileSize"),L()),2&e){const r=ut(2);ge(1),dp("",al(2,2,r.bytesFree)," free, ",al(3,4,r.bytesTotal)," total")}}function RY(e,t){if(1&e&&(z(0,"p"),Ce(1),sl(2,"fileSize"),L()),2&e){const r=ut(2);ge(1),Gy(" ",al(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function PY(e,t){if(1&e&&(z(0,"ion-item",16)(1,"ion-label"),Kt(2,kY,4,6,"p",0)(3,RY,3,5,"p",0),L()()),2&e){const r=ut();ge(2),Se("ngIf",r.isRoot),ge(1),Se("ngIf",r.fileCount>0)}}function OY(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class ka{constructor(t,r,n,o,i,s,a,l){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.bytesInFilesMemoized=rP(c=>c?.reduce((f,h)=>f+(h.isDirectory?0:h.size),0)??0),this.fileCountMemoized=rP(c=>c?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.checkEntries=Vc(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0),this.checkBytesFree=Vc(l,void 0,()=>this.vfsService.getBytesFree())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries(),this.checkBytesFree()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(OY):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,B.Z)(function*(){yield(yield r.modalController.create({component:N_,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,B.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,B.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,B.Z)(function*(){yield(yield t.modalController.create({component:uY,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,B.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,B.Z)(function*(){yield(yield t.modalController.create({component:Eu,componentProps:{url:dY}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,B.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,B.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,B.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,B.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:aY,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,r){var n=this;return(0,B.Z)(function*(){(yield n.popoverController.create({component:lY,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,B.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(ph=ka).\u0275fac=function(t){return new(t||ph)(v(xu),v(ql),v(Zp),v(io),v(th),v(ls),v(Bc),v(ct))},ph.\u0275cmp=Ze({type:ph,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(z(0,"ion-header"),Kt(1,DY,9,1,"ion-toolbar",0)(2,TY,8,3,"ion-toolbar",0),L(),z(3,"ion-content",1),Ne("contextmenu",function(o){return r.onContextMenu(o)}),z(4,"div",2),Kt(5,MY,3,1,"div",3),z(6,"ion-list"),Kt(7,AY,1,4,"app-file-entry",4)(8,PY,4,2,"ion-item",5),L()()()),2&t&&(ge(1),Se("ngIf","browse"===r.mode),ge(1),Se("ngIf","select"===r.mode),ge(3),Se("ngIf",0===(null==r.entries?null:r.entries.length)),ge(2),Se("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),ge(1),Se("ngIf",r.isRoot||r.fileCount>0))},dependencies:[wc,ko,ji,Gi,Ui,Hi,Uo,bo,zi,Fs,Wi,Zi,jk,QR,EY,oP],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),oe([Hn()],ka.prototype,"onSaveEntry",null),oe([Hn()],ka.prototype,"onDeleteEntry",null),oe([Hn()],ka.prototype,"onCreateDirectory",null),oe([Hn()],ka.prototype,"onPaste",null),oe([Hn()],ka.prototype,"onHelp",null),oe([Hn()],ka.prototype,"onSelectionDone",null),oe([Hn()],ka.prototype,"onSaveZip",null),oe([Hn()],ka.prototype,"onDeleteSelection",null);const FY=["nav"];let NY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(ka,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=Cl,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var n=this;return(0,B.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,B.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!_9}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(ka,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(xu),v(X0))},e.\u0275cmp=Ze({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&yc(FY,5),2&n){let i;Rs(i=Ps())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&je(0,"ion-nav",0,1),2&n&&Se("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[u0]}),t})();const LY=C.p+"assets/doc/sessions-868d7e6c0550348b.md";let $Y=(()=>{var e;class t{constructor(){this.sessionCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return null==o.onExport?null:o.onExport()}),je(2,"ion-icon",1),Ce(3," Export "),L(),z(4,"ion-item",0),Ne("click",function(){return null==o.onDelete?null:o.onDelete()}),je(5,"ion-icon",2),Ce(6," Delete "),L(),z(7,"ion-item",3),Ne("click",function(){return null==o.onHelp?null:o.onHelp()}),je(8,"ion-icon",4),Ce(9," Help "),L()()),2&n&&(ge(1),Se("detail",!1)("disabled",0===o.sessionCount),ge(3),Se("detail",!1)("disabled",0===o.sessionCount),ge(3),Se("detail",!1))},dependencies:[Uo,bo,Fs]}),t})(),BY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onEdit()}),je(2,"ion-icon",1),Ce(3," Edit "),L(),z(4,"ion-item",0),Ne("click",function(){return o.onSave()}),je(5,"ion-icon",2),Ce(6," Export "),L(),z(7,"ion-item",0),Ne("click",function(){return o.onReset()}),je(8,"ion-icon",3),Ce(9," Reset "),L(),z(10,"ion-item",4),Ne("click",function(){return o.onDelete()}),je(11,"ion-icon",5),Ce(12," Delete "),L()()),2&n&&(ge(1),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1))},dependencies:[Uo,bo,Fs]}),t})();const jY=["slidingItem"];function GY(e,t){if(1&e&&(z(0,"span"),Ce(1),L()),2&e){const r=ut();ge(1),mi(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}function UY(e,t){1&e&&je(0,"ion-icon",16)}function HY(e,t){1&e&&je(0,"ion-icon",17)}let zY=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new on,this.resetSession=new on,this.edit=new on,this.save=new on,this.selectItem=new on,this.interaction=new on}get device(){return this.session?ER(this.session.device):""}onContextmenu(n){var o=this;return(0,B.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:BY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function VY(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ql))},e.\u0275cmp=Ze({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&yc(jY,5),2&n){let i;Rs(i=Ps())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:21,vars:12,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Nn();z(0,"ion-item-sliding",0,1),Ne("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),z(2,"ion-item-options",2)(3,"ion-item-option",3),Ne("click",function(){return It(i),ks(1).close(),xt(o.edit.emit(o.session))}),je(4,"ion-icon",4),L(),z(5,"ion-item-option",5),Ne("click",function(){return It(i),ks(1).close(),xt(o.save.emit(o.session))}),je(6,"ion-icon",6),L()(),z(7,"ion-item-options",7)(8,"ion-item-option",8),Ne("click",function(){return It(i),ks(1).close(),xt(o.resetSession.emit(o.session))}),je(9,"ion-icon",9),L(),z(10,"ion-item-option",10),Ne("click",function(){return It(i),ks(1).close(),xt(o.delete.emit(o.session))}),je(11,"ion-icon",11),L()(),z(12,"ion-item",12),Ne("click",function(){return o.selectItem.emit()}),z(13,"ion-label")(14,"h2"),Ce(15),L(),z(16,"p"),Ce(17),Kt(18,GY,2,1,"span",13),L()(),Kt(19,UY,1,0,"ion-icon",14)(20,HY,1,0,"ion-icon",15),L()()}2&n&&(Se("disabled",o.selecting),ge(12),Se("color",o.color),ge(1),Ys("in-item-color",o.selected)("selecting",o.selecting),ge(2),Fi(null==o.session?null:o.session.name),ge(2),dp("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),ge(1),Se("ngIf",null==o.session?null:o.session.osVersion),ge(1),Se("ngIf",o.selecting&&!o.selectedForExport),ge(1),Se("ngIf",o.selecting&&o.selectedForExport))},dependencies:[ko,Uo,bo,f_,p_,h_,zi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var hh;function WY(e,t){if(1&e){const r=Nn();z(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Sessions"),L(),z(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return It(r),xt(ut().importSession())}),je(5,"ion-icon",8),L()(),z(6,"ion-buttons",9)(7,"ion-button",7),Ne("click",function(o){return It(r),xt(ut().openActionMenu(o))}),je(8,"ion-icon",10),L(),je(9,"app-pwa-prompt"),L()()}}function ZY(e,t){1&e&&(z(0,"ion-title"),Ce(1,"Export"),L())}function qY(e,t){1&e&&(z(0,"ion-title"),Ce(1,"Delete"),L())}function YY(e,t){if(1&e){const r=Nn();z(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return It(r),xt(ut(2).onSelectAll())}),Ce(2,"Select all"),L()()}}function KY(e,t){if(1&e){const r=Nn();z(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return It(r),xt(ut(2).selection.clear())}),Ce(2,"Clear"),L()()}}function XY(e,t){if(1&e){const r=Nn();z(0,"ion-toolbar"),Kt(1,ZY,2,0,"ion-title",0)(2,qY,2,0,"ion-title",0),z(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return It(r),xt(ut().onSelectionDone())}),Ce(5),L()(),Kt(6,YY,3,0,"ion-buttons",11)(7,KY,3,0,"ion-buttons",11),L()}if(2&e){const r=ut();ge(1),Se("ngIf","select-for-export"===r.mode),ge(1),Se("ngIf","select-for-delete"===r.mode),ge(3),Fi(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),ge(1),Se("ngIf",r.selection.size!==r.sessionCount),ge(1),Se("ngIf",r.selection.size===r.sessionCount)}}function QY(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Sessions"),L())}function JY(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Select for export"),L())}function eK(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Select for delete"),L())}function tK(e,t){1&e&&(z(0,"div",13),je(1,"ion-spinner"),L())}function nK(e,t){1&e&&(z(0,"div",14)(1,"div",15),Ce(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),je(3,"br")(4,"br"),Ce(5," You can find a collection of compatible ROMs on "),z(6,"a",16),Ce(7,"PalmDB"),L(),Ce(8,". "),L()())}function rK(e,t){if(1&e){const r=Nn();z(0,"app-session-item",18),Ne("delete",function(){const i=It(r).$implicit;return xt(ut(2).deleteSession(i))})("selectItem",function(){const i=It(r).$implicit,s=ut(2);return xt("manage"===s.mode?s.launchSession(i):s.toggleSelection(i))})("edit",function(){const i=It(r).$implicit;return xt(ut(2).editSession(i))})("save",function(){const i=It(r).$implicit;return xt(ut(2).saveSession(i))})("resetSession",function(){const i=It(r).$implicit;return xt(ut(2).resetSession(i))})("interaction",function(){const i=It(r).$implicit;return xt(ut(2).lastSessionTouched=i.id)}),L()}if(2&e){const r=t.$implicit,n=ut(2);Se("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function oK(e,t){if(1&e&&(z(0,"ion-list"),Kt(1,rK,1,5,"app-session-item",17),L()),2&e){const r=ut();ge(1),Se("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class Ql{constructor(t,r,n,o,i,s,a,l,c,f,h,m,b,j){this.sessionService=t,this.fileService=r,this.alertService=n,this.emulationService=o,this.emulationState=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.cloudpilotService=f,this.dragDropService=h,this.popoverController=m,this.loadingController=b,this.cd=j,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const ee=this.linkApi.import.receivePendingUrl();ee&&this.alertService.message("Import request",`Do you want to import<br>${ee} ?`,{OK:()=>this.fileService.openUrl(ee,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.checkSessions=Vc(j,[],()=>this.sessionService.getSessions()),this.checkCurrentSessionId=Vc(j,void 0,()=>this.emulationState.getCurrentSession()?.id),this.checkLoading=Vc(j,!0,()=>this.sessionService.isLoading())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkSessions(),this.checkCurrentSessionId(),this.checkLoading()}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}get sessionCount(){return this.sessionService.getSessions().length}deleteSession(t){var r=this;return(0,B.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var r=this;return(0,B.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!jR()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,B.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,B.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield r.alertService.message("Done",`Session ${t.name} has been reset.`)})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,B.Z)(function*(){yield(yield t.modalController.create({component:Eu,componentProps:{url:LY}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,B.Z)(function*(){const r=new Map(t.sessionService.getSessions().map(i=>[i.id,i])),n=Array.from(t.selection).map(i=>r.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(n);break;case"select-for-export":yield t.executeMassExport(n)}})()}onSelectAll(){this.sessionService.getSessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,B.Z)(function*(){const o=yield n.popoverController.create({component:$Y,event:t,componentProps:{sessionCount:n.sessionCount,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,B.Z)(function*(){1===t.length&&(yield r.sessionService.saveSession(t[0])),t.length>1&&(yield r.sessionService.saveSessions(t))})()}executeMassDelete(t){var r=this;return(0,B.Z)(function*(){if(1===t.length&&(yield r.deleteSession(t[0])),t.length>1){let n=!0;if(yield r.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var r=this;return(0,B.Z)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield r.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield r.sessionService.addSessionsFromArchive(n)))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:qR,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return nf(t,n=>r.some(o=>o.name===n))}}(hh=Ql).\u0275fac=function(t){return new(t||hh)(v(Xl),v(Bc),v(io),v(Ma),v(Yl),v(tr),v(ls),v(Xb),v(jo),v(Ta),v(X0),v(ql),v(ea),v(ct))},hh.\u0275cmp=Ze({type:hh,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(z(0,"ion-header"),Kt(1,WY,10,0,"ion-toolbar",0)(2,XY,8,5,"ion-toolbar",0),L(),z(3,"ion-content",1),Ne("contextmenu",function(o){return r.onContextMenu(o)}),z(4,"ion-header",2)(5,"ion-toolbar"),Kt(6,QY,2,0,"ion-title",3)(7,JY,2,0,"ion-title",3)(8,eK,2,0,"ion-title",3),L()(),Kt(9,tK,2,0,"div",4)(10,nK,9,0,"div",5)(11,oK,2,2,"ion-list",0),L()),2&t&&(ge(1),Se("ngIf","manage"===r.mode),ge(1),Se("ngIf","manage"!==r.mode),ge(4),Se("ngIf","manage"===r.mode),ge(1),Se("ngIf","select-for-export"===r.mode),ge(1),Se("ngIf","select-for-delete"===r.mode),ge(1),Se("ngIf",r.sessionService.isLoading()),ge(1),Se("ngIf",!r.sessionService.isLoading()&&0===r.sessionCount),ge(1),Se("ngIf",!r.sessionService.isLoading()&&r.sessionCount>0))},dependencies:[wc,ko,ji,Gi,Ui,Hi,Uo,Fs,Qp,Wi,Zi,F_,zY],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),oe([Hn()],Ql.prototype,"deleteSession",null),oe([Hn()],Ql.prototype,"editSession",null),oe([Hn()],Ql.prototype,"saveSession",null),oe([Hn()],Ql.prototype,"launchSession",null),oe([Hn()],Ql.prototype,"resetSession",null),oe([Hn()],Ql.prototype,"onSelectionDone",null),oe([Hn()],Ql.prototype,"openActionMenu",null);const iK=["nav"],sK=()=>({}),aK=e=>({selfReference:e}),lK=[{path:"tab",component:q0,children:[{path:"emulation",component:Aa},{path:"sessions",component:(()=>{var e;class t{constructor(){this.navRoot=Ql}ionViewDidLeave(){var n=this;return(0,B.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewWillLeave(){var n=this;return(0,B.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave?.()})()}ionViewDidEnter(){var n=this;return(0,B.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_?.()})()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-sessions-wrapper"]],viewQuery:function(n,o){if(1&n&&yc(iK,5),2&n){let i;Rs(i=Ps())&&(o.nav=i.first)}},decls:2,vars:6,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&je(0,"ion-nav",0,1),2&n&&Se("animated",!1)("root",o.navRoot)("rootParams",function xI(e,t,r,n){return TI(ze(),Pi(),e,t,r,n)}(4,aK,function II(e,t,r){const n=Pi()+e,o=ze();return o[n]===En?rl(o,n,r?t.call(r):t()):function qf(e,t){return e[t]}(o,n)}(3,sK)))},dependencies:[u0],encapsulation:2}),t})()},{path:"storage",component:NY},{path:"settings",component:Rq},{path:"about",component:RZ},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let cK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({imports:[Kg.forChild(lK),Kg]}),t})(),uK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({imports:[Oc,cl,vu,cK,EZ,DZ,IZ,xZ,wZ]}),t})(),dK=(()=>{var e;class t extends Ux{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Wr(e)))(o||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const fK=[{path:"install",component:zR,canActivate:[WR]},{path:"import",component:zR,canActivate:[WR]},{path:"",component:q0}];let pK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=tt({providers:[{provide:ll,useClass:dK}],imports:[Kg.forRoot(fK,{preloadingStrategy:JH,useHash:!0}),uK,Kg]}),t})();const iP=["touch","click","keydown"];let hK=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,B.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;const o=()=>{iP.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};iP.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Di),ue(K0))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const mK=()=>{const e=new bu;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let gK=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(tr),ue(Ma),ue(K0),ue(Xl),ue(Di),ue(HR),ue(hK),ue(W0))},e.\u0275mod=eo({type:e,bootstrap:[uZ]}),e.\u0275inj=tt({providers:[{provide:tA,useClass:m8},{provide:gp,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[Di]}],imports:[UG,Oc.forRoot({...tP()?{actionSheetEnter:Eq,loadingEnter:Dq,alertEnter:Iq}:{},innerHTMLTemplatesEnabled:!0}),pK,b0.forRoot({loader:eC,markedOptions:{provide:nR,useFactory:mK}}),xU]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function QG(){xg=PT("#/install?"),Tg=PT("#/import?")}(),function D9(){return!!localStorage.getItem(S_)}()&&!OT()||function JG(){return void 0!==xg}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),jG().bootstrapModule(gK).then(e=>ta.production||function qG(e){return function MT(e,t){(typeof COMPILED>"u"||!COMPILED)&&((D.ng=D.ng||{})[e]=t)}("profiler",new ZG(e)),e}(e.injector.get(Sa).components[0])).catch(e=>console.log(e))},2227:ve=>{var C,De=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var q,Y,u=S;u.ready=new Promise((d,y)=>{q=d,Y=y});var be,U=Object.assign({},u),x="./this.program",T=(d,y)=>{throw y},Q="object"==typeof window,$="function"==typeof importScripts,O=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Q||$)&&($?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),C&&(O=C),O=0!==O.indexOf("blob:")?O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):"",$&&(be=d=>{var y=new XMLHttpRequest;return y.open("GET",d,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}));var k,se=u.print||console.log.bind(console),H=u.printErr||console.error.bind(console);Object.assign(u,U),U=null,u.thisProgram&&(x=u.thisProgram),u.quit&&(T=u.quit),u.wasmBinary&&(k=u.wasmBinary),"object"!=typeof WebAssembly&&ot("no native wasm support detected");var te,ae,Re,F,I,K,me,le=!1;function Ae(d,y){d||ot(y)}function Be(){var d=te.buffer;u.HEAP8=Re=new Int8Array(d),u.HEAP16=new Int16Array(d),u.HEAPU8=F=new Uint8Array(d),u.HEAPU16=new Uint16Array(d),u.HEAP32=I=new Int32Array(d),u.HEAPU32=K=new Uint32Array(d),u.HEAPF32=new Float32Array(d),u.HEAPF64=me=new Float64Array(d)}function Mt(){if(!le){var d=fo();0==d&&(d+=4);var y=K[d>>2],W=K[d+4>>2];(34821223!=y||2310721022!=W)&&ot(`Stack overflow! Stack cookie has been overwritten at ${so(d)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${so(W)} ${so(y)}`),1668509029!=K[0]&&ot("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Fe=[],We=[],Pe=[],Ge=[],kt=0,xe=null,_e=null;function ot(d){u.onAbort&&u.onAbort(d),H(d="Aborted("+d+")"),le=!0,ae=1,d+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(d);throw Y(y),y}var Vt,ln=d=>d.startsWith("data:application/octet-stream;base64,");function cn(d){if(d==Vt&&k)return new Uint8Array(k);if(be)return be(d);throw"both async and sync fetching of the wasm failed"}function mr(d,y,W){return function bn(d){return k||!Q&&!$||"function"!=typeof fetch?Promise.resolve().then(()=>cn(d)):fetch(d,{credentials:"same-origin"}).then(y=>{if(!y.ok)throw"failed to load wasm binary file at '"+d+"'";return y.arrayBuffer()}).catch(()=>cn(d))}(d).then(Ee=>WebAssembly.instantiate(Ee,y)).then(Ee=>Ee).then(W,Ee=>{H(`failed to asynchronously prepare wasm: ${Ee}`),ot(Ee)})}ln(Vt="cloudpilot_web.wasm")||(Vt=function A(d){return u.locateFile?u.locateFile(d,O):O+d}(Vt));var Vr,po={425048:d=>{E.grow(65536);for(let y=0;y<=65535;y++)E.set(E.length-65535-1+y,E.get(K[(d>>>2)+y]));return E.length-65535-1}};function Pr(d){this.name="ExitStatus",this.message=`Program terminated with exit(${d})`,this.status=d}var Kn=d=>{for(;d.length>0;)d.shift()(u)},So=u.noExitRuntime||!0,so=d=>"0x"+(d>>>=0).toString(16).padStart(8,"0"),ho=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,jr=(d,y,W)=>{for(var Ee=y+W,yt=y;d[yt]&&!(yt>=Ee);)++yt;if(yt-y>16&&d.buffer&&ho)return ho.decode(d.subarray(y,yt));for(var jt="";y<yt;){var Bt=d[y++];if(128&Bt){var Sn=63&d[y++];if(192!=(224&Bt)){var Zn=63&d[y++];if((Bt=224==(240&Bt)?(15&Bt)<<12|Sn<<6|Zn:(7&Bt)<<18|Sn<<12|Zn<<6|63&d[y++])<65536)jt+=String.fromCharCode(Bt);else{var To=Bt-65536;jt+=String.fromCharCode(55296|To>>10,56320|1023&To)}}else jt+=String.fromCharCode((31&Bt)<<6|Sn)}else jt+=String.fromCharCode(Bt)}return jt},de=(d,y)=>d?jr(F,d,y):"",Yt=(d,y)=>y+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*y:NaN,zn=d=>d%4==0&&(d%100!=0||d%400==0),Kr=[0,31,60,91,121,152,182,213,244,274,305,335],mo=[0,31,59,90,120,151,181,212,243,273,304,334],In=d=>(zn(d.getFullYear())?Kr:mo)[d.getMonth()]+d.getDate()-1,Po=d=>{for(var y=0,W=0;W<d.length;++W){var Ee=d.charCodeAt(W);Ee<=127?y++:Ee<=2047?y+=2:Ee>=55296&&Ee<=57343?(y+=4,++W):y+=3}return y},On=(d,y,W,Ee)=>{if(!(Ee>0))return 0;for(var yt=W,jt=W+Ee-1,Bt=0;Bt<d.length;++Bt){var Sn=d.charCodeAt(Bt);if(Sn>=55296&&Sn<=57343&&(Sn=65536+((1023&Sn)<<10)|1023&d.charCodeAt(++Bt)),Sn<=127){if(W>=jt)break;y[W++]=Sn}else if(Sn<=2047){if(W+1>=jt)break;y[W++]=192|Sn>>6,y[W++]=128|63&Sn}else if(Sn<=65535){if(W+2>=jt)break;y[W++]=224|Sn>>12,y[W++]=128|Sn>>6&63,y[W++]=128|63&Sn}else{if(W+3>=jt)break;y[W++]=240|Sn>>18,y[W++]=128|Sn>>12&63,y[W++]=128|Sn>>6&63,y[W++]=128|63&Sn}}return y[W]=0,W-yt},_r=d=>{var y=Po(d)+1,W=ur(y);return W&&((d,y,W)=>{On(d,F,y,W)})(d,W,y),W},Wo=[],Ti=d=>{var W=(d-te.buffer.byteLength+65535)/65536;try{return te.grow(W),Be(),1}catch{}},ui={},di=()=>{if(!di.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"};for(var W in ui)void 0===ui[W]?delete y[W]:y[W]=ui[W];var Ee=[];for(var W in y)Ee.push(`${W}=${y[W]}`);di.strings=Ee}return di.strings},ds=[null,[],[]],Bs=(d,y)=>{var W=ds[d];0===y||10===y?((1===d?se:H)(jr(W,0)),W.length=0):W.push(y)},qo=[31,29,31,30,31,30,31,31,30,31,30,31],vr=[31,28,31,30,31,30,31,31,30,31,30,31];function Vs(d,y,W){var Ee=W>0?W:Po(d)+1,yt=new Array(Ee),jt=On(d,yt,0,yt.length);return y&&(yt.length=jt),yt}var E,ce,Au,gs=(d,y)=>{ae=d,(d=>{ae=d,So||(u.onExit&&u.onExit(d),le=!0),T(d,new Pr(d))})(d)},et=(d,y)=>{d<128?y.push(d):y.push(d%128|128,d>>7)},w=[],ie=d=>{var y=w[d];return y||(d>=w.length&&(w.length=d+1),w[d]=y=E.get(d)),y},Ke=[],Ve=(d,y)=>{E.set(d,y),w[d]=E.get(d)},Dt={b:(d,y,W,Ee)=>{ot(`Assertion failed: ${de(d)}, at: `+[y?de(y):"unknown filename",W,Ee?de(Ee):"unknown function"])},i:function Rr(d){const y=new Error(de(d));throw y.isAssert=!0,y},m:function _n(d,y,W){Yt(y,W)},h:()=>1,j:function ao(d,y,W){var Ee=Yt(d,y),yt=new Date(1e3*Ee);I[W>>2]=yt.getSeconds(),I[W+4>>2]=yt.getMinutes(),I[W+8>>2]=yt.getHours(),I[W+12>>2]=yt.getDate(),I[W+16>>2]=yt.getMonth(),I[W+20>>2]=yt.getFullYear()-1900,I[W+24>>2]=yt.getDay();var jt=0|In(yt);I[W+28>>2]=jt,I[W+36>>2]=-60*yt.getTimezoneOffset();var Bt=new Date(yt.getFullYear(),0,1),Sn=new Date(yt.getFullYear(),6,1).getTimezoneOffset(),Zn=Bt.getTimezoneOffset(),To=0|(Sn!=Zn&&yt.getTimezoneOffset()==Math.min(Zn,Sn));I[W+32>>2]=To},k:function(d){var y=(()=>{var W=new Date(I[d+20>>2]+1900,I[d+16>>2],I[d+12>>2],I[d+8>>2],I[d+4>>2],I[d>>2],0),Ee=I[d+32>>2],yt=W.getTimezoneOffset(),jt=new Date(W.getFullYear(),0,1),Bt=new Date(W.getFullYear(),6,1).getTimezoneOffset(),Sn=jt.getTimezoneOffset(),Zn=Math.min(Sn,Bt);if(Ee<0)I[d+32>>2]=+(Bt!=Sn&&Zn==yt);else if(Ee>0!=(Zn==yt)){var To=Math.max(Sn,Bt),si=Ee>0?Zn:To;W.setTime(W.getTime()+6e4*(si-yt))}I[d+24>>2]=W.getDay();var Ya=0|In(W);I[d+28>>2]=Ya,I[d>>2]=W.getSeconds(),I[d+4>>2]=W.getMinutes(),I[d+8>>2]=W.getHours(),I[d+12>>2]=W.getDate(),I[d+16>>2]=W.getMonth(),I[d+20>>2]=W.getYear();var Xo=W.getTime();return isNaN(Xo)?(I[eo()>>2]=61,-1):Xo/1e3})();return _f((Vr=y,+Math.abs(Vr)>=1?Vr>0?+Math.floor(Vr/4294967296)>>>0:~~+Math.ceil((Vr-+(~~Vr>>>0))/4294967296)>>>0:0)),y>>>0},r:(d,y,W)=>{var Ee=(new Date).getFullYear(),yt=new Date(Ee,0,1),jt=new Date(Ee,6,1),Bt=yt.getTimezoneOffset(),Sn=jt.getTimezoneOffset(),Zn=Math.max(Bt,Sn);function To(sc){var ac=sc.toTimeString().match(/\(([A-Za-z ]+)\)$/);return ac?ac[1]:"GMT"}K[d>>2]=60*Zn,I[y>>2]=+(Bt!=Sn);var si=To(yt),Ya=To(jt),Xo=_r(si),Hc=_r(Ya);Sn<Bt?(K[W>>2]=Xo,K[W+4>>2]=Hc):(K[W>>2]=Hc,K[W+4>>2]=Xo)},a:()=>{ot("")},s:(d,y,W)=>((d,y,W)=>{var Ee=((d,y)=>{Wo.length=0;for(var W;W=F[d++];){var Ee=105!=W;y+=(Ee&=112!=W)&&y%8?4:0,Wo.push(112==W?K[y>>2]:105==W?I[y>>2]:me[y>>3]),y+=Ee?8:4}return Wo})(y,W);return po[d].apply(null,Ee)})(d,y,W),c:()=>Date.now(),d:(d,y,W)=>F.copyWithin(d,y,y+W),q:d=>{var Zn,y=F.length,W=2147483648;if((d>>>=0)>W)return!1;for(var yt=1;yt<=4;yt*=2){var jt=y*(1+.2/yt);jt=Math.min(jt,d+100663296);var Bt=Math.min(W,(Zn=Math.max(d,jt))+(65536-Zn%65536)%65536);if(Ti(Bt))return!0}return!1},o:(d,y)=>{var W=0;return di().forEach((Ee,yt)=>{var jt=y+W;K[d+4*yt>>2]=jt,((d,y)=>{for(var W=0;W<d.length;++W)Re[y++>>0]=d.charCodeAt(W);Re[y>>0]=0})(Ee,jt),W+=Ee.length+1}),0},p:(d,y)=>{var W=di();K[d>>2]=W.length;var Ee=0;return W.forEach(yt=>Ee+=yt.length+1),K[y>>2]=Ee,0},e:d=>52,g:(d,y,W,Ee)=>52,l:function go(d,y,W,Ee,yt){return Yt(y,W),70},f:(d,y,W,Ee)=>{for(var yt=0,jt=0;jt<W;jt++){var Bt=K[y>>2],Sn=K[y+4>>2];y+=8;for(var Zn=0;Zn<Sn;Zn++)Bs(d,F[Bt+Zn]);yt+=Sn}return K[Ee>>2]=yt,0},n:(d,y,W,Ee,yt)=>((d,y,W,Ee)=>{var yt=K[Ee+40>>2],jt={tm_sec:I[Ee>>2],tm_min:I[Ee+4>>2],tm_hour:I[Ee+8>>2],tm_mday:I[Ee+12>>2],tm_mon:I[Ee+16>>2],tm_year:I[Ee+20>>2],tm_wday:I[Ee+24>>2],tm_yday:I[Ee+28>>2],tm_isdst:I[Ee+32>>2],tm_gmtoff:I[Ee+36>>2],tm_zone:yt?de(yt):""},Bt=de(W),Sn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Zn in Sn)Bt=Bt.replace(new RegExp(Zn,"g"),Sn[Zn]);var To=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],si=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ya(gt,wn,ws){for(var ki="number"==typeof gt?gt.toString():gt||"";ki.length<wn;)ki=ws[0]+ki;return ki}function Xo(gt,wn){return Ya(gt,wn,"0")}function Hc(gt,wn){function ws(yf){return yf<0?-1:yf>0?1:0}var ki;return 0===(ki=ws(gt.getFullYear()-wn.getFullYear()))&&0===(ki=ws(gt.getMonth()-wn.getMonth()))&&(ki=ws(gt.getDate()-wn.getDate())),ki}function sc(gt){switch(gt.getDay()){case 0:return new Date(gt.getFullYear()-1,11,29);case 1:return gt;case 2:return new Date(gt.getFullYear(),0,3);case 3:return new Date(gt.getFullYear(),0,2);case 4:return new Date(gt.getFullYear(),0,1);case 5:return new Date(gt.getFullYear()-1,11,31);case 6:return new Date(gt.getFullYear()-1,11,30)}}function ac(gt){var wn=((d,y)=>{for(var W=new Date(d.getTime());y>0;){var Ee=zn(W.getFullYear()),yt=W.getMonth(),jt=(Ee?qo:vr)[yt];if(!(y>jt-W.getDate()))return W.setDate(W.getDate()+y),W;y-=jt-W.getDate()+1,W.setDate(1),yt<11?W.setMonth(yt+1):(W.setMonth(0),W.setFullYear(W.getFullYear()+1))}return W})(new Date(gt.tm_year+1900,0,1),gt.tm_yday),ws=new Date(wn.getFullYear(),0,4),ki=new Date(wn.getFullYear()+1,0,4),yf=sc(ws),J0=sc(ki);return Hc(yf,wn)<=0?Hc(J0,wn)<=0?wn.getFullYear()+1:wn.getFullYear():wn.getFullYear()-1}var Oh={"%a":gt=>To[gt.tm_wday].substring(0,3),"%A":gt=>To[gt.tm_wday],"%b":gt=>si[gt.tm_mon].substring(0,3),"%B":gt=>si[gt.tm_mon],"%C":gt=>Xo((gt.tm_year+1900)/100|0,2),"%d":gt=>Xo(gt.tm_mday,2),"%e":gt=>Ya(gt.tm_mday,2," "),"%g":gt=>ac(gt).toString().substring(2),"%G":gt=>ac(gt),"%H":gt=>Xo(gt.tm_hour,2),"%I":gt=>{var wn=gt.tm_hour;return 0==wn?wn=12:wn>12&&(wn-=12),Xo(wn,2)},"%j":gt=>Xo(gt.tm_mday+((d,y)=>{for(var W=0,Ee=0;Ee<=y;W+=d[Ee++]);return W})(zn(gt.tm_year+1900)?qo:vr,gt.tm_mon-1),3),"%m":gt=>Xo(gt.tm_mon+1,2),"%M":gt=>Xo(gt.tm_min,2),"%n":()=>"\n","%p":gt=>gt.tm_hour>=0&&gt.tm_hour<12?"AM":"PM","%S":gt=>Xo(gt.tm_sec,2),"%t":()=>"\t","%u":gt=>gt.tm_wday||7,"%U":gt=>Xo(Math.floor((gt.tm_yday+7-gt.tm_wday)/7),2),"%V":gt=>{var wn=Math.floor((gt.tm_yday+7-(gt.tm_wday+6)%7)/7);if((gt.tm_wday+371-gt.tm_yday-2)%7<=2&&wn++,wn){if(53==wn){var ki=(gt.tm_wday+371-gt.tm_yday)%7;4!=ki&&(3!=ki||!zn(gt.tm_year))&&(wn=1)}}else{wn=52;var ws=(gt.tm_wday+7-gt.tm_yday-1)%7;(4==ws||5==ws&&zn(gt.tm_year%400-1))&&wn++}return Xo(wn,2)},"%w":gt=>gt.tm_wday,"%W":gt=>Xo(Math.floor((gt.tm_yday+7-(gt.tm_wday+6)%7)/7),2),"%y":gt=>(gt.tm_year+1900).toString().substring(2),"%Y":gt=>gt.tm_year+1900,"%z":gt=>{var wn=gt.tm_gmtoff;return(wn>=0?"+":"-")+("0000"+(wn=(wn=Math.abs(wn)/60)/60*100+wn%60)).slice(-4)},"%Z":gt=>gt.tm_zone,"%%":()=>"%"};for(var Zn in Bt=Bt.replace(/%%/g,"\0\0"),Oh)Bt.includes(Zn)&&(Bt=Bt.replace(new RegExp(Zn,"g"),Oh[Zn](jt)));var zc=Vs(Bt=Bt.replace(/\0\0/g,"%"),!1);return zc.length>y?0:(((d,y)=>{Re.set(d,y)})(zc,d),zc.length-1)})(d,y,W,Ee)},X=function zo(){var d={a:Dt};function y(Ee,yt){return te=(X=Ee.exports).t,Be(),E=X.yc,function Ft(d){We.unshift(d)}(X.u),function Je(d){if(kt--,u.monitorRunDependencies&&u.monitorRunDependencies(kt),0==kt&&(null!==xe&&(clearInterval(xe),xe=null),_e)){var y=_e;_e=null,y()}}(),X}if(function Te(d){kt++,u.monitorRunDependencies&&u.monitorRunDependencies(kt)}(),u.instantiateWasm)try{return u.instantiateWasm(d,y)}catch(Ee){H(`Module.instantiateWasm callback failed with error: ${Ee}`),Y(Ee)}return function Pn(d,y,W,Ee){return d||"function"!=typeof WebAssembly.instantiateStreaming||ln(y)||"function"!=typeof fetch?mr(y,W,Ee):fetch(y,{credentials:"same-origin"}).then(yt=>WebAssembly.instantiateStreaming(yt,W).then(Ee,function(Bt){return H(`wasm streaming compile failed: ${Bt}`),H("falling back to ArrayBuffer instantiation"),mr(y,W,Ee)}))}(k,Vt,d,function W(Ee){y(Ee.instance)}).catch(Y),{}}(),ur=u._malloc=d=>(ur=u._malloc=X.v)(d),Gr=(u._free=d=>(u._free=X.w)(d),u._main=(d,y)=>(Gr=u._main=X.x)(d,y)),jn=(u._webidl_free=d=>(u._webidl_free=X.y)(d),u._webidl_malloc=d=>(u._webidl_malloc=X.z)(d),u._emscripten_bind_VoidPtr___destroy___0=d=>(jn=u._emscripten_bind_VoidPtr___destroy___0=X.A)(d)),Oo=u._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(Oo=u._emscripten_bind_Cloudpilot_Cloudpilot_0=X.B)(),Eo=u._emscripten_bind_Cloudpilot_Malloc_1=(d,y)=>(Eo=u._emscripten_bind_Cloudpilot_Malloc_1=X.C)(d,y),Xi=u._emscripten_bind_Cloudpilot_Free_1=(d,y)=>(Xi=u._emscripten_bind_Cloudpilot_Free_1=X.D)(d,y),Ra=u._emscripten_bind_Cloudpilot_Nullptr_0=d=>(Ra=u._emscripten_bind_Cloudpilot_Nullptr_0=X.E)(d),ia=u._emscripten_bind_Cloudpilot_InitializeSession_3=(d,y,W,Ee)=>(ia=u._emscripten_bind_Cloudpilot_InitializeSession_3=X.F)(d,y,W,Ee),js=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=d=>(js=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=X.G)(d),sa=u._emscripten_bind_Cloudpilot_RunEmulation_1=(d,y)=>(sa=u._emscripten_bind_Cloudpilot_RunEmulation_1=X.H)(d,y),Qi=u._emscripten_bind_Cloudpilot_SetClockFactor_1=(d,y)=>(Qi=u._emscripten_bind_Cloudpilot_SetClockFactor_1=X.I)(d,y),Pa=u._emscripten_bind_Cloudpilot_CopyFrame_0=d=>(Pa=u._emscripten_bind_Cloudpilot_CopyFrame_0=X.J)(d),aa=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=d=>(aa=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=X.K)(d),la=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=d=>(la=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=X.L)(d),Oa=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(d,y)=>(Oa=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=X.M)(d,y),Fa=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(d,y)=>(Fa=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=X.N)(d,y),Na=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(d,y)=>(Na=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=X.O)(d,y),La=u._emscripten_bind_Cloudpilot_QueuePenMove_2=(d,y,W)=>(La=u._emscripten_bind_Cloudpilot_QueuePenMove_2=X.P)(d,y,W),ca=u._emscripten_bind_Cloudpilot_QueuePenUp_0=d=>(ca=u._emscripten_bind_Cloudpilot_QueuePenUp_0=X.Q)(d),$a=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=(d,y)=>($a=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=X.R)(d,y),Ba=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=(d,y)=>(Ba=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=X.S)(d,y),yr=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(d,y,W)=>(yr=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=X.T)(d,y,W),ua=u._emscripten_bind_Cloudpilot_IsPowerOff_0=d=>(ua=u._emscripten_bind_Cloudpilot_IsPowerOff_0=X.U)(d),co=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=d=>(co=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=X.V)(d),Gt=u._emscripten_bind_Cloudpilot_GetOSVersion_0=d=>(Gt=u._emscripten_bind_Cloudpilot_GetOSVersion_0=X.W)(d),da=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=d=>(da=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=X.X)(d),Gs=u._emscripten_bind_Cloudpilot_Reset_0=d=>(Gs=u._emscripten_bind_Cloudpilot_Reset_0=X.Y)(d),Jr=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=d=>(Jr=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=X.Z)(d),Us=u._emscripten_bind_Cloudpilot_ResetHard_0=d=>(Us=u._emscripten_bind_Cloudpilot_ResetHard_0=X._)(d),Va=u._emscripten_bind_Cloudpilot_InstallDb_2=(d,y,W)=>(Va=u._emscripten_bind_Cloudpilot_InstallDb_2=X.$)(d,y,W),Gn=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=d=>(Gn=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=X.aa)(d),vs=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=d=>(vs=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=X.ba)(d),br=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=d=>(br=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=X.ca)(d),Hs=u._emscripten_bind_Cloudpilot_GetMemorySize_0=d=>(Hs=u._emscripten_bind_Cloudpilot_GetMemorySize_0=X.da)(d),wl=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(d,y,W)=>(wl=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=X.ea)(d,y,W),ja=u._emscripten_bind_Cloudpilot_GetRomPtr_0=d=>(ja=u._emscripten_bind_Cloudpilot_GetRomPtr_0=X.fa)(d),Un=u._emscripten_bind_Cloudpilot_GetRomSize_0=d=>(Un=u._emscripten_bind_Cloudpilot_GetRomSize_0=X.ga)(d),zt=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=d=>(zt=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=X.ha)(d),ys=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=d=>(ys=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=X.ia)(d),zs=u._emscripten_bind_Cloudpilot_SaveState_0=d=>(zs=u._emscripten_bind_Cloudpilot_SaveState_0=X.ja)(d),El=u._emscripten_bind_Cloudpilot_LoadState_2=(d,y,W)=>(El=u._emscripten_bind_Cloudpilot_LoadState_2=X.ka)(d,y,W),fa=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=d=>(fa=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=X.la)(d),Xe=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=(d,y)=>(Xe=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=X.ma)(d,y),Ai=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(d,y)=>(Ai=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=X.na)(d,y),Ji=u._emscripten_bind_Cloudpilot_StartBackup_0=d=>(Ji=u._emscripten_bind_Cloudpilot_StartBackup_0=X.oa)(d),Ws=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(d,y)=>(Ws=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=X.pa)(d,y),pa=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=d=>(pa=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=X.qa)(d),Ga=u._emscripten_bind_Cloudpilot_IsSuspended_0=d=>(Ga=u._emscripten_bind_Cloudpilot_IsSuspended_0=X.ra)(d),Yo=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=d=>(Yo=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=X.sa)(d),es=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(d,y)=>(es=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=X.ta)(d,y),Ua=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=d=>(Ua=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=X.ua)(d),Qt=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(d,y)=>(Qt=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=X.va)(d,y),Bn=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(d,y)=>(Bn=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=X.wa)(d,y),ha=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=(d,y)=>(ha=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=X.xa)(d,y),Dl=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(d,y,W)=>(Dl=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=X.ya)(d,y,W),Il=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(d,y)=>(Il=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=X.za)(d,y),xl=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=d=>(xl=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=X.Aa)(d),Ha=u._emscripten_bind_Cloudpilot_AllocateCard_2=(d,y,W)=>(Ha=u._emscripten_bind_Cloudpilot_AllocateCard_2=X.Ba)(d,y,W),Er=u._emscripten_bind_Cloudpilot_AdoptCard_3=(d,y,W,Ee)=>(Er=u._emscripten_bind_Cloudpilot_AdoptCard_3=X.Ca)(d,y,W,Ee),dr=u._emscripten_bind_Cloudpilot_MountCard_1=(d,y)=>(dr=u._emscripten_bind_Cloudpilot_MountCard_1=X.Da)(d,y),_o=u._emscripten_bind_Cloudpilot_RemoveCard_1=(d,y)=>(_o=u._emscripten_bind_Cloudpilot_RemoveCard_1=X.Ea)(d,y),Tl=u._emscripten_bind_Cloudpilot_GetCardData_1=(d,y)=>(Tl=u._emscripten_bind_Cloudpilot_GetCardData_1=X.Fa)(d,y),Jl=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(d,y)=>(Jl=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=X.Ga)(d,y),bi=u._emscripten_bind_Cloudpilot_GetCardSize_1=(d,y)=>(bi=u._emscripten_bind_Cloudpilot_GetCardSize_1=X.Ha)(d,y),ec=u._emscripten_bind_Cloudpilot_RemountCards_0=d=>(ec=u._emscripten_bind_Cloudpilot_RemountCards_0=X.Ia)(d),jc=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=(d,y)=>(jc=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=X.Ja)(d,y),Qn=u._emscripten_bind_Cloudpilot_GetMountedKey_0=d=>(Qn=u._emscripten_bind_Cloudpilot_GetMountedKey_0=X.Ka)(d),ma=u._emscripten_bind_Cloudpilot___destroy___0=d=>(ma=u._emscripten_bind_Cloudpilot___destroy___0=X.La)(d),Fr=u._emscripten_bind_RomInfo_RomInfo_2=(d,y)=>(Fr=u._emscripten_bind_RomInfo_RomInfo_2=X.Ma)(d,y),vo=u._emscripten_bind_RomInfo_IsValid_0=d=>(vo=u._emscripten_bind_RomInfo_IsValid_0=X.Na)(d),uo=u._emscripten_bind_RomInfo_CardVersion_0=d=>(uo=u._emscripten_bind_RomInfo_CardVersion_0=X.Oa)(d),Ur=u._emscripten_bind_RomInfo_CardName_0=d=>(Ur=u._emscripten_bind_RomInfo_CardName_0=X.Pa)(d),vn=u._emscripten_bind_RomInfo_RomVersion_0=d=>(vn=u._emscripten_bind_RomInfo_RomVersion_0=X.Qa)(d),Ct=u._emscripten_bind_RomInfo_RomVersionString_0=d=>(Ct=u._emscripten_bind_RomInfo_RomVersionString_0=X.Ra)(d),Dr=u._emscripten_bind_RomInfo_Supports_1=(d,y)=>(Dr=u._emscripten_bind_RomInfo_Supports_1=X.Sa)(d,y),Cr=u._emscripten_bind_RomInfo___destroy___0=d=>(Cr=u._emscripten_bind_RomInfo___destroy___0=X.Ta)(d),_=u._emscripten_bind_Frame_GetLineWidth_0=d=>(_=u._emscripten_bind_Frame_GetLineWidth_0=X.Ua)(d),G=u._emscripten_bind_Frame_GetBpp_0=d=>(G=u._emscripten_bind_Frame_GetBpp_0=X.Va)(d),M=u._emscripten_bind_Frame_GetLines_0=d=>(M=u._emscripten_bind_Frame_GetLines_0=X.Wa)(d),Oe=u._emscripten_bind_Frame_GetMargin_0=d=>(Oe=u._emscripten_bind_Frame_GetMargin_0=X.Xa)(d),tt=u._emscripten_bind_Frame_GetBytesPerLine_0=d=>(tt=u._emscripten_bind_Frame_GetBytesPerLine_0=X.Ya)(d),sn=u._emscripten_bind_Frame_GetFirstDirtyLine_0=d=>(sn=u._emscripten_bind_Frame_GetFirstDirtyLine_0=X.Za)(d),Jt=u._emscripten_bind_Frame_GetLastDirtyLine_0=d=>(Jt=u._emscripten_bind_Frame_GetLastDirtyLine_0=X._a)(d),dn=u._emscripten_bind_Frame_GetHasChanges_0=d=>(dn=u._emscripten_bind_Frame_GetHasChanges_0=X.$a)(d),Jn=u._emscripten_bind_Frame_GetBuffer_0=d=>(Jn=u._emscripten_bind_Frame_GetBuffer_0=X.ab)(d),$t=u._emscripten_bind_Frame_GetBufferSize_0=d=>($t=u._emscripten_bind_Frame_GetBufferSize_0=X.bb)(d),rr=u._emscripten_bind_Frame_GetScaleX_0=d=>(rr=u._emscripten_bind_Frame_GetScaleX_0=X.cb)(d),fr=u._emscripten_bind_Frame_GetScaleY_0=d=>(fr=u._emscripten_bind_Frame_GetScaleY_0=X.db)(d),yn=u._emscripten_bind_Frame___destroy___0=d=>(yn=u._emscripten_bind_Frame___destroy___0=X.eb)(d),At=u._emscripten_bind_DbBackup_Init_1=(d,y)=>(At=u._emscripten_bind_DbBackup_Init_1=X.fb)(d,y),Nt=u._emscripten_bind_DbBackup_IsInProgress_0=d=>(Nt=u._emscripten_bind_DbBackup_IsInProgress_0=X.gb)(d),Vn=u._emscripten_bind_DbBackup_IsDone_0=d=>(Vn=u._emscripten_bind_DbBackup_IsDone_0=X.hb)(d),Ir=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=d=>(Ir=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=X.ib)(d),hn=u._emscripten_bind_DbBackup_Save_0=d=>(hn=u._emscripten_bind_DbBackup_Save_0=X.jb)(d),qe=u._emscripten_bind_DbBackup_Skip_0=d=>(qe=u._emscripten_bind_DbBackup_Skip_0=X.kb)(d),p=u._emscripten_bind_DbBackup_GetArchivePtr_0=d=>(p=u._emscripten_bind_DbBackup_GetArchivePtr_0=X.lb)(d),D=u._emscripten_bind_DbBackup_GetArchiveSize_0=d=>(D=u._emscripten_bind_DbBackup_GetArchiveSize_0=X.mb)(d),re=u._emscripten_bind_DbBackup___destroy___0=d=>(re=u._emscripten_bind_DbBackup___destroy___0=X.nb)(d),$e=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=d=>($e=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=X.ob)(d),Me=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=d=>(Me=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=X.pb)(d),Cn=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=d=>(Cn=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=X.qb)(d),rn=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=d=>(rn=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=X.rb)(d),mn=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=d=>(mn=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=X.sb)(d),er=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(d,y)=>(er=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=X.tb)(d,y),Do=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=d=>(Do=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=X.ub)(d),bs=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=d=>(bs=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=X.vb)(d),za=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=(d,y)=>(za=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=X.wb)(d,y),Io=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=d=>(Io=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=X.xb)(d),Ml=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=d=>(Ml=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=X.yb)(d),tc=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=d=>(tc=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=X.zb)(d),Al=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=d=>(Al=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=X.Ab)(d),ga=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(d,y,W)=>(ga=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=X.Bb)(d,y,W),Wa=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=d=>(Wa=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=X.Cb)(d),lt=u._emscripten_bind_SuspendContext_GetKind_0=d=>(lt=u._emscripten_bind_SuspendContext_GetKind_0=X.Db)(d),fn=u._emscripten_bind_SuspendContext_Cancel_0=d=>(fn=u._emscripten_bind_SuspendContext_Cancel_0=X.Eb)(d),fi=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=d=>(fi=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=X.Fb)(d),Ko=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=d=>(Ko=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=X.Gb)(d),Za=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=d=>(Za=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=X.Hb)(d),_a=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=d=>(_a=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=X.Ib)(d),mh=u._emscripten_bind_SuspendContext___destroy___0=d=>(mh=u._emscripten_bind_SuspendContext___destroy___0=X.Jb)(d),va=u._emscripten_bind_SessionImage_SessionImage_0=()=>(va=u._emscripten_bind_SessionImage_SessionImage_0=X.Kb)(),gh=u._emscripten_bind_SessionImage_GetDeviceId_0=d=>(gh=u._emscripten_bind_SessionImage_GetDeviceId_0=X.Lb)(d),ue=u._emscripten_bind_SessionImage_SetDeviceId_1=(d,y)=>(ue=u._emscripten_bind_SessionImage_SetDeviceId_1=X.Mb)(d,y),lf=u._emscripten_bind_SessionImage_GetRomImage_0=d=>(lf=u._emscripten_bind_SessionImage_GetRomImage_0=X.Nb)(d),it=u._emscripten_bind_SessionImage_GetRomImageSize_0=d=>(it=u._emscripten_bind_SessionImage_GetRomImageSize_0=X.Ob)(d),Gc=u._emscripten_bind_SessionImage_SetRomImage_2=(d,y,W)=>(Gc=u._emscripten_bind_SessionImage_SetRomImage_2=X.Pb)(d,y,W),Tu=u._emscripten_bind_SessionImage_GetMemoryImage_0=d=>(Tu=u._emscripten_bind_SessionImage_GetMemoryImage_0=X.Qb)(d),nc=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=d=>(nc=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=X.Rb)(d),_h=u._emscripten_bind_SessionImage_SetMemoryImage_2=(d,y,W)=>(_h=u._emscripten_bind_SessionImage_SetMemoryImage_2=X.Sb)(d,y,W),vh=u._emscripten_bind_SessionImage_GetMetadata_0=d=>(vh=u._emscripten_bind_SessionImage_GetMetadata_0=X.Tb)(d),yh=u._emscripten_bind_SessionImage_GetMetadataSize_0=d=>(yh=u._emscripten_bind_SessionImage_GetMetadataSize_0=X.Ub)(d),Zs=u._emscripten_bind_SessionImage_SetMetadata_2=(d,y,W)=>(Zs=u._emscripten_bind_SessionImage_SetMetadata_2=X.Vb)(d,y,W),Uc=u._emscripten_bind_SessionImage_GetSavestate_0=d=>(Uc=u._emscripten_bind_SessionImage_GetSavestate_0=X.Wb)(d),ts=u._emscripten_bind_SessionImage_GetSavestateSize_0=d=>(ts=u._emscripten_bind_SessionImage_GetSavestateSize_0=X.Xb)(d),Cs=u._emscripten_bind_SessionImage_SetSavestate_2=(d,y,W)=>(Cs=u._emscripten_bind_SessionImage_SetSavestate_2=X.Yb)(d,y,W),Wn=u._emscripten_bind_SessionImage_GetVersion_0=d=>(Wn=u._emscripten_bind_SessionImage_GetVersion_0=X.Zb)(d),cf=u._emscripten_bind_SessionImage_Serialize_0=d=>(cf=u._emscripten_bind_SessionImage_Serialize_0=X._b)(d),Mu=u._emscripten_bind_SessionImage_GetSerializedImage_0=d=>(Mu=u._emscripten_bind_SessionImage_GetSerializedImage_0=X.$b)(d),uf=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=d=>(uf=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=X.ac)(d),df=u._emscripten_bind_SessionImage_Deserialize_2=(d,y,W)=>(df=u._emscripten_bind_SessionImage_Deserialize_2=X.bc)(d,y,W),rc=u._emscripten_bind_SessionImage___destroy___0=d=>(rc=u._emscripten_bind_SessionImage___destroy___0=X.cc)(d),ff=u._emscripten_bind_SkinLoader_SkinLoader_1=d=>(ff=u._emscripten_bind_SkinLoader_SkinLoader_1=X.dc)(d),pf=u._emscripten_bind_SkinLoader_GetData_0=d=>(pf=u._emscripten_bind_SkinLoader_GetData_0=X.ec)(d),bh=u._emscripten_bind_SkinLoader_GetSize_0=d=>(bh=u._emscripten_bind_SkinLoader_GetSize_0=X.fc)(d),hf=u._emscripten_bind_SkinLoader___destroy___0=d=>(hf=u._emscripten_bind_SkinLoader___destroy___0=X.gc)(d),Ch=u._emscripten_bind_GunzipContext_GunzipContext_3=(d,y,W)=>(Ch=u._emscripten_bind_GunzipContext_GunzipContext_3=X.hc)(d,y,W),Sh=u._emscripten_bind_GunzipContext_GetState_0=d=>(Sh=u._emscripten_bind_GunzipContext_GetState_0=X.ic)(d),ns=u._emscripten_bind_GunzipContext_Continue_0=d=>(ns=u._emscripten_bind_GunzipContext_Continue_0=X.jc)(d),wh=u._emscripten_bind_GunzipContext_GetUncompressedData_0=d=>(wh=u._emscripten_bind_GunzipContext_GetUncompressedData_0=X.kc)(d),mf=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=d=>(mf=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=X.lc)(d),Eh=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=d=>(Eh=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=X.mc)(d),Dh=u._emscripten_bind_GunzipContext_GetError_0=d=>(Dh=u._emscripten_bind_GunzipContext_GetError_0=X.nc)(d),Ih=u._emscripten_bind_GunzipContext___destroy___0=d=>(Ih=u._emscripten_bind_GunzipContext___destroy___0=X.oc)(d),xh=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(d,y)=>(xh=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=X.pc)(d,y),gf=u._emscripten_bind_ZipfileWalker_GetState_0=d=>(gf=u._emscripten_bind_ZipfileWalker_GetState_0=X.qc)(d),Th=u._emscripten_bind_ZipfileWalker_Next_0=d=>(Th=u._emscripten_bind_ZipfileWalker_Next_0=X.rc)(d),Mh=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=d=>(Mh=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=X.sc)(d),Ah=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=d=>(Ah=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=X.tc)(d),Ze=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=d=>(Ze=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=X.uc)(d),kh=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=d=>(kh=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=X.vc)(d),Rh=u._emscripten_bind_ZipfileWalker___destroy___0=d=>(Rh=u._emscripten_bind_ZipfileWalker___destroy___0=X.wc)(d),eo=()=>(eo=X.xc)(),_f=d=>(_f=X.zc)(d),Rt=()=>(Rt=X.Ac)(),fo=()=>(fo=X.Bc)(),No=()=>(No=X.Cc)();function dt(){function d(){Au||(Au=!0,u.calledRun=!0,!le&&(function pe(){Mt(),Kn(We)}(),function He(){Mt(),Kn(Pe)}(),q(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),Wt&&function B_(){var d=Gr;try{var Ee=d(0,0);return gs(Ee),Ee}catch(yt){return(d=>{if(d instanceof Pr||"unwind"==d)return ae;Mt(),d instanceof WebAssembly.RuntimeError&&No()<=0&&H("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),T(1,d)})(yt)}}(),function at(){if(Mt(),u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)d=u.postRun.shift(),Ge.unshift(d);var d;Kn(Ge)}()))}kt>0||(function no(){Rt(),function mt(){var d=fo();0==d&&(d+=4),K[d>>2]=34821223,K[d+4>>2]=2310721022,K[0]=1668509029}()}(),function Ot(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)d=u.preRun.shift(),Fe.unshift(d);var d;Kn(Fe)}(),kt>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),d()},1)):d(),Mt())}if(u.___original_main=()=>(u.___original_main=X.Dc)(),u.___start_em_js=425239,u.___stop_em_js=425338,u.addFunction=(d,y)=>{var W=(d=>(ce||(ce=new WeakMap,((d,y)=>{if(ce)for(var W=0;W<0+y;W++){var Ee=ie(W);Ee&&ce.set(Ee,W)}})(0,E.length)),ce.get(d)||0))(d);if(W)return W;var Ee=(()=>{if(Ke.length)return Ke.pop();try{E.grow(1)}catch(d){throw d instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":d}return E.length-1})();try{Ve(Ee,d)}catch(jt){if(!(jt instanceof TypeError))throw jt;var yt=((d,y)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((d=>{for(var y={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},W={parameters:[],results:"v"==d[0]?[]:[y[d[0]]]},Ee=1;Ee<d.length;++Ee)W.parameters.push(y[d[Ee]]);return W})(y),d);var W=[1];((d,y)=>{var W=d.slice(0,1),Ee=d.slice(1),yt={i:127,p:127,j:126,f:125,d:124,e:111};y.push(96),et(Ee.length,y);for(var jt=0;jt<Ee.length;++jt)y.push(yt[Ee[jt]]);"v"==W?y.push(0):y.push(1,yt[W])})(y,W);var Ee=[0,97,115,109,1,0,0,0,1];et(W.length,Ee),Ee.push.apply(Ee,W),Ee.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var yt=new WebAssembly.Module(new Uint8Array(Ee));return new WebAssembly.Instance(yt,{e:{f:d}}).exports.f})(d,y);Ve(Ee,yt)}return ce.set(d,Ee),Ee},u.UTF8ToString=de,_e=function d(){Au||dt(),Au||(_e=d)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var Wt=!0;function an(){}function xo(d){return(d||an).__cache__}function tn(d,y){var W=xo(y),Ee=W[d];return Ee||((Ee=Object.create((y||an).prototype)).ptr=d,W[d]=Ee)}u.noInitialRun&&(Wt=!1),dt(),(an.prototype=Object.create(an.prototype)).constructor=an,an.prototype.__class__=an,an.__cache__={},u.WrapperObject=an,u.getCache=xo,u.wrapPointer=tn,u.castObject=function Ss(d,y){return tn(d.ptr,y)},u.NULL=tn(0),u.destroy=function oc(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete xo(d.__class__)[d.ptr]},u.compare=function xr(d,y){return d.ptr===y.ptr},u.getPointer=function pi(d){return d.ptr},u.getClass=function ic(d){return d.__class__};var ft={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(ft.needed){for(var d=0;d<ft.temps.length;d++)u._webidl_free(ft.temps[d]);ft.temps.length=0,u._webidl_free(ft.buffer),ft.buffer=0,ft.size+=ft.needed,ft.needed=0}ft.buffer||(ft.size+=128,ft.buffer=u._webidl_malloc(ft.size),Ae(ft.buffer)),ft.pos=0},alloc(d,y){Ae(ft.buffer);var yt,Ee=d.length*y.BYTES_PER_ELEMENT;return ft.pos+(Ee=Ee+7&-8)>=ft.size?(Ae(Ee>0),ft.needed+=Ee,yt=u._webidl_malloc(Ee),ft.temps.push(yt)):(yt=ft.buffer+ft.pos,ft.pos+=Ee),yt},copy(d,y,W){switch(W>>>=0,y.BYTES_PER_ELEMENT){case 2:W>>>=1;break;case 4:W>>>=2;break;case 8:W>>>=3}for(var yt=0;yt<d.length;yt++)y[W+yt]=d[yt]}};function ro(d){if("string"==typeof d){var y=Vs(d),W=ft.alloc(y,Re);return ft.copy(y,Re,W),W}return d}function or(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Le(){this.ptr=Oo(),xo(Le)[this.ptr]=this}function gn(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=Fr(d,y),xo(gn)[this.ptr]=this}function $n(){throw"cannot construct a Frame, no constructor in IDL"}function nr(){throw"cannot construct a DbBackup, no constructor in IDL"}function Nr(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Lo(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function hi(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function Lr(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function $r(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Ut(){this.ptr=va(),xo(Ut)[this.ptr]=this}function Ht(d){ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),this.ptr=ff(d),xo(Ht)[this.ptr]=this}function Hr(d,y,W){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),W&&"object"==typeof W&&(W=W.ptr),this.ptr=Ch(d,y,W),xo(Hr)[this.ptr]=this}function Tr(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=xh(d,y),xo(Tr)[this.ptr]=this}return(or.prototype=Object.create(an.prototype)).constructor=or,or.prototype.__class__=or,or.__cache__={},u.VoidPtr=or,or.prototype.__destroy__=or.prototype.__destroy__=function(){jn(this.ptr)},(Le.prototype=Object.create(an.prototype)).constructor=Le,Le.prototype.__class__=Le,Le.__cache__={},u.Cloudpilot=Le,Le.prototype.Malloc=Le.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),tn(Eo(this.ptr,d),or)},Le.prototype.Free=Le.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),Xi(this.ptr,d)},Le.prototype.Nullptr=Le.prototype.Nullptr=function(){return tn(Ra(this.ptr),or)},Le.prototype.InitializeSession=Le.prototype.InitializeSession=function(d,y,W){var Ee=this.ptr;return ft.prepare(),d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),W=W&&"object"==typeof W?W.ptr:ro(W),!!ia(Ee,d,y,W)},Le.prototype.GetCyclesPerSecond=Le.prototype.GetCyclesPerSecond=function(){return js(this.ptr)},Le.prototype.RunEmulation=Le.prototype.RunEmulation=function(d){return d&&"object"==typeof d&&(d=d.ptr),sa(this.ptr,d)},Le.prototype.SetClockFactor=Le.prototype.SetClockFactor=function(d){d&&"object"==typeof d&&(d=d.ptr),Qi(this.ptr,d)},Le.prototype.CopyFrame=Le.prototype.CopyFrame=function(){return tn(Pa(this.ptr),$n)},Le.prototype.IsScreenDirty=Le.prototype.IsScreenDirty=function(){return!!aa(this.ptr)},Le.prototype.MarkScreenClean=Le.prototype.MarkScreenClean=function(){la(this.ptr)},Le.prototype.MinMemoryForDevice=Le.prototype.MinMemoryForDevice=function(d){var y=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),Oa(y,d)},Le.prototype.FramebufferSizeForDevice=Le.prototype.FramebufferSizeForDevice=function(d){var y=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),Fa(y,d)},Le.prototype.TotalMemoryForDevice=Le.prototype.TotalMemoryForDevice=function(d){var y=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),Na(y,d)},Le.prototype.QueuePenMove=Le.prototype.QueuePenMove=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),La(this.ptr,d,y)},Le.prototype.QueuePenUp=Le.prototype.QueuePenUp=function(){ca(this.ptr)},Le.prototype.QueueButtonDown=Le.prototype.QueueButtonDown=function(d){d&&"object"==typeof d&&(d=d.ptr),$a(this.ptr,d)},Le.prototype.QueueButtonUp=Le.prototype.QueueButtonUp=function(d){d&&"object"==typeof d&&(d=d.ptr),Ba(this.ptr,d)},Le.prototype.QueueKeyboardEvent=Le.prototype.QueueKeyboardEvent=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),yr(this.ptr,d,y)},Le.prototype.IsPowerOff=Le.prototype.IsPowerOff=function(){return!!ua(this.ptr)},Le.prototype.IsUIInitialized=Le.prototype.IsUIInitialized=function(){return!!co(this.ptr)},Le.prototype.GetOSVersion=Le.prototype.GetOSVersion=function(){return Gt(this.ptr)},Le.prototype.IsSetupComplete=Le.prototype.IsSetupComplete=function(){return!!da(this.ptr)},Le.prototype.Reset=Le.prototype.Reset=function(){Gs(this.ptr)},Le.prototype.ResetNoExtensions=Le.prototype.ResetNoExtensions=function(){Jr(this.ptr)},Le.prototype.ResetHard=Le.prototype.ResetHard=function(){Us(this.ptr)},Le.prototype.InstallDb=Le.prototype.InstallDb=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Va(this.ptr,d,y)},Le.prototype.GetPalette2bitMapping=Le.prototype.GetPalette2bitMapping=function(){return Gn(this.ptr)},Le.prototype.GetMemoryPtr=Le.prototype.GetMemoryPtr=function(){return tn(vs(this.ptr),or)},Le.prototype.GetDirtyPagesPtr=Le.prototype.GetDirtyPagesPtr=function(){return tn(br(this.ptr),or)},Le.prototype.GetMemorySize=Le.prototype.GetMemorySize=function(){return Hs(this.ptr)},Le.prototype.ImportMemoryImage=Le.prototype.ImportMemoryImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!wl(this.ptr,d,y)},Le.prototype.GetRomPtr=Le.prototype.GetRomPtr=function(){return tn(ja(this.ptr),or)},Le.prototype.GetRomSize=Le.prototype.GetRomSize=function(){return Un(this.ptr)},Le.prototype.GetSavestatePtr=Le.prototype.GetSavestatePtr=function(){return tn(zt(this.ptr),or)},Le.prototype.GetSavestateSize=Le.prototype.GetSavestateSize=function(){return ys(this.ptr)},Le.prototype.SaveState=Le.prototype.SaveState=function(){return!!zs(this.ptr)},Le.prototype.LoadState=Le.prototype.LoadState=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!El(this.ptr,d,y)},Le.prototype.GetHotsyncName=Le.prototype.GetHotsyncName=function(){return de(fa(this.ptr))},Le.prototype.SetHotsyncName=Le.prototype.SetHotsyncName=function(d){var y=this.ptr;ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),Xe(y,d)},Le.prototype.RegisterPwmHandler=Le.prototype.RegisterPwmHandler=function(d){d&&"object"==typeof d&&(d=d.ptr),Ai(this.ptr,d)},Le.prototype.StartBackup=Le.prototype.StartBackup=function(){return tn(Ji(this.ptr),nr)},Le.prototype.SetClipboardIntegration=Le.prototype.SetClipboardIntegration=function(d){d&&"object"==typeof d&&(d=d.ptr),Ws(this.ptr,d)},Le.prototype.GetClipboardIntegration=Le.prototype.GetClipboardIntegration=function(){return!!pa(this.ptr)},Le.prototype.IsSuspended=Le.prototype.IsSuspended=function(){return!!Ga(this.ptr)},Le.prototype.GetSuspendContext=Le.prototype.GetSuspendContext=function(){return tn(Yo(this.ptr),$r)},Le.prototype.SetNetworkRedirection=Le.prototype.SetNetworkRedirection=function(d){d&&"object"==typeof d&&(d=d.ptr),es(this.ptr,d)},Le.prototype.GetNetworkRedirection=Le.prototype.GetNetworkRedirection=function(){return!!Ua(this.ptr)},Le.prototype.RegisterProxyDisconnectHandler=Le.prototype.RegisterProxyDisconnectHandler=function(d){d&&"object"==typeof d&&(d=d.ptr),Qt(this.ptr,d)},Le.prototype.SetHotsyncNameManagement=Le.prototype.SetHotsyncNameManagement=function(d){d&&"object"==typeof d&&(d=d.ptr),Bn(this.ptr,d)},Le.prototype.LaunchAppByName=Le.prototype.LaunchAppByName=function(d){var y=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),!!ha(y,d)},Le.prototype.LaunchAppByDbHeader=Le.prototype.LaunchAppByDbHeader=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Dl(this.ptr,d,y)},Le.prototype.DeviceSupportsCardSize=Le.prototype.DeviceSupportsCardSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!Il(this.ptr,d)},Le.prototype.ClearExternalStorage=Le.prototype.ClearExternalStorage=function(){xl(this.ptr)},Le.prototype.AllocateCard=Le.prototype.AllocateCard=function(d,y){var W=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),y&&"object"==typeof y&&(y=y.ptr),!!Ha(W,d,y)},Le.prototype.AdoptCard=Le.prototype.AdoptCard=function(d,y,W){var Ee=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),y&&"object"==typeof y&&(y=y.ptr),W&&"object"==typeof W&&(W=W.ptr),!!Er(Ee,d,y,W)},Le.prototype.MountCard=Le.prototype.MountCard=function(d){var y=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),!!dr(y,d)},Le.prototype.RemoveCard=Le.prototype.RemoveCard=function(d){var y=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),!!_o(y,d)},Le.prototype.GetCardData=Le.prototype.GetCardData=function(d){var y=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),tn(Tl(y,d),or)},Le.prototype.GetCardDirtyPages=Le.prototype.GetCardDirtyPages=function(d){var y=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),tn(Jl(y,d),or)},Le.prototype.GetCardSize=Le.prototype.GetCardSize=function(d){var y=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),bi(y,d)},Le.prototype.RemountCards=Le.prototype.RemountCards=function(){ec(this.ptr)},Le.prototype.GetSupportLevel=Le.prototype.GetSupportLevel=function(d){return d&&"object"==typeof d&&(d=d.ptr),jc(this.ptr,d)},Le.prototype.GetMountedKey=Le.prototype.GetMountedKey=function(){return de(Qn(this.ptr))},Le.prototype.__destroy__=Le.prototype.__destroy__=function(){ma(this.ptr)},(gn.prototype=Object.create(an.prototype)).constructor=gn,gn.prototype.__class__=gn,gn.__cache__={},u.RomInfo=gn,gn.prototype.IsValid=gn.prototype.IsValid=function(){return!!vo(this.ptr)},gn.prototype.CardVersion=gn.prototype.CardVersion=function(){return uo(this.ptr)},gn.prototype.CardName=gn.prototype.CardName=function(){return de(Ur(this.ptr))},gn.prototype.RomVersion=gn.prototype.RomVersion=function(){return vn(this.ptr)},gn.prototype.RomVersionString=gn.prototype.RomVersionString=function(){return de(Ct(this.ptr))},gn.prototype.Supports=gn.prototype.Supports=function(d){var y=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),!!Dr(y,d)},gn.prototype.__destroy__=gn.prototype.__destroy__=function(){Cr(this.ptr)},($n.prototype=Object.create(an.prototype)).constructor=$n,$n.prototype.__class__=$n,$n.__cache__={},u.Frame=$n,$n.prototype.GetLineWidth=$n.prototype.GetLineWidth=function(){return _(this.ptr)},$n.prototype.GetBpp=$n.prototype.GetBpp=function(){return G(this.ptr)},$n.prototype.GetLines=$n.prototype.GetLines=function(){return M(this.ptr)},$n.prototype.GetMargin=$n.prototype.GetMargin=function(){return Oe(this.ptr)},$n.prototype.GetBytesPerLine=$n.prototype.GetBytesPerLine=function(){return tt(this.ptr)},$n.prototype.GetFirstDirtyLine=$n.prototype.GetFirstDirtyLine=function(){return sn(this.ptr)},$n.prototype.GetLastDirtyLine=$n.prototype.GetLastDirtyLine=function(){return Jt(this.ptr)},$n.prototype.GetHasChanges=$n.prototype.GetHasChanges=function(){return!!dn(this.ptr)},$n.prototype.GetBuffer=$n.prototype.GetBuffer=function(){return tn(Jn(this.ptr),or)},$n.prototype.GetBufferSize=$n.prototype.GetBufferSize=function(){return $t(this.ptr)},$n.prototype.GetScaleX=$n.prototype.GetScaleX=function(){return rr(this.ptr)},$n.prototype.GetScaleY=$n.prototype.GetScaleY=function(){return fr(this.ptr)},$n.prototype.__destroy__=$n.prototype.__destroy__=function(){yn(this.ptr)},(nr.prototype=Object.create(an.prototype)).constructor=nr,nr.prototype.__class__=nr,nr.__cache__={},u.DbBackup=nr,nr.prototype.Init=nr.prototype.Init=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!At(this.ptr,d)},nr.prototype.IsInProgress=nr.prototype.IsInProgress=function(){return!!Nt(this.ptr)},nr.prototype.IsDone=nr.prototype.IsDone=function(){return!!Vn(this.ptr)},nr.prototype.GetCurrentDatabase=nr.prototype.GetCurrentDatabase=function(){return de(Ir(this.ptr))},nr.prototype.Save=nr.prototype.Save=function(){return!!hn(this.ptr)},nr.prototype.Skip=nr.prototype.Skip=function(){qe(this.ptr)},nr.prototype.GetArchivePtr=nr.prototype.GetArchivePtr=function(){return tn(p(this.ptr),or)},nr.prototype.GetArchiveSize=nr.prototype.GetArchiveSize=function(){return D(this.ptr)},nr.prototype.__destroy__=nr.prototype.__destroy__=function(){re(this.ptr)},(Nr.prototype=Object.create(an.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},u.SuspendContextClipboardCopy=Nr,Nr.prototype.Cancel=Nr.prototype.Cancel=function(){$e(this.ptr)},Nr.prototype.Resume=Nr.prototype.Resume=function(){Me(this.ptr)},Nr.prototype.GetClipboardContent=Nr.prototype.GetClipboardContent=function(){return de(Cn(this.ptr))},Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){rn(this.ptr)},(Lo.prototype=Object.create(an.prototype)).constructor=Lo,Lo.prototype.__class__=Lo,Lo.__cache__={},u.SuspendContextClipboardPaste=Lo,Lo.prototype.Cancel=Lo.prototype.Cancel=function(){mn(this.ptr)},Lo.prototype.Resume=Lo.prototype.Resume=function(d){var y=this.ptr;ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),er(y,d)},Lo.prototype.__destroy__=Lo.prototype.__destroy__=function(){Do(this.ptr)},(hi.prototype=Object.create(an.prototype)).constructor=hi,hi.prototype.__class__=hi,hi.__cache__={},u.SuspendContextNetworkConnect=hi,hi.prototype.Cancel=hi.prototype.Cancel=function(){bs(this.ptr)},hi.prototype.Resume=hi.prototype.Resume=function(d){var y=this.ptr;ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),za(y,d)},hi.prototype.__destroy__=hi.prototype.__destroy__=function(){Io(this.ptr)},(Lr.prototype=Object.create(an.prototype)).constructor=Lr,Lr.prototype.__class__=Lr,Lr.__cache__={},u.SuspendContextNetworkRpc=Lr,Lr.prototype.Cancel=Lr.prototype.Cancel=function(){Ml(this.ptr)},Lr.prototype.GetRequestSize=Lr.prototype.GetRequestSize=function(){return tc(this.ptr)},Lr.prototype.GetRequestData=Lr.prototype.GetRequestData=function(){return tn(Al(this.ptr),or)},Lr.prototype.ReceiveResponse=Lr.prototype.ReceiveResponse=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),ga(this.ptr,d,y)},Lr.prototype.__destroy__=Lr.prototype.__destroy__=function(){Wa(this.ptr)},($r.prototype=Object.create(an.prototype)).constructor=$r,$r.prototype.__class__=$r,$r.__cache__={},u.SuspendContext=$r,$r.prototype.GetKind=$r.prototype.GetKind=function(){return lt(this.ptr)},$r.prototype.Cancel=$r.prototype.Cancel=function(){fn(this.ptr)},$r.prototype.AsContextClipboardCopy=$r.prototype.AsContextClipboardCopy=function(){return tn(fi(this.ptr),Nr)},$r.prototype.AsContextClipboardPaste=$r.prototype.AsContextClipboardPaste=function(){return tn(Ko(this.ptr),Lo)},$r.prototype.AsContextNetworkConnect=$r.prototype.AsContextNetworkConnect=function(){return tn(Za(this.ptr),hi)},$r.prototype.AsContextNetworkRpc=$r.prototype.AsContextNetworkRpc=function(){return tn(_a(this.ptr),Lr)},$r.prototype.__destroy__=$r.prototype.__destroy__=function(){mh(this.ptr)},(Ut.prototype=Object.create(an.prototype)).constructor=Ut,Ut.prototype.__class__=Ut,Ut.__cache__={},u.SessionImage=Ut,Ut.prototype.GetDeviceId=Ut.prototype.GetDeviceId=function(){return de(gh(this.ptr))},Ut.prototype.SetDeviceId=Ut.prototype.SetDeviceId=function(d){var y=this.ptr;return ft.prepare(),d=d&&"object"==typeof d?d.ptr:ro(d),tn(ue(y,d),Ut)},Ut.prototype.GetRomImage=Ut.prototype.GetRomImage=function(){return tn(lf(this.ptr),or)},Ut.prototype.GetRomImageSize=Ut.prototype.GetRomImageSize=function(){return it(this.ptr)},Ut.prototype.SetRomImage=Ut.prototype.SetRomImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),tn(Gc(this.ptr,d,y),Ut)},Ut.prototype.GetMemoryImage=Ut.prototype.GetMemoryImage=function(){return tn(Tu(this.ptr),or)},Ut.prototype.GetMemoryImageSize=Ut.prototype.GetMemoryImageSize=function(){return nc(this.ptr)},Ut.prototype.SetMemoryImage=Ut.prototype.SetMemoryImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),tn(_h(this.ptr,d,y),Ut)},Ut.prototype.GetMetadata=Ut.prototype.GetMetadata=function(){return tn(vh(this.ptr),or)},Ut.prototype.GetMetadataSize=Ut.prototype.GetMetadataSize=function(){return yh(this.ptr)},Ut.prototype.SetMetadata=Ut.prototype.SetMetadata=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),tn(Zs(this.ptr,d,y),Ut)},Ut.prototype.GetSavestate=Ut.prototype.GetSavestate=function(){return tn(Uc(this.ptr),or)},Ut.prototype.GetSavestateSize=Ut.prototype.GetSavestateSize=function(){return ts(this.ptr)},Ut.prototype.SetSavestate=Ut.prototype.SetSavestate=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),tn(Cs(this.ptr,d,y),Ut)},Ut.prototype.GetVersion=Ut.prototype.GetVersion=function(){return Wn(this.ptr)},Ut.prototype.Serialize=Ut.prototype.Serialize=function(){return!!cf(this.ptr)},Ut.prototype.GetSerializedImage=Ut.prototype.GetSerializedImage=function(){return tn(Mu(this.ptr),or)},Ut.prototype.GetSerializedImageSize=Ut.prototype.GetSerializedImageSize=function(){return uf(this.ptr)},Ut.prototype.Deserialize=Ut.prototype.Deserialize=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!df(this.ptr,d,y)},Ut.prototype.__destroy__=Ut.prototype.__destroy__=function(){rc(this.ptr)},(Ht.prototype=Object.create(an.prototype)).constructor=Ht,Ht.prototype.__class__=Ht,Ht.__cache__={},u.SkinLoader=Ht,Ht.prototype.GetData=Ht.prototype.GetData=function(){return tn(pf(this.ptr),or)},Ht.prototype.GetSize=Ht.prototype.GetSize=function(){return bh(this.ptr)},Ht.prototype.__destroy__=Ht.prototype.__destroy__=function(){hf(this.ptr)},(Hr.prototype=Object.create(an.prototype)).constructor=Hr,Hr.prototype.__class__=Hr,Hr.__cache__={},u.GunzipContext=Hr,Hr.prototype.GetState=Hr.prototype.GetState=function(){return Sh(this.ptr)},Hr.prototype.Continue=Hr.prototype.Continue=function(){return ns(this.ptr)},Hr.prototype.GetUncompressedData=Hr.prototype.GetUncompressedData=function(){return tn(wh(this.ptr),or)},Hr.prototype.ReleaseUncompressedData=Hr.prototype.ReleaseUncompressedData=function(){return tn(mf(this.ptr),or)},Hr.prototype.GetUncompressedSize=Hr.prototype.GetUncompressedSize=function(){return Eh(this.ptr)},Hr.prototype.GetError=Hr.prototype.GetError=function(){return de(Dh(this.ptr))},Hr.prototype.__destroy__=Hr.prototype.__destroy__=function(){Ih(this.ptr)},(Tr.prototype=Object.create(an.prototype)).constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},u.ZipfileWalker=Tr,Tr.prototype.GetState=Tr.prototype.GetState=function(){return gf(this.ptr)},Tr.prototype.Next=Tr.prototype.Next=function(){return Th(this.ptr)},Tr.prototype.GetTotalEntries=Tr.prototype.GetTotalEntries=function(){return Mh(this.ptr)},Tr.prototype.GetCurrentEntrySize=Tr.prototype.GetCurrentEntrySize=function(){return Ah(this.ptr)},Tr.prototype.GetCurrentEntryName=Tr.prototype.GetCurrentEntryName=function(){return de(Ze(this.ptr))},Tr.prototype.GetCurrentEntryContent=Tr.prototype.GetCurrentEntryContent=function(){return tn(kh(this.ptr),or)},Tr.prototype.__destroy__=Tr.prototype.__destroy__=function(){Rh(this.ptr)},S.ready});ve.exports=De},3097:ve=>{var C,De=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var q,Y,u=S;u.ready=new Promise((_,G)=>{q=_,Y=G});var be,U=Object.assign({},u),x="./this.program",T=(_,G)=>{throw G},Q="object"==typeof window,$="function"==typeof importScripts,O=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Q||$)&&($?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),C&&(O=C),O=0!==O.indexOf("blob:")?O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):"",$&&(be=_=>{var G=new XMLHttpRequest;return G.open("GET",_,!1),G.responseType="arraybuffer",G.send(null),new Uint8Array(G.response)}));var k,se=u.print||console.log.bind(console),H=u.printErr||console.error.bind(console);Object.assign(u,U),U=null,u.thisProgram&&(x=u.thisProgram),u.quit&&(T=u.quit),u.wasmBinary&&(k=u.wasmBinary),"object"!=typeof WebAssembly&&ot("no native wasm support detected");var te,ae,Re,F,I,K,me,le=!1;function Ae(_,G){_||ot(G)}function Be(){var _=te.buffer;u.HEAP8=Re=new Int8Array(_),u.HEAP16=new Int16Array(_),u.HEAPU8=F=new Uint8Array(_),u.HEAPU16=new Uint16Array(_),u.HEAP32=I=new Int32Array(_),u.HEAPU32=K=new Uint32Array(_),u.HEAPF32=new Float32Array(_),u.HEAPF64=me=new Float64Array(_)}function Mt(){if(!le){var _=Yo();0==_&&(_+=4);var G=K[_>>2],M=K[_+4>>2];(34821223!=G||2310721022!=M)&&ot(`Stack overflow! Stack cookie has been overwritten at ${de(_)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${de(M)} ${de(G)}`),1668509029!=K[0]&&ot("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Fe=[],We=[],Pe=[],Ge=[],kt=0,xe=null,_e=null;function ot(_){u.onAbort&&u.onAbort(_),H(_="Aborted("+_+")"),le=!0,ae=1,_+=". Build with -sASSERTIONS for more info.";var G=new WebAssembly.RuntimeError(_);throw Y(G),G}var Pn,ln=_=>_.startsWith("data:application/octet-stream;base64,"),Vt=0;function cn(_){return function(){if(le)throw"program has already aborted!";Vt+=1;try{return _.apply(null,arguments)}catch(G){if(le||Vt>1||G===1/0||"unwind"===G)throw G;ot("unhandled exception: "+[G,G.stack])}finally{Vt-=1}}}function zo(_){if(_==Pn&&k)return new Uint8Array(k);if(be)return be(_);throw"both async and sync fetching of the wasm failed"}function po(_,G,M){return function Vr(_){return k||!Q&&!$||"function"!=typeof fetch?Promise.resolve().then(()=>zo(_)):fetch(_,{credentials:"same-origin"}).then(G=>{if(!G.ok)throw"failed to load wasm binary file at '"+_+"'";return G.arrayBuffer()}).catch(()=>zo(_))}(_).then(Oe=>WebAssembly.instantiate(Oe,G)).then(Oe=>Oe).then(M,Oe=>{H(`failed to asynchronously prepare wasm: ${Oe}`),ot(Oe)})}ln(Pn="fstools_web.wasm")||(Pn=function A(_){return u.locateFile?u.locateFile(_,O):O+_}(Pn));var Kn,So={45550:()=>{throw new Error("terminated")}};function so(_){this.name="ExitStatus",this.message=`Program terminated with exit(${_})`,this.status=_}var we,ho=_=>{for(;_.length>0;)_.shift()(u)},jr=u.noExitRuntime||!0,de=_=>"0x"+(_>>>=0).toString(16).padStart(8,"0"),nn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Yt=(_,G,M)=>{for(var Oe=G+M,tt=G;_[tt]&&!(tt>=Oe);)++tt;if(tt-G>16&&_.buffer&&nn)return nn.decode(_.subarray(G,tt));for(var sn="";G<tt;){var Jt=_[G++];if(128&Jt){var dn=63&_[G++];if(192!=(224&Jt)){var Jn=63&_[G++];if((Jt=224==(240&Jt)?(15&Jt)<<12|dn<<6|Jn:(7&Jt)<<18|dn<<12|Jn<<6|63&_[G++])<65536)sn+=String.fromCharCode(Jt);else{var $t=Jt-65536;sn+=String.fromCharCode(55296|$t>>10,56320|1023&$t)}}else sn+=String.fromCharCode((31&Jt)<<6|dn)}else sn+=String.fromCharCode(Jt)}return sn},_n=(_,G)=>_?Yt(F,_,G):"",wr={varargs:void 0,get(){var _=I[+wr.varargs>>2];return wr.varargs+=4,_},getp:()=>wr.get(),getStr:_=>_n(_)},zn=(_,G)=>G+2097152>>>0<4194305-!!_?(_>>>0)+4294967296*G:NaN,ao=_=>_%4==0&&(_%100!=0||_%400==0),lo=[0,31,60,91,121,152,182,213,244,274,305,335],Ii=[0,31,59,90,120,151,181,212,243,273,304,334],Po=_=>(ao(_.getFullYear())?lo:Ii)[_.getMonth()]+_.getDate()-1,xn=_=>{for(var G=0,M=0;M<_.length;++M){var Oe=_.charCodeAt(M);Oe<=127?G++:Oe<=2047?G+=2:Oe>=55296&&Oe<=57343?(G+=4,++M):G+=3}return G},Ln=(_,G,M,Oe)=>{if(!(Oe>0))return 0;for(var tt=M,sn=M+Oe-1,Jt=0;Jt<_.length;++Jt){var dn=_.charCodeAt(Jt);if(dn>=55296&&dn<=57343&&(dn=65536+((1023&dn)<<10)|1023&_.charCodeAt(++Jt)),dn<=127){if(M>=sn)break;G[M++]=dn}else if(dn<=2047){if(M+1>=sn)break;G[M++]=192|dn>>6,G[M++]=128|63&dn}else if(dn<=65535){if(M+2>=sn)break;G[M++]=224|dn>>12,G[M++]=128|dn>>6&63,G[M++]=128|63&dn}else{if(M+3>=sn)break;G[M++]=240|dn>>18,G[M++]=128|dn>>12&63,G[M++]=128|dn>>6&63,G[M++]=128|63&dn}}return G[M]=0,M-tt},un=_=>{var G=xn(_)+1,M=Qe(G);return M&&((_,G,M)=>{Ln(_,F,G,M)})(_,M,G),M},ri=[],vi=_=>{var M=(_-te.buffer.byteLength+65535)/65536;try{return te.grow(M),Be(),1}catch{}},yi={},oi=()=>{if(!oi.strings){var G={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"};for(var M in yi)void 0===yi[M]?delete G[M]:G[M]=yi[M];var Oe=[];for(var M in G)Oe.push(`${M}=${G[M]}`);oi.strings=Oe}return oi.strings},wo=(_,G)=>{ae=_,(_=>{ae=_,jr||(u.onExit&&u.onExit(_),le=!0),T(_,new so(_))})(_)},ra=[null,[],[]],fs=(_,G)=>{var M=ra[_];0===G||10===G?((1===_?se:H)(Yt(M,0)),M.length=0):M.push(G)},hs=[31,29,31,30,31,30,31,31,30,31,30,31],ms=[31,28,31,30,31,30,31,31,30,31,30,31];function Yi(_,G,M){var Oe=M>0?M:xn(_)+1,tt=new Array(Oe),sn=Ln(_,tt,0,tt.length);return G&&(tt.length=sn),tt}var ha,w={b:(_,G,M,Oe)=>{ot(`Assertion failed: ${_n(_)}, at: `+[G?_n(G):"unknown filename",M,Oe?_n(Oe):"unknown function"])},n:function Kr(_,G,M){zn(G,M)},i:function mo(_,G,M,Oe){wr.varargs=Oe},j:function In(_,G,M){var Oe=zn(_,G),tt=new Date(1e3*Oe);I[M>>2]=tt.getUTCSeconds(),I[M+4>>2]=tt.getUTCMinutes(),I[M+8>>2]=tt.getUTCHours(),I[M+12>>2]=tt.getUTCDate(),I[M+16>>2]=tt.getUTCMonth(),I[M+20>>2]=tt.getUTCFullYear()-1900,I[M+24>>2]=tt.getUTCDay();var sn=Date.UTC(tt.getUTCFullYear(),0,1,0,0,0,0),Jt=(tt.getTime()-sn)/864e5|0;I[M+28>>2]=Jt},k:function On(_,G,M){var Oe=zn(_,G),tt=new Date(1e3*Oe);I[M>>2]=tt.getSeconds(),I[M+4>>2]=tt.getMinutes(),I[M+8>>2]=tt.getHours(),I[M+12>>2]=tt.getDate(),I[M+16>>2]=tt.getMonth(),I[M+20>>2]=tt.getFullYear()-1900,I[M+24>>2]=tt.getDay();var sn=0|Po(tt);I[M+28>>2]=sn,I[M+36>>2]=-60*tt.getTimezoneOffset();var Jt=new Date(tt.getFullYear(),0,1),dn=new Date(tt.getFullYear(),6,1).getTimezoneOffset(),Jn=Jt.getTimezoneOffset(),$t=0|(dn!=Jn&&tt.getTimezoneOffset()==Math.min(Jn,dn));I[M+32>>2]=$t},l:function(_){var G=(()=>{var M=new Date(I[_+20>>2]+1900,I[_+16>>2],I[_+12>>2],I[_+8>>2],I[_+4>>2],I[_>>2],0),Oe=I[_+32>>2],tt=M.getTimezoneOffset(),sn=new Date(M.getFullYear(),0,1),Jt=new Date(M.getFullYear(),6,1).getTimezoneOffset(),dn=sn.getTimezoneOffset(),Jn=Math.min(dn,Jt);if(Oe<0)I[_+32>>2]=+(Jt!=dn&&Jn==tt);else if(Oe>0!=(Jn==tt)){var $t=Math.max(dn,Jt),rr=Oe>0?Jn:$t;M.setTime(M.getTime()+6e4*(rr-tt))}I[_+24>>2]=M.getDay();var fr=0|Po(M);I[_+28>>2]=fr,I[_>>2]=M.getSeconds(),I[_+4>>2]=M.getMinutes(),I[_+8>>2]=M.getHours(),I[_+12>>2]=M.getDate(),I[_+16>>2]=M.getMonth(),I[_+20>>2]=M.getYear();var yn=M.getTime();return isNaN(yn)?(I[ke()>>2]=61,-1):yn/1e3})();return Ji((Kn=G,+Math.abs(Kn)>=1?Kn>0?+Math.floor(Kn/4294967296)>>>0:~~+Math.ceil((Kn-+(~~Kn>>>0))/4294967296)>>>0:0)),G>>>0},q:(_,G,M)=>{var Oe=(new Date).getFullYear(),tt=new Date(Oe,0,1),sn=new Date(Oe,6,1),Jt=tt.getTimezoneOffset(),dn=sn.getTimezoneOffset(),Jn=Math.max(Jt,dn);function $t(Nt){var Vn=Nt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Vn?Vn[1]:"GMT"}K[_>>2]=60*Jn,I[G>>2]=+(Jt!=dn);var rr=$t(tt),fr=$t(sn),yn=un(rr),At=un(fr);dn<Jt?(K[M>>2]=yn,K[M+4>>2]=At):(K[M>>2]=At,K[M+4>>2]=yn)},c:()=>{ot("")},a:(_,G,M)=>((_,G,M)=>{var Oe=((_,G)=>{ri.length=0;for(var M;M=F[_++];){var Oe=105!=M;G+=(Oe&=112!=M)&&G%8?4:0,ri.push(112==M?K[G>>2]:105==M?I[G>>2]:me[G>>3]),G+=Oe?8:4}return ri})(G,M);return So[_].apply(null,Oe)})(_,G,M),e:()=>Date.now(),g:(_,G,M)=>F.copyWithin(_,G,G+M),p:_=>{var Jn,G=F.length,M=2147483648;if((_>>>=0)>M)return!1;for(var tt=1;tt<=4;tt*=2){var sn=G*(1+.2/tt);sn=Math.min(sn,_+100663296);var Jt=Math.min(M,(Jn=Math.max(_,sn))+(65536-Jn%65536)%65536);if(vi(Jt))return!0}return!1},r:(_,G)=>{var M=0;return oi().forEach((Oe,tt)=>{var sn=G+M;K[_+4*tt>>2]=sn,((_,G)=>{for(var M=0;M<_.length;++M)Re[G++>>0]=_.charCodeAt(M);Re[G>>0]=0})(Oe,sn),M+=Oe.length+1}),0},s:(_,G)=>{var M=oi();K[_>>2]=M.length;var Oe=0;return M.forEach(tt=>Oe+=tt.length+1),K[G>>2]=Oe,0},t:wo,f:_=>52,d:(_,G,M,Oe)=>52,m:function Vs(_,G,M,Oe,tt){return zn(G,M),70},h:(_,G,M,Oe)=>{for(var tt=0,sn=0;sn<M;sn++){var Jt=K[G>>2],dn=K[G+4>>2];G+=8;for(var Jn=0;Jn<dn;Jn++)fs(_,F[Jt+Jn]);tt+=dn}return K[Oe>>2]=tt,0},o:(_,G,M,Oe,tt)=>((_,G,M,Oe)=>{var tt=K[Oe+40>>2],sn={tm_sec:I[Oe>>2],tm_min:I[Oe+4>>2],tm_hour:I[Oe+8>>2],tm_mday:I[Oe+12>>2],tm_mon:I[Oe+16>>2],tm_year:I[Oe+20>>2],tm_wday:I[Oe+24>>2],tm_yday:I[Oe+28>>2],tm_isdst:I[Oe+32>>2],tm_gmtoff:I[Oe+36>>2],tm_zone:tt?_n(tt):""},Jt=_n(M),dn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Jn in dn)Jt=Jt.replace(new RegExp(Jn,"g"),dn[Jn]);var $t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],rr=["January","February","March","April","May","June","July","August","September","October","November","December"];function fr(qe,p,D){for(var re="number"==typeof qe?qe.toString():qe||"";re.length<p;)re=D[0]+re;return re}function yn(qe,p){return fr(qe,p,"0")}function At(qe,p){function D($e){return $e<0?-1:$e>0?1:0}var re;return 0===(re=D(qe.getFullYear()-p.getFullYear()))&&0===(re=D(qe.getMonth()-p.getMonth()))&&(re=D(qe.getDate()-p.getDate())),re}function Nt(qe){switch(qe.getDay()){case 0:return new Date(qe.getFullYear()-1,11,29);case 1:return qe;case 2:return new Date(qe.getFullYear(),0,3);case 3:return new Date(qe.getFullYear(),0,2);case 4:return new Date(qe.getFullYear(),0,1);case 5:return new Date(qe.getFullYear()-1,11,31);case 6:return new Date(qe.getFullYear()-1,11,30)}}function Vn(qe){var p=((_,G)=>{for(var M=new Date(_.getTime());G>0;){var Oe=ao(M.getFullYear()),tt=M.getMonth(),sn=(Oe?hs:ms)[tt];if(!(G>sn-M.getDate()))return M.setDate(M.getDate()+G),M;G-=sn-M.getDate()+1,M.setDate(1),tt<11?M.setMonth(tt+1):(M.setMonth(0),M.setFullYear(M.getFullYear()+1))}return M})(new Date(qe.tm_year+1900,0,1),qe.tm_yday),D=new Date(p.getFullYear(),0,4),re=new Date(p.getFullYear()+1,0,4),$e=Nt(D),Me=Nt(re);return At($e,p)<=0?At(Me,p)<=0?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var Ir={"%a":qe=>$t[qe.tm_wday].substring(0,3),"%A":qe=>$t[qe.tm_wday],"%b":qe=>rr[qe.tm_mon].substring(0,3),"%B":qe=>rr[qe.tm_mon],"%C":qe=>yn((qe.tm_year+1900)/100|0,2),"%d":qe=>yn(qe.tm_mday,2),"%e":qe=>fr(qe.tm_mday,2," "),"%g":qe=>Vn(qe).toString().substring(2),"%G":qe=>Vn(qe),"%H":qe=>yn(qe.tm_hour,2),"%I":qe=>{var p=qe.tm_hour;return 0==p?p=12:p>12&&(p-=12),yn(p,2)},"%j":qe=>yn(qe.tm_mday+((_,G)=>{for(var M=0,Oe=0;Oe<=G;M+=_[Oe++]);return M})(ao(qe.tm_year+1900)?hs:ms,qe.tm_mon-1),3),"%m":qe=>yn(qe.tm_mon+1,2),"%M":qe=>yn(qe.tm_min,2),"%n":()=>"\n","%p":qe=>qe.tm_hour>=0&&qe.tm_hour<12?"AM":"PM","%S":qe=>yn(qe.tm_sec,2),"%t":()=>"\t","%u":qe=>qe.tm_wday||7,"%U":qe=>yn(Math.floor((qe.tm_yday+7-qe.tm_wday)/7),2),"%V":qe=>{var p=Math.floor((qe.tm_yday+7-(qe.tm_wday+6)%7)/7);if((qe.tm_wday+371-qe.tm_yday-2)%7<=2&&p++,p){if(53==p){var re=(qe.tm_wday+371-qe.tm_yday)%7;4!=re&&(3!=re||!ao(qe.tm_year))&&(p=1)}}else{p=52;var D=(qe.tm_wday+7-qe.tm_yday-1)%7;(4==D||5==D&&ao(qe.tm_year%400-1))&&p++}return yn(p,2)},"%w":qe=>qe.tm_wday,"%W":qe=>yn(Math.floor((qe.tm_yday+7-(qe.tm_wday+6)%7)/7),2),"%y":qe=>(qe.tm_year+1900).toString().substring(2),"%Y":qe=>qe.tm_year+1900,"%z":qe=>{var p=qe.tm_gmtoff;return(p>=0?"+":"-")+("0000"+(p=(p=Math.abs(p)/60)/60*100+p%60)).slice(-4)},"%Z":qe=>qe.tm_zone,"%%":()=>"%"};for(var Jn in Jt=Jt.replace(/%%/g,"\0\0"),Ir)Jt.includes(Jn)&&(Jt=Jt.replace(new RegExp(Jn,"g"),Ir[Jn](sn)));var hn=Yi(Jt=Jt.replace(/\0\0/g,"%"),!1);return hn.length>G?0:(((_,G)=>{Re.set(_,G)})(hn,_),hn.length-1)})(_,G,M,Oe)},E=function Pr(){var _={a:w};function G(Oe,tt){return E=function bn(_){var G={};for(var M in _){var Oe=_[M];G[M]="function"==typeof Oe?cn(Oe):Oe}return G}(E=Oe.exports),te=E.u,Be(),we=E.za,function Ft(_){We.unshift(_)}(E.v),function mr(){var _=we.get,G={};we.get=M=>{var Oe=_.call(we,M),tt=G[M];return(!tt||tt.func!==Oe)&&(tt=G[M]={func:Oe,wrapper:cn(Oe)}),tt.wrapper}}(),function Je(_){if(kt--,u.monitorRunDependencies&&u.monitorRunDependencies(kt),0==kt&&(null!==xe&&(clearInterval(xe),xe=null),_e)){var G=_e;_e=null,G()}}(),E}if(function Te(_){kt++,u.monitorRunDependencies&&u.monitorRunDependencies(kt)}(),u.instantiateWasm)try{return u.instantiateWasm(_,G)}catch(Oe){H(`Module.instantiateWasm callback failed with error: ${Oe}`),Y(Oe)}return function Rr(_,G,M,Oe){return _||"function"!=typeof WebAssembly.instantiateStreaming||ln(G)||"function"!=typeof fetch?po(G,M,Oe):fetch(G,{credentials:"same-origin"}).then(tt=>WebAssembly.instantiateStreaming(tt,M).then(Oe,function(Jt){return H(`wasm streaming compile failed: ${Jt}`),H("falling back to ArrayBuffer instantiation"),po(G,M,Oe)}))}(k,Pn,_,function M(Oe){G(Oe.instance)}).catch(Y),{}}(),ke=()=>(ke=E.w)(),Qe=(u._free=_=>(u._free=E.x)(_),u._malloc=_=>(Qe=u._malloc=E.y)(_)),Ve=(u._webidl_free=_=>(u._webidl_free=E.z)(_),u._webidl_malloc=_=>(u._webidl_malloc=E.A)(_),u._emscripten_bind_VoidPtr___destroy___0=_=>(Ve=u._emscripten_bind_VoidPtr___destroy___0=E.B)(_)),pt=u._emscripten_bind_FSTools_FSTools_0=()=>(pt=u._emscripten_bind_FSTools_FSTools_0=E.C)(),Dt=u._emscripten_bind_FSTools_Malloc_1=(_,G)=>(Dt=u._emscripten_bind_FSTools_Malloc_1=E.D)(_,G),X=u._emscripten_bind_FSTools_Free_1=(_,G)=>(X=u._emscripten_bind_FSTools_Free_1=E.E)(_,G),kn=u._emscripten_bind_FSTools_Nullptr_0=_=>(kn=u._emscripten_bind_FSTools_Nullptr_0=E.F)(_),ur=u._emscripten_bind_FSTools___destroy___0=_=>(ur=u._emscripten_bind_FSTools___destroy___0=E.G)(_),Or=u._emscripten_bind_MkfsContext_MkfsContext_0=()=>(Or=u._emscripten_bind_MkfsContext_MkfsContext_0=E.H)(),Gr=u._emscripten_bind_MkfsContext_Mkfs_2=(_,G,M)=>(Gr=u._emscripten_bind_MkfsContext_Mkfs_2=E.I)(_,G,M),Xn=u._emscripten_bind_MkfsContext_GetImage_0=_=>(Xn=u._emscripten_bind_MkfsContext_GetImage_0=E.J)(_),_s=u._emscripten_bind_MkfsContext_GetImageSize_0=_=>(_s=u._emscripten_bind_MkfsContext_GetImageSize_0=E.K)(_),jn=u._emscripten_bind_MkfsContext___destroy___0=_=>(jn=u._emscripten_bind_MkfsContext___destroy___0=E.L)(_),Oo=u._emscripten_bind_FsckContext_FsckContext_1=_=>(Oo=u._emscripten_bind_FsckContext_FsckContext_1=E.M)(_),Eo=u._emscripten_bind_FsckContext_GetImage_0=_=>(Eo=u._emscripten_bind_FsckContext_GetImage_0=E.N)(_),Xi=u._emscripten_bind_FsckContext_GetDirtyPages_0=_=>(Xi=u._emscripten_bind_FsckContext_GetDirtyPages_0=E.O)(_),Ra=u._emscripten_bind_FsckContext_GetImageSize_0=_=>(Ra=u._emscripten_bind_FsckContext_GetImageSize_0=E.P)(_),ia=u._emscripten_bind_FsckContext_Fsck_0=_=>(ia=u._emscripten_bind_FsckContext_Fsck_0=E.Q)(_),js=u._emscripten_bind_FsckContext_GetResult_0=_=>(js=u._emscripten_bind_FsckContext_GetResult_0=E.R)(_),sa=u._emscripten_bind_FsckContext___destroy___0=_=>(sa=u._emscripten_bind_FsckContext___destroy___0=E.S)(_),Qi=u._emscripten_bind_GunzipContext_GunzipContext_3=(_,G,M)=>(Qi=u._emscripten_bind_GunzipContext_GunzipContext_3=E.T)(_,G,M),Pa=u._emscripten_bind_GunzipContext_GetState_0=_=>(Pa=u._emscripten_bind_GunzipContext_GetState_0=E.U)(_),aa=u._emscripten_bind_GunzipContext_Continue_0=_=>(aa=u._emscripten_bind_GunzipContext_Continue_0=E.V)(_),la=u._emscripten_bind_GunzipContext_GetUncompressedData_0=_=>(la=u._emscripten_bind_GunzipContext_GetUncompressedData_0=E.W)(_),Oa=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=_=>(Oa=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=E.X)(_),Fa=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=_=>(Fa=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=E.Y)(_),Na=u._emscripten_bind_GunzipContext_GetError_0=_=>(Na=u._emscripten_bind_GunzipContext_GetError_0=E.Z)(_),La=u._emscripten_bind_GunzipContext___destroy___0=_=>(La=u._emscripten_bind_GunzipContext___destroy___0=E._)(_),ca=u._emscripten_bind_GzipContext_GzipContext_3=(_,G,M)=>(ca=u._emscripten_bind_GzipContext_GzipContext_3=E.$)(_,G,M),$a=u._emscripten_bind_GzipContext_SetFilename_1=(_,G)=>($a=u._emscripten_bind_GzipContext_SetFilename_1=E.aa)(_,G),Ba=u._emscripten_bind_GzipContext_SetMtime_1=(_,G)=>(Ba=u._emscripten_bind_GzipContext_SetMtime_1=E.ba)(_,G),yr=u._emscripten_bind_GzipContext_Continue_0=_=>(yr=u._emscripten_bind_GzipContext_Continue_0=E.ca)(_),ua=u._emscripten_bind_GzipContext_GetState_0=_=>(ua=u._emscripten_bind_GzipContext_GetState_0=E.da)(_),co=u._emscripten_bind_GzipContext_GetGzipData_0=_=>(co=u._emscripten_bind_GzipContext_GetGzipData_0=E.ea)(_),Gt=u._emscripten_bind_GzipContext_GetGzipSize_0=_=>(Gt=u._emscripten_bind_GzipContext_GetGzipSize_0=E.fa)(_),da=u._emscripten_bind_GzipContext_GetError_0=_=>(da=u._emscripten_bind_GzipContext_GetError_0=E.ga)(_),Gs=u._emscripten_bind_GzipContext___destroy___0=_=>(Gs=u._emscripten_bind_GzipContext___destroy___0=E.ha)(_),Jr=u._emscripten_bind_CreateZipContext_CreateZipContext_0=()=>(Jr=u._emscripten_bind_CreateZipContext_CreateZipContext_0=E.ia)(),Us=u._emscripten_bind_CreateZipContext_Initialize_1=(_,G)=>(Us=u._emscripten_bind_CreateZipContext_Initialize_1=E.ja)(_,G),Va=u._emscripten_bind_CreateZipContext_AddEntry_1=(_,G)=>(Va=u._emscripten_bind_CreateZipContext_AddEntry_1=E.ka)(_,G),Gn=u._emscripten_bind_CreateZipContext_WriteData_2=(_,G,M)=>(Gn=u._emscripten_bind_CreateZipContext_WriteData_2=E.la)(_,G,M),vs=u._emscripten_bind_CreateZipContext_GetZipData_0=_=>(vs=u._emscripten_bind_CreateZipContext_GetZipData_0=E.ma)(_),br=u._emscripten_bind_CreateZipContext_GetZipDataSize_0=_=>(br=u._emscripten_bind_CreateZipContext_GetZipDataSize_0=E.na)(_),Hs=u._emscripten_bind_CreateZipContext_GetLastError_0=_=>(Hs=u._emscripten_bind_CreateZipContext_GetLastError_0=E.oa)(_),wl=u._emscripten_bind_CreateZipContext___destroy___0=_=>(wl=u._emscripten_bind_CreateZipContext___destroy___0=E.pa)(_),ja=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(_,G)=>(ja=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=E.qa)(_,G),Un=u._emscripten_bind_ZipfileWalker_GetState_0=_=>(Un=u._emscripten_bind_ZipfileWalker_GetState_0=E.ra)(_),zt=u._emscripten_bind_ZipfileWalker_Next_0=_=>(zt=u._emscripten_bind_ZipfileWalker_Next_0=E.sa)(_),ys=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=_=>(ys=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=E.ta)(_),zs=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=_=>(zs=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=E.ua)(_),El=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=_=>(El=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=E.va)(_),fa=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=_=>(fa=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=E.wa)(_),Xe=u._emscripten_bind_ZipfileWalker___destroy___0=_=>(Xe=u._emscripten_bind_ZipfileWalker___destroy___0=E.xa)(_),Ai=u._main=(_,G)=>(Ai=u._main=E.ya)(_,G),Ji=_=>(Ji=E.Aa)(_),Ws=()=>(Ws=E.Ba)(),Yo=()=>(Yo=E.Ca)(),es=()=>(es=E.Da)();function xl(){function _(){ha||(ha=!0,u.calledRun=!0,!le&&(function pe(){Mt(),ho(We)}(),function He(){Mt(),ho(Pe)}(),q(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),Ha&&function Dl(){var _=Ai;try{Vt+=1;var Oe=_(0,0);return wo(Oe),Oe}catch(tt){return(_=>{if(_ instanceof so||"unwind"==_)return ae;Mt(),_ instanceof WebAssembly.RuntimeError&&es()<=0&&H("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),T(1,_)})(tt)}finally{Vt-=1}}(),function at(){if(Mt(),u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)_=u.postRun.shift(),Ge.unshift(_);var _;ho(Ge)}()))}kt>0||(function Il(){Ws(),function mt(){var _=Yo();0==_&&(_+=4),K[_>>2]=34821223,K[_+4>>2]=2310721022,K[0]=1668509029}()}(),function Ot(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)_=u.preRun.shift(),Fe.unshift(_);var _;ho(Fe)}(),kt>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),_()},1)):_(),Mt())}if(u.___original_main=()=>(u.___original_main=E.Ea)(),_e=function _(){ha||xl(),ha||(_e=_)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var Ha=!0;function Er(){}function dr(_){return(_||Er).__cache__}function _o(_,G){var M=dr(G),Oe=M[_];return Oe||((Oe=Object.create((G||Er).prototype)).ptr=_,M[_]=Oe)}u.noInitialRun&&(Ha=!1),xl(),(Er.prototype=Object.create(Er.prototype)).constructor=Er,Er.prototype.__class__=Er,Er.__cache__={},u.WrapperObject=Er,u.getCache=dr,u.wrapPointer=_o,u.castObject=function Tl(_,G){return _o(_.ptr,G)},u.NULL=_o(0),u.destroy=function Jl(_){if(!_.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";_.__destroy__(),delete dr(_.__class__)[_.ptr]},u.compare=function bi(_,G){return _.ptr===G.ptr},u.getPointer=function ec(_){return _.ptr},u.getClass=function jc(_){return _.__class__};var Qn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Qn.needed){for(var _=0;_<Qn.temps.length;_++)u._webidl_free(Qn.temps[_]);Qn.temps.length=0,u._webidl_free(Qn.buffer),Qn.buffer=0,Qn.size+=Qn.needed,Qn.needed=0}Qn.buffer||(Qn.size+=128,Qn.buffer=u._webidl_malloc(Qn.size),Ae(Qn.buffer)),Qn.pos=0},alloc(_,G){Ae(Qn.buffer);var tt,Oe=_.length*G.BYTES_PER_ELEMENT;return Qn.pos+(Oe=Oe+7&-8)>=Qn.size?(Ae(Oe>0),Qn.needed+=Oe,tt=u._webidl_malloc(Oe),Qn.temps.push(tt)):(tt=Qn.buffer+Qn.pos,Qn.pos+=Oe),tt},copy(_,G,M){switch(M>>>=0,G.BYTES_PER_ELEMENT){case 2:M>>>=1;break;case 4:M>>>=2;break;case 8:M>>>=3}for(var tt=0;tt<_.length;tt++)G[M+tt]=_[tt]}};function ma(_){if("string"==typeof _){var G=Yi(_),M=Qn.alloc(G,Re);return Qn.copy(G,Re,M),M}return _}function Fr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function vo(){this.ptr=pt(),dr(vo)[this.ptr]=this}function uo(){this.ptr=Or(),dr(uo)[this.ptr]=this}function Ur(_){_&&"object"==typeof _&&(_=_.ptr),this.ptr=Oo(_),dr(Ur)[this.ptr]=this}function vn(_,G,M){_&&"object"==typeof _&&(_=_.ptr),G&&"object"==typeof G&&(G=G.ptr),M&&"object"==typeof M&&(M=M.ptr),this.ptr=Qi(_,G,M),dr(vn)[this.ptr]=this}function Ct(_,G,M){_&&"object"==typeof _&&(_=_.ptr),G&&"object"==typeof G&&(G=G.ptr),M&&"object"==typeof M&&(M=M.ptr),this.ptr=ca(_,G,M),dr(Ct)[this.ptr]=this}function Dr(){this.ptr=Jr(),dr(Dr)[this.ptr]=this}function Cr(_,G){_&&"object"==typeof _&&(_=_.ptr),G&&"object"==typeof G&&(G=G.ptr),this.ptr=ja(_,G),dr(Cr)[this.ptr]=this}return(Fr.prototype=Object.create(Er.prototype)).constructor=Fr,Fr.prototype.__class__=Fr,Fr.__cache__={},u.VoidPtr=Fr,Fr.prototype.__destroy__=Fr.prototype.__destroy__=function(){Ve(this.ptr)},(vo.prototype=Object.create(Er.prototype)).constructor=vo,vo.prototype.__class__=vo,vo.__cache__={},u.FSTools=vo,vo.prototype.Malloc=vo.prototype.Malloc=function(_){return _&&"object"==typeof _&&(_=_.ptr),_o(Dt(this.ptr,_),Fr)},vo.prototype.Free=vo.prototype.Free=function(_){_&&"object"==typeof _&&(_=_.ptr),X(this.ptr,_)},vo.prototype.Nullptr=vo.prototype.Nullptr=function(){return _o(kn(this.ptr),Fr)},vo.prototype.__destroy__=vo.prototype.__destroy__=function(){ur(this.ptr)},(uo.prototype=Object.create(Er.prototype)).constructor=uo,uo.prototype.__class__=uo,uo.__cache__={},u.MkfsContext=uo,uo.prototype.Mkfs=uo.prototype.Mkfs=function(_,G){var M=this.ptr;return Qn.prepare(),_&&"object"==typeof _&&(_=_.ptr),G=G&&"object"==typeof G?G.ptr:ma(G),!!Gr(M,_,G)},uo.prototype.GetImage=uo.prototype.GetImage=function(){return _o(Xn(this.ptr),Fr)},uo.prototype.GetImageSize=uo.prototype.GetImageSize=function(){return _s(this.ptr)},uo.prototype.__destroy__=uo.prototype.__destroy__=function(){jn(this.ptr)},(Ur.prototype=Object.create(Er.prototype)).constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},u.FsckContext=Ur,Ur.prototype.GetImage=Ur.prototype.GetImage=function(){return _o(Eo(this.ptr),Fr)},Ur.prototype.GetDirtyPages=Ur.prototype.GetDirtyPages=function(){return _o(Xi(this.ptr),Fr)},Ur.prototype.GetImageSize=Ur.prototype.GetImageSize=function(){return Ra(this.ptr)},Ur.prototype.Fsck=Ur.prototype.Fsck=function(){return ia(this.ptr)},Ur.prototype.GetResult=Ur.prototype.GetResult=function(){return js(this.ptr)},Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){sa(this.ptr)},(vn.prototype=Object.create(Er.prototype)).constructor=vn,vn.prototype.__class__=vn,vn.__cache__={},u.GunzipContext=vn,vn.prototype.GetState=vn.prototype.GetState=function(){return Pa(this.ptr)},vn.prototype.Continue=vn.prototype.Continue=function(){return aa(this.ptr)},vn.prototype.GetUncompressedData=vn.prototype.GetUncompressedData=function(){return _o(la(this.ptr),Fr)},vn.prototype.ReleaseUncompressedData=vn.prototype.ReleaseUncompressedData=function(){return _o(Oa(this.ptr),Fr)},vn.prototype.GetUncompressedSize=vn.prototype.GetUncompressedSize=function(){return Fa(this.ptr)},vn.prototype.GetError=vn.prototype.GetError=function(){return _n(Na(this.ptr))},vn.prototype.__destroy__=vn.prototype.__destroy__=function(){La(this.ptr)},(Ct.prototype=Object.create(Er.prototype)).constructor=Ct,Ct.prototype.__class__=Ct,Ct.__cache__={},u.GzipContext=Ct,Ct.prototype.SetFilename=Ct.prototype.SetFilename=function(_){var G=this.ptr;return Qn.prepare(),_=_&&"object"==typeof _?_.ptr:ma(_),_o($a(G,_),Ct)},Ct.prototype.SetMtime=Ct.prototype.SetMtime=function(_){return _&&"object"==typeof _&&(_=_.ptr),_o(Ba(this.ptr,_),Ct)},Ct.prototype.Continue=Ct.prototype.Continue=function(){return yr(this.ptr)},Ct.prototype.GetState=Ct.prototype.GetState=function(){return ua(this.ptr)},Ct.prototype.GetGzipData=Ct.prototype.GetGzipData=function(){return _o(co(this.ptr),Fr)},Ct.prototype.GetGzipSize=Ct.prototype.GetGzipSize=function(){return Gt(this.ptr)},Ct.prototype.GetError=Ct.prototype.GetError=function(){return _n(da(this.ptr))},Ct.prototype.__destroy__=Ct.prototype.__destroy__=function(){Gs(this.ptr)},(Dr.prototype=Object.create(Er.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},u.CreateZipContext=Dr,Dr.prototype.Initialize=Dr.prototype.Initialize=function(_){return _&&"object"==typeof _&&(_=_.ptr),!!Us(this.ptr,_)},Dr.prototype.AddEntry=Dr.prototype.AddEntry=function(_){var G=this.ptr;return Qn.prepare(),_=_&&"object"==typeof _?_.ptr:ma(_),!!Va(G,_)},Dr.prototype.WriteData=Dr.prototype.WriteData=function(_,G){return _&&"object"==typeof _&&(_=_.ptr),G&&"object"==typeof G&&(G=G.ptr),!!Gn(this.ptr,_,G)},Dr.prototype.GetZipData=Dr.prototype.GetZipData=function(){return _o(vs(this.ptr),Fr)},Dr.prototype.GetZipDataSize=Dr.prototype.GetZipDataSize=function(){return br(this.ptr)},Dr.prototype.GetLastError=Dr.prototype.GetLastError=function(){return _n(Hs(this.ptr))},Dr.prototype.__destroy__=Dr.prototype.__destroy__=function(){wl(this.ptr)},(Cr.prototype=Object.create(Er.prototype)).constructor=Cr,Cr.prototype.__class__=Cr,Cr.__cache__={},u.ZipfileWalker=Cr,Cr.prototype.GetState=Cr.prototype.GetState=function(){return Un(this.ptr)},Cr.prototype.Next=Cr.prototype.Next=function(){return zt(this.ptr)},Cr.prototype.GetTotalEntries=Cr.prototype.GetTotalEntries=function(){return ys(this.ptr)},Cr.prototype.GetCurrentEntrySize=Cr.prototype.GetCurrentEntrySize=function(){return zs(this.ptr)},Cr.prototype.GetCurrentEntryName=Cr.prototype.GetCurrentEntryName=function(){return _n(El(this.ptr))},Cr.prototype.GetCurrentEntryContent=Cr.prototype.GetCurrentEntryContent=function(){return _o(fa(this.ptr),Fr)},Cr.prototype.__destroy__=Cr.prototype.__destroy__=function(){Xe(this.ptr)},S.ready});ve.exports=De},8886:ve=>{var C,De=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var q,Y,u=S;u.ready=new Promise((p,D)=>{q=p,Y=D});var be,U=Object.assign({},u),x="./this.program",T=(p,D)=>{throw D},Q="object"==typeof window,$="function"==typeof importScripts,O=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Q||$)&&($?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),C&&(O=C),O=0!==O.indexOf("blob:")?O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):"",$&&(be=p=>{var D=new XMLHttpRequest;return D.open("GET",p,!1),D.responseType="arraybuffer",D.send(null),new Uint8Array(D.response)}));var k,se=u.print||console.log.bind(console),H=u.printErr||console.error.bind(console);Object.assign(u,U),U=null,u.thisProgram&&(x=u.thisProgram),u.quit&&(T=u.quit),u.wasmBinary&&(k=u.wasmBinary),"object"!=typeof WebAssembly&&ot("no native wasm support detected");var te,ae,Re,F,I,K,le=!1;function Ae(p,D){p||ot(D)}function Be(){var p=te.buffer;u.HEAP8=Re=new Int8Array(p),u.HEAP16=new Int16Array(p),u.HEAPU8=F=new Uint8Array(p),u.HEAPU16=new Uint16Array(p),u.HEAP32=I=new Int32Array(p),u.HEAPU32=K=new Uint32Array(p),u.HEAPF32=new Float32Array(p),u.HEAPF64=new Float64Array(p)}function Mt(){if(!le){var p=ma();0==p&&(p+=4);var D=K[p>>2],re=K[p+4>>2];(34821223!=D||2310721022!=re)&&ot(`Stack overflow! Stack cookie has been overwritten at ${jr(p)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${jr(re)} ${jr(D)}`),1668509029!=K[0]&&ot("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Fe=[],We=[],Pe=[],Ge=[],kt=0,xe=null,_e=null;function ot(p){u.onAbort&&u.onAbort(p),H(p="Aborted("+p+")"),le=!0,ae=1,p+=". Build with -sASSERTIONS for more info.";var D=new WebAssembly.RuntimeError(p);throw Y(D),D}var Pn,Kn,ln=p=>p.startsWith("data:application/octet-stream;base64,"),Vt=0;function cn(p){return function(){if(le)throw"program has already aborted!";Vt+=1;try{return p.apply(null,arguments)}catch(D){if(le||Vt>1||D===1/0||"unwind"===D)throw D;ot("unhandled exception: "+[D,D.stack])}finally{Vt-=1}}}function zo(p){if(p==Pn&&k)return new Uint8Array(k);if(be)return be(p);throw"both async and sync fetching of the wasm failed"}function po(p,D,re){return function Vr(p){return k||!Q&&!$||"function"!=typeof fetch?Promise.resolve().then(()=>zo(p)):fetch(p,{credentials:"same-origin"}).then(D=>{if(!D.ok)throw"failed to load wasm binary file at '"+p+"'";return D.arrayBuffer()}).catch(()=>zo(p))}(p).then($e=>WebAssembly.instantiate($e,D)).then($e=>$e).then(re,$e=>{H(`failed to asynchronously prepare wasm: ${$e}`),ot($e)})}function So(p){this.name="ExitStatus",this.message=`Program terminated with exit(${p})`,this.status=p}ln(Pn="vfs_web.wasm")||(Pn=function A(p){return u.locateFile?u.locateFile(p,O):O+p}(Pn));var de,so=p=>{for(;p.length>0;)p.shift()(u)},ho=u.noExitRuntime||!0,jr=p=>"0x"+(p>>>=0).toString(16).padStart(8,"0"),we=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,nn=(p,D,re)=>{for(var $e=D+re,Me=D;p[Me]&&!(Me>=$e);)++Me;if(Me-D>16&&p.buffer&&we)return we.decode(p.subarray(D,Me));for(var Cn="";D<Me;){var rn=p[D++];if(128&rn){var mn=63&p[D++];if(192!=(224&rn)){var er=63&p[D++];if((rn=224==(240&rn)?(15&rn)<<12|mn<<6|er:(7&rn)<<18|mn<<12|er<<6|63&p[D++])<65536)Cn+=String.fromCharCode(rn);else{var Do=rn-65536;Cn+=String.fromCharCode(55296|Do>>10,56320|1023&Do)}}else Cn+=String.fromCharCode((31&rn)<<6|mn)}else Cn+=String.fromCharCode(rn)}return Cn},Yt=(p,D)=>p?nn(F,p,D):"",wr=(p,D)=>D+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*D:NaN,In=p=>p%4==0&&(p%100!=0||p%400==0),ao=[0,31,60,91,121,152,182,213,244,274,305,335],lo=[0,31,59,90,120,151,181,212,243,273,304,334],Ii=p=>(In(p.getFullYear())?ao:lo)[p.getMonth()]+p.getDate()-1,_r=p=>{for(var D=0,re=0;re<p.length;++re){var $e=p.charCodeAt(re);$e<=127?D++:$e<=2047?D+=2:$e>=55296&&$e<=57343?(D+=4,++re):D+=3}return D},xn=(p,D,re,$e)=>{if(!($e>0))return 0;for(var Me=re,Cn=re+$e-1,rn=0;rn<p.length;++rn){var mn=p.charCodeAt(rn);if(mn>=55296&&mn<=57343&&(mn=65536+((1023&mn)<<10)|1023&p.charCodeAt(++rn)),mn<=127){if(re>=Cn)break;D[re++]=mn}else if(mn<=2047){if(re+1>=Cn)break;D[re++]=192|mn>>6,D[re++]=128|63&mn}else if(mn<=65535){if(re+2>=Cn)break;D[re++]=224|mn>>12,D[re++]=128|mn>>6&63,D[re++]=128|63&mn}else{if(re+3>=Cn)break;D[re++]=240|mn>>18,D[re++]=128|mn>>12&63,D[re++]=128|mn>>6&63,D[re++]=128|63&mn}}return D[re]=0,re-Me},Wo=p=>{var D=_r(p)+1,re=Ki(D);return re&&((p,D,re)=>{xn(p,F,D,re)})(p,re,D),re},us=p=>{var re=(p-te.buffer.byteLength+65535)/65536;try{return te.grow(re),Be(),1}catch{}},Zo={},vi=()=>{if(!vi.strings){var D={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"};for(var re in Zo)void 0===Zo[re]?delete D[re]:D[re]=Zo[re];var $e=[];for(var re in D)$e.push(`${re}=${D[re]}`);vi.strings=$e}return vi.strings},go=[null,[],[]],ds=(p,D)=>{var re=go[p];0===D||10===D?((1===p?se:H)(nn(re,0)),re.length=0):re.push(D)},wo=[31,29,31,30,31,30,31,31,30,31,30,31],qo=[31,28,31,30,31,30,31,31,30,31,30,31];function Tn(p,D,re){var $e=re>0?re:_r(p)+1,Me=new Array($e),Cn=xn(p,Me,0,Me.length);return D&&(Me.length=Cn),Me}var vn,ms=(p,D)=>{ae=p,(p=>{ae=p,ho||(u.onExit&&u.onExit(p),le=!0),T(p,new So(p))})(p)},Yi={a:(p,D,re,$e)=>{ot(`Assertion failed: ${Yt(p)}, at: `+[D?Yt(D):"unknown filename",re,$e?Yt($e):"unknown function"])},n:function zn(p,D,re){wr(D,re)},j:()=>1,k:function Po(p,D,re){var $e=wr(p,D),Me=new Date(1e3*$e);I[re>>2]=Me.getSeconds(),I[re+4>>2]=Me.getMinutes(),I[re+8>>2]=Me.getHours(),I[re+12>>2]=Me.getDate(),I[re+16>>2]=Me.getMonth(),I[re+20>>2]=Me.getFullYear()-1900,I[re+24>>2]=Me.getDay();var Cn=0|Ii(Me);I[re+28>>2]=Cn,I[re+36>>2]=-60*Me.getTimezoneOffset();var rn=new Date(Me.getFullYear(),0,1),mn=new Date(Me.getFullYear(),6,1).getTimezoneOffset(),er=rn.getTimezoneOffset(),Do=0|(mn!=er&&Me.getTimezoneOffset()==Math.min(er,mn));I[re+32>>2]=Do},l:function(p){var D=(()=>{var re=new Date(I[p+20>>2]+1900,I[p+16>>2],I[p+12>>2],I[p+8>>2],I[p+4>>2],I[p>>2],0),$e=I[p+32>>2],Me=re.getTimezoneOffset(),Cn=new Date(re.getFullYear(),0,1),rn=new Date(re.getFullYear(),6,1).getTimezoneOffset(),mn=Cn.getTimezoneOffset(),er=Math.min(mn,rn);if($e<0)I[p+32>>2]=+(rn!=mn&&er==Me);else if($e>0!=(er==Me)){var Do=Math.max(mn,rn),bs=$e>0?er:Do;re.setTime(re.getTime()+6e4*(bs-Me))}I[p+24>>2]=re.getDay();var za=0|Ii(re);I[p+28>>2]=za,I[p>>2]=re.getSeconds(),I[p+4>>2]=re.getMinutes(),I[p+8>>2]=re.getHours(),I[p+12>>2]=re.getDate(),I[p+16>>2]=re.getMonth(),I[p+20>>2]=re.getYear();var Io=re.getTime();return isNaN(Io)?(I[Jl()>>2]=61,-1):Io/1e3})();return bi((Kn=D,+Math.abs(Kn)>=1?Kn>0?+Math.floor(Kn/4294967296)>>>0:~~+Math.ceil((Kn-+(~~Kn>>>0))/4294967296)>>>0:0)),D>>>0},e:(p,D,re)=>{var $e=(new Date).getFullYear(),Me=new Date($e,0,1),Cn=new Date($e,6,1),rn=Me.getTimezoneOffset(),mn=Cn.getTimezoneOffset(),er=Math.max(rn,mn);function Do(tc){var Al=tc.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Al?Al[1]:"GMT"}K[p>>2]=60*er,I[D>>2]=+(rn!=mn);var bs=Do(Me),za=Do(Cn),Io=Wo(bs),Ml=Wo(za);mn<rn?(K[re>>2]=Io,K[re+4>>2]=Ml):(K[re>>2]=Ml,K[re+4>>2]=Io)},b:()=>{ot("")},c:()=>Date.now(),f:(p,D,re)=>F.copyWithin(p,D,D+re),d:p=>{var er,D=F.length,re=2147483648;if((p>>>=0)>re)return!1;for(var Me=1;Me<=4;Me*=2){var Cn=D*(1+.2/Me);Cn=Math.min(Cn,p+100663296);var rn=Math.min(re,(er=Math.max(p,Cn))+(65536-er%65536)%65536);if(us(rn))return!0}return!1},p:(p,D)=>{var re=0;return vi().forEach(($e,Me)=>{var Cn=D+re;K[p+4*Me>>2]=Cn,((p,D)=>{for(var re=0;re<p.length;++re)Re[D++>>0]=p.charCodeAt(re);Re[D>>0]=0})($e,Cn),re+=$e.length+1}),0},q:(p,D)=>{var re=vi();K[p>>2]=re.length;var $e=0;return re.forEach(Me=>$e+=Me.length+1),K[D>>2]=$e,0},g:p=>52,i:(p,D,re,$e)=>52,m:function Mi(p,D,re,$e,Me){return wr(D,re),70},h:(p,D,re,$e)=>{for(var Me=0,Cn=0;Cn<re;Cn++){var rn=K[D>>2],mn=K[D+4>>2];D+=8;for(var er=0;er<mn;er++)ds(p,F[rn+er]);Me+=mn}return K[$e>>2]=Me,0},o:(p,D,re,$e,Me)=>((p,D,re,$e)=>{var Me=K[$e+40>>2],Cn={tm_sec:I[$e>>2],tm_min:I[$e+4>>2],tm_hour:I[$e+8>>2],tm_mday:I[$e+12>>2],tm_mon:I[$e+16>>2],tm_year:I[$e+20>>2],tm_wday:I[$e+24>>2],tm_yday:I[$e+28>>2],tm_isdst:I[$e+32>>2],tm_gmtoff:I[$e+36>>2],tm_zone:Me?Yt(Me):""},rn=Yt(re),mn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var er in mn)rn=rn.replace(new RegExp(er,"g"),mn[er]);var Do=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bs=["January","February","March","April","May","June","July","August","September","October","November","December"];function za(lt,fn,fi){for(var Ko="number"==typeof lt?lt.toString():lt||"";Ko.length<fn;)Ko=fi[0]+Ko;return Ko}function Io(lt,fn){return za(lt,fn,"0")}function Ml(lt,fn){function fi(Za){return Za<0?-1:Za>0?1:0}var Ko;return 0===(Ko=fi(lt.getFullYear()-fn.getFullYear()))&&0===(Ko=fi(lt.getMonth()-fn.getMonth()))&&(Ko=fi(lt.getDate()-fn.getDate())),Ko}function tc(lt){switch(lt.getDay()){case 0:return new Date(lt.getFullYear()-1,11,29);case 1:return lt;case 2:return new Date(lt.getFullYear(),0,3);case 3:return new Date(lt.getFullYear(),0,2);case 4:return new Date(lt.getFullYear(),0,1);case 5:return new Date(lt.getFullYear()-1,11,31);case 6:return new Date(lt.getFullYear()-1,11,30)}}function Al(lt){var fn=((p,D)=>{for(var re=new Date(p.getTime());D>0;){var $e=In(re.getFullYear()),Me=re.getMonth(),Cn=($e?wo:qo)[Me];if(!(D>Cn-re.getDate()))return re.setDate(re.getDate()+D),re;D-=Cn-re.getDate()+1,re.setDate(1),Me<11?re.setMonth(Me+1):(re.setMonth(0),re.setFullYear(re.getFullYear()+1))}return re})(new Date(lt.tm_year+1900,0,1),lt.tm_yday),fi=new Date(fn.getFullYear(),0,4),Ko=new Date(fn.getFullYear()+1,0,4),Za=tc(fi),_a=tc(Ko);return Ml(Za,fn)<=0?Ml(_a,fn)<=0?fn.getFullYear()+1:fn.getFullYear():fn.getFullYear()-1}var ga={"%a":lt=>Do[lt.tm_wday].substring(0,3),"%A":lt=>Do[lt.tm_wday],"%b":lt=>bs[lt.tm_mon].substring(0,3),"%B":lt=>bs[lt.tm_mon],"%C":lt=>Io((lt.tm_year+1900)/100|0,2),"%d":lt=>Io(lt.tm_mday,2),"%e":lt=>za(lt.tm_mday,2," "),"%g":lt=>Al(lt).toString().substring(2),"%G":lt=>Al(lt),"%H":lt=>Io(lt.tm_hour,2),"%I":lt=>{var fn=lt.tm_hour;return 0==fn?fn=12:fn>12&&(fn-=12),Io(fn,2)},"%j":lt=>Io(lt.tm_mday+((p,D)=>{for(var re=0,$e=0;$e<=D;re+=p[$e++]);return re})(In(lt.tm_year+1900)?wo:qo,lt.tm_mon-1),3),"%m":lt=>Io(lt.tm_mon+1,2),"%M":lt=>Io(lt.tm_min,2),"%n":()=>"\n","%p":lt=>lt.tm_hour>=0&&lt.tm_hour<12?"AM":"PM","%S":lt=>Io(lt.tm_sec,2),"%t":()=>"\t","%u":lt=>lt.tm_wday||7,"%U":lt=>Io(Math.floor((lt.tm_yday+7-lt.tm_wday)/7),2),"%V":lt=>{var fn=Math.floor((lt.tm_yday+7-(lt.tm_wday+6)%7)/7);if((lt.tm_wday+371-lt.tm_yday-2)%7<=2&&fn++,fn){if(53==fn){var Ko=(lt.tm_wday+371-lt.tm_yday)%7;4!=Ko&&(3!=Ko||!In(lt.tm_year))&&(fn=1)}}else{fn=52;var fi=(lt.tm_wday+7-lt.tm_yday-1)%7;(4==fi||5==fi&&In(lt.tm_year%400-1))&&fn++}return Io(fn,2)},"%w":lt=>lt.tm_wday,"%W":lt=>Io(Math.floor((lt.tm_yday+7-(lt.tm_wday+6)%7)/7),2),"%y":lt=>(lt.tm_year+1900).toString().substring(2),"%Y":lt=>lt.tm_year+1900,"%z":lt=>{var fn=lt.tm_gmtoff;return(fn>=0?"+":"-")+("0000"+(fn=(fn=Math.abs(fn)/60)/60*100+fn%60)).slice(-4)},"%Z":lt=>lt.tm_zone,"%%":()=>"%"};for(var er in rn=rn.replace(/%%/g,"\0\0"),ga)rn.includes(er)&&(rn=rn.replace(new RegExp(er,"g"),ga[er](Cn)));var Wa=Tn(rn=rn.replace(/\0\0/g,"%"),!1);return Wa.length>D?0:(((p,D)=>{Re.set(p,D)})(Wa,p),Wa.length-1)})(p,D,re,$e)},et=function Pr(){var p={a:Yi};function D($e,Me){return et=function bn(p){var D={};for(var re in p){var $e=p[re];D[re]="function"==typeof $e?cn($e):$e}return D}(et=$e.exports),te=et.r,Be(),de=et.Ua,function Ft(p){We.unshift(p)}(et.s),function mr(){var p=de.get,D={};de.get=re=>{var $e=p.call(de,re),Me=D[re];return(!Me||Me.func!==$e)&&(Me=D[re]={func:$e,wrapper:cn($e)}),Me.wrapper}}(),function Je(p){if(kt--,u.monitorRunDependencies&&u.monitorRunDependencies(kt),0==kt&&(null!==xe&&(clearInterval(xe),xe=null),_e)){var D=_e;_e=null,D()}}(),et}if(function Te(p){kt++,u.monitorRunDependencies&&u.monitorRunDependencies(kt)}(),u.instantiateWasm)try{return u.instantiateWasm(p,D)}catch($e){H(`Module.instantiateWasm callback failed with error: ${$e}`),Y($e)}return function Rr(p,D,re,$e){return p||"function"!=typeof WebAssembly.instantiateStreaming||ln(D)||"function"!=typeof fetch?po(D,re,$e):fetch(D,{credentials:"same-origin"}).then(Me=>WebAssembly.instantiateStreaming(Me,re).then($e,function(rn){return H(`wasm streaming compile failed: ${rn}`),H("falling back to ArrayBuffer instantiation"),po(D,re,$e)}))}(k,Pn,p,function re($e){D($e.instance)}).catch(Y),{}}(),Ki=u._malloc=p=>(Ki=u._malloc=et.t)(p),ie=(u._free=p=>(u._free=et.u)(p),u._webidl_free=p=>(u._webidl_free=et.v)(p),u._webidl_malloc=p=>(u._webidl_malloc=et.w)(p),u._emscripten_bind_VoidPtr___destroy___0=p=>(ie=u._emscripten_bind_VoidPtr___destroy___0=et.x)(p)),ke=u._emscripten_bind_FileEntry_GetName_0=p=>(ke=u._emscripten_bind_FileEntry_GetName_0=et.y)(p),ce=u._emscripten_bind_FileEntry_IsDirectory_0=p=>(ce=u._emscripten_bind_FileEntry_IsDirectory_0=et.z)(p),Qe=u._emscripten_bind_FileEntry_GetSize_0=p=>(Qe=u._emscripten_bind_FileEntry_GetSize_0=et.A)(p),Ke=u._emscripten_bind_FileEntry_GetModifiedTS_0=p=>(Ke=u._emscripten_bind_FileEntry_GetModifiedTS_0=et.B)(p),nt=u._emscripten_bind_FileEntry_GetAttributes_0=p=>(nt=u._emscripten_bind_FileEntry_GetAttributes_0=et.C)(p),Ve=u._emscripten_bind_FileEntry___destroy___0=p=>(Ve=u._emscripten_bind_FileEntry___destroy___0=et.D)(p),pt=u._emscripten_bind_Vfs_Vfs_0=()=>(pt=u._emscripten_bind_Vfs_Vfs_0=et.E)(),Dt=u._emscripten_bind_Vfs_Malloc_1=(p,D)=>(Dt=u._emscripten_bind_Vfs_Malloc_1=et.F)(p,D),X=u._emscripten_bind_Vfs_Free_1=(p,D)=>(X=u._emscripten_bind_Vfs_Free_1=et.G)(p,D),kn=u._emscripten_bind_Vfs_Nullptr_0=p=>(kn=u._emscripten_bind_Vfs_Nullptr_0=et.H)(p),ur=u._emscripten_bind_Vfs_AllocateImage_1=(p,D)=>(ur=u._emscripten_bind_Vfs_AllocateImage_1=et.I)(p,D),Or=u._emscripten_bind_Vfs_MountImage_1=(p,D)=>(Or=u._emscripten_bind_Vfs_MountImage_1=et.J)(p,D),Gr=u._emscripten_bind_Vfs_UnmountImage_1=(p,D)=>(Gr=u._emscripten_bind_Vfs_UnmountImage_1=et.K)(p,D),Xn=u._emscripten_bind_Vfs_SwitchSlot_1=(p,D)=>(Xn=u._emscripten_bind_Vfs_SwitchSlot_1=et.L)(p,D),_s=u._emscripten_bind_Vfs_GetPendingImageSize_0=p=>(_s=u._emscripten_bind_Vfs_GetPendingImageSize_0=et.M)(p),jn=u._emscripten_bind_Vfs_GetSize_1=(p,D)=>(jn=u._emscripten_bind_Vfs_GetSize_1=et.N)(p,D),Oo=u._emscripten_bind_Vfs_GetPendingImage_0=p=>(Oo=u._emscripten_bind_Vfs_GetPendingImage_0=et.O)(p),Eo=u._emscripten_bind_Vfs_GetImage_1=(p,D)=>(Eo=u._emscripten_bind_Vfs_GetImage_1=et.P)(p,D),Xi=u._emscripten_bind_Vfs_GetDirtyPages_1=(p,D)=>(Xi=u._emscripten_bind_Vfs_GetDirtyPages_1=et.Q)(p,D),Ra=u._emscripten_bind_Vfs_RenameFile_2=(p,D,re)=>(Ra=u._emscripten_bind_Vfs_RenameFile_2=et.R)(p,D,re),ia=u._emscripten_bind_Vfs_ChmodFile_3=(p,D,re,$e)=>(ia=u._emscripten_bind_Vfs_ChmodFile_3=et.S)(p,D,re,$e),js=u._emscripten_bind_Vfs_StatFile_1=(p,D)=>(js=u._emscripten_bind_Vfs_StatFile_1=et.T)(p,D),sa=u._emscripten_bind_Vfs_UnlinkFile_1=(p,D)=>(sa=u._emscripten_bind_Vfs_UnlinkFile_1=et.U)(p,D),Qi=u._emscripten_bind_Vfs_Mkdir_1=(p,D)=>(Qi=u._emscripten_bind_Vfs_Mkdir_1=et.V)(p,D),Pa=u._emscripten_bind_Vfs_GetEntry_0=p=>(Pa=u._emscripten_bind_Vfs_GetEntry_0=et.W)(p),aa=u._emscripten_bind_Vfs_BytesFree_1=(p,D)=>(aa=u._emscripten_bind_Vfs_BytesFree_1=et.X)(p,D),la=u._emscripten_bind_Vfs_BytesTotal_1=(p,D)=>(la=u._emscripten_bind_Vfs_BytesTotal_1=et.Y)(p,D),Oa=u._emscripten_bind_Vfs_ReadFile_1=(p,D)=>(Oa=u._emscripten_bind_Vfs_ReadFile_1=et.Z)(p,D),Fa=u._emscripten_bind_Vfs_GetCurrentFileSize_0=p=>(Fa=u._emscripten_bind_Vfs_GetCurrentFileSize_0=et._)(p),Na=u._emscripten_bind_Vfs_GetCurrentFileContent_0=p=>(Na=u._emscripten_bind_Vfs_GetCurrentFileContent_0=et.$)(p),La=u._emscripten_bind_Vfs_ReleaseCurrentFile_0=p=>(La=u._emscripten_bind_Vfs_ReleaseCurrentFile_0=et.aa)(p),ca=u._emscripten_bind_Vfs_WriteFile_3=(p,D,re,$e)=>(ca=u._emscripten_bind_Vfs_WriteFile_3=et.ba)(p,D,re,$e),$a=u._emscripten_bind_Vfs___destroy___0=p=>($a=u._emscripten_bind_Vfs___destroy___0=et.ca)(p),Ba=u._emscripten_bind_ReaddirContext_ReaddirContext_1=p=>(Ba=u._emscripten_bind_ReaddirContext_ReaddirContext_1=et.da)(p),yr=u._emscripten_bind_ReaddirContext_Next_0=p=>(yr=u._emscripten_bind_ReaddirContext_Next_0=et.ea)(p),ua=u._emscripten_bind_ReaddirContext_GetEntry_0=p=>(ua=u._emscripten_bind_ReaddirContext_GetEntry_0=et.fa)(p),co=u._emscripten_bind_ReaddirContext_GetStatus_0=p=>(co=u._emscripten_bind_ReaddirContext_GetStatus_0=et.ga)(p),Gt=u._emscripten_bind_ReaddirContext_GetError_0=p=>(Gt=u._emscripten_bind_ReaddirContext_GetError_0=et.ha)(p),da=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=p=>(da=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=et.ia)(p),Gs=u._emscripten_bind_ReaddirContext___destroy___0=p=>(Gs=u._emscripten_bind_ReaddirContext___destroy___0=et.ja)(p),Jr=u._emscripten_bind_ExportZipContext_ExportZipContext_2=(p,D)=>(Jr=u._emscripten_bind_ExportZipContext_ExportZipContext_2=et.ka)(p,D),Us=u._emscripten_bind_ExportZipContext_AddFile_1=(p,D)=>(Us=u._emscripten_bind_ExportZipContext_AddFile_1=et.la)(p,D),Va=u._emscripten_bind_ExportZipContext_AddDirectory_1=(p,D)=>(Va=u._emscripten_bind_ExportZipContext_AddDirectory_1=et.ma)(p,D),Gn=u._emscripten_bind_ExportZipContext_Continue_0=p=>(Gn=u._emscripten_bind_ExportZipContext_Continue_0=et.na)(p),vs=u._emscripten_bind_ExportZipContext_GetState_0=p=>(vs=u._emscripten_bind_ExportZipContext_GetState_0=et.oa)(p),br=u._emscripten_bind_ExportZipContext_GetZipContent_0=p=>(br=u._emscripten_bind_ExportZipContext_GetZipContent_0=et.pa)(p),Hs=u._emscripten_bind_ExportZipContext_GetZipSize_0=p=>(Hs=u._emscripten_bind_ExportZipContext_GetZipSize_0=et.qa)(p),wl=u._emscripten_bind_ExportZipContext_GetErrorItem_0=p=>(wl=u._emscripten_bind_ExportZipContext_GetErrorItem_0=et.ra)(p),ja=u._emscripten_bind_ExportZipContext___destroy___0=p=>(ja=u._emscripten_bind_ExportZipContext___destroy___0=et.sa)(p),Un=u._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=p=>(Un=u._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=et.ta)(p),zt=u._emscripten_bind_DeleteRecursiveContext_AddFile_1=(p,D)=>(zt=u._emscripten_bind_DeleteRecursiveContext_AddFile_1=et.ua)(p,D),ys=u._emscripten_bind_DeleteRecursiveContext_Continue_0=p=>(ys=u._emscripten_bind_DeleteRecursiveContext_Continue_0=et.va)(p),zs=u._emscripten_bind_DeleteRecursiveContext_GetState_0=p=>(zs=u._emscripten_bind_DeleteRecursiveContext_GetState_0=et.wa)(p),El=u._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=p=>(El=u._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=et.xa)(p),fa=u._emscripten_bind_DeleteRecursiveContext___destroy___0=p=>(fa=u._emscripten_bind_DeleteRecursiveContext___destroy___0=et.ya)(p),Xe=u._emscripten_bind_UnzipContext_UnzipContext_4=(p,D,re,$e)=>(Xe=u._emscripten_bind_UnzipContext_UnzipContext_4=et.za)(p,D,re,$e),Ai=u._emscripten_bind_UnzipContext_GetState_0=p=>(Ai=u._emscripten_bind_UnzipContext_GetState_0=et.Aa)(p),Ji=u._emscripten_bind_UnzipContext_Continue_0=p=>(Ji=u._emscripten_bind_UnzipContext_Continue_0=et.Ba)(p),Ws=u._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=p=>(Ws=u._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=et.Ca)(p),pa=u._emscripten_bind_UnzipContext_GetCurrentEntry_0=p=>(pa=u._emscripten_bind_UnzipContext_GetCurrentEntry_0=et.Da)(p),Ga=u._emscripten_bind_UnzipContext_GetCollisionPath_0=p=>(Ga=u._emscripten_bind_UnzipContext_GetCollisionPath_0=et.Ea)(p),Yo=u._emscripten_bind_UnzipContext_GetEntriesTotal_0=p=>(Yo=u._emscripten_bind_UnzipContext_GetEntriesTotal_0=et.Fa)(p),es=u._emscripten_bind_UnzipContext_GetEntriesSuccess_0=p=>(es=u._emscripten_bind_UnzipContext_GetEntriesSuccess_0=et.Ga)(p),Ua=u._emscripten_bind_UnzipContext___destroy___0=p=>(Ua=u._emscripten_bind_UnzipContext___destroy___0=et.Ha)(p),Qt=u._emscripten_bind_PasteContext_PasteContext_3=(p,D,re)=>(Qt=u._emscripten_bind_PasteContext_PasteContext_3=et.Ia)(p,D,re),Bn=u._emscripten_bind_PasteContext_AddFile_1=(p,D)=>(Bn=u._emscripten_bind_PasteContext_AddFile_1=et.Ja)(p,D),ha=u._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(p,D)=>(ha=u._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=et.Ka)(p,D),Dl=u._emscripten_bind_PasteContext_GetState_0=p=>(Dl=u._emscripten_bind_PasteContext_GetState_0=et.La)(p),Il=u._emscripten_bind_PasteContext_Continue_0=p=>(Il=u._emscripten_bind_PasteContext_Continue_0=et.Ma)(p),xl=u._emscripten_bind_PasteContext_ContinueWithOverwrite_0=p=>(xl=u._emscripten_bind_PasteContext_ContinueWithOverwrite_0=et.Na)(p),Ha=u._emscripten_bind_PasteContext_GetCurrentEntry_0=p=>(Ha=u._emscripten_bind_PasteContext_GetCurrentEntry_0=et.Oa)(p),Er=u._emscripten_bind_PasteContext_GetCollisionPath_0=p=>(Er=u._emscripten_bind_PasteContext_GetCollisionPath_0=et.Pa)(p),dr=u._emscripten_bind_PasteContext_GetEntriesSuccess_0=p=>(dr=u._emscripten_bind_PasteContext_GetEntriesSuccess_0=et.Qa)(p),_o=u._emscripten_bind_PasteContext___destroy___0=p=>(_o=u._emscripten_bind_PasteContext___destroy___0=et.Ra)(p),Tl=u._main=(p,D)=>(Tl=u._main=et.Sa)(p,D),Jl=()=>(Jl=et.Ta)(),bi=p=>(bi=et.Va)(p),ec=()=>(ec=et.Wa)(),ma=()=>(ma=et.Xa)(),Fr=()=>(Fr=et.Ya)();function Cr(){function p(){vn||(vn=!0,u.calledRun=!0,!le&&(function pe(){Mt(),so(We)}(),function He(){Mt(),so(Pe)}(),q(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),_&&function Ct(){var p=Tl;try{Vt+=1;var $e=p(0,0);return ms($e),$e}catch(Me){return(p=>{if(p instanceof So||"unwind"==p)return ae;Mt(),p instanceof WebAssembly.RuntimeError&&Fr()<=0&&H("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),T(1,p)})(Me)}finally{Vt-=1}}(),function at(){if(Mt(),u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)p=u.postRun.shift(),Ge.unshift(p);var p;so(Ge)}()))}kt>0||(function Dr(){ec(),function mt(){var p=ma();0==p&&(p+=4),K[p>>2]=34821223,K[p+4>>2]=2310721022,K[0]=1668509029}()}(),function Ot(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)p=u.preRun.shift(),Fe.unshift(p);var p;so(Fe)}(),kt>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),p()},1)):p(),Mt())}if(u.___original_main=()=>(u.___original_main=et.Za)(),_e=function p(){vn||Cr(),vn||(_e=p)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var _=!0;function G(){}function M(p){return(p||G).__cache__}function Oe(p,D){var re=M(D),$e=re[p];return $e||(($e=Object.create((D||G).prototype)).ptr=p,re[p]=$e)}u.noInitialRun&&(_=!1),Cr(),(G.prototype=Object.create(G.prototype)).constructor=G,G.prototype.__class__=G,G.__cache__={},u.WrapperObject=G,u.getCache=M,u.wrapPointer=Oe,u.castObject=function tt(p,D){return Oe(p.ptr,D)},u.NULL=Oe(0),u.destroy=function sn(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete M(p.__class__)[p.ptr]},u.compare=function Jt(p,D){return p.ptr===D.ptr},u.getPointer=function dn(p){return p.ptr},u.getClass=function Jn(p){return p.__class__};var $t={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if($t.needed){for(var p=0;p<$t.temps.length;p++)u._webidl_free($t.temps[p]);$t.temps.length=0,u._webidl_free($t.buffer),$t.buffer=0,$t.size+=$t.needed,$t.needed=0}$t.buffer||($t.size+=128,$t.buffer=u._webidl_malloc($t.size),Ae($t.buffer)),$t.pos=0},alloc(p,D){Ae($t.buffer);var Me,$e=p.length*D.BYTES_PER_ELEMENT;return $t.pos+($e=$e+7&-8)>=$t.size?(Ae($e>0),$t.needed+=$e,Me=u._webidl_malloc($e),$t.temps.push(Me)):(Me=$t.buffer+$t.pos,$t.pos+=$e),Me},copy(p,D,re){switch(re>>>=0,D.BYTES_PER_ELEMENT){case 2:re>>>=1;break;case 4:re>>>=2;break;case 8:re>>>=3}for(var Me=0;Me<p.length;Me++)D[re+Me]=p[Me]}};function rr(p){if("string"==typeof p){var D=Tn(p),re=$t.alloc(D,Re);return $t.copy(D,Re,re),re}return p}function fr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function yn(){throw"cannot construct a FileEntry, no constructor in IDL"}function At(){this.ptr=pt(),M(At)[this.ptr]=this}function Nt(p){$t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),this.ptr=Ba(p),M(Nt)[this.ptr]=this}function Vn(p,D){$t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),D&&"object"==typeof D&&(D=D.ptr),this.ptr=Jr(p,D),M(Vn)[this.ptr]=this}function Ir(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Un(p),M(Ir)[this.ptr]=this}function hn(p,D,re,$e){$t.prepare(),p&&"object"==typeof p&&(p=p.ptr),D=D&&"object"==typeof D?D.ptr:rr(D),re&&"object"==typeof re&&(re=re.ptr),$e&&"object"==typeof $e&&($e=$e.ptr),this.ptr=Xe(p,D,re,$e),M(hn)[this.ptr]=this}function qe(p,D,re){$t.prepare(),p&&"object"==typeof p&&(p=p.ptr),D=D&&"object"==typeof D?D.ptr:rr(D),re=re&&"object"==typeof re?re.ptr:rr(re),this.ptr=Qt(p,D,re),M(qe)[this.ptr]=this}return(fr.prototype=Object.create(G.prototype)).constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},u.VoidPtr=fr,fr.prototype.__destroy__=fr.prototype.__destroy__=function(){ie(this.ptr)},(yn.prototype=Object.create(G.prototype)).constructor=yn,yn.prototype.__class__=yn,yn.__cache__={},u.FileEntry=yn,yn.prototype.GetName=yn.prototype.GetName=function(){return Yt(ke(this.ptr))},yn.prototype.IsDirectory=yn.prototype.IsDirectory=function(){return!!ce(this.ptr)},yn.prototype.GetSize=yn.prototype.GetSize=function(){return Qe(this.ptr)},yn.prototype.GetModifiedTS=yn.prototype.GetModifiedTS=function(){return Ke(this.ptr)},yn.prototype.GetAttributes=yn.prototype.GetAttributes=function(){return nt(this.ptr)},yn.prototype.__destroy__=yn.prototype.__destroy__=function(){Ve(this.ptr)},(At.prototype=Object.create(G.prototype)).constructor=At,At.prototype.__class__=At,At.__cache__={},u.Vfs=At,At.prototype.Malloc=At.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Dt(this.ptr,p),fr)},At.prototype.Free=At.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),X(this.ptr,p)},At.prototype.Nullptr=At.prototype.Nullptr=function(){return Oe(kn(this.ptr),fr)},At.prototype.AllocateImage=At.prototype.AllocateImage=function(p){p&&"object"==typeof p&&(p=p.ptr),ur(this.ptr,p)},At.prototype.MountImage=At.prototype.MountImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),!!Or(this.ptr,p)},At.prototype.UnmountImage=At.prototype.UnmountImage=function(p){p&&"object"==typeof p&&(p=p.ptr),Gr(this.ptr,p)},At.prototype.SwitchSlot=At.prototype.SwitchSlot=function(p){p&&"object"==typeof p&&(p=p.ptr),Xn(this.ptr,p)},At.prototype.GetPendingImageSize=At.prototype.GetPendingImageSize=function(){return _s(this.ptr)},At.prototype.GetSize=At.prototype.GetSize=function(p){return p&&"object"==typeof p&&(p=p.ptr),jn(this.ptr,p)},At.prototype.GetPendingImage=At.prototype.GetPendingImage=function(){return Oe(Oo(this.ptr),fr)},At.prototype.GetImage=At.prototype.GetImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Eo(this.ptr,p),fr)},At.prototype.GetDirtyPages=At.prototype.GetDirtyPages=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Xi(this.ptr,p),fr)},At.prototype.RenameFile=At.prototype.RenameFile=function(p,D){var re=this.ptr;return $t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),D=D&&"object"==typeof D?D.ptr:rr(D),Ra(re,p,D)},At.prototype.ChmodFile=At.prototype.ChmodFile=function(p,D,re){var $e=this.ptr;return $t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),D&&"object"==typeof D&&(D=D.ptr),re&&"object"==typeof re&&(re=re.ptr),ia($e,p,D,re)},At.prototype.StatFile=At.prototype.StatFile=function(p){var D=this.ptr;return $t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),js(D,p)},At.prototype.UnlinkFile=At.prototype.UnlinkFile=function(p){var D=this.ptr;return $t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),sa(D,p)},At.prototype.Mkdir=At.prototype.Mkdir=function(p){var D=this.ptr;return $t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),Qi(D,p)},At.prototype.GetEntry=At.prototype.GetEntry=function(){return Oe(Pa(this.ptr),yn)},At.prototype.BytesFree=At.prototype.BytesFree=function(p){return p&&"object"==typeof p&&(p=p.ptr),aa(this.ptr,p)},At.prototype.BytesTotal=At.prototype.BytesTotal=function(p){return p&&"object"==typeof p&&(p=p.ptr),la(this.ptr,p)},At.prototype.ReadFile=At.prototype.ReadFile=function(p){var D=this.ptr;return $t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),!!Oa(D,p)},At.prototype.GetCurrentFileSize=At.prototype.GetCurrentFileSize=function(){return Fa(this.ptr)},At.prototype.GetCurrentFileContent=At.prototype.GetCurrentFileContent=function(){return Oe(Na(this.ptr),fr)},At.prototype.ReleaseCurrentFile=At.prototype.ReleaseCurrentFile=function(){La(this.ptr)},At.prototype.WriteFile=At.prototype.WriteFile=function(p,D,re){var $e=this.ptr;return $t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),D&&"object"==typeof D&&(D=D.ptr),re&&"object"==typeof re&&(re=re.ptr),ca($e,p,D,re)},At.prototype.__destroy__=At.prototype.__destroy__=function(){$a(this.ptr)},(Nt.prototype=Object.create(G.prototype)).constructor=Nt,Nt.prototype.__class__=Nt,Nt.__cache__={},u.ReaddirContext=Nt,Nt.prototype.Next=Nt.prototype.Next=function(){return yr(this.ptr)},Nt.prototype.GetEntry=Nt.prototype.GetEntry=function(){return Oe(ua(this.ptr),yn)},Nt.prototype.GetStatus=Nt.prototype.GetStatus=function(){return co(this.ptr)},Nt.prototype.GetError=Nt.prototype.GetError=function(){return Gt(this.ptr)},Nt.prototype.GetErrorDescription=Nt.prototype.GetErrorDescription=function(){return Yt(da(this.ptr))},Nt.prototype.__destroy__=Nt.prototype.__destroy__=function(){Gs(this.ptr)},(Vn.prototype=Object.create(G.prototype)).constructor=Vn,Vn.prototype.__class__=Vn,Vn.__cache__={},u.ExportZipContext=Vn,Vn.prototype.AddFile=Vn.prototype.AddFile=function(p){var D=this.ptr;return $t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),Oe(Us(D,p),Vn)},Vn.prototype.AddDirectory=Vn.prototype.AddDirectory=function(p){var D=this.ptr;return $t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),Oe(Va(D,p),Vn)},Vn.prototype.Continue=Vn.prototype.Continue=function(){return Gn(this.ptr)},Vn.prototype.GetState=Vn.prototype.GetState=function(){return vs(this.ptr)},Vn.prototype.GetZipContent=Vn.prototype.GetZipContent=function(){return Oe(br(this.ptr),fr)},Vn.prototype.GetZipSize=Vn.prototype.GetZipSize=function(){return Hs(this.ptr)},Vn.prototype.GetErrorItem=Vn.prototype.GetErrorItem=function(){return Yt(wl(this.ptr))},Vn.prototype.__destroy__=Vn.prototype.__destroy__=function(){ja(this.ptr)},(Ir.prototype=Object.create(G.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},u.DeleteRecursiveContext=Ir,Ir.prototype.AddFile=Ir.prototype.AddFile=function(p){var D=this.ptr;return $t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),Oe(zt(D,p),Ir)},Ir.prototype.Continue=Ir.prototype.Continue=function(){return ys(this.ptr)},Ir.prototype.GetState=Ir.prototype.GetState=function(){return zs(this.ptr)},Ir.prototype.GetFailingPath=Ir.prototype.GetFailingPath=function(){return Yt(El(this.ptr))},Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){fa(this.ptr)},(hn.prototype=Object.create(G.prototype)).constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},u.UnzipContext=hn,hn.prototype.GetState=hn.prototype.GetState=function(){return Ai(this.ptr)},hn.prototype.Continue=hn.prototype.Continue=function(){return Ji(this.ptr)},hn.prototype.ContinueWithOverwrite=hn.prototype.ContinueWithOverwrite=function(){return Ws(this.ptr)},hn.prototype.GetCurrentEntry=hn.prototype.GetCurrentEntry=function(){return Yt(pa(this.ptr))},hn.prototype.GetCollisionPath=hn.prototype.GetCollisionPath=function(){return Yt(Ga(this.ptr))},hn.prototype.GetEntriesTotal=hn.prototype.GetEntriesTotal=function(){return Yo(this.ptr)},hn.prototype.GetEntriesSuccess=hn.prototype.GetEntriesSuccess=function(){return es(this.ptr)},hn.prototype.__destroy__=hn.prototype.__destroy__=function(){Ua(this.ptr)},(qe.prototype=Object.create(G.prototype)).constructor=qe,qe.prototype.__class__=qe,qe.__cache__={},u.PasteContext=qe,qe.prototype.AddFile=qe.prototype.AddFile=function(p){var D=this.ptr;return $t.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),Oe(Bn(D,p),qe)},qe.prototype.SetDeleteAfterCopy=qe.prototype.SetDeleteAfterCopy=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(ha(this.ptr,p),qe)},qe.prototype.GetState=qe.prototype.GetState=function(){return Dl(this.ptr)},qe.prototype.Continue=qe.prototype.Continue=function(){return Il(this.ptr)},qe.prototype.ContinueWithOverwrite=qe.prototype.ContinueWithOverwrite=function(){return xl(this.ptr)},qe.prototype.GetCurrentEntry=qe.prototype.GetCurrentEntry=function(){return Yt(Ha(this.ptr))},qe.prototype.GetCollisionPath=qe.prototype.GetCollisionPath=function(){return Yt(Er(this.ptr))},qe.prototype.GetEntriesSuccess=qe.prototype.GetEntriesSuccess=function(){return dr(this.ptr)},qe.prototype.__destroy__=qe.prototype.__destroy__=function(){_o(this.ptr)},S.ready});ve.exports=De},276:(ve,De,C)=>{"use strict";C.d(De,{c:()=>q,r:()=>R});const q=(F,N)=>{F.componentOnReady?F.componentOnReady().then(ne=>N(ne)):R(()=>N(F))},R=F=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(F):"function"==typeof requestAnimationFrame?requestAnimationFrame(F):setTimeout(F)},7687:(ve,De,C)=>{"use strict";C.d(De,{L:()=>S,a:()=>u,b:()=>q,c:()=>Y,d:()=>U,g:()=>F});const S="ionViewWillEnter",u="ionViewDidEnter",q="ionViewWillLeave",Y="ionViewDidLeave",U="ionViewWillUnload",F=N=>N.classList.contains("ion-page")?N:N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||N},2723:(ve,De,C)=>{"use strict";C.d(De,{c:()=>be});var S=C(6940),u=C(4675);let q;const U=se=>se.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P=se=>(void 0===q&&(q=void 0===se.style.animationName&&void 0!==se.style.webkitAnimationName?"-webkit-":""),q),x=(se,H,k)=>{const te=H.startsWith("animation")?P(se):"";se.style.setProperty(te+H,k)},T=(se,H)=>{const k=H.startsWith("animation")?P(se):"";se.style.removeProperty(k+H)},R=[],fe=(se=[],H)=>{if(void 0!==H){const k=Array.isArray(H)?H:[H];return[...se,...k]}return se},be=se=>{let H,k,te,le,ae,Ae,I,We,Pe,Ge,st,at,Ye,Re=[],F=[],N=[],ne=!1,K={},Z=[],me=[],Be={},mt=0,Mt=!1,Fe=!1,Ot=!0,pe=!1,He=!0,Ft=!1;const Zt=se,kt=[],xe=[],_e=[],Te=[],Je=[],ot=[],qt=[],ln=[],Vt=[],cn=[],bn=[],mr="function"==typeof AnimationEffect||void 0!==S.w&&"function"==typeof S.w.AnimationEffect,Pn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&mr,Vr=()=>bn,So=(g,w)=>{const E=w.findIndex(ie=>ie.c===g);E>-1&&w.splice(E,1)},ho=(g,w)=>((w?.oneTimeCallback?xe:kt).push({c:g,o:w}),Ye),de=()=>{if(Pn)bn.forEach(g=>{g.cancel()}),bn.length=0;else{const g=Te.slice();(0,u.r)(()=>{g.forEach(w=>{T(w,"animation-name"),T(w,"animation-duration"),T(w,"animation-timing-function"),T(w,"animation-iteration-count"),T(w,"animation-delay"),T(w,"animation-play-state"),T(w,"animation-fill-mode"),T(w,"animation-direction")})})}},we=()=>{ot.forEach(g=>{g?.parentNode&&g.parentNode.removeChild(g)}),ot.length=0},Po=()=>void 0!==ae?ae:I?I.getFill():"both",On=()=>void 0!==Pe?Pe:void 0!==Ae?Ae:I?I.getDirection():"normal",gr=()=>Mt?"linear":void 0!==te?te:I?I.getEasing():"linear",_r=()=>Fe?0:void 0!==Ge?Ge:void 0!==k?k:I?I.getDuration():0,xn=()=>void 0!==le?le:I?I.getIterations():1,Ln=()=>void 0!==st?st:void 0!==H?H:I?I.getDelay():0,Xr=()=>{0!==mt&&(mt--,0===mt&&((()=>{fs(),Vt.forEach(ke=>ke()),cn.forEach(ke=>ke());const g=Ot?1:0,w=Z,E=me,ie=Be;Te.forEach(ke=>{const ce=ke.classList;w.forEach(Qe=>ce.add(Qe)),E.forEach(Qe=>ce.remove(Qe));for(const Qe in ie)ie.hasOwnProperty(Qe)&&x(ke,Qe,ie[Qe])}),Ge=void 0,Pe=void 0,st=void 0,kt.forEach(ke=>ke.c(g,Ye)),xe.forEach(ke=>ke.c(g,Ye)),xe.length=0,He=!0,Ot&&(pe=!0),Ot=!0})(),I&&I.animationFinish()))},oi=(g=!0)=>{we();const w=(se=>(se.forEach(H=>{for(const k in H)if(H.hasOwnProperty(k)){const te=H[k];if("easing"===k)H["animation-timing-function"]=te,delete H[k];else{const le=U(k);le!==k&&(H[le]=te,delete H[k])}}}),se))(Re);Te.forEach(E=>{if(w.length>0){const ie=((se=[])=>se.map(H=>{const k=H.offset,te=[];for(const le in H)H.hasOwnProperty(le)&&"offset"!==le&&te.push(`${le}: ${H[le]};`);return`${100*k}% { ${te.join(" ")} }`}).join(" "))(w);at=void 0!==se?se:(se=>{let H=R.indexOf(se);return H<0&&(H=R.push(se)-1),`ion-animation-${H}`})(ie);const ke=((se,H,k)=>{var te;const le=(se=>{const H=void 0!==se.getRootNode?se.getRootNode():se;return H.head||H})(k),ae=P(k),Ae=le.querySelector("#"+se);if(Ae)return Ae;const Re=(null!==(te=k.ownerDocument)&&void 0!==te?te:document).createElement("style");return Re.id=se,Re.textContent=`@${ae}keyframes ${se} { ${H} } @${ae}keyframes ${se}-alt { ${H} }`,le.appendChild(Re),Re})(at,ie,E);ot.push(ke),x(E,"animation-duration",`${_r()}ms`),x(E,"animation-timing-function",gr()),x(E,"animation-delay",`${Ln()}ms`),x(E,"animation-fill-mode",Po()),x(E,"animation-direction",On());const ce=xn()===1/0?"infinite":xn().toString();x(E,"animation-iteration-count",ce),x(E,"animation-play-state","paused"),g&&x(E,"animation-name",`${ke.id}-alt`),(0,u.r)(()=>{x(E,"animation-name",ke.id||null)})}})},Mi=(g=!0)=>{(()=>{qt.forEach(ie=>ie()),ln.forEach(ie=>ie());const g=F,w=N,E=K;Te.forEach(ie=>{const ke=ie.classList;g.forEach(ce=>ke.add(ce)),w.forEach(ce=>ke.remove(ce));for(const ce in E)E.hasOwnProperty(ce)&&x(ie,ce,E[ce])})})(),Re.length>0&&(Pn?(Te.forEach(g=>{const w=g.animate(Re,{id:Zt,delay:Ln(),duration:_r(),easing:gr(),iterations:xn(),fill:Po(),direction:On()});w.pause(),bn.push(w)}),bn.length>0&&(bn[0].onfinish=()=>{Xr()})):oi(g)),ne=!0},go=g=>{if(g=Math.min(Math.max(g,0),.9999),Pn)bn.forEach(w=>{w.currentTime=w.effect.getComputedTiming().delay+_r()*g,w.pause()});else{const w=`-${_r()*g}ms`;Te.forEach(E=>{Re.length>0&&(x(E,"animation-delay",w),x(E,"animation-play-state","paused"))})}},ds=g=>{bn.forEach(w=>{w.effect.updateTiming({delay:Ln(),duration:_r(),easing:gr(),iterations:xn(),fill:Po(),direction:On()})}),void 0!==g&&go(g)},Bs=(g=!0,w)=>{(0,u.r)(()=>{Te.forEach(E=>{x(E,"animation-name",at||null),x(E,"animation-duration",`${_r()}ms`),x(E,"animation-timing-function",gr()),x(E,"animation-delay",void 0!==w?`-${w*_r()}ms`:`${Ln()}ms`),x(E,"animation-fill-mode",Po()||null),x(E,"animation-direction",On()||null);const ie=xn()===1/0?"infinite":xn().toString();x(E,"animation-iteration-count",ie),g&&x(E,"animation-name",`${at}-alt`),(0,u.r)(()=>{x(E,"animation-name",at||null)})})})},Qr=(g=!1,w=!0,E)=>(g&&Je.forEach(ie=>{ie.update(g,w,E)}),Pn?ds(E):Bs(w,E),Ye),Tn=()=>{ne&&(Pn?bn.forEach(g=>{g.pause()}):Te.forEach(g=>{x(g,"animation-play-state","paused")}),Ft=!0)},ra=()=>{We=void 0,Xr()},fs=()=>{We&&clearTimeout(We)},gs=g=>new Promise(w=>{g?.sync&&(Fe=!0,ho(()=>Fe=!1,{oneTimeCallback:!0})),ne||Mi(),pe&&(Pn?(go(0),ds()):Bs(),pe=!1),He&&(mt=Je.length+1,He=!1);const E=()=>{So(ie,xe),w()},ie=()=>{So(E,_e),w()};ho(ie,{oneTimeCallback:!0}),((g,w)=>{_e.push({c:g,o:{oneTimeCallback:!0}})})(E),Je.forEach(ke=>{ke.play()}),Pn?(bn.forEach(g=>{g.play()}),(0===Re.length||0===Te.length)&&Xr()):(()=>{if(fs(),(0,u.r)(()=>{Te.forEach(g=>{Re.length>0&&x(g,"animation-play-state","running")})}),0===Re.length||0===Te.length)Xr();else{const g=Ln()||0,w=_r()||0,E=xn()||1;isFinite(E)&&(We=setTimeout(ra,g+w*E+100)),((se,H)=>{let k;const te={passive:!0},ae=Ae=>{se===Ae.target&&(k&&k(),fs(),(0,u.r)(()=>{Te.forEach(g=>{T(g,"animation-duration"),T(g,"animation-delay"),T(g,"animation-play-state")}),(0,u.r)(Xr)}))};se&&(se.addEventListener("webkitAnimationEnd",ae,te),se.addEventListener("animationend",ae,te),k=()=>{se.removeEventListener("webkitAnimationEnd",ae,te),se.removeEventListener("animationend",ae,te)})})(Te[0])}})(),Ft=!1}),et=(g,w)=>{const E=Re[0];return void 0===E||void 0!==E.offset&&0!==E.offset?Re=[{offset:0,[g]:w},...Re]:E[g]=w,Ye};return Ye={parentAnimation:I,elements:Te,childAnimations:Je,id:Zt,animationFinish:Xr,from:et,to:(g,w)=>{const E=Re[Re.length-1];return void 0===E||void 0!==E.offset&&1!==E.offset?Re=[...Re,{offset:1,[g]:w}]:E[g]=w,Ye},fromTo:(g,w,E)=>et(g,w).to(g,E),parent:g=>(I=g,Ye),play:gs,pause:()=>(Je.forEach(g=>{g.pause()}),Tn(),Ye),stop:()=>{Je.forEach(g=>{g.stop()}),ne&&(de(),ne=!1),Mt=!1,Fe=!1,He=!0,Pe=void 0,Ge=void 0,st=void 0,mt=0,pe=!1,Ot=!0,Ft=!1,_e.forEach(g=>g.c(0,Ye)),_e.length=0},destroy:g=>(Je.forEach(w=>{w.destroy(g)}),(g=>{de(),g&&we()})(g),Te.length=0,Je.length=0,Re.length=0,kt.length=0,xe.length=0,ne=!1,He=!0,Ye),keyframes:g=>{const w=Re!==g;return Re=g,w&&(g=>{Pn?Vr().forEach(w=>{const E=w.effect;if(E.setKeyframes)E.setKeyframes(g);else{const ie=new KeyframeEffect(E.target,g,E.getTiming());w.effect=ie}}):oi()})(Re),Ye},addAnimation:g=>{if(null!=g)if(Array.isArray(g))for(const w of g)w.parent(Ye),Je.push(w);else g.parent(Ye),Je.push(g);return Ye},addElement:g=>{if(null!=g)if(1===g.nodeType)Te.push(g);else if(g.length>=0)for(let w=0;w<g.length;w++)Te.push(g[w]);else console.error("Invalid addElement value");return Ye},update:Qr,fill:g=>(ae=g,Qr(!0),Ye),direction:g=>(Ae=g,Qr(!0),Ye),iterations:g=>(le=g,Qr(!0),Ye),duration:g=>(!Pn&&0===g&&(g=1),k=g,Qr(!0),Ye),easing:g=>(te=g,Qr(!0),Ye),delay:g=>(H=g,Qr(!0),Ye),getWebAnimations:Vr,getKeyframes:()=>Re,getFill:Po,getDirection:On,getDelay:Ln,getIterations:xn,getEasing:gr,getDuration:_r,afterAddRead:g=>(Vt.push(g),Ye),afterAddWrite:g=>(cn.push(g),Ye),afterClearStyles:(g=[])=>{for(const w of g)Be[w]="";return Ye},afterStyles:(g={})=>(Be=g,Ye),afterRemoveClass:g=>(me=fe(me,g),Ye),afterAddClass:g=>(Z=fe(Z,g),Ye),beforeAddRead:g=>(qt.push(g),Ye),beforeAddWrite:g=>(ln.push(g),Ye),beforeClearStyles:(g=[])=>{for(const w of g)K[w]="";return Ye},beforeStyles:(g={})=>(K=g,Ye),beforeRemoveClass:g=>(N=fe(N,g),Ye),beforeAddClass:g=>(F=fe(F,g),Ye),onFinish:ho,isRunning:()=>0!==mt&&!Ft,progressStart:(g=!1,w)=>(Je.forEach(E=>{E.progressStart(g,w)}),Tn(),Mt=g,ne||Mi(),Qr(!1,!0,w),Ye),progressStep:g=>(Je.forEach(w=>{w.progressStep(g)}),go(g),Ye),progressEnd:(g,w,E)=>(Mt=!1,Je.forEach(ie=>{ie.progressEnd(g,w,E)}),void 0!==E&&(Ge=E),pe=!1,Ot=!0,0===g?(Pe="reverse"===On()?"normal":"reverse","reverse"===Pe&&(Ot=!1),Pn?(Qr(),go(1-w)):(st=(1-w)*_r()*-1,Qr(!1,!1))):1===g&&(Pn?(Qr(),go(w)):(st=w*_r()*-1,Qr(!1,!1))),void 0!==g&&!I&&gs(),Ye)}}},2984:(ve,De,C)=>{"use strict";C.d(De,{E:()=>$,I:()=>x,a:()=>S,s:()=>T});const S=R=>{try{if(R instanceof x)return R.value;if(!Y()||"string"!=typeof R||""===R)return R;if(R.includes("onload="))return"";const O=document.createDocumentFragment(),A=document.createElement("div");O.appendChild(A),A.innerHTML=R,P.forEach(se=>{const H=O.querySelectorAll(se);for(let k=H.length-1;k>=0;k--){const te=H[k];te.parentNode?te.parentNode.removeChild(te):O.removeChild(te);const le=q(te);for(let ae=0;ae<le.length;ae++)u(le[ae])}});const V=q(O);for(let se=0;se<V.length;se++)u(V[se]);const fe=document.createElement("div");fe.appendChild(O);const be=fe.querySelector("div");return null!==be?be.innerHTML:fe.innerHTML}catch(O){return console.error(O),""}},u=R=>{if(R.nodeType&&1!==R.nodeType)return;if(typeof NamedNodeMap<"u"&&!(R.attributes instanceof NamedNodeMap))return void R.remove();for(let A=R.attributes.length-1;A>=0;A--){const V=R.attributes.item(A),fe=V.name;if(!U.includes(fe.toLowerCase())){R.removeAttribute(fe);continue}const be=V.value,se=R[fe];(null!=be&&be.toLowerCase().includes("javascript:")||null!=se&&se.toLowerCase().includes("javascript:"))&&R.removeAttribute(fe)}const O=q(R);for(let A=0;A<O.length;A++)u(O[A])},q=R=>null!=R.children?R.children:R.childNodes,Y=()=>{var R;const O=window,A=null===(R=O?.Ionic)||void 0===R?void 0:R.config;return!A||(A.get?A.get("sanitizerEnabled",!0):!0===A.sanitizerEnabled||void 0===A.sanitizerEnabled)},U=["class","id","href","src","name","slot"],P=["script","style","iframe","meta","link","object","embed"];class x{constructor(O){this.value=O}}const T=R=>{const O=window,A=O.Ionic;if(!A||!A.config||"Object"===A.config.constructor.name)return O.Ionic=O.Ionic||{},O.Ionic.config=Object.assign(Object.assign({},O.Ionic.config),R),O.Ionic.config},$=!1},8573:(ve,De,C)=>{"use strict";C.d(De,{C:()=>U,a:()=>q,d:()=>Y});var S=C(3918),u=C(4675);const q=function(){var P=(0,S.Z)(function*(x,T,Q,$,R,O){var A;if(x)return x.attachViewToDom(T,Q,R,$);if(!(O||"string"==typeof Q||Q instanceof HTMLElement))throw new Error("framework delegate is missing");const V="string"==typeof Q?null===(A=T.ownerDocument)||void 0===A?void 0:A.createElement(Q):Q;return $&&$.forEach(fe=>V.classList.add(fe)),R&&Object.assign(V,R),T.appendChild(V),yield new Promise(fe=>(0,u.c)(V,fe)),V});return function(T,Q,$,R,O,A){return P.apply(this,arguments)}}(),Y=(P,x)=>{if(x){if(P)return P.removeViewFromDom(x.parentElement,x);x.remove()}return Promise.resolve()},U=()=>{let P,x;return{attachViewToDom:function(){var $=(0,S.Z)(function*(R,O,A={},V=[]){var fe,be;let se;if(P=R,O){const k="string"==typeof O?null===(fe=P.ownerDocument)||void 0===fe?void 0:fe.createElement(O):O;V.forEach(te=>k.classList.add(te)),Object.assign(k,A),P.appendChild(k),se=k,yield new Promise(te=>(0,u.c)(k,te))}else if(P.children.length>0&&("ION-MODAL"===P.tagName||"ION-POPOVER"===P.tagName)&&!(se=P.children[0]).classList.contains("ion-delegate-host")){const te=null===(be=P.ownerDocument)||void 0===be?void 0:be.createElement("div");te.classList.add("ion-delegate-host"),V.forEach(le=>te.classList.add(le)),te.append(...P.children),P.appendChild(te),se=te}const H=document.querySelector("ion-app")||document.body;return x=document.createComment("ionic teleport"),P.parentNode.insertBefore(x,P),H.appendChild(P),se??P});return function(O,A){return $.apply(this,arguments)}}(),removeViewFromDom:()=>(P&&x&&(x.parentNode.insertBefore(P,x),x.remove()),Promise.resolve())}}},4967:(ve,De,C)=>{"use strict";C.d(De,{G:()=>U});class u{constructor(x,T,Q,$,R){this.id=T,this.name=Q,this.disableScroll=R,this.priority=1e6*$+T,this.ctrl=x}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const x=this.ctrl.capture(this.name,this.id,this.priority);return x&&this.disableScroll&&this.ctrl.disableScroll(this.id),x}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class q{constructor(x,T,Q,$){this.id=T,this.disable=Q,this.disableScroll=$,this.ctrl=x}block(){if(this.ctrl){if(this.disable)for(const x of this.disable)this.ctrl.disableGesture(x,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const x of this.disable)this.ctrl.enableGesture(x,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Y="backdrop-no-scroll",U=new class S{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(x){var T;return new u(this,this.newID(),x.name,null!==(T=x.priority)&&void 0!==T?T:0,!!x.disableScroll)}createBlocker(x={}){return new q(this,this.newID(),x.disable,!!x.disableScroll)}start(x,T,Q){return this.canStart(x)?(this.requestedStart.set(T,Q),!0):(this.requestedStart.delete(T),!1)}capture(x,T,Q){if(!this.start(x,T,Q))return!1;const $=this.requestedStart;let R=-1e4;if($.forEach(O=>{R=Math.max(R,O)}),R===Q){this.capturedId=T,$.clear();const O=new CustomEvent("ionGestureCaptured",{detail:{gestureName:x}});return document.dispatchEvent(O),!0}return $.delete(T),!1}release(x){this.requestedStart.delete(x),this.capturedId===x&&(this.capturedId=void 0)}disableGesture(x,T){let Q=this.disabledGestures.get(x);void 0===Q&&(Q=new Set,this.disabledGestures.set(x,Q)),Q.add(T)}enableGesture(x,T){const Q=this.disabledGestures.get(x);void 0!==Q&&Q.delete(T)}disableScroll(x){this.disabledScroll.add(x),1===this.disabledScroll.size&&document.body.classList.add(Y)}enableScroll(x){this.disabledScroll.delete(x),0===this.disabledScroll.size&&document.body.classList.remove(Y)}canStart(x){return!(void 0!==this.capturedId||this.isDisabled(x))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(x){const T=this.disabledGestures.get(x);return!!(T&&T.size>0)}newID(){return this.gestureId++,this.gestureId}}},1940:(ve,De,C)=>{"use strict";C.r(De),C.d(De,{MENU_BACK_BUTTON_PRIORITY:()=>U,OVERLAY_BACK_BUTTON_PRIORITY:()=>Y,blockHardwareBackButton:()=>u,startHardwareBackButton:()=>q});var S=C(3918);const u=()=>{document.addEventListener("backbutton",()=>{})},q=()=>{const P=document;let x=!1;P.addEventListener("backbutton",()=>{if(x)return;let T=0,Q=[];const $=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(A,V){Q.push({priority:A,handler:V,id:T++})}}});P.dispatchEvent($);const R=function(){var A=(0,S.Z)(function*(V){try{if(V?.handler){const fe=V.handler(O);null!=fe&&(yield fe)}}catch(fe){console.error(fe)}});return function(fe){return A.apply(this,arguments)}}(),O=()=>{if(Q.length>0){let A={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Q.forEach(V=>{V.priority>=A.priority&&(A=V)}),x=!0,Q=Q.filter(V=>V.id!==A.id),R(A).then(()=>x=!1)}};O()})},Y=100,U=99},4675:(ve,De,C)=>{"use strict";C.d(De,{a:()=>T,b:()=>Q,c:()=>q,d:()=>be,e:()=>fe,f:()=>V,g:()=>$,h:()=>A,i:()=>x,j:()=>ae,k:()=>U,l:()=>se,m:()=>Y,n:()=>O,o:()=>H,p:()=>le,q:()=>Ae,r:()=>R,s:()=>Re,t:()=>S,u:()=>k,v:()=>te});const S=(F,N=0)=>new Promise(ne=>{u(F,N,ne)}),u=(F,N=0,ne)=>{let I,K;const Z={passive:!0},Be=()=>{I&&I()},mt=Mt=>{(void 0===Mt||F===Mt.target)&&(Be(),ne(Mt))};return F&&(F.addEventListener("webkitTransitionEnd",mt,Z),F.addEventListener("transitionend",mt,Z),K=setTimeout(mt,N+500),I=()=>{K&&(clearTimeout(K),K=void 0),F.removeEventListener("webkitTransitionEnd",mt,Z),F.removeEventListener("transitionend",mt,Z)}),Be},q=(F,N)=>{F.componentOnReady?F.componentOnReady().then(ne=>N(ne)):R(()=>N(F))},Y=F=>void 0!==F.componentOnReady,U=(F,N=[])=>{const ne={};return N.forEach(I=>{F.hasAttribute(I)&&(null!==F.getAttribute(I)&&(ne[I]=F.getAttribute(I)),F.removeAttribute(I))}),ne},P=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],x=(F,N)=>{let ne=P;return N&&N.length>0&&(ne=ne.filter(I=>!N.includes(I))),U(F,ne)},T=(F,N,ne,I)=>{var K;if(typeof window<"u"){const Z=window,me=null===(K=Z?.Ionic)||void 0===K?void 0:K.config;if(me){const Be=me.get("_ael");if(Be)return Be(F,N,ne,I);if(me._ael)return me._ael(F,N,ne,I)}}return F.addEventListener(N,ne,I)},Q=(F,N,ne,I)=>{var K;if(typeof window<"u"){const Z=window,me=null===(K=Z?.Ionic)||void 0===K?void 0:K.config;if(me){const Be=me.get("_rel");if(Be)return Be(F,N,ne,I);if(me._rel)return me._rel(F,N,ne,I)}}return F.removeEventListener(N,ne,I)},$=(F,N=F)=>F.shadowRoot||N,R=F=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(F):"function"==typeof requestAnimationFrame?requestAnimationFrame(F):setTimeout(F),O=F=>!!F.shadowRoot&&!!F.attachShadow,A=F=>{const N=F.closest("ion-item");return N?N.querySelector("ion-label"):null},V=F=>{if(F.focus(),F.classList.contains("ion-focusable")){const N=F.closest("ion-app");N&&N.setFocus([F])}},fe=(F,N)=>{let ne;const I=F.getAttribute("aria-labelledby"),K=F.id;let Z=null!==I&&""!==I.trim()?I:N+"-lbl",me=null!==I&&""!==I.trim()?document.getElementById(I):A(F);return me?(null===I&&(me.id=Z),ne=me.textContent,me.setAttribute("aria-hidden","true")):""!==K.trim()&&(me=document.querySelector(`label[for="${K}"]`),me&&(""!==me.id?Z=me.id:me.id=Z=`${K}-lbl`,ne=me.textContent)),{label:me,labelId:Z,labelText:ne}},be=(F,N,ne,I,K)=>{if(F||O(N)){let Z=N.querySelector("input.aux-input");Z||(Z=N.ownerDocument.createElement("input"),Z.type="hidden",Z.classList.add("aux-input"),N.appendChild(Z)),Z.disabled=K,Z.name=ne,Z.value=I||""}},se=(F,N,ne)=>Math.max(F,Math.min(N,ne)),H=(F,N)=>{if(!F){const ne="ASSERT: "+N;throw console.error(ne),new Error(ne)}},k=F=>F.timeStamp||Date.now(),te=F=>{if(F){const N=F.changedTouches;if(N&&N.length>0){const ne=N[0];return{x:ne.clientX,y:ne.clientY}}if(void 0!==F.pageX)return{x:F.pageX,y:F.pageY}}return{x:0,y:0}},le=F=>{const N="rtl"===document.dir;switch(F){case"start":return N;case"end":return!N;default:throw new Error(`"${F}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ae=(F,N)=>{const ne=F._original||F;return{_original:F,emit:Ae(ne.emit.bind(ne),N)}},Ae=(F,N=0)=>{let ne;return(...I)=>{clearTimeout(ne),ne=setTimeout(F,N,...I)}},Re=(F,N)=>{if(F??(F={}),N??(N={}),F===N)return!0;const ne=Object.keys(F);if(ne.length!==Object.keys(N).length)return!1;for(const I of ne)if(!(I in N)||F[I]!==N[I])return!1;return!0}},4656:(ve,De,C)=>{"use strict";C.d(De,{m:()=>A});var S=C(3918),u=C(6940),q=C(1940),Y=C(6240),U=C(4675),P=C(5194),x=C(2723);const T=V=>(0,x.c)().duration(V?400:300),Q=V=>{let fe,be;const se=V.width+8,H=(0,x.c)(),k=(0,x.c)();V.isEndSide?(fe=se+"px",be="0px"):(fe=-se+"px",be="0px"),H.addElement(V.menuInnerEl).fromTo("transform",`translateX(${fe})`,`translateX(${be})`);const le="ios"===(0,P.b)(V),ae=le?.2:.25;return k.addElement(V.backdropEl).fromTo("opacity",.01,ae),T(le).addAnimation([H,k])},$=V=>{let fe,be;const se=(0,P.b)(V),H=V.width;V.isEndSide?(fe=-H+"px",be=H+"px"):(fe=H+"px",be=-H+"px");const k=(0,x.c)().addElement(V.menuInnerEl).fromTo("transform",`translateX(${be})`,"translateX(0px)"),te=(0,x.c)().addElement(V.contentEl).fromTo("transform","translateX(0px)",`translateX(${fe})`),le=(0,x.c)().addElement(V.backdropEl).fromTo("opacity",.01,.32);return T("ios"===se).addAnimation([k,te,le])},R=V=>{const fe=(0,P.b)(V),be=V.width*(V.isEndSide?-1:1)+"px",se=(0,x.c)().addElement(V.contentEl).fromTo("transform","translateX(0px)",`translateX(${be})`);return T("ios"===fe).addAnimation(se)},A=(()=>{const V=new Map,fe=[],be=function(){var Pe=(0,S.Z)(function*(Ge){const st=yield Ae(Ge,!0);return!!st&&st.open()});return function(st){return Pe.apply(this,arguments)}}(),se=function(){var Pe=(0,S.Z)(function*(Ge){const st=yield void 0!==Ge?Ae(Ge,!0):Re();return void 0!==st&&st.close()});return function(st){return Pe.apply(this,arguments)}}(),H=function(){var Pe=(0,S.Z)(function*(Ge){const st=yield Ae(Ge,!0);return!!st&&st.toggle()});return function(st){return Pe.apply(this,arguments)}}(),k=function(){var Pe=(0,S.Z)(function*(Ge,st){const Ot=yield Ae(st);return Ot&&(Ot.disabled=!Ge),Ot});return function(st,Ot){return Pe.apply(this,arguments)}}(),te=function(){var Pe=(0,S.Z)(function*(Ge,st){const Ot=yield Ae(st);return Ot&&(Ot.swipeGesture=Ge),Ot});return function(st,Ot){return Pe.apply(this,arguments)}}(),le=function(){var Pe=(0,S.Z)(function*(Ge){if(null!=Ge){const st=yield Ae(Ge);return void 0!==st&&st.isOpen()}return void 0!==(yield Re())});return function(st){return Pe.apply(this,arguments)}}(),ae=function(){var Pe=(0,S.Z)(function*(Ge){const st=yield Ae(Ge);return!!st&&!st.disabled});return function(st){return Pe.apply(this,arguments)}}(),Ae=function(){var Pe=(0,S.Z)(function*(Ge,st=!1){if(yield We(),"start"===Ge||"end"===Ge){const pe=fe.filter(at=>at.side===Ge&&!at.disabled);if(pe.length>=1)return pe.length>1&&st&&(0,Y.p)(`menuController queried for a menu on the "${Ge}" side, but ${pe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,pe.map(at=>at.el)),pe[0].el;const He=fe.filter(at=>at.side===Ge);if(He.length>=1)return He.length>1&&st&&(0,Y.p)(`menuController queried for a menu on the "${Ge}" side, but ${He.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,He.map(at=>at.el)),He[0].el}else if(null!=Ge)return Fe(pe=>pe.menuId===Ge);return Fe(pe=>!pe.disabled)||(fe.length>0?fe[0].el:void 0)});return function(st){return Pe.apply(this,arguments)}}(),Re=function(){var Pe=(0,S.Z)(function*(){return yield We(),Be()});return function(){return Pe.apply(this,arguments)}}(),F=function(){var Pe=(0,S.Z)(function*(){return yield We(),mt()});return function(){return Pe.apply(this,arguments)}}(),N=function(){var Pe=(0,S.Z)(function*(){return yield We(),Mt()});return function(){return Pe.apply(this,arguments)}}(),ne=(Pe,Ge)=>{V.set(Pe,Ge)},Z=function(){var Pe=(0,S.Z)(function*(Ge,st,Ot){if(Mt())return!1;if(st){const pe=yield Re();pe&&Ge.el!==pe&&(yield pe.setOpen(!1,!1))}return Ge._setOpen(st,Ot)});return function(st,Ot,pe){return Pe.apply(this,arguments)}}(),Be=()=>Fe(Pe=>Pe._isOpen),mt=()=>fe.map(Pe=>Pe.el),Mt=()=>fe.some(Pe=>Pe.isAnimating),Fe=Pe=>{const Ge=fe.find(Pe);if(void 0!==Ge)return Ge.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Pe=>new Promise(Ge=>(0,U.c)(Pe,Ge))));return ne("reveal",R),ne("push",$),ne("overlay",Q),null==u.d||u.d.addEventListener("ionBackButton",Pe=>{const Ge=Be();Ge&&Pe.detail.register(q.MENU_BACK_BUTTON_PRIORITY,()=>Ge.close())}),{registerAnimation:ne,get:Ae,getMenus:F,getOpen:Re,isEnabled:ae,swipeGesture:te,isAnimating:N,isOpen:le,enable:k,toggle:H,close:se,open:be,_getOpenSync:Be,_createAnimation:(Pe,Ge)=>{const st=V.get(Pe);if(!st)throw new Error("animation not registered");return st(Ge)},_register:Pe=>{fe.indexOf(Pe)<0&&fe.push(Pe)},_unregister:Pe=>{const Ge=fe.indexOf(Pe);Ge>-1&&fe.splice(Ge,1)},_setOpen:Z}})()},4923:(ve,De,C)=>{"use strict";C.r(De),C.d(De,{GESTURE_CONTROLLER:()=>S.G,createGesture:()=>Q});var S=C(4967);const u=(A,V,fe,be)=>{const se=q(A)?{capture:!!be.capture,passive:!!be.passive}:!!be.capture;let H,k;return A.__zone_symbol__addEventListener?(H="__zone_symbol__addEventListener",k="__zone_symbol__removeEventListener"):(H="addEventListener",k="removeEventListener"),A[H](V,fe,se),()=>{A[k](V,fe,se)}},q=A=>{if(void 0===Y)try{const V=Object.defineProperty({},"passive",{get:()=>{Y=!0}});A.addEventListener("optsTest",()=>{},V)}catch{Y=!1}return!!Y};let Y;const x=A=>A instanceof Document?A:A.ownerDocument,Q=A=>{let V=!1,fe=!1,be=!0,se=!1;const H=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},A),k=H.canStart,te=H.onWillStart,le=H.onStart,ae=H.onEnd,Ae=H.notCaptured,Re=H.onMove,F=H.threshold,N=H.passive,ne=H.blurOnStart,I={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},K=((A,V,fe)=>{const be=fe*(Math.PI/180),se="x"===A,H=Math.cos(be),k=V*V;let te=0,le=0,ae=!1,Ae=0;return{start(Re,F){te=Re,le=F,Ae=0,ae=!0},detect(Re,F){if(!ae)return!1;const N=Re-te,ne=F-le,I=N*N+ne*ne;if(I<k)return!1;const K=Math.sqrt(I),Z=(se?N:ne)/K;return Ae=Z>H?1:Z<-H?-1:0,ae=!1,!0},isGesture:()=>0!==Ae,getDirection:()=>Ae}})(H.direction,H.threshold,H.maxAngle),Z=S.G.createGesture({name:A.gestureName,priority:A.gesturePriority,disableScroll:A.disableScroll}),mt=()=>{V&&(se=!1,Re&&Re(I))},Mt=()=>!!Z.capture()&&(V=!0,be=!1,I.startX=I.currentX,I.startY=I.currentY,I.startTime=I.currentTime,te?te(I).then(We):We(),!0),We=()=>{ne&&(()=>{if(typeof document<"u"){const pe=document.activeElement;pe?.blur&&pe.blur()}})(),le&&le(I),be=!0},Pe=()=>{V=!1,fe=!1,se=!1,be=!0,Z.release()},Ge=pe=>{const He=V,at=be;if(Pe(),at){if($(I,pe),He)return void(ae&&ae(I));Ae&&Ae(I)}},st=((A,V,fe,be,se)=>{let H,k,te,le,ae,Ae,Re,F=0;const N=Fe=>{F=Date.now()+2e3,V(Fe)&&(!k&&fe&&(k=u(A,"touchmove",fe,se)),te||(te=u(Fe.target,"touchend",I,se)),le||(le=u(Fe.target,"touchcancel",I,se)))},ne=Fe=>{F>Date.now()||V(Fe)&&(!Ae&&fe&&(Ae=u(x(A),"mousemove",fe,se)),Re||(Re=u(x(A),"mouseup",K,se)))},I=Fe=>{Z(),be&&be(Fe)},K=Fe=>{me(),be&&be(Fe)},Z=()=>{k&&k(),te&&te(),le&&le(),k=te=le=void 0},me=()=>{Ae&&Ae(),Re&&Re(),Ae=Re=void 0},Be=()=>{Z(),me()},mt=(Fe=!0)=>{Fe?(H||(H=u(A,"touchstart",N,se)),ae||(ae=u(A,"mousedown",ne,se))):(H&&H(),ae&&ae(),H=ae=void 0,Be())};return{enable:mt,stop:Be,destroy:()=>{mt(!1),be=fe=V=void 0}}})(H.el,pe=>{const He=O(pe);return!(fe||!be||(R(pe,I),I.startX=I.currentX,I.startY=I.currentY,I.startTime=I.currentTime=He,I.velocityX=I.velocityY=I.deltaX=I.deltaY=0,I.event=pe,k&&!1===k(I))||(Z.release(),!Z.start()))&&(fe=!0,0===F?Mt():(K.start(I.startX,I.startY),!0))},pe=>{V?!se&&be&&(se=!0,$(I,pe),requestAnimationFrame(mt)):($(I,pe),K.detect(I.currentX,I.currentY)&&(!K.isGesture()||!Mt())&&Ot())},Ge,{capture:!1,passive:N}),Ot=()=>{Pe(),st.stop(),Ae&&Ae(I)};return{enable(pe=!0){pe||(V&&Ge(void 0),Pe()),st.enable(pe)},destroy(){Z.destroy(),st.destroy()}}},$=(A,V)=>{if(!V)return;const fe=A.currentX,be=A.currentY,se=A.currentTime;R(V,A);const H=A.currentX,k=A.currentY,le=(A.currentTime=O(V))-se;if(le>0&&le<100){const Ae=(k-be)/le;A.velocityX=(H-fe)/le*.7+.3*A.velocityX,A.velocityY=.7*Ae+.3*A.velocityY}A.deltaX=H-A.startX,A.deltaY=k-A.startY,A.event=V},R=(A,V)=>{let fe=0,be=0;if(A){const se=A.changedTouches;if(se&&se.length>0){const H=se[0];fe=H.clientX,be=H.clientY}else void 0!==A.pageX&&(fe=A.pageX,be=A.pageY)}V.currentX=fe,V.currentY=be},O=A=>A.timeStamp||Date.now()},8044:(ve,De,C)=>{"use strict";C.d(De,{b:()=>P,c:()=>x,d:()=>T,e:()=>F,g:()=>I,l:()=>Ae,s:()=>N,t:()=>R,w:()=>Re});var S=C(3918),u=C(3426),q=C(4675);const P="ionViewWillLeave",x="ionViewDidLeave",T="ionViewWillUnload",R=K=>new Promise((Z,me)=>{(0,u.w)(()=>{O(K),A(K).then(Be=>{Be.animation&&Be.animation.destroy(),V(K),Z(Be)},Be=>{V(K),me(Be)})})}),O=K=>{const Z=K.enteringEl,me=K.leavingEl;ne(Z,me,K.direction),K.showGoBack?Z.classList.add("can-go-back"):Z.classList.remove("can-go-back"),N(Z,!1),Z.style.setProperty("pointer-events","none"),me&&(N(me,!1),me.style.setProperty("pointer-events","none"))},A=function(){var K=(0,S.Z)(function*(Z){const me=yield fe(Z);return me&&u.B.isBrowser?be(me,Z):se(Z)});return function(me){return K.apply(this,arguments)}}(),V=K=>{const Z=K.enteringEl,me=K.leavingEl;Z.classList.remove("ion-page-invisible"),Z.style.removeProperty("pointer-events"),void 0!==me&&(me.classList.remove("ion-page-invisible"),me.style.removeProperty("pointer-events"))},fe=function(){var K=(0,S.Z)(function*(Z){return Z.leavingEl&&Z.animated&&0!==Z.duration?Z.animationBuilder?Z.animationBuilder:"ios"===Z.mode?(yield Promise.resolve().then(C.bind(C,5444))).iosTransitionAnimation:(yield Promise.resolve().then(C.bind(C,5922))).mdTransitionAnimation:void 0});return function(me){return K.apply(this,arguments)}}(),be=function(){var K=(0,S.Z)(function*(Z,me){yield H(me,!0);const Be=Z(me.baseEl,me);le(me.enteringEl,me.leavingEl);const mt=yield te(Be,me);return me.progressCallback&&me.progressCallback(void 0),mt&&ae(me.enteringEl,me.leavingEl),{hasCompleted:mt,animation:Be}});return function(me,Be){return K.apply(this,arguments)}}(),se=function(){var K=(0,S.Z)(function*(Z){const me=Z.enteringEl,Be=Z.leavingEl;return yield H(Z,!1),le(me,Be),ae(me,Be),{hasCompleted:!0}});return function(me){return K.apply(this,arguments)}}(),H=function(){var K=(0,S.Z)(function*(Z,me){(void 0!==Z.deepWait?Z.deepWait:me)&&(yield Promise.all([F(Z.enteringEl),F(Z.leavingEl)])),yield k(Z.viewIsReady,Z.enteringEl)});return function(me,Be){return K.apply(this,arguments)}}(),k=function(){var K=(0,S.Z)(function*(Z,me){Z&&(yield Z(me))});return function(me,Be){return K.apply(this,arguments)}}(),te=(K,Z)=>{const me=Z.progressCallback,Be=new Promise(mt=>{K.onFinish(Mt=>mt(1===Mt))});return me?(K.progressStart(!0),me(K)):K.play(),Be},le=(K,Z)=>{Ae(Z,P),Ae(K,"ionViewWillEnter")},ae=(K,Z)=>{Ae(K,"ionViewDidEnter"),Ae(Z,x)},Ae=(K,Z)=>{if(K){const me=new CustomEvent(Z,{bubbles:!1,cancelable:!1});K.dispatchEvent(me)}},Re=()=>new Promise(K=>(0,q.r)(()=>(0,q.r)(()=>K()))),F=function(){var K=(0,S.Z)(function*(Z){const me=Z;if(me){if(null!=me.componentOnReady){if(null!=(yield me.componentOnReady()))return}else if(null!=me.__registerHost)return void(yield new Promise(mt=>(0,q.r)(mt)));yield Promise.all(Array.from(me.children).map(F))}});return function(me){return K.apply(this,arguments)}}(),N=(K,Z)=>{Z?(K.setAttribute("aria-hidden","true"),K.classList.add("ion-page-hidden")):(K.hidden=!1,K.removeAttribute("aria-hidden"),K.classList.remove("ion-page-hidden"))},ne=(K,Z,me)=>{void 0!==K&&(K.style.zIndex="back"===me?"99":"101"),void 0!==Z&&(Z.style.zIndex="100")},I=K=>K.classList.contains("ion-page")?K:K.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||K},6240:(ve,De,C)=>{"use strict";C.d(De,{a:()=>u,b:()=>q,p:()=>S});const S=(Y,...U)=>console.warn(`[Ionic Warning]: ${Y}`,...U),u=(Y,...U)=>console.error(`[Ionic Error]: ${Y}`,...U),q=(Y,...U)=>console.error(`<${Y.tagName.toLowerCase()}> must be used inside ${U.join(" or ")}.`)},6940:(ve,De,C)=>{"use strict";C.d(De,{d:()=>u,w:()=>S});const S=typeof window<"u"?window:void 0,u=typeof document<"u"?document:void 0},3426:(ve,De,C)=>{"use strict";C.d(De,{B:()=>O,H:()=>Mt,a:()=>Vs,b:()=>us,c:()=>at,d:()=>kt,e:()=>Sl,f:()=>Zt,g:()=>Ye,h:()=>Be,i:()=>Po,j:()=>A,r:()=>oi,w:()=>Ki});var S=C(3918);let Y,U,P,x=!1,T=!1,Q=!1,$=!1,R=!1;const O={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},A=g=>{const w=new URL(g,Tn.$resourcesUrl$);return w.origin!==qo.location.origin?w.href:w.pathname},te="s-id",le="sty-id",Re="slot-fb{display:contents}slot-fb[hidden]{display:none}",F="http://www.w3.org/1999/xlink",N={},Z=g=>"object"==(g=typeof g)||"function"===g;function me(g){var w,E,ie;return null!==(ie=null===(E=null===(w=g.head)||void 0===w?void 0:w.querySelector('meta[name="csp-nonce"]'))||void 0===E?void 0:E.getAttribute("content"))&&void 0!==ie?ie:void 0}const Be=(g,w,...E)=>{let ie=null,ke=null,ce=null,Qe=!1,Ke=!1;const nt=[],Ve=Dt=>{for(let X=0;X<Dt.length;X++)ie=Dt[X],Array.isArray(ie)?Ve(ie):null!=ie&&"boolean"!=typeof ie&&((Qe="function"!=typeof g&&!Z(ie))&&(ie=String(ie)),Qe&&Ke?nt[nt.length-1].$text$+=ie:nt.push(Qe?mt(null,ie):ie),Ke=Qe)};if(Ve(E),w){w.key&&(ke=w.key),w.name&&(ce=w.name);{const Dt=w.className||w.class;Dt&&(w.class="object"!=typeof Dt?Dt:Object.keys(Dt).filter(X=>Dt[X]).join(" "))}}if("function"==typeof g)return g(null===w?{}:w,nt,We);const pt=mt(g,null);return pt.$attrs$=w,nt.length>0&&(pt.$children$=nt),pt.$key$=ke,pt.$name$=ce,pt},mt=(g,w)=>({$flags$:0,$tag$:g,$text$:w,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Mt={},We={forEach:(g,w)=>g.map(Pe).forEach(w),map:(g,w)=>g.map(Pe).map(w).map(Ge)},Pe=g=>({vattrs:g.$attrs$,vchildren:g.$children$,vkey:g.$key$,vname:g.$name$,vtag:g.$tag$,vtext:g.$text$}),Ge=g=>{if("function"==typeof g.vtag){const E=Object.assign({},g.vattrs);return g.vkey&&(E.key=g.vkey),g.vname&&(E.name=g.vname),Be(g.vtag,E,...g.vchildren||[])}const w=mt(g.vtag,g.vtext);return w.$attrs$=g.vattrs,w.$children$=g.vchildren,w.$key$=g.vkey,w.$name$=g.vname,w},Ot=(g,w,E,ie,ke,ce,Qe)=>{let Ke,nt,Ve,pt;if(1===ce.nodeType){for(Ke=ce.getAttribute("c-id"),Ke&&(nt=Ke.split("."),(nt[0]===Qe||"0"===nt[0])&&(Ve={$flags$:0,$hostId$:nt[0],$nodeId$:nt[1],$depth$:nt[2],$index$:nt[3],$tag$:ce.tagName.toLowerCase(),$elm$:ce,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},w.push(Ve),ce.removeAttribute("c-id"),g.$children$||(g.$children$=[]),g.$children$[Ve.$index$]=Ve,g=Ve,ie&&"0"===Ve.$depth$&&(ie[Ve.$index$]=Ve.$elm$))),pt=ce.childNodes.length-1;pt>=0;pt--)Ot(g,w,E,ie,ke,ce.childNodes[pt],Qe);if(ce.shadowRoot)for(pt=ce.shadowRoot.childNodes.length-1;pt>=0;pt--)Ot(g,w,E,ie,ke,ce.shadowRoot.childNodes[pt],Qe)}else if(8===ce.nodeType)nt=ce.nodeValue.split("."),(nt[1]===Qe||"0"===nt[1])&&(Ke=nt[0],Ve={$flags$:0,$hostId$:nt[1],$nodeId$:nt[2],$depth$:nt[3],$index$:nt[4],$elm$:ce,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ke?(Ve.$elm$=ce.nextSibling,Ve.$elm$&&3===Ve.$elm$.nodeType&&(Ve.$text$=Ve.$elm$.textContent,w.push(Ve),ce.remove(),g.$children$||(g.$children$=[]),g.$children$[Ve.$index$]=Ve,ie&&"0"===Ve.$depth$&&(ie[Ve.$index$]=Ve.$elm$))):Ve.$hostId$===Qe&&("s"===Ke?(Ve.$tag$="slot",ce["s-sn"]=nt[5]?Ve.$name$=nt[5]:"",ce["s-sr"]=!0,ie&&(Ve.$elm$=vr.createElement(Ve.$tag$),Ve.$name$&&Ve.$elm$.setAttribute("name",Ve.$name$),ce.parentNode.insertBefore(Ve.$elm$,ce),ce.remove(),"0"===Ve.$depth$&&(ie[Ve.$index$]=Ve.$elm$)),E.push(Ve),g.$children$||(g.$children$=[]),g.$children$[Ve.$index$]=Ve):"r"===Ke&&(ie?ce.remove():(ke["s-cr"]=ce,ce["s-cn"]=!0))));else if(g&&"style"===g.$tag$){const Dt=mt(null,ce.textContent);Dt.$elm$=ce,Dt.$index$="0",g.$children$=[Dt]}},pe=(g,w)=>{if(1===g.nodeType){let E=0;for(;E<g.childNodes.length;E++)pe(g.childNodes[E],w);if(g.shadowRoot)for(E=0;E<g.shadowRoot.childNodes.length;E++)pe(g.shadowRoot.childNodes[E],w)}else if(8===g.nodeType){const E=g.nodeValue.split(".");"o"===E[0]&&(w.set(E[1]+"."+E[2],g),g.nodeValue="",g["s-en"]=E[3])}},at=g=>wo.push(g),Ye=g=>Xr(g).$modeName$,Zt=g=>Xr(g).$hostElement$,kt=(g,w,E)=>{const ie=Zt(g);return{emit:ke=>xe(ie,w,{bubbles:!!(4&E),composed:!!(2&E),cancelable:!!(1&E),detail:ke})}},xe=(g,w,E)=>{const ie=Tn.ce(w,E);return g.dispatchEvent(ie),ie},_e=new WeakMap,Te=(g,w,E)=>{let ie=Qr.get(g);oa&&E?(ie=ie||new CSSStyleSheet,"string"==typeof ie?ie=w:ie.replaceSync(w)):ie=w,Qr.set(g,ie)},Je=(g,w,E)=>{var ie;const ke=qt(w,E),ce=Qr.get(ke);if(g=11===g.nodeType?g:vr,ce)if("string"==typeof ce){let Ke,Qe=_e.get(g=g.head||g);if(Qe||_e.set(g,Qe=new Set),!Qe.has(ke)){if(g.host&&(Ke=g.querySelector(`[${le}="${ke}"]`)))Ke.innerHTML=ce;else{Ke=vr.createElement("style"),Ke.innerHTML=ce;const nt=null!==(ie=Tn.$nonce$)&&void 0!==ie?ie:me(vr);null!=nt&&Ke.setAttribute("nonce",nt),g.insertBefore(Ke,g.querySelector("link"))}4&w.$flags$&&(Ke.innerHTML+=Re),Qe&&Qe.add(ke)}}else g.adoptedStyleSheets.includes(ce)||(g.adoptedStyleSheets=[...g.adoptedStyleSheets,ce]);return ke},qt=(g,w)=>"sc-"+(w&&32&g.$flags$?g.$tagName$+"-"+w:g.$tagName$),ln=g=>g.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Vt=(g,w,E,ie,ke,ce)=>{if(E!==ie){let Qe=Mi(g,w),Ke=w.toLowerCase();if("class"===w){const nt=g.classList,Ve=bn(E),pt=bn(ie);nt.remove(...Ve.filter(Dt=>Dt&&!pt.includes(Dt))),nt.add(...pt.filter(Dt=>Dt&&!Ve.includes(Dt)))}else if("style"===w){for(const nt in E)(!ie||null==ie[nt])&&(nt.includes("-")?g.style.removeProperty(nt):g.style[nt]="");for(const nt in ie)(!E||ie[nt]!==E[nt])&&(nt.includes("-")?g.style.setProperty(nt,ie[nt]):g.style[nt]=ie[nt])}else if("key"!==w)if("ref"===w)ie&&ie(g);else if(Qe||"o"!==w[0]||"n"!==w[1]){const nt=Z(ie);if((Qe||nt&&null!==ie)&&!ke)try{if(g.tagName.includes("-"))g[w]=ie;else{const pt=ie??"";"list"===w?Qe=!1:(null==E||g[w]!=pt)&&(g[w]=pt)}}catch{}let Ve=!1;Ke!==(Ke=Ke.replace(/^xlink\:?/,""))&&(w=Ke,Ve=!0),null==ie||!1===ie?(!1!==ie||""===g.getAttribute(w))&&(Ve?g.removeAttributeNS(F,w):g.removeAttribute(w)):(!Qe||4&ce||ke)&&!nt&&(ie=!0===ie?"":ie,Ve?g.setAttributeNS(F,w,ie):g.setAttribute(w,ie))}else if(w="-"===w[2]?w.slice(3):Mi(qo,Ke)?Ke.slice(2):Ke[2]+w.slice(3),E||ie){const nt=w.endsWith(mr);w=w.replace(Pn,""),E&&Tn.rel(g,w,E,nt),ie&&Tn.ael(g,w,ie,nt)}}},cn=/\s/,bn=g=>g?g.split(cn):[],mr="Capture",Pn=new RegExp(mr+"$"),zo=(g,w,E,ie)=>{const ke=11===w.$elm$.nodeType&&w.$elm$.host?w.$elm$.host:w.$elm$,ce=g&&g.$attrs$||N,Qe=w.$attrs$||N;for(ie in ce)ie in Qe||Vt(ke,ie,ce[ie],void 0,E,w.$flags$);for(ie in Qe)Vt(ke,ie,ce[ie],Qe[ie],E,w.$flags$)},Vr=(g,w,E,ie)=>{var ke;const ce=w.$children$[E];let Ke,nt,Ve,Qe=0;if(x||(Q=!0,"slot"===ce.$tag$&&(Y&&ie.classList.add(Y+"-s"),ce.$flags$|=ce.$children$?2:1)),null!==ce.$text$)Ke=ce.$elm$=vr.createTextNode(ce.$text$);else if(1&ce.$flags$)Ke=ce.$elm$=vr.createTextNode("");else{if($||($="svg"===ce.$tag$),Ke=ce.$elm$=vr.createElementNS($?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ce.$flags$?"slot-fb":ce.$tag$),$&&"foreignObject"===ce.$tag$&&($=!1),zo(null,ce,$),(g=>null!=g)(Y)&&Ke["s-si"]!==Y&&Ke.classList.add(Ke["s-si"]=Y),ce.$children$)for(Qe=0;Qe<ce.$children$.length;++Qe)nt=Vr(g,ce,Qe,Ke),nt&&Ke.appendChild(nt);"svg"===ce.$tag$?$=!1:"foreignObject"===Ke.tagName&&($=!0)}return Ke["s-hn"]=P,3&ce.$flags$&&(Ke["s-sr"]=!0,Ke["s-fs"]=null===(ke=ce.$attrs$)||void 0===ke?void 0:ke.slot,Ke["s-cr"]=U,Ke["s-sn"]=ce.$name$||"",Ve=g&&g.$children$&&g.$children$[E],Ve&&Ve.$tag$===ce.$tag$&&g.$elm$&&po(g.$elm$,!1)),Ke},po=(g,w)=>{var E;Tn.$flags$|=1;const ie=g.childNodes;for(let ke=ie.length-1;ke>=0;ke--){const ce=ie[ke];ce["s-hn"]!==P&&ce["s-ol"]&&(ho(ce).insertBefore(ce,so(ce)),ce["s-ol"].remove(),ce["s-ol"]=void 0,ce["s-sh"]=void 0,1===ce.nodeType&&ce.setAttribute("slot",null!==(E=ce["s-sn"])&&void 0!==E?E:""),Q=!0),w&&po(ce,w)}Tn.$flags$&=-2},Rr=(g,w,E,ie,ke,ce)=>{let Ke,Qe=g["s-cr"]&&g["s-cr"].parentNode||g;for(Qe.shadowRoot&&Qe.tagName===P&&(Qe=Qe.shadowRoot);ke<=ce;++ke)ie[ke]&&(Ke=Vr(null,E,ke,g),Ke&&(ie[ke].$elm$=Ke,Qe.insertBefore(Ke,so(w))))},Pr=(g,w,E)=>{for(let ie=w;ie<=E;++ie){const ke=g[ie];if(ke){const ce=ke.$elm$;_n(ke),ce&&(T=!0,ce["s-ol"]?ce["s-ol"].remove():po(ce,!0),ce.remove())}}},So=(g,w)=>g.$tag$===w.$tag$&&("slot"===g.$tag$?g.$name$===w.$name$:g.$key$===w.$key$),so=g=>g&&g["s-ol"]||g,ho=g=>(g["s-ol"]?g["s-ol"]:g).parentNode,jr=(g,w)=>{const E=w.$elm$=g.$elm$,ie=g.$children$,ke=w.$children$,ce=w.$tag$,Qe=w.$text$;let Ke;null===Qe?($="svg"===ce||"foreignObject"!==ce&&$,"slot"===ce||zo(g,w,$),null!==ie&&null!==ke?((g,w,E,ie)=>{let ur,Or,ke=0,ce=0,Qe=0,Ke=0,nt=w.length-1,Ve=w[0],pt=w[nt],Dt=ie.length-1,X=ie[0],kn=ie[Dt];for(;ke<=nt&&ce<=Dt;)if(null==Ve)Ve=w[++ke];else if(null==pt)pt=w[--nt];else if(null==X)X=ie[++ce];else if(null==kn)kn=ie[--Dt];else if(So(Ve,X))jr(Ve,X),Ve=w[++ke],X=ie[++ce];else if(So(pt,kn))jr(pt,kn),pt=w[--nt],kn=ie[--Dt];else if(So(Ve,kn))("slot"===Ve.$tag$||"slot"===kn.$tag$)&&po(Ve.$elm$.parentNode,!1),jr(Ve,kn),g.insertBefore(Ve.$elm$,pt.$elm$.nextSibling),Ve=w[++ke],kn=ie[--Dt];else if(So(pt,X))("slot"===Ve.$tag$||"slot"===kn.$tag$)&&po(pt.$elm$.parentNode,!1),jr(pt,X),g.insertBefore(pt.$elm$,Ve.$elm$),pt=w[--nt],X=ie[++ce];else{for(Qe=-1,Ke=ke;Ke<=nt;++Ke)if(w[Ke]&&null!==w[Ke].$key$&&w[Ke].$key$===X.$key$){Qe=Ke;break}Qe>=0?(Or=w[Qe],Or.$tag$!==X.$tag$?ur=Vr(w&&w[ce],E,Qe,g):(jr(Or,X),w[Qe]=void 0,ur=Or.$elm$),X=ie[++ce]):(ur=Vr(w&&w[ce],E,ce,g),X=ie[++ce]),ur&&ho(Ve.$elm$).insertBefore(ur,so(Ve.$elm$))}ke>nt?Rr(g,null==ie[Dt+1]?null:ie[Dt+1].$elm$,E,ie,ce,Dt):ce>Dt&&Pr(w,ke,nt)})(E,ie,w,ke):null!==ke?(null!==g.$text$&&(E.textContent=""),Rr(E,null,w,ke,0,ke.length-1)):null!==ie&&Pr(ie,0,ie.length-1),$&&"svg"===ce&&($=!1)):(Ke=E["s-cr"])?Ke.parentNode.textContent=Qe:g.$text$!==Qe&&(E.data=Qe)},de=g=>{const w=g.childNodes;for(const E of w)if(1===E.nodeType){if(E["s-sr"]){const ie=E["s-sn"];E.hidden=!1;for(const ke of w)if(ke!==E)if(ke["s-hn"]!==E["s-hn"]||""!==ie){if(1===ke.nodeType&&(ie===ke.getAttribute("slot")||ie===ke["s-sn"])){E.hidden=!0;break}}else if(1===ke.nodeType||3===ke.nodeType&&""!==ke.textContent.trim()){E.hidden=!0;break}}de(E)}},we=[],nn=g=>{let w,E,ie;for(const ke of g.childNodes){if(ke["s-sr"]&&(w=ke["s-cr"])&&w.parentNode){E=w.parentNode.childNodes;const ce=ke["s-sn"];for(ie=E.length-1;ie>=0;ie--)if(w=E[ie],!w["s-cn"]&&!w["s-nr"]&&w["s-hn"]!==ke["s-hn"])if(Yt(w,ce)){let Qe=we.find(Ke=>Ke.$nodeToRelocate$===w);T=!0,w["s-sn"]=w["s-sn"]||ce,Qe?(Qe.$nodeToRelocate$["s-sh"]=ke["s-hn"],Qe.$slotRefNode$=ke):(w["s-sh"]=ke["s-hn"],we.push({$slotRefNode$:ke,$nodeToRelocate$:w})),w["s-sr"]&&we.map(Ke=>{Yt(Ke.$nodeToRelocate$,w["s-sn"])&&(Qe=we.find(nt=>nt.$nodeToRelocate$===w),Qe&&!Ke.$slotRefNode$&&(Ke.$slotRefNode$=Qe.$slotRefNode$))})}else we.some(Qe=>Qe.$nodeToRelocate$===w)||we.push({$nodeToRelocate$:w})}1===ke.nodeType&&nn(ke)}},Yt=(g,w)=>1===g.nodeType?null===g.getAttribute("slot")&&""===w||g.getAttribute("slot")===w:g["s-sn"]===w||""===w,_n=g=>{g.$attrs$&&g.$attrs$.ref&&g.$attrs$.ref(null),g.$children$&&g.$children$.map(_n)},wr=(g,w)=>{w&&!g.$onRenderResolve$&&w["s-p"]&&w["s-p"].push(new Promise(E=>g.$onRenderResolve$=E))},zn=(g,w)=>{if(g.$flags$|=16,!(4&g.$flags$))return wr(g,g.$ancestorComponent$),Ki(()=>Kr(g,w));g.$flags$|=512},Kr=(g,w)=>{const ie=g.$lazyInstance$;let ke;return w&&(g.$flags$|=256,g.$queuedListeners$&&(g.$queuedListeners$.map(([ce,Qe])=>gr(ie,ce,Qe)),g.$queuedListeners$=void 0),ke=gr(ie,"componentWillLoad")),ke=mo(ke,()=>gr(ie,"componentWillRender")),mo(ke,()=>ao(g,ie,w))},mo=(g,w)=>In(g)?g.then(w):w(),In=g=>g instanceof Promise||g&&g.then&&"function"==typeof g.then,ao=function(){var g=(0,S.Z)(function*(w,E,ie){var ke;const ce=w.$hostElement$,Ke=ce["s-rc"];ie&&(g=>{const w=g.$cmpMeta$,E=g.$hostElement$,ie=w.$flags$,ce=Je(E.shadowRoot?E.shadowRoot:E.getRootNode(),w,g.$modeName$);10&ie&&(E["s-sc"]=ce,E.classList.add(ce+"-h"),2&ie&&E.classList.add(ce+"-s"))})(w);lo(w,E,ce,ie),Ke&&(Ke.map(Ve=>Ve()),ce["s-rc"]=void 0);{const Ve=null!==(ke=ce["s-p"])&&void 0!==ke?ke:[],pt=()=>Ii(w);0===Ve.length?pt():(Promise.all(Ve).then(pt),w.$flags$|=4,Ve.length=0)}});return function(E,ie,ke){return g.apply(this,arguments)}}(),lo=(g,w,E,ie)=>{try{w=w.render&&w.render(),g.$flags$&=-17,g.$flags$|=2,((g,w,E=!1)=>{var ie,ke,ce,Qe;const Ke=g.$hostElement$,nt=g.$cmpMeta$,Ve=g.$vnode$||mt(null,null),pt=(g=>g&&g.$tag$===Mt)(w)?w:Be(null,null,w);if(P=Ke.tagName,nt.$attrsToReflect$&&(pt.$attrs$=pt.$attrs$||{},nt.$attrsToReflect$.map(([Dt,X])=>pt.$attrs$[X]=Ke[Dt])),E&&pt.$attrs$)for(const Dt of Object.keys(pt.$attrs$))Ke.hasAttribute(Dt)&&!["key","ref","style","class"].includes(Dt)&&(pt.$attrs$[Dt]=Ke[Dt]);if(pt.$tag$=null,pt.$flags$|=4,g.$vnode$=pt,pt.$elm$=Ve.$elm$=Ke.shadowRoot||Ke,Y=Ke["s-sc"],U=Ke["s-cr"],x=0!=(1&nt.$flags$),T=!1,jr(Ve,pt),Tn.$flags$|=1,Q){nn(pt.$elm$);for(const Dt of we){const X=Dt.$nodeToRelocate$;if(!X["s-ol"]){const kn=vr.createTextNode("");kn["s-nr"]=X,X.parentNode.insertBefore(X["s-ol"]=kn,X)}}for(const Dt of we){const X=Dt.$nodeToRelocate$,kn=Dt.$slotRefNode$;if(kn){const ur=kn.parentNode;let Or=kn.nextSibling;{let Gr=null===(ie=X["s-ol"])||void 0===ie?void 0:ie.previousSibling;for(;Gr;){let Xn=null!==(ke=Gr["s-nr"])&&void 0!==ke?ke:null;if(Xn&&Xn["s-sn"]===X["s-sn"]&&ur===Xn.parentNode&&(Xn=Xn.nextSibling,!Xn||!Xn["s-nr"])){Or=Xn;break}Gr=Gr.previousSibling}}(!Or&&ur!==X.parentNode||X.nextSibling!==Or)&&X!==Or&&(!X["s-hn"]&&X["s-ol"]&&(X["s-hn"]=X["s-ol"].parentNode.nodeName),ur.insertBefore(X,Or),1===X.nodeType&&(X.hidden=null!==(ce=X["s-ih"])&&void 0!==ce&&ce))}else 1===X.nodeType&&(E&&(X["s-ih"]=null!==(Qe=X.hidden)&&void 0!==Qe&&Qe),X.hidden=!0)}}T&&de(pt.$elm$),Tn.$flags$&=-2,we.length=0})(g,w,ie)}catch(ke){go(ke,g.$hostElement$)}return null},Ii=g=>{const E=g.$hostElement$,ke=g.$lazyInstance$,ce=g.$ancestorComponent$;gr(ke,"componentDidRender"),64&g.$flags$?gr(ke,"componentDidUpdate"):(g.$flags$|=64,_r(E),gr(ke,"componentDidLoad"),g.$onReadyResolve$(E),ce||On()),g.$onInstanceResolve$(E),g.$onRenderResolve$&&(g.$onRenderResolve$(),g.$onRenderResolve$=void 0),512&g.$flags$&&et(()=>zn(g,!1)),g.$flags$&=-517},Po=g=>{{const w=Xr(g),E=w.$hostElement$.isConnected;return E&&2==(18&w.$flags$)&&zn(w,!1),E}},On=g=>{_r(vr.documentElement),et(()=>xe(qo,"appload",{detail:{namespace:"ionic"}}))},gr=(g,w,E)=>{if(g&&g[w])try{return g[w](E)}catch(ie){go(ie)}},_r=g=>g.classList.add("hydrated"),Wo=(g,w,E)=>{var ie;const ke=g.prototype;if(w.$members$){g.watchers&&(w.$watchers$=g.watchers);const ce=Object.entries(w.$members$);if(ce.map(([Qe,[Ke]])=>{31&Ke||2&E&&32&Ke?Object.defineProperty(ke,Qe,{get(){return((g,w)=>Xr(this).$instanceValues$.get(w))(0,Qe)},set(nt){((g,w,E,ie)=>{const ke=Xr(g),ce=ke.$hostElement$,Qe=ke.$instanceValues$.get(w),Ke=ke.$flags$,nt=ke.$lazyInstance$;E=((g,w)=>null==g||Z(g)?g:4&w?"false"!==g&&(""===g||!!g):2&w?parseFloat(g):1&w?String(g):g)(E,ie.$members$[w][0]);const Ve=Number.isNaN(Qe)&&Number.isNaN(E);if((!(8&Ke)||void 0===Qe)&&E!==Qe&&!Ve&&(ke.$instanceValues$.set(w,E),nt)){if(ie.$watchers$&&128&Ke){const Dt=ie.$watchers$[w];Dt&&Dt.map(X=>{try{nt[X](E,Qe,w)}catch(kn){go(kn,ce)}})}2==(18&Ke)&&zn(ke,!1)}})(this,Qe,nt,w)},configurable:!0,enumerable:!0}):1&E&&64&Ke&&Object.defineProperty(ke,Qe,{value(...nt){var Ve;const pt=Xr(this);return null===(Ve=pt?.$onInstancePromise$)||void 0===Ve?void 0:Ve.then(()=>{var Dt;return null===(Dt=pt.$lazyInstance$)||void 0===Dt?void 0:Dt[Qe](...nt)})}})}),1&E){const Qe=new Map;ke.attributeChangedCallback=function(Ke,nt,Ve){Tn.jmp(()=>{var pt;const Dt=Qe.get(Ke);if(this.hasOwnProperty(Dt))Ve=this[Dt],delete this[Dt];else{if(ke.hasOwnProperty(Dt)&&"number"==typeof this[Dt]&&this[Dt]==Ve)return;if(null==Dt){const X=Xr(this),kn=X?.$flags$;if(kn&&!(8&kn)&&128&kn&&Ve!==nt){const ur=X.$lazyInstance$,Or=null===(pt=w.$watchers$)||void 0===pt?void 0:pt[Ke];Or?.forEach(Gr=>{null!=ur[Gr]&&ur[Gr].call(ur,Ve,nt,Ke)})}return}}this[Dt]=(null!==Ve||"boolean"!=typeof this[Dt])&&Ve})},g.observedAttributes=Array.from(new Set([...Object.keys(null!==(ie=w.$watchers$)&&void 0!==ie?ie:{}),...ce.filter(([Ke,nt])=>15&nt[0]).map(([Ke,nt])=>{var Ve;const pt=nt[1]||Ke;return Qe.set(pt,Ke),512&nt[0]&&(null===(Ve=w.$attrsToReflect$)||void 0===Ve||Ve.push([Ke,pt])),pt})]))}}return g},un=function(){var g=(0,S.Z)(function*(w,E,ie,ke){let ce;if(!(32&E.$flags$)){E.$flags$|=32;{if(ce=Bs(ie),ce.then){const Ve=()=>{};ce=yield ce,Ve()}ce.isProxied||(ie.$watchers$=ce.watchers,Wo(ce,ie,2),ce.isProxied=!0);const nt=()=>{};E.$flags$|=8;try{new ce(E)}catch(Ve){go(Ve)}E.$flags$&=-9,E.$flags$|=128,nt(),ni(E.$lazyInstance$)}if(ce.style){let nt=ce.style;"string"!=typeof nt&&(nt=nt[E.$modeName$=(g=>wo.map(w=>w(g)).find(w=>!!w))(w)]);const Ve=qt(ie,E.$modeName$);if(!Qr.has(Ve)){const pt=()=>{};Te(Ve,nt,!!(1&ie.$flags$)),pt()}}}const Qe=E.$ancestorComponent$,Ke=()=>zn(E,!0);Qe&&Qe["s-rc"]?Qe["s-rc"].push(Ke):Ke()});return function(E,ie,ke,ce){return g.apply(this,arguments)}}(),ni=g=>{gr(g,"connectedCallback")},ri=g=>{const w=g["s-cr"]=vr.createComment("");w["s-cn"]=!0,g.insertBefore(w,g.firstChild)},_i=g=>{gr(g,"disconnectedCallback")},oe=function(){var g=(0,S.Z)(function*(w){if(!(1&Tn.$flags$)){const E=Xr(w);E.$rmListeners$&&(E.$rmListeners$.map(ie=>ie()),E.$rmListeners$=void 0),E?.$lazyInstance$?_i(E.$lazyInstance$):E?.$onReadyPromise$&&E.$onReadyPromise$.then(()=>_i(E.$lazyInstance$))}});return function(E){return g.apply(this,arguments)}}(),us=(g,w={})=>{var E;const ke=[],ce=w.exclude||[],Qe=qo.customElements,Ke=vr.head,nt=Ke.querySelector("meta[charset]"),Ve=vr.createElement("style"),pt=[],Dt=vr.querySelectorAll(`[${le}]`);let X,kn=!0,ur=0;for(Object.assign(Tn,w),Tn.$resourcesUrl$=new URL(w.resourcesUrl||"./",vr.baseURI).href,Tn.$flags$|=2;ur<Dt.length;ur++)Te(Dt[ur].getAttribute(le),ln(Dt[ur].innerHTML),!0);let Or=!1;if(g.map(Gr=>{Gr[1].map(Xn=>{var _s;const jn={$flags$:Xn[0],$tagName$:Xn[1],$members$:Xn[2],$listeners$:Xn[3]};4&jn.$flags$&&(Or=!0),jn.$members$=Xn[2],jn.$listeners$=Xn[3],jn.$attrsToReflect$=[],jn.$watchers$=null!==(_s=Xn[4])&&void 0!==_s?_s:{};const Oo=jn.$tagName$,Eo=class extends HTMLElement{constructor(Xi){super(Xi),na(Xi=this,jn),1&jn.$flags$&&Xi.attachShadow({mode:"open",delegatesFocus:!!(16&jn.$flags$)})}connectedCallback(){X&&(clearTimeout(X),X=null),kn?pt.push(this):Tn.jmp(()=>(g=>{if(!(1&Tn.$flags$)){const w=Xr(g),E=w.$cmpMeta$,ie=()=>{};if(1&w.$flags$)Ti(g,w,E.$listeners$),w?.$lazyInstance$?ni(w.$lazyInstance$):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>ni(w.$lazyInstance$));else{let ke;if(w.$flags$|=1,ke=g.getAttribute(te),ke){if(1&E.$flags$){const ce=Je(g.shadowRoot,E,g.getAttribute("s-mode"));g.classList.remove(ce+"-h",ce+"-s")}((g,w,E,ie)=>{const ce=g.shadowRoot,Qe=[],nt=ce?[]:null,Ve=ie.$vnode$=mt(w,null);Tn.$orgLocNodes$||pe(vr.body,Tn.$orgLocNodes$=new Map),g[te]=E,g.removeAttribute(te),Ot(Ve,Qe,[],nt,g,g,E),Qe.map(pt=>{const Dt=pt.$hostId$+"."+pt.$nodeId$,X=Tn.$orgLocNodes$.get(Dt),kn=pt.$elm$;X&&ra&&""===X["s-en"]&&X.parentNode.insertBefore(kn,X.nextSibling),ce||(kn["s-hn"]=w,X&&(kn["s-ol"]=X,kn["s-ol"]["s-nr"]=kn)),Tn.$orgLocNodes$.delete(Dt)}),ce&&nt.map(pt=>{pt&&ce.appendChild(pt)})})(g,E.$tagName$,ke,w)}ke||12&E.$flags$&&ri(g);{let ce=g;for(;ce=ce.parentNode||ce.host;)if(1===ce.nodeType&&ce.hasAttribute("s-id")&&ce["s-p"]||ce["s-p"]){wr(w,w.$ancestorComponent$=ce);break}}E.$members$&&Object.entries(E.$members$).map(([ce,[Qe]])=>{if(31&Qe&&g.hasOwnProperty(ce)){const Ke=g[ce];delete g[ce],g[ce]=Ke}}),un(g,w,E)}ie()}})(this))}disconnectedCallback(){Tn.jmp(()=>oe(this))}componentOnReady(){return Xr(this).$onReadyPromise$}};jn.$lazyBundleId$=Gr[0],!ce.includes(Oo)&&!Qe.get(Oo)&&(ke.push(Oo),Qe.define(Oo,Wo(Eo,jn,1)))})}),Or&&(Ve.innerHTML+=Re),Ve.innerHTML+=ke+"{visibility:hidden}.hydrated{visibility:inherit}",Ve.innerHTML.length){Ve.setAttribute("data-styles","");const Gr=null!==(E=Tn.$nonce$)&&void 0!==E?E:me(vr);null!=Gr&&Ve.setAttribute("nonce",Gr),Ke.insertBefore(Ve,nt?nt.nextSibling:Ke.firstChild)}kn=!1,pt.length?pt.map(Gr=>Gr.connectedCallback()):Tn.jmp(()=>X=setTimeout(On,30))},Ti=(g,w,E,ie)=>{E&&E.map(([ke,ce,Qe])=>{const Ke=ui(g,ke),nt=Zo(w,Qe),Ve=vi(ke);Tn.ael(Ke,ce,nt,Ve),(w.$rmListeners$=w.$rmListeners$||[]).push(()=>Tn.rel(Ke,ce,nt,Ve))})},Zo=(g,w)=>E=>{try{256&g.$flags$?g.$lazyInstance$[w](E):(g.$queuedListeners$=g.$queuedListeners$||[]).push([w,E])}catch(ie){go(ie)}},ui=(g,w)=>4&w?vr:8&w?qo:16&w?vr.body:g,vi=g=>0!=(2&g),yi=new WeakMap,Xr=g=>yi.get(g),oi=(g,w)=>yi.set(w.$lazyInstance$=g,w),na=(g,w)=>{const E={$flags$:0,$hostElement$:g,$cmpMeta$:w,$instanceValues$:new Map};return E.$onInstancePromise$=new Promise(ie=>E.$onInstanceResolve$=ie),E.$onReadyPromise$=new Promise(ie=>E.$onReadyResolve$=ie),g["s-p"]=[],g["s-rc"]=[],Ti(g,E,w.$listeners$),yi.set(g,E)},Mi=(g,w)=>w in g,go=(g,w)=>(0,console.error)(g,w),ds=new Map,Bs=(g,w,E)=>{const ie=g.$tagName$.replace(/-/g,"_"),ke=g.$lazyBundleId$,ce=ds.get(ke);return ce?ce[ie]:C(863)(`./${ke}.entry.js`).then(Qe=>(ds.set(ke,Qe),Qe[ie]),go)},Qr=new Map,wo=[],qo=typeof window<"u"?window:{},vr=qo.document||{head:{}},Tn={$flags$:0,$resourcesUrl$:"",jmp:g=>g(),raf:g=>requestAnimationFrame(g),ael:(g,w,E,ie)=>g.addEventListener(w,E,ie),rel:(g,w,E,ie)=>g.removeEventListener(w,E,ie),ce:(g,w)=>new CustomEvent(g,w)},Vs=g=>{Object.assign(Tn,g)},ra=!0,oa=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ps=[],hs=[],ms=(g,w)=>E=>{g.push(E),R||(R=!0,w&&4&Tn.$flags$?et(Yi):Tn.raf(Yi))},gs=g=>{for(let w=0;w<g.length;w++)try{g[w](performance.now())}catch(E){go(E)}g.length=0},Yi=()=>{gs(ps),gs(hs),(R=ps.length>0)&&Tn.raf(Yi)},et=g=>Promise.resolve(void 0).then(g),Sl=ms(ps,!1),Ki=ms(hs,!0)},5194:(ve,De,C)=>{"use strict";C.d(De,{a:()=>R,b:()=>mt,c:()=>q,i:()=>Mt});var S=C(3426);class u{constructor(){this.m=new Map}reset(We){this.m=new Map(Object.entries(We))}get(We,Pe){const Ge=this.m.get(We);return void 0!==Ge?Ge:Pe}getBoolean(We,Pe=!1){const Ge=this.m.get(We);return void 0===Ge?Pe:"string"==typeof Ge?"true"===Ge:!!Ge}getNumber(We,Pe){const Ge=parseFloat(this.m.get(We));return isNaN(Ge)?void 0!==Pe?Pe:NaN:Ge}set(We,Pe){this.m.set(We,Pe)}}const q=new u,T="ionic:",Q="ionic-persist-config",R=(Fe,We)=>("string"==typeof Fe&&(We=Fe,Fe=void 0),(Fe=>O(Fe))(Fe).includes(We)),O=(Fe=window)=>{if(typeof Fe>"u")return[];Fe.Ionic=Fe.Ionic||{};let We=Fe.Ionic.platforms;return null==We&&(We=Fe.Ionic.platforms=A(Fe),We.forEach(Pe=>Fe.document.documentElement.classList.add(`plt-${Pe}`))),We},A=Fe=>{const We=q.get("platform");return Object.keys(me).filter(Pe=>{const Ge=We?.[Pe];return"function"==typeof Ge?Ge(Fe):me[Pe](Fe)})},fe=Fe=>!!(K(Fe,/iPad/i)||K(Fe,/Macintosh/i)&&ae(Fe)),H=Fe=>K(Fe,/android|sink/i),ae=Fe=>Z(Fe,"(any-pointer:coarse)"),Re=Fe=>F(Fe)||N(Fe),F=Fe=>!!(Fe.cordova||Fe.phonegap||Fe.PhoneGap),N=Fe=>{const We=Fe.Capacitor;return!!We?.isNative},K=(Fe,We)=>We.test(Fe.navigator.userAgent),Z=(Fe,We)=>{var Pe;return null===(Pe=Fe.matchMedia)||void 0===Pe?void 0:Pe.call(Fe,We).matches},me={ipad:fe,iphone:Fe=>K(Fe,/iPhone/i),ios:Fe=>K(Fe,/iPhone|iPod/i)||fe(Fe),android:H,phablet:Fe=>{const We=Fe.innerWidth,Pe=Fe.innerHeight,Ge=Math.min(We,Pe),st=Math.max(We,Pe);return Ge>390&&Ge<520&&st>620&&st<800},tablet:Fe=>{const We=Fe.innerWidth,Pe=Fe.innerHeight,Ge=Math.min(We,Pe),st=Math.max(We,Pe);return fe(Fe)||(Fe=>H(Fe)&&!K(Fe,/mobile/i))(Fe)||Ge>460&&Ge<820&&st>780&&st<1400},cordova:F,capacitor:N,electron:Fe=>K(Fe,/electron/i),pwa:Fe=>{var We;return!!(null!==(We=Fe.matchMedia)&&void 0!==We&&We.call(Fe,"(display-mode: standalone)").matches||Fe.navigator.standalone)},mobile:ae,mobileweb:Fe=>ae(Fe)&&!Re(Fe),desktop:Fe=>!ae(Fe),hybrid:Re};let Be;const mt=Fe=>Fe&&(0,S.g)(Fe)||Be,Mt=(Fe={})=>{if(typeof window>"u")return;const We=window.document,Pe=window,Ge=Pe.Ionic=Pe.Ionic||{},st={};Fe._ael&&(st.ael=Fe._ael),Fe._rel&&(st.rel=Fe._rel),Fe._ce&&(st.ce=Fe._ce),(0,S.a)(st);const Ot=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Fe=>{try{const We=Fe.sessionStorage.getItem(Q);return null!==We?JSON.parse(We):{}}catch{return{}}})(Pe)),{persistConfig:!1}),Ge.config),(Fe=>{const We={};return Fe.location.search.slice(1).split("&").map(Pe=>Pe.split("=")).map(([Pe,Ge])=>[decodeURIComponent(Pe),decodeURIComponent(Ge)]).filter(([Pe])=>((Fe,We)=>Fe.substr(0,We.length)===We)(Pe,T)).map(([Pe,Ge])=>[Pe.slice(6),Ge]).forEach(([Pe,Ge])=>{We[Pe]=Ge}),We})(Pe)),Fe);q.reset(Ot),q.getBoolean("persistConfig")&&((Fe,We)=>{try{Fe.sessionStorage.setItem(Q,JSON.stringify(We))}catch{return}})(Pe,Ot),O(Pe),Ge.config=q,Ge.mode=Be=q.get("mode",We.documentElement.getAttribute("mode")||(R(Pe,"ios")?"ios":"md")),q.set("mode",Be),We.documentElement.setAttribute("mode",Be),We.documentElement.classList.add(Be),q.getBoolean("_testing")&&q.set("animated",!1);const pe=at=>{var Ye;return null===(Ye=at.tagName)||void 0===Ye?void 0:Ye.startsWith("ION-")},He=at=>["ios","md"].includes(at);(0,S.c)(at=>{for(;at;){const Ye=at.mode||at.getAttribute("mode");if(Ye){if(He(Ye))return Ye;pe(at)&&console.warn('Invalid ionic mode: "'+Ye+'", expected: "ios" or "md"')}at=at.parentElement}return Be})}},5444:(ve,De,C)=>{"use strict";C.r(De),C.d(De,{iosTransitionAnimation:()=>A,shadow:()=>x});var S=C(2723),u=C(8044);C(6940),C(3426);const P=fe=>document.querySelector(`${fe}.ion-cloned-element`),x=fe=>fe.shadowRoot||fe,T=fe=>{const be="ION-TABS"===fe.tagName?fe:fe.querySelector("ion-tabs"),se="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=be){const H=be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=H?H.querySelector(se):null}return fe.querySelector(se)},Q=(fe,be)=>{const se="ION-TABS"===fe.tagName?fe:fe.querySelector("ion-tabs");let H=[];if(null!=se){const k=se.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=k&&(H=k.querySelectorAll("ion-buttons"))}else H=fe.querySelectorAll("ion-buttons");for(const k of H){const te=k.closest("ion-header"),le=te&&!te.classList.contains("header-collapse-condense-inactive"),ae=k.querySelector("ion-back-button"),Ae=k.classList.contains("buttons-collapse");if(null!==ae&&("start"===k.slot||""===k.slot)&&(Ae&&le&&be||!Ae))return ae}return null},R=(fe,be,se,H,k,te,le,ae,Ae)=>{var Re,F;const N=be?`calc(100% - ${k.right+4}px)`:k.left-4+"px",ne=be?"right":"left",I=be?"left":"right",K=be?"right":"left",Z=(null===(Re=te.textContent)||void 0===Re?void 0:Re.trim())===(null===(F=ae.textContent)||void 0===F?void 0:F.trim()),Be=(Ae.height-V)/le.height,mt=Z?`scale(${Ae.width/le.width}, ${Be})`:`scale(${Be})`,Mt="scale(1)",We=x(H).querySelector("ion-icon").getBoundingClientRect(),Pe=be?We.width/2-(We.right-k.right)+"px":k.left-We.width/2+"px",Ge=be?`-${window.innerWidth-k.right}px`:`${k.left}px`,st=`${Ae.top}px`,Ot=`${k.top}px`,at=se?[{offset:0,transform:`translate3d(${Ge}, ${Ot}, 0)`},{offset:1,transform:`translate3d(${Pe}, ${st}, 0)`}]:[{offset:0,transform:`translate3d(${Pe}, ${st}, 0)`},{offset:1,transform:`translate3d(${Ge}, ${Ot}, 0)`}],Zt=se?[{offset:0,opacity:1,transform:Mt},{offset:1,opacity:0,transform:mt}]:[{offset:0,opacity:0,transform:mt},{offset:1,opacity:1,transform:Mt}],_e=se?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Te=(0,S.c)(),Je=(0,S.c)(),ot=(0,S.c)(),qt=P("ion-back-button"),ln=x(qt).querySelector(".button-text"),Vt=x(qt).querySelector("ion-icon");qt.text=H.text,qt.mode=H.mode,qt.icon=H.icon,qt.color=H.color,qt.disabled=H.disabled,qt.style.setProperty("display","block"),qt.style.setProperty("position","fixed"),Je.addElement(Vt),Te.addElement(ln),ot.addElement(qt),ot.beforeStyles({position:"absolute",top:"0px",[K]:"0px"}).keyframes(at),Te.beforeStyles({"transform-origin":`${ne} top`}).beforeAddWrite(()=>{H.style.setProperty("display","none"),qt.style.setProperty(ne,N)}).afterAddWrite(()=>{H.style.setProperty("display",""),qt.style.setProperty("display","none"),qt.style.removeProperty(ne)}).keyframes(Zt),Je.beforeStyles({"transform-origin":`${I} center`}).keyframes(_e),fe.addAnimation([Te,Je,ot])},O=(fe,be,se,H,k,te,le,ae)=>{var Ae,Re;const F=be?"right":"left",N=be?`calc(100% - ${k.right}px)`:`${k.left}px`,I=`${k.top}px`,Z=be?`-${window.innerWidth-ae.right-8}px`:ae.x-8+"px",Be=ae.y-2+"px",mt=(null===(Ae=le.textContent)||void 0===Ae?void 0:Ae.trim())===(null===(Re=H.textContent)||void 0===Re?void 0:Re.trim()),Fe=ae.height/(te.height-V),We="scale(1)",Pe=mt?`scale(${ae.width/te.width}, ${Fe})`:`scale(${Fe})`,Ot=se?[{offset:0,opacity:0,transform:`translate3d(${Z}, ${Be}, 0) ${Pe}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${I}, 0) ${We}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${I}, 0) ${We}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Z}, ${Be}, 0) ${Pe}`}],pe=P("ion-title"),He=(0,S.c)();pe.innerText=H.innerText,pe.size=H.size,pe.color=H.color,He.addElement(pe),He.beforeStyles({"transform-origin":`${F} top`,height:`${k.height}px`,display:"",position:"relative",[F]:N}).beforeAddWrite(()=>{H.style.setProperty("opacity","0")}).afterAddWrite(()=>{H.style.setProperty("opacity",""),pe.style.setProperty("display","none")}).keyframes(Ot),fe.addAnimation(He)},A=(fe,be)=>{var se;try{const H="cubic-bezier(0.32,0.72,0,1)",k="opacity",te="transform",le="0%",Ae="rtl"===fe.ownerDocument.dir,Re=Ae?"-99.5%":"99.5%",F=Ae?"33%":"-33%",N=be.enteringEl,ne=be.leavingEl,I="back"===be.direction,K=N.querySelector(":scope > ion-content"),Z=N.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),me=N.querySelectorAll(":scope > ion-header > ion-toolbar"),Be=(0,S.c)(),mt=(0,S.c)();if(Be.addElement(N).duration((null!==(se=be.duration)&&void 0!==se?se:0)||540).easing(be.easing||H).fill("both").beforeRemoveClass("ion-page-invisible"),ne&&null!=fe){const Pe=(0,S.c)();Pe.addElement(fe),Be.addAnimation(Pe)}if(K||0!==me.length||0!==Z.length?(mt.addElement(K),mt.addElement(Z)):mt.addElement(N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(mt),I?mt.beforeClearStyles([k]).fromTo("transform",`translateX(${F})`,`translateX(${le})`).fromTo(k,.8,1):mt.beforeClearStyles([k]).fromTo("transform",`translateX(${Re})`,`translateX(${le})`),K){const Pe=x(K).querySelector(".transition-effect");if(Pe){const Ge=Pe.querySelector(".transition-cover"),st=Pe.querySelector(".transition-shadow"),Ot=(0,S.c)(),pe=(0,S.c)(),He=(0,S.c)();Ot.addElement(Pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pe.addElement(Ge).beforeClearStyles([k]).fromTo(k,0,.1),He.addElement(st).beforeClearStyles([k]).fromTo(k,.03,.7),Ot.addAnimation([pe,He]),mt.addAnimation([Ot])}}const Mt=N.querySelector("ion-header.header-collapse-condense"),{forward:Fe,backward:We}=((fe,be,se,H,k)=>{const te=Q(H,se),le=T(k),ae=T(H),Ae=Q(k,se),Re=null!==te&&null!==le&&!se,F=null!==ae&&null!==Ae&&se;if(Re){const N=le.getBoundingClientRect(),ne=te.getBoundingClientRect(),I=x(te).querySelector(".button-text"),K=I.getBoundingClientRect(),me=x(le).querySelector(".toolbar-title").getBoundingClientRect();O(fe,be,se,le,N,me,I,K),R(fe,be,se,te,ne,I,K,le,me)}else if(F){const N=ae.getBoundingClientRect(),ne=Ae.getBoundingClientRect(),I=x(Ae).querySelector(".button-text"),K=I.getBoundingClientRect(),me=x(ae).querySelector(".toolbar-title").getBoundingClientRect();O(fe,be,se,ae,N,me,I,K),R(fe,be,se,Ae,ne,I,K,ae,me)}return{forward:Re,backward:F}})(Be,Ae,I,N,ne);if(me.forEach(Pe=>{const Ge=(0,S.c)();Ge.addElement(Pe),Be.addAnimation(Ge);const st=(0,S.c)();st.addElement(Pe.querySelector("ion-title"));const Ot=(0,S.c)(),pe=Array.from(Pe.querySelectorAll("ion-buttons,[menuToggle]")),He=Pe.closest("ion-header"),at=He?.classList.contains("header-collapse-condense-inactive");let Ye;Ye=pe.filter(I?_e=>{const Te=_e.classList.contains("buttons-collapse");return Te&&!at||!Te}:_e=>!_e.classList.contains("buttons-collapse")),Ot.addElement(Ye);const Ft=(0,S.c)();Ft.addElement(Pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Zt=(0,S.c)();Zt.addElement(x(Pe).querySelector(".toolbar-background"));const kt=(0,S.c)(),xe=Pe.querySelector("ion-back-button");if(xe&&kt.addElement(xe),Ge.addAnimation([st,Ot,Ft,Zt,kt]),Ot.fromTo(k,.01,1),Ft.fromTo(k,.01,1),I)at||st.fromTo("transform",`translateX(${F})`,`translateX(${le})`).fromTo(k,.01,1),Ft.fromTo("transform",`translateX(${F})`,`translateX(${le})`),kt.fromTo(k,.01,1);else if(Mt||st.fromTo("transform",`translateX(${Re})`,`translateX(${le})`).fromTo(k,.01,1),Ft.fromTo("transform",`translateX(${Re})`,`translateX(${le})`),Zt.beforeClearStyles([k,"transform"]),He?.translucent?Zt.fromTo("transform",Ae?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Zt.fromTo(k,.01,"var(--opacity)"),Fe||kt.fromTo(k,.01,1),xe&&!Fe){const Te=(0,S.c)();Te.addElement(x(xe).querySelector(".button-text")).fromTo("transform",Ae?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ge.addAnimation(Te)}}),ne){const Pe=(0,S.c)(),Ge=ne.querySelector(":scope > ion-content"),st=ne.querySelectorAll(":scope > ion-header > ion-toolbar"),Ot=ne.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ge||0!==st.length||0!==Ot.length?(Pe.addElement(Ge),Pe.addElement(Ot)):Pe.addElement(ne.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(Pe),I){Pe.beforeClearStyles([k]).fromTo("transform",`translateX(${le})`,Ae?"translateX(-100%)":"translateX(100%)");const pe=(0,u.g)(ne);Be.afterAddWrite(()=>{"normal"===Be.getDirection()&&pe.style.setProperty("display","none")})}else Pe.fromTo("transform",`translateX(${le})`,`translateX(${F})`).fromTo(k,1,.8);if(Ge){const pe=x(Ge).querySelector(".transition-effect");if(pe){const He=pe.querySelector(".transition-cover"),at=pe.querySelector(".transition-shadow"),Ye=(0,S.c)(),Ft=(0,S.c)(),Zt=(0,S.c)();Ye.addElement(pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ft.addElement(He).beforeClearStyles([k]).fromTo(k,.1,0),Zt.addElement(at).beforeClearStyles([k]).fromTo(k,.7,.03),Ye.addAnimation([Ft,Zt]),Pe.addAnimation([Ye])}}st.forEach(pe=>{const He=(0,S.c)();He.addElement(pe);const at=(0,S.c)();at.addElement(pe.querySelector("ion-title"));const Ye=(0,S.c)(),Ft=pe.querySelectorAll("ion-buttons,[menuToggle]"),Zt=pe.closest("ion-header"),kt=Zt?.classList.contains("header-collapse-condense-inactive"),xe=Array.from(Ft).filter(ln=>{const Vt=ln.classList.contains("buttons-collapse");return Vt&&!kt||!Vt});Ye.addElement(xe);const _e=(0,S.c)(),Te=pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Te.length>0&&_e.addElement(Te);const Je=(0,S.c)();Je.addElement(x(pe).querySelector(".toolbar-background"));const ot=(0,S.c)(),qt=pe.querySelector("ion-back-button");if(qt&&ot.addElement(qt),He.addAnimation([at,Ye,_e,ot,Je]),Be.addAnimation(He),ot.fromTo(k,.99,0),Ye.fromTo(k,.99,0),_e.fromTo(k,.99,0),I){if(kt||at.fromTo("transform",`translateX(${le})`,Ae?"translateX(-100%)":"translateX(100%)").fromTo(k,.99,0),_e.fromTo("transform",`translateX(${le})`,Ae?"translateX(-100%)":"translateX(100%)"),Je.beforeClearStyles([k,"transform"]),Zt?.translucent?Je.fromTo("transform","translateX(0px)",Ae?"translateX(-100%)":"translateX(100%)"):Je.fromTo(k,"var(--opacity)",0),qt&&!We){const Vt=(0,S.c)();Vt.addElement(x(qt).querySelector(".button-text")).fromTo("transform",`translateX(${le})`,`translateX(${(Ae?-124:124)+"px"})`),He.addAnimation(Vt)}}else kt||at.fromTo("transform",`translateX(${le})`,`translateX(${F})`).fromTo(k,.99,0).afterClearStyles([te,k]),_e.fromTo("transform",`translateX(${le})`,`translateX(${F})`).afterClearStyles([te,k]),ot.afterClearStyles([k]),at.afterClearStyles([k]),Ye.afterClearStyles([k])})}return Be}catch(H){throw H}},V=10},5922:(ve,De,C)=>{"use strict";C.r(De),C.d(De,{mdTransitionAnimation:()=>U});var S=C(2723),u=C(8044);C(6940),C(3426);const U=(P,x)=>{var T,Q,$;const R="40px",A="back"===x.direction,fe=x.leavingEl,be=(0,u.g)(x.enteringEl),se=be.querySelector("ion-toolbar"),H=(0,S.c)();if(H.addElement(be).fill("both").beforeRemoveClass("ion-page-invisible"),A?H.duration((null!==(T=x.duration)&&void 0!==T?T:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):H.duration((null!==(Q=x.duration)&&void 0!==Q?Q:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${R})`,"translateY(0px)").fromTo("opacity",.01,1),se){const k=(0,S.c)();k.addElement(se),H.addAnimation(k)}if(fe&&A){H.duration((null!==($=x.duration)&&void 0!==$?$:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const k=(0,S.c)();k.addElement((0,u.g)(fe)).onFinish(te=>{1===te&&k.elements.length>0&&k.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${R})`).fromTo("opacity",1,0),H.addAnimation(k)}return H}},7261:(ve,De,C)=>{"use strict";C.d(De,{B:()=>at,G:()=>Ye,O:()=>Ft,a:()=>O,b:()=>A,c:()=>se,d:()=>Zt,e:()=>kt,f:()=>mt,g:()=>Fe,h:()=>Ge,i:()=>Ot,j:()=>k,k:()=>te,l:()=>V,m:()=>fe,n:()=>$,o:()=>Ae,q:()=>me,s:()=>He});var S=C(3918),u=C(6940),q=C(5194),Y=C(8573),U=C(1940),P=C(4675),x=C(6240);let T=0,Q=0;const $=new WeakMap,R=xe=>({create:_e=>le(xe,_e),dismiss:(_e,Te,Je)=>I(document,_e,Te,xe,Je),getTop:()=>(0,S.Z)(function*(){return me(document,xe)})()}),O=R("ion-alert"),A=R("ion-action-sheet"),V=R("ion-loading"),fe=R("ion-modal"),se=R("ion-popover"),k=xe=>{typeof document<"u"&&ne(document);const _e=T++;xe.overlayIndex=_e},te=xe=>(xe.hasAttribute("id")||(xe.id="ion-overlay-"+ ++Q),xe.id),le=(xe,_e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(xe).then(()=>{const Te=document.createElement(xe);return Te.classList.add("overlay-hidden"),Object.assign(Te,Object.assign(Object.assign({},_e),{hasController:!0})),We(document).appendChild(Te),new Promise(Je=>(0,P.c)(Te,Je))}):Promise.resolve(),ae='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ae=(xe,_e)=>{let Te=xe.querySelector(ae);const Je=Te?.shadowRoot;Je&&(Te=Je.querySelector(ae)||Te),Te?(0,P.f)(Te):_e.focus()},F=(xe,_e)=>{const Te=Array.from(xe.querySelectorAll(ae));let Je=Te.length>0?Te[Te.length-1]:null;const ot=Je?.shadowRoot;ot&&(Je=ot.querySelector(ae)||Je),Je?Je.focus():_e.focus()},ne=xe=>{0===T&&(T=1,xe.addEventListener("focus",_e=>{((xe,_e)=>{const Te=me(_e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Je=xe.target;Te&&Je&&!Te.classList.contains("ion-disable-focus-trap")&&(Te.shadowRoot?(()=>{if(Te.contains(Je))Te.lastFocus=Je;else{const ln=Te.lastFocus;Ae(Te,Te),ln===_e.activeElement&&F(Te,Te),Te.lastFocus=_e.activeElement}})():(()=>{if(Te===Je)Te.lastFocus=void 0;else{const ln=(0,P.g)(Te);if(!ln.contains(Je))return;const Vt=ln.querySelector(".ion-overlay-wrapper");if(!Vt)return;if(Vt.contains(Je)||Je===ln.querySelector("ion-backdrop"))Te.lastFocus=Je;else{const cn=Te.lastFocus;Ae(Vt,Te),cn===_e.activeElement&&F(Vt,Te),Te.lastFocus=_e.activeElement}}})())})(_e,xe)},!0),xe.addEventListener("ionBackButton",_e=>{const Te=me(xe);Te?.backdropDismiss&&_e.detail.register(U.OVERLAY_BACK_BUTTON_PRIORITY,()=>Te.dismiss(void 0,at))}),xe.addEventListener("keydown",_e=>{if("Escape"===_e.key){const Te=me(xe);Te?.backdropDismiss&&Te.dismiss(void 0,at)}}))},I=(xe,_e,Te,Je,ot)=>{const qt=me(xe,Je,ot);return qt?qt.dismiss(_e,Te):Promise.reject("overlay does not exist")},Z=(xe,_e)=>((xe,_e)=>(void 0===_e&&(_e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(xe.querySelectorAll(_e)).filter(Te=>Te.overlayIndex>0)))(xe,_e).filter(Te=>!(xe=>xe.classList.contains("overlay-hidden"))(Te)),me=(xe,_e,Te)=>{const Je=Z(xe,_e);return void 0===Te?Je[Je.length-1]:Je.find(ot=>ot.id===Te)},Be=(xe=!1)=>{const Te=We(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Te&&(xe?Te.setAttribute("aria-hidden","true"):Te.removeAttribute("aria-hidden"))},mt=function(){var xe=(0,S.Z)(function*(_e,Te,Je,ot,qt){var ln,Vt;if(_e.presented)return;Be(!0),_e.presented=!0,_e.willPresent.emit(),null===(ln=_e.willPresentShorthand)||void 0===ln||ln.emit();const cn=(0,q.b)(_e),bn=_e.enterAnimation?_e.enterAnimation:q.c.get(Te,"ios"===cn?Je:ot);(yield Pe(_e,bn,_e.el,qt))&&(_e.didPresent.emit(),null===(Vt=_e.didPresentShorthand)||void 0===Vt||Vt.emit()),"ION-TOAST"!==_e.el.tagName&&Mt(_e.el),_e.keyboardClose&&(null===document.activeElement||!_e.el.contains(document.activeElement))&&_e.el.focus()});return function(Te,Je,ot,qt,ln){return xe.apply(this,arguments)}}(),Mt=function(){var xe=(0,S.Z)(function*(_e){let Te=document.activeElement;if(!Te)return;const Je=Te?.shadowRoot;Je&&(Te=Je.querySelector(ae)||Te),yield _e.onDidDismiss(),Te.focus()});return function(Te){return xe.apply(this,arguments)}}(),Fe=function(){var xe=(0,S.Z)(function*(_e,Te,Je,ot,qt,ln,Vt){var cn,bn;if(!_e.presented)return!1;void 0!==u.d&&1===Z(u.d).length&&Be(!1),_e.presented=!1;try{_e.el.style.setProperty("pointer-events","none"),_e.willDismiss.emit({data:Te,role:Je}),null===(cn=_e.willDismissShorthand)||void 0===cn||cn.emit({data:Te,role:Je});const mr=(0,q.b)(_e),Pn=_e.leaveAnimation?_e.leaveAnimation:q.c.get(ot,"ios"===mr?qt:ln);Je!==Ye&&(yield Pe(_e,Pn,_e.el,Vt)),_e.didDismiss.emit({data:Te,role:Je}),null===(bn=_e.didDismissShorthand)||void 0===bn||bn.emit({data:Te,role:Je}),$.delete(_e),_e.el.classList.add("overlay-hidden"),_e.el.style.removeProperty("pointer-events"),void 0!==_e.el.lastFocus&&(_e.el.lastFocus=void 0)}catch(mr){console.error(mr)}return _e.el.remove(),!0});return function(Te,Je,ot,qt,ln,Vt,cn){return xe.apply(this,arguments)}}(),We=xe=>xe.querySelector("ion-app")||xe.body,Pe=function(){var xe=(0,S.Z)(function*(_e,Te,Je,ot){Je.classList.remove("overlay-hidden");const ln=Te(_e.el,ot);(!_e.animated||!q.c.getBoolean("animated",!0))&&ln.duration(0),_e.keyboardClose&&ln.beforeAddWrite(()=>{const cn=Je.ownerDocument.activeElement;cn?.matches("input,ion-input, ion-textarea")&&cn.blur()});const Vt=$.get(_e)||[];return $.set(_e,[...Vt,ln]),yield ln.play(),!0});return function(Te,Je,ot,qt){return xe.apply(this,arguments)}}(),Ge=(xe,_e)=>{let Te;const Je=new Promise(ot=>Te=ot);return st(xe,_e,ot=>{Te(ot.detail)}),Je},st=(xe,_e,Te)=>{const Je=ot=>{(0,P.b)(xe,_e,Je),Te(ot)};(0,P.a)(xe,_e,Je)},Ot=xe=>"cancel"===xe||xe===at,pe=xe=>xe(),He=(xe,_e)=>{if("function"==typeof xe)return q.c.get("_zoneGate",pe)(()=>{try{return xe(_e)}catch(Je){throw Je}})},at="backdrop",Ye="gesture",Ft=39,Zt=xe=>{let Te,_e=!1;const Je=(0,Y.C)(),ot=(Vt=!1)=>{if(Te&&!Vt)return{delegate:Te,inline:_e};const{el:cn,hasController:bn,delegate:mr}=xe;return _e=null!==cn.parentNode&&!bn,Te=_e?mr||Je:mr,{inline:_e,delegate:Te}};return{attachViewToDom:function(){var Vt=(0,S.Z)(function*(cn){const{delegate:bn}=ot(!0);if(bn)return yield bn.attachViewToDom(xe.el,cn);const{hasController:mr}=xe;if(mr&&void 0!==cn)throw new Error("framework delegate is missing");return null});return function(bn){return Vt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Vt}=ot();Vt&&void 0!==xe.el&&Vt.removeViewFromDom(xe.el.parentElement,xe.el)}}},kt=()=>{let xe;const _e=()=>{xe&&(xe(),xe=void 0)};return{addClickListener:(Je,ot)=>{_e();const qt=void 0!==ot?document.getElementById(ot):null;qt?xe=((Vt,cn)=>{const bn=()=>{cn.present()};return Vt.addEventListener("click",bn),()=>{Vt.removeEventListener("click",bn)}})(qt,Je):(0,x.p)(`A trigger element with the ID "${ot}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Je)},removeClickListener:_e}}},2410:(ve,De,C)=>{"use strict";var u=C(1491)("ArrayBuffer.prototype.byteLength",!0),q=C(9850);ve.exports=function(U){return q(U)?u?u(U):U.byteLength:NaN}},1491:(ve,De,C)=>{"use strict";var S=C(3485),u=C(1773),q=u(S("String.prototype.indexOf"));ve.exports=function(U,P){var x=S(U,!!P);return"function"==typeof x&&q(U,".prototype.")>-1?u(x):x}},1773:(ve,De,C)=>{"use strict";var S=C(8956),u=C(3485),q=C(3931),Y=u("%TypeError%"),U=u("%Function.prototype.apply%"),P=u("%Function.prototype.call%"),x=u("%Reflect.apply%",!0)||S.call(P,U),T=u("%Object.defineProperty%",!0),Q=u("%Math.max%");if(T)try{T({},"a",{value:1})}catch{T=null}ve.exports=function(O){if("function"!=typeof O)throw new Y("a function is required");var A=x(S,P,arguments);return q(A,1+Q(0,O.length-(arguments.length-1)),!0)};var $=function(){return x(S,U,arguments)};T?T(ve.exports,"apply",{value:$}):ve.exports.apply=$},7303:ve=>{var De={utf8:{stringToBytes:function(C){return De.bin.stringToBytes(unescape(encodeURIComponent(C)))},bytesToString:function(C){return decodeURIComponent(escape(De.bin.bytesToString(C)))}},bin:{stringToBytes:function(C){for(var S=[],u=0;u<C.length;u++)S.push(255&C.charCodeAt(u));return S},bytesToString:function(C){for(var S=[],u=0;u<C.length;u++)S.push(String.fromCharCode(C[u]));return S.join("")}}};ve.exports=De},3754:ve=>{var De,C;De="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ve.exports=C={rotl:function(S,u){return S<<u|S>>>32-u},rotr:function(S,u){return S<<32-u|S>>>u},endian:function(S){if(S.constructor==Number)return 16711935&C.rotl(S,8)|4278255360&C.rotl(S,24);for(var u=0;u<S.length;u++)S[u]=C.endian(S[u]);return S},randomBytes:function(S){for(var u=[];S>0;S--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(S){for(var u=[],q=0,Y=0;q<S.length;q++,Y+=8)u[Y>>>5]|=S[q]<<24-Y%32;return u},wordsToBytes:function(S){for(var u=[],q=0;q<32*S.length;q+=8)u.push(S[q>>>5]>>>24-q%32&255);return u},bytesToHex:function(S){for(var u=[],q=0;q<S.length;q++)u.push((S[q]>>>4).toString(16)),u.push((15&S[q]).toString(16));return u.join("")},hexToBytes:function(S){for(var u=[],q=0;q<S.length;q+=2)u.push(parseInt(S.substr(q,2),16));return u},bytesToBase64:function(S){for(var u=[],q=0;q<S.length;q+=3)for(var Y=S[q]<<16|S[q+1]<<8|S[q+2],U=0;U<4;U++)u.push(8*q+6*U<=8*S.length?De.charAt(Y>>>6*(3-U)&63):"=");return u.join("")},base64ToBytes:function(S){S=S.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],q=0,Y=0;q<S.length;Y=++q%4)0!=Y&&u.push((De.indexOf(S.charAt(q-1))&Math.pow(2,-2*Y+8)-1)<<2*Y|De.indexOf(S.charAt(q))>>>6-2*Y);return u}}},307:(ve,De,C)=>{"use strict";var S=C(5747),u=C(1491),q=C(4300),Y=C(3485),U=C(1324),P=C(4355),x=C(500),T=C(1568),Q=C(9604),$=C(9850),R=C(6994),O=C(9649),A=C(5327),V=C(5692),fe=C(8460),be=C(9148),se=C(927),H=C(2410),k=u("SharedArrayBuffer.prototype.byteLength",!0),te=u("Date.prototype.getTime"),le=Object.getPrototypeOf,ae=u("Object.prototype.toString"),Ae=Y("%Set%",!0),Re=u("Map.prototype.has",!0),F=u("Map.prototype.get",!0),N=u("Map.prototype.size",!0),ne=u("Set.prototype.add",!0),I=u("Set.prototype.delete",!0),K=u("Set.prototype.has",!0),Z=u("Set.prototype.size",!0);function me(pe,He,at,Ye){for(var Zt,Ft=U(pe);(Zt=Ft.next())&&!Zt.done;)if(We(He,Zt.value,at,Ye))return I(pe,Zt.value),!0;return!1}function Be(pe){return typeof pe>"u"?null:"object"!=typeof pe?"symbol"!=typeof pe&&("string"!=typeof pe&&"number"!=typeof pe||+pe==+pe):void 0}function mt(pe,He,at,Ye,Ft,Zt){var kt=Be(at);if(null!=kt)return kt;var xe=F(He,kt),_e=S({},Ft,{strict:!1});return!(typeof xe>"u"&&!Re(He,kt)||!We(Ye,xe,_e,Zt))&&!Re(pe,kt)&&We(Ye,xe,_e,Zt)}function Mt(pe,He,at){var Ye=Be(at);return Ye??(K(He,Ye)&&!K(pe,Ye))}function Fe(pe,He,at,Ye,Ft,Zt){for(var xe,_e,kt=U(pe);(xe=kt.next())&&!xe.done;)if(We(at,_e=xe.value,Ft,Zt)&&We(Ye,F(He,_e),Ft,Zt))return I(pe,_e),!0;return!1}function We(pe,He,at,Ye){var Ft=at||{};if(Ft.strict?x(pe,He):pe===He)return!0;if(fe(pe)!==fe(He))return!1;if(!pe||!He||"object"!=typeof pe&&"object"!=typeof He)return Ft.strict?x(pe,He):pe==He;var Te,xe=Ye.has(pe),_e=Ye.has(He);if(xe&&_e){if(Ye.get(pe)===Ye.get(He))return!0}else Te={};return xe||Ye.set(pe,Te),_e||Ye.set(He,Te),function Ot(pe,He,at,Ye){var Ft,Zt;if(typeof pe!=typeof He||null==pe||null==He||ae(pe)!==ae(He)||T(pe)!==T(He))return!1;if(Q(pe)!==Q(He))return!1;var _e=pe instanceof Error,Te=He instanceof Error;if(_e!==Te||(_e||Te)&&(pe.name!==He.name||pe.message!==He.message))return!1;var Je=O(pe),ot=O(He);if(Je!==ot||(Je||ot)&&(pe.source!==He.source||q(pe)!==q(He)))return!1;var qt=R(pe),ln=R(He);if(qt!==ln||(qt||ln)&&te(pe)!==te(He)||at.strict&&le&&le(pe)!==le(He))return!1;var Vt=se(pe),cn=se(He);if(Vt!==cn)return!1;if(Vt||cn){if(pe.length!==He.length)return!1;for(Ft=0;Ft<pe.length;Ft++)if(pe[Ft]!==He[Ft])return!1;return!0}var bn=Pe(pe),mr=Pe(He);if(bn!==mr)return!1;if(bn||mr){if(pe.length!==He.length)return!1;for(Ft=0;Ft<pe.length;Ft++)if(pe[Ft]!==He[Ft])return!1;return!0}var Pn=$(pe),zo=$(He);if(Pn!==zo)return!1;if(Pn||zo)return H(pe)===H(He)&&"function"==typeof Uint8Array&&We(new Uint8Array(pe),new Uint8Array(He),at,Ye);var Vr=A(pe),po=A(He);if(Vr!==po)return!1;if(Vr||po)return k(pe)===k(He)&&"function"==typeof Uint8Array&&We(new Uint8Array(pe),new Uint8Array(He),at,Ye);if(typeof pe!=typeof He)return!1;var Rr=V(pe),Pr=V(He);if(Rr.length!==Pr.length)return!1;for(Rr.sort(),Pr.sort(),Ft=Rr.length-1;Ft>=0;Ft--)if(Rr[Ft]!=Pr[Ft])return!1;for(Ft=Rr.length-1;Ft>=0;Ft--)if(!We(pe[Zt=Rr[Ft]],He[Zt],at,Ye))return!1;var Kn=be(pe),So=be(He);return Kn===So&&("Set"===Kn||"Set"===So?function Ge(pe,He,at,Ye){if(Z(pe)!==Z(He))return!1;for(var kt,xe,_e,Ft=U(pe),Zt=U(He);(kt=Ft.next())&&!kt.done;)if(kt.value&&"object"==typeof kt.value)_e||(_e=new Ae),ne(_e,kt.value);else if(!K(He,kt.value)){if(at.strict||!Mt(pe,He,kt.value))return!1;_e||(_e=new Ae),ne(_e,kt.value)}if(_e){for(;(xe=Zt.next())&&!xe.done;)if(xe.value&&"object"==typeof xe.value){if(!me(_e,xe.value,at.strict,Ye))return!1}else if(!at.strict&&!K(pe,xe.value)&&!me(_e,xe.value,at.strict,Ye))return!1;return 0===Z(_e)}return!0}(pe,He,at,Ye):"Map"!==Kn||function st(pe,He,at,Ye){if(N(pe)!==N(He))return!1;for(var kt,xe,_e,Te,Je,ot,Ft=U(pe),Zt=U(He);(kt=Ft.next())&&!kt.done;)if(Je=kt.value[1],(Te=kt.value[0])&&"object"==typeof Te)_e||(_e=new Ae),ne(_e,Te);else if(typeof(ot=F(He,Te))>"u"&&!Re(He,Te)||!We(Je,ot,at,Ye)){if(at.strict||!mt(pe,He,Te,Je,at,Ye))return!1;_e||(_e=new Ae),ne(_e,Te)}if(_e){for(;(xe=Zt.next())&&!xe.done;)if(ot=xe.value[1],(Te=xe.value[0])&&"object"==typeof Te){if(!Fe(_e,pe,Te,ot,at,Ye))return!1}else if(!(at.strict||pe.has(Te)&&We(F(pe,Te),ot,at,Ye)||Fe(_e,pe,Te,ot,S({},at,{strict:!1}),Ye)))return!1;return 0===Z(_e)}return!0}(pe,He,at,Ye))}(pe,He,Ft,Ye)}function Pe(pe){return!(!pe||"object"!=typeof pe||"number"!=typeof pe.length||"function"!=typeof pe.copy||"function"!=typeof pe.slice||pe.length>0&&"number"!=typeof pe[0]||!(pe.constructor&&pe.constructor.isBuffer&&pe.constructor.isBuffer(pe)))}ve.exports=function(He,at,Ye){return We(He,at,Ye,P())}},4467:(ve,De,C)=>{"use strict";var S=C(7811)(),u=C(3485),q=S&&u("%Object.defineProperty%",!0);if(q)try{q({},"a",{value:1})}catch{q=!1}var Y=u("%SyntaxError%"),U=u("%TypeError%"),P=C(6078);ve.exports=function(T,Q,$){if(!T||"object"!=typeof T&&"function"!=typeof T)throw new U("`obj` must be an object or a function`");if("string"!=typeof Q&&"symbol"!=typeof Q)throw new U("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new U("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new U("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new U("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new U("`loose`, if provided, must be a boolean");var R=arguments.length>3?arguments[3]:null,O=arguments.length>4?arguments[4]:null,A=arguments.length>5?arguments[5]:null,V=arguments.length>6&&arguments[6],fe=!!P&&P(T,Q);if(q)q(T,Q,{configurable:null===A&&fe?fe.configurable:!A,enumerable:null===R&&fe?fe.enumerable:!R,value:$,writable:null===O&&fe?fe.writable:!O});else{if(!V&&(R||O||A))throw new Y("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");T[Q]=$}}},9567:(ve,De,C)=>{"use strict";var S=C(5692),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),q=Object.prototype.toString,Y=Array.prototype.concat,U=C(4467),x=C(7811)(),T=function($,R,O,A){if(R in $)if(!0===A){if($[R]===O)return}else if(!function($){return"function"==typeof $&&"[object Function]"===q.call($)}(A)||!A())return;x?U($,R,O,!0):U($,R,O)},Q=function($,R){var O=arguments.length>2?arguments[2]:{},A=S(R);u&&(A=Y.call(A,Object.getOwnPropertySymbols(R)));for(var V=0;V<A.length;V+=1)T($,A[V],R[A[V]],O[A[V]])};Q.supportsDescriptors=!!x,ve.exports=Q},1633:function(ve,De){!function(C){"use strict";var O,q=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,Y=536870912,U=2*Y,x=new WeakMap,Q=function(O,A){return function(V){var fe=A.get(V),be=void 0===fe?V.size:fe<U?fe+1:0;if(!V.has(be))return O(V,be);if(V.size<Y){for(;V.has(be);)be=Math.floor(Math.random()*U);return O(V,be)}if(V.size>q)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;V.has(be);)be=Math.floor(Math.random()*q);return O(V,be)}}((O=x,function(A,V){return O.set(A,V),V}),x),$=function(O){return function(A){var V=O(A);return A.add(V),V}}(Q);C.addUniqueNumber=$,C.generateUniqueNumber=Q}(De)},2418:(ve,De,C)=>{"use strict";var S=C(5487),u=Object.prototype.toString,q=Object.prototype.hasOwnProperty;ve.exports=function(Q,$,R){if(!S($))throw new TypeError("iterator must be a function");var O;arguments.length>=3&&(O=R),"[object Array]"===u.call(Q)?function(Q,$,R){for(var O=0,A=Q.length;O<A;O++)q.call(Q,O)&&(null==R?$(Q[O],O,Q):$.call(R,Q[O],O,Q))}(Q,$,O):"string"==typeof Q?function(Q,$,R){for(var O=0,A=Q.length;O<A;O++)null==R?$(Q.charAt(O),O,Q):$.call(R,Q.charAt(O),O,Q)}(Q,$,O):function(Q,$,R){for(var O in Q)q.call(Q,O)&&(null==R?$(Q[O],O,Q):$.call(R,Q[O],O,Q))}(Q,$,O)}},8026:ve=>{"use strict";var C=Object.prototype.toString,S=Math.max,q=function(x,T){for(var Q=[],$=0;$<x.length;$+=1)Q[$]=x[$];for(var R=0;R<T.length;R+=1)Q[R+x.length]=T[R];return Q};ve.exports=function(x){var T=this;if("function"!=typeof T||"[object Function]"!==C.apply(T))throw new TypeError("Function.prototype.bind called on incompatible "+T);for(var $,Q=function(x,T){for(var Q=[],$=1,R=0;$<x.length;$+=1,R+=1)Q[R]=x[$];return Q}(arguments),O=S(0,T.length-Q.length),A=[],V=0;V<O;V++)A[V]="$"+V;if($=Function("binder","return function ("+function(P,x){for(var T="",Q=0;Q<P.length;Q+=1)T+=P[Q],Q+1<P.length&&(T+=",");return T}(A)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof $){var be=T.apply(this,q(Q,arguments));return Object(be)===be?be:this}return T.apply(x,q(Q,arguments))}),T.prototype){var fe=function(){};fe.prototype=T.prototype,$.prototype=new fe,fe.prototype=null}return $}},8956:(ve,De,C)=>{"use strict";var S=C(8026);ve.exports=Function.prototype.bind||S},7688:ve=>{"use strict";var De=function(){return"string"==typeof function(){}.name},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch{C=null}De.functionsHaveConfigurableNames=function(){if(!De()||!C)return!1;var q=C(function(){},"name");return!!q&&!!q.configurable};var S=Function.prototype.bind;De.boundFunctionsHaveNames=function(){return De()&&"function"==typeof S&&""!==function(){}.bind().name},ve.exports=De},3485:(ve,De,C)=>{"use strict";var S,u=SyntaxError,q=Function,Y=TypeError,U=function(K){try{return q('"use strict"; return ('+K+").constructor;")()}catch{}},P=Object.getOwnPropertyDescriptor;if(P)try{P({},"")}catch{P=null}var x=function(){throw new Y},T=P?function(){try{return x}catch{try{return P(arguments,"callee").get}catch{return x}}}():x,Q=C(2337)(),$=C(1441)(),R=Object.getPrototypeOf||($?function(K){return K.__proto__}:null),O={},A=typeof Uint8Array>"u"||!R?S:R(Uint8Array),V={"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":Q&&R?R([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":O,"%AsyncGenerator%":O,"%AsyncGeneratorFunction%":O,"%AsyncIteratorPrototype%":O,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":q,"%GeneratorFunction%":O,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q&&R?R(R([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Q||!R?S:R((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Q||!R?S:R((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q&&R?R(""[Symbol.iterator]()):S,"%Symbol%":Q?Symbol:S,"%SyntaxError%":u,"%ThrowTypeError%":T,"%TypedArray%":A,"%TypeError%":Y,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};if(R)try{null.error}catch(K){var fe=R(R(K));V["%Error.prototype%"]=fe}var be=function K(Z){var me;if("%AsyncFunction%"===Z)me=U("async function () {}");else if("%GeneratorFunction%"===Z)me=U("function* () {}");else if("%AsyncGeneratorFunction%"===Z)me=U("async function* () {}");else if("%AsyncGenerator%"===Z){var Be=K("%AsyncGeneratorFunction%");Be&&(me=Be.prototype)}else if("%AsyncIteratorPrototype%"===Z){var mt=K("%AsyncGenerator%");mt&&R&&(me=R(mt.prototype))}return V[Z]=me,me},se={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},H=C(8956),k=C(7528),te=H.call(Function.call,Array.prototype.concat),le=H.call(Function.apply,Array.prototype.splice),ae=H.call(Function.call,String.prototype.replace),Ae=H.call(Function.call,String.prototype.slice),Re=H.call(Function.call,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,I=function(Z,me){var mt,Be=Z;if(k(se,Be)&&(Be="%"+(mt=se[Be])[0]+"%"),k(V,Be)){var Mt=V[Be];if(Mt===O&&(Mt=be(Be)),typeof Mt>"u"&&!me)throw new Y("intrinsic "+Z+" exists, but is not available. Please file an issue!");return{alias:mt,name:Be,value:Mt}}throw new u("intrinsic "+Z+" does not exist!")};ve.exports=function(Z,me){if("string"!=typeof Z||0===Z.length)throw new Y("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof me)throw new Y('"allowMissing" argument must be a boolean');if(null===Re(/^%?[^%]*%?$/,Z))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Be=function(Z){var me=Ae(Z,0,1),Be=Ae(Z,-1);if("%"===me&&"%"!==Be)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===Be&&"%"!==me)throw new u("invalid intrinsic syntax, expected opening `%`");var mt=[];return ae(Z,F,function(Mt,Fe,We,Pe){mt[mt.length]=We?ae(Pe,N,"$1"):Fe||Mt}),mt}(Z),mt=Be.length>0?Be[0]:"",Mt=I("%"+mt+"%",me),Fe=Mt.name,We=Mt.value,Pe=!1,Ge=Mt.alias;Ge&&(mt=Ge[0],le(Be,te([0,1],Ge)));for(var st=1,Ot=!0;st<Be.length;st+=1){var pe=Be[st],He=Ae(pe,0,1),at=Ae(pe,-1);if(('"'===He||"'"===He||"`"===He||'"'===at||"'"===at||"`"===at)&&He!==at)throw new u("property names with quotes must have matching quotes");if(("constructor"===pe||!Ot)&&(Pe=!0),k(V,Fe="%"+(mt+="."+pe)+"%"))We=V[Fe];else if(null!=We){if(!(pe in We)){if(!me)throw new Y("base intrinsic for "+Z+" exists, but the property is not available.");return}if(P&&st+1>=Be.length){var Ye=P(We,pe);We=(Ot=!!Ye)&&"get"in Ye&&!("originalValue"in Ye.get)?Ye.get:We[pe]}else Ot=k(We,pe),We=We[pe];Ot&&!Pe&&(V[Fe]=We)}}return We}},6078:(ve,De,C)=>{"use strict";var u=C(3485)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}ve.exports=u},5112:ve=>{"use strict";var De=typeof BigInt<"u"&&BigInt;ve.exports=function(){return"function"==typeof De&&"function"==typeof BigInt&&"bigint"==typeof De(42)&&"bigint"==typeof BigInt(42)}},7811:(ve,De,C)=>{"use strict";var u=C(3485)("%Object.defineProperty%",!0),q=function(){if(u)try{return u({},"a",{value:1}),!0}catch{return!1}return!1};q.hasArrayLengthDefineBug=function(){if(!q())return null;try{return 1!==u([],"length",{value:1}).length}catch{return!0}},ve.exports=q},1441:ve=>{"use strict";var De={foo:{}},C=Object;ve.exports=function(){return{__proto__:De}.foo===De.foo&&!({__proto__:null}instanceof C)}},2337:(ve,De,C)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,u=C(2759);ve.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&u()}},2759:ve=>{"use strict";ve.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var C={},S=Symbol("test"),u=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(S in C[S]=42,C)return!1;if("function"==typeof Object.keys&&0!==Object.keys(C).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(C).length)return!1;var Y=Object.getOwnPropertySymbols(C);if(1!==Y.length||Y[0]!==S||!Object.prototype.propertyIsEnumerable.call(C,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var U=Object.getOwnPropertyDescriptor(C,S);if(42!==U.value||!0!==U.enumerable)return!1}return!0}},6518:(ve,De,C)=>{"use strict";var S=C(2759);ve.exports=function(){return S()&&!!Symbol.toStringTag}},7528:(ve,De,C)=>{"use strict";var S=Function.prototype.call,u=Object.prototype.hasOwnProperty,q=C(8956);ve.exports=q.call(S,u)},2605:(ve,De,C)=>{"use strict";var S=C(3485),u=C(7528),q=C(4355)(),Y=S("%TypeError%"),U={assert:function(P,x){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new Y("`O` is not an object");if("string"!=typeof x)throw new Y("`slot` must be a string");if(q.assert(P),!U.has(P,x))throw new Y("`"+x+"` is not present on `O`")},get:function(P,x){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new Y("`O` is not an object");if("string"!=typeof x)throw new Y("`slot` must be a string");var T=q.get(P);return T&&T["$"+x]},has:function(P,x){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new Y("`O` is not an object");if("string"!=typeof x)throw new Y("`slot` must be a string");var T=q.get(P);return!!T&&u(T,"$"+x)},set:function(P,x,T){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new Y("`O` is not an object");if("string"!=typeof x)throw new Y("`slot` must be a string");var Q=q.get(P);Q||q.set(P,Q={}),Q["$"+x]=T}};Object.freeze&&Object.freeze(U),ve.exports=U},1568:(ve,De,C)=>{"use strict";var S=C(6518)(),q=C(1491)("Object.prototype.toString"),Y=function(T){return!(S&&T&&"object"==typeof T&&Symbol.toStringTag in T)&&"[object Arguments]"===q(T)},U=function(T){return!!Y(T)||null!==T&&"object"==typeof T&&"number"==typeof T.length&&T.length>=0&&"[object Array]"!==q(T)&&"[object Function]"===q(T.callee)},P=function(){return Y(arguments)}();Y.isLegacyArguments=U,ve.exports=P?Y:U},9850:(ve,De,C)=>{"use strict";var S=C(1773),u=C(1491),q=C(3485),Y=C(3631),U=q("ArrayBuffer",!0),P=q("Float32Array",!0),x=u("ArrayBuffer.prototype.byteLength",!0),T=U&&!x&&(new U).slice,Q=T&&S(T);ve.exports=x||Q?function(R){if(!R||"object"!=typeof R)return!1;try{return x?x(R):Q(R,0),!0}catch{return!1}}:P?function(R){try{return new P(R).buffer===R&&!Y(R)}catch(O){return"object"==typeof R&&"RangeError"===O.name}}:function(R){return!1}},7050:(ve,De,C)=>{"use strict";if(C(5112)()){var u=BigInt.prototype.valueOf;ve.exports=function(U){return!(null===U||typeof U>"u"||"boolean"==typeof U||"string"==typeof U||"number"==typeof U||"symbol"==typeof U||"function"==typeof U)&&("bigint"==typeof U||function(U){try{return u.call(U),!0}catch{}return!1}(U))}}else ve.exports=function(U){return!1}},2856:(ve,De,C)=>{"use strict";var S=C(1491),u=S("Boolean.prototype.toString"),q=S("Object.prototype.toString"),P=C(6518)();ve.exports=function(T){return"boolean"==typeof T||null!==T&&"object"==typeof T&&(P&&Symbol.toStringTag in T?function(T){try{return u(T),!0}catch{return!1}}(T):"[object Boolean]"===q(T))}},7617:ve=>{function De(S){return!!S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}ve.exports=function(S){return null!=S&&(De(S)||function C(S){return"function"==typeof S.readFloatLE&&"function"==typeof S.slice&&De(S.slice(0,0))}(S)||!!S._isBuffer)}},5487:ve=>{"use strict";var S,u,De=Function.prototype.toString,C="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof C&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw u}}),u={},C(function(){throw 42},null,S)}catch(se){se!==u&&(C=null)}else C=null;var q=/^\s*class\b/,Y=function(H){try{var k=De.call(H);return q.test(k)}catch{return!1}},U=function(H){try{return!Y(H)&&(De.call(H),!0)}catch{return!1}},P=Object.prototype.toString,A="function"==typeof Symbol&&!!Symbol.toStringTag,V=!(0 in[,]),fe=function(){return!1};if("object"==typeof document){var be=document.all;P.call(be)===P.call(document.all)&&(fe=function(H){if((V||!H)&&(typeof H>"u"||"object"==typeof H))try{var k=P.call(H);return("[object HTMLAllCollection]"===k||"[object HTML document.all class]"===k||"[object HTMLCollection]"===k||"[object Object]"===k)&&null==H("")}catch{}return!1})}ve.exports=C?function(H){if(fe(H))return!0;if(!H||"function"!=typeof H&&"object"!=typeof H)return!1;try{C(H,null,S)}catch(k){if(k!==u)return!1}return!Y(H)&&U(H)}:function(H){if(fe(H))return!0;if(!H||"function"!=typeof H&&"object"!=typeof H)return!1;if(A)return U(H);if(Y(H))return!1;var k=P.call(H);return!("[object Function]"!==k&&"[object GeneratorFunction]"!==k&&!/^\[object HTML/.test(k))&&U(H)}},6994:(ve,De,C)=>{"use strict";var S=Date.prototype.getDay,q=Object.prototype.toString,U=C(6518)();ve.exports=function(x){return"object"==typeof x&&null!==x&&(U?function(x){try{return S.call(x),!0}catch{return!1}}(x):"[object Date]"===q.call(x))}},6128:ve=>{"use strict";var S,De="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;De||(S=function(U){return!1});var u=De?Map.prototype.has:null,q=C?Set.prototype.has:null;!S&&!u&&(S=function(U){return!1}),ve.exports=S||function(U){if(!U||"object"!=typeof U)return!1;try{if(u.call(U),q)try{q.call(U)}catch{return!0}return U instanceof De}catch{}return!1}},9065:(ve,De,C)=>{"use strict";var S=Number.prototype.toString,q=Object.prototype.toString,U=C(6518)();ve.exports=function(x){return"number"==typeof x||"object"==typeof x&&(U?function(x){try{return S.call(x),!0}catch{return!1}}(x):"[object Number]"===q.call(x))}},9649:(ve,De,C)=>{"use strict";var q,Y,U,P,S=C(1491),u=C(6518)();if(u){q=S("Object.prototype.hasOwnProperty"),Y=S("RegExp.prototype.exec"),U={};var x=function(){throw U};P={toString:x,valueOf:x},"symbol"==typeof Symbol.toPrimitive&&(P[Symbol.toPrimitive]=x)}var T=S("Object.prototype.toString"),Q=Object.getOwnPropertyDescriptor;ve.exports=u?function(O){if(!O||"object"!=typeof O)return!1;var A=Q(O,"lastIndex");if(!A||!q(A,"value"))return!1;try{Y(O,P)}catch(fe){return fe===U}}:function(O){return!(!O||"object"!=typeof O&&"function"!=typeof O)&&"[object RegExp]"===T(O)}},5918:ve=>{"use strict";var S,De="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;C||(S=function(U){return!1});var u=De?Map.prototype.has:null,q=C?Set.prototype.has:null;!S&&!q&&(S=function(U){return!1}),ve.exports=S||function(U){if(!U||"object"!=typeof U)return!1;try{if(q.call(U),u)try{u.call(U)}catch{return!0}return U instanceof C}catch{}return!1}},5327:(ve,De,C)=>{"use strict";var u=C(1491)("SharedArrayBuffer.prototype.byteLength",!0);ve.exports=u?function(Y){if(!Y||"object"!=typeof Y)return!1;try{return u(Y),!0}catch{return!1}}:function(Y){return!1}},2706:(ve,De,C)=>{"use strict";var S=String.prototype.valueOf,q=Object.prototype.toString,U=C(6518)();ve.exports=function(x){return"string"==typeof x||"object"==typeof x&&(U?function(x){try{return S.call(x),!0}catch{return!1}}(x):"[object String]"===q.call(x))}},2630:(ve,De,C)=>{"use strict";var S=Object.prototype.toString;if(C(2337)()){var q=Symbol.prototype.toString,Y=/^Symbol\(.*\)$/;ve.exports=function(x){if("symbol"==typeof x)return!0;if("[object Symbol]"!==S.call(x))return!1;try{return function(x){return"symbol"==typeof x.valueOf()&&Y.test(q.call(x))}(x)}catch{return!1}}}else ve.exports=function(x){return!1}},3631:(ve,De,C)=>{"use strict";var S=C(927);ve.exports=function(q){return!!S(q)}},1545:ve=>{"use strict";var S,De="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,C="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;De||(S=function(U){return!1});var u=De?De.prototype.has:null,q=C?C.prototype.has:null;!S&&!u&&(S=function(U){return!1}),ve.exports=S||function(U){if(!U||"object"!=typeof U)return!1;try{if(u.call(U,u),q)try{q.call(U,q)}catch{return!0}return U instanceof De}catch{}return!1}},9043:(ve,De,C)=>{"use strict";var S=C(3485),u=C(1491),q=S("%WeakSet%",!0),Y=u("WeakSet.prototype.has",!0);if(Y){var U=u("WeakMap.prototype.has",!0);ve.exports=function(x){if(!x||"object"!=typeof x)return!1;try{if(Y(x,Y),U)try{U(x,U)}catch{return!0}return x instanceof q}catch{}return!1}}else ve.exports=function(x){return!1}},9604:ve=>{var De={}.toString;ve.exports=Array.isArray||function(C){return"[object Array]"==De.call(C)}},3219:(ve,De,C)=>{var S,u,q,Y,U;S=C(3754),u=C(7303).utf8,q=C(7617),Y=C(7303).bin,(U=function(P,x){P.constructor==String?P=x&&"binary"===x.encoding?Y.stringToBytes(P):u.stringToBytes(P):q(P)?P=Array.prototype.slice.call(P,0):!Array.isArray(P)&&P.constructor!==Uint8Array&&(P=P.toString());for(var T=S.bytesToWords(P),Q=8*P.length,$=1732584193,R=-271733879,O=-1732584194,A=271733878,V=0;V<T.length;V++)T[V]=16711935&(T[V]<<8|T[V]>>>24)|4278255360&(T[V]<<24|T[V]>>>8);T[Q>>>5]|=128<<Q%32,T[14+(Q+64>>>9<<4)]=Q;var fe=U._ff,be=U._gg,se=U._hh,H=U._ii;for(V=0;V<T.length;V+=16){var k=$,te=R,le=O,ae=A;$=fe($,R,O,A,T[V+0],7,-680876936),A=fe(A,$,R,O,T[V+1],12,-389564586),O=fe(O,A,$,R,T[V+2],17,606105819),R=fe(R,O,A,$,T[V+3],22,-1044525330),$=fe($,R,O,A,T[V+4],7,-176418897),A=fe(A,$,R,O,T[V+5],12,1200080426),O=fe(O,A,$,R,T[V+6],17,-1473231341),R=fe(R,O,A,$,T[V+7],22,-45705983),$=fe($,R,O,A,T[V+8],7,1770035416),A=fe(A,$,R,O,T[V+9],12,-1958414417),O=fe(O,A,$,R,T[V+10],17,-42063),R=fe(R,O,A,$,T[V+11],22,-1990404162),$=fe($,R,O,A,T[V+12],7,1804603682),A=fe(A,$,R,O,T[V+13],12,-40341101),O=fe(O,A,$,R,T[V+14],17,-1502002290),$=be($,R=fe(R,O,A,$,T[V+15],22,1236535329),O,A,T[V+1],5,-165796510),A=be(A,$,R,O,T[V+6],9,-1069501632),O=be(O,A,$,R,T[V+11],14,643717713),R=be(R,O,A,$,T[V+0],20,-373897302),$=be($,R,O,A,T[V+5],5,-701558691),A=be(A,$,R,O,T[V+10],9,38016083),O=be(O,A,$,R,T[V+15],14,-660478335),R=be(R,O,A,$,T[V+4],20,-405537848),$=be($,R,O,A,T[V+9],5,568446438),A=be(A,$,R,O,T[V+14],9,-1019803690),O=be(O,A,$,R,T[V+3],14,-187363961),R=be(R,O,A,$,T[V+8],20,1163531501),$=be($,R,O,A,T[V+13],5,-1444681467),A=be(A,$,R,O,T[V+2],9,-51403784),O=be(O,A,$,R,T[V+7],14,1735328473),$=se($,R=be(R,O,A,$,T[V+12],20,-1926607734),O,A,T[V+5],4,-378558),A=se(A,$,R,O,T[V+8],11,-2022574463),O=se(O,A,$,R,T[V+11],16,1839030562),R=se(R,O,A,$,T[V+14],23,-35309556),$=se($,R,O,A,T[V+1],4,-1530992060),A=se(A,$,R,O,T[V+4],11,1272893353),O=se(O,A,$,R,T[V+7],16,-155497632),R=se(R,O,A,$,T[V+10],23,-1094730640),$=se($,R,O,A,T[V+13],4,681279174),A=se(A,$,R,O,T[V+0],11,-358537222),O=se(O,A,$,R,T[V+3],16,-722521979),R=se(R,O,A,$,T[V+6],23,76029189),$=se($,R,O,A,T[V+9],4,-640364487),A=se(A,$,R,O,T[V+12],11,-421815835),O=se(O,A,$,R,T[V+15],16,530742520),$=H($,R=se(R,O,A,$,T[V+2],23,-995338651),O,A,T[V+0],6,-198630844),A=H(A,$,R,O,T[V+7],10,1126891415),O=H(O,A,$,R,T[V+14],15,-1416354905),R=H(R,O,A,$,T[V+5],21,-57434055),$=H($,R,O,A,T[V+12],6,1700485571),A=H(A,$,R,O,T[V+3],10,-1894986606),O=H(O,A,$,R,T[V+10],15,-1051523),R=H(R,O,A,$,T[V+1],21,-2054922799),$=H($,R,O,A,T[V+8],6,1873313359),A=H(A,$,R,O,T[V+15],10,-30611744),O=H(O,A,$,R,T[V+6],15,-1560198380),R=H(R,O,A,$,T[V+13],21,1309151649),$=H($,R,O,A,T[V+4],6,-145523070),A=H(A,$,R,O,T[V+11],10,-1120210379),O=H(O,A,$,R,T[V+2],15,718787259),R=H(R,O,A,$,T[V+9],21,-343485551),$=$+k>>>0,R=R+te>>>0,O=O+le>>>0,A=A+ae>>>0}return S.endian([$,R,O,A])})._ff=function(P,x,T,Q,$,R,O){var A=P+(x&T|~x&Q)+($>>>0)+O;return(A<<R|A>>>32-R)+x},U._gg=function(P,x,T,Q,$,R,O){var A=P+(x&Q|T&~Q)+($>>>0)+O;return(A<<R|A>>>32-R)+x},U._hh=function(P,x,T,Q,$,R,O){var A=P+(x^T^Q)+($>>>0)+O;return(A<<R|A>>>32-R)+x},U._ii=function(P,x,T,Q,$,R,O){var A=P+(T^(x|~Q))+($>>>0)+O;return(A<<R|A>>>32-R)+x},U._blocksize=16,U._digestsize=16,ve.exports=function(P,x){if(null==P)throw new Error("Illegal argument "+P);var T=S.wordsToBytes(U(P,x));return x&&x.asBytes?T:x&&x.asString?Y.bytesToString(T):S.bytesToHex(T)}},5580:(ve,De)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var C=[];C[0]=function(){return function(){}},C[1]=function(Y,U){return typeof U>"u"?Y:function(x){Y(x,U)}};var q=function(){function Y(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return Y.prototype.addHandler=function(U,P){return this.isHandlerAttached(U,P)||(this._handlers.push(U),this._contexts.push(P),this._createDispatcher(),this._updateHasHandlers()),this},Y.prototype.removeHandler=function(U,P){var x=this._getHandlerIndex(U,P);return typeof x<"u"&&(this._handlers.splice(x,1),this._contexts.splice(x,1),this._createDispatcher(),this._updateHasHandlers()),this},Y.prototype.isHandlerAttached=function(U,P){return typeof this._getHandlerIndex(U,P)<"u"},Y.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},Y.prototype._getHandlerIndex=function(U,P){var T,x=this._handlers.length;for(T=0;T<x&&(this._handlers[T]!==U||this._contexts[T]!==P);T++);return T<x?T:void 0},Y.prototype._createDispatcher=function(){this.dispatch=function S(Y){return C[Y]||(C[Y]=function u(Y){for(var U="return function dispatcher"+Y+"(payload) {\n",P=[],x=[],T=0;T<Y;T++)P.push("cb"+T),x.push("ctx"+T),U+="    cb"+T+"(payload, ctx"+T+");\n";return U+="};",new(Function.bind.apply(Function,[void 0].concat(P.concat(x),[U])))}(Y)),C[Y]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},Y}();De.default=q},5861:(ve,De,C)=>{"use strict";var u=C(5580);De.j=u.default},2720:(ve,De,C)=>{var S="function"==typeof Map&&Map.prototype,u=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,q=S&&u&&"function"==typeof u.get?u.get:null,Y=S&&Map.prototype.forEach,U="function"==typeof Set&&Set.prototype,P=Object.getOwnPropertyDescriptor&&U?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,x=U&&P&&"function"==typeof P.get?P.get:null,T=U&&Set.prototype.forEach,$="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,O="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,V="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,fe=Boolean.prototype.valueOf,be=Object.prototype.toString,se=Function.prototype.toString,H=String.prototype.match,k=String.prototype.slice,te=String.prototype.replace,le=String.prototype.toUpperCase,ae=String.prototype.toLowerCase,Ae=RegExp.prototype.test,Re=Array.prototype.concat,F=Array.prototype.join,N=Array.prototype.slice,ne=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,K=Object.getOwnPropertySymbols,Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,me="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Be="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,mt=Object.prototype.propertyIsEnumerable,Mt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(de){return de.__proto__}:null);function Fe(de,we){if(de===1/0||de===-1/0||de!=de||de&&de>-1e3&&de<1e3||Ae.call(/e/,we))return we;var nn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof de){var Yt=de<0?-ne(-de):ne(de);if(Yt!==de){var _n=String(Yt),en=k.call(we,_n.length+1);return te.call(_n,nn,"$&_")+"."+te.call(te.call(en,/([0-9]{3})/g,"$&_"),/_$/,"")}}return te.call(we,nn,"$&_")}var We=C(4654),Pe=We.custom,Ge=xe(Pe)?Pe:null;function st(de,we,nn){var Yt="double"===(nn.quoteStyle||we)?'"':"'";return Yt+de+Yt}function Ot(de){return te.call(String(de),/"/g,"&quot;")}function pe(de){return!("[object Array]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}function at(de){return!("[object RegExp]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}function xe(de){if(me)return de&&"object"==typeof de&&de instanceof Symbol;if("symbol"==typeof de)return!0;if(!de||"object"!=typeof de||!Z)return!1;try{return Z.call(de),!0}catch{}return!1}ve.exports=function de(we,nn,Yt,_n){var en=nn||{};if(Je(en,"quoteStyle")&&"single"!==en.quoteStyle&&"double"!==en.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Je(en,"maxStringLength")&&("number"==typeof en.maxStringLength?en.maxStringLength<0&&en.maxStringLength!==1/0:null!==en.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var wr=!Je(en,"customInspect")||en.customInspect;if("boolean"!=typeof wr&&"symbol"!==wr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Je(en,"indent")&&null!==en.indent&&"\t"!==en.indent&&!(parseInt(en.indent,10)===en.indent&&en.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Je(en,"numericSeparator")&&"boolean"!=typeof en.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var zn=en.numericSeparator;if(typeof we>"u")return"undefined";if(null===we)return"null";if("boolean"==typeof we)return we?"true":"false";if("string"==typeof we)return Vr(we,en);if("number"==typeof we){if(0===we)return 1/0/we>0?"0":"-0";var Kr=String(we);return zn?Fe(we,Kr):Kr}if("bigint"==typeof we){var mo=String(we)+"n";return zn?Fe(we,mo):mo}var In=typeof en.depth>"u"?5:en.depth;if(typeof Yt>"u"&&(Yt=0),Yt>=In&&In>0&&"object"==typeof we)return pe(we)?"[Array]":"[Object]";var ao=function so(de,we){var nn;if("\t"===de.indent)nn="\t";else{if(!("number"==typeof de.indent&&de.indent>0))return null;nn=F.call(Array(de.indent+1)," ")}return{base:nn,prev:F.call(Array(we+1),nn)}}(en,Yt);if(typeof _n>"u")_n=[];else if(ln(_n,we)>=0)return"[Circular]";function lo(Zo,ui,vi){if(ui&&(_n=N.call(_n)).push(ui),vi){var di={depth:en.depth};return Je(en,"quoteStyle")&&(di.quoteStyle=en.quoteStyle),de(Zo,di,Yt+1,_n)}return de(Zo,en,Yt+1,_n)}if("function"==typeof we&&!at(we)){var Ii=function qt(de){if(de.name)return de.name;var we=H.call(se.call(de),/^function\s*([\w$]+)/);return we?we[1]:null}(we),Po=jr(we,lo);return"[Function"+(Ii?": "+Ii:" (anonymous)")+"]"+(Po.length>0?" { "+F.call(Po,", ")+" }":"")}if(xe(we)){var On=me?te.call(String(we),/^(Symbol\(.*\))_[^)]*$/,"$1"):Z.call(we);return"object"!=typeof we||me?On:Rr(On)}if(function zo(de){return!(!de||"object"!=typeof de)&&(typeof HTMLElement<"u"&&de instanceof HTMLElement||"string"==typeof de.nodeName&&"function"==typeof de.getAttribute)}(we)){for(var gr="<"+ae.call(String(we.nodeName)),_r=we.attributes||[],xn=0;xn<_r.length;xn++)gr+=" "+_r[xn].name+"="+st(Ot(_r[xn].value),"double",en);return gr+=">",we.childNodes&&we.childNodes.length&&(gr+="..."),gr+"</"+ae.call(String(we.nodeName))+">"}if(pe(we)){if(0===we.length)return"[]";var Ln=jr(we,lo);return ao&&!function So(de){for(var we=0;we<de.length;we++)if(ln(de[we],"\n")>=0)return!1;return!0}(Ln)?"["+ho(Ln,ao)+"]":"[ "+F.call(Ln,", ")+" ]"}if(function Ye(de){return!("[object Error]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we)){var Wo=jr(we,lo);return"cause"in Error.prototype||!("cause"in we)||mt.call(we,"cause")?0===Wo.length?"["+String(we)+"]":"{ ["+String(we)+"] "+F.call(Wo,", ")+" }":"{ ["+String(we)+"] "+F.call(Re.call("[cause]: "+lo(we.cause),Wo),", ")+" }"}if("object"==typeof we&&wr){if(Ge&&"function"==typeof we[Ge]&&We)return We(we,{depth:In-Yt});if("symbol"!==wr&&"function"==typeof we.inspect)return we.inspect()}if(function Vt(de){if(!q||!de||"object"!=typeof de)return!1;try{q.call(de);try{x.call(de)}catch{return!0}return de instanceof Map}catch{}return!1}(we)){var un=[];return Y&&Y.call(we,function(Zo,ui){un.push(lo(ui,we,!0)+" => "+lo(Zo,we))}),Kn("Map",q.call(we),un,ao)}if(function mr(de){if(!x||!de||"object"!=typeof de)return!1;try{x.call(de);try{q.call(de)}catch{return!0}return de instanceof Set}catch{}return!1}(we)){var ni=[];return T&&T.call(we,function(Zo){ni.push(lo(Zo,we))}),Kn("Set",x.call(we),ni,ao)}if(function cn(de){if(!$||!de||"object"!=typeof de)return!1;try{$.call(de,$);try{O.call(de,O)}catch{return!0}return de instanceof WeakMap}catch{}return!1}(we))return Pr("WeakMap");if(function Pn(de){if(!O||!de||"object"!=typeof de)return!1;try{O.call(de,O);try{$.call(de,$)}catch{return!0}return de instanceof WeakSet}catch{}return!1}(we))return Pr("WeakSet");if(function bn(de){if(!V||!de||"object"!=typeof de)return!1;try{return V.call(de),!0}catch{}return!1}(we))return Pr("WeakRef");if(function Zt(de){return!("[object Number]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we))return Rr(lo(Number(we)));if(function _e(de){if(!de||"object"!=typeof de||!I)return!1;try{return I.call(de),!0}catch{}return!1}(we))return Rr(lo(I.call(we)));if(function kt(de){return!("[object Boolean]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we))return Rr(fe.call(we));if(function Ft(de){return!("[object String]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we))return Rr(lo(String(we)));if(typeof window<"u"&&we===window)return"{ [object Window] }";if(we===global)return"{ [object globalThis] }";if(!function He(de){return!("[object Date]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we)&&!at(we)){var xi=jr(we,lo),ri=Mt?Mt(we)===Object.prototype:we instanceof Object||we.constructor===Object,_i=we instanceof Object?"":"null prototype",oe=!ri&&Be&&Object(we)===we&&Be in we?k.call(ot(we),8,-1):_i?"Object":"",Ti=(ri||"function"!=typeof we.constructor?"":we.constructor.name?we.constructor.name+" ":"")+(oe||_i?"["+F.call(Re.call([],oe||[],_i||[]),": ")+"] ":"");return 0===xi.length?Ti+"{}":ao?Ti+"{"+ho(xi,ao)+"}":Ti+"{ "+F.call(xi,", ")+" }"}return String(we)};var Te=Object.prototype.hasOwnProperty||function(de){return de in this};function Je(de,we){return Te.call(de,we)}function ot(de){return be.call(de)}function ln(de,we){if(de.indexOf)return de.indexOf(we);for(var nn=0,Yt=de.length;nn<Yt;nn++)if(de[nn]===we)return nn;return-1}function Vr(de,we){if(de.length>we.maxStringLength){var nn=de.length-we.maxStringLength,Yt="... "+nn+" more character"+(nn>1?"s":"");return Vr(k.call(de,0,we.maxStringLength),we)+Yt}return st(te.call(te.call(de,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,po),"single",we)}function po(de){var we=de.charCodeAt(0),nn={8:"b",9:"t",10:"n",12:"f",13:"r"}[we];return nn?"\\"+nn:"\\x"+(we<16?"0":"")+le.call(we.toString(16))}function Rr(de){return"Object("+de+")"}function Pr(de){return de+" { ? }"}function Kn(de,we,nn,Yt){return de+" ("+we+") {"+(Yt?ho(nn,Yt):F.call(nn,", "))+"}"}function ho(de,we){if(0===de.length)return"";var nn="\n"+we.prev+we.base;return nn+F.call(de,","+nn)+"\n"+we.prev}function jr(de,we){var nn=pe(de),Yt=[];if(nn){Yt.length=de.length;for(var _n=0;_n<de.length;_n++)Yt[_n]=Je(de,_n)?we(de[_n],de):""}var wr,en="function"==typeof K?K(de):[];if(me){wr={};for(var zn=0;zn<en.length;zn++)wr["$"+en[zn]]=en[zn]}for(var Kr in de)Je(de,Kr)&&(nn&&String(Number(Kr))===Kr&&Kr<de.length||me&&wr["$"+Kr]instanceof Symbol||(Ae.call(/[^\w$]/,Kr)?Yt.push(we(Kr,de)+": "+we(de[Kr],de)):Yt.push(Kr+": "+we(de[Kr],de))));if("function"==typeof K)for(var mo=0;mo<en.length;mo++)mt.call(de,en[mo])&&Yt.push("["+we(en[mo])+"]: "+we(de[en[mo]],de));return Yt}},5376:ve=>{"use strict";var De=function(C){return C!=C};ve.exports=function(S,u){return 0===S&&0===u?1/S==1/u:!!(S===u||De(S)&&De(u))}},500:(ve,De,C)=>{"use strict";var S=C(9567),u=C(1773),q=C(5376),Y=C(8204),U=C(2688),P=u(Y(),Object);S(P,{getPolyfill:Y,implementation:q,shim:U}),ve.exports=P},8204:(ve,De,C)=>{"use strict";var S=C(5376);ve.exports=function(){return"function"==typeof Object.is?Object.is:S}},2688:(ve,De,C)=>{"use strict";var S=C(8204),u=C(9567);ve.exports=function(){var Y=S();return u(Object,{is:Y},{is:function(){return Object.is!==Y}}),Y}},1601:(ve,De,C)=>{"use strict";var S;if(!Object.keys){var u=Object.prototype.hasOwnProperty,q=Object.prototype.toString,Y=C(6755),U=Object.prototype.propertyIsEnumerable,P=!U.call({toString:null},"toString"),x=U.call(function(){},"prototype"),T=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Q=function(A){var V=A.constructor;return V&&V.prototype===A},$={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},R=function(){if(typeof window>"u")return!1;for(var A in window)try{if(!$["$"+A]&&u.call(window,A)&&null!==window[A]&&"object"==typeof window[A])try{Q(window[A])}catch{return!0}}catch{return!0}return!1}();S=function(V){var fe=null!==V&&"object"==typeof V,be="[object Function]"===q.call(V),se=Y(V),H=fe&&"[object String]"===q.call(V),k=[];if(!fe&&!be&&!se)throw new TypeError("Object.keys called on a non-object");var te=x&&be;if(H&&V.length>0&&!u.call(V,0))for(var le=0;le<V.length;++le)k.push(String(le));if(se&&V.length>0)for(var ae=0;ae<V.length;++ae)k.push(String(ae));else for(var Ae in V)(!te||"prototype"!==Ae)&&u.call(V,Ae)&&k.push(String(Ae));if(P)for(var Re=function(A){if(typeof window>"u"||!R)return Q(A);try{return Q(A)}catch{return!1}}(V),F=0;F<T.length;++F)(!Re||"constructor"!==T[F])&&u.call(V,T[F])&&k.push(T[F]);return k}}ve.exports=S},5692:(ve,De,C)=>{"use strict";var S=Array.prototype.slice,u=C(6755),q=Object.keys,Y=q?function(x){return q(x)}:C(1601),U=Object.keys;Y.shim=function(){if(Object.keys){var x=function(){var T=Object.keys(arguments);return T&&T.length===arguments.length}(1,2);x||(Object.keys=function(Q){return u(Q)?U(S.call(Q)):U(Q)})}else Object.keys=Y;return Object.keys||Y},ve.exports=Y},6755:ve=>{"use strict";var De=Object.prototype.toString;ve.exports=function(S){var u=De.call(S),q="[object Arguments]"===u;return q||(q="[object Array]"!==u&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===De.call(S.callee)),q}},8032:(ve,De,C)=>{"use strict";var S=C(5692),u=C(2759)(),q=C(1491),Y=Object,U=q("Array.prototype.push"),P=q("Object.prototype.propertyIsEnumerable"),x=u?Object.getOwnPropertySymbols:null;ve.exports=function(Q,$){if(null==Q)throw new TypeError("target must be an object");var R=Y(Q);if(1===arguments.length)return R;for(var O=1;O<arguments.length;++O){var A=Y(arguments[O]),V=S(A),fe=u&&(Object.getOwnPropertySymbols||x);if(fe)for(var be=fe(A),se=0;se<be.length;++se){var H=be[se];P(A,H)&&U(V,H)}for(var k=0;k<V.length;++k){var te=V[k];P(A,te)&&(R[te]=A[te])}}return R}},5747:(ve,De,C)=>{"use strict";var S=C(9567),u=C(1773),q=C(8032),Y=C(9530),U=C(4096),P=u.apply(Y()),x=function(Q,$){return P(Object,arguments)};S(x,{getPolyfill:Y,implementation:q,shim:U}),ve.exports=x},9530:(ve,De,C)=>{"use strict";var S=C(8032);ve.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var Y="abcdefghijklmnopqrst",U=Y.split(""),P={},x=0;x<U.length;++x)P[U[x]]=U[x];var T=Object.assign({},P),Q="";for(var $ in T)Q+=$;return Y!==Q}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var Y=Object.preventExtensions({1:2});try{Object.assign(Y,"xy")}catch{return"y"===Y[1]}return!1}()?S:Object.assign}},4096:(ve,De,C)=>{"use strict";var S=C(9567),u=C(9530);ve.exports=function(){var Y=u();return S(Object,{assign:Y},{assign:function(){return Object.assign!==Y}}),Y}},6716:(ve,De)=>{"use strict";var C=Object.prototype.hasOwnProperty;function u(P){try{return decodeURIComponent(P.replace(/\+/g," "))}catch{return null}}function q(P){try{return encodeURIComponent(P)}catch{return null}}De.stringify=function U(P,x){x=x||"";var Q,$,T=[];for($ in"string"!=typeof x&&(x="?"),P)if(C.call(P,$)){if(!(Q=P[$])&&(null==Q||isNaN(Q))&&(Q=""),$=q($),Q=q(Q),null===$||null===Q)continue;T.push($+"="+Q)}return T.length?x+T.join("&"):""},De.parse=function Y(P){for(var Q,x=/([^=?#&]+)=?([^&]*)/g,T={};Q=x.exec(P);){var $=u(Q[1]),R=u(Q[2]);null===$||null===R||$ in T||(T[$]=R)}return T}},7732:(ve,De,C)=>{"use strict";var S=C(2562),u=Object,q=TypeError;ve.exports=S(function(){if(null!=this&&this!==u(this))throw new q("RegExp.prototype.flags getter called on non-object");var U="";return this.hasIndices&&(U+="d"),this.global&&(U+="g"),this.ignoreCase&&(U+="i"),this.multiline&&(U+="m"),this.dotAll&&(U+="s"),this.unicode&&(U+="u"),this.unicodeSets&&(U+="v"),this.sticky&&(U+="y"),U},"get flags",!0)},4300:(ve,De,C)=>{"use strict";var S=C(9567),u=C(1773),q=C(7732),Y=C(5848),U=C(6472),P=u(Y());S(P,{getPolyfill:Y,implementation:q,shim:U}),ve.exports=P},5848:(ve,De,C)=>{"use strict";var S=C(7732),u=C(9567).supportsDescriptors,q=Object.getOwnPropertyDescriptor;ve.exports=function(){if(u&&"gim"===/a/gim.flags){var U=q(RegExp.prototype,"flags");if(U&&"function"==typeof U.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var P="",x={};if(Object.defineProperty(x,"hasIndices",{get:function(){P+="d"}}),Object.defineProperty(x,"sticky",{get:function(){P+="y"}}),"dy"===P)return U.get}}return S}},6472:(ve,De,C)=>{"use strict";var S=C(9567).supportsDescriptors,u=C(5848),q=Object.getOwnPropertyDescriptor,Y=Object.defineProperty,U=TypeError,P=Object.getPrototypeOf,x=/a/;ve.exports=function(){if(!S||!P)throw new U("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Q=u(),$=P(x),R=q($,"flags");return(!R||R.get!==Q)&&Y($,"flags",{configurable:!0,enumerable:!1,get:Q}),Q}},716:ve=>{"use strict";ve.exports=function(C,S){if(S=S.split(":")[0],!(C=+C))return!1;switch(S){case"http":case"ws":return 80!==C;case"https":case"wss":return 443!==C;case"ftp":return 21!==C;case"gopher":return 70!==C;case"file":return!1}return 0!==C}},3931:(ve,De,C)=>{"use strict";var S=C(3485),u=C(4467),q=C(7811)(),Y=C(6078),U=S("%TypeError%"),P=S("%Math.floor%");ve.exports=function(T,Q){if("function"!=typeof T)throw new U("`fn` is not a function");if("number"!=typeof Q||Q<0||Q>4294967295||P(Q)!==Q)throw new U("`length` must be a positive 32-bit integer");var $=arguments.length>2&&!!arguments[2],R=!0,O=!0;if("length"in T&&Y){var A=Y(T,"length");A&&!A.configurable&&(R=!1),A&&!A.writable&&(O=!1)}return(R||O||!$)&&(q?u(T,"length",Q,!0,!0):u(T,"length",Q)),T}},2562:(ve,De,C)=>{"use strict";var S=C(4467),u=C(7811)(),q=C(7688).functionsHaveConfigurableNames(),Y=TypeError;ve.exports=function(P,x){if("function"!=typeof P)throw new Y("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||q)&&(u?S(P,"name",x,!0,!0):S(P,"name",x)),P}},4355:(ve,De,C)=>{"use strict";var S=C(3485),u=C(1491),q=C(2720),Y=S("%TypeError%"),U=S("%WeakMap%",!0),P=S("%Map%",!0),x=u("WeakMap.prototype.get",!0),T=u("WeakMap.prototype.set",!0),Q=u("WeakMap.prototype.has",!0),$=u("Map.prototype.get",!0),R=u("Map.prototype.set",!0),O=u("Map.prototype.has",!0),A=function(se,H){for(var te,k=se;null!==(te=k.next);k=te)if(te.key===H)return k.next=te.next,te.next=se.next,se.next=te,te};ve.exports=function(){var H,k,te,le={assert:function(ae){if(!le.has(ae))throw new Y("Side channel does not contain "+q(ae))},get:function(ae){if(U&&ae&&("object"==typeof ae||"function"==typeof ae)){if(H)return x(H,ae)}else if(P){if(k)return $(k,ae)}else if(te)return function(se,H){var k=A(se,H);return k&&k.value}(te,ae)},has:function(ae){if(U&&ae&&("object"==typeof ae||"function"==typeof ae)){if(H)return Q(H,ae)}else if(P){if(k)return O(k,ae)}else if(te)return function(se,H){return!!A(se,H)}(te,ae);return!1},set:function(ae,Ae){U&&ae&&("object"==typeof ae||"function"==typeof ae)?(H||(H=new U),T(H,ae,Ae)):P?(k||(k=new P),R(k,ae,Ae)):(te||(te={key:{},next:null}),function(se,H,k){var te=A(se,H);te?te.value=k:se.next={key:H,next:se.next,value:k}}(te,ae,Ae))}};return le}},118:(ve,De,C)=>{"use strict";var S=C(2605),u=SyntaxError,q="object"==typeof StopIteration?StopIteration:null;ve.exports=function(U){if(!q)throw new u("this environment lacks StopIteration");S.set(U,"[[Done]]",!1);var P={next:function(){var T=S.get(this,"[[Iterator]]"),Q=S.get(T,"[[Done]]");try{return{done:Q,value:Q?void 0:T.next()}}catch($){if(S.set(T,"[[Done]]",!0),$!==q)throw $;return{done:!0,value:void 0}}}};return S.set(P,"[[Iterator]]",U),P}},6299:(ve,De,C)=>{"use strict";var S=C(716),u=C(6716),q=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Y=/[\n\r\t]/g,U=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,P=/:\d+$/,x=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,T=/^[a-zA-Z]:/;function Q(k){return(k||"").toString().replace(q,"")}var $=[["#","hash"],["?","query"],function(te,le){return A(le.protocol)?te.replace(/\\/g,"/"):te},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],R={hash:1,query:1};function O(k){var te;te=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Re,ae={},Ae=typeof(k=k||te.location||{});if("blob:"===k.protocol)ae=new be(unescape(k.pathname),{});else if("string"===Ae)for(Re in ae=new be(k,{}),R)delete ae[Re];else if("object"===Ae){for(Re in k)Re in R||(ae[Re]=k[Re]);void 0===ae.slashes&&(ae.slashes=U.test(k.href))}return ae}function A(k){return"file:"===k||"ftp:"===k||"http:"===k||"https:"===k||"ws:"===k||"wss:"===k}function V(k,te){k=(k=Q(k)).replace(Y,""),te=te||{};var N,le=x.exec(k),ae=le[1]?le[1].toLowerCase():"",Ae=!!le[2],Re=!!le[3],F=0;return Ae?Re?(N=le[2]+le[3]+le[4],F=le[2].length+le[3].length):(N=le[2]+le[4],F=le[2].length):Re?(N=le[3]+le[4],F=le[3].length):N=le[4],"file:"===ae?F>=2&&(N=N.slice(2)):A(ae)?N=le[4]:ae?Ae&&(N=N.slice(2)):F>=2&&A(te.protocol)&&(N=le[4]),{protocol:ae,slashes:Ae||A(ae),slashesCount:F,rest:N}}function be(k,te,le){if(k=(k=Q(k)).replace(Y,""),!(this instanceof be))return new be(k,te,le);var ae,Ae,Re,F,N,ne,I=$.slice(),K=typeof te,Z=this,me=0;for("object"!==K&&"string"!==K&&(le=te,te=null),le&&"function"!=typeof le&&(le=u.parse),ae=!(Ae=V(k||"",te=O(te))).protocol&&!Ae.slashes,Z.slashes=Ae.slashes||ae&&te.slashes,Z.protocol=Ae.protocol||te.protocol||"",k=Ae.rest,("file:"===Ae.protocol&&(2!==Ae.slashesCount||T.test(k))||!Ae.slashes&&(Ae.protocol||Ae.slashesCount<2||!A(Z.protocol)))&&(I[3]=[/(.*)/,"pathname"]);me<I.length;me++)"function"!=typeof(F=I[me])?(ne=F[1],(Re=F[0])!=Re?Z[ne]=k:"string"==typeof Re?~(N="@"===Re?k.lastIndexOf(Re):k.indexOf(Re))&&("number"==typeof F[2]?(Z[ne]=k.slice(0,N),k=k.slice(N+F[2])):(Z[ne]=k.slice(N),k=k.slice(0,N))):(N=Re.exec(k))&&(Z[ne]=N[1],k=k.slice(0,N.index)),Z[ne]=Z[ne]||ae&&F[3]&&te[ne]||"",F[4]&&(Z[ne]=Z[ne].toLowerCase())):k=F(k,Z);le&&(Z.query=le(Z.query)),ae&&te.slashes&&"/"!==Z.pathname.charAt(0)&&(""!==Z.pathname||""!==te.pathname)&&(Z.pathname=function fe(k,te){if(""===k)return te;for(var le=(te||"/").split("/").slice(0,-1).concat(k.split("/")),ae=le.length,Ae=le[ae-1],Re=!1,F=0;ae--;)"."===le[ae]?le.splice(ae,1):".."===le[ae]?(le.splice(ae,1),F++):F&&(0===ae&&(Re=!0),le.splice(ae,1),F--);return Re&&le.unshift(""),("."===Ae||".."===Ae)&&le.push(""),le.join("/")}(Z.pathname,te.pathname)),"/"!==Z.pathname.charAt(0)&&A(Z.protocol)&&(Z.pathname="/"+Z.pathname),S(Z.port,Z.protocol)||(Z.host=Z.hostname,Z.port=""),Z.username=Z.password="",Z.auth&&(~(N=Z.auth.indexOf(":"))?(Z.username=Z.auth.slice(0,N),Z.username=encodeURIComponent(decodeURIComponent(Z.username)),Z.password=Z.auth.slice(N+1),Z.password=encodeURIComponent(decodeURIComponent(Z.password))):Z.username=encodeURIComponent(decodeURIComponent(Z.auth)),Z.auth=Z.password?Z.username+":"+Z.password:Z.username),Z.origin="file:"!==Z.protocol&&A(Z.protocol)&&Z.host?Z.protocol+"//"+Z.host:"null",Z.href=Z.toString()}be.prototype={set:function se(k,te,le){var ae=this;switch(k){case"query":"string"==typeof te&&te.length&&(te=(le||u.parse)(te)),ae[k]=te;break;case"port":ae[k]=te,S(te,ae.protocol)?te&&(ae.host=ae.hostname+":"+te):(ae.host=ae.hostname,ae[k]="");break;case"hostname":ae[k]=te,ae.port&&(te+=":"+ae.port),ae.host=te;break;case"host":ae[k]=te,P.test(te)?(te=te.split(":"),ae.port=te.pop(),ae.hostname=te.join(":")):(ae.hostname=te,ae.port="");break;case"protocol":ae.protocol=te.toLowerCase(),ae.slashes=!le;break;case"pathname":case"hash":if(te){var Ae="pathname"===k?"/":"#";ae[k]=te.charAt(0)!==Ae?Ae+te:te}else ae[k]=te;break;case"username":case"password":ae[k]=encodeURIComponent(te);break;case"auth":var Re=te.indexOf(":");~Re?(ae.username=te.slice(0,Re),ae.username=encodeURIComponent(decodeURIComponent(ae.username)),ae.password=te.slice(Re+1),ae.password=encodeURIComponent(decodeURIComponent(ae.password))):ae.username=encodeURIComponent(decodeURIComponent(te))}for(var F=0;F<$.length;F++){var N=$[F];N[4]&&(ae[N[1]]=ae[N[1]].toLowerCase())}return ae.auth=ae.password?ae.username+":"+ae.password:ae.username,ae.origin="file:"!==ae.protocol&&A(ae.protocol)&&ae.host?ae.protocol+"//"+ae.host:"null",ae.href=ae.toString(),ae},toString:function H(k){(!k||"function"!=typeof k)&&(k=u.stringify);var te,le=this,ae=le.host,Ae=le.protocol;Ae&&":"!==Ae.charAt(Ae.length-1)&&(Ae+=":");var Re=Ae+(le.protocol&&le.slashes||A(le.protocol)?"//":"");return le.username?(Re+=le.username,le.password&&(Re+=":"+le.password),Re+="@"):le.password?(Re+=":"+le.password,Re+="@"):"file:"!==le.protocol&&A(le.protocol)&&!ae&&"/"!==le.pathname&&(Re+="@"),(":"===ae[ae.length-1]||P.test(le.hostname)&&!le.port)&&(ae+=":"),Re+=ae+le.pathname,(te="object"==typeof le.query?k(le.query):le.query)&&(Re+="?"!==te.charAt(0)?"?"+te:te),le.hash&&(Re+=le.hash),Re}},be.extractProtocol=V,be.location=O,be.trimLeft=Q,be.qs=u,ve.exports=be},8460:(ve,De,C)=>{"use strict";var S=C(2706),u=C(9065),q=C(2856),Y=C(2630),U=C(7050);ve.exports=function(x){return null==x||"object"!=typeof x&&"function"!=typeof x?null:S(x)?"String":u(x)?"Number":q(x)?"Boolean":Y(x)?"Symbol":U(x)?"BigInt":void 0}},927:(ve,De,C)=>{"use strict";var S=C(2418),u=C(1001),q=C(1773),Y=C(1491),U=C(6078),P=Y("Object.prototype.toString"),x=C(6518)(),T=typeof globalThis>"u"?global:globalThis,Q=u(),$=Y("String.prototype.slice"),R=Object.getPrototypeOf,O=Y("Array.prototype.indexOf",!0)||function(se,H){for(var k=0;k<se.length;k+=1)if(se[k]===H)return k;return-1},A={__proto__:null};S(Q,x&&U&&R?function(be){var se=new T[be];if(Symbol.toStringTag in se){var H=R(se),k=U(H,Symbol.toStringTag);if(!k){var te=R(H);k=U(te,Symbol.toStringTag)}A["$"+be]=q(k.get)}}:function(be){var se=new T[be],H=se.slice||se.set;H&&(A["$"+be]=q(H))}),ve.exports=function(se){if(!se||"object"!=typeof se)return!1;if(!x){var H=$(P(se),8,-1);return O(Q,H)>-1?H:"Object"===H&&function(se){var H=!1;return S(A,function(k,te){if(!H)try{k(se),H=$(te,1)}catch{}}),H}(se)}return U?function(se){var H=!1;return S(A,function(k,te){if(!H)try{"$"+k(se)===te&&(H=$(te,1))}catch{}}),H}(se):null}},863:(ve,De,C)=>{var S={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,5869,4969],"./ion-datetime_3.entry.js":[1835,5869,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,8592,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,8592,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[9964,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,8592,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function u(q){if(!C.o(S,q))return Promise.resolve().then(()=>{var P=new Error("Cannot find module '"+q+"'");throw P.code="MODULE_NOT_FOUND",P});var Y=S[q],U=Y[0];return Promise.all(Y.slice(1).map(C.e)).then(()=>C(U))}u.keys=()=>Object.keys(S),u.id=863,ve.exports=u},4654:()=>{},1001:ve=>{"use strict";var De=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C=typeof globalThis>"u"?global:globalThis;ve.exports=function(){for(var u=[],q=0;q<De.length;q++)"function"==typeof C[De[q]]&&(u[u.length]=De[q]);return u}},1324:(ve,De,C)=>{"use strict";var S=C(1568),u=C(118);if(C(2337)()||C(2759)()){var q=Symbol.iterator;ve.exports=function(N){return null!=N&&typeof N[q]<"u"?N[q]():S(N)?Array.prototype[q].call(N):void 0}}else{var Y=C(9604),U=C(2706),P=C(3485),x=P("%Map%",!0),T=P("%Set%",!0),Q=C(1491),$=Q("Array.prototype.push"),R=Q("String.prototype.charCodeAt"),O=Q("String.prototype.slice"),V=function(N){var ne=0;return{next:function(){var Z,K=ne>=N.length;return K||(Z=N[ne],ne+=1),{done:K,value:Z}}}},fe=function(N,ne){if(Y(N)||S(N))return V(N);if(U(N)){var I=0;return{next:function(){var Z=function(N,ne){if(ne+1>=N.length)return ne+1;var K=R(N,ne);if(K<55296||K>56319)return ne+1;var Z=R(N,ne+1);return Z<56320||Z>57343?ne+1:ne+2}(N,I),me=O(N,I,Z);return I=Z,{done:Z>N.length,value:me}}}}return ne&&typeof N["_es6-shim iterator_"]<"u"?N["_es6-shim iterator_"]():void 0};if(x||T){var be=C(6128),se=C(5918),H=Q("Map.prototype.forEach",!0),k=Q("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var te=Q("Map.prototype.iterator",!0),le=Q("Set.prototype.iterator",!0);var ae=Q("Map.prototype.@@iterator",!0)||Q("Map.prototype._es6-shim iterator_",!0),Ae=Q("Set.prototype.@@iterator",!0)||Q("Set.prototype._es6-shim iterator_",!0);ve.exports=function(N){return function(N){if(be(N)){if(te)return u(te(N));if(ae)return ae(N);if(H){var ne=[];return H(N,function(K,Z){$(ne,[Z,K])}),V(ne)}}if(se(N)){if(le)return u(le(N));if(Ae)return Ae(N);if(k){var I=[];return k(N,function(K){$(I,K)}),V(I)}}}(N)||fe(N)}}else ve.exports=function(N){if(null!=N)return fe(N,!0)}}},9148:(ve,De,C)=>{"use strict";var S=C(6128),u=C(5918),q=C(1545),Y=C(9043);ve.exports=function(P){if(P&&"object"==typeof P){if(S(P))return"Map";if(u(P))return"Set";if(q(P))return"WeakMap";if(Y(P))return"WeakSet"}return!1}},3918:(ve,De,C)=>{"use strict";function S(q,Y,U,P,x,T,Q){try{var $=q[T](Q),R=$.value}catch(O){return void U(O)}$.done?Y(R):Promise.resolve(R).then(P,x)}function u(q){return function(){var Y=this,U=arguments;return new Promise(function(P,x){var T=q.apply(Y,U);function Q(R){S(T,P,x,Q,$,"next",R)}function $(R){S(T,P,x,Q,$,"throw",R)}Q(void 0)})}}C.d(De,{Z:()=>u})}},ve=>{ve(ve.s=8448)}]);
//# sourceMappingURL=main.2af19f41223ce6c3.js.map