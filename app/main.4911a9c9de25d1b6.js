(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{1340:(Be,We,A)=>{"use strict";function I(n){return"function"==typeof n}function l(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const re=l(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function te(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class G{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(i){e=i instanceof re?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{V(i)}catch(s){e=e??[],s instanceof re?e=[...e,...s.errors]:e.push(s)}}if(e)throw new re(e)}}add(e){var t;if(e&&e!==this)if(this.closed)V(e);else{if(e instanceof G){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&te(t,e)}remove(e){const{_finalizers:t}=this;t&&te(t,e),e instanceof G&&e._removeParent(this)}}G.EMPTY=(()=>{const n=new G;return n.closed=!0,n})();const Q=G.EMPTY;function L(n){return n instanceof G||n&&"closed"in n&&I(n.remove)&&I(n.add)&&I(n.unsubscribe)}function V(n){I(n)?n():n.unsubscribe()}const ue={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},X={setTimeout(n,e,...t){const{delegate:r}=X;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=X;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function se(n){X.setTimeout(()=>{const{onUnhandledError:e}=ue;if(!e)throw n;e(n)})}function B(){}const $=$e("C",void 0,void 0);function $e(n,e,t){return{kind:n,value:e,error:t}}let he=null;function Z(n){if(ue.useDeprecatedSynchronousErrorHandling){const e=!he;if(e&&(he={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=he;if(he=null,t)throw r}}else n()}class fe extends G{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,L(e)&&e.add(this)):this.destination=Oe}static create(e,t,r){return new ce(e,t,r)}next(e){this.isStopped?Qe(function Pe(n){return $e("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Qe(function H(n){return $e("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qe($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function de(n,e){return Fe.call(n,e)}class st{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){be(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){be(r)}else be(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){be(t)}}}class ce extends fe{constructor(e,t,r){let o;if(super(),I(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&ue.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&de(e.next,i),error:e.error&&de(e.error,i),complete:e.complete&&de(e.complete,i)}):o=e}this.destination=new st(o)}}function be(n){ue.useDeprecatedSynchronousErrorHandling?function Y(n){ue.useDeprecatedSynchronousErrorHandling&&he&&(he.errorThrown=!0,he.error=n)}(n):se(n)}function Qe(n,e){const{onStoppedNotification:t}=ue;t&&X.setTimeout(()=>t(n,e))}const Oe={closed:!0,next:B,error:function ke(n){throw n},complete:B},xe="function"==typeof Symbol&&Symbol.observable||"@@observable";function ne(n){return n}function Je(n){return 0===n.length?ne:1===n.length?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}let yt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function O(n){return n&&n instanceof fe||function Ze(n){return n&&I(n.next)&&I(n.error)&&I(n.complete)}(n)&&L(n)}(t)?t:new ce(t,r,o);return Z(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=un(r))((o,i)=>{const s=new ce({next:a=>{try{t(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[xe](){return this}pipe(...t){return Je(t)(this)}toPromise(t){return new(t=un(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function un(n){var e;return null!==(e=n??ue.Promise)&&void 0!==e?e:Promise}const ge=l(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nt=(()=>{class n extends yt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new rt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ge}next(t){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Q:(this.currentObservers=null,i.push(t),new G(()=>{this.currentObservers=null,te(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new yt;return t.source=this,t}}return n.create=(e,t)=>new rt(e,t),n})();class rt extends nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Q}}function je(n){return I(n?.lift)}function q(n){return e=>{if(je(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,r,o){return new ft(n,e,t,r,o)}class ft extends fe{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ae(n,e){return q((t,r)=>{let o=0;t.subscribe(ye(r,i=>{r.next(n.call(e,i,o++))}))})}function U(n,e,t,r){var s,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function Pn(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(h){try{f(r.next(h))}catch(_){s(_)}}function u(h){try{f(r.throw(h))}catch(_){s(_)}}function f(h){h.done?i(h.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(h.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}function hn(n){return this instanceof hn?(this.v=n,this):new hn(n)}function no(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(n,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(k){r[k]&&(o[k]=function(x){return new Promise(function(K,Se){i.push([k,x,K,Se])>1||a(k,x)})})}function a(k,x){try{!function u(k){k.value instanceof hn?Promise.resolve(k.value.v).then(f,h):_(i[0][2],k)}(r[k](x))}catch(K){_(i[0][3],K)}}function f(k){a("next",k)}function h(k){a("throw",k)}function _(k,x){k(x),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Wr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Xr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=n[i](s)).done,s.value)})}}}const br=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Xt(n){return I(n?.then)}function Jn(n){return I(n[xe])}function er(n){return Symbol.asyncIterator&&I(n?.[Symbol.asyncIterator])}function sn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const E=function jt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function S(n){return I(n?.[E])}function Yn(n){return no(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield hn(t.read());if(o)return yield hn(void 0);yield yield hn(r)}}finally{t.releaseLock()}})}function D(n){return I(n?.getReader)}function On(n){if(n instanceof yt)return n;if(null!=n){if(Jn(n))return function Zo(n){return new yt(e=>{const t=n[xe]();if(I(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(br(n))return function ii(n){return new yt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Xt(n))return function Io(n){return new yt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,se)})}(n);if(er(n))return qo(n);if(S(n))return function ji(n){return new yt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(D(n))return function xi(n){return qo(Yn(n))}(n)}throw sn(n)}function qo(n){return new yt(e=>{(function Ti(n,e){var t,r,o,i;return Pn(this,void 0,void 0,function*(){try{for(t=Wr(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function co(n,e,t,r=0,o=!1){const i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Cr(n,e,t=1/0){return I(e)?Cr((r,o)=>Ae((i,s)=>e(r,i,o,s))(On(n(r,o))),t):("number"==typeof e&&(t=e),q((r,o)=>function Yo(n,e,t,r,o,i,s,a){const u=[];let f=0,h=0,_=!1;const k=()=>{_&&!u.length&&!f&&e.complete()},x=Se=>f<r?K(Se):u.push(Se),K=Se=>{i&&e.next(Se),f++;let ze=!1;On(t(Se,h++)).subscribe(ye(e,Ye=>{o?.(Ye),i?x(Ye):e.next(Ye)},()=>{ze=!0},void 0,()=>{if(ze)try{for(f--;u.length&&f<r;){const Ye=u.shift();s?co(e,s,()=>K(Ye)):K(Ye)}k()}catch(Ye){e.error(Ye)}}))};return n.subscribe(ye(e,x,()=>{_=!0,k()})),()=>{a?.()}}(r,o,n,t)))}function Ko(n=1/0){return Cr(ne,n)}const ro=new yt(n=>n.complete());function ko(n){return n&&I(n.schedule)}function Qr(n){return n[n.length-1]}function ls(n){return I(Qr(n))?n.pop():void 0}function ai(n){return ko(Qr(n))?n.pop():void 0}function uo(n,e=0){return q((t,r)=>{t.subscribe(ye(r,o=>co(r,n,()=>r.next(o),e),()=>co(r,n,()=>r.complete(),e),o=>co(r,n,()=>r.error(o),e)))})}function cs(n,e=0){return q((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function us(n,e){if(!n)throw new Error("Iterable cannot be null");return new yt(t=>{co(t,e,()=>{const r=n[Symbol.asyncIterator]();co(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function pr(n,e){return e?function js(n,e){if(null!=n){if(Jn(n))return function Co(n,e){return On(n).pipe(cs(e),uo(e))}(n,e);if(br(n))return function Is(n,e){return new yt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Xt(n))return function Ai(n,e){return On(n).pipe(cs(e),uo(e))}(n,e);if(er(n))return us(n,e);if(S(n))return function gi(n,e){return new yt(t=>{let r;return co(t,e,()=>{r=n[E](),co(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>I(r?.return)&&r.return()})}(n,e);if(D(n))return function Vs(n,e){return us(Yn(n),e)}(n,e)}throw sn(n)}(n,e):On(n)}function yi(...n){const e=ai(n),t=function Ro(n,e){return"number"==typeof Qr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?On(r[0]):Ko(t)(pr(r,e)):ro}function ks(n={}){const{connector:e=(()=>new nt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,u,f=0,h=!1,_=!1;const k=()=>{a?.unsubscribe(),a=void 0},x=()=>{k(),s=u=void 0,h=_=!1},K=()=>{const Se=s;x(),Se?.unsubscribe()};return q((Se,ze)=>{f++,!_&&!h&&k();const Ye=u=u??e();ze.add(()=>{f--,0===f&&!_&&!h&&(a=Ui(K,o))}),Ye.subscribe(ze),!s&&f>0&&(s=new ce({next:vt=>Ye.next(vt),error:vt=>{_=!0,k(),a=Ui(x,t,vt),Ye.error(vt)},complete:()=>{h=!0,k(),a=Ui(x,r),Ye.complete()}}),On(Se).subscribe(s))})(i)}}function Ui(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ce({next:()=>{r.unsubscribe(),n()}});return On(e(...t)).subscribe(r)}function tr(n){for(let e in n)if(n[e]===tr)return e;throw Error("Could not find renamed property on target object.")}function T(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function N(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(N).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function me(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Ee=tr({__forward_ref__:tr});function Ne(n){return n.__forward_ref__=Ne,n.toString=function(){return N(this())},n}function R(n){return pe(n)?n():n}function pe(n){return"function"==typeof n&&n.hasOwnProperty(Ee)&&n.__forward_ref__===Ne}function Me(n){return n&&!!n.\u0275providers}const it="https://g.co/ng/security#xss";class Te extends Error{constructor(e,t){super(function Ut(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Ct(n){return"string"==typeof n?n:null==n?"":String(n)}function _i(n,e){throw new Te(-201,!1)}function No(n,e){null==n&&function Zn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ht(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ms(n){return fo(n,Us)||fo(n,va)}function fo(n,e){return n.hasOwnProperty(e)?n[e]:null}function _a(n){return n&&(n.hasOwnProperty(ea)||n.hasOwnProperty(Xa))?n[ea]:null}const Us=tr({\u0275prov:tr}),ea=tr({\u0275inj:tr}),va=tr({ngInjectableDef:tr}),Xa=tr({ngInjectorDef:tr});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let ta;function cr(n){const e=ta;return ta=n,e}function Jr(n,e,t){const r=Ms(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Mt.Optional?null:void 0!==e?e:void _i(N(n))}const p=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),z={},_e="__NG_DI_FLAG__",Ie="ngTempTokenPath",wt=/\n/gm,Tn="__source";let An;function Ht(n){const e=An;return An=n,e}function Zt(n,e=Mt.Default){if(void 0===An)throw new Te(-203,!1);return null===An?Jr(n,void 0,e):An.get(n,e&Mt.Optional?null:void 0,e)}function ee(n,e=Mt.Default){return(function wo(){return ta}()||Zt)(R(n),e)}function gn(n,e=Mt.Default){return ee(n,Zr(e))}function Zr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pt(n){const e=[];for(let t=0;t<n.length;t++){const r=R(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Te(900,!1);let o,i=Mt.Default;for(let s=0;s<r.length;s++){const a=r[s],u=qr(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}e.push(ee(o,i))}else e.push(ee(r))}return e}function Gt(n,e){return n[_e]=e,n.prototype[_e]=e,n}function qr(n){return n[_e]}function hr(n){return{toString:n}.toString()}var vi=(()=>((vi=vi||{})[vi.OnPush=0]="OnPush",vi[vi.Default=1]="Default",vi))(),Fi=(()=>{return(n=Fi||(Fi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Fi;var n})();const Hi={},nr=[],ba=tr({\u0275cmp:tr}),Qa=tr({\u0275dir:tr}),Ja=tr({\u0275pipe:tr}),Pl=tr({\u0275mod:tr}),ps=tr({\u0275fac:tr}),Ca=tr({__NG_ELEMENT_ID__:tr});let Ed=0;function ut(n){return hr(()=>{const t=!0===n.standalone,r={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===vi.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||nr,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Fi.Emulated,id:"c"+Ed++,styles:n.styles||nr,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=n.dependencies,s=n.features;return o.inputs=zi(n.inputs,r),o.outputs=zi(n.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(dc).filter(Rl):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(Lo).filter(Rl):null,o})}function dc(n){return ur(n)||Mo(n)}function Rl(n){return null!==n}function Fr(n){return hr(()=>({type:n.type,bootstrap:n.bootstrap||nr,declarations:n.declarations||nr,imports:n.imports||nr,exports:n.exports||nr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zi(n,e){if(null==n)return Hi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),t[o]=r,e&&(e[o]=i)}return t}const xt=ut;function ho(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ur(n){return n[ba]||null}function Mo(n){return n[Qa]||null}function Lo(n){return n[Ja]||null}function yn(n,e){const t=n[Pl]||null;if(!t&&!0===e)throw new Error(`Type ${N(n)} does not have '\u0275mod' property.`);return t}const v=11;function Lr(n){return Array.isArray(n)&&"object"==typeof n[1]}function gr(n){return Array.isArray(n)&&!0===n[1]}function tu(n){return 0!=(4&n.flags)}function Fl(n){return n.componentOffset>-1}function fc(n){return 1==(1&n.flags)}function hs(n){return null!==n.template}function Ip(n){return 0!=(256&n[2])}function wa(n,e){return n.hasOwnProperty(ps)?n[ps]:null}class xp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function $o(){return kd}function kd(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ap),Tp}function Tp(){const n=xd(this),e=n?.current;if(e){const t=n.previous;if(t===Hi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Ap(n,e,t,r){const o=this.declaredInputs[t],i=xd(n)||function Pp(n,e){return n[Md]=e}(n,{previous:Hi,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[o];s[o]=new xp(u&&u.currentValue,e,a===Hi),n[r]=e}$o.ngInherit=!0;const Md="__ngSimpleChanges__";function xd(n){return n[Md]||null}function Bo(n){for(;Array.isArray(n);)n=n[0];return n}function pc(n,e){return Bo(e[n])}function Wi(n,e){return Bo(e[n.index])}function yg(n,e){return n.data[e]}function ra(n,e){return n[e]}function Zi(n,e){const t=e[n];return Lr(t)?t:t[0]}function hc(n){return 64==(64&n[2])}function bi(n,e){return null==e?null:n[e]}function ar(n){n[18]=0}function Pd(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Fn={lFrame:To(null),bindingsEnabled:!0};function xr(){return Fn.bindingsEnabled}function Ke(){return Fn.lFrame.lView}function cn(){return Fn.lFrame.tView}function Lt(n){return Fn.lFrame.contextLView=n,n[8]}function $t(n){return Fn.lFrame.contextLView=null,n}function Sr(){let n=xo();for(;null!==n&&64===n.type;)n=n.parent;return n}function xo(){return Fn.lFrame.currentTNode}function Er(n,e){const t=Fn.lFrame;t.currentTNode=n,t.isParent=e}function _n(){return Fn.lFrame.isParent}function ci(){Fn.lFrame.isParent=!1}function j(){return Fn.lFrame.bindingIndex}function De(){return Fn.lFrame.bindingIndex++}function Ve(n){const e=Fn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Un(n,e){const t=Fn.lFrame;t.bindingIndex=t.bindingRootIndex=n,pn(e)}function pn(n){Fn.lFrame.currentDirectiveIndex=n}function Gn(){return Fn.lFrame.currentQueryIndex}function so(n){Fn.lFrame.currentQueryIndex=n}function ms(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function ui(n,e,t){if(t&Mt.SkipSelf){let o=e,i=n;for(;!(o=o.parent,null!==o||t&Mt.Host||(o=ms(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;e=o,n=i}const r=Fn.lFrame=mn();return r.currentTNode=e,r.lView=n,!0}function _t(n){const e=mn(),t=n[1];Fn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function mn(){const n=Fn.lFrame,e=null===n?null:n.child;return null===e?To(n):e}function To(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Br(){const n=Fn.lFrame;return Fn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const gs=Br;function go(){const n=Br();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qi(){return Fn.lFrame.selectedIndex}function mc(n){Fn.lFrame.selectedIndex=n}function yo(){const n=Fn.lFrame;return yg(n.tView,n.selectedIndex)}function Lp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:h}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=h&&(n.destroyHooks||(n.destroyHooks=[])).push(t,h)}}function $p(n,e,t){Pb(n,e,3,t)}function Bp(n,e,t,r){(3&n[2])===t&&Pb(n,e,t,r)}function vg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Pb(n,e,t,r){const i=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<i||-1==i)&&(ex(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function ex(n,e,t,r){const o=t[r]<0,i=t[r+1],a=n[o?-t[r]:t[r]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Rd{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Cg(n,e,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{const i=o,s=t[++r];Fb(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function Rb(n){return 3===n||4===n||6===n}function Fb(n){return 64===n.charCodeAt(0)}function Fd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?t=o:0===t||Ob(n,t,o,null,-1===t||2===t?e[++r]:null)}}return n}function Ob(n,e,t,r,o){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}function Nb(n){return-1!==n}function Vp(n){return 32767&n}function jp(n,e){let t=function ox(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let wg=!0;function Up(n){const e=wg;return wg=n,e}let ix=0;const Sa={};function Hp(n,e){const t=Bb(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Sg(r.data,n),Sg(e,null),Sg(r.blueprint,null));const o=Eg(n,e),i=n.injectorIndex;if(Nb(o)){const s=Vp(o),a=jp(o,e),u=a[1].data;for(let f=0;f<8;f++)e[i+f]=a[s+f]|u[s+f]}return e[i+8]=o,i}function Sg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Bb(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Eg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;null!==o;){if(r=Wb(o),null===r)return-1;if(t++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Dg(n,e,t){!function sx(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ca)&&(r=t[Ca]),null==r&&(r=t[Ca]=ix++);const o=255&r;e.data[n+(o>>5)]|=1<<o}(n,e,t)}function Vb(n,e,t){if(t&Mt.Optional||void 0!==n)return n;_i()}function jb(n,e,t,r){if(t&Mt.Optional&&void 0===r&&(r=null),!(t&(Mt.Self|Mt.Host))){const o=n[9],i=cr(void 0);try{return o?o.get(e,r,t&Mt.Optional):Jr(e,r,t&Mt.Optional)}finally{cr(i)}}return Vb(r,0,t)}function Ub(n,e,t,r=Mt.Default,o){if(null!==n){if(1024&e[2]){const s=function dx(n,e,t,r,o){let i=n,s=e;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Hb(i,s,t,r|Mt.Self,Sa);if(a!==Sa)return a;let u=i.parent;if(!u){const f=s[21];if(f){const h=f.get(t,Sa,r);if(h!==Sa)return h}u=Wb(s),s=s[15]}i=u}return o}(n,e,t,r,Sa);if(s!==Sa)return s}const i=Hb(n,e,t,r,Sa);if(i!==Sa)return i}return jb(e,t,r,o)}function Hb(n,e,t,r,o){const i=function cx(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ca)?n[Ca]:void 0;return"number"==typeof e?e>=0?255&e:ux:e}(t);if("function"==typeof i){if(!ui(e,n,r))return r&Mt.Host?Vb(o,0,r):jb(e,t,r,o);try{const s=i(r);if(null!=s||r&Mt.Optional)return s;_i()}finally{gs()}}else if("number"==typeof i){let s=null,a=Bb(n,e),u=-1,f=r&Mt.Host?e[16][6]:null;for((-1===a||r&Mt.SkipSelf)&&(u=-1===a?Eg(n,e):e[a+8],-1!==u&&Gb(r,!1)?(s=e[1],a=Vp(u),e=jp(u,e)):a=-1);-1!==a;){const h=e[1];if(zb(i,a,h.data)){const _=lx(a,e,t,s,r,f);if(_!==Sa)return _}u=e[a+8],-1!==u&&Gb(r,e[1].data[a+8]===f)&&zb(i,a,e)?(s=h,a=Vp(u),e=jp(u,e)):a=-1}}return o}function lx(n,e,t,r,o,i){const s=e[1],a=s.data[n+8],h=zp(a,s,t,null==r?Fl(a)&&wg:r!=s&&0!=(3&a.type),o&Mt.Host&&i===a);return null!==h?gc(e,s,h,a):Sa}function zp(n,e,t,r,o){const i=n.providerIndexes,s=e.data,a=1048575&i,u=n.directiveStart,h=i>>20,k=o?a+h:n.directiveEnd;for(let x=r?a:a+h;x<k;x++){const K=s[x];if(x<u&&t===K||x>=u&&K.type===t)return x}if(o){const x=s[u];if(x&&hs(x)&&x.type===t)return u}return null}function gc(n,e,t,r){let o=n[t];const i=e.data;if(function tx(n){return n instanceof Rd}(o)){const s=o;s.resolving&&function Fo(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Te(-200,`Circular dependency in DI detected for ${n}${t}`)}(function dn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ct(n)}(i[t]));const a=Up(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?cr(s.injectImpl):null;ui(n,r,Mt.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&function JM(n,e,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=kd(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),i&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,i),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,i))}(t,i[t],e)}finally{null!==u&&cr(u),Up(a),s.resolving=!1,gs()}}return o}function zb(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Gb(n,e){return!(n&Mt.Self||n&Mt.Host&&e)}class ou{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Ub(this._tNode,this._lView,e,Zr(r),t)}}function ux(){return new ou(Sr(),Ke())}function di(n){return hr(()=>{const e=n.prototype.constructor,t=e[ps]||Ig(e),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[ps]||Ig(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Ig(n){return pe(n)?()=>{const e=Ig(R(n));return e&&e()}:wa(n)}function Wb(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function iu(n){return function ax(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const i=t[o];if(Rb(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(i===e)return t[o+1];o+=2}}}return null}(Sr(),n)}const au="__parameters__";function cu(n,e,t){return hr(()=>{const r=function kg(n){return function(...t){if(n){const r=n(...t);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(u,f,h){const _=u.hasOwnProperty(au)?u[au]:Object.defineProperty(u,au,{value:[]})[au];for(;_.length<=h;)_.push(null);return(_[h]=_[h]||[]).push(s),u}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class rn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ht({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yc(n,e){n.forEach(t=>Array.isArray(t)?yc(t,e):e(t))}function qb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Gp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ld(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function xs(n,e,t){let r=uu(n,e);return r>=0?n[1|r]=t:(r=~r,function mx(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(1===o)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function xg(n,e){const t=uu(n,e);if(t>=0)return n[1|t]}function uu(n,e){return function Yb(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}(n,e,1)}const $d=Gt(cu("Optional"),8),Bd=Gt(cu("SkipSelf"),4);var ys=(()=>((ys=ys||{})[ys.Important=1]="Important",ys[ys.DashCase=2]="DashCase",ys))();const Og=new Map;let Lx=0;const Lg="__ngContext__";function Oi(n,e){Lr(e)?(n[Lg]=e[20],function Bx(n){Og.set(n[20],n)}(e)):n[Lg]=e}function Bg(n,e){return undefined(n,e)}function Hd(n){const e=n[3];return gr(e)?e[3]:e}function Vg(n){return g0(n[13])}function jg(n){return g0(n[4])}function g0(n){for(;null!==n&&!gr(n);)n=n[4];return n}function fu(n,e,t,r,o){if(null!=r){let i,s=!1;gr(r)?i=r:Lr(r)&&(s=!0,r=r[0]);const a=Bo(r);0===n&&null!==t?null==o?w0(e,t,a):_c(e,t,a,o||null,!0):1===n&&null!==t?_c(e,t,a,o||null,!0):2===n?function qg(n,e,t){const r=Yp(n,e);r&&function iT(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=i&&function lT(n,e,t,r,o){const i=t[7];i!==Bo(t)&&fu(e,n,r,i,o);for(let a=10;a<t.length;a++){const u=t[a];zd(u[1],u,n,e,r,i)}}(e,n,i,t,o)}}function Hg(n,e,t){return n.createElement(e,t)}function _0(n,e){const t=n[9],r=t.indexOf(e),o=e[3];512&e[2]&&(e[2]&=-513,Pd(o,-1)),t.splice(r,1)}function zg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const o=r[17];null!==o&&o!==n&&_0(o,r),e>0&&(n[t-1][4]=r[4]);const i=Gp(n,10+e);!function Xx(n,e){zd(n,e,e[v],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function v0(n,e){if(!(128&e[2])){const t=e[v];t.destroyNode&&zd(n,e,t,3,null,null),function eT(n){let e=n[13];if(!e)return Gg(n[1],n);for(;e;){let t=null;if(Lr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Lr(e)&&Gg(e[1],e),e=e[3];null===e&&(e=n),Lr(e)&&Gg(e[1],e),t=e&&e[4]}e=t}}(e)}}function Gg(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function oT(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const o=e[t[r]];if(!(o instanceof Rd)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(n,e),function rT(n,e){const t=n.cleanup,r=e[7];let o=-1;if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=t[i+1]];t[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();e[7]=null}}(n,e),1===e[1].type&&e[v].destroy();const t=e[17];if(null!==t&&gr(e[3])){t!==e[3]&&_0(t,e);const r=e[19];null!==r&&r.detachView(n)}!function Vx(n){Og.delete(n[20])}(e)}}function b0(n,e,t){return function C0(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=n.data[r.directiveStart+o];if(i===Fi.None||i===Fi.Emulated)return null}return Wi(r,t)}}(n,e.parent,t)}function _c(n,e,t,r,o){n.insertBefore(e,t,r,o)}function w0(n,e,t){n.appendChild(e,t)}function S0(n,e,t,r,o){null!==r?_c(n,e,t,r,o):w0(n,e,t)}function Yp(n,e){return n.parentNode(e)}function E0(n,e,t){return I0(n,e,t)}let Qp,Xg,I0=function D0(n,e,t){return 40&n.type?Wi(n,t):null};function Kp(n,e,t,r){const o=b0(n,r,e),i=e[v],a=E0(r.parent||e[6],r,e);if(null!=o)if(Array.isArray(t))for(let u=0;u<t.length;u++)S0(i,o,t[u],a,!1);else S0(i,o,t,a,!1)}function Xp(n,e){if(null!==e){const t=e.type;if(3&t)return Wi(e,n);if(4&t)return Zg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Xp(n,r);{const o=n[e.index];return gr(o)?Zg(-1,o):Bo(o)}}if(32&t)return Bg(e,n)()||Bo(n[e.index]);{const r=M0(n,e);return null!==r?Array.isArray(r)?r[0]:Xp(Hd(n[16]),r):Xp(n,e.next)}}return null}function M0(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Zg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],o=r[1].firstChild;if(null!==o)return Xp(r,o)}return e[7]}function Yg(n,e,t,r,o,i,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&Oi(Bo(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Yg(n,e,t.child,r,o,i,!1),fu(e,n,o,a,i);else if(32&u){const f=Bg(t,r);let h;for(;h=f();)fu(e,n,o,h,i);fu(e,n,o,a,i)}else 16&u?x0(n,e,r,t,o,i):fu(e,n,o,a,i);t=s?t.projectionNext:t.next}}function zd(n,e,t,r,o,i){Yg(t,r,n.firstChild,e,o,i,!1)}function x0(n,e,t,r,o,i){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)fu(e,n,o,u[f],i);else Yg(n,e,u,s[3],o,i,!0)}function T0(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function A0(n,e,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&Cg(n,e,r),null!==o&&T0(n,e,o),null!==i&&function uT(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function vc(n){return function Kg(){if(void 0===Qp&&(Qp=null,p.trustedTypes))try{Qp=p.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qp}()?.createHTML(n)||n}class bc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}class mT extends bc{getTypeName(){return"HTML"}}class gT extends bc{getTypeName(){return"Style"}}class yT extends bc{getTypeName(){return"Script"}}class _T extends bc{getTypeName(){return"URL"}}class vT extends bc{getTypeName(){return"ResourceURL"}}function Ts(n){return n instanceof bc?n.changingThisBreaksApplicationSecurity:n}function Ea(n,e){const t=function bT(n){return n instanceof bc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${it})`)}return t===e}class IT{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(vc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class kT{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=vc(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=vc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let o=t.length-1;0<o;o--){const s=t.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const xT=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function eh(n){return(n=String(n)).match(xT)?n:"unsafe:"+n}function tl(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Gd(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const L0=tl("area,br,col,hr,img,wbr"),$0=tl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),B0=tl("rp,rt"),Jg=Gd(L0,Gd($0,tl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gd(B0,tl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gd(B0,$0)),ey=tl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),V0=Gd(ey,tl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),TT=tl("script,style,template");class AT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Jg.hasOwnProperty(t))return this.sanitizedSomething=!0,!TT.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!V0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=i.value;ey[a]&&(u=eh(u)),this.buf.push(" ",s,'="',j0(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Jg.hasOwnProperty(t)&&!L0.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(j0(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const PT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RT=/([^\#-~ |!])/g;function j0(n){return n.replace(/&/g,"&amp;").replace(PT,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(RT,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let th;function U0(n,e){let t=null;try{th=th||function N0(n){const e=new kT(n);return function MT(){try{return!!(new window.DOMParser).parseFromString(vc(""),"text/html")}catch{return!1}}()?new IT(e):e}(n);let r=e?String(e):"";t=th.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=th.getInertBodyElement(r)}while(r!==i);return vc((new AT).sanitizeChildren(ty(t)||t))}finally{if(t){const r=ty(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function ty(n){return"content"in n&&function FT(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Hr=(()=>((Hr=Hr||{})[Hr.NONE=0]="NONE",Hr[Hr.HTML=1]="HTML",Hr[Hr.STYLE=2]="STYLE",Hr[Hr.SCRIPT=3]="SCRIPT",Hr[Hr.URL=4]="URL",Hr[Hr.RESOURCE_URL=5]="RESOURCE_URL",Hr))();const nh=new rn("ENVIRONMENT_INITIALIZER"),W0=new rn("INJECTOR",-1),Z0=new rn("INJECTOR_DEF_TYPES");class q0{get(e,t=z){if(t===z){const r=new Error(`NullInjectorError: No provider for ${N(e)}!`);throw r.name="NullInjectorError",r}return t}}function UT(...n){return{\u0275providers:Y0(0,n),\u0275fromNgModule:!0}}function Y0(n,...e){const t=[],r=new Set;let o;return yc(e,i=>{const s=i;ny(s,t,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&K0(o,t),t}function K0(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];ry(o,i=>{e.push(i)})}}function ny(n,e,t,r){if(!(n=R(n)))return!1;let o=null,i=_a(n);const s=!i&&ur(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const u=n.ngModule;if(i=_a(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)ny(f,e,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{yc(i.imports,h=>{ny(h,e,t,r)&&(f||(f=[]),f.push(h))})}finally{}void 0!==f&&K0(f,e)}if(!a){const f=wa(o)||(()=>new o);e.push({provide:o,useFactory:f,deps:nr},{provide:Z0,useValue:o,multi:!0},{provide:nh,useValue:()=>ee(o),multi:!0})}const u=i.providers;null==u||a||ry(u,h=>{e.push(h)})}}return o!==n&&void 0!==n.providers}function ry(n,e){for(let t of n)Me(t)&&(t=t.\u0275providers),Array.isArray(t)?ry(t,e):e(t)}const HT=tr({provide:String,useValue:tr});function oy(n){return null!==n&&"object"==typeof n&&HT in n}function Cc(n){return"function"==typeof n}const iy=new rn("Set Injector scope."),rh={},GT={};let sy;function oh(){return void 0===sy&&(sy=new q0),sy}class Da{}class J0 extends Da{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ly(e,s=>this.processProvider(s)),this.records.set(W0,pu(void 0,this)),o.has("environment")&&this.records.set(Da,pu(void 0,this));const i=this.records.get(iy);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Z0.multi,nr,Mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ht(this),r=cr(void 0);try{return e()}finally{Ht(t),cr(r)}}get(e,t=z,r=Mt.Default){this.assertNotDestroyed(),r=Zr(r);const o=Ht(this),i=cr(void 0);try{if(!(r&Mt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function KT(n){return"function"==typeof n||"object"==typeof n&&n instanceof rn}(e)&&Ms(e);a=u&&this.injectableDefInScope(u)?pu(ay(e),rh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Mt.Self?oh():this.parent).get(e,t=r&Mt.Optional&&t===z?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Ie]=s[Ie]||[]).unshift(N(e)),o)throw s;return function vr(n,e,t,r){const o=n[Ie];throw e[Tn]&&o.unshift(e[Tn]),n.message=function Xo(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=N(e);if(Array.isArray(e))o=e.map(N).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):N(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(wt,"\n  ")}`}("\n"+n.message,o,t,r),n.ngTokenPath=o,n[Ie]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{cr(i),Ht(o)}}resolveInjectorInitializers(){const e=Ht(this),t=cr(void 0);try{const r=this.get(nh.multi,nr,Mt.Self);for(const o of r)o()}finally{Ht(e),cr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(N(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(e){let t=Cc(e=R(e))?e:R(e&&e.provide);const r=function ZT(n){return oy(n)?pu(void 0,n.useValue):pu(eC(n),rh)}(e);if(Cc(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=pu(void 0,rh,!0),o.factory=()=>pt(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===rh&&(t.value=GT,t.value=t.factory()),"object"==typeof t.value&&t.value&&function YT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=R(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function ay(n){const e=Ms(n),t=null!==e?e.factory:wa(n);if(null!==t)return t;if(n instanceof rn)throw new Te(204,!1);if(n instanceof Function)return function WT(n){const e=n.length;if(e>0)throw Ld(e,"?"),new Te(204,!1);const t=function fs(n){const e=n&&(n[Us]||n[va]);if(e){const t=function Ri(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Te(204,!1)}function eC(n,e,t){let r;if(Cc(n)){const o=R(n);return wa(o)||ay(o)}if(oy(n))r=()=>R(n.useValue);else if(function Q0(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...pt(n.deps||[]));else if(function X0(n){return!(!n||!n.useExisting)}(n))r=()=>ee(R(n.useExisting));else{const o=R(n&&(n.useClass||n.provide));if(!function qT(n){return!!n.deps}(n))return wa(o)||ay(o);r=()=>new o(...pt(n.deps))}return r}function pu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ly(n,e){for(const t of n)Array.isArray(t)?ly(t,e):t&&Me(t)?ly(t.\u0275providers,e):e(t)}class XT{}class tC{}class JT{resolveComponentFactory(e){throw function QT(n){const e=Error(`No component factory found for ${N(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let nl=(()=>{class n{}return n.NULL=new JT,n})();function eA(){return hu(Sr(),Ke())}function hu(n,e){return new gt(Wi(n,e))}let gt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=eA,n})();function tA(n){return n instanceof gt?n.nativeElement:n}class rC{}let rl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function nA(){const n=Ke(),t=Zi(Sr().index,n);return(Lr(t)?t:n)[v]}(),n})(),rA=(()=>{class n{}return n.\u0275prov=ht({token:n,providedIn:"root",factory:()=>null}),n})();class Zd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const oA=new Zd("15.1.3"),cy={};function dy(n){return n.ngOriginalError}class mu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&dy(e);for(;t&&dy(t);)t=dy(t);return t||null}}function ol(n){return n instanceof Function?n():n}function iC(n,e,t){let r=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}const sC="ng-template";function mA(n,e,t){let r=0;for(;r<n.length;){let o=n[r++];if(t&&"class"===o){if(o=n[r],-1!==iC(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function aC(n){return 4===n.type&&n.value!==sC}function gA(n,e,t){return e===(4!==n.type||t?n.value:sC)}function yA(n,e,t){let r=4;const o=n.attrs||[],i=function bA(n){for(let e=0;e<n.length;e++)if(Rb(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!gA(n,u,t)||""===u&&1===e.length){if(oa(r))return!1;s=!0}}else{const f=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!mA(n.attrs,f,t)){if(oa(r))return!1;s=!0}continue}const _=_A(8&r?"class":u,o,aC(n),t);if(-1===_){if(oa(r))return!1;s=!0;continue}if(""!==f){let k;k=_>i?"":o[_+1].toLowerCase();const x=8&r?k:null;if(x&&-1!==iC(x,f,0)||2&r&&f!==k){if(oa(r))return!1;s=!0}}}}else{if(!s&&!oa(r)&&!oa(u))return!1;if(s&&oa(u))continue;s=!1,r=u|1&r}}return oa(r)||s}function oa(n){return 0==(1&n)}function _A(n,e,t,r){if(null===e)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function CA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function lC(n,e,t=!1){for(let r=0;r<e.length;r++)if(yA(n,e[r],t))return!0;return!1}function wA(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function cC(n,e){return n?":not("+e.trim()+")":e}function SA(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!oa(s)&&(e+=cC(i,o),o=""),r=s,i=i||!oa(r);t++}return""!==o&&(e+=cC(i,o)),e}const $n={};function Xe(n){uC(cn(),Ke(),qi()+n,!1)}function uC(n,e,t,r){if(!r)if(3==(3&e[2])){const i=n.preOrderCheckHooks;null!==i&&$p(e,i,t)}else{const i=n.preOrderHooks;null!==i&&Bp(e,i,0,t)}mc(t)}function hC(n,e=null,t=null,r){const o=mC(n,e,t,r);return o.resolveInjectorInitializers(),o}function mC(n,e=null,t=null,r,o=new Set){const i=[t||nr,UT(n)];return r=r||("object"==typeof n?void 0:N(n)),new J0(i,e||oh(),r||null,o)}let _o=(()=>{class n{static create(t,r){if(Array.isArray(t))return hC({name:""},r,t,"");{const o=t.name??"";return hC({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=z,n.NULL=new q0,n.\u0275prov=ht({token:n,providedIn:"any",factory:()=>ee(W0)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,e=Mt.Default){const t=Ke();return null===t?ee(n,e):Ub(Sr(),t,R(n),e)}function SC(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r+1];if(-1!==i){const s=n.data[i];so(t[r]),s.contentQueries(2,e[i],i)}}}function sh(n,e,t,r,o,i,s,a,u,f,h){const _=e.blueprint.slice();return _[0]=o,_[2]=76|r,(null!==h||n&&1024&n[2])&&(_[2]|=1024),ar(_),_[3]=_[15]=n,_[8]=t,_[10]=s||n&&n[10],_[v]=a||n&&n[v],_[12]=u||n&&n[12]||null,_[9]=f||n&&n[9]||null,_[6]=i,_[20]=function $x(){return Lx++}(),_[21]=h,_[16]=2==e.type?n[16]:_,_}function _u(n,e,t,r,o){let i=n.data[e];if(null===i)i=function gy(n,e,t,r,o){const i=xo(),s=_n(),u=n.data[e]=function YA(n,e,t,r,o,i){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,e,r,o);return null===n.firstChild&&(n.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(n,e,t,r,o),function Dt(){return Fn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function $r(){const n=Fn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Er(i,!0),i}function qd(n,e,t,r){if(0===t)return-1;const o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function yy(n,e,t){_t(e);try{const r=n.viewQuery;null!==r&&ky(1,r,t);const o=n.template;null!==o&&EC(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&SC(n,e),n.staticViewQueries&&ky(2,n.viewQuery,t);const i=n.components;null!==i&&function WA(n,e){for(let t=0;t<e.length;t++)hP(n,e[t])}(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,go()}}function ah(n,e,t,r){const o=e[2];if(128!=(128&o)){_t(e);try{ar(e),function ve(n){return Fn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&EC(n,e,t,2,r);const s=3==(3&o);if(s){const f=n.preOrderCheckHooks;null!==f&&$p(e,f,null)}else{const f=n.preOrderHooks;null!==f&&Bp(e,f,0,null),vg(e,0)}if(function fP(n){for(let e=Vg(n);null!==e;e=jg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const o=t[r];512&o[2]||Pd(o[3],1),o[2]|=512}}}(e),function dP(n){for(let e=Vg(n);null!==e;e=jg(e))for(let t=10;t<e.length;t++){const r=e[t],o=r[1];hc(r)&&ah(o,r,o.template,r[8])}}(e),null!==n.contentQueries&&SC(n,e),s){const f=n.contentCheckHooks;null!==f&&$p(e,f)}else{const f=n.contentHooks;null!==f&&Bp(e,f,1),vg(e,1)}!function zA(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)mc(~o);else{const i=o,s=t[++r],a=t[++r];Un(s,i),a(2,e[i])}}}finally{mc(-1)}}(n,e);const a=n.components;null!==a&&function GA(n,e){for(let t=0;t<e.length;t++)pP(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&ky(2,u,r),s){const f=n.viewCheckHooks;null!==f&&$p(e,f)}else{const f=n.viewHooks;null!==f&&Bp(e,f,2),vg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Pd(e[3],-1))}finally{go()}}}function EC(n,e,t,r,o){const i=qi(),s=2&r;try{mc(-1),s&&e.length>22&&uC(n,e,22,!1),t(r,o)}finally{mc(i)}}function _y(n,e,t){if(tu(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,t[i],i)}}}function vy(n,e,t){xr()&&(function tP(n,e,t,r){const o=t.directiveStart,i=t.directiveEnd;Fl(t)&&function lP(n,e,t){const r=Wi(e,n),o=DC(t),i=n[10],s=lh(n,sh(n,o,null,t.onPush?32:16,r,e,i,i.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Hp(t,e),Oi(r,e);const s=t.initialInputs;for(let a=o;a<i;a++){const u=n.data[a],f=gc(e,n,a,t);Oi(f,e),null!==s&&cP(0,a-o,f,u,0,s),hs(u)&&(Zi(t.index,e)[8]=gc(e,n,a,t))}}(n,e,t,Wi(t,e)),64==(64&t.flags)&&AC(n,e,t))}function by(n,e,t=Wi){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function DC(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Cy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Cy(n,e,t,r,o,i,s,a,u,f){const h=22+r,_=h+o,k=function ZA(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:$n);return t}(h,_),x="function"==typeof f?f():f;return k[1]={type:n,blueprint:k,template:t,queries:null,viewQuery:a,declTNode:e,data:k.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:x,incompleteFirstPass:!1}}function IC(n,e,t,r){const o=RC(e);null===t?o.push(r):(o.push(t),n.firstCreatePass&&FC(n).push(r,o.length-1))}function kC(n,e,t,r){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const i=n[o];null===r?MC(t,e,o,i):r.hasOwnProperty(o)&&MC(t,e,r[o],i)}return t}function MC(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function As(n,e,t,r,o,i,s,a){const u=Wi(e,t);let h,f=e.inputs;!a&&null!=f&&(h=f[r])?(My(n,t,h,r,o),Fl(e)&&xC(t,e.index)):3&e.type&&(r=function XA(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(u,r,o))}function xC(n,e){const t=Zi(e,n);16&t[2]||(t[2]|=32)}function wy(n,e,t,r){let o=!1;if(xr()){const i=null===r?null:{"":-1},s=function rP(n,e){const t=n.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(lC(e,s.selectors,!1))if(r||(r=[]),hs(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),Sy(n,e,a.length)}else r.unshift(s),Sy(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(n,t);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(o=!0,TC(n,e,t,a,i,u)),i&&function oP(n,e,t){if(e){const r=n.localNames=[];for(let o=0;o<e.length;o+=2){const i=t[e[o+1]];if(null==i)throw new Te(-301,!1);r.push(e[o],i)}}}(t,r,i)}return t.mergedAttrs=Fd(t.mergedAttrs,t.attrs),o}function TC(n,e,t,r,o,i){for(let f=0;f<r.length;f++)Dg(Hp(t,e),n,r[f].type);!function sP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let f=0;f<r.length;f++){const h=r[f];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=qd(n,e,r.length,null);for(let f=0;f<r.length;f++){const h=r[f];t.mergedAttrs=Fd(t.mergedAttrs,h.hostAttrs),aP(n,t,e,u,h),iP(u,h,o),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const _=h.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function KA(n,e,t){const o=e.directiveEnd,i=n.data,s=e.attrs,a=[];let u=null,f=null;for(let h=e.directiveStart;h<o;h++){const _=i[h],k=t?t.get(_):null,K=k?k.outputs:null;u=kC(_.inputs,h,u,k?k.inputs:null),f=kC(_.outputs,h,f,K);const Se=null===u||null===s||aC(e)?null:uP(u,h,s);a.push(Se)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=f}(n,t,i)}function AC(n,e,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function ir(){return Fn.lFrame.currentDirectiveIndex}();try{mc(i);for(let a=r;a<o;a++){const u=n.data[a],f=e[a];pn(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&nP(u,f)}}finally{mc(-1),pn(s)}}function nP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Sy(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function iP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;hs(e)&&(t[""]=n)}}function aP(n,e,t,r,o){n.data[r]=o;const i=o.factory||(o.factory=wa(o.type)),s=new Rd(i,hs(o),C);n.blueprint[r]=s,t[r]=s,function JA(n,e,t,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function eP(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(n,e,r,qd(n,t,o.hostVars,$n),o)}function Ia(n,e,t,r,o,i){const s=Wi(n,e);!function Ey(n,e,t,r,o,i,s){if(null==i)n.removeAttribute(e,o,t);else{const a=null==s?Ct(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}(e[v],s,i,n.value,t,r,o)}function cP(n,e,t,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const f=s[u++],h=s[u++],_=s[u++];null!==a?r.setInput(t,_,f,h):t[h]=_}}}function uP(n,e,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(n.hasOwnProperty(i)){null===r&&(r=[]);const s=n[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function PC(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function pP(n,e){const t=Zi(e,n);if(hc(t)){const r=t[1];48&t[2]?ah(r,t,r.template,t[8]):t[5]>0&&Dy(t)}}function Dy(n){for(let r=Vg(n);null!==r;r=jg(r))for(let o=10;o<r.length;o++){const i=r[o];if(hc(i))if(512&i[2]){const s=i[1];ah(s,i,s.template,i[8])}else i[5]>0&&Dy(i)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const o=Zi(t[r],n);hc(o)&&o[5]>0&&Dy(o)}}function hP(n,e){const t=Zi(e,n),r=t[1];(function mP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),yy(r,t,t[8])}function lh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Iy(n){for(;n;){n[2]|=32;const e=Hd(n);if(Ip(n)&&!e)return n;n=e}return null}function ch(n,e,t,r=!0){const o=e[10];o.begin&&o.begin();try{ah(n,e,n.template,t)}catch(s){throw r&&NC(e,s),s}finally{o.end&&o.end()}}function ky(n,e,t){so(0),e(n,t)}function RC(n){return n[7]||(n[7]=[])}function FC(n){return n.cleanup||(n.cleanup=[])}function NC(n,e){const t=n[9],r=t?t.get(mu,null):null;r&&r.handleError(e)}function My(n,e,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++],u=e[s],f=n.data[s];null!==f.setInput?f.setInput(u,o,r,a):u[a]=o}}function il(n,e,t){const r=pc(e,n);!function y0(n,e,t){n.setValue(e,t)}(n[v],r,t)}function uh(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=me(o,a):2==i&&(r=me(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function dh(n,e,t,r,o=!1){for(;null!==t;){const i=e[t.index];if(null!==i&&r.push(Bo(i)),gr(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&dh(u[1],u,f,r)}const s=t.type;if(8&s)dh(n,e,t.child,r);else if(32&s){const a=Bg(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=M0(e,t);if(Array.isArray(a))r.push(...a);else{const u=Hd(e[16]);dh(u[1],u,a,r,!0)}}t=o?t.projectionNext:t.next}return r}class Yd{get rootNodes(){const e=this._lView,t=e[1];return dh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(gr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(zg(e,r),Gp(t,r))}this._attachedToViewContainer=!1}v0(this._lView[1],this._lView)}onDestroy(e){IC(this._lView[1],this._lView,null,e)}markForCheck(){Iy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ch(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jx(n,e){zd(n,e,e[v],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=e}}class gP extends Yd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ch(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class LC extends nl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ur(e);return new Kd(t,this.ngModule)}}function $C(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class _P{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Zr(r);const o=this.injector.get(e,cy,r);return o!==cy||t===cy?o:this.parentInjector.get(e,t,r)}}class Kd extends tC{get inputs(){return $C(this.componentDef.inputs)}get outputs(){return $C(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function EA(n){return n.map(SA).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=(o=o||this.ngModule)instanceof Da?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new _P(e,i):e,a=s.get(rC,null);if(null===a)throw new Te(407,!1);const u=s.get(rA,null),f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",_=r?function qA(n,e,t){return n.selectRootElement(e,t===Fi.ShadowDom)}(f,r,this.componentDef.encapsulation):Hg(f,h,function yP(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),k=this.componentDef.onPush?288:272,x=Cy(0,null,null,1,0,null,null,null,null,null),K=sh(null,x,null,k,null,null,a,f,u,s,null);let Se,ze;_t(K);try{const Ye=this.componentDef;let vt,Le=null;Ye.findHostDirectiveDefs?(vt=[],Le=new Map,Ye.findHostDirectiveDefs(Ye,vt,Le),vt.push(Ye)):vt=[Ye];const Ot=function bP(n,e){const t=n[1];return n[22]=e,_u(t,22,2,"#host",null)}(K,_),Dn=function CP(n,e,t,r,o,i,s,a){const u=o[1];!function wP(n,e,t,r){for(const o of n)e.mergedAttrs=Fd(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(uh(e,e.mergedAttrs,!0),null!==t&&A0(r,t,e))}(r,n,e,s);const f=i.createRenderer(e,t),h=sh(o,DC(t),null,t.onPush?32:16,o[n.index],n,i,f,a||null,null,null);return u.firstCreatePass&&Sy(u,n,r.length-1),lh(o,h),o[n.index]=h}(Ot,_,Ye,vt,K,a,f);ze=yg(x,22),_&&function EP(n,e,t,r){if(r)Cg(n,t,["ng-version",oA.full]);else{const{attrs:o,classes:i}=function DA(n){const e=[],t=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&e.push(i,n[++r]):8===o&&t.push(i);else{if(!oa(o))break;o=i}r++}return{attrs:e,classes:t}}(e.selectors[0]);o&&Cg(n,t,o),i&&i.length>0&&T0(n,t,i.join(" "))}}(f,Ye,_,r),void 0!==t&&function DP(n,e,t){const r=n.projection=[];for(let o=0;o<e.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(ze,this.ngContentSelectors,t),Se=function SP(n,e,t,r,o,i){const s=Sr(),a=o[1],u=Wi(s,o);TC(a,o,s,t,null,r);for(let h=0;h<t.length;h++)Oi(gc(o,a,s.directiveStart+h,s),o);AC(a,o,s),u&&Oi(u,o);const f=gc(o,a,s.directiveStart+s.componentOffset,s);if(n[8]=o[8]=f,null!==i)for(const h of i)h(f,e);return _y(a,s,n),f}(Dn,Ye,vt,Le,K,[IP]),yy(x,K,null)}finally{go()}return new vP(this.componentType,Se,hu(ze,K),K,ze)}}class vP extends XT{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new gP(o),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){const i=this._rootLView;My(i[1],i,o,e,t),xC(i,this._tNode.index)}}get injector(){return new ou(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function IP(){const n=Sr();Lp(Ke()[1],n)}function yr(n){let e=function BC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let o;if(hs(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Te(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);const s=n;s.inputs=xy(n.inputs),s.declaredInputs=xy(n.declaredInputs),s.outputs=xy(n.outputs);const a=o.hostBindings;a&&TP(n,a);const u=o.viewQuery,f=o.contentQueries;if(u&&MP(n,u),f&&xP(n,f),T(n.inputs,o.inputs),T(n.declaredInputs,o.declaredInputs),T(n.outputs,o.outputs),hs(o)&&o.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===yr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function kP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=Fd(o.hostAttrs,t=Fd(t,o.hostAttrs))}}(r)}function xy(n){return n===Hi?{}:n===nr?[]:n}function MP(n,e){const t=n.viewQuery;n.viewQuery=t?(r,o)=>{e(r,o),t(r,o)}:e}function xP(n,e){const t=n.contentQueries;n.contentQueries=t?(r,o,i)=>{e(r,o,i),t(r,o,i)}:e}function TP(n,e){const t=n.hostBindings;n.hostBindings=t?(r,o)=>{e(r,o),t(r,o)}:e}let fh=null;function wc(){if(!fh){const n=p.Symbol;if(n&&n.iterator)fh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(fh=r)}}}return fh}function ph(n){return!!function Ty(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&wc()in n)}function Ni(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Sc(n,e,t,r){const o=Ni(n,e,t);return Ni(n,e+1,r)||o}function Ma(n,e,t,r){const o=Ke();return Ni(o,De(),e)&&(cn(),Ia(yo(),o,n,e,t,r)),Ma}function bu(n,e,t,r){return Ni(n,De(),t)?e+Ct(t)+r:$n}function wu(n,e,t,r,o,i,s,a){const f=function hh(n,e,t,r,o){const i=Sc(n,e,t,r);return Ni(n,e+2,o)||i}(n,j(),t,o,s);return Ve(3),f?e+Ct(t)+r+Ct(o)+i+Ct(s)+a:$n}function Jt(n,e,t,r,o,i,s,a){const u=Ke(),f=cn(),h=n+22,_=f.firstCreatePass?function VP(n,e,t,r,o,i,s,a,u){const f=e.consts,h=_u(e,n,4,s||null,bi(f,a));wy(e,t,h,bi(f,u)),Lp(e,h);const _=h.tViews=Cy(2,h,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,h),_.queries=e.queries.embeddedTView(h)),h}(h,f,u,e,t,r,o,i,s):f.data[h];Er(_,!1);const k=u[v].createComment("");Kp(f,u,k,_),Oi(k,u),lh(u,u[h]=PC(k,u,k,_)),fc(_)&&vy(f,u,_),null!=s&&by(u,_,a)}function Ps(n){return ra(function c(){return Fn.lFrame.contextLView}(),22+n)}function ot(n,e,t){const r=Ke();return Ni(r,De(),e)&&As(cn(),yo(),r,n,e,r[v],t,!1),ot}function Ay(n,e,t,r,o){const s=o?"class":"style";My(n,t,e.inputs[s],s,r)}function oe(n,e,t,r){const o=Ke(),i=cn(),s=22+n,a=o[v],u=o[s]=Hg(a,e,function QM(){return Fn.lFrame.currentNamespace}()),f=i.firstCreatePass?function UP(n,e,t,r,o,i,s){const a=e.consts,f=_u(e,n,2,o,bi(a,i));return wy(e,t,f,bi(a,s)),null!==f.attrs&&uh(f,f.attrs,!1),null!==f.mergedAttrs&&uh(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,i,o,0,e,t,r):i.data[s];return Er(f,!0),A0(a,u,f),32!=(32&f.flags)&&Kp(i,o,u,f),0===function _g(){return Fn.lFrame.elementDepthCount}()&&Oi(u,o),function Ln(){Fn.lFrame.elementDepthCount++}(),fc(f)&&(vy(i,o,f),_y(i,f,o)),null!==r&&by(o,f),oe}function J(){let n=Sr();_n()?ci():(n=n.parent,Er(n,!1));const e=n;!function Qo(){Fn.lFrame.elementDepthCount--}();const t=cn();return t.firstCreatePass&&(Lp(t,n),tu(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function nx(n){return 0!=(8&n.flags)}(e)&&Ay(t,e,Ke(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function rx(n){return 0!=(16&n.flags)}(e)&&Ay(t,e,Ke(),e.stylesWithoutHost,!1),J}function ct(n,e,t,r){return oe(n,e,t,r),J(),ct}function Qd(n,e,t){const r=Ke(),o=cn(),i=n+22,s=o.firstCreatePass?function HP(n,e,t,r,o){const i=e.consts,s=bi(i,r),a=_u(e,n,8,"ng-container",s);return null!==s&&uh(a,s,!0),wy(e,t,a,bi(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,t):o.data[i];Er(s,!0);const a=r[i]=r[v].createComment("");return Kp(o,r,a,s),Oi(a,r),fc(s)&&(vy(o,r,s),_y(o,s,r)),null!=t&&by(r,s),Qd}function Jd(){let n=Sr();const e=cn();return _n()?ci():(n=n.parent,Er(n,!1)),e.firstCreatePass&&(Lp(e,n),tu(n)&&e.queries.elementEnd(n)),Jd}function Tr(){return Ke()}function ef(n){return!!n&&"function"==typeof n.then}function QC(n){return!!n&&"function"==typeof n.subscribe}const Py=QC;function at(n,e,t,r){const o=Ke(),i=cn(),s=Sr();return function ew(n,e,t,r,o,i,s){const a=fc(r),f=n.firstCreatePass&&FC(n),h=e[8],_=RC(e);let k=!0;if(3&r.type||s){const Se=Wi(r,e),ze=s?s(Se):Se,Ye=_.length,vt=s?Ot=>s(Bo(Ot[r.index])):r.index;let Le=null;if(!s&&a&&(Le=function zP(n,e,t,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=e[7],u=o[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(n,e,o,r.index)),null!==Le)(Le.__ngLastListenerFn__||Le).__ngNextListenerFn__=i,Le.__ngLastListenerFn__=i,k=!1;else{i=nw(r,e,h,i,!1);const Ot=t.listen(ze,o,i);_.push(i,Ot),f&&f.push(o,vt,Ye,Ye+1)}}else i=nw(r,e,h,i,!1);const x=r.outputs;let K;if(k&&null!==x&&(K=x[o])){const Se=K.length;if(Se)for(let ze=0;ze<Se;ze+=2){const Dn=e[K[ze]][K[ze+1]].subscribe(i),Wn=_.length;_.push(i,Dn),f&&f.push(o,r.index,Wn,-(Wn+1))}}}(i,o,o[v],s,n,e,r),at}function tw(n,e,t,r){try{return!1!==t(r)}catch(o){return NC(n,o),!1}}function nw(n,e,t,r,o){return function i(s){if(s===Function)return r;Iy(n.componentOffset>-1?Zi(n.index,e):e);let u=tw(e,0,r,s),f=i.__ngNextListenerFn__;for(;f;)u=tw(e,0,f,s)&&u,f=f.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Bt(n=1){return function WM(n){return(Fn.lFrame.contextLView=function ZM(n,e){for(;n>0;)e=e[15],n--;return e}(n,Fn.lFrame.contextLView))[8]}(n)}function GP(n,e){let t=null;const r=function vA(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const i=e[o];if("*"!==i){if(null===r?lC(n,i,!0):wA(r,i))return o}else t=o}return t}function Rt(n){const e=Ke()[16][6];if(!e.projection){const r=e.projection=Ld(n?n.length:1,null),o=r.slice();let i=e.child;for(;null!==i;){const s=n?GP(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function At(n,e=0,t){const r=Ke(),o=cn(),i=_u(o,22+n,16,null,t||null);null===i.projection&&(i.projection=e),ci(),32!=(32&i.flags)&&function aT(n,e,t){x0(e[v],0,e,t,b0(n,t,e),E0(t.parent||e[6],t,e))}(o,r,i)}function gh(n,e,t,r,o){const i=Ke(),s=bu(i,e,t,r);return s!==$n&&As(cn(),yo(),i,n,s,i[v],o,!1),gh}function yh(n,e){return n<<17|e<<2}function Ol(n){return n>>17&32767}function Ry(n){return 2|n}function Ec(n){return(131068&n)>>2}function Fy(n,e){return-131069&n|e<<2}function Oy(n){return 1|n}function fw(n,e,t,r,o){const i=n[t+1],s=null===e;let a=r?Ol(i):Ec(i),u=!1;for(;0!==a&&(!1===u||s);){const h=n[a+1];XP(n[a],e)&&(u=!0,n[a+1]=r?Oy(h):Ry(h)),a=r?Ol(h):Ec(h)}u&&(n[t+1]=r?Ry(i):Oy(i))}function XP(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&uu(n,e)>=0}function tf(n,e,t){return ia(n,e,t,!1),tf}function sl(n,e){return ia(n,e,null,!0),sl}function ia(n,e,t,r){const o=Ke(),i=cn(),s=Ve(2);i.firstUpdatePass&&function bw(n,e,t,r){const o=n.data;if(null===o[t+1]){const i=o[qi()],s=function vw(n,e){return e>=n.expandoStartIndex}(n,t);(function Ew(n,e){return 0!=(n.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function sR(n,e,t,r){const o=function ln(n){const e=Fn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(t=nf(t=Ny(null,n,e,t,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=Ny(o,n,e,t,r),null===i){let u=function aR(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ec(r))return n[Ol(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Ny(null,n,e,u[1],r),u=nf(u,e.attrs,r),function lR(n,e,t,r){n[Ol(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else i=function cR(n,e,t){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=nf(r,n[i].hostAttrs,t);return nf(r,e.attrs,t)}(n,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),t}(o,i,e,r),function YP(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Ol(s),u=Ec(s);n[r]=t;let h,f=!1;if(Array.isArray(t)?(h=t[1],(null===h||uu(t,h)>0)&&(f=!0)):h=t,o)if(0!==u){const k=Ol(n[a+1]);n[r+1]=yh(k,a),0!==k&&(n[k+1]=Fy(n[k+1],r)),n[a+1]=function ZP(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=yh(a,0),0!==a&&(n[a+1]=Fy(n[a+1],r)),a=r;else n[r+1]=yh(u,0),0===a?a=r:n[u+1]=Fy(n[u+1],r),u=r;f&&(n[r+1]=Ry(n[r+1])),fw(n,h,r,!0),fw(n,h,r,!1),function KP(n,e,t,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&uu(i,e)>=0&&(t[r+1]=Oy(t[r+1]))}(e,h,n,r,i),s=yh(a,u),i?e.classBindings=s:e.styleBindings=s}(o,i,e,t,s,r)}}(i,n,s,r),e!==$n&&Ni(o,s,e)&&function ww(n,e,t,r,o,i,s,a){if(!(3&e.type))return;const u=n.data,f=u[a+1],h=function qP(n){return 1==(1&n)}(f)?Sw(u,e,t,o,Ec(f),s):void 0;_h(h)||(_h(i)||function WP(n){return 2==(2&n)}(f)&&(i=Sw(u,null,t,o,a,s)),function cT(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:ys.DashCase;null==o?n.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ys.Important),n.setStyle(t,r,o,i))}}(r,s,pc(qi(),t),o,i))}(i,i.data[qi()],o,o[v],n,o[s+1]=function fR(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=N(Ts(n)))),n}(e,t),r,s)}function Ny(n,e,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],r=nf(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function nf(n,e,t){const r=t?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xs(n,s,!!t||e[++i]))}return void 0===n?null:n}function Sw(n,e,t,r,o,i){const s=null===e;let a;for(;o>0;){const u=n[o],f=Array.isArray(u),h=f?u[1]:u,_=null===h;let k=t[o+1];k===$n&&(k=_?nr:void 0);let x=_?xg(k,r):h===r?k:void 0;if(f&&!_h(x)&&(x=xg(u,r)),_h(x)&&(a=x,s))return a;const K=n[o+1];o=s?Ol(K):Ec(K)}if(null!==e){let u=i?e.residualClasses:e.residualStyles;null!=u&&(a=xg(u,r))}return a}function _h(n){return void 0!==n}function qe(n,e=""){const t=Ke(),r=cn(),o=n+22,i=r.firstCreatePass?_u(r,o,1,e,null):r.data[o],s=t[o]=function Ug(n,e){return n.createText(e)}(t[v],e);Kp(r,t,s,i),Er(i,!1)}function Rs(n){return Li("",n,""),Rs}function Li(n,e,t){const r=Ke(),o=bu(r,n,e,t);return o!==$n&&il(r,qi(),o),Li}function rf(n,e,t,r,o){const i=Ke(),s=function Cu(n,e,t,r,o,i){const a=Sc(n,j(),t,o);return Ve(2),a?e+Ct(t)+r+Ct(o)+i:$n}(i,n,e,t,r,o);return s!==$n&&il(i,qi(),s),rf}function Ly(n,e,t,r,o,i,s){const a=Ke(),u=wu(a,n,e,t,r,o,i,s);return u!==$n&&il(a,qi(),u),Ly}const Tu="en-US";let zw=Tu;function Vy(n,e,t,r,o){if(n=R(n),Array.isArray(n))for(let i=0;i<n.length;i++)Vy(n[i],e,t,r,o);else{const i=cn(),s=Ke();let a=Cc(n)?n:R(n.provide),u=eC(n);const f=Sr(),h=1048575&f.providerIndexes,_=f.directiveStart,k=f.providerIndexes>>20;if(Cc(n)||!n.multi){const x=new Rd(u,o,C),K=Uy(a,e,o?h:h+k,_);-1===K?(Dg(Hp(f,s),i,a),jy(i,n,e.length),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(x),s.push(x)):(t[K]=x,s[K]=x)}else{const x=Uy(a,e,h+k,_),K=Uy(a,e,h,h+k),ze=K>=0&&t[K];if(o&&!ze||!o&&!(x>=0&&t[x])){Dg(Hp(f,s),i,a);const Ye=function TF(n,e,t,r,o){const i=new Rd(n,t,C);return i.multi=[],i.index=e,i.componentProviders=0,mS(i,o,r&&!t),i}(o?xF:MF,t.length,o,r,u);!o&&ze&&(t[K].providerFactory=Ye),jy(i,n,e.length,0),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(Ye),s.push(Ye)}else jy(i,n,x>-1?x:K,mS(t[o?K:x],u,!o&&r));!o&&r&&ze&&t[K].componentProviders++}}}function jy(n,e,t,r){const o=Cc(e),i=function zT(n){return!!n.useClass}(e);if(o||i){const u=(i?R(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const h=f.indexOf(t);-1===h?f.push(t,[r,u]):f[h+1].push(r,u)}else f.push(t,u)}}}function mS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Uy(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function MF(n,e,t,r){return Hy(this.multi,[])}function xF(n,e,t,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=gc(t,t[1],this.providerFactory.index,r);i=a.slice(0,s),Hy(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],Hy(o,i);return i}function Hy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Nr(n,e=[]){return t=>{t.providersResolver=(r,o)=>function kF(n,e,t){const r=cn();if(r.firstCreatePass){const o=hs(n);Vy(t,r.data,r.blueprint,o,!0),Vy(e,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,e)}}class Au{}class gS{}class yS extends Au{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LC(this);const r=yn(e);this._bootstrapComponents=ol(r.bootstrap),this._r3Injector=mC(e,t,[{provide:Au,useValue:this},{provide:nl,useValue:this.componentFactoryResolver}],N(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class zy extends gS{constructor(e){super(),this.moduleType=e}create(e){return new yS(this.moduleType,e)}}class PF extends Au{constructor(e,t,r){super(),this.componentFactoryResolver=new LC(this),this.instance=null;const o=new J0([...e,{provide:Au,useValue:this},{provide:nl,useValue:this.componentFactoryResolver}],t||oh(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Sh(n,e,t=null){return new PF(n,e,t).injector}let RF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=Y0(0,t.type),o=r.length>0?Sh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ht({token:n,providedIn:"environment",factory:()=>new n(ee(Da))}),n})();function _S(n){n.getStandaloneInjector=e=>e.get(RF).getOrCreateStandaloneInjector(n)}function DS(n,e,t,r,o,i){const s=e+t;return Ni(n,s,o)?function ka(n,e,t){return n[e]=t}(n,s+1,i?r.call(i,o):r(o)):function df(n,e){const t=n[e];return t===$n?void 0:t}(n,s+1)}function Aa(n,e){const t=cn();let r;const o=n+22;t.firstCreatePass?(r=function QF(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=wa(r.type)),s=cr(C);try{const a=Up(!1),u=i();return Up(a),function jP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,Ke(),o,u),u}finally{cr(s)}}function Pa(n,e,t){const r=n+22,o=Ke(),i=ra(o,r);return function ff(n,e){return n[1].data[e].pure}(o,r)?DS(o,function M(){const n=Fn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,i.transform,t,i):i.transform(t)}function Wy(n){return e=>{setTimeout(n,void 0,e)}}const Mn=class r2 extends nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=Wy(i),o&&(o=Wy(o)),s&&(s=Wy(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof G&&e.add(a),a}};function o2(){return this._results[wc()]()}class Zy{get changes(){return this._changes||(this._changes=new Mn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=wc(),r=Zy.prototype;r[t]||(r[t]=o2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const o=function Hs(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function px(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vs=(()=>{class n{}return n.__NG_ELEMENT_ID__=a2,n})();const i2=vs,s2=class extends i2{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,o=sh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),yy(r,o,e),new Yd(o)}};function a2(){return Eh(Sr(),Ke())}function Eh(n,e){return 4&n.type?new s2(e,n,hu(n,e)):null}let $i=(()=>{class n{}return n.__NG_ELEMENT_ID__=l2,n})();function l2(){return PS(Sr(),Ke())}const c2=$i,TS=class extends c2{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return hu(this._hostTNode,this._hostLView)}get injector(){return new ou(this._hostTNode,this._hostLView)}get parentInjector(){const e=Eg(this._hostTNode,this._hostLView);if(Nb(e)){const t=jp(e,this._hostLView),r=Vp(e);return new ou(t[1].data[r+8],t)}return new ou(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=AS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=e.createEmbeddedView(t||{},i);return this.insert(s,o),s}createComponent(e,t,r,o,i){const s=e&&!function Nd(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const _=t||{};a=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const u=s?e:new Kd(ur(e)),f=r||this.parentInjector;if(!i&&null==u.ngModule){const k=(s?f:this.parentInjector).get(Da,null);k&&(i=k)}const h=u.create(f,o,void 0,i);return this.insert(h.hostView,a),h}insert(e,t){const r=e._lView,o=r[1];if(function eo(n){return gr(n[3])}(r)){const h=this.indexOf(e);if(-1!==h)this.detach(h);else{const _=r[3],k=new TS(_,_[6],_[3]);k.detach(k.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function tT(n,e,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=e),r<i-10?(e[4]=t[o],qb(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function nT(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(o,r,s,i);const a=Zg(i,s),u=r[v],f=Yp(u,s[7]);return null!==f&&function Qx(n,e,t,r,o,i){r[0]=o,r[6]=e,zd(n,r,t,1,o,i)}(o,s[6],u,r,f,a),e.attachToViewContainerRef(),qb(qy(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=AS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=zg(this._lContainer,t);r&&(Gp(qy(this._lContainer),t),v0(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=zg(this._lContainer,t);return r&&null!=Gp(qy(this._lContainer),t)?new Yd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function AS(n){return n[8]}function qy(n){return n[8]||(n[8]=[])}function PS(n,e){let t;const r=e[n.index];if(gr(r))t=r;else{let o;if(8&n.type)o=Bo(r);else{const i=e[v];o=i.createComment("");const s=Wi(n,e);_c(i,Yp(i,s),o,function sT(n,e){return n.nextSibling(e)}(i,s),!1)}e[n.index]=t=PC(r,e,o,n),lh(e,t)}return new TS(t,n,e)}class Yy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Yy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ky{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Ky(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==LS(e,t).matches&&this.queries[t].setDirty()}}class RS{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Xy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new Xy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Qy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Qy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,t,u2(t,i)),this.matchTNodeWithReadOption(e,t,zp(t,e,i,!1,!1))}else r===vs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,zp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===gt||o===$i||o===vs&&4&t.type)this.addMatch(t.index,-2);else{const i=zp(t,e,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function u2(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function f2(n,e,t,r){return-1===t?function d2(n,e){return 11&n.type?hu(n,e):4&n.type?Eh(n,e):null}(e,n):-2===t?function p2(n,e,t){return t===gt?hu(e,n):t===vs?Eh(e,n):t===$i?PS(e,n):void 0}(n,e,r):gc(n,n[1],t,e)}function FS(n,e,t,r){const o=e[19].queries[r];if(null===o.matches){const i=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const f=s[u];a.push(f<0?null:f2(e,i[f],s[u+1],t.metadata.read))}o.matches=a}return o.matches}function Jy(n,e,t,r){const o=n.queries.getByIndex(t),i=o.matches;if(null!==i){const s=FS(n,e,o,t);for(let a=0;a<i.length;a+=2){const u=i[a];if(u>0)r.push(s[a/2]);else{const f=i[a+1],h=e[-u];for(let _=10;_<h.length;_++){const k=h[_];k[17]===k[3]&&Jy(k[1],k,f,r)}if(null!==h[9]){const _=h[9];for(let k=0;k<_.length;k++){const x=_[k];Jy(x[1],x,f,r)}}}}}return r}function Fs(n){const e=Ke(),t=cn(),r=Gn();so(r+1);const o=LS(t,r);if(n.dirty&&function Op(n){return 4==(4&n[2])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?Jy(t,e,r,[]):FS(t,e,o,r);n.reset(i,tA),n.notifyOnChanges()}return!0}return!1}function Pu(n,e,t){const r=cn();r.firstCreatePass&&(NS(r,new RS(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),OS(r,Ke(),e)}function Os(){return function h2(n,e){return n[19].queries[e].queryList}(Ke(),Gn())}function OS(n,e,t){const r=new Zy(4==(4&t));IC(n,e,r,r.destroy),null===e[19]&&(e[19]=new Ky),e[19].queries.push(new Yy(r))}function NS(n,e,t){null===n.queries&&(n.queries=new Xy),n.queries.track(new Qy(e,t))}function LS(n,e){return n.queries.getByIndex(e)}function Ih(...n){}const Ic=new rn("Application Initializer");let kh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Ih,this.reject=Ih,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(ef(i))t.push(i);else if(Py(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ee(Ic,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hf=new rn("AppId",{providedIn:"root",factory:function nE(){return`${o_()}${o_()}${o_()}`}});function o_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rE=new rn("Platform Initializer"),Ou=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oE=new rn("appBootstrapListener");let N2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const al=new rn("LocaleId",{providedIn:"root",factory:()=>gn(al,Mt.Optional|Mt.SkipSelf)||function L2(){return typeof $localize<"u"&&$localize.locale||Tu}()});class B2{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let iE=(()=>{class n{compileModuleSync(t){return new zy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=ol(yn(t).declarations).reduce((s,a)=>{const u=ur(a);return u&&s.push(new Kd(u)),s},[]);return new B2(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U2=(()=>Promise.resolve(0))();function i_(n){typeof Zone>"u"?U2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mn(!1),this.onMicrotaskEmpty=new Mn(!1),this.onStable=new Mn(!1),this.onError=new Mn(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function H2(){let n=p.requestAnimationFrame,e=p.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function W2(n){const e=()=>{!function G2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(p,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,a_(n),n.isCheckStableRunning=!0,s_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),a_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{try{return lE(n),t.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),cE(n)}},onInvoke:(t,r,o,i,s,a,u)=>{try{return lE(n),t.invoke(o,i,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),cE(n)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,a_(n),s_(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new Te(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,z2,Ih,Ih);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const z2={};function s_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function a_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function lE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cE(n){n._nesting--,s_(n)}class Z2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mn,this.onMicrotaskEmpty=new Mn,this.onStable=new Mn,this.onError=new Mn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}}const uE=new rn(""),Mh=new rn("");let u_,l_=(()=>{class n{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,u_||(function q2(n){u_=n}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),i_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())i_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(ee(dt),ee(c_),ee(Mh))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),c_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return u_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ll=null;const dE=new rn("AllowMultipleToken"),d_=new rn("PlatformDestroyListeners");class fE{constructor(e,t){this.name=e,this.token=t}}function hE(n,e,t=[]){const r=`Platform: ${e}`,o=new rn(r);return(i=[])=>{let s=f_();if(!s||s.injector.get(dE,!1)){const a=[...t,...i,{provide:o,useValue:!0}];n?n(a):function X2(n){if(Ll&&!Ll.get(dE,!1))throw new Te(400,!1);Ll=n;const e=n.get(gE);(function pE(n){const e=n.get(rE,null);e&&e.forEach(t=>t())})(n)}(function mE(n=[],e){return _o.create({name:e,providers:[{provide:iy,useValue:"platform"},{provide:d_,useValue:new Set([()=>Ll=null])},...n]})}(a,r))}return function J2(n){const e=f_();if(!e)throw new Te(401,!1);return e}()}}function f_(){return Ll?.get(gE)??null}let gE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function _E(n,e){let t;return t="noop"===n?new Z2:("zone.js"===n?void 0:n)||new dt(e),t}(r?.ngZone,function yE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:dt,useValue:o}];return o.run(()=>{const s=_o.create({providers:i,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(mu,null);if(!u)throw new Te(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:h=>{u.handleError(h)}});a.onDestroy(()=>{xh(this._modules,a),f.unsubscribe()})}),function vE(n,e,t){try{const r=t();return ef(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,o,()=>{const f=a.injector.get(kh);return f.runInitializers(),f.donePromise.then(()=>(function Gw(n){No(n,"Expected localeId to be defined"),"string"==typeof n&&(zw=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(al,Tu)||Tu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const o=bE({},r);return function Y2(n,e,t){const r=new zy(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get($l);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new Te(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(d_,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ee(_o))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function bE(n,e){return Array.isArray(e)?e.reduce(bE,n):{...n,...e}}let $l=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,o){this._zone=t,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new yt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new yt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{dt.assertNotInAngularZone(),i_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{dt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=yi(i,s.pipe(ks()))}bootstrap(t,r){const o=t instanceof tC;if(!this._injector.get(kh).done)throw!o&&function na(n){const e=ur(n)||Mo(n)||Lo(n);return null!==e&&e.standalone}(t),new Te(405,false);let s;s=o?t:this._injector.get(nl).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function K2(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Au),f=s.create(_o.NULL,[],r||s.selector,a),h=f.location.nativeElement,_=f.injector.get(uE,null);return _?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),xh(this.components,f),_?.unregisterApplication(h)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;xh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(oE,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>xh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Te(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(ee(dt),ee(Da),ee(mu))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let kt=(()=>{class n{}return n.__NG_ELEMENT_ID__=tO,n})();function tO(n){return function nO(n,e,t){if(Fl(n)&&!t){const r=Zi(n.index,e);return new Yd(r,r)}return 47&n.type?new Yd(e[16],e):null}(Sr(),Ke(),16==(16&n))}class DE{constructor(){}supports(e){return ph(e)}create(e){return new lO(e)}}const aO=(n,e)=>e;class lO{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||aO}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<kE(r,o,i)?t:r,a=kE(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,h=u-o;if(f!=h){for(let k=0;k<f;k++){const x=k<i.length?i[k]:i[k]=0,K=x+k;h<=K&&K<f&&(i[k]=x+1)}i[s.previousIndex]=h-f}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ph(e))throw new Te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function LP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[wc()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new cO(t,r),i,o),e}_verifyReinsertion(e,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new IE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class cO{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uO{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class IE{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new uO,this.map.set(t,r)),r.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kE(n,e,t){const r=n.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function xE(){return new mf([new DE])}let mf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||xE()),deps:[[n,new Bd,new $d]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new Te(901,!1)}}return n.\u0275prov=ht({token:n,providedIn:"root",factory:xE}),n})();const mO=hE(null,"core",[]);let gO=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ee($l))},n.\u0275mod=Fr({type:n}),n.\u0275inj=wr({}),n})(),y_=null;function Ra(){return y_}class vO{}const ti=new rn("DocumentToken");let __=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return function bO(){return ee(AE)}()},providedIn:"platform"}),n})();const CO=new rn("Location Initialized");let AE=(()=>{class n extends __{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ra().getBaseHref(this._doc)}onPopState(t){const r=Ra().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ra().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){PE()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){PE()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(ee(ti))},n.\u0275prov=ht({token:n,factory:function(){return function wO(){return new AE(ee(ti))}()},providedIn:"platform"}),n})();function PE(){return!!window.history.pushState}function v_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function RE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function cl(n){return n&&"?"!==n[0]?"?"+n:n}let Fa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return gn(OE)},providedIn:"root"}),n})();const FE=new rn("appBaseHref");let OE=(()=>{class n extends Fa{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??gn(ti).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return v_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+cl(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+cl(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+cl(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(__),ee(FE,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NE=(()=>{class n extends Fa{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=v_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+cl(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+cl(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(__),ee(FE,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),yf=(()=>{class n{constructor(t){this._subject=new Mn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function DO(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(RE(LE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+cl(r))}normalize(t){return n.stripTrailingSlash(function EO(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,LE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cl(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=cl,n.joinWithSlash=v_,n.stripTrailingSlash=RE,n.\u0275fac=function(t){return new(t||n)(ee(Fa))},n.\u0275prov=ht({token:n,factory:function(){return function SO(){return new yf(ee(Fa))}()},providedIn:"root"}),n})();function LE(n){return n.replace(/\/index.html$/,"")}function WE(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}class uN{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new uN(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),KE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{KE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C($i),C(vs),C(mf))},n.\u0275dir=xt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function KE(n,e){n.context.$implicit=e.item}let fi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new fN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){XE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){XE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C($i),C(vs))},n.\u0275dir=xt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class fN{constructor(){this.$implicit=null,this.ngIf=null}}function XE(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${N(e)}'.`)}class T_{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let jh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=xt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),QE=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new T_(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(C($i),C(vs),C(jh,9))},n.\u0275dir=xt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),JE=(()=>{class n{constructor(t,r,o){o._addDefault(new T_(t,r))}}return n.\u0275fac=function(t){return new(t||n)(C($i),C(vs),C(jh,9))},n.\u0275dir=xt({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();class mN{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class gN{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const yN=new gN,_N=new mN;let tD=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(ef(t))return yN;if(QC(t))return _N;throw function ca(n,e){return new Te(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(C(kt,16))},n.\u0275pipe=ho({name:"async",type:n,pure:!1,standalone:!0}),n})(),Oa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=wr({}),n})();const rD="browser";function Bl(n){return n===rD}let BN=(()=>{class n{}return n.\u0275prov=ht({token:n,providedIn:"root",factory:()=>new VN(ee(ti),window)}),n})();class VN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function jN(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=oD(this.window.history)||oD(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function oD(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class iD{}class hL extends vO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class L_ extends hL{static makeCurrent(){!function _O(n){y_||(y_=n)}(new L_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function mL(){return Cf=Cf||document.querySelector("base"),Cf?Cf.getAttribute("href"):null}();return null==t?null:function gL(n){Hh=Hh||document.createElement("a"),Hh.setAttribute("href",n);const e=Hh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Cf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return WE(document.cookie,e)}}let Hh,Cf=null;const uD=new rn("TRANSITION_ID"),_L=[{provide:Ic,useFactory:function yL(n,e,t){return()=>{t.get(kh).donePromise.then(()=>{const r=Ra(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[uD,ti,_o],multi:!0}];let bL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const zh=new rn("EventManagerPlugins");let Gh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ee(zh),ee(dt))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class dD{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=Ra().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let fD=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),wf=(()=>{class n extends fD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(pD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(pD))}}return n.\u0275fac=function(t){return new(t||n)(ee(ti))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function pD(n){Ra().remove(n)}const $_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},B_=/%COMP%/g;function V_(n,e){return e.flat(100).map(t=>t.replace(B_,n))}function gD(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let j_=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new U_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Fi.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new IL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case Fi.ShadowDom:return new kL(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=V_(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ee(Gh),ee(wf),ee(hf))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class U_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS($_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(_D(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_D(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const i=$_[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=$_[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(ys.DashCase|ys.Important)?e.style.setProperty(t,r,o&ys.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ys.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,gD(r)):this.eventManager.addEventListener(e,t,gD(r))}}function _D(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class IL extends U_{constructor(e,t,r,o){super(e),this.component=r;const i=V_(o+"-"+r.id,r.styles);t.addStyles(i),this.contentAttr=function SL(n){return"_ngcontent-%COMP%".replace(B_,n)}(o+"-"+r.id),this.hostAttr=function EL(n){return"_nghost-%COMP%".replace(B_,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class kL extends U_{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=V_(o.id,o.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ML=(()=>{class n extends dD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(ee(ti))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const vD=["alt","control","meta","shift"],xL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let AL=(()=>{class n extends dD{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ra().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),vD.forEach(f=>{const h=r.indexOf(f);h>-1&&(r.splice(h,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let o=xL[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),vD.forEach(s=>{s!==o&&(0,TL[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ee(ti))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const OL=hE(mO,"browser",[{provide:Ou,useValue:rD},{provide:rE,useValue:function PL(){L_.makeCurrent()},multi:!0},{provide:ti,useFactory:function FL(){return function hT(n){Xg=n}(document),document},deps:[]}]),wD=new rn(""),SD=[{provide:Mh,useClass:class vL{addToWindow(e){p.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},p.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.getAllAngularRootElements=()=>e.getAllRootElements(),p.frameworkStabilizers||(p.frameworkStabilizers=[]),p.frameworkStabilizers.push(r=>{const o=p.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(u){s=s||u,i--,0==i&&r(s)};o.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ra().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:uE,useClass:l_,deps:[dt,c_,Mh]},{provide:l_,useClass:l_,deps:[dt,c_,Mh]}],ED=[{provide:iy,useValue:"root"},{provide:mu,useFactory:function RL(){return new mu},deps:[]},{provide:zh,useClass:ML,multi:!0,deps:[ti,dt,Ou]},{provide:zh,useClass:AL,multi:!0,deps:[ti]},{provide:j_,useClass:j_,deps:[Gh,wf,hf]},{provide:rC,useExisting:j_},{provide:fD,useExisting:wf},{provide:wf,useClass:wf,deps:[ti]},{provide:Gh,useClass:Gh,deps:[zh,dt]},{provide:iD,useClass:bL,deps:[]},[]];let NL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:hf,useValue:t.appId},{provide:uD,useExisting:hf},_L]}}}return n.\u0275fac=function(t){return new(t||n)(ee(wD,12))},n.\u0275mod=Fr({type:n}),n.\u0275inj=wr({providers:[...ED,...SD],imports:[Oa,gO]}),n})(),DD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(ee(ti))},n.\u0275prov=ht({token:n,factory:function(t){let r=null;return r=t?new t:function $L(){return new DD(ee(ti))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let G_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(t){let r=null;return r=t?new(t||n):ee(MD),r},providedIn:"root"}),n})(),MD=(()=>{class n extends G_{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Hr.NONE:return r;case Hr.HTML:return Ea(r,"HTML")?Ts(r):U0(this._doc,String(r)).toString();case Hr.STYLE:return Ea(r,"Style")?Ts(r):r;case Hr.SCRIPT:if(Ea(r,"Script"))return Ts(r);throw new Error("unsafe value used in a script context");case Hr.URL:return Ea(r,"URL")?Ts(r):eh(String(r));case Hr.RESOURCE_URL:if(Ea(r,"ResourceURL"))return Ts(r);throw new Error(`unsafe value used in a resource URL context (see ${it})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${it})`)}}bypassSecurityTrustHtml(t){return function CT(n){return new mT(n)}(t)}bypassSecurityTrustStyle(t){return function wT(n){return new gT(n)}(t)}bypassSecurityTrustScript(t){return function ST(n){return new yT(n)}(t)}bypassSecurityTrustUrl(t){return function ET(n){return new _T(n)}(t)}bypassSecurityTrustResourceUrl(t){return function DT(n){return new vT(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(ti))},n.\u0275prov=ht({token:n,factory:function(t){let r=null;return r=t?new t:function GL(n){return new MD(n.get(ti))}(ee(_o)),r},providedIn:"root"}),n})();var Ho=A(1158),WL=A(9233),Lu=A.n(WL);let Wh,Zh;function xD(n){if(!window.location.hash.startsWith(n))return;const e=window.location.hash.split("?")[1];if(!e)return;const t=e.split("&").map(r=>r.split("="));for(const[r,o]of t)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function TD(){return void 0!==Zh}class AD{constructor(){this.requestEvent=new Ho.j}dispatchRequest(e){if(e){try{e=new(Lu())(e).toString()}catch{return void console.error(`invalid URL: ${e}`)}this.url=e,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const e=this.url;return this.url=void 0,e}}class jl{constructor(){this.installation=new AD,this.import=new AD,Wh&&this.installation.dispatchRequest(Wh),Zh&&this.import.dispatchRequest(Zh)}}function bn(...n){return pr(n,ai(n))}function Ul(n,e){return I(e)?Cr(n,e,1):Cr(n,1)}function Ci(n,e){return q((t,r)=>{let o=0;t.subscribe(ye(r,i=>n.call(e,i,o++)&&r.next(i)))})}jl.\u0275fac=function(e){return new(e||jl)},jl.\u0275prov=ht({token:jl,factory:jl.\u0275fac,providedIn:"root"});class qh{}class W_{}class dl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof dl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new dl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof dl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class YL{encodeKey(e){return PD(e)}encodeValue(e){return PD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const XL=/%(\d[a-f0-9])/gi,QL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PD(n){return encodeURIComponent(n).replace(XL,(e,t)=>QL[t]??e)}function Yh(n){return`${n}`}class Hl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new YL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function KL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(Yh):[Yh(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Hl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Yh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Yh(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class JL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function RD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function FD(n){return typeof Blob<"u"&&n instanceof Blob}function OD(n){return typeof FormData<"u"&&n instanceof FormData}class Sf{constructor(e,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function e3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new dl),this.context||(this.context=new JL),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Hl,this.urlWithParams=t}serializeBody(){return null===this.body?null:RD(this.body)||FD(this.body)||OD(this.body)||function t3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||OD(this.body)?null:FD(this.body)?this.body.type||null:RD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,f=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((_,k)=>_.set(k,e.setHeaders[k]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,k)=>_.set(k,e.setParams[k]),f)),new Sf(t,r,i,{params:f,headers:u,context:h,reportProgress:a,responseType:o,withCredentials:s})}}var zo=(()=>((zo=zo||{})[zo.Sent=0]="Sent",zo[zo.UploadProgress=1]="UploadProgress",zo[zo.ResponseHeader=2]="ResponseHeader",zo[zo.DownloadProgress=3]="DownloadProgress",zo[zo.Response=4]="Response",zo[zo.User=5]="User",zo))();class Z_{constructor(e,t=200,r="OK"){this.headers=e.headers||new dl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class q_ extends Z_{constructor(e={}){super(e),this.type=zo.ResponseHeader}clone(e={}){return new q_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Kh extends Z_{constructor(e={}){super(e),this.type=zo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Kh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ND extends Z_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Y_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let K_=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof Sf)i=t;else{let u,f;u=o.headers instanceof dl?o.headers:new dl(o.headers),o.params&&(f=o.params instanceof Hl?o.params:new Hl({fromObject:o.params})),i=new Sf(t,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=bn(i).pipe(Ul(u=>this.handler.handle(u)));if(t instanceof Sf||"events"===o.observe)return s;const a=s.pipe(Ci(u=>u instanceof Kh));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Ae(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ae(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ae(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ae(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Hl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,Y_(o,r))}post(t,r,o={}){return this.request("POST",t,Y_(o,r))}put(t,r,o={}){return this.request("PUT",t,Y_(o,r))}}return n.\u0275fac=function(t){return new(t||n)(ee(qh))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function LD(n,e){return e(n)}function n3(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const o3=new rn("HTTP_INTERCEPTORS"),Ef=new rn("HTTP_INTERCEPTOR_FNS");function i3(){let n=null;return(e,t)=>(null===n&&(n=(gn(o3,{optional:!0})??[]).reduceRight(n3,LD)),n(e,t))}let $D=(()=>{class n extends qh{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Ef)));this.chain=r.reduceRight((o,i)=>function r3(n,e,t){return(r,o)=>t.runInContext(()=>e(r,i=>n(i,o)))}(o,i,this.injector),LD)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(ee(W_),ee(Da))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const c3=/^\)\]\}',?\n/;let VD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new yt(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((x,K)=>o.setRequestHeader(x,K.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&o.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();o.responseType="json"!==x?x:"text"}const i=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const x=o.statusText||"OK",K=new dl(o.getAllResponseHeaders()),Se=function u3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return s=new q_({headers:K,status:o.status,statusText:x,url:Se}),s},u=()=>{let{headers:x,status:K,statusText:Se,url:ze}=a(),Ye=null;204!==K&&(Ye=typeof o.response>"u"?o.responseText:o.response),0===K&&(K=Ye?200:0);let vt=K>=200&&K<300;if("json"===t.responseType&&"string"==typeof Ye){const Le=Ye;Ye=Ye.replace(c3,"");try{Ye=""!==Ye?JSON.parse(Ye):null}catch(Ot){Ye=Le,vt&&(vt=!1,Ye={error:Ot,text:Ye})}}vt?(r.next(new Kh({body:Ye,headers:x,status:K,statusText:Se,url:ze||void 0})),r.complete()):r.error(new ND({error:Ye,headers:x,status:K,statusText:Se,url:ze||void 0}))},f=x=>{const{url:K}=a(),Se=new ND({error:x,status:o.status||0,statusText:o.statusText||"Unknown Error",url:K||void 0});r.error(Se)};let h=!1;const _=x=>{h||(r.next(a()),h=!0);let K={type:zo.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(K.total=x.total),"text"===t.responseType&&o.responseText&&(K.partialText=o.responseText),r.next(K)},k=x=>{let K={type:zo.UploadProgress,loaded:x.loaded};x.lengthComputable&&(K.total=x.total),r.next(K)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",_),null!==i&&o.upload&&o.upload.addEventListener("progress",k)),o.send(i),r.next({type:zo.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",_),null!==i&&o.upload&&o.upload.removeEventListener("progress",k)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(ee(iD))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const X_=new rn("XSRF_ENABLED"),jD="XSRF-TOKEN",UD=new rn("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>jD}),HD="X-XSRF-TOKEN",zD=new rn("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>HD});class GD{}let d3=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=WE(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(ee(ti),ee(Ou),ee(UD))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function f3(n,e){const t=n.url.toLowerCase();if(!gn(X_)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=gn(GD).getToken(),o=gn(zD);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var Po=(()=>((Po=Po||{})[Po.Interceptors=0]="Interceptors",Po[Po.LegacyInterceptors=1]="LegacyInterceptors",Po[Po.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Po[Po.NoXsrfProtection=3]="NoXsrfProtection",Po[Po.JsonpSupport=4]="JsonpSupport",Po[Po.RequestsMadeViaParent=5]="RequestsMadeViaParent",Po))();function $u(n,e){return{\u0275kind:n,\u0275providers:e}}function p3(...n){const e=[K_,VD,$D,{provide:qh,useExisting:$D},{provide:W_,useExisting:VD},{provide:Ef,useValue:f3,multi:!0},{provide:X_,useValue:!0},{provide:GD,useClass:d3}];for(const t of n)e.push(...t.\u0275providers);return function jT(n){return{\u0275providers:n}}(e)}const WD=new rn("LEGACY_INTERCEPTOR_FN");function m3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:UD,useValue:n}),void 0!==e&&t.push({provide:zD,useValue:e}),$u(Po.CustomXsrfConfiguration,t)}let g3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=wr({providers:[p3($u(Po.LegacyInterceptors,[{provide:WD,useFactory:i3},{provide:Ef,useExisting:WD,multi:!0}]),m3({cookieName:jD,headerName:HD}))]}),n})();const{isArray:y3}=Array,{getPrototypeOf:_3,prototype:v3,keys:b3}=Object;function ZD(n){if(1===n.length){const e=n[0];if(y3(e))return{args:e,keys:null};if(function C3(n){return n&&"object"==typeof n&&_3(n)===v3}(e)){const t=b3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:w3}=Array;function Q_(n){return Ae(e=>function S3(n,e){return w3(e)?n(...e):n(e)}(n,e))}function qD(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let YD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(rl),C(gt))},n.\u0275dir=xt({type:n}),n})(),xc=(()=>{class n extends YD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275dir=xt({type:n,features:[yr]}),n})();const Xi=new rn("NgValueAccessor"),I3={provide:Xi,useExisting:Ne(()=>J_),multi:!0},M3=new rn("CompositionEventMode");let J_=(()=>{class n extends YD{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function k3(){const n=Ra()?Ra().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(rl),C(gt),C(M3,8))},n.\u0275dir=xt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&at("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[Nr([I3]),yr]}),n})();function zl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function XD(n){return null!=n&&"number"==typeof n.length}const Bi=new rn("NgValidators"),Gl=new rn("NgAsyncValidators"),T3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Df{static min(e){return function QD(n){return e=>{if(zl(e.value)||zl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function JD(n){return e=>{if(zl(e.value)||zl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function e1(n){return zl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function t1(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function n1(n){return zl(n.value)||T3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function r1(n){return e=>zl(e.value)||!XD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return o1(e)}static pattern(e){return function i1(n){if(!n)return Xh;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(zl(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return d1(e)}static composeAsync(e){return f1(e)}}function o1(n){return e=>XD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Xh(n){return null}function s1(n){return null!=n}function a1(n){return ef(n)?pr(n):n}function l1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function c1(n,e){return e.map(t=>t(n))}function u1(n){return n.map(e=>function A3(n){return!n.validate}(e)?e:t=>e.validate(t))}function d1(n){if(!n)return null;const e=n.filter(s1);return 0==e.length?null:function(t){return l1(c1(t,e))}}function ev(n){return null!=n?d1(u1(n)):null}function f1(n){if(!n)return null;const e=n.filter(s1);return 0==e.length?null:function(t){return function E3(...n){const e=ls(n),{args:t,keys:r}=ZD(n),o=new yt(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let u=s,f=s;for(let h=0;h<s;h++){let _=!1;On(t[h]).subscribe(ye(i,k=>{_||(_=!0,f--),a[h]=k},()=>u--,void 0,()=>{(!u||!_)&&(f||i.next(r?qD(r,a):a),i.complete())}))}});return e?o.pipe(Q_(e)):o}(c1(t,e).map(a1)).pipe(Ae(l1))}}function tv(n){return null!=n?f1(u1(n)):null}function p1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function h1(n){return n._rawValidators}function m1(n){return n._rawAsyncValidators}function nv(n){return n?Array.isArray(n)?n:[n]:[]}function Qh(n,e){return Array.isArray(n)?n.includes(e):n===e}function g1(n,e){const t=nv(e);return nv(n).forEach(o=>{Qh(t,o)||t.push(o)}),t}function y1(n,e){return nv(e).filter(t=>!Qh(n,t))}class _1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ev(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Qi extends _1{get formDirective(){return null}get path(){return null}}class fl extends _1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class v1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pl=(()=>{class n extends v1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(fl,2))},n.\u0275dir=xt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&sl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[yr]}),n})(),hl=(()=>{class n extends v1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Qi,10))},n.\u0275dir=xt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&sl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[yr]}),n})();const If="VALID",em="INVALID",Bu="PENDING",kf="DISABLED";function sv(n){return(tm(n)?n.validators:n)||null}function av(n,e){return(tm(e)?e.asyncValidators:n)||null}function tm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class S1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===If}get invalid(){return this.status===em}get pending(){return this.status==Bu}get disabled(){return this.status===kf}get enabled(){return this.status!==kf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(g1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(g1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(y1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(y1(e,this._rawAsyncValidators))}hasValidator(e){return Qh(this._rawValidators,e)}hasAsyncValidator(e){return Qh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=If,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===If||this.status===Bu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kf:If}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bu,this._hasOwnPendingAsyncValidator=!0;const t=a1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Mn,this.statusChanges=new Mn}_calculateStatus(){return this._allControlsDisabled()?kf:this.errors?em:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bu)?Bu:this._anyControlsHaveStatus(em)?em:If}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function $3(n){return Array.isArray(n)?ev(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function B3(n){return Array.isArray(n)?tv(n):n||null}(this._rawAsyncValidators)}}class Wl extends S1{constructor(e,t,r){super(sv(t),av(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function w1(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new Te(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function C1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new Te(1e3,"");if(!r[t])throw new Te(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const nm=Wl,Vu=new rn("CallSetDisabledState",{providedIn:"root",factory:()=>rm}),rm="always";function Mf(n,e,t=rm){lv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function U3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&E1(n,e)})}(n,e),function z3(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function H3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&E1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function j3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function im(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),am(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function sm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lv(n,e){const t=h1(n);null!==e.validator?n.setValidators(p1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=m1(n);null!==e.asyncValidator?n.setAsyncValidators(p1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();sm(e._rawValidators,o),sm(e._rawAsyncValidators,o)}function am(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=h1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const o=m1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}const r=()=>{};return sm(e._rawValidators,r),sm(e._rawAsyncValidators,r),t}function E1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function k1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function M1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Cs=class extends S1{constructor(e=null,t,r){super(sv(t),av(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=M1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){k1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){k1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){M1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},pi=Cs;let ml=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),F1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=wr({}),n})();const pv=new rn("NgModelWithFormControlWarning"),o$={provide:Qi,useExisting:Ne(()=>ua)};let ua=(()=>{class n extends Qi{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Mn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(am(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Mf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){im(t.control||null,t,!1),function q3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function I1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(im(r||null,t),(n=>n instanceof Cs)(o)&&(Mf(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function D1(n,e){lv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function G3(n,e){return am(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lv(this.form,this),this._oldForm&&am(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(C(Bi,10),C(Gl,10),C(Vu,8))},n.\u0275dir=xt({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&at("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nr([o$]),yr,$o]}),n})();const a$={provide:fl,useExisting:Ne(()=>Na)};let Na=(()=>{class n extends fl{set isDisabled(t){}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Mn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function dv(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===J_?t=i:function Z3(n){return Object.getPrototypeOf(n.constructor)===xc}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){this._added||this._setUpControl(),function uv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function om(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(C(Qi,13),C(Bi,10),C(Gl,10),C(Xi,10),C(pv,8))},n.\u0275dir=xt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Nr([a$]),yr,$o]}),n})();let Tc=(()=>{class n{constructor(){this._validator=Xh}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Xh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=xt({type:n,features:[$o]}),n})();const b$={provide:Bi,useExisting:Ne(()=>vv),multi:!0};let vv=(()=>{class n extends Tc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function j1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>o1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275dir=xt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Ma("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Nr([b$]),yr]}),n})(),Y1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=wr({imports:[F1]}),n})(),Ac=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Vu,useValue:t.callSetDisabledState??rm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=wr({imports:[Y1]}),n})(),lm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Vu,useValue:t.callSetDisabledState??rm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=wr({imports:[Y1]}),n})();const S$=["addListener","removeListener"],E$=["addEventListener","removeEventListener"],D$=["on","off"];function Tf(n,e,t,r){if(I(t)&&(r=t,t=void 0),r)return Tf(n,e,t).pipe(Q_(r));const[o,i]=function M$(n){return I(n.addEventListener)&&I(n.removeEventListener)}(n)?E$.map(s=>a=>n[s](e,a,t)):function I$(n){return I(n.addListener)&&I(n.removeListener)}(n)?S$.map(K1(n,e)):function k$(n){return I(n.on)&&I(n.off)}(n)?D$.map(K1(n,e)):[];if(!o&&br(n))return Cr(s=>Tf(s,e,t))(On(n));if(!o)throw new TypeError("Invalid event target");return new yt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function K1(n,e){return t=>r=>n[t](e,r)}class Ns extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const cm=l(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X1(...n){const e=ai(n),t=ls(n),{args:r,keys:o}=ZD(n);if(0===r.length)return pr([],e);const i=new yt(function x$(n,e,t=ne){return r=>{Q1(e,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let u=0;u<o;u++)Q1(e,()=>{const f=pr(n[u],e);let h=!1;f.subscribe(ye(r,_=>{i[u]=_,h||(h=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>qD(o,s):ne));return t?i.pipe(Q_(t)):i}function Q1(n,e,t){n?co(t,n,e):e()}function Af(...n){return function T$(){return Ko(1)}()(pr(n,ai(n)))}function um(n){return new yt(e=>{On(n()).subscribe(e)})}function ju(n,e){const t=I(n)?n:()=>n,r=o=>o.error(t());return new yt(e?o=>e.schedule(r,0,o):r)}function bv(){return q((n,e)=>{let t=null;n._refCount++;const r=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Cv extends yt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,je(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new G;const t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=G.EMPTY)}return e}refCount(){return bv()(this)}}function wi(n,e){return q((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(ye(r,u=>{o?.unsubscribe();let f=0;const h=i++;On(n(u,h)).subscribe(o=ye(r,_=>r.next(e?e(u,_,h,f++):_),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ls(n){return n<=0?()=>ro:q((e,t)=>{let r=0;e.subscribe(ye(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function J1(...n){const e=ai(n);return q((t,r)=>{(e?Af(n,t,e):Af(n,t)).subscribe(r)})}function dm(n){return q((e,t)=>{let r=!1;e.subscribe(ye(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function eI(n=A$){return q((e,t)=>{let r=!1;e.subscribe(ye(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function A$(){return new cm}function gl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ci((o,i)=>n(o,i,r)):ne,Ls(1),t?dm(e):eI(()=>new cm))}function Si(n,e,t){const r=I(n)||e||t?{next:n,error:e,complete:t}:n;return r?q((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(ye(i,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),i.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,u),i.error(u)},()=>{var u,f;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):ne}function yl(n){return q((e,t)=>{let i,r=null,o=!1;r=e.subscribe(ye(t,void 0,void 0,s=>{i=On(n(s,yl(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function P$(n,e,t,r,o){return(i,s)=>{let a=t,u=e,f=0;i.subscribe(ye(s,h=>{const _=f++;u=a?n(u,h,_):(a=!0,h),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function tI(n,e){return q(P$(n,e,arguments.length>=2,!0))}function wv(n){return n<=0?()=>ro:q((e,t)=>{let r=[];e.subscribe(ye(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function nI(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ci((o,i)=>n(o,i,r)):ne,wv(1),t?dm(e):eI(()=>new cm))}function Sv(n){return Ae(()=>n)}function Ev(n){return q((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Bn="primary",Pf=Symbol("RouteTitle");class F${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Uu(n){return new F$(n)}function O$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function La(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!rI(n[o],e[o]))return!1;return!0}function rI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}return n===e}function oI(n){return Array.prototype.concat.apply([],n)}function iI(n){return n.length>0?n[n.length-1]:null}function Ei(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Zl(n){return Py(n)?n:ef(n)?pr(Promise.resolve(n)):bn(n)}const fm=!1,L$={exact:function lI(n,e,t){if(!Rc(n.segments,e.segments)||!pm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!lI(n.children[r],e.children[r],t))return!1;return!0},subset:cI},sI={exact:function $$(n,e){return La(n,e)},subset:function B$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rI(n[t],e[t]))},ignored:()=>!0};function aI(n,e,t){return L$[t.paths](n.root,e.root,t.matrixParams)&&sI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cI(n,e,t){return uI(n,e,e.segments,t)}function uI(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Rc(o,t)||e.hasChildren()||!pm(o,t,r))}if(n.segments.length===t.length){if(!Rc(n.segments,t)||!pm(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!cI(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(Rc(n.segments,o)&&pm(n.segments,o,r)&&n.children[Bn])&&uI(n.children[Bn],e,i,r)}}function pm(n,e,t){return e.every((r,o)=>sI[t](n[o].parameters,r.parameters))}class Pc{constructor(e=new Kn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return U$.serialize(this)}}class Kn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ei(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hm(this)}}class Rf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Uu(this.parameters)),this._parameterMap}toString(){return pI(this)}}function Rc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Hu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return new Dv},providedIn:"root"}),n})();class Dv{parse(e){const t=new X$(e);return new Pc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ff(e.root,!0)}`,r=function G$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${mm(t)}=${mm(o)}`).join("&"):`${mm(t)}=${mm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function H$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const U$=new Dv;function hm(n){return n.segments.map(e=>pI(e)).join("/")}function Ff(n,e){if(!n.hasChildren())return hm(n);if(e){const t=n.children[Bn]?Ff(n.children[Bn],!1):"",r=[];return Ei(n.children,(o,i)=>{i!==Bn&&r.push(`${i}:${Ff(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function j$(n,e){let t=[];return Ei(n.children,(r,o)=>{o===Bn&&(t=t.concat(e(r,o)))}),Ei(n.children,(r,o)=>{o!==Bn&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Bn?[Ff(n.children[Bn],!1)]:[`${o}:${Ff(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bn]?`${hm(n)}/${t[0]}`:`${hm(n)}/(${t.join("//")})`}}function dI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mm(n){return dI(n).replace(/%3B/gi,";")}function Iv(n){return dI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gm(n){return decodeURIComponent(n)}function fI(n){return gm(n.replace(/\+/g,"%20"))}function pI(n){return`${Iv(n.path)}${function z$(n){return Object.keys(n).map(e=>`;${Iv(e)}=${Iv(n[e])}`).join("")}(n.parameters)}`}const W$=/^[^\/()?;=#]+/;function ym(n){const e=n.match(W$);return e?e[0]:""}const Z$=/^[^=?&#]+/,Y$=/^[^&#]+/;class X${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Bn]=new Kn(e,t)),r}parseSegment(){const e=ym(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Te(4009,fm);return this.capture(e),new Rf(gm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ym(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=ym(this.remaining);o&&(r=o,this.capture(r))}e[gm(t)]=gm(r)}parseQueryParam(e){const t=function q$(n){const e=n.match(Z$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function K$(n){const e=n.match(Y$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=fI(t),i=fI(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ym(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Te(4010,fm);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Bn);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[Bn]:new Kn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Te(4011,fm)}}function kv(n){return n.segments.length>0?new Kn([],{[Bn]:n}):n}function _m(n){const e={};for(const r of Object.keys(n.children)){const i=_m(n.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function Q$(n){if(1===n.numberOfChildren&&n.children[Bn]){const e=n.children[Bn];return new Kn(n.segments.concat(e.segments),e.children)}return n}(new Kn(n.segments,e))}function Fc(n){return n instanceof Pc}function t4(n,e,t,r,o){if(0===t.length)return zu(e.root,e.root,e.root,r,o);const i=function gI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new mI(!0,0,n);let e=0,t=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Ei(i.outlets,(u,f)=>{a[f]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new mI(t,e,r)}(t);return i.toRoot()?zu(e.root,e.root,new Kn([],{}),r,o):function s(u){const f=function r4(n,e,t,r){if(n.isAbsolute)return new Gu(e.root,!0,0);if(-1===r)return new Gu(t,t===e.root,0);return function yI(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Te(4005,!1);o=r.segments.length}return new Gu(r,!1,o-i)}(t,r+(Of(n.commands[0])?0:1),n.numberOfDoubleDots)}(i,e,n.snapshot?._urlSegment,u),h=f.processChildren?Wu(f.segmentGroup,f.index,i.commands):xv(f.segmentGroup,f.index,i.commands);return zu(e.root,f.segmentGroup,h,r,o)}(n.snapshot?._lastPathIndex)}function Of(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Nf(n){return"object"==typeof n&&null!=n&&n.outlets}function zu(n,e,t,r,o){let s,i={};r&&Ei(r,(u,f)=>{i[f]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),s=n===e?t:hI(n,e,t);const a=kv(_m(s));return new Pc(a,i,o)}function hI(n,e,t){const r={};return Ei(n.children,(o,i)=>{r[i]=o===e?t:hI(o,e,t)}),new Kn(n.segments,r)}class mI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Of(r[0]))throw new Te(4003,!1);const o=r.find(Nf);if(o&&o!==iI(r))throw new Te(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function xv(n,e,t){if(n||(n=new Kn([],{})),0===n.segments.length&&n.hasChildren())return Wu(n,e,t);const r=function i4(n,e,t){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;const s=n.segments[o],a=t[r];if(Nf(a))break;const u=`${a}`,f=r<t.length-1?t[r+1]:null;if(o>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!vI(u,f,s))return i;r+=2}else{if(!vI(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Kn(n.segments.slice(0,r.pathIndex),{});return i.children[Bn]=new Kn(n.segments.slice(r.pathIndex),n.children),Wu(i,0,o)}return r.match&&0===o.length?new Kn(n.segments,{}):r.match&&!n.hasChildren()?Tv(n,e,t):r.match?Wu(n,0,o):Tv(n,e,t)}function Wu(n,e,t){if(0===t.length)return new Kn(n.segments,{});{const r=function o4(n){return Nf(n[0])?n[0].outlets:{[Bn]:n}}(t),o={};return!r[Bn]&&n.children[Bn]&&1===n.numberOfChildren&&0===n.children[Bn].segments.length?Wu(n.children[Bn],e,t):(Ei(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=xv(n.children[s],e,i))}),Ei(n.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Kn(n.segments,o))}}function Tv(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const i=t[o];if(Nf(i)){const u=s4(i.outlets);return new Kn(r,u)}if(0===o&&Of(t[0])){r.push(new Rf(n.segments[e].path,_I(t[0]))),o++;continue}const s=Nf(i)?i.outlets[Bn]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Of(a)?(r.push(new Rf(s,_I(a))),o+=2):(r.push(new Rf(s,{})),o++)}return new Kn(r,{})}function s4(n){const e={};return Ei(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Tv(new Kn([],{}),0,t))}),e}function _I(n){const e={};return Ei(n,(t,r)=>e[r]=`${t}`),e}function vI(n,e,t){return n==t.path&&La(e,t.parameters)}const Lf="imperative";class $a{constructor(e,t){this.id=e,this.url=t}}class vm extends $a{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oc extends $a{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bm extends $a{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bI extends $a{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class CI extends $a{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class a4 extends $a{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l4 extends $a{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c4 extends $a{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class u4 extends $a{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d4 extends $a{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class p4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class h4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wI{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let v4=(()=>{class n{createUrlTree(t,r,o,i,s,a){return t4(t||r.root,o,i,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),b4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(e){return v4.\u0275fac(e)},providedIn:"root"}),n})();class SI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Av(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Av(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Pv(e,this._root).map(t=>t.value)}}function Av(n,e){if(n===e.value)return e;for(const t of e.children){const r=Av(n,t);if(r)return r}return null}function Pv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Pv(n,t);if(r.length)return r.unshift(e),r}return[]}class _l{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class EI extends SI{constructor(e,t){super(e),this.snapshot=t,Rv(this,e)}toString(){return this.snapshot.toString()}}function DI(n,e){const t=function C4(n,e){const s=new Cm([],{},{},"",{},Bn,e,null,n.root,-1,{});return new kI("",new _l(s,[]))}(n,e),r=new Ns([new Rf("",{})]),o=new Ns({}),i=new Ns({}),s=new Ns({}),a=new Ns(""),u=new vl(r,o,s,a,i,Bn,e,t.root);return u.snapshot=t.root,new EI(new _l(u,[]),t)}class vl{constructor(e,t,r,o,i,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(Ae(f=>f[Pf]))??bn(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(e=>Uu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(e=>Uu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function II(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],i=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function w4(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Cm{get title(){return this.data?.[Pf]}constructor(e,t,r,o,i,s,a,u,f,h,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=h,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kI extends SI{constructor(e,t){super(t),this.url=e,Rv(this,t)}toString(){return MI(this._root)}}function Rv(n,e){e.value._routerState=n,e.children.forEach(t=>Rv(n,t))}function MI(n){const e=n.children.length>0?` { ${n.children.map(MI).join(", ")} } `:"";return`${n.value}${e}`}function Fv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,La(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),La(e.params,t.params)||n.params.next(t.params),function N$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!La(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),La(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ov(n,e){const t=La(n.params,e.params)&&function V$(n,e){return Rc(n,e)&&n.every((t,r)=>La(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ov(n.parent,e.parent))}function $f(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function E4(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return $f(n,r,o);return $f(n,r)})}(n,e,t);return new _l(r,o)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>$f(n,a)),s}}const r=function D4(n){return new vl(new Ns(n.url),new Ns(n.params),new Ns(n.queryParams),new Ns(n.fragment),new Ns(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(i=>$f(n,i));return new _l(r,o)}}const Nv="ngNavigationCancelingError";function xI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Fc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=TI(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function TI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Nv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function AI(n){return PI(n)&&Fc(n.url)}function PI(n){return n&&n[Nv]}class I4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Nc,this.attachRef=null}}let Nc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new I4,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wm=!1;let RI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bn,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.attachEvents=new Mn,this.detachEvents=new Mn,this.parentContexts=gn(Nc),this.location=gn($i),this.changeDetector=gn(kt),this.environmentInjector=gn(Da)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Te(4012,wm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Te(4012,wm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Te(4012,wm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Te(4013,wm);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new k4(t,a,o.injector);if(r&&function M4(n){return!!n.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,u)}else this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=xt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$o]}),n})();class k4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vl?this.route:e===Nc?this.childContexts:this.parent.get(e,t)}}let Lv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["ng-component"]],standalone:!0,features:[_S],decls:1,vars:0,template:function(t,r){1&t&&ct(0,"router-outlet")},dependencies:[RI],encapsulation:2}),n})();function FI(n,e){return n.providers&&!n._injector&&(n._injector=Sh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Bv(n){const e=n.children&&n.children.map(Bv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Bn&&(t.component=Lv),t}function Zs(n){return n.outlet||Bn}function OI(n,e){const t=n.filter(r=>Zs(r)===e);return t.push(...n.filter(r=>Zs(r)!==e)),t}function Bf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class R4{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Fv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Zu(t);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Ei(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Zu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Zu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Zu(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new y4(i.value.snapshot))}),e.children.length&&this.forwardEvent(new m4(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(Fv(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Fv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Bf(o.snapshot),u=a?.get(nl)??null;s.attachRef=null,s.route=o,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class NI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sm{constructor(e,t){this.component=e,this.route=t}}function F4(n,e,t){const r=n._root;return Vf(r,e?e._root:null,t,[r.value])}function qu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function ya(n){return null!==Ms(n)}(n)?e.get(n):n:r}function Vf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Zu(e);return n.children.forEach(s=>{(function N4(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function L4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Rc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Rc(n.url,e.url)||!La(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ov(n,e)||!La(n.queryParams,e.queryParams);default:return!Ov(n,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new NI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Vf(n,e,i.component?a?a.children:null:t,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Sm(a.outlet.component,s))}else s&&jf(e,a,o),o.canActivateChecks.push(new NI(r)),Vf(n,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Ei(i,(s,a)=>jf(s,t.getContext(a),o)),o}function jf(n,e,t){const r=Zu(n),o=n.value;Ei(r,(i,s)=>{jf(i,o.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Sm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Uf(n){return"function"==typeof n}function Vv(n){return n instanceof cm||"EmptyError"===n?.name}const Em=Symbol("INITIAL_VALUE");function Yu(){return wi(n=>X1(n.map(e=>e.pipe(Ls(1),J1(Em)))).pipe(Ae(e=>{for(const t of e)if(!0!==t){if(t===Em)return Em;if(!1===t||t instanceof Pc)return t}return!0}),Ci(e=>e!==Em),Ls(1)))}function LI(n){return function Ue(...n){return Je(n)}(Si(e=>{if(Fc(e))throw xI(0,e)}),Ae(e=>!0===e))}const jv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $I(n,e,t,r,o){const i=Uv(n,e,t);return i.matched?function eB(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?bn(o.map(s=>{const a=qu(s,n);return Zl(function H4(n){return n&&Uf(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Yu(),LI()):bn(!0)}(r=FI(e,r),e,t).pipe(Ae(s=>!0===s?i:{...jv})):bn(i)}function Uv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...jv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||O$)(t,n,e);if(!o)return{...jv};const i={};Ei(o.posParams,(a,u)=>{i[u]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Dm(n,e,t,r){if(t.length>0&&function rB(n,e,t){return t.some(r=>Im(n,e,r)&&Zs(r)!==Bn)}(n,t,r)){const i=new Kn(e,function nB(n,e,t,r){const o={};o[Bn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const i of t)if(""===i.path&&Zs(i)!==Bn){const s=new Kn([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[Zs(i)]=s}return o}(n,e,r,new Kn(t,n.children)));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===t.length&&function oB(n,e,t){return t.some(r=>Im(n,e,r))}(n,t,r)){const i=new Kn(n.segments,function tB(n,e,t,r,o){const i={};for(const s of r)if(Im(n,t,s)&&!o[Zs(s)]){const a=new Kn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Zs(s)]=a}return{...o,...i}}(n,e,t,r,n.children));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}const o=new Kn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Im(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function BI(n,e,t,r){return!!(Zs(n)===r||r!==Bn&&Im(e,t,n))&&("**"===n.path||Uv(e,n,t).matched)}function VI(n,e,t){return 0===e.length&&!n.children[t]}const km=!1;class Mm{constructor(e){this.segmentGroup=e||null}}class jI{constructor(e){this.urlTree=e}}function Hf(n){return ju(new Mm(n))}function UI(n){return ju(new jI(n))}class lB{constructor(e,t,r,o,i){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const e=Dm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Kn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Bn).pipe(Ae(i=>this.createUrlTree(_m(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yl(i=>{if(i instanceof jI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Mm?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Bn).pipe(Ae(o=>this.createUrlTree(_m(o),e.queryParams,e.fragment))).pipe(yl(o=>{throw o instanceof Mm?this.noMatchError(o):o}))}noMatchError(e){return new Te(4002,km)}createUrlTree(e,t,r){const o=kv(e);return new Pc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Ae(i=>new Kn([],i))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return pr(o).pipe(Ul(i=>{const s=r.children[i],a=OI(t,i);return this.expandSegmentGroup(e,a,s,i).pipe(Ae(u=>({segment:u,outlet:i})))}),tI((i,s)=>(i[s.outlet]=s.segment,i),{}),nI())}expandSegment(e,t,r,o,i,s){return pr(r).pipe(Ul(a=>this.expandSegmentAgainstRoute(e,t,r,a,o,i,s).pipe(yl(f=>{if(f instanceof Mm)return bn(null);throw f}))),gl(a=>!!a),yl((a,u)=>{if(Vv(a))return VI(t,o,i)?bn(new Kn([],{})):Hf(t);throw a}))}expandSegmentAgainstRoute(e,t,r,o,i,s,a){return BI(o,t,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s):Hf(t):Hf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?UI(i):this.lineralizeSegments(r,i).pipe(Cr(s=>{const a=new Kn(s,{});return this.expandSegment(e,a,t,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){const{matched:a,consumedSegments:u,remainingSegments:f,positionalParamSegments:h}=Uv(t,o,i);if(!a)return Hf(t);const _=this.applyRedirectCommands(u,o.redirectTo,h);return o.redirectTo.startsWith("/")?UI(_):this.lineralizeSegments(o,_).pipe(Cr(k=>this.expandSegment(e,t,r,k.concat(f),s,!1)))}matchSegmentAgainstRoute(e,t,r,o,i){return"**"===r.path?(e=FI(r,e),r.loadChildren?(r._loadedRoutes?bn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Ae(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Kn(o,{})))):bn(new Kn(o,{}))):$I(t,r,o,e).pipe(wi(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,o).pipe(Cr(h=>{const _=h.injector??e,k=h.routes,{segmentGroup:x,slicedSegments:K}=Dm(t,a,u,k),Se=new Kn(x.segments,x.children);if(0===K.length&&Se.hasChildren())return this.expandChildren(_,k,Se).pipe(Ae(Le=>new Kn(a,Le)));if(0===k.length&&0===K.length)return bn(new Kn(a,{}));const ze=Zs(r)===i;return this.expandSegment(_,Se,k,K,ze?Bn:i,!0).pipe(Ae(vt=>new Kn(a.concat(vt.segments),vt.children)))})):Hf(t)))}getChildConfig(e,t,r){return t.children?bn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?bn({routes:t._loadedRoutes,injector:t._loadedInjector}):function J4(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?bn(!0):bn(o.map(s=>{const a=qu(s,n);return Zl(function B4(n){return n&&Uf(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Yu(),LI())}(e,t,r).pipe(Cr(o=>o?this.configLoader.loadChildren(e,t).pipe(Si(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function sB(n){return ju(TI(km,3))}())):bn({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return bn(r);if(o.numberOfChildren>1||!o.children[Bn])return ju(new Te(4e3,km));o=o.children[Bn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const i=this.createSegmentGroup(e,t.root,r,o);return new Pc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ei(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,o){const i=this.createSegments(e,t.segments,r,o);let s={};return Ei(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,o)}),new Kn(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Te(4001,km);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class uB{}class pB{constructor(e,t,r,o,i,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=Dm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Bn).pipe(Ae(t=>{if(null===t)return null;const r=new Cm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new _l(r,t),i=new kI(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(e){const t=e.value,r=II(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return pr(Object.keys(r.children)).pipe(Ul(o=>{const i=r.children[o],s=OI(t,o);return this.processSegmentGroup(e,s,i,o)}),tI((o,i)=>o&&i?(o.push(...i),o):null),function R$(n,e=!1){return q((t,r)=>{let o=0;t.subscribe(ye(r,i=>{const s=n(i,o++);(s||e)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),dm(null),nI(),Ae(o=>{if(null===o)return null;const i=zI(o);return function hB(n){n.sort((e,t)=>e.value.outlet===Bn?-1:t.value.outlet===Bn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}))}processSegment(e,t,r,o,i){return pr(t).pipe(Ul(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,o,i)),gl(s=>!!s),yl(s=>{if(Vv(s))return VI(r,o,i)?bn([]):bn(null);throw s}))}processSegmentAgainstRoute(e,t,r,o,i){if(t.redirectTo||!BI(t,r,o,i))return bn(null);let s;if("**"===t.path){const a=o.length>0?iI(o).parameters:{},u=WI(r)+o.length;s=bn({snapshot:new Cm(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZI(t),Zs(t),t.component??t._loadedComponent??null,t,GI(r),u,qI(t)),consumedSegments:[],remainingSegments:[]})}else s=$I(r,t,o,e).pipe(Ae(({matched:a,consumedSegments:u,remainingSegments:f,parameters:h})=>{if(!a)return null;const _=WI(r)+u.length;return{snapshot:new Cm(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZI(t),Zs(t),t.component??t._loadedComponent??null,t,GI(r),_,qI(t)),consumedSegments:u,remainingSegments:f}}));return s.pipe(wi(a=>{if(null===a)return bn(null);const{snapshot:u,consumedSegments:f,remainingSegments:h}=a;e=t._injector??e;const _=t._loadedInjector??e,k=function mB(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:x,slicedSegments:K}=Dm(r,f,h,k.filter(ze=>void 0===ze.redirectTo));if(0===K.length&&x.hasChildren())return this.processChildren(_,k,x).pipe(Ae(ze=>null===ze?null:[new _l(u,ze)]));if(0===k.length&&0===K.length)return bn([new _l(u,[])]);const Se=Zs(t)===i;return this.processSegment(_,k,x,K,Se?Bn:i).pipe(Ae(ze=>null===ze?null:[new _l(u,ze)]))}))}}function gB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function zI(n){const e=[],t=new Set;for(const r of n){if(!gB(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=zI(r.children);e.push(new _l(r.value,o))}return e.filter(r=>!t.has(r))}function GI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function WI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ZI(n){return n.data||{}}function qI(n){return n.resolve||{}}function YI(n){return"string"==typeof n.title||null===n.title}function Hv(n){return wi(e=>{const t=n(e);return t?pr(t).pipe(Ae(()=>e)):bn(e)})}const Ku=new rn("ROUTES");let zv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return bn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Zl(t.loadComponent()).pipe(Ae(XI),Si(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),Ev(()=>{this.componentLoaders.delete(t)})),o=new Cv(r,()=>new nt).pipe(bv());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return bn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ae(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,f,h=!1;Array.isArray(a)?f=a:(u=a.create(t).injector,f=oI(u.get(Ku,[],Mt.Self|Mt.Optional)));return{routes:f.map(Bv),injector:u}}),Ev(()=>{this.childrenLoaders.delete(r)})),s=new Cv(i,()=>new nt).pipe(bv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Zl(t()).pipe(Ae(XI),Cr(o=>o instanceof gS||Array.isArray(o)?bn(o):pr(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(ee(_o),ee(iE))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XI(n){return function DB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Tm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.configLoader=gn(zv),this.environmentInjector=gn(Da),this.urlSerializer=gn(Hu),this.rootContexts=gn(Nc),this.navigationId=0,this.afterPreactivation=()=>bn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new p4(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new f4(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ns({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ci(r=>0!==r.id),Ae(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),wi(r=>{let o=!1,i=!1;return bn(r).pipe(Si(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wi(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new bI(s.id,t.serializeUrl(r.rawUrl),h,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),ro}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return QI(s.source)&&(t.browserUrlTree=s.extractedUrl),bn(s).pipe(wi(h=>{const _=this.transitions?.getValue();return this.events.next(new vm(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),_!==this.transitions?.getValue()?ro:Promise.resolve(h)}),function cB(n,e,t,r){return wi(o=>function aB(n,e,t,r,o){return new lB(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe(Ae(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Si(h=>{this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects},r.urlAfterRedirects=h.urlAfterRedirects}),function _B(n,e,t,r,o){return Cr(i=>function fB(n,e,t,r,o,i,s="emptyOnly"){return new pB(n,e,t,r,o,s,i).recognize().pipe(wi(a=>null===a?function dB(n){return new yt(e=>e.error(n))}(new uB):bn(a)))}(n,e,t,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(Ae(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Si(h=>{if(r.targetSnapshot=h.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!h.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);t.setBrowserUrl(k,h)}t.browserUrlTree=h.urlAfterRedirects}const _=new a4(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(_)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:h,extractedUrl:_,source:k,restoredState:x,extras:K}=s,Se=new vm(h,this.urlSerializer.serialize(_),k,x);this.events.next(Se);const ze=DI(_,this.rootComponentType).snapshot;return bn(r={...s,targetSnapshot:ze,urlAfterRedirects:_,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}{const h="";return this.events.next(new bI(s.id,t.serializeUrl(r.extractedUrl),h,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),ro}}),Si(s=>{const a=new l4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ae(s=>r={...s,guards:F4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function G4(n,e){return Cr(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?bn({...t,guardsResult:!0}):function W4(n,e,t,r){return pr(n).pipe(Cr(o=>function Q4(n,e,t,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?bn(i.map(a=>{const u=Bf(e)??o,f=qu(a,u);return Zl(function U4(n){return n&&Uf(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,r):u.runInContext(()=>f(n,e,t,r))).pipe(gl())})).pipe(Yu()):bn(!0)}(o.component,o.route,t,e,r)),gl(o=>!0!==o,!0))}(s,r,o,n).pipe(Cr(a=>a&&function $4(n){return"boolean"==typeof n}(a)?function Z4(n,e,t,r){return pr(e).pipe(Ul(o=>Af(function Y4(n,e){return null!==n&&e&&e(new h4(n)),bn(!0)}(o.route.parent,r),function q4(n,e){return null!==n&&e&&e(new g4(n)),bn(!0)}(o.route,r),function X4(n,e,t){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function O4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>um(()=>bn(s.guards.map(u=>{const f=Bf(s.node)??t,h=qu(u,f);return Zl(function j4(n){return n&&Uf(n.canActivateChild)}(h)?h.canActivateChild(r,n):f.runInContext(()=>h(r,n))).pipe(gl())})).pipe(Yu())));return bn(i).pipe(Yu())}(n,o.path,t),function K4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return bn(!0);const o=r.map(i=>um(()=>{const s=Bf(e)??t,a=qu(i,s);return Zl(function V4(n){return n&&Uf(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(gl())}));return bn(o).pipe(Yu())}(n,o.route,t))),gl(o=>!0!==o,!0))}(r,i,n,e):bn(a)),Ae(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Si(s=>{if(r.guardsResult=s.guardsResult,Fc(s.guardsResult))throw xI(0,s.guardsResult);const a=new c4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ci(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Hv(s=>{if(s.guards.canActivateChecks.length)return bn(s).pipe(Si(a=>{const u=new u4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),wi(a=>{let u=!1;return bn(a).pipe(function vB(n,e){return Cr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return bn(t);let i=0;return pr(o).pipe(Ul(s=>function bB(n,e,t,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!YI(o)&&(i[Pf]=o.title),function CB(n,e,t,r){const o=function wB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return bn({});const i={};return pr(o).pipe(Cr(s=>function SB(n,e,t,r){const o=Bf(e)??r,i=qu(n,o);return Zl(i.resolve?i.resolve(e,t):o.runInContext(()=>i(e,t)))}(n[s],e,t,r).pipe(gl(),Si(a=>{i[s]=a}))),wv(1),Sv(i),yl(s=>Vv(s)?ro:ju(s)))}(i,n,e,r).pipe(Ae(s=>(n._resolvedData=s,n.data=II(n,t).resolve,o&&YI(o)&&(n.data[Pf]=o.title),null)))}(s.route,r,n,e)),Si(()=>i++),wv(1),Cr(s=>i===o.length?bn(t):ro))})}(t.paramsInheritanceStrategy,this.environmentInjector),Si({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Si(a=>{const u=new d4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Hv(s=>{const a=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(Si(h=>{u.component=h}),Ae(()=>{})));for(const h of u.children)f.push(...a(h));return f};return X1(a(s.targetSnapshot.root)).pipe(dm(),Ls(1))}),Hv(()=>this.afterPreactivation()),Ae(s=>{const a=function S4(n,e,t){const r=$f(n,e._root,t?t._root:void 0);return new EI(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Si(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>Ae(r=>(new R4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),Si({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Oc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Ev(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),yl(s=>{if(i=!0,PI(s)){AI(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new bm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),AI(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||QI(r.source)};t.scheduleNavigation(u,Lf,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new CI(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return ro}))}))}cancelNavigationTransition(t,r,o){const i=new bm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QI(n){return n!==Lf}let JI=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Bn);return r}getResolvedTitleForRoute(t){return t.data[Pf]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return gn(IB)},providedIn:"root"}),n})(),IB=(()=>{class n extends JI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(ee(DD))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return gn(MB)},providedIn:"root"}),n})();class kB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let MB=(()=>{class n extends kB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Am=new rn("",{providedIn:"root",factory:()=>({})});let TB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return gn(AB)},providedIn:"root"}),n})(),AB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PB(n){throw n}function RB(n,e,t){return e.parse("/")}const FB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Go=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=gn(N2),this.isNgZoneEnabled=!1,this.options=gn(Am,{optional:!0})||{},this.errorHandler=this.options.errorHandler||PB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||RB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=gn(TB),this.routeReuseStrategy=gn(ek),this.urlCreationStrategy=gn(b4),this.titleStrategy=gn(JI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=oI(gn(Ku,{optional:!0})??[]),this.navigationTransitions=gn(Tm),this.urlSerializer=gn(Hu),this.location=gn(yf),this.isNgZoneEnabled=gn(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=DI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Lf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Bv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s;let h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...i};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}return null!==h&&(h=this.removeEmptyProps(h)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,h,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Fc(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Lf,null,r)}navigate(t,r={skipLocationChange:!1}){return function NB(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new Te(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...FB}:!1===r?{...OB}:r,Fc(t))return aI(this.currentUrlTree,t,o);const i=this.parseUrl(t);return aI(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const i=t[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,f,h;return s?(a=s.resolve,u=s.reject,f=s.promise):f=new Promise((_,k)=>{a=_,u=k}),h="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:h,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nk{}let BB=(()=>{class n{preload(t,r){return r().pipe(yl(()=>bn(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VB=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ci(t=>t instanceof Oc),Ul(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=Sh(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return pr(o).pipe(Ko())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):bn(null);const i=o.pipe(Cr(s=>null===s?bn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?pr([i,this.loader.loadComponent(r)]).pipe(Ko()):i})}}return n.\u0275fac=function(t){return new(t||n)(ee(Go),ee(iE),ee(Da),ee(nk),ee(zv))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gv=new rn("");let rk=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function wC(){throw new Error("invalid")}()},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function Lc(n,e){return{\u0275kind:n,\u0275providers:e}}function ik(){const n=gn(_o);return e=>{const t=n.get($l);if(e!==t.components[0])return;const r=n.get(Go),o=n.get(sk);1===n.get(Zv)&&r.initialNavigation(),n.get(ak,null,Mt.Optional)?.setUpPreloading(),n.get(Gv,null,Mt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const sk=new rn("",{factory:()=>new nt}),Zv=new rn("",{providedIn:"root",factory:()=>1});const ak=new rn("");function GB(n){return Lc(0,[{provide:ak,useExisting:VB},{provide:nk,useExisting:n}])}const lk=new rn("ROUTER_FORROOT_GUARD"),WB=[yf,{provide:Hu,useClass:Dv},Go,Nc,{provide:vl,useFactory:function ok(n){return n.routerState.root},deps:[Go]},zv,[]];function ZB(){return new fE("Router",Go)}let Pm=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[WB,[],{provide:Ku,multi:!0,useValue:t},{provide:lk,useFactory:XB,deps:[[Go,new $d,new Bd]]},{provide:Am,useValue:r||{}},r?.useHash?{provide:Fa,useClass:NE}:{provide:Fa,useClass:OE},{provide:Gv,useFactory:()=>{const n=gn(BN),e=gn(dt),t=gn(Am),r=gn(Tm),o=gn(Hu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new rk(o,r,n,e,t)}},r?.preloadingStrategy?GB(r.preloadingStrategy).\u0275providers:[],{provide:fE,multi:!0,useFactory:ZB},r?.initialNavigation?QB(r):[],[{provide:ck,useFactory:ik},{provide:oE,multi:!0,useExisting:ck}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ku,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(ee(lk,8))},n.\u0275mod=Fr({type:n}),n.\u0275inj=wr({imports:[Lv]}),n})();function XB(n){return"guarded"}function QB(n){return["disabled"===n.initialNavigation?Lc(3,[{provide:Ic,multi:!0,useFactory:()=>{const e=gn(Go);return()=>{e.setUpLocationChangeListener()}}},{provide:Zv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Lc(2,[{provide:Zv,useValue:0},{provide:Ic,multi:!0,deps:[_o],useFactory:e=>{const t=e.get(CO,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const i=e.get(Go),s=e.get(sk);(function r(o){e.get(Go).events.pipe(Ci(s=>s instanceof Oc||s instanceof bm||s instanceof CI),Ae(s=>s instanceof Oc||s instanceof bm&&(0===s.code||1===s.code)&&null),Ci(s=>null!==s),Ls(1)).subscribe(()=>{o()})})(()=>{o(!0)}),e.get(Tm).afterPreactivation=()=>(o(!0),s.closed?bn(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const ck=new rn("");A(5933),A(9078),A(4199),A(8759);var qv=A(5823),Qu=A(9259),Wf=A(919),Zf=(A(7351),A(7580)),uk=(A(2286),A(6379),A(1559));function fk(n,e=ne){return n=n??tV,q((t,r)=>{let o,i=!0;t.subscribe(ye(r,s=>{const a=e(s);(i||!n(o,a))&&(i=!1,o=a,r.next(s))}))})}function tV(n,e){return n===e}const rV=qv.i,Nt=["*"],sV=["outlet"],aV=[[["","slot","top"]],"*"],lV=["[slot=top]","*"],pk=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n),hk=n=>!!n.resolveComponentFactory;let qf=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??"",Ju(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Ju(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),Ju(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(fl)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>Ju(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),Ju(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(C(_o),C(gt))},n.\u0275dir=xt({type:n,hostBindings:function(t,r){1&t&&at("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),n})();const Ju=n=>{pk(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=dV(e);Yv(e,r);const o=e.closest("ion-item");o&&Yv(o,t?[...r,"item-has-value"]:r)})},dV=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const o=e.item(r);null!==o&&fV(o,"ng-")&&t.push(`ion-${o.substring(3)}`)}return t},Yv=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},fV=(n,e)=>n.substring(0,e.length)===e;let ed=(()=>{class n extends qf{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=t??!1,Ju(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(C(_o),C(gt))},n.\u0275dir=xt({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&at("ionChange",function(i){return r._handleIonChange(i.target)})},features:[Nr([{provide:Xi,useExisting:n,multi:!0}]),yr]}),n})(),Yf=(()=>{class n extends qf{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(_o),C(gt))},n.\u0275dir=xt({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&at("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[Nr([{provide:Xi,useExisting:n,multi:!0}]),yr]}),n})(),bl=(()=>{class n extends qf{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(_o),C(gt))},n.\u0275dir=xt({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&at("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[Nr([{provide:Xi,useExisting:n,multi:!0}]),yr]}),n})();const mV=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},gV=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},Dr=(n,e,t)=>{t.forEach(r=>n[r]=Tf(e,r))};function Ft(n){return function(t){const{defineCustomElementFn:r,inputs:o,methods:i}=n;return void 0!==r&&r(),o&&mV(t,o),i&&gV(t,i),t}}let mk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-app"]],ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0})],n),n})(),gk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],n),n})(),Ji=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),es=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),yk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],n),n})(),ts=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),ns=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),hi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),Cl=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),ri=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),Rm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})(),Fm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionSwipe"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["side"]})],n),n})(),Om=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionDrag"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})(),rs=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),Ba=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),_k=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})(),Kv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],n),n})(),Nm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],n),n})(),Lm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["disabled","value"]})],n),n})(),Kf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],n),n})(),Xv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],n),n})(),vk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],n),n})(),os=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),Xf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Dr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],n),n})(),is=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class bk{constructor(e={}){this.data=e}get(e){return this.data[e]}}let $m=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,o,i){return new hj(t,r,o,this.appRef,this.zone,i)}}return n.\u0275fac=function(t){return new(t||n)(ee(dt),ee($l))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class hj{constructor(e,t,r,o,i,s){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=o,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,o){return this.zone.run(()=>new Promise(i=>{const s=Object.assign({},r);void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),i(mj(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,s,o))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(t);if(o){o.destroy(),this.elRefMap.delete(t);const i=this.elEventsMap.get(t);i&&(i(),this.elEventsMap.delete(t))}r()}))}}const mj=(n,e,t,r,o,i,s,a,u,f,h)=>{let _;const k=_o.create({providers:yj(f),parent:t});if(e&&hk(e)){const ze=e.resolveComponentFactory(u);_=r?r.createComponent(ze,r.length,k):ze.create(k)}else{if(!r)return null;_=r.createComponent(u,{index:r.indexOf,injector:k,environmentInjector:e})}const x=_.instance,K=_.location.nativeElement;if(f&&Object.assign(x,f),h)for(const ze of h)K.classList.add(ze);const Se=Ck(n,x,K);return a.appendChild(K),r||o.attachView(_.hostView),_.changeDetectorRef.reattach(),i.set(K,_),s.set(K,Se),K},gj=[Wf.L,Wf.a,Wf.b,Wf.c,Wf.d],Ck=(n,e,t)=>n.run(()=>{const r=gj.filter(o=>"function"==typeof e[o]).map(o=>{const i=s=>e[o](s.detail);return t.addEventListener(o,i),()=>t.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),wk=new rn("NavParamsToken"),yj=n=>[{provide:wk,useValue:n},{provide:bk,useFactory:_j,deps:[wk]}],_j=n=>new bk(n),Sk=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),Qv=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},Sj=(n,e)=>{if(!n)return;const t=Ek(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},Ek=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),Dk=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class Ej{constructor(e,t,r,o,i,s){this.containerEl=t,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?Ek(e):void 0}createView(e,t){var r;const o=Qv(this.router,t),i=null===(r=e?.location)||void 0===r?void 0:r.nativeElement,s=Ck(this.zone,e.instance,i);return{id:this.nextId++,stackId:Sj(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:e,url:o}}getExistingView(e){const t=Qv(this.router,e),r=this.views.find(o=>o.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const u=this.activeView,f=((n,e)=>!e||n.stackId!==e.stackId)(e,u);f&&(i="back",s=void 0);const h=this.views.slice();let _;const k=this.router;k.getCurrentNavigation?_=k.getCurrentNavigation():!(null===(t=k.navigations)||void 0===t)&&t.value&&(_=k.navigations.value),null!==(r=_?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const x=this.views.includes(e),K=this.insertView(e,i);x||e.ref.changeDetectorRef.detectChanges();const Se=e.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==Se&&(a=Se),u&&(u.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,u,s,this.canGoBack(1),!1,a).then(()=>Dj(e,K,h,this.location,this.zone)).then(()=>({enteringView:e,direction:i,animation:s,tabSwitch:f})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(t);if(i.length<=e)return Promise.resolve(!1);const s=i[i.length-e-1];let a=s.url;const u=s.savedData;if(u){const h=u.get("primary");null!==(o=null===(r=h?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=h.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ik(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Dk),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?Sk(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):Sk(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const a=e?e.element:void 0,u=t?t.element:void 0,f=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,u,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){return Pn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const Dj=(n,e,t,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Ik(n,e,t,r,o),i()})}):Promise.resolve(),Ik=(n,e,t,r,o)=>{o.run(()=>t.filter(i=>!e.includes(i)).forEach(Dk)),e.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==n&&i.url!==a){const u=i.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let Jv=(()=>{class n{get(t,r){const o=eb();return o?o.get(t,r):null}getBoolean(t,r){const o=eb();return!!o&&o.getBoolean(t,r)}getNumber(t,r){const o=eb();return o?o.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kk=new rn("USERCONFIG"),eb=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};let Ij=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new nt,this.keyboardDidShow=new nt,this.keyboardDidHide=new nt,this.pause=new nt,this.resume=new nt,this.resize=new nt,r.run(()=>{var o;let i;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(u=>u.register(s,f=>r.run(()=>a(f))))},td(this.pause,t,"pause"),td(this.resume,t,"resume"),td(this.backButton,t,"ionBackButton"),td(this.resize,this.win,"resize"),td(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),td(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?t.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(t){return(0,qv.a)(this.win,t)}platforms(){return(0,qv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return kj(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(ee(ti),ee(dt))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kj=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},td=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(r?.detail)})};let Qf=(()=>{class n{constructor(t,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=Mk,this.animated=xk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof vm){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),t.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return Pn(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,o,i){this.direction=t,this.animated=Mj(t,r,o),this.animationBuilder=i}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const o=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=Mk,this.animated=xk,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:o}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const o=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return n.\u0275fac=function(t){return new(t||n)(ee(Ij),ee(yf),ee(Hu),ee(Go,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mj=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},Mk="auto",xk=void 0;let Jf=(()=>{class n{constructor(t,r,o,i,s,a,u,f,h,_,k,x,K){this.parentContexts=t,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=u,this.parentOutlet=K,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ns(null),this.stackEvents=new Mn,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.nativeEl=h.nativeElement,this.name=o||Bn,this.tabsPrefix="true"===i?Qv(_,x):void 0,this.stackCtrl=new Ej(this.tabsPrefix,this.nativeEl,_,a,k,f),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t?.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,Qu.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,t)}else{const a=t._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const u=this.parentContexts.getOrCreateContext(this.name).children,f=new Ns(null),h=this.createActivatedRouteProxy(f,t),_=new xj(h,u,this.location.injector),k=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&hk(r)){const x=r.resolveComponentFactory(k);i=this.activated=this.location.createComponent(x,this.location.length,_)}else i=this.activated=this.location.createComponent(k,{index:this.location.length,injector:_,environmentInjector:r??this.environmentInjector});f.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,h),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const o=new vl;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(t,"paramMap"),o._queryParamMap=this.proxyObservable(t,"queryParamMap"),o.url=this.proxyObservable(t,"url"),o.params=this.proxyObservable(t,"params"),o.queryParams=this.proxyObservable(t,"queryParams"),o.fragment=this.proxyObservable(t,"fragment"),o.data=this.proxyObservable(t,"data"),o}proxyObservable(t,r){return t.pipe(Ci(o=>!!o),wi(o=>this.currentActivatedRoute$.pipe(Ci(i=>null!==i&&i.component===o),wi(i=>i&&i.activatedRoute[r]),fk())))}updateActivatedRouteProxy(t,r){const o=this.proxyMap.get(t);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(C(Nc),C($i),iu("name"),iu("tabs"),C(Jv),C(Qf),C(nl,8),C(yf),C(gt),C(Go),C(dt),C(vl),C(n,12))},n.\u0275dir=xt({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class xj{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vl?this.route:e===Nc?this.childContexts:this.parent.get(e,t)}}let Tk=(()=>{class n{constructor(t){this.navCtrl=t,this.ionTabsWillChange=new Mn,this.ionTabsDidChange=new Mn}onPageSelected(t){const r=t.enteringView.stackId;t.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(t){const r="string"==typeof t,o=r?t:t.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||t.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return n.\u0275fac=function(t){return new(t||n)(C(Qf))},n.\u0275cmp=ut({type:n,selectors:[["ion-tabs"]],contentQueries:function(t,r,o){if(1&t&&function Nl(n,e,t,r){const o=cn();if(o.firstCreatePass){const i=Sr();NS(o,new RS(e,t,r),i.index),function m2(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(o,n),2==(2&t)&&(o.staticContentQueries=!0)}OS(o,Ke(),t)}(o,Xv,5),2&t){let i;Fs(i=Os())&&(r.tabBar=i.first)}},viewQuery:function(t,r){if(1&t&&Pu(sV,5,Jf),2&t){let o;Fs(o=Os())&&(r.outlet=o.first)}},hostBindings:function(t,r){1&t&&at("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:lV,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(t,r){1&t&&(Rt(aV),At(0),oe(1,"div",0)(2,"ion-router-outlet",1,2),at("stackEvents",function(i){return r.onPageSelected(i)}),J()(),At(4,1)),2&t&&(Xe(2),ot("environmentInjector",r.environmentInjector))},dependencies:[Jf],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),n})(),Ak=(()=>{class n{constructor(t,r,o){this.routerOutlet=t,this.navCtrl=r,this.config=o}onClick(t){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),t.preventDefault())}}return n.\u0275fac=function(t){return new(t||n)(C(Jf,8),C(Qf),C(Jv))},n.\u0275dir=xt({type:n,selectors:[["ion-back-button"]],hostBindings:function(t,r){1&t&&at("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),n})(),Pk=(()=>{let n=class{constructor(t,r,o,i,s){this.el=t.nativeElement,t.nativeElement.delegate=i.create(r,o,s),Dr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(gt),C(nl),C(_o),C($m),C($i))},n.\u0275dir=xt({type:n,selectors:[["ion-nav"]]}),n=U([Ft({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})();class ep{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let tp=(()=>{class n extends ep{constructor(){super(Zf.b)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$c=(()=>{class n extends ep{constructor(){super(Zf.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ql=(()=>{class n extends ep{constructor(){super(Zf.l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Nk{}let ws=(()=>{class n extends ep{constructor(t,r,o,i){super(Zf.m),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"modal")}))}}return n.\u0275fac=function(t){return new(t||n)(ee($m),ee(nl),ee(_o),ee(Nk,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),Bc=(()=>{class n extends ep{constructor(t,r,o,i){super(Zf.c),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"popover")}))}}return n.\u0275fac=function(t){return new(t||n)(ee($m),ee(nl),ee(_o),ee(Nk,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const Lj=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:i=>t.run(i)}));const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function nV(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(A.e(6748).then(A.t.bind(A,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(A.e(2214).then(A.t.bind(A,7320,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,uk.p)().then(()=>(rV(),(0,uk.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:pk,jmp:i=>t.runOutsideAngular(i),ael(i,s,a,u){i[o](s,a,u)},rel(i,s,a,u){i.removeEventListener(s,a,u)}}))}};let Yl=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:kk,useValue:t},{provide:Ic,useFactory:Lj,multi:!0,deps:[kk,ti,dt]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=wr({providers:[$m,ws,Bc],imports:[[Oa]]}),n})();let nd={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const $k=/[&<>"']/,Bj=new RegExp($k.source,"g"),Bk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Vj=new RegExp(Bk.source,"g"),jj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vk=n=>jj[n];function Di(n,e){if(e){if($k.test(n))return n.replace(Bj,Vk)}else if(Bk.test(n))return n.replace(Vj,Vk);return n}const Uj=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function jk(n){return n.replace(Uj,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const Hj=/(^|[^\[])\^/g;function zr(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,o)=>(o=(o=o.source||o).replace(Hj,"$1"),n=n.replace(r,o),t),getRegex:()=>new RegExp(n,e)};return t}const zj=/[^\w:]/g,Gj=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Uk(n,e,t){if(n){let r;try{r=decodeURIComponent(jk(t)).replace(zj,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!Gj.test(t)&&(t=function Yj(n,e){Bm[" "+n]||(Bm[" "+n]=Wj.test(n)?n+"/":jm(n,"/",!0));const t=-1===(n=Bm[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(Zj,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(qj,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Bm={},Wj=/^[^:]+:\/*[^/]*$/,Zj=/^([^:]+:)[\s\S]*$/,qj=/^([^:]+:\/*[^/]*)[\s\S]*$/,Vm={exec:function(){}};function da(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function Hk(n,e){const r=n.replace(/\|/g,(i,s,a)=>{let u=!1,f=s;for(;--f>=0&&"\\"===a[f];)u=!u;return u?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function jm(n,e,t){const r=n.length;if(0===r)return"";let o=0;for(;o<r;){const i=n.charAt(r-o-1);if(i!==e||t){if(i===e||!t)break;o++}else o++}return n.slice(0,r-o)}function zk(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Gk(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function Wk(n,e,t,r){const o=e.href,i=e.title?Di(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:t,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:o,title:i,text:Di(s)}}class tb{constructor(e){this.options=e||nd}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:jm(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],o=function Xj(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const o=jm(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,i,s,a,u,f,h,_,k,x,K,Se=t[1].trim();const ze=Se.length>1,Ye={type:"list",raw:"",ordered:ze,start:ze?+Se.slice(0,-1):"",loose:!1,items:[]};Se=ze?`\\d{1,9}\\${Se.slice(-1)}`:`\\${Se}`,this.options.pedantic&&(Se=ze?Se:"[*+-]");const vt=new RegExp(`^( {0,3}${Se})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(K=!1,(t=vt.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),h=t[2].split("\n",1)[0].replace(/^\t+/,Ot=>" ".repeat(3*Ot.length)),_=e.split("\n",1)[0],this.options.pedantic?(s=2,x=h.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,x=h.slice(s),s+=t[1].length),u=!1,!h&&/^ *$/.test(_)&&(r+=_+"\n",e=e.substring(_.length+1),K=!0),!K){const Ot=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Dn=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Wn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),Ds=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(k=e.split("\n",1)[0],_=k,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Wn.test(_)||Ds.test(_)||Ot.test(_)||Dn.test(e)));){if(_.search(/[^ ]/)>=s||!_.trim())x+="\n"+_.slice(s);else{if(u||h.search(/[^ ]/)>=4||Wn.test(h)||Ds.test(h)||Dn.test(h))break;x+="\n"+_}!u&&!_.trim()&&(u=!0),r+=k+"\n",e=e.substring(k.length+1),h=_.slice(s)}}Ye.loose||(f?Ye.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(x),o&&(i="[ ] "!==o[0],x=x.replace(/^\[[ xX]\] +/,""))),Ye.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:x}),Ye.raw+=r}Ye.items[Ye.items.length-1].raw=r.trimRight(),Ye.items[Ye.items.length-1].text=x.trimRight(),Ye.raw=Ye.raw.trimRight();const Le=Ye.items.length;for(a=0;a<Le;a++)if(this.lexer.state.top=!1,Ye.items[a].tokens=this.lexer.blockTokens(Ye.items[a].text,[]),!Ye.loose){const Ot=Ye.items[a].tokens.filter(Wn=>"space"===Wn.type),Dn=Ot.length>0&&Ot.some(Wn=>/\n.*\n/.test(Wn.raw));Ye.loose=Dn}if(Ye.loose)for(a=0;a<Le;a++)Ye.items[a].loose=!0;return Ye}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):Di(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:Hk(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let i,s,a,u,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=Hk(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(u=r.rows[s],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Di(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Di(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=jm(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function Kj(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,o=0;for(;o<t;o++)if("\\"===n[o])o++;else if(n[o]===e[0])r++;else if(n[o]===e[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(s>-1){const u=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),Wk(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return Wk(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,u,f=s,h=0;const _="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_.lastIndex=0,t=t.slice(-1*e.length+s);null!=(o=_.exec(t));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(u=a.length,o[3]||o[4]){f+=u;continue}if((o[5]||o[6])&&s%3&&!((s+u)%3)){h+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+h);const k=e.slice(0,s+o.index+(o[0].length-a.length)+u);if(Math.min(s,u)%2){const K=k.slice(1,-1);return{type:"em",raw:k,text:K,tokens:this.lexer.inlineTokens(K)}}const x=k.slice(2,-2);return{type:"strong",raw:k,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Di(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let o,i;return"@"===r[2]?(o=Di(this.options.mangle?t(r[1]):r[1]),i="mailto:"+o):(o=Di(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if("@"===r[2])o=Di(this.options.mangle?t(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=Di(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Di(r[0]):r[0]:Di(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const En={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Vm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};En.def=zr(En.def).replace("label",En._label).replace("title",En._title).getRegex(),En.bullet=/(?:[*+-]|\d{1,9}[.)])/,En.listItemStart=zr(/^( *)(bull) */).replace("bull",En.bullet).getRegex(),En.list=zr(En.list).replace(/bull/g,En.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+En.def.source+")").getRegex(),En._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",En._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,En.html=zr(En.html,"i").replace("comment",En._comment).replace("tag",En._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),En.paragraph=zr(En._paragraph).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.blockquote=zr(En.blockquote).replace("paragraph",En.paragraph).getRegex(),En.normal=da({},En),En.gfm=da({},En.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),En.gfm.table=zr(En.gfm.table).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.gfm.paragraph=zr(En._paragraph).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",En.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.pedantic=da({},En.normal,{html:zr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",En._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Vm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:zr(En.normal._paragraph).replace("hr",En.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",En.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Yt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Vm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Vm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Qj(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Zk(n){let t,r,e="";const o=n.length;for(t=0;t<o;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}Yt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Yt.punctuation=zr(Yt.punctuation).replace(/punctuation/g,Yt._punctuation).getRegex(),Yt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Yt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Yt._comment=zr(En._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Yt.emStrong.lDelim=zr(Yt.emStrong.lDelim).replace(/punct/g,Yt._punctuation).getRegex(),Yt.emStrong.rDelimAst=zr(Yt.emStrong.rDelimAst,"g").replace(/punct/g,Yt._punctuation).getRegex(),Yt.emStrong.rDelimUnd=zr(Yt.emStrong.rDelimUnd,"g").replace(/punct/g,Yt._punctuation).getRegex(),Yt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Yt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Yt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Yt.autolink=zr(Yt.autolink).replace("scheme",Yt._scheme).replace("email",Yt._email).getRegex(),Yt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Yt.tag=zr(Yt.tag).replace("comment",Yt._comment).replace("attribute",Yt._attribute).getRegex(),Yt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Yt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Yt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Yt.link=zr(Yt.link).replace("label",Yt._label).replace("href",Yt._href).replace("title",Yt._title).getRegex(),Yt.reflink=zr(Yt.reflink).replace("label",Yt._label).replace("ref",En._label).getRegex(),Yt.nolink=zr(Yt.nolink).replace("ref",En._label).getRegex(),Yt.reflinkSearch=zr(Yt.reflinkSearch,"g").replace("reflink",Yt.reflink).replace("nolink",Yt.nolink).getRegex(),Yt.normal=da({},Yt),Yt.pedantic=da({},Yt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:zr(/^!?\[(label)\]\((.*?)\)/).replace("label",Yt._label).getRegex(),reflink:zr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Yt._label).getRegex()}),Yt.gfm=da({},Yt.normal,{escape:zr(Yt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Yt.gfm.url=zr(Yt.gfm.url,"i").replace("email",Yt.gfm._extended_email).getRegex(),Yt.breaks=da({},Yt.gfm,{br:zr(Yt.br).replace("{2,}","*").getRegex(),text:zr(Yt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class wl{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||nd,this.options.tokenizer=this.options.tokenizer||new tb,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:En.normal,inline:Yt.normal};this.options.pedantic?(t.block=En.pedantic,t.inline=Yt.pedantic):this.options.gfm&&(t.block=En.gfm,t.inline=this.options.breaks?Yt.breaks:Yt.gfm),this.tokenizer.rules=t}static get rules(){return{block:En,inline:Yt}}static lex(e,t){return new wl(t).lex(e)}static lexInline(e,t){return new wl(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,o,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,f)=>u+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(h){f=h.call({lexer:this},u),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=t[t.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,i,a,u,f,s=e;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)h.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+Gk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+Gk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>!!(r=h.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,f)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,Zk)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Zk))){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const _=e.slice(1);let k;this.options.extensions.startInline.forEach(function(x){k=x.call({lexer:this},_),"number"==typeof k&&k>=0&&(h=Math.min(h,k))}),h<1/0&&h>=0&&(i=e.substring(0,h+1))}if(r=this.tokenizer.inlineText(i,Qj)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),u=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}return t}}class rd{constructor(e){this.options=e||nd}code(e,t,r){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,o);null!=i&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+Di(o)+'">'+(r?e:Di(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:Di(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,o){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+o.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=Uk(this.options.sanitize,this.options.baseUrl,e)))return r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(null===(e=Uk(this.options.sanitize,this.options.baseUrl,e)))return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class qk{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class Yk{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do{o++,r=e+"-"+o}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class Va{constructor(e){this.options=e||nd,this.options.renderer=this.options.renderer||new rd,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new qk,this.slugger=new Yk}static parse(e,t){return new Va(t).parse(e)}static parseInline(e,t){return new Va(t).parseInline(e)}parse(e,t=!0){let o,i,s,a,u,f,h,_,k,x,K,Se,ze,Ye,vt,Le,Ot,Dn,Wn,r="";const Ds=e.length;for(o=0;o<Ds;o++)if(x=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]&&(Wn=this.options.extensions.renderers[x.type].call({parser:this},x),!1!==Wn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(x.type)))r+=Wn||"";else switch(x.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(x.tokens),x.depth,jk(this.parseInline(x.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(x.text,x.lang,x.escaped);continue;case"table":for(_="",h="",a=x.header.length,i=0;i<a;i++)h+=this.renderer.tablecell(this.parseInline(x.header[i].tokens),{header:!0,align:x.align[i]});for(_+=this.renderer.tablerow(h),k="",a=x.rows.length,i=0;i<a;i++){for(f=x.rows[i],h="",u=f.length,s=0;s<u;s++)h+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:x.align[s]});k+=this.renderer.tablerow(h)}r+=this.renderer.table(_,k);continue;case"blockquote":k=this.parse(x.tokens),r+=this.renderer.blockquote(k);continue;case"list":for(K=x.ordered,Se=x.start,ze=x.loose,a=x.items.length,k="",i=0;i<a;i++)vt=x.items[i],Le=vt.checked,Ot=vt.task,Ye="",vt.task&&(Dn=this.renderer.checkbox(Le),ze?vt.tokens.length>0&&"paragraph"===vt.tokens[0].type?(vt.tokens[0].text=Dn+" "+vt.tokens[0].text,vt.tokens[0].tokens&&vt.tokens[0].tokens.length>0&&"text"===vt.tokens[0].tokens[0].type&&(vt.tokens[0].tokens[0].text=Dn+" "+vt.tokens[0].tokens[0].text)):vt.tokens.unshift({type:"text",text:Dn}):Ye+=Dn),Ye+=this.parse(vt.tokens,ze),k+=this.renderer.listitem(Ye,Ot,Le);r+=this.renderer.list(k,K,Se);continue;case"html":r+=this.renderer.html(x.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(x.tokens));continue;case"text":for(k=x.tokens?this.parseInline(x.tokens):x.text;o+1<Ds&&"text"===e[o+1].type;)x=e[++o],k+="\n"+(x.tokens?this.parseInline(x.tokens):x.text);r+=t?this.renderer.paragraph(k):k;continue;default:{const eg='Token with "'+x.type+'" type was not found.';if(this.options.silent)return void console.error(eg);throw new Error(eg)}}return r}parseInline(e,t){t=t||this.renderer;let o,i,s,r="";const a=e.length;for(o=0;o<a;o++)if(i=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:{const u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}function kn(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),zk(e=da({},kn.defaults,e||{})),t){const o=e.highlight;let i;try{i=wl.lex(n,e)}catch(u){return t(u)}const s=function(u){let f;if(!u)try{e.walkTokens&&kn.walkTokens(i,e.walkTokens),f=Va.parse(i,e)}catch(h){u=h}return e.highlight=o,u?t(u):t(null,f)};if(!o||o.length<3||(delete e.highlight,!i.length))return s();let a=0;return kn.walkTokens(i,function(u){"code"===u.type&&(a++,setTimeout(()=>{o(u.text,u.lang,function(f,h){if(f)return s(f);null!=h&&h!==u.text&&(u.text=h,u.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Di(o.message+"",!0)+"</pre>";throw o}try{const o=wl.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(kn.walkTokens(o,e.walkTokens)).then(()=>Va.parse(o,e)).catch(r);kn.walkTokens(o,e.walkTokens)}return Va.parse(o,e)}catch(o){r(o)}}kn.options=kn.setOptions=function(n){return da(kn.defaults,n),function $j(n){nd=n}(kn.defaults),kn},kn.getDefaults=function Lk(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},kn.defaults=nd,kn.use=function(...n){const e=kn.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=da({},t);if(r.async=kn.defaults.async||r.async,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=e.renderers[o.name];e.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&("block"===o.level?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:"inline"===o.level&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){const o=kn.defaults.renderer||new rd;for(const i in t.renderer){const s=o[i];o[i]=(...a)=>{let u=t.renderer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.renderer=o}if(t.tokenizer){const o=kn.defaults.tokenizer||new tb;for(const i in t.tokenizer){const s=o[i];o[i]=(...a)=>{let u=t.tokenizer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.tokenizer=o}if(t.walkTokens){const o=kn.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(t.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}kn.setOptions(r)})},kn.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(kn,r)),r.type){case"table":for(const o of r.header)t=t.concat(kn.walkTokens(o.tokens,e));for(const o of r.rows)for(const i of o)t=t.concat(kn.walkTokens(i.tokens,e));break;case"list":t=t.concat(kn.walkTokens(r.items,e));break;default:kn.defaults.extensions&&kn.defaults.extensions.childTokens&&kn.defaults.extensions.childTokens[r.type]?kn.defaults.extensions.childTokens[r.type].forEach(function(o){t=t.concat(kn.walkTokens(r[o],e))}):r.tokens&&(t=t.concat(kn.walkTokens(r.tokens,e)))}return t},kn.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");zk(e=da({},kn.defaults,e||{}));try{const t=wl.lexInline(n,e);return e.walkTokens&&kn.walkTokens(t,e.walkTokens),Va.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Di(t.message+"",!0)+"</pre>";throw t}},kn.Parser=Va,kn.parser=Va.parse,kn.Renderer=rd,kn.TextRenderer=qk,kn.Lexer=wl,kn.lexer=wl.lex,kn.Tokenizer=tb,kn.Slugger=Yk,kn.parse=kn;class Jj extends G{constructor(e,t){super()}schedule(e,t=0){return this}}const Um={setInterval(n,e,...t){const{delegate:r}=Um;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Um;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},nb={now:()=>(nb.delegate||Date).now(),delegate:void 0};class np{constructor(e,t=np.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}np.now=nb.now;const Kk=new class tU extends np{constructor(e,t=np.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class eU extends Jj{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Um.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Um.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,te(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),nU=Kk;function Xk(n=0,e,t=nU){let r=-1;return null!=e&&(ko(e)?t=e:r=e),new yt(o=>{let i=function rU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class oU extends nt{constructor(e=1/0,t=1/0,r=nb){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}const aU=["*"];let rb=(()=>{class n{constructor(){this._buttonClick$=new nt,this.copied$=this._buttonClick$.pipe(wi(()=>yi(bn(!0),Xk(3e3).pipe(Sv(!1)))),fk(),function iU(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,ks({connector:()=>new oU(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(J1(!1),Ae(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(oe(0,"button",0),at("click",function(){return r.onCopyToClipboardClick()}),Aa(1,"async"),qe(2),Aa(3,"async"),J()),2&t&&(sl("copied",Pa(1,3,r.copied$)),Xe(2),Rs(Pa(3,5,r.copiedText$)))},dependencies:[tD],encapsulation:2,changeDetection:0}),n})();class uU{}var rp=(()=>{return(n=rp||(rp={})).CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",rp;var n})();class Qk{}const Jk=new rn("SECURITY_CONTEXT");let ob=(()=>{class n{constructor(t,r,o,i,s,a){this.platform=t,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new rd},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new nt,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:u}=r,f={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(f.renderer||new rd));const h=this.trimIndentation(t),_=o?this.decodeHtml(h):h,k=s?this.parseEmoji(_):_,x=this.parseMarked(k,f,i);return(u?x:this.sanitizer.sanitize(this.securityContext,x))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:u,mermaid:f,mermaidOptions:h}=r;i&&this.renderClipboard(t,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...h}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Ae(r=>this.handleExtension(t,r)))}highlight(t){if(!Bl(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Bl(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const o=t.code;return t.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const o=t.lastIndexOf("://"),i=o>-1?t.substring(o+4):t,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",u=a.lastIndexOf("."),f=u>-1?a.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(t,r,o=!1){return o?kn.parseInline(t,r):kn.parse(t,r)}parseEmoji(t){if(!Bl(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Bl(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,o){if(!Bl(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=t.querySelectorAll("pre");for(let u=0;u<a.length;u++){const f=a.item(u),h=document.createElement("div");h.style.position="relative",f.parentNode.insertBefore(h,f),h.appendChild(f);const _=document.createElement("div");let k,x;_.style.position="absolute",_.style.top=".5em",_.style.right=".5em",_.style.opacity="0",_.style.transition="opacity 250ms ease-out",h.insertAdjacentElement("beforeend",_),f.onmouseover=()=>_.style.opacity="1",f.onmouseout=()=>_.style.opacity="0",k=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(rb).hostView,k.rootNodes.forEach(K=>{K.onmouseover=()=>_.style.opacity="1",_.appendChild(K),x=new ClipboardJS(K,{text:()=>f.innerText})}),k.onDestroy(()=>x.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Bl(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=t.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(ee(Ou),ee(Jk),ee(K_,8),ee(uU,8),ee(Qk,8),ee(G_))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),ib=(()=>{class n{constructor(t,r,o){this.element=t,this.markdownService=r,this.viewContainerRef=o,this.error=new Mn,this.load=new Mn,this.ready=new Mn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new nt}get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function sU(n){return q((e,t)=>{On(n).subscribe(ye(t,()=>t.complete(),B)),!t.closed&&e.subscribe(t)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(t,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,rp.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,rp.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const u=this.toLispCase(s);o.item(i).setAttribute(u,a.toString())}})}toLispCase(t){const r=t.match(/([A-Z])/g);if(!r)return t;let o=t.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return n.\u0275fac=function(t){return new(t||n)(C(gt),C(ob),C($i))},n.\u0275cmp=ut({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[$o],ngContentSelectors:aU,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2}),n})(),sb=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[ob,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:Jk,useValue:t&&null!=t.sanitize?t.sanitize:Hr.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=wr({imports:[Oa]}),n})();var eM;!function(n){let e;var o;let t,r;(o=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(eM||(eM={}));var ae=A(3918);const _U="safari"in window,tM=!navigator.userAgent.match(/(crios)|(fxios)/i),fa=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,nM=!!navigator.userAgent.match(/android/i),vU=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Kl=(()=>{return(n=Kl||(Kl={})).web="web",n.pwa="pwa",n.twa="twa",Kl;var n})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const wU=new Error("request for lock canceled");class EU{constructor(e,t=wU){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,r)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:r}),this._dispatch()})}runExclusive(e,t=1){return function(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(h){try{f(r.next(h))}catch(_){s(_)}}function u(h){try{f(r.throw(h))}catch(_){s(_)}}function f(h){h.done?i(h.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(h.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(t);try{return yield e(r)}finally{o()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const r=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!r)continue;const o=this._value,i=t;this._value-=t,t=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}}class ja{constructor(e){this._semaphore=new EU(1,e)}acquire(){return n=this,e=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((t=void 0)||(t=Promise))(function(i,s){function a(h){try{f(r.next(h))}catch(_){s(_)}}function u(h){try{f(r.throw(h))}catch(_){s(_)}}function f(h){h.done?i(h.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(h.value).then(a,u)}f((r=r.apply(n,e||[])).next())});var n,e,t,r}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Xl={production:!0,dbName:"cloudpilot"},Hm="cloudpilot-session"+(Xl.localStorageSuffix?`-${Xl.localStorageSuffix}`:"");function oM(){localStorage.removeItem(Hm)}function ao(){return(n,e,t)=>{const r=t.value;let o=!1;return t.value=(0,ae.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),t}}class Ss{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}Ss.\u0275fac=function(e){return new(e||Ss)},Ss.\u0275prov=ht({token:Ss,factory:Ss.\u0275fac,providedIn:"root"});class Kr{constructor(e,t){this.alertController=e,this.emulationState=t,this.emergencySaveEvent=new Ho.j}errorMessage(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}],cssClass:"alert-error"})).present()})()}message(e,t,r={},o="Close"){var i=this;return(0,ae.Z)(function*(){const s=yield i.alertController.create({header:e,message:t,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var e=this;return(0,ae.Z)(function*(){const t=yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield t.present(),yield t.onDidDismiss()})()}fatalError(e,t=!0){var r=this;return(0,ae.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&t?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&t?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}Kr.\u0275fac=function(e){return new(e||Kr)(ee($c),ee(Ss))},Kr.\u0275prov=ht({token:Kr,factory:Kr.\u0275fac,providedIn:"root"}),U([ao()],Kr.prototype,"updateAvailable",null),U([ao()],Kr.prototype,"fatalError",null),U([ao()],Kr.prototype,"errorInNativeCode",null);class qs{constructor(e,t){this.alertService=e,this.ngZone=t,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=r=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${r}.`),this.fatalInNativeCode=r=>this.fatalWithMessage(r.message,!0,!1),this.fatalWithMessage=(r,o=!0,i=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,o&&oM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(r,i))}),this.fatalErrorEvent=new Ho.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}qs.\u0275fac=function(e){return new(e||qs)(ee(Kr),ee(dt))},qs.\u0275prov=ht({token:qs,factory:qs.\u0275fac,providedIn:"root"});var Ir=(()=>{return(n=Ir||(Ir={})).cloudpilot="cloudpilot",n.fstools="fstools",n.vfs="vfs",n.none="none",Ir;var n})();class Ua{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Ir.none}claim(e,t){this.assertOwnership(e,Ir.none),this.ownershipMmap.set(e,t)}release(e,t){this.assertOwnership(e,t),this.ownershipMmap.delete(e)}assertOwnership(e,t){if(this.getOwner(e)===t)return;const r=t===Ir.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${t}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(r),new Error(r)}transferOwnership(e,t,r){this.assertOwnership(e,t),this.ownershipMmap.set(e,r)}}Ua.\u0275fac=function(e){return new(e||Ua)(ee(qs))},Ua.\u0275prov=ht({token:Ua,factory:Ua.\u0275fac,providedIn:"root"});const Ql="session",od="rom",Jl="memory",Sl="state",zm="kvs",ec="memory-meta",Ha="storage",$s="storage-card",op="lock";class id extends Error{constructor(e){super(e)}}function fr(n){return new Promise((e,t)=>{!function AU(n){return!!n.abort}(n)?n.onsuccess=()=>e(n.result):n.oncomplete=()=>e(void 0),n.onerror=()=>t(new id(n.error?.message))})}function sM(n){let e=255&n[0];e|=e<<8,e|=e<<16;for(let t=1;t<256;t++)if(n[t]!==e)return n;return 255&n[0]}function PU(n){const e=n[0];for(let t=1;t<2048;t++)if(n[t]!==e)return n;return e}const Gm="session",lb="memory",FU="memory-meta",OU="storage",lM="storage-meta",cM="storage-card",LU="storageId";function cb(){return(cb=(0,ae.Z)(function*(n,e){function t(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!e)throw new Error("no version change transaction!");const o=e.objectStore(Gm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value,f={...u,totalMemory:1024*u.ram*1024+t(u.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function ub(){return(ub=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=e.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=t.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(t.put(r,"credentials"),t.delete("proxyCredentials"))})).apply(this,arguments)}function db(){return(db=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=n.createObjectStore(FU,{keyPath:"sessionId"});n.createObjectStore(OU),n.createObjectStore(lM,{keyPath:"id",autoIncrement:!0});const o=e.objectStore(Gm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value;void 0!==u.totalMemory&&(t.put({sessionId:u.id,totalSize:u.totalMemory}),delete u.totalMemory,a.update(u)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function fb(){return(fb=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(lM).name=cM})).apply(this,arguments)}function pb(){return(pb=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(cM).createIndex(LU,"storageId")})).apply(this,arguments)}function hb(){return(hb=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");n.createObjectStore("lock")})).apply(this,arguments)}var WU=A(5023),ZU=A.n(WU);const uM={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Wm;const qU=new Uint8Array(16);function YU(){if(!Wm&&(Wm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wm(qU)}const Ii=[];for(let n=0;n<256;++n)Ii.push((n+256).toString(16).slice(1));const mb=function KU(n,e,t){if(uM.randomUUID&&!e&&!n)return uM.randomUUID();const r=(n=n||{}).random||(n.rng||YU)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function dM(n,e=0){return(Ii[n[e+0]]+Ii[n[e+1]]+Ii[n[e+2]]+Ii[n[e+3]]+"-"+Ii[n[e+4]]+Ii[n[e+5]]+"-"+Ii[n[e+6]]+Ii[n[e+7]]+"-"+Ii[n[e+8]]+Ii[n[e+9]]+"-"+Ii[n[e+10]]+Ii[n[e+11]]+Ii[n[e+12]]+Ii[n[e+13]]+Ii[n[e+14]]+Ii[n[e+15]]).toLowerCase()}(r)},gb=new Error("page lock lost"),fM=new Error("version mismatch"),pM=mb();function Eo(){return(n,e,t)=>{const r=t.value;return t.value=(0,ae.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof id?o.fatalIDBDead():i===fM?o.fatalVersionMismatch():i===gb?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),t}}class Xn{constructor(e,t,r){this.ngZone=e,this.errorService=t,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Jl),u=o.objectStore(ec),f=new Uint32Array(256),h=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),u.put({sessionId:i,totalSize:s.length});const k=s.length>>>10;for(let x=0;x<k;x++){h.set(s.subarray(1024*x,1024*(x+1)));const K=sM(f);if("number"==typeof K)a.put(K,[i,x]);else{const Se=new Uint32Array(256);Se.set(K),a.put(Se,[i,x])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,ae.Z)(function*(){const s=o.objectStore(ec),a=yield fr(s.get(i));if(a)return new Promise(function(){var u=(0,ae.Z)(function*(f,h){const _=o.objectStore(Jl),k=new Uint32Array(a.totalSize>>>2),x=_.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));x.onsuccess=()=>{const K=x.result;if(!K)return f(new Uint8Array(k.buffer));const Se=K.value,[,ze]=K.key;"number"==typeof Se?k.subarray(256*ze,256*(ze+1)).fill(Se|Se<<8|Se<<16|Se<<24):k.subarray(256*ze,256*(ze+1)).set(1024===Se.length?new Uint32Array(Se.buffer):Se),K.continue()},x.onerror=()=>h(new id(x.error?.message))});return function(f,h){return u.apply(this,arguments)}}())})),this.sessionChangeEvent=new Ho.j,this.storageCardChangeEvent=new Ho.j,this.sessionUpdateMutex=new ja,this.db=this.requestPersistentStorage().then(()=>e.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(e,t,r,o){var i=this;return(0,ae.Z)(function*(){const s=ZU()(t),a=yield i.newTransaction(Ql,od,Sl,Jl,ec),u=a.objectStore(Ql),f=a.objectStore(od);(yield fr(f.get(s)))||f.put(t,s);const{id:_,...k}=e,x=yield fr(u.add({...k,rom:s})),K=yield fr(u.get(x));return r&&i.saveMemory(a,K.id,r),o&&i.saveState(a,K.id,o),yield fr(a),K})()}getAllSessions(){var e=this;return(0,ae.Z)(function*(){const[t]=yield e.prepareObjectStore(Ql);return yield fr(t.getAll())})()}getSession(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(Ql);return yield fr(r.get(e))})()}deleteSession(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(Ql,od,Sl,Jl,ec),o=r.objectStore(Ql),i=r.objectStore(od);(e=yield fr(o.get(e.id)))&&(o.delete(e.id),0===(yield fr(o.index("rom").getAll(e.rom))).length&&i.delete(e.rom),t.deleteMemory(r,e.id),t.deleteState(r,e.id),yield fr(r),t.sessionChangeEvent.dispatch([e.id,void 0]))})()}updateSessionPartial(e,t){var r=this;return this.sessionUpdateMutex.runExclusive((0,ae.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...u}=t,[f,h]=yield r.prepareObjectStore(Ql),_=yield fr(f.get(e));if(!_)throw new Error(`no session with id ${e}`);const k={..._,...u};f.put(k),yield fr(h),r.sessionChangeEvent.dispatch([_.id,k])}))}updateSession(e){var t=this;return this.sessionUpdateMutex.runExclusive((0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Ql),i=yield fr(r.get(e.id));if(!i)throw new Error(`no session with id ${e.id}`);if(i.rom!==e.rom)throw new Error("attempt to change ROM reference");if(i.ram!==e.ram)throw new Error("attempt to change RAM size");if(i.device!==e.device)throw new Error("attempt to change device type");r.put(e),yield fr(o),t.sessionChangeEvent.dispatch([e.id,e])}))}loadSession(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(od,Sl,Jl,ec),o=r.objectStore(od);return[yield fr(o.get(e.rom)),yield t.loadMemory(r,e.id),yield t.loadState(r,e.id)]})()}deleteStateForSession(e){var t=this;return(0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Sl);r.delete(e.id),yield fr(o)})()}addEmptyStorageCard(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore($s),o=yield fr(r.add(e)),i=yield fr(r.get(o));return t.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(e,t){var r=this;return(0,ae.Z)(function*(){return r.ngZone.runOutsideAngular((0,ae.Z)(function*(){const o=yield r.newTransaction($s,Ha),i=o.objectStore($s),s=o.objectStore(Ha),a=yield fr(i.add(e)),u=(e.size>>>13)+(t.length%8192==0?0:1),f=new Uint32Array(2048);for(let _=0;_<u;_++){const k=t.subarray(2048*_,2048*(_+1));_===u-1&&f.set(k);const x=PU(_===u-1?f:k);0!==x&&s.put("number"==typeof x?x:x?.slice(),[a,_])}const h=yield fr(i.get(a));return yield fr(o),r.storageCardChangeEvent.dispatch(h.id),h}))})()}getAllStorageCards(){var e=this;return(0,ae.Z)(function*(){const[t]=yield e.prepareObjectStore($s);return fr(t.getAll())})()}getCard(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore($s);return fr(r.get(e))})()}updateStorageCardPartial(e,t){var r=this;return(0,ae.Z)(function*(){const{storageId:o,size:i,id:s,...a}=t,[u,f]=yield r.prepareObjectStore($s),h=yield fr(u.get(e));if(!h)throw new Error(`no card with id ${e}`);const _={...h,...a};u.put(_),yield fr(f),r.storageCardChangeEvent.dispatch(e)})()}deleteStorageCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction($s,Ha);t.storageCardContext.assertOwnership(e,Ir.none);const o=r.objectStore($s),i=r.objectStore(Ha);o.delete(e),i.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),yield fr(r),t.storageCardChangeEvent.dispatch(e)})()}loadCardData(e,t,r){var o=this;return this.ngZone.runOutsideAngular((0,ae.Z)(function*(){const i=yield o.newTransaction($s,Ha);o.storageCardContext.assertOwnership(e,r);const s=i.objectStore(Ha);yield new Promise(function(){var a=(0,ae.Z)(function*(u,f){const h=s.openCursor(IDBKeyRange.bound([e,0],[e+1,0],!1,!0));h.onsuccess=()=>{const _=h.result;if(!_)return u();let k=_.value;const[,x]=_.key;"number"==typeof k?t.subarray(2048*x,2048*(x+1)).fill(k):(2048*(x+1)>t.length&&(k=k.subarray(0,2048-2048*(x+1)+t.length)),t.subarray(2048*x,2048*(x+1)).set(k)),_.continue()},h.onerror=()=>f(new id(h.error?.message))});return function(u,f){return a.apply(this,arguments)}}())}))}updateCardData(e,t,r,o){var i=this;return this.ngZone.runOutsideAngular((0,ae.Z)(function*(){const s=yield i.newTransaction($s,Ha);i.storageCardContext.assertOwnership(e,o);const a=s.objectStore($s),u=s.objectStore(Ha),f=yield fr(a.get(e));if(!f)throw new Error(`no card with ID ${e}`);if(t.length!==f.size>>>2)throw new Error("data size mismatch");const h=(f.size>>>13)+(f.size%8192>0?1:0);if((h>>>3)+(h%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let _=0;for(let k=0;k<r.length;k++)for(let x=1;x<256&&!(_>=h);x<<=1)r[k]&x&&u.put(t.subarray(2048*_,2048*(_+1)).slice(),[f.id,_]),_++;yield fr(s)}))}kvsGet(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(zm);return fr(r.get(e))})()}kvsSet(e){var t=this;return(0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(zm);for(const i of Object.keys(e))r.put(e[i],i);yield fr(o)})()}kvsLoad(){var e=this;return(0,ae.Z)(function*(){const[t]=yield e.prepareObjectStore(zm);return new Promise((r,o)=>{const i={},s=t.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new id(s.error?.message))})})()}kvsDelete(e){var t=this;return(0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(zm);r.delete(e),yield fr(o)})()}acquireLock(e){var t=this;return(0,ae.Z)(function*(){if(t.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield fr(e.objectStore(op).get(0)))!==pM)throw e.abort(),e.db.close(),gb})()}newTransaction(...e){var t=this;return(0,ae.Z)(function*(){const r=(yield t.db).transaction([op,...e],"readwrite",{durability:"relaxed"});return yield t.acquireLock(r),r})()}prepareObjectStore(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(e);return[r.objectStore(e),r]})()}saveState(e,t,r){const o=e.objectStore(Sl);r?o.put(r,t):o.delete(t)}deleteState(e,t){e.objectStore(Sl).delete(t)}loadState(e,t){return fr(e.objectStore(Sl).get(t))}deleteMemory(e,t){const r=e.objectStore(Jl),o=e.objectStore(ec);r.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),o.delete(t)}initializeLock(e){return(0,ae.Z)(function*(){const t=e.transaction(op,"readwrite");yield fr(t.objectStore(op).put(pM,0))})()}setupDb(){var e=this;return(0,ae.Z)(function*(){const t=setTimeout(()=>fa&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>i.name===Xl.dbName);if(clearTimeout(t),o&&void 0!==o.version&&o.version>9)throw fM}const r=yield new Promise((o,i)=>{const s=indexedDB.open(Xl.dbName,9);s.onerror=()=>{i(new id("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,ae.Z)(function*(u){clearTimeout(t),u.oldVersion<1&&function $U(n){n.createObjectStore(Gm,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),n.createObjectStore("state")}(s.result),u.oldVersion<2&&function BU(n,e){if(!e)throw new Error("no version change transaction!");n.objectStoreNames.contains("rom")&&n.deleteObjectStore("rom"),n.objectStoreNames.contains(lb)&&n.deleteObjectStore(lb),e.objectStore(Gm).clear(),n.createObjectStore("rom"),n.createObjectStore(lb),n.createObjectStore("kvs")}(s.result,s.transaction),u.oldVersion<4&&(yield function VU(n,e){return cb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<5&&(yield function jU(n,e){return ub.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<6&&(yield function UU(n,e){return db.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<7&&(yield function HU(n,e){return fb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<8&&(yield function zU(n,e){return pb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<9&&(yield function GU(n,e){return hb.apply(this,arguments)}(s.result,s.transaction))});return function(u){return a.apply(this,arguments)}}()});return yield e.initializeLock(r),r}finally{clearTimeout(t)}})()}requestPersistentStorage(){return(0,ae.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(e){console.warn(e),console.log("failed to request persistent storage")}})()}}Xn.\u0275fac=function(e){return new(e||Xn)(ee(dt),ee(qs),ee(Ua))},Xn.\u0275prov=ht({token:Xn,factory:Xn.\u0275fac,providedIn:"root"}),U([Eo()],Xn.prototype,"addSession",null),U([Eo()],Xn.prototype,"getAllSessions",null),U([Eo()],Xn.prototype,"getSession",null),U([Eo()],Xn.prototype,"deleteSession",null),U([Eo()],Xn.prototype,"updateSessionPartial",null),U([Eo()],Xn.prototype,"updateSession",null),U([Eo()],Xn.prototype,"loadSession",null),U([Eo()],Xn.prototype,"deleteStateForSession",null),U([Eo()],Xn.prototype,"addEmptyStorageCard",null),U([Eo()],Xn.prototype,"importStorageCard",null),U([Eo()],Xn.prototype,"getAllStorageCards",null),U([Eo()],Xn.prototype,"getCard",null),U([Eo()],Xn.prototype,"updateStorageCardPartial",null),U([Eo()],Xn.prototype,"deleteStorageCard",null),U([Eo()],Xn.prototype,"loadCardData",null),U([Eo()],Xn.prototype,"kvsGet",null),U([Eo()],Xn.prototype,"kvsSet",null),U([Eo()],Xn.prototype,"kvsDelete",null),U([Eo()],Xn.prototype,"newTransaction",null),U([Eo()],Xn.prototype,"prepareObjectStore",null),U([Eo()],Xn.prototype,"initializeLock",null),U([Eo()],Xn.prototype,"setupDb",null);const hM={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};class oi{constructor(e){var t=this;this.storageService=e,this.set=r=>this.storageMutex.runExclusive((0,ae.Z)(function*(){yield t.storageService.kvsSet(r);for(const o of Object.keys(r))t.rawKvs[o]=r[o];t.updateEvent.dispatch()})),this.updateEvent=new Ho.j,this.mutex=new ja,this.storageMutex=new ja,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,ae.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,ae.Z)(function*(){const t=e;try{const r={...hM,...yield e.storageService.kvsLoad()};e.rawKvs=r,e.kvsProxy=new Proxy(r,{set:(o,i,s)=>(o[i]=s,t.storageMutex.runExclusive(()=>t.storageService.kvsSet({[i]:s})),t.updateEvent.dispatch(),!0),deleteProperty:(o,i)=>(delete o[i],t.storageMutex.runExclusive(()=>t.storageService.kvsDelete(i)),t.updateEvent.dispatch(),!0)})}catch(r){console.error("failed to load KVS"),console.error(r),e.kvsProxy={...hM}}})()}}oi.\u0275fac=function(e){return new(e||oi)(ee(Xn))},oi.\u0275prov=ht({token:oi,factory:oi.\u0275fac,providedIn:"root"});class Vc{constructor(e,t){var r=this;this.kvsService=e,this.alertService=t,this.serviceWorkerKeepalive=(0,ae.Z)(function*(){if(navigator.serviceWorker)try{const o=yield navigator.serviceWorker.getRegistration();o?.active?.postMessage&&o.active.postMessage({})}catch{}setTimeout(r.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(fa||nM)&&this.installationMode===Kl.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return fa&&tM?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':fa?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return fa&&tM?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':fa?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Kl.pwa:document.referrer.startsWith("android-app://")?Kl.twa:window.matchMedia("(display-mode: standalone)").matches?Kl.pwa:Kl.web}}function o6(n,e){1&n&&(oe(0,"div",6),ct(1,"ion-spinner"),J())}Vc.\u0275fac=function(e){return new(e||Vc)(ee(oi),ee(Kr))},Vc.\u0275prov=ht({token:Vc,factory:Vc.\u0275fac,providedIn:"root"});class pa{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}pa.\u0275fac=function(e){return new(e||pa)(C(ws))},pa.\u0275cmp=ut({type:pa,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.modalController.dismiss()}),qe(6,"Close"),J()()()(),oe(7,"ion-content",3),Jt(8,o6,2,0,"div",4),oe(9,"markdown",5),at("load",function(){return t.loading=!1}),J()()),2&e&&(Xe(3),Rs(t.title),Xe(5),ot("ngIf",t.loading),Xe(1),ot("src",t.url))},dependencies:[fi,ib,Ji,es,ts,ns,Kf,os,is],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]});const jc=Xl.releaseExtra?`1.8.0-283e5b9 (${Xl.releaseExtra})`:"1.8.0";var Zm=A(9897);const qm=((n,e)=>{let t=null;return()=>{if(null!==t)return t;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return t=(n=>{const e=new Map([[0,()=>{}]]),t=new Map([[0,()=>{}]]),r=new Map,o=new Worker(n);return o.addEventListener("message",({data:f})=>{if((n=>void 0!==n.method&&"call"===n.method)(f)){const{params:{timerId:h,timerType:_}}=f;if("interval"===_){const k=e.get(h);if("number"==typeof k){const x=r.get(k);if(void 0===x||x.timerId!==h||x.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k()}}else if("timeout"===_){const k=t.get(h);if("number"==typeof k){const x=r.get(k);if(void 0===x||x.timerId!==h||x.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k(),t.delete(h)}}}else{if(!(n=>null===n.error&&"number"==typeof n.id)(f)){const{error:{message:h}}=f;throw new Error(h)}{const{id:h}=f,_=r.get(h);if(void 0===_)throw new Error("The timer is in an undefined state.");const{timerId:k,timerType:x}=_;r.delete(h),"interval"===x?e.delete(k):t.delete(k)}}}),{clearInterval:f=>{const h=(0,Zm.generateUniqueNumber)(r);r.set(h,{timerId:f,timerType:"interval"}),e.set(f,h),o.postMessage({id:h,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const h=(0,Zm.generateUniqueNumber)(r);r.set(h,{timerId:f,timerType:"timeout"}),t.set(f,h),o.postMessage({id:h,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,h)=>{const _=(0,Zm.generateUniqueNumber)(e);return e.set(_,()=>{f(),"function"==typeof e.get(_)&&o.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:_,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:_,timerType:"interval"}}),_},setTimeout:(f,h)=>{const _=(0,Zm.generateUniqueNumber)(t);return t.set(_,f),o.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:_,timerType:"timeout"}}),_}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),t}})();var tc=(()=>{return(n=tc||(tc={}))[n.animationFrame=0]="animationFrame",n[n.timeout=1]="timeout",tc;var n})();class gM{constructor(e){this.callback=e}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(e=>{this.handle=void 0,this.callback(e)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return tc.animationFrame}}class u6{constructor(e,t=60){this.callback=e,this.fps=t}schedule(){if(void 0!==this.handle)return;const e=performance.now(),t=1e3*Math.ceil(e/1e3*this.fps)/this.fps;this.handle=((n,e)=>qm().setTimeout(n,e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(t-e,0))}cancel(){var n;void 0!==this.handle&&(n=this.handle,qm().clearTimeout(n),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return tc.timeout}}const d6=[135,135,105],f6=[0,0,0],nc=new Array(16).fill(0).map((n,e)=>f6.map((t,r)=>Math.floor((e*t+(15-e)*d6[r])/15))).map(([n,e,t])=>4278190080|t<<16|e<<8|n),yb=nc.map(n=>"#"+(16777215&n).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var ie=(()=>{return(n=ie||(ie={})).palmPilot="PalmPilot",n.pilot="Pilot",n.iii="PalmIII",n.palmVx="PalmVx",n.palmV="PalmV",n.palmVII="PalmVII",n.palmVIIEZ="PalmVIIEZ",n.palmVIIx="PalmVIIx",n.iiic="PalmIIIc",n.iiix="PalmIIIx",n.iiixe="PalmIIIxe",n.iiie="PalmIIIe",n.m500="PalmM500",n.m505="PalmM505",n.m515="PalmM515",n.m520="PalmM520",n.m100="PalmM100",n.m105="PalmM105",n.m125="PalmM125",n.m130="PalmM130",n.i705="Palmi705",n.i710="PalmI710",n.handera330="HandEra330",n.handera330c="HandEra330c",n.pegS300="PEG-S300",n.pegS320="PEG-S320",n.pegS500c="PEG-S500C",n.pegT400="PEG-T400",n.pegN600c="PEG-N600C/N610C",n.pegT600c="PEG-T600",n.pegN700c="PEG-N700C/N710C",n.pegT650c="YSX1230",n.pegNR70="NR70",n.acerS11="Acer-S11",ie;var n})(),rc=(()=>{return(n=rc||(rc={})).sdcard="sdcard",n.memorystick="memorystick",n.none="none",rc;var n})();function ip(n){switch(n){case ie.i710:case ie.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.handera330:case ie.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case ie.pegS300:case ie.pegS320:case ie.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case ie.pegT600c:case ie.pegT400:case ie.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case ie.pegN600c:case ie.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case ie.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function _b(n){switch(n){case ie.pilot:case ie.palmPilot:case ie.iii:case ie.palmV:case ie.palmVx:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.m125:case ie.m500:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:case ie.i705:case ie.handera330:case ie.pegS300:case ie.pegS320:case ie.pegT400:case ie.acerS11:return!1;default:return!0}}function yM(n){switch(n){case ie.pilot:return"Pilot";case ie.palmPilot:return"Palm Pilot";case ie.iii:return"Palm III";case ie.m500:return"Palm m500";case ie.m505:return"Palm m505";case ie.m515:return"Palm m515";case ie.m520:return"Palm m520";case ie.palmVx:return"Palm Vx";case ie.iiix:return"Palm IIIx";case ie.iiixe:return"Palm IIIxe";case ie.iiie:return"Palm IIIe";case ie.palmV:return"Palm V";case ie.palmVII:return"Palm VII";case ie.palmVIIEZ:return"Palm VII EZ";case ie.palmVIIx:return"Palm VIIx";case ie.iiic:return"Palm IIIc";case ie.m100:return"Palm m100";case ie.m105:return"Palm m105";case ie.m125:return"Palm m125";case ie.m130:return"Palm m130";case ie.i705:return"Palm i705";case ie.i710:return"Tungsten W";case ie.handera330:return"Handera 330";case ie.handera330c:return"Handera 330c";case ie.pegS300:return"Sony PEG-S300";case ie.pegS320:return"Sony PEG-S320";case ie.pegT400:return"Sony PEG-T400 series";case ie.pegN600c:return"Sony PEG-N600C series";case ie.pegT600c:return"Sony PEG-T600C series";case ie.pegN700c:return"Sony PEG-N700C series";case ie.pegT650c:return"Sony PEG-T650C series";case ie.pegNR70:return"Sony PEG-NR70 series";case ie.pegS500c:return"Sony PEG-S500C series";case ie.acerS11:return"Acer S1x series";default:throw new Error("bad device ID")}}function _M(n){switch(n){case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:return rc.sdcard;case ie.pegS300:case ie.pegS500c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.pegT650c:case ie.pegNR70:case ie.acerS11:return rc.memorystick;default:return rc.none}}class vM{constructor(e,t){this.queue=new Array(e).fill(0),this.reset(t)}reset(e=0){this.next=1,this.size=1,this.queue[0]=e}push(e){return this.queue[this.next]=e,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let e=0;for(let t=0;t<this.size;t++)e+=this.queue[t];return e/this.size}}class m6{constructor(e){this.start=0,this.size=0,this.buffer=new Array(e)}push(e){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=e:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}pop(){if(0===this.size)return;const e=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,e}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(e){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class w6{constructor(){this.onPwmUpdate=e=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(e):this.pendingPwmUpdates.push(e)},this.advanceEmulation=e=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||e<this.clockEmulator)return;const t=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),e-this.clockEmulator>1e3/30&&(this.clockEmulator=e-1e3/30);const o=(e-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,u=performance.now()-i;if(this.clockEmulator+=Math.max(a,u),this.speedAverage.push(a/(u>0?u:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!t)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),h=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||h!==this.uiInitialized){const _=this.powerOff;this.powerOff=f,this.uiInitialized=h,_!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}h&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(e,s)},this.newFrameEvent=new Ho.j,this.pwmUpdateEvent=new Ho.j,this.emulationStateChangeEvent=new Ho.j,this.powerOffChangeEvent=new Ho.j,this.deviceId=ie.m515,this.clockEmulator=0,this.scheduler=new gM(e=>this.onSchedule(e)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new m6(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new vM(20),this.timePerFrameAverage=new vM(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(e,t,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=ip(this.deviceId);e=this.transformSilkscreenX(e,i),t=this.transformSilkscreenY(t,i)}this.cloudpilotInstance.queuePenMove(Math.floor(e),Math.floor(t)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(e)}handleButtonUp(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(e)}handleKeyDown(e,t=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(e,t)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(e,t){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(e,t,r,o,i){let s=!1;return!!e.initializeSession(t,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=e.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&e.loadState(i),e.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),e.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=e,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=e.isPowerOff(),this.uiInitialized=e.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const e=ip(this.deviceId);this.canvas.width=this.canvasTmp.width=e.width,this.canvas.height=this.canvasTmp.height=e.height;const t=this.canvas.getContext("2d");if(!t)throw new Error("get a new browser");this.context=t;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const e=this.timePerFrameAverage.calculateAverage();return e&&1e3/e}transformSilkscreenX(e,t){return void 0===t.silkscreenOvershoot?e:(e-t.width/2)/(t.width/(t.width+2*t.silkscreenOvershoot))+t.width/2}transformSilkscreenY(e,t){return void 0===t.siklscreenShift?e:e+t.siklscreenShift}setRunning(e){e!==this.running&&(this.running=e,this.emulationStateChangeEvent.dispatch(e))}updateEmulationSpeed(e){if(e>=1&&this.emulationSpeed>=1)return;const t=Math.min(Math.max(Math.floor(10*e)/10,.1),1);this.emulationSpeed=t<=this.emulationSpeed||e-t>=.05?t:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(e){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&e-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=e),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(e)},0)),this.timePerFrameAverage.push(Math.max(0,e-this.timestampLastFrame)),this.timestampLastFrame=e),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===tc.animationFrame?new gM(e=>this.onSchedule(e)):new u6(e=>this.onSchedule(e))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const e=this.getConfiguredHotsyncName();void 0===e?this.updateConfiguredHotsyncName(this.deviceHotsyncName):e!==this.deviceHotsyncName&&e.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(e),this.deviceHotsyncName=e)}clearCanvas(){const e=this.deviceId,t=ip(e);this.context.beginPath(),this.context.rect(0,0,t.width,t.height),this.context.fillStyle=_b(e)?"white":yb[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const e=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!e.hasChanges)return;if(e.lines*e.scaleY===this.canvas.height&&e.lineWidth*e.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==e.lineWidth||this.imageData.height!==e.lines)&&(this.imageData=new ImageData(e.lineWidth,e.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(e.bpp){case 1:{const o=nc[15],i=nc[0];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=e.buffer[u+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[nc[15&o],nc[o>>>4&15],nc[o>>>8&15],nc[o>>>12&15]];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=i[e.buffer[u+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=e.firstDirtyLine;i<=e.lastDirtyLine;i++){const s=i*e.bytesPerLine;for(let a=e.margin;a<e.lineWidth+e.margin;a++)r[o++]=nc[e.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(e.buffer.buffer,e.buffer.byteOffset,e.buffer.byteLength>>>2);if(0===e.margin)r.subarray(0,e.lineWidth*(e.lastDirtyLine-e.firstDirtyLine+1)).set(o.subarray(e.firstDirtyLine*e.lineWidth,e.lineWidth*(e.lastDirtyLine+1)));else{let i=0;for(let s=e.firstDirtyLine;s<=e.lastDirtyLine;s++){let a=s*(e.bytesPerLine>>>2)+e.margin;for(let u=0;u<e.lineWidth;u++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const t=1!==e.scaleX||1!==e.scaleY;(t?this.contextTmp:this.context).putImageData(this.imageData,0,e.firstDirtyLine,0,0,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1),t&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,e.firstDirtyLine,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1,0,e.firstDirtyLine*e.scaleY,e.lineWidth*e.scaleX,(e.lastDirtyLine-e.firstDirtyLine+1)*e.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class S6{constructor(e,t){this.timeoutRemaining=e,this.cb=t,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,e)}increase(e){this.timeoutRemaining+=e}cancel(){clearTimeout(this.handle)}}const I6=new Error("transaction timeout"),wM=new Error("session does not match emulation");class za{constructor(e,t,r,o,i){var s=this;this.storageService=e,this.emulationState=t,this.errorService=r,this.storageCardContext=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,ae.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Ho.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,t){var r=this;return(0,ae.Z)(function*(){r.errorService.hasFatalError()||(r.sessionId=e.id,r.dirtyPages=void 0,r.pages=void 0,r.state=void 0,r.db=yield r.storageService.getDb(),r.cloudpilot=t,r.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,ae.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(t){if(console.error("snapshot error",t),t===wM)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),t;if(t===gb)throw e.errorService.fatalPageLockLost(),t;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),t}})()}triggerSnapshotOnce(){var e=this;return(0,ae.Z)(function*(){const t=e.db.transaction([Jl,ec,Sl,Ha,$s,op],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(t),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw wM;let r;const o=e.cloudpilot.getMountedKey();o&&(r=yield fr(t.objectStore($s).index("storageId").get(o)));const i=yield new Promise((s,a)=>{let u=!1;const f=performance.now();let h=0,_=0,k=0,x=new S6(500,()=>{u=!0;try{t.abort()}catch{}a(I6)});t.oncomplete=(0,ae.Z)(function*(){x.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),s({timestamp:Date.now(),pages:k,timeBlocking:_-h,timeTotal:performance.now()-f})}),t.onerror=()=>{x.cancel(),a(new Error(t.error?.message))};try{h=performance.now(),k=e.saveDirtyMemory(t,x),r&&(k+=e.saveDirtyStorage(r,t,x)),e.saveSession(t),_=performance.now()}catch(K){throw u||(x.cancel(),t.abort()),K}});e.snapshotEvent.dispatch(i)})()}saveDirtyMemory(e,t){let r=0;const o=e.objectStore(Jl),i=e.objectStore(ec),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let u=0;if(!this.dirtyPages||!this.pages){const h=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(h);for(let _=0;_<h;_++)this.pages[_]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let h=0;h<s.length;h++)if(this.dirtyPages[h]|=s[h],s[h]=0,0!==this.dirtyPages[h])for(let _=1;_<256&&!(r>=this.pages.length);_<<=1){if(this.dirtyPages[h]&_){const k=sM(a.subarray(256*r,256*(r+1)));"number"==typeof k?o.put(k,[this.sessionId,r]):(this.pages[r].set(k),o.put(this.pages[r],[this.sessionId,r])),t.increase(.5),u++}r++}else r+=8;return u}saveDirtyStorage(e,t,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Ir.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,u=0;const f=t.objectStore(Ha),h=(i.length>>11)+(i.length%2048>0?1:0);for(let _=0;_<o.length;_++)if(this.cardDirtyPages[_]|=o[_],o[_]=0,0!==this.cardDirtyPages[_])for(let k=1;k<256&&!(s>=h);k<<=1){if(this.cardDirtyPages[_]&k){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const x=this.cardPagePool[a++];x.set(i.subarray(2048*s,2048*(s+1))),f.put(x,[e.id,s]),r.increase(4),u++}s++}else s+=8;return 8*u}saveSession(e){const t=e.objectStore(Sl);if(this.cloudpilot.saveState()){const r=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(r.length)),this.state.set(r),t.put(this.state,this.sessionId)}else console.log("save state failed"),t.delete(this.sessionId)}}function k6(n,e){1&n&&(oe(0,"p",11),qe(1," ERROR: URL must be served via HTTPS. "),J())}function M6(n){if(!n.value)return{url:"URL empty"};let e;try{e=new(Lu())(n.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==e.protocol?{url:"mixed content"}:null}za.\u0275fac=function(e){return new(e||za)(ee(Xn),ee(Ss),ee(qs),ee(Ua),ee(dt))},za.\u0275prov=ht({token:za,factory:za.\u0275fac,providedIn:"root"});class sp{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(Lu())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const t=new(Lu())(e);return"https:"===location.protocol&&"https:"!==t.protocol}catch{}return!1}createFormGroup(){this.formGroup=new nm({url:new pi("",M6)})}}function Ym(n){const e=new Date;return`${n}_${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}-${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}${e.getSeconds().toString().padStart(2,"0")}`}function SM(n){return`${Ym(n.name)}.bin`}function EM(n,e){return`backup_${Ym(n.name)}${e?"_with_rom":""}.zip`}function vb(n,e=3){return 0===n.length?"":1===n.length?n[0]:`${n.slice(0,n.length>e?e:n.length-1).join(", ")} and ${n.length>e?n.length-e+" more files":n[n.length-1]}`}function DM(n){const{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=n;return{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}sp.\u0275fac=function(e){return new(e||sp)},sp.\u0275cmp=ut({type:sp,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Enter download URL"),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.continue()}),qe(6,"OK"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),oe(10,"ion-content",5)(11,"form",6),at("keydown",function(o){return t.formKeyDown(o)}),oe(12,"p"),qe(13," Please enter the URL from which to download: "),J(),oe(14,"ion-item",7)(15,"ion-label",8),qe(16,"URL"),J(),ct(17,"ion-input",9),J(),Jt(18,k6,2,0,"p",10),oe(19,"p"),qe(20," Note that the remote server needs to support the CORS protocol. "),J()()()),2&e&&(Xe(5),ot("disabled",t.formGroup.invalid),Xe(6),ot("formGroup",t.formGroup),Xe(7),ot("ngIf",t.isMixedContent))},dependencies:[fi,Ji,es,ts,ns,Cl,ri,rs,os,is,bl,ml,pl,hl,ua,Na],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]});class ap{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new nm({username:new pi(e?.username??""),password:new pi(e?.password??"")})}}ap.\u0275fac=function(e){return new(e||ap)(C(oi))},ap.\u0275cmp=ut({type:ap,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Authenticate"),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.saveAndContinue()}),qe(6,"OK"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",2),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),oe(10,"ion-content",4)(11,"form",5),at("keydown",function(o){return t.formKeyDown(o)}),oe(12,"p"),qe(13," The server requires authentication. "),J(),oe(14,"ion-item",6)(15,"ion-label",7),qe(16,"Username"),J(),ct(17,"ion-input",8),J(),oe(18,"ion-item",6)(19,"ion-label",7),qe(20,"Password"),J(),ct(21,"ion-input",9),J()()()),2&e&&(Xe(11),ot("formGroup",t.formGroup))},dependencies:[Ji,es,ts,ns,Cl,ri,rs,os,is,bl,ml,pl,hl,ua,Na],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]});class Uc{constructor(e,t,r){this.loadingController=e,this.kvsService=t,this.modalController=r}fetch(e,t){var r=this;return(0,ae.Z)(function*(){let o=t?.loaderDelay;const i=void 0===t?.timeout?5e3:t?.timeout,s=new(Lu())("string"==typeof e?e:e.url);let a,u,f=!1;for(;;)try{void 0!==o&&o>=0&&!a&&(a=yield r.loadingController.create({message:"Loading..."}),u=window.setTimeout(()=>a.present(),o));const h=r.kvsService.kvs.credentials[s.origin],_=new AbortController,k=window.setTimeout(()=>_.abort(),i),x=yield fetch(e,{...r.requestInit(t),signal:_.signal,headers:{...t?.headers||{},...f&&h?{Authorization:"Basic "+btoa(`${h.username}:${h.password}`)}:{}}});if(clearTimeout(k),401===x.status){if(!f&&h){f=!0;continue}if(a&&(a.dismiss(),clearTimeout(u),o=0,a=void 0),f=!0,yield r.authenticate(s.origin))continue}return x}finally{a&&(yield a.dismiss()),clearTimeout(u)}})()}requestInit(e){if(!e)return;const{timeout:t,loaderDelay:r,...o}=e;return o}authenticate(e){var t=this;return(0,ae.Z)(function*(){const r=yield new Promise(o=>t.modalController.create({component:ap,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>o(!0),onCancel:()=>o(!1)}}).then(i=>i.present()));return t.modalController.dismiss(),r})()}}Uc.\u0275fac=function(e){return new(e||Uc)(ee(ql),ee(oi),ee(ws))},Uc.\u0275prov=ht({token:Uc,factory:Uc.\u0275fac,providedIn:"root"});var A6=A(3272),P6=A.n(A6);function bb(n){const e=(n>>>13)+(n%8192>0?1:0);return(e>>>3)+(e%8>0?1:0)}const IM=[ie.palmPilot,ie.pilot,ie.iii,ie.palmVx,ie.palmV,ie.palmVII,ie.palmVIIEZ,ie.palmVIIx,ie.iiixe,ie.iiix,ie.iiie,ie.m500,ie.m505,ie.m515,ie.m520,ie.iiic,ie.m100,ie.m105,ie.m125,ie.m130,ie.i705,ie.i710,ie.handera330,ie.handera330c,ie.pegS300,ie.pegS320,ie.pegS500c,ie.pegT400,ie.pegN600c,ie.pegT600c,ie.pegN700c,ie.pegT650c,ie.pegNR70,ie.acerS11];function en(){return(n,e,t)=>{const r=t.value;return t.value=function(o,i){return this.guard(()=>r.call(this,o,i))},t}}class zt{constructor(e){this.module=e,this.fatalErrorEvent=new Ho.j,this.pwmUpdateEvent=new Ho.j,this.proxyDisconnectEvent=new Ho.j,this.amIdead=!1,this.cloudpilot=new e.Cloudpilot,this.cloudpilot.RegisterPwmHandler(e.addFunction((t,r)=>this.pwmUpdateEvent.dispatch({frequency:t,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(e.addFunction(t=>this.proxyDisconnectEvent.dispatch(e.UTF8ToString(t)),"vi"))}static create(e){return(0,ae.Z)(function*(){return new zt(yield P6()({print:t=>console.log(t),printErr:t=>console.error(t),...void 0!==e?{locateFile:()=>e}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(e){const t=this.copyIn(e),r=new this.module.RomInfo(t,e.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:IM.filter(r.Supports.bind(r))}),this.cloudpilot.Free(t),this.module.destroy(r),o}initializeSession(e,t){const r=this.copyIn(e),o=this.cloudpilot.InitializeSession(r,e.length,t);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(e){return this.cloudpilot.RunEmulation(e)}getFrame(){const e=this.cloudpilot.CopyFrame(),t=this.module.getPointer(e.GetBuffer());return{bpp:e.GetBpp(),bytesPerLine:e.GetBytesPerLine(),lines:e.GetLines(),lineWidth:e.GetLineWidth(),margin:e.GetMargin(),firstDirtyLine:e.GetFirstDirtyLine(),lastDirtyLine:e.GetLastDirtyLine(),hasChanges:e.GetHasChanges(),scaleX:e.GetScaleX(),scaleY:e.GetScaleY(),buffer:this.module.HEAPU8.subarray(t,t+e.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(e){return 1024*this.cloudpilot.MinMemoryForDevice(e)}framebufferSizeForDevice(e){return 1024*this.cloudpilot.FramebufferSizeForDevice(e)}totalMemorySizeForDevice(e){return 1024*this.cloudpilot.TotalMemoryForDevice(e)}queuePenMove(e,t){this.cloudpilot.QueuePenMove(e,t)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(e){this.cloudpilot.QueueButtonDown(e)}queueButtonUp(e){this.cloudpilot.QueueButtonUp(e)}queueKeyboardEvent(e,t){this.cloudpilot.QueueKeyboardEvent(e,t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(e){const t=this.copyIn(e),r=this.cloudpilot.InstallDb(t,e.length);return this.cloudpilot.Free(t),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetMemorySize())}getMemory32(){let e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&e)throw new Error("unaligned pointer");return e>>>=2,this.module.HEAPU32.subarray(e,e+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const e=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),t=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(e,e+((t>>>13)+(t%8192==0?0:1)))}loadMemory(e){const t=this.getMemory32();if((()=>{if(e.length!==t.length||e.length<256)return!1;for(let o=256;o>0;o--){if(e[e.length-o]!==t[t.length-o])return!1;if(4294967295===t[t.length-o])break}return!0})())return t.set(e),!0;{const o=this.copyIn32(e),i=this.cloudpilot.ImportMemoryImage(o,e.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const e=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetRomSize())}getSavestate(){const e=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(e){const t=this.copyIn(e),r=this.cloudpilot.LoadState(t,e.length);return this.cloudpilot.Free(t),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(e){this.cloudpilot.SetClockFactor(e)}setHotsyncName(e){this.cloudpilot.SetHotsyncName(e)}backup(e){var t=this;return(0,ae.Z)(function*(){const r=t.guard(()=>t.cloudpilot.StartBackup());try{return yield e(t.wrap(r))}finally{t.module.destroy(r)}})()}getArchive(e){const t=e.GetArchiveSize();return this.copyOut(e.GetArchivePtr(),t)}setClipboardIntegration(e){this.cloudpilot.SetClipboardIntegration(e)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(e){this.cloudpilot.SetNetworkRedirection(e)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(e){return this.copyIn(e)}freeBuffer(e){this.cloudpilot.Free(e)}setHotsyncNameManagement(e){this.cloudpilot.SetHotsyncNameManagement(e)}resolveBuffer(e,t){const r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+t)}withZipfileWalker(e,t){var r=this;return(0,ae.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(e),s=new r.module.ZipfileWalker(e.length,i);return r.cloudpilot.Free(i),s});try{return yield t(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(e,t){const r=this.guard(()=>{const o=this.copyIn(e),i=new this.module.ZipfileWalker(e.length,o);return this.cloudpilot.Free(o),i});try{return t(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(e){const t=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(e.rom),i=e.memory?this.copyIn(e.memory):r,s=void 0!==e.savestate?this.copyIn(e.savestate):r;let a=r,u=0;if(void 0!==e.metadata){const h=(new TextEncoder).encode(JSON.stringify(e.metadata));u=h.length,a=this.copyIn(h)}t.SetRomImage(o,e.rom.length),t.SetMemoryImage(i,e.memory?.length||0),t.SetDeviceId(e.deviceId),t.SetSavestate(s,e.savestate?.length||0),t.SetMetadata(a,u);const f=t.Serialize()?this.copyOut(t.GetSerializedImage(),t.GetSerializedImageSize()):void 0;return this.module.destroy(t),[o,i,s,a].forEach(h=>this.cloudpilot.Free(h)),f}deserializeSessionImage(e){const t=new this.module.SessionImage,r=this.copyIn(e),o=(()=>{if(!t.Deserialize(r,e.length))return;const i=this.copyOut(t.GetRomImage(),t.GetRomImageSize()),s=this.copyOut(t.GetMemoryImage(),t.GetMemoryImageSize()),a=this.copyOut(t.GetSavestate(),t.GetSavestateSize()),u=t.GetDeviceId();if(!IM.includes(u))return void console.warn(`unsupported device ${u}`);let f;const h=this.copyOut(t.GetMetadata(),t.GetMetadataSize());if(h)try{f=JSON.parse((new TextDecoder).decode(h))}catch(_){console.warn("invalid metadata",_)}return{deviceId:u,rom:i,memory:s,savestate:a,metadata:f,version:t.GetVersion()}})();return this.module.destroy(t),this.cloudpilot.Free(r),o}launchAppByName(e){return this.cloudpilot.LaunchAppByName(e)}launchAppByDbHeader(e){if(e.length<32)return!1;const t=this.copyIn(e.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(t,32);return this.cloudpilot.Free(t),r}deviceSupportsCardSize(e){return this.cloudpilot.DeviceSupportsCardSize(e)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(e,t){return this.cloudpilot.AllocateCard(e,t>>>9)}getCardData(e){const t=this.module.getPointer(this.cloudpilot.GetCardData(e));if(0!==t)return this.module.HEAPU32.subarray(t>>>2,t+this.cloudpilot.GetCardSize(e)>>2)}getCardDirtyPages(e){const t=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(e));if(0===t)return;const r=bb(this.cloudpilot.GetCardSize(e));return this.module.HEAPU8.subarray(t,t+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(e){return this.cloudpilot.MountCard(e)}removeCard(e){return this.cloudpilot.RemoveCard(e)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(e){return this.cloudpilot.GetSupportLevel(e)}loadSkin(e){const t=new this.module.SkinLoader(e);try{const r=this.module.getPointer(t.GetData());return 0===r?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(r,r+t.GetSize()))}finally{this.module.destroy(t)}}copyIn(e){const t=this.cloudpilot.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}copyIn32(e){const t=this.cloudpilot.Malloc(e.length<<2),r=this.module.getPointer(t);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+e.length).set(e),t}copyOut(e,t){const r=this.module.getPointer(e);return r>0&&t>0?this.module.HEAPU8.subarray(r,r+t).slice():void 0}wrap(e){return new Proxy(e,{get:(t,r)=>{const o=t[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(t,i))}})}guard(e){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return e()}catch(t){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(t instanceof Error?t:new Error("unknown error")),t}}}U([en()],zt.prototype,"getRomInfo",null),U([en()],zt.prototype,"initializeSession",null),U([en()],zt.prototype,"cyclesPerSecond",null),U([en()],zt.prototype,"runEmulation",null),U([en()],zt.prototype,"getFrame",null),U([en()],zt.prototype,"isScreenDirty",null),U([en()],zt.prototype,"markScreenClean",null),U([en()],zt.prototype,"minRamForDevice",null),U([en()],zt.prototype,"framebufferSizeForDevice",null),U([en()],zt.prototype,"totalMemorySizeForDevice",null),U([en()],zt.prototype,"queuePenMove",null),U([en()],zt.prototype,"queuePenUp",null),U([en()],zt.prototype,"queueButtonDown",null),U([en()],zt.prototype,"queueButtonUp",null),U([en()],zt.prototype,"queueKeyboardEvent",null),U([en()],zt.prototype,"isPowerOff",null),U([en()],zt.prototype,"isUiInitialized",null),U([en()],zt.prototype,"isSetupComplete",null),U([en()],zt.prototype,"getOSVersion",null),U([en()],zt.prototype,"reset",null),U([en()],zt.prototype,"resetNoExtensions",null),U([en()],zt.prototype,"resetHard",null),U([en()],zt.prototype,"installDb",null),U([en()],zt.prototype,"getPalette2bitMapping",null),U([en()],zt.prototype,"getMemory",null),U([en()],zt.prototype,"getMemory32",null),U([en()],zt.prototype,"getDirtyPages",null),U([en()],zt.prototype,"loadMemory",null),U([en()],zt.prototype,"getRomImage",null),U([en()],zt.prototype,"getSavestate",null),U([en()],zt.prototype,"saveState",null),U([en()],zt.prototype,"loadState",null),U([en()],zt.prototype,"getHotsyncName",null),U([en()],zt.prototype,"setClockFactor",null),U([en()],zt.prototype,"setHotsyncName",null),U([en()],zt.prototype,"setClipboardIntegration",null),U([en()],zt.prototype,"getClipboardIntegration",null),U([en()],zt.prototype,"isSuspended",null),U([en()],zt.prototype,"getSuspendKind",null),U([en()],zt.prototype,"cancelSuspend",null),U([en()],zt.prototype,"getSuspendContextClipboardCopy",null),U([en()],zt.prototype,"getSuspendContextClipboardPaste",null),U([en()],zt.prototype,"setNetworkRedirection",null),U([en()],zt.prototype,"getNetworkRedirection",null),U([en()],zt.prototype,"getSuspendContextNetworkConnect",null),U([en()],zt.prototype,"getSuspendContextNetworkRpc",null),U([en()],zt.prototype,"copyBuffer",null),U([en()],zt.prototype,"freeBuffer",null),U([en()],zt.prototype,"setHotsyncNameManagement",null),U([en()],zt.prototype,"resolveBuffer",null),U([en()],zt.prototype,"serializeSessionImage",null),U([en()],zt.prototype,"deserializeSessionImage",null),U([en()],zt.prototype,"launchAppByName",null),U([en()],zt.prototype,"launchAppByDbHeader",null),U([en()],zt.prototype,"deviceSupportsCardSize",null),U([en()],zt.prototype,"clearExternalStorage",null),U([en()],zt.prototype,"allocateCard",null),U([en()],zt.prototype,"getCardData",null),U([en()],zt.prototype,"getCardDirtyPages",null),U([en()],zt.prototype,"getMountedKey",null),U([en()],zt.prototype,"mountCard",null),U([en()],zt.prototype,"removeCard",null),U([en()],zt.prototype,"remountCards",null),U([en()],zt.prototype,"getCardSupportLevel",null),U([en()],zt.prototype,"loadSkin",null);class Vi{constructor(){this.cloudpilot=zt.create()}}Vi.\u0275fac=function(e){return new(e||Vi)},Vi.\u0275prov=ht({token:Vi,factory:Vi.\u0275fac,providedIn:"root"});class Bs{constructor(e,t,r,o,i,s,a,u){this.storageService=e,this.loadingController=t,this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a,this.cloudpilotService=u}openFile(e){this.openFilesImpl(!1,t=>{t.length>0&&e(t[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,t){"drop"!==e.type||!e.dataTransfer?.files||t(Array.from(e.dataTransfer.files).map(this.readFile.bind(this)))}saveSession(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create({message:"Exporting..."});yield r.present();try{const[o,i,s]=yield t.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);const a={deviceId:e.device,metadata:DM(e),rom:o,memory:i,savestate:s},u=(yield t.cloudpilotService.cloudpilot).serializeSessionImage(a);u?t.saveFile(SM(e),u):(yield r.dismiss(),t.alertService.errorMessage("Failed to save session."))}finally{r.dismiss()}})()}emergencySaveSession(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});o.style.zIndex="10000000",yield o.present();try{const i=t.getRomImage().slice(),s=t.getMemory().slice(),a=t.saveState()?t.getSavestate().slice():void 0;if(t.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const f={deviceId:e.device,metadata:DM(e),rom:i,memory:s,savestate:a},h=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(f);h&&r.saveFile(SM(e),h)}finally{o.dismiss()}})()}saveFile(e,t){const r=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=e,i.click()}openUrl(e,t){var r=this;return(0,ae.Z)(function*(){let o;try{o=new(Lu())(e)}catch{return void(yield r.alertService.errorMessage(`Invalid URL: ${e}`))}try{const i=yield r.fetchService.fetch(e);if(!i.ok)throw new Error("request failed");const s=i.arrayBuffer().then(a=>new Uint8Array(a));return void t({name:o.pathname.replace(/.*\//,""),getContent:()=>s})}catch{yield r.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,t){var r=this;return(0,ae.Z)(function*(){r.kvsService.kvs.enableRemoteInstall?(yield r.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>r.openFilesLocal(e,t)},{text:"File on remote server",handler:()=>r.queryAndOpenFileRemote(t)},{text:"Cancel"}]})).present():r.openFilesLocal(e,t)})()}queryAndOpenFileRemote(e){var t=this;return(0,ae.Z)(function*(){let r;try{r=yield new Promise((o,i)=>t.modalController.create({component:sp,backdropDismiss:!1,componentProps:{onContinue:o,onCancel:i}}).then(s=>s.present()))}catch{return}finally{t.modalController.dismiss()}yield t.openUrl(r,o=>e([o]))})()}openFilesLocal(e,t){var r=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,ae.Z)(function*(i){const s=i.target;s?.files&&t(Array.from(s.files).map(r.readFile.bind(r)))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){let t,r=function(){var o=(0,ae.Z)(function*(){return t||(t=new Promise((i,s)=>{const a=new FileReader;a.onload=()=>i(new Uint8Array(a.result)),a.onerror=()=>{console.warn(a.error),s(a.error)},a.readAsArrayBuffer(e)}),t)});return function(){return o.apply(this,arguments)}}();return{name:e.name,getContent:r}}}Bs.\u0275fac=function(e){return new(e||Bs)(ee(Xn),ee(ql),ee(tp),ee(oi),ee(ws),ee(Kr),ee(Uc),ee(Vi))},Bs.\u0275prov=ht({token:Bs,factory:Bs.\u0275fac,providedIn:"root"});class oc{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new Ho.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}oc.\u0275fac=function(e){return new(e||oc)(ee(dt))},oc.\u0275prov=ht({token:oc,factory:oc.\u0275fac,providedIn:"root"});const Km=new Error("permission denied");class Hc{constructor(e,t){this.alertController=e,this.alertService=t,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var t=this;return(0,ae.Z)(function*(){const r=e.getSuspendContextClipboardCopy(),o=r.GetClipboardContent();try{return yield t.tryCopyDirect(o),void r.Resume()}catch(i){if(i===Km)return r.Cancel(),t.msgPermissionDenied()}try{yield t.tryCopyWithInteraction(o),r.Resume()}catch{yield t.msgCopyFailed(),r.Cancel()}})()}tryCopyDirect(e){var t=this;return(0,ae.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(r){throw(yield t.isPermissionDenied("clipboard-write"))?Km:r}})()}tryCopyWithInteraction(e){var t=this;return new Promise(function(){var r=(0,ae.Z)(function*(o,i){try{const s=yield t.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(a=(0,ae.Z)(function*(){s.dismiss();try{yield navigator.clipboard.writeText(e),o(!0)}catch(u){i(u)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(!1)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePaste(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.tryPaste();e.getSuspendContextClipboardPaste().Resume(r??""),void 0!==r&&(t.clipboardContent=r,t.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,ae.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(t){if(t===Km)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,ae.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(t){throw(yield e.isPermissionDenied("clipboard-read"))?Km:t}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var t=(0,ae.Z)(function*(r,o){try{const i=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,ae.Z)(function*(){i.dismiss();try{r(yield navigator.clipboard.readText())}catch(a){o(a)}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),r(void 0)}}]});i.present()}catch(i){o(i)}var s});return function(r,o){return t.apply(this,arguments)}}())}handlePasteSafari(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(o=(0,ae.Z)(function*(){try{t.clipboardContent=yield navigator.clipboard.readText(),t.lastClipboardReadAt=performance.now(),r.dismiss(),e.Resume(t.clipboardContent)}catch{r.dismiss(),yield t.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return o.apply(this,arguments)})},{text:"Cancel",handler:()=>{r.dismiss(),e.Resume("")}}]});var o;yield r.present()})()}isPermissionDenied(e){return(0,ae.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}Hc.\u0275fac=function(e){return new(e||Hc)(ee($c),ee(Kr))},Hc.\u0275prov=ht({token:Hc,factory:Hc.\u0275fac,providedIn:"root"});const F6="https:"===window.location.protocol?8667:8666,O6=/^[\da-z\-\.]+$/i,N6=/^[\da-z\-\.]+:\d+$/i;function Cb(n){if(!n)return;const e=window.location.protocol;if(n.match(O6))return`${e}//${n}:${F6}`;if(n.match(N6))return`${e}//${n}`;try{const t=new URL(n);if("https:"===t.protocol||"http:"===t.protocol)return t.toString().replace(/\/+$/,"")}catch{}}function L6(n){return void 0!==Cb(n.value)?null:{proxyAddress:"invalid"}}class ic{constructor(e,t,r,o){var i=this;this.kvsService=e,this.alertService=t,this.ngZone=r,this.fetchService=o,this.handleConnect=()=>this.mutex.runExclusive((0,ae.Z)(function*(){i.socket&&i.disconnect(i.socket);const s=Cb(i.kvsService.kvs.proxyServer);if(!s)return yield i.alertService.errorMessage(`Invalid proxy address: ${i.kvsService.kvs.proxyServer}`),void i.cloudpilot.getSuspendContextNetworkConnect().Cancel();const a=yield i.handshake(void 0,500);switch(a.status){case"failed":return void i.onSocketError(void 0);case"version_mismatch":return yield i.alertService.proxyVersionMismatchError(),void i.cancelSuspend();case"success":break;default:throw new Error("unreachable")}i.socket=new WebSocket(`${s.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(a.token)}`),i.socket.binaryType="arraybuffer",i.bindListeners(i.socket),i.ngZone.run(()=>i.connectTimeoutHandle=setTimeout(i.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=mb(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=s=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(s.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const a=this.cloudpilot.copyBuffer(new Uint8Array(s.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(a,s.data.byteLength),this.cloudpilot.freeBuffer(a),this.resumeEvent.dispatch()},this.onSocketError=s=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",s)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=s=>{s!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Ho.j,this.mutex=new ja,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,t=-1){var r=this;return(0,ae.Z)(function*(){const o=Cb(e);if(!o)return{status:"failed"};try{const i=yield r.fetchService.fetch(`${o}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!i.ok)return{status:"failed"};const s=yield i.json();return s.version<3||s.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:s.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}ic.\u0275fac=function(e){return new(e||ic)(ee(oi),ee(Kr),ee(dt),ee(Uc))},ic.\u0275prov=ht({token:ic,factory:ic.\u0275fac,providedIn:"root"});class zc{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(t=>e.queueButtonUp(t))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[t,r]of this.buttons)r.timer+=1e3*e,r.timer>250&&(this.cloudpilot.queueButtonUp(t),this.buttons.delete(t))}}zc.\u0275fac=function(e){return new(e||zc)},zc.\u0275prov=ht({token:zc,factory:zc.\u0275fac,providedIn:"root"});class Gc{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}Gc.\u0275fac=function(e){return new(e||Gc)},Gc.\u0275prov=ht({token:Gc,factory:Gc.\u0275fac,providedIn:"root"});var j6=A(9084),MM=A.n(j6);function wb(){return(wb=(0,ae.Z)(function*(n){const e=yield Sb.create();if(e.mkfs(n))return e.getImage()})).apply(this,arguments)}const xM="fstools_web.wasm",TM=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(xM)):fetch(xM).then(n=>n.arrayBuffer()).then(n=>WebAssembly.compile(n));class Sb{constructor(e){this.module=e,this.nativeContext=new e.MkfsContext}static create(){return(0,ae.Z)(function*(){return new Sb(yield MM()({print:e=>console.log(e),printErr:e=>console.error(e),instantiateWasm:(e=(0,ae.Z)(function*(t,r){return r(yield WebAssembly.instantiate(yield TM,t))}),function(r,o){return e.apply(this,arguments)})}));var e})()}mkfs(e){return this.nativeContext.Mkfs(e,"card")}getImage(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());if(0!==e&&0!==t)return this.module.HEAPU32.subarray(t>>>2,t+e>>>2)}}class Xm{constructor(e,t){this.module=e,this.result=0,this.nativeContext=new e.FsckContext(t>>>9)}static create(e){return(0,ae.Z)(function*(){const t=yield MM()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,ae.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield TM,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new Xm(t,e)})()}getImageData(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(t>>>2,t+e>>2)}getDirtyPages(){const e=this.module.getPointer(this.nativeContext.GetDirtyPages()),t=bb(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(e,e+t)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(e){return console.warn("fsck failed",e),this.result=4,this.result}}getResult(){return this.result}}var kr=(()=>{return(n=kr||(kr={})).dirty="dirty",n.clean="clean",n.unformatted="unformatted",n.unfixable="unfixable",kr;var n})(),Ar=(()=>{return(n=Ar||(Ar={})).portrait="portrait",n.landscape90="landscape90",n.landscape270="landscape270",n.portrait180="portrait180",Ar;var n})();class Ga{constructor(e,t,r){this.cloudpilotService=e,this.storageService=t,this.loadingController=r,this.sessions=[],this.loading=!0,this.updateMutex=new ja,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,t,r={}){var o=this;return(0,ae.Z)(function*(){const i={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Ar.portrait,...r,id:-1,name:t,device:e.deviceId,ram:(yield o.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},s=yield o.loadingController.create({message:"Importing..."});yield s.present();const a=yield o.storageService.addSession(i,e.rom,e.memory,e.savestate);return yield o.updateSessionsFromStorage(),yield s.dismiss(),a})()}addSessionFromRom(e,t,r,o={}){var i=this;return(0,ae.Z)(function*(){const s={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Ar.portrait,...o,id:-1,name:t,device:r,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(r)/1024/1024,rom:""},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const u=yield i.storageService.addSession(s,e);return yield i.updateSessionsFromStorage(),yield a.dismiss(),u})()}getSessions(){return this.sessions}deleteSession(e){var t=this;return(0,ae.Z)(function*(){yield t.storageService.deleteSession(e)})()}updateSession(e){var t=this;return(0,ae.Z)(function*(){yield t.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,ae.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,ae.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}}Ga.\u0275fac=function(e){return new(e||Ga)(ee(Vi),ee(Xn),ee(ql))},Ga.\u0275prov=ht({token:Ga,factory:Ga.\u0275fac,providedIn:"root"});var H6=A(7971),z6=A.n(H6),Ys=(()=>{return(n=Ys||(Ys={}))[n.success=0]="success",n[n.zipfileError=1]="zipfileError",n[n.ioError=2]="ioError",n[n.cardFull=3]="cardFull",Ys;var n})(),El=(()=>{return(n=El||(El={}))[n.success=0]="success",n[n.ioError=1]="ioError",n[n.cardFull=2]="cardFull",El;var n})();function G6(n){return{readonly:0!=(1&n),hidden:0!=(2&n),system:0!=(4&n)}}function AM(n,e){const t=n.GetName(),r=n.GetModifiedTS();return{path:e,name:t,size:n.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:n.IsDirectory(),attributes:G6(n.GetAttributes())}}class Eb{constructor(e){this.module=e,this.vfsNative=new e.Vfs}static create(){return(0,ae.Z)(function*(){return new Eb(yield z6()({print:e=>console.log(e),printErr:e=>console.error(e)}))})()}allocateImage(e){this.vfsNative.AllocateImage(e>>>9)}mountImage(e){return this.vfsNative.MountImage(e)}unmountImage(e){this.vfsNative.UnmountImage(e)}getPendingImage(){const e=this.module.getPointer(this.vfsNative.GetPendingImage()),t=this.vfsNative.GetPendingImageSize();if(0!==e&&0!==t)return this.module.HEAPU32.subarray(e>>>2,e+t>>>2)}getImageInSlot(e){const t=this.module.getPointer(this.vfsNative.GetImage(e)),r=this.vfsNative.GetSize(e);if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getDirtyPagesForSlot(e){const t=this.module.getPointer(this.vfsNative.GetDirtyPages(e));if(0===t)return;const r=bb(this.vfsNative.GetSize(e));return this.module.HEAPU8.subarray(t,t+r)}readdir(e){const t=new this.module.ReaddirContext(e);try{const r=[];for(;0===t.GetStatus();){const o=t.GetEntry();r.push(AM(o,`${e.replace(/\/*$/,"")}/${o.GetName()}`)),t.Next()}if(2===t.GetStatus()){console.warn(`readdir failed: ${t.GetErrorDescription()}`);const o=t.GetError();return{error:0===o?2:o,reason:t.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(t)}}rename(e,t){return this.vfsNative.RenameFile(e,t)}chmod(e,t){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(t.hidden,2),i(t.readonly,1),i(t.system,4),this.vfsNative.ChmodFile(e,r,o)}stat(e){const t=this.vfsNative.StatFile(e);return 0!==t?{result:t,entry:void 0}:{entry:AM(this.vfsNative.GetEntry(),e),result:t}}bytesFree(e){return this.vfsNative.BytesFree(e)}bytesTotal(e){return this.vfsNative.BytesTotal(e)}readFile(e){if(!this.vfsNative.ReadFile(e))return;const t=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(t,t+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(e){return this.vfsNative.UnlinkFile(e)}mkdir(e){return this.vfsNative.Mkdir(e)}switchSlot(e){this.vfsNative.SwitchSlot(e)}createZipArchive({files:e,directories:t,prefix:r}){var o=this;return(0,ae.Z)(function*(){const i=new o.module.CreateZipContext(r,25),s=[];try{for(e&&e.forEach(h=>i.AddFile(h)),t&&t.forEach(h=>i.AddDirectory(h));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(h=>setTimeout(h,0)))}let a;const u=o.module.getPointer(i.GetZipContent()),f=i.GetZipSize();return 0!==u&&0!==f&&(a=o.module.HEAPU8.subarray(u,u+f).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(e){var t=this;return(0,ae.Z)(function*(){const r=new t.module.DeleteRecursiveContext(25);try{for(e.forEach(o=>r.AddFile(o));1===r.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{t.module.destroy(r)}})()}writeFile(e,t){const r=this.copyIn(t);try{return this.vfsNative.WriteFile(e,t.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=o.copyIn(t),s=new o.module.UnzipContext(25,e,i,t.length),a=u=>({result:u,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),s.GetState()){case 1:return a(Ys.success);case-3:return a(Ys.cardFull);case-1:return a(Ys.ioError);case-2:return a(Ys.zipfileError);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(e,t,r,o,i){var s=this;return(0,ae.Z)(function*(){const a=new s.module.PasteContext(25,e,t);r.forEach(u=>a.AddFile(u)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),a.GetState()){case 1:return El.success;case-2:return El.cardFull;case-1:return El.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(e){const t=this.vfsNative.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}}var W6=A(5541),PM=A.n(W6);function RM(n){return 0===n.length?n:n[0].toUpperCase()+n.substring(1)}class Ks{constructor(e,t,r,o,i,s){this.storageService=e,this.storageCardContext=t,this.fileService=r,this.loadingController=o,this.alertController=i,this.alertService=s,this.onReleaseCard=new Ho.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=Eb.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(a=>this.vfsInstance=a)}setStorageCardService(e){this.storageCardService=e,e.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),e.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}isEntryInClipboard(e){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(e.path)?this.clipboard.operation:void 0}activateCard(e){var t=this;return(0,ae.Z)(function*(){if(t.primaryCard?.id!==e){if(t.secondaryCard?.id===e)return t.primarySlot=t.secondarySlot,void(yield t.activatePrimaryCard());throw new Error(`card ${e} not mounted in VFS`)}})()}mountCardUnchecked(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);if(o.primaryCard?.id===e||o.secondaryCard?.id===e)throw new Error(`card ${e} already mounted in VFS`);o.storageCardContext.claim(e,Ir.vfs),o.primaryCard&&o.primaryCard.storageId===o.clipboard?.storageId&&(o.primarySlot=o.secondarySlot),o.primaryCard&&(yield o.releaseCard(o.primaryCard.id));const s=yield o.vfs;s.allocateImage(i.size);const a=s.getPendingImage();if(!a)throw new Error("failed to allocate image");return r?a.set(r):yield o.storageService.loadCardData(e,a,Ir.vfs),s.mountImage(o.primarySlot)?(o.primaryCard=i,yield o.activatePrimaryCard(),!0):(o.storageCardContext.release(e,Ir.vfs),!1)})()}releaseCard(e){var t=this;return(0,ae.Z)(function*(){let r;if(t.primaryCard?.id===e)r=t.primarySlot;else{if(t.secondaryCard?.id!==e)return;r=t.secondarySlot}(yield t.vfs).unmountImage(r),t.mountedCards[r]=void 0,t.storageCardContext.release(e,Ir.vfs),t.onReleaseCard.dispatch(e)})()}readdir(e){if(!this.vfsInstance)return[];const t=this.normalizePath(e);if(!this.directoryCache.has(t)){const r=this.vfsInstance.readdir(e);this.directoryCache.set(t,0===r.error?r.entries:[])}return this.directoryCache.get(t)||[]}updateFileEntry(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.vfs;if(e=r.normalizePath(e),!r.isFilenameValid(t.name))return void(yield r.error("The provided file name is invalid."));const{result:i,entry:s}=o.stat(e);if(0===i)if(void 0===t.attributes||PM()(t.attributes,s.attributes)||0===(r.directoryCache.delete(r.dirname(e)),o.chmod(e,t.attributes))){if(void 0!==t.name&&t.name!==s.name)switch(r.directoryCache.delete(r.dirname(e)),o.rename(e,`${r.dirname(e)}/${t.name}`)){case 0:break;case 6:return void(yield r.error("The provided file name is invalid."));default:return void(yield r.fatalError("Unable to write the updated file attributes."))}yield r.sync()}else yield r.fatalError("Unable to write the updated file attributes.");else yield r.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const i=(yield t.vfs).readFile(e.path);if(!i)return void(yield t.alertService.errorMessage(`Could not read file '${e.name}'.`));t.fileService.saveFile(e.name,i)}finally{yield r.dismiss()}})()}archiveFiles(e,t){var r=this;return(0,ae.Z)(function*(){if(0===e.length||!r.primaryCard)return;const o=yield r.loadingController.create({message:"Creating archive..."});yield o.present();try{const i=yield r.vfs,s=e.filter(_=>_.isDirectory).map(_=>r.normalizePath(_.path)),a=e.filter(_=>!_.isDirectory).map(_=>r.normalizePath(_.path)),u=1===e.length?`${e[0].name}.zip`:function x6(n){return`files_${Ym(n.name)}.zip`}(r.primaryCard),{archive:f,failedItems:h}=yield i.createZipArchive({directories:s,files:a,prefix:t});yield o.dismiss(),h.length>0&&(h.length<=3?yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${h.join("<br>")}`):yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${h.slice(0,3).join("<br>")}<br><br> and ${h.length-3} other file`)),f&&r.fileService.saveFile(u,f)}finally{yield o.dismiss()}})()}unlinkEntry(e){var t=this;return(0,ae.Z)(function*(){if(e.isDirectory)return;const o=(yield t.vfs).unlinkFile(e.path);if(0!==o)return console.error(`failed to unlink ${e.path}: ${o}`),void(yield t.error(`Failed to delete: ${e.path}`));yield t.updateBytesFree(),yield t.sync(),t.directoryCache.delete(t.dirname(e.path))})()}deleteRecursive(e){var t=this;return(0,ae.Z)(function*(){const r=e.map(i=>t.normalizePath(i.path)),o=yield t.loadingController.create({message:"Deleting..."});yield o.present();try{const s=yield(yield t.vfs).deleteRecursive(r);if(!s.success)return yield o.dismiss(),void(yield t.fatalError(`Failed to delete ${s.failingItem}`));yield t.updateBytesFree(),yield t.sync(),e.map(a=>a.path).forEach(a=>t.directoryCache.delete(t.dirname(a)))}finally{yield o.dismiss()}})()}mkdir(e){var t=this;return(0,ae.Z)(function*(){switch((yield t.vfs).mkdir(e)){case 6:return void(yield t.alertService.errorMessage("Invalid name."));case 7:return void(yield t.alertService.errorMessage("No space left on card."));case 8:return void(yield t.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield t.error(`Failed to create ${e}.`))}yield t.updateBytesFree(),yield t.sync(),t.directoryCache.delete(t.dirname(e))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const e=this.storageCardService.getAllCards().find(t=>t.storageId===this.clipboard?.storageId);return!!e&&(e.status===kr.clean||e.status===kr.dirty&&!!e.dontFsckAutomatically)}invalidateClipboardForCard(e){this.clipboard?.storageId===e.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(e,t,r){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:r,prefix:this.normalizePath(e),storageId:this.primaryCard.storageId,items:t.map(o=>({name:o,path:this.normalizePath(`${e}/${o}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(o=>o.path).forEach(o=>this.clipboardSet.add(o)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.loadingController.create();yield o.present();try{const{entriesTotal:i,entriesSuccess:s,result:a}=yield r.unpackArchiveUnchecked(e,t);let u,f;switch(yield o.dismiss(),a){case Ys.success:u="The archive was extracted successfully, but some entries were skipped.",f="Skipped entries";break;case Ys.ioError:return void(yield r.fatalError("There was an error writing to the card."));case Ys.cardFull:u="No space left on card.",f="No space left";break;case Ys.zipfileError:u="There was an error reading from the archive.",f="Error reading archive";break;default:throw new Error("unreachable")}const h=i-s,_=k=>k>1?`${k} entries`:"one entry";i>0&&h===i&&(yield r.alertService.message(f,`\n                    ${u}\n                    <br><br>\n                    The archive contains ${_(i)}, but none could be unpacked.\n                `)),h>0&&s>0&&(yield r.alertService.message(f,`\n                    ${u}\n                    <br><br>\n                    ${RM(_(s))} unpacked succesfully, but ${_(h)} could not be unpacked.\n                `))}finally{o.dismiss()}})()}paste(e){var t=this;return(0,ae.Z)(function*(){if(!t.isClipboardPopulated())return;const r=yield t.loadingController.create();yield r.present();try{const o=yield t.pasteUnchecked(e);switch(yield r.dismiss(),o){case El.cardFull:yield t.alertService.message("No space left","No space left on card.");break;case El.ioError:return void(yield t.fatalError("There was an error copying files to the card."))}}catch(o){yield t.alertService.errorMessage(o?.message||"Unknown error.")}finally{r.dismiss()}})()}addFiles(e,t){var r=this;return(0,ae.Z)(function*(){if(0===e.length)return;const o=yield r.loadingController.create();yield o.present();try{const i=yield r.addFilesUnchecked(e,t);yield o.dismiss();const s=a=>a>1?`${a} entries`:"one file";i.length===e.length?yield r.alertService.message("Skipped files","No files were added to the card."):0!==i.length&&(yield r.alertService.message("Skipped files",`Successfully added ${s(e.length-i.length)} to card. ${RM(s(i.length))} could not be added.\n                `))}finally{o.dismiss()}})()}addFilesUnchecked(e,t){var r=this;return(0,ae.Z)(function*(){const o=r.readdir(t),i=[],s=yield r.vfs;let a=!1,u=!1,f=!1,h=!1;e:for(let _=0;_<e.length;_++){const k=e[_],x=o.find(Se=>Se.name===k.name);if(x&&x.isDirectory){if(!f){const{overwrite:ze,rememberChoice:Ye}=yield r.overwriteFileDialog(k.name,"directory");h=ze,f=Ye}let Se=!0;if(h&&(Se=!(yield s.deleteRecursive([r.normalizePath(`${t}/${k.name}`)])).success),Se){i.push(k.name);continue}}if(x&&!x.isDirectory){if(!a){const{overwrite:Se,rememberChoice:ze}=yield r.overwriteFileDialog(k.name,"file");u=Se,a=ze}if(!u){i.push(k.name);continue}}let K;try{K=yield k.getContent()}catch(Se){console.warn(Se),i.push(k.name),yield r.alertService.errorMessage(`Unable to open ${k.name}`);continue}switch(s.writeFile(r.normalizePath(`${t}/${k.name}`),K)){case 3:yield r.alertService.errorMessage("Card full."),i.push(...e.slice(_).map(Se=>Se.name));break e;case 4:throw yield r.fatalError("Unable to write file."),new Error;case 0:break;default:i.push(k.name)}}return yield r.updateBytesFree(),yield r.sync(),r.directoryCache.delete(r.normalizePath(t)),i})()}collisionHandlers(){var e=this;let t=!1,r=!1,o=!1,i=!1;return{onFileCollision:(s=(0,ae.Z)(function*(a){if(r)return t;const{overwrite:u,rememberChoice:f}=yield e.overwriteFileDialog(a,"file");return t=u,r=f,t}),function(u){return s.apply(this,arguments)}),onDirectoryCollision:function(){var s=(0,ae.Z)(function*(a){if(i)return o;const{overwrite:u,rememberChoice:f}=yield e.overwriteFileDialog(a,"directory");return o=u,i=f,o});return function(u){return s.apply(this,arguments)}}()};var s}unpackArchiveUnchecked(e,t){var r=this;return(0,ae.Z)(function*(){const i=yield(yield r.vfs).unzipArchive(r.normalizePath(t),e,{...r.collisionHandlers(),onInvalidEntry:(s=(0,ae.Z)(function*(a){yield r.alertService.message("Invalid entry",`Could not extract ${a}`,{},"Continue")}),function(u){return s.apply(this,arguments)})});var s;return i.result!==Ys.ioError&&(yield r.updateBytesFree(),yield r.sync(),r.directoryCache.clear()),i})()}pasteUnchecked(e){var t=this;return(0,ae.Z)(function*(){if(!t.clipboard||!t.primaryCard)throw new Error("invalid state for paste");const r=yield t.mountClipboard(),i=yield(yield t.vfs).paste(`${t.primarySlot}:${t.normalizePath(e)}`,`${r}:${t.normalizePath(t.clipboard.prefix)}`,t.clipboard.items.map(s=>s.name),t.clipboard.operation,t.collisionHandlers());return i===El.ioError||(yield t.updateBytesFree(),yield t.sync(t.primarySlot),r!==t.primarySlot&&(yield t.sync(r)),t.directoryCache.clear(),"cut"===t.clipboard.operation&&(t.clipboard=void 0,t.clipboardSet.clear())),i})()}mountClipboard(){var e=this;return(0,ae.Z)(function*(){if(!e.clipboard||!e.primaryCard||!e.storageCardService)throw new Error("invalid state for paste");if(e.clipboard.storageId===e.primaryCard.storageId)return e.primarySlot;if(e.secondaryCard&&e.clipboard.storageId===e.secondaryCard.storageId)return e.secondarySlot;e.secondaryCard&&(yield e.releaseCard(e.secondaryCard.id));const t=e.storageCardService.getAllCards().find(i=>i.storageId===e.clipboard?.storageId);if(!t)throw new Error("invalid storage card in clipboard");const r=yield e.vfs;r.allocateImage(t.size);const o=r.getPendingImage();if(!o)throw new Error("failed to allocate image");if(e.storageCardContext.claim(t.id,Ir.vfs),yield e.storageService.loadCardData(t.id,o,Ir.vfs),!r.mountImage(e.secondarySlot))throw e.storageCardContext.release(t.id,Ir.vfs),new Error("unable to mount card");return e.secondaryCard=t,e.secondarySlot})()}overwriteFileDialog(e,t){var r=this;return(0,ae.Z)(function*(){let o=!1,i=!1;const s=yield r.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:"file"===t?`Do you want to overwrite the existing file ${e}?`:`\n                    Do you want to overwrite the existing directory ${e}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `,buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>o=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:a=>i=!0===a.checked,cssClass:"alert-checkbox"}]});return yield s.present(),yield s.onDidDismiss(),{overwrite:o,rememberChoice:i}})()}error(e){var t=this;return(0,ae.Z)(function*(){yield t.alertService.errorMessage(e)})()}fatalError(e){var t=this;return(0,ae.Z)(function*(){t.primaryCard&&(yield t.storageService.updateStorageCardPartial(t.primaryCard.id,{status:kr.dirty}),yield t.releaseCard(t.primaryCard.id),t.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(e=this.primarySlot){var t=this;return(0,ae.Z)(function*(){const r=t.mountedCards[e];if(!r)return;const o=yield t.vfs,i=o.getImageInSlot(e),s=o.getDirtyPagesForSlot(e);!i||!s||(yield t.storageService.updateCardData(r.id,i,s,Ir.vfs),s.fill(0))})()}activatePrimaryCard(){var e=this;return(0,ae.Z)(function*(){const t=yield e.vfs;t.switchSlot(e.primarySlot),e.bytesFree=t.bytesFree(e.primarySlot),e.bytesTotal=t.bytesTotal(e.primarySlot),e.directoryCache.clear()})()}updateBytesFree(){var e=this;return(0,ae.Z)(function*(){e.bytesFree=(yield e.vfs).bytesFree(e.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(e){this.mountedCards[this.primarySlot]=e}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(e){this.mountedCards[this.secondarySlot]=e}}Ks.\u0275fac=function(e){return new(e||Ks)(ee(Xn),ee(Ua),ee(Bs),ee(ql),ee($c),ee(Kr))},Ks.\u0275prov=ht({token:Ks,factory:Ks.\u0275fac,providedIn:"root"});var Do=(()=>{return(n=Do||(Do={}))[n.mb4=0]="mb4",n[n.mb8=1]="mb8",n[n.mb16=2]="mb16",n[n.mb32=3]="mb32",n[n.mb64=4]="mb64",n[n.mb128=5]="mb128",Do;var n})();function FM(){return mb().replace(/-/g,"")}class ha{constructor(e,t,r,o,i,s,a,u,f,h,_){this.sessionService=e,this.storageService=t,this.emulationStateService=r,this.cloudpilotService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.errorService=u,this.fileService=f,this.vfsService=h,this.storageCardContext=_,this.mountCardEvent=new Ho.j,this.deleteCardEvent=new Ho.j,this.loading=!0,this.cards=[],this.updateMutex=new ja,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),t.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=yield o.loadingController.create({message:"Formatting..."});try{yield i.present();const s=yield function U6(n){return wb.apply(this,arguments)}(function Z6(n){switch(n){case Do.mb4:return 4;case Do.mb8:return 8;case Do.mb16:return 16;case Do.mb32:return 32;case Do.mb64:return 64;case Do.mb128:return 128;default:throw new Error(`bad card size ${n}`)}}(t));if(!s)throw new Error("failed to create image");const a={storageId:FM(),name:e,size:4*s.length,status:kr.clean,dontFsckAutomatically:r};return yield o.storageService.importStorageCard(a,s)}finally{i.dismiss()}})()}createCardFromImage(e,t,r){var o=this;return(0,ae.Z)(function*(){const i={storageId:FM(),name:e,size:t.length,status:kr.clean,dontFsckAutomatically:r},s=new Uint32Array(t.buffer,t.byteOffset,t.byteLength>>>2),a=yield o.loadingController.create({message:"Importing..."});try{if(r)yield a.present(),yield o.storageService.importStorageCard(i,s);else{const[u,f]=yield o.fsckNewCard(s,i);yield a.present(),yield o.storageService.importStorageCard(f,u)}}finally{a.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Ir.cloudpilot)}loadCardInEmulator(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e);const i=yield r.cloudpilotService.cloudpilot;if(i.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!i.allocateCard(o.storageId,o.size))throw new Error("failed to allocate card");const s=i.getCardData(o.storageId);if(!s)throw new Error("failed to access card data");return r.storageCardContext.claim(e,Ir.cloudpilot),t?s.set(t):yield r.storageService.loadCardData(o.id,s,Ir.cloudpilot),o})()}ejectCurrentCard(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)throw new Error("no running session");const r=t?.mountedCard;if(void 0===r)throw new Error("no mounted card");const o=yield e.storageService.getCard(r);if(!o)throw new Error(`no card with id ${r}`);yield e.storageService.updateStorageCardPartial(r,{status:kr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(t.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(o.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(r,Ir.cloudpilot)})()}checkCard(e){var t=this;return(0,ae.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let i=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be checked.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield t.ejectCard(e.id)}const o=yield t.executeFsckAndUpdateCard(e.id);switch(o.getResult()){case 1:return void t.alertService.cardIsClean();case 3:return void t.alertService.cardHasNoValidFileSystem();case 4:t.alertService.cardHasUncorrectableErrors();break;case 2:{let i=!1;return yield t.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>i=!0},"Cancel"),void(i?yield t.applyFsckResult(e.id,o):t.storageCardContext.release(e.id,Ir.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var t=this;return(0,ae.Z)(function*(){if(t.storageCardContext.getOwner(e.id)===Ir.vfs)return yield t.vfsService.activateCard(e.id),!0;const r=t.mountedInSession(e.id);if(r){let o=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be browsed.`,{"Eject now":()=>o=!0},"Cancel"),!o)return!1;yield t.ejectCard(e.id)}return t.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);return!t.dontFsckAutomatically&&o.dontFsckAutomatically&&(t.status=kr.dirty),r.storageService.updateStorageCardPartial(e,t)})()}deleteCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const o=t.cards.find(i=>i.id===e);yield t.vfsService.releaseCard(e),yield t.ejectCard(e),yield t.storageService.deleteStorageCard(e),o&&t.deleteCardEvent.dispatch(o)}finally{r.dismiss()}})()}saveCard(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);const i=yield r.loadingController.create({message:"Exporting..."});let s;try{yield i.present();const a=r.mountedInSession(e);a&&a.id===r.emulationStateService.getCurrentSession()?.id&&(yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),s=(yield r.cloudpilotService.cloudpilot).getCardData(o.storageId)),s||(s=new Uint32Array(o.size>>>2),yield r.storageService.loadCardData(o.id,s,r.storageCardContext.getOwner(e)))}finally{i.dismiss()}r.fileService.saveFile(t,new Uint8Array(s.buffer,s.byteOffset,s.length<<2))})()}getCard(e){var t=this;return(0,ae.Z)(function*(){return t.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(t=>t.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,ae.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,ae.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}cardIsMounted(e){var t=this;return(0,ae.Z)(function*(){return(yield t.storageService.getAllSessions()).some(o=>o.mountedCard===e)})()}checkAndClaimCard(e,t){var r=this;return(0,ae.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");let o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);let i,s=!0,a=!1;if(!o.dontFsckAutomatically){if(o.status===kr.dirty){if(i=yield r.executeFsckAndUpdateCard(e),2===i.getResult()){if(s=!1,yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===t?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),!s)return r.storageCardContext.release(e,Ir.fstools),!1;yield r.applyFsckResult(o.id,i)}if(o=yield r.getCard(e),!o)throw new Error(`no card with id ${e}`)}switch(o.status){case kr.clean:break;case kr.unformatted:if("vfs"===t)return yield r.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case kr.dirty:return yield r.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===t?"inserted":"browsed"}.`),!1;case kr.unfixable:if(s=!1,a=!0,yield r.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>s=!0},"Cancel"),!s)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===t?(yield r.vfsService.releaseCard(e),yield r.mountCardInEmulator(e,i?.getImageData())):(yield r.mountCardForBrowsing(e,a,i?.getImageData()))||(yield r.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(u){return r.errorService.fatalBug(u instanceof Error?u.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create({message:"Checking card..."});try{if(yield r.present(),yield t.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const o=yield t.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield t.vfsService.releaseCard(e),t.storageCardContext.claim(e,Ir.fstools);const i=yield Xm.create(o.size);switch(yield t.storageService.loadCardData(o.id,i.getImageData(),Ir.fstools),i.fsck()){case 1:yield t.storageService.updateStorageCardPartial(e,{status:kr.clean}),t.storageCardContext.release(e,Ir.fstools);break;case 3:yield t.storageService.updateStorageCardPartial(e,{status:kr.unformatted}),t.storageCardContext.release(e,Ir.fstools);break;case 2:yield t.storageService.updateStorageCardPartial(e,{status:kr.dirty});break;case 4:yield t.storageService.updateStorageCardPartial(e,{status:kr.unfixable}),t.storageCardContext.release(e,Ir.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return i}finally{r.dismiss()}})()}applyFsckResult(e,t){var r=this;return(0,ae.Z)(function*(){if(2!==t.getResult())return;const o=yield r.loadingController.create({message:"Fixing errors..."});try{yield o.present(),yield r.storageService.updateCardData(e,t.getImageData(),t.getDirtyPages(),Ir.fstools),yield r.storageService.updateStorageCardPartial(e,{status:kr.clean}),r.storageCardContext.release(e,Ir.fstools)}finally{o.dismiss()}})()}fsckNewCard(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});let i,s;try{yield o.present(),i=yield Xm.create(t.size),i.getImageData().set(e),s=i.fsck()}finally{o.dismiss()}switch(s){case 1:return[e,{...t,status:kr.clean}];case 2:{let a=!1;return yield r.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>a=!0},"Skip"),a?[i.getImageData(),{...t,status:kr.clean}]:[e,{...t,status:kr.dirty}]}case 3:return yield r.alertService.cardHasNoValidFileSystem(),[e,{...t,status:kr.unformatted}];case 4:return yield r.alertService.cardHasUncorrectableErrors(),[e,{...t,status:kr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var t=this;return(0,ae.Z)(function*(){const r=t.mountedInSession(e),o=yield t.storageService.getCard(e);!r||!o||(r.id===t.emulationStateService.getCurrentSession()?.id?yield t.ejectCurrentCard():(yield t.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),yield t.storageService.updateStorageCardPartial(e,{status:kr.dirty})))})()}mountCardInEmulator(e,t){var r=this;return(0,ae.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");const o=yield r.loadingController.create({message:"Inserting..."});try{yield o.present(),yield r.vfsService.releaseCard(e);const i=r.emulationStateService.getCurrentSession();if(!i)throw new Error("no current session");if(void 0!==i.mountedCard)throw new Error("session already has a mounted card");const s=yield r.loadCardInEmulator(e,t),a=yield r.cloudpilotService.cloudpilot;if(yield r.storageService.updateStorageCardPartial(e,{status:kr.dirty}),yield r.storageService.updateSessionPartial(i.id,{mountedCard:e}),!a.mountCard(s.storageId))throw a.removeCard(s.storageId),new Error("failed to mount card");return r.mountCardEvent.dispatch(s),s}finally{o.dismiss()}})()}mountCardForBrowsing(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=yield o.loadingController.create({message:"Mounting..."});try{return yield i.present(),yield o.vfsService.mountCardUnchecked(e,t,r)}finally{i.dismiss()}})()}}ha.\u0275fac=function(e){return new(e||ha)(ee(Ga),ee(Xn),ee(Ss),ee(Vi),ee(ql),ee(za),ee(Kr),ee(qs),ee(Bs),ee(Ks),ee(Ua))},ha.\u0275prov=ht({token:ha,factory:ha.\u0275fac,providedIn:"root"});class ss extends w6{constructor(e,t,r,o,i,s,a,u,f,h,_,k,x,K,Se,ze,Ye,vt){var Le;super(),Le=this,this.storageService=e,this.ngZone=t,this.loadingController=r,this.emulationState=o,this.snapshotService=i,this.errorService=s,this.fileService=a,this.alertService=u,this.modalWatcher=f,this.clipboardService=h,this.kvsService=_,this.proxyService=k,this.buttonService=x,this.bootstrapService=K,this.cloudpilotService=Se,this.storageCardService=ze,this.storageCardContext=Ye,this.app=vt,this.switchSession=Dn=>this.mutex.runExclusive((0,ae.Z)(function*(){if(Dn===Le.emulationState.getCurrentSession()?.id)return!0;yield Le.stopUnchecked(),yield Le.bootstrapService.hasRendered();const Wn=yield Le.loadingController.create({message:"Loading..."});yield Wn.present();try{const Ds=yield Le.storageService.getSession(Dn);if(!Ds)throw new Error(`invalid session ${Dn}`);Le.emulationState.setCurrentSession(void 0);const eg=yield Le.cloudpilotService.cloudpilot;if(!(yield Le.restoreSession(Ds,eg)))return Le.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Le.emulationState.setCurrentSession(Ds),function xU(n){localStorage.setItem(Hm,n+"")}(Dn)}finally{yield Wn.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,ae.Z)(function*(){!Le.emulationState.getCurrentSession()||Le.running||Le.errorService.hasFatalError()||!Le.cloudpilotInstance||(yield Le.kvsService.mutex.runExclusive(()=>Le.updateFeatures()),Le.doResume(),Le.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,ae.Z)(function*(){Le.doPause(),!Le.errorService.hasFatalError()&&Le.emulationState.getCurrentSession()&&(yield Le.snapshotService.waitForPendingSnapshot(),yield Le.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Dn,Wn])=>this.mutex.runExclusive((0,ae.Z)(function*(){const Ds=Le.emulationState.getCurrentSession();Dn===Ds?.id&&(void 0!==Ds.mountedCard&&void 0===Wn&&Le.storageCardContext.release(Ds.mountedCard,Ir.cloudpilot),Le.emulationState.setCurrentSession(Wn),Le.emulationState.getCurrentSession()||(oM(),Le.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,ae.Z)(function*(){const Dn=Le.emulationState.getCurrentSession();Dn&&Le.fileService.emergencySaveSession(Dn,yield Le.cloudpilotService.cloudpilot)})),this.mutex=new ja,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),s.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Dn=>{Dn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Dn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Ot=function MU(){const n=localStorage.getItem(Hm);return n?parseInt(n,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Ot&&!TD()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Ot))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const t=this.emulationState.getCurrentSession();t&&this.storageService.updateSessionPartial(t.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?tc.timeout:tc.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,t){if(!this.cloudpilotInstance)return;const r=this.emulationState.getCurrentSession();this.uiInitialized&&r&&void 0===r.osVersion&&this.storageService.updateSessionPartial(r.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(t/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,ae.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var t=this;return(0,ae.Z)(function*(){try{yield t.switchSession(e)}catch{fa&&t.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,t){var r=this;return(0,ae.Z)(function*(){const[o,i,s]=yield r.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);return t.clearExternalStorage(),void 0!==e.mountedCard&&(yield r.storageCardService.loadCardInEmulator(e.mountedCard)),!!r.openSession(t,o,e.device,i,s)&&(r.proxyService.reset(),r.buttonService.reset(t),yield r.snapshotService.initialize(e,yield r.cloudpilotService.cloudpilot),!0)})()}}ss.\u0275fac=function(e){return new(e||ss)(ee(Xn),ee(dt),ee(ql),ee(Ss),ee(za),ee(qs),ee(Bs),ee(Kr),ee(oc),ee(Hc),ee(oi),ee(ic),ee(zc),ee(Gc),ee(Vi),ee(ha),ee(Ua),ee($l))},ss.\u0275prov=ht({token:ss,factory:ss.\u0275fac,providedIn:"root"});const sc=new yt(B),X6={connector:()=>new nt};function OM(n,e=X6){const{connector:t}=e;return q((r,o)=>{const i=t();On(n(function K6(n){return new yt(e=>n.subscribe(e))}(i))).subscribe(o),o.add(r.subscribe(i))})}function NM(n,e){return e?t=>Af(e.pipe(Ls(1),function eH(){return q((n,e)=>{n.subscribe(ye(e,B))})}()),t.pipe(NM(n))):Cr((t,r)=>On(n(t,r)).pipe(Ls(1),Sv(t)))}const lp="Service workers are disabled or not supported by this browser";class Jm{constructor(e){if(this.serviceWorker=e,e){const r=Tf(e,"controllerchange").pipe(Ae(()=>e.controller)),i=Af(um(()=>bn(e.controller)),r);this.worker=i.pipe(Ci(h=>!!h)),this.registration=this.worker.pipe(wi(()=>e.getRegistration()));const f=Tf(e,"message").pipe(Ae(h=>h.data)).pipe(Ci(h=>h&&h.type)).pipe(function J6(n){return n?e=>OM(n)(e):e=>function Q6(n,e){const t=I(n)?n:()=>n;return I(e)?OM(e,{connector:t}):r=>new Cv(r,t)}(new nt)(e)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function nH(n){return um(()=>ju(new Error(n)))}(lp)}postMessage(e,t){return this.worker.pipe(Ls(1),Si(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(e,t);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Ci(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ls(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ci(t=>t.nonce===e),Ls(1),Ae(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let rH=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new nt,!t.isEnabled)return this.messages=sc,this.notificationClicks=sc,void(this.subscription=sc);this.messages=this.sw.eventsOfType("PUSH").pipe(Ae(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ae(o=>o.data)),this.pushManager=this.sw.registration.pipe(Ae(o=>o.pushManager));const r=this.pushManager.pipe(wi(o=>o.getSubscription()));this.subscription=yi(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(lp));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(wi(s=>s.subscribe(r)),Ls(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ls(1),wi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(lp))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Jm))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),Db=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=sc,this.available=sc,this.activated=sc,void(this.unrecoverable=sc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Ci(r=>"VERSION_READY"===r.type),Ae(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(lp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(lp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Jm))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class Ib{}const LM=new rn("NGSW_REGISTER_SCRIPT");function oH(n,e,t,r){return()=>{if(!Bl(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=bn(null);break;case"registerWithDelay":o=$M(+a[0]||0);break;case"registerWhenStable":o=a[0]?yi(BM(n),$M(+a[0])):BM(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(dt).runOutsideAngular(()=>o.pipe(Ls(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function $M(n){return bn(null).pipe(function tH(n,e=Kk){const t=Xk(n,e);return NM(()=>t)}(n))}function BM(n){return n.get($l).isStable.pipe(Ci(t=>t))}function iH(n,e){return new Jm(Bl(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let sH=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:LM,useValue:t},{provide:Ib,useValue:r},{provide:Jm,useFactory:iH,deps:[Ib,Ou]},{provide:Ic,useFactory:oH,deps:[_o,LM,Ib,Ou],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=wr({providers:[rH,Db]}),n})();class Wc{constructor(e,t,r,o,i){var s=this;this.kvsService=e,this.emulationService=t,this.alertService=r,this.modalController=o,this.updates=i,this.checkForUpgrade=()=>this.mutex.runExclusive((0,ae.Z)(function*(){const a=s.kvsService.kvs.version;void 0!==a?a!==jc&&(yield s.kvsService.set({version:jc,previousVersion:a,latestVersion:jc}),yield s.emulationService.bootstrapComplete(),s.alertService.message("Update complete",`CloudpilotEmu was updated to version ${jc}.`,{Changes:()=>s.showChangelog()})):s.kvsService.kvs.version=jc})),this.mutex=new ja,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,ae.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,ae.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===jc){const t=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),t&&(yield t.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:pa,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}Wc.\u0275fac=function(e){return new(e||Wc)(ee(oi),ee(ss),ee(Kr),ee(ws),ee(Db))},Wc.\u0275prov=ht({token:Wc,factory:Wc.\u0275fac,providedIn:"root"});class cp{constructor(e,t,r){this.pwaService=e,this.updateService=t,this.bootstrapService=r}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}cp.\u0275fac=function(e){return new(e||cp)(C(Vc),C(Wc),C(Gc))},cp.\u0275cmp=ut({type:cp,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(oe(0,"ion-app"),ct(1,"ion-router-outlet"),J())},dependencies:[mk,Jf]});class sd{constructor(){}}sd.\u0275fac=function(e){return new(e||sd)},sd.\u0275cmp=ut({type:sd,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,t){1&e&&(oe(0,"div"),qe(1,"Dummy"),J())},encapsulation:2});class Zc{constructor(e,t){this.linkApi=e,this.router=t}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}Zc.\u0275fac=function(e){return new(e||Zc)(ee(jl),ee(Go))},Zc.\u0275prov=ht({token:Zc,factory:Zc.\u0275fac,providedIn:"root"});const kb=ie.m515,lH=yb[2],cH=yb[0],ad="rgba(0,0,0,0.2)";function VM(n){const e=ip(n),t=(0===e.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:t},o=u=>({frameDevice:u,frameCanvas:u*t}),i=u=>({frameDevice:u,frameCanvas:r.frameCanvas+u*t}),s=o(e.silkscreenHeight>0?1:0),a=o(function pH(n){switch(n){case 3:case 1:return 60;case 2:return 45;default:return 30}}(e.screenSize));return{scale:t,borderWidth:r,height:o(2*r.frameDevice+e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+e.width),screenHeight:o(e.height),screenWidth:o(e.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(e.height),separatorHeight:s,silkscreenHeight:o(e.silkscreenHeight),silkscreenTop:i(e.height+s.frameDevice),silkscreenBottom:i(e.height+s.frameDevice+e.silkscreenHeight),softSilkscreenHeight:o(e.silkscreenHeight>0?0:e.height-e.width),buttonHeight:a,buttonWidth:a,buttonTop:i(e.height+s.frameDevice+e.silkscreenHeight),buttonBottom:i(e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice)}}class hH{constructor(e){this.skinLoader=e,this.layout=VM(kb),this.onResize=new Ho.j}get width(){switch(this.getOrientation()){case Ar.portrait:case Ar.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Ar.portrait:case Ar.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(e){this.drawEmulationCanvas(e),this.onAfterUpdateCanvas()}eventToPalmCoordinates(e,t=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let u=(e.clientX-o)/s*this.width/this.layout.scale,f=(e.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Ar.landscape90:{const _=f;f=this.layout.height.frameDevice-u,u=_;break}case Ar.landscape270:{const _=f;f=u,u=this.layout.width.frameDevice-_;break}case Ar.portrait180:u=this.layout.width.frameDevice-u,f=this.layout.height.frameDevice-f}u-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const h=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(t)u<0&&(u=0),u>=this.layout.screenWidth.frameDevice&&(u=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=h&&(f=h-1);else if(u<0||u>=this.layout.screenWidth.frameDevice||f<0||f>=h)return;return[u,f]}isSilkscreen(e){const[,t]=e;return!this.isButtons(e)&&t>=this.layout.screenHeight.frameDevice}isButtons([,e]){return e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([e,t]){return e>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:e>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:e>=2*this.layout.buttonWidth.frameDevice?t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:e>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(e=this.ctx?.canvas){var t=this;return(0,ae.Z)(function*(){if(!e)return;t.layout=VM(t.getDeviceId()),t.onResize.dispatch(),e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])})()}drawButtons(e=[]){var t=this;return(0,ae.Z)(function*(){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),e.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,ad),e.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,ad),e.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,ad),e.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,ad),e.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,ad),e.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,ad))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Ar.portrait:case void 0:break;case Ar.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Ar.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Ar.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var e=this;return(0,ae.Z)(function*(){0===e.layout.silkscreenHeight.frameCanvas||!e.ctx||(e.setupTransformation(),e.fillRect(e.layout.screenLeft.frameDevice,e.layout.silkscreenTop.frameDevice,e.layout.screenWidth.frameDevice,e.layout.silkscreenHeight.frameDevice,lH),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.silkscreenImage()(e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas),e.layout.borderWidth.frameCanvas,e.layout.silkscreenTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(e=this.lastEmulationCanvas){!e||!this.ctx||(this.lastEmulationCanvas=e,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(e,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(e,t,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case ie.pegT600c:case ie.pegT650c:return"silkscreen/clie-t600.svg";case ie.pegN700c:case ie.pegN600c:return"silkscreen/clie-n610.svg";case ie.pegS320:case ie.pegS300:return"silkscreen/clie-s300.svg";case ie.pegS500c:return"silkscreen/clie-s500.svg";case ie.pegT400:return"silkscreen/clie-t415.svg";case ie.acerS11:return"silkscreen/acer-s10.svg";case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:return"silkscreen/pilot.svg";case ie.m500:return"silkscreen/m500.svg";case ie.m505:case ie.m515:case ie.m520:return"silkscreen/m515.svg";case ie.iiic:return"silkscreen/iiic.svg";case ie.m100:case ie.m105:case ie.m125:return"silkscreen/m100.svg";case ie.m130:return"silkscreen/m130.svg";case ie.i710:return"silkscreen/tungstenw.svg";case ie.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case ie.acerS11:return"hard-buttons/acer-s10.svg";case ie.pegNR70:return"hard-buttons/clie-nr70.svg";case ie.pegN700c:return"hard-buttons/clie-n700.svg";case ie.pegN600c:return"hard-buttons/clie-n610.svg";case ie.pegS300:return"hard-buttons/clie-s300.svg";case ie.pegS500c:return"hard-buttons/clie-s500.svg";case ie.pegS320:return"hard-buttons/clie-s320.svg";case ie.pegT400:case ie.pegT600c:case ie.pegT650c:return"hard-buttons/clie-t415.svg";case ie.pilot:case ie.palmPilot:return"hard-buttons/pilot.svg";case ie.m500:return"hard-buttons/m500.svg";case ie.m505:case ie.m515:case ie.m520:return"hard-buttons/m515.svg";case ie.iiic:return"hard-buttons/iiic.svg";case ie.m100:case ie.m105:return"hard-buttons/m100.svg";case ie.m125:return"hard-buttons/m125.svg";case ie.m130:return"hard-buttons/m130.svg";case ie.i710:return"hard-buttons/tungstenw.svg";case ie.iii:case ie.iiix:case ie.iiixe:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:return"hard-buttons/iiix.svg";case ie.iiie:return"hard-buttons/iiie.svg";case ie.i705:return"hard-buttons/i705.svg";case ie.handera330:return"hard-buttons/handera330.svg";case ie.handera330c:return"hard-buttons/handera330c.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return _b(this.getDeviceId())?"white":cH}frameColor(){return _b(this.getDeviceId())?"white":"#ccc"}}function gH(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(),r.src=n})}class _H{constructor(e){this.cloudpilot=e,this.images=new Map}loadSkinElement(e){if(this.images.has(e))return this.images.get(e);const t=this.cloudpilot.then(o=>o.loadSkin(e)).then(o=>{return o?Promise.all([o,gH((n=o,`data:image/svg+xml;base64,${btoa(n)}`))]):Promise.reject(new Error(`failed to load skin ${e}`));var n}),r=function mH(n,e){let t,r;const o=document.createElement("canvas");return function(){var i=(0,ae.Z)(function*(s,a){if(t===s&&r===a)return o;o.width=s,o.height=a;const u=o.getContext("2d");if(!u)throw new Error("get a new browser");return u.drawImage(yield n,0,0,o.width,o.height),(_U||fa)&&(yield e).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),u.drawImage(yield n,0,0,o.width,o.height)),t=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(t.then(([,o])=>o),t.then(([o])=>o));return this.images.set(e,r),r}}class Dl extends hH{constructor(e){super(new _H(e.cloudpilot)),this.cloudpilotService=e,this.statisticsVisible=!1}initialize(e,t=this.session){var r=this;return(0,ae.Z)(function*(){r.session=t,yield r.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,ae.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,t){var r=this;return(0,ae.Z)(function*(){yield r.clearStatistics(),r.drawStatistics(e,t),r.lastEmulationStatistics=t,r.lastSnapshotStatistics=e,r.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??kb}getOrientation(){return this.session?.deviceOrientation??Ar.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,t){if(!this.ctx)return;this.setupTransformation();const r=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,o=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-r.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-r.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,o.frameDevice,this.layout.screenWidth.frameDevice,r.frameDevice,"rgba(255,255,255,0.6)");const s=function vH(n){switch(n){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(ip(this.session?.device??kb).screenSize);this.ctx.font=6*this.layout.scale*s+"px monospace",this.ctx.fillStyle="black",[...e||t?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...t?[`host speed             : ${t.hostSpeed.toFixed(2)}x`,`emulation speed        : ${t.emulationSpeed.toFixed(2)}x`,`average FPS            : ${t.averageFps.toFixed(2)}`]:[]].forEach((a,u)=>this.ctx.fillText(a,this.layout.screenLeft.frameCanvas+s*this.layout.scale,o.frameCanvas+s*this.layout.scale*(8+6*u)))}}Dl.\u0275fac=function(e){return new(e||Dl)(ee(Vi))},Dl.\u0275prov=ht({token:Dl,factory:Dl.\u0275fac,providedIn:"root"});class qc{constructor(e,t,r){this.router=e,this.canvasDisplayService=t,this.emulationStateService=r,this.updateUseSmallUI=()=>{const o=!!document.querySelector("html.md"),i=o?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-i-(o?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-i-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),t.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,t){let r,o;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(t=Math.min(t,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(o=e,r=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(r=t,o=t/this.canvasDisplayService.width*this.canvasDisplayService.height),r*o}}qc.\u0275fac=function(e){return new(e||qc)(C(Go),C(Dl),C(Ss))},qc.\u0275cmp=ut({type:qc,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,t){1&e&&(oe(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),ct(4,"ion-icon",3),oe(5,"ion-label"),qe(6,"Emulator"),J()(),oe(7,"ion-tab-button",4),ct(8,"ion-icon",5),oe(9,"ion-label"),qe(10,"Sessions"),J()(),oe(11,"ion-tab-button",6),ct(12,"ion-icon",7),oe(13,"ion-label"),qe(14,"Cards"),J()(),oe(15,"ion-tab-button",8),ct(16,"ion-icon",9),oe(17,"ion-label"),qe(18,"Settings"),J()(),oe(19,"ion-tab-button",10),ct(20,"ion-icon",11),oe(21,"ion-label"),qe(22,"About"),J()()()()()),2&e&&(Xe(2),sl("small-ui",t.smallUI)("disabled",t.isLocked()))},dependencies:[hi,rs,Xv,vk,Tk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]});class Wa{}Wa.\u0275fac=function(e){return new(e||Wa)},Wa.\u0275mod=Fr({type:Wa}),Wa.\u0275inj=wr({imports:[Oa,sb.forChild(),Yl,Ac,lm]});class ld{}ld.\u0275fac=function(e){return new(e||ld)},ld.\u0275mod=Fr({type:ld}),ld.\u0275inj=wr({imports:[Oa,Ac,Yl,Wa,sb.forChild()]});class cd{}cd.\u0275fac=function(e){return new(e||cd)},cd.\u0275mod=Fr({type:cd}),cd.\u0275inj=wr({imports:[Oa,Ac,Yl,Wa]});class ud{}ud.\u0275fac=function(e){return new(e||ud)},ud.\u0275mod=Fr({type:ud}),ud.\u0275inj=wr({imports:[Oa,Ac,Yl,lm,Wa]});class dd{}dd.\u0275fac=function(e){return new(e||dd)},dd.\u0275mod=Fr({type:dd}),dd.\u0275inj=wr({imports:[Oa,Ac,Yl,Wa,lm]});class fd{}function bH(n,e){if(1&n){const t=Tr();oe(0,"ion-button",1),at("click",function(){return Lt(t),$t(Bt().onClick())}),ct(1,"ion-icon",2),J()}if(2&n){const t=Bt();Xe(1),ot("name",t.iconName)}}fd.\u0275fac=function(e){return new(e||fd)},fd.\u0275mod=Fr({type:fd}),fd.\u0275inj=wr({imports:[Oa,Yl,Ac,lm,Wa]});class ac{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return fa?"logo-apple-appstore":nM?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}function CH(n,e){1&n&&(oe(0,"div",11),ct(1,"ion-spinner"),J())}function wH(n,e){1&n&&(oe(0,"div"),qe(1,"app cached for offline use"),J())}ac.\u0275fac=function(e){return new(e||ac)(C(Vc))},ac.\u0275cmp=ut({type:ac,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,t){1&e&&Jt(0,bH,2,1,"ion-button",0),2&e&&ot("ngIf",t.show)},dependencies:[fi,Ji,hi]});class up{constructor(e,t){this.modalController=e,this.updates=t,this.loading=!0}get version(){return jc}showChangelog(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:pa,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}function SH(n,e){if(1&n&&(oe(0,"ion-select-option",17),qe(1),J()),2&n){const t=e.$implicit;ot("value",t[0]),Xe(1),Li("",t[1]," ")}}function EH(n,e){if(1&n&&(oe(0,"ion-select-option",17),qe(1),J()),2&n){const t=e.$implicit;ot("value",t[0]),Xe(1),Li("",t[1]," ")}}function DH(n,e){if(1&n&&(oe(0,"ion-item",7)(1,"ion-label",8),qe(2,"Hotsync name"),J(),ct(3,"ion-input",18),J()),2&n){const t=Bt();Xe(3),ot("placeholder",t.placeholder)}}up.\u0275fac=function(e){return new(e||up)(C(ws),C(Db))},up.\u0275cmp=ut({type:up,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"About"),J(),oe(4,"ion-buttons",1),ct(5,"app-pwa-prompt"),J()()(),oe(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),qe(10,"About"),J()()(),Jt(11,CH,2,0,"div",4),oe(12,"div",5)(13,"markdown",6),at("load",function(){return t.loading=!1}),J()(),oe(14,"div",7),qe(15),ct(16,"br"),oe(17,"a",8),at("click",function(){return t.showChangelog()}),qe(18,"Changelog"),J(),Jt(19,wH,2,0,"div",9),J(),ct(20,"img",10),J()),2&e&&(ot("translucent",!0),Xe(11),ot("ngIf",t.loading),Xe(4),Li(" CloudpilotEmu version ",t.version," "),Xe(4),ot("ngIf",t.serviceWorkerAvailable))},dependencies:[fi,es,ts,ns,Kf,os,is,ac,ib],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]});class pd{constructor(e,t){this.sessionService=e,this.alertService=t,this.validateNameUnique=r=>r.value!==this.session.name&&this.sessionService.getSessions().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Ar.portrait,"Portrait"],[Ar.landscape90,"Landscape 90\xb0"],[Ar.landscape270,"Landscape 270\xb0"],[Ar.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,yM(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function p6(n){switch(n){case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:case ie.palmVx:case ie.palmV:case ie.palmVIIEZ:case ie.palmVIIx:case ie.iiic:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.pegS300:case ie.pegS500c:return 16;case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.acerS11:return 33;case ie.pegT650c:case ie.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new nm({name:new pi(this.session.name,{validators:[Df.required,this.validateNameUnique]}),manageHotsyncName:new pi(!this.session.dontManageHotsyncName),hotsyncName:new pi(this.session.hotsyncName||""),device:new pi({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new pi((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new pi(this.session.deviceOrientation||Ar.portrait)})}}pd.\u0275fac=function(e){return new(e||pd)(C(Ga),C(Kr))},pd.\u0275cmp=ut({type:pd,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Session settings"),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.save()}),qe(6,"Save"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),oe(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),oe(12,"h1"),qe(13,"Session"),J(),oe(14,"ion-item",7)(15,"ion-label",8),qe(16,"Session name"),J(),ct(17,"ion-input",9),J(),oe(18,"h1"),qe(19,"Device"),J(),oe(20,"ion-item",7)(21,"ion-label",8),qe(22,"Device type"),J(),oe(23,"ion-select",10),Jt(24,SH,2,2,"ion-select-option",11),J()(),oe(25,"ion-item",7)(26,"ion-label",8),qe(27,"Orientation"),J(),oe(28,"ion-select",12),Jt(29,EH,2,2,"ion-select-option",11),J()(),oe(30,"ion-item",7)(31,"ion-label",13),qe(32),J(),ct(33,"ion-range",14),J(),oe(34,"h1"),qe(35,"Hotsync"),J(),oe(36,"ion-item",7)(37,"ion-label"),qe(38,"Manage hotsync name"),J(),ct(39,"ion-toggle",15),J(),Jt(40,DH,4,1,"ion-item",16),J()()),2&e&&(Xe(5),ot("disabled",t.formGroup.invalid),Xe(6),ot("formGroup",t.formGroup),Xe(13),ot("ngForOf",t.deviceList),Xe(5),ot("ngForOf",t.orientations),Xe(3),Rs(t.speedLabel),Xe(8),ot("ngIf",t.showHotsyncNameInput))},dependencies:[Mc,fi,Ji,es,ts,ns,Cl,ri,rs,Kv,Nm,Lm,os,Xf,is,ed,Yf,bl,ml,pl,hl,vv,ua,Na],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]});class hd{constructor(e,t,r,o,i,s,a){this.emulationService=e,this.loadingController=t,this.snapshotService=r,this.fileService=o,this.emulationStateService=i,this.alertService=s,this.cloudpilotService=a}saveBackup(e){var t=this;return(0,ae.Z)(function*(){const r=t.emulationStateService.getCurrentSession();if(!r)return;const o=yield t.loadingController.create({message:"Backing up..."});yield o.present();let s,i=[];yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();try{const a=yield t.cloudpilotService.cloudpilot;yield a.backup(function(){var u=(0,ae.Z)(function*(f){for(f.Init(e);f.IsInProgress();){const h=f.GetCurrentDatabase();f.Save()||i.push(h),yield new Promise(_=>setTimeout(_,0))}s=a.getArchive(f)});return function(f){return u.apply(this,arguments)}}())}finally{yield o.dismiss(),yield t.emulationService.resume()}s?i.length>0?yield t.alertService.message("Backup complete",`\n                    ${vb(i)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>t.fileService.saveFile(EM(r,e),s)},"Cancel"):t.fileService.saveFile(EM(r,e),s):yield t.alertService.errorMessage("Backup failed.")})()}}hd.\u0275fac=function(e){return new(e||hd)(ee(ss),ee(ql),ee(za),ee(Bs),ee(Ss),ee(Kr),ee(Vi))},hd.\u0275prov=ht({token:hd,factory:hd.\u0275fac,providedIn:"root"});const IH=window.AudioContext||window.webkitAudioContext;function Mb(n,e=100){return new Promise((t,r)=>{setTimeout(()=>r(new Error("timeout")),e),n.then(t,r)})}class kH{constructor(e){var t=this;this.emulationService=e,this.initialize=()=>this.mutex.runExclusive((0,ae.Z)(function*(){if(!t.initialized){try{t.context=new IH}catch(r){return console.error(r),void console.error("web audio not available")}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,ae.Z)(function*(){if(!t.context||t.isRunning()===t.shouldRun())return;!r&&!t.isRunning()&&t.shouldRun()&&t.applyPwmUpdate();const o=t.context.state;if(t.shouldRun())try{t.updateGain(),yield Mb(t.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield Mb(t.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${t.context.state}`)})),this.onPwmUpdate=function(){var r=(0,ae.Z)(function*(o){t.pendingPwmUpdate=o,t.initialized&&(t.shouldRun()!==t.isRunning()&&t.updateState(!0),t.shouldRun()&&t.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new ja,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),fa||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(e){this.muted=e,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||fa||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var e=this;return(0,ae.Z)(function*(){e.context&&(yield Mb(e.context.resume()),e.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:e,dutyCycle:t}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,e<=0||t<=0||e>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/e),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<t?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}class lc extends kH{constructor(e,t,r){super(e),this.kvs=t,this.modalWatcher=r,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}lc.\u0275fac=function(e){return new(e||lc)(ee(ss),ee(oi),ee(oc))},lc.\u0275prov=ht({token:lc,factory:lc.\u0275fac,providedIn:"root"});class Yc{constructor(e,t){this.emulationService=e,this.ngZone=t,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=r=>{this.reset(),r&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!r&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}function xH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",4),at("click",function(){return Lt(t),$t(Bt().power())}),oe(1,"ion-label"),qe(2,"Power"),J(),ct(3,"ion-icon",5),J()}if(2&n){const t=Bt();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function TH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",4),at("click",function(){return Lt(t),$t(Bt().hotsync())}),oe(1,"ion-label"),qe(2,"Hotsync"),J(),ct(3,"ion-icon",6),J()}if(2&n){const t=Bt();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function AH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",4),at("click",function(){return Lt(t),$t(Bt().reset())}),oe(1,"ion-label"),qe(2,"Reset"),J(),ct(3,"ion-icon",7),J()}if(2&n){const t=Bt();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function PH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8),at("click",function(){return Lt(t),$t(Bt().insertCard())}),oe(1,"ion-label"),qe(2),J(),ct(3,"ion-icon",9),J()}if(2&n){const t=Bt();ot("detail",!1),Xe(2),Li("Insert ",t.hasMemorystick?"stick":"SD card","")}}function RH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8),at("click",function(){return Lt(t),$t(Bt().ejectCard())}),oe(1,"ion-label"),qe(2),J(),ct(3,"ion-icon",10),J()}if(2&n){const t=Bt();ot("detail",!1),Xe(2),Li("Eject ",t.hasMemorystick?"stick":"SD card","")}}function FH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8),at("click",function(){return Lt(t),$t(Bt().mute(!1))}),oe(1,"ion-label"),qe(2,"Enable audio"),J(),ct(3,"ion-icon",11),J()}2&n&&ot("detail",!1)}function OH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8),at("click",function(){return Lt(t),$t(Bt().mute(!0))}),oe(1,"ion-label"),qe(2,"Disable audio"),J(),ct(3,"ion-icon",12),J()}2&n&&ot("detail",!1)}function NH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",4),at("click",function(){return Lt(t),$t(Bt().backup())}),oe(1,"ion-label"),qe(2,"Save backup"),J(),ct(3,"ion-icon",13),J()}if(2&n){const t=Bt();ot("detail",!1)("disabled",t.backupDisabled)}}function LH(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8),at("click",function(){return Lt(t),$t(Bt().rotate())}),oe(1,"ion-label"),qe(2,"Rotate"),J(),ct(3,"ion-icon",14),J()}2&n&&ot("detail",!1)}function $H(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8),at("click",function(){return Lt(t),$t(Bt().editSettings())}),oe(1,"ion-label"),qe(2,"Settings"),J(),ct(3,"ion-icon",15),J()}2&n&&ot("detail",!1)}function BH(n){switch(n){case Ar.portrait:case void 0:return Ar.landscape90;case Ar.landscape90:return Ar.portrait180;case Ar.portrait180:return Ar.landscape270;case Ar.landscape270:return Ar.portrait;default:throw new Error("cannot happen")}}Yc.\u0275fac=function(e){return new(e||Yc)(ee(ss),ee(dt))},Yc.\u0275prov=ht({token:Yc,factory:Yc.\u0275fac,providedIn:"root"});class dp{constructor(e,t,r,o,i,s,a,u,f,h,_,k,x,K,Se,ze,Ye,vt){this.emulationService=e,this.emulationStateService=t,this.backupService=r,this.buttonService=o,this.actionSheetController=i,this.popoverController=s,this.audioService=a,this.kvsService=u,this.modalController=f,this.sessionService=h,this.performanceWatchdogService=_,this.canvasDisplayService=k,this.cloudpilotService=x,this.storageCardService=K,this.alertService=Se,this.alertController=ze,this.storageService=Ye,this.errorService=vt,this.showHelp=()=>{}}reset(){var e=this;return(0,ae.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,ae.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function h6(n){return[ie.i705,ie.i710,ie.pegNR70,ie.pegT650c].includes(n)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&_M(e.device)!==rc.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&_M(e.device)===rc.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;const r=t.speed,o=t.deviceOrientation,i=yield e.modalController.create({component:pd,backdropDismiss:!1,componentProps:{session:t,availableDevices:[t.device],onSave:(s=(0,ae.Z)(function*(){r!==t.speed&&e.performanceWatchdogService.reset(),o!==t.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,t),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(t),i.dismiss()}),function(){return s.apply(this,arguments)}),onCancel:()=>i.dismiss()}});var s;yield e.popoverController.dismiss(),yield i.present()})()}rotate(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;yield e.storageService.updateSessionPartial(t.id,{deviceOrientation:BH(t.deviceOrientation)});const r=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,ae.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const r=yield e.cloudpilotService.cloudpilot,o=e.storageCardService.getAllCards().filter(s=>r.deviceSupportsCardSize(s.size)&&!e.storageCardService.mountedInSession(s.id));0!==o.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:s=>e.storageCardService.insertCard(s)}],inputs:o.map((s,a)=>({label:s.name,type:"radio",value:s.id,checked:0===a})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,ae.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(t){e.errorService.fatalBug(t instanceof Error?t.message:"eject failed")}e.popoverController.dismiss()})()}}dp.\u0275fac=function(e){return new(e||dp)(C(ss),C(Ss),C(hd),C(zc),C(tp),C(Bc),C(lc),C(oi),C(ws),C(Ga),C(Yc),C(Dl),C(Vi),C(ha),C(Kr),C($c),C(Xn),C(qs))},dp.\u0275cmp=ut({type:dp,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,t){1&e&&(oe(0,"ion-list"),Jt(1,xH,4,2,"ion-item",0),Jt(2,TH,4,2,"ion-item",0),Jt(3,AH,4,2,"ion-item",0),Jt(4,PH,4,2,"ion-item",1),Jt(5,RH,4,2,"ion-item",1),Jt(6,FH,4,1,"ion-item",1),Jt(7,OH,4,1,"ion-item",1),Jt(8,NH,4,2,"ion-item",0),Jt(9,LH,4,1,"ion-item",1),Jt(10,$H,4,1,"ion-item",1),oe(11,"ion-item",2),at("click",function(){return t.help()}),oe(12,"ion-label"),qe(13,"Help"),J(),ct(14,"ion-icon",3),J()()),2&e&&(Xe(1),ot("ngIf",t.hasActiveSession&&!t.powerDisabled),Xe(1),ot("ngIf",t.hasActiveSession),Xe(1),ot("ngIf",t.hasActiveSession),Xe(1),ot("ngIf",t.supportsStorageCard&&!t.hasMountedCard),Xe(1),ot("ngIf",t.supportsStorageCard&&t.hasMountedCard),Xe(1),ot("ngIf",t.isMuted&&!t.isAudioOff),Xe(1),ot("ngIf",!t.isMuted&&!t.isAudioOff),Xe(1),ot("ngIf",t.hasActiveSession),Xe(1),ot("ngIf",t.hasActiveSession),Xe(1),ot("ngIf",t.hasActiveSession),Xe(1),ot("detail",!1))},dependencies:[fi,hi,ri,rs,Ba]});class VH{constructor(e,t){this.emulationService=e,this.canvasDisplayService=t,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const u=this.determineArea(a);if(2===u){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:u,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:u}),this.emulationService.handlePointerMove(...a,1===u)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const u=a.area;switch(u){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const h=this.canvasDisplayService.determineButton(f);h===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):h!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=h,this.handleButtonDown(h));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===u);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(e,t=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=e,this.keyEventTarget=t||window,this.addEventListener(e,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(e,"touchstart",this.handleTouchStart),this.addEventListener(e,"touchmove",this.handleTouchMove),this.addEventListener(e,"touchend",this.handleTouchEnd),this.addEventListener(e,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const e of this.activeButtons)this.handleButtonUp(e);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(e){this.gameMode=e,this.onToggleGameMode()}setGameModeHotkeyEnabled(e){this.enableGamemodeHotkey=e}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(e,t,r,o){e.addEventListener(t,r,o)}removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}determineArea(e){return this.canvasDisplayService.isButtons(e)?2:this.canvasDisplayService.isSilkscreen(e)?1:0}handleButtonDown(e){this.activeButtons.has(e)||(this.activeButtons.add(e),this.emulationService.handleButtonDown(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(e){void 0===e||!this.activeButtons.has(e)||(this.activeButtons.delete(e),this.emulationService.handleButtonUp(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(e){return this.isGameModeHotkeyEnabled()&&("Shift"===e.key&&e.ctrlKey||"Control"===e.key&&e.shiftKey)}isGameModeActive(e){return!this.gameMode&&e.ctrlKey||this.gameMode&&!e.ctrlKey}buttonFromEvent(e){switch(e.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(e))switch(e.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(e){if(!this.isGameModeActive(e)){if(1===e.key.length&&e.key.charCodeAt(0)<=255)return e.key.charCodeAt(0);switch(e.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}class md extends VH{constructor(e,t,r,o,i){super(e,t),this.modalWatcher=r,this.ngZone=o,this.app=i}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,t,r,o){this.ngZone.runOutsideAngular(()=>e.addEventListener(t,r,o))}}function UM(n){return/\.(prc|pdb|pqa)$/i.test(n)}md.\u0275fac=function(e){return new(e||md)(ee(ss),ee(Dl),ee(oc),ee(dt),ee($l))},md.\u0275prov=ht({token:md,factory:md.\u0275fac,providedIn:"root"});class GH{constructor(e,t,r,o){this.cloudpilotService=e,this.alertController=t,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var e=this;return(0,ae.Z)(function*(){for(const t of e.files){let r;try{r=yield t.getContent()}catch(o){console.warn(o),e.filesFail.push(t.name);continue}if(/\.zip/i.test(t.name)&&r.length<33554432)try{yield e.installZip(t)}catch{e.filesFail.push(t.name)}else UM(t.name)?yield e.installOne(t.name,r):e.filesFail.push(t.name)}return[e.filesSuccess,e.filesRequireReset,e.filesFail]})()}installOne(e,t){var r=this;return(0,ae.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(t);switch(i){case 2:r.filesRequireReset.push(e),r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;case 1:r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;default:r.filesFail.push(e),yield r.reportError(e,i)}if(2===i||1===i)try{const s=function zH(n){if(n.length<32)throw new Error("not a database");let e;for(e=0;e<32&&0!==n[e];e++);if(e>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(n.subarray(0,e))}(t);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${e} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,e)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.cloudpilotService.cloudpilot).withZipfileWalker(yield e.getContent(),function(){var o=(0,ae.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!UM(i.GetCurrentEntryName())){i.Next();continue}const u=i.GetCurrentEntryContent();u?(yield t.installOne(a,u),s++):t.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(e,t){return this.errorDialog("Item failed to install",`Could not install ${e}: ${function HH(n){switch(n){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(t)}.`)}errorDialog(e,t){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:e,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:t,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}class gd{constructor(e,t,r,o,i,s){this.cloudpilotService=e,this.emulationService=t,this.loadingController=r,this.snapshotService=o,this.alertService=i,this.alertController=s}installFiles(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create({message:"Installing..."});yield r.present(),yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();let o=[],i=[],s=[];try{[o,s,i]=yield new GH(t.cloudpilotService,t.alertController,t.snapshotService,e).run()}finally{r.dismiss(),t.emulationService.resume()}const a=[t.messageSucces(o),t.messageFailed(i),t.messageRequireReset(s)].filter(f=>!!f).join("<br/><br/>");let u;u=0===i.length?"Installation successful":0===o.length?"Installation failed":"Installation errors",t.alertService.message(u,a,s.length>0?{"Reset now":()=>t.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${vb(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${vb(e)} require a device reset.`:void 0}}gd.\u0275fac=function(e){return new(e||gd)(ee(Vi),ee(ss),ee(ql),ee(za),ee(Kr),ee($c))},gd.\u0275prov=ht({token:gd,factory:gd.\u0275fac,providedIn:"root"});class cc{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}cc.\u0275fac=function(e){return new(e||cc)},cc.\u0275prov=ht({token:cc,factory:cc.\u0275fac,providedIn:"root"});const WH=["canvas"];function ZH(n,e){if(1&n){const t=Tr();oe(0,"ion-button",5),at("click",function(){return Lt(t),$t(Bt().navigation.lock())}),ct(1,"ion-icon",10),J()}}function qH(n,e){if(1&n){const t=Tr();oe(0,"ion-button",5),at("click",function(){return Lt(t),$t(Bt().navigation.unlock())}),ct(1,"ion-icon",11),J()}}function YH(n,e){if(1&n){const t=Tr();oe(0,"ion-button",5),at("click",function(){return Lt(t),$t(Bt().showGameModeHint())}),ct(1,"ion-icon",12),J()}}function KH(n,e){if(1&n){const t=Tr();oe(0,"ion-button",5),at("click",function(){return Lt(t),$t(Bt().showProxyConnectedHint())}),ct(1,"ion-icon",13),J()}}function XH(n,e){if(1&n){const t=Tr();oe(0,"ion-button",5),at("click",function(){return Lt(t),$t(Bt().showSlowdowndHint())}),ct(1,"ion-icon",14),J()}}function QH(n,e){if(1&n){const t=Tr();oe(0,"div",15),qe(1," The device was reset forcefully. How do you want to boot? "),oe(2,"ion-button",16),at("click",function(){return Lt(t),$t(Bt().bootAfterForcefulReset())}),qe(3,"Normal boot"),J(),oe(4,"ion-button",16),at("click",function(){return Lt(t),$t(Bt().bootAfterForcefulResetNoExtensions())}),qe(5,"No extensions"),J(),oe(6,"ion-button",16),at("click",function(){return Lt(t),$t(Bt().bootAfterForcefulResetHardReset())}),qe(7,"Hard reset"),J()()}}function JH(n,e){1&n&&(oe(0,"div",15)(1,"div"),qe(2,"No session selected"),J()())}class fp{constructor(e,t,r,o,i,s,a,u,f,h,_,k,x,K,Se,ze,Ye,vt){var Le=this;this.emulationService=e,this.emulationState=t,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=u,this.alertService=f,this.fileService=h,this.snapshotService=_,this.installlationService=k,this.proxyService=x,this.navigation=K,this.linkApi=Se,this.performanceWatchdogService=ze,this.cloudpilotService=Ye,this.dragDropService=vt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,ae.Z)(function*(){yield Le.emulationService.bootstrapComplete(),Le.boostrapComplete=!0;const Ot=Le.emulationState.getCurrentSession();Ot&&!Ot.wasResetForcefully&&(yield Le.launchEmulator()),Le.linkApi.installation.requestEvent.addHandler(Le.handleLinkApiInstallationRequest),Le.handleLinkApiInstallationRequest(),Le.dragDropService.registerClient(Le)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Ot=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Ot,this.emulationService.getStatistics())},this.onNewFrame=Ot=>{this.canvasDisplayService.updateEmulationCanvas(Ot)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Ot=this.linkApi.installation.receivePendingUrl();Ot&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Ot} ?`,{OK:()=>this.fileService.openUrl(Ot,Wn=>this.installlationService.installFiles([Wn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Ot} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new ja}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var t=this;return(0,ae.Z)(function*(){(yield t.popoverController.create({component:dp,event:e,componentProps:{showHelp:()=>t.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:pa,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,ae.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,ae.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,ae.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,ae.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,ae.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,ae.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.storageService.updateSessionPartial(t.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,t).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}function xb(n,e,t){return()=>{const r=t();r!==e&&(n.markForCheck(),e=r)}}function HM(n,e){let t=n,r=1;for(;e(t);)t=`${n} (${r++})`;return t}fp.\u0275fac=function(e){return new(e||fp)(C(ss),C(Ss),C(Xn),C(md),C(Dl),C(oi),C(Bc),C(ws),C(Kr),C(Bs),C(za),C(gd),C(ic),C(qc),C(jl),C(Yc),C(Vi),C(cc))},fp.\u0275cmp=ut({type:fp,selectors:[["app-emulation"]],viewQuery:function(e,t){if(1&e&&Pu(WH,5),2&e){let r;Fs(r=Os())&&(t.canvasRef=r.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,t){if(1&e&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return t.installFiles()}),ct(6,"ion-icon",2),J(),Jt(7,ZH,2,0,"ion-button",3),Jt(8,qH,2,0,"ion-button",3),J(),oe(9,"ion-buttons",4)(10,"ion-button",5),at("click",function(o){return t.openContextMenu(o)}),ct(11,"ion-icon",6),J(),Jt(12,YH,2,0,"ion-button",3),Jt(13,KH,2,0,"ion-button",3),Jt(14,XH,2,0,"ion-button",3),J()()(),oe(15,"ion-content")(16,"div",7),at("touchstart",function(o){return t.cancelIfEmulationActive(o)})("touchmove",function(o){return t.cancelIfEmulationActive(o)}),ct(17,"canvas",null,8),J(),Jt(19,QH,8,0,"div",9),Jt(20,JH,3,0,"div",9),J()),2&e){let r,o;Xe(3),Rs(t.title),Xe(2),ot("disabled",t.installFileDisabled),Xe(2),ot("ngIf",!t.navigation.isLocked()),Xe(1),ot("ngIf",t.navigation.isLocked()),Xe(4),ot("ngIf",t.eventHandlingService.isGameMode()),Xe(1),ot("ngIf",t.proxyService.isConnected()),Xe(1),ot("ngIf",t.performanceWatchdogService.isSlowdownDetected()),Xe(1),sl("locked",t.navigation.isLocked()),Xe(1),tf("display",!t.emulationState.getCurrentSession()||null!=(r=t.emulationState.getCurrentSession())&&r.wasResetForcefully?"none":void 0),Xe(1),tf("width",t.cssWidth)("height",t.cssHeight)("display",t.emulationState.getCurrentSession()?"block":"none"),Xe(2),ot("ngIf",null!=(o=t.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),Xe(1),ot("ngIf",!t.emulationState.getCurrentSession()&&t.boostrapComplete)}},dependencies:[fi,Ji,es,ts,ns,hi,os,is],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]});class pp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}pp.\u0275fac=function(e){return new(e||pp)},pp.\u0275cmp=ut({type:pp,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(oe(0,"ion-list")(1,"ion-item",0),at("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),qe(3," Edit "),J(),oe(4,"ion-item",0),at("click",function(){return t.onSave()}),ct(5,"ion-icon",2),qe(6," Save "),J(),oe(7,"ion-item",0),at("click",function(){return t.onReset()}),ct(8,"ion-icon",3),qe(9," Reset "),J(),oe(10,"ion-item",4),at("click",function(){return t.onDelete()}),ct(11,"ion-icon",5),qe(12," Delete "),J()()),2&e&&(Xe(1),ot("detail",!1),Xe(3),ot("detail",!1),Xe(3),ot("detail",!1),Xe(3),ot("detail",!1))},dependencies:[hi,ri,Ba]});const t5=["slidingItem"];function n5(n,e){if(1&n&&(oe(0,"span"),qe(1),J()),2&n){const t=Bt();Xe(1),Li(", OS ",t.decodeVersion(null==t.session?null:t.session.osVersion),"")}}class hp{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new Mn,this.resetSession=new Mn,this.edit=new Mn,this.save=new Mn,this.selectItem=new Mn,this.interaction=new Mn}get device(){return this.session?yM(this.session.device):""}onContextmenu(e){var t=this;return(0,ae.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:pp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(),onSave:()=>t.save.emit(),onDelete:()=>t.delete.emit(),onReset:()=>t.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(e){if(void 0===e)return"";const t=function e5(n){return{major:n>>>24&255,minor:n>>>20&15,fix:n>>>16&15,stage:n>>>12&15,build:4095&n}}(e);return`${t.major}.${t.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}function r5(n,e){1&n&&(oe(0,"div",10),ct(1,"ion-spinner"),J())}function o5(n,e){1&n&&(oe(0,"div",11)(1,"div",12),qe(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),ct(3,"br")(4,"br"),qe(5," You can find a collection of compatible ROMs on "),oe(6,"a",13),qe(7,"PalmDB"),J(),qe(8,". "),J()())}function i5(n,e){if(1&n){const t=Tr();oe(0,"app-session-item",15),at("delete",function(){const i=Lt(t).$implicit;return $t(Bt(2).deleteSession(i))})("selectItem",function(){const i=Lt(t).$implicit;return $t(Bt(2).launchSession(i))})("edit",function(){const i=Lt(t).$implicit;return $t(Bt(2).editSession(i))})("save",function(){const i=Lt(t).$implicit;return $t(Bt(2).saveSession(i))})("resetSession",function(){const i=Lt(t).$implicit;return $t(Bt(2).resetSession(i))})("interaction",function(){const i=Lt(t).$implicit;return $t(Bt(2).lastSessionTouched=i.id)}),J()}if(2&n){const t=e.$implicit,r=Bt(2);ot("session",t)("selected",r.currentSessionId===t.id)("touched",t.id===r.lastSessionTouched)}}function s5(n,e){if(1&n&&(oe(0,"ion-list"),Jt(1,i5,1,3,"app-session-item",14),J()),2&n){const t=Bt();Xe(1),ot("ngForOf",t.sessions)("ngForTrackBy",t.trackSessionBy)}}hp.\u0275fac=function(e){return new(e||hp)(C(Bc))},hp.\u0275cmp=ut({type:hp,selectors:[["app-session-item"]],viewQuery:function(e,t){if(1&e&&Pu(t5,5),2&e){let r;Fs(r=Os())&&(t.slidingItem=r.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,t){if(1&e){const r=Tr();oe(0,"ion-item-sliding",0,1),at("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit()}),oe(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return Lt(r),Ps(1).close(),$t(t.edit.emit(t.session))}),ct(4,"ion-icon",4),J(),oe(5,"ion-item-option",5),at("click",function(){return Lt(r),Ps(1).close(),$t(t.save.emit(t.session))}),ct(6,"ion-icon",6),J()(),oe(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return Lt(r),Ps(1).close(),$t(t.resetSession.emit(t.session))}),ct(9,"ion-icon",9),J(),oe(10,"ion-item-option",10),at("click",function(){return Lt(r),Ps(1).close(),$t(t.delete.emit(t.session))}),ct(11,"ion-icon",11),J()(),oe(12,"ion-item",12),at("click",function(){return t.selectItem.emit()}),oe(13,"ion-label")(14,"h2"),qe(15),J(),oe(16,"p"),qe(17),Jt(18,n5,2,1,"span",13),J()()()()}2&e&&(Xe(12),ot("color",t.color),Xe(1),sl("in-item-color",t.selected),Xe(2),Rs(null==t.session?null:t.session.name),Xe(2),rf("",t.device,", ",null==t.session?null:t.session.ram,"MB RAM"),Xe(1),ot("ngIf",null==t.session?null:t.session.osVersion))},dependencies:[fi,hi,ri,Rm,Fm,Om,rs],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class Za{constructor(e,t,r,o,i,s,a,u,f,h,_,k,x){this.sessionService=e,this.fileService=t,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=u,this.linkApi=f,this.router=h,this.cloudpilotService=_,this.dragDropService=k,this.cd=x,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const K=this.linkApi.import.receivePendingUrl();K&&this.alertService.message("Import request",`Do you want to import<br>${K} ?`,{OK:()=>this.fileService.openUrl(K,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=xb(x,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,t)=>e.name.localeCompare(t.name))}deleteSession(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>t.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var t=this;return(0,ae.Z)(function*(){const r={...e};(yield t.editSettings(e))&&!PM()(e,r)&&(yield t.sessionService.updateSession(e))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){return this.fileService.saveSession(e)}trackSessionBy(e,t){return t.id}launchSession(e){var t=this;return(0,ae.Z)(function*(){t.lastSessionTouched=e.id,t.currentSessionOverride=e.id,t.cd.markForCheck();const r=yield t.emulationService.switchSession(e.id);t.currentSessionOverride=void 0,t.cd.markForCheck(),r&&t.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var t=this;return(0,ae.Z)(function*(){const r=e.id===t.emulationState.getCurrentSession()?.id;r&&(yield t.emulationService.stop()),yield t.storageService.deleteStateForSession(e),yield t.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),r&&(yield t.emulationService.switchSession(e.id)),yield(yield t.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:pa,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleDropFiles.bind(this))}handleDropFiles(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(e[0])}}processFile(e){var t=this;return(0,ae.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void t.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");let r;try{r=yield e.getContent()}catch(i){return console.warn(i),void(yield t.alertService.errorMessage(`Unable to open ${e.name}.`))}const o=(yield t.cloudpilotService.cloudpilot).deserializeSessionImage(r);if(o){const i={name:t.disambiguateSessionName(o.metadata?.name??e.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield t.editSettings(i)){const s=yield t.sessionService.addSessionFromImage(o,i.name,i);t.lastSessionTouched=s.id}}else{const i=(yield t.cloudpilotService.cloudpilot).getRomInfo(r);if(!i)return void t.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void t.alertService.errorMessage("No supported device for this ROM.");const s={name:t.disambiguateSessionName(e.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield t.editSettings(s,i.supportedDevices)){const a=yield t.sessionService.addSessionFromRom(r,s.name,s.device,s);t.lastSessionTouched=a.id}}})()}editSettings(e,t=[e.device]){return new Promise(r=>{let o;this.modalController.create({component:pd,backdropDismiss:!1,componentProps:{session:e,availableDevices:t,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(e){const t=this.sessionService.getSessions();return HM(e,r=>t.some(o=>o.name===r))}}function a5(n,e){1&n&&(oe(0,"ion-item",8)(1,"ion-label"),qe(2,"Clipboard integration"),J(),ct(3,"ion-toggle",17),J())}function l5(n,e){if(1&n){const t=Tr();oe(0,"ion-item",8)(1,"ion-label",18),qe(2,"Proxy server"),J(),oe(3,"div",19),ct(4,"ion-input",20),oe(5,"ion-button",21),at("click",function(o){Lt(t);const i=Bt();return o.preventDefault(),o.stopPropagation(),$t(i.testProxyConnection())})("touchstart",function(o){Lt(t);const i=Bt();return o.preventDefault(),o.stopPropagation(),$t(i.testProxyConnection())}),qe(6," Test "),J()()()}if(2&n){const t=Bt();Xe(5),ot("disabled",!t.proxyServerValid)}}Za.\u0275fac=function(e){return new(e||Za)(C(Ga),C(Bs),C($c),C(Kr),C(ss),C(Ss),C(Xn),C(ws),C(jl),C(Go),C(Vi),C(cc),C(kt))},Za.\u0275cmp=ut({type:Za,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,t){1&e&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Sessions"),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return t.importSession()}),ct(6,"ion-icon",2),J()(),oe(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return t.showHelp()}),ct(9,"ion-icon",4),J(),ct(10,"app-pwa-prompt"),J()()(),oe(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Sessions"),J()()(),Jt(16,r5,2,0,"div",7),Jt(17,o5,9,0,"div",8),Jt(18,s5,2,2,"ion-list",9),J()),2&e&&(Xe(16),ot("ngIf",t.sessionService.isLoading()),Xe(1),ot("ngIf",!t.sessionService.isLoading()&&0===t.sessions.length),Xe(1),ot("ngIf",!t.sessionService.isLoading()&&t.sessions.length>0))},dependencies:[Mc,fi,Ji,es,ts,ns,hi,Ba,Kf,os,is,ac,hp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),U([ao()],Za.prototype,"deleteSession",null),U([ao()],Za.prototype,"editSession",null),U([ao()],Za.prototype,"saveSession",null),U([ao()],Za.prototype,"launchSession",null),U([ao()],Za.prototype,"resetSession",null);class mp{constructor(e,t,r,o,i){this.modalController=e,this.kvsService=t,this.clipboardService=r,this.alertService=o,this.proxyService=i,this.onAudioOnStartChange=s=>{this.kvsService.kvs.enableAudioOnFirstInteraction=s,s&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:pa,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,ae.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,ae.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new nm({volume:new pi(this.kvsService.kvs.volume),showStatistics:new pi(this.kvsService.kvs.showStatistics),runHidden:new pi(this.kvsService.kvs.runHidden),clipboardIntegration:new pi(this.kvsService.kvs.clipboardIntegration),networkRedirection:new pi(this.kvsService.kvs.networkRedirection),proxyServer:new pi(this.kvsService.kvs.proxyServer,{validators:[L6]}),autoLockUI:new pi(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new pi(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new pi(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}mp.\u0275fac=function(e){return new(e||mp)(C(ws),C(oi),C(Hc),C(Kr),C(ic))},mp.\u0275cmp=ut({type:mp,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Settings"),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.showHelp()}),ct(6,"ion-icon",3),J(),ct(7,"app-pwa-prompt"),J()()(),oe(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),qe(12,"Settings"),J()()(),oe(13,"div",6)(14,"form",7)(15,"h1"),qe(16,"Emulation"),J(),oe(17,"ion-item",8)(18,"ion-label"),qe(19,"Volume"),J(),ct(20,"ion-range",9),J(),oe(21,"ion-item",8)(22,"ion-label"),qe(23,"Enable audio on start"),J(),ct(24,"ion-toggle",10),J(),oe(25,"ion-item",8)(26,"ion-label"),qe(27,"Run when hidden"),J(),ct(28,"ion-toggle",11),J(),oe(29,"h1"),qe(30,"Host integration"),J(),Jt(31,a5,4,0,"ion-item",12),oe(32,"ion-item",8)(33,"ion-label"),qe(34,"Network redirection"),J(),ct(35,"ion-toggle",13),J(),Jt(36,l5,7,1,"ion-item",12),oe(37,"h1"),qe(38,"UI"),J(),oe(39,"ion-item",8)(40,"ion-label"),qe(41,"Auto-lock UI"),J(),ct(42,"ion-toggle",14),J(),oe(43,"ion-item",8)(44,"ion-label"),qe(45,"Show statistics"),J(),ct(46,"ion-toggle",15),J(),oe(47,"ion-item",8)(48,"ion-label"),qe(49,"Open from remote sources"),J(),ct(50,"ion-toggle",16),J()()()()),2&e&&(ot("translucent",!0),Xe(14),ot("formGroup",t.formGroup),Xe(17),ot("ngIf",t.clipboardService.isSupported()),Xe(5),ot("ngIf",t.showProxyServer))},dependencies:[fi,ml,pl,hl,Ji,es,ts,ns,hi,Cl,ri,rs,Kv,os,Xf,is,ed,Yf,bl,ac,ua,Na],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]});class Kc{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}function c5(n,e){1&n&&(oe(0,"div",14)(1,"b"),qe(2,"WARNING:"),J(),qe(3," This image cannot be used as a memory stick image."),J())}Kc.\u0275fac=function(e){return new(e||Kc)},Kc.\u0275pipe=ho({name:"cardSize",type:Kc,pure:!0});class yd{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value&&r.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Wl({name:new Cs("",{nonNullable:!0,validators:[Df.required,this.validateNameUnique]}),size:new Cs({value:"dummy",disabled:!0}),checkAutomatically:new Cs(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}function u5(n,e){if(1&n&&(oe(0,"ion-select-option",13),qe(1),Aa(2,"cardSize"),J()),2&n){const t=e.$implicit,r=Bt();ot("value",t),Xe(1),Li("",Pa(2,2,r.sizeBytes(t))," ")}}yd.\u0275fac=function(e){return new(e||yd)(C(ha))},yd.\u0275cmp=ut({type:yd,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.save()}),qe(6,"Save"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),oe(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),oe(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),J(),ct(15,"ion-input",9),J(),oe(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),J(),oe(19,"ion-select",10)(20,"ion-select-option",11),qe(21),Aa(22,"cardSize"),J()()(),oe(23,"ion-item",7)(24,"ion-label"),qe(25,"Check for errors automatically"),J(),ct(26,"ion-toggle",12),J()(),Jt(27,c5,4,0,"div",13),J()),2&e&&(Xe(3),Rs(t.newCard?"New memory card":"Edit memory card"),Xe(2),ot("disabled",t.formGroup.invalid),Xe(6),ot("formGroup",t.formGroup),Xe(10),Li("",Pa(22,5,null==t.card?null:t.card.size)," "),Xe(6),ot("ngIf",!t.memoryStickSupported))},dependencies:[fi,Ji,es,ts,ns,Cl,ri,rs,Nm,Lm,os,Xf,is,ed,Yf,bl,ml,pl,hl,ua,Na,Kc],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]});const d5=[Do.mb4,Do.mb8,Do.mb16,Do.mb32,Do.mb64,Do.mb128];class gp{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Wl({name:new Cs("",{nonNullable:!0,validators:[Df.required,this.validateNameUnique]}),size:new Cs(Do.mb32,{nonNullable:!0}),checkAutomatically:new Cs(!0,{nonNullable:!0})})}get sizes(){return d5}sizeBytes(e){return function q6(n){switch(n){case Do.mb4:return 4046848;case Do.mb8:return 8110080;case Do.mb16:return 16220160;case Do.mb32:return 32473088;case Do.mb64:return 64978944;case Do.mb128:return 129990656;default:throw new Error(`bad card size ${n}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}gp.\u0275fac=function(e){return new(e||gp)(C(ha))},gp.\u0275cmp=ut({type:gp,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"New memory card"),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.create()}),qe(6,"Create"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),oe(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),oe(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),J(),ct(15,"ion-input",9),J(),oe(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),J(),oe(19,"ion-select",10),Jt(20,u5,3,4,"ion-select-option",11),J()(),oe(21,"ion-item",7)(22,"ion-label"),qe(23,"Check for errors automatically"),J(),ct(24,"ion-toggle",12),J()()()),2&e&&(Xe(5),ot("disabled",t.formGroup.invalid),Xe(6),ot("formGroup",t.formGroup),Xe(9),ot("ngForOf",t.sizes))},dependencies:[Mc,Ji,es,ts,ns,Cl,ri,rs,Nm,Lm,os,Xf,is,ed,Yf,bl,ml,pl,hl,ua,Na,Kc]});class yp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}yp.\u0275fac=function(e){return new(e||yp)},yp.\u0275cmp=ut({type:yp,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(oe(0,"ion-list")(1,"ion-item",0),at("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),qe(3," Edit "),J(),oe(4,"ion-item",0),at("click",function(){return t.onSave()}),ct(5,"ion-icon",2),qe(6," Save "),J(),oe(7,"ion-item",0),at("click",function(){return t.onCheck()}),ct(8,"ion-icon",3),qe(9," Check "),J(),oe(10,"ion-item",4),at("click",function(){return t.onDelete()}),ct(11,"ion-icon",5),qe(12," Delete "),J()()),2&e&&(Xe(1),ot("detail",!1),Xe(3),ot("detail",!1),Xe(3),ot("detail",!1),Xe(3),ot("detail",!1))},dependencies:[hi,ri,Ba]});class _p{constructor(e,t){this.storageCardService=e,this.popoverController=t,this.touched=!1,this.interaction=new Mn,this.selectCard=new Mn,this.edit=new Mn,this.check=new Mn,this.delete=new Mn,this.save=new Mn}onContextmenu(e){var t=this;return(0,ae.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:yp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(t.card),onSave:()=>t.save.emit(t.card),onCheck:()=>t.check.emit(),onDelete:()=>t.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case kr.dirty:return"needs check";case kr.clean:return"no errors";case kr.unformatted:return"no filesystem";case kr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}function f5(n,e){1&n&&(oe(0,"div",10),ct(1,"ion-spinner"),J())}function p5(n,e){1&n&&(oe(0,"div",11)(1,"div",12),qe(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),J()())}function h5(n,e){if(1&n){const t=Tr();oe(0,"app-storage-card",14),at("delete",function(){const i=Lt(t).$implicit;return $t(Bt(2).deleteCard(i))})("selectCard",function(){const i=Lt(t).$implicit;return $t(Bt(2).selectCard(i))})("edit",function(){const i=Lt(t).$implicit;return $t(Bt(2).editCard(i))})("check",function(){const i=Lt(t).$implicit;return $t(Bt(2).checkCard(i))})("interaction",function(){const i=Lt(t).$implicit;return $t(Bt(2).lastCardTouched=i.id)})("save",function(){const i=Lt(t).$implicit;return $t(Bt(2).saveCard(i))}),J()}if(2&n){const t=e.$implicit,r=Bt(2);ot("card",t)("touched",t.id===r.lastCardTouched)}}function m5(n,e){if(1&n&&(oe(0,"ion-list"),Jt(1,h5,1,2,"app-storage-card",13),J()),2&n){const t=Bt();Xe(1),ot("ngForOf",t.cards)("ngForTrackBy",t.trackCardBy)}}_p.\u0275fac=function(e){return new(e||_p)(C(ha),C(Bc))},_p.\u0275cmp=ut({type:_p,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,t){if(1&e){const r=Tr();oe(0,"ion-item-sliding",0,1),at("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.card)}),oe(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return Lt(r),Ps(1).close(),$t(t.edit.emit(t.card))}),ct(4,"ion-icon",4),J(),oe(5,"ion-item-option",5),at("click",function(){return Lt(r),Ps(1).close(),$t(t.save.emit(t.card))}),ct(6,"ion-icon",6),J()(),oe(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return Lt(r),Ps(1).close(),$t(t.check.emit(t.card))}),ct(9,"ion-icon",9),J(),oe(10,"ion-item-option",10),at("click",function(){return Lt(r),Ps(1).close(),$t(t.delete.emit(t.card))}),ct(11,"ion-icon",11),J()(),oe(12,"ion-item",12),at("click",function(){return t.selectCard.emit(),t.interaction.emit()}),oe(13,"ion-label")(14,"h2"),qe(15),J(),oe(16,"p"),qe(17),Aa(18,"cardSize"),J()()()()}2&e&&(Xe(12),ot("color",t.color),Xe(3),Rs(null==t.card?null:t.card.name),Xe(2),rf("",Pa(18,4,null==t.card?null:t.card.size),", ",t.status,""))},dependencies:[hi,ri,Rm,Fm,Om,rs,Kc],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class ma{constructor(e,t,r,o,i,s,a,u,f){var h=this;this.actionSheetController=e,this.storageCardService=t,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=u,this.handleCardImport=function(){var _=(0,ae.Z)(function*(k){const x=yield h.cloudpilotService.cloudpilot;let K;try{K=yield k.getContent()}catch(Ye){return console.warn(Ye),void(yield h.alertService.errorMessage(`Unable to open ${k.name}".`))}const Se=x.getCardSupportLevel(K.length);if(0===Se)return void h.alertService.errorMessage("This is not a supported card image.");const ze=yield new Promise(function(){var Ye=(0,ae.Z)(function*(vt){const Le=yield h.modalController.create({component:yd,backdropDismiss:!1,componentProps:{card:{name:h.disambiguateName(k.name),size:K.length},cardSupportLevel:Se,newCard:!0,onCancel:()=>{Le.dismiss(),vt(void 0)},onSave:Ot=>{vt(Ot),Le.dismiss()}}});yield Le.present()});return function(vt){return Ye.apply(this,arguments)}}());ze&&(yield h.storageCardService.createCardFromImage(ze.name,K,!!ze.dontFsckAutomatically))});return function(k){return _.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=xb(f,[],()=>this.storageCardService.getAllCards())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleFilesFromDrop.bind(this))}addCardImage(){var e=this;return(0,ae.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:pa,componentProps:{url:"assets/doc/cards.md"}})).present()})()}selectCard(e){var t=this;return(0,ae.Z)(function*(){(yield t.storageCardService.browseCard(e))&&t.onMountForBrowse(e)})()}editCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.cloudpilotService.cloudpilot,o=yield t.modalController.create({component:yd,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:r.getCardSupportLevel(e.size),onCancel:()=>o.dismiss(),onSave:(i=(0,ae.Z)(function*(s){yield t.storageCardService.updateCard(e.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(e){return this.storageCardService.saveCard(e.id,`${Ym(e.name.replace(/\.img$/,""))}.img`)}checkCard(e){return this.storageCardService.checkCard(e)}deleteCard(e){var t=this;return(0,ae.Z)(function*(){var o;yield(yield t.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,ae.Z)(function*(){try{yield t.storageCardService.deleteCard(e.id)}catch(i){t.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(e,t){return t.id}handleFilesFromDrop(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(e[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,ae.Z)(function*(){const t=yield e.modalController.create({component:gp,backdropDismiss:!1,componentProps:{onCancel:()=>t.dismiss(),onCreate:(r=(0,ae.Z)(function*(o,i,s){yield e.storageCardService.createEmptyCard(o,i,s),yield t.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield t.present()})()}disambiguateName(e){const t=this.storageCardService.getAllCards();return HM(e,r=>t.some(o=>o.name===r))}}function g5(n,e){1&n&&ct(0,"ion-icon",8)}function y5(n,e){1&n&&ct(0,"ion-icon",9)}function _5(n,e){1&n&&ct(0,"ion-icon",10)}function v5(n,e){if(1&n){const t=Tr();oe(0,"ion-item",2),at("click",function(){const i=Lt(t).index;return $t(Bt(2).onSelect(i))}),Qd(1,3),Jt(2,g5,1,0,"ion-icon",4),Jt(3,y5,1,0,"ion-icon",5),Jt(4,_5,1,0,"ion-icon",6),Jd(),oe(5,"div",7),qe(6),J()()}if(2&n){const t=e.$implicit,r=e.index,o=Bt(2);ot("detail",!1)("lines",r===o.entries.length-1?"none":"full"),Xe(1),ot("ngSwitch",o.entries.length),Xe(1),ot("ngSwitchCase",r+1),Xe(1),ot("ngSwitchCase",r+2),Xe(3),Rs(t)}}function b5(n,e){if(1&n&&(oe(0,"ion-list"),Jt(1,v5,7,6,"ion-item",1),J()),2&n){const t=Bt();Xe(1),ot("ngForOf",t.entries)}}ma.\u0275fac=function(e){return new(e||ma)(C(tp),C(ha),C(ws),C($c),C(Vi),C(Kr),C(qs),C(Bs),C(kt))},ma.\u0275cmp=ut({type:ma,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,t){1&e&&(oe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Memory cards"),J(),oe(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return t.addCardImage()}),ct(6,"ion-icon",2),J()(),oe(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return t.showHelp()}),ct(9,"ion-icon",4),J(),ct(10,"app-pwa-prompt"),J()()(),oe(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Memory cards"),J()()(),Jt(16,f5,2,0,"div",7),Jt(17,p5,3,0,"div",8),Jt(18,m5,2,2,"ion-list",9),J()),2&e&&(Xe(16),ot("ngIf",t.storageCardService.isLoading()),Xe(1),ot("ngIf",!t.storageCardService.isLoading()&&0===t.cards.length),Xe(1),ot("ngIf",!t.storageCardService.isLoading()&&t.cards.length>0))},dependencies:[Mc,fi,Ji,es,ts,ns,hi,Ba,Kf,os,is,ac,_p],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),U([ao()],ma.prototype,"addCardImage",null),U([ao()],ma.prototype,"selectCard",null),U([ao()],ma.prototype,"editCard",null),U([ao()],ma.prototype,"saveCard",null),U([ao()],ma.prototype,"checkCard",null),U([ao()],ma.prototype,"deleteCard",null);class vp{constructor(){this.onSelect=()=>{}}}vp.\u0275fac=function(e){return new(e||vp)},vp.\u0275cmp=ut({type:vp,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,t){1&e&&Jt(0,b5,2,1,"ion-list",0),2&e&&ot("ngIf",t.entries)},dependencies:[Mc,fi,jh,QE,JE,hi,ri,Ba],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});class bp{constructor(e){this.vfsService=e,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}bp.\u0275fac=function(e){return new(e||bp)(C(Ks))},bp.\u0275cmp=ut({type:bp,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,t){1&e&&(oe(0,"ion-list")(1,"ion-item",0),at("click",function(){return t.onStartSelection()}),ct(2,"ion-icon",1),qe(3," Start selection "),J(),oe(4,"ion-item",2),at("click",function(){return t.onAddFiles()}),ct(5,"ion-icon",3),qe(6," Add files "),J(),oe(7,"ion-item",2),at("click",function(){return t.onCreateDirectry()}),ct(8,"ion-icon",4),qe(9," Add directory "),J(),oe(10,"ion-item",2),at("click",function(){return t.onExtractZipfile()}),ct(11,"ion-icon",5),qe(12," Extract zip "),J(),oe(13,"ion-item",0),at("click",function(){return t.onPaste()}),ct(14,"ion-icon",6),qe(15," Paste "),J(),oe(16,"ion-item",7),at("click",function(){return t.onHelp()}),ct(17,"ion-icon",8),qe(18," Help "),J()()),2&e&&(Xe(1),ot("detail",!1)("disabled",t.emptyDirectory),Xe(3),ot("detail",!1),Xe(3),ot("detail",!1),Xe(3),ot("detail",!1),Xe(3),ot("detail",!1)("disabled",!t.vfsService.isClipboardPopulated()),Xe(3),ot("detail",!1))},dependencies:[hi,ri,Ba]});class Xc{constructor(e,t){this.modalController=e,this.vfsService=t,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Wl({name:new Cs("",{nonNullable:!0,validators:[Df.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new Cs(!1,{nonNullable:!0}),attrHidden:new Cs(!1,{nonNullable:!0}),attrSystem:new Cs(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var e=this;return(0,ae.Z)(function*(){yield e.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var e=this;return(0,ae.Z)(function*(){yield e.save()})()}save(){var e=this;return(0,ae.Z)(function*(){e.entry&&e.formGroup.valid&&(yield e.vfsService.updateFileEntry(e.entry.path,{name:e.formGroup.controls.name.value??"",attributes:{hidden:!!e.formGroup.controls.attrHidden.value,readonly:!!e.formGroup.controls.attrReadonly.value,system:!!e.formGroup.controls.attrSystem.value}}),e.onSave(),e.modalController.dismiss())})()}}Xc.\u0275fac=function(e){return new(e||Xc)(C(ws),C(Ks))},Xc.\u0275cmp=ut({type:Xc,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.onSaveClick()}),qe(6,"Save"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),J()()()(),oe(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),oe(12,"ion-item",7)(13,"ion-label",8),qe(14),J(),ct(15,"ion-input",9),J(),oe(16,"ion-item",7)(17,"h2"),qe(18,"Attributes"),J()(),oe(19,"ion-item",7)(20,"ion-label"),ct(21,"ion-icon",10),qe(22,"Readonly"),J(),ct(23,"ion-checkbox",11),J(),oe(24,"ion-item",7)(25,"ion-label"),ct(26,"ion-icon",12),qe(27,"Hidden"),J(),ct(28,"ion-checkbox",13),J(),oe(29,"ion-item",7)(30,"ion-label"),ct(31,"ion-icon",14),qe(32,"System"),J(),ct(33,"ion-checkbox",15),J()()()),2&e&&(Xe(3),Li("Edit ",t.subjectName.toLowerCase(),""),Xe(2),ot("disabled",t.formGroup.invalid),Xe(6),ot("formGroup",t.formGroup),Xe(3),Li("",t.subjectName," name"),Xe(1),gh("placeholder","Enter ",t.subjectName.toLowerCase()," name"))},dependencies:[Ji,es,yk,ts,ns,hi,Cl,ri,rs,os,is,ed,bl,ml,pl,hl,ua,Na],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),U([ao()],Xc.prototype,"onSaveClick",null),U([ao()],Xc.prototype,"onEnter",null);class Cp{constructor(e,t){this.el=e,this.zone=t;const r=e.nativeElement.querySelector("input");r?r.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const e=this.el.nativeElement.querySelector("input");e&&(setTimeout(()=>e.focus(),100),this.observer?.disconnect())}}Cp.\u0275fac=function(e){return new(e||Cp)(C(gt),C(dt))},Cp.\u0275dir=xt({type:Cp,selectors:[["","appAutofocus",""]]});class wp{constructor(e,t){this.vfsService=e,this.modalController=t,this.validateNameUnique=r=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Wl({name:new Cs("",{nonNullable:!0,validators:[Df.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}function zM(n){let e,t,r=!1;return o=>((!r||o!==e)&&(e=o,r=!0,t=n(o)),t)}wp.\u0275fac=function(e){return new(e||wp)(C(Ks),C(ws))},wp.\u0275cmp=ut({type:wp,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["translucent",""],["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(e,t){1&e&&(oe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Create directory"),J(),oe(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.onCreateClick()}),qe(6,"Create"),J()(),oe(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),J()()()(),oe(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),oe(12,"ion-item",7)(13,"ion-label",8),qe(14,"Directory name"),J(),ct(15,"ion-input",9),J()()()),2&e&&(Xe(5),ot("disabled",t.formGroup.invalid),Xe(6),ot("formGroup",t.formGroup))},dependencies:[Ji,es,ts,ns,Cl,ri,rs,os,is,bl,ml,pl,hl,ua,Na,Cp]});class Sp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}Sp.\u0275fac=function(e){return new(e||Sp)},Sp.\u0275cmp=ut({type:Sp,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(oe(0,"ion-list")(1,"ion-item",0),at("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),qe(3," Edit "),J(),oe(4,"ion-item",0),at("click",function(){return t.onSave()}),ct(5,"ion-icon",2),qe(6," Save "),J(),oe(7,"ion-item",0),at("click",function(){return t.onCopy()}),ct(8,"ion-icon",3),qe(9," Copy "),J(),oe(10,"ion-item",0),at("click",function(){return t.onCut()}),ct(11,"ion-icon",4),qe(12," Cut "),J(),oe(13,"ion-item",5),at("click",function(){return t.onDelete()}),ct(14,"ion-icon",6),qe(15," Delete "),J()()),2&e&&(Xe(1),ot("detail",!1),Xe(3),ot("detail",!1),Xe(3),ot("detail",!1),Xe(3),ot("detail",!1),Xe(3),ot("detail",!1))},dependencies:[hi,ri,Ba]});class _d{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}_d.\u0275fac=function(e){return new(e||_d)},_d.\u0275pipe=ho({name:"fileSize",type:_d,pure:!0});const C5=["slidingItem"];function w5(n,e){1&n&&ct(0,"ion-icon",23)}function S5(n,e){1&n&&ct(0,"ion-icon",24)}function E5(n,e){1&n&&ct(0,"ion-icon",25)}function D5(n,e){1&n&&ct(0,"ion-icon",26)}function I5(n,e){1&n&&ct(0,"ion-icon",27)}function k5(n,e){1&n&&ct(0,"ion-icon",28)}function M5(n,e){1&n&&ct(0,"ion-icon",29)}function x5(n,e){1&n&&ct(0,"ion-icon",30)}function T5(n,e){1&n&&ct(0,"ion-icon",31)}function A5(n,e){if(1&n&&(Qd(0),qe(1),Aa(2,"fileSize"),Jd()),2&n){const t=Bt();Xe(1),Li(" - ",Pa(2,1,null==t.entry?null:t.entry.size)," ")}}class Ep{constructor(e,t,r){this.actionSheetController=e,this.popoverController=t,this.vfsService=r,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new Mn,this.selectEntry=new Mn,this.editEntry=new Mn,this.copyEntry=new Mn,this.cutEntry=new Mn,this.deleteEntry=new Mn,this.saveEntry=new Mn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var t=this;return(0,ae.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:Sp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.editEntry.emit(t.entry),onSave:()=>t.saveEntry.emit(t.entry),onCopy:()=>t.copyEntry.emit(t.entry),onCut:()=>t.cutEntry.emit(t.entry),onDelete:()=>t.deleteEntry.emit(t.entry)},reference:"event"})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var e=this;return(0,ae.Z)(function*(){const t=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${t}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${t}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}function P5(n,e){if(1&n){const t=Tr();oe(0,"ion-toolbar")(1,"ion-title",6),at("click",function(o){return Lt(t),$t(Bt().openBreadcrumbMenu(o))}),oe(2,"div",7)(3,"div",8),qe(4),J(),ct(5,"div",9),J()(),oe(6,"ion-buttons",10),ct(7,"ion-back-button"),J(),oe(8,"ion-buttons",11)(9,"ion-button",12),at("click",function(o){return Lt(t),$t(Bt().openContextMenu(o,"trigger"))}),ct(10,"ion-icon",13),J()()()}if(2&n){const t=Bt();Xe(1),ot("id",t.breadcrumbTriggerId),Xe(3),Rs(t.title)}}function R5(n,e){if(1&n){const t=Tr();oe(0,"ion-buttons",15)(1,"ion-button",12),at("click",function(){return Lt(t),$t(Bt(2).onSelectAll())}),qe(2,"Select all"),J()()}}function F5(n,e){if(1&n){const t=Tr();oe(0,"ion-buttons",15)(1,"ion-button",12),at("click",function(){return Lt(t),$t(Bt(2).selection.clear())}),qe(2,"Clear"),J()()}}function O5(n,e){if(1&n){const t=Tr();oe(0,"ion-toolbar")(1,"ion-title"),qe(2,"Selection"),J(),oe(3,"ion-buttons",11)(4,"ion-button",12),at("click",function(){return Lt(t),$t(Bt().onSelectionDone())}),qe(5),J()(),Jt(6,R5,3,0,"ion-buttons",14),Jt(7,F5,3,0,"ion-buttons",14),J()}if(2&n){const t=Bt();Xe(5),Rs(0===t.selection.size?"Cancel":"Done"),Xe(1),ot("ngIf",t.selection.size!==(null==t.entries?null:t.entries.length)),Xe(1),ot("ngIf",t.selection.size===(null==t.entries?null:t.entries.length))}}function N5(n,e){if(1&n&&(oe(0,"div",16)(1,"div",17),qe(2),J()()),2&n){const t=Bt();Xe(2),Li(" empty ",t.isRoot?"card":"directory"," ")}}function L5(n,e){if(1&n){const t=Tr();oe(0,"app-file-entry",18),at("selectEntry",function(){const i=Lt(t).$implicit;return $t(Bt().onSelect(i))})("editEntry",function(){const i=Lt(t).$implicit;return $t(Bt().onEditEntry(i))})("saveEntry",function(){const i=Lt(t).$implicit;return $t(Bt().onSaveEntry(i))})("copyEntry",function(){const i=Lt(t).$implicit;return $t(Bt().onCopyEntry(i))})("cutEntry",function(){const i=Lt(t).$implicit;return $t(Bt().onCutEntry(i))})("deleteEntry",function(){const i=Lt(t).$implicit;return $t(Bt().onDeleteEntry(i))})("interaction",function(){const i=Lt(t).$implicit;return $t(Bt().lastEntryTouched=i.name)}),J()}if(2&n){const t=e.$implicit,r=Bt();ot("entry",t)("selecting","select"===r.mode)("selected",r.selection.has(t.name))("touched",t.name===r.lastEntryTouched)}}function $5(n,e){if(1&n&&(oe(0,"p"),qe(1),Aa(2,"fileSize"),Aa(3,"fileSize"),J()),2&n){const t=Bt(2);Xe(1),rf(" ",Pa(2,2,t.bytesFree)," free, ",Pa(3,4,t.bytesTotal)," total ")}}function B5(n,e){if(1&n&&(oe(0,"p"),qe(1),Aa(2,"fileSize"),J()),2&n){const t=Bt(2);Xe(1),Ly(" ",Pa(2,3,t.bytesInFiles)," in ",t.fileCount," ",1===t.fileCount?"file":"files"," ")}}function V5(n,e){if(1&n&&(oe(0,"ion-item",19)(1,"ion-label"),Jt(2,$5,4,6,"p",0),Jt(3,B5,3,5,"p",0),J()()),2&n){const t=Bt();Xe(2),ot("ngIf",t.isRoot),Xe(1),ot("ngIf",t.fileCount>0)}}function j5(n,e){return n.isDirectory&&!e.isDirectory?-1:!n.isDirectory&&e.isDirectory?1:n.name.localeCompare(e.name)}Ep.\u0275fac=function(e){return new(e||Ep)(C(tp),C(Bc),C(Ks))},Ep.\u0275cmp=ut({type:Ep,selectors:[["app-file-entry"]],viewQuery:function(e,t){if(1&e&&Pu(C5,5),2&e){let r;Fs(r=Os())&&(t.slidingItem=r.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[$o],decls:28,vars:19,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","clipboard-outline","size","small","slot","end",1,"attribute-icon"],["name","cut-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,t){if(1&e){const r=Tr();oe(0,"ion-item-sliding",0,1),at("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.entry)}),oe(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return Lt(r),Ps(1).close(),$t(t.editEntry.emit(t.entry))}),ct(4,"ion-icon",4),J(),oe(5,"ion-item-option",5),at("click",function(){return Lt(r),Ps(1).close(),$t(t.saveEntry.emit(t.entry))}),ct(6,"ion-icon",6),J()(),oe(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return Lt(r),Ps(1).close(),$t(t.cutOrCopyEntry())}),ct(9,"ion-icon",9),J(),oe(10,"ion-item-option",10),at("click",function(){return Lt(r),Ps(1).close(),$t(t.deleteEntry.emit(t.entry))}),ct(11,"ion-icon",11),J()(),oe(12,"ion-item",12),at("click",function(){return t.selectEntry.emit(),t.interaction.emit()}),Jt(13,w5,1,0,"ion-icon",13),Jt(14,S5,1,0,"ion-icon",14),Jt(15,E5,1,0,"ion-icon",15),Jt(16,D5,1,0,"ion-icon",16),Jt(17,I5,1,0,"ion-icon",17),Jt(18,k5,1,0,"ion-icon",18),Jt(19,M5,1,0,"ion-icon",19),Jt(20,x5,1,0,"ion-icon",20),Jt(21,T5,1,0,"ion-icon",21),oe(22,"ion-label")(23,"h2"),qe(24),J(),oe(25,"p"),qe(26),Jt(27,A5,3,3,"ng-container",22),J()()()()}2&e&&(ot("disabled",t.selecting),Xe(12),tf("opacity",t.touched?1:.99999),sl("is-directory",null==t.entry?null:t.entry.isDirectory),ot("color",t.color)("detail",(null==t.entry?null:t.entry.isDirectory)&&!t.selecting),Xe(1),ot("ngIf",null==t.entry?null:t.entry.isDirectory),Xe(1),ot("ngIf",!(null!=t.entry&&t.entry.isDirectory)),Xe(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.readonly),Xe(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.hidden),Xe(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.system),Xe(1),ot("ngIf",t.markedForCopy),Xe(1),ot("ngIf",t.markedForCut),Xe(1),ot("ngIf",t.selecting&&!t.selected),Xe(1),ot("ngIf",t.selecting&&t.selected),Xe(3),Rs(null==t.entry?null:t.entry.name),Xe(2),Li(" ",null==t.entry?null:t.entry.lastModifiedLocalDate," "),Xe(1),ot("ngIf",!(null!=t.entry&&t.entry.isDirectory)))},dependencies:[fi,hi,ri,Rm,Fm,Om,rs,_d],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"],changeDetection:0});let U5=0;class Es{constructor(e,t,r,o,i,s,a,u){this.vfsService=e,this.popoverController=t,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=u,this.bytesInFilesMemoized=zM(f=>f?.reduce((h,_)=>h+(_.isDirectory?0:_.size),0)??0),this.fileCountMemoized=zM(f=>f?.filter(h=>!h.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+U5++,this.checkEntries=xb(u,void 0,()=>void 0!==this.path?e.readdir(this.path):void 0)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries()}handleDragDropEvent(e){this.fileService.openFromDrop(e,t=>this.vfsService.addFiles(t,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(j5):[]}trackEntryBy(e,t){return t.name}onSelect(e){"browse"===this.mode?e.isDirectory&&this.onNavigate(e.path):this.selection?.has(e.name)?this.selection.delete(e.name):this.selection.add(e.name)}onEditEntry(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.modalController.create({component:Xc,backdropDismiss:!1,componentProps:{entry:e}})).present()})()}onSaveEntry(e){var t=this;return(0,ae.Z)(function*(){t.path&&(e.isDirectory?yield t.vfsService.archiveFiles([e],t.path):yield t.vfsService.saveFile(e))})()}onCopyEntry(e){this.path&&this.vfsService.copyToClipboard(this.path,[e.name],"copy")}onCutEntry(e){this.path&&this.vfsService.copyToClipboard(this.path,[e.name],"cut")}onDeleteEntry(e){var t=this;return(0,ae.Z)(function*(){e.isDirectory?yield t.vfsService.deleteRecursive([e]):yield t.vfsService.unlinkEntry(e)})()}onAddFiles(){this.fileService.openFiles(e=>this.vfsService.addFiles(e,this.path||"/"))}onCreateDirectory(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:wp,backdropDismiss:!1,componentProps:{parentPath:e.path,onCreate:r=>e.vfsService.mkdir(`${e.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var e=this;return(0,ae.Z)(function*(){e.path&&(yield e.vfsService.paste(e.path))})()}onHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:pa,componentProps:{url:"assets/doc/card-browser.md"}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var e=this;return(0,ae.Z)(function*(){if(!e.entries)return;const t=Array.from(e.selection),r=new Map(e.entries.map(a=>[a.name,a])),o=t.every(a=>!r.get(a)?.isDirectory),i=t.every(a=>r.get(a)?.isDirectory);let s=`${e.selection.size} items`;if(o&&(s=1===e.selection.size?"file":`${e.selection.size} files`),i&&(s=1===e.selection.size?"directory":`${e.selection.size} directories`),0!==e.selection.size){const a=yield e.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:e.onCopySelection.bind(e)},{text:`Cut ${s}`,handler:e.onCutSelection.bind(e)},{text:`Save ${s} as zip`,handler:e.onSaveZip.bind(e)},{text:`Delete ${s}`,handler:e.onDeleteSelection.bind(e)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}e.mode="browse",e.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(e=>this.selection.add(e.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var e=this;return(0,ae.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.archiveFiles(t,e.path))})()}onDeleteSelection(){var e=this;return(0,ae.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.deleteRecursive(t))})()}openBreadcrumbMenu(e){var t=this;return(0,ae.Z)(function*(){if(!t.card||!t.path)return;const r=[..."/"===t.path?[]:[...t.vfsService.splitPath(t.path).reverse().slice(1),t.card.name],"Memory cards"];(yield t.popoverController.create({component:vp,event:e,componentProps:{entries:r,onSelect:i=>t.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===t.config.get("mode")?"center":"start",trigger:t.breadcrumbTriggerId})).present()})()}openContextMenu(e,t){var r=this;return(0,ae.Z)(function*(){(yield r.popoverController.create({component:bp,componentProps:{emptyDirectory:0===r.entries?.length,onStartSelection:r.onStartSelection.bind(r),onAddFiles:r.onAddFiles.bind(r),onCreateDirectry:r.onCreateDirectory.bind(r),onExtractZipfile:r.onExtractZipfile.bind(r),onPaste:r.onPaste.bind(r),onHelp:r.onHelp.bind(r)},event:e,dismissOnSelect:!0,arrow:!1,reference:t})).present()})()}materializeSelection(){if(!this.path)return;const e=new Map(this.vfsService.readdir(this.path).map(t=>[t.name,t]));return Array.from(this.selection).map(t=>e.get(t)).filter(t=>!!t)}extractZipArchive(e){var t=this;return(0,ae.Z)(function*(){/\.zip$/.test(e.name)?t.vfsService.unpackArchive(yield e.getContent(),t.path||"/"):yield t.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}Es.\u0275fac=function(e){return new(e||Es)(C(Ks),C(Bc),C(Jv),C(Kr),C(tp),C(ws),C(Bs),C(kt))},Es.\u0275cmp=ut({type:Es,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,t){1&e&&(oe(0,"ion-header"),Jt(1,P5,11,2,"ion-toolbar",0),Jt(2,O5,8,3,"ion-toolbar",0),J(),oe(3,"ion-content",1),at("contextmenu",function(o){return o.preventDefault(),t.openContextMenu(o,"event")}),oe(4,"div",2),Jt(5,N5,3,1,"div",3),oe(6,"ion-list"),Jt(7,L5,1,4,"app-file-entry",4),Jt(8,V5,4,2,"ion-item",5),J()()()),2&e&&(Xe(1),ot("ngIf","browse"===t.mode),Xe(1),ot("ngIf","select"===t.mode),Xe(3),ot("ngIf",0===(null==t.entries?null:t.entries.length)),Xe(2),ot("ngForOf",t.entries)("ngForTrackBy",t.trackEntryBy),Xe(1),ot("ngIf",t.isRoot||t.fileCount>0))},dependencies:[Mc,fi,gk,Ji,es,ts,ns,hi,ri,rs,Ba,os,is,Ak,Ep,_d],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),U([ao()],Es.prototype,"onSaveEntry",null),U([ao()],Es.prototype,"onDeleteEntry",null),U([ao()],Es.prototype,"onCreateDirectory",null),U([ao()],Es.prototype,"onPaste",null),U([ao()],Es.prototype,"onHelp",null),U([ao()],Es.prototype,"onSelectionDone",null),U([ao()],Es.prototype,"onSaveZip",null),U([ao()],Es.prototype,"onDeleteSelection",null);const H5=["nav"];class Dp{constructor(e,t){this.vfsService=e,this.dragDropService=t,this.navRootProps={onMountForBrowse:r=>this.browseCard(r),selfReference:{}},this.onNavigate=r=>{this.currentlyBrowsingCard&&this.nav?.push(Es,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=r=>{this.currentlyBrowsingCard&&this.nav?.popTo(r,{animated:this.animateNav})},this.navRoot=ma,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(e)})()}get animateNav(){return!vU}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Es,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}Dp.\u0275fac=function(e){return new(e||Dp)(C(Ks),C(cc))},Dp.\u0275cmp=ut({type:Dp,selectors:[["app-storage"]],viewQuery:function(e,t){if(1&e&&Pu(H5,5),2&e){let r;Fs(r=Os())&&(t.nav=r.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,t){1&e&&ct(0,"ion-nav",0,1),2&e&&ot("animated",t.animateNav)("root",t.navRoot)("rootParams",t.navRootProps)},dependencies:[_k,Pk]});const z5=[{path:"tab",component:qc,children:[{path:"emulation",component:fp},{path:"sessions",component:Za},{path:"storage",component:Dp},{path:"settings",component:mp},{path:"about",component:up},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];class vd{}vd.\u0275fac=function(e){return new(e||vd)},vd.\u0275mod=Fr({type:vd}),vd.\u0275inj=wr({imports:[Pm.forChild(z5),Pm]});class bd{}bd.\u0275fac=function(e){return new(e||bd)},bd.\u0275mod=Fr({type:bd}),bd.\u0275inj=wr({imports:[Yl,Oa,Ac,vd,cd,ud,dd,fd,ld]});class Qc extends NE{pushState(e,t,r,o){this.replaceState(e,t,r,o)}}Qc.\u0275fac=function(){let n;return function(t){return(n||(n=di(Qc)))(t||Qc)}}(),Qc.\u0275prov=ht({token:Qc,factory:Qc.\u0275fac});const G5=[{path:"install",component:sd,canActivate:[Zc]},{path:"import",component:sd,canActivate:[Zc]},{path:"",component:qc}];class Cd{}Cd.\u0275fac=function(e){return new(e||Cd)},Cd.\u0275mod=Fr({type:Cd}),Cd.\u0275inj=wr({providers:[{provide:Fa,useClass:Qc}],imports:[Pm.forRoot(G5,{preloadingStrategy:BB,useHash:!0}),bd,Pm]});const GM=["touch","click","keydown"];class wd{constructor(e,t){this.kvsService=e,this.audioService=t,this.initialize()}initialize(){var e=this;return(0,ae.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const t=()=>{GM.forEach(r=>window.removeEventListener(r,t,!0)),e.audioService.initialize()};GM.forEach(r=>window.addEventListener(r,t,!0))})()}}wd.\u0275fac=function(e){return new(e||wd)(ee(oi),ee(lc))},wd.\u0275prov=ht({token:wd,factory:wd.\u0275fac,providedIn:"root"});class Sd{constructor(e,t,r,o,i,s,a){}}Sd.\u0275fac=function(e){return new(e||Sd)(ee(Xn),ee(ss),ee(lc),ee(Ga),ee(oi),ee(Wc),ee(wd))},Sd.\u0275mod=Fr({type:Sd,bootstrap:[cp]}),Sd.\u0275inj=wr({providers:[{provide:ek,useClass:class Nj{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,o=t.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}},{provide:Ic,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[oi]}],imports:[NL,Yl.forRoot(),Cd,sH.register("ngsw-worker.js",{enabled:Xl.production}),sb.forRoot({loader:K_,markedOptions:{provide:Qk,useFactory:()=>{const n=new rd;return n.link=(e,t,r)=>`<a href="${e}" target="_blank" rel="external">${r||e}</a>`,{renderer:n,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}}),g3]}),window.global=window,function ZL(){Wh=xD("#/install?"),Zh=xD("#/import?")}(),function kU(){return!!localStorage.getItem(Hm)}()&&!TD()||function qL(){return void 0!==Wh}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",n=>n.preventDefault()),OL().bootstrapModule(Sd).catch(n=>console.log(n))},3272:Be=>{var A,We=(A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,te,l=typeof(I=I||{})<"u"?I:{};l.ready=new Promise(function(c,m){re=c,te=m});var H,Pe,$e,G=Object.assign({},l),Q=[],L="./this.program",V=(c,m)=>{throw m},ue="object"==typeof window,X="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||X)&&(X?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),A&&(B=A),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=c=>{var m=new XMLHttpRequest;return m.open("GET",c,!1),m.send(null),m.responseText},X&&($e=c=>{var m=new XMLHttpRequest;return m.open("GET",c,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),Pe=(c,m,b)=>{var M=new XMLHttpRequest;M.open("GET",c,!0),M.responseType="arraybuffer",M.onload=()=>{200==M.status||0==M.status&&M.response?m(M.response):b()},M.onerror=b,M.send(null)});var fe,Z=l.print||console.log.bind(console),Y=l.printErr||console.warn.bind(console);Object.assign(l,G),G=null,l.arguments&&(Q=l.arguments),l.thisProgram&&(L=l.thisProgram),l.quit&&(V=l.quit),l.wasmBinary&&(fe=l.wasmBinary);var Fe=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&lr("no native wasm support detected");var de,ce,st=!1;function be(c,m){c||lr(m)}var Ue,Je,yt,O,ge,rt,ke=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Qe(c,m,b){for(var M=m+b,j=m;c[j]&&!(j>=M);)++j;if(j-m>16&&c.buffer&&ke)return ke.decode(c.subarray(m,j));for(var ve="";m<j;){var De=c[m++];if(128&De){var Ve=63&c[m++];if(192!=(224&De)){var Dt=63&c[m++];if((De=224==(240&De)?(15&De)<<12|Ve<<6|Dt:(7&De)<<18|Ve<<12|Dt<<6|63&c[m++])<65536)ve+=String.fromCharCode(De);else{var vn=De-65536;ve+=String.fromCharCode(55296|vn>>10,56320|1023&vn)}}else ve+=String.fromCharCode((31&De)<<6|Ve)}else ve+=String.fromCharCode(De)}return ve}function Oe(c,m){return c?Qe(yt,c,m):""}function xe(c,m,b,M){if(!(M>0))return 0;for(var j=b,ve=b+M-1,De=0;De<c.length;++De){var Ve=c.charCodeAt(De);if(Ve>=55296&&Ve<=57343&&(Ve=65536+((1023&Ve)<<10)|1023&c.charCodeAt(++De)),Ve<=127){if(b>=ve)break;m[b++]=Ve}else if(Ve<=2047){if(b+1>=ve)break;m[b++]=192|Ve>>6,m[b++]=128|63&Ve}else if(Ve<=65535){if(b+2>=ve)break;m[b++]=224|Ve>>12,m[b++]=128|Ve>>6&63,m[b++]=128|63&Ve}else{if(b+3>=ve)break;m[b++]=240|Ve>>18,m[b++]=128|Ve>>12&63,m[b++]=128|Ve>>6&63,m[b++]=128|63&Ve}}return m[b]=0,b-j}function ne(c){for(var m=0,b=0;b<c.length;++b){var M=c.charCodeAt(b);M<=127?m++:M<=2047?m+=2:M>=55296&&M<=57343?(m+=4,++b):m+=3}return m}function je(c){Ue=c,l.HEAP8=Je=new Int8Array(c),l.HEAP16=new Int16Array(c),l.HEAP32=O=new Int32Array(c),l.HEAPU8=yt=new Uint8Array(c),l.HEAPU16=new Uint16Array(c),l.HEAPU32=ge=new Uint32Array(c),l.HEAPF32=new Float32Array(c),l.HEAPF64=rt=new Float64Array(c)}var ye,hn,ft=[],Ae=[],Tt=[],on=[],Pn=0,bo=null,jn=null;function Xr(c){Pn++,l.monitorRunDependencies&&l.monitorRunDependencies(Pn)}function Vr(c){if(Pn--,l.monitorRunDependencies&&l.monitorRunDependencies(Pn),0==Pn&&(null!==bo&&(clearInterval(bo),bo=null),jn)){var m=jn;jn=null,m()}}function lr(c){l.onAbort&&l.onAbort(c),Y(c="Aborted("+c+")"),st=!0,ce=1,c+=". Build with -sASSERTIONS for more info.";var m=new WebAssembly.RuntimeError(c);throw te(m),m}function lo(c){return c.startsWith("data:application/octet-stream;base64,")}function no(c){try{if(c==hn&&fe)return new Uint8Array(fe);if($e)return $e(c);throw"both async and sync fetching of the wasm failed"}catch(m){lr(m)}}lo(hn="cloudpilot_web.wasm")||(hn=function $(c){return l.locateFile?l.locateFile(c,B):B+c}(hn));var lt,le,Ge={416820:c=>{ye.grow(65536);for(let m=0;m<=65535;m++)ye.set(ye.length-65535-1+m,ye.get(ge[(c>>>2)+m]));return ye.length-65535-1}};function Vn(c){this.name="ExitStatus",this.message="Program terminated with exit("+c+")",this.status=c}function Wt(c){for(;c.length>0;)c.shift()(l)}function br(c,m){return m+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*m:NaN}var Xt={isAbs:c=>"/"===c.charAt(0),splitPath:c=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(c).slice(1),normalizeArray:(c,m)=>{for(var b=0,M=c.length-1;M>=0;M--){var j=c[M];"."===j?c.splice(M,1):".."===j?(c.splice(M,1),b++):b&&(c.splice(M,1),b--)}if(m)for(;b;b--)c.unshift("..");return c},normalize:c=>{var m=Xt.isAbs(c),b="/"===c.substr(-1);return!(c=Xt.normalizeArray(c.split("/").filter(M=>!!M),!m).join("/"))&&!m&&(c="."),c&&b&&(c+="/"),(m?"/":"")+c},dirname:c=>{var m=Xt.splitPath(c),b=m[0],M=m[1];return b||M?(M&&(M=M.substr(0,M.length-1)),b+M):"."},basename:c=>{if("/"===c)return"/";var m=(c=(c=Xt.normalize(c)).replace(/\/$/,"")).lastIndexOf("/");return-1===m?c:c.substr(m+1)},join:function(){var c=Array.prototype.slice.call(arguments);return Xt.normalize(c.join("/"))},join2:(c,m)=>Xt.normalize(c+"/"+m)},er={resolve:function(){for(var c="",m=!1,b=arguments.length-1;b>=-1&&!m;b--){var M=b>=0?arguments[b]:D.cwd();if("string"!=typeof M)throw new TypeError("Arguments to path.resolve must be strings");if(!M)return"";c=M+"/"+c,m=Xt.isAbs(M)}return(m?"/":"")+(c=Xt.normalizeArray(c.split("/").filter(j=>!!j),!m).join("/"))||"."},relative:(c,m)=>{function b(vn){for(var Un=0;Un<vn.length&&""===vn[Un];Un++);for(var ir=vn.length-1;ir>=0&&""===vn[ir];ir--);return Un>ir?[]:vn.slice(Un,ir-Un+1)}c=er.resolve(c).substr(1),m=er.resolve(m).substr(1);for(var M=b(c.split("/")),j=b(m.split("/")),ve=Math.min(M.length,j.length),De=ve,Ve=0;Ve<ve;Ve++)if(M[Ve]!==j[Ve]){De=Ve;break}var Dt=[];for(Ve=De;Ve<M.length;Ve++)Dt.push("..");return(Dt=Dt.concat(j.slice(De))).join("/")}};function sn(c,m,b){var M=b>0?b:ne(c)+1,j=new Array(M),ve=xe(c,j,0,j.length);return m&&(j.length=ve),j}var jt={ttys:[],init:function(){},shutdown:function(){},register:function(c,m){jt.ttys[c]={input:[],output:[],ops:m},D.registerDevice(c,jt.stream_ops)},stream_ops:{open:function(c){var m=jt.ttys[c.node.rdev];if(!m)throw new D.ErrnoError(43);c.tty=m,c.seekable=!1},close:function(c){c.tty.ops.fsync(c.tty)},fsync:function(c){c.tty.ops.fsync(c.tty)},read:function(c,m,b,M,j){if(!c.tty||!c.tty.ops.get_char)throw new D.ErrnoError(60);for(var ve=0,De=0;De<M;De++){var Ve;try{Ve=c.tty.ops.get_char(c.tty)}catch{throw new D.ErrnoError(29)}if(void 0===Ve&&0===ve)throw new D.ErrnoError(6);if(null==Ve)break;ve++,m[b+De]=Ve}return ve&&(c.node.timestamp=Date.now()),ve},write:function(c,m,b,M,j){if(!c.tty||!c.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var ve=0;ve<M;ve++)c.tty.ops.put_char(c.tty,m[b+ve])}catch{throw new D.ErrnoError(29)}return M&&(c.node.timestamp=Date.now()),ve}},default_tty_ops:{get_char:function(c){if(!c.input.length){var m=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(m=window.prompt("Input: "))&&(m+="\n"):"function"==typeof readline&&null!==(m=readline())&&(m+="\n"),!m)return null;c.input=sn(m,!0)}return c.input.shift()},put_char:function(c,m){null===m||10===m?(Z(Qe(c.output,0)),c.output=[]):0!=m&&c.output.push(m)},fsync:function(c){c.output&&c.output.length>0&&(Z(Qe(c.output,0)),c.output=[])}},default_tty1_ops:{put_char:function(c,m){null===m||10===m?(Y(Qe(c.output,0)),c.output=[]):0!=m&&c.output.push(m)},fsync:function(c){c.output&&c.output.length>0&&(Y(Qe(c.output,0)),c.output=[])}}};function E(c){lr()}var S={ops_table:null,mount:function(c){return S.createNode(null,"/",16895,0)},createNode:function(c,m,b,M){if(D.isBlkdev(b)||D.isFIFO(b))throw new D.ErrnoError(63);S.ops_table||(S.ops_table={dir:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,lookup:S.node_ops.lookup,mknod:S.node_ops.mknod,rename:S.node_ops.rename,unlink:S.node_ops.unlink,rmdir:S.node_ops.rmdir,readdir:S.node_ops.readdir,symlink:S.node_ops.symlink},stream:{llseek:S.stream_ops.llseek}},file:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:{llseek:S.stream_ops.llseek,read:S.stream_ops.read,write:S.stream_ops.write,allocate:S.stream_ops.allocate,mmap:S.stream_ops.mmap,msync:S.stream_ops.msync}},link:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,readlink:S.node_ops.readlink},stream:{}},chrdev:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:D.chrdev_stream_ops}});var j=D.createNode(c,m,b,M);return D.isDir(j.mode)?(j.node_ops=S.ops_table.dir.node,j.stream_ops=S.ops_table.dir.stream,j.contents={}):D.isFile(j.mode)?(j.node_ops=S.ops_table.file.node,j.stream_ops=S.ops_table.file.stream,j.usedBytes=0,j.contents=null):D.isLink(j.mode)?(j.node_ops=S.ops_table.link.node,j.stream_ops=S.ops_table.link.stream):D.isChrdev(j.mode)&&(j.node_ops=S.ops_table.chrdev.node,j.stream_ops=S.ops_table.chrdev.stream),j.timestamp=Date.now(),c&&(c.contents[m]=j,c.timestamp=j.timestamp),j},getFileDataAsTypedArray:function(c){return c.contents?c.contents.subarray?c.contents.subarray(0,c.usedBytes):new Uint8Array(c.contents):new Uint8Array(0)},expandFileStorage:function(c,m){var b=c.contents?c.contents.length:0;if(!(b>=m)){m=Math.max(m,b*(b<1048576?2:1.125)>>>0),0!=b&&(m=Math.max(m,256));var j=c.contents;c.contents=new Uint8Array(m),c.usedBytes>0&&c.contents.set(j.subarray(0,c.usedBytes),0)}},resizeFileStorage:function(c,m){if(c.usedBytes!=m)if(0==m)c.contents=null,c.usedBytes=0;else{var b=c.contents;c.contents=new Uint8Array(m),b&&c.contents.set(b.subarray(0,Math.min(m,c.usedBytes))),c.usedBytes=m}},node_ops:{getattr:function(c){var m={};return m.dev=D.isChrdev(c.mode)?c.id:1,m.ino=c.id,m.mode=c.mode,m.nlink=1,m.uid=0,m.gid=0,m.rdev=c.rdev,m.size=D.isDir(c.mode)?4096:D.isFile(c.mode)?c.usedBytes:D.isLink(c.mode)?c.link.length:0,m.atime=new Date(c.timestamp),m.mtime=new Date(c.timestamp),m.ctime=new Date(c.timestamp),m.blksize=4096,m.blocks=Math.ceil(m.size/m.blksize),m},setattr:function(c,m){void 0!==m.mode&&(c.mode=m.mode),void 0!==m.timestamp&&(c.timestamp=m.timestamp),void 0!==m.size&&S.resizeFileStorage(c,m.size)},lookup:function(c,m){throw D.genericErrors[44]},mknod:function(c,m,b,M){return S.createNode(c,m,b,M)},rename:function(c,m,b){if(D.isDir(c.mode)){var M;try{M=D.lookupNode(m,b)}catch{}if(M)for(var j in M.contents)throw new D.ErrnoError(55)}delete c.parent.contents[c.name],c.parent.timestamp=Date.now(),c.name=b,m.contents[b]=c,m.timestamp=c.parent.timestamp,c.parent=m},unlink:function(c,m){delete c.contents[m],c.timestamp=Date.now()},rmdir:function(c,m){var b=D.lookupNode(c,m);for(var M in b.contents)throw new D.ErrnoError(55);delete c.contents[m],c.timestamp=Date.now()},readdir:function(c){var m=[".",".."];for(var b in c.contents)c.contents.hasOwnProperty(b)&&m.push(b);return m},symlink:function(c,m,b){var M=S.createNode(c,m,41471,0);return M.link=b,M},readlink:function(c){if(!D.isLink(c.mode))throw new D.ErrnoError(28);return c.link}},stream_ops:{read:function(c,m,b,M,j){var ve=c.node.contents;if(j>=c.node.usedBytes)return 0;var De=Math.min(c.node.usedBytes-j,M);if(De>8&&ve.subarray)m.set(ve.subarray(j,j+De),b);else for(var Ve=0;Ve<De;Ve++)m[b+Ve]=ve[j+Ve];return De},write:function(c,m,b,M,j,ve){if(m.buffer===Je.buffer&&(ve=!1),!M)return 0;var De=c.node;if(De.timestamp=Date.now(),m.subarray&&(!De.contents||De.contents.subarray)){if(ve)return De.contents=m.subarray(b,b+M),De.usedBytes=M,M;if(0===De.usedBytes&&0===j)return De.contents=m.slice(b,b+M),De.usedBytes=M,M;if(j+M<=De.usedBytes)return De.contents.set(m.subarray(b,b+M),j),M}if(S.expandFileStorage(De,j+M),De.contents.subarray&&m.subarray)De.contents.set(m.subarray(b,b+M),j);else for(var Ve=0;Ve<M;Ve++)De.contents[j+Ve]=m[b+Ve];return De.usedBytes=Math.max(De.usedBytes,j+M),M},llseek:function(c,m,b){var M=m;if(1===b?M+=c.position:2===b&&D.isFile(c.node.mode)&&(M+=c.node.usedBytes),M<0)throw new D.ErrnoError(28);return M},allocate:function(c,m,b){S.expandFileStorage(c.node,m+b),c.node.usedBytes=Math.max(c.node.usedBytes,m+b)},mmap:function(c,m,b,M,j){if(!D.isFile(c.node.mode))throw new D.ErrnoError(43);var ve,De,Ve=c.node.contents;if(2&j||Ve.buffer!==Ue){if((b>0||b+m<Ve.length)&&(Ve=Ve.subarray?Ve.subarray(b,b+m):Array.prototype.slice.call(Ve,b,b+m)),De=!0,!(ve=E()))throw new D.ErrnoError(48);Je.set(Ve,ve)}else De=!1,ve=Ve.byteOffset;return{ptr:ve,allocated:De}},msync:function(c,m,b,M,j){return S.stream_ops.write(c,m,0,M,b,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(c,m={})=>{if(!(c=er.resolve(c)))return{path:"",node:null};if((m=Object.assign({follow_mount:!0,recurse_count:0},m)).recurse_count>8)throw new D.ErrnoError(32);for(var M=c.split("/").filter(ir=>!!ir),j=D.root,ve="/",De=0;De<M.length;De++){var Ve=De===M.length-1;if(Ve&&m.parent)break;if(j=D.lookupNode(j,M[De]),ve=Xt.join2(ve,M[De]),D.isMountpoint(j)&&(!Ve||Ve&&m.follow_mount)&&(j=j.mounted.root),!Ve||m.follow)for(var Dt=0;D.isLink(j.mode);){var vn=D.readlink(ve);if(ve=er.resolve(Xt.dirname(ve),vn),j=D.lookupPath(ve,{recurse_count:m.recurse_count+1}).node,Dt++>40)throw new D.ErrnoError(32)}}return{path:ve,node:j}},getPath:c=>{for(var m;;){if(D.isRoot(c)){var b=c.mount.mountpoint;return m?"/"!==b[b.length-1]?b+"/"+m:b+m:b}m=m?c.name+"/"+m:c.name,c=c.parent}},hashName:(c,m)=>{for(var b=0,M=0;M<m.length;M++)b=(b<<5)-b+m.charCodeAt(M)|0;return(c+b>>>0)%D.nameTable.length},hashAddNode:c=>{var m=D.hashName(c.parent.id,c.name);c.name_next=D.nameTable[m],D.nameTable[m]=c},hashRemoveNode:c=>{var m=D.hashName(c.parent.id,c.name);if(D.nameTable[m]===c)D.nameTable[m]=c.name_next;else for(var b=D.nameTable[m];b;){if(b.name_next===c){b.name_next=c.name_next;break}b=b.name_next}},lookupNode:(c,m)=>{var b=D.mayLookup(c);if(b)throw new D.ErrnoError(b,c);for(var M=D.hashName(c.id,m),j=D.nameTable[M];j;j=j.name_next)if(j.parent.id===c.id&&j.name===m)return j;return D.lookup(c,m)},createNode:(c,m,b,M)=>{var j=new D.FSNode(c,m,b,M);return D.hashAddNode(j),j},destroyNode:c=>{D.hashRemoveNode(c)},isRoot:c=>c===c.parent,isMountpoint:c=>!!c.mounted,isFile:c=>32768==(61440&c),isDir:c=>16384==(61440&c),isLink:c=>40960==(61440&c),isChrdev:c=>8192==(61440&c),isBlkdev:c=>24576==(61440&c),isFIFO:c=>4096==(61440&c),isSocket:c=>49152==(49152&c),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:c=>{var m=D.flagModes[c];if(typeof m>"u")throw new Error("Unknown file open mode: "+c);return m},flagsToPermissionString:c=>{var m=["r","w","rw"][3&c];return 512&c&&(m+="w"),m},nodePermissions:(c,m)=>D.ignorePermissions?0:m.includes("r")&&!(292&c.mode)||m.includes("w")&&!(146&c.mode)||m.includes("x")&&!(73&c.mode)?2:0,mayLookup:c=>D.nodePermissions(c,"x")||(c.node_ops.lookup?0:2),mayCreate:(c,m)=>{try{return D.lookupNode(c,m),20}catch{}return D.nodePermissions(c,"wx")},mayDelete:(c,m,b)=>{var M;try{M=D.lookupNode(c,m)}catch(ve){return ve.errno}var j=D.nodePermissions(c,"wx");if(j)return j;if(b){if(!D.isDir(M.mode))return 54;if(D.isRoot(M)||D.getPath(M)===D.cwd())return 10}else if(D.isDir(M.mode))return 31;return 0},mayOpen:(c,m)=>c?D.isLink(c.mode)?32:D.isDir(c.mode)&&("r"!==D.flagsToPermissionString(m)||512&m)?31:D.nodePermissions(c,D.flagsToPermissionString(m)):44,MAX_OPEN_FDS:4096,nextfd:(c=0,m=D.MAX_OPEN_FDS)=>{for(var b=c;b<=m;b++)if(!D.streams[b])return b;throw new D.ErrnoError(33)},getStream:c=>D.streams[c],createStream:(c,m,b)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(j){this.node=j}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(j){this.shared.flags=j}},position:{get:function(){return this.shared.position},set:function(j){this.shared.position=j}}})),c=Object.assign(new D.FSStream,c);var M=D.nextfd(m,b);return c.fd=M,D.streams[M]=c,c},closeStream:c=>{D.streams[c]=null},chrdev_stream_ops:{open:c=>{var m=D.getDevice(c.node.rdev);c.stream_ops=m.stream_ops,c.stream_ops.open&&c.stream_ops.open(c)},llseek:()=>{throw new D.ErrnoError(70)}},major:c=>c>>8,minor:c=>255&c,makedev:(c,m)=>c<<8|m,registerDevice:(c,m)=>{D.devices[c]={stream_ops:m}},getDevice:c=>D.devices[c],getMounts:c=>{for(var m=[],b=[c];b.length;){var M=b.pop();m.push(M),b.push.apply(b,M.mounts)}return m},syncfs:(c,m)=>{"function"==typeof c&&(m=c,c=!1),D.syncFSRequests++,D.syncFSRequests>1&&Y("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=D.getMounts(D.root.mount),M=0;function j(De){return D.syncFSRequests--,m(De)}function ve(De){if(De)return ve.errored?void 0:(ve.errored=!0,j(De));++M>=b.length&&j(null)}b.forEach(De=>{if(!De.type.syncfs)return ve(null);De.type.syncfs(De,c,ve)})},mount:(c,m,b)=>{var ve,M="/"===b,j=!b;if(M&&D.root)throw new D.ErrnoError(10);if(!M&&!j){var De=D.lookupPath(b,{follow_mount:!1});if(b=De.path,D.isMountpoint(ve=De.node))throw new D.ErrnoError(10);if(!D.isDir(ve.mode))throw new D.ErrnoError(54)}var Ve={type:c,opts:m,mountpoint:b,mounts:[]},Dt=c.mount(Ve);return Dt.mount=Ve,Ve.root=Dt,M?D.root=Dt:ve&&(ve.mounted=Ve,ve.mount&&ve.mount.mounts.push(Ve)),Dt},unmount:c=>{var m=D.lookupPath(c,{follow_mount:!1});if(!D.isMountpoint(m.node))throw new D.ErrnoError(28);var b=m.node,M=b.mounted,j=D.getMounts(M);Object.keys(D.nameTable).forEach(De=>{for(var Ve=D.nameTable[De];Ve;){var Dt=Ve.name_next;j.includes(Ve.mount)&&D.destroyNode(Ve),Ve=Dt}}),b.mounted=null;var ve=b.mount.mounts.indexOf(M);b.mount.mounts.splice(ve,1)},lookup:(c,m)=>c.node_ops.lookup(c,m),mknod:(c,m,b)=>{var j=D.lookupPath(c,{parent:!0}).node,ve=Xt.basename(c);if(!ve||"."===ve||".."===ve)throw new D.ErrnoError(28);var De=D.mayCreate(j,ve);if(De)throw new D.ErrnoError(De);if(!j.node_ops.mknod)throw new D.ErrnoError(63);return j.node_ops.mknod(j,ve,m,b)},create:(c,m)=>(m=void 0!==m?m:438,m&=4095,D.mknod(c,m|=32768,0)),mkdir:(c,m)=>(m=void 0!==m?m:511,m&=1023,D.mknod(c,m|=16384,0)),mkdirTree:(c,m)=>{for(var b=c.split("/"),M="",j=0;j<b.length;++j)if(b[j]){M+="/"+b[j];try{D.mkdir(M,m)}catch(ve){if(20!=ve.errno)throw ve}}},mkdev:(c,m,b)=>(typeof b>"u"&&(b=m,m=438),D.mknod(c,m|=8192,b)),symlink:(c,m)=>{if(!er.resolve(c))throw new D.ErrnoError(44);var M=D.lookupPath(m,{parent:!0}).node;if(!M)throw new D.ErrnoError(44);var j=Xt.basename(m),ve=D.mayCreate(M,j);if(ve)throw new D.ErrnoError(ve);if(!M.node_ops.symlink)throw new D.ErrnoError(63);return M.node_ops.symlink(M,j,c)},rename:(c,m)=>{var Ve,Dt,b=Xt.dirname(c),M=Xt.dirname(m),j=Xt.basename(c),ve=Xt.basename(m);if(Ve=D.lookupPath(c,{parent:!0}).node,Dt=D.lookupPath(m,{parent:!0}).node,!Ve||!Dt)throw new D.ErrnoError(44);if(Ve.mount!==Dt.mount)throw new D.ErrnoError(75);var ir,vn=D.lookupNode(Ve,j),Un=er.relative(c,M);if("."!==Un.charAt(0))throw new D.ErrnoError(28);if("."!==(Un=er.relative(m,b)).charAt(0))throw new D.ErrnoError(55);try{ir=D.lookupNode(Dt,ve)}catch{}if(vn!==ir){var pn=D.isDir(vn.mode),ln=D.mayDelete(Ve,j,pn);if(ln)throw new D.ErrnoError(ln);if(ln=ir?D.mayDelete(Dt,ve,pn):D.mayCreate(Dt,ve))throw new D.ErrnoError(ln);if(!Ve.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(vn)||ir&&D.isMountpoint(ir))throw new D.ErrnoError(10);if(Dt!==Ve&&(ln=D.nodePermissions(Ve,"w")))throw new D.ErrnoError(ln);D.hashRemoveNode(vn);try{Ve.node_ops.rename(vn,Dt,ve)}catch(Gn){throw Gn}finally{D.hashAddNode(vn)}}},rmdir:c=>{var b=D.lookupPath(c,{parent:!0}).node,M=Xt.basename(c),j=D.lookupNode(b,M),ve=D.mayDelete(b,M,!0);if(ve)throw new D.ErrnoError(ve);if(!b.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(j))throw new D.ErrnoError(10);b.node_ops.rmdir(b,M),D.destroyNode(j)},readdir:c=>{var b=D.lookupPath(c,{follow:!0}).node;if(!b.node_ops.readdir)throw new D.ErrnoError(54);return b.node_ops.readdir(b)},unlink:c=>{var b=D.lookupPath(c,{parent:!0}).node;if(!b)throw new D.ErrnoError(44);var M=Xt.basename(c),j=D.lookupNode(b,M),ve=D.mayDelete(b,M,!1);if(ve)throw new D.ErrnoError(ve);if(!b.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(j))throw new D.ErrnoError(10);b.node_ops.unlink(b,M),D.destroyNode(j)},readlink:c=>{var b=D.lookupPath(c).node;if(!b)throw new D.ErrnoError(44);if(!b.node_ops.readlink)throw new D.ErrnoError(28);return er.resolve(D.getPath(b.parent),b.node_ops.readlink(b))},stat:(c,m)=>{var M=D.lookupPath(c,{follow:!m}).node;if(!M)throw new D.ErrnoError(44);if(!M.node_ops.getattr)throw new D.ErrnoError(63);return M.node_ops.getattr(M)},lstat:c=>D.stat(c,!0),chmod:(c,m,b)=>{var M;if(!(M="string"==typeof c?D.lookupPath(c,{follow:!b}).node:c).node_ops.setattr)throw new D.ErrnoError(63);M.node_ops.setattr(M,{mode:4095&m|-4096&M.mode,timestamp:Date.now()})},lchmod:(c,m)=>{D.chmod(c,m,!0)},fchmod:(c,m)=>{var b=D.getStream(c);if(!b)throw new D.ErrnoError(8);D.chmod(b.node,m)},chown:(c,m,b,M)=>{var j;if(!(j="string"==typeof c?D.lookupPath(c,{follow:!M}).node:c).node_ops.setattr)throw new D.ErrnoError(63);j.node_ops.setattr(j,{timestamp:Date.now()})},lchown:(c,m,b)=>{D.chown(c,m,b,!0)},fchown:(c,m,b)=>{var M=D.getStream(c);if(!M)throw new D.ErrnoError(8);D.chown(M.node,m,b)},truncate:(c,m)=>{if(m<0)throw new D.ErrnoError(28);var b;if(!(b="string"==typeof c?D.lookupPath(c,{follow:!0}).node:c).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(b.mode))throw new D.ErrnoError(31);if(!D.isFile(b.mode))throw new D.ErrnoError(28);var j=D.nodePermissions(b,"w");if(j)throw new D.ErrnoError(j);b.node_ops.setattr(b,{size:m,timestamp:Date.now()})},ftruncate:(c,m)=>{var b=D.getStream(c);if(!b)throw new D.ErrnoError(8);if(!(2097155&b.flags))throw new D.ErrnoError(28);D.truncate(b.node,m)},utime:(c,m,b)=>{var j=D.lookupPath(c,{follow:!0}).node;j.node_ops.setattr(j,{timestamp:Math.max(m,b)})},open:(c,m,b)=>{if(""===c)throw new D.ErrnoError(44);var M;if(b=typeof b>"u"?438:b,b=64&(m="string"==typeof m?D.modeStringToFlags(m):m)?4095&b|32768:0,"object"==typeof c)M=c;else{c=Xt.normalize(c);try{M=D.lookupPath(c,{follow:!(131072&m)}).node}catch{}}var ve=!1;if(64&m)if(M){if(128&m)throw new D.ErrnoError(20)}else M=D.mknod(c,b,0),ve=!0;if(!M)throw new D.ErrnoError(44);if(D.isChrdev(M.mode)&&(m&=-513),65536&m&&!D.isDir(M.mode))throw new D.ErrnoError(54);if(!ve){var De=D.mayOpen(M,m);if(De)throw new D.ErrnoError(De)}512&m&&!ve&&D.truncate(M,0),m&=-131713;var Ve=D.createStream({node:M,path:D.getPath(M),flags:m,seekable:!0,position:0,stream_ops:M.stream_ops,ungotten:[],error:!1});return Ve.stream_ops.open&&Ve.stream_ops.open(Ve),l.logReadFiles&&!(1&m)&&(D.readFiles||(D.readFiles={}),c in D.readFiles||(D.readFiles[c]=1)),Ve},close:c=>{if(D.isClosed(c))throw new D.ErrnoError(8);c.getdents&&(c.getdents=null);try{c.stream_ops.close&&c.stream_ops.close(c)}catch(m){throw m}finally{D.closeStream(c.fd)}c.fd=null},isClosed:c=>null===c.fd,llseek:(c,m,b)=>{if(D.isClosed(c))throw new D.ErrnoError(8);if(!c.seekable||!c.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new D.ErrnoError(28);return c.position=c.stream_ops.llseek(c,m,b),c.ungotten=[],c.position},read:(c,m,b,M,j)=>{if(M<0||j<0)throw new D.ErrnoError(28);if(D.isClosed(c))throw new D.ErrnoError(8);if(1==(2097155&c.flags))throw new D.ErrnoError(8);if(D.isDir(c.node.mode))throw new D.ErrnoError(31);if(!c.stream_ops.read)throw new D.ErrnoError(28);var ve=typeof j<"u";if(ve){if(!c.seekable)throw new D.ErrnoError(70)}else j=c.position;var De=c.stream_ops.read(c,m,b,M,j);return ve||(c.position+=De),De},write:(c,m,b,M,j,ve)=>{if(M<0||j<0)throw new D.ErrnoError(28);if(D.isClosed(c))throw new D.ErrnoError(8);if(!(2097155&c.flags))throw new D.ErrnoError(8);if(D.isDir(c.node.mode))throw new D.ErrnoError(31);if(!c.stream_ops.write)throw new D.ErrnoError(28);c.seekable&&1024&c.flags&&D.llseek(c,0,2);var De=typeof j<"u";if(De){if(!c.seekable)throw new D.ErrnoError(70)}else j=c.position;var Ve=c.stream_ops.write(c,m,b,M,j,ve);return De||(c.position+=Ve),Ve},allocate:(c,m,b)=>{if(D.isClosed(c))throw new D.ErrnoError(8);if(m<0||b<=0)throw new D.ErrnoError(28);if(!(2097155&c.flags))throw new D.ErrnoError(8);if(!D.isFile(c.node.mode)&&!D.isDir(c.node.mode))throw new D.ErrnoError(43);if(!c.stream_ops.allocate)throw new D.ErrnoError(138);c.stream_ops.allocate(c,m,b)},mmap:(c,m,b,M,j)=>{if(2&M&&!(2&j)&&2!=(2097155&c.flags))throw new D.ErrnoError(2);if(1==(2097155&c.flags))throw new D.ErrnoError(2);if(!c.stream_ops.mmap)throw new D.ErrnoError(43);return c.stream_ops.mmap(c,m,b,M,j)},msync:(c,m,b,M,j)=>c.stream_ops.msync?c.stream_ops.msync(c,m,b,M,j):0,munmap:c=>0,ioctl:(c,m,b)=>{if(!c.stream_ops.ioctl)throw new D.ErrnoError(59);return c.stream_ops.ioctl(c,m,b)},readFile:(c,m={})=>{if(m.flags=m.flags||0,m.encoding=m.encoding||"binary","utf8"!==m.encoding&&"binary"!==m.encoding)throw new Error('Invalid encoding type "'+m.encoding+'"');var b,M=D.open(c,m.flags),ve=D.stat(c).size,De=new Uint8Array(ve);return D.read(M,De,0,ve,0),"utf8"===m.encoding?b=Qe(De,0):"binary"===m.encoding&&(b=De),D.close(M),b},writeFile:(c,m,b={})=>{b.flags=b.flags||577;var M=D.open(c,b.flags,b.mode);if("string"==typeof m){var j=new Uint8Array(ne(m)+1),ve=xe(m,j,0,j.length);D.write(M,j,0,ve,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(m))throw new Error("Unsupported data type");D.write(M,m,0,m.byteLength,void 0,b.canOwn)}D.close(M)},cwd:()=>D.currentPath,chdir:c=>{var m=D.lookupPath(c,{follow:!0});if(null===m.node)throw new D.ErrnoError(44);if(!D.isDir(m.node.mode))throw new D.ErrnoError(54);var b=D.nodePermissions(m.node,"x");if(b)throw new D.ErrnoError(b);D.currentPath=m.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(m,b,M,j,ve)=>j}),D.mkdev("/dev/null",D.makedev(1,3)),jt.register(D.makedev(5,0),jt.default_tty_ops),jt.register(D.makedev(6,0),jt.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var c=function Jn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var c=new Uint8Array(1);return()=>(crypto.getRandomValues(c),c[0])}return()=>lr("randomDevice")}();D.createDevice("/dev","random",c),D.createDevice("/dev","urandom",c),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var c=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var m=D.createNode(c,"fd",16895,73);return m.node_ops={lookup:(b,M)=>{var ve=D.getStream(+M);if(!ve)throw new D.ErrnoError(8);var De={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ve.path}};return De.parent=De,De}},m}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?D.createDevice("/dev","stdin",l.stdin):D.symlink("/dev/tty","/dev/stdin"),l.stdout?D.createDevice("/dev","stdout",null,l.stdout):D.symlink("/dev/tty","/dev/stdout"),l.stderr?D.createDevice("/dev","stderr",null,l.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(m,b){this.node=b,this.setErrno=function(M){this.errno=M},this.setErrno(m),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(c=>{D.genericErrors[c]=new D.ErrnoError(c),D.genericErrors[c].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(S,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:S}},init:(c,m,b)=>{D.init.initialized=!0,D.ensureErrnoError(),l.stdin=c||l.stdin,l.stdout=m||l.stdout,l.stderr=b||l.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var c=0;c<D.streams.length;c++){var m=D.streams[c];m&&D.close(m)}},getMode:(c,m)=>{var b=0;return c&&(b|=365),m&&(b|=146),b},findObject:(c,m)=>{var b=D.analyzePath(c,m);return b.exists?b.object:null},analyzePath:(c,m)=>{try{c=(b=D.lookupPath(c,{follow:!m})).path}catch{}var M={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=D.lookupPath(c,{parent:!0});M.parentExists=!0,M.parentPath=b.path,M.parentObject=b.node,M.name=Xt.basename(c),b=D.lookupPath(c,{follow:!m}),M.exists=!0,M.path=b.path,M.object=b.node,M.name=b.node.name,M.isRoot="/"===b.path}catch(j){M.error=j.errno}return M},createPath:(c,m,b,M)=>{c="string"==typeof c?c:D.getPath(c);for(var j=m.split("/").reverse();j.length;){var ve=j.pop();if(ve){var De=Xt.join2(c,ve);try{D.mkdir(De)}catch{}c=De}}return De},createFile:(c,m,b,M,j)=>{var ve=Xt.join2("string"==typeof c?c:D.getPath(c),m),De=D.getMode(M,j);return D.create(ve,De)},createDataFile:(c,m,b,M,j,ve)=>{var De=m;c&&(c="string"==typeof c?c:D.getPath(c),De=m?Xt.join2(c,m):c);var Ve=D.getMode(M,j),Dt=D.create(De,Ve);if(b){if("string"==typeof b){for(var vn=new Array(b.length),Un=0,ir=b.length;Un<ir;++Un)vn[Un]=b.charCodeAt(Un);b=vn}D.chmod(Dt,146|Ve);var pn=D.open(Dt,577);D.write(pn,b,0,b.length,0,ve),D.close(pn),D.chmod(Dt,Ve)}return Dt},createDevice:(c,m,b,M)=>{var j=Xt.join2("string"==typeof c?c:D.getPath(c),m),ve=D.getMode(!!b,!!M);D.createDevice.major||(D.createDevice.major=64);var De=D.makedev(D.createDevice.major++,0);return D.registerDevice(De,{open:Ve=>{Ve.seekable=!1},close:Ve=>{M&&M.buffer&&M.buffer.length&&M(10)},read:(Ve,Dt,vn,Un,ir)=>{for(var pn=0,ln=0;ln<Un;ln++){var Gn;try{Gn=b()}catch{throw new D.ErrnoError(29)}if(void 0===Gn&&0===pn)throw new D.ErrnoError(6);if(null==Gn)break;pn++,Dt[vn+ln]=Gn}return pn&&(Ve.node.timestamp=Date.now()),pn},write:(Ve,Dt,vn,Un,ir)=>{for(var pn=0;pn<Un;pn++)try{M(Dt[vn+pn])}catch{throw new D.ErrnoError(29)}return Un&&(Ve.node.timestamp=Date.now()),pn}}),D.mkdev(j,ve,De)},forceLoadFile:c=>{if(c.isDevice||c.isFolder||c.link||c.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{c.contents=sn(H(c.url),!0),c.usedBytes=c.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(c,m,b,M,j)=>{function ve(){this.lengthKnown=!1,this.chunks=[]}if(ve.prototype.get=function(ln){if(!(ln>this.length-1||ln<0)){var Gn=ln%this.chunkSize;return this.getter(ln/this.chunkSize|0)[Gn]}},ve.prototype.setDataGetter=function(ln){this.getter=ln},ve.prototype.cacheLength=function(){var ln=new XMLHttpRequest;if(ln.open("HEAD",b,!1),ln.send(null),!(ln.status>=200&&ln.status<300||304===ln.status))throw new Error("Couldn't load "+b+". Status: "+ln.status);var so,Gn=Number(ln.getResponseHeader("Content-length")),ms=(so=ln.getResponseHeader("Accept-Ranges"))&&"bytes"===so,ui=(so=ln.getResponseHeader("Content-Encoding"))&&"gzip"===so,_t=1048576;ms||(_t=Gn);var To=this;To.setDataGetter(Br=>{var gs=Br*_t,go=(Br+1)*_t-1;if(go=Math.min(go,Gn-1),typeof To.chunks[Br]>"u"&&(To.chunks[Br]=((Br,gs)=>{if(Br>gs)throw new Error("invalid range ("+Br+", "+gs+") or no bytes requested!");if(gs>Gn-1)throw new Error("only "+Gn+" bytes available! programmer error!");var go=new XMLHttpRequest;if(go.open("GET",b,!1),Gn!==_t&&go.setRequestHeader("Range","bytes="+Br+"-"+gs),go.responseType="arraybuffer",go.overrideMimeType&&go.overrideMimeType("text/plain; charset=x-user-defined"),go.send(null),!(go.status>=200&&go.status<300||304===go.status))throw new Error("Couldn't load "+b+". Status: "+go.status);return void 0!==go.response?new Uint8Array(go.response||[]):sn(go.responseText||"",!0)})(gs,go)),typeof To.chunks[Br]>"u")throw new Error("doXHR failed!");return To.chunks[Br]}),(ui||!Gn)&&(_t=Gn=1,Gn=this.getter(0).length,_t=Gn,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Gn,this._chunkSize=_t,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var De=new ve;Object.defineProperties(De,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ve={isDevice:!1,contents:De}}else Ve={isDevice:!1,url:b};var Dt=D.createFile(c,m,Ve,M,j);Ve.contents?Dt.contents=Ve.contents:Ve.url&&(Dt.contents=null,Dt.url=Ve.url),Object.defineProperties(Dt,{usedBytes:{get:function(){return this.contents.length}}});var vn={};function ir(pn,ln,Gn,so,ms){var ui=pn.node.contents;if(ms>=ui.length)return 0;var _t=Math.min(ui.length-ms,so);if(ui.slice)for(var mn=0;mn<_t;mn++)ln[Gn+mn]=ui[ms+mn];else for(mn=0;mn<_t;mn++)ln[Gn+mn]=ui.get(ms+mn);return _t}return Object.keys(Dt.stream_ops).forEach(pn=>{var ln=Dt.stream_ops[pn];vn[pn]=function(){return D.forceLoadFile(Dt),ln.apply(null,arguments)}}),vn.read=(pn,ln,Gn,so,ms)=>(D.forceLoadFile(Dt),ir(pn,ln,Gn,so,ms)),vn.mmap=(pn,ln,Gn,so,ms)=>{D.forceLoadFile(Dt);var ui=E();if(!ui)throw new D.ErrnoError(48);return ir(pn,Je,ui,ln,Gn),{ptr:ui,allocated:!0}},Dt.stream_ops=vn,Dt},createPreloadedFile:(c,m,b,M,j,ve,De,Ve,Dt,vn)=>{var Un=m?er.resolve(Xt.join2(c,m)):c;function pn(ln){function Gn(so){vn&&vn(),Ve||D.createDataFile(c,m,so,M,j,Dt),ve&&ve(),Vr()}Browser.handledByPreloadPlugin(ln,Un,Gn,()=>{De&&De(),Vr()})||Gn(ln)}Xr(),"string"==typeof b?function Yn(c,m,b,M){var j=M?"":"al "+c;Pe(c,ve=>{be(ve,'Loading data file "'+c+'" failed (no arrayBuffer).'),m(new Uint8Array(ve)),j&&Vr()},ve=>{if(!b)throw'Loading data file "'+c+'" failed.';b()}),j&&Xr()}(b,ln=>pn(ln),De):pn(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(c,m,b)=>{m=m||(()=>{}),b=b||(()=>{});var M=D.indexedDB();try{var j=M.open(D.DB_NAME(),D.DB_VERSION)}catch(ve){return b(ve)}j.onupgradeneeded=()=>{Z("creating db"),j.result.createObjectStore(D.DB_STORE_NAME)},j.onsuccess=()=>{var De=j.result.transaction([D.DB_STORE_NAME],"readwrite"),Ve=De.objectStore(D.DB_STORE_NAME),Dt=0,vn=0,Un=c.length;function ir(){0==vn?m():b()}c.forEach(pn=>{var ln=Ve.put(D.analyzePath(pn).object.contents,pn);ln.onsuccess=()=>{++Dt+vn==Un&&ir()},ln.onerror=()=>{vn++,Dt+vn==Un&&ir()}}),De.onerror=b},j.onerror=b},loadFilesFromDB:(c,m,b)=>{m=m||(()=>{}),b=b||(()=>{});var M=D.indexedDB();try{var j=M.open(D.DB_NAME(),D.DB_VERSION)}catch(ve){return b(ve)}j.onupgradeneeded=b,j.onsuccess=()=>{var ve=j.result;try{var De=ve.transaction([D.DB_STORE_NAME],"readonly")}catch(pn){return void b(pn)}var Ve=De.objectStore(D.DB_STORE_NAME),Dt=0,vn=0,Un=c.length;function ir(){0==vn?m():b()}c.forEach(pn=>{var ln=Ve.get(pn);ln.onsuccess=()=>{D.analyzePath(pn).exists&&D.unlink(pn),D.createDataFile(Xt.dirname(pn),Xt.basename(pn),ln.result,!0,!0,!0),++Dt+vn==Un&&ir()},ln.onerror=()=>{vn++,Dt+vn==Un&&ir()}}),De.onerror=b},j.onerror=b}},On={DEFAULT_POLLMASK:5,calculateAt:function(c,m,b){if(Xt.isAbs(m))return m;var M;if(M=-100===c?D.cwd():On.getStreamFromFD(c).path,0==m.length){if(!b)throw new D.ErrnoError(44);return M}return Xt.join2(M,m)},doStat:function(c,m,b){try{var M=c(m)}catch(j){if(j&&j.node&&Xt.normalize(m)!==Xt.normalize(D.getPath(j.node)))return-54;throw j}return O[b>>2]=M.dev,O[b+8>>2]=M.ino,O[b+12>>2]=M.mode,ge[b+16>>2]=M.nlink,O[b+20>>2]=M.uid,O[b+24>>2]=M.gid,O[b+28>>2]=M.rdev,le=[M.size>>>0,(lt=M.size,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+40>>2]=le[0],O[b+44>>2]=le[1],O[b+48>>2]=4096,O[b+52>>2]=M.blocks,le=[Math.floor(M.atime.getTime()/1e3)>>>0,(lt=Math.floor(M.atime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+56>>2]=le[0],O[b+60>>2]=le[1],ge[b+64>>2]=0,le=[Math.floor(M.mtime.getTime()/1e3)>>>0,(lt=Math.floor(M.mtime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+72>>2]=le[0],O[b+76>>2]=le[1],ge[b+80>>2]=0,le=[Math.floor(M.ctime.getTime()/1e3)>>>0,(lt=Math.floor(M.ctime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+88>>2]=le[0],O[b+92>>2]=le[1],ge[b+96>>2]=0,le=[M.ino>>>0,(lt=M.ino,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+104>>2]=le[0],O[b+108>>2]=le[1],0},doMsync:function(c,m,b,M,j){if(!D.isFile(m.node.mode))throw new D.ErrnoError(43);if(2&M)return 0;var ve=yt.slice(c,c+b);D.msync(m,ve,j,b,M)},varargs:void 0,get:function(){return On.varargs+=4,O[On.varargs-4>>2]},getStr:function(c){return Oe(c)},getStreamFromFD:function(c){var m=D.getStream(c);if(!m)throw new D.ErrnoError(8);return m}};function qo(c){return c%4==0&&(c%100!=0||c%400==0)}var xi=[0,31,60,91,121,152,182,213,244,274,305,335],Ti=[0,31,59,90,120,151,181,212,243,273,304,334];function co(c){return(qo(c.getFullYear())?xi:Ti)[c.getMonth()]+c.getDate()-1}function Ko(c){var m=ne(c)+1,b=ga(m);return b&&xe(c,Je,b,m),b}var si=[];function cs(c){try{return de.grow(c-Ue.byteLength+65535>>>16),je(de.buffer),1}catch{}}var Ai={};function gi(){if(!gi.strings){var m={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var b in Ai)void 0===Ai[b]?delete m[b]:m[b]=Ai[b];var M=[];for(var b in m)M.push(b+"="+m[b]);gi.strings=M}return gi.strings}var me=[31,29,31,30,31,30,31,31,30,31,30,31],Ee=[31,28,31,30,31,30,31,31,30,31,30,31];function Ut(c,m){c<128?m.push(c):m.push(c%128|128,c>>7)}var oo=[];function Oo(c){var m=oo[c];return m||(c>=oo.length&&(oo.length=c+1),oo[c]=m=ye.get(c)),m}var Pr=void 0,ds=[];function Ya(c,m){ye.set(c,m),oo[c]=ye.get(c)}var Ka=function(c,m,b,M){c||(c=this),this.parent=c,this.mount=c.mount,this.mounted=null,this.id=D.nextInode++,this.name=m,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=M};Object.defineProperties(Ka.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(c){c?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(c){c?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=Ka,D.staticInit();var ra,Il={b:function Pt(c,m,b,M){lr("Assertion failed: "+Oe(c)+", at: "+[m?Oe(m):"unknown filename",b,M?Oe(M):"unknown function"])},i:function Rn(c){const m=new Error(Oe(c));throw m.isAssert=!0,m},k:function Zo(c,m,b){try{var M=br(m,b);return isNaN(M)?-61:(D.ftruncate(c,M),0)}catch(j){if(typeof D>"u"||!(j instanceof D.ErrnoError))throw j;return-j.errno}},e:function Io(){return!0},f:function Yo(c,m){var b=new Date(1e3*function ji(c){return ge[c>>2]+4294967296*O[c+4>>2]}(c));O[m>>2]=b.getSeconds(),O[m+4>>2]=b.getMinutes(),O[m+8>>2]=b.getHours(),O[m+12>>2]=b.getDate(),O[m+16>>2]=b.getMonth(),O[m+20>>2]=b.getFullYear()-1900,O[m+24>>2]=b.getDay();var M=0|co(b);O[m+28>>2]=M,O[m+36>>2]=-60*b.getTimezoneOffset();var j=new Date(b.getFullYear(),0,1),ve=new Date(b.getFullYear(),6,1).getTimezoneOffset(),De=j.getTimezoneOffset(),Ve=0|(ve!=De&&b.getTimezoneOffset()==Math.min(De,ve));O[m+32>>2]=Ve},g:function Cr(c){var m=new Date(O[c+20>>2]+1900,O[c+16>>2],O[c+12>>2],O[c+8>>2],O[c+4>>2],O[c>>2],0),b=O[c+32>>2],M=m.getTimezoneOffset(),j=new Date(m.getFullYear(),0,1),ve=new Date(m.getFullYear(),6,1).getTimezoneOffset(),De=j.getTimezoneOffset(),Ve=Math.min(De,ve);if(b<0)O[c+32>>2]=Number(ve!=De&&Ve==M);else if(b>0!=(Ve==M)){var Dt=Math.max(De,ve),vn=b>0?Ve:Dt;m.setTime(m.getTime()+6e4*(vn-M))}O[c+24>>2]=m.getDay();var Un=0|co(m);return O[c+28>>2]=Un,O[c>>2]=m.getSeconds(),O[c+4>>2]=m.getMinutes(),O[c+8>>2]=m.getHours(),O[c+12>>2]=m.getDate(),O[c+16>>2]=m.getMonth(),O[c+20>>2]=m.getYear(),m.getTime()/1e3|0},h:function ro(c,m,b){var M=(new Date).getFullYear(),j=new Date(M,0,1),ve=new Date(M,6,1),De=j.getTimezoneOffset(),Ve=ve.getTimezoneOffset(),Dt=Math.max(De,Ve);function vn(Gn){var so=Gn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return so?so[1]:"GMT"}ge[c>>2]=60*Dt,O[m>>2]=Number(De!=Ve);var Un=vn(j),ir=vn(ve),pn=Ko(Un),ln=Ko(ir);Ve<De?(ge[b>>2]=pn,ge[b+4>>2]=ln):(ge[b>>2]=ln,ge[b+4>>2]=pn)},a:function mi(){lr("")},s:function Qr(c,m,b){var M=function ko(c,m){var b;for(si.length=0,m>>=2;b=yt[c++];)m+=105!=b&m,si.push(105==b?O[m]:rt[m++>>1]),++m;return si}(m,b);return Ge[c].apply(null,M)},c:function ls(){return Date.now()},p:function Ro(c,m,b){yt.copyWithin(c,m,m+b)},o:function Co(c){var Dt,m=yt.length,b=2147483648;if((c>>>=0)>b)return!1;for(var j=1;j<=4;j*=2){var ve=m*(1+.2/j);if(ve=Math.min(ve,c+100663296),cs(Math.min(b,(Dt=Math.max(c,ve))+(65536-Dt%65536)%65536)))return!0}return!1},m:function Vs(c,m){var b=0;return gi().forEach(function(M,j){var ve=m+b;ge[c+4*j>>2]=ve,function us(c,m,b){for(var M=0;M<c.length;++M)Je[m++>>0]=c.charCodeAt(M);b||(Je[m>>0]=0)}(M,ve),b+=M.length+1}),0},n:function js(c,m){var b=gi();ge[c>>2]=b.length;var M=0;return b.forEach(function(j){M+=j.length+1}),ge[m>>2]=M,0},q:function pr(c){try{var m=On.getStreamFromFD(c);return D.close(m),0}catch(b){if(typeof D>"u"||!(b instanceof D.ErrnoError))throw b;return b.errno}},d:function ks(c,m,b,M){try{var ve=function yi(c,m,b,M){for(var j=0,ve=0;ve<b;ve++){var De=ge[m>>2],Ve=ge[m+4>>2];m+=8;var Dt=D.read(c,Je,De,Ve,M);if(Dt<0)return-1;if(j+=Dt,Dt<Ve)break}return j}(On.getStreamFromFD(c),m,b);return ge[M>>2]=ve,0}catch(De){if(typeof D>"u"||!(De instanceof D.ErrnoError))throw De;return De.errno}},j:function Ui(c,m,b,M,j){try{var ve=br(m,b);if(isNaN(ve))return 61;var De=On.getStreamFromFD(c);return D.llseek(De,ve,M),le=[De.position>>>0,(lt=De.position,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[j>>2]=le[0],O[j+4>>2]=le[1],De.getdents&&0===ve&&0===M&&(De.getdents=null),0}catch(Ve){if(typeof D>"u"||!(Ve instanceof D.ErrnoError))throw Ve;return Ve.errno}},r:function T(c,m,b,M){try{var ve=function tr(c,m,b,M){for(var j=0,ve=0;ve<b;ve++){var De=ge[m>>2],Ve=ge[m+4>>2];m+=8;var Dt=D.write(c,Je,De,Ve,M);if(Dt<0)return-1;j+=Dt}return j}(On.getStreamFromFD(c),m,b);return ge[M>>2]=ve,0}catch(De){if(typeof D>"u"||!(De instanceof D.ErrnoError))throw De;return De.errno}},l:function Me(c,m,b,M,j){return function pe(c,m,b,M){var j=O[M+40>>2],ve={tm_sec:O[M>>2],tm_min:O[M+4>>2],tm_hour:O[M+8>>2],tm_mday:O[M+12>>2],tm_mon:O[M+16>>2],tm_year:O[M+20>>2],tm_wday:O[M+24>>2],tm_yday:O[M+28>>2],tm_isdst:O[M+32>>2],tm_gmtoff:O[M+36>>2],tm_zone:j?Oe(j):""},De=Oe(b),Ve={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Dt in Ve)De=De.replace(new RegExp(Dt,"g"),Ve[Dt]);var vn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Un=["January","February","March","April","May","June","July","August","September","October","November","December"];function ir(_t,mn,To){for(var Br="number"==typeof _t?_t.toString():_t||"";Br.length<mn;)Br=To[0]+Br;return Br}function pn(_t,mn){return ir(_t,mn,"0")}function ln(_t,mn){function To(gs){return gs<0?-1:gs>0?1:0}var Br;return 0===(Br=To(_t.getFullYear()-mn.getFullYear()))&&0===(Br=To(_t.getMonth()-mn.getMonth()))&&(Br=To(_t.getDate()-mn.getDate())),Br}function Gn(_t){switch(_t.getDay()){case 0:return new Date(_t.getFullYear()-1,11,29);case 1:return _t;case 2:return new Date(_t.getFullYear(),0,3);case 3:return new Date(_t.getFullYear(),0,2);case 4:return new Date(_t.getFullYear(),0,1);case 5:return new Date(_t.getFullYear()-1,11,31);case 6:return new Date(_t.getFullYear()-1,11,30)}}function so(_t){var mn=function Ne(c,m){for(var b=new Date(c.getTime());m>0;){var M=qo(b.getFullYear()),j=b.getMonth(),ve=(M?me:Ee)[j];if(!(m>ve-b.getDate()))return b.setDate(b.getDate()+m),b;m-=ve-b.getDate()+1,b.setDate(1),j<11?b.setMonth(j+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(_t.tm_year+1900,0,1),_t.tm_yday),To=new Date(mn.getFullYear(),0,4),Br=new Date(mn.getFullYear()+1,0,4),gs=Gn(To),go=Gn(Br);return ln(gs,mn)<=0?ln(go,mn)<=0?mn.getFullYear()+1:mn.getFullYear():mn.getFullYear()-1}var ms={"%a":function(_t){return vn[_t.tm_wday].substring(0,3)},"%A":function(_t){return vn[_t.tm_wday]},"%b":function(_t){return Un[_t.tm_mon].substring(0,3)},"%B":function(_t){return Un[_t.tm_mon]},"%C":function(_t){return pn((_t.tm_year+1900)/100|0,2)},"%d":function(_t){return pn(_t.tm_mday,2)},"%e":function(_t){return ir(_t.tm_mday,2," ")},"%g":function(_t){return so(_t).toString().substring(2)},"%G":function(_t){return so(_t)},"%H":function(_t){return pn(_t.tm_hour,2)},"%I":function(_t){var mn=_t.tm_hour;return 0==mn?mn=12:mn>12&&(mn-=12),pn(mn,2)},"%j":function(_t){return pn(_t.tm_mday+function N(c,m){for(var b=0,M=0;M<=m;b+=c[M++]);return b}(qo(_t.tm_year+1900)?me:Ee,_t.tm_mon-1),3)},"%m":function(_t){return pn(_t.tm_mon+1,2)},"%M":function(_t){return pn(_t.tm_min,2)},"%n":function(){return"\n"},"%p":function(_t){return _t.tm_hour>=0&&_t.tm_hour<12?"AM":"PM"},"%S":function(_t){return pn(_t.tm_sec,2)},"%t":function(){return"\t"},"%u":function(_t){return _t.tm_wday||7},"%U":function(_t){return pn(Math.floor((_t.tm_yday+7-_t.tm_wday)/7),2)},"%V":function(_t){var mn=Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7);if((_t.tm_wday+371-_t.tm_yday-2)%7<=2&&mn++,mn){if(53==mn){var Br=(_t.tm_wday+371-_t.tm_yday)%7;4!=Br&&(3!=Br||!qo(_t.tm_year))&&(mn=1)}}else{mn=52;var To=(_t.tm_wday+7-_t.tm_yday-1)%7;(4==To||5==To&&qo(_t.tm_year%400-1))&&mn++}return pn(mn,2)},"%w":function(_t){return _t.tm_wday},"%W":function(_t){return pn(Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7),2)},"%y":function(_t){return(_t.tm_year+1900).toString().substring(2)},"%Y":function(_t){return _t.tm_year+1900},"%z":function(_t){var mn=_t.tm_gmtoff,To=mn>=0;return mn=(mn=Math.abs(mn)/60)/60*100+mn%60,(To?"+":"-")+String("0000"+mn).slice(-4)},"%Z":function(_t){return _t.tm_zone},"%%":function(){return"%"}};for(var Dt in De=De.replace(/%%/g,"\0\0"),ms)De.includes(Dt)&&(De=De.replace(new RegExp(Dt,"g"),ms[Dt](ve)));var ui=sn(De=De.replace(/\0\0/g,"%"),!1);return ui.length>m?0:(function R(c,m){Je.set(c,m)}(ui,c),ui.length-1)}(c,m,b,M)}},ga=(function Wr(){var c={a:Il};function m(De,Ve){l.asm=De.exports,je((de=l.asm.t).buffer),ye=l.asm.lc,function to(c){Ae.unshift(c)}(l.asm.u),Vr()}function b(De){m(De.instance)}function M(De){return function as(){return fe||!ue&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return no(hn)}):fetch(hn,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+hn+"'";return c.arrayBuffer()}).catch(function(){return no(hn)})}().then(function(Ve){return WebAssembly.instantiate(Ve,c)}).then(function(Ve){return Ve}).then(De,function(Ve){Y("failed to asynchronously prepare wasm: "+Ve),lr(Ve)})}if(Xr(),l.instantiateWasm)try{return l.instantiateWasm(c,m)}catch(De){Y("Module.instantiateWasm callback failed with error: "+De),te(De)}(function j(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||lo(hn)||"function"!=typeof fetch?M(b):fetch(hn,{credentials:"same-origin"}).then(function(De){return WebAssembly.instantiateStreaming(De,c).then(b,function(Dt){return Y("wasm streaming compile failed: "+Dt),Y("falling back to ArrayBuffer instantiation"),M(b)})})})().catch(te)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.u).apply(null,arguments)},l._malloc=function(){return(ga=l._malloc=l.asm.v).apply(null,arguments)}),Zn=(l._free=function(){return(l._free=l.asm.w).apply(null,arguments)},l._main=function(){return(l._main=l.asm.x).apply(null,arguments)},l._emscripten_bind_VoidPtr___destroy___0=function(){return(Zn=l._emscripten_bind_VoidPtr___destroy___0=l.asm.y).apply(null,arguments)}),Tl=l._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(Tl=l._emscripten_bind_Cloudpilot_Cloudpilot_0=l.asm.z).apply(null,arguments)},Al=l._emscripten_bind_Cloudpilot_Malloc_1=function(){return(Al=l._emscripten_bind_Cloudpilot_Malloc_1=l.asm.A).apply(null,arguments)},uc=l._emscripten_bind_Cloudpilot_Free_1=function(){return(uc=l._emscripten_bind_Cloudpilot_Free_1=l.asm.B).apply(null,arguments)},ht=l._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(ht=l._emscripten_bind_Cloudpilot_Nullptr_0=l.asm.C).apply(null,arguments)},Js=l._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(Js=l._emscripten_bind_Cloudpilot_InitializeSession_3=l.asm.D).apply(null,arguments)},wr=l._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(wr=l._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=l.asm.E).apply(null,arguments)},Ms=l._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(Ms=l._emscripten_bind_Cloudpilot_RunEmulation_1=l.asm.F).apply(null,arguments)},ya=l._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(ya=l._emscripten_bind_Cloudpilot_SetClockFactor_1=l.asm.G).apply(null,arguments)},fo=l._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(fo=l._emscripten_bind_Cloudpilot_CopyFrame_0=l.asm.H).apply(null,arguments)},fs=l._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(fs=l._emscripten_bind_Cloudpilot_IsScreenDirty_0=l.asm.I).apply(null,arguments)},Ri=l._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Ri=l._emscripten_bind_Cloudpilot_MarkScreenClean_0=l.asm.J).apply(null,arguments)},_a=l._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(_a=l._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=l.asm.K).apply(null,arguments)},Us=l._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Us=l._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=l.asm.L).apply(null,arguments)},ea=l._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(ea=l._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=l.asm.M).apply(null,arguments)},va=l._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(va=l._emscripten_bind_Cloudpilot_QueuePenMove_2=l.asm.N).apply(null,arguments)},Xa=l._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(Xa=l._emscripten_bind_Cloudpilot_QueuePenUp_0=l.asm.O).apply(null,arguments)},Mt=l._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(Mt=l._emscripten_bind_Cloudpilot_QueueButtonDown_1=l.asm.P).apply(null,arguments)},ta=l._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(ta=l._emscripten_bind_Cloudpilot_QueueButtonUp_1=l.asm.Q).apply(null,arguments)},wo=l._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(wo=l._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=l.asm.R).apply(null,arguments)},cr=l._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(cr=l._emscripten_bind_Cloudpilot_IsPowerOff_0=l.asm.S).apply(null,arguments)},Jr=l._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(Jr=l._emscripten_bind_Cloudpilot_IsUIInitialized_0=l.asm.T).apply(null,arguments)},jr=l._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(jr=l._emscripten_bind_Cloudpilot_GetOSVersion_0=l.asm.U).apply(null,arguments)},p=l._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(p=l._emscripten_bind_Cloudpilot_IsSetupComplete_0=l.asm.V).apply(null,arguments)},y=l._emscripten_bind_Cloudpilot_Reset_0=function(){return(y=l._emscripten_bind_Cloudpilot_Reset_0=l.asm.W).apply(null,arguments)},w=l._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(w=l._emscripten_bind_Cloudpilot_ResetNoExtensions_0=l.asm.X).apply(null,arguments)},F=l._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(F=l._emscripten_bind_Cloudpilot_ResetHard_0=l.asm.Y).apply(null,arguments)},z=l._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(z=l._emscripten_bind_Cloudpilot_InstallDb_2=l.asm.Z).apply(null,arguments)},_e=l._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(_e=l._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=l.asm._).apply(null,arguments)},Ie=l._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(Ie=l._emscripten_bind_Cloudpilot_GetMemoryPtr_0=l.asm.$).apply(null,arguments)},He=l._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(He=l._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=l.asm.aa).apply(null,arguments)},wt=l._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(wt=l._emscripten_bind_Cloudpilot_GetMemorySize_0=l.asm.ba).apply(null,arguments)},fn=l._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(fn=l._emscripten_bind_Cloudpilot_ImportMemoryImage_2=l.asm.ca).apply(null,arguments)},Tn=l._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(Tn=l._emscripten_bind_Cloudpilot_GetRomPtr_0=l.asm.da).apply(null,arguments)},An=l._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(An=l._emscripten_bind_Cloudpilot_GetRomSize_0=l.asm.ea).apply(null,arguments)},Ht=l._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(Ht=l._emscripten_bind_Cloudpilot_GetSavestatePtr_0=l.asm.fa).apply(null,arguments)},Zt=l._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(Zt=l._emscripten_bind_Cloudpilot_GetSavestateSize_0=l.asm.ga).apply(null,arguments)},ee=l._emscripten_bind_Cloudpilot_SaveState_0=function(){return(ee=l._emscripten_bind_Cloudpilot_SaveState_0=l.asm.ha).apply(null,arguments)},Rr=l._emscripten_bind_Cloudpilot_LoadState_2=function(){return(Rr=l._emscripten_bind_Cloudpilot_LoadState_2=l.asm.ia).apply(null,arguments)},gn=l._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(gn=l._emscripten_bind_Cloudpilot_GetHotsyncName_0=l.asm.ja).apply(null,arguments)},Zr=l._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Zr=l._emscripten_bind_Cloudpilot_SetHotsyncName_1=l.asm.ka).apply(null,arguments)},pt=l._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(pt=l._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=l.asm.la).apply(null,arguments)},Gt=l._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(Gt=l._emscripten_bind_Cloudpilot_StartBackup_0=l.asm.ma).apply(null,arguments)},qr=l._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(qr=l._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=l.asm.na).apply(null,arguments)},vr=l._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(vr=l._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=l.asm.oa).apply(null,arguments)},Xo=l._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(Xo=l._emscripten_bind_Cloudpilot_IsSuspended_0=l.asm.pa).apply(null,arguments)},hr=l._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(hr=l._emscripten_bind_Cloudpilot_GetSuspendContext_0=l.asm.qa).apply(null,arguments)},vi=l._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(vi=l._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=l.asm.ra).apply(null,arguments)},Jc=l._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(Jc=l._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=l.asm.sa).apply(null,arguments)},eu=l._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(eu=l._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=l.asm.ta).apply(null,arguments)},Fi=l._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(Fi=l._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=l.asm.ua).apply(null,arguments)},Hi=l._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(Hi=l._emscripten_bind_Cloudpilot_LaunchAppByName_1=l.asm.va).apply(null,arguments)},nr=l._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(nr=l._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=l.asm.wa).apply(null,arguments)},ba=l._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(ba=l._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=l.asm.xa).apply(null,arguments)},Qa=l._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(Qa=l._emscripten_bind_Cloudpilot_ClearExternalStorage_0=l.asm.ya).apply(null,arguments)},Ja=l._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(Ja=l._emscripten_bind_Cloudpilot_AllocateCard_2=l.asm.za).apply(null,arguments)},Pl=l._emscripten_bind_Cloudpilot_MountCard_1=function(){return(Pl=l._emscripten_bind_Cloudpilot_MountCard_1=l.asm.Aa).apply(null,arguments)},ps=l._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(ps=l._emscripten_bind_Cloudpilot_RemoveCard_1=l.asm.Ba).apply(null,arguments)},Ca=l._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(Ca=l._emscripten_bind_Cloudpilot_GetCardData_1=l.asm.Ca).apply(null,arguments)},Ed=l._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(Ed=l._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=l.asm.Da).apply(null,arguments)},ut=l._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(ut=l._emscripten_bind_Cloudpilot_GetCardSize_1=l.asm.Ea).apply(null,arguments)},el=l._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(el=l._emscripten_bind_Cloudpilot_RemountCards_0=l.asm.Fa).apply(null,arguments)},dc=l._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(dc=l._emscripten_bind_Cloudpilot_GetSupportLevel_1=l.asm.Ga).apply(null,arguments)},Rl=l._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(Rl=l._emscripten_bind_Cloudpilot_GetMountedKey_0=l.asm.Ha).apply(null,arguments)},Fr=l._emscripten_bind_Cloudpilot___destroy___0=function(){return(Fr=l._emscripten_bind_Cloudpilot___destroy___0=l.asm.Ia).apply(null,arguments)},po=l._emscripten_bind_RomInfo_RomInfo_2=function(){return(po=l._emscripten_bind_RomInfo_RomInfo_2=l.asm.Ja).apply(null,arguments)},zi=l._emscripten_bind_RomInfo_IsValid_0=function(){return(zi=l._emscripten_bind_RomInfo_IsValid_0=l.asm.Ka).apply(null,arguments)},xt=l._emscripten_bind_RomInfo_CardVersion_0=function(){return(xt=l._emscripten_bind_RomInfo_CardVersion_0=l.asm.La).apply(null,arguments)},ho=l._emscripten_bind_RomInfo_CardName_0=function(){return(ho=l._emscripten_bind_RomInfo_CardName_0=l.asm.Ma).apply(null,arguments)},ur=l._emscripten_bind_RomInfo_RomVersion_0=function(){return(ur=l._emscripten_bind_RomInfo_RomVersion_0=l.asm.Na).apply(null,arguments)},Mo=l._emscripten_bind_RomInfo_RomVersionString_0=function(){return(Mo=l._emscripten_bind_RomInfo_RomVersionString_0=l.asm.Oa).apply(null,arguments)},Lo=l._emscripten_bind_RomInfo_Supports_1=function(){return(Lo=l._emscripten_bind_RomInfo_Supports_1=l.asm.Pa).apply(null,arguments)},na=l._emscripten_bind_RomInfo___destroy___0=function(){return(na=l._emscripten_bind_RomInfo___destroy___0=l.asm.Qa).apply(null,arguments)},yn=l._emscripten_bind_Frame_GetLineWidth_0=function(){return(yn=l._emscripten_bind_Frame_GetLineWidth_0=l.asm.Ra).apply(null,arguments)},Mr=l._emscripten_bind_Frame_GetBpp_0=function(){return(Mr=l._emscripten_bind_Frame_GetBpp_0=l.asm.Sa).apply(null,arguments)},St=l._emscripten_bind_Frame_GetLines_0=function(){return(St=l._emscripten_bind_Frame_GetLines_0=l.asm.Ta).apply(null,arguments)},qt=l._emscripten_bind_Frame_GetMargin_0=function(){return(qt=l._emscripten_bind_Frame_GetMargin_0=l.asm.Ua).apply(null,arguments)},It=l._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(It=l._emscripten_bind_Frame_GetBytesPerLine_0=l.asm.Va).apply(null,arguments)},dr=l._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(dr=l._emscripten_bind_Frame_GetFirstDirtyLine_0=l.asm.Wa).apply(null,arguments)},rr=l._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(rr=l._emscripten_bind_Frame_GetLastDirtyLine_0=l.asm.Xa).apply(null,arguments)},qn=l._emscripten_bind_Frame_GetHasChanges_0=function(){return(qn=l._emscripten_bind_Frame_GetHasChanges_0=l.asm.Ya).apply(null,arguments)},mr=l._emscripten_bind_Frame_GetBuffer_0=function(){return(mr=l._emscripten_bind_Frame_GetBuffer_0=l.asm.Za).apply(null,arguments)},Sn=l._emscripten_bind_Frame_GetBufferSize_0=function(){return(Sn=l._emscripten_bind_Frame_GetBufferSize_0=l.asm._a).apply(null,arguments)},d=l._emscripten_bind_Frame_GetScaleX_0=function(){return(d=l._emscripten_bind_Frame_GetScaleX_0=l.asm.$a).apply(null,arguments)},g=l._emscripten_bind_Frame_GetScaleY_0=function(){return(g=l._emscripten_bind_Frame_GetScaleY_0=l.asm.ab).apply(null,arguments)},v=l._emscripten_bind_Frame___destroy___0=function(){return(v=l._emscripten_bind_Frame___destroy___0=l.asm.bb).apply(null,arguments)},P=l._emscripten_bind_DbBackup_Init_1=function(){return(P=l._emscripten_bind_DbBackup_Init_1=l.asm.cb).apply(null,arguments)},W=l._emscripten_bind_DbBackup_IsInProgress_0=function(){return(W=l._emscripten_bind_DbBackup_IsInProgress_0=l.asm.db).apply(null,arguments)},Ce=l._emscripten_bind_DbBackup_IsDone_0=function(){return(Ce=l._emscripten_bind_DbBackup_IsDone_0=l.asm.eb).apply(null,arguments)},we=l._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(we=l._emscripten_bind_DbBackup_GetCurrentDatabase_0=l.asm.fb).apply(null,arguments)},Re=l._emscripten_bind_DbBackup_Save_0=function(){return(Re=l._emscripten_bind_DbBackup_Save_0=l.asm.gb).apply(null,arguments)},bt=l._emscripten_bind_DbBackup_Skip_0=function(){return(bt=l._emscripten_bind_DbBackup_Skip_0=l.asm.hb).apply(null,arguments)},nn=l._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(nn=l._emscripten_bind_DbBackup_GetArchivePtr_0=l.asm.ib).apply(null,arguments)},wn=l._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(wn=l._emscripten_bind_DbBackup_GetArchiveSize_0=l.asm.jb).apply(null,arguments)},Nn=l._emscripten_bind_DbBackup___destroy___0=function(){return(Nn=l._emscripten_bind_DbBackup___destroy___0=l.asm.kb).apply(null,arguments)},an=l._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(an=l._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=l.asm.lb).apply(null,arguments)},Et=l._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(Et=l._emscripten_bind_SuspendContextClipboardCopy_Resume_0=l.asm.mb).apply(null,arguments)},Hn=l._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Hn=l._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=l.asm.nb).apply(null,arguments)},Ur=l._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(Ur=l._emscripten_bind_SuspendContextClipboardCopy___destroy___0=l.asm.ob).apply(null,arguments)},li=l._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(li=l._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=l.asm.pb).apply(null,arguments)},mo=l._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(mo=l._emscripten_bind_SuspendContextClipboardPaste_Resume_1=l.asm.qb).apply(null,arguments)},mt=l._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(mt=l._emscripten_bind_SuspendContextClipboardPaste___destroy___0=l.asm.rb).apply(null,arguments)},Qt=l._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(Qt=l._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=l.asm.sb).apply(null,arguments)},or=l._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(or=l._emscripten_bind_SuspendContextNetworkConnect_Resume_1=l.asm.tb).apply(null,arguments)},Or=l._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Or=l._emscripten_bind_SuspendContextNetworkConnect___destroy___0=l.asm.ub).apply(null,arguments)},Lr=l._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Lr=l._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=l.asm.vb).apply(null,arguments)},gr=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(gr=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=l.asm.wb).apply(null,arguments)},tu=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(tu=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=l.asm.xb).apply(null,arguments)},Fl=l._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(Fl=l._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=l.asm.yb).apply(null,arguments)},fc=l._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(fc=l._emscripten_bind_SuspendContextNetworkRpc___destroy___0=l.asm.zb).apply(null,arguments)},hs=l._emscripten_bind_SuspendContext_GetKind_0=function(){return(hs=l._emscripten_bind_SuspendContext_GetKind_0=l.asm.Ab).apply(null,arguments)},Ip=l._emscripten_bind_SuspendContext_Cancel_0=function(){return(Ip=l._emscripten_bind_SuspendContext_Cancel_0=l.asm.Bb).apply(null,arguments)},tg=l._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(tg=l._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=l.asm.Cb).apply(null,arguments)},kp=l._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(kp=l._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=l.asm.Db).apply(null,arguments)},Mp=l._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(Mp=l._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=l.asm.Eb).apply(null,arguments)},ng=l._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(ng=l._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=l.asm.Fb).apply(null,arguments)},rg=l._emscripten_bind_SuspendContext___destroy___0=function(){return(rg=l._emscripten_bind_SuspendContext___destroy___0=l.asm.Gb).apply(null,arguments)},og=l._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(og=l._emscripten_bind_ZipfileWalker_ZipfileWalker_2=l.asm.Hb).apply(null,arguments)},ig=l._emscripten_bind_ZipfileWalker_GetState_0=function(){return(ig=l._emscripten_bind_ZipfileWalker_GetState_0=l.asm.Ib).apply(null,arguments)},sg=l._emscripten_bind_ZipfileWalker_Next_0=function(){return(sg=l._emscripten_bind_ZipfileWalker_Next_0=l.asm.Jb).apply(null,arguments)},ag=l._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(ag=l._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=l.asm.Kb).apply(null,arguments)},lg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(lg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=l.asm.Lb).apply(null,arguments)},cg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(cg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=l.asm.Mb).apply(null,arguments)},ug=l._emscripten_bind_ZipfileWalker___destroy___0=function(){return(ug=l._emscripten_bind_ZipfileWalker___destroy___0=l.asm.Nb).apply(null,arguments)},dg=l._emscripten_bind_SessionImage_SessionImage_0=function(){return(dg=l._emscripten_bind_SessionImage_SessionImage_0=l.asm.Ob).apply(null,arguments)},fg=l._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(fg=l._emscripten_bind_SessionImage_GetDeviceId_0=l.asm.Pb).apply(null,arguments)},pg=l._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(pg=l._emscripten_bind_SessionImage_SetDeviceId_1=l.asm.Qb).apply(null,arguments)},Dd=l._emscripten_bind_SessionImage_GetRomImage_0=function(){return(Dd=l._emscripten_bind_SessionImage_GetRomImage_0=l.asm.Rb).apply(null,arguments)},Id=l._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(Id=l._emscripten_bind_SessionImage_GetRomImageSize_0=l.asm.Sb).apply(null,arguments)},hg=l._emscripten_bind_SessionImage_SetRomImage_2=function(){return(hg=l._emscripten_bind_SessionImage_SetRomImage_2=l.asm.Tb).apply(null,arguments)},mg=l._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(mg=l._emscripten_bind_SessionImage_GetMemoryImage_0=l.asm.Ub).apply(null,arguments)},gg=l._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(gg=l._emscripten_bind_SessionImage_GetMemoryImageSize_0=l.asm.Vb).apply(null,arguments)},wa=l._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(wa=l._emscripten_bind_SessionImage_SetMemoryImage_2=l.asm.Wb).apply(null,arguments)},xp=l._emscripten_bind_SessionImage_GetMetadata_0=function(){return(xp=l._emscripten_bind_SessionImage_GetMetadata_0=l.asm.Xb).apply(null,arguments)},$o=l._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return($o=l._emscripten_bind_SessionImage_GetMetadataSize_0=l.asm.Yb).apply(null,arguments)},kd=l._emscripten_bind_SessionImage_SetMetadata_2=function(){return(kd=l._emscripten_bind_SessionImage_SetMetadata_2=l.asm.Zb).apply(null,arguments)},Tp=l._emscripten_bind_SessionImage_GetSavestate_0=function(){return(Tp=l._emscripten_bind_SessionImage_GetSavestate_0=l.asm._b).apply(null,arguments)},Ap=l._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(Ap=l._emscripten_bind_SessionImage_GetSavestateSize_0=l.asm.$b).apply(null,arguments)},Md=l._emscripten_bind_SessionImage_SetSavestate_2=function(){return(Md=l._emscripten_bind_SessionImage_SetSavestate_2=l.asm.ac).apply(null,arguments)},xd=l._emscripten_bind_SessionImage_GetVersion_0=function(){return(xd=l._emscripten_bind_SessionImage_GetVersion_0=l.asm.bc).apply(null,arguments)},Pp=l._emscripten_bind_SessionImage_Serialize_0=function(){return(Pp=l._emscripten_bind_SessionImage_Serialize_0=l.asm.cc).apply(null,arguments)},nu=l._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(nu=l._emscripten_bind_SessionImage_GetSerializedImage_0=l.asm.dc).apply(null,arguments)},Rp=l._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(Rp=l._emscripten_bind_SessionImage_GetSerializedImageSize_0=l.asm.ec).apply(null,arguments)},Gi=l._emscripten_bind_SessionImage_Deserialize_2=function(){return(Gi=l._emscripten_bind_SessionImage_Deserialize_2=l.asm.fc).apply(null,arguments)},Td=l._emscripten_bind_SessionImage___destroy___0=function(){return(Td=l._emscripten_bind_SessionImage___destroy___0=l.asm.gc).apply(null,arguments)},Ad=l._emscripten_bind_SkinLoader_SkinLoader_1=function(){return(Ad=l._emscripten_bind_SkinLoader_SkinLoader_1=l.asm.hc).apply(null,arguments)},Bo=l._emscripten_bind_SkinLoader_GetData_0=function(){return(Bo=l._emscripten_bind_SkinLoader_GetData_0=l.asm.ic).apply(null,arguments)},Fp=l._emscripten_bind_SkinLoader_GetSize_0=function(){return(Fp=l._emscripten_bind_SkinLoader_GetSize_0=l.asm.jc).apply(null,arguments)},pc=l._emscripten_bind_SkinLoader___destroy___0=function(){return(pc=l._emscripten_bind_SkinLoader___destroy___0=l.asm.kc).apply(null,arguments)};function Zi(c){var m=l._main;try{var j=m(0,0);return function it(c,m){ce=c,function et(c){ce=c,function tn(){return Fe}()||(l.onExit&&l.onExit(c),st=!0),V(c,new Vn(c))}(c)}(j),j}catch(ve){return function Te(c){if(c instanceof Vn||"unwind"==c)return ce;V(1,c)}(ve)}}function Op(c){function m(){ra||(ra=!0,l.calledRun=!0,!st&&(function Cn(){!l.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,jt.init(),Wt(Ae)}(),function _r(){Wt(Tt)}(),re(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),hc&&Zi(),function Qn(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)c=l.postRun.shift(),on.unshift(c);var c;Wt(on)}()))}c=c||Q,Pn>0||(function U(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)c=l.preRun.shift(),ft.unshift(c);var c;Wt(ft)}(),Pn>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),m()},1)):m())}if(l.___original_main=function(){return(l.___original_main=l.asm.mc).apply(null,arguments)},l.___start_em_js=417011,l.___stop_em_js=417208,l.UTF8ToString=Oe,l.addFunction=function Pi(c,m){if(Pr||(Pr=new WeakMap,function _i(c,m){if(Pr)for(var b=c;b<c+m;b++){var M=Oo(b);M&&Pr.set(M,b)}}(0,ye.length)),Pr.has(c))return Pr.get(c);var b=function qa(){if(ds.length)return ds.pop();try{ye.grow(1)}catch(c){throw c instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":c}return ye.length-1}();try{Ya(b,c)}catch(j){if(!(j instanceof TypeError))throw j;Ya(b,function Fo(c,m){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function Ct(c){for(var m={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},b={parameters:[],results:"v"==c[0]?[]:[m[c[0]]]},M=1;M<c.length;++M)b.parameters.push(m[c[M]]),"j"===c[M]&&b.parameters.push("i32");return b}(m),c);var b=[1];!function dn(c,m){var b=c.slice(0,1),M=c.slice(1),j={i:127,p:127,j:126,f:125,d:124};m.push(96),Ut(M.length,m);for(var ve=0;ve<M.length;++ve)m.push(j[M[ve]]);"v"==b?m.push(0):m.push(1,j[b])}(m,b);var M=[0,97,115,109,1,0,0,0,1];Ut(b.length,M),M.push.apply(M,b),M.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var j=new WebAssembly.Module(new Uint8Array(M));return new WebAssembly.Instance(j,{e:{f:c}}).exports.f}(c,m))}return Pr.set(c,b),b},jn=function c(){ra||Op(),ra||(jn=c)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var hc=!0;function eo(){}function bi(c){return(c||eo).__cache__}function ar(c,m){var b=bi(m),M=b[c];return M||((M=Object.create((m||eo).prototype)).ptr=c,b[c]=M)}l.noInitialRun&&(hc=!1),Op(),(eo.prototype=Object.create(eo.prototype)).constructor=eo,eo.prototype.__class__=eo,eo.__cache__={},l.WrapperObject=eo,l.getCache=bi,l.wrapPointer=ar,l.castObject=function Pd(c,m){return ar(c.ptr,m)},l.NULL=ar(0),l.destroy=function Fn(c){if(!c.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";c.__destroy__(),delete bi(c.__class__)[c.ptr]},l.compare=function Np(c,m){return c.ptr===m.ptr},l.getPointer=function Ab(c){return c.ptr},l.getClass=function _g(c){return c.__class__};var Ln={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Ln.needed){for(var c=0;c<Ln.temps.length;c++)l._free(Ln.temps[c]);Ln.temps.length=0,l._free(Ln.buffer),Ln.buffer=0,Ln.size+=Ln.needed,Ln.needed=0}Ln.buffer||(Ln.size+=128,Ln.buffer=l._malloc(Ln.size),be(Ln.buffer)),Ln.pos=0},alloc:function(c,m){be(Ln.buffer);var j,M=c.length*m.BYTES_PER_ELEMENT;return Ln.pos+(M=M+7&-8)>=Ln.size?(be(M>0),Ln.needed+=M,j=l._malloc(M),Ln.temps.push(j)):(j=Ln.buffer+Ln.pos,Ln.pos+=M),j},copy:function(c,m,b){switch(b>>>=0,m.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var j=0;j<c.length;j++)m[b+j]=c[j]}};function Qo(c){if("string"==typeof c){var m=sn(c),b=Ln.alloc(m,Je);return Ln.copy(m,Je,b),b}return c}function xr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function tt(){this.ptr=Tl(),bi(tt)[this.ptr]=this}function io(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),this.ptr=po(c,m),bi(io)[this.ptr]=this}function Ke(){throw"cannot construct a Frame, no constructor in IDL"}function cn(){throw"cannot construct a DbBackup, no constructor in IDL"}function Lt(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function $t(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Sr(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function xo(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function $r(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Er(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),this.ptr=og(c,m),bi(Er)[this.ptr]=this}function _n(){this.ptr=dg(),bi(_n)[this.ptr]=this}function ci(c){Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),this.ptr=Ad(c),bi(ci)[this.ptr]=this}return(xr.prototype=Object.create(eo.prototype)).constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},l.VoidPtr=xr,xr.prototype.__destroy__=xr.prototype.__destroy__=function(){Zn(this.ptr)},(tt.prototype=Object.create(eo.prototype)).constructor=tt,tt.prototype.__class__=tt,tt.__cache__={},l.Cloudpilot=tt,tt.prototype.Malloc=tt.prototype.Malloc=function(c){return c&&"object"==typeof c&&(c=c.ptr),ar(Al(this.ptr,c),xr)},tt.prototype.Free=tt.prototype.Free=function(c){c&&"object"==typeof c&&(c=c.ptr),uc(this.ptr,c)},tt.prototype.Nullptr=tt.prototype.Nullptr=function(){return ar(ht(this.ptr),xr)},tt.prototype.InitializeSession=tt.prototype.InitializeSession=function(c,m,b){var M=this.ptr;return Ln.prepare(),c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),b=b&&"object"==typeof b?b.ptr:Qo(b),!!Js(M,c,m,b)},tt.prototype.GetCyclesPerSecond=tt.prototype.GetCyclesPerSecond=function(){return wr(this.ptr)},tt.prototype.RunEmulation=tt.prototype.RunEmulation=function(c){return c&&"object"==typeof c&&(c=c.ptr),Ms(this.ptr,c)},tt.prototype.SetClockFactor=tt.prototype.SetClockFactor=function(c){c&&"object"==typeof c&&(c=c.ptr),ya(this.ptr,c)},tt.prototype.CopyFrame=tt.prototype.CopyFrame=function(){return ar(fo(this.ptr),Ke)},tt.prototype.IsScreenDirty=tt.prototype.IsScreenDirty=function(){return!!fs(this.ptr)},tt.prototype.MarkScreenClean=tt.prototype.MarkScreenClean=function(){Ri(this.ptr)},tt.prototype.MinMemoryForDevice=tt.prototype.MinMemoryForDevice=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),_a(m,c)},tt.prototype.FramebufferSizeForDevice=tt.prototype.FramebufferSizeForDevice=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),Us(m,c)},tt.prototype.TotalMemoryForDevice=tt.prototype.TotalMemoryForDevice=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),ea(m,c)},tt.prototype.QueuePenMove=tt.prototype.QueuePenMove=function(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),va(this.ptr,c,m)},tt.prototype.QueuePenUp=tt.prototype.QueuePenUp=function(){Xa(this.ptr)},tt.prototype.QueueButtonDown=tt.prototype.QueueButtonDown=function(c){c&&"object"==typeof c&&(c=c.ptr),Mt(this.ptr,c)},tt.prototype.QueueButtonUp=tt.prototype.QueueButtonUp=function(c){c&&"object"==typeof c&&(c=c.ptr),ta(this.ptr,c)},tt.prototype.QueueKeyboardEvent=tt.prototype.QueueKeyboardEvent=function(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),wo(this.ptr,c,m)},tt.prototype.IsPowerOff=tt.prototype.IsPowerOff=function(){return!!cr(this.ptr)},tt.prototype.IsUIInitialized=tt.prototype.IsUIInitialized=function(){return!!Jr(this.ptr)},tt.prototype.GetOSVersion=tt.prototype.GetOSVersion=function(){return jr(this.ptr)},tt.prototype.IsSetupComplete=tt.prototype.IsSetupComplete=function(){return!!p(this.ptr)},tt.prototype.Reset=tt.prototype.Reset=function(){y(this.ptr)},tt.prototype.ResetNoExtensions=tt.prototype.ResetNoExtensions=function(){w(this.ptr)},tt.prototype.ResetHard=tt.prototype.ResetHard=function(){F(this.ptr)},tt.prototype.InstallDb=tt.prototype.InstallDb=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),z(this.ptr,c,m)},tt.prototype.GetPalette2bitMapping=tt.prototype.GetPalette2bitMapping=function(){return _e(this.ptr)},tt.prototype.GetMemoryPtr=tt.prototype.GetMemoryPtr=function(){return ar(Ie(this.ptr),xr)},tt.prototype.GetDirtyPagesPtr=tt.prototype.GetDirtyPagesPtr=function(){return ar(He(this.ptr),xr)},tt.prototype.GetMemorySize=tt.prototype.GetMemorySize=function(){return wt(this.ptr)},tt.prototype.ImportMemoryImage=tt.prototype.ImportMemoryImage=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!fn(this.ptr,c,m)},tt.prototype.GetRomPtr=tt.prototype.GetRomPtr=function(){return ar(Tn(this.ptr),xr)},tt.prototype.GetRomSize=tt.prototype.GetRomSize=function(){return An(this.ptr)},tt.prototype.GetSavestatePtr=tt.prototype.GetSavestatePtr=function(){return ar(Ht(this.ptr),xr)},tt.prototype.GetSavestateSize=tt.prototype.GetSavestateSize=function(){return Zt(this.ptr)},tt.prototype.SaveState=tt.prototype.SaveState=function(){return!!ee(this.ptr)},tt.prototype.LoadState=tt.prototype.LoadState=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!Rr(this.ptr,c,m)},tt.prototype.GetHotsyncName=tt.prototype.GetHotsyncName=function(){return Oe(gn(this.ptr))},tt.prototype.SetHotsyncName=tt.prototype.SetHotsyncName=function(c){var m=this.ptr;Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),Zr(m,c)},tt.prototype.RegisterPwmHandler=tt.prototype.RegisterPwmHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),pt(this.ptr,c)},tt.prototype.StartBackup=tt.prototype.StartBackup=function(){return ar(Gt(this.ptr),cn)},tt.prototype.SetClipboardIntegration=tt.prototype.SetClipboardIntegration=function(c){c&&"object"==typeof c&&(c=c.ptr),qr(this.ptr,c)},tt.prototype.GetClipboardIntegration=tt.prototype.GetClipboardIntegration=function(){return!!vr(this.ptr)},tt.prototype.IsSuspended=tt.prototype.IsSuspended=function(){return!!Xo(this.ptr)},tt.prototype.GetSuspendContext=tt.prototype.GetSuspendContext=function(){return ar(hr(this.ptr),$r)},tt.prototype.SetNetworkRedirection=tt.prototype.SetNetworkRedirection=function(c){c&&"object"==typeof c&&(c=c.ptr),vi(this.ptr,c)},tt.prototype.GetNetworkRedirection=tt.prototype.GetNetworkRedirection=function(){return!!Jc(this.ptr)},tt.prototype.RegisterProxyDisconnectHandler=tt.prototype.RegisterProxyDisconnectHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),eu(this.ptr,c)},tt.prototype.SetHotsyncNameManagement=tt.prototype.SetHotsyncNameManagement=function(c){c&&"object"==typeof c&&(c=c.ptr),Fi(this.ptr,c)},tt.prototype.LaunchAppByName=tt.prototype.LaunchAppByName=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),!!Hi(m,c)},tt.prototype.LaunchAppByDbHeader=tt.prototype.LaunchAppByDbHeader=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!nr(this.ptr,c,m)},tt.prototype.DeviceSupportsCardSize=tt.prototype.DeviceSupportsCardSize=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!ba(this.ptr,c)},tt.prototype.ClearExternalStorage=tt.prototype.ClearExternalStorage=function(){Qa(this.ptr)},tt.prototype.AllocateCard=tt.prototype.AllocateCard=function(c,m){var b=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),m&&"object"==typeof m&&(m=m.ptr),!!Ja(b,c,m)},tt.prototype.MountCard=tt.prototype.MountCard=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),!!Pl(m,c)},tt.prototype.RemoveCard=tt.prototype.RemoveCard=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),!!ps(m,c)},tt.prototype.GetCardData=tt.prototype.GetCardData=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),ar(Ca(m,c),xr)},tt.prototype.GetCardDirtyPages=tt.prototype.GetCardDirtyPages=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),ar(Ed(m,c),xr)},tt.prototype.GetCardSize=tt.prototype.GetCardSize=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),ut(m,c)},tt.prototype.RemountCards=tt.prototype.RemountCards=function(){el(this.ptr)},tt.prototype.GetSupportLevel=tt.prototype.GetSupportLevel=function(c){return c&&"object"==typeof c&&(c=c.ptr),dc(this.ptr,c)},tt.prototype.GetMountedKey=tt.prototype.GetMountedKey=function(){return Oe(Rl(this.ptr))},tt.prototype.__destroy__=tt.prototype.__destroy__=function(){Fr(this.ptr)},(io.prototype=Object.create(eo.prototype)).constructor=io,io.prototype.__class__=io,io.__cache__={},l.RomInfo=io,io.prototype.IsValid=io.prototype.IsValid=function(){return!!zi(this.ptr)},io.prototype.CardVersion=io.prototype.CardVersion=function(){return xt(this.ptr)},io.prototype.CardName=io.prototype.CardName=function(){return Oe(ho(this.ptr))},io.prototype.RomVersion=io.prototype.RomVersion=function(){return ur(this.ptr)},io.prototype.RomVersionString=io.prototype.RomVersionString=function(){return Oe(Mo(this.ptr))},io.prototype.Supports=io.prototype.Supports=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),!!Lo(m,c)},io.prototype.__destroy__=io.prototype.__destroy__=function(){na(this.ptr)},(Ke.prototype=Object.create(eo.prototype)).constructor=Ke,Ke.prototype.__class__=Ke,Ke.__cache__={},l.Frame=Ke,Ke.prototype.GetLineWidth=Ke.prototype.GetLineWidth=function(){return yn(this.ptr)},Ke.prototype.GetBpp=Ke.prototype.GetBpp=function(){return Mr(this.ptr)},Ke.prototype.GetLines=Ke.prototype.GetLines=function(){return St(this.ptr)},Ke.prototype.GetMargin=Ke.prototype.GetMargin=function(){return qt(this.ptr)},Ke.prototype.GetBytesPerLine=Ke.prototype.GetBytesPerLine=function(){return It(this.ptr)},Ke.prototype.GetFirstDirtyLine=Ke.prototype.GetFirstDirtyLine=function(){return dr(this.ptr)},Ke.prototype.GetLastDirtyLine=Ke.prototype.GetLastDirtyLine=function(){return rr(this.ptr)},Ke.prototype.GetHasChanges=Ke.prototype.GetHasChanges=function(){return!!qn(this.ptr)},Ke.prototype.GetBuffer=Ke.prototype.GetBuffer=function(){return ar(mr(this.ptr),xr)},Ke.prototype.GetBufferSize=Ke.prototype.GetBufferSize=function(){return Sn(this.ptr)},Ke.prototype.GetScaleX=Ke.prototype.GetScaleX=function(){return d(this.ptr)},Ke.prototype.GetScaleY=Ke.prototype.GetScaleY=function(){return g(this.ptr)},Ke.prototype.__destroy__=Ke.prototype.__destroy__=function(){v(this.ptr)},(cn.prototype=Object.create(eo.prototype)).constructor=cn,cn.prototype.__class__=cn,cn.__cache__={},l.DbBackup=cn,cn.prototype.Init=cn.prototype.Init=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!P(this.ptr,c)},cn.prototype.IsInProgress=cn.prototype.IsInProgress=function(){return!!W(this.ptr)},cn.prototype.IsDone=cn.prototype.IsDone=function(){return!!Ce(this.ptr)},cn.prototype.GetCurrentDatabase=cn.prototype.GetCurrentDatabase=function(){return Oe(we(this.ptr))},cn.prototype.Save=cn.prototype.Save=function(){return!!Re(this.ptr)},cn.prototype.Skip=cn.prototype.Skip=function(){bt(this.ptr)},cn.prototype.GetArchivePtr=cn.prototype.GetArchivePtr=function(){return ar(nn(this.ptr),xr)},cn.prototype.GetArchiveSize=cn.prototype.GetArchiveSize=function(){return wn(this.ptr)},cn.prototype.__destroy__=cn.prototype.__destroy__=function(){Nn(this.ptr)},(Lt.prototype=Object.create(eo.prototype)).constructor=Lt,Lt.prototype.__class__=Lt,Lt.__cache__={},l.SuspendContextClipboardCopy=Lt,Lt.prototype.Cancel=Lt.prototype.Cancel=function(){an(this.ptr)},Lt.prototype.Resume=Lt.prototype.Resume=function(){Et(this.ptr)},Lt.prototype.GetClipboardContent=Lt.prototype.GetClipboardContent=function(){return Oe(Hn(this.ptr))},Lt.prototype.__destroy__=Lt.prototype.__destroy__=function(){Ur(this.ptr)},($t.prototype=Object.create(eo.prototype)).constructor=$t,$t.prototype.__class__=$t,$t.__cache__={},l.SuspendContextClipboardPaste=$t,$t.prototype.Cancel=$t.prototype.Cancel=function(){li(this.ptr)},$t.prototype.Resume=$t.prototype.Resume=function(c){var m=this.ptr;Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),mo(m,c)},$t.prototype.__destroy__=$t.prototype.__destroy__=function(){mt(this.ptr)},(Sr.prototype=Object.create(eo.prototype)).constructor=Sr,Sr.prototype.__class__=Sr,Sr.__cache__={},l.SuspendContextNetworkConnect=Sr,Sr.prototype.Cancel=Sr.prototype.Cancel=function(){Qt(this.ptr)},Sr.prototype.Resume=Sr.prototype.Resume=function(c){var m=this.ptr;Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),or(m,c)},Sr.prototype.__destroy__=Sr.prototype.__destroy__=function(){Or(this.ptr)},(xo.prototype=Object.create(eo.prototype)).constructor=xo,xo.prototype.__class__=xo,xo.__cache__={},l.SuspendContextNetworkRpc=xo,xo.prototype.Cancel=xo.prototype.Cancel=function(){Lr(this.ptr)},xo.prototype.GetRequestSize=xo.prototype.GetRequestSize=function(){return gr(this.ptr)},xo.prototype.GetRequestData=xo.prototype.GetRequestData=function(){return ar(tu(this.ptr),xr)},xo.prototype.ReceiveResponse=xo.prototype.ReceiveResponse=function(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),Fl(this.ptr,c,m)},xo.prototype.__destroy__=xo.prototype.__destroy__=function(){fc(this.ptr)},($r.prototype=Object.create(eo.prototype)).constructor=$r,$r.prototype.__class__=$r,$r.__cache__={},l.SuspendContext=$r,$r.prototype.GetKind=$r.prototype.GetKind=function(){return hs(this.ptr)},$r.prototype.Cancel=$r.prototype.Cancel=function(){Ip(this.ptr)},$r.prototype.AsContextClipboardCopy=$r.prototype.AsContextClipboardCopy=function(){return ar(tg(this.ptr),Lt)},$r.prototype.AsContextClipboardPaste=$r.prototype.AsContextClipboardPaste=function(){return ar(kp(this.ptr),$t)},$r.prototype.AsContextNetworkConnect=$r.prototype.AsContextNetworkConnect=function(){return ar(Mp(this.ptr),Sr)},$r.prototype.AsContextNetworkRpc=$r.prototype.AsContextNetworkRpc=function(){return ar(ng(this.ptr),xo)},$r.prototype.__destroy__=$r.prototype.__destroy__=function(){rg(this.ptr)},(Er.prototype=Object.create(eo.prototype)).constructor=Er,Er.prototype.__class__=Er,Er.__cache__={},l.ZipfileWalker=Er,Er.prototype.GetState=Er.prototype.GetState=function(){return ig(this.ptr)},Er.prototype.Next=Er.prototype.Next=function(){return sg(this.ptr)},Er.prototype.GetCurrentEntrySize=Er.prototype.GetCurrentEntrySize=function(){return ag(this.ptr)},Er.prototype.GetCurrentEntryName=Er.prototype.GetCurrentEntryName=function(){return Oe(lg(this.ptr))},Er.prototype.GetCurrentEntryContent=Er.prototype.GetCurrentEntryContent=function(){return ar(cg(this.ptr),xr)},Er.prototype.__destroy__=Er.prototype.__destroy__=function(){ug(this.ptr)},(_n.prototype=Object.create(eo.prototype)).constructor=_n,_n.prototype.__class__=_n,_n.__cache__={},l.SessionImage=_n,_n.prototype.GetDeviceId=_n.prototype.GetDeviceId=function(){return Oe(fg(this.ptr))},_n.prototype.SetDeviceId=_n.prototype.SetDeviceId=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Qo(c),ar(pg(m,c),_n)},_n.prototype.GetRomImage=_n.prototype.GetRomImage=function(){return ar(Dd(this.ptr),xr)},_n.prototype.GetRomImageSize=_n.prototype.GetRomImageSize=function(){return Id(this.ptr)},_n.prototype.SetRomImage=_n.prototype.SetRomImage=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),ar(hg(this.ptr,c,m),_n)},_n.prototype.GetMemoryImage=_n.prototype.GetMemoryImage=function(){return ar(mg(this.ptr),xr)},_n.prototype.GetMemoryImageSize=_n.prototype.GetMemoryImageSize=function(){return gg(this.ptr)},_n.prototype.SetMemoryImage=_n.prototype.SetMemoryImage=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),ar(wa(this.ptr,c,m),_n)},_n.prototype.GetMetadata=_n.prototype.GetMetadata=function(){return ar(xp(this.ptr),xr)},_n.prototype.GetMetadataSize=_n.prototype.GetMetadataSize=function(){return $o(this.ptr)},_n.prototype.SetMetadata=_n.prototype.SetMetadata=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),ar(kd(this.ptr,c,m),_n)},_n.prototype.GetSavestate=_n.prototype.GetSavestate=function(){return ar(Tp(this.ptr),xr)},_n.prototype.GetSavestateSize=_n.prototype.GetSavestateSize=function(){return Ap(this.ptr)},_n.prototype.SetSavestate=_n.prototype.SetSavestate=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),ar(Md(this.ptr,c,m),_n)},_n.prototype.GetVersion=_n.prototype.GetVersion=function(){return xd(this.ptr)},_n.prototype.Serialize=_n.prototype.Serialize=function(){return!!Pp(this.ptr)},_n.prototype.GetSerializedImage=_n.prototype.GetSerializedImage=function(){return ar(nu(this.ptr),xr)},_n.prototype.GetSerializedImageSize=_n.prototype.GetSerializedImageSize=function(){return Rp(this.ptr)},_n.prototype.Deserialize=_n.prototype.Deserialize=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!Gi(this.ptr,c,m)},_n.prototype.__destroy__=_n.prototype.__destroy__=function(){Td(this.ptr)},(ci.prototype=Object.create(eo.prototype)).constructor=ci,ci.prototype.__class__=ci,ci.__cache__={},l.SkinLoader=ci,ci.prototype.GetData=ci.prototype.GetData=function(){return ar(Bo(this.ptr),xr)},ci.prototype.GetSize=ci.prototype.GetSize=function(){return Fp(this.ptr)},ci.prototype.__destroy__=ci.prototype.__destroy__=function(){pc(this.ptr)},I.ready});Be.exports=We},9084:Be=>{var A,We=(A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,te,l=typeof(I=I||{})<"u"?I:{};l.ready=new Promise(function(p,y){re=p,te=y});var H,Pe,$e,G=Object.assign({},l),Q=[],L="./this.program",V=(p,y)=>{throw y},ue="object"==typeof window,X="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||X)&&(X?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),A&&(B=A),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.send(null),y.responseText},X&&($e=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),Pe=(p,y,w)=>{var F=new XMLHttpRequest;F.open("GET",p,!0),F.responseType="arraybuffer",F.onload=()=>{200==F.status||0==F.status&&F.response?y(F.response):w()},F.onerror=w,F.send(null)});var fe,Z=l.print||console.log.bind(console),Y=l.printErr||console.warn.bind(console);Object.assign(l,G),G=null,l.arguments&&(Q=l.arguments),l.thisProgram&&(L=l.thisProgram),l.quit&&(V=l.quit),l.wasmBinary&&(fe=l.wasmBinary);var Fe=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&lr("no native wasm support detected");var de,ce,st=!1;function be(p,y){p||lr(y)}var Ue,Je,yt,O,ge,rt,ke=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Qe(p,y,w){for(var F=y+w,z=y;p[z]&&!(z>=F);)++z;if(z-y>16&&p.buffer&&ke)return ke.decode(p.subarray(y,z));for(var _e="";y<z;){var Ie=p[y++];if(128&Ie){var He=63&p[y++];if(192!=(224&Ie)){var wt=63&p[y++];if((Ie=224==(240&Ie)?(15&Ie)<<12|He<<6|wt:(7&Ie)<<18|He<<12|wt<<6|63&p[y++])<65536)_e+=String.fromCharCode(Ie);else{var fn=Ie-65536;_e+=String.fromCharCode(55296|fn>>10,56320|1023&fn)}}else _e+=String.fromCharCode((31&Ie)<<6|He)}else _e+=String.fromCharCode(Ie)}return _e}function Oe(p,y){return p?Qe(yt,p,y):""}function xe(p,y,w,F){if(!(F>0))return 0;for(var z=w,_e=w+F-1,Ie=0;Ie<p.length;++Ie){var He=p.charCodeAt(Ie);if(He>=55296&&He<=57343&&(He=65536+((1023&He)<<10)|1023&p.charCodeAt(++Ie)),He<=127){if(w>=_e)break;y[w++]=He}else if(He<=2047){if(w+1>=_e)break;y[w++]=192|He>>6,y[w++]=128|63&He}else if(He<=65535){if(w+2>=_e)break;y[w++]=224|He>>12,y[w++]=128|He>>6&63,y[w++]=128|63&He}else{if(w+3>=_e)break;y[w++]=240|He>>18,y[w++]=128|He>>12&63,y[w++]=128|He>>6&63,y[w++]=128|63&He}}return y[w]=0,w-z}function ne(p){for(var y=0,w=0;w<p.length;++w){var F=p.charCodeAt(w);F<=127?y++:F<=2047?y+=2:F>=55296&&F<=57343?(y+=4,++w):y+=3}return y}function je(p){Ue=p,l.HEAP8=Je=new Int8Array(p),l.HEAP16=new Int16Array(p),l.HEAP32=O=new Int32Array(p),l.HEAPU8=yt=new Uint8Array(p),l.HEAPU16=new Uint16Array(p),l.HEAPU32=ge=new Uint32Array(p),l.HEAPF32=new Float32Array(p),l.HEAPF64=rt=new Float64Array(p)}var hn,ft=[],Ae=[],Tt=[],on=[],Pn=0,bo=null,jn=null;function Xr(p){Pn++,l.monitorRunDependencies&&l.monitorRunDependencies(Pn)}function Vr(p){if(Pn--,l.monitorRunDependencies&&l.monitorRunDependencies(Pn),0==Pn&&(null!==bo&&(clearInterval(bo),bo=null),jn)){var y=jn;jn=null,y()}}function lr(p){l.onAbort&&l.onAbort(p),Y(p="Aborted("+p+")"),st=!0,ce=1,p+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(p);throw te(y),y}function lo(p){return p.startsWith("data:application/octet-stream;base64,")}function no(p){try{if(p==hn&&fe)return new Uint8Array(fe);if($e)return $e(p);throw"both async and sync fetching of the wasm failed"}catch(y){lr(y)}}lo(hn="fstools_web.wasm")||(hn=function $(p){return l.locateFile?l.locateFile(p,B):B+p}(hn));var lt,le,Ge={40318:()=>{throw new Error("terminated")}};function Rn(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function Vn(p){for(;p.length>0;)p.shift()(l)}var Wt={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,y)=>{for(var w=0,F=p.length-1;F>=0;F--){var z=p[F];"."===z?p.splice(F,1):".."===z?(p.splice(F,1),w++):w&&(p.splice(F,1),w--)}if(y)for(;w;w--)p.unshift("..");return p},normalize:p=>{var y=Wt.isAbs(p),w="/"===p.substr(-1);return!(p=Wt.normalizeArray(p.split("/").filter(F=>!!F),!y).join("/"))&&!y&&(p="."),p&&w&&(p+="/"),(y?"/":"")+p},dirname:p=>{var y=Wt.splitPath(p),w=y[0],F=y[1];return w||F?(F&&(F=F.substr(0,F.length-1)),w+F):"."},basename:p=>{if("/"===p)return"/";var y=(p=(p=Wt.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===y?p:p.substr(y+1)},join:function(){var p=Array.prototype.slice.call(arguments);return Wt.normalize(p.join("/"))},join2:(p,y)=>Wt.normalize(p+"/"+y)},br={resolve:function(){for(var p="",y=!1,w=arguments.length-1;w>=-1&&!y;w--){var F=w>=0?arguments[w]:E.cwd();if("string"!=typeof F)throw new TypeError("Arguments to path.resolve must be strings");if(!F)return"";p=F+"/"+p,y=Wt.isAbs(F)}return(y?"/":"")+(p=Wt.normalizeArray(p.split("/").filter(z=>!!z),!y).join("/"))||"."},relative:(p,y)=>{function w(fn){for(var Tn=0;Tn<fn.length&&""===fn[Tn];Tn++);for(var An=fn.length-1;An>=0&&""===fn[An];An--);return Tn>An?[]:fn.slice(Tn,An-Tn+1)}p=br.resolve(p).substr(1),y=br.resolve(y).substr(1);for(var F=w(p.split("/")),z=w(y.split("/")),_e=Math.min(F.length,z.length),Ie=_e,He=0;He<_e;He++)if(F[He]!==z[He]){Ie=He;break}var wt=[];for(He=Ie;He<F.length;He++)wt.push("..");return(wt=wt.concat(z.slice(Ie))).join("/")}};function Xt(p,y,w){var F=w>0?w:ne(p)+1,z=new Array(F),_e=xe(p,z,0,z.length);return y&&(z.length=_e),z}var Jn={ttys:[],init:function(){},shutdown:function(){},register:function(p,y){Jn.ttys[p]={input:[],output:[],ops:y},E.registerDevice(p,Jn.stream_ops)},stream_ops:{open:function(p){var y=Jn.ttys[p.node.rdev];if(!y)throw new E.ErrnoError(43);p.tty=y,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,y,w,F,z){if(!p.tty||!p.tty.ops.get_char)throw new E.ErrnoError(60);for(var _e=0,Ie=0;Ie<F;Ie++){var He;try{He=p.tty.ops.get_char(p.tty)}catch{throw new E.ErrnoError(29)}if(void 0===He&&0===_e)throw new E.ErrnoError(6);if(null==He)break;_e++,y[w+Ie]=He}return _e&&(p.node.timestamp=Date.now()),_e},write:function(p,y,w,F,z){if(!p.tty||!p.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var _e=0;_e<F;_e++)p.tty.ops.put_char(p.tty,y[w+_e])}catch{throw new E.ErrnoError(29)}return F&&(p.node.timestamp=Date.now()),_e}},default_tty_ops:{get_char:function(p){if(!p.input.length){var y=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(y=window.prompt("Input: "))&&(y+="\n"):"function"==typeof readline&&null!==(y=readline())&&(y+="\n"),!y)return null;p.input=Xt(y,!0)}return p.input.shift()},put_char:function(p,y){null===y||10===y?(Z(Qe(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(Z(Qe(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,y){null===y||10===y?(Y(Qe(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(Y(Qe(p.output,0)),p.output=[])}}};function er(p){lr()}var sn={ops_table:null,mount:function(p){return sn.createNode(null,"/",16895,0)},createNode:function(p,y,w,F){if(E.isBlkdev(w)||E.isFIFO(w))throw new E.ErrnoError(63);sn.ops_table||(sn.ops_table={dir:{node:{getattr:sn.node_ops.getattr,setattr:sn.node_ops.setattr,lookup:sn.node_ops.lookup,mknod:sn.node_ops.mknod,rename:sn.node_ops.rename,unlink:sn.node_ops.unlink,rmdir:sn.node_ops.rmdir,readdir:sn.node_ops.readdir,symlink:sn.node_ops.symlink},stream:{llseek:sn.stream_ops.llseek}},file:{node:{getattr:sn.node_ops.getattr,setattr:sn.node_ops.setattr},stream:{llseek:sn.stream_ops.llseek,read:sn.stream_ops.read,write:sn.stream_ops.write,allocate:sn.stream_ops.allocate,mmap:sn.stream_ops.mmap,msync:sn.stream_ops.msync}},link:{node:{getattr:sn.node_ops.getattr,setattr:sn.node_ops.setattr,readlink:sn.node_ops.readlink},stream:{}},chrdev:{node:{getattr:sn.node_ops.getattr,setattr:sn.node_ops.setattr},stream:E.chrdev_stream_ops}});var z=E.createNode(p,y,w,F);return E.isDir(z.mode)?(z.node_ops=sn.ops_table.dir.node,z.stream_ops=sn.ops_table.dir.stream,z.contents={}):E.isFile(z.mode)?(z.node_ops=sn.ops_table.file.node,z.stream_ops=sn.ops_table.file.stream,z.usedBytes=0,z.contents=null):E.isLink(z.mode)?(z.node_ops=sn.ops_table.link.node,z.stream_ops=sn.ops_table.link.stream):E.isChrdev(z.mode)&&(z.node_ops=sn.ops_table.chrdev.node,z.stream_ops=sn.ops_table.chrdev.stream),z.timestamp=Date.now(),p&&(p.contents[y]=z,p.timestamp=z.timestamp),z},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,y){var w=p.contents?p.contents.length:0;if(!(w>=y)){y=Math.max(y,w*(w<1048576?2:1.125)>>>0),0!=w&&(y=Math.max(y,256));var z=p.contents;p.contents=new Uint8Array(y),p.usedBytes>0&&p.contents.set(z.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,y){if(p.usedBytes!=y)if(0==y)p.contents=null,p.usedBytes=0;else{var w=p.contents;p.contents=new Uint8Array(y),w&&p.contents.set(w.subarray(0,Math.min(y,p.usedBytes))),p.usedBytes=y}},node_ops:{getattr:function(p){var y={};return y.dev=E.isChrdev(p.mode)?p.id:1,y.ino=p.id,y.mode=p.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=p.rdev,y.size=E.isDir(p.mode)?4096:E.isFile(p.mode)?p.usedBytes:E.isLink(p.mode)?p.link.length:0,y.atime=new Date(p.timestamp),y.mtime=new Date(p.timestamp),y.ctime=new Date(p.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr:function(p,y){void 0!==y.mode&&(p.mode=y.mode),void 0!==y.timestamp&&(p.timestamp=y.timestamp),void 0!==y.size&&sn.resizeFileStorage(p,y.size)},lookup:function(p,y){throw E.genericErrors[44]},mknod:function(p,y,w,F){return sn.createNode(p,y,w,F)},rename:function(p,y,w){if(E.isDir(p.mode)){var F;try{F=E.lookupNode(y,w)}catch{}if(F)for(var z in F.contents)throw new E.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=w,y.contents[w]=p,y.timestamp=p.parent.timestamp,p.parent=y},unlink:function(p,y){delete p.contents[y],p.timestamp=Date.now()},rmdir:function(p,y){var w=E.lookupNode(p,y);for(var F in w.contents)throw new E.ErrnoError(55);delete p.contents[y],p.timestamp=Date.now()},readdir:function(p){var y=[".",".."];for(var w in p.contents)p.contents.hasOwnProperty(w)&&y.push(w);return y},symlink:function(p,y,w){var F=sn.createNode(p,y,41471,0);return F.link=w,F},readlink:function(p){if(!E.isLink(p.mode))throw new E.ErrnoError(28);return p.link}},stream_ops:{read:function(p,y,w,F,z){var _e=p.node.contents;if(z>=p.node.usedBytes)return 0;var Ie=Math.min(p.node.usedBytes-z,F);if(Ie>8&&_e.subarray)y.set(_e.subarray(z,z+Ie),w);else for(var He=0;He<Ie;He++)y[w+He]=_e[z+He];return Ie},write:function(p,y,w,F,z,_e){if(y.buffer===Je.buffer&&(_e=!1),!F)return 0;var Ie=p.node;if(Ie.timestamp=Date.now(),y.subarray&&(!Ie.contents||Ie.contents.subarray)){if(_e)return Ie.contents=y.subarray(w,w+F),Ie.usedBytes=F,F;if(0===Ie.usedBytes&&0===z)return Ie.contents=y.slice(w,w+F),Ie.usedBytes=F,F;if(z+F<=Ie.usedBytes)return Ie.contents.set(y.subarray(w,w+F),z),F}if(sn.expandFileStorage(Ie,z+F),Ie.contents.subarray&&y.subarray)Ie.contents.set(y.subarray(w,w+F),z);else for(var He=0;He<F;He++)Ie.contents[z+He]=y[w+He];return Ie.usedBytes=Math.max(Ie.usedBytes,z+F),F},llseek:function(p,y,w){var F=y;if(1===w?F+=p.position:2===w&&E.isFile(p.node.mode)&&(F+=p.node.usedBytes),F<0)throw new E.ErrnoError(28);return F},allocate:function(p,y,w){sn.expandFileStorage(p.node,y+w),p.node.usedBytes=Math.max(p.node.usedBytes,y+w)},mmap:function(p,y,w,F,z){if(!E.isFile(p.node.mode))throw new E.ErrnoError(43);var _e,Ie,He=p.node.contents;if(2&z||He.buffer!==Ue){if((w>0||w+y<He.length)&&(He=He.subarray?He.subarray(w,w+y):Array.prototype.slice.call(He,w,w+y)),Ie=!0,!(_e=er()))throw new E.ErrnoError(48);Je.set(He,_e)}else Ie=!1,_e=He.byteOffset;return{ptr:_e,allocated:Ie}},msync:function(p,y,w,F,z){return sn.stream_ops.write(p,y,0,F,w,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,y={})=>{if(!(p=br.resolve(p)))return{path:"",node:null};if((y=Object.assign({follow_mount:!0,recurse_count:0},y)).recurse_count>8)throw new E.ErrnoError(32);for(var F=p.split("/").filter(An=>!!An),z=E.root,_e="/",Ie=0;Ie<F.length;Ie++){var He=Ie===F.length-1;if(He&&y.parent)break;if(z=E.lookupNode(z,F[Ie]),_e=Wt.join2(_e,F[Ie]),E.isMountpoint(z)&&(!He||He&&y.follow_mount)&&(z=z.mounted.root),!He||y.follow)for(var wt=0;E.isLink(z.mode);){var fn=E.readlink(_e);if(_e=br.resolve(Wt.dirname(_e),fn),z=E.lookupPath(_e,{recurse_count:y.recurse_count+1}).node,wt++>40)throw new E.ErrnoError(32)}}return{path:_e,node:z}},getPath:p=>{for(var y;;){if(E.isRoot(p)){var w=p.mount.mountpoint;return y?"/"!==w[w.length-1]?w+"/"+y:w+y:w}y=y?p.name+"/"+y:p.name,p=p.parent}},hashName:(p,y)=>{for(var w=0,F=0;F<y.length;F++)w=(w<<5)-w+y.charCodeAt(F)|0;return(p+w>>>0)%E.nameTable.length},hashAddNode:p=>{var y=E.hashName(p.parent.id,p.name);p.name_next=E.nameTable[y],E.nameTable[y]=p},hashRemoveNode:p=>{var y=E.hashName(p.parent.id,p.name);if(E.nameTable[y]===p)E.nameTable[y]=p.name_next;else for(var w=E.nameTable[y];w;){if(w.name_next===p){w.name_next=p.name_next;break}w=w.name_next}},lookupNode:(p,y)=>{var w=E.mayLookup(p);if(w)throw new E.ErrnoError(w,p);for(var F=E.hashName(p.id,y),z=E.nameTable[F];z;z=z.name_next)if(z.parent.id===p.id&&z.name===y)return z;return E.lookup(p,y)},createNode:(p,y,w,F)=>{var z=new E.FSNode(p,y,w,F);return E.hashAddNode(z),z},destroyNode:p=>{E.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var y=E.flagModes[p];if(typeof y>"u")throw new Error("Unknown file open mode: "+p);return y},flagsToPermissionString:p=>{var y=["r","w","rw"][3&p];return 512&p&&(y+="w"),y},nodePermissions:(p,y)=>E.ignorePermissions?0:y.includes("r")&&!(292&p.mode)||y.includes("w")&&!(146&p.mode)||y.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>E.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,y)=>{try{return E.lookupNode(p,y),20}catch{}return E.nodePermissions(p,"wx")},mayDelete:(p,y,w)=>{var F;try{F=E.lookupNode(p,y)}catch(_e){return _e.errno}var z=E.nodePermissions(p,"wx");if(z)return z;if(w){if(!E.isDir(F.mode))return 54;if(E.isRoot(F)||E.getPath(F)===E.cwd())return 10}else if(E.isDir(F.mode))return 31;return 0},mayOpen:(p,y)=>p?E.isLink(p.mode)?32:E.isDir(p.mode)&&("r"!==E.flagsToPermissionString(y)||512&y)?31:E.nodePermissions(p,E.flagsToPermissionString(y)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,y=E.MAX_OPEN_FDS)=>{for(var w=p;w<=y;w++)if(!E.streams[w])return w;throw new E.ErrnoError(33)},getStream:p=>E.streams[p],createStream:(p,y,w)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(z){this.node=z}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(z){this.shared.flags=z}},position:{get:function(){return this.shared.position},set:function(z){this.shared.position=z}}})),p=Object.assign(new E.FSStream,p);var F=E.nextfd(y,w);return p.fd=F,E.streams[F]=p,p},closeStream:p=>{E.streams[p]=null},chrdev_stream_ops:{open:p=>{var y=E.getDevice(p.node.rdev);p.stream_ops=y.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new E.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,y)=>p<<8|y,registerDevice:(p,y)=>{E.devices[p]={stream_ops:y}},getDevice:p=>E.devices[p],getMounts:p=>{for(var y=[],w=[p];w.length;){var F=w.pop();y.push(F),w.push.apply(w,F.mounts)}return y},syncfs:(p,y)=>{"function"==typeof p&&(y=p,p=!1),E.syncFSRequests++,E.syncFSRequests>1&&Y("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=E.getMounts(E.root.mount),F=0;function z(Ie){return E.syncFSRequests--,y(Ie)}function _e(Ie){if(Ie)return _e.errored?void 0:(_e.errored=!0,z(Ie));++F>=w.length&&z(null)}w.forEach(Ie=>{if(!Ie.type.syncfs)return _e(null);Ie.type.syncfs(Ie,p,_e)})},mount:(p,y,w)=>{var _e,F="/"===w,z=!w;if(F&&E.root)throw new E.ErrnoError(10);if(!F&&!z){var Ie=E.lookupPath(w,{follow_mount:!1});if(w=Ie.path,E.isMountpoint(_e=Ie.node))throw new E.ErrnoError(10);if(!E.isDir(_e.mode))throw new E.ErrnoError(54)}var He={type:p,opts:y,mountpoint:w,mounts:[]},wt=p.mount(He);return wt.mount=He,He.root=wt,F?E.root=wt:_e&&(_e.mounted=He,_e.mount&&_e.mount.mounts.push(He)),wt},unmount:p=>{var y=E.lookupPath(p,{follow_mount:!1});if(!E.isMountpoint(y.node))throw new E.ErrnoError(28);var w=y.node,F=w.mounted,z=E.getMounts(F);Object.keys(E.nameTable).forEach(Ie=>{for(var He=E.nameTable[Ie];He;){var wt=He.name_next;z.includes(He.mount)&&E.destroyNode(He),He=wt}}),w.mounted=null;var _e=w.mount.mounts.indexOf(F);w.mount.mounts.splice(_e,1)},lookup:(p,y)=>p.node_ops.lookup(p,y),mknod:(p,y,w)=>{var z=E.lookupPath(p,{parent:!0}).node,_e=Wt.basename(p);if(!_e||"."===_e||".."===_e)throw new E.ErrnoError(28);var Ie=E.mayCreate(z,_e);if(Ie)throw new E.ErrnoError(Ie);if(!z.node_ops.mknod)throw new E.ErrnoError(63);return z.node_ops.mknod(z,_e,y,w)},create:(p,y)=>(y=void 0!==y?y:438,y&=4095,E.mknod(p,y|=32768,0)),mkdir:(p,y)=>(y=void 0!==y?y:511,y&=1023,E.mknod(p,y|=16384,0)),mkdirTree:(p,y)=>{for(var w=p.split("/"),F="",z=0;z<w.length;++z)if(w[z]){F+="/"+w[z];try{E.mkdir(F,y)}catch(_e){if(20!=_e.errno)throw _e}}},mkdev:(p,y,w)=>(typeof w>"u"&&(w=y,y=438),E.mknod(p,y|=8192,w)),symlink:(p,y)=>{if(!br.resolve(p))throw new E.ErrnoError(44);var F=E.lookupPath(y,{parent:!0}).node;if(!F)throw new E.ErrnoError(44);var z=Wt.basename(y),_e=E.mayCreate(F,z);if(_e)throw new E.ErrnoError(_e);if(!F.node_ops.symlink)throw new E.ErrnoError(63);return F.node_ops.symlink(F,z,p)},rename:(p,y)=>{var He,wt,w=Wt.dirname(p),F=Wt.dirname(y),z=Wt.basename(p),_e=Wt.basename(y);if(He=E.lookupPath(p,{parent:!0}).node,wt=E.lookupPath(y,{parent:!0}).node,!He||!wt)throw new E.ErrnoError(44);if(He.mount!==wt.mount)throw new E.ErrnoError(75);var An,fn=E.lookupNode(He,z),Tn=br.relative(p,F);if("."!==Tn.charAt(0))throw new E.ErrnoError(28);if("."!==(Tn=br.relative(y,w)).charAt(0))throw new E.ErrnoError(55);try{An=E.lookupNode(wt,_e)}catch{}if(fn!==An){var Ht=E.isDir(fn.mode),Zt=E.mayDelete(He,z,Ht);if(Zt)throw new E.ErrnoError(Zt);if(Zt=An?E.mayDelete(wt,_e,Ht):E.mayCreate(wt,_e))throw new E.ErrnoError(Zt);if(!He.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(fn)||An&&E.isMountpoint(An))throw new E.ErrnoError(10);if(wt!==He&&(Zt=E.nodePermissions(He,"w")))throw new E.ErrnoError(Zt);E.hashRemoveNode(fn);try{He.node_ops.rename(fn,wt,_e)}catch(ee){throw ee}finally{E.hashAddNode(fn)}}},rmdir:p=>{var w=E.lookupPath(p,{parent:!0}).node,F=Wt.basename(p),z=E.lookupNode(w,F),_e=E.mayDelete(w,F,!0);if(_e)throw new E.ErrnoError(_e);if(!w.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(z))throw new E.ErrnoError(10);w.node_ops.rmdir(w,F),E.destroyNode(z)},readdir:p=>{var w=E.lookupPath(p,{follow:!0}).node;if(!w.node_ops.readdir)throw new E.ErrnoError(54);return w.node_ops.readdir(w)},unlink:p=>{var w=E.lookupPath(p,{parent:!0}).node;if(!w)throw new E.ErrnoError(44);var F=Wt.basename(p),z=E.lookupNode(w,F),_e=E.mayDelete(w,F,!1);if(_e)throw new E.ErrnoError(_e);if(!w.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(z))throw new E.ErrnoError(10);w.node_ops.unlink(w,F),E.destroyNode(z)},readlink:p=>{var w=E.lookupPath(p).node;if(!w)throw new E.ErrnoError(44);if(!w.node_ops.readlink)throw new E.ErrnoError(28);return br.resolve(E.getPath(w.parent),w.node_ops.readlink(w))},stat:(p,y)=>{var F=E.lookupPath(p,{follow:!y}).node;if(!F)throw new E.ErrnoError(44);if(!F.node_ops.getattr)throw new E.ErrnoError(63);return F.node_ops.getattr(F)},lstat:p=>E.stat(p,!0),chmod:(p,y,w)=>{var F;if(!(F="string"==typeof p?E.lookupPath(p,{follow:!w}).node:p).node_ops.setattr)throw new E.ErrnoError(63);F.node_ops.setattr(F,{mode:4095&y|-4096&F.mode,timestamp:Date.now()})},lchmod:(p,y)=>{E.chmod(p,y,!0)},fchmod:(p,y)=>{var w=E.getStream(p);if(!w)throw new E.ErrnoError(8);E.chmod(w.node,y)},chown:(p,y,w,F)=>{var z;if(!(z="string"==typeof p?E.lookupPath(p,{follow:!F}).node:p).node_ops.setattr)throw new E.ErrnoError(63);z.node_ops.setattr(z,{timestamp:Date.now()})},lchown:(p,y,w)=>{E.chown(p,y,w,!0)},fchown:(p,y,w)=>{var F=E.getStream(p);if(!F)throw new E.ErrnoError(8);E.chown(F.node,y,w)},truncate:(p,y)=>{if(y<0)throw new E.ErrnoError(28);var w;if(!(w="string"==typeof p?E.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(w.mode))throw new E.ErrnoError(31);if(!E.isFile(w.mode))throw new E.ErrnoError(28);var z=E.nodePermissions(w,"w");if(z)throw new E.ErrnoError(z);w.node_ops.setattr(w,{size:y,timestamp:Date.now()})},ftruncate:(p,y)=>{var w=E.getStream(p);if(!w)throw new E.ErrnoError(8);if(!(2097155&w.flags))throw new E.ErrnoError(28);E.truncate(w.node,y)},utime:(p,y,w)=>{var z=E.lookupPath(p,{follow:!0}).node;z.node_ops.setattr(z,{timestamp:Math.max(y,w)})},open:(p,y,w)=>{if(""===p)throw new E.ErrnoError(44);var F;if(w=typeof w>"u"?438:w,w=64&(y="string"==typeof y?E.modeStringToFlags(y):y)?4095&w|32768:0,"object"==typeof p)F=p;else{p=Wt.normalize(p);try{F=E.lookupPath(p,{follow:!(131072&y)}).node}catch{}}var _e=!1;if(64&y)if(F){if(128&y)throw new E.ErrnoError(20)}else F=E.mknod(p,w,0),_e=!0;if(!F)throw new E.ErrnoError(44);if(E.isChrdev(F.mode)&&(y&=-513),65536&y&&!E.isDir(F.mode))throw new E.ErrnoError(54);if(!_e){var Ie=E.mayOpen(F,y);if(Ie)throw new E.ErrnoError(Ie)}512&y&&!_e&&E.truncate(F,0),y&=-131713;var He=E.createStream({node:F,path:E.getPath(F),flags:y,seekable:!0,position:0,stream_ops:F.stream_ops,ungotten:[],error:!1});return He.stream_ops.open&&He.stream_ops.open(He),l.logReadFiles&&!(1&y)&&(E.readFiles||(E.readFiles={}),p in E.readFiles||(E.readFiles[p]=1)),He},close:p=>{if(E.isClosed(p))throw new E.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(y){throw y}finally{E.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,y,w)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new E.ErrnoError(28);return p.position=p.stream_ops.llseek(p,y,w),p.ungotten=[],p.position},read:(p,y,w,F,z)=>{if(F<0||z<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(1==(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.read)throw new E.ErrnoError(28);var _e=typeof z<"u";if(_e){if(!p.seekable)throw new E.ErrnoError(70)}else z=p.position;var Ie=p.stream_ops.read(p,y,w,F,z);return _e||(p.position+=Ie),Ie},write:(p,y,w,F,z,_e)=>{if(F<0||z<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.write)throw new E.ErrnoError(28);p.seekable&&1024&p.flags&&E.llseek(p,0,2);var Ie=typeof z<"u";if(Ie){if(!p.seekable)throw new E.ErrnoError(70)}else z=p.position;var He=p.stream_ops.write(p,y,w,F,z,_e);return Ie||(p.position+=He),He},allocate:(p,y,w)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(y<0||w<=0)throw new E.ErrnoError(28);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(!E.isFile(p.node.mode)&&!E.isDir(p.node.mode))throw new E.ErrnoError(43);if(!p.stream_ops.allocate)throw new E.ErrnoError(138);p.stream_ops.allocate(p,y,w)},mmap:(p,y,w,F,z)=>{if(2&F&&!(2&z)&&2!=(2097155&p.flags))throw new E.ErrnoError(2);if(1==(2097155&p.flags))throw new E.ErrnoError(2);if(!p.stream_ops.mmap)throw new E.ErrnoError(43);return p.stream_ops.mmap(p,y,w,F,z)},msync:(p,y,w,F,z)=>p.stream_ops.msync?p.stream_ops.msync(p,y,w,F,z):0,munmap:p=>0,ioctl:(p,y,w)=>{if(!p.stream_ops.ioctl)throw new E.ErrnoError(59);return p.stream_ops.ioctl(p,y,w)},readFile:(p,y={})=>{if(y.flags=y.flags||0,y.encoding=y.encoding||"binary","utf8"!==y.encoding&&"binary"!==y.encoding)throw new Error('Invalid encoding type "'+y.encoding+'"');var w,F=E.open(p,y.flags),_e=E.stat(p).size,Ie=new Uint8Array(_e);return E.read(F,Ie,0,_e,0),"utf8"===y.encoding?w=Qe(Ie,0):"binary"===y.encoding&&(w=Ie),E.close(F),w},writeFile:(p,y,w={})=>{w.flags=w.flags||577;var F=E.open(p,w.flags,w.mode);if("string"==typeof y){var z=new Uint8Array(ne(y)+1),_e=xe(y,z,0,z.length);E.write(F,z,0,_e,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(y))throw new Error("Unsupported data type");E.write(F,y,0,y.byteLength,void 0,w.canOwn)}E.close(F)},cwd:()=>E.currentPath,chdir:p=>{var y=E.lookupPath(p,{follow:!0});if(null===y.node)throw new E.ErrnoError(44);if(!E.isDir(y.node.mode))throw new E.ErrnoError(54);var w=E.nodePermissions(y.node,"x");if(w)throw new E.ErrnoError(w);E.currentPath=y.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(y,w,F,z,_e)=>z}),E.mkdev("/dev/null",E.makedev(1,3)),Jn.register(E.makedev(5,0),Jn.default_tty_ops),Jn.register(E.makedev(6,0),Jn.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var p=function Pt(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>lr("randomDevice")}();E.createDevice("/dev","random",p),E.createDevice("/dev","urandom",p),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var p=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var y=E.createNode(p,"fd",16895,73);return y.node_ops={lookup:(w,F)=>{var _e=E.getStream(+F);if(!_e)throw new E.ErrnoError(8);var Ie={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>_e.path}};return Ie.parent=Ie,Ie}},y}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?E.createDevice("/dev","stdin",l.stdin):E.symlink("/dev/tty","/dev/stdin"),l.stdout?E.createDevice("/dev","stdout",null,l.stdout):E.symlink("/dev/tty","/dev/stdout"),l.stderr?E.createDevice("/dev","stderr",null,l.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(y,w){this.node=w,this.setErrno=function(F){this.errno=F},this.setErrno(y),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(p=>{E.genericErrors[p]=new E.ErrnoError(p),E.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(sn,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:sn}},init:(p,y,w)=>{E.init.initialized=!0,E.ensureErrnoError(),l.stdin=p||l.stdin,l.stdout=y||l.stdout,l.stderr=w||l.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var p=0;p<E.streams.length;p++){var y=E.streams[p];y&&E.close(y)}},getMode:(p,y)=>{var w=0;return p&&(w|=365),y&&(w|=146),w},findObject:(p,y)=>{var w=E.analyzePath(p,y);return w.exists?w.object:null},analyzePath:(p,y)=>{try{p=(w=E.lookupPath(p,{follow:!y})).path}catch{}var F={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=E.lookupPath(p,{parent:!0});F.parentExists=!0,F.parentPath=w.path,F.parentObject=w.node,F.name=Wt.basename(p),w=E.lookupPath(p,{follow:!y}),F.exists=!0,F.path=w.path,F.object=w.node,F.name=w.node.name,F.isRoot="/"===w.path}catch(z){F.error=z.errno}return F},createPath:(p,y,w,F)=>{p="string"==typeof p?p:E.getPath(p);for(var z=y.split("/").reverse();z.length;){var _e=z.pop();if(_e){var Ie=Wt.join2(p,_e);try{E.mkdir(Ie)}catch{}p=Ie}}return Ie},createFile:(p,y,w,F,z)=>{var _e=Wt.join2("string"==typeof p?p:E.getPath(p),y),Ie=E.getMode(F,z);return E.create(_e,Ie)},createDataFile:(p,y,w,F,z,_e)=>{var Ie=y;p&&(p="string"==typeof p?p:E.getPath(p),Ie=y?Wt.join2(p,y):p);var He=E.getMode(F,z),wt=E.create(Ie,He);if(w){if("string"==typeof w){for(var fn=new Array(w.length),Tn=0,An=w.length;Tn<An;++Tn)fn[Tn]=w.charCodeAt(Tn);w=fn}E.chmod(wt,146|He);var Ht=E.open(wt,577);E.write(Ht,w,0,w.length,0,_e),E.close(Ht),E.chmod(wt,He)}return wt},createDevice:(p,y,w,F)=>{var z=Wt.join2("string"==typeof p?p:E.getPath(p),y),_e=E.getMode(!!w,!!F);E.createDevice.major||(E.createDevice.major=64);var Ie=E.makedev(E.createDevice.major++,0);return E.registerDevice(Ie,{open:He=>{He.seekable=!1},close:He=>{F&&F.buffer&&F.buffer.length&&F(10)},read:(He,wt,fn,Tn,An)=>{for(var Ht=0,Zt=0;Zt<Tn;Zt++){var ee;try{ee=w()}catch{throw new E.ErrnoError(29)}if(void 0===ee&&0===Ht)throw new E.ErrnoError(6);if(null==ee)break;Ht++,wt[fn+Zt]=ee}return Ht&&(He.node.timestamp=Date.now()),Ht},write:(He,wt,fn,Tn,An)=>{for(var Ht=0;Ht<Tn;Ht++)try{F(wt[fn+Ht])}catch{throw new E.ErrnoError(29)}return Tn&&(He.node.timestamp=Date.now()),Ht}}),E.mkdev(z,_e,Ie)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=Xt(H(p.url),!0),p.usedBytes=p.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(p,y,w,F,z)=>{function _e(){this.lengthKnown=!1,this.chunks=[]}if(_e.prototype.get=function(Zt){if(!(Zt>this.length-1||Zt<0)){var ee=Zt%this.chunkSize;return this.getter(Zt/this.chunkSize|0)[ee]}},_e.prototype.setDataGetter=function(Zt){this.getter=Zt},_e.prototype.cacheLength=function(){var Zt=new XMLHttpRequest;if(Zt.open("HEAD",w,!1),Zt.send(null),!(Zt.status>=200&&Zt.status<300||304===Zt.status))throw new Error("Couldn't load "+w+". Status: "+Zt.status);var Rr,ee=Number(Zt.getResponseHeader("Content-length")),gn=(Rr=Zt.getResponseHeader("Accept-Ranges"))&&"bytes"===Rr,Zr=(Rr=Zt.getResponseHeader("Content-Encoding"))&&"gzip"===Rr,pt=1048576;gn||(pt=ee);var qr=this;qr.setDataGetter(vr=>{var Xo=vr*pt,hr=(vr+1)*pt-1;if(hr=Math.min(hr,ee-1),typeof qr.chunks[vr]>"u"&&(qr.chunks[vr]=((vr,Xo)=>{if(vr>Xo)throw new Error("invalid range ("+vr+", "+Xo+") or no bytes requested!");if(Xo>ee-1)throw new Error("only "+ee+" bytes available! programmer error!");var hr=new XMLHttpRequest;if(hr.open("GET",w,!1),ee!==pt&&hr.setRequestHeader("Range","bytes="+vr+"-"+Xo),hr.responseType="arraybuffer",hr.overrideMimeType&&hr.overrideMimeType("text/plain; charset=x-user-defined"),hr.send(null),!(hr.status>=200&&hr.status<300||304===hr.status))throw new Error("Couldn't load "+w+". Status: "+hr.status);return void 0!==hr.response?new Uint8Array(hr.response||[]):Xt(hr.responseText||"",!0)})(Xo,hr)),typeof qr.chunks[vr]>"u")throw new Error("doXHR failed!");return qr.chunks[vr]}),(Zr||!ee)&&(pt=ee=1,ee=this.getter(0).length,pt=ee,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ee,this._chunkSize=pt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ie=new _e;Object.defineProperties(Ie,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var He={isDevice:!1,contents:Ie}}else He={isDevice:!1,url:w};var wt=E.createFile(p,y,He,F,z);He.contents?wt.contents=He.contents:He.url&&(wt.contents=null,wt.url=He.url),Object.defineProperties(wt,{usedBytes:{get:function(){return this.contents.length}}});var fn={};function An(Ht,Zt,ee,Rr,gn){var Zr=Ht.node.contents;if(gn>=Zr.length)return 0;var pt=Math.min(Zr.length-gn,Rr);if(Zr.slice)for(var Gt=0;Gt<pt;Gt++)Zt[ee+Gt]=Zr[gn+Gt];else for(Gt=0;Gt<pt;Gt++)Zt[ee+Gt]=Zr.get(gn+Gt);return pt}return Object.keys(wt.stream_ops).forEach(Ht=>{var Zt=wt.stream_ops[Ht];fn[Ht]=function(){return E.forceLoadFile(wt),Zt.apply(null,arguments)}}),fn.read=(Ht,Zt,ee,Rr,gn)=>(E.forceLoadFile(wt),An(Ht,Zt,ee,Rr,gn)),fn.mmap=(Ht,Zt,ee,Rr,gn)=>{E.forceLoadFile(wt);var Zr=er();if(!Zr)throw new E.ErrnoError(48);return An(Ht,Je,Zr,Zt,ee),{ptr:Zr,allocated:!0}},wt.stream_ops=fn,wt},createPreloadedFile:(p,y,w,F,z,_e,Ie,He,wt,fn)=>{var Tn=y?br.resolve(Wt.join2(p,y)):p;function Ht(Zt){function ee(Rr){fn&&fn(),He||E.createDataFile(p,y,Rr,F,z,wt),_e&&_e(),Vr()}Browser.handledByPreloadPlugin(Zt,Tn,ee,()=>{Ie&&Ie(),Vr()})||ee(Zt)}Xr(),"string"==typeof w?function jt(p,y,w,F){var z=F?"":"al "+p;Pe(p,_e=>{be(_e,'Loading data file "'+p+'" failed (no arrayBuffer).'),y(new Uint8Array(_e)),z&&Vr()},_e=>{if(!w)throw'Loading data file "'+p+'" failed.';w()}),z&&Xr()}(w,Zt=>Ht(Zt),Ie):Ht(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,y,w)=>{y=y||(()=>{}),w=w||(()=>{});var F=E.indexedDB();try{var z=F.open(E.DB_NAME(),E.DB_VERSION)}catch(_e){return w(_e)}z.onupgradeneeded=()=>{Z("creating db"),z.result.createObjectStore(E.DB_STORE_NAME)},z.onsuccess=()=>{var Ie=z.result.transaction([E.DB_STORE_NAME],"readwrite"),He=Ie.objectStore(E.DB_STORE_NAME),wt=0,fn=0,Tn=p.length;function An(){0==fn?y():w()}p.forEach(Ht=>{var Zt=He.put(E.analyzePath(Ht).object.contents,Ht);Zt.onsuccess=()=>{++wt+fn==Tn&&An()},Zt.onerror=()=>{fn++,wt+fn==Tn&&An()}}),Ie.onerror=w},z.onerror=w},loadFilesFromDB:(p,y,w)=>{y=y||(()=>{}),w=w||(()=>{});var F=E.indexedDB();try{var z=F.open(E.DB_NAME(),E.DB_VERSION)}catch(_e){return w(_e)}z.onupgradeneeded=w,z.onsuccess=()=>{var _e=z.result;try{var Ie=_e.transaction([E.DB_STORE_NAME],"readonly")}catch(Ht){return void w(Ht)}var He=Ie.objectStore(E.DB_STORE_NAME),wt=0,fn=0,Tn=p.length;function An(){0==fn?y():w()}p.forEach(Ht=>{var Zt=He.get(Ht);Zt.onsuccess=()=>{E.analyzePath(Ht).exists&&E.unlink(Ht),E.createDataFile(Wt.dirname(Ht),Wt.basename(Ht),Zt.result,!0,!0,!0),++wt+fn==Tn&&An()},Zt.onerror=()=>{fn++,wt+fn==Tn&&An()}}),Ie.onerror=w},z.onerror=w}},S={DEFAULT_POLLMASK:5,calculateAt:function(p,y,w){if(Wt.isAbs(y))return y;var F;if(F=-100===p?E.cwd():S.getStreamFromFD(p).path,0==y.length){if(!w)throw new E.ErrnoError(44);return F}return Wt.join2(F,y)},doStat:function(p,y,w){try{var F=p(y)}catch(z){if(z&&z.node&&Wt.normalize(y)!==Wt.normalize(E.getPath(z.node)))return-54;throw z}return O[w>>2]=F.dev,O[w+8>>2]=F.ino,O[w+12>>2]=F.mode,ge[w+16>>2]=F.nlink,O[w+20>>2]=F.uid,O[w+24>>2]=F.gid,O[w+28>>2]=F.rdev,le=[F.size>>>0,(lt=F.size,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+40>>2]=le[0],O[w+44>>2]=le[1],O[w+48>>2]=4096,O[w+52>>2]=F.blocks,le=[Math.floor(F.atime.getTime()/1e3)>>>0,(lt=Math.floor(F.atime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+56>>2]=le[0],O[w+60>>2]=le[1],ge[w+64>>2]=0,le=[Math.floor(F.mtime.getTime()/1e3)>>>0,(lt=Math.floor(F.mtime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+72>>2]=le[0],O[w+76>>2]=le[1],ge[w+80>>2]=0,le=[Math.floor(F.ctime.getTime()/1e3)>>>0,(lt=Math.floor(F.ctime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+88>>2]=le[0],O[w+92>>2]=le[1],ge[w+96>>2]=0,le=[F.ino>>>0,(lt=F.ino,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+104>>2]=le[0],O[w+108>>2]=le[1],0},doMsync:function(p,y,w,F,z){if(!E.isFile(y.node.mode))throw new E.ErrnoError(43);if(2&F)return 0;var _e=yt.slice(p,p+w);E.msync(y,_e,z,w,F)},varargs:void 0,get:function(){return S.varargs+=4,O[S.varargs-4>>2]},getStr:function(p){return Oe(p)},getStreamFromFD:function(p){var y=E.getStream(p);if(!y)throw new E.ErrnoError(8);return y}};function D(p){return ge[p>>2]+4294967296*O[p+4>>2]}function Zo(p){return p%4==0&&(p%100!=0||p%400==0)}var ii=[0,31,60,91,121,152,182,213,244,274,305,335],Io=[0,31,59,90,120,151,181,212,243,273,304,334];function xi(p){var y=ne(p)+1,w=Fo(y);return w&&xe(p,Je,w,y),w}var Yo=[];function ko(p){try{return de.grow(p-Ue.byteLength+65535>>>16),je(de.buffer),1}catch{}}var ls={};function Ro(){if(!Ro.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var w in ls)void 0===ls[w]?delete y[w]:y[w]=ls[w];var F=[];for(var w in y)F.push(w+"="+y[w]);Ro.strings=F}return Ro.strings}function Is(p,y){ce=p,function Ai(p){ce=p,function tn(){return Fe}()||(l.onExit&&l.onExit(p),st=!0),V(p,new Rn(p))}(p)}var gi=Is,T=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var Me=function(p,y,w,F){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=E.nextInode++,this.name=y,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=F};Object.defineProperties(Me.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=Me,E.staticInit();var Js,Te={o:function Yn(p,y,w,F){S.varargs=F;try{y=S.getStr(y),y=S.calculateAt(p,y);var z=F?S.get():0;return E.open(y,w,z).fd}catch(_e){if(typeof E>"u"||!(_e instanceof E.ErrnoError))throw _e;return-_e.errno}},h:function On(p,y){var w=new Date(1e3*D(p));O[y>>2]=w.getUTCSeconds(),O[y+4>>2]=w.getUTCMinutes(),O[y+8>>2]=w.getUTCHours(),O[y+12>>2]=w.getUTCDate(),O[y+16>>2]=w.getUTCMonth(),O[y+20>>2]=w.getUTCFullYear()-1900,O[y+24>>2]=w.getUTCDay();var F=Date.UTC(w.getUTCFullYear(),0,1,0,0,0,0),z=(w.getTime()-F)/864e5|0;O[y+28>>2]=z},i:function qo(p,y){var w=new Date(1e3*D(p));O[y>>2]=w.getSeconds(),O[y+4>>2]=w.getMinutes(),O[y+8>>2]=w.getHours(),O[y+12>>2]=w.getDate(),O[y+16>>2]=w.getMonth(),O[y+20>>2]=w.getFullYear()-1900,O[y+24>>2]=w.getDay();var F=0|function ji(p){return(Zo(p.getFullYear())?ii:Io)[p.getMonth()]+p.getDate()-1}(w);O[y+28>>2]=F,O[y+36>>2]=-60*w.getTimezoneOffset();var z=new Date(w.getFullYear(),0,1),_e=new Date(w.getFullYear(),6,1).getTimezoneOffset(),Ie=z.getTimezoneOffset(),He=0|(_e!=Ie&&w.getTimezoneOffset()==Math.min(Ie,_e));O[y+32>>2]=He},j:function Ti(p,y,w){var F=(new Date).getFullYear(),z=new Date(F,0,1),_e=new Date(F,6,1),Ie=z.getTimezoneOffset(),He=_e.getTimezoneOffset(),wt=Math.max(Ie,He);function fn(ee){var Rr=ee.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Rr?Rr[1]:"GMT"}ge[p>>2]=60*wt,O[y>>2]=Number(Ie!=He);var Tn=fn(z),An=fn(_e),Ht=xi(Tn),Zt=xi(An);He<Ie?(ge[w>>2]=Ht,ge[w+4>>2]=Zt):(ge[w>>2]=Zt,ge[w+4>>2]=Ht)},b:function co(){lr("")},a:function Ko(p,y,w){var F=function Cr(p,y){var w;for(Yo.length=0,y>>=2;w=yt[p++];)y+=105!=w&y,Yo.push(105==w?O[y]:rt[y++>>1]),++y;return Yo}(y,w);return Ge[p].apply(null,F)},c:function ro(){return Date.now()},g:function mi(p,y,w){yt.copyWithin(p,y,y+w)},m:function Qr(p){var wt,y=yt.length,w=2147483648;if((p>>>=0)>w)return!1;for(var z=1;z<=4;z*=2){var _e=y*(1+.2/z);if(_e=Math.min(_e,p+100663296),ko(Math.min(w,(wt=Math.max(p,_e))+(65536-wt%65536)%65536)))return!0}return!1},p:function cs(p,y){var w=0;return Ro().forEach(function(F,z){var _e=y+w;ge[p+4*z>>2]=_e,function uo(p,y,w){for(var F=0;F<p.length;++F)Je[y++>>0]=p.charCodeAt(F);w||(Je[y>>0]=0)}(F,_e),w+=F.length+1}),0},f:function Co(p,y){var w=Ro();ge[p>>2]=w.length;var F=0;return w.forEach(function(z){F+=z.length+1}),ge[y>>2]=F,0},q:gi,d:function us(p){try{var y=S.getStreamFromFD(p);return E.close(y),0}catch(w){if(typeof E>"u"||!(w instanceof E.ErrnoError))throw w;return w.errno}},e:function js(p,y,w,F){try{var _e=function Vs(p,y,w,F){for(var z=0,_e=0;_e<w;_e++){var Ie=ge[y>>2],He=ge[y+4>>2];y+=8;var wt=E.read(p,Je,Ie,He,F);if(wt<0)return-1;if(z+=wt,wt<He)break}return z}(S.getStreamFromFD(p),y,w);return ge[F>>2]=_e,0}catch(Ie){if(typeof E>"u"||!(Ie instanceof E.ErrnoError))throw Ie;return Ie.errno}},k:function yi(p,y,w,F,z){try{var _e=function pr(p,y){return y+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*y:NaN}(y,w);if(isNaN(_e))return 61;var Ie=S.getStreamFromFD(p);return E.llseek(Ie,_e,F),le=[Ie.position>>>0,(lt=Ie.position,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[z>>2]=le[0],O[z+4>>2]=le[1],Ie.getdents&&0===_e&&0===F&&(Ie.getdents=null),0}catch(He){if(typeof E>"u"||!(He instanceof E.ErrnoError))throw He;return He.errno}},n:function Ui(p,y,w,F){try{var _e=function ks(p,y,w,F){for(var z=0,_e=0;_e<w;_e++){var Ie=ge[y>>2],He=ge[y+4>>2];y+=8;var wt=E.write(p,Je,Ie,He,F);if(wt<0)return-1;z+=wt}return z}(S.getStreamFromFD(p),y,w);return ge[F>>2]=_e,0}catch(Ie){if(typeof E>"u"||!(Ie instanceof E.ErrnoError))throw Ie;return Ie.errno}},l:function R(p,y,w,F,z){return function Ne(p,y,w,F){var z=O[F+40>>2],_e={tm_sec:O[F>>2],tm_min:O[F+4>>2],tm_hour:O[F+8>>2],tm_mday:O[F+12>>2],tm_mon:O[F+16>>2],tm_year:O[F+20>>2],tm_wday:O[F+24>>2],tm_yday:O[F+28>>2],tm_isdst:O[F+32>>2],tm_gmtoff:O[F+36>>2],tm_zone:z?Oe(z):""},Ie=Oe(w),He={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var wt in He)Ie=Ie.replace(new RegExp(wt,"g"),He[wt]);var fn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Tn=["January","February","March","April","May","June","July","August","September","October","November","December"];function An(pt,Gt,qr){for(var vr="number"==typeof pt?pt.toString():pt||"";vr.length<Gt;)vr=qr[0]+vr;return vr}function Ht(pt,Gt){return An(pt,Gt,"0")}function Zt(pt,Gt){function qr(Xo){return Xo<0?-1:Xo>0?1:0}var vr;return 0===(vr=qr(pt.getFullYear()-Gt.getFullYear()))&&0===(vr=qr(pt.getMonth()-Gt.getMonth()))&&(vr=qr(pt.getDate()-Gt.getDate())),vr}function ee(pt){switch(pt.getDay()){case 0:return new Date(pt.getFullYear()-1,11,29);case 1:return pt;case 2:return new Date(pt.getFullYear(),0,3);case 3:return new Date(pt.getFullYear(),0,2);case 4:return new Date(pt.getFullYear(),0,1);case 5:return new Date(pt.getFullYear()-1,11,31);case 6:return new Date(pt.getFullYear()-1,11,30)}}function Rr(pt){var Gt=function me(p,y){for(var w=new Date(p.getTime());y>0;){var F=Zo(w.getFullYear()),z=w.getMonth(),_e=(F?T:N)[z];if(!(y>_e-w.getDate()))return w.setDate(w.getDate()+y),w;y-=_e-w.getDate()+1,w.setDate(1),z<11?w.setMonth(z+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(pt.tm_year+1900,0,1),pt.tm_yday),qr=new Date(Gt.getFullYear(),0,4),vr=new Date(Gt.getFullYear()+1,0,4),Xo=ee(qr),hr=ee(vr);return Zt(Xo,Gt)<=0?Zt(hr,Gt)<=0?Gt.getFullYear()+1:Gt.getFullYear():Gt.getFullYear()-1}var gn={"%a":function(pt){return fn[pt.tm_wday].substring(0,3)},"%A":function(pt){return fn[pt.tm_wday]},"%b":function(pt){return Tn[pt.tm_mon].substring(0,3)},"%B":function(pt){return Tn[pt.tm_mon]},"%C":function(pt){return Ht((pt.tm_year+1900)/100|0,2)},"%d":function(pt){return Ht(pt.tm_mday,2)},"%e":function(pt){return An(pt.tm_mday,2," ")},"%g":function(pt){return Rr(pt).toString().substring(2)},"%G":function(pt){return Rr(pt)},"%H":function(pt){return Ht(pt.tm_hour,2)},"%I":function(pt){var Gt=pt.tm_hour;return 0==Gt?Gt=12:Gt>12&&(Gt-=12),Ht(Gt,2)},"%j":function(pt){return Ht(pt.tm_mday+function tr(p,y){for(var w=0,F=0;F<=y;w+=p[F++]);return w}(Zo(pt.tm_year+1900)?T:N,pt.tm_mon-1),3)},"%m":function(pt){return Ht(pt.tm_mon+1,2)},"%M":function(pt){return Ht(pt.tm_min,2)},"%n":function(){return"\n"},"%p":function(pt){return pt.tm_hour>=0&&pt.tm_hour<12?"AM":"PM"},"%S":function(pt){return Ht(pt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(pt){return pt.tm_wday||7},"%U":function(pt){return Ht(Math.floor((pt.tm_yday+7-pt.tm_wday)/7),2)},"%V":function(pt){var Gt=Math.floor((pt.tm_yday+7-(pt.tm_wday+6)%7)/7);if((pt.tm_wday+371-pt.tm_yday-2)%7<=2&&Gt++,Gt){if(53==Gt){var vr=(pt.tm_wday+371-pt.tm_yday)%7;4!=vr&&(3!=vr||!Zo(pt.tm_year))&&(Gt=1)}}else{Gt=52;var qr=(pt.tm_wday+7-pt.tm_yday-1)%7;(4==qr||5==qr&&Zo(pt.tm_year%400-1))&&Gt++}return Ht(Gt,2)},"%w":function(pt){return pt.tm_wday},"%W":function(pt){return Ht(Math.floor((pt.tm_yday+7-(pt.tm_wday+6)%7)/7),2)},"%y":function(pt){return(pt.tm_year+1900).toString().substring(2)},"%Y":function(pt){return pt.tm_year+1900},"%z":function(pt){var Gt=pt.tm_gmtoff,qr=Gt>=0;return Gt=(Gt=Math.abs(Gt)/60)/60*100+Gt%60,(qr?"+":"-")+String("0000"+Gt).slice(-4)},"%Z":function(pt){return pt.tm_zone},"%%":function(){return"%"}};for(var wt in Ie=Ie.replace(/%%/g,"\0\0"),gn)Ie.includes(wt)&&(Ie=Ie.replace(new RegExp(wt,"g"),gn[wt](_e)));var Zr=Xt(Ie=Ie.replace(/\0\0/g,"%"),!1);return Zr.length>y?0:(function Ee(p,y){Je.set(p,y)}(Zr,p),Zr.length-1)}(p,y,w,F)}},Fo=(function Wr(){var p={a:Te};function y(Ie,He){l.asm=Ie.exports,je((de=l.asm.r).buffer),function to(p){Ae.unshift(p)}(l.asm.s),Vr()}function w(Ie){y(Ie.instance)}function F(Ie){return function as(){return fe||!ue&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return no(hn)}):fetch(hn,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+hn+"'";return p.arrayBuffer()}).catch(function(){return no(hn)})}().then(function(He){return WebAssembly.instantiate(He,p)}).then(function(He){return He}).then(Ie,function(He){Y("failed to asynchronously prepare wasm: "+He),lr(He)})}if(Xr(),l.instantiateWasm)try{return l.instantiateWasm(p,y)}catch(Ie){Y("Module.instantiateWasm callback failed with error: "+Ie),te(Ie)}(function z(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||lo(hn)||"function"!=typeof fetch?F(w):fetch(hn,{credentials:"same-origin"}).then(function(Ie){return WebAssembly.instantiateStreaming(Ie,p).then(w,function(wt){return Y("wasm streaming compile failed: "+wt),Y("falling back to ArrayBuffer instantiation"),F(w)})})})().catch(te)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.s).apply(null,arguments)},l._free=function(){return(l._free=l.asm.t).apply(null,arguments)},l._malloc=function(){return(Fo=l._malloc=l.asm.u).apply(null,arguments)}),oo=l._emscripten_bind_VoidPtr___destroy___0=function(){return(oo=l._emscripten_bind_VoidPtr___destroy___0=l.asm.v).apply(null,arguments)},Oo=l._emscripten_bind_FSTools_FSTools_0=function(){return(Oo=l._emscripten_bind_FSTools_FSTools_0=l.asm.w).apply(null,arguments)},_i=l._emscripten_bind_FSTools_Malloc_1=function(){return(_i=l._emscripten_bind_FSTools_Malloc_1=l.asm.x).apply(null,arguments)},Pr=l._emscripten_bind_FSTools_Free_1=function(){return(Pr=l._emscripten_bind_FSTools_Free_1=l.asm.y).apply(null,arguments)},ds=l._emscripten_bind_FSTools_Nullptr_0=function(){return(ds=l._emscripten_bind_FSTools_Nullptr_0=l.asm.z).apply(null,arguments)},qa=l._emscripten_bind_FSTools___destroy___0=function(){return(qa=l._emscripten_bind_FSTools___destroy___0=l.asm.A).apply(null,arguments)},Ya=l._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Ya=l._emscripten_bind_MkfsContext_MkfsContext_0=l.asm.B).apply(null,arguments)},Pi=l._emscripten_bind_MkfsContext_Mkfs_2=function(){return(Pi=l._emscripten_bind_MkfsContext_Mkfs_2=l.asm.C).apply(null,arguments)},Ka=l._emscripten_bind_MkfsContext_GetImage_0=function(){return(Ka=l._emscripten_bind_MkfsContext_GetImage_0=l.asm.D).apply(null,arguments)},Xs=l._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(Xs=l._emscripten_bind_MkfsContext_GetImageSize_0=l.asm.E).apply(null,arguments)},Qs=l._emscripten_bind_MkfsContext___destroy___0=function(){return(Qs=l._emscripten_bind_MkfsContext___destroy___0=l.asm.F).apply(null,arguments)},Il=l._emscripten_bind_FsckContext_FsckContext_1=function(){return(Il=l._emscripten_bind_FsckContext_FsckContext_1=l.asm.G).apply(null,arguments)},kl=l._emscripten_bind_FsckContext_GetImage_0=function(){return(kl=l._emscripten_bind_FsckContext_GetImage_0=l.asm.H).apply(null,arguments)},Ml=l._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(Ml=l._emscripten_bind_FsckContext_GetDirtyPages_0=l.asm.I).apply(null,arguments)},ga=l._emscripten_bind_FsckContext_GetImageSize_0=function(){return(ga=l._emscripten_bind_FsckContext_GetImageSize_0=l.asm.J).apply(null,arguments)},xl=l._emscripten_bind_FsckContext_Fsck_0=function(){return(xl=l._emscripten_bind_FsckContext_Fsck_0=l.asm.K).apply(null,arguments)},No=l._emscripten_bind_FsckContext_GetResult_0=function(){return(No=l._emscripten_bind_FsckContext_GetResult_0=l.asm.L).apply(null,arguments)},Zn=l._emscripten_bind_FsckContext___destroy___0=function(){return(Zn=l._emscripten_bind_FsckContext___destroy___0=l.asm.M).apply(null,arguments)};function Ms(p){function y(){Js||(Js=!0,l.calledRun=!0,!st&&(function Cn(){!l.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,Jn.init(),Vn(Ae)}(),function _r(){Vn(Tt)}(),re(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),ya&&function wr(p){var y=l._main;try{var z=y(0,0);return Is(z),z}catch(_e){return function pe(p){if(p instanceof Rn||"unwind"==p)return ce;V(1,p)}(_e)}}(),function Qn(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)p=l.postRun.shift(),on.unshift(p);var p;Vn(on)}()))}p=p||Q,Pn>0||(function U(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)p=l.preRun.shift(),ft.unshift(p);var p;Vn(ft)}(),Pn>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),y()},1)):y())}if(l._main=function(){return(l._main=l.asm.N).apply(null,arguments)},l.___original_main=function(){return(l.___original_main=l.asm.P).apply(null,arguments)},l.___start_em_js=40220,l.___stop_em_js=40318,jn=function p(){Js||Ms(),Js||(jn=p)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var ya=!0;function fo(){}function fs(p){return(p||fo).__cache__}function Ri(p,y){var w=fs(y),F=w[p];return F||((F=Object.create((y||fo).prototype)).ptr=p,w[p]=F)}l.noInitialRun&&(ya=!1),Ms(),(fo.prototype=Object.create(fo.prototype)).constructor=fo,fo.prototype.__class__=fo,fo.__cache__={},l.WrapperObject=fo,l.getCache=fs,l.wrapPointer=Ri,l.castObject=function _a(p,y){return Ri(p.ptr,y)},l.NULL=Ri(0),l.destroy=function Us(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete fs(p.__class__)[p.ptr]},l.compare=function ea(p,y){return p.ptr===y.ptr},l.getPointer=function va(p){return p.ptr},l.getClass=function Xa(p){return p.__class__};var Mt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Mt.needed){for(var p=0;p<Mt.temps.length;p++)l._free(Mt.temps[p]);Mt.temps.length=0,l._free(Mt.buffer),Mt.buffer=0,Mt.size+=Mt.needed,Mt.needed=0}Mt.buffer||(Mt.size+=128,Mt.buffer=l._malloc(Mt.size),be(Mt.buffer)),Mt.pos=0},alloc:function(p,y){be(Mt.buffer);var z,F=p.length*y.BYTES_PER_ELEMENT;return Mt.pos+(F=F+7&-8)>=Mt.size?(be(F>0),Mt.needed+=F,z=l._malloc(F),Mt.temps.push(z)):(z=Mt.buffer+Mt.pos,Mt.pos+=F),z},copy:function(p,y,w){switch(w>>>=0,y.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var z=0;z<p.length;z++)y[w+z]=p[z]}};function wo(){throw"cannot construct a VoidPtr, no constructor in IDL"}function cr(){this.ptr=Oo(),fs(cr)[this.ptr]=this}function Jr(){this.ptr=Ya(),fs(Jr)[this.ptr]=this}function jr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Il(p),fs(jr)[this.ptr]=this}return(wo.prototype=Object.create(fo.prototype)).constructor=wo,wo.prototype.__class__=wo,wo.__cache__={},l.VoidPtr=wo,wo.prototype.__destroy__=wo.prototype.__destroy__=function(){oo(this.ptr)},(cr.prototype=Object.create(fo.prototype)).constructor=cr,cr.prototype.__class__=cr,cr.__cache__={},l.FSTools=cr,cr.prototype.Malloc=cr.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Ri(_i(this.ptr,p),wo)},cr.prototype.Free=cr.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),Pr(this.ptr,p)},cr.prototype.Nullptr=cr.prototype.Nullptr=function(){return Ri(ds(this.ptr),wo)},cr.prototype.__destroy__=cr.prototype.__destroy__=function(){qa(this.ptr)},(Jr.prototype=Object.create(fo.prototype)).constructor=Jr,Jr.prototype.__class__=Jr,Jr.__cache__={},l.MkfsContext=Jr,Jr.prototype.Mkfs=Jr.prototype.Mkfs=function(p,y){var w=this.ptr;return Mt.prepare(),p&&"object"==typeof p&&(p=p.ptr),y=y&&"object"==typeof y?y.ptr:function ta(p){if("string"==typeof p){var y=Xt(p),w=Mt.alloc(y,Je);return Mt.copy(y,Je,w),w}return p}(y),!!Pi(w,p,y)},Jr.prototype.GetImage=Jr.prototype.GetImage=function(){return Ri(Ka(this.ptr),wo)},Jr.prototype.GetImageSize=Jr.prototype.GetImageSize=function(){return Xs(this.ptr)},Jr.prototype.__destroy__=Jr.prototype.__destroy__=function(){Qs(this.ptr)},(jr.prototype=Object.create(fo.prototype)).constructor=jr,jr.prototype.__class__=jr,jr.__cache__={},l.FsckContext=jr,jr.prototype.GetImage=jr.prototype.GetImage=function(){return Ri(kl(this.ptr),wo)},jr.prototype.GetDirtyPages=jr.prototype.GetDirtyPages=function(){return Ri(Ml(this.ptr),wo)},jr.prototype.GetImageSize=jr.prototype.GetImageSize=function(){return ga(this.ptr)},jr.prototype.Fsck=jr.prototype.Fsck=function(){return xl(this.ptr)},jr.prototype.GetResult=jr.prototype.GetResult=function(){return No(this.ptr)},jr.prototype.__destroy__=jr.prototype.__destroy__=function(){Zn(this.ptr)},I.ready});Be.exports=We},7971:Be=>{var A,We=(A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,te,l=typeof(I=I||{})<"u"?I:{};l.ready=new Promise(function(d,g){re=d,te=g});var H,Pe,$e,G=Object.assign({},l),Q=[],L="./this.program",V=(d,g)=>{throw g},ue="object"==typeof window,X="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||X)&&(X?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),A&&(B=A),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.send(null),g.responseText},X&&($e=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Pe=(d,g,v)=>{var P=new XMLHttpRequest;P.open("GET",d,!0),P.responseType="arraybuffer",P.onload=()=>{200==P.status||0==P.status&&P.response?g(P.response):v()},P.onerror=v,P.send(null)});var fe,Z=l.print||console.log.bind(console),Y=l.printErr||console.warn.bind(console);Object.assign(l,G),G=null,l.arguments&&(Q=l.arguments),l.thisProgram&&(L=l.thisProgram),l.quit&&(V=l.quit),l.wasmBinary&&(fe=l.wasmBinary);var Fe=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&lr("no native wasm support detected");var de,ce,st=!1;function be(d,g){d||lr(g)}var Ue,Je,yt,O,ge,ke=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Qe(d,g,v){for(var P=g+v,W=g;d[W]&&!(W>=P);)++W;if(W-g>16&&d.buffer&&ke)return ke.decode(d.subarray(g,W));for(var Ce="";g<W;){var we=d[g++];if(128&we){var Re=63&d[g++];if(192!=(224&we)){var bt=63&d[g++];if((we=224==(240&we)?(15&we)<<12|Re<<6|bt:(7&we)<<18|Re<<12|bt<<6|63&d[g++])<65536)Ce+=String.fromCharCode(we);else{var nn=we-65536;Ce+=String.fromCharCode(55296|nn>>10,56320|1023&nn)}}else Ce+=String.fromCharCode((31&we)<<6|Re)}else Ce+=String.fromCharCode(we)}return Ce}function Oe(d,g){return d?Qe(yt,d,g):""}function xe(d,g,v,P){if(!(P>0))return 0;for(var W=v,Ce=v+P-1,we=0;we<d.length;++we){var Re=d.charCodeAt(we);if(Re>=55296&&Re<=57343&&(Re=65536+((1023&Re)<<10)|1023&d.charCodeAt(++we)),Re<=127){if(v>=Ce)break;g[v++]=Re}else if(Re<=2047){if(v+1>=Ce)break;g[v++]=192|Re>>6,g[v++]=128|63&Re}else if(Re<=65535){if(v+2>=Ce)break;g[v++]=224|Re>>12,g[v++]=128|Re>>6&63,g[v++]=128|63&Re}else{if(v+3>=Ce)break;g[v++]=240|Re>>18,g[v++]=128|Re>>12&63,g[v++]=128|Re>>6&63,g[v++]=128|63&Re}}return g[v]=0,v-W}function ne(d){for(var g=0,v=0;v<d.length;++v){var P=d.charCodeAt(v);P<=127?g++:P<=2047?g+=2:P>=55296&&P<=57343?(g+=4,++v):g+=3}return g}function je(d){Ue=d,l.HEAP8=Je=new Int8Array(d),l.HEAP16=new Int16Array(d),l.HEAP32=O=new Int32Array(d),l.HEAPU8=yt=new Uint8Array(d),l.HEAPU16=new Uint16Array(d),l.HEAPU32=ge=new Uint32Array(d),l.HEAPF32=new Float32Array(d),l.HEAPF64=new Float64Array(d)}var hn,lt,le,ft=[],Ae=[],Tt=[],on=[],Pn=0,bo=null,jn=null;function Xr(d){Pn++,l.monitorRunDependencies&&l.monitorRunDependencies(Pn)}function Vr(d){if(Pn--,l.monitorRunDependencies&&l.monitorRunDependencies(Pn),0==Pn&&(null!==bo&&(clearInterval(bo),bo=null),jn)){var g=jn;jn=null,g()}}function lr(d){l.onAbort&&l.onAbort(d),Y(d="Aborted("+d+")"),st=!0,ce=1,d+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(d);throw te(g),g}function lo(d){return d.startsWith("data:application/octet-stream;base64,")}function no(d){try{if(d==hn&&fe)return new Uint8Array(fe);if($e)return $e(d);throw"both async and sync fetching of the wasm failed"}catch(g){lr(g)}}function Ge(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function Rn(d){for(;d.length>0;)d.shift()(l)}function Wt(d,g){return g+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*g:NaN}lo(hn="vfs_web.wasm")||(hn=function $(d){return l.locateFile?l.locateFile(d,B):B+d}(hn));var Pt={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,g)=>{for(var v=0,P=d.length-1;P>=0;P--){var W=d[P];"."===W?d.splice(P,1):".."===W?(d.splice(P,1),v++):v&&(d.splice(P,1),v--)}if(g)for(;v;v--)d.unshift("..");return d},normalize:d=>{var g=Pt.isAbs(d),v="/"===d.substr(-1);return!(d=Pt.normalizeArray(d.split("/").filter(P=>!!P),!g).join("/"))&&!g&&(d="."),d&&v&&(d+="/"),(g?"/":"")+d},dirname:d=>{var g=Pt.splitPath(d),v=g[0],P=g[1];return v||P?(P&&(P=P.substr(0,P.length-1)),v+P):"."},basename:d=>{if("/"===d)return"/";var g=(d=(d=Pt.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?d:d.substr(g+1)},join:function(){var d=Array.prototype.slice.call(arguments);return Pt.normalize(d.join("/"))},join2:(d,g)=>Pt.normalize(d+"/"+g)},Xt={resolve:function(){for(var d="",g=!1,v=arguments.length-1;v>=-1&&!g;v--){var P=v>=0?arguments[v]:S.cwd();if("string"!=typeof P)throw new TypeError("Arguments to path.resolve must be strings");if(!P)return"";d=P+"/"+d,g=Pt.isAbs(P)}return(g?"/":"")+(d=Pt.normalizeArray(d.split("/").filter(W=>!!W),!g).join("/"))||"."},relative:(d,g)=>{function v(nn){for(var wn=0;wn<nn.length&&""===nn[wn];wn++);for(var Nn=nn.length-1;Nn>=0&&""===nn[Nn];Nn--);return wn>Nn?[]:nn.slice(wn,Nn-wn+1)}d=Xt.resolve(d).substr(1),g=Xt.resolve(g).substr(1);for(var P=v(d.split("/")),W=v(g.split("/")),Ce=Math.min(P.length,W.length),we=Ce,Re=0;Re<Ce;Re++)if(P[Re]!==W[Re]){we=Re;break}var bt=[];for(Re=we;Re<P.length;Re++)bt.push("..");return(bt=bt.concat(W.slice(we))).join("/")}};function Jn(d,g,v){var P=v>0?v:ne(d)+1,W=new Array(P),Ce=xe(d,W,0,W.length);return g&&(W.length=Ce),W}var er={ttys:[],init:function(){},shutdown:function(){},register:function(d,g){er.ttys[d]={input:[],output:[],ops:g},S.registerDevice(d,er.stream_ops)},stream_ops:{open:function(d){var g=er.ttys[d.node.rdev];if(!g)throw new S.ErrnoError(43);d.tty=g,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,g,v,P,W){if(!d.tty||!d.tty.ops.get_char)throw new S.ErrnoError(60);for(var Ce=0,we=0;we<P;we++){var Re;try{Re=d.tty.ops.get_char(d.tty)}catch{throw new S.ErrnoError(29)}if(void 0===Re&&0===Ce)throw new S.ErrnoError(6);if(null==Re)break;Ce++,g[v+we]=Re}return Ce&&(d.node.timestamp=Date.now()),Ce},write:function(d,g,v,P,W){if(!d.tty||!d.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var Ce=0;Ce<P;Ce++)d.tty.ops.put_char(d.tty,g[v+Ce])}catch{throw new S.ErrnoError(29)}return P&&(d.node.timestamp=Date.now()),Ce}},default_tty_ops:{get_char:function(d){if(!d.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;d.input=Jn(g,!0)}return d.input.shift()},put_char:function(d,g){null===g||10===g?(Z(Qe(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(Z(Qe(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,g){null===g||10===g?(Y(Qe(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(Y(Qe(d.output,0)),d.output=[])}}};function sn(d){lr()}var jt={ops_table:null,mount:function(d){return jt.createNode(null,"/",16895,0)},createNode:function(d,g,v,P){if(S.isBlkdev(v)||S.isFIFO(v))throw new S.ErrnoError(63);jt.ops_table||(jt.ops_table={dir:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr,lookup:jt.node_ops.lookup,mknod:jt.node_ops.mknod,rename:jt.node_ops.rename,unlink:jt.node_ops.unlink,rmdir:jt.node_ops.rmdir,readdir:jt.node_ops.readdir,symlink:jt.node_ops.symlink},stream:{llseek:jt.stream_ops.llseek}},file:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr},stream:{llseek:jt.stream_ops.llseek,read:jt.stream_ops.read,write:jt.stream_ops.write,allocate:jt.stream_ops.allocate,mmap:jt.stream_ops.mmap,msync:jt.stream_ops.msync}},link:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr,readlink:jt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr},stream:S.chrdev_stream_ops}});var W=S.createNode(d,g,v,P);return S.isDir(W.mode)?(W.node_ops=jt.ops_table.dir.node,W.stream_ops=jt.ops_table.dir.stream,W.contents={}):S.isFile(W.mode)?(W.node_ops=jt.ops_table.file.node,W.stream_ops=jt.ops_table.file.stream,W.usedBytes=0,W.contents=null):S.isLink(W.mode)?(W.node_ops=jt.ops_table.link.node,W.stream_ops=jt.ops_table.link.stream):S.isChrdev(W.mode)&&(W.node_ops=jt.ops_table.chrdev.node,W.stream_ops=jt.ops_table.chrdev.stream),W.timestamp=Date.now(),d&&(d.contents[g]=W,d.timestamp=W.timestamp),W},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,g){var v=d.contents?d.contents.length:0;if(!(v>=g)){g=Math.max(g,v*(v<1048576?2:1.125)>>>0),0!=v&&(g=Math.max(g,256));var W=d.contents;d.contents=new Uint8Array(g),d.usedBytes>0&&d.contents.set(W.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,g){if(d.usedBytes!=g)if(0==g)d.contents=null,d.usedBytes=0;else{var v=d.contents;d.contents=new Uint8Array(g),v&&d.contents.set(v.subarray(0,Math.min(g,d.usedBytes))),d.usedBytes=g}},node_ops:{getattr:function(d){var g={};return g.dev=S.isChrdev(d.mode)?d.id:1,g.ino=d.id,g.mode=d.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=d.rdev,g.size=S.isDir(d.mode)?4096:S.isFile(d.mode)?d.usedBytes:S.isLink(d.mode)?d.link.length:0,g.atime=new Date(d.timestamp),g.mtime=new Date(d.timestamp),g.ctime=new Date(d.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(d,g){void 0!==g.mode&&(d.mode=g.mode),void 0!==g.timestamp&&(d.timestamp=g.timestamp),void 0!==g.size&&jt.resizeFileStorage(d,g.size)},lookup:function(d,g){throw S.genericErrors[44]},mknod:function(d,g,v,P){return jt.createNode(d,g,v,P)},rename:function(d,g,v){if(S.isDir(d.mode)){var P;try{P=S.lookupNode(g,v)}catch{}if(P)for(var W in P.contents)throw new S.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=v,g.contents[v]=d,g.timestamp=d.parent.timestamp,d.parent=g},unlink:function(d,g){delete d.contents[g],d.timestamp=Date.now()},rmdir:function(d,g){var v=S.lookupNode(d,g);for(var P in v.contents)throw new S.ErrnoError(55);delete d.contents[g],d.timestamp=Date.now()},readdir:function(d){var g=[".",".."];for(var v in d.contents)d.contents.hasOwnProperty(v)&&g.push(v);return g},symlink:function(d,g,v){var P=jt.createNode(d,g,41471,0);return P.link=v,P},readlink:function(d){if(!S.isLink(d.mode))throw new S.ErrnoError(28);return d.link}},stream_ops:{read:function(d,g,v,P,W){var Ce=d.node.contents;if(W>=d.node.usedBytes)return 0;var we=Math.min(d.node.usedBytes-W,P);if(we>8&&Ce.subarray)g.set(Ce.subarray(W,W+we),v);else for(var Re=0;Re<we;Re++)g[v+Re]=Ce[W+Re];return we},write:function(d,g,v,P,W,Ce){if(g.buffer===Je.buffer&&(Ce=!1),!P)return 0;var we=d.node;if(we.timestamp=Date.now(),g.subarray&&(!we.contents||we.contents.subarray)){if(Ce)return we.contents=g.subarray(v,v+P),we.usedBytes=P,P;if(0===we.usedBytes&&0===W)return we.contents=g.slice(v,v+P),we.usedBytes=P,P;if(W+P<=we.usedBytes)return we.contents.set(g.subarray(v,v+P),W),P}if(jt.expandFileStorage(we,W+P),we.contents.subarray&&g.subarray)we.contents.set(g.subarray(v,v+P),W);else for(var Re=0;Re<P;Re++)we.contents[W+Re]=g[v+Re];return we.usedBytes=Math.max(we.usedBytes,W+P),P},llseek:function(d,g,v){var P=g;if(1===v?P+=d.position:2===v&&S.isFile(d.node.mode)&&(P+=d.node.usedBytes),P<0)throw new S.ErrnoError(28);return P},allocate:function(d,g,v){jt.expandFileStorage(d.node,g+v),d.node.usedBytes=Math.max(d.node.usedBytes,g+v)},mmap:function(d,g,v,P,W){if(!S.isFile(d.node.mode))throw new S.ErrnoError(43);var Ce,we,Re=d.node.contents;if(2&W||Re.buffer!==Ue){if((v>0||v+g<Re.length)&&(Re=Re.subarray?Re.subarray(v,v+g):Array.prototype.slice.call(Re,v,v+g)),we=!0,!(Ce=sn()))throw new S.ErrnoError(48);Je.set(Re,Ce)}else we=!1,Ce=Re.byteOffset;return{ptr:Ce,allocated:we}},msync:function(d,g,v,P,W){return jt.stream_ops.write(d,g,0,P,v,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,g={})=>{if(!(d=Xt.resolve(d)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new S.ErrnoError(32);for(var P=d.split("/").filter(Nn=>!!Nn),W=S.root,Ce="/",we=0;we<P.length;we++){var Re=we===P.length-1;if(Re&&g.parent)break;if(W=S.lookupNode(W,P[we]),Ce=Pt.join2(Ce,P[we]),S.isMountpoint(W)&&(!Re||Re&&g.follow_mount)&&(W=W.mounted.root),!Re||g.follow)for(var bt=0;S.isLink(W.mode);){var nn=S.readlink(Ce);if(Ce=Xt.resolve(Pt.dirname(Ce),nn),W=S.lookupPath(Ce,{recurse_count:g.recurse_count+1}).node,bt++>40)throw new S.ErrnoError(32)}}return{path:Ce,node:W}},getPath:d=>{for(var g;;){if(S.isRoot(d)){var v=d.mount.mountpoint;return g?"/"!==v[v.length-1]?v+"/"+g:v+g:v}g=g?d.name+"/"+g:d.name,d=d.parent}},hashName:(d,g)=>{for(var v=0,P=0;P<g.length;P++)v=(v<<5)-v+g.charCodeAt(P)|0;return(d+v>>>0)%S.nameTable.length},hashAddNode:d=>{var g=S.hashName(d.parent.id,d.name);d.name_next=S.nameTable[g],S.nameTable[g]=d},hashRemoveNode:d=>{var g=S.hashName(d.parent.id,d.name);if(S.nameTable[g]===d)S.nameTable[g]=d.name_next;else for(var v=S.nameTable[g];v;){if(v.name_next===d){v.name_next=d.name_next;break}v=v.name_next}},lookupNode:(d,g)=>{var v=S.mayLookup(d);if(v)throw new S.ErrnoError(v,d);for(var P=S.hashName(d.id,g),W=S.nameTable[P];W;W=W.name_next)if(W.parent.id===d.id&&W.name===g)return W;return S.lookup(d,g)},createNode:(d,g,v,P)=>{var W=new S.FSNode(d,g,v,P);return S.hashAddNode(W),W},destroyNode:d=>{S.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var g=S.flagModes[d];if(typeof g>"u")throw new Error("Unknown file open mode: "+d);return g},flagsToPermissionString:d=>{var g=["r","w","rw"][3&d];return 512&d&&(g+="w"),g},nodePermissions:(d,g)=>S.ignorePermissions?0:g.includes("r")&&!(292&d.mode)||g.includes("w")&&!(146&d.mode)||g.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>S.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,g)=>{try{return S.lookupNode(d,g),20}catch{}return S.nodePermissions(d,"wx")},mayDelete:(d,g,v)=>{var P;try{P=S.lookupNode(d,g)}catch(Ce){return Ce.errno}var W=S.nodePermissions(d,"wx");if(W)return W;if(v){if(!S.isDir(P.mode))return 54;if(S.isRoot(P)||S.getPath(P)===S.cwd())return 10}else if(S.isDir(P.mode))return 31;return 0},mayOpen:(d,g)=>d?S.isLink(d.mode)?32:S.isDir(d.mode)&&("r"!==S.flagsToPermissionString(g)||512&g)?31:S.nodePermissions(d,S.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,g=S.MAX_OPEN_FDS)=>{for(var v=d;v<=g;v++)if(!S.streams[v])return v;throw new S.ErrnoError(33)},getStream:d=>S.streams[d],createStream:(d,g,v)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(W){this.node=W}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(W){this.shared.flags=W}},position:{get:function(){return this.shared.position},set:function(W){this.shared.position=W}}})),d=Object.assign(new S.FSStream,d);var P=S.nextfd(g,v);return d.fd=P,S.streams[P]=d,d},closeStream:d=>{S.streams[d]=null},chrdev_stream_ops:{open:d=>{var g=S.getDevice(d.node.rdev);d.stream_ops=g.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new S.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,g)=>d<<8|g,registerDevice:(d,g)=>{S.devices[d]={stream_ops:g}},getDevice:d=>S.devices[d],getMounts:d=>{for(var g=[],v=[d];v.length;){var P=v.pop();g.push(P),v.push.apply(v,P.mounts)}return g},syncfs:(d,g)=>{"function"==typeof d&&(g=d,d=!1),S.syncFSRequests++,S.syncFSRequests>1&&Y("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var v=S.getMounts(S.root.mount),P=0;function W(we){return S.syncFSRequests--,g(we)}function Ce(we){if(we)return Ce.errored?void 0:(Ce.errored=!0,W(we));++P>=v.length&&W(null)}v.forEach(we=>{if(!we.type.syncfs)return Ce(null);we.type.syncfs(we,d,Ce)})},mount:(d,g,v)=>{var Ce,P="/"===v,W=!v;if(P&&S.root)throw new S.ErrnoError(10);if(!P&&!W){var we=S.lookupPath(v,{follow_mount:!1});if(v=we.path,S.isMountpoint(Ce=we.node))throw new S.ErrnoError(10);if(!S.isDir(Ce.mode))throw new S.ErrnoError(54)}var Re={type:d,opts:g,mountpoint:v,mounts:[]},bt=d.mount(Re);return bt.mount=Re,Re.root=bt,P?S.root=bt:Ce&&(Ce.mounted=Re,Ce.mount&&Ce.mount.mounts.push(Re)),bt},unmount:d=>{var g=S.lookupPath(d,{follow_mount:!1});if(!S.isMountpoint(g.node))throw new S.ErrnoError(28);var v=g.node,P=v.mounted,W=S.getMounts(P);Object.keys(S.nameTable).forEach(we=>{for(var Re=S.nameTable[we];Re;){var bt=Re.name_next;W.includes(Re.mount)&&S.destroyNode(Re),Re=bt}}),v.mounted=null;var Ce=v.mount.mounts.indexOf(P);v.mount.mounts.splice(Ce,1)},lookup:(d,g)=>d.node_ops.lookup(d,g),mknod:(d,g,v)=>{var W=S.lookupPath(d,{parent:!0}).node,Ce=Pt.basename(d);if(!Ce||"."===Ce||".."===Ce)throw new S.ErrnoError(28);var we=S.mayCreate(W,Ce);if(we)throw new S.ErrnoError(we);if(!W.node_ops.mknod)throw new S.ErrnoError(63);return W.node_ops.mknod(W,Ce,g,v)},create:(d,g)=>(g=void 0!==g?g:438,g&=4095,S.mknod(d,g|=32768,0)),mkdir:(d,g)=>(g=void 0!==g?g:511,g&=1023,S.mknod(d,g|=16384,0)),mkdirTree:(d,g)=>{for(var v=d.split("/"),P="",W=0;W<v.length;++W)if(v[W]){P+="/"+v[W];try{S.mkdir(P,g)}catch(Ce){if(20!=Ce.errno)throw Ce}}},mkdev:(d,g,v)=>(typeof v>"u"&&(v=g,g=438),S.mknod(d,g|=8192,v)),symlink:(d,g)=>{if(!Xt.resolve(d))throw new S.ErrnoError(44);var P=S.lookupPath(g,{parent:!0}).node;if(!P)throw new S.ErrnoError(44);var W=Pt.basename(g),Ce=S.mayCreate(P,W);if(Ce)throw new S.ErrnoError(Ce);if(!P.node_ops.symlink)throw new S.ErrnoError(63);return P.node_ops.symlink(P,W,d)},rename:(d,g)=>{var Re,bt,v=Pt.dirname(d),P=Pt.dirname(g),W=Pt.basename(d),Ce=Pt.basename(g);if(Re=S.lookupPath(d,{parent:!0}).node,bt=S.lookupPath(g,{parent:!0}).node,!Re||!bt)throw new S.ErrnoError(44);if(Re.mount!==bt.mount)throw new S.ErrnoError(75);var Nn,nn=S.lookupNode(Re,W),wn=Xt.relative(d,P);if("."!==wn.charAt(0))throw new S.ErrnoError(28);if("."!==(wn=Xt.relative(g,v)).charAt(0))throw new S.ErrnoError(55);try{Nn=S.lookupNode(bt,Ce)}catch{}if(nn!==Nn){var an=S.isDir(nn.mode),Et=S.mayDelete(Re,W,an);if(Et)throw new S.ErrnoError(Et);if(Et=Nn?S.mayDelete(bt,Ce,an):S.mayCreate(bt,Ce))throw new S.ErrnoError(Et);if(!Re.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(nn)||Nn&&S.isMountpoint(Nn))throw new S.ErrnoError(10);if(bt!==Re&&(Et=S.nodePermissions(Re,"w")))throw new S.ErrnoError(Et);S.hashRemoveNode(nn);try{Re.node_ops.rename(nn,bt,Ce)}catch(Hn){throw Hn}finally{S.hashAddNode(nn)}}},rmdir:d=>{var v=S.lookupPath(d,{parent:!0}).node,P=Pt.basename(d),W=S.lookupNode(v,P),Ce=S.mayDelete(v,P,!0);if(Ce)throw new S.ErrnoError(Ce);if(!v.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(W))throw new S.ErrnoError(10);v.node_ops.rmdir(v,P),S.destroyNode(W)},readdir:d=>{var v=S.lookupPath(d,{follow:!0}).node;if(!v.node_ops.readdir)throw new S.ErrnoError(54);return v.node_ops.readdir(v)},unlink:d=>{var v=S.lookupPath(d,{parent:!0}).node;if(!v)throw new S.ErrnoError(44);var P=Pt.basename(d),W=S.lookupNode(v,P),Ce=S.mayDelete(v,P,!1);if(Ce)throw new S.ErrnoError(Ce);if(!v.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(W))throw new S.ErrnoError(10);v.node_ops.unlink(v,P),S.destroyNode(W)},readlink:d=>{var v=S.lookupPath(d).node;if(!v)throw new S.ErrnoError(44);if(!v.node_ops.readlink)throw new S.ErrnoError(28);return Xt.resolve(S.getPath(v.parent),v.node_ops.readlink(v))},stat:(d,g)=>{var P=S.lookupPath(d,{follow:!g}).node;if(!P)throw new S.ErrnoError(44);if(!P.node_ops.getattr)throw new S.ErrnoError(63);return P.node_ops.getattr(P)},lstat:d=>S.stat(d,!0),chmod:(d,g,v)=>{var P;if(!(P="string"==typeof d?S.lookupPath(d,{follow:!v}).node:d).node_ops.setattr)throw new S.ErrnoError(63);P.node_ops.setattr(P,{mode:4095&g|-4096&P.mode,timestamp:Date.now()})},lchmod:(d,g)=>{S.chmod(d,g,!0)},fchmod:(d,g)=>{var v=S.getStream(d);if(!v)throw new S.ErrnoError(8);S.chmod(v.node,g)},chown:(d,g,v,P)=>{var W;if(!(W="string"==typeof d?S.lookupPath(d,{follow:!P}).node:d).node_ops.setattr)throw new S.ErrnoError(63);W.node_ops.setattr(W,{timestamp:Date.now()})},lchown:(d,g,v)=>{S.chown(d,g,v,!0)},fchown:(d,g,v)=>{var P=S.getStream(d);if(!P)throw new S.ErrnoError(8);S.chown(P.node,g,v)},truncate:(d,g)=>{if(g<0)throw new S.ErrnoError(28);var v;if(!(v="string"==typeof d?S.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(v.mode))throw new S.ErrnoError(31);if(!S.isFile(v.mode))throw new S.ErrnoError(28);var W=S.nodePermissions(v,"w");if(W)throw new S.ErrnoError(W);v.node_ops.setattr(v,{size:g,timestamp:Date.now()})},ftruncate:(d,g)=>{var v=S.getStream(d);if(!v)throw new S.ErrnoError(8);if(!(2097155&v.flags))throw new S.ErrnoError(28);S.truncate(v.node,g)},utime:(d,g,v)=>{var W=S.lookupPath(d,{follow:!0}).node;W.node_ops.setattr(W,{timestamp:Math.max(g,v)})},open:(d,g,v)=>{if(""===d)throw new S.ErrnoError(44);var P;if(v=typeof v>"u"?438:v,v=64&(g="string"==typeof g?S.modeStringToFlags(g):g)?4095&v|32768:0,"object"==typeof d)P=d;else{d=Pt.normalize(d);try{P=S.lookupPath(d,{follow:!(131072&g)}).node}catch{}}var Ce=!1;if(64&g)if(P){if(128&g)throw new S.ErrnoError(20)}else P=S.mknod(d,v,0),Ce=!0;if(!P)throw new S.ErrnoError(44);if(S.isChrdev(P.mode)&&(g&=-513),65536&g&&!S.isDir(P.mode))throw new S.ErrnoError(54);if(!Ce){var we=S.mayOpen(P,g);if(we)throw new S.ErrnoError(we)}512&g&&!Ce&&S.truncate(P,0),g&=-131713;var Re=S.createStream({node:P,path:S.getPath(P),flags:g,seekable:!0,position:0,stream_ops:P.stream_ops,ungotten:[],error:!1});return Re.stream_ops.open&&Re.stream_ops.open(Re),l.logReadFiles&&!(1&g)&&(S.readFiles||(S.readFiles={}),d in S.readFiles||(S.readFiles[d]=1)),Re},close:d=>{if(S.isClosed(d))throw new S.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(g){throw g}finally{S.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,g,v)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new S.ErrnoError(28);return d.position=d.stream_ops.llseek(d,g,v),d.ungotten=[],d.position},read:(d,g,v,P,W)=>{if(P<0||W<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(1==(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.read)throw new S.ErrnoError(28);var Ce=typeof W<"u";if(Ce){if(!d.seekable)throw new S.ErrnoError(70)}else W=d.position;var we=d.stream_ops.read(d,g,v,P,W);return Ce||(d.position+=we),we},write:(d,g,v,P,W,Ce)=>{if(P<0||W<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.write)throw new S.ErrnoError(28);d.seekable&&1024&d.flags&&S.llseek(d,0,2);var we=typeof W<"u";if(we){if(!d.seekable)throw new S.ErrnoError(70)}else W=d.position;var Re=d.stream_ops.write(d,g,v,P,W,Ce);return we||(d.position+=Re),Re},allocate:(d,g,v)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(g<0||v<=0)throw new S.ErrnoError(28);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(!S.isFile(d.node.mode)&&!S.isDir(d.node.mode))throw new S.ErrnoError(43);if(!d.stream_ops.allocate)throw new S.ErrnoError(138);d.stream_ops.allocate(d,g,v)},mmap:(d,g,v,P,W)=>{if(2&P&&!(2&W)&&2!=(2097155&d.flags))throw new S.ErrnoError(2);if(1==(2097155&d.flags))throw new S.ErrnoError(2);if(!d.stream_ops.mmap)throw new S.ErrnoError(43);return d.stream_ops.mmap(d,g,v,P,W)},msync:(d,g,v,P,W)=>d.stream_ops.msync?d.stream_ops.msync(d,g,v,P,W):0,munmap:d=>0,ioctl:(d,g,v)=>{if(!d.stream_ops.ioctl)throw new S.ErrnoError(59);return d.stream_ops.ioctl(d,g,v)},readFile:(d,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var v,P=S.open(d,g.flags),Ce=S.stat(d).size,we=new Uint8Array(Ce);return S.read(P,we,0,Ce,0),"utf8"===g.encoding?v=Qe(we,0):"binary"===g.encoding&&(v=we),S.close(P),v},writeFile:(d,g,v={})=>{v.flags=v.flags||577;var P=S.open(d,v.flags,v.mode);if("string"==typeof g){var W=new Uint8Array(ne(g)+1),Ce=xe(g,W,0,W.length);S.write(P,W,0,Ce,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");S.write(P,g,0,g.byteLength,void 0,v.canOwn)}S.close(P)},cwd:()=>S.currentPath,chdir:d=>{var g=S.lookupPath(d,{follow:!0});if(null===g.node)throw new S.ErrnoError(44);if(!S.isDir(g.node.mode))throw new S.ErrnoError(54);var v=S.nodePermissions(g.node,"x");if(v)throw new S.ErrnoError(v);S.currentPath=g.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(g,v,P,W,Ce)=>W}),S.mkdev("/dev/null",S.makedev(1,3)),er.register(S.makedev(5,0),er.default_tty_ops),er.register(S.makedev(6,0),er.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var d=function br(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>lr("randomDevice")}();S.createDevice("/dev","random",d),S.createDevice("/dev","urandom",d),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var d=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var g=S.createNode(d,"fd",16895,73);return g.node_ops={lookup:(v,P)=>{var Ce=S.getStream(+P);if(!Ce)throw new S.ErrnoError(8);var we={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Ce.path}};return we.parent=we,we}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?S.createDevice("/dev","stdin",l.stdin):S.symlink("/dev/tty","/dev/stdin"),l.stdout?S.createDevice("/dev","stdout",null,l.stdout):S.symlink("/dev/tty","/dev/stdout"),l.stderr?S.createDevice("/dev","stderr",null,l.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(g,v){this.node=v,this.setErrno=function(P){this.errno=P},this.setErrno(g),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(d=>{S.genericErrors[d]=new S.ErrnoError(d),S.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(jt,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:jt}},init:(d,g,v)=>{S.init.initialized=!0,S.ensureErrnoError(),l.stdin=d||l.stdin,l.stdout=g||l.stdout,l.stderr=v||l.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var d=0;d<S.streams.length;d++){var g=S.streams[d];g&&S.close(g)}},getMode:(d,g)=>{var v=0;return d&&(v|=365),g&&(v|=146),v},findObject:(d,g)=>{var v=S.analyzePath(d,g);return v.exists?v.object:null},analyzePath:(d,g)=>{try{d=(v=S.lookupPath(d,{follow:!g})).path}catch{}var P={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=S.lookupPath(d,{parent:!0});P.parentExists=!0,P.parentPath=v.path,P.parentObject=v.node,P.name=Pt.basename(d),v=S.lookupPath(d,{follow:!g}),P.exists=!0,P.path=v.path,P.object=v.node,P.name=v.node.name,P.isRoot="/"===v.path}catch(W){P.error=W.errno}return P},createPath:(d,g,v,P)=>{d="string"==typeof d?d:S.getPath(d);for(var W=g.split("/").reverse();W.length;){var Ce=W.pop();if(Ce){var we=Pt.join2(d,Ce);try{S.mkdir(we)}catch{}d=we}}return we},createFile:(d,g,v,P,W)=>{var Ce=Pt.join2("string"==typeof d?d:S.getPath(d),g),we=S.getMode(P,W);return S.create(Ce,we)},createDataFile:(d,g,v,P,W,Ce)=>{var we=g;d&&(d="string"==typeof d?d:S.getPath(d),we=g?Pt.join2(d,g):d);var Re=S.getMode(P,W),bt=S.create(we,Re);if(v){if("string"==typeof v){for(var nn=new Array(v.length),wn=0,Nn=v.length;wn<Nn;++wn)nn[wn]=v.charCodeAt(wn);v=nn}S.chmod(bt,146|Re);var an=S.open(bt,577);S.write(an,v,0,v.length,0,Ce),S.close(an),S.chmod(bt,Re)}return bt},createDevice:(d,g,v,P)=>{var W=Pt.join2("string"==typeof d?d:S.getPath(d),g),Ce=S.getMode(!!v,!!P);S.createDevice.major||(S.createDevice.major=64);var we=S.makedev(S.createDevice.major++,0);return S.registerDevice(we,{open:Re=>{Re.seekable=!1},close:Re=>{P&&P.buffer&&P.buffer.length&&P(10)},read:(Re,bt,nn,wn,Nn)=>{for(var an=0,Et=0;Et<wn;Et++){var Hn;try{Hn=v()}catch{throw new S.ErrnoError(29)}if(void 0===Hn&&0===an)throw new S.ErrnoError(6);if(null==Hn)break;an++,bt[nn+Et]=Hn}return an&&(Re.node.timestamp=Date.now()),an},write:(Re,bt,nn,wn,Nn)=>{for(var an=0;an<wn;an++)try{P(bt[nn+an])}catch{throw new S.ErrnoError(29)}return wn&&(Re.node.timestamp=Date.now()),an}}),S.mkdev(W,Ce,we)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=Jn(H(d.url),!0),d.usedBytes=d.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(d,g,v,P,W)=>{function Ce(){this.lengthKnown=!1,this.chunks=[]}if(Ce.prototype.get=function(Et){if(!(Et>this.length-1||Et<0)){var Hn=Et%this.chunkSize;return this.getter(Et/this.chunkSize|0)[Hn]}},Ce.prototype.setDataGetter=function(Et){this.getter=Et},Ce.prototype.cacheLength=function(){var Et=new XMLHttpRequest;if(Et.open("HEAD",v,!1),Et.send(null),!(Et.status>=200&&Et.status<300||304===Et.status))throw new Error("Couldn't load "+v+". Status: "+Et.status);var Ur,Hn=Number(Et.getResponseHeader("Content-length")),li=(Ur=Et.getResponseHeader("Accept-Ranges"))&&"bytes"===Ur,mo=(Ur=Et.getResponseHeader("Content-Encoding"))&&"gzip"===Ur,mt=1048576;li||(mt=Hn);var or=this;or.setDataGetter(Or=>{var Lr=Or*mt,gr=(Or+1)*mt-1;if(gr=Math.min(gr,Hn-1),typeof or.chunks[Or]>"u"&&(or.chunks[Or]=((Or,Lr)=>{if(Or>Lr)throw new Error("invalid range ("+Or+", "+Lr+") or no bytes requested!");if(Lr>Hn-1)throw new Error("only "+Hn+" bytes available! programmer error!");var gr=new XMLHttpRequest;if(gr.open("GET",v,!1),Hn!==mt&&gr.setRequestHeader("Range","bytes="+Or+"-"+Lr),gr.responseType="arraybuffer",gr.overrideMimeType&&gr.overrideMimeType("text/plain; charset=x-user-defined"),gr.send(null),!(gr.status>=200&&gr.status<300||304===gr.status))throw new Error("Couldn't load "+v+". Status: "+gr.status);return void 0!==gr.response?new Uint8Array(gr.response||[]):Jn(gr.responseText||"",!0)})(Lr,gr)),typeof or.chunks[Or]>"u")throw new Error("doXHR failed!");return or.chunks[Or]}),(mo||!Hn)&&(mt=Hn=1,Hn=this.getter(0).length,mt=Hn,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Hn,this._chunkSize=mt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var we=new Ce;Object.defineProperties(we,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Re={isDevice:!1,contents:we}}else Re={isDevice:!1,url:v};var bt=S.createFile(d,g,Re,P,W);Re.contents?bt.contents=Re.contents:Re.url&&(bt.contents=null,bt.url=Re.url),Object.defineProperties(bt,{usedBytes:{get:function(){return this.contents.length}}});var nn={};function Nn(an,Et,Hn,Ur,li){var mo=an.node.contents;if(li>=mo.length)return 0;var mt=Math.min(mo.length-li,Ur);if(mo.slice)for(var Qt=0;Qt<mt;Qt++)Et[Hn+Qt]=mo[li+Qt];else for(Qt=0;Qt<mt;Qt++)Et[Hn+Qt]=mo.get(li+Qt);return mt}return Object.keys(bt.stream_ops).forEach(an=>{var Et=bt.stream_ops[an];nn[an]=function(){return S.forceLoadFile(bt),Et.apply(null,arguments)}}),nn.read=(an,Et,Hn,Ur,li)=>(S.forceLoadFile(bt),Nn(an,Et,Hn,Ur,li)),nn.mmap=(an,Et,Hn,Ur,li)=>{S.forceLoadFile(bt);var mo=sn();if(!mo)throw new S.ErrnoError(48);return Nn(an,Je,mo,Et,Hn),{ptr:mo,allocated:!0}},bt.stream_ops=nn,bt},createPreloadedFile:(d,g,v,P,W,Ce,we,Re,bt,nn)=>{var wn=g?Xt.resolve(Pt.join2(d,g)):d;function an(Et){function Hn(Ur){nn&&nn(),Re||S.createDataFile(d,g,Ur,P,W,bt),Ce&&Ce(),Vr()}Browser.handledByPreloadPlugin(Et,wn,Hn,()=>{we&&we(),Vr()})||Hn(Et)}Xr(),"string"==typeof v?function E(d,g,v,P){var W=P?"":"al "+d;Pe(d,Ce=>{be(Ce,'Loading data file "'+d+'" failed (no arrayBuffer).'),g(new Uint8Array(Ce)),W&&Vr()},Ce=>{if(!v)throw'Loading data file "'+d+'" failed.';v()}),W&&Xr()}(v,Et=>an(Et),we):an(v)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,g,v)=>{g=g||(()=>{}),v=v||(()=>{});var P=S.indexedDB();try{var W=P.open(S.DB_NAME(),S.DB_VERSION)}catch(Ce){return v(Ce)}W.onupgradeneeded=()=>{Z("creating db"),W.result.createObjectStore(S.DB_STORE_NAME)},W.onsuccess=()=>{var we=W.result.transaction([S.DB_STORE_NAME],"readwrite"),Re=we.objectStore(S.DB_STORE_NAME),bt=0,nn=0,wn=d.length;function Nn(){0==nn?g():v()}d.forEach(an=>{var Et=Re.put(S.analyzePath(an).object.contents,an);Et.onsuccess=()=>{++bt+nn==wn&&Nn()},Et.onerror=()=>{nn++,bt+nn==wn&&Nn()}}),we.onerror=v},W.onerror=v},loadFilesFromDB:(d,g,v)=>{g=g||(()=>{}),v=v||(()=>{});var P=S.indexedDB();try{var W=P.open(S.DB_NAME(),S.DB_VERSION)}catch(Ce){return v(Ce)}W.onupgradeneeded=v,W.onsuccess=()=>{var Ce=W.result;try{var we=Ce.transaction([S.DB_STORE_NAME],"readonly")}catch(an){return void v(an)}var Re=we.objectStore(S.DB_STORE_NAME),bt=0,nn=0,wn=d.length;function Nn(){0==nn?g():v()}d.forEach(an=>{var Et=Re.get(an);Et.onsuccess=()=>{S.analyzePath(an).exists&&S.unlink(an),S.createDataFile(Pt.dirname(an),Pt.basename(an),Et.result,!0,!0,!0),++bt+nn==wn&&Nn()},Et.onerror=()=>{nn++,bt+nn==wn&&Nn()}}),we.onerror=v},W.onerror=v}},Yn={DEFAULT_POLLMASK:5,calculateAt:function(d,g,v){if(Pt.isAbs(g))return g;var P;if(P=-100===d?S.cwd():Yn.getStreamFromFD(d).path,0==g.length){if(!v)throw new S.ErrnoError(44);return P}return Pt.join2(P,g)},doStat:function(d,g,v){try{var P=d(g)}catch(W){if(W&&W.node&&Pt.normalize(g)!==Pt.normalize(S.getPath(W.node)))return-54;throw W}return O[v>>2]=P.dev,O[v+8>>2]=P.ino,O[v+12>>2]=P.mode,ge[v+16>>2]=P.nlink,O[v+20>>2]=P.uid,O[v+24>>2]=P.gid,O[v+28>>2]=P.rdev,le=[P.size>>>0,(lt=P.size,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[v+40>>2]=le[0],O[v+44>>2]=le[1],O[v+48>>2]=4096,O[v+52>>2]=P.blocks,le=[Math.floor(P.atime.getTime()/1e3)>>>0,(lt=Math.floor(P.atime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[v+56>>2]=le[0],O[v+60>>2]=le[1],ge[v+64>>2]=0,le=[Math.floor(P.mtime.getTime()/1e3)>>>0,(lt=Math.floor(P.mtime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[v+72>>2]=le[0],O[v+76>>2]=le[1],ge[v+80>>2]=0,le=[Math.floor(P.ctime.getTime()/1e3)>>>0,(lt=Math.floor(P.ctime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[v+88>>2]=le[0],O[v+92>>2]=le[1],ge[v+96>>2]=0,le=[P.ino>>>0,(lt=P.ino,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[v+104>>2]=le[0],O[v+108>>2]=le[1],0},doMsync:function(d,g,v,P,W){if(!S.isFile(g.node.mode))throw new S.ErrnoError(43);if(2&P)return 0;var Ce=yt.slice(d,d+v);S.msync(g,Ce,W,v,P)},varargs:void 0,get:function(){return Yn.varargs+=4,O[Yn.varargs-4>>2]},getStr:function(d){return Oe(d)},getStreamFromFD:function(d){var g=S.getStream(d);if(!g)throw new S.ErrnoError(8);return g}};function Io(d){return d%4==0&&(d%100!=0||d%400==0)}var ji=[0,31,60,91,121,152,182,213,244,274,305,335],qo=[0,31,59,90,120,151,181,212,243,273,304,334];function xi(d){return(Io(d.getFullYear())?ji:qo)[d.getMonth()]+d.getDate()-1}function Yo(d){var g=ne(d)+1,v=Ct(g);return v&&xe(d,Je,v,g),v}function Qr(d){try{return de.grow(d-Ue.byteLength+65535>>>16),je(de.buffer),1}catch{}}var ai={};function uo(){if(!uo.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var v in ai)void 0===ai[v]?delete g[v]:g[v]=ai[v];var P=[];for(var v in g)P.push(v+"="+g[v]);uo.strings=P}return uo.strings}var ks=[31,29,31,30,31,30,31,31,30,31,30,31],Ui=[31,28,31,30,31,30,31,31,30,31,30,31];var pe=function(d,g,v,P){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=S.nextInode++,this.name=g,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=P};Object.defineProperties(pe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=pe,S.staticInit();var el,it={a:function Vn(d,g,v,P){lr("Assertion failed: "+Oe(d)+", at: "+[g?Oe(g):"unknown filename",v,P?Oe(P):"unknown function"])},l:function D(d,g,v){try{var P=Wt(g,v);return isNaN(P)?-61:(S.ftruncate(d,P),0)}catch(W){if(typeof S>"u"||!(W instanceof S.ErrnoError))throw W;return-W.errno}},g:function Zo(){return!0},h:function Ti(d,g){var v=new Date(1e3*function ii(d){return ge[d>>2]+4294967296*O[d+4>>2]}(d));O[g>>2]=v.getSeconds(),O[g+4>>2]=v.getMinutes(),O[g+8>>2]=v.getHours(),O[g+12>>2]=v.getDate(),O[g+16>>2]=v.getMonth(),O[g+20>>2]=v.getFullYear()-1900,O[g+24>>2]=v.getDay();var P=0|xi(v);O[g+28>>2]=P,O[g+36>>2]=-60*v.getTimezoneOffset();var W=new Date(v.getFullYear(),0,1),Ce=new Date(v.getFullYear(),6,1).getTimezoneOffset(),we=W.getTimezoneOffset(),Re=0|(Ce!=we&&v.getTimezoneOffset()==Math.min(we,Ce));O[g+32>>2]=Re},i:function co(d){var g=new Date(O[d+20>>2]+1900,O[d+16>>2],O[d+12>>2],O[d+8>>2],O[d+4>>2],O[d>>2],0),v=O[d+32>>2],P=g.getTimezoneOffset(),W=new Date(g.getFullYear(),0,1),Ce=new Date(g.getFullYear(),6,1).getTimezoneOffset(),we=W.getTimezoneOffset(),Re=Math.min(we,Ce);if(v<0)O[d+32>>2]=Number(Ce!=we&&Re==P);else if(v>0!=(Re==P)){var bt=Math.max(we,Ce),nn=v>0?Re:bt;g.setTime(g.getTime()+6e4*(nn-P))}O[d+24>>2]=g.getDay();var wn=0|xi(g);return O[d+28>>2]=wn,O[d>>2]=g.getSeconds(),O[d+4>>2]=g.getMinutes(),O[d+8>>2]=g.getHours(),O[d+12>>2]=g.getDate(),O[d+16>>2]=g.getMonth(),O[d+20>>2]=g.getYear(),g.getTime()/1e3|0},j:function Cr(d,g,v){var P=(new Date).getFullYear(),W=new Date(P,0,1),Ce=new Date(P,6,1),we=W.getTimezoneOffset(),Re=Ce.getTimezoneOffset(),bt=Math.max(we,Re);function nn(Hn){var Ur=Hn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Ur?Ur[1]:"GMT"}ge[d>>2]=60*bt,O[g>>2]=Number(we!=Re);var wn=nn(W),Nn=nn(Ce),an=Yo(wn),Et=Yo(Nn);Re<we?(ge[v>>2]=an,ge[v+4>>2]=Et):(ge[v>>2]=Et,ge[v+4>>2]=an)},b:function Ko(){lr("")},c:function ro(){return Date.now()},q:function si(d,g,v){yt.copyWithin(d,g,g+v)},p:function ls(d){var bt,g=yt.length,v=2147483648;if((d>>>=0)>v)return!1;for(var W=1;W<=4;W*=2){var Ce=g*(1+.2/W);if(Ce=Math.min(Ce,d+100663296),Qr(Math.min(v,(bt=Math.max(d,Ce))+(65536-bt%65536)%65536)))return!0}return!1},n:function Co(d,g){var v=0;return uo().forEach(function(P,W){var Ce=g+v;ge[d+4*W>>2]=Ce,function cs(d,g,v){for(var P=0;P<d.length;++P)Je[g++>>0]=d.charCodeAt(P);v||(Je[g>>0]=0)}(P,Ce),v+=P.length+1}),0},o:function Ai(d,g){var v=uo();ge[d>>2]=v.length;var P=0;return v.forEach(function(W){P+=W.length+1}),ge[g>>2]=P,0},d:function Is(d){try{var g=Yn.getStreamFromFD(d);return S.close(g),0}catch(v){if(typeof S>"u"||!(v instanceof S.ErrnoError))throw v;return v.errno}},f:function us(d,g,v,P){try{var Ce=function gi(d,g,v,P){for(var W=0,Ce=0;Ce<v;Ce++){var we=ge[g>>2],Re=ge[g+4>>2];g+=8;var bt=S.read(d,Je,we,Re,P);if(bt<0)return-1;if(W+=bt,bt<Re)break}return W}(Yn.getStreamFromFD(d),g,v);return ge[P>>2]=Ce,0}catch(we){if(typeof S>"u"||!(we instanceof S.ErrnoError))throw we;return we.errno}},k:function Vs(d,g,v,P,W){try{var Ce=Wt(g,v);if(isNaN(Ce))return 61;var we=Yn.getStreamFromFD(d);return S.llseek(we,Ce,P),le=[we.position>>>0,(lt=we.position,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[W>>2]=le[0],O[W+4>>2]=le[1],we.getdents&&0===Ce&&0===P&&(we.getdents=null),0}catch(Re){if(typeof S>"u"||!(Re instanceof S.ErrnoError))throw Re;return Re.errno}},e:function pr(d,g,v,P){try{var Ce=function js(d,g,v,P){for(var W=0,Ce=0;Ce<v;Ce++){var we=ge[g>>2],Re=ge[g+4>>2];g+=8;var bt=S.write(d,Je,we,Re,P);if(bt<0)return-1;W+=bt}return W}(Yn.getStreamFromFD(d),g,v);return ge[P>>2]=Ce,0}catch(we){if(typeof S>"u"||!(we instanceof S.ErrnoError))throw we;return we.errno}},m:function me(d,g,v,P,W){return function N(d,g,v,P){var W=O[P+40>>2],Ce={tm_sec:O[P>>2],tm_min:O[P+4>>2],tm_hour:O[P+8>>2],tm_mday:O[P+12>>2],tm_mon:O[P+16>>2],tm_year:O[P+20>>2],tm_wday:O[P+24>>2],tm_yday:O[P+28>>2],tm_isdst:O[P+32>>2],tm_gmtoff:O[P+36>>2],tm_zone:W?Oe(W):""},we=Oe(v),Re={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var bt in Re)we=we.replace(new RegExp(bt,"g"),Re[bt]);var nn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Nn(mt,Qt,or){for(var Or="number"==typeof mt?mt.toString():mt||"";Or.length<Qt;)Or=or[0]+Or;return Or}function an(mt,Qt){return Nn(mt,Qt,"0")}function Et(mt,Qt){function or(Lr){return Lr<0?-1:Lr>0?1:0}var Or;return 0===(Or=or(mt.getFullYear()-Qt.getFullYear()))&&0===(Or=or(mt.getMonth()-Qt.getMonth()))&&(Or=or(mt.getDate()-Qt.getDate())),Or}function Hn(mt){switch(mt.getDay()){case 0:return new Date(mt.getFullYear()-1,11,29);case 1:return mt;case 2:return new Date(mt.getFullYear(),0,3);case 3:return new Date(mt.getFullYear(),0,2);case 4:return new Date(mt.getFullYear(),0,1);case 5:return new Date(mt.getFullYear()-1,11,31);case 6:return new Date(mt.getFullYear()-1,11,30)}}function Ur(mt){var Qt=function tr(d,g){for(var v=new Date(d.getTime());g>0;){var P=Io(v.getFullYear()),W=v.getMonth(),Ce=(P?ks:Ui)[W];if(!(g>Ce-v.getDate()))return v.setDate(v.getDate()+g),v;g-=Ce-v.getDate()+1,v.setDate(1),W<11?v.setMonth(W+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v}(new Date(mt.tm_year+1900,0,1),mt.tm_yday),or=new Date(Qt.getFullYear(),0,4),Or=new Date(Qt.getFullYear()+1,0,4),Lr=Hn(or),gr=Hn(Or);return Et(Lr,Qt)<=0?Et(gr,Qt)<=0?Qt.getFullYear()+1:Qt.getFullYear():Qt.getFullYear()-1}var li={"%a":function(mt){return nn[mt.tm_wday].substring(0,3)},"%A":function(mt){return nn[mt.tm_wday]},"%b":function(mt){return wn[mt.tm_mon].substring(0,3)},"%B":function(mt){return wn[mt.tm_mon]},"%C":function(mt){return an((mt.tm_year+1900)/100|0,2)},"%d":function(mt){return an(mt.tm_mday,2)},"%e":function(mt){return Nn(mt.tm_mday,2," ")},"%g":function(mt){return Ur(mt).toString().substring(2)},"%G":function(mt){return Ur(mt)},"%H":function(mt){return an(mt.tm_hour,2)},"%I":function(mt){var Qt=mt.tm_hour;return 0==Qt?Qt=12:Qt>12&&(Qt-=12),an(Qt,2)},"%j":function(mt){return an(mt.tm_mday+function yi(d,g){for(var v=0,P=0;P<=g;v+=d[P++]);return v}(Io(mt.tm_year+1900)?ks:Ui,mt.tm_mon-1),3)},"%m":function(mt){return an(mt.tm_mon+1,2)},"%M":function(mt){return an(mt.tm_min,2)},"%n":function(){return"\n"},"%p":function(mt){return mt.tm_hour>=0&&mt.tm_hour<12?"AM":"PM"},"%S":function(mt){return an(mt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(mt){return mt.tm_wday||7},"%U":function(mt){return an(Math.floor((mt.tm_yday+7-mt.tm_wday)/7),2)},"%V":function(mt){var Qt=Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7);if((mt.tm_wday+371-mt.tm_yday-2)%7<=2&&Qt++,Qt){if(53==Qt){var Or=(mt.tm_wday+371-mt.tm_yday)%7;4!=Or&&(3!=Or||!Io(mt.tm_year))&&(Qt=1)}}else{Qt=52;var or=(mt.tm_wday+7-mt.tm_yday-1)%7;(4==or||5==or&&Io(mt.tm_year%400-1))&&Qt++}return an(Qt,2)},"%w":function(mt){return mt.tm_wday},"%W":function(mt){return an(Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7),2)},"%y":function(mt){return(mt.tm_year+1900).toString().substring(2)},"%Y":function(mt){return mt.tm_year+1900},"%z":function(mt){var Qt=mt.tm_gmtoff,or=Qt>=0;return Qt=(Qt=Math.abs(Qt)/60)/60*100+Qt%60,(or?"+":"-")+String("0000"+Qt).slice(-4)},"%Z":function(mt){return mt.tm_zone},"%%":function(){return"%"}};for(var bt in we=we.replace(/%%/g,"\0\0"),li)we.includes(bt)&&(we=we.replace(new RegExp(bt,"g"),li[bt](Ce)));var mo=Jn(we=we.replace(/\0\0/g,"%"),!1);return mo.length>g?0:(function T(d,g){Je.set(d,g)}(mo,d),mo.length-1)}(d,g,v,P)}},Ct=(function Wr(){var d={a:it};function g(we,Re){l.asm=we.exports,je((de=l.asm.r).buffer),function to(d){Ae.unshift(d)}(l.asm.s),Vr()}function v(we){g(we.instance)}function P(we){return function as(){return fe||!ue&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return no(hn)}):fetch(hn,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+hn+"'";return d.arrayBuffer()}).catch(function(){return no(hn)})}().then(function(Re){return WebAssembly.instantiate(Re,d)}).then(function(Re){return Re}).then(we,function(Re){Y("failed to asynchronously prepare wasm: "+Re),lr(Re)})}if(Xr(),l.instantiateWasm)try{return l.instantiateWasm(d,g)}catch(we){Y("Module.instantiateWasm callback failed with error: "+we),te(we)}(function W(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||lo(hn)||"function"!=typeof fetch?P(v):fetch(hn,{credentials:"same-origin"}).then(function(we){return WebAssembly.instantiateStreaming(we,d).then(v,function(bt){return Y("wasm streaming compile failed: "+bt),Y("falling back to ArrayBuffer instantiation"),P(v)})})})().catch(te)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.s).apply(null,arguments)},l._malloc=function(){return(Ct=l._malloc=l.asm.t).apply(null,arguments)}),Fo=(l._free=function(){return(l._free=l.asm.u).apply(null,arguments)},l._emscripten_bind_VoidPtr___destroy___0=function(){return(Fo=l._emscripten_bind_VoidPtr___destroy___0=l.asm.v).apply(null,arguments)}),oo=l._emscripten_bind_FileEntry_GetName_0=function(){return(oo=l._emscripten_bind_FileEntry_GetName_0=l.asm.w).apply(null,arguments)},Oo=l._emscripten_bind_FileEntry_IsDirectory_0=function(){return(Oo=l._emscripten_bind_FileEntry_IsDirectory_0=l.asm.x).apply(null,arguments)},_i=l._emscripten_bind_FileEntry_GetSize_0=function(){return(_i=l._emscripten_bind_FileEntry_GetSize_0=l.asm.y).apply(null,arguments)},Pr=l._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(Pr=l._emscripten_bind_FileEntry_GetModifiedTS_0=l.asm.z).apply(null,arguments)},ds=l._emscripten_bind_FileEntry_GetAttributes_0=function(){return(ds=l._emscripten_bind_FileEntry_GetAttributes_0=l.asm.A).apply(null,arguments)},qa=l._emscripten_bind_FileEntry___destroy___0=function(){return(qa=l._emscripten_bind_FileEntry___destroy___0=l.asm.B).apply(null,arguments)},Ya=l._emscripten_bind_Vfs_Vfs_0=function(){return(Ya=l._emscripten_bind_Vfs_Vfs_0=l.asm.C).apply(null,arguments)},Pi=l._emscripten_bind_Vfs_Malloc_1=function(){return(Pi=l._emscripten_bind_Vfs_Malloc_1=l.asm.D).apply(null,arguments)},Ka=l._emscripten_bind_Vfs_Free_1=function(){return(Ka=l._emscripten_bind_Vfs_Free_1=l.asm.E).apply(null,arguments)},Xs=l._emscripten_bind_Vfs_Nullptr_0=function(){return(Xs=l._emscripten_bind_Vfs_Nullptr_0=l.asm.F).apply(null,arguments)},Qs=l._emscripten_bind_Vfs_AllocateImage_1=function(){return(Qs=l._emscripten_bind_Vfs_AllocateImage_1=l.asm.G).apply(null,arguments)},Il=l._emscripten_bind_Vfs_MountImage_1=function(){return(Il=l._emscripten_bind_Vfs_MountImage_1=l.asm.H).apply(null,arguments)},kl=l._emscripten_bind_Vfs_UnmountImage_1=function(){return(kl=l._emscripten_bind_Vfs_UnmountImage_1=l.asm.I).apply(null,arguments)},Ml=l._emscripten_bind_Vfs_SwitchSlot_1=function(){return(Ml=l._emscripten_bind_Vfs_SwitchSlot_1=l.asm.J).apply(null,arguments)},ga=l._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(ga=l._emscripten_bind_Vfs_GetPendingImageSize_0=l.asm.K).apply(null,arguments)},xl=l._emscripten_bind_Vfs_GetSize_1=function(){return(xl=l._emscripten_bind_Vfs_GetSize_1=l.asm.L).apply(null,arguments)},No=l._emscripten_bind_Vfs_GetPendingImage_0=function(){return(No=l._emscripten_bind_Vfs_GetPendingImage_0=l.asm.M).apply(null,arguments)},Zn=l._emscripten_bind_Vfs_GetImage_1=function(){return(Zn=l._emscripten_bind_Vfs_GetImage_1=l.asm.N).apply(null,arguments)},Tl=l._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(Tl=l._emscripten_bind_Vfs_GetDirtyPages_1=l.asm.O).apply(null,arguments)},Al=l._emscripten_bind_Vfs_RenameFile_2=function(){return(Al=l._emscripten_bind_Vfs_RenameFile_2=l.asm.P).apply(null,arguments)},uc=l._emscripten_bind_Vfs_ChmodFile_3=function(){return(uc=l._emscripten_bind_Vfs_ChmodFile_3=l.asm.Q).apply(null,arguments)},ht=l._emscripten_bind_Vfs_StatFile_1=function(){return(ht=l._emscripten_bind_Vfs_StatFile_1=l.asm.R).apply(null,arguments)},Js=l._emscripten_bind_Vfs_UnlinkFile_1=function(){return(Js=l._emscripten_bind_Vfs_UnlinkFile_1=l.asm.S).apply(null,arguments)},wr=l._emscripten_bind_Vfs_Mkdir_1=function(){return(wr=l._emscripten_bind_Vfs_Mkdir_1=l.asm.T).apply(null,arguments)},Ms=l._emscripten_bind_Vfs_GetEntry_0=function(){return(Ms=l._emscripten_bind_Vfs_GetEntry_0=l.asm.U).apply(null,arguments)},ya=l._emscripten_bind_Vfs_BytesFree_1=function(){return(ya=l._emscripten_bind_Vfs_BytesFree_1=l.asm.V).apply(null,arguments)},fo=l._emscripten_bind_Vfs_BytesTotal_1=function(){return(fo=l._emscripten_bind_Vfs_BytesTotal_1=l.asm.W).apply(null,arguments)},fs=l._emscripten_bind_Vfs_ReadFile_1=function(){return(fs=l._emscripten_bind_Vfs_ReadFile_1=l.asm.X).apply(null,arguments)},Ri=l._emscripten_bind_Vfs_GetCurrentFileSize_0=function(){return(Ri=l._emscripten_bind_Vfs_GetCurrentFileSize_0=l.asm.Y).apply(null,arguments)},_a=l._emscripten_bind_Vfs_GetCurrentFileContent_0=function(){return(_a=l._emscripten_bind_Vfs_GetCurrentFileContent_0=l.asm.Z).apply(null,arguments)},Us=l._emscripten_bind_Vfs_ReleaseCurrentFile_0=function(){return(Us=l._emscripten_bind_Vfs_ReleaseCurrentFile_0=l.asm._).apply(null,arguments)},ea=l._emscripten_bind_Vfs_WriteFile_3=function(){return(ea=l._emscripten_bind_Vfs_WriteFile_3=l.asm.$).apply(null,arguments)},va=l._emscripten_bind_Vfs___destroy___0=function(){return(va=l._emscripten_bind_Vfs___destroy___0=l.asm.aa).apply(null,arguments)},Xa=l._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(Xa=l._emscripten_bind_ReaddirContext_ReaddirContext_1=l.asm.ba).apply(null,arguments)},Mt=l._emscripten_bind_ReaddirContext_Next_0=function(){return(Mt=l._emscripten_bind_ReaddirContext_Next_0=l.asm.ca).apply(null,arguments)},ta=l._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(ta=l._emscripten_bind_ReaddirContext_GetEntry_0=l.asm.da).apply(null,arguments)},wo=l._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(wo=l._emscripten_bind_ReaddirContext_GetStatus_0=l.asm.ea).apply(null,arguments)},cr=l._emscripten_bind_ReaddirContext_GetError_0=function(){return(cr=l._emscripten_bind_ReaddirContext_GetError_0=l.asm.fa).apply(null,arguments)},Jr=l._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(Jr=l._emscripten_bind_ReaddirContext_GetErrorDescription_0=l.asm.ga).apply(null,arguments)},jr=l._emscripten_bind_ReaddirContext___destroy___0=function(){return(jr=l._emscripten_bind_ReaddirContext___destroy___0=l.asm.ha).apply(null,arguments)},p=l._emscripten_bind_CreateZipContext_CreateZipContext_2=function(){return(p=l._emscripten_bind_CreateZipContext_CreateZipContext_2=l.asm.ia).apply(null,arguments)},y=l._emscripten_bind_CreateZipContext_AddFile_1=function(){return(y=l._emscripten_bind_CreateZipContext_AddFile_1=l.asm.ja).apply(null,arguments)},w=l._emscripten_bind_CreateZipContext_AddDirectory_1=function(){return(w=l._emscripten_bind_CreateZipContext_AddDirectory_1=l.asm.ka).apply(null,arguments)},F=l._emscripten_bind_CreateZipContext_Continue_0=function(){return(F=l._emscripten_bind_CreateZipContext_Continue_0=l.asm.la).apply(null,arguments)},z=l._emscripten_bind_CreateZipContext_GetState_0=function(){return(z=l._emscripten_bind_CreateZipContext_GetState_0=l.asm.ma).apply(null,arguments)},_e=l._emscripten_bind_CreateZipContext_GetZipContent_0=function(){return(_e=l._emscripten_bind_CreateZipContext_GetZipContent_0=l.asm.na).apply(null,arguments)},Ie=l._emscripten_bind_CreateZipContext_GetZipSize_0=function(){return(Ie=l._emscripten_bind_CreateZipContext_GetZipSize_0=l.asm.oa).apply(null,arguments)},He=l._emscripten_bind_CreateZipContext_GetErrorItem_0=function(){return(He=l._emscripten_bind_CreateZipContext_GetErrorItem_0=l.asm.pa).apply(null,arguments)},wt=l._emscripten_bind_CreateZipContext___destroy___0=function(){return(wt=l._emscripten_bind_CreateZipContext___destroy___0=l.asm.qa).apply(null,arguments)},fn=l._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=function(){return(fn=l._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=l.asm.ra).apply(null,arguments)},Tn=l._emscripten_bind_DeleteRecursiveContext_AddFile_1=function(){return(Tn=l._emscripten_bind_DeleteRecursiveContext_AddFile_1=l.asm.sa).apply(null,arguments)},An=l._emscripten_bind_DeleteRecursiveContext_Continue_0=function(){return(An=l._emscripten_bind_DeleteRecursiveContext_Continue_0=l.asm.ta).apply(null,arguments)},Ht=l._emscripten_bind_DeleteRecursiveContext_GetState_0=function(){return(Ht=l._emscripten_bind_DeleteRecursiveContext_GetState_0=l.asm.ua).apply(null,arguments)},Zt=l._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=function(){return(Zt=l._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=l.asm.va).apply(null,arguments)},ee=l._emscripten_bind_DeleteRecursiveContext___destroy___0=function(){return(ee=l._emscripten_bind_DeleteRecursiveContext___destroy___0=l.asm.wa).apply(null,arguments)},Rr=l._emscripten_bind_UnzipContext_UnzipContext_4=function(){return(Rr=l._emscripten_bind_UnzipContext_UnzipContext_4=l.asm.xa).apply(null,arguments)},gn=l._emscripten_bind_UnzipContext_GetState_0=function(){return(gn=l._emscripten_bind_UnzipContext_GetState_0=l.asm.ya).apply(null,arguments)},Zr=l._emscripten_bind_UnzipContext_Continue_0=function(){return(Zr=l._emscripten_bind_UnzipContext_Continue_0=l.asm.za).apply(null,arguments)},pt=l._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=function(){return(pt=l._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=l.asm.Aa).apply(null,arguments)},Gt=l._emscripten_bind_UnzipContext_GetCurrentEntry_0=function(){return(Gt=l._emscripten_bind_UnzipContext_GetCurrentEntry_0=l.asm.Ba).apply(null,arguments)},qr=l._emscripten_bind_UnzipContext_GetCollisionPath_0=function(){return(qr=l._emscripten_bind_UnzipContext_GetCollisionPath_0=l.asm.Ca).apply(null,arguments)},vr=l._emscripten_bind_UnzipContext_GetEntriesTotal_0=function(){return(vr=l._emscripten_bind_UnzipContext_GetEntriesTotal_0=l.asm.Da).apply(null,arguments)},Xo=l._emscripten_bind_UnzipContext_GetEntriesSuccess_0=function(){return(Xo=l._emscripten_bind_UnzipContext_GetEntriesSuccess_0=l.asm.Ea).apply(null,arguments)},hr=l._emscripten_bind_UnzipContext___destroy___0=function(){return(hr=l._emscripten_bind_UnzipContext___destroy___0=l.asm.Fa).apply(null,arguments)},vi=l._emscripten_bind_PasteContext_PasteContext_3=function(){return(vi=l._emscripten_bind_PasteContext_PasteContext_3=l.asm.Ga).apply(null,arguments)},Jc=l._emscripten_bind_PasteContext_AddFile_1=function(){return(Jc=l._emscripten_bind_PasteContext_AddFile_1=l.asm.Ha).apply(null,arguments)},eu=l._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=function(){return(eu=l._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=l.asm.Ia).apply(null,arguments)},Fi=l._emscripten_bind_PasteContext_GetState_0=function(){return(Fi=l._emscripten_bind_PasteContext_GetState_0=l.asm.Ja).apply(null,arguments)},Hi=l._emscripten_bind_PasteContext_Continue_0=function(){return(Hi=l._emscripten_bind_PasteContext_Continue_0=l.asm.Ka).apply(null,arguments)},nr=l._emscripten_bind_PasteContext_ContinueWithOverwrite_0=function(){return(nr=l._emscripten_bind_PasteContext_ContinueWithOverwrite_0=l.asm.La).apply(null,arguments)},ba=l._emscripten_bind_PasteContext_GetCurrentEntry_0=function(){return(ba=l._emscripten_bind_PasteContext_GetCurrentEntry_0=l.asm.Ma).apply(null,arguments)},Qa=l._emscripten_bind_PasteContext_GetCollisionPath_0=function(){return(Qa=l._emscripten_bind_PasteContext_GetCollisionPath_0=l.asm.Na).apply(null,arguments)},Ja=l._emscripten_bind_PasteContext_GetEntriesSuccess_0=function(){return(Ja=l._emscripten_bind_PasteContext_GetEntriesSuccess_0=l.asm.Oa).apply(null,arguments)},Pl=l._emscripten_bind_PasteContext___destroy___0=function(){return(Pl=l._emscripten_bind_PasteContext___destroy___0=l.asm.Pa).apply(null,arguments)};function dc(d){var g=l._main;try{var W=g(0,0);return function Ne(d,g){ce=d,function Ee(d){ce=d,function tn(){return Fe}()||(l.onExit&&l.onExit(d),st=!0),V(d,new Ge(d))}(d)}(W),W}catch(Ce){return function R(d){if(d instanceof Ge||"unwind"==d)return ce;V(1,d)}(Ce)}}function Rl(d){function g(){el||(el=!0,l.calledRun=!0,!st&&(function Cn(){!l.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,er.init(),Rn(Ae)}(),function _r(){Rn(Tt)}(),re(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),Fr&&dc(),function Qn(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)d=l.postRun.shift(),on.unshift(d);var d;Rn(on)}()))}d=d||Q,Pn>0||(function U(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)d=l.preRun.shift(),ft.unshift(d);var d;Rn(ft)}(),Pn>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),g()},1)):g())}if(l._main=function(){return(l._main=l.asm.Qa).apply(null,arguments)},l.___original_main=function(){return(l.___original_main=l.asm.Sa).apply(null,arguments)},l.___start_em_js=20120,l.___stop_em_js=20218,jn=function d(){el||Rl(),el||(jn=d)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var Fr=!0;function po(){}function zi(d){return(d||po).__cache__}function xt(d,g){var v=zi(g),P=v[d];return P||((P=Object.create((g||po).prototype)).ptr=d,v[d]=P)}l.noInitialRun&&(Fr=!1),Rl(),(po.prototype=Object.create(po.prototype)).constructor=po,po.prototype.__class__=po,po.__cache__={},l.WrapperObject=po,l.getCache=zi,l.wrapPointer=xt,l.castObject=function ho(d,g){return xt(d.ptr,g)},l.NULL=xt(0),l.destroy=function ur(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete zi(d.__class__)[d.ptr]},l.compare=function Mo(d,g){return d.ptr===g.ptr},l.getPointer=function Lo(d){return d.ptr},l.getClass=function na(d){return d.__class__};var yn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(yn.needed){for(var d=0;d<yn.temps.length;d++)l._free(yn.temps[d]);yn.temps.length=0,l._free(yn.buffer),yn.buffer=0,yn.size+=yn.needed,yn.needed=0}yn.buffer||(yn.size+=128,yn.buffer=l._malloc(yn.size),be(yn.buffer)),yn.pos=0},alloc:function(d,g){be(yn.buffer);var W,P=d.length*g.BYTES_PER_ELEMENT;return yn.pos+(P=P+7&-8)>=yn.size?(be(P>0),yn.needed+=P,W=l._malloc(P),yn.temps.push(W)):(W=yn.buffer+yn.pos,yn.pos+=P),W},copy:function(d,g,v){switch(v>>>=0,g.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var W=0;W<d.length;W++)g[v+W]=d[W]}};function Mr(d){if("string"==typeof d){var g=Jn(d),v=yn.alloc(g,Je);return yn.copy(g,Je,v),v}return d}function St(){throw"cannot construct a VoidPtr, no constructor in IDL"}function qt(){throw"cannot construct a FileEntry, no constructor in IDL"}function It(){this.ptr=Ya(),zi(It)[this.ptr]=this}function dr(d){yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),this.ptr=Xa(d),zi(dr)[this.ptr]=this}function rr(d,g){yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),g&&"object"==typeof g&&(g=g.ptr),this.ptr=p(d,g),zi(rr)[this.ptr]=this}function qn(d){d&&"object"==typeof d&&(d=d.ptr),this.ptr=fn(d),zi(qn)[this.ptr]=this}function mr(d,g,v,P){yn.prepare(),d&&"object"==typeof d&&(d=d.ptr),g=g&&"object"==typeof g?g.ptr:Mr(g),v&&"object"==typeof v&&(v=v.ptr),P&&"object"==typeof P&&(P=P.ptr),this.ptr=Rr(d,g,v,P),zi(mr)[this.ptr]=this}function Sn(d,g,v){yn.prepare(),d&&"object"==typeof d&&(d=d.ptr),g=g&&"object"==typeof g?g.ptr:Mr(g),v=v&&"object"==typeof v?v.ptr:Mr(v),this.ptr=vi(d,g,v),zi(Sn)[this.ptr]=this}return(St.prototype=Object.create(po.prototype)).constructor=St,St.prototype.__class__=St,St.__cache__={},l.VoidPtr=St,St.prototype.__destroy__=St.prototype.__destroy__=function(){Fo(this.ptr)},(qt.prototype=Object.create(po.prototype)).constructor=qt,qt.prototype.__class__=qt,qt.__cache__={},l.FileEntry=qt,qt.prototype.GetName=qt.prototype.GetName=function(){return Oe(oo(this.ptr))},qt.prototype.IsDirectory=qt.prototype.IsDirectory=function(){return!!Oo(this.ptr)},qt.prototype.GetSize=qt.prototype.GetSize=function(){return _i(this.ptr)},qt.prototype.GetModifiedTS=qt.prototype.GetModifiedTS=function(){return Pr(this.ptr)},qt.prototype.GetAttributes=qt.prototype.GetAttributes=function(){return ds(this.ptr)},qt.prototype.__destroy__=qt.prototype.__destroy__=function(){qa(this.ptr)},(It.prototype=Object.create(po.prototype)).constructor=It,It.prototype.__class__=It,It.__cache__={},l.Vfs=It,It.prototype.Malloc=It.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),xt(Pi(this.ptr,d),St)},It.prototype.Free=It.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),Ka(this.ptr,d)},It.prototype.Nullptr=It.prototype.Nullptr=function(){return xt(Xs(this.ptr),St)},It.prototype.AllocateImage=It.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Qs(this.ptr,d)},It.prototype.MountImage=It.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!Il(this.ptr,d)},It.prototype.UnmountImage=It.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),kl(this.ptr,d)},It.prototype.SwitchSlot=It.prototype.SwitchSlot=function(d){d&&"object"==typeof d&&(d=d.ptr),Ml(this.ptr,d)},It.prototype.GetPendingImageSize=It.prototype.GetPendingImageSize=function(){return ga(this.ptr)},It.prototype.GetSize=It.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),xl(this.ptr,d)},It.prototype.GetPendingImage=It.prototype.GetPendingImage=function(){return xt(No(this.ptr),St)},It.prototype.GetImage=It.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),xt(Zn(this.ptr,d),St)},It.prototype.GetDirtyPages=It.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),xt(Tl(this.ptr,d),St)},It.prototype.RenameFile=It.prototype.RenameFile=function(d,g){var v=this.ptr;return yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),g=g&&"object"==typeof g?g.ptr:Mr(g),Al(v,d,g)},It.prototype.ChmodFile=It.prototype.ChmodFile=function(d,g,v){var P=this.ptr;return yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),g&&"object"==typeof g&&(g=g.ptr),v&&"object"==typeof v&&(v=v.ptr),uc(P,d,g,v)},It.prototype.StatFile=It.prototype.StatFile=function(d){var g=this.ptr;return yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),ht(g,d)},It.prototype.UnlinkFile=It.prototype.UnlinkFile=function(d){var g=this.ptr;return yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),Js(g,d)},It.prototype.Mkdir=It.prototype.Mkdir=function(d){var g=this.ptr;return yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),wr(g,d)},It.prototype.GetEntry=It.prototype.GetEntry=function(){return xt(Ms(this.ptr),qt)},It.prototype.BytesFree=It.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),ya(this.ptr,d)},It.prototype.BytesTotal=It.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),fo(this.ptr,d)},It.prototype.ReadFile=It.prototype.ReadFile=function(d){var g=this.ptr;return yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),!!fs(g,d)},It.prototype.GetCurrentFileSize=It.prototype.GetCurrentFileSize=function(){return Ri(this.ptr)},It.prototype.GetCurrentFileContent=It.prototype.GetCurrentFileContent=function(){return xt(_a(this.ptr),St)},It.prototype.ReleaseCurrentFile=It.prototype.ReleaseCurrentFile=function(){Us(this.ptr)},It.prototype.WriteFile=It.prototype.WriteFile=function(d,g,v){var P=this.ptr;return yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),g&&"object"==typeof g&&(g=g.ptr),v&&"object"==typeof v&&(v=v.ptr),ea(P,d,g,v)},It.prototype.__destroy__=It.prototype.__destroy__=function(){va(this.ptr)},(dr.prototype=Object.create(po.prototype)).constructor=dr,dr.prototype.__class__=dr,dr.__cache__={},l.ReaddirContext=dr,dr.prototype.Next=dr.prototype.Next=function(){return Mt(this.ptr)},dr.prototype.GetEntry=dr.prototype.GetEntry=function(){return xt(ta(this.ptr),qt)},dr.prototype.GetStatus=dr.prototype.GetStatus=function(){return wo(this.ptr)},dr.prototype.GetError=dr.prototype.GetError=function(){return cr(this.ptr)},dr.prototype.GetErrorDescription=dr.prototype.GetErrorDescription=function(){return Oe(Jr(this.ptr))},dr.prototype.__destroy__=dr.prototype.__destroy__=function(){jr(this.ptr)},(rr.prototype=Object.create(po.prototype)).constructor=rr,rr.prototype.__class__=rr,rr.__cache__={},l.CreateZipContext=rr,rr.prototype.AddFile=rr.prototype.AddFile=function(d){var g=this.ptr;return yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),xt(y(g,d),rr)},rr.prototype.AddDirectory=rr.prototype.AddDirectory=function(d){var g=this.ptr;return yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),xt(w(g,d),rr)},rr.prototype.Continue=rr.prototype.Continue=function(){return F(this.ptr)},rr.prototype.GetState=rr.prototype.GetState=function(){return z(this.ptr)},rr.prototype.GetZipContent=rr.prototype.GetZipContent=function(){return xt(_e(this.ptr),St)},rr.prototype.GetZipSize=rr.prototype.GetZipSize=function(){return Ie(this.ptr)},rr.prototype.GetErrorItem=rr.prototype.GetErrorItem=function(){return Oe(He(this.ptr))},rr.prototype.__destroy__=rr.prototype.__destroy__=function(){wt(this.ptr)},(qn.prototype=Object.create(po.prototype)).constructor=qn,qn.prototype.__class__=qn,qn.__cache__={},l.DeleteRecursiveContext=qn,qn.prototype.AddFile=qn.prototype.AddFile=function(d){var g=this.ptr;return yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),xt(Tn(g,d),qn)},qn.prototype.Continue=qn.prototype.Continue=function(){return An(this.ptr)},qn.prototype.GetState=qn.prototype.GetState=function(){return Ht(this.ptr)},qn.prototype.GetFailingPath=qn.prototype.GetFailingPath=function(){return Oe(Zt(this.ptr))},qn.prototype.__destroy__=qn.prototype.__destroy__=function(){ee(this.ptr)},(mr.prototype=Object.create(po.prototype)).constructor=mr,mr.prototype.__class__=mr,mr.__cache__={},l.UnzipContext=mr,mr.prototype.GetState=mr.prototype.GetState=function(){return gn(this.ptr)},mr.prototype.Continue=mr.prototype.Continue=function(){return Zr(this.ptr)},mr.prototype.ContinueWithOverwrite=mr.prototype.ContinueWithOverwrite=function(){return pt(this.ptr)},mr.prototype.GetCurrentEntry=mr.prototype.GetCurrentEntry=function(){return Oe(Gt(this.ptr))},mr.prototype.GetCollisionPath=mr.prototype.GetCollisionPath=function(){return Oe(qr(this.ptr))},mr.prototype.GetEntriesTotal=mr.prototype.GetEntriesTotal=function(){return vr(this.ptr)},mr.prototype.GetEntriesSuccess=mr.prototype.GetEntriesSuccess=function(){return Xo(this.ptr)},mr.prototype.__destroy__=mr.prototype.__destroy__=function(){hr(this.ptr)},(Sn.prototype=Object.create(po.prototype)).constructor=Sn,Sn.prototype.__class__=Sn,Sn.__cache__={},l.PasteContext=Sn,Sn.prototype.AddFile=Sn.prototype.AddFile=function(d){var g=this.ptr;return yn.prepare(),d=d&&"object"==typeof d?d.ptr:Mr(d),xt(Jc(g,d),Sn)},Sn.prototype.SetDeleteAfterCopy=Sn.prototype.SetDeleteAfterCopy=function(d){return d&&"object"==typeof d&&(d=d.ptr),xt(eu(this.ptr,d),Sn)},Sn.prototype.GetState=Sn.prototype.GetState=function(){return Fi(this.ptr)},Sn.prototype.Continue=Sn.prototype.Continue=function(){return Hi(this.ptr)},Sn.prototype.ContinueWithOverwrite=Sn.prototype.ContinueWithOverwrite=function(){return nr(this.ptr)},Sn.prototype.GetCurrentEntry=Sn.prototype.GetCurrentEntry=function(){return Oe(ba(this.ptr))},Sn.prototype.GetCollisionPath=Sn.prototype.GetCollisionPath=function(){return Oe(Qa(this.ptr))},Sn.prototype.GetEntriesSuccess=Sn.prototype.GetEntriesSuccess=function(){return Ja(this.ptr)},Sn.prototype.__destroy__=Sn.prototype.__destroy__=function(){Pl(this.ptr)},I.ready});Be.exports=We},5933:(Be,We,A)=>{"use strict";A.d(We,{c:()=>$e});var I=A(9259),l=A(2286);let re;const G=he=>he.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q=he=>(void 0===re&&(re=void 0===he.style.animationName&&void 0!==he.style.webkitAnimationName?"-webkit-":""),re),L=(he,Z,Y)=>{const fe=Z.startsWith("animation")?Q(he):"";he.style.setProperty(fe+Z,Y)},V=(he,Z)=>{const Y=Z.startsWith("animation")?Q(he):"";he.style.removeProperty(Y+Z)},se=[],Pe=(he=[],Z)=>{if(void 0!==Z){const Y=Array.isArray(Z)?Z:[Z];return[...he,...Y]}return he},$e=he=>{let Z,Y,fe,Fe,de,st,Oe,O,ge,nt,rt,ft,Ae,ce=[],be=[],ke=[],Qe=!1,xe={},ne=[],Ue=[],Je={},yt=0,un=!1,Ze=!1,je=!0,q=!1,ye=!0,Tt=!1;const on=he,Kt=[],tn=[],U=[],Cn=[],_r=[],Qn=[],Wo=[],to=[],ki=[],Pn=[],bo="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,jn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&bo,Xr=()=>Pn,hn=(R,pe)=>((pe?.oneTimeCallback?tn:Kt).push({c:R,o:pe}),Ae),as=()=>{if(jn)Pn.forEach(R=>{R.cancel()}),Pn.length=0;else{const R=U.slice();(0,I.r)(()=>{R.forEach(pe=>{V(pe,"animation-name"),V(pe,"animation-duration"),V(pe,"animation-timing-function"),V(pe,"animation-iteration-count"),V(pe,"animation-delay"),V(pe,"animation-play-state"),V(pe,"animation-fill-mode"),V(pe,"animation-direction")})})}},Wr=()=>{_r.forEach(R=>{R?.parentNode&&R.parentNode.removeChild(R)}),_r.length=0},jt=()=>void 0!==de?de:Oe?Oe.getFill():"both",E=()=>void 0!==ge?ge:void 0!==st?st:Oe?Oe.getDirection():"normal",S=()=>un?"linear":void 0!==fe?fe:Oe?Oe.getEasing():"linear",Yn=()=>Ze?0:void 0!==nt?nt:void 0!==Y?Y:Oe?Oe.getDuration():0,D=()=>void 0!==Fe?Fe:Oe?Oe.getIterations():1,On=()=>void 0!==rt?rt:void 0!==Z?Z:Oe?Oe.getDelay():0,ko=()=>{0!==yt&&(yt--,0===yt&&((()=>{pr(),to.forEach(it=>it()),ki.forEach(it=>it());const R=je?1:0,pe=ne,Me=Ue,et=Je;U.forEach(it=>{const Te=it.classList;pe.forEach(Ut=>Te.add(Ut)),Me.forEach(Ut=>Te.remove(Ut));for(const Ut in et)et.hasOwnProperty(Ut)&&L(it,Ut,et[Ut])}),Kt.forEach(it=>it.c(R,Ae)),tn.forEach(it=>it.c(R,Ae)),tn.length=0,ye=!0,je&&(q=!0),je=!0})(),Oe&&Oe.animationFinish()))},Qr=(R=!0)=>{Wr();const pe=(he=>(he.forEach(Z=>{for(const Y in Z)if(Z.hasOwnProperty(Y)){const fe=Z[Y];if("easing"===Y)Z["animation-timing-function"]=fe,delete Z[Y];else{const Fe=G(Y);Fe!==Y&&(Z[Fe]=fe,delete Z[Y])}}}),he))(ce);U.forEach(Me=>{if(pe.length>0){const et=((he=[])=>he.map(Z=>{const Y=Z.offset,fe=[];for(const Fe in Z)Z.hasOwnProperty(Fe)&&"offset"!==Fe&&fe.push(`${Fe}: ${Z[Fe]};`);return`${100*Y}% { ${fe.join(" ")} }`}).join(" "))(pe);ft=void 0!==he?he:(he=>{let Z=se.indexOf(he);return Z<0&&(Z=se.push(he)-1),`ion-animation-${Z}`})(et);const it=((he,Z,Y)=>{var fe;const Fe=(he=>{const Z=void 0!==he.getRootNode?he.getRootNode():he;return Z.head||Z})(Y),de=Q(Y),st=Fe.querySelector("#"+he);if(st)return st;const ce=(null!==(fe=Y.ownerDocument)&&void 0!==fe?fe:document).createElement("style");return ce.id=he,ce.textContent=`@${de}keyframes ${he} { ${Z} } @${de}keyframes ${he}-alt { ${Z} }`,Fe.appendChild(ce),ce})(ft,et,Me);_r.push(it),L(Me,"animation-duration",`${Yn()}ms`),L(Me,"animation-timing-function",S()),L(Me,"animation-delay",`${On()}ms`),L(Me,"animation-fill-mode",jt()),L(Me,"animation-direction",E());const Te=D()===1/0?"infinite":D().toString();L(Me,"animation-iteration-count",Te),L(Me,"animation-play-state","paused"),R&&L(Me,"animation-name",`${it.id}-alt`),(0,I.r)(()=>{L(Me,"animation-name",it.id||null)})}})},ai=(R=!0)=>{(()=>{Qn.forEach(et=>et()),Wo.forEach(et=>et());const R=be,pe=ke,Me=xe;U.forEach(et=>{const it=et.classList;R.forEach(Te=>it.add(Te)),pe.forEach(Te=>it.remove(Te));for(const Te in Me)Me.hasOwnProperty(Te)&&L(et,Te,Me[Te])})})(),ce.length>0&&(jn?(U.forEach(R=>{const pe=R.animate(ce,{id:on,delay:On(),duration:Yn(),easing:S(),iterations:D(),fill:jt(),direction:E()});pe.pause(),Pn.push(pe)}),Pn.length>0&&(Pn[0].onfinish=()=>{ko()})):Qr(R)),Qe=!0},Ro=R=>{if(R=Math.min(Math.max(R,0),.9999),jn)Pn.forEach(pe=>{pe.currentTime=pe.effect.getComputedTiming().delay+Yn()*R,pe.pause()});else{const pe=`-${Yn()*R}ms`;U.forEach(Me=>{ce.length>0&&(L(Me,"animation-delay",pe),L(Me,"animation-play-state","paused"))})}},uo=R=>{Pn.forEach(pe=>{pe.effect.updateTiming({delay:On(),duration:Yn(),easing:S(),iterations:D(),fill:jt(),direction:E()})}),void 0!==R&&Ro(R)},cs=(R=!0,pe)=>{(0,I.r)(()=>{U.forEach(Me=>{L(Me,"animation-name",ft||null),L(Me,"animation-duration",`${Yn()}ms`),L(Me,"animation-timing-function",S()),L(Me,"animation-delay",void 0!==pe?`-${pe*Yn()}ms`:`${On()}ms`),L(Me,"animation-fill-mode",jt()||null),L(Me,"animation-direction",E()||null);const et=D()===1/0?"infinite":D().toString();L(Me,"animation-iteration-count",et),R&&L(Me,"animation-name",`${ft}-alt`),(0,I.r)(()=>{L(Me,"animation-name",ft||null)})})})},Co=(R=!1,pe=!0,Me)=>(R&&Cn.forEach(et=>{et.update(R,pe,Me)}),jn?uo(Me):cs(pe,Me),Ae),us=()=>{Qe&&(jn?Pn.forEach(R=>{R.pause()}):U.forEach(R=>{L(R,"animation-play-state","paused")}),Tt=!0)},js=()=>{O=void 0,ko()},pr=()=>{O&&clearTimeout(O)},T=R=>new Promise(pe=>{R?.sync&&(Ze=!0,hn(()=>Ze=!1,{oneTimeCallback:!0})),Qe||ai(),q&&(jn?(Ro(0),uo()):cs(),q=!1),ye&&(yt=Cn.length+1,ye=!1),hn(()=>pe(),{oneTimeCallback:!0}),Cn.forEach(Me=>{Me.play()}),jn?(Pn.forEach(R=>{R.play()}),(0===ce.length||0===U.length)&&ko()):(()=>{if(pr(),(0,I.r)(()=>{U.forEach(R=>{ce.length>0&&L(R,"animation-play-state","running")})}),0===ce.length||0===U.length)ko();else{const R=On()||0,pe=Yn()||0,Me=D()||1;isFinite(Me)&&(O=setTimeout(js,R+pe*Me+100)),((he,Z)=>{let Y;const fe={passive:!0},de=st=>{he===st.target&&(Y&&Y(),pr(),(0,I.r)(()=>{U.forEach(R=>{V(R,"animation-duration"),V(R,"animation-delay"),V(R,"animation-play-state")}),(0,I.r)(ko)}))};he&&(he.addEventListener("webkitAnimationEnd",de,fe),he.addEventListener("animationend",de,fe),Y=()=>{he.removeEventListener("webkitAnimationEnd",de,fe),he.removeEventListener("animationend",de,fe)})})(U[0])}})(),Tt=!1}),me=(R,pe)=>{const Me=ce[0];return void 0===Me||void 0!==Me.offset&&0!==Me.offset?ce=[{offset:0,[R]:pe},...ce]:Me[R]=pe,Ae};return Ae={parentAnimation:Oe,elements:U,childAnimations:Cn,id:on,animationFinish:ko,from:me,to:(R,pe)=>{const Me=ce[ce.length-1];return void 0===Me||void 0!==Me.offset&&1!==Me.offset?ce=[...ce,{offset:1,[R]:pe}]:Me[R]=pe,Ae},fromTo:(R,pe,Me)=>me(R,pe).to(R,Me),parent:R=>(Oe=R,Ae),play:T,pause:()=>(Cn.forEach(R=>{R.pause()}),us(),Ae),stop:()=>{Cn.forEach(R=>{R.stop()}),Qe&&(as(),Qe=!1),un=!1,Ze=!1,ye=!0,ge=void 0,nt=void 0,rt=void 0,yt=0,q=!1,je=!0,Tt=!1},destroy:R=>(Cn.forEach(pe=>{pe.destroy(R)}),(R=>{as(),R&&Wr()})(R),U.length=0,Cn.length=0,ce.length=0,Kt.length=0,tn.length=0,Qe=!1,ye=!0,Ae),keyframes:R=>{const pe=ce!==R;return ce=R,pe&&(R=>{jn?Xr().forEach(pe=>{if(pe.effect.setKeyframes)pe.effect.setKeyframes(R);else{const Me=new KeyframeEffect(pe.effect.target,R,pe.effect.getTiming());pe.effect=Me}}):Qr()})(ce),Ae},addAnimation:R=>{if(null!=R)if(Array.isArray(R))for(const pe of R)pe.parent(Ae),Cn.push(pe);else R.parent(Ae),Cn.push(R);return Ae},addElement:R=>{if(null!=R)if(1===R.nodeType)U.push(R);else if(R.length>=0)for(let pe=0;pe<R.length;pe++)U.push(R[pe]);else console.error("Invalid addElement value");return Ae},update:Co,fill:R=>(de=R,Co(!0),Ae),direction:R=>(st=R,Co(!0),Ae),iterations:R=>(Fe=R,Co(!0),Ae),duration:R=>(!jn&&0===R&&(R=1),Y=R,Co(!0),Ae),easing:R=>(fe=R,Co(!0),Ae),delay:R=>(Z=R,Co(!0),Ae),getWebAnimations:Xr,getKeyframes:()=>ce,getFill:jt,getDirection:E,getDelay:On,getIterations:D,getEasing:S,getDuration:Yn,afterAddRead:R=>(to.push(R),Ae),afterAddWrite:R=>(ki.push(R),Ae),afterClearStyles:(R=[])=>{for(const pe of R)Je[pe]="";return Ae},afterStyles:(R={})=>(Je=R,Ae),afterRemoveClass:R=>(Ue=Pe(Ue,R),Ae),afterAddClass:R=>(ne=Pe(ne,R),Ae),beforeAddRead:R=>(Qn.push(R),Ae),beforeAddWrite:R=>(Wo.push(R),Ae),beforeClearStyles:(R=[])=>{for(const pe of R)xe[pe]="";return Ae},beforeStyles:(R={})=>(xe=R,Ae),beforeRemoveClass:R=>(ke=Pe(ke,R),Ae),beforeAddClass:R=>(be=Pe(be,R),Ae),onFinish:hn,isRunning:()=>0!==yt&&!Tt,progressStart:(R=!1,pe)=>(Cn.forEach(Me=>{Me.progressStart(R,pe)}),us(),un=R,Qe||ai(),Co(!1,!0,pe),Ae),progressStep:R=>(Cn.forEach(pe=>{pe.progressStep(R)}),Ro(R),Ae),progressEnd:(R,pe,Me)=>(un=!1,Cn.forEach(et=>{et.progressEnd(R,pe,Me)}),void 0!==Me&&(nt=Me),q=!1,je=!0,0===R?(ge="reverse"===E()?"normal":"reverse","reverse"===ge&&(je=!1),jn?(Co(),Ro(1-pe)):(rt=(1-pe)*Yn()*-1,Co(!1,!1))):1===R&&(jn?(Co(),Ro(pe)):(rt=pe*Yn()*-1,Co(!1,!1))),void 0!==R&&(hn(()=>{nt=void 0,ge=void 0,rt=void 0},{oneTimeCallback:!0}),Oe||T()),Ae)}}},6379:(Be,We,A)=>{"use strict";A.d(We,{G:()=>G});class l{constructor(L,V,ue,X,se){this.id=V,this.name=ue,this.disableScroll=se,this.priority=1e6*X+V,this.ctrl=L}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const L=this.ctrl.capture(this.name,this.id,this.priority);return L&&this.disableScroll&&this.ctrl.disableScroll(this.id),L}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class re{constructor(L,V,ue,X){this.id=V,this.disable=ue,this.disableScroll=X,this.ctrl=L}block(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.disableGesture(L,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.enableGesture(L,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const te="backdrop-no-scroll",G=new class I{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(L){var V;return new l(this,this.newID(),L.name,null!==(V=L.priority)&&void 0!==V?V:0,!!L.disableScroll)}createBlocker(L={}){return new re(this,this.newID(),L.disable,!!L.disableScroll)}start(L,V,ue){return this.canStart(L)?(this.requestedStart.set(V,ue),!0):(this.requestedStart.delete(V),!1)}capture(L,V,ue){if(!this.start(L,V,ue))return!1;const X=this.requestedStart;let se=-1e4;if(X.forEach(B=>{se=Math.max(se,B)}),se===ue){this.capturedId=V,X.clear();const B=new CustomEvent("ionGestureCaptured",{detail:{gestureName:L}});return document.dispatchEvent(B),!0}return X.delete(V),!1}release(L){this.requestedStart.delete(L),this.capturedId===L&&(this.capturedId=void 0)}disableGesture(L,V){let ue=this.disabledGestures.get(L);void 0===ue&&(ue=new Set,this.disabledGestures.set(L,ue)),ue.add(V)}enableGesture(L,V){const ue=this.disabledGestures.get(L);void 0!==ue&&ue.delete(V)}disableScroll(L){this.disabledScroll.add(L),1===this.disabledScroll.size&&document.body.classList.add(te)}enableScroll(L){this.disabledScroll.delete(L),0===this.disabledScroll.size&&document.body.classList.remove(te)}canStart(L){return!(void 0!==this.capturedId||this.isDisabled(L))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(L){const V=this.disabledGestures.get(L);return!!(V&&V.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Be,We,A)=>{"use strict";A.r(We),A.d(We,{MENU_BACK_BUTTON_PRIORITY:()=>G,OVERLAY_BACK_BUTTON_PRIORITY:()=>te,blockHardwareBackButton:()=>l,startHardwareBackButton:()=>re});var I=A(3918);const l=()=>{document.addEventListener("backbutton",()=>{})},re=()=>{const Q=document;let L=!1;Q.addEventListener("backbutton",()=>{if(L)return;let V=0,ue=[];const X=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register($,H){ue.push({priority:$,handler:H,id:V++})}}});Q.dispatchEvent(X);const se=function(){var $=(0,I.Z)(function*(H){try{if(H?.handler){const Pe=H.handler(B);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return $.apply(this,arguments)}}(),B=()=>{if(ue.length>0){let $={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ue.forEach(H=>{H.priority>=$.priority&&($=H)}),L=!0,ue=ue.filter(H=>H.id!==$.id),se($).then(()=>L=!1)}};B()})},te=100,G=99},9259:(Be,We,A)=>{"use strict";A.d(We,{a:()=>L,b:()=>V,c:()=>re,d:()=>H,e:()=>Pe,f:()=>$,g:()=>ue,h:()=>Fe,i:()=>Q,j:()=>te,k:()=>B,l:()=>$e,m:()=>se,n:()=>he,o:()=>fe,p:()=>Y,q:()=>de,r:()=>X,s:()=>st,t:()=>I,u:()=>Z});const I=(ce,be=0)=>new Promise(ke=>{l(ce,be,ke)}),l=(ce,be=0,ke)=>{let Qe,Oe;const xe={passive:!0},Ue=()=>{Qe&&Qe()},Je=yt=>{(void 0===yt||ce===yt.target)&&(Ue(),ke(yt))};return ce&&(ce.addEventListener("webkitTransitionEnd",Je,xe),ce.addEventListener("transitionend",Je,xe),Oe=setTimeout(Je,be+500),Qe=()=>{Oe&&(clearTimeout(Oe),Oe=void 0),ce.removeEventListener("webkitTransitionEnd",Je,xe),ce.removeEventListener("transitionend",Je,xe)}),Ue},re=(ce,be)=>{ce.componentOnReady?ce.componentOnReady().then(ke=>be(ke)):X(()=>be(ce))},te=(ce,be=[])=>{const ke={};return be.forEach(Qe=>{ce.hasAttribute(Qe)&&(null!==ce.getAttribute(Qe)&&(ke[Qe]=ce.getAttribute(Qe)),ce.removeAttribute(Qe))}),ke},G=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Q=(ce,be)=>{let ke=G;return be&&be.length>0&&(ke=ke.filter(Qe=>!be.includes(Qe))),te(ce,ke)},L=(ce,be,ke,Qe)=>{var Oe;if(typeof window<"u"){const ne=null===(Oe=window?.Ionic)||void 0===Oe?void 0:Oe.config;if(ne){const Ue=ne.get("_ael");if(Ue)return Ue(ce,be,ke,Qe);if(ne._ael)return ne._ael(ce,be,ke,Qe)}}return ce.addEventListener(be,ke,Qe)},V=(ce,be,ke,Qe)=>{var Oe;if(typeof window<"u"){const ne=null===(Oe=window?.Ionic)||void 0===Oe?void 0:Oe.config;if(ne){const Ue=ne.get("_rel");if(Ue)return Ue(ce,be,ke,Qe);if(ne._rel)return ne._rel(ce,be,ke,Qe)}}return ce.removeEventListener(be,ke,Qe)},ue=(ce,be=ce)=>ce.shadowRoot||be,X=ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(ce):setTimeout(ce),se=ce=>!!ce.shadowRoot&&!!ce.attachShadow,B=ce=>{const be=ce.closest("ion-item");return be?be.querySelector("ion-label"):null},$=ce=>{if(ce.focus(),ce.classList.contains("ion-focusable")){const be=ce.closest("ion-app");be&&be.setFocus([ce])}},H=(ce,be)=>{let ke;const Qe=ce.getAttribute("aria-labelledby"),Oe=ce.id;let xe=null!==Qe&&""!==Qe.trim()?Qe:be+"-lbl",ne=null!==Qe&&""!==Qe.trim()?document.getElementById(Qe):B(ce);return ne?(null===Qe&&(ne.id=xe),ke=ne.textContent,ne.setAttribute("aria-hidden","true")):""!==Oe.trim()&&(ne=document.querySelector(`label[for="${Oe}"]`),ne&&(""!==ne.id?xe=ne.id:ne.id=xe=`${Oe}-lbl`,ke=ne.textContent)),{label:ne,labelId:xe,labelText:ke}},Pe=(ce,be,ke,Qe,Oe)=>{if(ce||se(be)){let xe=be.querySelector("input.aux-input");xe||(xe=be.ownerDocument.createElement("input"),xe.type="hidden",xe.classList.add("aux-input"),be.appendChild(xe)),xe.disabled=Oe,xe.name=ke,xe.value=Qe||""}},$e=(ce,be,ke)=>Math.max(ce,Math.min(be,ke)),he=(ce,be)=>{if(!ce){const ke="ASSERT: "+be;throw console.error(ke),new Error(ke)}},Z=ce=>ce.timeStamp||Date.now(),Y=ce=>{if(ce){const be=ce.changedTouches;if(be&&be.length>0){const ke=be[0];return{x:ke.clientX,y:ke.clientY}}if(void 0!==ce.pageX)return{x:ce.pageX,y:ce.pageY}}return{x:0,y:0}},fe=ce=>{const be="rtl"===document.dir;switch(ce){case"start":return be;case"end":return!be;default:throw new Error(`"${ce}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Fe=(ce,be)=>{const ke=ce._original||ce;return{_original:ce,emit:de(ke.emit.bind(ke),be)}},de=(ce,be=0)=>{let ke;return(...Qe)=>{clearTimeout(ke),ke=setTimeout(ce,be,...Qe)}},st=(ce,be)=>{if(ce??(ce={}),be??(be={}),ce===be)return!0;const ke=Object.keys(ce);if(ke.length!==Object.keys(be).length)return!1;for(const Qe of ke)if(!(Qe in be)||ce[Qe]!==be[Qe])return!1;return!0}},919:(Be,We,A)=>{"use strict";A.d(We,{L:()=>te,a:()=>G,b:()=>Q,c:()=>L,d:()=>V,e:()=>be,g:()=>Oe,l:()=>st,s:()=>ke,t:()=>se});var I=A(3918),l=A(1559),re=A(9259);const te="ionViewWillEnter",G="ionViewDidEnter",Q="ionViewWillLeave",L="ionViewDidLeave",V="ionViewWillUnload",se=xe=>new Promise((ne,Ue)=>{(0,l.c)(()=>{B(xe),$(xe).then(Je=>{Je.animation&&Je.animation.destroy(),H(xe),ne(Je)},Je=>{H(xe),Ue(Je)})})}),B=xe=>{const ne=xe.enteringEl,Ue=xe.leavingEl;Qe(ne,Ue,xe.direction),xe.showGoBack?ne.classList.add("can-go-back"):ne.classList.remove("can-go-back"),ke(ne,!1),ne.style.setProperty("pointer-events","none"),Ue&&(ke(Ue,!1),Ue.style.setProperty("pointer-events","none"))},$=function(){var xe=(0,I.Z)(function*(ne){const Ue=yield Pe(ne);return Ue&&l.B.isBrowser?$e(Ue,ne):he(ne)});return function(Ue){return xe.apply(this,arguments)}}(),H=xe=>{const ne=xe.enteringEl,Ue=xe.leavingEl;ne.classList.remove("ion-page-invisible"),ne.style.removeProperty("pointer-events"),void 0!==Ue&&(Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"))},Pe=function(){var xe=(0,I.Z)(function*(ne){return ne.leavingEl&&ne.animated&&0!==ne.duration?ne.animationBuilder?ne.animationBuilder:"ios"===ne.mode?(yield Promise.resolve().then(A.bind(A,9078))).iosTransitionAnimation:(yield Promise.resolve().then(A.bind(A,4199))).mdTransitionAnimation:void 0});return function(Ue){return xe.apply(this,arguments)}}(),$e=function(){var xe=(0,I.Z)(function*(ne,Ue){yield Z(Ue,!0);const Je=ne(Ue.baseEl,Ue);Fe(Ue.enteringEl,Ue.leavingEl);const yt=yield fe(Je,Ue);return Ue.progressCallback&&Ue.progressCallback(void 0),yt&&de(Ue.enteringEl,Ue.leavingEl),{hasCompleted:yt,animation:Je}});return function(Ue,Je){return xe.apply(this,arguments)}}(),he=function(){var xe=(0,I.Z)(function*(ne){const Ue=ne.enteringEl,Je=ne.leavingEl;return yield Z(ne,!1),Fe(Ue,Je),de(Ue,Je),{hasCompleted:!0}});return function(Ue){return xe.apply(this,arguments)}}(),Z=function(){var xe=(0,I.Z)(function*(ne,Ue){const yt=(void 0!==ne.deepWait?ne.deepWait:Ue)?[be(ne.enteringEl),be(ne.leavingEl)]:[ce(ne.enteringEl),ce(ne.leavingEl)];yield Promise.all(yt),yield Y(ne.viewIsReady,ne.enteringEl)});return function(Ue,Je){return xe.apply(this,arguments)}}(),Y=function(){var xe=(0,I.Z)(function*(ne,Ue){ne&&(yield ne(Ue))});return function(Ue,Je){return xe.apply(this,arguments)}}(),fe=(xe,ne)=>{const Ue=ne.progressCallback,Je=new Promise(yt=>{xe.onFinish(un=>yt(1===un))});return Ue?(xe.progressStart(!0),Ue(xe)):xe.play(),Je},Fe=(xe,ne)=>{st(ne,Q),st(xe,te)},de=(xe,ne)=>{st(xe,G),st(ne,L)},st=(xe,ne)=>{if(xe){const Ue=new CustomEvent(ne,{bubbles:!1,cancelable:!1});xe.dispatchEvent(Ue)}},ce=xe=>xe?new Promise(ne=>(0,re.c)(xe,ne)):Promise.resolve(),be=function(){var xe=(0,I.Z)(function*(ne){const Ue=ne;if(Ue){if(null!=Ue.componentOnReady){if(null!=(yield Ue.componentOnReady()))return}else if(null!=Ue.__registerHost)return void(yield new Promise(yt=>(0,re.r)(yt)));yield Promise.all(Array.from(Ue.children).map(be))}});return function(Ue){return xe.apply(this,arguments)}}(),ke=(xe,ne)=>{ne?(xe.setAttribute("aria-hidden","true"),xe.classList.add("ion-page-hidden")):(xe.hidden=!1,xe.removeAttribute("aria-hidden"),xe.classList.remove("ion-page-hidden"))},Qe=(xe,ne,Ue)=>{void 0!==xe&&(xe.style.zIndex="back"===Ue?"99":"101"),void 0!==ne&&(ne.style.zIndex="100")},Oe=xe=>xe.classList.contains("ion-page")?xe:xe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||xe},7351:(Be,We,A)=>{"use strict";A.d(We,{m:()=>se});var I=A(3918),l=A(159),re=A(9259),te=A(5823),G=A(5933);const Q=B=>(0,G.c)().duration(B?400:300),L=B=>{let $,H;const Pe=B.width+8,$e=(0,G.c)(),he=(0,G.c)();B.isEndSide?($=Pe+"px",H="0px"):($=-Pe+"px",H="0px"),$e.addElement(B.menuInnerEl).fromTo("transform",`translateX(${$})`,`translateX(${H})`);const Y="ios"===(0,te.b)(B),fe=Y?.2:.25;return he.addElement(B.backdropEl).fromTo("opacity",.01,fe),Q(Y).addAnimation([$e,he])},V=B=>{let $,H;const Pe=(0,te.b)(B),$e=B.width;B.isEndSide?($=-$e+"px",H=$e+"px"):($=$e+"px",H=-$e+"px");const he=(0,G.c)().addElement(B.menuInnerEl).fromTo("transform",`translateX(${H})`,"translateX(0px)"),Z=(0,G.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${$})`),Y=(0,G.c)().addElement(B.backdropEl).fromTo("opacity",.01,.32);return Q("ios"===Pe).addAnimation([he,Z,Y])},ue=B=>{const $=(0,te.b)(B),H=B.width*(B.isEndSide?-1:1)+"px",Pe=(0,G.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${H})`);return Q("ios"===$).addAnimation(Pe)},se=(()=>{const B=new Map,$=[],H=function(){var O=(0,I.Z)(function*(ge){const nt=yield Fe(ge);return!!nt&&nt.open()});return function(nt){return O.apply(this,arguments)}}(),Pe=function(){var O=(0,I.Z)(function*(ge){const nt=yield void 0!==ge?Fe(ge):de();return void 0!==nt&&nt.close()});return function(nt){return O.apply(this,arguments)}}(),$e=function(){var O=(0,I.Z)(function*(ge){const nt=yield Fe(ge);return!!nt&&nt.toggle()});return function(nt){return O.apply(this,arguments)}}(),he=function(){var O=(0,I.Z)(function*(ge,nt){const rt=yield Fe(nt);return rt&&(rt.disabled=!ge),rt});return function(nt,rt){return O.apply(this,arguments)}}(),Z=function(){var O=(0,I.Z)(function*(ge,nt){const rt=yield Fe(nt);return rt&&(rt.swipeGesture=ge),rt});return function(nt,rt){return O.apply(this,arguments)}}(),Y=function(){var O=(0,I.Z)(function*(ge){if(null!=ge){const nt=yield Fe(ge);return void 0!==nt&&nt.isOpen()}return void 0!==(yield de())});return function(nt){return O.apply(this,arguments)}}(),fe=function(){var O=(0,I.Z)(function*(ge){const nt=yield Fe(ge);return!!nt&&!nt.disabled});return function(nt){return O.apply(this,arguments)}}(),Fe=function(){var O=(0,I.Z)(function*(ge){return yield Ze(),"start"===ge||"end"===ge?un(je=>je.side===ge&&!je.disabled)||un(je=>je.side===ge):null!=ge?un(rt=>rt.menuId===ge):un(rt=>!rt.disabled)||($.length>0?$[0].el:void 0)});return function(nt){return O.apply(this,arguments)}}(),de=function(){var O=(0,I.Z)(function*(){return yield Ze(),Ue()});return function(){return O.apply(this,arguments)}}(),st=function(){var O=(0,I.Z)(function*(){return yield Ze(),Je()});return function(){return O.apply(this,arguments)}}(),ce=function(){var O=(0,I.Z)(function*(){return yield Ze(),yt()});return function(){return O.apply(this,arguments)}}(),be=(O,ge)=>{B.set(O,ge)},Oe=O=>{const ge=O.side;$.filter(nt=>nt.side===ge&&nt!==O).forEach(nt=>nt.disabled=!0)},xe=function(){var O=(0,I.Z)(function*(ge,nt,rt){if(yt())return!1;if(nt){const je=yield de();je&&ge.el!==je&&(yield je.setOpen(!1,!1))}return ge._setOpen(nt,rt)});return function(nt,rt,je){return O.apply(this,arguments)}}(),Ue=()=>un(O=>O._isOpen),Je=()=>$.map(O=>O.el),yt=()=>$.some(O=>O.isAnimating),un=O=>{const ge=$.find(O);if(void 0!==ge)return ge.el},Ze=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(O=>new Promise(ge=>(0,re.c)(O,ge))));return be("reveal",ue),be("push",V),be("overlay",L),typeof document<"u"&&document.addEventListener("ionBackButton",O=>{const ge=Ue();ge&&O.detail.register(l.MENU_BACK_BUTTON_PRIORITY,()=>ge.close())}),{registerAnimation:be,get:Fe,getMenus:st,getOpen:de,isEnabled:fe,swipeGesture:Z,isAnimating:ce,isOpen:Y,enable:he,toggle:$e,close:Pe,open:H,_getOpenSync:Ue,_createAnimation:(O,ge)=>{const nt=B.get(O);if(!nt)throw new Error("animation not registered");return nt(ge)},_register:O=>{$.indexOf(O)<0&&(O.disabled||Oe(O),$.push(O))},_unregister:O=>{const ge=$.indexOf(O);ge>-1&&$.splice(ge,1)},_setOpen:xe,_setActiveMenu:Oe}})()},2286:(Be,We,A)=>{"use strict";A.d(We,{w:()=>I});const I=typeof window<"u"?window:void 0},8759:(Be,We,A)=>{"use strict";A.r(We),A.d(We,{GESTURE_CONTROLLER:()=>I.G,createGesture:()=>ue});var I=A(6379);const l=($,H,Pe,$e)=>{const he=re($)?{capture:!!$e.capture,passive:!!$e.passive}:!!$e.capture;let Z,Y;return $.__zone_symbol__addEventListener?(Z="__zone_symbol__addEventListener",Y="__zone_symbol__removeEventListener"):(Z="addEventListener",Y="removeEventListener"),$[Z](H,Pe,he),()=>{$[Y](H,Pe,he)}},re=$=>{if(void 0===te)try{const H=Object.defineProperty({},"passive",{get:()=>{te=!0}});$.addEventListener("optsTest",()=>{},H)}catch{te=!1}return!!te};let te;const L=$=>$ instanceof Document?$:$.ownerDocument,ue=$=>{let H=!1,Pe=!1,$e=!0,he=!1;const Z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},$),Y=Z.canStart,fe=Z.onWillStart,Fe=Z.onStart,de=Z.onEnd,st=Z.notCaptured,ce=Z.onMove,be=Z.threshold,ke=Z.passive,Qe=Z.blurOnStart,Oe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},xe=(($,H,Pe)=>{const $e=Pe*(Math.PI/180),he="x"===$,Z=Math.cos($e),Y=H*H;let fe=0,Fe=0,de=!1,st=0;return{start(ce,be){fe=ce,Fe=be,st=0,de=!0},detect(ce,be){if(!de)return!1;const ke=ce-fe,Qe=be-Fe,Oe=ke*ke+Qe*Qe;if(Oe<Y)return!1;const xe=Math.sqrt(Oe),ne=(he?ke:Qe)/xe;return st=ne>Z?1:ne<-Z?-1:0,de=!1,!0},isGesture:()=>0!==st,getDirection:()=>st}})(Z.direction,Z.threshold,Z.maxAngle),ne=I.G.createGesture({name:$.gestureName,priority:$.gesturePriority,disableScroll:$.disableScroll}),yt=()=>{H&&(he=!1,ce&&ce(Oe))},un=()=>!!ne.capture()&&(H=!0,$e=!1,Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime,fe?fe(Oe).then(O):O(),!0),O=()=>{Qe&&(()=>{if(typeof document<"u"){const q=document.activeElement;q?.blur&&q.blur()}})(),Fe&&Fe(Oe),$e=!0},ge=()=>{H=!1,Pe=!1,he=!1,$e=!0,ne.release()},nt=q=>{const ye=H,ft=$e;if(ge(),ft){if(X(Oe,q),ye)return void(de&&de(Oe));st&&st(Oe)}},rt=(($,H,Pe,$e,he)=>{let Z,Y,fe,Fe,de,st,ce,be=0;const ke=Ze=>{be=Date.now()+2e3,H(Ze)&&(!Y&&Pe&&(Y=l($,"touchmove",Pe,he)),fe||(fe=l(Ze.target,"touchend",Oe,he)),Fe||(Fe=l(Ze.target,"touchcancel",Oe,he)))},Qe=Ze=>{be>Date.now()||H(Ze)&&(!st&&Pe&&(st=l(L($),"mousemove",Pe,he)),ce||(ce=l(L($),"mouseup",xe,he)))},Oe=Ze=>{ne(),$e&&$e(Ze)},xe=Ze=>{Ue(),$e&&$e(Ze)},ne=()=>{Y&&Y(),fe&&fe(),Fe&&Fe(),Y=fe=Fe=void 0},Ue=()=>{st&&st(),ce&&ce(),st=ce=void 0},Je=()=>{ne(),Ue()},yt=(Ze=!0)=>{Ze?(Z||(Z=l($,"touchstart",ke,he)),de||(de=l($,"mousedown",Qe,he))):(Z&&Z(),de&&de(),Z=de=void 0,Je())};return{enable:yt,stop:Je,destroy:()=>{yt(!1),$e=Pe=H=void 0}}})(Z.el,q=>{const ye=B(q);return!(Pe||!$e||(se(q,Oe),Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime=ye,Oe.velocityX=Oe.velocityY=Oe.deltaX=Oe.deltaY=0,Oe.event=q,Y&&!1===Y(Oe))||(ne.release(),!ne.start()))&&(Pe=!0,0===be?un():(xe.start(Oe.startX,Oe.startY),!0))},q=>{H?!he&&$e&&(he=!0,X(Oe,q),requestAnimationFrame(yt)):(X(Oe,q),xe.detect(Oe.currentX,Oe.currentY)&&(!xe.isGesture()||!un())&&je())},nt,{capture:!1,passive:ke}),je=()=>{ge(),rt.stop(),st&&st(Oe)};return{enable(q=!0){q||(H&&nt(void 0),ge()),rt.enable(q)},destroy(){ne.destroy(),rt.destroy()}}},X=($,H)=>{if(!H)return;const Pe=$.currentX,$e=$.currentY,he=$.currentTime;se(H,$);const Z=$.currentX,Y=$.currentY,Fe=($.currentTime=B(H))-he;if(Fe>0&&Fe<100){const st=(Y-$e)/Fe;$.velocityX=(Z-Pe)/Fe*.7+.3*$.velocityX,$.velocityY=.7*st+.3*$.velocityY}$.deltaX=Z-$.startX,$.deltaY=Y-$.startY,$.event=H},se=($,H)=>{let Pe=0,$e=0;if($){const he=$.changedTouches;if(he&&he.length>0){const Z=he[0];Pe=Z.clientX,$e=Z.clientY}else void 0!==$.pageX&&(Pe=$.pageX,$e=$.pageY)}H.currentX=Pe,H.currentY=$e},B=$=>$.timeStamp||Date.now()},1559:(Be,We,A)=>{"use strict";A.d(We,{B:()=>tr,H:()=>U,a:()=>je,b:()=>mi,c:()=>Ui,e:()=>Wt,f:()=>ks,g:()=>q,h:()=>Kt,i:()=>Vn,j:()=>E,k:()=>si,p:()=>$e,r:()=>ls,s:()=>H});var I=A(3918);let re,te,G,Q=!1,L=!1,V=!1,ue=!1,X=!1;const se=typeof window<"u"?window:{},B=se.document||{head:{}},$={$flags$:0,$resourcesUrl$:"",jmp:T=>T(),raf:T=>requestAnimationFrame(T),ael:(T,N,me,Ee)=>T.addEventListener(N,me,Ee),rel:(T,N,me,Ee)=>T.removeEventListener(N,me,Ee),ce:(T,N)=>new CustomEvent(T,N)},H=T=>{Object.assign($,T)},$e=T=>Promise.resolve(T),he=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Z=(T,N,me,Ee)=>{me&&me.map(([Ne,R,pe])=>{const Me=fe(T,Ne),et=Y(N,pe),it=Fe(Ne);$.ael(Me,R,et,it),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>$.rel(Me,R,et,it))})},Y=(T,N)=>me=>{try{256&T.$flags$?T.$lazyInstance$[N](me):(T.$queuedListeners$=T.$queuedListeners$||[]).push([N,me])}catch(Ee){uo(Ee)}},fe=(T,N)=>4&N?B:8&N?se:16&N?B.body:T,Fe=T=>0!=(2&T),ke="s-id",Qe="sty-id",ne="http://www.w3.org/1999/xlink",yt=new WeakMap,un=(T,N,me)=>{let Ee=Ai.get(T);he&&me?(Ee=Ee||new CSSStyleSheet,"string"==typeof Ee?Ee=N:Ee.replaceSync(N)):Ee=N,Ai.set(T,Ee)},Ze=(T,N,me,Ee)=>{let Ne=ge(N,me);const R=Ai.get(Ne);if(T=11===T.nodeType?T:B,R)if("string"==typeof R){let Me,pe=yt.get(T=T.head||T);pe||yt.set(T,pe=new Set),pe.has(Ne)||(T.host&&(Me=T.querySelector(`[${Qe}="${Ne}"]`))?Me.innerHTML=R:(Me=B.createElement("style"),Me.innerHTML=R,T.insertBefore(Me,T.querySelector("link"))),pe&&pe.add(Ne))}else T.adoptedStyleSheets.includes(R)||(T.adoptedStyleSheets=[...T.adoptedStyleSheets,R]);return Ne},ge=(T,N)=>"sc-"+(N&&32&T.$flags$?T.$tagName$+"-"+N:T.$tagName$),nt=T=>T.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),je=T=>Is.push(T),q=T=>Qr(T).$modeName$,ye={},on=T=>"object"==(T=typeof T)||"function"===T,Kt=(T,N,...me)=>{let Ee=null,Ne=null,R=null,pe=!1,Me=!1;const et=[],it=Ut=>{for(let Ct=0;Ct<Ut.length;Ct++)Ee=Ut[Ct],Array.isArray(Ee)?it(Ee):null!=Ee&&"boolean"!=typeof Ee&&((pe="function"!=typeof T&&!on(Ee))&&(Ee=String(Ee)),pe&&Me?et[et.length-1].$text$+=Ee:et.push(pe?tn(null,Ee):Ee),Me=pe)};if(it(me),N){N.key&&(Ne=N.key),N.name&&(R=N.name);{const Ut=N.className||N.class;Ut&&(N.class="object"!=typeof Ut?Ut:Object.keys(Ut).filter(Ct=>Ut[Ct]).join(" "))}}if("function"==typeof T)return T(null===N?{}:N,et,_r);const Te=tn(T,null);return Te.$attrs$=N,et.length>0&&(Te.$children$=et),Te.$key$=Ne,Te.$name$=R,Te},tn=(T,N)=>({$flags$:0,$tag$:T,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),U={},_r={forEach:(T,N)=>T.map(Qn).forEach(N),map:(T,N)=>T.map(Qn).map(N).map(Wo)},Qn=T=>({vattrs:T.$attrs$,vchildren:T.$children$,vkey:T.$key$,vname:T.$name$,vtag:T.$tag$,vtext:T.$text$}),Wo=T=>{if("function"==typeof T.vtag){const me=Object.assign({},T.vattrs);return T.vkey&&(me.key=T.vkey),T.vname&&(me.name=T.vname),Kt(T.vtag,me,...T.vchildren||[])}const N=tn(T.vtag,T.vtext);return N.$attrs$=T.vattrs,N.$children$=T.vchildren,N.$key$=T.vkey,N.$name$=T.vname,N},to=(T,N,me,Ee,Ne,R)=>{if(me!==Ee){let pe=Ro(T,N),Me=N.toLowerCase();if("class"===N){const et=T.classList,it=Pn(me),Te=Pn(Ee);et.remove(...it.filter(Ut=>Ut&&!Te.includes(Ut))),et.add(...Te.filter(Ut=>Ut&&!it.includes(Ut)))}else if("style"===N){for(const et in me)(!Ee||null==Ee[et])&&(et.includes("-")?T.style.removeProperty(et):T.style[et]="");for(const et in Ee)(!me||Ee[et]!==me[et])&&(et.includes("-")?T.style.setProperty(et,Ee[et]):T.style[et]=Ee[et])}else if("key"!==N)if("ref"===N)Ee&&Ee(T);else if(pe||"o"!==N[0]||"n"!==N[1]){const et=on(Ee);if((pe||et&&null!==Ee)&&!Ne)try{if(T.tagName.includes("-"))T[N]=Ee;else{const Te=Ee??"";"list"===N?pe=!1:(null==me||T[N]!=Te)&&(T[N]=Te)}}catch{}let it=!1;Me!==(Me=Me.replace(/^xlink\:?/,""))&&(N=Me,it=!0),null==Ee||!1===Ee?(!1!==Ee||""===T.getAttribute(N))&&(it?T.removeAttributeNS(ne,N):T.removeAttribute(N)):(!pe||4&R||Ne)&&!et&&(Ee=!0===Ee?"":Ee,it?T.setAttributeNS(ne,N,Ee):T.setAttribute(N,Ee))}else N="-"===N[2]?N.slice(3):Ro(se,Me)?Me.slice(2):Me[2]+N.slice(3),me&&$.rel(T,N,me,!1),Ee&&$.ael(T,N,Ee,!1)}},ki=/\s/,Pn=T=>T?T.split(ki):[],bo=(T,N,me,Ee)=>{const Ne=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,R=T&&T.$attrs$||ye,pe=N.$attrs$||ye;for(Ee in R)Ee in pe||to(Ne,Ee,R[Ee],void 0,me,N.$flags$);for(Ee in pe)to(Ne,Ee,R[Ee],pe[Ee],me,N.$flags$)},jn=(T,N,me,Ee)=>{const Ne=N.$children$[me];let pe,Me,et,R=0;if(Q||(V=!0,"slot"===Ne.$tag$&&(re&&Ee.classList.add(re+"-s"),Ne.$flags$|=Ne.$children$?2:1)),null!==Ne.$text$)pe=Ne.$elm$=B.createTextNode(Ne.$text$);else if(1&Ne.$flags$)pe=Ne.$elm$=B.createTextNode("");else{if(ue||(ue="svg"===Ne.$tag$),pe=Ne.$elm$=B.createElementNS(ue?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ne.$flags$?"slot-fb":Ne.$tag$),ue&&"foreignObject"===Ne.$tag$&&(ue=!1),bo(null,Ne,ue),(T=>null!=T)(re)&&pe["s-si"]!==re&&pe.classList.add(pe["s-si"]=re),Ne.$children$)for(R=0;R<Ne.$children$.length;++R)Me=jn(T,Ne,R,pe),Me&&pe.appendChild(Me);"svg"===Ne.$tag$?ue=!1:"foreignObject"===pe.tagName&&(ue=!0)}return pe["s-hn"]=G,3&Ne.$flags$&&(pe["s-sr"]=!0,pe["s-cr"]=te,pe["s-sn"]=Ne.$name$||"",et=T&&T.$children$&&T.$children$[me],et&&et.$tag$===Ne.$tag$&&T.$elm$&&Mi(T.$elm$,!1)),pe},Mi=(T,N)=>{$.$flags$|=1;const me=T.childNodes;for(let Ee=me.length-1;Ee>=0;Ee--){const Ne=me[Ee];Ne["s-hn"]!==G&&Ne["s-ol"]&&(hn(Ne).insertBefore(Ne,lo(Ne)),Ne["s-ol"].remove(),Ne["s-ol"]=void 0,V=!0),N&&Mi(Ne,N)}$.$flags$&=-2},Xr=(T,N,me,Ee,Ne,R)=>{let Me,pe=T["s-cr"]&&T["s-cr"].parentNode||T;for(pe.shadowRoot&&pe.tagName===G&&(pe=pe.shadowRoot);Ne<=R;++Ne)Ee[Ne]&&(Me=jn(null,me,Ne,T),Me&&(Ee[Ne].$elm$=Me,pe.insertBefore(Me,lo(N))))},Vr=(T,N,me,Ee,Ne)=>{for(;N<=me;++N)(Ee=T[N])&&(Ne=Ee.$elm$,Ge(Ee),L=!0,Ne["s-ol"]?Ne["s-ol"].remove():Mi(Ne,!0),Ne.remove())},Gr=(T,N)=>T.$tag$===N.$tag$&&("slot"===T.$tag$?T.$name$===N.$name$:T.$key$===N.$key$),lo=T=>T&&T["s-ol"]||T,hn=T=>(T["s-ol"]?T["s-ol"]:T).parentNode,no=(T,N)=>{const me=N.$elm$=T.$elm$,Ee=T.$children$,Ne=N.$children$,R=N.$tag$,pe=N.$text$;let Me;null===pe?(ue="svg"===R||"foreignObject"!==R&&ue,"slot"===R||bo(T,N,ue),null!==Ee&&null!==Ne?((T,N,me,Ee)=>{let Fo,oo,Ne=0,R=0,pe=0,Me=0,et=N.length-1,it=N[0],Te=N[et],Ut=Ee.length-1,Ct=Ee[0],dn=Ee[Ut];for(;Ne<=et&&R<=Ut;)if(null==it)it=N[++Ne];else if(null==Te)Te=N[--et];else if(null==Ct)Ct=Ee[++R];else if(null==dn)dn=Ee[--Ut];else if(Gr(it,Ct))no(it,Ct),it=N[++Ne],Ct=Ee[++R];else if(Gr(Te,dn))no(Te,dn),Te=N[--et],dn=Ee[--Ut];else if(Gr(it,dn))("slot"===it.$tag$||"slot"===dn.$tag$)&&Mi(it.$elm$.parentNode,!1),no(it,dn),T.insertBefore(it.$elm$,Te.$elm$.nextSibling),it=N[++Ne],dn=Ee[--Ut];else if(Gr(Te,Ct))("slot"===it.$tag$||"slot"===dn.$tag$)&&Mi(Te.$elm$.parentNode,!1),no(Te,Ct),T.insertBefore(Te.$elm$,it.$elm$),Te=N[--et],Ct=Ee[++R];else{for(pe=-1,Me=Ne;Me<=et;++Me)if(N[Me]&&null!==N[Me].$key$&&N[Me].$key$===Ct.$key$){pe=Me;break}pe>=0?(oo=N[pe],oo.$tag$!==Ct.$tag$?Fo=jn(N&&N[R],me,pe,T):(no(oo,Ct),N[pe]=void 0,Fo=oo.$elm$),Ct=Ee[++R]):(Fo=jn(N&&N[R],me,R,T),Ct=Ee[++R]),Fo&&hn(it.$elm$).insertBefore(Fo,lo(it.$elm$))}Ne>et?Xr(T,null==Ee[Ut+1]?null:Ee[Ut+1].$elm$,me,Ee,R,Ut):R>Ut&&Vr(N,Ne,et)})(me,Ee,N,Ne):null!==Ne?(null!==T.$text$&&(me.textContent=""),Xr(me,null,N,Ne,0,Ne.length-1)):null!==Ee&&Vr(Ee,0,Ee.length-1),ue&&"svg"===R&&(ue=!1)):(Me=me["s-cr"])?Me.parentNode.textContent=pe:T.$text$!==pe&&(me.data=pe)},as=T=>{const N=T.childNodes;let me,Ee,Ne,R,pe,Me;for(Ee=0,Ne=N.length;Ee<Ne;Ee++)if(me=N[Ee],1===me.nodeType){if(me["s-sr"])for(pe=me["s-sn"],me.hidden=!1,R=0;R<Ne;R++)if(Me=N[R].nodeType,N[R]["s-hn"]!==me["s-hn"]||""!==pe){if(1===Me&&pe===N[R].getAttribute("slot")){me.hidden=!0;break}}else if(1===Me||3===Me&&""!==N[R].textContent.trim()){me.hidden=!0;break}as(me)}},Wr=[],lt=T=>{let N,me,Ee,Ne,R,pe,Me=0;const et=T.childNodes,it=et.length;for(;Me<it;Me++){if(N=et[Me],N["s-sr"]&&(me=N["s-cr"])&&me.parentNode)for(Ee=me.parentNode.childNodes,Ne=N["s-sn"],pe=Ee.length-1;pe>=0;pe--)me=Ee[pe],!me["s-cn"]&&!me["s-nr"]&&me["s-hn"]!==N["s-hn"]&&(le(me,Ne)?(R=Wr.find(Te=>Te.$nodeToRelocate$===me),L=!0,me["s-sn"]=me["s-sn"]||Ne,R?R.$slotRefNode$=N:Wr.push({$slotRefNode$:N,$nodeToRelocate$:me}),me["s-sr"]&&Wr.map(Te=>{le(Te.$nodeToRelocate$,me["s-sn"])&&(R=Wr.find(Ut=>Ut.$nodeToRelocate$===me),R&&!Te.$slotRefNode$&&(Te.$slotRefNode$=R.$slotRefNode$))})):Wr.some(Te=>Te.$nodeToRelocate$===me)||Wr.push({$nodeToRelocate$:me}));1===N.nodeType&&lt(N)}},le=(T,N)=>1===T.nodeType?null===T.getAttribute("slot")&&""===N||T.getAttribute("slot")===N:T["s-sn"]===N||""===N,Ge=T=>{T.$attrs$&&T.$attrs$.ref&&T.$attrs$.ref(null),T.$children$&&T.$children$.map(Ge)},Vn=T=>Qr(T).$hostElement$,Wt=(T,N,me)=>{const Ee=Vn(T);return{emit:Ne=>Pt(Ee,N,{bubbles:!!(4&me),composed:!!(2&me),cancelable:!!(1&me),detail:Ne})}},Pt=(T,N,me)=>{const Ee=$.ce(N,me);return T.dispatchEvent(Ee),Ee},br=(T,N)=>{N&&!T.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(me=>T.$onRenderResolve$=me))},Xt=(T,N)=>{if(T.$flags$|=16,!(4&T.$flags$))return br(T,T.$ancestorComponent$),Ui(()=>Jn(T,N));T.$flags$|=512},Jn=(T,N)=>{const Ee=T.$lazyInstance$;let Ne;return N&&(T.$flags$|=256,T.$queuedListeners$&&(T.$queuedListeners$.map(([R,pe])=>Yn(Ee,R,pe)),T.$queuedListeners$=null),Ne=Yn(Ee,"componentWillLoad")),Ne=D(Ne,()=>Yn(Ee,"componentWillRender")),D(Ne,()=>er(T,Ee,N))},er=function(){var T=(0,I.Z)(function*(N,me,Ee){const Ne=N.$hostElement$,pe=Ne["s-rc"];Ee&&(T=>{const N=T.$cmpMeta$,me=T.$hostElement$,Ee=N.$flags$,R=Ze(me.shadowRoot?me.shadowRoot:me.getRootNode(),N,T.$modeName$);10&Ee&&(me["s-sc"]=R,me.classList.add(R+"-h"),2&Ee&&me.classList.add(R+"-s"))})(N);sn(N,me),pe&&(pe.map(et=>et()),Ne["s-rc"]=void 0);{const et=Ne["s-p"],it=()=>jt(N);0===et.length?it():(Promise.all(et).then(it),N.$flags$|=4,et.length=0)}});return function(me,Ee,Ne){return T.apply(this,arguments)}}(),sn=(T,N,me)=>{try{N=N.render&&N.render(),T.$flags$&=-17,T.$flags$|=2,((T,N)=>{const me=T.$hostElement$,Ee=T.$cmpMeta$,Ne=T.$vnode$||tn(null,null),R=(T=>T&&T.$tag$===U)(N)?N:Kt(null,null,N);if(G=me.tagName,Ee.$attrsToReflect$&&(R.$attrs$=R.$attrs$||{},Ee.$attrsToReflect$.map(([pe,Me])=>R.$attrs$[Me]=me[pe])),R.$tag$=null,R.$flags$|=4,T.$vnode$=R,R.$elm$=Ne.$elm$=me.shadowRoot||me,re=me["s-sc"],te=me["s-cr"],Q=0!=(1&Ee.$flags$),L=!1,no(Ne,R),$.$flags$|=1,V){lt(R.$elm$);let pe,Me,et,it,Te,Ut,Ct=0;for(;Ct<Wr.length;Ct++)pe=Wr[Ct],Me=pe.$nodeToRelocate$,Me["s-ol"]||(et=B.createTextNode(""),et["s-nr"]=Me,Me.parentNode.insertBefore(Me["s-ol"]=et,Me));for(Ct=0;Ct<Wr.length;Ct++)if(pe=Wr[Ct],Me=pe.$nodeToRelocate$,pe.$slotRefNode$){for(it=pe.$slotRefNode$.parentNode,Te=pe.$slotRefNode$.nextSibling,et=Me["s-ol"];et=et.previousSibling;)if(Ut=et["s-nr"],Ut&&Ut["s-sn"]===Me["s-sn"]&&it===Ut.parentNode&&(Ut=Ut.nextSibling,!Ut||!Ut["s-nr"])){Te=Ut;break}(!Te&&it!==Me.parentNode||Me.nextSibling!==Te)&&Me!==Te&&(!Me["s-hn"]&&Me["s-ol"]&&(Me["s-hn"]=Me["s-ol"].parentNode.nodeName),it.insertBefore(Me,Te))}else 1===Me.nodeType&&(Me.hidden=!0)}L&&as(R.$elm$),$.$flags$&=-2,Wr.length=0})(T,N)}catch(Ee){uo(Ee,T.$hostElement$)}return null},jt=T=>{const me=T.$hostElement$,Ne=T.$lazyInstance$,R=T.$ancestorComponent$;Yn(Ne,"componentDidRender"),64&T.$flags$?Yn(Ne,"componentDidUpdate"):(T.$flags$|=64,On(me),Yn(Ne,"componentDidLoad"),T.$onReadyResolve$(me),R||S()),T.$onInstanceResolve$(me),T.$onRenderResolve$&&(T.$onRenderResolve$(),T.$onRenderResolve$=void 0),512&T.$flags$&&yi(()=>Xt(T,!1)),T.$flags$&=-517},E=T=>{{const N=Qr(T),me=N.$hostElement$.isConnected;return me&&2==(18&N.$flags$)&&Xt(N,!1),me}},S=T=>{On(B.documentElement),yi(()=>Pt(se,"appload",{detail:{namespace:"ionic"}}))},Yn=(T,N,me)=>{if(T&&T[N])try{return T[N](me)}catch(Ee){uo(Ee)}},D=(T,N)=>T&&T.then?T.then(N):N(),On=T=>T.classList.add("hydrated"),ii=(T,N,me,Ee,Ne,R,pe)=>{let Me,et,it,Te;if(1===R.nodeType){for(Me=R.getAttribute("c-id"),Me&&(et=Me.split("."),(et[0]===pe||"0"===et[0])&&(it={$flags$:0,$hostId$:et[0],$nodeId$:et[1],$depth$:et[2],$index$:et[3],$tag$:R.tagName.toLowerCase(),$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(it),R.removeAttribute("c-id"),T.$children$||(T.$children$=[]),T.$children$[it.$index$]=it,T=it,Ee&&"0"===it.$depth$&&(Ee[it.$index$]=it.$elm$))),Te=R.childNodes.length-1;Te>=0;Te--)ii(T,N,me,Ee,Ne,R.childNodes[Te],pe);if(R.shadowRoot)for(Te=R.shadowRoot.childNodes.length-1;Te>=0;Te--)ii(T,N,me,Ee,Ne,R.shadowRoot.childNodes[Te],pe)}else if(8===R.nodeType)et=R.nodeValue.split("."),(et[1]===pe||"0"===et[1])&&(Me=et[0],it={$flags$:0,$hostId$:et[1],$nodeId$:et[2],$depth$:et[3],$index$:et[4],$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Me?(it.$elm$=R.nextSibling,it.$elm$&&3===it.$elm$.nodeType&&(it.$text$=it.$elm$.textContent,N.push(it),R.remove(),T.$children$||(T.$children$=[]),T.$children$[it.$index$]=it,Ee&&"0"===it.$depth$&&(Ee[it.$index$]=it.$elm$))):it.$hostId$===pe&&("s"===Me?(it.$tag$="slot",R["s-sn"]=et[5]?it.$name$=et[5]:"",R["s-sr"]=!0,Ee&&(it.$elm$=B.createElement(it.$tag$),it.$name$&&it.$elm$.setAttribute("name",it.$name$),R.parentNode.insertBefore(it.$elm$,R),R.remove(),"0"===it.$depth$&&(Ee[it.$index$]=it.$elm$)),me.push(it),T.$children$||(T.$children$=[]),T.$children$[it.$index$]=it):"r"===Me&&(Ee?R.remove():(Ne["s-cr"]=R,R["s-cn"]=!0))));else if(T&&"style"===T.$tag$){const Ut=tn(null,R.textContent);Ut.$elm$=R,Ut.$index$="0",T.$children$=[Ut]}},Io=(T,N)=>{if(1===T.nodeType){let me=0;for(;me<T.childNodes.length;me++)Io(T.childNodes[me],N);if(T.shadowRoot)for(me=0;me<T.shadowRoot.childNodes.length;me++)Io(T.shadowRoot.childNodes[me],N)}else if(8===T.nodeType){const me=T.nodeValue.split(".");"o"===me[0]&&(N.set(me[1]+"."+me[2],T),T.nodeValue="",T["s-en"]=me[3])}},Ti=(T,N,me)=>{if(N.$members$){T.watchers&&(N.$watchers$=T.watchers);const Ee=Object.entries(N.$members$),Ne=T.prototype;if(Ee.map(([R,[pe]])=>{31&pe||2&me&&32&pe?Object.defineProperty(Ne,R,{get(){return((T,N)=>Qr(this).$instanceValues$.get(N))(0,R)},set(Me){((T,N,me,Ee)=>{const Ne=Qr(T),R=Ne.$hostElement$,pe=Ne.$instanceValues$.get(N),Me=Ne.$flags$,et=Ne.$lazyInstance$;me=((T,N)=>null==T||on(T)?T:4&N?"false"!==T&&(""===T||!!T):2&N?parseFloat(T):1&N?String(T):T)(me,Ee.$members$[N][0]);const it=Number.isNaN(pe)&&Number.isNaN(me);if((!(8&Me)||void 0===pe)&&me!==pe&&!it&&(Ne.$instanceValues$.set(N,me),et)){if(Ee.$watchers$&&128&Me){const Ut=Ee.$watchers$[N];Ut&&Ut.map(Ct=>{try{et[Ct](me,pe,N)}catch(dn){uo(dn,R)}})}2==(18&Me)&&Xt(Ne,!1)}})(this,R,Me,N)},configurable:!0,enumerable:!0}):1&me&&64&pe&&Object.defineProperty(Ne,R,{value(...Me){const et=Qr(this);return et.$onInstancePromise$.then(()=>et.$lazyInstance$[R](...Me))}})}),1&me){const R=new Map;Ne.attributeChangedCallback=function(pe,Me,et){$.jmp(()=>{const it=R.get(pe);if(this.hasOwnProperty(it))et=this[it],delete this[it];else if(Ne.hasOwnProperty(it)&&"number"==typeof this[it]&&this[it]==et)return;this[it]=(null!==et||"boolean"!=typeof this[it])&&et})},T.observedAttributes=Ee.filter(([pe,Me])=>15&Me[0]).map(([pe,Me])=>{const et=Me[1]||pe;return R.set(et,pe),512&Me[0]&&N.$attrsToReflect$.push([pe,et]),et})}}return T},co=function(){var T=(0,I.Z)(function*(N,me,Ee,Ne,R){if(!(32&me.$flags$)){{if(me.$flags$|=32,(R=Co(Ee)).then){const it=()=>{};R=yield R,it()}R.isProxied||(Ee.$watchers$=R.watchers,Ti(R,Ee,2),R.isProxied=!0);const et=()=>{};me.$flags$|=8;try{new R(me)}catch(it){uo(it)}me.$flags$&=-9,me.$flags$|=128,et(),Yo(me.$lazyInstance$)}if(R.style){let et=R.style;"string"!=typeof et&&(et=et[me.$modeName$=(T=>Is.map(N=>N(T)).find(N=>!!N))(N)]);const it=ge(Ee,me.$modeName$);if(!Ai.has(it)){const Te=()=>{};un(it,et,!!(1&Ee.$flags$)),Te()}}}const pe=me.$ancestorComponent$,Me=()=>Xt(me,!0);pe&&pe["s-rc"]?pe["s-rc"].push(Me):Me()});return function(me,Ee,Ne,R,pe){return T.apply(this,arguments)}}(),Yo=T=>{Yn(T,"connectedCallback")},Ko=T=>{const N=T["s-cr"]=B.createComment("");N["s-cn"]=!0,T.insertBefore(N,T.firstChild)},mi=(T,N={})=>{const Ee=[],Ne=N.exclude||[],R=se.customElements,pe=B.head,Me=pe.querySelector("meta[charset]"),et=B.createElement("style"),it=[],Te=B.querySelectorAll(`[${Qe}]`);let Ut,Ct=!0,dn=0;for(Object.assign($,N),$.$resourcesUrl$=new URL(N.resourcesUrl||"./",B.baseURI).href,$.$flags$|=2;dn<Te.length;dn++)un(Te[dn].getAttribute(Qe),nt(Te[dn].innerHTML),!0);T.map(Fo=>{Fo[1].map(oo=>{const Oo={$flags$:oo[0],$tagName$:oo[1],$members$:oo[2],$listeners$:oo[3]};Oo.$members$=oo[2],Oo.$listeners$=oo[3],Oo.$attrsToReflect$=[],Oo.$watchers$={};const _i=Oo.$tagName$,Pr=class extends HTMLElement{constructor(ds){super(ds),ai(ds=this,Oo),1&Oo.$flags$&&ds.attachShadow({mode:"open",delegatesFocus:!!(16&Oo.$flags$)})}connectedCallback(){Ut&&(clearTimeout(Ut),Ut=null),Ct?it.push(this):$.jmp(()=>(T=>{if(!(1&$.$flags$)){const N=Qr(T),me=N.$cmpMeta$,Ee=()=>{};if(1&N.$flags$)Z(T,N,me.$listeners$),Yo(N.$lazyInstance$);else{let Ne;if(N.$flags$|=1,Ne=T.getAttribute(ke),Ne){if(1&me.$flags$){const R=Ze(T.shadowRoot,me,T.getAttribute("s-mode"));T.classList.remove(R+"-h",R+"-s")}((T,N,me,Ee)=>{const R=T.shadowRoot,pe=[],et=R?[]:null,it=Ee.$vnode$=tn(N,null);$.$orgLocNodes$||Io(B.body,$.$orgLocNodes$=new Map),T[ke]=me,T.removeAttribute(ke),ii(it,pe,[],et,T,T,me),pe.map(Te=>{const Ut=Te.$hostId$+"."+Te.$nodeId$,Ct=$.$orgLocNodes$.get(Ut),dn=Te.$elm$;Ct&&""===Ct["s-en"]&&Ct.parentNode.insertBefore(dn,Ct.nextSibling),R||(dn["s-hn"]=N,Ct&&(dn["s-ol"]=Ct,dn["s-ol"]["s-nr"]=dn)),$.$orgLocNodes$.delete(Ut)}),R&&et.map(Te=>{Te&&R.appendChild(Te)})})(T,me.$tagName$,Ne,N)}Ne||12&me.$flags$&&Ko(T);{let R=T;for(;R=R.parentNode||R.host;)if(1===R.nodeType&&R.hasAttribute("s-id")&&R["s-p"]||R["s-p"]){br(N,N.$ancestorComponent$=R);break}}me.$members$&&Object.entries(me.$members$).map(([R,[pe]])=>{if(31&pe&&T.hasOwnProperty(R)){const Me=T[R];delete T[R],T[R]=Me}}),yi(()=>co(T,N,me))}Ee()}})(this))}disconnectedCallback(){$.jmp(()=>(T=>{if(!(1&$.$flags$)){const N=Qr(this),me=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(Ee=>Ee()),N.$rmListeners$=void 0),Yn(me,"disconnectedCallback")}})())}componentOnReady(){return Qr(this).$onReadyPromise$}};Oo.$lazyBundleId$=Fo[0],!Ne.includes(_i)&&!R.get(_i)&&(Ee.push(_i),R.define(_i,Ti(Pr,Oo,1)))})}),et.innerHTML=Ee+"{visibility:hidden}.hydrated{visibility:inherit}",et.setAttribute("data-styles",""),pe.insertBefore(et,Me?Me.nextSibling:pe.firstChild),Ct=!1,it.length?it.map(Fo=>Fo.connectedCallback()):$.jmp(()=>Ut=setTimeout(S,30))},si=T=>{const N=new URL(T,$.$resourcesUrl$);return N.origin!==se.location.origin?N.href:N.pathname},ko=new WeakMap,Qr=T=>ko.get(T),ls=(T,N)=>ko.set(N.$lazyInstance$=T,N),ai=(T,N)=>{const me={$flags$:0,$hostElement$:T,$cmpMeta$:N,$instanceValues$:new Map};return me.$onInstancePromise$=new Promise(Ee=>me.$onInstanceResolve$=Ee),me.$onReadyPromise$=new Promise(Ee=>me.$onReadyResolve$=Ee),T["s-p"]=[],T["s-rc"]=[],Z(T,me,N.$listeners$),ko.set(T,me)},Ro=(T,N)=>N in T,uo=(T,N)=>(0,console.error)(T,N),cs=new Map,Co=(T,N,me)=>{const Ee=T.$tagName$.replace(/-/g,"_"),Ne=T.$lazyBundleId$,R=cs.get(Ne);return R?R[Ee]:A(863)(`./${Ne}.entry.js`).then(pe=>(cs.set(Ne,pe),pe[Ee]),uo)},Ai=new Map,Is=[],gi=[],us=[],Vs=(T,N)=>me=>{T.push(me),X||(X=!0,N&&4&$.$flags$?yi(pr):$.raf(pr))},js=T=>{for(let N=0;N<T.length;N++)try{T[N](performance.now())}catch(me){uo(me)}T.length=0},pr=()=>{js(gi),js(us),(X=gi.length>0)&&$.raf(pr)},yi=T=>$e().then(T),ks=Vs(gi,!1),Ui=Vs(us,!0),tr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5823:(Be,We,A)=>{"use strict";A.d(We,{a:()=>se,b:()=>yt,c:()=>re,g:()=>X,i:()=>un});var I=A(1559);class l{constructor(){this.m=new Map}reset(O){this.m=new Map(Object.entries(O))}get(O,ge){const nt=this.m.get(O);return void 0!==nt?nt:ge}getBoolean(O,ge=!1){const nt=this.m.get(O);return void 0===nt?ge:"string"==typeof nt?"true"===nt:!!nt}getNumber(O,ge){const nt=parseFloat(this.m.get(O));return isNaN(nt)?void 0!==ge?ge:NaN:nt}set(O,ge){this.m.set(O,ge)}}const re=new l,V="ionic:",ue="ionic-persist-config",X=Ze=>B(Ze),se=(Ze,O)=>("string"==typeof Ze&&(O=Ze,Ze=void 0),X(Ze).includes(O)),B=(Ze=window)=>{if(typeof Ze>"u")return[];Ze.Ionic=Ze.Ionic||{};let O=Ze.Ionic.platforms;return null==O&&(O=Ze.Ionic.platforms=$(Ze),O.forEach(ge=>Ze.document.documentElement.classList.add(`plt-${ge}`))),O},$=Ze=>{const O=re.get("platform");return Object.keys(Ue).filter(ge=>{const nt=O?.[ge];return"function"==typeof nt?nt(Ze):Ue[ge](Ze)})},Pe=Ze=>!!(xe(Ze,/iPad/i)||xe(Ze,/Macintosh/i)&&de(Ze)),Z=Ze=>xe(Ze,/android|sink/i),de=Ze=>ne(Ze,"(any-pointer:coarse)"),ce=Ze=>be(Ze)||ke(Ze),be=Ze=>!!(Ze.cordova||Ze.phonegap||Ze.PhoneGap),ke=Ze=>!!Ze.Capacitor?.isNative,xe=(Ze,O)=>O.test(Ze.navigator.userAgent),ne=(Ze,O)=>{var ge;return null===(ge=Ze.matchMedia)||void 0===ge?void 0:ge.call(Ze,O).matches},Ue={ipad:Pe,iphone:Ze=>xe(Ze,/iPhone/i),ios:Ze=>xe(Ze,/iPhone|iPod/i)||Pe(Ze),android:Z,phablet:Ze=>{const O=Ze.innerWidth,ge=Ze.innerHeight,nt=Math.min(O,ge),rt=Math.max(O,ge);return nt>390&&nt<520&&rt>620&&rt<800},tablet:Ze=>{const O=Ze.innerWidth,ge=Ze.innerHeight,nt=Math.min(O,ge),rt=Math.max(O,ge);return Pe(Ze)||(Ze=>Z(Ze)&&!xe(Ze,/mobile/i))(Ze)||nt>460&&nt<820&&rt>780&&rt<1400},cordova:be,capacitor:ke,electron:Ze=>xe(Ze,/electron/i),pwa:Ze=>{var O;return!!(null!==(O=Ze.matchMedia)&&void 0!==O&&O.call(Ze,"(display-mode: standalone)").matches||Ze.navigator.standalone)},mobile:de,mobileweb:Ze=>de(Ze)&&!ce(Ze),desktop:Ze=>!de(Ze),hybrid:ce};let Je;const yt=Ze=>Ze&&(0,I.g)(Ze)||Je,un=(Ze={})=>{if(typeof window>"u")return;const O=window.document,ge=window,nt=ge.Ionic=ge.Ionic||{},rt={};Ze._ael&&(rt.ael=Ze._ael),Ze._rel&&(rt.rel=Ze._rel),Ze._ce&&(rt.ce=Ze._ce),(0,I.s)(rt);const je=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ze=>{try{const O=Ze.sessionStorage.getItem(ue);return null!==O?JSON.parse(O):{}}catch{return{}}})(ge)),{persistConfig:!1}),nt.config),(Ze=>{const O={};return Ze.location.search.slice(1).split("&").map(ge=>ge.split("=")).map(([ge,nt])=>[decodeURIComponent(ge),decodeURIComponent(nt)]).filter(([ge])=>((Ze,O)=>Ze.substr(0,O.length)===O)(ge,V)).map(([ge,nt])=>[ge.slice(V.length),nt]).forEach(([ge,nt])=>{O[ge]=nt}),O})(ge)),Ze);re.reset(je),re.getBoolean("persistConfig")&&((Ze,O)=>{try{Ze.sessionStorage.setItem(ue,JSON.stringify(O))}catch{return}})(ge,je),B(ge),nt.config=re,nt.mode=Je=re.get("mode",O.documentElement.getAttribute("mode")||(se(ge,"ios")?"ios":"md")),re.set("mode",Je),O.documentElement.setAttribute("mode",Je),O.documentElement.classList.add(Je),re.getBoolean("_testing")&&re.set("animated",!1);const q=ft=>{var Ae;return null===(Ae=ft.tagName)||void 0===Ae?void 0:Ae.startsWith("ION-")},ye=ft=>["ios","md"].includes(ft);(0,I.a)(ft=>{for(;ft;){const Ae=ft.mode||ft.getAttribute("mode");if(Ae){if(ye(Ae))return Ae;q(ft)&&console.warn('Invalid ionic mode: "'+Ae+'", expected: "ios" or "md"')}ft=ft.parentElement}return Je})}},9078:(Be,We,A)=>{"use strict";A.r(We),A.d(We,{iosTransitionAnimation:()=>$,shadow:()=>L});var I=A(5933),l=A(919);A(2286),A(1559);const Q=H=>document.querySelector(`${H}.ion-cloned-element`),L=H=>H.shadowRoot||H,V=H=>{const Pe="ION-TABS"===H.tagName?H:H.querySelector("ion-tabs"),$e="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Pe){const he=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=he?he.querySelector($e):null}return H.querySelector($e)},ue=(H,Pe)=>{const $e="ION-TABS"===H.tagName?H:H.querySelector("ion-tabs");let he=[];if(null!=$e){const Z=$e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Z&&(he=Z.querySelectorAll("ion-buttons"))}else he=H.querySelectorAll("ion-buttons");for(const Z of he){const Y=Z.closest("ion-header"),fe=Y&&!Y.classList.contains("header-collapse-condense-inactive"),Fe=Z.querySelector("ion-back-button"),de=Z.classList.contains("buttons-collapse");if(null!==Fe&&("start"===Z.slot||""===Z.slot)&&(de&&fe&&Pe||!de))return Fe}return null},se=(H,Pe,$e,he,Z,Y)=>{const fe=Pe?`calc(100% - ${Y.right+4}px)`:Y.left-4+"px",Fe=Pe?"7px":"-7px",de=Pe?"-4px":"4px",st=Pe?"-4px":"4px",ce=Pe?"right":"left",be=Pe?"left":"right",Oe=$e?[{offset:0,opacity:1,transform:`translate3d(${de}, ${Y.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${Z.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${Z.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${de}, ${Y.top-46}px, 0) scale(1)`}],Ue=$e?[{offset:0,opacity:1,transform:`translate3d(${st}, ${Y.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${st}, ${Y.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${st}, ${Y.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${st}, ${Y.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${st}, ${Y.top-46}px, 0) scale(1)`}],Je=(0,I.c)(),yt=(0,I.c)(),un=Q("ion-back-button"),Ze=L(un).querySelector(".button-text"),O=L(un).querySelector("ion-icon");un.text=he.text,un.mode=he.mode,un.icon=he.icon,un.color=he.color,un.disabled=he.disabled,un.style.setProperty("display","block"),un.style.setProperty("position","fixed"),yt.addElement(O),Je.addElement(Ze),Je.beforeStyles({"transform-origin":`${ce} center`}).beforeAddWrite(()=>{he.style.setProperty("display","none"),un.style.setProperty(ce,fe)}).afterAddWrite(()=>{he.style.setProperty("display",""),un.style.setProperty("display","none"),un.style.removeProperty(ce)}).keyframes(Oe),yt.beforeStyles({"transform-origin":`${be} center`}).keyframes(Ue),H.addAnimation([Je,yt])},B=(H,Pe,$e,he,Z,Y)=>{const fe=Pe?`calc(100% - ${Z.right}px)`:`${Z.left}px`,Fe=Pe?"-18px":"18px",de=Pe?"right":"left",be=$e?[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${Y.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Z.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Z.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${Y.top-4}px, 0) scale(0.5)`}],ke=Q("ion-title"),Qe=(0,I.c)();ke.innerText=he.innerText,ke.size=he.size,ke.color=he.color,Qe.addElement(ke),Qe.beforeStyles({"transform-origin":`${de} center`,height:"46px",display:"",position:"relative",[de]:fe}).beforeAddWrite(()=>{he.style.setProperty("display","none")}).afterAddWrite(()=>{he.style.setProperty("display",""),ke.style.setProperty("display","none")}).keyframes(be),H.addAnimation(Qe)},$=(H,Pe)=>{var $e;try{const he="cubic-bezier(0.32,0.72,0,1)",Z="opacity",Y="transform",fe="0%",de="rtl"===H.ownerDocument.dir,st=de?"-99.5%":"99.5%",ce=de?"33%":"-33%",be=Pe.enteringEl,ke=Pe.leavingEl,Qe="back"===Pe.direction,Oe=be.querySelector(":scope > ion-content"),xe=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ne=be.querySelectorAll(":scope > ion-header > ion-toolbar"),Ue=(0,I.c)(),Je=(0,I.c)();if(Ue.addElement(be).duration((null!==($e=Pe.duration)&&void 0!==$e?$e:0)||540).easing(Pe.easing||he).fill("both").beforeRemoveClass("ion-page-invisible"),ke&&null!=H){const O=(0,I.c)();O.addElement(H),Ue.addAnimation(O)}if(Oe||0!==ne.length||0!==xe.length?(Je.addElement(Oe),Je.addElement(xe)):Je.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(Je),Qe?Je.beforeClearStyles([Z]).fromTo("transform",`translateX(${ce})`,`translateX(${fe})`).fromTo(Z,.8,1):Je.beforeClearStyles([Z]).fromTo("transform",`translateX(${st})`,`translateX(${fe})`),Oe){const O=L(Oe).querySelector(".transition-effect");if(O){const ge=O.querySelector(".transition-cover"),nt=O.querySelector(".transition-shadow"),rt=(0,I.c)(),je=(0,I.c)(),q=(0,I.c)();rt.addElement(O).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),je.addElement(ge).beforeClearStyles([Z]).fromTo(Z,0,.1),q.addElement(nt).beforeClearStyles([Z]).fromTo(Z,.03,.7),rt.addAnimation([je,q]),Je.addAnimation([rt])}}const yt=be.querySelector("ion-header.header-collapse-condense"),{forward:un,backward:Ze}=((H,Pe,$e,he,Z)=>{const Y=ue(he,$e),fe=V(Z),Fe=V(he),de=ue(Z,$e),st=null!==Y&&null!==fe&&!$e,ce=null!==Fe&&null!==de&&$e;if(st){const be=fe.getBoundingClientRect(),ke=Y.getBoundingClientRect();B(H,Pe,$e,fe,be,ke),se(H,Pe,$e,Y,be,ke)}else if(ce){const be=Fe.getBoundingClientRect(),ke=de.getBoundingClientRect();B(H,Pe,$e,Fe,be,ke),se(H,Pe,$e,de,be,ke)}return{forward:st,backward:ce}})(Ue,de,Qe,be,ke);if(ne.forEach(O=>{const ge=(0,I.c)();ge.addElement(O),Ue.addAnimation(ge);const nt=(0,I.c)();nt.addElement(O.querySelector("ion-title"));const rt=(0,I.c)(),je=Array.from(O.querySelectorAll("ion-buttons,[menuToggle]")),q=O.closest("ion-header"),ye=q?.classList.contains("header-collapse-condense-inactive");let ft;ft=je.filter(Qe?tn=>{const U=tn.classList.contains("buttons-collapse");return U&&!ye||!U}:tn=>!tn.classList.contains("buttons-collapse")),rt.addElement(ft);const Ae=(0,I.c)();Ae.addElement(O.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Tt=(0,I.c)();Tt.addElement(L(O).querySelector(".toolbar-background"));const on=(0,I.c)(),Kt=O.querySelector("ion-back-button");if(Kt&&on.addElement(Kt),ge.addAnimation([nt,rt,Ae,Tt,on]),rt.fromTo(Z,.01,1),Ae.fromTo(Z,.01,1),Qe)ye||nt.fromTo("transform",`translateX(${ce})`,`translateX(${fe})`).fromTo(Z,.01,1),Ae.fromTo("transform",`translateX(${ce})`,`translateX(${fe})`),on.fromTo(Z,.01,1);else if(yt||nt.fromTo("transform",`translateX(${st})`,`translateX(${fe})`).fromTo(Z,.01,1),Ae.fromTo("transform",`translateX(${st})`,`translateX(${fe})`),Tt.beforeClearStyles([Z,"transform"]),q?.translucent?Tt.fromTo("transform",de?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Tt.fromTo(Z,.01,"var(--opacity)"),un||on.fromTo(Z,.01,1),Kt&&!un){const U=(0,I.c)();U.addElement(L(Kt).querySelector(".button-text")).fromTo("transform",de?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ge.addAnimation(U)}}),ke){const O=(0,I.c)(),ge=ke.querySelector(":scope > ion-content"),nt=ke.querySelectorAll(":scope > ion-header > ion-toolbar"),rt=ke.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ge||0!==nt.length||0!==rt.length?(O.addElement(ge),O.addElement(rt)):O.addElement(ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(O),Qe){O.beforeClearStyles([Z]).fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)");const je=(0,l.g)(ke);Ue.afterAddWrite(()=>{"normal"===Ue.getDirection()&&je.style.setProperty("display","none")})}else O.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).fromTo(Z,1,.8);if(ge){const je=L(ge).querySelector(".transition-effect");if(je){const q=je.querySelector(".transition-cover"),ye=je.querySelector(".transition-shadow"),ft=(0,I.c)(),Ae=(0,I.c)(),Tt=(0,I.c)();ft.addElement(je).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ae.addElement(q).beforeClearStyles([Z]).fromTo(Z,.1,0),Tt.addElement(ye).beforeClearStyles([Z]).fromTo(Z,.7,.03),ft.addAnimation([Ae,Tt]),O.addAnimation([ft])}}nt.forEach(je=>{const q=(0,I.c)();q.addElement(je);const ye=(0,I.c)();ye.addElement(je.querySelector("ion-title"));const ft=(0,I.c)(),Ae=je.querySelectorAll("ion-buttons,[menuToggle]"),Tt=je.closest("ion-header"),on=Tt?.classList.contains("header-collapse-condense-inactive"),Kt=Array.from(Ae).filter(Wo=>{const to=Wo.classList.contains("buttons-collapse");return to&&!on||!to});ft.addElement(Kt);const tn=(0,I.c)(),U=je.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");U.length>0&&tn.addElement(U);const Cn=(0,I.c)();Cn.addElement(L(je).querySelector(".toolbar-background"));const _r=(0,I.c)(),Qn=je.querySelector("ion-back-button");if(Qn&&_r.addElement(Qn),q.addAnimation([ye,ft,tn,_r,Cn]),Ue.addAnimation(q),_r.fromTo(Z,.99,0),ft.fromTo(Z,.99,0),tn.fromTo(Z,.99,0),Qe){if(on||ye.fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)").fromTo(Z,.99,0),tn.fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)"),Cn.beforeClearStyles([Z,"transform"]),Tt?.translucent?Cn.fromTo("transform","translateX(0px)",de?"translateX(-100%)":"translateX(100%)"):Cn.fromTo(Z,"var(--opacity)",0),Qn&&!Ze){const to=(0,I.c)();to.addElement(L(Qn).querySelector(".button-text")).fromTo("transform",`translateX(${fe})`,`translateX(${(de?-124:124)+"px"})`),q.addAnimation(to)}}else on||ye.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).fromTo(Z,.99,0).afterClearStyles([Y,Z]),tn.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).afterClearStyles([Y,Z]),_r.afterClearStyles([Z]),ye.afterClearStyles([Z]),ft.afterClearStyles([Z])})}return Ue}catch(he){throw he}}},4199:(Be,We,A)=>{"use strict";A.r(We),A.d(We,{mdTransitionAnimation:()=>G});var I=A(5933),l=A(919);A(2286),A(1559);const G=(Q,L)=>{var V,ue,X;const $="back"===L.direction,Pe=L.leavingEl,$e=(0,l.g)(L.enteringEl),he=$e.querySelector("ion-toolbar"),Z=(0,I.c)();if(Z.addElement($e).fill("both").beforeRemoveClass("ion-page-invisible"),$?Z.duration((null!==(V=L.duration)&&void 0!==V?V:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Z.duration((null!==(ue=L.duration)&&void 0!==ue?ue:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),he){const Y=(0,I.c)();Y.addElement(he),Z.addAnimation(Y)}if(Pe&&$){Z.duration((null!==(X=L.duration)&&void 0!==X?X:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Y=(0,I.c)();Y.addElement((0,l.g)(Pe)).onFinish(fe=>{1===fe&&Y.elements.length>0&&Y.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Z.addAnimation(Y)}return Z}},7580:(Be,We,A)=>{"use strict";A.d(We,{B:()=>ge,G:()=>nt,a:()=>V,b:()=>ue,c:()=>$,d:()=>Qe,e:()=>Pe,f:()=>xe,g:()=>Je,h:()=>Q,i:()=>un,j:()=>Z,k:()=>be,l:()=>X,m:()=>se,s:()=>O});var I=A(3918),l=A(5823),re=A(159),te=A(9259);let G=0;const Q=new WeakMap,L=rt=>({create:je=>$e(rt,je),dismiss:(je,q,ye)=>st(document,je,q,rt,ye),getTop:()=>(0,I.Z)(function*(){return be(document,rt)})()}),V=L("ion-alert"),ue=L("ion-action-sheet"),X=L("ion-loading"),se=L("ion-modal"),$=L("ion-popover"),Pe=rt=>{typeof document<"u"&&de(document);const je=G++;rt.overlayIndex=je,rt.hasAttribute("id")||(rt.id=`ion-overlay-${je}`)},$e=(rt,je)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(rt).then(()=>{const q=document.createElement(rt);return q.classList.add("overlay-hidden"),Object.assign(q,Object.assign(Object.assign({},je),{hasController:!0})),ne(document).appendChild(q),new Promise(ye=>(0,te.c)(q,ye))}):Promise.resolve(),he='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Z=(rt,je)=>{let q=rt.querySelector(he);const ye=q?.shadowRoot;ye&&(q=ye.querySelector(he)||q),q?(0,te.f)(q):je.focus()},fe=(rt,je)=>{const q=Array.from(rt.querySelectorAll(he));let ye=q.length>0?q[q.length-1]:null;const ft=ye?.shadowRoot;ft&&(ye=ft.querySelector(he)||ye),ye?ye.focus():je.focus()},de=rt=>{0===G&&(G=1,rt.addEventListener("focus",je=>{((rt,je)=>{const q=be(je,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ye=rt.target;q&&ye&&!q.classList.contains("ion-disable-focus-trap")&&(q.shadowRoot?(()=>{if(q.contains(ye))q.lastFocus=ye;else{const Tt=q.lastFocus;Z(q,q),Tt===je.activeElement&&fe(q,q),q.lastFocus=je.activeElement}})():(()=>{if(q===ye)q.lastFocus=void 0;else{const Tt=(0,te.g)(q);if(!Tt.contains(ye))return;const on=Tt.querySelector(".ion-overlay-wrapper");if(!on)return;if(on.contains(ye))q.lastFocus=ye;else{const Kt=q.lastFocus;Z(on,q),Kt===je.activeElement&&fe(on,q),q.lastFocus=je.activeElement}}})())})(je,rt)},!0),rt.addEventListener("ionBackButton",je=>{const q=be(rt);q?.backdropDismiss&&je.detail.register(re.OVERLAY_BACK_BUTTON_PRIORITY,()=>q.dismiss(void 0,ge))}),rt.addEventListener("keyup",je=>{if("Escape"===je.key){const q=be(rt);q?.backdropDismiss&&q.dismiss(void 0,ge)}}))},st=(rt,je,q,ye,ft)=>{const Ae=be(rt,ye,ft);return Ae?Ae.dismiss(je,q):Promise.reject("overlay does not exist")},be=(rt,je,q)=>{const ye=((rt,je)=>(void 0===je&&(je="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(rt.querySelectorAll(je)).filter(q=>q.overlayIndex>0)))(rt,je).filter(ft=>!(rt=>rt.classList.contains("overlay-hidden"))(ft));return void 0===q?ye[ye.length-1]:ye.find(ft=>ft.id===q)},ke=(rt=!1)=>{const q=ne(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");q&&(rt?q.setAttribute("aria-hidden","true"):q.removeAttribute("aria-hidden"))},Qe=function(){var rt=(0,I.Z)(function*(je,q,ye,ft,Ae){var Tt,on;if(je.presented)return;ke(!0),je.presented=!0,je.willPresent.emit(),null===(Tt=je.willPresentShorthand)||void 0===Tt||Tt.emit();const Kt=(0,l.b)(je),tn=je.enterAnimation?je.enterAnimation:l.c.get(q,"ios"===Kt?ye:ft);(yield Ue(je,tn,je.el,Ae))&&(je.didPresent.emit(),null===(on=je.didPresentShorthand)||void 0===on||on.emit()),"ION-TOAST"!==je.el.tagName&&Oe(je.el),je.keyboardClose&&(null===document.activeElement||!je.el.contains(document.activeElement))&&je.el.focus()});return function(q,ye,ft,Ae,Tt){return rt.apply(this,arguments)}}(),Oe=function(){var rt=(0,I.Z)(function*(je){let q=document.activeElement;if(!q)return;const ye=q?.shadowRoot;ye&&(q=ye.querySelector(he)||q),yield je.onDidDismiss(),q.focus()});return function(q){return rt.apply(this,arguments)}}(),xe=function(){var rt=(0,I.Z)(function*(je,q,ye,ft,Ae,Tt,on){var Kt,tn;if(!je.presented)return!1;ke(!1),je.presented=!1;try{je.el.style.setProperty("pointer-events","none"),je.willDismiss.emit({data:q,role:ye}),null===(Kt=je.willDismissShorthand)||void 0===Kt||Kt.emit({data:q,role:ye});const U=(0,l.b)(je),Cn=je.leaveAnimation?je.leaveAnimation:l.c.get(ft,"ios"===U?Ae:Tt);ye!==nt&&(yield Ue(je,Cn,je.el,on)),je.didDismiss.emit({data:q,role:ye}),null===(tn=je.didDismissShorthand)||void 0===tn||tn.emit({data:q,role:ye}),Q.delete(je),je.el.classList.add("overlay-hidden"),je.el.style.removeProperty("pointer-events")}catch(U){console.error(U)}return je.el.remove(),!0});return function(q,ye,ft,Ae,Tt,on,Kt){return rt.apply(this,arguments)}}(),ne=rt=>rt.querySelector("ion-app")||rt.body,Ue=function(){var rt=(0,I.Z)(function*(je,q,ye,ft){ye.classList.remove("overlay-hidden");const Tt=q(je.el,ft);(!je.animated||!l.c.getBoolean("animated",!0))&&Tt.duration(0),je.keyboardClose&&Tt.beforeAddWrite(()=>{const Kt=ye.ownerDocument.activeElement;Kt?.matches("input,ion-input, ion-textarea")&&Kt.blur()});const on=Q.get(je)||[];return Q.set(je,[...on,Tt]),yield Tt.play(),!0});return function(q,ye,ft,Ae){return rt.apply(this,arguments)}}(),Je=(rt,je)=>{let q;const ye=new Promise(ft=>q=ft);return yt(rt,je,ft=>{q(ft.detail)}),ye},yt=(rt,je,q)=>{const ye=ft=>{(0,te.b)(rt,je,ye),q(ft)};(0,te.a)(rt,je,ye)},un=rt=>"cancel"===rt||rt===ge,Ze=rt=>rt(),O=(rt,je)=>{if("function"==typeof rt)return l.c.get("_zoneGate",Ze)(()=>{try{return rt(je)}catch(ye){throw ye}})},ge="backdrop",nt="gesture"},4263:(Be,We,A)=>{"use strict";var I=A(9903),l=A(3855),re=l(I("String.prototype.indexOf"));Be.exports=function(G,Q){var L=I(G,!!Q);return"function"==typeof L&&re(G,".prototype.")>-1?l(L):L}},3855:(Be,We,A)=>{"use strict";var I=A(224),l=A(9903),re=l("%Function.prototype.apply%"),te=l("%Function.prototype.call%"),G=l("%Reflect.apply%",!0)||I.call(te,re),Q=l("%Object.getOwnPropertyDescriptor%",!0),L=l("%Object.defineProperty%",!0),V=l("%Math.max%");if(L)try{L({},"a",{value:1})}catch{L=null}Be.exports=function(se){var B=G(I,te,arguments);if(Q&&L){var $=Q(B,"length");$.configurable&&L(B,"length",{value:1+V(0,se.length-(arguments.length-1))})}return B};var ue=function(){return G(I,re,arguments)};L?L(Be.exports,"apply",{value:ue}):Be.exports.apply=ue},5107:Be=>{var We={utf8:{stringToBytes:function(A){return We.bin.stringToBytes(unescape(encodeURIComponent(A)))},bytesToString:function(A){return decodeURIComponent(escape(We.bin.bytesToString(A)))}},bin:{stringToBytes:function(A){for(var I=[],l=0;l<A.length;l++)I.push(255&A.charCodeAt(l));return I},bytesToString:function(A){for(var I=[],l=0;l<A.length;l++)I.push(String.fromCharCode(A[l]));return I.join("")}}};Be.exports=We},7175:Be=>{var We,A;We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be.exports=A={rotl:function(I,l){return I<<l|I>>>32-l},rotr:function(I,l){return I<<32-l|I>>>l},endian:function(I){if(I.constructor==Number)return 16711935&A.rotl(I,8)|4278255360&A.rotl(I,24);for(var l=0;l<I.length;l++)I[l]=A.endian(I[l]);return I},randomBytes:function(I){for(var l=[];I>0;I--)l.push(Math.floor(256*Math.random()));return l},bytesToWords:function(I){for(var l=[],re=0,te=0;re<I.length;re++,te+=8)l[te>>>5]|=I[re]<<24-te%32;return l},wordsToBytes:function(I){for(var l=[],re=0;re<32*I.length;re+=8)l.push(I[re>>>5]>>>24-re%32&255);return l},bytesToHex:function(I){for(var l=[],re=0;re<I.length;re++)l.push((I[re]>>>4).toString(16)),l.push((15&I[re]).toString(16));return l.join("")},hexToBytes:function(I){for(var l=[],re=0;re<I.length;re+=2)l.push(parseInt(I.substr(re,2),16));return l},bytesToBase64:function(I){for(var l=[],re=0;re<I.length;re+=3)for(var te=I[re]<<16|I[re+1]<<8|I[re+2],G=0;G<4;G++)l.push(8*re+6*G<=8*I.length?We.charAt(te>>>6*(3-G)&63):"=");return l.join("")},base64ToBytes:function(I){I=I.replace(/[^A-Z0-9+\/]/gi,"");for(var l=[],re=0,te=0;re<I.length;te=++re%4)0!=te&&l.push((We.indexOf(I.charAt(re-1))&Math.pow(2,-2*te+8)-1)<<2*te|We.indexOf(I.charAt(re))>>>6-2*te);return l}}},5541:(Be,We,A)=>{"use strict";var I=A(6189),l=A(4263),re=A(8704),te=A(9903),G=A(2069),Q=A(8432),L=A(5734),V=A(9102),ue=A(8266),X=A(2805),se=A(4666),B=A(6687),$=A(3163),H=A(2093),Pe=A(2086),$e=A(2107),he=A(5709),Z=l("ArrayBuffer.prototype.byteLength",!0)||function(ye){return ye.byteLength},Y=l("SharedArrayBuffer.prototype.byteLength",!0),fe=l("Date.prototype.getTime"),Fe=Object.getPrototypeOf,de=l("Object.prototype.toString"),st=te("%Set%",!0),ce=l("Map.prototype.has",!0),be=l("Map.prototype.get",!0),ke=l("Map.prototype.size",!0),Qe=l("Set.prototype.add",!0),Oe=l("Set.prototype.delete",!0),xe=l("Set.prototype.has",!0),ne=l("Set.prototype.size",!0);function Ue(q,ye,ft,Ae){for(var on,Tt=G(q);(on=Tt.next())&&!on.done;)if(O(ye,on.value,ft,Ae))return Oe(q,on.value),!0;return!1}function Je(q){return typeof q>"u"?null:"object"!=typeof q?"symbol"!=typeof q&&("string"!=typeof q&&"number"!=typeof q||+q==+q):void 0}function yt(q,ye,ft,Ae,Tt,on){var Kt=Je(ft);if(null!=Kt)return Kt;var tn=be(ye,Kt),U=I({},Tt,{strict:!1});return!(typeof tn>"u"&&!ce(ye,Kt)||!O(Ae,tn,U,on))&&!ce(q,Kt)&&O(Ae,tn,U,on)}function un(q,ye,ft){var Ae=Je(ft);return Ae??(xe(ye,Ae)&&!xe(q,Ae))}function Ze(q,ye,ft,Ae,Tt,on){for(var tn,U,Kt=G(q);(tn=Kt.next())&&!tn.done;)if(O(ft,U=tn.value,Tt,on)&&O(Ae,be(ye,U),Tt,on))return Oe(q,U),!0;return!1}function O(q,ye,ft,Ae){var Tt=ft||{};if(Tt.strict?L(q,ye):q===ye)return!0;if(Pe(q)!==Pe(ye))return!1;if(!q||!ye||"object"!=typeof q&&"object"!=typeof ye)return Tt.strict?L(q,ye):q==ye;var Cn,tn=Ae.has(q),U=Ae.has(ye);if(tn&&U){if(Ae.get(q)===Ae.get(ye))return!0}else Cn={};return tn||Ae.set(q,Cn),U||Ae.set(ye,Cn),function je(q,ye,ft,Ae){var Tt,on;if(typeof q!=typeof ye||null==q||null==ye||de(q)!==de(ye)||V(q)!==V(ye))return!1;if(ue(q)!==ue(ye))return!1;var U=q instanceof Error,Cn=ye instanceof Error;if(U!==Cn||(U||Cn)&&(q.name!==ye.name||q.message!==ye.message))return!1;var _r=B(q),Qn=B(ye);if(_r!==Qn||(_r||Qn)&&(q.source!==ye.source||re(q)!==re(ye)))return!1;var Wo=se(q),to=se(ye);if(Wo!==to||(Wo||to)&&fe(q)!==fe(ye)||ft.strict&&Fe&&Fe(q)!==Fe(ye))return!1;var ki=he(q),Pn=he(ye);if((ki||Pn)&&ki!==Pn)return!1;var bo=ge(q),jn=ge(ye);if(bo!==jn)return!1;if(bo||jn){if(q.length!==ye.length)return!1;for(Tt=0;Tt<q.length;Tt++)if(q[Tt]!==ye[Tt])return!1;return!0}var Mi=X(q),Xr=X(ye);if(Mi!==Xr)return!1;if(Mi||Xr)return Z(q)===Z(ye)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(ye),ft,Ae);var Vr=$(q),lr=$(ye);if(Vr!==lr)return!1;if(Vr||lr)return Y(q)===Y(ye)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(ye),ft,Ae);if(typeof q!=typeof ye)return!1;var Gr=H(q),lo=H(ye);if(Gr.length!==lo.length)return!1;for(Gr.sort(),lo.sort(),Tt=Gr.length-1;Tt>=0;Tt--)if(Gr[Tt]!=lo[Tt])return!1;for(Tt=Gr.length-1;Tt>=0;Tt--)if(!O(q[on=Gr[Tt]],ye[on],ft,Ae))return!1;var hn=$e(q),no=$e(ye);return hn===no&&("Set"===hn||"Set"===no?function nt(q,ye,ft,Ae){if(ne(q)!==ne(ye))return!1;for(var Kt,tn,U,Tt=G(q),on=G(ye);(Kt=Tt.next())&&!Kt.done;)if(Kt.value&&"object"==typeof Kt.value)U||(U=new st),Qe(U,Kt.value);else if(!xe(ye,Kt.value)){if(ft.strict||!un(q,ye,Kt.value))return!1;U||(U=new st),Qe(U,Kt.value)}if(U){for(;(tn=on.next())&&!tn.done;)if(tn.value&&"object"==typeof tn.value){if(!Ue(U,tn.value,ft.strict,Ae))return!1}else if(!ft.strict&&!xe(q,tn.value)&&!Ue(U,tn.value,ft.strict,Ae))return!1;return 0===ne(U)}return!0}(q,ye,ft,Ae):"Map"!==hn||function rt(q,ye,ft,Ae){if(ke(q)!==ke(ye))return!1;for(var Kt,tn,U,Cn,_r,Qn,Tt=G(q),on=G(ye);(Kt=Tt.next())&&!Kt.done;)if(_r=Kt.value[1],(Cn=Kt.value[0])&&"object"==typeof Cn)U||(U=new st),Qe(U,Cn);else if(typeof(Qn=be(ye,Cn))>"u"&&!ce(ye,Cn)||!O(_r,Qn,ft,Ae)){if(ft.strict||!yt(q,ye,Cn,_r,ft,Ae))return!1;U||(U=new st),Qe(U,Cn)}if(U){for(;(tn=on.next())&&!tn.done;)if(Qn=tn.value[1],(Cn=tn.value[0])&&"object"==typeof Cn){if(!Ze(U,q,Cn,Qn,ft,Ae))return!1}else if(!(ft.strict||q.has(Cn)&&O(be(q,Cn),Qn,ft,Ae)||Ze(U,q,Cn,Qn,I({},ft,{strict:!1}),Ae)))return!1;return 0===ne(U)}return!0}(q,ye,ft,Ae))}(q,ye,Tt,Ae)}function ge(q){return!(!q||"object"!=typeof q||"number"!=typeof q.length||"function"!=typeof q.copy||"function"!=typeof q.slice||q.length>0&&"number"!=typeof q[0]||!(q.constructor&&q.constructor.isBuffer&&q.constructor.isBuffer(q)))}Be.exports=function(ye,ft,Ae){return O(ye,ft,Ae,Q())}},1790:(Be,We,A)=>{"use strict";var I=A(2093),l="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),re=Object.prototype.toString,te=Array.prototype.concat,G=Object.defineProperty,L=A(9006)(),V=G&&L,ue=function(se,B,$,H){B in se&&(!function(se){return"function"==typeof se&&"[object Function]"===re.call(se)}(H)||!H())||(V?G(se,B,{configurable:!0,enumerable:!1,value:$,writable:!0}):se[B]=$)},X=function(se,B){var $=arguments.length>2?arguments[2]:{},H=I(B);l&&(H=te.call(H,Object.getOwnPropertySymbols(B)));for(var Pe=0;Pe<H.length;Pe+=1)ue(se,H[Pe],B[H[Pe]],$[H[Pe]])};X.supportsDescriptors=!!V,Be.exports=X},9897:function(Be,We){!function(A){"use strict";var B,re=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,te=536870912,G=2*te,L=new WeakMap,ue=function(B,$){return function(H){var Pe=$.get(H),$e=void 0===Pe?H.size:Pe<G?Pe+1:0;if(!H.has($e))return B(H,$e);if(H.size<te){for(;H.has($e);)$e=Math.floor(Math.random()*G);return B(H,$e)}if(H.size>re)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;H.has($e);)$e=Math.floor(Math.random()*re);return B(H,$e)}}((B=L,function($,H){return B.set($,H),H}),L),X=function(B){return function($){var H=B($);return $.add(H),H}}(ue);A.addUniqueNumber=X,A.generateUniqueNumber=ue}(We)},3037:(Be,We,A)=>{"use strict";var I=A(8642),l=Object.prototype.toString,re=Object.prototype.hasOwnProperty,te=function(ue,X,se){for(var B=0,$=ue.length;B<$;B++)re.call(ue,B)&&(null==se?X(ue[B],B,ue):X.call(se,ue[B],B,ue))},G=function(ue,X,se){for(var B=0,$=ue.length;B<$;B++)null==se?X(ue.charAt(B),B,ue):X.call(se,ue.charAt(B),B,ue)},Q=function(ue,X,se){for(var B in ue)re.call(ue,B)&&(null==se?X(ue[B],B,ue):X.call(se,ue[B],B,ue))};Be.exports=function(ue,X,se){if(!I(X))throw new TypeError("iterator must be a function");var B;arguments.length>=3&&(B=se),"[object Array]"===l.call(ue)?te(ue,X,B):"string"==typeof ue?G(ue,X,B):Q(ue,X,B)}},2199:Be=>{"use strict";var We="Function.prototype.bind called on incompatible ",A=Array.prototype.slice,I=Object.prototype.toString,l="[object Function]";Be.exports=function(te){var G=this;if("function"!=typeof G||I.call(G)!==l)throw new TypeError(We+G);for(var L,Q=A.call(arguments,1),V=function(){if(this instanceof L){var $=G.apply(this,Q.concat(A.call(arguments)));return Object($)===$?$:this}return G.apply(te,Q.concat(A.call(arguments)))},ue=Math.max(0,G.length-Q.length),X=[],se=0;se<ue;se++)X.push("$"+se);if(L=Function("binder","return function ("+X.join(",")+"){ return binder.apply(this,arguments); }")(V),G.prototype){var B=function(){};B.prototype=G.prototype,L.prototype=new B,B.prototype=null}return L}},224:(Be,We,A)=>{"use strict";var I=A(2199);Be.exports=Function.prototype.bind||I},3677:Be=>{"use strict";var We=function(){return"string"==typeof function(){}.name},A=Object.getOwnPropertyDescriptor;if(A)try{A([],"length")}catch{A=null}We.functionsHaveConfigurableNames=function(){if(!We()||!A)return!1;var re=A(function(){},"name");return!!re&&!!re.configurable};var I=Function.prototype.bind;We.boundFunctionsHaveNames=function(){return We()&&"function"==typeof I&&""!==function(){}.bind().name},Be.exports=We},9903:(Be,We,A)=>{"use strict";var I,l=SyntaxError,re=Function,te=TypeError,G=function(Oe){try{return re('"use strict"; return ('+Oe+").constructor;")()}catch{}},Q=Object.getOwnPropertyDescriptor;if(Q)try{Q({},"")}catch{Q=null}var L=function(){throw new te},V=Q?function(){try{return L}catch{try{return Q(arguments,"callee").get}catch{return L}}}():L,ue=A(524)(),X=Object.getPrototypeOf||function(Oe){return Oe.__proto__},se={},B=typeof Uint8Array>"u"?I:X(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?I:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?I:ArrayBuffer,"%ArrayIteratorPrototype%":ue?X([][Symbol.iterator]()):I,"%AsyncFromSyncIteratorPrototype%":I,"%AsyncFunction%":se,"%AsyncGenerator%":se,"%AsyncGeneratorFunction%":se,"%AsyncIteratorPrototype%":se,"%Atomics%":typeof Atomics>"u"?I:Atomics,"%BigInt%":typeof BigInt>"u"?I:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?I:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?I:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?I:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?I:Float32Array,"%Float64Array%":typeof Float64Array>"u"?I:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?I:FinalizationRegistry,"%Function%":re,"%GeneratorFunction%":se,"%Int8Array%":typeof Int8Array>"u"?I:Int8Array,"%Int16Array%":typeof Int16Array>"u"?I:Int16Array,"%Int32Array%":typeof Int32Array>"u"?I:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ue?X(X([][Symbol.iterator]())):I,"%JSON%":"object"==typeof JSON?JSON:I,"%Map%":typeof Map>"u"?I:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ue?I:X((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?I:Promise,"%Proxy%":typeof Proxy>"u"?I:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?I:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?I:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ue?I:X((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?I:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ue?X(""[Symbol.iterator]()):I,"%Symbol%":ue?Symbol:I,"%SyntaxError%":l,"%ThrowTypeError%":V,"%TypedArray%":B,"%TypeError%":te,"%Uint8Array%":typeof Uint8Array>"u"?I:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?I:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?I:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?I:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?I:WeakMap,"%WeakRef%":typeof WeakRef>"u"?I:WeakRef,"%WeakSet%":typeof WeakSet>"u"?I:WeakSet};try{null.error}catch(Oe){var H=X(X(Oe));$["%Error.prototype%"]=H}var Pe=function Oe(xe){var ne;if("%AsyncFunction%"===xe)ne=G("async function () {}");else if("%GeneratorFunction%"===xe)ne=G("function* () {}");else if("%AsyncGeneratorFunction%"===xe)ne=G("async function* () {}");else if("%AsyncGenerator%"===xe){var Ue=Oe("%AsyncGeneratorFunction%");Ue&&(ne=Ue.prototype)}else if("%AsyncIteratorPrototype%"===xe){var Je=Oe("%AsyncGenerator%");Je&&(ne=X(Je.prototype))}return $[xe]=ne,ne},$e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=A(224),Z=A(4031),Y=he.call(Function.call,Array.prototype.concat),fe=he.call(Function.apply,Array.prototype.splice),Fe=he.call(Function.call,String.prototype.replace),de=he.call(Function.call,String.prototype.slice),st=he.call(Function.call,RegExp.prototype.exec),ce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,be=/\\(\\)?/g,ke=function(xe){var ne=de(xe,0,1),Ue=de(xe,-1);if("%"===ne&&"%"!==Ue)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===Ue&&"%"!==ne)throw new l("invalid intrinsic syntax, expected opening `%`");var Je=[];return Fe(xe,ce,function(yt,un,Ze,O){Je[Je.length]=Ze?Fe(O,be,"$1"):un||yt}),Je},Qe=function(xe,ne){var Je,Ue=xe;if(Z($e,Ue)&&(Ue="%"+(Je=$e[Ue])[0]+"%"),Z($,Ue)){var yt=$[Ue];if(yt===se&&(yt=Pe(Ue)),typeof yt>"u"&&!ne)throw new te("intrinsic "+xe+" exists, but is not available. Please file an issue!");return{alias:Je,name:Ue,value:yt}}throw new l("intrinsic "+xe+" does not exist!")};Be.exports=function(xe,ne){if("string"!=typeof xe||0===xe.length)throw new te("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ne)throw new te('"allowMissing" argument must be a boolean');if(null===st(/^%?[^%]*%?$/,xe))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=ke(xe),Je=Ue.length>0?Ue[0]:"",yt=Qe("%"+Je+"%",ne),un=yt.name,Ze=yt.value,O=!1,ge=yt.alias;ge&&(Je=ge[0],fe(Ue,Y([0,1],ge)));for(var nt=1,rt=!0;nt<Ue.length;nt+=1){var je=Ue[nt],q=de(je,0,1),ye=de(je,-1);if(('"'===q||"'"===q||"`"===q||'"'===ye||"'"===ye||"`"===ye)&&q!==ye)throw new l("property names with quotes must have matching quotes");if(("constructor"===je||!rt)&&(O=!0),Z($,un="%"+(Je+="."+je)+"%"))Ze=$[un];else if(null!=Ze){if(!(je in Ze)){if(!ne)throw new te("base intrinsic for "+xe+" exists, but the property is not available.");return}if(Q&&nt+1>=Ue.length){var ft=Q(Ze,je);Ze=(rt=!!ft)&&"get"in ft&&!("originalValue"in ft.get)?ft.get:Ze[je]}else rt=Z(Ze,je),Ze=Ze[je];rt&&!O&&($[un]=Ze)}}return Ze}},253:(Be,We,A)=>{"use strict";var l=A(9903)("%Object.getOwnPropertyDescriptor%",!0);if(l)try{l([],"length")}catch{l=null}Be.exports=l},5861:Be=>{"use strict";var We=typeof BigInt<"u"&&BigInt;Be.exports=function(){return"function"==typeof We&&"function"==typeof BigInt&&"bigint"==typeof We(42)&&"bigint"==typeof BigInt(42)}},9006:(Be,We,A)=>{"use strict";var l=A(9903)("%Object.defineProperty%",!0),re=function(){if(l)try{return l({},"a",{value:1}),!0}catch{return!1}return!1};re.hasArrayLengthDefineBug=function(){if(!re())return null;try{return 1!==l([],"length",{value:1}).length}catch{return!0}},Be.exports=re},524:(Be,We,A)=>{"use strict";var I=typeof Symbol<"u"&&Symbol,l=A(6858);Be.exports=function(){return"function"==typeof I&&"function"==typeof Symbol&&"symbol"==typeof I("foo")&&"symbol"==typeof Symbol("bar")&&l()}},6858:Be=>{"use strict";Be.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var A={},I=Symbol("test"),l=Object(I);if("string"==typeof I||"[object Symbol]"!==Object.prototype.toString.call(I)||"[object Symbol]"!==Object.prototype.toString.call(l))return!1;for(I in A[I]=42,A)return!1;if("function"==typeof Object.keys&&0!==Object.keys(A).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(A).length)return!1;var te=Object.getOwnPropertySymbols(A);if(1!==te.length||te[0]!==I||!Object.prototype.propertyIsEnumerable.call(A,I))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var G=Object.getOwnPropertyDescriptor(A,I);if(42!==G.value||!0!==G.enumerable)return!1}return!0}},3261:(Be,We,A)=>{"use strict";var I=A(6858);Be.exports=function(){return I()&&!!Symbol.toStringTag}},4031:(Be,We,A)=>{"use strict";var I=A(224);Be.exports=I.call(Function.call,Object.prototype.hasOwnProperty)},5847:(Be,We,A)=>{"use strict";var I=A(9903),l=A(4031),re=A(8432)(),te=I("%TypeError%"),G={assert:function(Q,L){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");if(re.assert(Q),!G.has(Q,L))throw new te("`slot` is not present on `O`")},get:function(Q,L){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var V=re.get(Q);return V&&V["$"+L]},has:function(Q,L){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var V=re.get(Q);return!!V&&l(V,"$"+L)},set:function(Q,L,V){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var ue=re.get(Q);ue||re.set(Q,ue={}),ue["$"+L]=V}};Object.freeze&&Object.freeze(G),Be.exports=G},9102:(Be,We,A)=>{"use strict";var I=A(3261)(),re=A(4263)("Object.prototype.toString"),te=function(V){return!(I&&V&&"object"==typeof V&&Symbol.toStringTag in V)&&"[object Arguments]"===re(V)},G=function(V){return!!te(V)||null!==V&&"object"==typeof V&&"number"==typeof V.length&&V.length>=0&&"[object Array]"!==re(V)&&"[object Function]"===re(V.callee)},Q=function(){return te(arguments)}();te.isLegacyArguments=G,Be.exports=Q?te:G},2805:(Be,We,A)=>{"use strict";var I=A(3855),l=A(4263),re=A(9903),te=A(7673),G=re("ArrayBuffer",!0),Q=re("Float32Array",!0),L=l("ArrayBuffer.prototype.byteLength",!0),V=G&&!L&&(new G).slice,ue=V&&I(V);Be.exports=L||ue?function(se){if(!se||"object"!=typeof se)return!1;try{return L?L(se):ue(se,0),!0}catch{return!1}}:Q?function(se){try{return new Q(se).buffer===se&&!te(se)}catch{return!1}}:function(se){return!1}},3:(Be,We,A)=>{"use strict";if(A(5861)()){var l=BigInt.prototype.valueOf;Be.exports=function(G){return!(null===G||typeof G>"u"||"boolean"==typeof G||"string"==typeof G||"number"==typeof G||"symbol"==typeof G||"function"==typeof G)&&("bigint"==typeof G||function(G){try{return l.call(G),!0}catch{}return!1}(G))}}else Be.exports=function(G){return!1}},6180:(Be,We,A)=>{"use strict";var I=A(4263),l=I("Boolean.prototype.toString"),re=I("Object.prototype.toString"),Q=A(3261)();Be.exports=function(V){return"boolean"==typeof V||null!==V&&"object"==typeof V&&(Q&&Symbol.toStringTag in V?function(V){try{return l(V),!0}catch{return!1}}(V):"[object Boolean]"===re(V))}},5057:Be=>{function We(I){return!!I.constructor&&"function"==typeof I.constructor.isBuffer&&I.constructor.isBuffer(I)}Be.exports=function(I){return null!=I&&(We(I)||function A(I){return"function"==typeof I.readFloatLE&&"function"==typeof I.slice&&We(I.slice(0,0))}(I)||!!I._isBuffer)}},8642:Be=>{"use strict";var I,l,We=Function.prototype.toString,A="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof A&&"function"==typeof Object.defineProperty)try{I=Object.defineProperty({},"length",{get:function(){throw l}}),l={},A(function(){throw 42},null,I)}catch(he){he!==l&&(A=null)}else A=null;var re=/^\s*class\b/,te=function(Z){try{var Y=We.call(Z);return re.test(Y)}catch{return!1}},G=function(Z){try{return!te(Z)&&(We.call(Z),!0)}catch{return!1}},Q=Object.prototype.toString,$="function"==typeof Symbol&&!!Symbol.toStringTag,H=!(0 in[,]),Pe=function(){return!1};if("object"==typeof document){var $e=document.all;Q.call($e)===Q.call(document.all)&&(Pe=function(Z){if((H||!Z)&&(typeof Z>"u"||"object"==typeof Z))try{var Y=Q.call(Z);return("[object HTMLAllCollection]"===Y||"[object HTML document.all class]"===Y||"[object HTMLCollection]"===Y||"[object Object]"===Y)&&null==Z("")}catch{}return!1})}Be.exports=A?function(Z){if(Pe(Z))return!0;if(!Z||"function"!=typeof Z&&"object"!=typeof Z)return!1;try{A(Z,null,I)}catch(Y){if(Y!==l)return!1}return!te(Z)&&G(Z)}:function(Z){if(Pe(Z))return!0;if(!Z||"function"!=typeof Z&&"object"!=typeof Z)return!1;if($)return G(Z);if(te(Z))return!1;var Y=Q.call(Z);return!("[object Function]"!==Y&&"[object GeneratorFunction]"!==Y&&!/^\[object HTML/.test(Y))&&G(Z)}},4666:(Be,We,A)=>{"use strict";var I=Date.prototype.getDay,re=Object.prototype.toString,G=A(3261)();Be.exports=function(L){return"object"==typeof L&&null!==L&&(G?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Date]"===re.call(L))}},9898:Be=>{"use strict";var I,We="function"==typeof Map&&Map.prototype?Map:null,A="function"==typeof Set&&Set.prototype?Set:null;We||(I=function(G){return!1});var l=We?Map.prototype.has:null,re=A?Set.prototype.has:null;!I&&!l&&(I=function(G){return!1}),Be.exports=I||function(G){if(!G||"object"!=typeof G)return!1;try{if(l.call(G),re)try{re.call(G)}catch{return!0}return G instanceof We}catch{}return!1}},1046:(Be,We,A)=>{"use strict";var I=Number.prototype.toString,re=Object.prototype.toString,G=A(3261)();Be.exports=function(L){return"number"==typeof L||"object"==typeof L&&(G?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Number]"===re.call(L))}},6687:(Be,We,A)=>{"use strict";var re,te,G,Q,I=A(4263),l=A(3261)();if(l){re=I("Object.prototype.hasOwnProperty"),te=I("RegExp.prototype.exec"),G={};var L=function(){throw G};Q={toString:L,valueOf:L},"symbol"==typeof Symbol.toPrimitive&&(Q[Symbol.toPrimitive]=L)}var V=I("Object.prototype.toString"),ue=Object.getOwnPropertyDescriptor;Be.exports=l?function(B){if(!B||"object"!=typeof B)return!1;var $=ue(B,"lastIndex");if(!$||!re($,"value"))return!1;try{te(B,Q)}catch(Pe){return Pe===G}}:function(B){return!(!B||"object"!=typeof B&&"function"!=typeof B)&&"[object RegExp]"===V(B)}},3870:Be=>{"use strict";var I,We="function"==typeof Map&&Map.prototype?Map:null,A="function"==typeof Set&&Set.prototype?Set:null;A||(I=function(G){return!1});var l=We?Map.prototype.has:null,re=A?Set.prototype.has:null;!I&&!re&&(I=function(G){return!1}),Be.exports=I||function(G){if(!G||"object"!=typeof G)return!1;try{if(re.call(G),l)try{l.call(G)}catch{return!0}return G instanceof A}catch{}return!1}},3163:(Be,We,A)=>{"use strict";var l=A(4263)("SharedArrayBuffer.prototype.byteLength",!0);Be.exports=l?function(te){if(!te||"object"!=typeof te)return!1;try{return l(te),!0}catch{return!1}}:function(te){return!1}},4764:(Be,We,A)=>{"use strict";var I=String.prototype.valueOf,re=Object.prototype.toString,G=A(3261)();Be.exports=function(L){return"string"==typeof L||"object"==typeof L&&(G?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object String]"===re.call(L))}},6434:(Be,We,A)=>{"use strict";var I=Object.prototype.toString;if(A(524)()){var re=Symbol.prototype.toString,te=/^Symbol\(.*\)$/;Be.exports=function(L){if("symbol"==typeof L)return!0;if("[object Symbol]"!==I.call(L))return!1;try{return function(L){return"symbol"==typeof L.valueOf()&&te.test(re.call(L))}(L)}catch{return!1}}}else Be.exports=function(L){return!1}},7673:(Be,We,A)=>{"use strict";var I=A(3037),l=A(5271),re=A(4263),te=re("Object.prototype.toString"),G=A(3261)(),Q=A(253),L=typeof globalThis>"u"?global:globalThis,V=l(),ue=re("Array.prototype.indexOf",!0)||function(Pe,$e){for(var he=0;he<Pe.length;he+=1)if(Pe[he]===$e)return he;return-1},X=re("String.prototype.slice"),se={},B=Object.getPrototypeOf;G&&Q&&B&&I(V,function(H){var Pe=new L[H];if(Symbol.toStringTag in Pe){var $e=B(Pe),he=Q($e,Symbol.toStringTag);if(!he){var Z=B($e);he=Q(Z,Symbol.toStringTag)}se[H]=he.get}}),Be.exports=function(Pe){if(!Pe||"object"!=typeof Pe)return!1;if(!G||!(Symbol.toStringTag in Pe)){var $e=X(te(Pe),8,-1);return ue(V,$e)>-1}return!!Q&&function(Pe){var $e=!1;return I(se,function(he,Z){if(!$e)try{$e=he.call(Pe)===Z}catch{}}),$e}(Pe)}},5585:Be=>{"use strict";var I,We="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,A="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;We||(I=function(G){return!1});var l=We?We.prototype.has:null,re=A?A.prototype.has:null;!I&&!l&&(I=function(G){return!1}),Be.exports=I||function(G){if(!G||"object"!=typeof G)return!1;try{if(l.call(G,l),re)try{re.call(G,re)}catch{return!0}return G instanceof We}catch{}return!1}},1902:(Be,We,A)=>{"use strict";var I=A(9903),l=A(4263),re=I("%WeakSet%",!0),te=l("WeakSet.prototype.has",!0);if(te){var G=l("WeakMap.prototype.has",!0);Be.exports=function(L){if(!L||"object"!=typeof L)return!1;try{if(te(L,te),G)try{G(L,G)}catch{return!0}return L instanceof re}catch{}return!1}}else Be.exports=function(L){return!1}},8266:Be=>{var We={}.toString;Be.exports=Array.isArray||function(A){return"[object Array]"==We.call(A)}},5023:(Be,We,A)=>{var I,l,re,te,G;I=A(7175),l=A(5107).utf8,re=A(5057),te=A(5107).bin,(G=function(Q,L){Q.constructor==String?Q=L&&"binary"===L.encoding?te.stringToBytes(Q):l.stringToBytes(Q):re(Q)?Q=Array.prototype.slice.call(Q,0):!Array.isArray(Q)&&Q.constructor!==Uint8Array&&(Q=Q.toString());for(var V=I.bytesToWords(Q),ue=8*Q.length,X=1732584193,se=-271733879,B=-1732584194,$=271733878,H=0;H<V.length;H++)V[H]=16711935&(V[H]<<8|V[H]>>>24)|4278255360&(V[H]<<24|V[H]>>>8);V[ue>>>5]|=128<<ue%32,V[14+(ue+64>>>9<<4)]=ue;var Pe=G._ff,$e=G._gg,he=G._hh,Z=G._ii;for(H=0;H<V.length;H+=16){var Y=X,fe=se,Fe=B,de=$;X=Pe(X,se,B,$,V[H+0],7,-680876936),$=Pe($,X,se,B,V[H+1],12,-389564586),B=Pe(B,$,X,se,V[H+2],17,606105819),se=Pe(se,B,$,X,V[H+3],22,-1044525330),X=Pe(X,se,B,$,V[H+4],7,-176418897),$=Pe($,X,se,B,V[H+5],12,1200080426),B=Pe(B,$,X,se,V[H+6],17,-1473231341),se=Pe(se,B,$,X,V[H+7],22,-45705983),X=Pe(X,se,B,$,V[H+8],7,1770035416),$=Pe($,X,se,B,V[H+9],12,-1958414417),B=Pe(B,$,X,se,V[H+10],17,-42063),se=Pe(se,B,$,X,V[H+11],22,-1990404162),X=Pe(X,se,B,$,V[H+12],7,1804603682),$=Pe($,X,se,B,V[H+13],12,-40341101),B=Pe(B,$,X,se,V[H+14],17,-1502002290),X=$e(X,se=Pe(se,B,$,X,V[H+15],22,1236535329),B,$,V[H+1],5,-165796510),$=$e($,X,se,B,V[H+6],9,-1069501632),B=$e(B,$,X,se,V[H+11],14,643717713),se=$e(se,B,$,X,V[H+0],20,-373897302),X=$e(X,se,B,$,V[H+5],5,-701558691),$=$e($,X,se,B,V[H+10],9,38016083),B=$e(B,$,X,se,V[H+15],14,-660478335),se=$e(se,B,$,X,V[H+4],20,-405537848),X=$e(X,se,B,$,V[H+9],5,568446438),$=$e($,X,se,B,V[H+14],9,-1019803690),B=$e(B,$,X,se,V[H+3],14,-187363961),se=$e(se,B,$,X,V[H+8],20,1163531501),X=$e(X,se,B,$,V[H+13],5,-1444681467),$=$e($,X,se,B,V[H+2],9,-51403784),B=$e(B,$,X,se,V[H+7],14,1735328473),X=he(X,se=$e(se,B,$,X,V[H+12],20,-1926607734),B,$,V[H+5],4,-378558),$=he($,X,se,B,V[H+8],11,-2022574463),B=he(B,$,X,se,V[H+11],16,1839030562),se=he(se,B,$,X,V[H+14],23,-35309556),X=he(X,se,B,$,V[H+1],4,-1530992060),$=he($,X,se,B,V[H+4],11,1272893353),B=he(B,$,X,se,V[H+7],16,-155497632),se=he(se,B,$,X,V[H+10],23,-1094730640),X=he(X,se,B,$,V[H+13],4,681279174),$=he($,X,se,B,V[H+0],11,-358537222),B=he(B,$,X,se,V[H+3],16,-722521979),se=he(se,B,$,X,V[H+6],23,76029189),X=he(X,se,B,$,V[H+9],4,-640364487),$=he($,X,se,B,V[H+12],11,-421815835),B=he(B,$,X,se,V[H+15],16,530742520),X=Z(X,se=he(se,B,$,X,V[H+2],23,-995338651),B,$,V[H+0],6,-198630844),$=Z($,X,se,B,V[H+7],10,1126891415),B=Z(B,$,X,se,V[H+14],15,-1416354905),se=Z(se,B,$,X,V[H+5],21,-57434055),X=Z(X,se,B,$,V[H+12],6,1700485571),$=Z($,X,se,B,V[H+3],10,-1894986606),B=Z(B,$,X,se,V[H+10],15,-1051523),se=Z(se,B,$,X,V[H+1],21,-2054922799),X=Z(X,se,B,$,V[H+8],6,1873313359),$=Z($,X,se,B,V[H+15],10,-30611744),B=Z(B,$,X,se,V[H+6],15,-1560198380),se=Z(se,B,$,X,V[H+13],21,1309151649),X=Z(X,se,B,$,V[H+4],6,-145523070),$=Z($,X,se,B,V[H+11],10,-1120210379),B=Z(B,$,X,se,V[H+2],15,718787259),se=Z(se,B,$,X,V[H+9],21,-343485551),X=X+Y>>>0,se=se+fe>>>0,B=B+Fe>>>0,$=$+de>>>0}return I.endian([X,se,B,$])})._ff=function(Q,L,V,ue,X,se,B){var $=Q+(L&V|~L&ue)+(X>>>0)+B;return($<<se|$>>>32-se)+L},G._gg=function(Q,L,V,ue,X,se,B){var $=Q+(L&ue|V&~ue)+(X>>>0)+B;return($<<se|$>>>32-se)+L},G._hh=function(Q,L,V,ue,X,se,B){var $=Q+(L^V^ue)+(X>>>0)+B;return($<<se|$>>>32-se)+L},G._ii=function(Q,L,V,ue,X,se,B){var $=Q+(V^(L|~ue))+(X>>>0)+B;return($<<se|$>>>32-se)+L},G._blocksize=16,G._digestsize=16,Be.exports=function(Q,L){if(null==Q)throw new Error("Illegal argument "+Q);var V=I.wordsToBytes(G(Q,L));return L&&L.asBytes?V:L&&L.asString?te.bytesToString(V):I.bytesToHex(V)}},9052:(Be,We)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var A=[];A[0]=function(){return function(){}},A[1]=function(te,G){return typeof G>"u"?te:function(L){te(L,G)}};var re=function(){function te(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return te.prototype.addHandler=function(G,Q){return this.isHandlerAttached(G,Q)||(this._handlers.push(G),this._contexts.push(Q),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.removeHandler=function(G,Q){var L=this._getHandlerIndex(G,Q);return typeof L<"u"&&(this._handlers.splice(L,1),this._contexts.splice(L,1),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.isHandlerAttached=function(G,Q){return typeof this._getHandlerIndex(G,Q)<"u"},te.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},te.prototype._getHandlerIndex=function(G,Q){var V,L=this._handlers.length;for(V=0;V<L&&(this._handlers[V]!==G||this._contexts[V]!==Q);V++);return V<L?V:void 0},te.prototype._createDispatcher=function(){this.dispatch=function I(te){return A[te]||(A[te]=function l(te){for(var G="return function dispatcher"+te+"(payload) {\n",Q=[],L=[],V=0;V<te;V++)Q.push("cb"+V),L.push("ctx"+V),G+="    cb"+V+"(payload, ctx"+V+");\n";return G+="};",new(Function.bind.apply(Function,[void 0].concat(Q.concat(L),[G])))}(te)),A[te]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},te}();We.default=re},1158:(Be,We,A)=>{"use strict";var l=A(9052);We.j=l.default},8597:(Be,We,A)=>{var I="function"==typeof Map&&Map.prototype,l=Object.getOwnPropertyDescriptor&&I?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,re=I&&l&&"function"==typeof l.get?l.get:null,te=I&&Map.prototype.forEach,G="function"==typeof Set&&Set.prototype,Q=Object.getOwnPropertyDescriptor&&G?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,L=G&&Q&&"function"==typeof Q.get?Q.get:null,V=G&&Set.prototype.forEach,X="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,B="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,H="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Pe=Boolean.prototype.valueOf,$e=Object.prototype.toString,he=Function.prototype.toString,Z=String.prototype.match,Y=String.prototype.slice,fe=String.prototype.replace,Fe=String.prototype.toUpperCase,de=String.prototype.toLowerCase,st=RegExp.prototype.test,ce=Array.prototype.concat,be=Array.prototype.join,ke=Array.prototype.slice,Qe=Math.floor,Oe="function"==typeof BigInt?BigInt.prototype.valueOf:null,xe=Object.getOwnPropertySymbols,ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ue="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Je="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,yt=Object.prototype.propertyIsEnumerable,un=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(le){return le.__proto__}:null);function Ze(le,Ge){if(le===1/0||le===-1/0||le!=le||le&&le>-1e3&&le<1e3||st.call(/e/,Ge))return Ge;var Rn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof le){var Vn=le<0?-Qe(-le):Qe(le);if(Vn!==le){var Wt=String(Vn),Pt=Y.call(Ge,Wt.length+1);return fe.call(Wt,Rn,"$&_")+"."+fe.call(fe.call(Pt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return fe.call(Ge,Rn,"$&_")}var O=A(4654),ge=O.custom,nt=tn(ge)?ge:null;function rt(le,Ge,Rn){var Vn="double"===(Rn.quoteStyle||Ge)?'"':"'";return Vn+le+Vn}function je(le){return fe.call(String(le),/"/g,"&quot;")}function q(le){return!("[object Array]"!==Qn(le)||Je&&"object"==typeof le&&Je in le)}function ft(le){return!("[object RegExp]"!==Qn(le)||Je&&"object"==typeof le&&Je in le)}function tn(le){if(Ue)return le&&"object"==typeof le&&le instanceof Symbol;if("symbol"==typeof le)return!0;if(!le||"object"!=typeof le||!ne)return!1;try{return ne.call(le),!0}catch{}return!1}Be.exports=function le(Ge,Rn,Vn,Wt){var Pt=Rn||{};if(_r(Pt,"quoteStyle")&&"single"!==Pt.quoteStyle&&"double"!==Pt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_r(Pt,"maxStringLength")&&("number"==typeof Pt.maxStringLength?Pt.maxStringLength<0&&Pt.maxStringLength!==1/0:null!==Pt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var br=!_r(Pt,"customInspect")||Pt.customInspect;if("boolean"!=typeof br&&"symbol"!==br)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_r(Pt,"indent")&&null!==Pt.indent&&"\t"!==Pt.indent&&!(parseInt(Pt.indent,10)===Pt.indent&&Pt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_r(Pt,"numericSeparator")&&"boolean"!=typeof Pt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Xt=Pt.numericSeparator;if(typeof Ge>"u")return"undefined";if(null===Ge)return"null";if("boolean"==typeof Ge)return Ge?"true":"false";if("string"==typeof Ge)return Vr(Ge,Pt);if("number"==typeof Ge){if(0===Ge)return 1/0/Ge>0?"0":"-0";var Jn=String(Ge);return Xt?Ze(Ge,Jn):Jn}if("bigint"==typeof Ge){var er=String(Ge)+"n";return Xt?Ze(Ge,er):er}var sn=typeof Pt.depth>"u"?5:Pt.depth;if(typeof Vn>"u"&&(Vn=0),Vn>=sn&&sn>0&&"object"==typeof Ge)return q(Ge)?"[Array]":"[Object]";var jt=function as(le,Ge){var Rn;if("\t"===le.indent)Rn="\t";else{if(!("number"==typeof le.indent&&le.indent>0))return null;Rn=be.call(Array(le.indent+1)," ")}return{base:Rn,prev:be.call(Array(Ge+1),Rn)}}(Pt,Vn);if(typeof Wt>"u")Wt=[];else if(to(Wt,Ge)>=0)return"[Circular]";function E(mi,si,ko){if(si&&(Wt=ke.call(Wt)).push(si),ko){var Qr={depth:Pt.depth};return _r(Pt,"quoteStyle")&&(Qr.quoteStyle=Pt.quoteStyle),le(mi,Qr,Vn+1,Wt)}return le(mi,Pt,Vn+1,Wt)}if("function"==typeof Ge&&!ft(Ge)){var S=function Wo(le){if(le.name)return le.name;var Ge=Z.call(he.call(le),/^function\s*([\w$]+)/);return Ge?Ge[1]:null}(Ge),Yn=lt(Ge,E);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(Yn.length>0?" { "+be.call(Yn,", ")+" }":"")}if(tn(Ge)){var D=Ue?fe.call(String(Ge),/^(Symbol\(.*\))_[^)]*$/,"$1"):ne.call(Ge);return"object"!=typeof Ge||Ue?D:Gr(D)}if(function Xr(le){return!(!le||"object"!=typeof le)&&(typeof HTMLElement<"u"&&le instanceof HTMLElement||"string"==typeof le.nodeName&&"function"==typeof le.getAttribute)}(Ge)){for(var On="<"+de.call(String(Ge.nodeName)),Zo=Ge.attributes||[],ii=0;ii<Zo.length;ii++)On+=" "+Zo[ii].name+"="+rt(je(Zo[ii].value),"double",Pt);return On+=">",Ge.childNodes&&Ge.childNodes.length&&(On+="..."),On+"</"+de.call(String(Ge.nodeName))+">"}if(q(Ge)){if(0===Ge.length)return"[]";var Io=lt(Ge,E);return jt&&!function no(le){for(var Ge=0;Ge<le.length;Ge++)if(to(le[Ge],"\n")>=0)return!1;return!0}(Io)?"["+Wr(Io,jt)+"]":"[ "+be.call(Io,", ")+" ]"}if(function Ae(le){return!("[object Error]"!==Qn(le)||Je&&"object"==typeof le&&Je in le)}(Ge)){var ji=lt(Ge,E);return"cause"in Error.prototype||!("cause"in Ge)||yt.call(Ge,"cause")?0===ji.length?"["+String(Ge)+"]":"{ ["+String(Ge)+"] "+be.call(ji,", ")+" }":"{ ["+String(Ge)+"] "+be.call(ce.call("[cause]: "+E(Ge.cause),ji),", ")+" }"}if("object"==typeof Ge&&br){if(nt&&"function"==typeof Ge[nt]&&O)return O(Ge,{depth:sn-Vn});if("symbol"!==br&&"function"==typeof Ge.inspect)return Ge.inspect()}if(function ki(le){if(!re||!le||"object"!=typeof le)return!1;try{re.call(le);try{L.call(le)}catch{return!0}return le instanceof Map}catch{}return!1}(Ge)){var qo=[];return te&&te.call(Ge,function(mi,si){qo.push(E(si,Ge,!0)+" => "+E(mi,Ge))}),hn("Map",re.call(Ge),qo,jt)}if(function jn(le){if(!L||!le||"object"!=typeof le)return!1;try{L.call(le);try{re.call(le)}catch{return!0}return le instanceof Set}catch{}return!1}(Ge)){var xi=[];return V&&V.call(Ge,function(mi){xi.push(E(mi,Ge))}),hn("Set",L.call(Ge),xi,jt)}if(function Pn(le){if(!X||!le||"object"!=typeof le)return!1;try{X.call(le,X);try{B.call(le,B)}catch{return!0}return le instanceof WeakMap}catch{}return!1}(Ge))return lo("WeakMap");if(function Mi(le){if(!B||!le||"object"!=typeof le)return!1;try{B.call(le,B);try{X.call(le,X)}catch{return!0}return le instanceof WeakSet}catch{}return!1}(Ge))return lo("WeakSet");if(function bo(le){if(!H||!le||"object"!=typeof le)return!1;try{return H.call(le),!0}catch{}return!1}(Ge))return lo("WeakRef");if(function on(le){return!("[object Number]"!==Qn(le)||Je&&"object"==typeof le&&Je in le)}(Ge))return Gr(E(Number(Ge)));if(function U(le){if(!le||"object"!=typeof le||!Oe)return!1;try{return Oe.call(le),!0}catch{}return!1}(Ge))return Gr(E(Oe.call(Ge)));if(function Kt(le){return!("[object Boolean]"!==Qn(le)||Je&&"object"==typeof le&&Je in le)}(Ge))return Gr(Pe.call(Ge));if(function Tt(le){return!("[object String]"!==Qn(le)||Je&&"object"==typeof le&&Je in le)}(Ge))return Gr(E(String(Ge)));if(!function ye(le){return!("[object Date]"!==Qn(le)||Je&&"object"==typeof le&&Je in le)}(Ge)&&!ft(Ge)){var Ti=lt(Ge,E),co=un?un(Ge)===Object.prototype:Ge instanceof Object||Ge.constructor===Object,Yo=Ge instanceof Object?"":"null prototype",Cr=!co&&Je&&Object(Ge)===Ge&&Je in Ge?Y.call(Qn(Ge),8,-1):Yo?"Object":"",ro=(co||"function"!=typeof Ge.constructor?"":Ge.constructor.name?Ge.constructor.name+" ":"")+(Cr||Yo?"["+be.call(ce.call([],Cr||[],Yo||[]),": ")+"] ":"");return 0===Ti.length?ro+"{}":jt?ro+"{"+Wr(Ti,jt)+"}":ro+"{ "+be.call(Ti,", ")+" }"}return String(Ge)};var Cn=Object.prototype.hasOwnProperty||function(le){return le in this};function _r(le,Ge){return Cn.call(le,Ge)}function Qn(le){return $e.call(le)}function to(le,Ge){if(le.indexOf)return le.indexOf(Ge);for(var Rn=0,Vn=le.length;Rn<Vn;Rn++)if(le[Rn]===Ge)return Rn;return-1}function Vr(le,Ge){if(le.length>Ge.maxStringLength){var Rn=le.length-Ge.maxStringLength,Vn="... "+Rn+" more character"+(Rn>1?"s":"");return Vr(Y.call(le,0,Ge.maxStringLength),Ge)+Vn}return rt(fe.call(fe.call(le,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lr),"single",Ge)}function lr(le){var Ge=le.charCodeAt(0),Rn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ge];return Rn?"\\"+Rn:"\\x"+(Ge<16?"0":"")+Fe.call(Ge.toString(16))}function Gr(le){return"Object("+le+")"}function lo(le){return le+" { ? }"}function hn(le,Ge,Rn,Vn){return le+" ("+Ge+") {"+(Vn?Wr(Rn,Vn):be.call(Rn,", "))+"}"}function Wr(le,Ge){if(0===le.length)return"";var Rn="\n"+Ge.prev+Ge.base;return Rn+be.call(le,","+Rn)+"\n"+Ge.prev}function lt(le,Ge){var Rn=q(le),Vn=[];if(Rn){Vn.length=le.length;for(var Wt=0;Wt<le.length;Wt++)Vn[Wt]=_r(le,Wt)?Ge(le[Wt],le):""}var br,Pt="function"==typeof xe?xe(le):[];if(Ue){br={};for(var Xt=0;Xt<Pt.length;Xt++)br["$"+Pt[Xt]]=Pt[Xt]}for(var Jn in le)_r(le,Jn)&&(Rn&&String(Number(Jn))===Jn&&Jn<le.length||Ue&&br["$"+Jn]instanceof Symbol||(st.call(/[^\w$]/,Jn)?Vn.push(Ge(Jn,le)+": "+Ge(le[Jn],le)):Vn.push(Jn+": "+Ge(le[Jn],le))));if("function"==typeof xe)for(var er=0;er<Pt.length;er++)yt.call(le,Pt[er])&&Vn.push("["+Ge(Pt[er])+"]: "+Ge(le[Pt[er]],le));return Vn}},6872:Be=>{"use strict";var We=function(A){return A!=A};Be.exports=function(I,l){return 0===I&&0===l?1/I==1/l:!!(I===l||We(I)&&We(l))}},5734:(Be,We,A)=>{"use strict";var I=A(1790),l=A(3855),re=A(6872),te=A(3306),G=A(7715),Q=l(te(),Object);I(Q,{getPolyfill:te,implementation:re,shim:G}),Be.exports=Q},3306:(Be,We,A)=>{"use strict";var I=A(6872);Be.exports=function(){return"function"==typeof Object.is?Object.is:I}},7715:(Be,We,A)=>{"use strict";var I=A(3306),l=A(1790);Be.exports=function(){var te=I();return l(Object,{is:te},{is:function(){return Object.is!==te}}),te}},7010:(Be,We,A)=>{"use strict";var I;if(!Object.keys){var l=Object.prototype.hasOwnProperty,re=Object.prototype.toString,te=A(5185),G=Object.prototype.propertyIsEnumerable,Q=!G.call({toString:null},"toString"),L=G.call(function(){},"prototype"),V=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ue=function($){var H=$.constructor;return H&&H.prototype===$},X={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},se=function(){if(typeof window>"u")return!1;for(var $ in window)try{if(!X["$"+$]&&l.call(window,$)&&null!==window[$]&&"object"==typeof window[$])try{ue(window[$])}catch{return!0}}catch{return!0}return!1}();I=function(H){var Pe=null!==H&&"object"==typeof H,$e="[object Function]"===re.call(H),he=te(H),Z=Pe&&"[object String]"===re.call(H),Y=[];if(!Pe&&!$e&&!he)throw new TypeError("Object.keys called on a non-object");var fe=L&&$e;if(Z&&H.length>0&&!l.call(H,0))for(var Fe=0;Fe<H.length;++Fe)Y.push(String(Fe));if(he&&H.length>0)for(var de=0;de<H.length;++de)Y.push(String(de));else for(var st in H)(!fe||"prototype"!==st)&&l.call(H,st)&&Y.push(String(st));if(Q)for(var ce=function($){if(typeof window>"u"||!se)return ue($);try{return ue($)}catch{return!1}}(H),be=0;be<V.length;++be)(!ce||"constructor"!==V[be])&&l.call(H,V[be])&&Y.push(V[be]);return Y}}Be.exports=I},2093:(Be,We,A)=>{"use strict";var I=Array.prototype.slice,l=A(5185),re=Object.keys,te=re?function(L){return re(L)}:A(7010),G=Object.keys;te.shim=function(){if(Object.keys){var L=function(){var V=Object.keys(arguments);return V&&V.length===arguments.length}(1,2);L||(Object.keys=function(ue){return l(ue)?G(I.call(ue)):G(ue)})}else Object.keys=te;return Object.keys||te},Be.exports=te},5185:Be=>{"use strict";var We=Object.prototype.toString;Be.exports=function(I){var l=We.call(I),re="[object Arguments]"===l;return re||(re="[object Array]"!==l&&null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Function]"===We.call(I.callee)),re}},2461:(Be,We,A)=>{"use strict";var I=A(2093),l=A(6858)(),re=A(4263),te=Object,G=re("Array.prototype.push"),Q=re("Object.prototype.propertyIsEnumerable"),L=l?Object.getOwnPropertySymbols:null;Be.exports=function(ue,X){if(null==ue)throw new TypeError("target must be an object");var se=te(ue);if(1===arguments.length)return se;for(var B=1;B<arguments.length;++B){var $=te(arguments[B]),H=I($),Pe=l&&(Object.getOwnPropertySymbols||L);if(Pe)for(var $e=Pe($),he=0;he<$e.length;++he){var Z=$e[he];Q($,Z)&&G(H,Z)}for(var Y=0;Y<H.length;++Y){var fe=H[Y];if(Q($,fe)){var Fe=$[fe];se[fe]=Fe}}}return se}},6189:(Be,We,A)=>{"use strict";var I=A(1790),l=A(3855),re=A(2461),te=A(6255),G=A(152),Q=l.apply(te()),L=function(ue,X){return Q(Object,arguments)};I(L,{getPolyfill:te,implementation:re,shim:G}),Be.exports=L},6255:(Be,We,A)=>{"use strict";var I=A(2461);Be.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var te="abcdefghijklmnopqrst",G=te.split(""),Q={},L=0;L<G.length;++L)Q[G[L]]=G[L];var V=Object.assign({},Q),ue="";for(var X in V)ue+=X;return te!==ue}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var te=Object.preventExtensions({1:2});try{Object.assign(te,"xy")}catch{return"y"===te[1]}return!1}()?I:Object.assign}},152:(Be,We,A)=>{"use strict";var I=A(1790),l=A(6255);Be.exports=function(){var te=l();return I(Object,{assign:te},{assign:function(){return Object.assign!==te}}),te}},151:(Be,We)=>{"use strict";var A=Object.prototype.hasOwnProperty;function l(Q){try{return decodeURIComponent(Q.replace(/\+/g," "))}catch{return null}}function re(Q){try{return encodeURIComponent(Q)}catch{return null}}We.stringify=function G(Q,L){L=L||"";var ue,X,V=[];for(X in"string"!=typeof L&&(L="?"),Q)if(A.call(Q,X)){if(!(ue=Q[X])&&(null==ue||isNaN(ue))&&(ue=""),X=re(X),ue=re(ue),null===X||null===ue)continue;V.push(X+"="+ue)}return V.length?L+V.join("&"):""},We.parse=function te(Q){for(var ue,L=/([^=?#&]+)=?([^&]*)/g,V={};ue=L.exec(Q);){var X=l(ue[1]),se=l(ue[2]);null===X||null===se||X in V||(V[X]=se)}return V}},4040:(Be,We,A)=>{"use strict";var I=A(3677).functionsHaveConfigurableNames(),l=Object,re=TypeError;Be.exports=function(){if(null!=this&&this!==l(this))throw new re("RegExp.prototype.flags getter called on non-object");var G="";return this.hasIndices&&(G+="d"),this.global&&(G+="g"),this.ignoreCase&&(G+="i"),this.multiline&&(G+="m"),this.dotAll&&(G+="s"),this.unicode&&(G+="u"),this.sticky&&(G+="y"),G},I&&Object.defineProperty&&Object.defineProperty(Be.exports,"name",{value:"get flags"})},8704:(Be,We,A)=>{"use strict";var I=A(1790),l=A(3855),re=A(4040),te=A(9783),G=A(9369),Q=l(te());I(Q,{getPolyfill:te,implementation:re,shim:G}),Be.exports=Q},9783:(Be,We,A)=>{"use strict";var I=A(4040),l=A(1790).supportsDescriptors,re=Object.getOwnPropertyDescriptor;Be.exports=function(){if(l&&"gim"===/a/gim.flags){var G=re(RegExp.prototype,"flags");if(G&&"function"==typeof G.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var Q="",L={};if(Object.defineProperty(L,"hasIndices",{get:function(){Q+="d"}}),Object.defineProperty(L,"sticky",{get:function(){Q+="y"}}),"dy"===Q)return G.get}}return I}},9369:(Be,We,A)=>{"use strict";var I=A(1790).supportsDescriptors,l=A(9783),re=Object.getOwnPropertyDescriptor,te=Object.defineProperty,G=TypeError,Q=Object.getPrototypeOf,L=/a/;Be.exports=function(){if(!I||!Q)throw new G("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ue=l(),X=Q(L),se=re(X,"flags");return(!se||se.get!==ue)&&te(X,"flags",{configurable:!0,enumerable:!1,get:ue}),ue}},47:Be=>{"use strict";Be.exports=function(A,I){if(I=I.split(":")[0],!(A=+A))return!1;switch(I){case"http":case"ws":return 80!==A;case"https":case"wss":return 443!==A;case"ftp":return 21!==A;case"gopher":return 70!==A;case"file":return!1}return 0!==A}},8432:(Be,We,A)=>{"use strict";var I=A(9903),l=A(4263),re=A(8597),te=I("%TypeError%"),G=I("%WeakMap%",!0),Q=I("%Map%",!0),L=l("WeakMap.prototype.get",!0),V=l("WeakMap.prototype.set",!0),ue=l("WeakMap.prototype.has",!0),X=l("Map.prototype.get",!0),se=l("Map.prototype.set",!0),B=l("Map.prototype.has",!0),$=function(he,Z){for(var fe,Y=he;null!==(fe=Y.next);Y=fe)if(fe.key===Z)return Y.next=fe.next,fe.next=he.next,he.next=fe,fe};Be.exports=function(){var Z,Y,fe,Fe={assert:function(de){if(!Fe.has(de))throw new te("Side channel does not contain "+re(de))},get:function(de){if(G&&de&&("object"==typeof de||"function"==typeof de)){if(Z)return L(Z,de)}else if(Q){if(Y)return X(Y,de)}else if(fe)return function(he,Z){var Y=$(he,Z);return Y&&Y.value}(fe,de)},has:function(de){if(G&&de&&("object"==typeof de||"function"==typeof de)){if(Z)return ue(Z,de)}else if(Q){if(Y)return B(Y,de)}else if(fe)return function(he,Z){return!!$(he,Z)}(fe,de);return!1},set:function(de,st){G&&de&&("object"==typeof de||"function"==typeof de)?(Z||(Z=new G),V(Z,de,st)):Q?(Y||(Y=new Q),se(Y,de,st)):(fe||(fe={key:{},next:null}),function(he,Z,Y){var fe=$(he,Z);fe?fe.value=Y:he.next={key:Z,next:he.next,value:Y}}(fe,de,st))}};return Fe}},8519:(Be,We,A)=>{"use strict";var I=A(5847),l=SyntaxError,re="object"==typeof StopIteration?StopIteration:null;Be.exports=function(G){if(!re)throw new l("this environment lacks StopIteration");I.set(G,"[[Done]]",!1);var Q={next:function(){var V=I.get(this,"[[Iterator]]"),ue=I.get(V,"[[Done]]");try{return{done:ue,value:ue?void 0:V.next()}}catch(X){if(I.set(V,"[[Done]]",!0),X!==re)throw X;return{done:!0,value:void 0}}}};return I.set(Q,"[[Iterator]]",G),Q}},9233:(Be,We,A)=>{"use strict";var I=A(47),l=A(151),re=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,te=/[\n\r\t]/g,G=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Q=/:\d+$/,L=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,V=/^[a-zA-Z]:/;function ue(Y){return(Y||"").toString().replace(re,"")}var X=[["#","hash"],["?","query"],function(fe,Fe){return $(Fe.protocol)?fe.replace(/\\/g,"/"):fe},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],se={hash:1,query:1};function B(Y){var fe;fe=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ce,de={},st=typeof(Y=Y||fe.location||{});if("blob:"===Y.protocol)de=new $e(unescape(Y.pathname),{});else if("string"===st)for(ce in de=new $e(Y,{}),se)delete de[ce];else if("object"===st){for(ce in Y)ce in se||(de[ce]=Y[ce]);void 0===de.slashes&&(de.slashes=G.test(Y.href))}return de}function $(Y){return"file:"===Y||"ftp:"===Y||"http:"===Y||"https:"===Y||"ws:"===Y||"wss:"===Y}function H(Y,fe){Y=(Y=ue(Y)).replace(te,""),fe=fe||{};var ke,Fe=L.exec(Y),de=Fe[1]?Fe[1].toLowerCase():"",st=!!Fe[2],ce=!!Fe[3],be=0;return st?ce?(ke=Fe[2]+Fe[3]+Fe[4],be=Fe[2].length+Fe[3].length):(ke=Fe[2]+Fe[4],be=Fe[2].length):ce?(ke=Fe[3]+Fe[4],be=Fe[3].length):ke=Fe[4],"file:"===de?be>=2&&(ke=ke.slice(2)):$(de)?ke=Fe[4]:de?st&&(ke=ke.slice(2)):be>=2&&$(fe.protocol)&&(ke=Fe[4]),{protocol:de,slashes:st||$(de),slashesCount:be,rest:ke}}function $e(Y,fe,Fe){if(Y=(Y=ue(Y)).replace(te,""),!(this instanceof $e))return new $e(Y,fe,Fe);var de,st,ce,be,ke,Qe,Oe=X.slice(),xe=typeof fe,ne=this,Ue=0;for("object"!==xe&&"string"!==xe&&(Fe=fe,fe=null),Fe&&"function"!=typeof Fe&&(Fe=l.parse),de=!(st=H(Y||"",fe=B(fe))).protocol&&!st.slashes,ne.slashes=st.slashes||de&&fe.slashes,ne.protocol=st.protocol||fe.protocol||"",Y=st.rest,("file:"===st.protocol&&(2!==st.slashesCount||V.test(Y))||!st.slashes&&(st.protocol||st.slashesCount<2||!$(ne.protocol)))&&(Oe[3]=[/(.*)/,"pathname"]);Ue<Oe.length;Ue++)"function"!=typeof(be=Oe[Ue])?(Qe=be[1],(ce=be[0])!=ce?ne[Qe]=Y:"string"==typeof ce?~(ke="@"===ce?Y.lastIndexOf(ce):Y.indexOf(ce))&&("number"==typeof be[2]?(ne[Qe]=Y.slice(0,ke),Y=Y.slice(ke+be[2])):(ne[Qe]=Y.slice(ke),Y=Y.slice(0,ke))):(ke=ce.exec(Y))&&(ne[Qe]=ke[1],Y=Y.slice(0,ke.index)),ne[Qe]=ne[Qe]||de&&be[3]&&fe[Qe]||"",be[4]&&(ne[Qe]=ne[Qe].toLowerCase())):Y=be(Y,ne);Fe&&(ne.query=Fe(ne.query)),de&&fe.slashes&&"/"!==ne.pathname.charAt(0)&&(""!==ne.pathname||""!==fe.pathname)&&(ne.pathname=function Pe(Y,fe){if(""===Y)return fe;for(var Fe=(fe||"/").split("/").slice(0,-1).concat(Y.split("/")),de=Fe.length,st=Fe[de-1],ce=!1,be=0;de--;)"."===Fe[de]?Fe.splice(de,1):".."===Fe[de]?(Fe.splice(de,1),be++):be&&(0===de&&(ce=!0),Fe.splice(de,1),be--);return ce&&Fe.unshift(""),("."===st||".."===st)&&Fe.push(""),Fe.join("/")}(ne.pathname,fe.pathname)),"/"!==ne.pathname.charAt(0)&&$(ne.protocol)&&(ne.pathname="/"+ne.pathname),I(ne.port,ne.protocol)||(ne.host=ne.hostname,ne.port=""),ne.username=ne.password="",ne.auth&&(~(ke=ne.auth.indexOf(":"))?(ne.username=ne.auth.slice(0,ke),ne.username=encodeURIComponent(decodeURIComponent(ne.username)),ne.password=ne.auth.slice(ke+1),ne.password=encodeURIComponent(decodeURIComponent(ne.password))):ne.username=encodeURIComponent(decodeURIComponent(ne.auth)),ne.auth=ne.password?ne.username+":"+ne.password:ne.username),ne.origin="file:"!==ne.protocol&&$(ne.protocol)&&ne.host?ne.protocol+"//"+ne.host:"null",ne.href=ne.toString()}$e.prototype={set:function he(Y,fe,Fe){var de=this;switch(Y){case"query":"string"==typeof fe&&fe.length&&(fe=(Fe||l.parse)(fe)),de[Y]=fe;break;case"port":de[Y]=fe,I(fe,de.protocol)?fe&&(de.host=de.hostname+":"+fe):(de.host=de.hostname,de[Y]="");break;case"hostname":de[Y]=fe,de.port&&(fe+=":"+de.port),de.host=fe;break;case"host":de[Y]=fe,Q.test(fe)?(fe=fe.split(":"),de.port=fe.pop(),de.hostname=fe.join(":")):(de.hostname=fe,de.port="");break;case"protocol":de.protocol=fe.toLowerCase(),de.slashes=!Fe;break;case"pathname":case"hash":if(fe){var st="pathname"===Y?"/":"#";de[Y]=fe.charAt(0)!==st?st+fe:fe}else de[Y]=fe;break;case"username":case"password":de[Y]=encodeURIComponent(fe);break;case"auth":var ce=fe.indexOf(":");~ce?(de.username=fe.slice(0,ce),de.username=encodeURIComponent(decodeURIComponent(de.username)),de.password=fe.slice(ce+1),de.password=encodeURIComponent(decodeURIComponent(de.password))):de.username=encodeURIComponent(decodeURIComponent(fe))}for(var be=0;be<X.length;be++){var ke=X[be];ke[4]&&(de[ke[1]]=de[ke[1]].toLowerCase())}return de.auth=de.password?de.username+":"+de.password:de.username,de.origin="file:"!==de.protocol&&$(de.protocol)&&de.host?de.protocol+"//"+de.host:"null",de.href=de.toString(),de},toString:function Z(Y){(!Y||"function"!=typeof Y)&&(Y=l.stringify);var fe,Fe=this,de=Fe.host,st=Fe.protocol;st&&":"!==st.charAt(st.length-1)&&(st+=":");var ce=st+(Fe.protocol&&Fe.slashes||$(Fe.protocol)?"//":"");return Fe.username?(ce+=Fe.username,Fe.password&&(ce+=":"+Fe.password),ce+="@"):Fe.password?(ce+=":"+Fe.password,ce+="@"):"file:"!==Fe.protocol&&$(Fe.protocol)&&!de&&"/"!==Fe.pathname&&(ce+="@"),(":"===de[de.length-1]||Q.test(Fe.hostname)&&!Fe.port)&&(de+=":"),ce+=de+Fe.pathname,(fe="object"==typeof Fe.query?Y(Fe.query):Fe.query)&&(ce+="?"!==fe.charAt(0)?"?"+fe:fe),Fe.hash&&(ce+=Fe.hash),ce}},$e.extractProtocol=H,$e.location=B,$e.trimLeft=ue,$e.qs=l,Be.exports=$e},2086:(Be,We,A)=>{"use strict";var I=A(4764),l=A(1046),re=A(6180),te=A(6434),G=A(3);Be.exports=function(L){return null==L||"object"!=typeof L&&"function"!=typeof L?null:I(L)?"String":l(L)?"Number":re(L)?"Boolean":te(L)?"Symbol":G(L)?"BigInt":void 0}},5709:(Be,We,A)=>{"use strict";var I=A(3037),l=A(5271),re=A(4263),te=A(253),G=re("Object.prototype.toString"),Q=A(3261)(),L=typeof globalThis>"u"?global:globalThis,V=l(),ue=re("String.prototype.slice"),X={},se=Object.getPrototypeOf;Q&&te&&se&&I(V,function(H){if("function"==typeof L[H]){var Pe=new L[H];if(Symbol.toStringTag in Pe){var $e=se(Pe),he=te($e,Symbol.toStringTag);if(!he){var Z=se($e);he=te(Z,Symbol.toStringTag)}X[H]=he.get}}});var $=A(7673);Be.exports=function(Pe){return!!$(Pe)&&(Q&&Symbol.toStringTag in Pe?function(Pe){var $e=!1;return I(X,function(he,Z){if(!$e)try{var Y=he.call(Pe);Y===Z&&($e=Y)}catch{}}),$e}(Pe):ue(G(Pe),8,-1))}},863:(Be,We,A)=>{var I={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function l(re){if(!A.o(I,re))return Promise.resolve().then(()=>{var Q=new Error("Cannot find module '"+re+"'");throw Q.code="MODULE_NOT_FOUND",Q});var te=I[re],G=te[0];return Promise.all(te.slice(1).map(A.e)).then(()=>A(G))}l.keys=()=>Object.keys(I),l.id=863,Be.exports=l},4654:()=>{},5271:Be=>{"use strict";var We=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],A=typeof globalThis>"u"?global:globalThis;Be.exports=function(){for(var l=[],re=0;re<We.length;re++)"function"==typeof A[We[re]]&&(l[l.length]=We[re]);return l}},2069:(Be,We,A)=>{"use strict";var I=A(9102),l=A(8519);if(A(524)()||A(6858)()){var re=Symbol.iterator;Be.exports=function(ke){return null!=ke&&typeof ke[re]<"u"?ke[re]():I(ke)?Array.prototype[re].call(ke):void 0}}else{var te=A(8266),G=A(4764),Q=A(9903),L=Q("%Map%",!0),V=Q("%Set%",!0),ue=A(4263),X=ue("Array.prototype.push"),se=ue("String.prototype.charCodeAt"),B=ue("String.prototype.slice"),H=function(ke){var Qe=0;return{next:function(){var ne,xe=Qe>=ke.length;return xe||(ne=ke[Qe],Qe+=1),{done:xe,value:ne}}}},Pe=function(ke,Qe){if(te(ke)||I(ke))return H(ke);if(G(ke)){var Oe=0;return{next:function(){var ne=function(ke,Qe){if(Qe+1>=ke.length)return Qe+1;var xe=se(ke,Qe);if(xe<55296||xe>56319)return Qe+1;var ne=se(ke,Qe+1);return ne<56320||ne>57343?Qe+1:Qe+2}(ke,Oe),Ue=B(ke,Oe,ne);return Oe=ne,{done:ne>ke.length,value:Ue}}}}return Qe&&typeof ke["_es6-shim iterator_"]<"u"?ke["_es6-shim iterator_"]():void 0};if(L||V){var $e=A(9898),he=A(3870),Z=ue("Map.prototype.forEach",!0),Y=ue("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var fe=ue("Map.prototype.iterator",!0),Fe=ue("Set.prototype.iterator",!0);var de=ue("Map.prototype.@@iterator",!0)||ue("Map.prototype._es6-shim iterator_",!0),st=ue("Set.prototype.@@iterator",!0)||ue("Set.prototype._es6-shim iterator_",!0);Be.exports=function(ke){return function(ke){if($e(ke)){if(fe)return l(fe(ke));if(de)return de(ke);if(Z){var Qe=[];return Z(ke,function(xe,ne){X(Qe,[ne,xe])}),H(Qe)}}if(he(ke)){if(Fe)return l(Fe(ke));if(st)return st(ke);if(Y){var Oe=[];return Y(ke,function(xe){X(Oe,xe)}),H(Oe)}}}(ke)||Pe(ke)}}else Be.exports=function(ke){if(null!=ke)return Pe(ke,!0)}}},2107:(Be,We,A)=>{"use strict";var I=A(9898),l=A(3870),re=A(5585),te=A(1902);Be.exports=function(Q){if(Q&&"object"==typeof Q){if(I(Q))return"Map";if(l(Q))return"Set";if(re(Q))return"WeakMap";if(te(Q))return"WeakSet"}return!1}},3918:(Be,We,A)=>{"use strict";function I(re,te,G,Q,L,V,ue){try{var X=re[V](ue),se=X.value}catch(B){return void G(B)}X.done?te(se):Promise.resolve(se).then(Q,L)}function l(re){return function(){var te=this,G=arguments;return new Promise(function(Q,L){var V=re.apply(te,G);function ue(se){I(V,Q,L,ue,X,"next",se)}function X(se){I(V,Q,L,ue,X,"throw",se)}ue(void 0)})}}A.d(We,{Z:()=>l})}},Be=>{Be(Be.s=1340)}]);
//# sourceMappingURL=main.4911a9c9de25d1b6.js.map