(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6659:(Me,$e,A)=>{"use strict";function I(e){return"function"==typeof e}function d(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const re=d(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function oe(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class H{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(I(n))try{n()}catch(i){t=i instanceof re?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{U(i)}catch(s){t=t??[],s instanceof re?t=[...t,...s.errors]:t.push(s)}}if(t)throw new re(t)}}add(t){var r;if(t&&t!==this)if(this.closed)U(t);else{if(t instanceof H){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&oe(r,t)}remove(t){const{_finalizers:r}=this;r&&oe(r,t),t instanceof H&&t._removeParent(this)}}H.EMPTY=(()=>{const e=new H;return e.closed=!0,e})();const Q=H.EMPTY;function F(e){return e instanceof H||e&&"closed"in e&&I(e.remove)&&I(e.add)&&I(e.unsubscribe)}function U(e){I(e)?e():e.unsubscribe()}const le={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ee={setTimeout(e,t,...r){const{delegate:n}=ee;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=ee;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function z(e){ee.setTimeout(()=>{const{onUnhandledError:t}=le;if(!t)throw e;t(e)})}function $(){}const L=Re("C",void 0,void 0);function Re(e,t,r){return{kind:e,value:t,error:r}}let ue=null;function V(e){if(le.useDeprecatedSynchronousErrorHandling){const t=!ue;if(t&&(ue={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=ue;if(ue=null,r)throw n}}else e()}class de extends H{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,F(t)&&t.add(this)):this.destination=ze}static create(t,r,n){return new Qe(t,r,n)}next(t){this.isStopped?rt(function Oe(e){return Re("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?rt(function G(e){return Re("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?rt(L,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ve=Function.prototype.bind;function fe(e,t){return ve.call(e,t)}class Je{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){ae(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){ae(n)}else ae(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){ae(r)}}}class Qe extends de{constructor(t,r,n){let o;if(super(),I(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&le.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&fe(t.next,i),error:t.error&&fe(t.error,i),complete:t.complete&&fe(t.complete,i)}):o=t}this.destination=new Je(o)}}function ae(e){le.useDeprecatedSynchronousErrorHandling?function q(e){le.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=e)}(e):z(e)}function rt(e,t){const{onStoppedNotification:r}=le;r&&ee.setTimeout(()=>r(e,t))}const ze={closed:!0,next:$,error:function pe(e){throw e},complete:$},N="function"==typeof Symbol&&Symbol.observable||"@@observable";function j(e){return e}function ft(e){return 0===e.length?j:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let It=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function we(e){return e&&e instanceof de||function Ge(e){return e&&I(e.next)&&I(e.error)&&I(e.complete)}(e)&&F(e)}(r)?r:new Qe(r,n,o);return V(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=Wt(n))((o,i)=>{const s=new Qe({next:a=>{try{r(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[N](){return this}pipe(...r){return ft(r)(this)}toPromise(r){return new(r=Wt(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function Wt(e){var t;return null!==(t=e??le.Promise)&&void 0!==t?t:Promise}const He=d(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let et=(()=>{class e extends It{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new Vt(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new He}next(r){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?Q:(this.currentObservers=null,i.push(r),new H(()=>{this.currentObservers=null,oe(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new It;return r.source=this,r}}return e.create=(t,r)=>new Vt(t,r),e})();class Vt extends et{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:Q}}class Ut extends et{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Fe(e){return I(e?.lift)}function ot(e){return t=>{if(Fe(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function St(e,t,r,n,o){return new pt(e,t,r,n,o)}class pt extends de{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function xe(e,t){return ot((r,n)=>{let o=0;r.subscribe(St(n,i=>{n.next(e.call(t,i,o++))}))})}function W(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function Hr(e){return this instanceof Hr?(this.v=e,this):new Hr(e)}function Xn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function si(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(f){i({value:f,done:a})},s)}(a,c,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const yr=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function At(e){return I(e?.then)}function cn(e){return I(e[N])}function en(e){return Symbol.asyncIterator&&I(e?.[Symbol.asyncIterator])}function To(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ni=function bo(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ai(e){return I(e?.[Ni])}function _i(e){return function Ar(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(S){n[S]&&(o[S]=function(D){return new Promise(function(K,he){i.push([S,D,K,he])>1||a(S,D)})})}function a(S,D){try{!function c(S){S.value instanceof Hr?Promise.resolve(S.value.v).then(f,m):y(i[0][2],S)}(n[S](D))}catch(K){y(i[0][3],K)}}function f(S){a("next",S)}function m(S){a("throw",S)}function y(S,D){S(D),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield Hr(r.read());if(o)return yield Hr(void 0);yield yield Hr(n)}}finally{r.releaseLock()}})}function M(e){return I(e?.getReader)}function x(e){if(e instanceof It)return e;if(null!=e){if(cn(e))return function k(e){return new It(t=>{const r=e[N]();if(I(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(yr(e))return function Ao(e){return new It(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(At(e))return function li(e){return new It(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,z)})}(e);if(en(e))return Co(e);if(ai(e))return function zi(e){return new It(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(M(e))return function ws(e){return Co(_i(e))}(e)}throw To(e)}function Co(e){return new It(t=>{(function vi(e,t){var r,n,o,i;return function ar(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(m){try{f(n.next(m))}catch(y){s(y)}}function c(m){try{f(n.throw(m))}catch(y){s(y)}}function f(m){m.done?i(m.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(m.value).then(a,c)}f((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=Xn(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Nr(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function er(e,t,r=1/0){return I(t)?er((n,o)=>xe((i,s)=>t(n,i,o,s))(x(e(n,o))),r):("number"==typeof t&&(r=t),ot((n,o)=>function po(e,t,r,n,o,i,s,a){const c=[];let f=0,m=0,y=!1;const S=()=>{y&&!c.length&&!f&&t.complete()},D=he=>f<n?K(he):c.push(he),K=he=>{i&&t.next(he),f++;let Pe=!1;x(r(he,m++)).subscribe(St(t,Ae=>{o?.(Ae),i?D(Ae):t.next(Ae)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(f--;c.length&&f<n;){const Ae=c.shift();s?Nr(t,s,()=>K(Ae)):K(Ae)}S()}catch(Ae){t.error(Ae)}}))};return e.subscribe(St(t,D,()=>{y=!0,S()})),()=>{a?.()}}(n,o,e,r)))}function Lo(e=1/0){return er(j,e)}const Po=new It(e=>e.complete());function Ss(e){return e&&I(e.schedule)}function Ii(e){return e[e.length-1]}function ro(e){return I(Ii(e))?e.pop():void 0}function zo(e){return Ss(Ii(e))?e.pop():void 0}function Gn(e,t=0){return ot((r,n)=>{r.subscribe(St(n,o=>Nr(n,e,()=>n.next(o),t),()=>Nr(n,e,()=>n.complete(),t),o=>Nr(n,e,()=>n.error(o),t)))})}function Wi(e,t=0){return ot((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function Ds(e,t){if(!e)throw new Error("Iterable cannot be null");return new It(r=>{Nr(r,t,()=>{const n=e[Symbol.asyncIterator]();Nr(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function tr(e,t){return t?function Gs(e,t){if(null!=e){if(cn(e))return function ia(e,t){return x(e).pipe(Wi(t),Gn(t))}(e,t);if(yr(e))return function Es(e,t){return new It(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(At(e))return function xi(e,t){return x(e).pipe(Wi(t),Gn(t))}(e,t);if(en(e))return Ds(e,t);if(ai(e))return function ki(e,t){return new It(r=>{let n;return Nr(r,t,()=>{n=e[Ni](),Nr(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>I(n?.return)&&n.return()})}(e,t);if(M(e))return function ds(e,t){return Ds(_i(e),t)}(e,t)}throw To(e)}(e,t):x(e)}function Zi(...e){const t=zo(e),r=function Gr(e,t){return"number"==typeof Ii(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?x(n[0]):Lo(r)(tr(n,t)):Po}function un(...e){return tr(e,zo(e))}function Is(e={}){const{connector:t=(()=>new et),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,c,f=0,m=!1,y=!1;const S=()=>{a?.unsubscribe(),a=void 0},D=()=>{S(),s=c=void 0,m=y=!1},K=()=>{const he=s;D(),he?.unsubscribe()};return ot((he,Pe)=>{f++,!y&&!m&&S();const Ae=c=c??t();Pe.add(()=>{f--,0===f&&!y&&!m&&(a=R(K,o))}),Ae.subscribe(Pe),!s&&f>0&&(s=new Qe({next:Ie=>Ae.next(Ie),error:Ie=>{y=!0,S(),a=R(D,r,Ie),Ae.error(Ie)},complete:()=>{m=!0,S(),a=R(D,n),Ae.complete()}}),x(he).subscribe(s))})(i)}}function R(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new Qe({next:()=>{n.unsubscribe(),e()}});return x(t(...r)).subscribe(n)}function E(e,t){return ot((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe(St(n,c=>{o?.unsubscribe();let f=0;const m=i++;x(e(c,m)).subscribe(o=St(n,y=>n.next(t?t(c,y,m,f++):y),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function B(e,t=j){return e=e??J,ot((r,n)=>{let o,i=!0;r.subscribe(St(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function J(e,t){return e===t}function ge(e){for(let t in e)if(e[t]===ge)return t;throw Error("Could not find renamed property on target object.")}function be(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Le(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Le).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function ct(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const st=ge({__forward_ref__:ge});function Ke(e){return e.__forward_ref__=Ke,e.toString=function(){return Le(this())},e}function ut(e){return fn(e)?e():e}function fn(e){return"function"==typeof e&&e.hasOwnProperty(st)&&e.__forward_ref__===Ke}function vn(e){return e&&!!e.\u0275providers}const gt="https://g.co/ng/security#xss";class it extends Error{constructor(t,r){super(function ui(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}function yt(e){return"string"==typeof e?e:null==e?"":String(e)}function xa(e,t){throw new it(-201,!1)}function $o(e,t){null==e&&function yn(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function mt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Er(e){return{providers:e.providers||[],imports:e.imports||[]}}function ks(e){return aa(e,Ts)||aa(e,la)}function aa(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ms(e){return e&&(e.hasOwnProperty(Ws)||e.hasOwnProperty(Ta))?e[Ws]:null}const Ts=ge({\u0275prov:ge}),Ws=ge({\u0275inj:ge}),la=ge({ngInjectableDef:ge}),Ta=ge({ngInjectorDef:ge});var Tn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Tn||{});let Zs;function wo(e){const t=Zs;return Zs=e,t}function ua(e,t,r){const n=ks(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Tn.Optional?null:void 0!==t?t:void xa(Le(e))}const nr=globalThis,As={},fa="__NG_DI_FLAG__",Ys="ngTempTokenPath",lr=/\n/gm,oo="__source";let Lr;function cr(e){const t=Lr;return Lr=e,t}function Pr(e,t=Tn.Default){if(void 0===Lr)throw new it(-203,!1);return null===Lr?ua(e,void 0,t):Lr.get(e,t&Tn.Optional?null:void 0,t)}function ce(e,t=Tn.Default){return(function ca(){return Zs}()||Pr)(ut(e),t)}function g(e,t=Tn.Default){return ce(e,C(t))}function C(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function O(e){const t=[];for(let r=0;r<e.length;r++){const n=ut(e[r]);if(Array.isArray(n)){if(0===n.length)throw new it(900,!1);let o,i=Tn.Default;for(let s=0;s<n.length;s++){const a=n[s],c=ye(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}t.push(ce(o,i))}else t.push(ce(n))}return t}function Z(e,t){return e[fa]=t,e.prototype[fa]=t,e}function ye(e){return e[fa]}function xt(e){return{toString:e}.toString()}var Cn=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Cn||{}),xn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(xn||{});const Ln={},Pt=[],dn=ge({\u0275cmp:ge}),Nn=ge({\u0275dir:ge}),$r=ge({\u0275pipe:ge}),di=ge({\u0275mod:ge}),Br=ge({\u0275fac:ge}),_t=ge({__NG_ELEMENT_ID__:ge}),an=ge({__NG_ENV_ID__:ge});function qr(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function ur(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];dr(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function rr(e){return 3===e||4===e||6===e}function dr(e){return 64===e.charCodeAt(0)}function io(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||Dc(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function Dc(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const Ic="ng-template";function du(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==qr(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function xc(e){return 4===e.type&&e.value!==Ic}function fu(e,t,r){return t===(4!==e.type||r?e.value:Ic)}function $n(e,t,r){let n=4;const o=e.attrs||[],i=function fo(e){for(let t=0;t<e.length;t++)if(rr(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&n){if(n=2|1&n,""!==c&&!fu(e,c,r)||""===c&&1===t.length){if(Dr(n))return!1;s=!0}}else{const f=8&n?c:t[++a];if(8&n&&null!==e.attrs){if(!du(e.attrs,f,r)){if(Dr(n))return!1;s=!0}continue}const y=Bo(8&n?"class":c,o,xc(e),r);if(-1===y){if(Dr(n))return!1;s=!0;continue}if(""!==f){let S;S=y>i?"":o[y+1].toLowerCase();const D=8&n?S:null;if(D&&-1!==qr(D,f,0)||2&n&&f!==S){if(Dr(n))return!1;s=!0}}}}else{if(!s&&!Dr(n)&&!Dr(c))return!1;if(s&&Dr(c))continue;s=!1,n=c|1&n}}return Dr(n)||s}function Dr(e){return 0==(1&e)}function Bo(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function xr(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function Yr(e,t,r=!1){for(let n=0;n<t.length;n++)if($n(e,t[n],r))return!0;return!1}function mo(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function Rr(e,t){return e?":not("+t.trim()+")":t}function br(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!Dr(s)&&(t+=Rr(i,o),o=""),n=s,i=i||!Dr(n);r++}return""!==o&&(t+=Rr(i,o)),t}function v(e){return xt(()=>{const t=yi(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||xn.Emulated,styles:e.styles||Pt,_:null,schemas:e.schemas||null,tView:null,id:""};jo(r);const n=e.dependencies;return r.directiveDefs=wt(n,!1),r.pipeDefs=wt(n,!0),r.id=function Eo(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function X(e){return Xt(e)||tn(e)}function Ee(e){return null!==e}function _e(e){return xt(()=>({type:e.type,bootstrap:e.bootstrap||Pt,declarations:e.declarations||Pt,imports:e.imports||Pt,exports:e.exports||Pt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Tt(e,t){if(null==e)return Ln;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function vt(e){return xt(()=>{const t=yi(e);return jo(t),t})}function bn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Xt(e){return e[dn]||null}function tn(e){return e[Nn]||null}function Yt(e){return e[$r]||null}function Qn(e,t){const r=e[di]||null;if(!r&&!0===t)throw new Error(`Type ${Le(e)} does not have '\u0275mod' property.`);return r}function yi(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ln,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Pt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tt(e.inputs,t),outputs:Tt(e.outputs)}}function jo(e){e.features?.forEach(t=>t(e))}function wt(e,t){if(!e)return null;const r=t?Yt:X;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(Ee)}const kn=0,kt=1,Qt=2,Xr=3,ps=4,ql=5,fi=6,fl=7,go=8,pa=9,pl=10,An=11,Yl=12,Rd=13,hl=14,_o=15,Xl=16,ml=17,Ps=18,Kl=19,Od=20,ha=21,Xs=22,kc=23,Mc=24,qn=25,pu=1,Fd=2,Rs=7,gl=9,Yo=11;function Mi(e){return Array.isArray(e)&&"object"==typeof e[pu]}function Ti(e){return Array.isArray(e)&&!0===e[pu]}function hu(e){return 0!=(4&e.flags)}function Ra(e){return e.componentOffset>-1}function Ac(e){return 1==(1&e.flags)}function hs(e){return!!e.template}function mu(e){return 0!=(512&e[Qt])}function Ir(e,t){return e.hasOwnProperty(Br)?e[Br]:null}let kg=nr.WeakRef??class xg{constructor(t){this.ref=t}deref(){return this.ref}},Xo=0,Yn=null,Xe=!1;function Wn(e){const t=Yn;return Yn=e,t}class Jn{constructor(){this.id=Xo++,this.ref=function Mg(e){return new kg(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,r]of this.producers){const n=r.producerNode.deref();if(null!=n&&r.atTrackingVersion===this.trackingVersion){if(n.producerPollStatus(r.seenValueVersion))return!0}else this.producers.delete(t),n?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=Xe;Xe=!0;try{for(const[r,n]of this.consumers){const o=n.consumerNode.deref();null!=o&&o.trackingVersion===n.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(r),o?.producers.delete(this.id))}}finally{Xe=t}}producerAccessed(){if(Xe)throw new Error("");if(null===Yn)return;let t=Yn.producers.get(this.id);void 0===t?(t={consumerNode:Yn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Yn.trackingVersion},Yn.producers.set(this.id,t),this.consumers.set(Yn.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=Yn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Yn?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let Io=null;function T(e){const t=Wn(null);try{return e()}finally{Wn(t)}}const Y=()=>{};class Ce extends Jn{constructor(t,r,n){super(),this.watch=t,this.schedule=r,this.dirty=!1,this.cleanupFn=Y,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=n}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=Wn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Y,this.watch(this.registerOnCleanup)}finally{Wn(t)}}cleanup(){this.cleanupFn()}}class Te{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ne(){return Ot}function Ot(e){return e.type.prototype.ngOnChanges&&(e.setInput=ir),Pn}function Pn(){const e=Rn(this),t=e?.current;if(t){const r=e.previous;if(r===Ln)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function ir(e,t,r,n){const o=this.declaredInputs[r],i=Rn(e)||function Sn(e,t){return e[hr]=t}(e,{previous:Ln,current:null}),s=i.current||(i.current={}),a=i.previous,c=a[o];s[o]=new Te(c&&c.currentValue,t,a===Ln),e[n]=t}Ne.ngInherit=!0;const hr="__ngSimpleChanges__";function Rn(e){return e[hr]||null}const xo=function(e,t,r){};function Lt(e){for(;Array.isArray(e);)e=e[kn];return e}function Or(e,t){return Lt(t[e])}function so(e,t){return Lt(t[e.index])}function m0(e,t){return e.data[t]}function gu(e,t){return e[t]}function Os(e,t){const r=t[e];return Mi(r)?r:r[kn]}function Jl(e,t){return null==t?null:e[t]}function g0(e){e[ml]=0}function DT(e){1024&e[Qt]||(e[Qt]|=1024,v0(e,1))}function _0(e){1024&e[Qt]&&(e[Qt]&=-1025,v0(e,-1))}function v0(e,t){let r=e[Xr];if(null===r)return;r[ql]+=t;let n=r;for(r=r[Xr];null!==r&&(1===t&&1===n[ql]||-1===t&&0===n[ql]);)r[ql]+=t,n=r,r=r[Xr]}const On={lFrame:M0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function C0(){return On.bindingsEnabled}function _u(){return null!==On.skipHydrationRootTNode}function bt(){return On.lFrame.lView}function mr(){return On.lFrame.tView}function hn(e){return On.lFrame.contextLView=e,e[go]}function mn(e){return On.lFrame.contextLView=null,e}function Ai(){let e=w0();for(;null!==e&&64===e.type;)e=e.parent;return e}function w0(){return On.lFrame.currentTNode}function Oa(e,t){const r=On.lFrame;r.currentTNode=e,r.isParent=t}function Tg(){return On.lFrame.isParent}function Ag(){On.lFrame.isParent=!1}function _l(){return On.lFrame.bindingIndex}function vu(){return On.lFrame.bindingIndex++}function vl(e){const t=On.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function LT(e,t){const r=On.lFrame;r.bindingIndex=r.bindingRootIndex=e,Pg(t)}function Pg(e){On.lFrame.currentDirectiveIndex=e}function I0(){return On.lFrame.currentQueryIndex}function Og(e){On.lFrame.currentQueryIndex=e}function BT(e){const t=e[kt];return 2===t.type?t.declTNode:1===t.type?e[fi]:null}function x0(e,t,r){if(r&Tn.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&Tn.Host||(o=BT(i),null===o||(i=i[hl],10&o.type))););if(null===o)return!1;t=o,e=i}const n=On.lFrame=k0();return n.currentTNode=t,n.lView=e,!0}function Fg(e){const t=k0(),r=e[kt];On.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function k0(){const e=On.lFrame,t=null===e?null:e.child;return null===t?M0(e):t}function M0(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function T0(){const e=On.lFrame;return On.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const A0=T0;function Ng(){const e=T0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ki(){return On.lFrame.selectedIndex}function Rc(e){On.lFrame.selectedIndex=e}function ko(){const e=On.lFrame;return m0(e.tView,e.selectedIndex)}let R0=!0;function Ap(){return R0}function ec(e){R0=e}function Pp(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:f,ngOnDestroy:m}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),c&&(e.viewHooks??=[]).push(-r,c),f&&((e.viewHooks??=[]).push(r,f),(e.viewCheckHooks??=[]).push(r,f)),null!=m&&(e.destroyHooks??=[]).push(r,m)}}function Rp(e,t,r){O0(e,t,3,r)}function Op(e,t,r,n){(3&e[Qt])===r&&O0(e,t,r,n)}function Lg(e,t){let r=e[Qt];(3&r)===t&&(r&=8191,r+=1,e[Qt]=r)}function O0(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let c=void 0!==n?65535&e[ml]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=n&&a>=n)break}else t[c]<0&&(e[ml]+=65536),(a<i||-1==i)&&(ZT(e,r,t,c),e[ml]=(4294901760&e[ml])+c+2),c++}function F0(e,t){xo(4,e,t);const r=Wn(null);try{t.call(e)}finally{Wn(r),xo(5,e,t)}}function ZT(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[Qt]>>13<e[ml]>>16&&(3&e[Qt])===t&&(e[Qt]+=8192,F0(a,i)):F0(a,i)}const yu=-1;class $d{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function Bg(e){return e!==yu}function Bd(e){return 32767&e}function jd(e,t){let r=function KT(e){return e>>16}(e),n=t;for(;r>0;)n=n[hl],r--;return n}let jg=!0;function Fp(e){const t=jg;return jg=e,t}const N0=255,L0=5;let QT=0;const Fa={};function Np(e,t){const r=$0(e,t);if(-1!==r)return r;const n=t[kt];n.firstCreatePass&&(e.injectorIndex=t.length,Vg(n.data,e),Vg(t,null),Vg(n.blueprint,null));const o=Lp(e,t),i=e.injectorIndex;if(Bg(o)){const s=Bd(o),a=jd(o,t),c=a[kt].data;for(let f=0;f<8;f++)t[i+f]=a[s+f]|c[s+f]}return t[i+8]=o,i}function Vg(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $0(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Lp(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=z0(o),null===n)return yu;if(r++,o=o[hl],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return yu}function Ug(e,t,r){!function JT(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(_t)&&(n=r[_t]),null==n&&(n=r[_t]=QT++);const o=n&N0;t.data[e+(o>>L0)]|=1<<o}(e,t,r)}function B0(e,t,r){if(r&Tn.Optional||void 0!==e)return e;xa()}function j0(e,t,r,n){if(r&Tn.Optional&&void 0===n&&(n=null),!(r&(Tn.Self|Tn.Host))){const o=e[pa],i=wo(void 0);try{return o?o.get(t,n,r&Tn.Optional):ua(t,n,r&Tn.Optional)}finally{wo(i)}}return B0(n,0,r)}function V0(e,t,r,n=Tn.Default,o){if(null!==e){if(2048&t[Qt]&&!(n&Tn.Self)){const s=function iA(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[Qt]&&!(512&s[Qt]);){const a=U0(i,s,r,n|Tn.Self,Fa);if(a!==Fa)return a;let c=i.parent;if(!c){const f=s[Od];if(f){const m=f.get(r,Fa,n);if(m!==Fa)return m}c=z0(s),s=s[hl]}i=c}return o}(e,t,r,n,Fa);if(s!==Fa)return s}const i=U0(e,t,r,n,Fa);if(i!==Fa)return i}return j0(t,r,n,o)}function U0(e,t,r,n,o){const i=function nA(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(_t)?e[_t]:void 0;return"number"==typeof t?t>=0?t&N0:oA:t}(r);if("function"==typeof i){if(!x0(t,e,n))return n&Tn.Host?B0(o,0,n):j0(t,r,n,o);try{let s;if(s=i(n),null!=s||n&Tn.Optional)return s;xa()}finally{A0()}}else if("number"==typeof i){let s=null,a=$0(e,t),c=yu,f=n&Tn.Host?t[_o][fi]:null;for((-1===a||n&Tn.SkipSelf)&&(c=-1===a?Lp(e,t):t[a+8],c!==yu&&G0(n,!1)?(s=t[kt],a=Bd(c),t=jd(c,t)):a=-1);-1!==a;){const m=t[kt];if(H0(i,a,m.data)){const y=tA(a,t,r,s,n,f);if(y!==Fa)return y}c=t[a+8],c!==yu&&G0(n,t[kt].data[a+8]===f)&&H0(i,a,t)?(s=m,a=Bd(c),t=jd(c,t)):a=-1}}return o}function tA(e,t,r,n,o,i){const s=t[kt],a=s.data[e+8],m=$p(a,s,r,null==n?Ra(a)&&jg:n!=s&&0!=(3&a.type),o&Tn.Host&&i===a);return null!==m?Oc(t,s,m,a):Fa}function $p(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,c=e.directiveStart,m=i>>20,S=o?a+m:e.directiveEnd;for(let D=n?a:a+m;D<S;D++){const K=s[D];if(D<c&&r===K||D>=c&&K.type===r)return D}if(o){const D=s[c];if(D&&hs(D)&&D.type===r)return c}return null}function Oc(e,t,r,n){let o=e[r];const i=t.data;if(function qT(e){return e instanceof $d}(o)){const s=o;s.resolving&&function el(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new it(-200,`Circular dependency in DI detected for ${e}${r}`)}(function zn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():yt(e)}(i[r]));const a=Fp(s.canSeeViewProviders);s.resolving=!0;const f=s.injectImpl?wo(s.injectImpl):null;x0(e,n,Tn.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function WT(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=Ot(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==f&&wo(f),Fp(a),s.resolving=!1,A0()}}return o}function H0(e,t,r){return!!(r[t+(e>>L0)]&1<<e)}function G0(e,t){return!(e&Tn.Self||e&Tn.Host&&t)}class Qi{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return V0(this._tNode,this._lView,t,C(n),r)}}function oA(){return new Qi(Ai(),bt())}function ei(e){return xt(()=>{const t=e.prototype.constructor,r=t[Br]||Hg(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[Br]||Hg(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Hg(e){return fn(e)?()=>{const t=Hg(ut(e));return t&&t()}:Ir(e)}function z0(e){const t=e[kt],r=t.type;return 2===r?t.declTNode:1===r?e[fi]:null}function bu(e){return function eA(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(rr(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Ai(),e)}const wu="__parameters__";function Eu(e,t,r){return xt(()=>{const n=function Gg(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,f,m){const y=c.hasOwnProperty(wu)?c[wu]:Object.defineProperty(c,wu,{value:[]})[wu];for(;y.length<=m;)y.push(null);return(y[m]=y[m]||[]).push(s),c}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Iu(e,t){e.forEach(r=>Array.isArray(r)?Iu(r,t):t(r))}function Z0(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Bp(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Hd(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function Fs(e,t,r){let n=xu(e,t);return n>=0?e[1|n]=r:(n=~n,function fA(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function zg(e,t){const r=xu(e,t);if(r>=0)return e[1|r]}function xu(e,t){return function q0(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const Vp=Z(Eu("Optional"),8),Up=Z(Eu("SkipSelf"),4);function Zp(e){return 128==(128&e.flags)}var tc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(tc||{});const RA=/^>|^->|<!--|-->|--!>|<!-$/g,OA=/(<|>)/,FA="\u200b$1\u200b";const Xg=new Map;let NA=0;const Qg="__ngContext__";function Bi(e,t){Mi(t)?(e[Qg]=t[Kl],function $A(e){Xg.set(e[Kl],e)}(t)):e[Qg]=t}let Jg;function e_(e,t){return Jg(e,t)}function Wd(e){const t=e[Xr];return Ti(t)?t[Xr]:t}function hC(e){return gC(e[Yl])}function mC(e){return gC(e[ps])}function gC(e){for(;null!==e&&!Ti(e);)e=e[ps];return e}function Tu(e,t,r,n,o){if(null!=n){let i,s=!1;Ti(n)?i=n:Mi(n)&&(s=!0,n=n[kn]);const a=Lt(n);0===e&&null!==r?null==o?bC(t,r,a):Fc(t,r,a,o||null,!0):1===e&&null!==r?Fc(t,r,a,o||null,!0):2===e?function eh(e,t,r){const n=Qp(e,t);n&&function rP(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function sP(e,t,r,n,o){const i=r[Rs];i!==Lt(r)&&Tu(t,e,n,i,o);for(let a=Yo;a<r.length;a++){const c=r[a];qd(c[kt],c,e,t,n,i)}}(t,e,i,r,o)}}function t_(e,t){return e.createComment(function sC(e){return e.replace(RA,t=>t.replace(OA,FA))}(t))}function Xp(e,t,r){return e.createElement(t,r)}function vC(e,t){const r=e[gl],n=r.indexOf(t);_0(t),r.splice(n,1)}function Kp(e,t){if(e.length<=Yo)return;const r=Yo+t,n=e[r];if(n){const o=n[Xl];null!==o&&o!==e&&vC(o,n),t>0&&(e[r-1][ps]=n[ps]);const i=Bp(e,Yo+t);!function YA(e,t){qd(e,t,t[An],2,null,null),t[kn]=null,t[fi]=null}(n[kt],n);const s=i[Ps];null!==s&&s.detachView(i[kt]),n[Xr]=null,n[ps]=null,n[Qt]&=-129}return n}function n_(e,t){if(!(256&t[Qt])){const r=t[An];t[kc]?.destroy(),t[Mc]?.destroy(),r.destroyNode&&qd(e,t,r,3,null,null),function QA(e){let t=e[Yl];if(!t)return r_(e[kt],e);for(;t;){let r=null;if(Mi(t))r=t[Yl];else{const n=t[Yo];n&&(r=n)}if(!r){for(;t&&!t[ps]&&t!==e;)Mi(t)&&r_(t[kt],t),t=t[Xr];null===t&&(t=e),Mi(t)&&r_(t[kt],t),r=t&&t[ps]}t=r}}(t)}}function r_(e,t){if(!(256&t[Qt])){t[Qt]&=-129,t[Qt]|=256,function nP(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof $d)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];xo(4,a,c);try{c.call(a)}finally{xo(5,a,c)}}else{xo(4,o,i);try{i.call(o)}finally{xo(5,o,i)}}}}}(e,t),function tP(e,t){const r=e.cleanup,n=t[fl];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[fl]=null);const o=t[ha];if(null!==o){t[ha]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[kt].type&&t[An].destroy();const r=t[Xl];if(null!==r&&Ti(t[Xr])){r!==t[Xr]&&vC(r,t);const n=t[Ps];null!==n&&n.detachView(e)}!function BA(e){Xg.delete(e[Kl])}(t)}}function o_(e,t,r){return function yC(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[kn];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===xn.None||i===xn.Emulated)return null}return so(n,r)}}(e,t.parent,r)}function Fc(e,t,r,n,o){e.insertBefore(t,r,n,o)}function bC(e,t,r){e.appendChild(t,r)}function CC(e,t,r,n,o){null!==n?Fc(e,t,r,n,o):bC(e,t,r)}function Qp(e,t){return e.parentNode(t)}function wC(e,t,r){return EC(e,t,r)}let i_,th,c_,EC=function SC(e,t,r){return 40&e.type?so(e,r):null};function Jp(e,t,r,n){const o=o_(e,n,t),i=t[An],a=wC(n.parent||t[fi],n,t);if(null!=o)if(Array.isArray(r))for(let c=0;c<r.length;c++)CC(i,o,r[c],a,!1);else CC(i,o,r,a,!1);void 0!==i_&&i_(i,n,t,r,o)}function Zd(e,t){if(null!==t){const r=t.type;if(3&r)return so(t,e);if(4&r)return s_(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return Zd(e,n);{const o=e[t.index];return Ti(o)?s_(-1,o):Lt(o)}}if(32&r)return e_(t,e)()||Lt(e[t.index]);{const n=IC(e,t);return null!==n?Array.isArray(n)?n[0]:Zd(Wd(e[_o]),n):Zd(e,t.next)}}return null}function IC(e,t){return null!==t?e[_o][fi].projection[t.projection]:null}function s_(e,t){const r=Yo+e+1;if(r<t.length){const n=t[r],o=n[kt].firstChild;if(null!==o)return Zd(n,o)}return t[Rs]}function a_(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],c=r.type;if(s&&0===t&&(a&&Bi(Lt(a),n),r.flags|=2),32!=(32&r.flags))if(8&c)a_(e,t,r.child,n,o,i,!1),Tu(t,e,o,a,i);else if(32&c){const f=e_(r,n);let m;for(;m=f();)Tu(t,e,o,m,i);Tu(t,e,o,a,i)}else 16&c?kC(e,t,n,r,o,i):Tu(t,e,o,a,i);r=s?r.projectionNext:r.next}}function qd(e,t,r,n,o,i){a_(r,n,e.firstChild,t,o,i,!1)}function kC(e,t,r,n,o,i){const s=r[_o],c=s[fi].projection[n.projection];if(Array.isArray(c))for(let f=0;f<c.length;f++)Tu(t,e,o,c[f],i);else{let f=c;const m=s[Xr];Zp(n)&&(f.flags|=128),a_(e,t,f,m,o,i,!0)}}function MC(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function TC(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&ur(e,t,n),null!==o&&MC(e,t,o),null!==i&&function lP(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function Au(e){return function l_(){if(void 0===th&&(th=null,nr.trustedTypes))try{th=nr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return th}()?.createHTML(e)||e}class Nc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gt})`}}class pP extends Nc{getTypeName(){return"HTML"}}class hP extends Nc{getTypeName(){return"Style"}}class mP extends Nc{getTypeName(){return"Script"}}class gP extends Nc{getTypeName(){return"URL"}}class _P extends Nc{getTypeName(){return"ResourceURL"}}function Ns(e){return e instanceof Nc?e.changingThisBreaksApplicationSecurity:e}function Na(e,t){const r=function vP(e){return e instanceof Nc&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${gt})`)}return r===t}class EP{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Au(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class DP{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Au(t),r}}const xP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rh(e){return(e=String(e)).match(xP)?e:"unsafe:"+e}function yl(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Yd(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const FC=yl("area,br,col,hr,img,wbr"),NC=yl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),LC=yl("rp,rt"),d_=Yd(FC,Yd(NC,yl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yd(LC,yl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yd(LC,NC)),f_=yl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$C=Yd(f_,yl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kP=yl("script,style,template");class MP{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!d_.hasOwnProperty(r))return this.sanitizedSomething=!0,!kP.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!$C.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;f_[a]&&(c=rh(c)),this.buf.push(" ",s,'="',BC(c),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();d_.hasOwnProperty(r)&&!FC.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(BC(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const TP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AP=/([^\#-~ |!])/g;function BC(e){return e.replace(/&/g,"&amp;").replace(TP,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(AP,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let oh;function jC(e,t){let r=null;try{oh=oh||function OC(e){const t=new DP(e);return function IP(){try{return!!(new window.DOMParser).parseFromString(Au(""),"text/html")}catch{return!1}}()?new EP(t):t}(e);let n=t?String(t):"";r=oh.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=oh.getInertBodyElement(n)}while(n!==i);return Au((new MP).sanitizeChildren(p_(r)||r))}finally{if(r){const n=p_(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function p_(e){return"content"in e&&function PP(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ls=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ls||{});class zt{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=mt({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Kd=new zt("ENVIRONMENT_INITIALIZER"),GC=new zt("INJECTOR",-1),zC=new zt("INJECTOR_DEF_TYPES");class h_{get(t,r=As){if(r===As){const n=new Error(`NullInjectorError: No provider for ${Le(t)}!`);throw n.name="NullInjectorError",n}return r}}function BP(...e){return{\u0275providers:WC(0,e),\u0275fromNgModule:!0}}function WC(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return Iu(t,s=>{const a=s;ih(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&ZC(o,i),r}function ZC(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];g_(o,i=>{t(i,n)})}}function ih(e,t,r,n){if(!(e=ut(e)))return!1;let o=null,i=Ms(e);const s=!i&&Xt(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const c=e.ngModule;if(i=Ms(c),!i)return!1;o=c}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of c)ih(f,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;n.add(o);try{Iu(i.imports,m=>{ih(m,t,r,n)&&(f||=[],f.push(m))})}finally{}void 0!==f&&ZC(f,t)}if(!a){const f=Ir(o)||(()=>new o);t({provide:o,useFactory:f,deps:Pt},o),t({provide:zC,useValue:o,multi:!0},o),t({provide:Kd,useValue:()=>ce(o),multi:!0},o)}const c=i.providers;if(null!=c&&!a){const f=e;g_(c,m=>{t(m,f)})}}}return o!==e&&void 0!==e.providers}function g_(e,t){for(let r of e)vn(r)&&(r=r.\u0275providers),Array.isArray(r)?g_(r,t):t(r)}const jP=ge({provide:String,useValue:ge});function __(e){return null!==e&&"object"==typeof e&&jP in e}function Lc(e){return"function"==typeof e}const v_=new zt("Set Injector scope."),sh={},UP={};let y_;function ah(){return void 0===y_&&(y_=new h_),y_}class Pi{}class lh extends Pi{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,C_(t,s=>this.processProvider(s)),this.records.set(GC,Ru(void 0,this)),o.has("environment")&&this.records.set(Pi,Ru(void 0,this));const i=this.records.get(v_);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(zC.multi,Pt,Tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=cr(this),n=wo(void 0);try{return t()}finally{cr(r),wo(n)}}get(t,r=As,n=Tn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(an))return t[an](this);n=C(n);const i=cr(this),s=wo(void 0);try{if(!(n&Tn.SkipSelf)){let c=this.records.get(t);if(void 0===c){const f=function ZP(e){return"function"==typeof e||"object"==typeof e&&e instanceof zt}(t)&&ks(t);c=f&&this.injectableDefInScope(f)?Ru(b_(t),sh):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(n&Tn.Self?ah():this.parent).get(t,r=n&Tn.Optional&&r===As?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[Ys]=a[Ys]||[]).unshift(Le(t)),i)throw a;return function ke(e,t,r,n){const o=e[Ys];throw t[oo]&&o.unshift(t[oo]),e.message=function Ue(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Le(t);if(Array.isArray(t))o=t.map(Le).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Le(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(lr,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[Ys]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{wo(s),cr(i)}}resolveInjectorInitializers(){const t=cr(this),r=wo(void 0);try{const o=this.get(Kd.multi,Pt,Tn.Self);for(const i of o)i()}finally{cr(t),wo(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(Le(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new it(205,!1)}processProvider(t){let r=Lc(t=ut(t))?t:ut(t&&t.provide);const n=function GP(e){return __(e)?Ru(void 0,e.useValue):Ru(XC(e),sh)}(t);if(Lc(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Ru(void 0,sh,!0),o.factory=()=>O(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===sh&&(r.value=UP,r.value=r.factory()),"object"==typeof r.value&&r.value&&function WP(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=ut(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function b_(e){const t=ks(e),r=null!==t?t.factory:Ir(e);if(null!==r)return r;if(e instanceof zt)throw new it(204,!1);if(e instanceof Function)return function HP(e){const t=e.length;if(t>0)throw Hd(t,"?"),new it(204,!1);const r=function Ma(e){return e&&(e[Ts]||e[la])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new it(204,!1)}function XC(e,t,r){let n;if(Lc(e)){const o=ut(e);return Ir(o)||b_(o)}if(__(e))n=()=>ut(e.useValue);else if(function YC(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...O(e.deps||[]));else if(function qC(e){return!(!e||!e.useExisting)}(e))n=()=>ce(ut(e.useExisting));else{const o=ut(e&&(e.useClass||e.provide));if(!function zP(e){return!!e.deps}(e))return Ir(o)||b_(o);n=()=>new o(...O(e.deps))}return n}function Ru(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function C_(e,t){for(const r of e)Array.isArray(r)?C_(r,t):r&&vn(r)?C_(r.\u0275providers,t):t(r)}const ch=new zt("AppId",{providedIn:"root",factory:()=>qP}),qP="ng",KC=new zt("Platform Initializer"),nc=new zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),QC=new zt("CSP nonce",{providedIn:"root",factory:()=>function Pu(){if(void 0!==c_)return c_;if(typeof document<"u")return document;throw new it(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ew=(e,t,r)=>null;function k_(e,t,r=!1){return ew(e,t,r)}class o2{}class rw{}class s2{resolveComponentFactory(t){throw function i2(e){const t=Error(`No component factory found for ${Le(e)}.`);return t.ngComponent=e,t}(t)}}let mh=(()=>{class t{}return t.NULL=new s2,t})();function a2(){return Fu(Ai(),bt())}function Fu(e,t){return new Ct(so(e,t))}let Ct=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=a2,t})();function l2(e){return e instanceof Ct?e.nativeElement:e}class iw{}let bl=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function c2(){const e=bt(),r=Os(Ai().index,e);return(Mi(r)?r:e)[An]}(),t})(),u2=(()=>{var e;class t{}return(e=t).\u0275prov=mt({token:e,providedIn:"root",factory:()=>null}),t})();class tf{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const d2=new tf("16.2.2"),A_={};function cw(e,t=null,r=null,n){const o=uw(e,t,r,n);return o.resolveInjectorInitializers(),o}function uw(e,t=null,r=null,n,o=new Set){const i=[r||Pt,BP(e)];return n=n||("object"==typeof e?void 0:Le(e)),new lh(i,t||ah(),n||null,o)}let vo=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return cw({name:""},o,n,"");{const i=n.name??"";return cw({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=As,e.NULL=new h_,e.\u0275prov=mt({token:e,providedIn:"any",factory:()=>ce(GC)}),e.__NG_ELEMENT_ID__=-1,t})();function Cl(e){return e instanceof Function?e():e}let O_=(()=>{var e;class t{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new it(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const n of this.callbacks)n.invoke()}finally{this.runningCallbacks=!1;for(const n of this.deferredCallbacks)this.callbacks.add(n);this.deferredCallbacks.clear()}}register(n){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(n)}unregister(n){this.callbacks.delete(n),this.deferredCallbacks.delete(n)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(e=t).\u0275prov=mt({token:e,providedIn:"root",factory:()=>new e}),t})();function nf(e){for(;e;){e[Qt]|=64;const t=Wd(e);if(mu(e)&&!t)return e;e=t}return null}function F_(e){return e.ngOriginalError}class $c{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&F_(t);for(;r&&F_(r);)r=F_(r);return r||null}}const mw=new zt("",{providedIn:"root",factory:()=>!1});class yw extends Jn{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){nf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,r,n){const o=Wn(this);this.trackingVersion++;try{t(r,n)}finally{Wn(o)}}destroy(){this.trackingVersion++}}let _h=null;function bw(){return _h??=new yw,_h}function Cw(e,t){return e[t]??bw()}function ww(e,t){const r=bw();r.hasReadASignal&&(e[t]=_h,r.lView=e,_h=new yw)}const Vn={};function Ye(e){Sw(mr(),bt(),Ki()+e,!1)}function Sw(e,t,r,n){if(!n)if(3==(3&t[Qt])){const i=e.preOrderCheckHooks;null!==i&&Rp(t,i,r)}else{const i=e.preOrderHooks;null!==i&&Op(t,i,0,r)}Rc(r)}function w(e,t=Tn.Default){const r=bt();return null===r?ce(e,t):V0(Ai(),r,ut(e),t)}function vh(e,t,r,n,o,i,s,a,c,f,m){const y=t.blueprint.slice();return y[kn]=o,y[Qt]=140|n,(null!==f||e&&2048&e[Qt])&&(y[Qt]|=2048),g0(y),y[Xr]=y[hl]=e,y[go]=r,y[pl]=s||e&&e[pl],y[An]=a||e&&e[An],y[pa]=c||e&&e[pa]||null,y[fi]=i,y[Kl]=function LA(){return NA++}(),y[Xs]=m,y[Od]=f,y[_o]=2==t.type?e[_o]:y,y}function $u(e,t,r,n,o){let i=e.data[t];if(null===i)i=function N_(e,t,r,n,o){const i=w0(),s=Tg(),c=e.data[t]=function O2(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return _u()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c,c.prev=i)),c}(e,t,r,n,o),function NT(){return On.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function Ld(){const e=On.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Oa(i,!0),i}function rf(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function Dw(e,t,r,n,o){const i=Cw(t,kc),s=Ki(),a=2&n;try{if(Rc(-1),a&&t.length>qn&&Sw(e,t,qn,!1),xo(a?2:0,o),a)i.runInContext(r,n,o);else{const f=Wn(null);try{r(n,o)}finally{Wn(f)}}}finally{a&&null===t[kc]&&ww(t,kc),Rc(s),xo(a?3:1,o)}}function L_(e,t,r){if(hu(t)){const n=Wn(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{Wn(n)}}}function $_(e,t,r){C0()&&(function V2(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;Ra(r)&&function q2(e,t,r){const n=so(t,e),o=Iw(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=yh(e,vh(e,o,null,s,n,t,null,e[pl].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||Np(r,t),Bi(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const c=e.data[a],f=Oc(t,e,a,r);Bi(f,t),null!==s&&Y2(0,a-o,f,c,0,s),hs(c)&&(Os(r.index,t)[go]=Oc(t,e,a,r))}}(e,t,r,so(r,t)),64==(64&r.flags)&&Aw(e,t,r))}function B_(e,t,r=so){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function Iw(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=j_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function j_(e,t,r,n,o,i,s,a,c,f,m){const y=qn+n,S=y+o,D=function k2(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:Vn);return r}(y,S),K="function"==typeof f?f():f;return D[kt]={type:e,blueprint:D,template:r,queries:null,viewQuery:a,declTNode:t,data:D.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:K,incompleteFirstPass:!1,ssrId:m}}let xw=e=>null;function kw(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?Mw(r,t,o,i):n.hasOwnProperty(o)&&Mw(r,t,n[o],i)}return r}function Mw(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function $s(e,t,r,n,o,i,s,a){const c=so(t,r);let m,f=t.inputs;!a&&null!=f&&(m=f[n])?(z_(e,r,m,n,o),Ra(t)&&function L2(e,t){const r=Os(t,e);16&r[Qt]||(r[Qt]|=64)}(r,t.index)):3&t.type&&(n=function N2(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(c,n,o))}function V_(e,t,r,n){if(C0()){const o=null===n?null:{"":-1},i=function H2(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if(Yr(t,s.selectors,!1))if(n||(n=[]),hs(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),U_(e,t,a.length)}else n.unshift(s),U_(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&Tw(e,t,r,s,o,a),o&&function G2(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new it(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=io(r.mergedAttrs,r.attrs)}function Tw(e,t,r,n,o,i){for(let f=0;f<n.length;f++)Ug(Np(r,t),e,n[f].type);!function W2(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let f=0;f<n.length;f++){const m=n[f];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,c=rf(e,t,n.length,null);for(let f=0;f<n.length;f++){const m=n[f];r.mergedAttrs=io(r.mergedAttrs,m.hostAttrs),Z2(e,r,t,c,m),z2(c,m,o),null!==m.contentQueries&&(r.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(r.flags|=64);const y=m.type.prototype;!s&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),c++}!function F2(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let c=null,f=null;for(let m=t.directiveStart;m<o;m++){const y=i[m],S=r?r.get(y):null,K=S?S.outputs:null;c=kw(y.inputs,m,c,S?S.inputs:null),f=kw(y.outputs,m,f,K);const he=null===c||null===s||xc(t)?null:X2(c,m,s);a.push(he)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=f}(e,r,i)}function Aw(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function $T(){return On.lFrame.currentDirectiveIndex}();try{Rc(i);for(let a=n;a<o;a++){const c=e.data[a],f=t[a];Pg(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&U2(c,f)}}finally{Rc(-1),Pg(s)}}function U2(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function U_(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function z2(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;hs(t)&&(r[""]=e)}}function Z2(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=Ir(o.type)),s=new $d(i,hs(o),w);e.blueprint[n]=s,r[n]=s,function B2(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function j2(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,rf(e,r,o.hostVars,Vn),o)}function La(e,t,r,n,o,i){const s=so(e,t);!function H_(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?yt(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[An],s,i,e.value,r,n,o)}function Y2(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)Pw(n,r,s[a++],s[a++],s[a++])}function Pw(e,t,r,n,o){const i=Wn(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{Wn(i)}}function X2(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function Rw(e,t,r,n){return[e,!0,!1,t,null,0,n,r,null,null,null]}function Ow(e,t){const r=e.contentQueries;if(null!==r)for(let n=0;n<r.length;n+=2){const i=r[n+1];if(-1!==i){const s=e.data[i];Og(r[n]),s.contentQueries(2,t[i],i)}}}function yh(e,t){return e[Yl]?e[Rd][ps]=t:e[Yl]=t,e[Rd]=t,t}function G_(e,t,r){Og(0);const n=Wn(null);try{t(e,r)}finally{Wn(n)}}function Fw(e){return e[fl]||(e[fl]=[])}function Nw(e){return e.cleanup||(e.cleanup=[])}function $w(e,t){const r=e[pa],n=r?r.get($c,null):null;n&&n.handleError(t)}function z_(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];Pw(e.data[s],t[s],n,a,o)}}function wl(e,t,r){const n=Or(t,e);!function _C(e,t,r){e.setValue(t,r)}(e[An],n,r)}function K2(e,t){const r=Os(t,e),n=r[kt];!function Q2(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[kn];null!==o&&null===r[Xs]&&(r[Xs]=k_(o,r[pa])),W_(n,r,r[go])}function W_(e,t,r){Fg(t);try{const n=e.viewQuery;null!==n&&G_(1,n,r);const o=e.template;null!==o&&Dw(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ow(e,t),e.staticViewQueries&&G_(2,e.viewQuery,r);const i=e.components;null!==i&&function J2(e,t){for(let r=0;r<t.length;r++)K2(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[Qt]&=-5,Ng()}}let Bw=(()=>{var e;class t{constructor(){this.all=new Set,this.queue=new Map}create(n,o,i){const s=typeof Zone>"u"?null:Zone.current,a=new Ce(n,m=>{this.all.has(m)&&this.queue.set(m,s)},i);let c;this.all.add(a),a.notify();const f=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=o?.onDestroy(f),{destroy:f}}flush(){if(0!==this.queue.size)for(const[n,o]of this.queue)this.queue.delete(n),o?o.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return(e=t).\u0275prov=mt({token:e,providedIn:"root",factory:()=>new e}),t})();function bh(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=ct(o,a):2==i&&(n=ct(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}function sf(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];if(null!==i&&n.push(Lt(i)),Ti(i)){for(let a=Yo;a<i.length;a++){const c=i[a],f=c[kt].firstChild;null!==f&&sf(c[kt],c,f,n)}i[Rs]!==i[kn]&&n.push(i[Rs])}const s=r.type;if(8&s)sf(e,t,r.child,n);else if(32&s){const a=e_(r,t);let c;for(;c=a();)n.push(c)}else if(16&s){const a=IC(t,r);if(Array.isArray(a))n.push(...a);else{const c=Wd(t[_o]);sf(c[kt],c,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function Ch(e,t,r,n=!0){const o=t[pl],i=o.rendererFactory,s=o.afterRenderEventManager;i.begin?.(),s?.begin();try{jw(e,t,e.template,r)}catch(c){throw n&&$w(t,c),c}finally{i.end?.(),o.effectManager?.flush(),s?.end()}}function jw(e,t,r,n){const o=t[Qt];if(256!=(256&o)){t[pl].effectManager?.flush(),Fg(t);try{g0(t),function E0(e){return On.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Dw(e,t,r,2,n);const s=3==(3&o);if(s){const f=e.preOrderCheckHooks;null!==f&&Rp(t,f,null)}else{const f=e.preOrderHooks;null!==f&&Op(t,f,0,null),Lg(t,0)}if(function nR(e){for(let t=hC(e);null!==t;t=mC(t)){if(!t[Fd])continue;const r=t[gl];for(let n=0;n<r.length;n++){DT(r[n])}}}(t),Vw(t,2),null!==e.contentQueries&&Ow(e,t),s){const f=e.contentCheckHooks;null!==f&&Rp(t,f)}else{const f=e.contentHooks;null!==f&&Op(t,f,1),Lg(t,1)}!function x2(e,t){const r=e.hostBindingOpCodes;if(null===r)return;const n=Cw(t,Mc);try{for(let o=0;o<r.length;o++){const i=r[o];if(i<0)Rc(~i);else{const s=i,a=r[++o],c=r[++o];LT(a,s),n.runInContext(c,2,t[s])}}}finally{null===t[Mc]&&ww(t,Mc),Rc(-1)}}(e,t);const a=e.components;null!==a&&Hw(t,a,0);const c=e.viewQuery;if(null!==c&&G_(2,c,n),s){const f=e.viewCheckHooks;null!==f&&Rp(t,f)}else{const f=e.viewHooks;null!==f&&Op(t,f,2),Lg(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Qt]&=-73,_0(t)}finally{Ng()}}}function Vw(e,t){for(let r=hC(e);null!==r;r=mC(r))for(let n=Yo;n<r.length;n++)Uw(r[n],t)}function rR(e,t,r){Uw(Os(t,e),r)}function Uw(e,t){if(!function ST(e){return 128==(128&e[Qt])}(e))return;const r=e[kt];if(80&e[Qt]&&0===t||1024&e[Qt]||2===t)jw(r,e,r.template,e[go]);else if(e[ql]>0){Vw(e,1);const o=e[kt].components;null!==o&&Hw(e,o,1)}}function Hw(e,t,r){for(let n=0;n<t.length;n++)rR(e,t[n],r)}class af{get rootNodes(){const t=this._lView,r=t[kt];return sf(r,t,r.firstChild,[])}constructor(t,r){this._lView=t,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[go]}set context(t){this._lView[go]=t}get destroyed(){return 256==(256&this._lView[Qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Xr];if(Ti(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(Kp(t,n),Bp(r,n))}this._attachedToViewContainer=!1}n_(this._lView[kt],this._lView)}onDestroy(t){!function y0(e,t){if(256==(256&e[Qt]))throw new it(911,!1);null===e[ha]&&(e[ha]=[]),e[ha].push(t)}(this._lView,t)}markForCheck(){nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qt]&=-129}reattach(){this._lView[Qt]|=128}detectChanges(){Ch(this._lView[kt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new it(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function KA(e,t){qd(e,t,t[An],2,null,null)}(this._lView[kt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new it(902,!1);this._appRef=t}}class oR extends af{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Ch(t[kt],t,t[go],!1)}checkNoChanges(){}get context(){return null}}class Gw extends mh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Xt(t);return new lf(r,this.ngModule)}}function zw(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class sR{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=C(n);const o=this.injector.get(t,A_,n);return o!==A_||r===A_?o:this.parentInjector.get(t,r,n)}}class lf extends rw{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=zw(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return zw(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function u(e){return e.map(br).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof Pi?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new sR(t,i):t,a=s.get(iw,null);if(null===a)throw new it(407,!1);const y={rendererFactory:a,sanitizer:s.get(u2,null),effectManager:s.get(Bw,null),afterRenderEventManager:s.get(O_,null)},S=a.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",K=n?function M2(e,t,r,n){const i=n.get(mw,!1)||r===xn.ShadowDom,s=e.selectRootElement(t,i);return function T2(e){xw(e)}(s),s}(S,n,this.componentDef.encapsulation,s):Xp(S,D,function iR(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(D)),Ae=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ie=null;null!==K&&(Ie=k_(K,s,!0));const Nt=j_(0,null,null,1,0,null,null,null,null,null,null),Rt=vh(null,Nt,null,Ae,null,null,y,S,s,null,Ie);let Dt,Bn;Fg(Rt);try{const Cr=this.componentDef;let Fi,Hs=null;Cr.findHostDirectiveDefs?(Fi=[],Hs=new Map,Cr.findHostDirectiveDefs(Cr,Fi,Hs),Fi.push(Cr)):Fi=[Cr];const bT=function lR(e,t){const r=e[kt],n=qn;return e[n]=t,$u(r,n,2,"#host",null)}(Rt,K),Dp=function cR(e,t,r,n,o,i,s){const a=o[kt];!function uR(e,t,r,n){for(const o of e)t.mergedAttrs=io(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(bh(t,t.mergedAttrs,!0),null!==r&&TC(n,r,t))}(n,e,t,s);let c=null;null!==t&&(c=k_(t,o[pa]));const f=i.rendererFactory.createRenderer(t,r);let m=16;r.signals?m=4096:r.onPush&&(m=64);const y=vh(o,Iw(r),null,m,o[e.index],e,i,f,null,null,c);return a.firstCreatePass&&U_(a,e,n.length-1),yh(o,y),o[e.index]=y}(bT,K,Cr,Fi,Rt,y,S);Bn=m0(Nt,qn),K&&function fR(e,t,r,n){if(n)ur(e,r,["ng-version",d2.full]);else{const{attrs:o,classes:i}=function _(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!Dr(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&ur(e,r,o),i&&i.length>0&&MC(e,r,i.join(" "))}}(S,Cr,K,n),void 0!==r&&function pR(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(Bn,this.ngContentSelectors,r),Dt=function dR(e,t,r,n,o,i){const s=Ai(),a=o[kt],c=so(s,o);Tw(a,o,s,r,null,n);for(let m=0;m<r.length;m++)Bi(Oc(o,a,s.directiveStart+m,s),o);Aw(a,o,s),c&&Bi(c,o);const f=Oc(o,a,s.directiveStart+s.componentOffset,s);if(e[go]=o[go]=f,null!==i)for(const m of i)m(f,t);return L_(a,s,e),f}(Dp,Cr,Fi,Hs,Rt,[hR]),W_(Nt,Rt,null)}finally{Ng()}return new aR(this.componentType,Dt,Fu(Bn,Rt),Rt,Bn)}}class aR extends o2{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new oR(o),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;z_(i[kt],i,o,t,r),this.previousInputValues.set(t,r),nf(Os(this._tNode.index,i))}}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function hR(){const e=Ai();Pp(bt()[kt],e)}function sr(e){let t=function Ww(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(hs(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new it(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=wh(e.inputs),s.inputTransforms=wh(e.inputTransforms),s.declaredInputs=wh(e.declaredInputs),s.outputs=wh(e.outputs);const a=o.hostBindings;a&&vR(e,a);const c=o.viewQuery,f=o.contentQueries;if(c&&gR(e,c),f&&_R(e,f),be(e.inputs,o.inputs),be(e.declaredInputs,o.declaredInputs),be(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),be(s.inputTransforms,o.inputTransforms)),hs(o)&&o.data.animation){const m=e.data;m.animation=(m.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===sr&&(r=!1)}}t=Object.getPrototypeOf(t)}!function mR(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=io(o.hostAttrs,r=io(r,o.hostAttrs))}}(n)}function wh(e){return e===Ln?{}:e===Pt?[]:e}function gR(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function _R(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function vR(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function Sh(e){return!!function Z_(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function ji(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Bc(e,t,r,n){const o=ji(e,t,r);return ji(e,t+1,n)||o}function ea(e,t,r,n){const o=bt();return ji(o,vu(),t)&&(mr(),La(ko(),o,e,t,r,n)),ea}function ju(e,t,r,n){return ji(e,vu(),r)?t+yt(r)+n:Vn}function Uu(e,t,r,n,o,i,s,a){const f=function Eh(e,t,r,n,o){const i=Bc(e,t,r,n);return ji(e,t+2,o)||i}(e,_l(),r,o,s);return vl(3),f?t+yt(r)+n+yt(o)+i+yt(s)+a:Vn}function nn(e,t,r,n,o,i,s,a){const c=bt(),f=mr(),m=e+qn,y=f.firstCreatePass?function HR(e,t,r,n,o,i,s,a,c){const f=t.consts,m=$u(t,e,4,s||null,Jl(f,a));V_(t,r,m,Jl(f,c)),Pp(t,m);const y=m.tView=j_(2,m,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,f,null);return null!==t.queries&&(t.queries.template(t,m),y.queries=t.queries.embeddedTView(m)),m}(m,f,c,t,r,n,o,i,s):f.data[m];Oa(y,!1);const S=cS(f,c,y,e);Ap()&&Jp(f,c,S,y),Bi(S,c),yh(c,c[m]=Rw(S,c,S,y)),Ac(y)&&$_(f,c,y),null!=s&&B_(c,y,a)}let cS=function uS(e,t,r,n){return ec(!0),t[An].createComment("")};function Bs(e){return gu(function FT(){return On.lFrame.contextLView}(),qn+e)}function nt(e,t,r){const n=bt();return ji(n,vu(),t)&&$s(mr(),ko(),n,e,t,n[An],r,!1),nt}function J_(e,t,r,n,o){const s=o?"class":"style";z_(e,r,t.inputs[s],s,n)}function ie(e,t,r,n){const o=bt(),i=mr(),s=qn+e,a=o[An],c=i.firstCreatePass?function ZR(e,t,r,n,o,i){const s=t.consts,c=$u(t,e,2,n,Jl(s,o));return V_(t,r,c,Jl(s,i)),null!==c.attrs&&bh(c,c.attrs,!1),null!==c.mergedAttrs&&bh(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,i,o,t,r,n):i.data[s],f=dS(i,o,c,a,t,e);o[s]=f;const m=Ac(c);return Oa(c,!0),TC(a,f,c),32!=(32&c.flags)&&Ap()&&Jp(i,o,f,c),0===function xT(){return On.lFrame.elementDepthCount}()&&Bi(f,o),function kT(){On.lFrame.elementDepthCount++}(),m&&($_(i,o,c),L_(i,c,o)),null!==n&&B_(o,c),ie}function te(){let e=Ai();Tg()?Ag():(e=e.parent,Oa(e,!1));const t=e;(function TT(e){return On.skipHydrationRootTNode===e})(t)&&function OT(){On.skipHydrationRootTNode=null}(),function MT(){On.lFrame.elementDepthCount--}();const r=mr();return r.firstCreatePass&&(Pp(r,e),hu(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function YT(e){return 0!=(8&e.flags)}(t)&&J_(r,t,bt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function XT(e){return 0!=(16&e.flags)}(t)&&J_(r,t,bt(),t.stylesWithoutHost,!1),te}function lt(e,t,r,n){return ie(e,t,r,n),te(),lt}let dS=(e,t,r,n,o,i)=>(ec(!0),Xp(n,o,function P0(){return On.lFrame.currentNamespace}()));function qu(e,t,r){const n=bt(),o=mr(),i=e+qn,s=o.firstCreatePass?function XR(e,t,r,n,o){const i=t.consts,s=Jl(i,n),a=$u(t,e,8,"ng-container",s);return null!==s&&bh(a,s,!0),V_(t,r,a,Jl(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];Oa(s,!0);const a=fS(o,n,s,e);return n[i]=a,Ap()&&Jp(o,n,a,s),Bi(a,n),Ac(s)&&($_(o,n,s),L_(o,s,n)),null!=r&&B_(n,s),qu}function Yu(){let e=Ai();const t=mr();return Tg()?Ag():(e=e.parent,Oa(e,!1)),t.firstCreatePass&&(Pp(t,e),hu(e)&&t.queries.elementEnd(e)),Yu}let fS=(e,t,r,n)=>(ec(!0),t_(t[An],""));function Fr(){return bt()}function pf(e){return!!e&&"function"==typeof e.then}function pS(e){return!!e&&"function"==typeof e.subscribe}function at(e,t,r,n){const o=bt(),i=mr(),s=Ai();return function mS(e,t,r,n,o,i,s){const a=Ac(n),f=e.firstCreatePass&&Nw(e),m=t[go],y=Fw(t);let S=!0;if(3&n.type||s){const he=so(n,t),Pe=s?s(he):he,Ae=y.length,Ie=s?Rt=>s(Lt(Rt[n.index])):n.index;let Nt=null;if(!s&&a&&(Nt=function JR(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[fl],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=i,Nt.__ngLastListenerFn__=i,S=!1;else{i=_S(n,t,m,i,!1);const Rt=r.listen(Pe,o,i);y.push(i,Rt),f&&f.push(o,Ie,Ae,Ae+1)}}else i=_S(n,t,m,i,!1);const D=n.outputs;let K;if(S&&null!==D&&(K=D[o])){const he=K.length;if(he)for(let Pe=0;Pe<he;Pe+=2){const Dt=t[K[Pe]][K[Pe+1]].subscribe(i),Bn=y.length;y.push(i,Dt),f&&f.push(o,n.index,Bn,-(Bn+1))}}}(i,o,o[An],s,e,t,n),at}function gS(e,t,r,n){try{return xo(6,t,r),!1!==r(n)}catch(o){return $w(e,o),!1}finally{xo(7,t,r)}}function _S(e,t,r,n,o){return function i(s){if(s===Function)return n;nf(e.componentOffset>-1?Os(e.index,t):t);let c=gS(t,r,n,s),f=i.__ngNextListenerFn__;for(;f;)c=gS(t,r,f,s)&&c,f=f.__ngNextListenerFn__;return o&&!1===c&&s.preventDefault(),c}}function Ht(e=1){return function jT(e){return(On.lFrame.contextLView=function VT(e,t){for(;e>0;)t=t[hl],e--;return t}(e,On.lFrame.contextLView))[go]}(e)}function eO(e,t){let r=null;const n=function sn(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?Yr(e,i,!0):mo(n,i))return o}else r=o}return r}function $t(e){const t=bt()[_o][fi];if(!t.projection){const n=t.projection=Hd(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?eO(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function Ft(e,t=0,r){const n=bt(),o=mr(),i=$u(o,qn+e,16,null,r||null);null===i.projection&&(i.projection=t),Ag(),(!n[Xs]||_u())&&32!=(32&i.flags)&&function iP(e,t,r){kC(t[An],0,t,r,o_(e,r,t),wC(r.parent||t[fi],r,t))}(o,n,i)}function Mh(e,t,r,n,o){const i=bt(),s=ju(i,t,r,n);return s!==Vn&&$s(mr(),ko(),i,e,s,i[An],o,!1),Mh}function Th(e,t){return e<<17|t<<2}function rc(e){return e>>17&32767}function ev(e){return 2|e}function jc(e){return(131068&e)>>2}function tv(e,t){return-131069&e|t<<2}function nv(e){return 1|e}function xS(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?rc(i):jc(i),c=!1;for(;0!==a&&(!1===c||s);){const m=e[a+1];sO(e[a],t)&&(c=!0,e[a+1]=n?nv(m):ev(m)),a=n?rc(m):jc(m)}c&&(e[r+1]=n?ev(i):nv(i))}function sO(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&xu(e,t)>=0}function Ku(e,t,r){return ma(e,t,r,!1),Ku}function Sl(e,t){return ma(e,t,null,!0),Sl}function ma(e,t,r,n){const o=bt(),i=mr(),s=vl(2);i.firstUpdatePass&&function FS(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[Ki()],s=function OS(e,t){return t>=e.expandoStartIndex}(e,r);(function BS(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function mO(e,t,r,n){const o=function Rg(e){const t=On.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=hf(r=rv(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=rv(o,e,t,r,n),null===i){let c=function gO(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==jc(n))return e[rc(n)]}(e,t,n);void 0!==c&&Array.isArray(c)&&(c=rv(null,e,t,c[1],n),c=hf(c,t.attrs,n),function _O(e,t,r,n){e[rc(r?t.classBindings:t.styleBindings)]=n}(e,t,n,c))}else i=function vO(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=hf(n,e[i].hostAttrs,r);return hf(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function oO(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=rc(s),c=jc(s);e[n]=r;let m,f=!1;if(Array.isArray(r)?(m=r[1],(null===m||xu(r,m)>0)&&(f=!0)):m=r,o)if(0!==c){const S=rc(e[a+1]);e[n+1]=Th(S,a),0!==S&&(e[S+1]=tv(e[S+1],n)),e[a+1]=function nO(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=Th(a,0),0!==a&&(e[a+1]=tv(e[a+1],n)),a=n;else e[n+1]=Th(c,0),0===a?a=n:e[c+1]=tv(e[c+1],n),c=n;f&&(e[n+1]=ev(e[n+1])),xS(e,m,n,!0),xS(e,m,n,!1),function iO(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&xu(i,t)>=0&&(r[n+1]=nv(r[n+1]))}(t,m,e,n,i),s=Th(a,c),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==Vn&&ji(o,s,t)&&function LS(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const c=e.data,f=c[a+1],m=function rO(e){return 1==(1&e)}(f)?$S(c,t,r,o,jc(f),s):void 0;Ah(m)||(Ah(i)||function tO(e){return 2==(2&e)}(f)&&(i=$S(c,null,r,o,a,s)),function aP(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:tc.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=tc.Important),e.setStyle(r,n,o,i))}}(n,s,Or(Ki(),r),o,i))}(i,i.data[Ki()],o,o[An],e,o[s+1]=function wO(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Le(Ns(e)))),e}(t,r),n,s)}function rv(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=hf(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function hf(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Fs(e,s,!!r||t[++i]))}return void 0===e?null:e}function $S(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const c=e[o],f=Array.isArray(c),m=f?c[1]:c,y=null===m;let S=r[o+1];S===Vn&&(S=y?Pt:void 0);let D=y?zg(S,n):m===n?S:void 0;if(f&&!Ah(D)&&(D=zg(c,n)),Ah(D)&&(a=D,s))return a;const K=e[o+1];o=s?rc(K):jc(K)}if(null!==t){let c=i?t.residualClasses:t.residualStyles;null!=c&&(a=zg(c,n))}return a}function Ah(e){return void 0!==e}function je(e,t=""){const r=bt(),n=mr(),o=e+qn,i=n.firstCreatePass?$u(n,o,1,t,null):n.data[o],s=jS(n,r,i,t,e);r[o]=s,Ap()&&Jp(n,r,s,i),Oa(i,!1)}let jS=(e,t,r,n,o)=>(ec(!0),function Yp(e,t){return e.createText(t)}(t[An],n));function js(e){return Vi("",e,""),js}function Vi(e,t,r){const n=bt(),o=ju(n,e,t,r);return o!==Vn&&wl(n,Ki(),o),Vi}function mf(e,t,r,n,o){const i=bt(),s=function Vu(e,t,r,n,o,i){const a=Bc(e,_l(),r,o);return vl(2),a?t+yt(r)+n+yt(o)+i:Vn}(i,e,t,r,n,o);return s!==Vn&&wl(i,Ki(),s),mf}function ov(e,t,r,n,o,i,s){const a=bt(),c=Uu(a,e,t,r,n,o,i,s);return c!==Vn&&wl(a,Ki(),c),ov}const Ju="en-US";let sE=Ju;function av(e,t,r,n,o){if(e=ut(e),Array.isArray(e))for(let i=0;i<e.length;i++)av(e[i],t,r,n,o);else{const i=mr(),s=bt(),a=Ai();let c=Lc(e)?e:ut(e.provide);const f=XC(e),m=1048575&a.providerIndexes,y=a.directiveStart,S=a.providerIndexes>>20;if(Lc(e)||!e.multi){const D=new $d(f,o,w),K=cv(c,t,o?m:m+S,y);-1===K?(Ug(Np(a,s),i,c),lv(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(D),s.push(D)):(r[K]=D,s[K]=D)}else{const D=cv(c,t,m+S,y),K=cv(c,t,m,m+S),Pe=K>=0&&r[K];if(o&&!Pe||!o&&!(D>=0&&r[D])){Ug(Np(a,s),i,c);const Ae=function HF(e,t,r,n,o){const i=new $d(e,r,w);return i.multi=[],i.index=t,i.componentProviders=0,AE(i,o,n&&!r),i}(o?UF:VF,r.length,o,n,f);!o&&Pe&&(r[K].providerFactory=Ae),lv(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(Ae),s.push(Ae)}else lv(i,e,D>-1?D:K,AE(r[o?K:D],f,!o&&n));!o&&n&&Pe&&r[K].componentProviders++}}}function lv(e,t,r,n){const o=Lc(t),i=function VP(e){return!!e.useClass}(t);if(o||i){const c=(i?ut(t.useClass):t).prototype.ngOnDestroy;if(c){const f=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const m=f.indexOf(r);-1===m?f.push(r,[n,c]):f[m+1].push(n,c)}else f.push(r,c)}}}function AE(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function cv(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function VF(e,t,r,n){return uv(this.multi,[])}function UF(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Oc(r,r[kt],this.providerFactory.index,n);i=a.slice(0,s),uv(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],uv(o,i);return i}function uv(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function kr(e,t=[]){return r=>{r.providersResolver=(n,o)=>function jF(e,t,r){const n=mr();if(n.firstCreatePass){const o=hs(e);av(r,n.data,n.blueprint,o,!0),av(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class Uc{}class PE{}class dv extends Uc{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gw(this);const o=Qn(t);this._bootstrapComponents=Cl(o.bootstrap),this._r3Injector=uw(t,r,[{provide:Uc,useValue:this},{provide:mh,useValue:this.componentFactoryResolver},...n],Le(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fv extends PE{constructor(t){super(),this.moduleType=t}create(t){return new dv(this.moduleType,t,[])}}class RE extends Uc{constructor(t){super(),this.componentFactoryResolver=new Gw(this),this.instance=null;const r=new lh([...t.providers,{provide:Uc,useValue:this},{provide:mh,useValue:this.componentFactoryResolver}],t.parent||ah(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function pv(e,t,r=null){return new RE({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let WF=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=WC(0,n.type),i=o.length>0?pv([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=mt({token:e,providedIn:"environment",factory:()=>new e(ce(Pi))}),t})();function OE(e){e.getStandaloneInjector=t=>t.get(WF).getOrCreateStandaloneInjector(e)}function VE(e,t,r,n,o,i){const s=t+r;return ji(e,s,o)?function $a(e,t,r){return e[t]=r}(e,s+1,i?n.call(i,o):n(o)):function Cf(e,t){const r=e[t];return r===Vn?void 0:r}(e,s+1)}function Va(e,t){const r=mr();let n;const o=e+qn;r.firstCreatePass?(n=function dN(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=Ir(n.type)),a=wo(w);try{const c=Fp(!1),f=i();return Fp(c),function WR(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,bt(),o,f),f}finally{wo(a)}}function Ua(e,t,r){const n=e+qn,o=bt(),i=gu(o,n);return function wf(e,t){return e[kt].data[t].pure}(o,n)?VE(o,function Xi(){const e=On.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,i.transform,r,i):i.transform(r)}function mv(e){return t=>{setTimeout(e,void 0,t)}}const Mn=class gN extends et{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=mv(i),o&&(o=mv(o)),s&&(s=mv(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof H&&t.add(a),a}};function _N(){return this._results[Symbol.iterator]()}class gv{get changes(){return this._changes||(this._changes=new Mn)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=gv.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=_N)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){const n=this;n.dirty=!1;const o=function Qs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function uA(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(n._results,o,r))&&(n._results=o,n.length=o.length,n.last=o[this.length-1],n.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function yN(e,t,r,n=!0){const o=t[kt];if(function JA(e,t,r,n){const o=Yo+n,i=r.length;n>0&&(r[o-1][ps]=t),n<i-Yo?(t[ps]=r[o],Z0(r,Yo+n,t)):(r.push(t),t[ps]=null),t[Xr]=r;const s=t[Xl];null!==s&&r!==s&&function eP(e,t){const r=e[gl];t[_o]!==t[Xr][Xr][_o]&&(e[Fd]=!0),null===r?e[gl]=[t]:r.push(t)}(s,t);const a=t[Ps];null!==a&&a.insertView(e),t[Qt]|=128}(o,t,e,r),n){const i=s_(r,e),s=t[An],a=Qp(s,e[Rs]);null!==a&&function XA(e,t,r,n,o,i){n[kn]=o,n[fi]=t,qd(e,n,r,1,o,i)}(o,e[fi],s,t,a,i)}}let _a=(()=>{class t{}return t.__NG_ELEMENT_ID__=wN,t})();const bN=_a,CN=class extends bN{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=function vN(e,t,r,n){const o=t.tView,a=vh(e,o,r,4096&e[Qt]?4096:16,null,t,null,null,null,n?.injector??null,n?.hydrationInfo??null);a[Xl]=e[t.index];const f=e[Ps];return null!==f&&(a[Ps]=f.createEmbeddedView(o)),W_(o,a,r),a}(this._declarationLView,this._declarationTContainer,t,{injector:r,hydrationInfo:n});return new af(o)}};function wN(){return Nh(Ai(),bt())}function Nh(e,t){return 4&e.type?new CN(t,e,Fu(e,t)):null}let _s=(()=>{class t{}return t.__NG_ELEMENT_ID__=kN,t})();function kN(){return QE(Ai(),bt())}const MN=_s,XE=class extends MN{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return Fu(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){const t=Lp(this._hostTNode,this._hostLView);if(Bg(t)){const r=jd(t,this._hostLView),n=Bd(t);return new Qi(r[kt].data[n+8],r)}return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=KE(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Yo}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const a=t.createEmbeddedViewImpl(r||{},i,null);return this.insertImpl(a,o,false),a}createComponent(t,r,n,o,i){const s=t&&!function Ud(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const he=r||{};a=he.index,n=he.injector,o=he.projectableNodes,i=he.environmentInjector||he.ngModuleRef}const c=s?t:new lf(Xt(t)),f=n||this.parentInjector;if(!i&&null==c.ngModule){const Pe=(s?f:this.parentInjector).get(Pi,null);Pe&&(i=Pe)}Xt(c.componentType??{});const D=c.create(f,o,null,i);return this.insertImpl(D.hostView,a,false),D}insert(t,r){return this.insertImpl(t,r,!1)}insertImpl(t,r,n){const o=t._lView;if(function ET(e){return Ti(e[Xr])}(o)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const f=o[Xr],m=new XE(f,f[fi],f[Xr]);m.detach(m.indexOf(t))}}const s=this._adjustIndex(r),a=this._lContainer;return yN(a,o,s,!n),t.attachToViewContainerRef(),Z0(_v(a),s,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=KE(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=Kp(this._lContainer,r);n&&(Bp(_v(this._lContainer),r),n_(n[kt],n))}detach(t){const r=this._adjustIndex(t,-1),n=Kp(this._lContainer,r);return n&&null!=Bp(_v(this._lContainer),r)?new af(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function KE(e){return e[8]}function _v(e){return e[8]||(e[8]=[])}function QE(e,t){let r;const n=t[e.index];return Ti(n)?r=n:(r=Rw(n,t,null,e),t[e.index]=r,yh(t,r)),JE(r,t,e,n),new XE(r,e,t)}let JE=function eD(e,t,r,n){if(e[Rs])return;let o;o=8&r.type?Lt(n):function TN(e,t){const r=e[An],n=r.createComment(""),o=so(t,e);return Fc(r,Qp(r,o),n,function oP(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[Rs]=o};class vv{constructor(t){this.queryList=t,this.matches=null}clone(){return new vv(this.queryList)}setDirty(){this.queryList.setDirty()}}class yv{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new yv(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==iD(t,r).matches&&this.queries[r].setDirty()}}class tD{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class bv{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new bv(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Cv{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Cv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,RN(r,i)),this.matchTNodeWithReadOption(t,r,$p(r,t,i,!1,!1))}else n===_a?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,$p(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===Ct||o===_s||o===_a&&4&r.type)this.addMatch(r.index,-2);else{const i=$p(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function RN(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function FN(e,t,r,n){return-1===r?function ON(e,t){return 11&e.type?Fu(e,t):4&e.type?Nh(e,t):null}(t,e):-2===r?function NN(e,t,r){return r===Ct?Fu(t,e):r===_a?Nh(t,e):r===_s?QE(t,e):void 0}(e,t,n):Oc(e,e[kt],r,t)}function nD(e,t,r,n){const o=t[Ps].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let c=0;c<s.length;c+=2){const f=s[c];a.push(f<0?null:FN(t,i[f],s[c+1],r.metadata.read))}o.matches=a}return o.matches}function wv(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=nD(e,t,o,r);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)n.push(s[a/2]);else{const f=i[a+1],m=t[-c];for(let y=Yo;y<m.length;y++){const S=m[y];S[Xl]===S[Xr]&&wv(S[kt],S,f,n)}if(null!==m[gl]){const y=m[gl];for(let S=0;S<y.length;S++){const D=y[S];wv(D[kt],D,f,n)}}}}}return n}function ta(e){const t=bt(),r=mr(),n=I0();Og(n+1);const o=iD(r,n);if(e.dirty&&function wT(e){return 4==(4&e[Qt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?wv(r,t,n,[]):nD(r,t,o,n);e.reset(i,l2),e.notifyOnChanges()}return!0}return!1}function Hc(e,t,r){const n=mr();n.firstCreatePass&&(oD(n,new tD(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),rD(n,bt(),t)}function ed(e,t,r,n){const o=mr();if(o.firstCreatePass){const i=Ai();oD(o,new tD(t,r,n),i.index),function $N(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}rD(o,bt(),r)}function na(){return function LN(e,t){return e[Ps].queries[t].queryList}(bt(),I0())}function rD(e,t,r){const n=new gv(4==(4&r));(function R2(e,t,r,n){const o=Fw(t);o.push(r),e.firstCreatePass&&Nw(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[Ps]&&(t[Ps]=new yv),t[Ps].queries.push(new vv(n))}function oD(e,t,r){null===e.queries&&(e.queries=new bv),e.queries.track(new Cv(t,r))}function iD(e,t){return e.queries.getByIndex(t)}const Ef=new zt("Application Initializer");let kv=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=g(Ef,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(pf(s))n.push(s);else if(pS(s)){const a=new Promise((c,f)=>{s.subscribe({complete:c,error:f})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),wD=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const El=new zt("LocaleId",{providedIn:"root",factory:()=>g(El,Tn.Optional|Tn.SkipSelf)||function s3(){return typeof $localize<"u"&&$localize.locale||Ju}()});let Bh=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ut(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class c3{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let SD=(()=>{var e;class t{compileModuleSync(n){return new fv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=Cl(Qn(n).declarations).reduce((a,c)=>{const f=Xt(c);return f&&a.push(new lf(f)),a},[]);return new c3(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function xD(...e){}class dt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mn(!1),this.onMicrotaskEmpty=new Mn(!1),this.onStable=new Mn(!1),this.onError=new Mn(!1),typeof Zone>"u")throw new it(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function M3(){const e="function"==typeof nr.requestAnimationFrame;let t=nr[e?"requestAnimationFrame":"setTimeout"],r=nr[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function P3(e){const t=()=>{!function A3(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(nr,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Pv(e),e.isCheckStableRunning=!0,Av(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Pv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{try{return kD(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),MD(e)}},onInvoke:(r,n,o,i,s,a,c)=>{try{return kD(e),r.invoke(o,i,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),MD(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Pv(e),Av(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new it(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new it(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,T3,xD,xD);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const T3={};function Av(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Pv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function kD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function MD(e){e._nesting--,Av(e)}class R3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mn,this.onMicrotaskEmpty=new Mn,this.onStable=new Mn,this.onError=new Mn}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const TD=new zt("",{providedIn:"root",factory:AD});function AD(){const e=g(dt);let t=!0;return Zi(new It(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new It(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{dt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(Is()))}const PD=new zt(""),Vh=new zt("");let Fv,Rv=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fv||(function O3(e){Fv=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(dt),ce(Ov),ce(Vh))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})(),Ov=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return Fv?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),oc=null;const RD=new zt("AllowMultipleToken"),Nv=new zt("PlatformDestroyListeners"),Lv=new zt("appBootstrapListener");class FD{constructor(t,r){this.name=t,this.token=r}}function LD(e,t,r=[]){const n=`Platform: ${t}`,o=new zt(n);return(i=[])=>{let s=$v();if(!s||s.injector.get(RD,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function L3(e){if(oc&&!oc.get(RD,!1))throw new it(400,!1);(function OD(){!function $i(e){Io=e}(()=>{throw new it(600,!1)})})(),oc=e;const t=e.get(BD);(function ND(e){e.get(KC,null)?.forEach(r=>r())})(e)}(function $D(e=[],t){return vo.create({name:t,providers:[{provide:v_,useValue:"platform"},{provide:Nv,useValue:new Set([()=>oc=null])},...e]})}(a,n))}return function B3(e){const t=$v();if(!t)throw new it(401,!1);return t}()}}function $v(){return oc?.get(BD)??null}let BD=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function j3(e="zone.js",t){return"noop"===e?new R3:"zone.js"===e?new dt(t):e}(o?.ngZone,function jD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function zF(e,t,r){return new dv(e,t,r)}(n.moduleType,this.injector,function zD(e){return[{provide:dt,useFactory:e},{provide:Kd,multi:!0,useFactory:()=>{const t=g(U3,{optional:!0});return()=>t.initialize()}},{provide:GD,useFactory:V3},{provide:TD,useFactory:AD}]}(()=>i)),a=s.injector.get($c,null);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:f=>{a.handleError(f)}});s.onDestroy(()=>{Uh(this._modules,s),c.unsubscribe()})}),function VD(e,t,r){try{const n=r();return pf(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const c=s.injector.get(kv);return c.runInitializers(),c.donePromise.then(()=>(function aE(e){$o(e,"Expected localeId to be defined"),"string"==typeof e&&(sE=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(El,Ju)||Ju),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=UD({},o);return function F3(e,t,r){const n=new fv(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(Dl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new it(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new it(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(Nv,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(vo))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function UD(e,t){return Array.isArray(t)?t.reduce(UD,e):{...e,...t}}let Dl=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(GD),this.zoneIsStable=g(TD),this.componentTypes=[],this.components=[],this.isStable=g(Bh).hasPendingTasks.pipe(E(n=>n?un(!1):this.zoneIsStable),B(),Is()),this._injector=g(Pi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof rw;if(!this._injector.get(kv).done)throw!i&&function Fn(e){const t=Xt(e)||tn(e)||Yt(e);return null!==t&&t.standalone}(n),new it(405,!1);let a;a=i?n:this._injector.get(mh).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const c=function N3(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Uc),m=a.create(vo.NULL,[],o||a.selector,c),y=m.location.nativeElement,S=m.injector.get(PD,null);return S?.registerApplication(y),m.onDestroy(()=>{this.detachView(m.hostView),Uh(this.components,m),S?.unregisterApplication(y)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new it(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;Uh(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(Lv,[]);o.push(...this._bootstrapListeners),o.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Uh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new it(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Uh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const GD=new zt("",{providedIn:"root",factory:()=>g($c).handleError.bind(void 0)});function V3(){const e=g(dt),t=g($c);return r=>e.runOutsideAngular(()=>t.handleError(r))}let U3=(()=>{var e;class t{constructor(){this.zone=g(dt),this.applicationRef=g(Dl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();let Mt=(()=>{class t{}return t.__NG_ELEMENT_ID__=G3,t})();function G3(e){return function z3(e,t,r){if(Ra(e)&&!r){const n=Os(e.index,t);return new af(n,n)}return 47&e.type?new af(t[_o],t):null}(Ai(),bt(),16==(16&e))}class YD{constructor(){}supports(t){return Sh(t)}create(t){return new K3(t)}}const X3=(e,t)=>t;class K3{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||X3}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<KD(n,o,i)?r:n,a=KD(s,o,i),c=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,m=c-o;if(f!=m){for(let S=0;S<f;S++){const D=S<i.length?i[S]:i[S]=0,K=D+S;m<=K&&K<f&&(i[S]=D+1)}i[s.previousIndex]=m-f}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Sh(t))throw new it(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function DR(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new Q3(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new XD),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Q3{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class J3{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class XD{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new J3,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KD(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function JD(){return new zh([new YD])}let zh=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||JD()),deps:[[t,new Up,new Vp]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new it(901,!1)}}return(e=t).\u0275prov=mt({token:e,providedIn:"root",factory:JD}),t})();const oL=LD(null,"core",[]);let iL=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Dl))},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({}),t})();function l1(e){const t=Xt(e);if(!t)return null;const r=new lf(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let Gv=null;function ic(){return Gv}class yL{}const Ri=new zt("DocumentToken");let zv=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:function(){return g(CL)},providedIn:"platform"}),t})();const bL=new zt("Location Initialized");let CL=(()=>{var e;class t extends zv{constructor(){super(),this._doc=g(Ri),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ic().getBaseHref(this._doc)}onPopState(n){const o=ic().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=ic().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:function(){return new e},providedIn:"platform"}),t})();function Wv(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function c1(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Il(e){return e&&"?"!==e[0]?"?"+e:e}let Ha=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:function(){return g(d1)},providedIn:"root"}),t})();const u1=new zt("appBaseHref");let d1=(()=>{var e;class t extends Ha{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??g(Ri).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Wv(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+Il(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+Il(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+Il(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(zv),ce(u1,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),f1=(()=>{var e;class t extends Ha{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=Wv(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+Il(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+Il(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(zv),ce(u1,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})(),xf=(()=>{var e;class t{constructor(n){this._subject=new Mn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function EL(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(c1(p1(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Il(o))}normalize(n){return t.stripTrailingSlash(function SL(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,p1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Il(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Il(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=Il,e.joinWithSlash=Wv,e.stripTrailingSlash=c1,e.\u0275fac=function(n){return new(n||e)(ce(Ha))},e.\u0275prov=mt({token:e,factory:function(){return function wL(){return new xf(ce(Ha))}()},providedIn:"root"}),t})();function p1(e){return e.replace(/\/index.html$/,"")}function w1(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class u${constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zc=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new u$(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const c=o.get(s);o.move(c,a),D1(c,i)}});for(let i=0,s=o.length;i<s;i++){const c=o.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{D1(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(w(_s),w(_a),w(zh))},e.\u0275dir=vt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function D1(e,t){e.context.$implicit=t.item}let wi=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new d$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){I1("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){I1("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(w(_s),w(_a))},e.\u0275dir=vt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class d${constructor(){this.$implicit=null,this.ngIf=null}}function I1(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Le(t)}'.`)}class ry{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let rm=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=vt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),x1=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new ry(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(w(_s),w(_a),w(rm,9))},e.\u0275dir=vt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),k1=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new ry(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(w(_s),w(_a),w(rm,9))},e.\u0275dir=vt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class h${createSubscription(t,r){return T(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){T(()=>t.unsubscribe())}}class m${createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const g$=new m$,_$=new h$;let T1=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(pf(n))return g$;if(pS(n))return _$;throw function ya(e,t){return new it(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(w(Mt,16))},e.\u0275pipe=bn({name:"async",type:e,pure:!1,standalone:!0}),t})(),Ga=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({}),t})();const P1="browser";function id(e){return e===P1}function R1(e){return"server"===e}let $$=(()=>{var e;class t{}return(e=t).\u0275prov=mt({token:e,providedIn:"root",factory:()=>new B$(ce(Ri),window)}),t})();class B${constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function j$(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class O1{}class c4 extends yL{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cy extends c4{static makeCurrent(){!function vL(e){Gv||(Gv=e)}(new cy)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function u4(){return Af=Af||document.querySelector("base"),Af?Af.getAttribute("href"):null}();return null==r?null:function d4(e){sm=sm||document.createElement("a"),sm.setAttribute("href",e);const t=sm.pathname;return"/"===t.charAt(0)?t:`/${t}`}(r)}resetBaseElement(){Af=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return w1(document.cookie,t)}}let sm,Af=null,p4=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();const uy=new zt("EventManagerPlugins");let B1=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new it(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(uy),ce(dt))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();class j1{constructor(t){this._doc=t}}const dy="ng-app-id";let V1=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=R1(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${dy}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(dy),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(dy,this.appId),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o);n.appendChild(i);const s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ri),ce(ch),ce(QC,8),ce(nc))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();const fy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},py=/%COMP%/g,_4=new zt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function H1(e,t){return t.map(r=>r.replace(py,e))}let G1=(()=>{var e;class t{constructor(n,o,i,s,a,c,f,m=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=f,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=R1(c),this.defaultRenderer=new hy(n,a,f,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===xn.ShadowDom&&(o={...o,encapsulation:xn.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof W1?i.applyToHost(n):i instanceof my&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,c=this.ngZone,f=this.eventManager,m=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,S=this.platformIsServer;switch(o.encapsulation){case xn.Emulated:s=new W1(f,m,o,this.appId,y,a,c,S);break;case xn.ShadowDom:return new C4(f,m,n,o,a,c,this.nonce,S);default:s=new my(f,m,o,y,a,c,S)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(B1),ce(V1),ce(ch),ce(_4),ce(Ri),ce(nc),ce(dt),ce(QC))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();class hy{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(fy[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(z1(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(z1(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new it(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=fy[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=fy[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(tc.DashCase|tc.Important)?t.style.setProperty(r,n,o&tc.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&tc.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){t[r]=n}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=ic().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function z1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class C4 extends hy{constructor(t,r,n,o,i,s,a,c){super(t,i,s,c),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=H1(o.id,o.styles);for(const m of f){const y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class my extends hy{constructor(t,r,n,o,i,s,a,c){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=c?H1(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class W1 extends my{constructor(t,r,n,o,i,s,a,c){const f=o+"-"+n.id;super(t,r,n,i,s,a,c,f),this.contentAttr=function v4(e){return"_ngcontent-%COMP%".replace(py,e)}(f),this.hostAttr=function y4(e){return"_nghost-%COMP%".replace(py,e)}(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let w4=(()=>{var e;class t extends j1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ri))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();const Z1=["alt","control","meta","shift"],S4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E4={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let D4=(()=>{var e;class t extends j1{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ic().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),a="code."),Z1.forEach(m=>{const y=o.indexOf(m);y>-1&&(o.splice(y,1),a+=m+".")}),a+=s,0!=o.length||0===s.length)return null;const f={};return f.domEventName=i,f.fullKey=a,f}static matchEventFullKeyCode(n,o){let i=S4[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Z1.forEach(a=>{a!==i&&(0,E4[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ri))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();const M4=LD(oL,"browser",[{provide:nc,useValue:P1},{provide:KC,useValue:function I4(){cy.makeCurrent()},multi:!0},{provide:Ri,useFactory:function k4(){return function fP(e){c_=e}(document),document},deps:[]}]),T4=new zt(""),X1=[{provide:Vh,useClass:class f4{addToWindow(t){nr.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new it(5103,!1);return i},nr.getAllAngularTestabilities=()=>t.getAllTestabilities(),nr.getAllAngularRootElements=()=>t.getAllRootElements(),nr.frameworkStabilizers||(nr.frameworkStabilizers=[]),nr.frameworkStabilizers.push(n=>{const o=nr.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&n(s)};o.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?ic().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:PD,useClass:Rv,deps:[dt,Ov,Vh]},{provide:Rv,useClass:Rv,deps:[dt,Ov,Vh]}],K1=[{provide:v_,useValue:"root"},{provide:$c,useFactory:function x4(){return new $c},deps:[]},{provide:uy,useClass:w4,multi:!0,deps:[Ri,dt,nc]},{provide:uy,useClass:D4,multi:!0,deps:[Ri]},G1,V1,B1,{provide:iw,useExisting:G1},{provide:O1,useClass:p4,deps:[]},[]];let A4=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:ch,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(T4,12))},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({providers:[...K1,...X1],imports:[Ga,iL]}),t})(),Q1=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ri))},e.\u0275prov=mt({token:e,factory:function(n){let o=null;return o=n?new n:function R4(){return new Q1(ce(Ri))}(),o},providedIn:"root"}),t})();typeof window<"u"&&window;let _y=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:function(n){let o=null;return o=n?new(n||e):ce(tI),o},providedIn:"root"}),t})(),tI=(()=>{var e;class t extends _y{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case Ls.NONE:return o;case Ls.HTML:return Na(o,"HTML")?Ns(o):jC(this._doc,String(o)).toString();case Ls.STYLE:return Na(o,"Style")?Ns(o):o;case Ls.SCRIPT:if(Na(o,"Script"))return Ns(o);throw new it(5200,!1);case Ls.URL:return Na(o,"URL")?Ns(o):rh(String(o));case Ls.RESOURCE_URL:if(Na(o,"ResourceURL"))return Ns(o);throw new it(5201,!1);default:throw new it(5202,!1)}}bypassSecurityTrustHtml(n){return function yP(e){return new pP(e)}(n)}bypassSecurityTrustStyle(n){return function bP(e){return new hP(e)}(n)}bypassSecurityTrustScript(n){return function CP(e){return new mP(e)}(n)}bypassSecurityTrustUrl(n){return function wP(e){return new gP(e)}(n)}bypassSecurityTrustResourceUrl(n){return function SP(e){return new _P(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ri))},e.\u0275prov=mt({token:e,factory:function(n){let o=null;return o=n?new n:function L4(e){return new tI(e.get(Ri))}(ce(vo)),o},providedIn:"root"}),t})();var Ho=A(5865),$4=A(8062),sd=A.n($4);let am,lm;function rI(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function oI(){return void 0!==lm}class iI{constructor(){this.requestEvent=new Ho.j}dispatchRequest(t){if(t){try{t=new(sd())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let vy=(()=>{var e;class t{constructor(){this.installation=new iI,this.import=new iI,am&&this.installation.dispatchRequest(am),lm&&this.import.dispatchRequest(lm)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function ad(e,t){return I(t)?er(e,t,1):er(e,1)}function ba(e,t){return ot((r,n)=>{let o=0;r.subscribe(St(n,i=>e.call(t,i,o++)&&n.next(i)))})}function Pf(e){return ot((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class cm{}class um{}class za{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof za?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new za;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof za?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class V4{encodeKey(t){return sI(t)}encodeValue(t){return sI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const H4=/%(\d[a-f0-9])/gi,G4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sI(e){return encodeURIComponent(e).replace(H4,(t,r)=>G4[r]??t)}function dm(e){return`${e}`}class ac{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new V4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function U4(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],c=r.get(s)||[];c.push(a),r.set(s,c)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(dm):[dm(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new ac({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(dm(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(dm(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class z4{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function aI(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function lI(e){return typeof Blob<"u"&&e instanceof Blob}function cI(e){return typeof FormData<"u"&&e instanceof FormData}class Rf{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function W4(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new za),this.context||(this.context=new z4),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new ac,this.urlWithParams=r}serializeBody(){return null===this.body?null:aI(this.body)||lI(this.body)||cI(this.body)||function Z4(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ac?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cI(this.body)?null:lI(this.body)?this.body.type||null:aI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ac?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,f=t.params||this.params;const m=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((y,S)=>y.set(S,t.setHeaders[S]),c)),t.setParams&&(f=Object.keys(t.setParams).reduce((y,S)=>y.set(S,t.setParams[S]),f)),new Rf(r,n,i,{params:f,headers:c,context:m,reportProgress:a,responseType:o,withCredentials:s})}}var ld=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ld||{});class yy{constructor(t,r=200,n="OK"){this.headers=t.headers||new za,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class by extends yy{constructor(t={}){super(t),this.type=ld.ResponseHeader}clone(t={}){return new by({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class cd extends yy{constructor(t={}){super(t),this.type=ld.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new cd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class uI extends yy{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Cy(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let wy=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof Rf)s=n;else{let f,m;f=i.headers instanceof za?i.headers:new za(i.headers),i.params&&(m=i.params instanceof ac?i.params:new ac({fromObject:i.params})),s=new Rf(n,o,void 0!==i.body?i.body:null,{headers:f,context:i.context,params:m,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const a=un(s).pipe(ad(f=>this.handler.handle(f)));if(n instanceof Rf||"events"===i.observe)return a;const c=a.pipe(ba(f=>f instanceof cd));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(xe(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return c.pipe(xe(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return c.pipe(xe(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return c.pipe(xe(f=>f.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new ac).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,Cy(i,o))}post(n,o,i={}){return this.request("POST",n,Cy(i,o))}put(n,o,i={}){return this.request("PUT",n,Cy(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(cm))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();function pI(e,t){return t(e)}function Y4(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const K4=new zt(""),Of=new zt(""),hI=new zt("");function Q4(){let e=null;return(t,r)=>{null===e&&(e=(g(K4,{optional:!0})??[]).reduceRight(Y4,pI));const n=g(Bh),o=n.add();return e(t,r).pipe(Pf(()=>n.remove(o)))}}let mI=(()=>{var e;class t extends cm{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=g(Bh)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Of),...this.injector.get(hI,[])]));this.chain=i.reduceRight((s,a)=>function X4(e,t,r){return(n,o)=>r.runInContext(()=>t(n,i=>e(i,o)))}(s,a,this.injector),pI)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Pf(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(um),ce(Pi))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();const nB=/^\)\]\}',?\n/;let _I=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new it(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?tr(o.\u0275loadImpl()):un(null)).pipe(E(()=>new It(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((Pe,Ae)=>a.setRequestHeader(Pe,Ae.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const Pe=n.detectContentTypeHeader();null!==Pe&&a.setRequestHeader("Content-Type",Pe)}if(n.responseType){const Pe=n.responseType.toLowerCase();a.responseType="json"!==Pe?Pe:"text"}const c=n.serializeBody();let f=null;const m=()=>{if(null!==f)return f;const Pe=a.statusText||"OK",Ae=new za(a.getAllResponseHeaders()),Ie=function rB(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return f=new by({headers:Ae,status:a.status,statusText:Pe,url:Ie}),f},y=()=>{let{headers:Pe,status:Ae,statusText:Ie,url:Nt}=m(),Rt=null;204!==Ae&&(Rt=typeof a.response>"u"?a.responseText:a.response),0===Ae&&(Ae=Rt?200:0);let Dt=Ae>=200&&Ae<300;if("json"===n.responseType&&"string"==typeof Rt){const Bn=Rt;Rt=Rt.replace(nB,"");try{Rt=""!==Rt?JSON.parse(Rt):null}catch(Cr){Rt=Bn,Dt&&(Dt=!1,Rt={error:Cr,text:Rt})}}Dt?(s.next(new cd({body:Rt,headers:Pe,status:Ae,statusText:Ie,url:Nt||void 0})),s.complete()):s.error(new uI({error:Rt,headers:Pe,status:Ae,statusText:Ie,url:Nt||void 0}))},S=Pe=>{const{url:Ae}=m(),Ie=new uI({error:Pe,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Ae||void 0});s.error(Ie)};let D=!1;const K=Pe=>{D||(s.next(m()),D=!0);let Ae={type:ld.DownloadProgress,loaded:Pe.loaded};Pe.lengthComputable&&(Ae.total=Pe.total),"text"===n.responseType&&a.responseText&&(Ae.partialText=a.responseText),s.next(Ae)},he=Pe=>{let Ae={type:ld.UploadProgress,loaded:Pe.loaded};Pe.lengthComputable&&(Ae.total=Pe.total),s.next(Ae)};return a.addEventListener("load",y),a.addEventListener("error",S),a.addEventListener("timeout",S),a.addEventListener("abort",S),n.reportProgress&&(a.addEventListener("progress",K),null!==c&&a.upload&&a.upload.addEventListener("progress",he)),a.send(c),s.next({type:ld.Sent}),()=>{a.removeEventListener("error",S),a.removeEventListener("abort",S),a.removeEventListener("load",y),a.removeEventListener("timeout",S),n.reportProgress&&(a.removeEventListener("progress",K),null!==c&&a.upload&&a.upload.removeEventListener("progress",he)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(O1))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();const Sy=new zt("XSRF_ENABLED"),vI=new zt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),yI=new zt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class bI{}let sB=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=w1(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ri),ce(nc),ce(vI))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();function aB(e,t){const r=e.url.toLowerCase();if(!g(Sy)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=g(bI).getToken(),o=g(yI);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var lc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(lc||{});function Wc(e,t){return{\u0275kind:e,\u0275providers:t}}function lB(...e){const t=[wy,_I,mI,{provide:cm,useExisting:mI},{provide:um,useExisting:_I},{provide:Of,useValue:aB,multi:!0},{provide:Sy,useValue:!0},{provide:bI,useClass:sB}];for(const r of e)t.push(...r.\u0275providers);return function m_(e){return{\u0275providers:e}}(t)}const CI=new zt("LEGACY_INTERCEPTOR_FN");let uB=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({providers:[lB(Wc(lc.LegacyInterceptors,[{provide:CI,useFactory:Q4},{provide:Of,useExisting:CI,multi:!0}]))]}),t})();var ne=A(8046);const{isArray:gB}=Array,{getPrototypeOf:_B,prototype:vB,keys:yB}=Object;function wI(e){if(1===e.length){const t=e[0];if(gB(t))return{args:t,keys:null};if(function bB(e){return e&&"object"==typeof e&&_B(e)===vB}(t)){const r=yB(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:CB}=Array;function Ey(e){return xe(t=>function wB(e,t){return CB(t)?e(...t):e(t)}(e,t))}function SI(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}let EI=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(w(bl),w(Ct))},e.\u0275dir=vt({type:e}),t})(),Zc=(()=>{var e;class t extends EI{}return(e=t).\u0275fac=function(){let r;return function(o){return(r||(r=ei(e)))(o||e)}}(),e.\u0275dir=vt({type:e,features:[sr]}),t})();const ns=new zt("NgValueAccessor"),DB={provide:ns,useExisting:Ke(()=>Dy),multi:!0},xB=new zt("CompositionEventMode");let Dy=(()=>{var e;class t extends EI{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function IB(){const e=ic()?ic().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(w(bl),w(Ct),w(xB,8))},e.\u0275dir=vt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&at("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[kr([DB]),sr]}),t})();function cc(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function II(e){return null!=e&&"number"==typeof e.length}const Si=new zt("NgValidators"),uc=new zt("NgAsyncValidators"),kB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ff{static min(t){return xI(t)}static max(t){return kI(t)}static required(t){return function MI(e){return cc(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function TI(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function AI(e){return cc(e.value)||kB.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function PI(e){return t=>cc(t.value)||!II(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return RI(t)}static pattern(t){return function OI(e){if(!e)return pm;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(cc(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return jI(t)}static composeAsync(t){return VI(t)}}function xI(e){return t=>{if(cc(t.value)||cc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function kI(e){return t=>{if(cc(t.value)||cc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function RI(e){return t=>II(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function pm(e){return null}function FI(e){return null!=e}function NI(e){return pf(e)?tr(e):e}function LI(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function $I(e,t){return t.map(r=>r(e))}function BI(e){return e.map(t=>function MB(e){return!e.validate}(t)?t:r=>t.validate(r))}function jI(e){if(!e)return null;const t=e.filter(FI);return 0==t.length?null:function(r){return LI($I(r,t))}}function Iy(e){return null!=e?jI(BI(e)):null}function VI(e){if(!e)return null;const t=e.filter(FI);return 0==t.length?null:function(r){return function SB(...e){const t=ro(e),{args:r,keys:n}=wI(e),o=new It(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let c=s,f=s;for(let m=0;m<s;m++){let y=!1;x(r[m]).subscribe(St(i,S=>{y||(y=!0,f--),a[m]=S},()=>c--,void 0,()=>{(!c||!y)&&(f||i.next(n?SI(n,a):a),i.complete())}))}});return t?o.pipe(Ey(t)):o}($I(r,t).map(NI)).pipe(xe(LI))}}function xy(e){return null!=e?VI(BI(e)):null}function UI(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function HI(e){return e._rawValidators}function GI(e){return e._rawAsyncValidators}function ky(e){return e?Array.isArray(e)?e:[e]:[]}function hm(e,t){return Array.isArray(e)?e.includes(t):e===t}function zI(e,t){const r=ky(t);return ky(e).forEach(o=>{hm(r,o)||r.push(o)}),r}function WI(e,t){return ky(t).filter(r=>!hm(e,r))}class ZI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Iy(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class rs extends ZI{get formDirective(){return null}get path(){return null}}class Ml extends ZI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qI{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Tl=(()=>{var e;class t extends qI{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(w(Ml,2))},e.\u0275dir=vt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&Sl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[sr]}),t})(),Al=(()=>{var e;class t extends qI{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(w(rs,10))},e.\u0275dir=vt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&Sl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[sr]}),t})();const Nf="VALID",gm="INVALID",ud="PENDING",Lf="DISABLED";function Ay(e){return(_m(e)?e.validators:e)||null}function Py(e,t){return(_m(t)?t.asyncValidators:e)||null}function _m(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class QI{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Nf}get invalid(){return this.status===gm}get pending(){return this.status==ud}get disabled(){return this.status===Lf}get enabled(){return this.status!==Lf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(zI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(WI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(WI(t,this._rawAsyncValidators))}hasValidator(t){return hm(this._rawValidators,t)}hasAsyncValidator(t){return hm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ud,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=Lf,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=Nf,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nf||this.status===ud)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lf:Nf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ud,this._hasOwnPendingAsyncValidator=!0;const r=NI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Mn,this.statusChanges=new Mn}_calculateStatus(){return this._allControlsDisabled()?Lf:this.errors?gm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ud)?ud:this._anyControlsHaveStatus(gm)?gm:Nf}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_m(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function RB(e){return Array.isArray(e)?Iy(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function OB(e){return Array.isArray(e)?xy(e):e||null}(this._rawAsyncValidators)}}class dc extends QI{constructor(t,r,n){super(Ay(r),Py(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function KI(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new it(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function XI(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new it(1e3,"");if(!n[r])throw new it(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t[o],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const vm=dc,qc=new zt("CallSetDisabledState",{providedIn:"root",factory:()=>$f}),$f="always";function Bf(e,t,r=$f){Ry(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function LB(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&JI(e,t)})}(e,t),function BB(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function $B(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&JI(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function NB(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function bm(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),wm(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Cm(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function Ry(e,t){const r=HI(e);null!==t.validator?e.setValidators(UI(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=GI(e);null!==t.asyncValidator?e.setAsyncValidators(UI(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();Cm(t._rawValidators,o),Cm(t._rawAsyncValidators,o)}function wm(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=HI(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=GI(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return Cm(t._rawValidators,n),Cm(t._rawAsyncValidators,n),r}function JI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function nx(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function rx(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const ys=class extends QI{constructor(t=null,r,n){super(Ay(r),Py(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_m(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=rx(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nx(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nx(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){rx(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},ni=ys;let Pl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=vt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),cx=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({}),t})();const $y=new zt("NgModelWithFormControlWarning"),JB={provide:rs,useExisting:Ke(()=>Ca)};let Ca=(()=>{var e;class t extends rs{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Mn,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return Bf(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){bm(n.control||null,n,!1),function HB(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function tx(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&(bm(o||null,n),(e=>e instanceof ys)(i)&&(Bf(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function ex(e,t){Ry(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function jB(e,t){return wm(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ry(this.form,this),this._oldForm&&wm(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(w(Si,10),w(uc,10),w(qc,8))},e.\u0275dir=vt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&at("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[kr([JB]),sr,Ne]}),t})();const n6={provide:Ml,useExisting:Ke(()=>Wa)};let Wa=(()=>{var e;class t extends Ml{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Mn,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function Ny(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===Dy?r=i:function UB(e){return Object.getPrototypeOf(e.constructor)===Zc}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function Fy(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function ym(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(w(rs,13),w(Si,10),w(uc,10),w(ns,10),w($y,8))},e.\u0275dir=vt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[kr([n6]),sr,Ne]}),t})();function _x(e){return"number"==typeof e?e:parseFloat(e)}let Yc=(()=>{var e;class t{constructor(){this._validator=pm}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):pm,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=vt({type:e,features:[Ne]}),t})();const c6={provide:Si,useExisting:Ke(()=>Hy),multi:!0};let Hy=(()=>{var e;class t extends Yc{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>_x(n),this.createValidator=n=>kI(n)}}return(e=t).\u0275fac=function(){let r;return function(o){return(r||(r=ei(e)))(o||e)}}(),e.\u0275dir=vt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&ea("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[kr([c6]),sr]}),t})();const u6={provide:Si,useExisting:Ke(()=>Gy),multi:!0};let Gy=(()=>{var e;class t extends Yc{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>_x(n),this.createValidator=n=>xI(n)}}return(e=t).\u0275fac=function(){let r;return function(o){return(r||(r=ei(e)))(o||e)}}(),e.\u0275dir=vt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&ea("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[kr([u6]),sr]}),t})();const m6={provide:Si,useExisting:Ke(()=>Wy),multi:!0};let Wy=(()=>{var e;class t extends Yc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function gx(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>RI(n)}}return(e=t).\u0275fac=function(){let r;return function(o){return(r||(r=ei(e)))(o||e)}}(),e.\u0275dir=vt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&ea("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[kr([m6]),sr]}),t})(),wx=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({imports:[cx]}),t})(),Xc=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:qc,useValue:n.callSetDisabledState??$f}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({imports:[wx]}),t})(),Sm=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:$y,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:qc,useValue:n.callSetDisabledState??$f}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({imports:[wx]}),t})();const v6=["addListener","removeListener"],y6=["addEventListener","removeEventListener"],b6=["on","off"];function Zy(e,t,r,n){if(I(r)&&(n=r,r=void 0),n)return Zy(e,t,r).pipe(Ey(n));const[o,i]=function S6(e){return I(e.addEventListener)&&I(e.removeEventListener)}(e)?y6.map(s=>a=>e[s](t,a,r)):function C6(e){return I(e.addListener)&&I(e.removeListener)}(e)?v6.map(Sx(e,t)):function w6(e){return I(e.on)&&I(e.off)}(e)?b6.map(Sx(e,t)):[];if(!o&&yr(e))return er(s=>Zy(s,t,r))(x(e));if(!o)throw new TypeError("Invalid event target");return new It(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function Sx(e,t){return r=>n=>e[r](t,n)}function Em(...e){const t=zo(e),r=ro(e),{args:n,keys:o}=wI(e);if(0===n.length)return tr([],t);const i=new It(function E6(e,t,r=j){return n=>{Ex(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)Ex(t,()=>{const f=tr(e[c],t);let m=!1;f.subscribe(St(n,y=>{i[c]=y,m||(m=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>SI(o,s):j));return r?i.pipe(Ey(r)):i}function Ex(e,t,r){e?Nr(r,e,t):t()}const Dm=d(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function qy(...e){return function I6(){return Lo(1)}()(tr(e,zo(e)))}function Dx(e){return new It(t=>{x(e()).subscribe(t)})}function Vf(e,t){const r=I(e)?e:()=>e,n=o=>o.error(r());return new It(t?o=>t.schedule(n,0,o):n)}function Yy(){return ot((e,t)=>{let r=null;e._refCount++;const n=St(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class Ix extends It{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Fe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new H;const r=this.getSubject();t.add(this.source.subscribe(St(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=H.EMPTY)}return t}refCount(){return Yy()(this)}}function dd(e){return e<=0?()=>Po:ot((t,r)=>{let n=0;t.subscribe(St(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function xx(...e){const t=zo(e);return ot((r,n)=>{(t?qy(e,r,t):qy(e,r)).subscribe(n)})}function Im(e){return ot((t,r)=>{let n=!1;t.subscribe(St(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function kx(e=x6){return ot((t,r)=>{let n=!1;t.subscribe(St(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function x6(){return new Dm}function fc(e,t){const r=arguments.length>=2;return n=>n.pipe(e?ba((o,i)=>e(o,i,n)):j,dd(1),r?Im(t):kx(()=>new Dm))}function Ui(e,t,r){const n=I(e)||t||r?{next:e,error:t,complete:r}:e;return n?ot((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe(St(i,c=>{var f;null===(f=n.next)||void 0===f||f.call(n,c),i.next(c)},()=>{var c;a=!1,null===(c=n.complete)||void 0===c||c.call(n),i.complete()},c=>{var f;a=!1,null===(f=n.error)||void 0===f||f.call(n,c),i.error(c)},()=>{var c,f;a&&(null===(c=n.unsubscribe)||void 0===c||c.call(n)),null===(f=n.finalize)||void 0===f||f.call(n)}))}):j}function pc(e){return ot((t,r)=>{let i,n=null,o=!1;n=t.subscribe(St(r,void 0,void 0,s=>{i=x(e(s,pc(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function Xy(e){return e<=0?()=>Po:ot((t,r)=>{let n=[];t.subscribe(St(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function Mx(e){return xe(()=>e)}function Tx(e){return ot((t,r)=>{x(e).subscribe(St(r,()=>r.complete(),$)),!r.closed&&t.subscribe(r)})}const Un="primary",Uf=Symbol("RouteTitle");class A6{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function fd(e){return new A6(e)}function P6(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function Za(e,t){const r=e?Object.keys(e):void 0,n=t?Object.keys(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!Ax(e[o],t[o]))return!1;return!0}function Ax(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function Px(e){return e.length>0?e[e.length-1]:null}function hc(e){return function D6(e){return!!e&&(e instanceof It||I(e.lift)&&I(e.subscribe))}(e)?e:pf(e)?tr(Promise.resolve(e)):un(e)}const O6={exact:function Fx(e,t,r){if(!Kc(e.segments,t.segments)||!xm(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!Fx(e.children[n],t.children[n],r))return!1;return!0},subset:Nx},Rx={exact:function F6(e,t){return Za(e,t)},subset:function N6(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>Ax(e[r],t[r]))},ignored:()=>!0};function Ox(e,t,r){return O6[r.paths](e.root,t.root,r.matrixParams)&&Rx[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function Nx(e,t,r){return Lx(e,t,t.segments,r)}function Lx(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!Kc(o,r)||t.hasChildren()||!xm(o,r,n))}if(e.segments.length===r.length){if(!Kc(e.segments,r)||!xm(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!Nx(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(Kc(e.segments,o)&&xm(e.segments,o,n)&&e.children[Un])&&Lx(e.children[Un],t,i,n)}}function xm(e,t,r){return t.every((n,o)=>Rx[r](e[o].parameters,n.parameters))}class pd{constructor(t=new jr([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fd(this.queryParams)),this._queryParamMap}toString(){return B6.serialize(this)}}class jr{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return km(this)}}class Hf{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=fd(this.parameters)),this._parameterMap}toString(){return jx(this)}}function Kc(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let hd=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:function(){return new Ky},providedIn:"root"}),t})();class Ky{parse(t){const r=new X6(t);return new pd(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${Gf(t.root,!0)}`,n=function U6(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${Mm(r)}=${Mm(o)}`).join("&"):`${Mm(r)}=${Mm(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function j6(e){return encodeURI(e)}(t.fragment)}`:""}`}}const B6=new Ky;function km(e){return e.segments.map(t=>jx(t)).join("/")}function Gf(e,t){if(!e.hasChildren())return km(e);if(t){const r=e.children[Un]?Gf(e.children[Un],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Un&&n.push(`${o}:${Gf(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function $6(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===Un&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==Un&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===Un?[Gf(e.children[Un],!1)]:[`${o}:${Gf(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Un]?`${km(e)}/${r[0]}`:`${km(e)}/(${r.join("//")})`}}function $x(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mm(e){return $x(e).replace(/%3B/gi,";")}function Qy(e){return $x(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tm(e){return decodeURIComponent(e)}function Bx(e){return Tm(e.replace(/\+/g,"%20"))}function jx(e){return`${Qy(e.path)}${function V6(e){return Object.keys(e).map(t=>`;${Qy(t)}=${Qy(e[t])}`).join("")}(e.parameters)}`}const H6=/^[^\/()?;#]+/;function Jy(e){const t=e.match(H6);return t?t[0]:""}const G6=/^[^\/()?;=#]+/,W6=/^[^=?&#]+/,q6=/^[^&#]+/;class X6{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jr([],{}):new jr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[Un]=new jr(t,r)),n}parseSegment(){const t=Jy(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new it(4009,!1);return this.capture(t),new Hf(Tm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function z6(e){const t=e.match(G6);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=Jy(this.remaining);o&&(n=o,this.capture(n))}t[Tm(r)]=Tm(n)}parseQueryParam(t){const r=function Z6(e){const t=e.match(W6);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function Y6(e){const t=e.match(q6);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=Bx(r),i=Bx(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Jy(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new it(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Un);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[Un]:new jr([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new it(4011,!1)}}function Vx(e){return e.segments.length>0?new jr([],{[Un]:e}):e}function Ux(e){const t={};for(const n of Object.keys(e.children)){const i=Ux(e.children[n]);if(n===Un&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function K6(e){if(1===e.numberOfChildren&&e.children[Un]){const t=e.children[Un];return new jr(e.segments.concat(t.segments),t.children)}return e}(new jr(e.segments,t))}function Qc(e){return e instanceof pd}function Hx(e){let t;const o=Vx(function r(i){const s={};for(const c of i.children){const f=r(c);s[c.outlet]=f}const a=new jr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function Gx(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return eb(o,o,o,r,n);const i=function J6(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Wx(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([c,f])=>{a[c]="string"==typeof f?f.split("/"):f}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new Wx(r,t,n)}(t);if(i.toRoot())return eb(o,o,new jr([],{}),r,n);const s=function ej(e,t,r){if(e.isAbsolute)return new Pm(t,!0,0);if(!r)return new Pm(t,!1,NaN);if(null===r.parent)return new Pm(r,!0,0);const n=Am(e.commands[0])?0:1;return function tj(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new it(4005,!1);o=n.segments.length}return new Pm(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?Wf(s.segmentGroup,s.index,i.commands):Zx(s.segmentGroup,s.index,i.commands);return eb(o,s.segmentGroup,a,r,n)}function Am(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function zf(e){return"object"==typeof e&&null!=e&&e.outlets}function eb(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([c,f])=>{i[c]=Array.isArray(f)?f.map(m=>`${m}`):`${f}`}),s=e===t?r:zx(e,t,r);const a=Vx(Ux(s));return new pd(a,i,o)}function zx(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:zx(i,t,r)}),new jr(e.segments,n)}class Wx{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&Am(n[0]))throw new it(4003,!1);const o=n.find(zf);if(o&&o!==Px(n))throw new it(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pm{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function Zx(e,t,r){if(e||(e=new jr([],{})),0===e.segments.length&&e.hasChildren())return Wf(e,t,r);const n=function rj(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(zf(a))break;const c=`${a}`,f=n<r.length-1?r[n+1]:null;if(o>0&&void 0===c)break;if(c&&f&&"object"==typeof f&&void 0===f.outlets){if(!Yx(c,f,s))return i;n+=2}else{if(!Yx(c,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new jr(e.segments.slice(0,n.pathIndex),{});return i.children[Un]=new jr(e.segments.slice(n.pathIndex),e.children),Wf(i,0,o)}return n.match&&0===o.length?new jr(e.segments,{}):n.match&&!e.hasChildren()?tb(e,t,r):n.match?Wf(e,0,o):tb(e,t,r)}function Wf(e,t,r){if(0===r.length)return new jr(e.segments,{});{const n=function nj(e){return zf(e[0])?e[0].outlets:{[Un]:e}}(r),o={};if(Object.keys(n).some(i=>i!==Un)&&e.children[Un]&&1===e.numberOfChildren&&0===e.children[Un].segments.length){const i=Wf(e.children[Un],t,r);return new jr(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=Zx(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new jr(e.segments,o)}}function tb(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(zf(i)){const c=oj(i.outlets);return new jr(n,c)}if(0===o&&Am(r[0])){n.push(new Hf(e.segments[t].path,qx(r[0]))),o++;continue}const s=zf(i)?i.outlets[Un]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&Am(a)?(n.push(new Hf(s,qx(a))),o+=2):(n.push(new Hf(s,{})),o++)}return new jr(n,{})}function oj(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=tb(new jr([],{}),0,n))}),t}function qx(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function Yx(e,t,r){return e==r.path&&Za(t,r.parameters)}const Zf="imperative";class qa{constructor(t,r){this.id=t,this.url=r}}class qf extends qa{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mc extends qa{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yf extends qa{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class md extends qa{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class Rm extends qa{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xx extends qa{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ij extends qa{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sj extends qa{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class aj extends qa{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lj extends qa{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cj{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uj{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dj{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fj{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pj{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hj{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kx{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nb{}class rb{constructor(t){this.url=t}}class mj{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jc,this.attachRef=null}}let Jc=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new mj,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class Qx{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=ob(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=ob(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=ib(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return ib(t,this._root).map(r=>r.value)}}function ob(e,t){if(e===t.value)return t;for(const r of t.children){const n=ob(e,r);if(n)return n}return null}function ib(e,t){if(e===t.value)return[t];for(const r of t.children){const n=ib(e,r);if(n.length)return n.unshift(t),n}return[]}class Rl{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function gd(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class Jx extends Qx{constructor(t,r){super(t),this.snapshot=r,sb(this,t)}toString(){return this.snapshot.toString()}}function ek(e,t){const r=function gj(e,t){const s=new Om([],{},{},"",{},Un,t,null,{});return new nk("",new Rl(s,[]))}(0,t),n=new Ut([new Hf("",{})]),o=new Ut({}),i=new Ut({}),s=new Ut({}),a=new Ut(""),c=new Ol(n,o,s,a,i,Un,t,r.root);return c.snapshot=r.root,new Jx(new Rl(c,[]),r)}class Ol{constructor(t,r,n,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(xe(f=>f[Uf]))??un(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(t=>fd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(t=>fd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tk(e,t="emptyOnly"){const r=e.pathFromRoot;let n=0;if("always"!==t)for(n=r.length-1;n>=1;){const o=r[n],i=r[n-1];if(o.routeConfig&&""===o.routeConfig.path)n--;else{if(i.component)break;n--}}return function _j(e){return e.reduce((t,r)=>({params:{...t.params,...r.params},data:{...t.data,...r.data},resolve:{...r.data,...t.resolve,...r.routeConfig?.data,...r._resolvedData}}),{params:{},data:{},resolve:{}})}(r.slice(n))}class Om{get title(){return this.data?.[Uf]}constructor(t,r,n,o,i,s,a,c,f){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nk extends Qx{constructor(t,r){super(r),this.url=t,sb(this,r)}toString(){return rk(this._root)}}function sb(e,t){t.value._routerState=e,t.children.forEach(r=>sb(e,r))}function rk(e){const t=e.children.length>0?` { ${e.children.map(rk).join(", ")} } `:"";return`${e.value}${t}`}function ab(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Za(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),Za(t.params,r.params)||e.paramsSubject.next(r.params),function R6(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Za(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),Za(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function lb(e,t){const r=Za(e.params,t.params)&&function L6(e,t){return Kc(e,t)&&e.every((r,n)=>Za(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||lb(e.parent,t.parent))}let ok=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Un,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.attachEvents=new Mn,this.detachEvents=new Mn,this.parentContexts=g(Jc),this.location=g(_s),this.changeDetector=g(Mt),this.environmentInjector=g(Pi),this.inputBinder=g(Fm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new it(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new it(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new it(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new it(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,f=new vj(n,c,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:f,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=vt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ne]}),t})();class vj{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===Ol?this.route:t===Jc?this.childContexts:this.parent.get(t,r)}}const Fm=new zt("");let ik=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=Em([o.queryParams,o.params,o.data]).pipe(E(([s,a,c],f)=>(c={...s,...a,...c},0===f?un(c):Promise.resolve(c)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=l1(o.component);if(a)for(const{templateName:c}of a.inputs)n.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();function Xf(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function bj(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return Xf(e,n,o);return Xf(e,n)})}(e,t,r);return new Rl(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Xf(e,a)),s}}const n=function Cj(e){return new Ol(new Ut(e.url),new Ut(e.params),new Ut(e.queryParams),new Ut(e.fragment),new Ut(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>Xf(e,i));return new Rl(n,o)}}const cb="ngNavigationCancelingError";function sk(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=Qc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=ak(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function ak(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[cb]=!0,n.cancellationCode=t,r&&(n.url=r),n}function lk(e){return e&&e[cb]}let ck=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=v({type:e,selectors:[["ng-component"]],standalone:!0,features:[OE],decls:1,vars:0,template:function(n,o){1&n&&lt(0,"router-outlet")},dependencies:[ok],encapsulation:2}),t})();function ub(e){const t=e.children&&e.children.map(ub),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==Un&&(r.component=ck),r}function wa(e){return e.outlet||Un}function Kf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class Mj{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),ab(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=gd(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=gd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=gd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=gd(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new hj(i.value.snapshot))}),t.children.length&&this.forwardEvent(new fj(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(ab(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ab(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Kf(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class uk{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Nm{constructor(t,r){this.component=t,this.route=r}}function Tj(e,t,r){const n=e._root;return Qf(n,t?t._root:null,r,[n.value])}function _d(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function ka(e){return null!==ks(e)}(e)?t.get(e):e:n}function Qf(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=gd(t);return e.children.forEach(s=>{(function Pj(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function Rj(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Kc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Kc(e.url,t.url)||!Za(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lb(e,t)||!Za(e.queryParams,t.queryParams);default:return!lb(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new uk(n)):(i.data=s.data,i._resolvedData=s._resolvedData),Qf(e,t,i.component?a?a.children:null:r,n,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Nm(a.outlet.component,s))}else s&&Jf(t,a,o),o.canActivateChecks.push(new uk(n)),Qf(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Jf(a,r.getContext(s),o)),o}function Jf(e,t,r){const n=gd(e),o=e.value;Object.entries(n).forEach(([i,s])=>{Jf(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new Nm(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function ep(e){return"function"==typeof e}function dk(e){return e instanceof Dm||"EmptyError"===e?.name}const Lm=Symbol("INITIAL_VALUE");function vd(){return E(e=>Em(e.map(t=>t.pipe(dd(1),xx(Lm)))).pipe(xe(t=>{for(const r of t)if(!0!==r){if(r===Lm)return Lm;if(!1===r||r instanceof pd)return r}return!0}),ba(t=>t!==Lm),dd(1)))}function fk(e){return function Be(...e){return ft(e)}(Ui(t=>{if(Qc(t))throw sk(0,t)}),xe(t=>!0===t))}class $m{constructor(t){this.segmentGroup=t||null}}class pk{constructor(t){this.urlTree=t}}function yd(e){return Vf(new $m(e))}function hk(e){return Vf(new pk(e))}class Jj{constructor(t,r){this.urlSerializer=t,this.urlTree=r}noMatchError(t){return new it(4002,!1)}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return un(n);if(o.numberOfChildren>1||!o.children[Un])return Vf(new it(4e3,!1));o=o.children[Un]}}applyRedirectCommands(t,r,n){return this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n)}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new pd(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,n,o)}),new jr(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new it(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const db={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eV(e,t,r,n,o){const i=fb(e,t,r);return i.matched?(n=function Sj(e,t){return e.providers&&!e._injector&&(e._injector=pv(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function Xj(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?un(o.map(s=>{const a=_d(s,e);return hc(function Bj(e){return e&&ep(e.canMatch)}(a)?a.canMatch(t,r):e.runInContext(()=>a(t,r)))})).pipe(vd(),fk()):un(!0)}(n,t,r).pipe(xe(s=>!0===s?i:{...db}))):un(i)}function fb(e,t,r){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...db}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||P6)(r,e,t);if(!o)return{...db};const i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function mk(e,t,r,n){return r.length>0&&function rV(e,t,r){return r.some(n=>Bm(e,t,n)&&wa(n)!==Un)}(e,r,n)?{segmentGroup:new jr(t,nV(n,new jr(r,e.children))),slicedSegments:[]}:0===r.length&&function oV(e,t,r){return r.some(n=>Bm(e,t,n))}(e,r,n)?{segmentGroup:new jr(e.segments,tV(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new jr(e.segments,e.children),slicedSegments:r}}function tV(e,t,r,n,o){const i={};for(const s of n)if(Bm(e,r,s)&&!o[wa(s)]){const a=new jr([],{});i[wa(s)]=a}return{...o,...i}}function nV(e,t){const r={};r[Un]=t;for(const n of e)if(""===n.path&&wa(n)!==Un){const o=new jr([],{});r[wa(n)]=o}return r}function Bm(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class lV{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Jj(this.urlSerializer,this.urlTree)}noMatchError(t){return new it(4002,!1)}recognize(){const t=mk(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Un).pipe(pc(r=>{if(r instanceof pk)return this.allowRedirects=!1,this.urlTree=r.urlTree,this.match(r.urlTree);throw r instanceof $m?this.noMatchError(r):r}),xe(r=>{const n=new Om([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Un,this.rootComponentType,null,{}),o=new Rl(n,r),i=new nk("",o),s=function Q6(e,t,r=null,n=null){return Gx(Hx(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Un).pipe(pc(n=>{throw n instanceof $m?this.noMatchError(n):n}))}inheritParamsAndData(t){const r=t.value,n=tk(r,this.paramsInheritanceStrategy);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0)}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return tr(o).pipe(ad(i=>{const s=n.children[i],a=function xj(e,t){const r=e.filter(n=>wa(n)===t);return r.push(...e.filter(n=>wa(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function M6(e,t){return ot(function k6(e,t,r,n,o){return(i,s)=>{let a=r,c=t,f=0;i.subscribe(St(s,m=>{const y=f++;c=a?e(c,m,y):(a=!0,m),n&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),Im(null),function T6(e,t){const r=arguments.length>=2;return n=>n.pipe(e?ba((o,i)=>e(o,i,n)):j,Xy(1),r?Im(t):kx(()=>new Dm))}(),er(i=>{if(null===i)return yd(n);const s=gk(i);return function cV(e){e.sort((t,r)=>t.value.outlet===Un?-1:r.value.outlet===Un?1:t.value.outlet.localeCompare(r.value.outlet))}(s),un(s)}))}processSegment(t,r,n,o,i,s){return tr(r).pipe(ad(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(pc(c=>{if(c instanceof $m)return un(null);throw c}))),fc(a=>!!a),pc(a=>{if(dk(a))return function sV(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?un([]):yd(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function iV(e,t,r,n){return!!(wa(e)===n||n!==Un&&Bm(t,r,e))&&("**"===e.path||fb(t,e,r).matched)}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):yd(o):yd(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,n,o){const i=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?hk(i):this.applyRedirects.lineralizeSegments(n,i).pipe(er(s=>{const a=new jr(s,{});return this.processSegment(t,r,a,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:f,positionalParamSegments:m}=fb(r,o,i);if(!a)return yd(r);const y=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,m);return o.redirectTo.startsWith("/")?hk(y):this.applyRedirects.lineralizeSegments(o,y).pipe(er(S=>this.processSegment(t,n,r,S.concat(f),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i,s){let a;if("**"===n.path){const c=o.length>0?Px(o).parameters:{};a=un({snapshot:new Om(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_k(n),wa(n),n.component??n._loadedComponent??null,n,vk(n)),consumedSegments:[],remainingSegments:[]}),r.children={}}else a=eV(r,n,o,t).pipe(xe(({matched:c,consumedSegments:f,remainingSegments:m,parameters:y})=>c?{snapshot:new Om(f,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_k(n),wa(n),n.component??n._loadedComponent??null,n,vk(n)),consumedSegments:f,remainingSegments:m}:null));return a.pipe(E(c=>null===c?yd(r):this.getChildConfig(t=n._injector??t,n,o).pipe(E(({routes:f})=>{const m=n._loadedInjector??t,{snapshot:y,consumedSegments:S,remainingSegments:D}=c,{segmentGroup:K,slicedSegments:he}=mk(r,S,D,f);if(0===he.length&&K.hasChildren())return this.processChildren(m,f,K).pipe(xe(Ae=>null===Ae?null:[new Rl(y,Ae)]));if(0===f.length&&0===he.length)return un([new Rl(y,[])]);const Pe=wa(n)===i;return this.processSegment(m,f,K,he,Pe?Un:i,!0).pipe(xe(Ae=>[new Rl(y,Ae)]))}))))}getChildConfig(t,r,n){return r.children?un({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?un({routes:r._loadedRoutes,injector:r._loadedInjector}):function Yj(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?un(!0):un(o.map(s=>{const a=_d(s,e);return hc(function Fj(e){return e&&ep(e.canLoad)}(a)?a.canLoad(t,r):e.runInContext(()=>a(t,r)))})).pipe(vd(),fk())}(t,r,n).pipe(er(o=>o?this.configLoader.loadChildren(t,r).pipe(Ui(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function Qj(e){return Vf(ak(!1,3))}())):un({routes:[],injector:t})}}function uV(e){const t=e.value.routeConfig;return t&&""===t.path}function gk(e){const t=[],r=new Set;for(const n of e){if(!uV(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=gk(n.children);t.push(new Rl(n.value,o))}return t.filter(n=>!r.has(n))}function _k(e){return e.data||{}}function vk(e){return e.resolve||{}}function yk(e){return"string"==typeof e.title||null===e.title}function pb(e){return E(t=>{const r=e(t);return r?tr(r).pipe(xe(()=>t)):un(t)})}const bd=new zt("ROUTES");let hb=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(SD)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return un(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=hc(n.loadComponent()).pipe(xe(bk),Ui(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Pf(()=>{this.componentLoaders.delete(n)})),i=new Ix(o,()=>new et).pipe(Yy());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return un({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe(xe(c=>{this.onLoadEndListener&&this.onLoadEndListener(o);let f,m;return Array.isArray(c)?m=c:(f=c.create(n).injector,m=f.get(bd,[],Tn.Self|Tn.Optional).flat()),{routes:m.map(ub),injector:f}}),Pf(()=>{this.childrenLoaders.delete(o)})),a=new Ix(s,()=>new et).pipe(Yy());return this.childrenLoaders.set(o,a),a}loadModuleFactoryOrRoutes(n){return hc(n()).pipe(xe(bk),er(o=>o instanceof PE||Array.isArray(o)?un(o):tr(this.compiler.compileModuleAsync(o))))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function bk(e){return function _V(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let jm=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new et,this.transitionAbortSubject=new et,this.configLoader=g(hb),this.environmentInjector=g(Pi),this.urlSerializer=g(hd),this.rootContexts=g(Jc),this.inputBindingEnabled=null!==g(Fm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>un(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new uj(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new cj(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new Ut({id:0,currentUrlTree:o,currentRawUrl:o,currentBrowserUrl:o,extractedUrl:n.urlHandlingStrategy.extract(o),urlAfterRedirects:n.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ba(s=>0!==s.id),xe(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),E(s=>{this.currentTransition=s;let a=!1,c=!1;return un(s).pipe(Ui(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),E(f=>{const m=f.currentBrowserUrl.toString(),y=!n.navigated||f.extractedUrl.toString()!==m||m!==f.currentUrlTree.toString();if(!y&&"reload"!==(f.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const D="";return this.events.next(new md(f.id,this.urlSerializer.serialize(f.rawUrl),D,0)),f.resolve(null),Po}if(n.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return un(f).pipe(E(D=>{const K=this.transitions?.getValue();return this.events.next(new qf(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),K!==this.transitions?.getValue()?Po:Promise.resolve(D)}),function dV(e,t,r,n,o,i){return er(s=>function aV(e,t,r,n,o,i,s="emptyOnly"){return new lV(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(xe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ui(D=>{s.targetSnapshot=D.targetSnapshot,s.urlAfterRedirects=D.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects};const K=new Xx(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(K)}));if(y&&n.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){const{id:D,extractedUrl:K,source:he,restoredState:Pe,extras:Ae}=f,Ie=new qf(D,this.urlSerializer.serialize(K),he,Pe);this.events.next(Ie);const Nt=ek(0,this.rootComponentType).snapshot;return this.currentTransition=s={...f,targetSnapshot:Nt,urlAfterRedirects:K,extras:{...Ae,skipLocationChange:!1,replaceUrl:!1}},un(s)}{const D="";return this.events.next(new md(f.id,this.urlSerializer.serialize(f.extractedUrl),D,1)),f.resolve(null),Po}}),Ui(f=>{const m=new ij(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),xe(f=>(this.currentTransition=s={...f,guards:Tj(f.targetSnapshot,f.currentSnapshot,this.rootContexts)},s)),function Vj(e,t){return er(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?un({...r,guardsResult:!0}):function Uj(e,t,r,n){return tr(e).pipe(er(o=>function qj(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?un(i.map(a=>{const c=Kf(t)??o,f=_d(a,c);return hc(function $j(e){return e&&ep(e.canDeactivate)}(f)?f.canDeactivate(e,t,r,n):c.runInContext(()=>f(e,t,r,n))).pipe(fc())})).pipe(vd()):un(!0)}(o.component,o.route,r,t,n)),fc(o=>!0!==o,!0))}(s,n,o,e).pipe(er(a=>a&&function Oj(e){return"boolean"==typeof e}(a)?function Hj(e,t,r,n){return tr(t).pipe(ad(o=>qy(function zj(e,t){return null!==e&&t&&t(new dj(e)),un(!0)}(o.route.parent,n),function Gj(e,t){return null!==e&&t&&t(new pj(e)),un(!0)}(o.route,n),function Zj(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function Aj(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Dx(()=>un(s.guards.map(c=>{const f=Kf(s.node)??r,m=_d(c,f);return hc(function Lj(e){return e&&ep(e.canActivateChild)}(m)?m.canActivateChild(n,e):f.runInContext(()=>m(n,e))).pipe(fc())})).pipe(vd())));return un(i).pipe(vd())}(e,o.path,r),function Wj(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return un(!0);const o=n.map(i=>Dx(()=>{const s=Kf(t)??r,a=_d(i,s);return hc(function Nj(e){return e&&ep(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(fc())}));return un(o).pipe(vd())}(e,o.route,r))),fc(o=>!0!==o,!0))}(n,i,e,t):un(a)),xe(a=>({...r,guardsResult:a})))})}(this.environmentInjector,f=>this.events.next(f)),Ui(f=>{if(s.guardsResult=f.guardsResult,Qc(f.guardsResult))throw sk(0,f.guardsResult);const m=new sj(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(m)}),ba(f=>!!f.guardsResult||(this.cancelNavigationTransition(f,"",3),!1)),pb(f=>{if(f.guards.canActivateChecks.length)return un(f).pipe(Ui(m=>{const y=new aj(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}),E(m=>{let y=!1;return un(m).pipe(function fV(e,t){return er(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return un(r);let i=0;return tr(o).pipe(ad(s=>function pV(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!yk(o)&&(i[Uf]=o.title),function hV(e,t,r,n){const o=function mV(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===o.length)return un({});const i={};return tr(o).pipe(er(s=>function gV(e,t,r,n){const o=Kf(t)??n,i=_d(e,o);return hc(i.resolve?i.resolve(t,r):o.runInContext(()=>i(t,r)))}(e[s],t,r,n).pipe(fc(),Ui(a=>{i[s]=a}))),Xy(1),Mx(i),pc(s=>dk(s)?Po:Vf(s)))}(i,e,t,n).pipe(xe(s=>(e._resolvedData=s,e.data=tk(e,r).resolve,o&&yk(o)&&(e.data[Uf]=o.title),null)))}(s.route,n,e,t)),Ui(()=>i++),Xy(1),er(s=>i===o.length?un(r):Po))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ui({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(m,"",2)}}))}),Ui(m=>{const y=new lj(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}))}),pb(f=>{const m=y=>{const S=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(y.routeConfig).pipe(Ui(D=>{y.component=D}),xe(()=>{})));for(const D of y.children)S.push(...m(D));return S};return Em(m(f.targetSnapshot.root)).pipe(Im(),dd(1))}),pb(()=>this.afterPreactivation()),xe(f=>{const m=function yj(e,t,r){const n=Xf(e,t._root,r?r._root:void 0);return new Jx(n,t)}(n.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=s={...f,targetRouterState:m},s}),Ui(()=>{this.events.next(new nb)}),((e,t,r,n)=>xe(o=>(new Mj(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),dd(1),Ui({next:f=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new mc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),n.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{a=!0}}),Tx(this.transitionAbortSubject.pipe(Ui(f=>{throw f}))),Pf(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),pc(f=>{if(c=!0,lk(f))this.events.next(new Yf(s.id,this.urlSerializer.serialize(s.extractedUrl),f.message,f.cancellationCode)),function wj(e){return lk(e)&&Qc(e.url)}(f)?this.events.next(new rb(f.url)):s.resolve(!1);else{this.events.next(new Rm(s.id,this.urlSerializer.serialize(s.extractedUrl),f,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(f))}catch(m){s.reject(m)}}return Po}))}))}cancelNavigationTransition(n,o,i){const s=new Yf(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Ck(e){return e!==Zf}let wk=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===Un);return o}getResolvedTitleForRoute(n){return n.data[Uf]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:function(){return g(vV)},providedIn:"root"}),t})(),vV=(()=>{var e;class t extends wk{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Q1))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Sk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:function(){return g(bV)},providedIn:"root"}),t})();class yV{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let bV=(()=>{var e;class t extends yV{}return(e=t).\u0275fac=function(){let r;return function(o){return(r||(r=ei(e)))(o||e)}}(),e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Vm=new zt("",{providedIn:"root",factory:()=>({})});let CV=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:function(){return g(wV)},providedIn:"root"}),t})(),wV=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var tp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(tp||{});function Ek(e,t){e.events.pipe(ba(r=>r instanceof mc||r instanceof Yf||r instanceof Rm||r instanceof md),xe(r=>r instanceof mc||r instanceof md?tp.COMPLETE:r instanceof Yf&&(0===r.code||1===r.code)?tp.REDIRECTING:tp.FAILED),ba(r=>r!==tp.REDIRECTING),dd(1)).subscribe(()=>{t()})}function SV(e){throw e}function EV(e,t,r){return t.parse("/")}const DV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ri=(()=>{var e;class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=g(wD),this.isNgZoneEnabled=!1,this._events=new et,this.options=g(Vm,{optional:!0})||{},this.pendingTasks=g(Bh),this.errorHandler=this.options.errorHandler||SV,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||EV,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=g(CV),this.routeReuseStrategy=g(Sk),this.titleStrategy=g(wk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=g(bd,{optional:!0})?.flat()??[],this.navigationTransitions=g(jm),this.urlSerializer=g(hd),this.location=g(xf),this.componentInputBindingEnabled=!!g(Fm,{optional:!0}),this.eventsSubscription=new H,this.isNgZoneEnabled=g(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new pd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ek(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(Dk(o)&&this._events.next(o));if(o instanceof qf)Ck(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(o instanceof md)this.rawUrlTree=i.rawUrl;else if(o instanceof Xx){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(o instanceof nb)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(o instanceof Yf)0!==o.code&&1!==o.code&&(this.navigated=!0),(3===o.code||2===o.code)&&this.restoreHistory(i);else if(o instanceof rb){const s=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),a={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ck(i.source)};this.scheduleNavigation(s,Zf,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}o instanceof Rm&&this.restoreHistory(i,!0),o instanceof mc&&(this.navigated=!0),Dk(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zf,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const o="popstate"===n.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,o,n.state)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const f={...i};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const c=this.parseUrl(n);this.scheduleNavigation(c,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ub),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:f}=o,m=f?this.currentUrlTree.fragment:a;let S,y=null;switch(c){case"merge":y={...this.currentUrlTree.queryParams,...s};break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=s||null}null!==y&&(y=this.removeEmptyProps(y));try{S=Hx(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),S=this.currentUrlTree.root}return Gx(S,n,y,m??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=Qc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Zf,null,o)}navigate(n,o={skipLocationChange:!1}){return function xV(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new it(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let o;try{o=this.urlSerializer.parse(n)}catch(i){o=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return o}isActive(n,o){let i;if(i=!0===o?{...DV}:!1===o?{...IV}:o,Qc(n))return Ox(this.currentUrlTree,n,i);const s=this.parseUrl(n);return Ox(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let c,f,m;a?(c=a.resolve,f=a.reject,m=a.promise):m=new Promise((S,D)=>{c=S,f=D});const y=this.pendingTasks.add();return Ek(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:c,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(S=>Promise.reject(S))}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Dk(e){return!(e instanceof nb||e instanceof rb)}class Ik{}let TV=(()=>{var e;class t{preload(n,o){return o().pipe(pc(()=>un(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),AV=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ba(n=>n instanceof mc),ad(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=pv(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return tr(i).pipe(Lo())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):un(null);const s=i.pipe(er(a=>null===a?un(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?tr([s,this.loader.loadComponent(o)]).pipe(Lo()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(ri),ce(SD),ce(Pi),ce(Ik),ce(hb))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const mb=new zt("");let xk=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof qf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof mc?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof md&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Kx&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kx(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function Ew(){throw new Error("invalid")}()},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();function Fl(e,t){return{\u0275kind:e,\u0275providers:t}}function Mk(){const e=g(vo);return t=>{const r=e.get(Dl);if(t!==r.components[0])return;const n=e.get(ri),o=e.get(Tk);1===e.get(gb)&&n.initialNavigation(),e.get(Ak,null,Tn.Optional)?.setUpPreloading(),e.get(mb,null,Tn.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Tk=new zt("",{factory:()=>new et}),gb=new zt("",{providedIn:"root",factory:()=>1}),Ak=new zt("");function FV(e){return Fl(0,[{provide:Ak,useExisting:AV},{provide:Ik,useExisting:e}])}const Pk=new zt("ROUTER_FORROOT_GUARD"),LV=[xf,{provide:hd,useClass:Ky},ri,Jc,{provide:Ol,useFactory:function kk(e){return e.routerState.root},deps:[ri]},hb,[]];function $V(){return new FD("Router",ri)}let Um=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[LV,[],{provide:bd,multi:!0,useValue:n},{provide:Pk,useFactory:UV,deps:[[ri,new Vp,new Up]]},{provide:Vm,useValue:o||{}},o?.useHash?{provide:Ha,useClass:f1}:{provide:Ha,useClass:d1},{provide:mb,useFactory:()=>{const e=g($$),t=g(dt),r=g(Vm),n=g(jm),o=g(hd);return r.scrollOffset&&e.setOffset(r.scrollOffset),new xk(o,n,e,t,r)}},o?.preloadingStrategy?FV(o.preloadingStrategy).\u0275providers:[],{provide:FD,multi:!0,useFactory:$V},o?.initialNavigation?HV(o):[],o?.bindToComponentInputs?Fl(8,[ik,{provide:Fm,useExisting:ik}]).\u0275providers:[],[{provide:Rk,useFactory:Mk},{provide:Lv,multi:!0,useExisting:Rk}]]}}static forChild(n){return{ngModule:t,providers:[{provide:bd,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Pk,8))},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({}),t})();function UV(e){return"guarded"}function HV(e){return["disabled"===e.initialNavigation?Fl(3,[{provide:Ef,multi:!0,useFactory:()=>{const t=g(ri);return()=>{t.setUpLocationChangeListener()}}},{provide:gb,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Fl(2,[{provide:gb,useValue:0},{provide:Ef,multi:!0,deps:[vo],useFactory:t=>{const r=t.get(bL,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get(ri),i=t.get(Tk);Ek(o,()=>{n(!0)}),t.get(jm).afterPreactivation=()=>(n(!0),i.closed?un(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const Rk=new zt("");var _b=A(2440),vb=(A(3083),A(9944),A(2208),A(3149)),zV=A(6481),eu=A(7152),rp=A(2704),op=(A(7075),A(4706)),WV=(A(5821),A(1030),A(6389));const qV=vb.i,jt=["*"],XV=["outlet"],KV=["tabsInner"],QV=[[["","slot","top"]],"*"],JV=["[slot=top]","*"],Ok=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let ip=(()=>{class e{constructor(r,n){this.injector=r,this.el=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.el.nativeElement.value=this.lastValue=r,Cd(this.el)}handleValueChange(r,n){r===this.el.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),Cd(this.el))}_handleBlurEvent(r){r===this.el.nativeElement&&(this.onTouched(),Cd(this.el))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.el.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(Ml)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>Cd(this.el)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),Cd(this.el)}}})}}return e.\u0275fac=function(r){return new(r||e)(w(vo),w(Ct))},e.\u0275dir=vt({type:e,hostBindings:function(r,n){1&r&&at("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const Cd=e=>{Ok(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=nU(t);yb(t,n);const o=t.closest("ion-item");o&&yb(o,r?[...n,"item-has-value"]:n)})},nU=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&rU(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},yb=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},rU=(e,t)=>e.substring(0,t.length)===t;let wd=(()=>{class e extends ip{constructor(r,n){super(r,n)}writeValue(r){this.el.nativeElement.checked=this.lastValue=r,Cd(this.el)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(w(vo),w(Ct))},e.\u0275dir=vt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&at("ionChange",function(i){return n._handleIonChange(i.target)})},features:[kr([{provide:ns,useExisting:e,multi:!0}]),sr]}),e})(),sp=(()=>{class e extends ip{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(w(vo),w(Ct))},e.\u0275dir=vt({type:e,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&at("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[kr([{provide:ns,useExisting:e,multi:!0}]),sr]}),e})(),Nl=(()=>{class e extends ip{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(w(vo),w(Ct))},e.\u0275dir=vt({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(r,n){1&r&&at("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[kr([{provide:ns,useExisting:e,multi:!0}]),sr]}),e})();const sU=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},aU=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},fr=(e,t,r)=>{r.forEach(n=>e[n]=Zy(t,n))};function Bt(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&sU(r,o),i&&aU(r,i),r}}let Fk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-app"]],ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({})],e),e})(),Nk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],e),e})(),os=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),is=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["collapse"]})],e),e})(),Lk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),ss=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),as=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["collapse","mode","translucent"]})],e),e})(),Ei=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),Ll=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),gi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),Hm=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),Gm=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["side"]})],e),e})(),zm=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),ls=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["color","mode","position"]})],e),e})(),Ya=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),$k=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],e),e})(),bb=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),Wm=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),Zm=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["disabled","value"]})],e),e})(),ap=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["color","duration","name","paused"]})],e),e})(),qm=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),Bk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),cs=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["color","size"]})],e),e})(),lp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),us=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(w(Mt),w(Ct),w(dt))},e.\u0275cmp=v({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:jt,decls:1,vars:0,template:function(r,n){1&r&&($t(),Ft(0))},encapsulation:2,changeDetection:0}),e=W([Bt({inputs:["color","mode"]})],e),e})(),Cb=(()=>{class e{get(r,n){const o=wb();return o?o.get(r,n):null}getBoolean(r,n){const o=wb();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=wb();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const jk=new zt("USERCONFIG"),wb=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};let l8=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new et,this.keyboardDidShow=new et,this.keyboardDidHide=new et,this.pause=new et,this.resume=new et,this.resize=new et,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,c=>n.run(()=>s(c))))},Sd(this.pause,r,"pause"),Sd(this.resume,r,"resume"),Sd(this.backButton,r,"ionBackButton"),Sd(this.resize,this.win,"resize"),Sd(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Sd(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return(0,vb.a)(this.win,r)}platforms(){return(0,vb.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return c8(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(ce(Ri),ce(dt))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const c8=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},Sd=(e,t,r)=>{t&&t.addEventListener(r,n=>{const o=n?.detail;e.next(o)})};let cp=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=Vk,this.animated=Uk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof qf){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,ne.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=u8(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=Vk,this.animated=Uk,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(ce(l8),ce(xf),ce(hd),ce(ri,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const u8=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},Vk="auto",Uk=void 0;class Hk{constructor(t={}){this.data=t}get(t){return this.data[t]}}let Ym=(()=>{class e{constructor(){this.zone=g(dt),this.applicationRef=g(Dl)}create(r,n,o){return new d8(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();class d8{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(f8(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const f8=(e,t,r,n,o,i,s,a,c,f,m)=>{const S=function _L(e,t){const r=Xt(e),n=t.elementInjector||ah();return new lf(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:vo.create({providers:h8(c),parent:r})}),D=S.instance,K=S.location.nativeElement;if(c&&(m&&void 0!==D[m]&&console.error(`[Ionic Error]: ${m} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${m}" property from ${a.name}.`),Object.assign(D,c)),f)for(const Pe of f)K.classList.add(Pe);const he=Gk(e,D,K);return s.appendChild(K),n.attachView(S.hostView),o.set(K,S),i.set(K,he),K},p8=[rp.L,rp.a,rp.b,rp.c,rp.d],Gk=(e,t,r)=>e.run(()=>{const n=p8.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),zk=new zt("NavParamsToken"),h8=e=>[{provide:zk,useValue:e},{provide:Hk,useFactory:m8,deps:[zk]}],m8=e=>new Hk(e),Wk=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),Sb=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},Zk=(e,t)=>!t||e.stackId!==t.stackId,y8=(e,t)=>{if(!e)return;const r=qk(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},qk=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),Yk=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class b8{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?qk(t):void 0}createView(t,r){const n=Sb(this.router,r),o=t?.location?.nativeElement,i=Gk(this.zone,t.instance,o);return{id:this.nextId++,stackId:y8(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=Sb(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=Zk(t,s);a&&(n="back",o=void 0);const c=this.views.slice();let f;const m=this.router;m.getCurrentNavigation?f=m.getCurrentNavigation():m.navigations?.value&&(f=m.navigations.value),f?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const y=this.views.includes(t),S=this.insertView(t,n);y||t.ref.changeDetectorRef.detectChanges();const D=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==D&&(i=D),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>C8(t,S,c,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const c=s.get("primary");c?.route?._routerState?.snapshot.url&&(i=c.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&Xk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Yk),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?Wk(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):Wk(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,c=r?r.element:void 0,f=this.containerEl;return a&&a!==c&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,c,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,ne.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const C8=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Xk(e,t,r,n,o),i()})}):Promise.resolve(),Xk=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(Yk)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const c=i.element;c.setAttribute("aria-hidden","true"),c.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let up=(()=>{class e{constructor(r,n,o,i,s,a,c,f){this.parentOutlet=f,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ut(null),this.activated=null,this._activatedRoute=null,this.name=Un,this.stackWillChange=new Mn,this.stackDidChange=new Mn,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.parentContexts=g(Jc),this.location=g(_s),this.environmentInjector=g(Pi),this.inputBinder=g(Kk,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=g(Cb),this.navCtrl=g(cp),this.nativeEl=i.nativeElement,this.name=r||Un,this.tabsPrefix="true"===n?Sb(s,c):void 0,this.stackCtrl=new b8(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,zV.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,c=this.parentContexts.getOrCreateContext(this.name).children,f=new Ut(null),m=this.createActivatedRouteProxy(f,r),y=new w8(m,c,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:y,environmentInjector:n??this.environmentInjector}),f.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,m),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:Zk(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new Ol;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(ba(o=>!!o),E(o=>this.currentActivatedRoute$.pipe(ba(i=>null!==i&&i.component===o),E(i=>i&&i.activatedRoute[n]),B())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(bu("name"),bu("tabs"),w(xf),w(Ct),w(ri),w(dt),w(Ol),w(e,12))},e.\u0275dir=vt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class w8{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===Ol?this.route:t===Jc?this.childContexts:this.parent.get(t,r)}}const Kk=new zt("");let S8=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=Em([n.queryParams,n.params,n.data]).pipe(E(([i,s,a],c)=>(a={...i,...s,...a},0===c?un(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=l1(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),Qk=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new Mn,this.ionTabsDidChange=new Mn,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...f&&s===f.url&&f.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),c=a?.url||s,f=a?.savedExtras;return this.navCtrl.navigateRoot(c,{...f,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(w(cp))},e.\u0275cmp=v({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(ed(o,qm,5),ed(o,qm,4)),2&r){let i;ta(i=na())&&(n.tabBar=i.first),ta(i=na())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&(Hc(XV,5,up),Hc(KV,7,Ct)),2&r){let o;ta(o=na())&&(n.outlet=o.first),ta(o=na())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&at("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:JV,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&($t(QV),Ft(0),ie(1,"div",0,1)(3,"ion-router-outlet",2,3),at("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),te()(),Ft(5,1))},dependencies:[up],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),Jk=(()=>{class e{constructor(r,n,o){this.routerOutlet=r,this.navCtrl=n,this.config=o}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}}return e.\u0275fac=function(r){return new(r||e)(w(up,8),w(cp),w(Cb))},e.\u0275dir=vt({type:e,selectors:[["ion-back-button"]],hostBindings:function(r,n){1&r&&at("click",function(i){return n.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),e})(),eM=(()=>{let e=class{constructor(r,n,o,i){this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),fr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(w(Ct),w(Pi),w(vo),w(Ym))},e.\u0275dir=vt({type:e,selectors:[["ion-nav"]]}),e=W([Bt({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],e),e})();const k8={provide:Si,useExisting:Ke(()=>tM),multi:!0};let tM=(()=>{class e extends Hy{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=ei(e)))(n||e)}}(),e.\u0275dir=vt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&ea("max",n._enabled?n.max:null)},features:[kr([k8]),sr]}),e})();const M8={provide:Si,useExisting:Ke(()=>nM),multi:!0};let nM=(()=>{class e extends Gy{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=ei(e)))(n||e)}}(),e.\u0275dir=vt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&ea("min",n._enabled?n.min:null)},features:[kr([M8]),sr]}),e})();class dp{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}let fp=(()=>{class e extends dp{constructor(){super(op.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tu=(()=>{class e extends dp{constructor(){super(op.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Xa=(()=>{class e extends dp{constructor(){super(op.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),bs=(()=>{class e extends dp{constructor(){super(op.m),this.angularDelegate=g(Ym),this.injector=g(vo),this.environmentInjector=g(Pi)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),nu=(()=>{class e extends dp{constructor(){super(op.c),this.angularDelegate=g(Ym),this.injector=g(vo),this.environmentInjector=g(Pi)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();class T8{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}const A8=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,eu.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function ZV(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(A.e(6748).then(A.t.bind(A,5648,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(A.e(2214).then(A.t.bind(A,2193,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return qV(),(0,WV.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ok,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,c){i[o](s,a,c)},rel(i,s,a,c){i.removeEventListener(s,a,c)}}))}};let gc=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:jk,useValue:r},{provide:Ef,useFactory:A8,multi:!0,deps:[jk,Ri,dt]},{provide:Kk,useFactory:P8,deps:[ri]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({providers:[Ym,bs,nu],imports:[Ga]}),e})();function P8(e){return e?.componentInputBindingEnabled?new S8:null}function pp(e){return(pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}let ru={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const oM=/[&<>"']/,L8=new RegExp(oM.source,"g"),iM=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,$8=new RegExp(iM.source,"g"),B8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sM=e=>B8[e];function Hi(e,t){if(t){if(oM.test(e))return e.replace(L8,sM)}else if(iM.test(e))return e.replace($8,sM);return e}const j8=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function aM(e){return e.replace(j8,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):"")}const V8=/(^|[^\[])\^/g;function eo(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o=o.source||o).replace(V8,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}const U8=/[^\w:]/g,H8=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function lM(e,t,r){if(e){let n;try{n=decodeURIComponent(aM(r)).replace(U8,"").toLowerCase()}catch{return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!H8.test(r)&&(r=function Z8(e,t){Xm[" "+e]||(Xm[" "+e]=G8.test(e)?e+"/":Qm(e,"/",!0));const r=-1===(e=Xm[" "+e]).indexOf(":");return"//"===t.substring(0,2)?r?t:e.replace(z8,"$1")+t:"/"===t.charAt(0)?r?t:e.replace(W8,"$1")+t:e+t}(t,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}const Xm={},G8=/^[^:]+:\/*[^/]*$/,z8=/^([^:]+:)[\s\S]*$/,W8=/^([^:]+:\/*[^/]*)[\s\S]*$/,Km={exec:function(){}};function cM(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let c=!1,f=s;for(;--f>=0&&"\\"===a[f];)c=!c;return c?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function Qm(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function uM(e,t){if(t<1)return"";let r="";for(;t>1;)1&t&&(r+=e),t>>=1,e+=e;return r+e}function dM(e,t,r,n){const o=t.href,i=t.title?Hi(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:Hi(s)}}class Eb{constructor(t){this.options=t||ru}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Qm(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function X8(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=Qm(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=r[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n,o,i,s,a,c,f,m,y,S,D,K,he=r[1].trim();const Pe=he.length>1,Ae={type:"list",raw:"",ordered:Pe,start:Pe?+he.slice(0,-1):"",loose:!1,items:[]};he=Pe?`\\d{1,9}\\${he.slice(-1)}`:`\\${he}`,this.options.pedantic&&(he=Pe?he:"[*+-]");const Ie=new RegExp(`^( {0,3}${he})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;t&&(K=!1,(r=Ie.exec(t))&&!this.rules.block.hr.test(t));){if(n=r[0],t=t.substring(n.length),m=r[2].split("\n",1)[0].replace(/^\t+/,Rt=>" ".repeat(3*Rt.length)),y=t.split("\n",1)[0],this.options.pedantic?(s=2,D=m.trimLeft()):(s=r[2].search(/[^ ]/),s=s>4?1:s,D=m.slice(s),s+=r[1].length),c=!1,!m&&/^ *$/.test(y)&&(n+=y+"\n",t=t.substring(y.length+1),K=!0),!K){const Rt=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Dt=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Bn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),Cr=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;t&&(S=t.split("\n",1)[0],y=S,this.options.pedantic&&(y=y.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Bn.test(y)||Cr.test(y)||Rt.test(y)||Dt.test(t)));){if(y.search(/[^ ]/)>=s||!y.trim())D+="\n"+y.slice(s);else{if(c||m.search(/[^ ]/)>=4||Bn.test(m)||Cr.test(m)||Dt.test(m))break;D+="\n"+y}!c&&!y.trim()&&(c=!0),n+=S+"\n",t=t.substring(S.length+1),m=y.slice(s)}}Ae.loose||(f?Ae.loose=!0:/\n *\n *$/.test(n)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(D),o&&(i="[ ] "!==o[0],D=D.replace(/^\[[ xX]\] +/,""))),Ae.items.push({type:"list_item",raw:n,task:!!o,checked:i,loose:!1,text:D}),Ae.raw+=n}Ae.items[Ae.items.length-1].raw=n.trimRight(),Ae.items[Ae.items.length-1].text=D.trimRight(),Ae.raw=Ae.raw.trimRight();const Nt=Ae.items.length;for(a=0;a<Nt;a++)if(this.lexer.state.top=!1,Ae.items[a].tokens=this.lexer.blockTokens(Ae.items[a].text,[]),!Ae.loose){const Rt=Ae.items[a].tokens.filter(Bn=>"space"===Bn.type),Dt=Rt.length>0&&Rt.some(Bn=>/\n.*\n/.test(Bn.raw));Ae.loose=Dt}if(Ae.loose)for(a=0;a<Nt;a++)Ae.items[a].loose=!0;return Ae}}html(t){const r=this.rules.block.html.exec(t);if(r){const n={type:"html",raw:r[0],pre:!this.options.sanitizer&&("pre"===r[1]||"script"===r[1]||"style"===r[1]),text:r[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(r[0]):Hi(r[0]);n.type="paragraph",n.text=o,n.tokens=this.lexer.inline(o)}return n}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){const n={type:"table",header:cM(r[1]).map(o=>({text:o})),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=r[0];let i,s,a,c,o=n.align.length;for(i=0;i<o;i++)n.align[i]=/^ *-+: *$/.test(n.align[i])?"right":/^ *:-+: *$/.test(n.align[i])?"center":/^ *:-+ *$/.test(n.align[i])?"left":null;for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=cM(n.rows[i],n.header.length).map(f=>({text:f}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(c=n.rows[s],a=0;a<c.length;a++)c[a].tokens=this.lexer.inline(c[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Hi(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Hi(r[0]):r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=Qm(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function q8(e,t){if(-1===e.indexOf(t[1]))return-1;const r=e.length;let n=0,o=0;for(;o<r;o++)if("\\"===e[o])o++;else if(e[o]===t[0])n++;else if(e[o]===t[1]&&(n--,n<0))return o;return-1}(r[2],"()");if(s>-1){const c=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,c).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),dM(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return dM(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){const s=o[0].length-1;let a,c,f=s,m=0;const y="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(y.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=y.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(c=a.length,o[3]||o[4]){f+=c;continue}if((o[5]||o[6])&&s%3&&!((s+c)%3)){m+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+m);const S=t.slice(0,s+o.index+(o[0].length-a.length)+c);if(Math.min(s,c)%2){const K=S.slice(1,-1);return{type:"em",raw:S,text:K,tokens:this.lexer.inlineTokens(K)}}const D=S.slice(2,-2);return{type:"strong",raw:S,text:D,tokens:this.lexer.inlineTokens(D)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=Hi(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t,r){const n=this.rules.inline.autolink.exec(t);if(n){let o,i;return"@"===n[2]?(o=Hi(this.options.mangle?r(n[1]):n[1]),i="mailto:"+o):(o=Hi(n[1]),i=o),{type:"link",raw:n[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(t,r){let n;if(n=this.rules.inline.url.exec(t)){let o,i;if("@"===n[2])o=Hi(this.options.mangle?r(n[0]):n[0]),i="mailto:"+o;else{let s;do{s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(s!==n[0]);o=Hi(n[0]),i="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(t,r){const n=this.rules.inline.text.exec(t);if(n){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Hi(n[0]):n[0]:Hi(this.options.smartypants?r(n[0]):n[0]),{type:"text",raw:n[0],text:o}}}}const En={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Km,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};En.def=eo(En.def).replace("label",En._label).replace("title",En._title).getRegex(),En.bullet=/(?:[*+-]|\d{1,9}[.)])/,En.listItemStart=eo(/^( *)(bull) */).replace("bull",En.bullet).getRegex(),En.list=eo(En.list).replace(/bull/g,En.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+En.def.source+")").getRegex(),En._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",En._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,En.html=eo(En.html,"i").replace("comment",En._comment).replace("tag",En._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),En.paragraph=eo(En._paragraph).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.blockquote=eo(En.blockquote).replace("paragraph",En.paragraph).getRegex(),En.normal={...En},En.gfm={...En.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},En.gfm.table=eo(En.gfm.table).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.gfm.paragraph=eo(En._paragraph).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",En.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.pedantic={...En.normal,html:eo("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",En._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Km,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:eo(En.normal._paragraph).replace("hr",En.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",En.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const rn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Km,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Km,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function K8(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function fM(e){let r,n,t="";const o=e.length;for(r=0;r<o;r++)n=e.charCodeAt(r),Math.random()>.5&&(n="x"+n.toString(16)),t+="&#"+n+";";return t}rn._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",rn.punctuation=eo(rn.punctuation).replace(/punctuation/g,rn._punctuation).getRegex(),rn.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,rn.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,rn._comment=eo(En._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),rn.emStrong.lDelim=eo(rn.emStrong.lDelim).replace(/punct/g,rn._punctuation).getRegex(),rn.emStrong.rDelimAst=eo(rn.emStrong.rDelimAst,"g").replace(/punct/g,rn._punctuation).getRegex(),rn.emStrong.rDelimUnd=eo(rn.emStrong.rDelimUnd,"g").replace(/punct/g,rn._punctuation).getRegex(),rn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,rn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,rn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,rn.autolink=eo(rn.autolink).replace("scheme",rn._scheme).replace("email",rn._email).getRegex(),rn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,rn.tag=eo(rn.tag).replace("comment",rn._comment).replace("attribute",rn._attribute).getRegex(),rn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,rn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,rn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,rn.link=eo(rn.link).replace("label",rn._label).replace("href",rn._href).replace("title",rn._title).getRegex(),rn.reflink=eo(rn.reflink).replace("label",rn._label).replace("ref",En._label).getRegex(),rn.nolink=eo(rn.nolink).replace("ref",En._label).getRegex(),rn.reflinkSearch=eo(rn.reflinkSearch,"g").replace("reflink",rn.reflink).replace("nolink",rn.nolink).getRegex(),rn.normal={...rn},rn.pedantic={...rn.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:eo(/^!?\[(label)\]\((.*?)\)/).replace("label",rn._label).getRegex(),reflink:eo(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",rn._label).getRegex()},rn.gfm={...rn.normal,escape:eo(rn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},rn.gfm.url=eo(rn.gfm.url,"i").replace("email",rn.gfm._extended_email).getRegex(),rn.breaks={...rn.gfm,br:eo(rn.br).replace("{2,}","*").getRegex(),text:eo(rn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class _c{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ru,this.options.tokenizer=this.options.tokenizer||new Eb,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:En.normal,inline:rn.normal};this.options.pedantic?(r.block=En.pedantic,r.inline=rn.pedantic):this.options.gfm&&(r.block=En.gfm,r.inline=this.options.breaks?rn.breaks:rn.gfm),this.tokenizer.rules=r}static get rules(){return{block:En,inline:rn}}static lex(t,r){return new _c(r).lex(t)}static lexInline(t,r){return new _c(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,c,f)=>c+"    ".repeat(f.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=t.slice(1);let f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},c),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,c,f,s=t;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+uM("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+uM("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>!!(n=m.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,f)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t,fM)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t,fM))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const y=t.slice(1);let S;this.options.extensions.startInline.forEach(function(D){S=D.call({lexer:this},y),"number"==typeof S&&S>=0&&(m=Math.min(m,S))}),m<1/0&&m>=0&&(i=t.substring(0,m+1))}if(n=this.tokenizer.inlineText(i,K8)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(f=n.raw.slice(-1)),c=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const m="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}}return r}}class Ed{constructor(t){this.options=t||ru}code(t,r,n){const o=(r||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(t,o);null!=i&&i!==t&&(n=!0,t=i)}return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+Hi(o)+'">'+(n?t:Hi(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:Hi(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t){return t}heading(t,r,n,o){return this.options.headerIds?`<h${r} id="${this.options.headerPrefix+o.slug(n)}">${t}</h${r}>\n`:`<h${r}>${t}</h${r}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){if(null===(t=lM(this.options.sanitize,this.options.baseUrl,t)))return n;let o='<a href="'+t+'"';return r&&(o+=' title="'+r+'"'),o+=">"+n+"</a>",o}image(t,r,n){if(null===(t=lM(this.options.sanitize,this.options.baseUrl,t)))return n;let o=`<img src="${t}" alt="${n}"`;return r&&(o+=` title="${r}"`),o+=this.options.xhtml?"/>":">",o}text(t){return t}}class pM{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class hM{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,r){let n=t,o=0;if(this.seen.hasOwnProperty(n)){o=this.seen[t];do{o++,n=t+"-"+o}while(this.seen.hasOwnProperty(n))}return r||(this.seen[t]=o,this.seen[n]=0),n}slug(t,r={}){const n=this.serialize(t);return this.getNextSafeSlug(n,r.dryrun)}}class vc{constructor(t){this.options=t||ru,this.options.renderer=this.options.renderer||new Ed,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new pM,this.slugger=new hM}static parse(t,r){return new vc(r).parse(t)}static parseInline(t,r){return new vc(r).parseInline(t)}parse(t,r=!0){let o,i,s,a,c,f,m,y,S,D,K,he,Pe,Ae,Ie,Nt,Rt,Dt,Bn,n="";const Cr=t.length;for(o=0;o<Cr;o++)if(D=t[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[D.type]&&(Bn=this.options.extensions.renderers[D.type].call({parser:this},D),!1!==Bn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(D.type)))n+=Bn||"";else switch(D.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":n+=this.renderer.heading(this.parseInline(D.tokens),D.depth,aM(this.parseInline(D.tokens,this.textRenderer)),this.slugger);continue;case"code":n+=this.renderer.code(D.text,D.lang,D.escaped);continue;case"table":for(y="",m="",a=D.header.length,i=0;i<a;i++)m+=this.renderer.tablecell(this.parseInline(D.header[i].tokens),{header:!0,align:D.align[i]});for(y+=this.renderer.tablerow(m),S="",a=D.rows.length,i=0;i<a;i++){for(f=D.rows[i],m="",c=f.length,s=0;s<c;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:D.align[s]});S+=this.renderer.tablerow(m)}n+=this.renderer.table(y,S);continue;case"blockquote":S=this.parse(D.tokens),n+=this.renderer.blockquote(S);continue;case"list":for(K=D.ordered,he=D.start,Pe=D.loose,a=D.items.length,S="",i=0;i<a;i++)Ie=D.items[i],Nt=Ie.checked,Rt=Ie.task,Ae="",Ie.task&&(Dt=this.renderer.checkbox(Nt),Pe?Ie.tokens.length>0&&"paragraph"===Ie.tokens[0].type?(Ie.tokens[0].text=Dt+" "+Ie.tokens[0].text,Ie.tokens[0].tokens&&Ie.tokens[0].tokens.length>0&&"text"===Ie.tokens[0].tokens[0].type&&(Ie.tokens[0].tokens[0].text=Dt+" "+Ie.tokens[0].tokens[0].text)):Ie.tokens.unshift({type:"text",text:Dt}):Ae+=Dt),Ae+=this.parse(Ie.tokens,Pe),S+=this.renderer.listitem(Ae,Rt,Nt);n+=this.renderer.list(S,K,he);continue;case"html":n+=this.renderer.html(D.text);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(D.tokens));continue;case"text":for(S=D.tokens?this.parseInline(D.tokens):D.text;o+1<Cr&&"text"===t[o+1].type;)D=t[++o],S+="\n"+(D.tokens?this.parseInline(D.tokens):D.text);n+=r?this.renderer.paragraph(S):S;continue;default:{const Fi='Token with "'+D.type+'" type was not found.';if(this.options.silent)return void console.error(Fi);throw new Error(Fi)}}return n}parseInline(t,r){r=r||this.renderer;let o,i,s,n="";const a=t.length;for(o=0;o<a;o++)if(i=t[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))n+=s||"";else switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const c='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}}return n}}class Jm{constructor(t){this.options=t||ru}preprocess(t){return t}postprocess(t){return t}}function mM(e,t){return(r,n,o)=>{"function"==typeof n&&(o=n,n=null);const i={...n},s=function Q8(e,t,r){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const o="<p>An error occurred:</p><pre>"+Hi(n.message+"",!0)+"</pre>";return t?Promise.resolve(o):r?void r(null,o):o}if(t)return Promise.reject(n);if(!r)throw n;r(n)}}((n={...Dn.defaults,...i}).silent,n.async,o);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(function Y8(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(n),n.hooks&&(n.hooks.options=n),o){const a=n.highlight;let c;try{n.hooks&&(r=n.hooks.preprocess(r)),c=e(r,n)}catch(y){return s(y)}const f=function(y){let S;if(!y)try{n.walkTokens&&Dn.walkTokens(c,n.walkTokens),S=t(c,n),n.hooks&&(S=n.hooks.postprocess(S))}catch(D){y=D}return n.highlight=a,y?s(y):o(null,S)};if(!a||a.length<3||(delete n.highlight,!c.length))return f();let m=0;return Dn.walkTokens(c,function(y){"code"===y.type&&(m++,setTimeout(()=>{a(y.text,y.lang,function(S,D){if(S)return f(S);null!=D&&D!==y.text&&(y.text=D,y.escaped=!0),m--,0===m&&f()})},0))}),void(0===m&&f())}if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(r):r).then(a=>e(a,n)).then(a=>n.walkTokens?Promise.all(Dn.walkTokens(a,n.walkTokens)).then(()=>a):a).then(a=>t(a,n)).then(a=>n.hooks?n.hooks.postprocess(a):a).catch(s);try{n.hooks&&(r=n.hooks.preprocess(r));const a=e(r,n);n.walkTokens&&Dn.walkTokens(a,n.walkTokens);let c=t(a,n);return n.hooks&&(c=n.hooks.postprocess(c)),c}catch(a){return s(a)}}}function Dn(e,t,r){return mM(_c.lex,vc.parse)(e,t,r)}!function F8(e,t,r){(t=function O8(e){var t=function R8(e,t){if("object"!==pp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==pp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Jm,"passThroughHooks",new Set(["preprocess","postprocess"])),Dn.options=Dn.setOptions=function(e){return function N8(e){ru=e}(Dn.defaults={...Dn.defaults,...e}),Dn},Dn.getDefaults=function rM(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Dn.defaults=ru,Dn.use=function(...e){const t=Dn.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(r=>{const n={...r};if(n.async=Dn.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=t.renderers[o.name];t.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");t[o.level]?t[o.level].unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&("block"===o.level?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:"inline"===o.level&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),n.extensions=t),r.renderer){const o=Dn.defaults.renderer||new Ed;for(const i in r.renderer){const s=o[i];o[i]=(...a)=>{let c=r.renderer[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}n.renderer=o}if(r.tokenizer){const o=Dn.defaults.tokenizer||new Eb;for(const i in r.tokenizer){const s=o[i];o[i]=(...a)=>{let c=r.tokenizer[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}n.tokenizer=o}if(r.hooks){const o=Dn.defaults.hooks||new Jm;for(const i in r.hooks){const s=o[i];o[i]=Jm.passThroughHooks.has(i)?a=>{if(Dn.defaults.async)return Promise.resolve(r.hooks[i].call(o,a)).then(f=>s.call(o,f));const c=r.hooks[i].call(o,a);return s.call(o,c)}:(...a)=>{let c=r.hooks[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}n.hooks=o}if(r.walkTokens){const o=Dn.defaults.walkTokens;n.walkTokens=function(i){let s=[];return s.push(r.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}Dn.setOptions(n)})},Dn.walkTokens=function(e,t){let r=[];for(const n of e)switch(r=r.concat(t.call(Dn,n)),n.type){case"table":for(const o of n.header)r=r.concat(Dn.walkTokens(o.tokens,t));for(const o of n.rows)for(const i of o)r=r.concat(Dn.walkTokens(i.tokens,t));break;case"list":r=r.concat(Dn.walkTokens(n.items,t));break;default:Dn.defaults.extensions&&Dn.defaults.extensions.childTokens&&Dn.defaults.extensions.childTokens[n.type]?Dn.defaults.extensions.childTokens[n.type].forEach(function(o){r=r.concat(Dn.walkTokens(n[o],t))}):n.tokens&&(r=r.concat(Dn.walkTokens(n.tokens,t)))}return r},Dn.parseInline=mM(_c.lexInline,vc.parseInline),Dn.Parser=vc,Dn.parser=vc.parse,Dn.Renderer=Ed,Dn.TextRenderer=pM,Dn.Lexer=_c,Dn.lexer=_c.lex,Dn.Tokenizer=Eb,Dn.Slugger=hM,Dn.Hooks=Jm,Dn.parse=Dn;class J8 extends H{constructor(t,r){super()}schedule(t,r=0){return this}}const eg={setInterval(e,t,...r){const{delegate:n}=eg;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=eg;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},Db={now:()=>(Db.delegate||Date).now(),delegate:void 0};class hp{constructor(t,r=hp.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}hp.now=Db.now;const nH=new class tH extends hp{constructor(t,r=hp.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class eH extends J8{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return eg.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&eg.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,oe(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class iH extends et{constructor(t=1/0,r=1/0,n=Db){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}}const aH=["*"];let gM=(()=>{var e;class t{constructor(){this._buttonClick$=new et,this.copied$=this._buttonClick$.pipe(E(()=>Zi(un(!0),function oH(e=0,t,r=nH){let n=-1;return null!=t&&(Ss(t)?r=t:n=t),new It(o=>{let i=function rH(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(Mx(!1)))),B(),function sH(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,Is({connector:()=>new iH(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(xx(!1),xe(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=v({type:e,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(ie(0,"button",0),at("click",function(){return o.onCopyToClipboardClick()}),Va(1,"async"),je(2),Va(3,"async"),te()),2&n&&(Sl("copied",Ua(1,3,o.copied$)),Ye(2),js(Ua(3,5,o.copiedText$)))},dependencies:[T1],encapsulation:2,changeDetection:0}),t})();class uH{}var Ib=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(Ib||{});class _M{}const vM=new zt("SECURITY_CONTEXT");let xb=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,c){this.platform=n,this.securityContext=o,this.http=i,this.clipboardOptions=s,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new Ed},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new et,this.reload$=this._reload$.asObservable(),this.options=a}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:c,disableSanitizer:f}=o,m={...this.options,...o.markedOptions};c&&(this.renderer=this.extendRenderer(m.renderer||new Ed));const y=this.trimIndentation(n),S=i?this.decodeHtml(y):y,D=a?this.parseEmoji(S):S,K=this.parseMarked(D,m,s);return(f?K:this.sanitizer.sanitize(this.securityContext,K))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:c,katexOptions:f,mermaid:m,mermaidOptions:y}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),c&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...f}),m&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...y}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(xe(o=>this.handleExtension(n,o)))}highlight(n){if(!id(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!id(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendRenderer(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtended)return n;const i=n.code;return n.code=function(s,a,c){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,c)},o.\u0275NgxMarkdownRendererExtended=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),c=a>-1?s.substring(a+1).split("?")[0]:"",f=c.lastIndexOf("."),m=f>-1?c.substring(f+1):"";return m&&"md"!==m?"```"+m+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return i?Dn.parseInline(n,o):Dn.parse(n,o)}parseEmoji(n){if(!id(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(id(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!id(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,c=n.querySelectorAll("pre");for(let f=0;f<c.length;f++){const m=c.item(f),y=document.createElement("div");y.style.position="relative",m.parentNode.insertBefore(y,m),y.appendChild(m);const S=document.createElement("div");let D,K;S.style.position="absolute",S.style.top=".5em",S.style.right=".5em",S.style.opacity="0",S.style.transition="opacity 250ms ease-out",y.insertAdjacentElement("beforeend",S),m.onmouseover=()=>S.style.opacity="1",m.onmouseout=()=>S.style.opacity="0",D=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(gM).hostView,D.rootNodes.forEach(he=>{he.onmouseover=()=>S.style.opacity="1",S.appendChild(he),K=new ClipboardJS(he,{text:()=>m.innerText})}),D.onDestroy(()=>K.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!id(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.init(i))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(nc),ce(vM),ce(wy,8),ce(uH,8),ce(_M,8),ce(_y))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})(),kb=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(n){this._srcRelativeLink=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new Mn,this.load=new Mn,this.ready=new Mn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new et}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(Tx(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){let i;this.src&&this.srcRelativeLink&&(i={baseUrl:new URL(this.src,location.origin).pathname});const a={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},c=this.markdownService.parse(n,{decodeHtml:o,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:i,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=c,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,a,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n),this.load.emit(n)},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Ib.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Ib.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const c=o[a];if(c){const f=this.toLispCase(a);i.item(s).setAttribute(f,c.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(w(Ct),w(xb),w(_s))},e.\u0275cmp=v({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Ne],ngContentSelectors:aH,decls:1,vars:0,template:function(n,o){1&n&&($t(),Ft(0))},encapsulation:2}),t})(),Mb=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[xb,n&&n.loader||[],n&&n.clipboardOptions||[],n&&n.markedOptions||[],{provide:vM,useValue:n&&null!=n.sanitize?n.sanitize:Ls.HTML}]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({imports:[Ga]}),t})();var yM;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(yM||(yM={}));const Tb="safari"in window,Ab=!navigator.userAgent.match(/(crios)|(fxios)/i),Cs=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,bM=!!navigator.userAgent.match(/android/i),vH=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Dd=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(Dd||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const CH=new Error("request for lock canceled");class SH{constructor(t,r=CH){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(m){try{f(n.next(m))}catch(y){s(y)}}function c(m){try{f(n.throw(m))}catch(y){s(y)}}function f(m){m.done?i(m.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(m.value).then(a,c)}f((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class Ka{constructor(t){this._semaphore=new SH(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(m){try{f(n.next(m))}catch(y){s(y)}}function c(m){try{f(n.throw(m))}catch(y){s(y)}}function f(m){m.done?i(m.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(m.value).then(a,c)}f((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Sa={production:!0,dbName:"cloudpilot",debug:!1},tg="cloudpilot-session"+(Sa.localStorageSuffix?`-${Sa.localStorageSuffix}`:"");function wM(){localStorage.removeItem(tg)}function yo(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,ne.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let $l=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Id;class Mo{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new Ho.j}errorMessage(t){var r=this;return(0,ne.Z)(function*(){yield(yield r.alertController.create({header:"Error",backdropDismiss:!1,message:new eu.I(t),buttons:[{text:"Close",role:"cancel"}],cssClass:"alert-error"})).present()})()}message(t,r,n={},o="Close"){var i=this;return(0,ne.Z)(function*(){const s=yield i.alertController.create({header:t,message:new eu.I(r),backdropDismiss:!1,buttons:[...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(t){var r=this;return(0,ne.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,ne.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:new eu.I(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,ne.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:new eu.I(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}(Id=Mo).\u0275fac=function(t){return new(t||Id)(ce(tu),ce($l))},Id.\u0275prov=mt({token:Id,factory:Id.\u0275fac,providedIn:"root"}),W([yo()],Mo.prototype,"updateAvailable",null),W([yo()],Mo.prototype,"fatalError",null),W([yo()],Mo.prototype,"errorInNativeCode",null);let ou=(()=>{var e;class t{constructor(n,o){this.alertService=n,this.ngZone=o,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=i=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${i}.`),this.fatalInNativeCode=i=>this.fatalWithMessage(i.message,!0,!1),this.fatalWithMessage=(i,s=!0,a=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,s&&wM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(i,a))}),this.fatalErrorEvent=new Ho.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Mo),ce(dt))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Vr=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Vr||{});let mp=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??Vr.none}claim(n,o){this.assertOwnership(n,Vr.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===Vr.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(ou))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const yc="session",xd="rom",bc="memory",Bl="state",ng="kvs",Cc="memory-meta",Qa="storage",Us="storage-card",gp="lock";class iu extends Error{constructor(t){super(t)}}function pr(e){return new Promise((t,r)=>{!function TH(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new iu(e.error?.message))})}function EM(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function AH(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const rg="session",Rb="memory",IM="storage-meta",xM="storage-card";function Ob(){return(Ob=(0,ne.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(rg).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value,f={...c,totalMemory:1024*c.ram*1024+r(c.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Fb(){return(Fb=(0,ne.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function Nb(){return(Nb=(0,ne.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(IM,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(rg).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value;void 0!==c.totalMemory&&(r.put({sessionId:c.id,totalSize:c.totalMemory}),delete c.totalMemory,a.update(c)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Lb(){return(Lb=(0,ne.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(IM).name=xM})).apply(this,arguments)}function $b(){return($b=(0,ne.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(xM).createIndex("storageId","storageId")})).apply(this,arguments)}function Bb(){return(Bb=(0,ne.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const zH=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function kM(e){let t=-1;for(let r=0;r<e.length;r++)t=zH[255&(t^e[r])]^t>>>8;return~t}var WH=A(6943),ZH=A.n(WH);const MM={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let og;const qH=new Uint8Array(16);function YH(){if(!og&&(og=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!og))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return og(qH)}const Oi=[];for(let e=0;e<256;++e)Oi.push((e+256).toString(16).slice(1));const jb=function XH(e,t,r){if(MM.randomUUID&&!t&&!e)return MM.randomUUID();const n=(e=e||{}).random||(e.rng||YH)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function TM(e,t=0){return(Oi[e[t+0]]+Oi[e[t+1]]+Oi[e[t+2]]+Oi[e[t+3]]+"-"+Oi[e[t+4]]+Oi[e[t+5]]+"-"+Oi[e[t+6]]+Oi[e[t+7]]+"-"+Oi[e[t+8]]+Oi[e[t+9]]+"-"+Oi[e[t+10]]+Oi[e[t+11]]+Oi[e[t+12]]+Oi[e[t+13]]+Oi[e[t+14]]+Oi[e[t+15]]).toLowerCase()}(n)};var kd;const Vb=new Error("page lock lost"),AM=new Error("version mismatch"),PM=jb();function Fo(){return(e,t,r)=>{const n=r.value;return r.value=(0,ne.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw s instanceof iu?i.fatalIDBDead():s===AM?i.fatalVersionMismatch():s===Vb?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class gr{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(bc),c=o.objectStore(Cc),f=new Uint32Array(256),m=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),c.put({sessionId:i,totalSize:s.length});const S=s.length>>>10;for(let D=0;D<S;D++){m.set(s.subarray(1024*D,1024*(D+1)));const K=EM(f);if("number"==typeof K)a.put(K,[i,D]);else{const he=new Uint32Array(256);he.set(K),a.put(he,[i,D])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,ne.Z)(function*(){const a=o.objectStore(Cc),c=yield pr(a.get(i));if(!c)return;const f=yield new Promise(function(){var m=(0,ne.Z)(function*(y,S){const D=o.objectStore(bc),K=new Uint32Array(c.totalSize>>>2),he=D.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));he.onsuccess=()=>{const Pe=he.result;if(!Pe)return y(new Uint8Array(K.buffer));const Ae=Pe.value,[,Ie]=Pe.key;"number"==typeof Ae?K.subarray(256*Ie,256*(Ie+1)).fill(Ae|Ae<<8|Ae<<16|Ae<<24):K.subarray(256*Ie,256*(Ie+1)).set(1024===Ae.length?new Uint32Array(Ae.buffer):Ae),Pe.continue()},he.onerror=()=>S(new iu(he.error?.message))});return function(y,S){return m.apply(this,arguments)}}());if(void 0!==c.crc32&&s&&Sa.debug&&c.crc32!==kM(f))throw new Error("snapshot CRC mismatch");return f})),this.sessionChangeEvent=new Ho.j,this.storageCardChangeEvent=new Ho.j,this.sessionUpdateMutex=new Ka,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,ne.Z)(function*(){const s=ZH()(r),a=yield i.newTransaction(yc,xd,Bl,bc,Cc),c=a.objectStore(yc),f=a.objectStore(xd);(yield pr(f.get(s)))||f.put(r,s);const{id:y,...S}=t,D=yield pr(c.add({...S,rom:s})),K=yield pr(c.get(D));return n&&i.saveMemory(a,K.id,n),o&&i.saveState(a,K.id,o),yield pr(a),K})()}getAllSessions(){var t=this;return(0,ne.Z)(function*(){const[r]=yield t.prepareObjectStore(yc);return yield pr(r.getAll())})()}getSession(t){var r=this;return(0,ne.Z)(function*(){const[n]=yield r.prepareObjectStore(yc);return yield pr(n.get(t))})()}deleteSession(t){var r=this;return(0,ne.Z)(function*(){const n=yield r.newTransaction(yc,xd,Bl,bc,Cc),o=n.objectStore(yc),i=n.objectStore(xd);(t=yield pr(o.get(t.id)))&&(o.delete(t.id),0===(yield pr(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield pr(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,ne.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...c}=r,[f,m]=yield n.prepareObjectStore(yc),y=yield pr(f.get(t));if(!y)throw new Error(`no session with id ${t}`);const S={...y,...c};f.put(S),yield pr(m),n.sessionChangeEvent.dispatch([y.id,S])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,ne.Z)(function*(){const[n,o]=yield r.prepareObjectStore(yc),i=yield pr(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield pr(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,ne.Z)(function*(){const o=yield n.newTransaction(xd,Bl,bc,Cc),i=o.objectStore(xd);return[yield pr(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,ne.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Bl);n.delete(t.id),yield pr(o)})()}addEmptyStorageCard(t){var r=this;return(0,ne.Z)(function*(){const[n]=yield r.prepareObjectStore(Us),o=yield pr(n.add(t)),i=yield pr(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,ne.Z)(function*(){return n.ngZone.runOutsideAngular((0,ne.Z)(function*(){const o=yield n.newTransaction(Us,Qa),i=o.objectStore(Us),s=o.objectStore(Qa),a=yield pr(i.add(t)),c=(t.size>>>13)+(r.length%8192==0?0:1),f=new Uint32Array(2048);for(let y=0;y<c;y++){const S=r.subarray(2048*y,2048*(y+1));y===c-1&&f.set(S);const D=AH(y===c-1?f:S);0!==D&&s.put("number"==typeof D?D:D?.slice(),[a,y])}const m=yield pr(i.get(a));return yield pr(o),n.storageCardChangeEvent.dispatch(m.id),m}))})()}getAllStorageCards(){var t=this;return(0,ne.Z)(function*(){const[r]=yield t.prepareObjectStore(Us);return pr(r.getAll())})()}getCard(t){var r=this;return(0,ne.Z)(function*(){const[n]=yield r.prepareObjectStore(Us);return pr(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,ne.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[c,f]=yield n.prepareObjectStore(Us),m=yield pr(c.get(t));if(!m)throw new Error(`no card with id ${t}`);const y={...m,...a};c.put(y),yield pr(f),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,ne.Z)(function*(){const n=yield r.newTransaction(Us,Qa);r.storageCardContext.assertOwnership(t,Vr.none);const o=n.objectStore(Us),i=n.objectStore(Qa);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield pr(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,ne.Z)(function*(){const i=yield o.newTransaction(Us,Qa);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(Qa);yield new Promise(function(){var a=(0,ne.Z)(function*(c,f){const m=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));m.onsuccess=()=>{const y=m.result;if(!y)return c();let S=y.value;const[,D]=y.key;"number"==typeof S?r.subarray(2048*D,2048*(D+1)).fill(S):(2048*(D+1)>r.length&&(S=S.subarray(0,2048-2048*(D+1)+r.length)),r.subarray(2048*D,2048*(D+1)).set(S)),y.continue()},m.onerror=()=>f(new iu(m.error?.message))});return function(c,f){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,ne.Z)(function*(){const s=yield i.newTransaction(Us,Qa);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(Us),c=s.objectStore(Qa),f=yield pr(a.get(t));if(!f)throw new Error(`no card with ID ${t}`);if(r.length!==f.size>>>2)throw new Error("data size mismatch");const m=(f.size>>>13)+(f.size%8192>0?1:0);if((m>>>3)+(m%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let y=0;for(let S=0;S<n.length;S++)for(let D=1;D<256&&!(y>=m);D<<=1)n[S]&D&&c.put(r.subarray(2048*y,2048*(y+1)).slice(),[f.id,y]),y++;yield pr(s)}))}kvsGet(t){var r=this;return(0,ne.Z)(function*(){const[n]=yield r.prepareObjectStore(ng);return pr(n.get(t))})()}kvsSet(t){var r=this;return(0,ne.Z)(function*(){const[n,o]=yield r.prepareObjectStore(ng);for(const i of Object.keys(t))n.put(t[i],i);yield pr(o)})()}kvsLoad(){var t=this;return(0,ne.Z)(function*(){const[r]=yield t.prepareObjectStore(ng);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new iu(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,ne.Z)(function*(){const[n,o]=yield r.prepareObjectStore(ng);n.delete(t),yield pr(o)})()}acquireLock(t){var r=this;return(0,ne.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield pr(t.objectStore(gp).get(0)))!==PM)throw t.abort(),t.db.close(),Vb})()}newTransaction(...t){var r=this;return(0,ne.Z)(function*(){const n=(yield r.db).transaction([gp,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,ne.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore(Bl);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore(Bl).delete(r)}loadState(t,r){return pr(t.objectStore(Bl).get(r))}deleteMemory(t,r){const n=t.objectStore(bc),o=t.objectStore(Cc);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,ne.Z)(function*(){const r=t.transaction(gp,"readwrite");yield pr(r.objectStore(gp).put(PM,0))})()}setupDb(){var t=this;return(0,ne.Z)(function*(){const r=setTimeout(()=>Cs&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>i.name===Sa.dbName);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw AM}const n=yield new Promise((o,i)=>{const s=indexedDB.open(Sa.dbName,9);s.onerror=()=>{i(new iu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new iu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,ne.Z)(function*(c){clearTimeout(r),c.oldVersion<1&&function LH(e){e.createObjectStore(rg,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),c.oldVersion<2&&function $H(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(Rb)&&e.deleteObjectStore(Rb),t.objectStore(rg).clear(),e.createObjectStore("rom"),e.createObjectStore(Rb),e.createObjectStore("kvs")}(s.result,s.transaction),c.oldVersion<4&&(yield function BH(e,t){return Ob.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<5&&(yield function jH(e,t){return Fb.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<6&&(yield function VH(e,t){return Nb.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<7&&(yield function UH(e,t){return Lb.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<8&&(yield function HH(e,t){return $b.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<9&&(yield function GH(e,t){return Bb.apply(this,arguments)}(s.result,s.transaction))});return function(c){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,ne.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(kd=gr).\u0275fac=function(t){return new(t||kd)(ce(dt),ce(ou),ce(mp))},kd.\u0275prov=mt({token:kd,factory:kd.\u0275fac,providedIn:"root"}),W([Fo()],gr.prototype,"addSession",null),W([Fo()],gr.prototype,"getAllSessions",null),W([Fo()],gr.prototype,"getSession",null),W([Fo()],gr.prototype,"deleteSession",null),W([Fo()],gr.prototype,"updateSessionPartial",null),W([Fo()],gr.prototype,"updateSession",null),W([Fo()],gr.prototype,"loadSession",null),W([Fo()],gr.prototype,"deleteStateForSession",null),W([Fo()],gr.prototype,"addEmptyStorageCard",null),W([Fo()],gr.prototype,"importStorageCard",null),W([Fo()],gr.prototype,"getAllStorageCards",null),W([Fo()],gr.prototype,"getCard",null),W([Fo()],gr.prototype,"updateStorageCardPartial",null),W([Fo()],gr.prototype,"deleteStorageCard",null),W([Fo()],gr.prototype,"loadCardData",null),W([Fo()],gr.prototype,"kvsGet",null),W([Fo()],gr.prototype,"kvsSet",null),W([Fo()],gr.prototype,"kvsDelete",null),W([Fo()],gr.prototype,"newTransaction",null),W([Fo()],gr.prototype,"prepareObjectStore",null),W([Fo()],gr.prototype,"initializeLock",null),W([Fo()],gr.prototype,"setupDb",null);const RM={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Gi=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,ne.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new Ho.j,this.mutex=new Ka,this.storageMutex=new Ka,this.initializationPromise=this.startInitialiation()}initialize(){var n=this;return(0,ne.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var n=this;return(0,ne.Z)(function*(){const o=n;try{const i={...RM,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,c)=>(s[a]=c,o.storageMutex.runExclusive(()=>o.storageService.kvsSet({[a]:c})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...RM}}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(gr))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),OM=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,ne.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Cs||bM)&&this.installationMode===Dd.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return Cs&&Ab?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Cs?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Cs&&Ab?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Cs?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Dd.pwa:document.referrer.startsWith("android-app://")?Dd.twa:window.matchMedia("(display-mode: standalone)").matches?Dd.pwa:Dd.web}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Gi),ce(Mo))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function o5(e,t){1&e&&(ie(0,"div",5),lt(1,"ion-spinner"),te())}let su=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(w(bs))},e.\u0275cmp=v({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3),te(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.modalController.dismiss()}),je(6,"Close"),te()()()(),ie(7,"ion-content",2),nn(8,o5,2,0,"div",3),ie(9,"markdown",4),at("load",function(){return o.loading=!1}),te()()),2&n&&(Ye(3),js(o.title),Ye(5),nt("ngIf",o.loading),Ye(1),nt("src",o.url))},dependencies:[wi,kb,os,is,ss,as,ap,cs,us],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const au=Sa.releaseExtra?`1.9.3-345ff45 (${Sa.releaseExtra})`:"1.9.3",NM=A.p+"assets/doc/CHANGELOG-a11d705281ff15a7.md";var ig=A(2466);const sg=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:f})=>{if((e=>void 0!==e.method&&"call"===e.method)(f)){const{params:{timerId:m,timerType:y}}=f;if("interval"===y){const S=t.get(m);if("number"==typeof S){const D=n.get(S);if(void 0===D||D.timerId!==m||D.timerType!==y)throw new Error("The timer is in an undefined state.")}else{if(!(typeof S<"u"))throw new Error("The timer is in an undefined state.");S()}}else if("timeout"===y){const S=r.get(m);if("number"==typeof S){const D=n.get(S);if(void 0===D||D.timerId!==m||D.timerType!==y)throw new Error("The timer is in an undefined state.")}else{if(!(typeof S<"u"))throw new Error("The timer is in an undefined state.");S(),r.delete(m)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(f)){const{error:{message:m}}=f;throw new Error(m)}{const{id:m}=f,y=n.get(m);if(void 0===y)throw new Error("The timer is in an undefined state.");const{timerId:S,timerType:D}=y;n.delete(m),"interval"===D?t.delete(S):r.delete(S)}}}),{clearInterval:f=>{const m=(0,ig.generateUniqueNumber)(n);n.set(m,{timerId:f,timerType:"interval"}),t.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const m=(0,ig.generateUniqueNumber)(n);n.set(m,{timerId:f,timerType:"timeout"}),r.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,m)=>{const y=(0,ig.generateUniqueNumber)(t);return t.set(y,()=>{f(),"function"==typeof t.get(y)&&o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:y,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:y,timerType:"interval"}}),y},setTimeout:(f,m)=>{const y=(0,ig.generateUniqueNumber)(r);return r.set(y,f),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:y,timerType:"timeout"}}),y}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})();var Md=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(Md||{});class LM{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Md.animationFrame}}class u5{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((e,t)=>sg().setTimeout(e,t))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,sg().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Md.timeout}}const d5=[135,135,105],f5=[0,0,0],wc=new Array(16).fill(0).map((e,t)=>f5.map((r,n)=>Math.floor((t*r+(15-t)*d5[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),Ub=wc.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var se=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(se||{}),Td=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(Td||{});function _p(e){switch(e){case se.i710:case se.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case se.handera330:case se.handera330c:case se.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case se.pegS300:case se.pegS320:case se.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case se.pegT600c:case se.pegT400:case se.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case se.pegN600c:case se.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case se.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case se.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function Hb(e){switch(e){case se.pilot:case se.palmPilot:case se.iii:case se.palmV:case se.palmVx:case se.iiix:case se.iiixe:case se.iiie:case se.m100:case se.m105:case se.m125:case se.m500:case se.palmVII:case se.palmVIIEZ:case se.palmVIIx:case se.i705:case se.handera330:case se.pegS300:case se.pegS320:case se.pegT400:case se.acerS11:return!1;default:return!0}}function $M(e){switch(e){case se.pilot:return"Pilot";case se.palmPilot:return"Palm Pilot";case se.iii:return"Palm III";case se.m500:return"Palm m500";case se.m505:return"Palm m505";case se.m515:return"Palm m515";case se.m520:return"Palm m520";case se.palmVx:return"Palm Vx";case se.iiix:return"Palm IIIx";case se.iiixe:return"Palm IIIxe";case se.iiie:return"Palm IIIe";case se.palmV:return"Palm V";case se.palmVII:return"Palm VII";case se.palmVIIEZ:return"Palm VII EZ";case se.palmVIIx:return"Palm VIIx";case se.iiic:return"Palm IIIc";case se.m100:return"Palm m100";case se.m105:return"Palm m105";case se.m125:return"Palm m125";case se.m130:return"Palm m130";case se.i705:return"Palm i705";case se.i710:return"Tungsten W";case se.handera330:return"Handera 330";case se.handera330c:return"Handera 330c";case se.pegS300:return"Sony PEG-S300";case se.pegS320:return"Sony PEG-S320";case se.pegT400:return"Sony PEG-T400 series";case se.pegN600c:return"Sony PEG-N600C series";case se.pegT600c:return"Sony PEG-T600C series";case se.pegN700c:return"Sony PEG-N700C series";case se.pegT650c:return"Sony PEG-T650C series";case se.pegNR70:return"Sony PEG-NR70 series";case se.pegS500c:return"Sony PEG-S500C series";case se.acerS11:return"Acer S1x series";case se.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function BM(e){switch(e){case se.m500:case se.m505:case se.m515:case se.m520:case se.m125:case se.m130:case se.i705:case se.i710:case se.handera330:case se.handera330c:return Td.sdcard;case se.pegS300:case se.pegS500c:case se.pegS320:case se.pegT400:case se.pegN600c:case se.pegT600c:case se.pegN700c:case se.pegT650c:case se.pegNR70:case se.acerS11:return Td.memorystick;default:return Td.none}}class jM{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class m5{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class w5{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,c=performance.now()-i;if(this.clockEmulator+=Math.max(a,c),this.speedAverage.push(a/(c>0?c:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||m!==this.uiInitialized){const y=this.powerOff;this.powerOff=f,this.uiInitialized=m,y!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}m&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new Ho.j,this.pwmUpdateEvent=new Ho.j,this.emulationStateChangeEvent=new Ho.j,this.powerOffChangeEvent=new Ho.j,this.deviceId=se.m515,this.clockEmulator=0,this.scheduler=new LM(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new m5(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new jM(20),this.timePerFrameAverage=new jM(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=_p(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=_p(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Md.animationFrame?new LM(t=>this.onSchedule(t)):new u5(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=_p(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=Hb(t)?"white":Ub[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=wc[15],i=wc[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const c=a*t.bytesPerLine;for(let f=t.margin;f<t.lineWidth+t.margin;f++)n[s++]=t.buffer[c+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[wc[15&o],wc[o>>>4&15],wc[o>>>8&15],wc[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const c=a*t.bytesPerLine;for(let f=t.margin;f<t.lineWidth+t.margin;f++)n[s++]=i[t.buffer[c+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=wc[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let c=0;c<t.lineWidth;c++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class S5{constructor(t,r){this.timeoutRemaining=t,this.cb=r,this.onTimeout=()=>{const n=performance.now();if(this.timeoutRemaining-=n-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,t)}increase(t){this.timeoutRemaining+=t}cancel(){clearTimeout(this.handle)}}const I5=new Error("transaction timeout"),HM=new Error("session does not match emulation");let vp=(()=>{var e;class t{constructor(n,o,i,s,a,c){var f=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.ngZone=c,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,ne.Z)(function*(){try{yield f.triggerSnapshotUnguarded()}finally{f.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Ho.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,ne.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,ne.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(console.error("snapshot error",o),o===HM)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===Vb)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,ne.Z)(function*(){const o=n.db.transaction([bc,Cc,Bl,Qa,Us,gp],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield pr(o.objectStore(Us).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((c,f)=>{let m=!1;const y=performance.now();let S=0,D=0,K=0;const he=new S5(500,()=>{m=!0;try{o.abort()}catch{}f(I5)});o.oncomplete=()=>{he.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),c({timestamp:Date.now(),pages:K,timeBlocking:D-S,timeTotal:performance.now()-y})},o.onerror=()=>{he.cancel(),f(new Error(o.error?.message))};try{n.assertSessionMatches(),S=performance.now(),K=n.saveDirtyMemory(o,he),i&&(K+=n.saveDirtyStorage(i,o,he)),n.saveSession(o),D=performance.now()}catch(Pe){throw m||(he.cancel(),o.abort()),Pe}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(bc),a=n.objectStore(Cc),c=this.cloudpilot.getDirtyPages(),f=this.cloudpilot.getMemory32();let m=0;if(!this.dirtyPages||!this.pages){const S=f.length>>>8;this.dirtyPages=new Uint8Array(c.length),this.pages=new Array(S);for(let D=0;D<S;D++)this.pages[D]=new Uint32Array(256)}const y={sessionId:this.sessionId,totalSize:f.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&Sa.debug&&(y.crc32=kM(new Uint8Array(f.buffer,f.byteOffset,f.byteLength))),a.put(y);for(let S=0;S<c.length;S++)if(this.dirtyPages[S]|=c[S],c[S]=0,0!==this.dirtyPages[S])for(let D=1;D<256&&!(i>=this.pages.length);D<<=1){if(this.dirtyPages[S]&D){const K=EM(f.subarray(256*i,256*(i+1)));"number"==typeof K?s.put(K,[this.sessionId,i]):(this.pages[i].set(K),s.put(this.pages[i],[this.sessionId,i])),o.increase(.5),m++}i++}else i+=8;return m}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,Vr.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let c=0,f=0,m=0;const y=o.objectStore(Qa),S=(a.length>>11)+(a.length%2048>0?1:0);for(let D=0;D<s.length;D++)if(this.cardDirtyPages[D]|=s[D],s[D]=0,0!==this.cardDirtyPages[D])for(let K=1;K<256&&!(c>=S);K<<=1){if(this.cardDirtyPages[D]&K){f>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const he=this.cardPagePool[f++];he.set(a.subarray(2048*c,2048*(c+1))),y.put(he,[n.id,c]),i.increase(4),m++}c++}else c+=8;return 8*m}saveSession(n){const o=n.objectStore(Bl);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw HM}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(gr),ce($l),ce(ou),ce(mp),ce(Gi),ce(dt))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function x5(e,t){1&e&&(ie(0,"p",10),je(1," ERROR: URL must be served via HTTPS. "),te())}function k5(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(sd())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let M5=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(sd())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(sd())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new vm({url:new ni("",k5)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=v({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3,"Enter download URL"),te(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.continue()}),je(6,"OK"),te()(),ie(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancel()}),je(9,"Cancel"),te()()()(),ie(10,"ion-content",4)(11,"form",5),at("keydown",function(s){return o.formKeyDown(s)}),ie(12,"p"),je(13," Please enter the URL from which to download: "),te(),ie(14,"ion-item",6)(15,"ion-label",7),je(16,"URL"),te(),lt(17,"ion-input",8),te(),nn(18,x5,2,0,"p",9),ie(19,"p"),je(20," Note that the remote server needs to support the CORS protocol. "),te()()()),2&n&&(Ye(5),nt("disabled",o.formGroup.invalid),Ye(6),nt("formGroup",o.formGroup),Ye(7),nt("ngIf",o.isMixedContent))},dependencies:[wi,os,is,ss,as,Ll,gi,ls,cs,us,Nl,Pl,Tl,Al,Ca,Wa],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})();function ag(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function GM(e){return`${ag(e.name)}.bin`}function zM(e,t){return`backup_${ag(e.name)}${t?"_with_rom":""}.zip`}function Gb(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}function WM(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}let A5=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new vm({username:new ni(n?.username??""),password:new ni(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(w(Gi))},e.\u0275cmp=v({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3,"Authenticate"),te(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.saveAndContinue()}),je(6,"OK"),te()(),ie(7,"ion-buttons",2)(8,"ion-button",1),at("click",function(){return o.onCancel()}),je(9,"Cancel"),te()()()(),ie(10,"ion-content",3)(11,"form",4),at("keydown",function(s){return o.formKeyDown(s)}),ie(12,"p"),je(13," The server requires authentication. "),te(),ie(14,"ion-item",5)(15,"ion-label",6),je(16,"Username"),te(),lt(17,"ion-input",7),te(),ie(18,"ion-item",5)(19,"ion-label",6),je(20,"Password"),te(),lt(21,"ion-input",8),te()()()),2&n&&(Ye(11),nt("formGroup",o.formGroup))},dependencies:[os,is,ss,as,Ll,gi,ls,cs,us,Nl,Pl,Tl,Al,Ca,Wa],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),ZM=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,ne.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,c=new(sd())("string"==typeof n?n:n.url);let f,m,y=!1;for(;;)try{f||(f=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===m?m=window.setTimeout(()=>f?.present(),s):f.present();const S=i.kvsService.kvs.credentials[c.origin],D=new AbortController,K=window.setTimeout(()=>D.abort(),a),he=yield fetch(n,{...i.requestInit(o),signal:D.signal,headers:{...o?.headers||{},...y&&S?{Authorization:"Basic "+btoa(`${S.username}:${S.password}`)}:{}}});if(clearTimeout(K),401===he.status){if(!y&&S){y=!0;continue}if(f?.dismiss(),clearTimeout(m),s=0,f=void 0,s=void 0,y=!0,yield i.authenticate(c.origin))continue}return he}finally{f&&(yield f.dismiss()),clearTimeout(m)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,ne.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:A5,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Xa),ce(Gi),ce(bs))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var R5=A(6972),O5=A.n(R5);function zb(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}const qM=[se.palmPilot,se.pilot,se.iii,se.palmVx,se.palmV,se.palmVII,se.palmVIIEZ,se.palmVIIx,se.iiixe,se.iiix,se.iiie,se.m500,se.m505,se.m515,se.m520,se.iiic,se.m100,se.m105,se.m125,se.m130,se.i705,se.i710,se.handera330,se.handera330c,se.pegS300,se.pegS320,se.pegS500c,se.pegT400,se.pegN600c,se.pegT600c,se.pegN700c,se.pegT650c,se.pegNR70,se.acerS11,se.lp168];function on(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Kt{constructor(t){this.module=t,this.fatalErrorEvent=new Ho.j,this.pwmUpdateEvent=new Ho.j,this.proxyDisconnectEvent=new Ho.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(r=>this.proxyDisconnectEvent.dispatch(t.UTF8ToString(r)),"vi"))}static create(t){return(0,ne.Z)(function*(){return new Kt(yield O5()({print:r=>console.log(r),printErr:r=>console.error(r),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:qM.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,ne.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,ne.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(n.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>n.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,c=0;if(void 0!==t.metadata){const m=(new TextEncoder).encode(JSON.stringify(t.metadata));c=m.length,a=this.copyIn(m)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,c);const f=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(m=>this.cloudpilot.Free(m)),f}deserializeSessionImage(t){const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),c=r.GetDeviceId();if(!qM.includes(c))return void console.warn(`unsupported device ${c}`);let f;const m=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(m)try{f=JSON.parse((new TextDecoder).decode(m))}catch(y){console.warn("invalid metadata",y)}return{deviceId:c,rom:i,memory:s,savestate:a,metadata:f,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=zb(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}}W([on()],Kt.prototype,"getRomInfo",null),W([on()],Kt.prototype,"initializeSession",null),W([on()],Kt.prototype,"cyclesPerSecond",null),W([on()],Kt.prototype,"runEmulation",null),W([on()],Kt.prototype,"getFrame",null),W([on()],Kt.prototype,"isScreenDirty",null),W([on()],Kt.prototype,"markScreenClean",null),W([on()],Kt.prototype,"minRamForDevice",null),W([on()],Kt.prototype,"framebufferSizeForDevice",null),W([on()],Kt.prototype,"totalMemorySizeForDevice",null),W([on()],Kt.prototype,"queuePenMove",null),W([on()],Kt.prototype,"queuePenUp",null),W([on()],Kt.prototype,"queueButtonDown",null),W([on()],Kt.prototype,"queueButtonUp",null),W([on()],Kt.prototype,"queueKeyboardEvent",null),W([on()],Kt.prototype,"isPowerOff",null),W([on()],Kt.prototype,"isUiInitialized",null),W([on()],Kt.prototype,"isSetupComplete",null),W([on()],Kt.prototype,"getOSVersion",null),W([on()],Kt.prototype,"reset",null),W([on()],Kt.prototype,"resetNoExtensions",null),W([on()],Kt.prototype,"resetHard",null),W([on()],Kt.prototype,"installDb",null),W([on()],Kt.prototype,"getPalette2bitMapping",null),W([on()],Kt.prototype,"getMemory",null),W([on()],Kt.prototype,"getMemory32",null),W([on()],Kt.prototype,"getDirtyPages",null),W([on()],Kt.prototype,"loadMemory",null),W([on()],Kt.prototype,"getRomImage",null),W([on()],Kt.prototype,"getSavestate",null),W([on()],Kt.prototype,"saveState",null),W([on()],Kt.prototype,"loadState",null),W([on()],Kt.prototype,"getHotsyncName",null),W([on()],Kt.prototype,"setClockFactor",null),W([on()],Kt.prototype,"setHotsyncName",null),W([on()],Kt.prototype,"setClipboardIntegration",null),W([on()],Kt.prototype,"getClipboardIntegration",null),W([on()],Kt.prototype,"isSuspended",null),W([on()],Kt.prototype,"getSuspendKind",null),W([on()],Kt.prototype,"cancelSuspend",null),W([on()],Kt.prototype,"getSuspendContextClipboardCopy",null),W([on()],Kt.prototype,"getSuspendContextClipboardPaste",null),W([on()],Kt.prototype,"setNetworkRedirection",null),W([on()],Kt.prototype,"getNetworkRedirection",null),W([on()],Kt.prototype,"getSuspendContextNetworkConnect",null),W([on()],Kt.prototype,"getSuspendContextNetworkRpc",null),W([on()],Kt.prototype,"copyBuffer",null),W([on()],Kt.prototype,"freeBuffer",null),W([on()],Kt.prototype,"setHotsyncNameManagement",null),W([on()],Kt.prototype,"resolveBuffer",null),W([on()],Kt.prototype,"serializeSessionImage",null),W([on()],Kt.prototype,"deserializeSessionImage",null),W([on()],Kt.prototype,"launchAppByName",null),W([on()],Kt.prototype,"launchAppByDbHeader",null),W([on()],Kt.prototype,"deviceSupportsCardSize",null),W([on()],Kt.prototype,"clearExternalStorage",null),W([on()],Kt.prototype,"allocateCard",null),W([on()],Kt.prototype,"decompressCard",null),W([on()],Kt.prototype,"getCardData",null),W([on()],Kt.prototype,"getCardDirtyPages",null),W([on()],Kt.prototype,"getMountedKey",null),W([on()],Kt.prototype,"mountCard",null),W([on()],Kt.prototype,"removeCard",null),W([on()],Kt.prototype,"remountCards",null),W([on()],Kt.prototype,"getCardSupportLevel",null),W([on()],Kt.prototype,"loadSkin",null);const F5=A.p+"wasm/cloudpilot_web-1b6eb96669a1de26.wasm";let Ea=(()=>{var e;class t{constructor(){this.cloudpilot=Kt.create(F5)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Sc=(()=>{var e;class t{constructor(n,o,i,s,a,c,f,m){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=c,this.fetchService=f,this.cloudpilotService=m}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}saveSession(n){var o=this;return(0,ne.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const[s,a,c]=yield o.storageService.loadSession(n,!1);if(!s)throw new Error(`invalid ROM ${n.rom}`);const f={deviceId:n.device,metadata:WM(n),rom:s,memory:a,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(f);m?o.saveFile(GM(n),m):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}emergencySaveSession(n,o){var i=this;return(0,ne.Z)(function*(){const s=yield i.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=o.getRomImage().slice(),c=o.getMemory().slice(),f=o.saveState()?o.getSavestate().slice():void 0;if(o.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const y={deviceId:n.device,metadata:WM(n),rom:a,memory:c,savestate:f},S=(yield i.cloudpilotService.cloudpilot).serializeSessionImage(y);S&&i.saveFile(GM(n),S)}finally{s.dismiss()}})()}saveFile(n,o){const i=new Blob([o],{type:"application/octet-stream"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download=n,a.click()}openUrl(n,o){var i=this;return(0,ne.Z)(function*(){let s;try{s=new(sd())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const c=yield i.loadingController.create({message:"Loading..."});c.present();const f=a.arrayBuffer().then(m=>new Uint8Array(m));return f.finally(()=>c.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>f})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}openFilesImpl(n,o){var i=this;return(0,ne.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,ne.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:M5,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(c=>c.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=Tb||Cs&&Ab;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",this.input.addEventListener("change",function(){var a=(0,ne.Z)(function*(c){const f=c.target;f?.files&&o(Array.from(f.files).map(i.readFile.bind(i)))});return function(c){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,ne.Z)(function*(){return o||(o=new Promise((a,c)=>{const f=new FileReader;f.onload=()=>a(new Uint8Array(f.result)),f.onerror=()=>{console.warn(f.error),c(f.error)},f.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(gr),ce(Xa),ce(fp),ce(Gi),ce(bs),ce(Mo),ce(ZM),ce(Ea))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Wb=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new Ho.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(dt))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const lg=new Error("permission denied");let YM=(()=>{var e;class t{constructor(n,o){this.alertController=n,this.alertService=o,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(n){if(n.isSuspended())switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,ne.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===lg)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}})()}tryCopyDirect(n){var o=this;return(0,ne.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?lg:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,ne.Z)(function*(s,a){try{const c=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(f=(0,ne.Z)(function*(){c.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(m){a(m)}}),function(){return f.apply(this,arguments)})},{text:"Cancel",handler:()=>{c.dismiss(),s(!1)}}]});c.present()}catch(c){a(c)}var f});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,ne.Z)(function*(){const i=yield o.tryPaste();n.getSuspendContextClipboardPaste().Resume(i??""),void 0!==i&&(o.clipboardContent=i,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,ne.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===lg)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,ne.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?lg:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,ne.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(c=(0,ne.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(f){s(f)}}),function(){return c.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}}]});a.present()}catch(a){s(a)}var c});return function(i,s){return o.apply(this,arguments)}}())}handlePasteSafari(n){var o=this;return(0,ne.Z)(function*(){const i=yield o.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,ne.Z)(function*(){try{o.clipboardContent=yield navigator.clipboard.readText(),o.lastClipboardReadAt=performance.now(),i.dismiss(),n.Resume(o.clipboardContent)}catch{i.dismiss(),yield o.alertService.errorMessage("Paste from host clipboard failed."),n.Resume("")}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),n.Resume("")}}]});var s;yield i.present()})()}isPermissionDenied(n){return(0,ne.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(tu),ce(Mo))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const L5="https:"===window.location.protocol?8667:8666,$5=/^[\da-z\-\.]+$/i,B5=/^[\da-z\-\.]+:\d+$/i;function Zb(e){if(!e)return;const t=window.location.protocol;if(e.match($5))return`${t}//${e}:${L5}`;if(e.match(B5))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function j5(e){return void 0!==Zb(e.value)?null:{proxyAddress:"invalid"}}let qb=(()=>{var e;class t{constructor(n,o,i,s){var a=this;this.kvsService=n,this.alertService=o,this.ngZone=i,this.fetchService=s,this.handleConnect=()=>this.mutex.runExclusive((0,ne.Z)(function*(){a.socket&&a.disconnect(a.socket);const c=Zb(a.kvsService.kvs.proxyServer);if(!c)return yield a.alertService.errorMessage(`Invalid proxy address: ${a.kvsService.kvs.proxyServer}`),void a.cloudpilot.getSuspendContextNetworkConnect().Cancel();const f=yield a.handshake(void 0,500);switch(f.status){case"failed":return void a.onSocketError(void 0);case"version_mismatch":return yield a.alertService.proxyVersionMismatchError(),void a.cancelSuspend();case"success":break;default:throw new Error("unreachable")}a.socket=new WebSocket(`${c.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(f.token)}`),a.socket.binaryType="arraybuffer",a.bindListeners(a.socket),a.ngZone.run(()=>a.connectTimeoutHandle=setTimeout(a.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=jb(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=c=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(c.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const f=this.cloudpilot.copyBuffer(new Uint8Array(c.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(f,c.data.byteLength),this.cloudpilot.freeBuffer(f),this.resumeEvent.dispatch()},this.onSocketError=c=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",c)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=c=>{c!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Ho.j,this.mutex=new Ka,this.sessionId=""}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(n=this.kvsService.kvs.proxyServer,o=-1){var i=this;return(0,ne.Z)(function*(){const s=Zb(n);if(!s)return{status:"failed"};try{const a=yield i.fetchService.fetch(`${s}/network-proxy/handshake`,{method:"POST",loaderDelay:o});if(!a.ok)return{status:"failed"};const c=yield a.json();return c.version<3||c.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:c.token}}catch{return{status:"failed"}}})()}handleRpc(){const n=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(n.GetRequestData(),n.GetRequestSize())):n.Cancel()}disconnect(n){n&&(this.unbindListeners(n),n.close()),this.sessionId="",this.socket=void 0}bindListeners(n){this.ngZone.run(()=>{n.addEventListener("open",this.onSocketOpen),n.addEventListener("error",this.onSocketError),n.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>n.addEventListener("message",this.onSocketMessage))}unbindListeners(n){n&&(n.removeEventListener("message",this.onSocketMessage),n.removeEventListener("open",this.onSocketOpen),n.removeEventListener("error",this.onSocketError),n.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Gi),ce(Mo),ce(dt),ce(ZM))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),KM=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),QM=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var G5=A(6368),cg=A.n(G5);class Yb{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,ne.Z)(function*(){return new Yb(yield cg()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class Xb{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,ne.Z)(function*(){const n=yield cg()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new Xb(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=zb(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class Kb{constructor(t,r){this.module=t;const n=new t.FSTools,o=n.Malloc(r.length),i=t.getPointer(o);t.HEAPU8.subarray(i,i+r.length).set(r),t.destroy(n),this.nativeContext=new t.GunzipContext(o,r.length,524288)}static create(t,r){return(0,ne.Z)(function*(){const n=yield cg()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new Kb(n,t)})()}gunzip(){var t=this;return(0,ne.Z)(function*(){for(;0===t.nativeContext.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==t.nativeContext.GetState()||(console.error(`gunzip failed: ${t.nativeContext.GetError()}`),!1)})()}getDecompressedData(){const t=this.nativeContext.GetUncompressedSize(),r=this.nativeContext.GetUncompressedData(),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t)}}class Qb{constructor(t,r){this.module=t,this.uncompressedDataSize=r;const n=new t.FSTools,o=n.Malloc(r);this.uncompressedDataPtr=t.getPointer(o),t.destroy(n),this.nativeContext=new t.GzipContext(o,r,524288)}static create(t,r){return(0,ne.Z)(function*(){const n=yield cg()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new Qb(n,t)})()}getBuffer(){return this.module.HEAPU8.subarray(this.uncompressedDataPtr,this.uncompressedDataPtr+this.uncompressedDataSize)}setFilename(t){return this.nativeContext.SetFilename(t),this}setMtime(t){return this.nativeContext.SetMtime(t),this}gzip(){var t=this;return(0,ne.Z)(function*(){for(t.nativeContext.Continue();1===t.nativeContext.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==t.nativeContext.GetState()||(console.error(`gzip failed: ${t.nativeContext.GetError()}`),!1)})()}getGzipData(){const t=this.nativeContext.GetGzipSize(),r=this.nativeContext.GetGzipData(),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t)}}const JM=new Map;class Y5{constructor(t="fstools_web.wasm"){let r=JM.get(t);r||(r=function z5(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,ne.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),JM.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,ne.Z)(function*(){const n=yield Yb.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,ne.Z)(function*(){const n=yield Kb.create(t,r.instantiante);if(yield n.gunzip())return n.getDecompressedData()})()}createGzipContext(t){return Qb.create(t,this.instantiante)}createFsckContext(t){return Xb.create(t,this.instantiante)}}var Ur=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(Ur||{}),zr=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(zr||{});let yp=(()=>{var e;class t{constructor(n,o,i){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.sessions=[],this.loading=!0,this.updateMutex=new Ka,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,ne.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:zr.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},c=yield s.loadingController.create({message:"Importing..."});yield c.present();const f=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),yield c.dismiss(),f})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,ne.Z)(function*(){const c={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:zr.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},f=yield a.loadingController.create({message:"Importing..."});yield f.present();const m=yield a.storageService.addSession(c,n);return yield a.updateSessionsFromStorage(),yield f.dismiss(),m})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,ne.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,ne.Z)(function*(){yield o.storageService.updateSession(n)})()}updateSessionsFromStorage(){var n=this;return(0,ne.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,ne.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ea),ce(gr),ce(Xa))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var X5=A(9793),K5=A.n(X5),Ja=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(Ja||{}),lu=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(lu||{});function Q5(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function eT(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:Q5(e.GetAttributes())}}class Jb{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,ne.Z)(function*(){return new Jb(yield K5()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=zb(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(eT(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:eT(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,ne.Z)(function*(){const i=new o.module.CreateZipContext(n,25),s=[];try{for(t&&t.forEach(m=>i.AddFile(m)),r&&r.forEach(m=>i.AddDirectory(m));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(m=>setTimeout(m,0)))}let a;const c=o.module.getPointer(i.GetZipContent()),f=i.GetZipSize();return 0!==c&&0!==f&&(a=o.module.HEAPU8.subarray(c,c+f).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,ne.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,ne.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=c=>({result:c,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),s.GetState()){case 1:return a(Ja.success);case-3:return a(Ja.cardFull);case-1:return a(Ja.ioError);case-2:return a(Ja.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,ne.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(c=>a.AddFile(c)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),a.GetState()){case 1:return lu.success;case-2:return lu.cardFull;case-1:return lu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var J5=A(5683),tT=A.n(J5);function nT(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const eG=A.p+"wasm/vfs_web-3e66505828bedb74.wasm";let cu=(()=>{var e;class t{constructor(n,o,i,s,a,c){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertController=a,this.alertService=c,this.onReleaseCard=new Ho.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=Jb.create(eG),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(f=>this.vfsInstance=f)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,ne.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,ne.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,Vr.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const c=yield s.vfs;c.allocateImage(a.size);const f=c.getPendingImage();if(!f)throw new Error("failed to allocate image");return i?f.set(i):yield s.storageService.loadCardData(n,f,Vr.vfs),c.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,Vr.vfs),!1)})()}releaseCard(n){var o=this;return(0,ne.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,Vr.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,ne.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:c}=s.stat(n);if(0===a)if(void 0===o.attributes||tT()(o.attributes,c.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==c.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(n){var o=this;return(0,ne.Z)(function*(){const i=yield o.loadingController.create();yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,ne.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,c=n.filter(D=>D.isDirectory).map(D=>i.normalizePath(D.path)),f=n.filter(D=>!D.isDirectory).map(D=>i.normalizePath(D.path)),m=1===n.length?`${n[0].name}.zip`:function T5(e){return`files_${ag(e.name)}.zip`}(i.primaryCard),{archive:y,failedItems:S}=yield a.createZipArchive({directories:c,files:f,prefix:o});yield s.dismiss(),S.length>0&&(S.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${S.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${S.slice(0,3).join("<br>")}<br><br> and ${S.length-3} other file`)),y&&i.fileService.saveFile(m,y)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,ne.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,ne.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const c=yield(yield o.vfs).deleteRecursive(i);if(!c.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${c.failingItem}`));yield o.updateBytesFree(),yield o.sync(),n.map(f=>f.path).forEach(f=>o.directoryCache.delete(o.dirname(f)))}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,ne.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===Ur.clean||n.status===Ur.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,ne.Z)(function*(){const s=yield i.loadingController.create();yield s.present();try{const{entriesTotal:a,entriesSuccess:c,result:f}=yield i.unpackArchiveUnchecked(n,o);let m,y;switch(yield s.dismiss(),f){case Ja.success:m="The archive was extracted successfully, but some entries were skipped.",y="Skipped entries";break;case Ja.ioError:return void(yield i.fatalError("There was an error writing to the card."));case Ja.cardFull:m="No space left on card.",y="No space left";break;case Ja.zipfileError:m="There was an error reading from the archive.",y="Error reading archive";break;default:throw new Error("unreachable")}const S=a-c,D=K=>K>1?`${K} entries`:"one entry";a>0&&S===a&&(yield i.alertService.message(y,`\n                    ${m}\n                    <br><br>\n                    The archive contains ${D(a)}, but none could be unpacked.\n                `)),S>0&&c>0&&(yield i.alertService.message(y,`\n                    ${m}\n                    <br><br>\n                    ${nT(D(c))} unpacked succesfully, but ${D(S)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,ne.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create();yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case lu.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case lu.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,ne.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create();yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const c=f=>f>1?`${f} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${c(n.length-a.length)} to card. ${nT(c(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,ne.Z)(function*(){const s=i.readdir(o),a=[],c=yield i.vfs;let f=!1,m=!1,y=!1,S=!1;e:for(let D=0;D<n.length;D++){const K=n[D],he=s.find(Ae=>Ae.name===K.name);if(he&&he.isDirectory){if(!y){const{overwrite:Ie,rememberChoice:Nt}=yield i.overwriteFileDialog(K.name,"directory");S=Ie,y=Nt}let Ae=!0;if(S&&(Ae=!(yield c.deleteRecursive([i.normalizePath(`${o}/${K.name}`)])).success),Ae){a.push(K.name);continue}}if(he&&!he.isDirectory){if(!f){const{overwrite:Ae,rememberChoice:Ie}=yield i.overwriteFileDialog(K.name,"file");m=Ae,f=Ie}if(!m){a.push(K.name);continue}}let Pe;try{Pe=yield K.getContent()}catch(Ae){console.warn(Ae),a.push(K.name),yield i.alertService.errorMessage(`Unable to open ${K.name}`);continue}switch(c.writeFile(i.normalizePath(`${o}/${K.name}`),Pe)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(D).map(Ae=>Ae.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(K.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(c=(0,ne.Z)(function*(f){if(i)return o;const{overwrite:m,rememberChoice:y}=yield n.overwriteFileDialog(f.replace(/^\d:/,""),"file");return o=m,i=y,o}),function(m){return c.apply(this,arguments)}),onDirectoryCollision:function(){var c=(0,ne.Z)(function*(f){if(a)return s;const{overwrite:m,rememberChoice:y}=yield n.overwriteFileDialog(f.replace(/^\d:/,""),"directory");return s=m,a=y,s});return function(m){return c.apply(this,arguments)}}()};var c}unpackArchiveUnchecked(n,o){var i=this;return(0,ne.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(c=(0,ne.Z)(function*(f){yield i.alertService.message("Invalid entry",`Could not extract ${f}`,{},"Continue")}),function(m){return c.apply(this,arguments)})});var c;return a.result!==Ja.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,ne.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(c=>c.name),o.clipboard.operation,o.collisionHandlers());return a===lu.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,ne.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,Vr.vfs),yield n.storageService.loadCardData(o.id,s,Vr.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,Vr.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,ne.Z)(function*(){let s=!1,a=!1;const c=yield i.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:new eu.I("file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                    Do you want to overwrite the existing directory ${n}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `),buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>s=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:f=>a=!0===f.checked,cssClass:"alert-checkbox"}]});return yield c.present(),yield c.onDidDismiss(),{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,ne.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,ne.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:Ur.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,ne.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),c=s.getDirtyPagesForSlot(n);!a||!c||(yield o.storageService.updateCardData(i.id,a,c,Vr.vfs),c.fill(0))})()}activatePrimaryCard(){var n=this;return(0,ne.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,ne.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(gr),ce(mp),ce(Sc),ce(Xa),ce(tu),ce(Mo))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const tG=A.p+"wasm/fstools_web-a88d5806e504f67c.wasm";let rT=(()=>{var e;class t extends Y5{constructor(){super(tG)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var oi=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(oi||{});function oT(){return jb().replace(/-/g,"")}let Ad=(()=>{var e;class t{constructor(n,o,i,s,a,c,f,m,y,S,D,K){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=c,this.alertService=f,this.errorService=m,this.fileService=y,this.vfsService=S,this.storageCardContext=D,this.fstools=K,this.mountCardEvent=new Ho.j,this.deleteCardEvent=new Ho.j,this.loading=!0,this.cards=[],this.updateMutex=new Ka,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,ne.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const c=yield s.fstools.mkfs(function nG(e){switch(e){case oi.mb4:return 4;case oi.mb8:return 8;case oi.mb16:return 16;case oi.mb32:return 32;case oi.mb64:return 64;case oi.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!c)throw new Error("failed to create image");const f={storageId:oT(),name:n,size:4*c.length,status:Ur.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(f,c)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,ne.Z)(function*(){const a={storageId:oT(),name:n,size:o.length,status:Ur.clean,dontFsckAutomatically:i},c=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2),f=yield s.loadingController.create({message:"Importing..."});try{if(i)yield f.present(),yield s.storageService.importStorageCard(a,c);else{const[m,y]=yield s.fsckNewCard(c,a);yield f.present(),yield s.storageService.importStorageCard(y,m)}}finally{f.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,Vr.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,ne.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const c=a.getCardData(s.storageId);if(!c)throw new Error("failed to access card data");return i.storageCardContext.claim(n,Vr.cloudpilot),o?c.set(o):yield i.storageService.loadCardData(s.id,c,Vr.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,ne.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:Ur.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,Vr.cloudpilot)})()}checkCard(n){var o=this;return(0,ne.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,Vr.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,ne.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===Vr.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,ne.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=Ur.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,ne.Z)(function*(){const i=yield o.loadingController.create();yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,ne.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const c=yield s.loadingController.create({message:"Exporting..."});let f;const m=i?yield s.fstools.createGzipContext(a.size):void 0;if(m){const y=m.getBuffer();f=new Uint32Array(y.buffer,y.byteOffset,y.byteLength>>2)}try{yield c.present();const y=s.mountedInSession(n);let S;if(y&&y.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),S=(yield s.cloudpilotService.cloudpilot).getCardData(a.storageId),S&&(f?f.set(S):f=S)),S||(f||(f=new Uint32Array(a.size>>>2)),yield s.storageService.loadCardData(a.id,f,s.storageCardContext.getOwner(n))),m){if(m.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),!(yield m.gzip()))return void s.alertService.errorMessage("Failed to compress card image.");o+=".gz"}}finally{c.dismiss()}s.fileService.saveFile(o,m?m.getGzipData():new Uint8Array(f.buffer,f.byteOffset,f.length<<2))})()}getCard(n){var o=this;return(0,ne.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}updateCardsFromDB(){var n=this;return(0,ne.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,ne.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,ne.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,ne.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,c=!0,f=!1;if(!s.dontFsckAutomatically){if(s.status===Ur.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(c=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>c=!0},"Cancel"),!c)return i.storageCardContext.release(n,Vr.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case Ur.clean:break;case Ur.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Ur.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case Ur.unfixable:if(c=!1,f=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>c=!0},"Cancel"),!c)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,f,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(m){return i.errorService.fatalBug(m instanceof Error?m.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,ne.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,Vr.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Vr.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:Ur.clean}),o.storageCardContext.release(n,Vr.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:Ur.unformatted}),o.storageCardContext.release(n,Vr.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:Ur.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:Ur.unfixable}),o.storageCardContext.release(n,Vr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,ne.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),Vr.fstools),yield i.storageService.updateStorageCardPartial(n,{status:Ur.clean}),i.storageCardContext.release(n,Vr.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,ne.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,c;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),c=a.fsck()}finally{s.dismiss()}switch(c){case 1:return[n,{...o,status:Ur.clean}];case 2:{let f=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>f=!0},"Skip"),f?[a.getImageData(),{...o,status:Ur.clean}]:[n,{...o,status:Ur.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:Ur.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:Ur.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,ne.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:Ur.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,ne.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const c=yield i.loadCardInEmulator(n,o),f=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:Ur.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!f.mountCard(c.storageId))throw f.removeCard(c.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(c),c}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,ne.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(yp),ce(gr),ce($l),ce(Ea),ce(Xa),ce(vp),ce(Mo),ce(ou),ce(Sc),ce(cu),ce(mp),ce(rT))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Da=(()=>{var e;class t extends w5{constructor(n,o,i,s,a,c,f,m,y,S,D,K,he,Pe,Ae,Ie,Nt,Rt){var Dt;super(),Dt=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=c,this.fileService=f,this.alertService=m,this.modalWatcher=y,this.clipboardService=S,this.kvsService=D,this.proxyService=K,this.buttonService=he,this.bootstrapService=Pe,this.cloudpilotService=Ae,this.storageCardService=Ie,this.storageCardContext=Nt,this.app=Rt,this.switchSession=(Cr,Fi={})=>this.mutex.runExclusive((0,ne.Z)(function*(){if(Cr===Dt.emulationState.getCurrentSession()?.id)return!0;let Hs;yield Dt.stopUnchecked(),yield Dt.bootstrapService.hasRendered(),(Fi.showLoader??1)&&(Hs=yield Dt.loadingController.create({message:"Loading..."}),yield Hs.present());try{const Dp=yield Dt.storageService.getSession(Cr);if(!Dp)throw new Error(`invalid session ${Cr}`);Dt.emulationState.setCurrentSession(void 0);const F9=yield Dt.cloudpilotService.cloudpilot;if(!(yield Dt.restoreSession(Dp,F9)))return Dt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Dt.emulationState.setCurrentSession(Dp),function kH(e){localStorage.setItem(tg,e+"")}(Cr)}finally{Hs&&(yield Hs.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,ne.Z)(function*(){!Dt.emulationState.getCurrentSession()||Dt.running||Dt.errorService.hasFatalError()||!Dt.cloudpilotInstance||(yield Dt.kvsService.mutex.runExclusive(()=>Dt.updateFeatures()),Dt.doResume(),Dt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,ne.Z)(function*(){Dt.doPause(),!Dt.errorService.hasFatalError()&&Dt.emulationState.getCurrentSession()&&(yield Dt.snapshotService.waitForPendingSnapshot(),yield Dt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Cr,Fi])=>this.mutex.runExclusive((0,ne.Z)(function*(){const Hs=Dt.emulationState.getCurrentSession();Cr===Hs?.id&&(void 0!==Hs.mountedCard&&void 0===Fi&&Dt.storageCardContext.release(Hs.mountedCard,Vr.cloudpilot),Dt.emulationState.setCurrentSession(Fi),Dt.emulationState.getCurrentSession()||(wM(),Dt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,ne.Z)(function*(){const Cr=Dt.emulationState.getCurrentSession();Cr&&Dt.fileService.emergencySaveSession(Cr,yield Dt.cloudpilotService.cloudpilot)})),this.mutex=new Ka,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),c.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Cr=>{Cr.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Cr),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Bn=function xH(){const e=localStorage.getItem(tg);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Bn&&!oI()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Bn))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?Md.timeout:Md.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,ne.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,ne.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,ne.Z)(function*(c){return yield c.present(),c});return function(c){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{Cs&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,ne.Z)(function*(){const[s,a,c]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,c)&&(i.proxyService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(gr),ce(dt),ce(Xa),ce($l),ce(vp),ce(ou),ce(Sc),ce(Mo),ce(Wb),ce(YM),ce(Gi),ce(qb),ce(KM),ce(QM),ce(Ea),ce(Ad),ce(mp),ce(Dl))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),e0=(()=>{var e;class t{constructor(n){this.loadingController=n,this.reloadOnControllerChange=!1,this.updateAvailableEvent=new Ho.j,this.register()}isEnabled(){return Sa.production&&!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}update(){var n=this;return(0,ne.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,ne.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}register(){var n=this;return(0,ne.Z)(function*(){if(n.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>n.reloadOnControllerChange&&window.location.reload()),yield new Promise(o=>setTimeout(o,3e3));try{n.setupRegistration(yield n.doRegister())}catch(o){console.error(o)}}})()}doRegister(){return(0,ne.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Xa))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),iT=(()=>{var e;class t{constructor(n,o,i,s,a){var c=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,ne.Z)(function*(){const f=c.kvsService.kvs.version;void 0!==f?f!==au&&(yield c.kvsService.set({version:au,previousVersion:f,latestVersion:au}),yield c.emulationService.bootstrapComplete(),yield c.alertService.message("Update complete",`CloudpilotEmu was updated to version ${au}.`,{Changes:()=>c.showChangelog()})):c.kvsService.kvs.version=au})),this.mutex=new Ka,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,ne.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,ne.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===au){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,ne.Z)(function*(){yield(yield n.modalController.create({component:su,componentProps:{url:NM,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,ne.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Gi),ce(Da),ce(Mo),ce(bs),ce(e0))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),lG=(()=>{var e;class t{constructor(n,o,i){this.kvsService=n,this.alertService=o,this.emulationService=i}start(){var n=this;return(0,ne.Z)(function*(){const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o)})()}showInfo(n){var o=this;return(0,ne.Z)(function*(){return 2===n&&Cs&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Gi),ce(Mo),ce(Da))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),cG=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,ne.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(w(OM),w(iT),w(QM),w(lG))},e.\u0275cmp=v({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(ie(0,"ion-app"),lt(1,"ion-router-outlet"),te())},dependencies:[Fk,up]}),t})(),sT=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=v({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(ie(0,"div"),je(1,"Dummy"),te())},encapsulation:2}),t})(),aT=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(vy),ce(ri))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const t0=se.m515,uG=Ub[2],dG=Ub[0],Pd="rgba(0,0,0,0.2)";function lT(e){const t=_p(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=c=>({frameDevice:c,frameCanvas:c*r}),i=c=>({frameDevice:c,frameCanvas:n.frameCanvas+c*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function mG(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class gG{constructor(t){this.skinLoader=t,this.layout=lT(t0),this.onResize=new Ho.j}get width(){switch(this.getOrientation()){case zr.portrait:case zr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case zr.portrait:case zr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let c=(t.clientX-o)/s*this.width/this.layout.scale,f=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case zr.landscape90:{const y=f;f=this.layout.height.frameDevice-c,c=y;break}case zr.landscape270:{const y=f;f=c,c=this.layout.width.frameDevice-y;break}case zr.portrait180:c=this.layout.width.frameDevice-c,f=this.layout.height.frameDevice-f}c-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const m=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)c<0&&(c=0),c>=this.layout.screenWidth.frameDevice&&(c=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=m&&(f=m-1);else if(c<0||c>=this.layout.screenWidth.frameDevice||f<0||f>=m)return;return[c,f]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,ne.Z)(function*(){if(!t)return;r.layout=lT(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,ne.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Pd),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Pd),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Pd),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Pd),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Pd),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Pd))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case zr.portrait:case void 0:break;case zr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case zr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case zr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,ne.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,uG),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case se.pegT600c:case se.pegT650c:return"silkscreen/clie-t600.svg";case se.pegN700c:case se.pegN600c:return"silkscreen/clie-n610.svg";case se.pegS320:case se.pegS300:return"silkscreen/clie-s300.svg";case se.pegS500c:return"silkscreen/clie-s500.svg";case se.pegT400:return"silkscreen/clie-t415.svg";case se.acerS11:return"silkscreen/acer-s10.svg";case se.palmPilot:case se.pilot:case se.iii:case se.palmVII:return"silkscreen/pilot.svg";case se.m500:return"silkscreen/m500.svg";case se.m505:case se.m515:case se.m520:return"silkscreen/m515.svg";case se.iiic:return"silkscreen/iiic.svg";case se.m100:case se.m105:case se.m125:return"silkscreen/m100.svg";case se.m130:return"silkscreen/m130.svg";case se.i710:return"silkscreen/tungstenw.svg";case se.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case se.acerS11:return"hard-buttons/acer-s10.svg";case se.pegNR70:return"hard-buttons/clie-nr70.svg";case se.pegN700c:return"hard-buttons/clie-n700.svg";case se.pegN600c:return"hard-buttons/clie-n610.svg";case se.pegS300:return"hard-buttons/clie-s300.svg";case se.pegS500c:return"hard-buttons/clie-s500.svg";case se.pegS320:return"hard-buttons/clie-s320.svg";case se.pegT400:case se.pegT600c:case se.pegT650c:return"hard-buttons/clie-t415.svg";case se.pilot:case se.palmPilot:return"hard-buttons/pilot.svg";case se.m500:return"hard-buttons/m500.svg";case se.m505:case se.m515:case se.m520:return"hard-buttons/m515.svg";case se.iiic:return"hard-buttons/iiic.svg";case se.m100:case se.m105:return"hard-buttons/m100.svg";case se.m125:return"hard-buttons/m125.svg";case se.m130:return"hard-buttons/m130.svg";case se.i710:return"hard-buttons/tungstenw.svg";case se.iii:case se.iiix:case se.iiixe:case se.palmVII:case se.palmVIIEZ:case se.palmVIIx:return"hard-buttons/iiix.svg";case se.iiie:return"hard-buttons/iiie.svg";case se.i705:return"hard-buttons/i705.svg";case se.handera330:return"hard-buttons/handera330.svg";case se.handera330c:return"hard-buttons/handera330c.svg";case se.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return Hb(this.getDeviceId())?"white":dG}frameColor(){return Hb(this.getDeviceId())?"white":"#ccc"}}function vG(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class bG{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,vG((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function _G(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,ne.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const c=o.getContext("2d");if(!c)throw new Error("get a new browser");return c.drawImage(yield e,0,0,o.width,o.height),(Tb||Cs)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),c.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let dg=(()=>{var e;class t extends gG{constructor(n){super(new bG(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,ne.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,ne.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,ne.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??t0}getOrientation(){return this.session?.deviceOrientation??zr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const c=function CG(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(_p(this.session?.device??t0).screenSize);this.ctx.font=6*this.layout.scale*c+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((f,m)=>this.ctx.fillText(f,this.layout.screenLeft.frameCanvas+c*this.layout.scale,s.frameCanvas+c*this.layout.scale*(8+6*m)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ea))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),n0=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(w(ri),w(dg),w($l))},e.\u0275cmp=v({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(ie(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),lt(4,"ion-icon",3),ie(5,"ion-label"),je(6,"Emulator"),te()(),ie(7,"ion-tab-button",4),lt(8,"ion-icon",5),ie(9,"ion-label"),je(10,"Sessions"),te()(),ie(11,"ion-tab-button",6),lt(12,"ion-icon",7),ie(13,"ion-label"),je(14,"Cards"),te()(),ie(15,"ion-tab-button",8),lt(16,"ion-icon",9),ie(17,"ion-label"),je(18,"Settings"),te()(),ie(19,"ion-tab-button",10),lt(20,"ion-icon",11),ie(21,"ion-label"),je(22,"About"),te()()()()()),2&n&&(Ye(2),Sl("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[Ei,ls,qm,Bk,Qk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),bp=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({imports:[Ga,Mb.forChild(),gc,Xc,Sm]}),t})(),wG=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({imports:[Ga,Xc,gc,bp,Mb.forChild()]}),t})(),SG=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({imports:[Ga,Xc,gc,bp]}),t})(),EG=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({imports:[Ga,Xc,gc,Sm,bp]}),t})(),DG=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({imports:[Ga,Xc,gc,bp,Sm]}),t})(),IG=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({imports:[Ga,gc,Xc,Sm,bp]}),t})();const xG=A.p+"assets/doc/about-d0ca8b5cf1135905.md";function kG(e,t){if(1&e){const r=Fr();ie(0,"ion-button",1),at("click",function(){return hn(r),mn(Ht().onClick())}),lt(1,"ion-icon",2),te()}if(2&e){const r=Ht();Ye(1),nt("name",r.iconName)}}let fg=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return Cs?"logo-apple-appstore":bM?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(w(OM))},e.\u0275cmp=v({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&nn(0,kG,2,1,"ion-button",0),2&n&&nt("ngIf",o.show)},dependencies:[wi,os,Ei]}),t})();function MG(e,t){1&e&&(ie(0,"div",10),lt(1,"ion-spinner"),te())}function TG(e,t){1&e&&(ie(0,"div"),je(1,"app cached for offline use"),te())}let AG=(()=>{var e;class t{constructor(n,o){this.modalController=n,this.serviceWorkerService=o,this.loading=!0}get version(){return au}get url(){return xG}showChangelog(){var n=this;return(0,ne.Z)(function*(){yield(yield n.modalController.create({component:su,componentProps:{url:NM,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}}return(e=t).\u0275fac=function(n){return new(n||e)(w(bs),w(e0))},e.\u0275cmp=v({type:e,selectors:[["app-about"]],decls:21,vars:4,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,o){1&n&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3,"About"),te(),ie(4,"ion-buttons",0),lt(5,"app-pwa-prompt"),te()()(),ie(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),je(10,"About"),te()()(),nn(11,MG,2,0,"div",3),ie(12,"div",4)(13,"markdown",5),at("load",function(){return o.loading=!1}),te()(),ie(14,"div",6),je(15),lt(16,"br"),ie(17,"a",7),at("click",function(){return o.showChangelog()}),je(18,"Changelog"),te(),nn(19,TG,2,0,"div",8),te(),lt(20,"img",9),te()),2&n&&(Ye(11),nt("ngIf",o.loading),Ye(2),nt("src",o.url),Ye(2),Vi(" CloudpilotEmu version ",o.version," "),Ye(4),nt("ngIf",o.serviceWorkerAvailable))},dependencies:[wi,is,ss,as,ap,cs,us,fg,kb],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function PG(e,t){if(1&e&&(ie(0,"ion-select-option",16),je(1),te()),2&e){const r=t.$implicit;nt("value",r[0]),Ye(1),Vi("",r[1]," ")}}function RG(e,t){if(1&e&&(ie(0,"ion-select-option",16),je(1),te()),2&e){const r=t.$implicit;nt("value",r[0]),Ye(1),Vi("",r[1]," ")}}function OG(e,t){if(1&e&&(ie(0,"ion-item",6)(1,"ion-label",7),je(2,"Hotsync name"),te(),lt(3,"ion-input",17),te()),2&e){const r=Ht();Ye(3),nt("placeholder",r.placeholder)}}let cT=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[zr.portrait,"Portrait"],[zr.landscape90,"Landscape 90\xb0"],[zr.landscape270,"Landscape 270\xb0"],[zr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,$M(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function p5(e){switch(e){case se.palmPilot:case se.pilot:case se.iii:case se.palmVII:case se.palmVx:case se.palmV:case se.palmVIIEZ:case se.palmVIIx:case se.iiic:case se.iiix:case se.iiixe:case se.iiie:case se.m100:case se.m105:case se.pegS300:case se.pegS500c:return 16;case se.m500:case se.m505:case se.m515:case se.m520:case se.m125:case se.m130:case se.i705:case se.i710:case se.handera330:case se.handera330c:case se.pegS320:case se.pegT400:case se.pegN600c:case se.pegT600c:case se.pegN700c:case se.acerS11:return 33;case se.pegT650c:case se.pegNR70:case se.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new vm({name:new ni(this.session.name,{validators:[Ff.required,this.validateNameUnique]}),manageHotsyncName:new ni(!this.session.dontManageHotsyncName),hotsyncName:new ni(this.session.hotsyncName||""),device:new ni({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new ni((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new ni(this.session.deviceOrientation||zr.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(w(yp),w(Mo))},e.\u0275cmp=v({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3,"Session settings"),te(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.save()}),je(6,"Save"),te()(),ie(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancel()}),je(9,"Cancel"),te()()()(),ie(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return o.onEnter()}),ie(12,"h1"),je(13,"Session"),te(),ie(14,"ion-item",6)(15,"ion-label",7),je(16,"Session name"),te(),lt(17,"ion-input",8),te(),ie(18,"h1"),je(19,"Device"),te(),ie(20,"ion-item",6)(21,"ion-label",7),je(22,"Device type"),te(),ie(23,"ion-select",9),nn(24,PG,2,2,"ion-select-option",10),te()(),ie(25,"ion-item",6)(26,"ion-label",7),je(27,"Orientation"),te(),ie(28,"ion-select",11),nn(29,RG,2,2,"ion-select-option",10),te()(),ie(30,"ion-item",6)(31,"ion-label",12),je(32),te(),ie(33,"ion-range",13),at("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),te()(),ie(34,"h1"),je(35,"Hotsync"),te(),ie(36,"ion-item",6)(37,"ion-label"),je(38,"Manage hotsync name"),te(),lt(39,"ion-toggle",14),te(),nn(40,OG,4,1,"ion-item",15),te()()),2&n&&(Ye(5),nt("disabled",o.formGroup.invalid),Ye(6),nt("formGroup",o.formGroup),Ye(13),nt("ngForOf",o.deviceList),Ye(5),nt("ngForOf",o.orientations),Ye(3),js(o.speedLabel),Ye(8),nt("ngIf",o.showHotsyncNameInput))},dependencies:[zc,wi,os,is,ss,as,Ll,gi,ls,bb,Wm,Zm,cs,lp,us,wd,sp,Nl,Pl,Tl,Al,Wy,Ca,Wa],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),FG=(()=>{var e;class t{constructor(n,o,i,s,a,c,f){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=c,this.cloudpilotService=f}saveBackup(n){var o=this;return(0,ne.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let c;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const f=yield o.cloudpilotService.cloudpilot;yield f.backup(function(){var m=(0,ne.Z)(function*(y){for(y.Init(n);y.IsInProgress();){const S=y.GetCurrentDatabase();y.Save()||a.push(S),yield new Promise(D=>setTimeout(D,0))}c=f.getArchive(y)});return function(y){return m.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}c?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${Gb(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(zM(i,n),c)},"Cancel"):o.fileService.saveFile(zM(i,n),c):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Da),ce(Xa),ce(vp),ce(Sc),ce($l),ce(Mo),ce(Ea))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const NG=window.AudioContext||window.webkitAudioContext;function r0(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class LG{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,ne.Z)(function*(){if(!r.initialized){try{r.context=new NG}catch(n){return console.error(n),void console.error("web audio not available")}try{r.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield r.start()}catch(n){return console.error(n),void console.error("failed to initialize audio context")}r.context.addEventListener("statechange",()=>{"interrupted"===r.context?.state&&r.updateState()}),r.gainNode=r.context.createGain(),r.gainNode.channelCount=1,r.gainNode.channelInterpretation="speakers",r.gainNode.gain.value=r.gain(),r.gainNode.connect(r.context.destination),r.applyPwmUpdate(),r.initialized=!0}})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,ne.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield r0(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield r0(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,ne.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new Ka,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Cs||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Cs||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var t=this;return(0,ne.Z)(function*(){t.context&&(yield r0(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let o0=(()=>{var e;class t extends LG{constructor(n,o,i){super(n),this.kvs=o,this.modalWatcher=i,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Da),ce(Gi),ce(Wb))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),dT=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Da),ce(dt))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function BG(e,t){if(1&e){const r=Fr();ie(0,"ion-item",4),at("click",function(){return hn(r),mn(Ht().power())}),ie(1,"ion-label"),je(2,"Power"),te(),lt(3,"ion-icon",5),te()}if(2&e){const r=Ht();nt("detail",!1)("disabled",!r.emulationService.isRunning())}}function jG(e,t){if(1&e){const r=Fr();ie(0,"ion-item",4),at("click",function(){return hn(r),mn(Ht().hotsync())}),ie(1,"ion-label"),je(2,"Hotsync"),te(),lt(3,"ion-icon",6),te()}if(2&e){const r=Ht();nt("detail",!1)("disabled",!r.emulationService.isRunning())}}function VG(e,t){if(1&e){const r=Fr();ie(0,"ion-item",4),at("click",function(){return hn(r),mn(Ht().reset())}),ie(1,"ion-label"),je(2,"Reset"),te(),lt(3,"ion-icon",7),te()}if(2&e){const r=Ht();nt("detail",!1)("disabled",!r.emulationService.isRunning())}}function UG(e,t){if(1&e){const r=Fr();ie(0,"ion-item",8),at("click",function(){return hn(r),mn(Ht().insertCard())}),ie(1,"ion-label"),je(2),te(),lt(3,"ion-icon",9),te()}if(2&e){const r=Ht();nt("detail",!1),Ye(2),Vi("Insert ",r.hasMemorystick?"stick":"SD card","")}}function HG(e,t){if(1&e){const r=Fr();ie(0,"ion-item",8),at("click",function(){return hn(r),mn(Ht().ejectCard())}),ie(1,"ion-label"),je(2),te(),lt(3,"ion-icon",10),te()}if(2&e){const r=Ht();nt("detail",!1),Ye(2),Vi("Eject ",r.hasMemorystick?"stick":"SD card","")}}function GG(e,t){if(1&e){const r=Fr();ie(0,"ion-item",8),at("click",function(){return hn(r),mn(Ht().mute(!1))}),ie(1,"ion-label"),je(2,"Enable audio"),te(),lt(3,"ion-icon",11),te()}2&e&&nt("detail",!1)}function zG(e,t){if(1&e){const r=Fr();ie(0,"ion-item",8),at("click",function(){return hn(r),mn(Ht().mute(!0))}),ie(1,"ion-label"),je(2,"Disable audio"),te(),lt(3,"ion-icon",12),te()}2&e&&nt("detail",!1)}function WG(e,t){if(1&e){const r=Fr();ie(0,"ion-item",4),at("click",function(){return hn(r),mn(Ht().backup())}),ie(1,"ion-label"),je(2,"Save backup"),te(),lt(3,"ion-icon",13),te()}if(2&e){const r=Ht();nt("detail",!1)("disabled",r.backupDisabled)}}function ZG(e,t){if(1&e){const r=Fr();ie(0,"ion-item",8),at("click",function(){return hn(r),mn(Ht().rotate())}),ie(1,"ion-label"),je(2,"Rotate"),te(),lt(3,"ion-icon",14),te()}2&e&&nt("detail",!1)}function qG(e,t){if(1&e){const r=Fr();ie(0,"ion-item",8),at("click",function(){return hn(r),mn(Ht().editSettings())}),ie(1,"ion-label"),je(2,"Settings"),te(),lt(3,"ion-icon",15),te()}2&e&&nt("detail",!1)}function YG(e){switch(e){case zr.portrait:case void 0:return zr.landscape90;case zr.landscape90:return zr.portrait180;case zr.portrait180:return zr.landscape270;case zr.landscape270:return zr.portrait;default:throw new Error("cannot happen")}}let XG=(()=>{var e;class t{constructor(n,o,i,s,a,c,f,m,y,S,D,K,he,Pe,Ae,Ie,Nt,Rt){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=c,this.audioService=f,this.kvsService=m,this.modalController=y,this.sessionService=S,this.performanceWatchdogService=D,this.canvasDisplayService=K,this.cloudpilotService=he,this.storageCardService=Pe,this.alertService=Ae,this.alertController=Ie,this.storageService=Nt,this.errorService=Rt,this.showHelp=()=>{}}reset(){var n=this;return(0,ne.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,ne.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function h5(e){switch(e){case se.i705:case se.i710:case se.pegNR70:case se.pegT650c:case se.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&BM(n.device)!==Td.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&BM(n.device)===Td.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,ne.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:cT,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(c=(0,ne.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return c.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var c;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,ne.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:YG(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,ne.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(c=>i.deviceSupportsCardSize(c.size)&&!n.storageCardService.mountedInSession(c.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:c=>n.storageCardService.insertCard(c)}],inputs:s.map((c,f)=>({label:c.name,type:"radio",value:c.id,checked:0===f})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,ne.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(w(Da),w($l),w(FG),w(KM),w(fp),w(nu),w(o0),w(Gi),w(bs),w(yp),w(dT),w(dg),w(Ea),w(Ad),w(Mo),w(tu),w(gr),w(ou))},e.\u0275cmp=v({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(ie(0,"ion-list"),nn(1,BG,4,2,"ion-item",0),nn(2,jG,4,2,"ion-item",0),nn(3,VG,4,2,"ion-item",0),nn(4,UG,4,2,"ion-item",1),nn(5,HG,4,2,"ion-item",1),nn(6,GG,4,1,"ion-item",1),nn(7,zG,4,1,"ion-item",1),nn(8,WG,4,2,"ion-item",0),nn(9,ZG,4,1,"ion-item",1),nn(10,qG,4,1,"ion-item",1),ie(11,"ion-item",2),at("click",function(){return o.help()}),ie(12,"ion-label"),je(13,"Help"),te(),lt(14,"ion-icon",3),te()()),2&n&&(Ye(1),nt("ngIf",o.hasActiveSession&&!o.powerDisabled),Ye(1),nt("ngIf",o.hasActiveSession),Ye(1),nt("ngIf",o.hasActiveSession),Ye(1),nt("ngIf",o.supportsStorageCard&&!o.hasMountedCard),Ye(1),nt("ngIf",o.supportsStorageCard&&o.hasMountedCard),Ye(1),nt("ngIf",o.isMuted&&!o.isAudioOff),Ye(1),nt("ngIf",!o.isMuted&&!o.isAudioOff),Ye(1),nt("ngIf",o.hasActiveSession),Ye(1),nt("ngIf",o.hasActiveSession),Ye(1),nt("ngIf",o.hasActiveSession),Ye(1),nt("detail",!1))},dependencies:[wi,Ei,gi,ls,Ya]}),t})();const KG=A.p+"assets/doc/emulation-4d1cd1e4fd3e19e2.md";class QG{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const c=this.determineArea(a);if(2===c){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:c,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:c}),this.emulationService.handlePointerMove(...a,1===c)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const c=a.area;switch(c){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const m=this.canvasDisplayService.determineButton(f);m===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):m!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=m,this.handleButtonDown(m));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===c);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let JG=(()=>{var e;class t extends QG{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Da),ce(dg),ce(Wb),ce(dt),ce(Dl))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function fT(e){return/\.(prc|pdb|pqa)$/i.test(e)}class oz{constructor(t,r,n,o){this.cloudpilotService=t,this.alertController=r,this.snapshotService=n,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,ne.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else fT(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,ne.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function rz(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,ne.Z)(function*(){yield(yield r.cloudpilotService.cloudpilot).withZipfileWalker(yield t.getContent(),function(){var o=(0,ne.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!fT(i.GetCurrentEntryName())){i.Next();continue}const c=i.GetCurrentEntryContent();c?(yield r.installOne(a,c),s++):r.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function nz(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():new Promise(n=>{this.alertController.create({header:t,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:new eu.I(r),buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),n()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}let iz=(()=>{var e;class t{constructor(n,o,i,s,a,c){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.alertController=c}installFiles(n){var o=this;return(0,ne.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],c=[];try{[s,c,a]=yield new oz(o.cloudpilotService,o.alertController,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const f=[o.messageSucces(s),o.messageFailed(a),o.messageRequireReset(c)].filter(y=>!!y).join("<br/><br/>");let m;m=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(m,f,c.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSucces(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${Gb(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${Gb(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ea),ce(Da),ce(Xa),ce(vp),ce(Mo),ce(tu))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),s0=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const sz=["canvas"];function az(e,t){if(1&e){const r=Fr();ie(0,"ion-button",5),at("click",function(){return hn(r),mn(Ht().navigation.lock())}),lt(1,"ion-icon",10),te()}}function lz(e,t){if(1&e){const r=Fr();ie(0,"ion-button",5),at("click",function(){return hn(r),mn(Ht().navigation.unlock())}),lt(1,"ion-icon",11),te()}}function cz(e,t){if(1&e){const r=Fr();ie(0,"ion-button",5),at("click",function(){return hn(r),mn(Ht().showGameModeHint())}),lt(1,"ion-icon",12),te()}}function uz(e,t){if(1&e){const r=Fr();ie(0,"ion-button",5),at("click",function(){return hn(r),mn(Ht().showProxyConnectedHint())}),lt(1,"ion-icon",13),te()}}function dz(e,t){if(1&e){const r=Fr();ie(0,"ion-button",5),at("click",function(){return hn(r),mn(Ht().showSlowdowndHint())}),lt(1,"ion-icon",14),te()}}function fz(e,t){if(1&e){const r=Fr();ie(0,"div",15),je(1," The device was reset forcefully. How do you want to boot? "),ie(2,"ion-button",16),at("click",function(){return hn(r),mn(Ht().bootAfterForcefulReset())}),je(3,"Normal boot"),te(),ie(4,"ion-button",16),at("click",function(){return hn(r),mn(Ht().bootAfterForcefulResetNoExtensions())}),je(5,"No extensions"),te(),ie(6,"ion-button",16),at("click",function(){return hn(r),mn(Ht().bootAfterForcefulResetHardReset())}),je(7,"Hard reset"),te()()}}function pz(e,t){1&e&&(ie(0,"div",15)(1,"div"),je(2,"No session selected"),te()())}let hz=(()=>{var e;class t{constructor(n,o,i,s,a,c,f,m,y,S,D,K,he,Pe,Ae,Ie,Nt,Rt){var Dt=this;this.emulationService=n,this.emulationState=o,this.storageService=i,this.eventHandlingService=s,this.canvasDisplayService=a,this.kvsService=c,this.popoverController=f,this.modalController=m,this.alertService=y,this.fileService=S,this.snapshotService=D,this.installlationService=K,this.proxyService=he,this.navigation=Pe,this.linkApi=Ae,this.performanceWatchdogService=Ie,this.cloudpilotService=Nt,this.dragDropService=Rt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,ne.Z)(function*(){yield Dt.emulationService.bootstrapComplete(),Dt.boostrapComplete=!0;const Bn=Dt.emulationState.getCurrentSession();Bn&&!Bn.wasResetForcefully&&(yield Dt.launchEmulator()),Dt.linkApi.installation.requestEvent.addHandler(Dt.handleLinkApiInstallationRequest),Dt.handleLinkApiInstallationRequest(),Dt.dragDropService.registerClient(Dt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Bn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Bn,this.emulationService.getStatistics())},this.onNewFrame=Bn=>{this.canvasDisplayService.updateEmulationCanvas(Bn)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Bn=this.linkApi.installation.receivePendingUrl();Bn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Bn} ?`,{OK:()=>this.fileService.openUrl(Bn,Fi=>this.installlationService.installFiles([Fi]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Bn} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Ka}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(n){var o=this;return(0,ne.Z)(function*(){(yield o.popoverController.create({component:XG,event:n,componentProps:{showHelp:()=>o.showHelp()},arrow:!1,translucent:!0})).present()})()}handleDragDropEvent(n){this.installFileDisabled||this.fileService.openFromDrop(n,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var n=this;return(0,ne.Z)(function*(){yield(yield n.modalController.create({component:su,componentProps:{url:KG}})).present()})()}showGameModeHint(){var n=this;return(0,ne.Z)(function*(){yield n.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>n.showHelp()})})()}showProxyConnectedHint(){var n=this;return(0,ne.Z)(function*(){yield n.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var n=this;return(0,ne.Z)(function*(){yield n.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var n=this;return(0,ne.Z)(function*(){yield n.clearForcefulReset(),yield n.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var n=this;return(0,ne.Z)(function*(){yield n.clearForcefulReset(),(yield n.cloudpilotService.cloudpilot).resetNoExtensions(),yield n.launchEmulator()})()}bootAfterForcefulResetHardReset(){var n=this;return(0,ne.Z)(function*(){yield n.clearForcefulReset(),(yield n.cloudpilotService.cloudpilot).resetHard(),yield n.launchEmulator()})()}cancelIfEmulationActive(n){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&n.cancelable&&n.preventDefault()}clearForcefulReset(){var n=this;return(0,ne.Z)(function*(){const o=n.emulationState.getCurrentSession();o&&(yield n.storageService.updateSessionPartial(o.id,{wasResetForcefully:!1}))})()}launchEmulator(){var n=this;return(0,ne.Z)(function*(){const o=n.emulationState.getCurrentSession();o&&(yield n.kvsService.mutex.runExclusive(()=>n.kvsService.kvs.autoLockUI&&n.autoLockUI&&n.navigation.lock()),n.canvasDisplayService.initialize(n.canvasRef.nativeElement,o).then(()=>{n.onKvsUpdate(),n.kvsService.updateEvent.addHandler(n.onKvsUpdate)}),n.onNewFrame(n.emulationService.getCanvas()),n.emulationService.newFrameEvent.addHandler(n.onNewFrame),n.snapshotService.snapshotEvent.addHandler(n.onSnapshot),yield n.emulationService.resume(),n.eventHandlingService.bind(n.canvasRef.nativeElement))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(w(Da),w($l),w(gr),w(JG),w(dg),w(Gi),w(nu),w(bs),w(Mo),w(Sc),w(vp),w(iz),w(qb),w(n0),w(vy),w(dT),w(Ea),w(s0))},e.\u0275cmp=v({type:e,selectors:[["app-emulation"]],viewQuery:function(n,o){if(1&n&&Hc(sz,5),2&n){let i;ta(i=na())&&(o.canvasRef=i.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(n,o){if(1&n&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3),te(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.installFiles()}),lt(6,"ion-icon",2),te(),nn(7,az,2,0,"ion-button",3),nn(8,lz,2,0,"ion-button",3),te(),ie(9,"ion-buttons",4)(10,"ion-button",5),at("click",function(s){return o.openContextMenu(s)}),lt(11,"ion-icon",6),te(),nn(12,cz,2,0,"ion-button",3),nn(13,uz,2,0,"ion-button",3),nn(14,dz,2,0,"ion-button",3),te()()(),ie(15,"ion-content")(16,"div",7),at("touchstart",function(s){return o.cancelIfEmulationActive(s)})("touchmove",function(s){return o.cancelIfEmulationActive(s)}),lt(17,"canvas",null,8),te(),nn(19,fz,8,0,"div",9),nn(20,pz,3,0,"div",9),te()),2&n){let i,s;Ye(3),js(o.title),Ye(2),nt("disabled",o.installFileDisabled),Ye(2),nt("ngIf",!o.navigation.isLocked()),Ye(1),nt("ngIf",o.navigation.isLocked()),Ye(4),nt("ngIf",o.eventHandlingService.isGameMode()),Ye(1),nt("ngIf",o.proxyService.isConnected()),Ye(1),nt("ngIf",o.performanceWatchdogService.isSlowdownDetected()),Ye(1),Sl("locked",o.navigation.isLocked()),Ye(1),Ku("display",!o.emulationState.getCurrentSession()||null!=(i=o.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),Ye(1),Ku("width",o.cssWidth)("height",o.cssHeight)("display",o.emulationState.getCurrentSession()?"block":"none"),Ye(2),nt("ngIf",null!=(s=o.emulationState.getCurrentSession())&&s.wasResetForcefully?"none":void 0),Ye(1),nt("ngIf",!o.emulationState.getCurrentSession()&&o.boostrapComplete)}},dependencies:[wi,os,is,ss,as,Ei,cs,us],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),t})();function a0(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}function pT(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}const mz=A.p+"assets/doc/sessions-70e5b5b0b1917420.md";let gz=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=v({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(ie(0,"ion-list")(1,"ion-item",0),at("click",function(){return o.onEdit()}),lt(2,"ion-icon",1),je(3," Edit "),te(),ie(4,"ion-item",0),at("click",function(){return o.onSave()}),lt(5,"ion-icon",2),je(6," Save "),te(),ie(7,"ion-item",0),at("click",function(){return o.onReset()}),lt(8,"ion-icon",3),je(9," Reset "),te(),ie(10,"ion-item",4),at("click",function(){return o.onDelete()}),lt(11,"ion-icon",5),je(12," Delete "),te()()),2&n&&(Ye(1),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1))},dependencies:[Ei,gi,Ya]}),t})();const vz=["slidingItem"];function yz(e,t){if(1&e&&(ie(0,"span"),je(1),te()),2&e){const r=Ht();Ye(1),Vi(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}let bz=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.delete=new Mn,this.resetSession=new Mn,this.edit=new Mn,this.save=new Mn,this.selectItem=new Mn,this.interaction=new Mn}get device(){return this.session?$M(this.session.device):""}onContextmenu(n){var o=this;return(0,ne.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:gz,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function _z(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(w(nu))},e.\u0275cmp=v({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&Hc(vz,5),2&n){let i;ta(i=na())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(n,o){if(1&n){const i=Fr();ie(0,"ion-item-sliding",0,1),at("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),ie(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return hn(i),Bs(1).close(),mn(o.edit.emit(o.session))}),lt(4,"ion-icon",4),te(),ie(5,"ion-item-option",5),at("click",function(){return hn(i),Bs(1).close(),mn(o.save.emit(o.session))}),lt(6,"ion-icon",6),te()(),ie(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return hn(i),Bs(1).close(),mn(o.resetSession.emit(o.session))}),lt(9,"ion-icon",9),te(),ie(10,"ion-item-option",10),at("click",function(){return hn(i),Bs(1).close(),mn(o.delete.emit(o.session))}),lt(11,"ion-icon",11),te()(),ie(12,"ion-item",12),at("click",function(){return o.selectItem.emit()}),ie(13,"ion-label")(14,"h2"),je(15),te(),ie(16,"p"),je(17),nn(18,yz,2,1,"span",13),te()()()()}2&n&&(Ye(12),nt("color",o.color),Ye(1),Sl("in-item-color",o.selected),Ye(2),js(null==o.session?null:o.session.name),Ye(2),mf("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),Ye(1),nt("ngIf",null==o.session?null:o.session.osVersion))},dependencies:[wi,Ei,gi,Hm,Gm,zm,ls],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0}),t})();var Cp;function Cz(e,t){1&e&&(ie(0,"div",10),lt(1,"ion-spinner"),te())}function wz(e,t){1&e&&(ie(0,"div",11)(1,"div",12),je(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),lt(3,"br")(4,"br"),je(5," You can find a collection of compatible ROMs on "),ie(6,"a",13),je(7,"PalmDB"),te(),je(8,". "),te()())}function Sz(e,t){if(1&e){const r=Fr();ie(0,"app-session-item",15),at("delete",function(){const i=hn(r).$implicit;return mn(Ht(2).deleteSession(i))})("selectItem",function(){const i=hn(r).$implicit;return mn(Ht(2).launchSession(i))})("edit",function(){const i=hn(r).$implicit;return mn(Ht(2).editSession(i))})("save",function(){const i=hn(r).$implicit;return mn(Ht(2).saveSession(i))})("resetSession",function(){const i=hn(r).$implicit;return mn(Ht(2).resetSession(i))})("interaction",function(){const i=hn(r).$implicit;return mn(Ht(2).lastSessionTouched=i.id)}),te()}if(2&e){const r=t.$implicit,n=Ht(2);nt("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)}}function Ez(e,t){if(1&e&&(ie(0,"ion-list"),nn(1,Sz,1,3,"app-session-item",14),te()),2&e){const r=Ht();Ye(1),nt("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class uu{constructor(t,r,n,o,i,s,a,c,f,m,y,S,D){this.sessionService=t,this.fileService=r,this.alertController=n,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=c,this.linkApi=f,this.router=m,this.cloudpilotService=y,this.dragDropService=S,this.cd=D,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const K=this.linkApi.import.receivePendingUrl();K&&this.alertService.message("Import request",`Do you want to import<br>${K} ?`,{OK:()=>this.fileService.openUrl(K,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=a0(D,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}deleteSession(t){var r=this;return(0,ne.Z)(function*(){yield(yield r.alertController.create({header:"Warning",message:`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>r.sessionService.deleteSession(t)}],backdropDismiss:!1})).present()})()}editSession(t){var r=this;return(0,ne.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!tT()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.fileService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,ne.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,ne.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield(yield r.alertController.create({header:"Done",message:`Session ${t.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,ne.Z)(function*(){yield(yield t.modalController.create({component:su,componentProps:{url:mz}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(t[0])}}processFile(t){var r=this;return(0,ne.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:cT,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return pT(t,n=>r.some(o=>o.name===n))}}(Cp=uu).\u0275fac=function(t){return new(t||Cp)(w(yp),w(Sc),w(tu),w(Mo),w(Da),w($l),w(gr),w(bs),w(vy),w(ri),w(Ea),w(s0),w(Mt))},Cp.\u0275cmp=v({type:Cp,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3,"Sessions"),te(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return r.importSession()}),lt(6,"ion-icon",2),te()(),ie(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return r.showHelp()}),lt(9,"ion-icon",4),te(),lt(10,"app-pwa-prompt"),te()()(),ie(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),je(15,"Sessions"),te()()(),nn(16,Cz,2,0,"div",7),nn(17,wz,9,0,"div",8),nn(18,Ez,2,2,"ion-list",9),te()),2&t&&(Ye(16),nt("ngIf",r.sessionService.isLoading()),Ye(1),nt("ngIf",!r.sessionService.isLoading()&&0===r.sessions.length),Ye(1),nt("ngIf",!r.sessionService.isLoading()&&r.sessions.length>0))},dependencies:[zc,wi,os,is,ss,as,Ei,Ya,ap,cs,us,fg,bz],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),W([yo()],uu.prototype,"deleteSession",null),W([yo()],uu.prototype,"editSession",null),W([yo()],uu.prototype,"saveSession",null),W([yo()],uu.prototype,"launchSession",null),W([yo()],uu.prototype,"resetSession",null);const hT="reduced-animations",Dz=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,_b.c)()),Iz=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,_b.c)()},xz=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,_b.c)()};function l0(e){localStorage.setItem(hT,e?"1":"0")}function mT(){const e=localStorage.getItem(hT);if(null===e){const t=Tb&&!Cs;return l0(t),t}return"1"===e}const Mz=A.p+"assets/doc/settings-b207dae82fa98ca1.md";function Tz(e,t){1&e&&(ie(0,"ion-item",7)(1,"ion-label"),je(2,"Clipboard integration"),te(),lt(3,"ion-toggle",18),te())}function Az(e,t){if(1&e){const r=Fr();ie(0,"ion-item",7)(1,"ion-label",19),je(2,"Proxy server"),te(),ie(3,"div",20),lt(4,"ion-input",21),ie(5,"ion-button",22),at("click",function(o){hn(r);const i=Ht();return o.preventDefault(),o.stopPropagation(),mn(i.testProxyConnection())})("touchstart",function(o){hn(r);const i=Ht();return o.preventDefault(),o.stopPropagation(),mn(i.testProxyConnection())}),je(6," Test "),te()()()}if(2&e){const r=Ht();Ye(5),nt("disabled",!r.proxyServerValid)}}function Pz(e,t){1&e&&(qu(0),ie(1,"h1"),je(2,"Debug"),te(),ie(3,"ion-item",7)(4,"ion-label"),je(5,"Snapshot validation (slow)"),te(),lt(6,"ion-toggle",23),te(),Yu())}let Rz=(()=>{var e;class t{constructor(n,o,i,s,a){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.proxyService=a,this.onAudioOnStartChange=c=>{this.kvsService.kvs.enableAudioOnFirstInteraction=c,c&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event).\n            <br><br>\n            This option will take effect the next time\n            Coudpilot is restarts.\n        ")},this.onReducedAnimationsChange=c=>{l0(c),this.alertService.message("Reduce animations",c?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                Coudpilot is restarts.\n            ":"\n                This option will only take effect the next time Coudpilot is restarts.\n            ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,ne.Z)(function*(){yield(yield n.modalController.create({component:su,componentProps:{url:Mz}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,ne.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),l0(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,ne.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.proxyService.handshake(n.formGroup.get("proxyServer")?.value,0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return Sa.debug}createFormGroup(){this.formGroup=new vm({volume:new ni(this.kvsService.kvs.volume),showStatistics:new ni(this.kvsService.kvs.showStatistics),runHidden:new ni(this.kvsService.kvs.runHidden),clipboardIntegration:new ni(this.kvsService.kvs.clipboardIntegration),networkRedirection:new ni(this.kvsService.kvs.networkRedirection),proxyServer:new ni(this.kvsService.kvs.proxyServer,{validators:[j5]}),autoLockUI:new ni(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new ni(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new ni(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new ni(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new ni(mT())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(w(bs),w(Gi),w(YM),w(Mo),w(qb))},e.\u0275cmp=v({type:e,selectors:[["app-settings"]],decls:56,vars:4,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3,"Settings"),te(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.showHelp()}),lt(6,"ion-icon",2),te(),lt(7,"app-pwa-prompt"),te()()(),ie(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),je(12,"Settings"),te()()(),ie(13,"div",5)(14,"form",6)(15,"h1"),je(16,"Emulation"),te(),ie(17,"ion-item",7)(18,"ion-label"),je(19,"Volume"),te(),lt(20,"ion-range",8),te(),ie(21,"ion-item",7)(22,"ion-label"),je(23,"Enable audio on start"),te(),lt(24,"ion-toggle",9),te(),ie(25,"ion-item",7)(26,"ion-label"),je(27,"Run when hidden"),te(),lt(28,"ion-toggle",10),te(),ie(29,"h1"),je(30,"Host integration"),te(),nn(31,Tz,4,0,"ion-item",11),ie(32,"ion-item",7)(33,"ion-label"),je(34,"Network redirection"),te(),lt(35,"ion-toggle",12),te(),nn(36,Az,7,1,"ion-item",11),ie(37,"h1"),je(38,"UI"),te(),ie(39,"ion-item",7)(40,"ion-label"),je(41,"Auto-lock UI"),te(),lt(42,"ion-toggle",13),te(),ie(43,"ion-item",7)(44,"ion-label"),je(45,"Reduce animations"),te(),lt(46,"ion-toggle",14),te(),ie(47,"ion-item",7)(48,"ion-label"),je(49,"Show statistics"),te(),lt(50,"ion-toggle",15),te(),ie(51,"ion-item",7)(52,"ion-label"),je(53,"Open from remote sources"),te(),lt(54,"ion-toggle",16),te(),nn(55,Pz,7,0,"ng-container",17),te()()()),2&n&&(Ye(14),nt("formGroup",o.formGroup),Ye(17),nt("ngIf",o.clipboardService.isSupported()),Ye(5),nt("ngIf",o.showProxyServer),Ye(19),nt("ngIf",o.showDebugOptions))},dependencies:[wi,Pl,Tl,Al,os,is,ss,as,Ei,Ll,gi,ls,bb,cs,lp,us,wd,sp,Nl,fg,Ca,Wa],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),c0=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=bn({name:"cardSize",type:e,pure:!0}),t})();function Oz(e,t){1&e&&(ie(0,"div",13)(1,"b"),je(2,"WARNING:"),te(),je(3," This image cannot be used as a memory stick image."),te())}let gT=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new dc({name:new ys("",{nonNullable:!0,validators:[Ff.required,this.validateNameUnique]}),size:new ys({value:"dummy",disabled:!0}),checkAutomatically:new ys(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(w(Ad))},e.\u0275cmp=v({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3),te(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.save()}),je(6,"Save"),te()(),ie(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancel()}),je(9,"Cancel"),te()()()(),ie(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return o.onEnter()}),ie(12,"ion-item",6)(13,"ion-label",7),je(14,"Card name"),te(),lt(15,"ion-input",8),te(),ie(16,"ion-item",6)(17,"ion-label",7),je(18,"Card size"),te(),ie(19,"ion-select",9)(20,"ion-select-option",10),je(21),Va(22,"cardSize"),te()()(),ie(23,"ion-item",6)(24,"ion-label"),je(25,"Check for errors automatically"),te(),lt(26,"ion-toggle",11),te()(),nn(27,Oz,4,0,"div",12),te()),2&n&&(Ye(3),js(o.newCard?"New memory card":"Edit memory card"),Ye(2),nt("disabled",o.formGroup.invalid),Ye(6),nt("formGroup",o.formGroup),Ye(10),Vi("",Ua(22,5,null==o.card?null:o.card.size)," "),Ye(6),nt("ngIf",!o.memoryStickSupported))},dependencies:[wi,os,is,ss,as,Ll,gi,ls,Wm,Zm,cs,lp,us,wd,sp,Nl,Pl,Tl,Al,Ca,Wa,c0],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function Fz(e,t){if(1&e&&(ie(0,"ion-select-option",12),je(1),Va(2,"cardSize"),te()),2&e){const r=t.$implicit,n=Ht();nt("value",r),Ye(1),Vi("",Ua(2,2,n.sizeBytes(r))," ")}}const Nz=[oi.mb4,oi.mb8,oi.mb16,oi.mb32,oi.mb64,oi.mb128];let Lz=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new dc({name:new ys("",{nonNullable:!0,validators:[Ff.required,this.validateNameUnique]}),size:new ys(oi.mb32,{nonNullable:!0}),checkAutomatically:new ys(!0,{nonNullable:!0})})}get sizes(){return Nz}sizeBytes(n){return function rG(e){switch(e){case oi.mb4:return 4046848;case oi.mb8:return 8110080;case oi.mb16:return 16220160;case oi.mb32:return 32473088;case oi.mb64:return 64978944;case oi.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(w(Ad))},e.\u0275cmp=v({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3,"New memory card"),te(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.create()}),je(6,"Create"),te()(),ie(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancel()}),je(9,"Cancel"),te()()()(),ie(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return o.onEnter()}),ie(12,"ion-item",6)(13,"ion-label",7),je(14,"Card name"),te(),lt(15,"ion-input",8),te(),ie(16,"ion-item",6)(17,"ion-label",7),je(18,"Card size"),te(),ie(19,"ion-select",9),nn(20,Fz,3,4,"ion-select-option",10),te()(),ie(21,"ion-item",6)(22,"ion-label"),je(23,"Check for errors automatically"),te(),lt(24,"ion-toggle",11),te()()()),2&n&&(Ye(5),nt("disabled",o.formGroup.invalid),Ye(6),nt("formGroup",o.formGroup),Ye(9),nt("ngForOf",o.sizes))},dependencies:[zc,os,is,ss,as,Ll,gi,ls,Wm,Zm,cs,lp,us,wd,sp,Nl,Pl,Tl,Al,Ca,Wa,c0]}),t})();const $z=A.p+"assets/doc/cards-164c5578de056bad.md";let Bz=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=v({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(ie(0,"ion-list")(1,"ion-item",0),at("click",function(){return o.onEdit()}),lt(2,"ion-icon",1),je(3," Edit "),te(),ie(4,"ion-item",0),at("click",function(){return o.onSave()}),lt(5,"ion-icon",2),je(6," Save "),te(),ie(7,"ion-item",0),at("click",function(){return o.onCheck()}),lt(8,"ion-icon",3),je(9," Check "),te(),ie(10,"ion-item",4),at("click",function(){return o.onDelete()}),lt(11,"ion-icon",5),je(12," Delete "),te()()),2&n&&(Ye(1),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1))},dependencies:[Ei,gi,Ya]}),t})(),jz=(()=>{var e;class t{constructor(n,o){this.storageCardService=n,this.popoverController=o,this.touched=!1,this.interaction=new Mn,this.selectCard=new Mn,this.edit=new Mn,this.check=new Mn,this.delete=new Mn,this.save=new Mn}onContextmenu(n){var o=this;return(0,ne.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Bz,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Ur.dirty:return"needs check";case Ur.clean:return"no errors";case Ur.unformatted:return"no filesystem";case Ur.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(w(Ad),w(nu))},e.\u0275cmp=v({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(n,o){if(1&n){const i=Fr();ie(0,"ion-item-sliding",0,1),at("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),ie(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return hn(i),Bs(1).close(),mn(o.edit.emit(o.card))}),lt(4,"ion-icon",4),te(),ie(5,"ion-item-option",5),at("click",function(){return hn(i),Bs(1).close(),mn(o.save.emit(o.card))}),lt(6,"ion-icon",6),te()(),ie(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return hn(i),Bs(1).close(),mn(o.check.emit(o.card))}),lt(9,"ion-icon",9),te(),ie(10,"ion-item-option",10),at("click",function(){return hn(i),Bs(1).close(),mn(o.delete.emit(o.card))}),lt(11,"ion-icon",11),te()(),ie(12,"ion-item",12),at("click",function(){return o.selectCard.emit(),o.interaction.emit()}),ie(13,"ion-label")(14,"h2"),je(15),te(),ie(16,"p"),je(17),Va(18,"cardSize"),te()()()()}2&n&&(Ye(12),nt("color",o.color),Ye(3),js(null==o.card?null:o.card.name),Ye(2),mf("",Ua(18,4,null==o.card?null:o.card.size),", ",o.status,""))},dependencies:[Ei,gi,Hm,Gm,zm,ls,c0],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0}),t})();var wp;function Vz(e,t){1&e&&(ie(0,"div",10),lt(1,"ion-spinner"),te())}function Uz(e,t){1&e&&(ie(0,"div",11)(1,"div",12),je(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),te()())}function Hz(e,t){if(1&e){const r=Fr();ie(0,"app-storage-card",14),at("delete",function(){const i=hn(r).$implicit;return mn(Ht(2).deleteCard(i))})("selectCard",function(){const i=hn(r).$implicit;return mn(Ht(2).selectCard(i))})("edit",function(){const i=hn(r).$implicit;return mn(Ht(2).editCard(i))})("check",function(){const i=hn(r).$implicit;return mn(Ht(2).checkCard(i))})("interaction",function(){const i=hn(r).$implicit;return mn(Ht(2).lastCardTouched=i.id)})("save",function(){const i=hn(r).$implicit;return mn(Ht(2).saveCard(i))}),te()}if(2&e){const r=t.$implicit,n=Ht(2);nt("card",r)("touched",r.id===n.lastCardTouched)}}function Gz(e,t){if(1&e&&(ie(0,"ion-list"),nn(1,Hz,1,2,"app-storage-card",13),te()),2&e){const r=Ht();Ye(1),nt("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class Ec{constructor(t,r,n,o,i,s,a,c,f,m,y){var S=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=c,this.loadingController=f,this.fstools=m,this.handleCardImport=function(){var D=(0,ne.Z)(function*(K){const he=yield S.cloudpilotService.cloudpilot;let Pe;try{Pe=yield K.getContent()}catch(Nt){return console.warn(Nt),void(yield S.alertService.errorMessage(`Unable to open ${K.name}".`))}if(/\.gz$/.test(K.name)){const Nt=yield S.loadingController.create({message:"Unpacking..."});yield Nt.present();try{Pe=yield S.fstools.gunzip(Pe)}finally{yield Nt.dismiss()}}const Ae=Pe?he.getCardSupportLevel(Pe.length):0;if(void 0===Pe||0===Ae)return void S.alertService.errorMessage("This is not a supported card image.");const Ie=yield new Promise(function(){var Nt=(0,ne.Z)(function*(Rt){const Dt=yield S.modalController.create({component:gT,backdropDismiss:!1,componentProps:{card:{name:S.disambiguateName(K.name.replace(/\.gz$/,"")),size:Pe.length},cardSupportLevel:Ae,newCard:!0,onCancel:()=>{Dt.dismiss(),Rt(void 0)},onSave:Bn=>{Rt(Bn),Dt.dismiss()}}});yield Dt.present()});return function(Rt){return Nt.apply(this,arguments)}}());Ie&&(yield S.storageCardService.createCardFromImage(Ie.name,Pe,!!Ie.dontFsckAutomatically))});return function(K){return D.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=a0(y,[],()=>this.storageCardService.getAllCards())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,ne.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,ne.Z)(function*(){yield(yield t.modalController.create({component:su,componentProps:{url:$z}})).present()})()}selectCard(t){var r=this;return(0,ne.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,ne.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:gT,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,ne.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,ne.Z)(function*(){const n=`${ag(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to save the image?",buttons:[{text:"Save gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Save uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,ne.Z)(function*(){var o;yield(yield r.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,ne.Z)(function*(){try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(t,r){return r.id}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,ne.Z)(function*(){const r=yield t.modalController.create({component:Lz,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,ne.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return pT(t,n=>r.some(o=>o.name===n))}}function zz(e,t){1&e&&lt(0,"ion-icon",8)}function Wz(e,t){1&e&&lt(0,"ion-icon",9)}function Zz(e,t){1&e&&lt(0,"ion-icon",10)}function qz(e,t){if(1&e){const r=Fr();ie(0,"ion-item",2),at("click",function(){const i=hn(r).index;return mn(Ht(2).onSelect(i))}),qu(1,3),nn(2,zz,1,0,"ion-icon",4),nn(3,Wz,1,0,"ion-icon",5),nn(4,Zz,1,0,"ion-icon",6),Yu(),ie(5,"div",7),je(6),te()()}if(2&e){const r=t.$implicit,n=t.index,o=Ht(2);nt("detail",!1)("lines",n===o.entries.length-1?"none":"full"),Ye(1),nt("ngSwitch",o.entries.length),Ye(1),nt("ngSwitchCase",n+1),Ye(1),nt("ngSwitchCase",n+2),Ye(3),js(r)}}function Yz(e,t){if(1&e&&(ie(0,"ion-list"),nn(1,qz,7,6,"ion-item",1),te()),2&e){const r=Ht();Ye(1),nt("ngForOf",r.entries)}}(wp=Ec).\u0275fac=function(t){return new(t||wp)(w(fp),w(Ad),w(bs),w(tu),w(Ea),w(Mo),w(ou),w(Sc),w(Xa),w(rT),w(Mt))},wp.\u0275cmp=v({type:wp,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3,"Memory cards"),te(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return r.addCardImage()}),lt(6,"ion-icon",2),te()(),ie(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return r.showHelp()}),lt(9,"ion-icon",4),te(),lt(10,"app-pwa-prompt"),te()()(),ie(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),je(15,"Memory cards"),te()()(),nn(16,Vz,2,0,"div",7),nn(17,Uz,3,0,"div",8),nn(18,Gz,2,2,"ion-list",9),te()),2&t&&(Ye(16),nt("ngIf",r.storageCardService.isLoading()),Ye(1),nt("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),Ye(1),nt("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[zc,wi,os,is,ss,as,Ei,Ya,ap,cs,us,fg,jz],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),W([yo()],Ec.prototype,"addCardImage",null),W([yo()],Ec.prototype,"selectCard",null),W([yo()],Ec.prototype,"editCard",null),W([yo()],Ec.prototype,"saveCard",null),W([yo()],Ec.prototype,"checkCard",null),W([yo()],Ec.prototype,"deleteCard",null);let Xz=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=v({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&nn(0,Yz,2,1,"ion-list",0),2&n&&nt("ngIf",o.entries)},dependencies:[zc,wi,rm,x1,k1,Ei,gi,Ya],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),t})(),Kz=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(w(cu))},e.\u0275cmp=v({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(ie(0,"ion-list")(1,"ion-item",0),at("click",function(){return o.onStartSelection()}),lt(2,"ion-icon",1),je(3," Start selection "),te(),ie(4,"ion-item",2),at("click",function(){return o.onAddFiles()}),lt(5,"ion-icon",3),je(6," Add files "),te(),ie(7,"ion-item",2),at("click",function(){return o.onCreateDirectry()}),lt(8,"ion-icon",4),je(9," Add directory "),te(),ie(10,"ion-item",2),at("click",function(){return o.onExtractZipfile()}),lt(11,"ion-icon",5),je(12," Extract zip "),te(),ie(13,"ion-item",0),at("click",function(){return o.onPaste()}),lt(14,"ion-icon",6),je(15," Paste "),te(),ie(16,"ion-item",7),at("click",function(){return o.onHelp()}),lt(17,"ion-icon",8),je(18," Help "),te()()),2&n&&(Ye(1),nt("detail",!1)("disabled",o.emptyDirectory),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),Ye(3),nt("detail",!1))},dependencies:[Ei,gi,Ya]}),t})();var Sp;class pg{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new dc({name:new ys("",{nonNullable:!0,validators:[Ff.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new ys(!1,{nonNullable:!0}),attrHidden:new ys(!1,{nonNullable:!0}),attrSystem:new ys(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,ne.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,ne.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,ne.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(Sp=pg).\u0275fac=function(t){return new(t||Sp)(w(bs),w(cu))},Sp.\u0275cmp=v({type:Sp,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3),te(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return r.onSaveClick()}),je(6,"Save"),te()(),ie(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return r.onCancelClick()}),je(9,"Cancel"),te()()()(),ie(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return r.onEnter()}),ie(12,"ion-item",6)(13,"ion-label",7),je(14),te(),lt(15,"ion-input",8),te(),ie(16,"ion-item",6)(17,"h2"),je(18,"Attributes"),te()(),ie(19,"ion-item",6)(20,"ion-label"),lt(21,"ion-icon",9),je(22,"Readonly"),te(),lt(23,"ion-checkbox",10),te(),ie(24,"ion-item",6)(25,"ion-label"),lt(26,"ion-icon",11),je(27,"Hidden"),te(),lt(28,"ion-checkbox",12),te(),ie(29,"ion-item",6)(30,"ion-label"),lt(31,"ion-icon",13),je(32,"System"),te(),lt(33,"ion-checkbox",14),te()()()),2&t&&(Ye(3),Vi("Edit ",r.subjectName.toLowerCase(),""),Ye(2),nt("disabled",r.formGroup.invalid),Ye(6),nt("formGroup",r.formGroup),Ye(3),Vi("",r.subjectName," name"),Ye(1),Mh("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[os,is,Lk,ss,as,Ei,Ll,gi,ls,cs,us,wd,Nl,Pl,Tl,Al,Ca,Wa],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),W([yo()],pg.prototype,"onSaveClick",null),W([yo()],pg.prototype,"onEnter",null);let Qz=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(w(Ct),w(dt))},e.\u0275dir=vt({type:e,selectors:[["","appAutofocus",""]]}),t})(),Jz=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new dc({name:new ys("",{nonNullable:!0,validators:[Ff.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(w(cu),w(bs))},e.\u0275cmp=v({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(ie(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),je(3,"Create directory"),te(),ie(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return o.onCreateClick()}),je(6,"Create"),te()(),ie(7,"ion-buttons",2)(8,"ion-button",3),at("click",function(){return o.onCancelClick()}),je(9,"Cancel"),te()()()(),ie(10,"ion-content",4)(11,"form",5),at("keydown.enter",function(){return o.onEnter()}),ie(12,"ion-item",6)(13,"ion-label",7),je(14,"Directory name"),te(),lt(15,"ion-input",8),te()()()),2&n&&(Ye(5),nt("disabled",o.formGroup.invalid),Ye(6),nt("formGroup",o.formGroup))},dependencies:[os,is,ss,as,Ll,gi,ls,cs,us,Nl,Pl,Tl,Al,Ca,Wa,Qz]}),t})();function _T(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const e9=A.p+"assets/doc/card-browser-5a0261814255810d.md";let t9=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=v({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(ie(0,"ion-list")(1,"ion-item",0),at("click",function(){return o.onEdit()}),lt(2,"ion-icon",1),je(3," Edit "),te(),ie(4,"ion-item",0),at("click",function(){return o.onSave()}),lt(5,"ion-icon",2),je(6," Save "),te(),ie(7,"ion-item",0),at("click",function(){return o.onCopy()}),lt(8,"ion-icon",3),je(9," Copy "),te(),ie(10,"ion-item",0),at("click",function(){return o.onCut()}),lt(11,"ion-icon",4),je(12," Cut "),te(),ie(13,"ion-item",5),at("click",function(){return o.onDelete()}),lt(14,"ion-icon",6),je(15," Delete "),te()()),2&n&&(Ye(1),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1),Ye(3),nt("detail",!1))},dependencies:[Ei,gi,Ya]}),t})(),vT=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=bn({name:"fileSize",type:e,pure:!0}),t})();const n9=["slidingItem"];function r9(e,t){1&e&&lt(0,"ion-icon",24)}function o9(e,t){1&e&&lt(0,"ion-icon",25)}function i9(e,t){1&e&&lt(0,"ion-icon",26)}function s9(e,t){1&e&&lt(0,"ion-icon",27)}function a9(e,t){1&e&&lt(0,"ion-icon",28)}function l9(e,t){1&e&&lt(0,"ion-icon",29)}function c9(e,t){1&e&&lt(0,"ion-icon",30)}function u9(e,t){1&e&&lt(0,"ion-icon",31)}function d9(e,t){1&e&&lt(0,"ion-icon",32)}function f9(e,t){if(1&e&&(qu(0),je(1),Va(2,"fileSize"),Yu()),2&e){const r=Ht();Ye(1),Vi(" - ",Ua(2,1,null==r.entry?null:r.entry.size)," ")}}let p9=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new Mn,this.selectEntry=new Mn,this.editEntry=new Mn,this.copyEntry=new Mn,this.cutEntry=new Mn,this.deleteEntry=new Mn,this.saveEntry=new Mn,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,ne.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:t9,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,ne.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(w(fp),w(nu),w(cu))},e.\u0275cmp=v({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&Hc(n9,5),2&n){let i;ta(i=na())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[Ne],decls:29,vars:21,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Fr();ie(0,"ion-item-sliding",0,1),at("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),ie(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return hn(i),Bs(1).close(),mn(o.editEntry.emit(o.entry))}),lt(4,"ion-icon",4),te(),ie(5,"ion-item-option",5),at("click",function(){return hn(i),Bs(1).close(),mn(o.saveEntry.emit(o.entry))}),lt(6,"ion-icon",6),te()(),ie(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return hn(i),Bs(1).close(),mn(o.cutOrCopyEntry())}),lt(9,"ion-icon",9),te(),ie(10,"ion-item-option",10),at("click",function(){return hn(i),Bs(1).close(),mn(o.deleteEntry.emit(o.entry))}),lt(11,"ion-icon",11),te()(),ie(12,"ion-item",12),at("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),nn(13,r9,1,0,"ion-icon",13),nn(14,o9,1,0,"ion-icon",14),ie(15,"div",15),nn(16,i9,1,0,"ion-icon",16),nn(17,s9,1,0,"ion-icon",17),nn(18,a9,1,0,"ion-icon",18),nn(19,l9,1,0,"ion-icon",19),nn(20,c9,1,0,"ion-icon",20),te(),nn(21,u9,1,0,"ion-icon",21),nn(22,d9,1,0,"ion-icon",22),ie(23,"ion-label")(24,"h2"),je(25),te(),ie(26,"p"),je(27),nn(28,f9,3,3,"ng-container",23),te()()()()}2&n&&(nt("disabled",o.selecting),Ye(12),Ku("opacity",o.touched?1:.99999),Sl("is-directory",null==o.entry?null:o.entry.isDirectory),nt("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),Ye(1),nt("ngIf",null==o.entry?null:o.entry.isDirectory),Ye(1),nt("ngIf",!(null!=o.entry&&o.entry.isDirectory)),Ye(2),nt("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),Ye(1),nt("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),Ye(1),nt("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),Ye(1),nt("ngIf",o.markedForCopy),Ye(1),nt("ngIf",o.markedForCut),Ye(1),nt("ngIf",o.selecting&&!o.selected),Ye(1),nt("ngIf",o.selecting&&o.selected),Ye(1),Ku("margin-right",o.safetyMargin),Ye(2),js(null==o.entry?null:o.entry.name),Ye(2),Vi(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),Ye(1),nt("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[wi,Ei,gi,Hm,Gm,zm,ls,vT],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{margin-right:7em}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var Ep;function h9(e,t){if(1&e){const r=Fr();ie(0,"ion-toolbar")(1,"ion-title",6),at("click",function(o){return hn(r),mn(Ht().openBreadcrumbMenu(o))}),ie(2,"div",7)(3,"div",8),je(4),te(),lt(5,"div",9),te()(),ie(6,"ion-buttons",10),lt(7,"ion-back-button"),te(),ie(8,"ion-buttons",11)(9,"ion-button",12),at("click",function(o){return hn(r),mn(Ht().openContextMenu(o,"trigger"))}),lt(10,"ion-icon",13),te()()()}if(2&e){const r=Ht();Ye(1),nt("id",r.breadcrumbTriggerId),Ye(3),js(r.title)}}function m9(e,t){if(1&e){const r=Fr();ie(0,"ion-buttons",15)(1,"ion-button",12),at("click",function(){return hn(r),mn(Ht(2).onSelectAll())}),je(2,"Select all"),te()()}}function g9(e,t){if(1&e){const r=Fr();ie(0,"ion-buttons",15)(1,"ion-button",12),at("click",function(){return hn(r),mn(Ht(2).selection.clear())}),je(2,"Clear"),te()()}}function _9(e,t){if(1&e){const r=Fr();ie(0,"ion-toolbar")(1,"ion-title"),je(2,"Selection"),te(),ie(3,"ion-buttons",11)(4,"ion-button",12),at("click",function(){return hn(r),mn(Ht().onSelectionDone())}),je(5),te()(),nn(6,m9,3,0,"ion-buttons",14),nn(7,g9,3,0,"ion-buttons",14),te()}if(2&e){const r=Ht();Ye(5),js(0===r.selection.size?"Cancel":"Done"),Ye(1),nt("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),Ye(1),nt("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function v9(e,t){if(1&e&&(ie(0,"div",16)(1,"div",17),je(2),te()()),2&e){const r=Ht();Ye(2),Vi(" empty ",r.isRoot?"card":"directory"," ")}}function y9(e,t){if(1&e){const r=Fr();ie(0,"app-file-entry",18),at("selectEntry",function(){const i=hn(r).$implicit;return mn(Ht().onSelect(i))})("editEntry",function(){const i=hn(r).$implicit;return mn(Ht().onEditEntry(i))})("saveEntry",function(){const i=hn(r).$implicit;return mn(Ht().onSaveEntry(i))})("copyEntry",function(){const i=hn(r).$implicit;return mn(Ht().onCopyEntry(i))})("cutEntry",function(){const i=hn(r).$implicit;return mn(Ht().onCutEntry(i))})("deleteEntry",function(){const i=hn(r).$implicit;return mn(Ht().onDeleteEntry(i))})("interaction",function(){const i=hn(r).$implicit;return mn(Ht().lastEntryTouched=i.name)}),te()}if(2&e){const r=t.$implicit,n=Ht();nt("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function b9(e,t){if(1&e&&(ie(0,"p"),je(1),Va(2,"fileSize"),Va(3,"fileSize"),te()),2&e){const r=Ht(2);Ye(1),mf(" ",Ua(2,2,r.bytesFree)," free, ",Ua(3,4,r.bytesTotal)," total ")}}function C9(e,t){if(1&e&&(ie(0,"p"),je(1),Va(2,"fileSize"),te()),2&e){const r=Ht(2);Ye(1),ov(" ",Ua(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function w9(e,t){if(1&e&&(ie(0,"ion-item",19)(1,"ion-label"),nn(2,b9,4,6,"p",0),nn(3,C9,3,5,"p",0),te()()),2&e){const r=Ht();Ye(2),nt("ngIf",r.isRoot),Ye(1),nt("ngIf",r.fileCount>0)}}function S9(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}let E9=0;class Ia{constructor(t,r,n,o,i,s,a,c){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=c,this.bytesInFilesMemoized=_T(f=>f?.reduce((m,y)=>m+(y.isDirectory?0:y.size),0)??0),this.fileCountMemoized=_T(f=>f?.filter(m=>!m.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+E9++,this.checkEntries=a0(c,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(S9):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,ne.Z)(function*(){yield(yield r.modalController.create({component:pg,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,ne.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,ne.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,ne.Z)(function*(){yield(yield t.modalController.create({component:Jz,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,ne.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,ne.Z)(function*(){yield(yield t.modalController.create({component:su,componentProps:{url:e9}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,ne.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,ne.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,ne.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,ne.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:Xz,event:t,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:r.breadcrumbTriggerId})).present()})()}openContextMenu(t,r){var n=this;return(0,ne.Z)(function*(){(yield n.popoverController.create({component:Kz,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,ne.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(Ep=Ia).\u0275fac=function(t){return new(t||Ep)(w(cu),w(nu),w(Cb),w(Mo),w(fp),w(bs),w(Sc),w(Mt))},Ep.\u0275cmp=v({type:Ep,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(ie(0,"ion-header"),nn(1,h9,11,2,"ion-toolbar",0),nn(2,_9,8,3,"ion-toolbar",0),te(),ie(3,"ion-content",1),at("contextmenu",function(o){return r.onContextMenu(o)}),ie(4,"div",2),nn(5,v9,3,1,"div",3),ie(6,"ion-list"),nn(7,y9,1,4,"app-file-entry",4),nn(8,w9,4,2,"ion-item",5),te()()()),2&t&&(Ye(1),nt("ngIf","browse"===r.mode),Ye(1),nt("ngIf","select"===r.mode),Ye(3),nt("ngIf",0===(null==r.entries?null:r.entries.length)),Ye(2),nt("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),Ye(1),nt("ngIf",r.isRoot||r.fileCount>0))},dependencies:[zc,wi,Nk,os,is,ss,as,Ei,gi,ls,Ya,cs,us,Jk,p9,vT],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),W([yo()],Ia.prototype,"onSaveEntry",null),W([yo()],Ia.prototype,"onDeleteEntry",null),W([yo()],Ia.prototype,"onCreateDirectory",null),W([yo()],Ia.prototype,"onPaste",null),W([yo()],Ia.prototype,"onHelp",null),W([yo()],Ia.prototype,"onSelectionDone",null),W([yo()],Ia.prototype,"onSaveZip",null),W([yo()],Ia.prototype,"onDeleteSelection",null);const D9=["nav"],I9=[{path:"tab",component:n0,children:[{path:"emulation",component:hz},{path:"sessions",component:uu},{path:"storage",component:(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(Ia,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=Ec,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,ne.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!vH}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(Ia,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(w(cu),w(s0))},e.\u0275cmp=v({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&Hc(D9,5),2&n){let i;ta(i=na())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&lt(0,"ion-nav",0,1),2&n&&nt("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[$k,eM]}),t})()},{path:"settings",component:Rz},{path:"about",component:AG},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let x9=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({imports:[Um.forChild(I9),Um]}),t})(),k9=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({imports:[gc,Ga,Xc,x9,SG,EG,DG,IG,wG]}),t})(),M9=(()=>{var e;class t extends f1{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=function(){let r;return function(o){return(r||(r=ei(e)))(o||e)}}(),e.\u0275prov=mt({token:e,factory:e.\u0275fac}),t})();const T9=[{path:"install",component:sT,canActivate:[aT]},{path:"import",component:sT,canActivate:[aT]},{path:"",component:n0}];let A9=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Er({providers:[{provide:Ha,useClass:M9}],imports:[Um.forRoot(T9,{preloadingStrategy:TV,useHash:!0}),k9,Um]}),t})();const yT=["touch","click","keydown"];let P9=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,ne.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;const o=()=>{yT.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};yT.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Gi),ce(o0))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const R9=()=>{const e=new Ed;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}};let O9=(()=>{var e;class t{constructor(n,o,i,s,a,c,f,m){}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(gr),ce(Da),ce(o0),ce(yp),ce(Gi),ce(iT),ce(P9),ce(e0))},e.\u0275mod=_e({type:e,bootstrap:[cG]}),e.\u0275inj=Er({providers:[{provide:Sk,useClass:T8},{provide:Ef,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[Gi]}],imports:[A4,gc.forRoot({...mT()?{actionSheetEnter:Dz,loadingEnter:Iz,alertEnter:xz}:{},innerHTMLTemplatesEnabled:!0}),A9,Mb.forRoot({loader:wy,markedOptions:{provide:_M,useFactory:R9}}),uB]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function B4(){am=rI("#/install?"),lm=rI("#/import?")}(),function IH(){return!!localStorage.getItem(tg)}()&&!oI()||function j4(){return void 0!==am}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),M4().bootstrapModule(O9).catch(e=>console.log(e))},6972:Me=>{var A,$e=(A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I={}){var re,oe,d=I;d.ready=new Promise((l,h)=>{re=l,oe=h});var G,Oe,Re,H=Object.assign({},d),F="./this.program",U=(l,h)=>{throw h},le="object"==typeof window,ee="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(le||ee)&&(ee?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),A&&($=A),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},ee&&(Re=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Oe=(l,h,b)=>{var T=new XMLHttpRequest;T.open("GET",l,!0),T.responseType="arraybuffer",T.onload=()=>{200==T.status||0==T.status&&T.response?h(T.response):b()},T.onerror=b,T.send(null)});var q,ue=d.print||console.log.bind(console),V=d.printErr||console.error.bind(console);Object.assign(d,H),H=null,d.thisProgram&&(F=d.thisProgram),d.quit&&(U=d.quit),d.wasmBinary&&(q=d.wasmBinary);var de=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&_n("no native wasm support detected");var ve,Je,ae,pe,N,j,ft,fe=!1;function Qe(l,h){l||_n(h)}function It(){var l=ve.buffer;d.HEAP8=ae=new Int8Array(l),d.HEAP16=new Int16Array(l),d.HEAPU8=pe=new Uint8Array(l),d.HEAPU16=new Uint16Array(l),d.HEAP32=N=new Int32Array(l),d.HEAPU32=j=new Uint32Array(l),d.HEAPF32=new Float32Array(l),d.HEAPF64=ft=new Float64Array(l)}var Wt=[],Ge=[],we=[],He=[],tt=0,ht=null,W=null;function Jt(l){tt++,d.monitorRunDependencies&&d.monitorRunDependencies(tt)}function In(l){if(tt--,d.monitorRunDependencies&&d.monitorRunDependencies(tt),0==tt&&(null!==ht&&(clearInterval(ht),ht=null),W)){var h=W;W=null,h()}}function _n(l){d.onAbort&&d.onAbort(l),V(l="Aborted("+l+")"),fe=!0,Je=1,l+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(l);throw oe(h),h}var ar;function wr(l){return l.startsWith("data:application/octet-stream;base64,")}function _r(l){if(l==ar&&q)return new Uint8Array(q);if(Re)return Re(l);throw"both async and sync fetching of the wasm failed"}function No(l,h,b){return function ii(l){return q||!le&&!ee||"function"!=typeof fetch?Promise.resolve().then(()=>_r(l)):fetch(l,{credentials:"same-origin"}).then(h=>{if(!h.ok)throw"failed to load wasm binary file at '"+l+"'";return h.arrayBuffer()}).catch(()=>_r(l))}(l).then(T=>WebAssembly.instantiate(T,h)).then(T=>T).then(b,T=>{V(`failed to asynchronously prepare wasm: ${T}`),_n(T)})}wr(ar="cloudpilot_web.wasm")||(ar=function L(l){return d.locateFile?d.locateFile(l,$):$+l}(ar));var Ze,Zt,Zr={1472568:l=>{Wo.grow(65536);for(let h=0;h<=65535;h++)Wo.set(Wo.length-65535-1+h,Wo.get(j[(l>>>2)+h]));return Wo.length-65535-1}};function Ar(l){this.name="ExitStatus",this.message=`Program terminated with exit(${l})`,this.status=l}var to=l=>{for(;l.length>0;)l.shift()(d)},Xn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,De=(l,h,b)=>{for(var T=h+b,Y=h;l[Y]&&!(Y>=T);)++Y;if(Y-h>16&&l.buffer&&Xn)return Xn.decode(l.subarray(h,Y));for(var Ce="";h<Y;){var Te=l[h++];if(128&Te){var Ne=63&l[h++];if(192!=(224&Te)){var Ot=63&l[h++];if((Te=224==(240&Te)?(15&Te)<<12|Ne<<6|Ot:(7&Te)<<18|Ne<<12|Ot<<6|63&l[h++])<65536)Ce+=String.fromCharCode(Te);else{var Pn=Te-65536;Ce+=String.fromCharCode(55296|Pn>>10,56320|1023&Pn)}}else Ce+=String.fromCharCode((31&Te)<<6|Ne)}else Ce+=String.fromCharCode(Te)}return Ce},me=(l,h)=>l?De(pe,l,h):"",qt={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,h)=>{for(var b=0,T=l.length-1;T>=0;T--){var Y=l[T];"."===Y?l.splice(T,1):".."===Y?(l.splice(T,1),b++):b&&(l.splice(T,1),b--)}if(h)for(;b;b--)l.unshift("..");return l},normalize:l=>{var h=qt.isAbs(l),b="/"===l.substr(-1);return!(l=qt.normalizeArray(l.split("/").filter(T=>!!T),!h).join("/"))&&!h&&(l="."),l&&b&&(l+="/"),(h?"/":"")+l},dirname:l=>{var h=qt.splitPath(l),b=h[0],T=h[1];return b||T?(T&&(T=T.substr(0,T.length-1)),b+T):"."},basename:l=>{if("/"===l)return"/";var h=(l=(l=qt.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?l:l.substr(h+1)},join:function(){var l=Array.prototype.slice.call(arguments);return qt.normalize(l.join("/"))},join2:(l,h)=>qt.normalize(l+"/"+h)},ln=l=>(ln=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return l=>crypto.getRandomValues(l);_n("initRandomDevice")})())(l),Sr={resolve:function(){for(var l="",h=!1,b=arguments.length-1;b>=-1&&!h;b--){var T=b>=0?arguments[b]:k.cwd();if("string"!=typeof T)throw new TypeError("Arguments to path.resolve must be strings");if(!T)return"";l=T+"/"+l,h=qt.isAbs(T)}return(h?"/":"")+(l=qt.normalizeArray(l.split("/").filter(Y=>!!Y),!h).join("/"))||"."},relative:(l,h)=>{function b(Pn){for(var ir=0;ir<Pn.length&&""===Pn[ir];ir++);for(var hr=Pn.length-1;hr>=0&&""===Pn[hr];hr--);return ir>hr?[]:Pn.slice(ir,hr-ir+1)}l=Sr.resolve(l).substr(1),h=Sr.resolve(h).substr(1);for(var T=b(l.split("/")),Y=b(h.split("/")),Ce=Math.min(T.length,Y.length),Te=Ce,Ne=0;Ne<Ce;Ne++)if(T[Ne]!==Y[Ne]){Te=Ne;break}var Ot=[];for(Ne=Te;Ne<T.length;Ne++)Ot.push("..");return(Ot=Ot.concat(Y.slice(Te))).join("/")}},co=[],vr=l=>{for(var h=0,b=0;b<l.length;++b){var T=l.charCodeAt(b);T<=127?h++:T<=2047?h+=2:T>=55296&&T<=57343?(h+=4,++b):h+=3}return h},no=(l,h,b,T)=>{if(!(T>0))return 0;for(var Y=b,Ce=b+T-1,Te=0;Te<l.length;++Te){var Ne=l.charCodeAt(Te);if(Ne>=55296&&Ne<=57343&&(Ne=65536+((1023&Ne)<<10)|1023&l.charCodeAt(++Te)),Ne<=127){if(b>=Ce)break;h[b++]=Ne}else if(Ne<=2047){if(b+1>=Ce)break;h[b++]=192|Ne>>6,h[b++]=128|63&Ne}else if(Ne<=65535){if(b+2>=Ce)break;h[b++]=224|Ne>>12,h[b++]=128|Ne>>6&63,h[b++]=128|63&Ne}else{if(b+3>=Ce)break;h[b++]=240|Ne>>18,h[b++]=128|Ne>>12&63,h[b++]=128|Ne>>6&63,h[b++]=128|63&Ne}}return h[b]=0,b-Y};function uo(l,h,b){var T=b>0?b:vr(l)+1,Y=new Array(T),Ce=no(l,Y,0,Y.length);return h&&(Y.length=Ce),Y}var Wo,xs,At={ttys:[],init(){},shutdown(){},register(l,h){At.ttys[l]={input:[],output:[],ops:h},k.registerDevice(l,At.stream_ops)},stream_ops:{open(l){var h=At.ttys[l.node.rdev];if(!h)throw new k.ErrnoError(43);l.tty=h,l.seekable=!1},close(l){l.tty.ops.fsync(l.tty)},fsync(l){l.tty.ops.fsync(l.tty)},read(l,h,b,T,Y){if(!l.tty||!l.tty.ops.get_char)throw new k.ErrnoError(60);for(var Ce=0,Te=0;Te<T;Te++){var Ne;try{Ne=l.tty.ops.get_char(l.tty)}catch{throw new k.ErrnoError(29)}if(void 0===Ne&&0===Ce)throw new k.ErrnoError(6);if(null==Ne)break;Ce++,h[b+Te]=Ne}return Ce&&(l.node.timestamp=Date.now()),Ce},write(l,h,b,T,Y){if(!l.tty||!l.tty.ops.put_char)throw new k.ErrnoError(60);try{for(var Ce=0;Ce<T;Ce++)l.tty.ops.put_char(l.tty,h[b+Ce])}catch{throw new k.ErrnoError(29)}return T&&(l.node.timestamp=Date.now()),Ce}},default_tty_ops:{get_char:l=>(()=>{if(!co.length){var l=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(l=window.prompt("Input: "))&&(l+="\n"):"function"==typeof readline&&null!==(l=readline())&&(l+="\n"),!l)return null;co=uo(l,!0)}return co.shift()})(),put_char(l,h){null===h||10===h?(ue(De(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync(l){l.output&&l.output.length>0&&(ue(De(l.output,0)),l.output=[])},ioctl_tcgets:l=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(l,h,b)=>0,ioctl_tiocgwinsz:l=>[24,80]},default_tty1_ops:{put_char(l,h){null===h||10===h?(V(De(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync(l){l.output&&l.output.length>0&&(V(De(l.output,0)),l.output=[])}}},cn=l=>{_n()},en={ops_table:null,mount:l=>en.createNode(null,"/",16895,0),createNode(l,h,b,T){if(k.isBlkdev(b)||k.isFIFO(b))throw new k.ErrnoError(63);en.ops_table||(en.ops_table={dir:{node:{getattr:en.node_ops.getattr,setattr:en.node_ops.setattr,lookup:en.node_ops.lookup,mknod:en.node_ops.mknod,rename:en.node_ops.rename,unlink:en.node_ops.unlink,rmdir:en.node_ops.rmdir,readdir:en.node_ops.readdir,symlink:en.node_ops.symlink},stream:{llseek:en.stream_ops.llseek}},file:{node:{getattr:en.node_ops.getattr,setattr:en.node_ops.setattr},stream:{llseek:en.stream_ops.llseek,read:en.stream_ops.read,write:en.stream_ops.write,allocate:en.stream_ops.allocate,mmap:en.stream_ops.mmap,msync:en.stream_ops.msync}},link:{node:{getattr:en.node_ops.getattr,setattr:en.node_ops.setattr,readlink:en.node_ops.readlink},stream:{}},chrdev:{node:{getattr:en.node_ops.getattr,setattr:en.node_ops.setattr},stream:k.chrdev_stream_ops}});var Y=k.createNode(l,h,b,T);return k.isDir(Y.mode)?(Y.node_ops=en.ops_table.dir.node,Y.stream_ops=en.ops_table.dir.stream,Y.contents={}):k.isFile(Y.mode)?(Y.node_ops=en.ops_table.file.node,Y.stream_ops=en.ops_table.file.stream,Y.usedBytes=0,Y.contents=null):k.isLink(Y.mode)?(Y.node_ops=en.ops_table.link.node,Y.stream_ops=en.ops_table.link.stream):k.isChrdev(Y.mode)&&(Y.node_ops=en.ops_table.chrdev.node,Y.stream_ops=en.ops_table.chrdev.stream),Y.timestamp=Date.now(),l&&(l.contents[h]=Y,l.timestamp=Y.timestamp),Y},getFileDataAsTypedArray:l=>l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0),expandFileStorage(l,h){var b=l.contents?l.contents.length:0;if(!(b>=h)){h=Math.max(h,b*(b<1048576?2:1.125)>>>0),0!=b&&(h=Math.max(h,256));var Y=l.contents;l.contents=new Uint8Array(h),l.usedBytes>0&&l.contents.set(Y.subarray(0,l.usedBytes),0)}},resizeFileStorage(l,h){if(l.usedBytes!=h)if(0==h)l.contents=null,l.usedBytes=0;else{var b=l.contents;l.contents=new Uint8Array(h),b&&l.contents.set(b.subarray(0,Math.min(h,l.usedBytes))),l.usedBytes=h}},node_ops:{getattr(l){var h={};return h.dev=k.isChrdev(l.mode)?l.id:1,h.ino=l.id,h.mode=l.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=l.rdev,h.size=k.isDir(l.mode)?4096:k.isFile(l.mode)?l.usedBytes:k.isLink(l.mode)?l.link.length:0,h.atime=new Date(l.timestamp),h.mtime=new Date(l.timestamp),h.ctime=new Date(l.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr(l,h){void 0!==h.mode&&(l.mode=h.mode),void 0!==h.timestamp&&(l.timestamp=h.timestamp),void 0!==h.size&&en.resizeFileStorage(l,h.size)},lookup(l,h){throw k.genericErrors[44]},mknod:(l,h,b,T)=>en.createNode(l,h,b,T),rename(l,h,b){if(k.isDir(l.mode)){var T;try{T=k.lookupNode(h,b)}catch{}if(T)for(var Y in T.contents)throw new k.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=b,h.contents[b]=l,h.timestamp=l.parent.timestamp,l.parent=h},unlink(l,h){delete l.contents[h],l.timestamp=Date.now()},rmdir(l,h){var b=k.lookupNode(l,h);for(var T in b.contents)throw new k.ErrnoError(55);delete l.contents[h],l.timestamp=Date.now()},readdir(l){var h=[".",".."];for(var b in l.contents)l.contents.hasOwnProperty(b)&&h.push(b);return h},symlink(l,h,b){var T=en.createNode(l,h,41471,0);return T.link=b,T},readlink(l){if(!k.isLink(l.mode))throw new k.ErrnoError(28);return l.link}},stream_ops:{read(l,h,b,T,Y){var Ce=l.node.contents;if(Y>=l.node.usedBytes)return 0;var Te=Math.min(l.node.usedBytes-Y,T);if(Te>8&&Ce.subarray)h.set(Ce.subarray(Y,Y+Te),b);else for(var Ne=0;Ne<Te;Ne++)h[b+Ne]=Ce[Y+Ne];return Te},write(l,h,b,T,Y,Ce){if(h.buffer===ae.buffer&&(Ce=!1),!T)return 0;var Te=l.node;if(Te.timestamp=Date.now(),h.subarray&&(!Te.contents||Te.contents.subarray)){if(Ce)return Te.contents=h.subarray(b,b+T),Te.usedBytes=T,T;if(0===Te.usedBytes&&0===Y)return Te.contents=h.slice(b,b+T),Te.usedBytes=T,T;if(Y+T<=Te.usedBytes)return Te.contents.set(h.subarray(b,b+T),Y),T}if(en.expandFileStorage(Te,Y+T),Te.contents.subarray&&h.subarray)Te.contents.set(h.subarray(b,b+T),Y);else for(var Ne=0;Ne<T;Ne++)Te.contents[Y+Ne]=h[b+Ne];return Te.usedBytes=Math.max(Te.usedBytes,Y+T),T},llseek(l,h,b){var T=h;if(1===b?T+=l.position:2===b&&k.isFile(l.node.mode)&&(T+=l.node.usedBytes),T<0)throw new k.ErrnoError(28);return T},allocate(l,h,b){en.expandFileStorage(l.node,h+b),l.node.usedBytes=Math.max(l.node.usedBytes,h+b)},mmap(l,h,b,T,Y){if(!k.isFile(l.node.mode))throw new k.ErrnoError(43);var Ce,Te,Ne=l.node.contents;if(2&Y||Ne.buffer!==ae.buffer){if((b>0||b+h<Ne.length)&&(Ne=Ne.subarray?Ne.subarray(b,b+h):Array.prototype.slice.call(Ne,b,b+h)),Te=!0,!(Ce=cn()))throw new k.ErrnoError(48);ae.set(Ne,Ce)}else Te=!1,Ce=Ne.byteOffset;return{ptr:Ce,allocated:Te}},msync:(l,h,b,T,Y)=>(en.stream_ops.write(l,h,0,T,b,!1),0)}},Ni=d.preloadPlugins||[],x=(l,h)=>{var b=0;return l&&(b|=365),h&&(b|=146),b},k={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(l,h={}){if(!(l=Sr.resolve(l)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new k.ErrnoError(32);for(var T=l.split("/").filter(hr=>!!hr),Y=k.root,Ce="/",Te=0;Te<T.length;Te++){var Ne=Te===T.length-1;if(Ne&&h.parent)break;if(Y=k.lookupNode(Y,T[Te]),Ce=qt.join2(Ce,T[Te]),k.isMountpoint(Y)&&(!Ne||Ne&&h.follow_mount)&&(Y=Y.mounted.root),!Ne||h.follow)for(var Ot=0;k.isLink(Y.mode);){var Pn=k.readlink(Ce);if(Ce=Sr.resolve(qt.dirname(Ce),Pn),Y=k.lookupPath(Ce,{recurse_count:h.recurse_count+1}).node,Ot++>40)throw new k.ErrnoError(32)}}return{path:Ce,node:Y}},getPath(l){for(var h;;){if(k.isRoot(l)){var b=l.mount.mountpoint;return h?"/"!==b[b.length-1]?`${b}/${h}`:b+h:b}h=h?`${l.name}/${h}`:l.name,l=l.parent}},hashName(l,h){for(var b=0,T=0;T<h.length;T++)b=(b<<5)-b+h.charCodeAt(T)|0;return(l+b>>>0)%k.nameTable.length},hashAddNode(l){var h=k.hashName(l.parent.id,l.name);l.name_next=k.nameTable[h],k.nameTable[h]=l},hashRemoveNode(l){var h=k.hashName(l.parent.id,l.name);if(k.nameTable[h]===l)k.nameTable[h]=l.name_next;else for(var b=k.nameTable[h];b;){if(b.name_next===l){b.name_next=l.name_next;break}b=b.name_next}},lookupNode(l,h){var b=k.mayLookup(l);if(b)throw new k.ErrnoError(b,l);for(var T=k.hashName(l.id,h),Y=k.nameTable[T];Y;Y=Y.name_next)if(Y.parent.id===l.id&&Y.name===h)return Y;return k.lookup(l,h)},createNode(l,h,b,T){var Y=new k.FSNode(l,h,b,T);return k.hashAddNode(Y),Y},destroyNode(l){k.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagsToPermissionString(l){var h=["r","w","rw"][3&l];return 512&l&&(h+="w"),h},nodePermissions:(l,h)=>k.ignorePermissions?0:h.includes("r")&&!(292&l.mode)||h.includes("w")&&!(146&l.mode)||h.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>k.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate(l,h){try{return k.lookupNode(l,h),20}catch{}return k.nodePermissions(l,"wx")},mayDelete(l,h,b){var T;try{T=k.lookupNode(l,h)}catch(Ce){return Ce.errno}var Y=k.nodePermissions(l,"wx");if(Y)return Y;if(b){if(!k.isDir(T.mode))return 54;if(k.isRoot(T)||k.getPath(T)===k.cwd())return 10}else if(k.isDir(T.mode))return 31;return 0},mayOpen:(l,h)=>l?k.isLink(l.mode)?32:k.isDir(l.mode)&&("r"!==k.flagsToPermissionString(h)||512&h)?31:k.nodePermissions(l,k.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd(){for(var l=0;l<=k.MAX_OPEN_FDS;l++)if(!k.streams[l])return l;throw new k.ErrnoError(33)},getStreamChecked(l){var h=k.getStream(l);if(!h)throw new k.ErrnoError(8);return h},getStream:l=>k.streams[l],createStream:(l,h=-1)=>(k.FSStream||(k.FSStream=function(){this.shared={}},k.FSStream.prototype={},Object.defineProperties(k.FSStream.prototype,{object:{get(){return this.node},set(b){this.node=b}},isRead:{get(){return 1!=(2097155&this.flags)}},isWrite:{get(){return 0!=(2097155&this.flags)}},isAppend:{get(){return 1024&this.flags}},flags:{get(){return this.shared.flags},set(b){this.shared.flags=b}},position:{get(){return this.shared.position},set(b){this.shared.position=b}}})),l=Object.assign(new k.FSStream,l),-1==h&&(h=k.nextfd()),l.fd=h,k.streams[h]=l,l),closeStream(l){k.streams[l]=null},chrdev_stream_ops:{open(l){var h=k.getDevice(l.node.rdev);l.stream_ops=h.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek(){throw new k.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,h)=>l<<8|h,registerDevice(l,h){k.devices[l]={stream_ops:h}},getDevice:l=>k.devices[l],getMounts(l){for(var h=[],b=[l];b.length;){var T=b.pop();h.push(T),b.push.apply(b,T.mounts)}return h},syncfs(l,h){"function"==typeof l&&(h=l,l=!1),k.syncFSRequests++,k.syncFSRequests>1&&V(`warning: ${k.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var b=k.getMounts(k.root.mount),T=0;function Y(Te){return k.syncFSRequests--,h(Te)}function Ce(Te){if(Te)return Ce.errored?void 0:(Ce.errored=!0,Y(Te));++T>=b.length&&Y(null)}b.forEach(Te=>{if(!Te.type.syncfs)return Ce(null);Te.type.syncfs(Te,l,Ce)})},mount(l,h,b){var Ce,T="/"===b,Y=!b;if(T&&k.root)throw new k.ErrnoError(10);if(!T&&!Y){var Te=k.lookupPath(b,{follow_mount:!1});if(b=Te.path,k.isMountpoint(Ce=Te.node))throw new k.ErrnoError(10);if(!k.isDir(Ce.mode))throw new k.ErrnoError(54)}var Ne={type:l,opts:h,mountpoint:b,mounts:[]},Ot=l.mount(Ne);return Ot.mount=Ne,Ne.root=Ot,T?k.root=Ot:Ce&&(Ce.mounted=Ne,Ce.mount&&Ce.mount.mounts.push(Ne)),Ot},unmount(l){var h=k.lookupPath(l,{follow_mount:!1});if(!k.isMountpoint(h.node))throw new k.ErrnoError(28);var b=h.node,T=b.mounted,Y=k.getMounts(T);Object.keys(k.nameTable).forEach(Te=>{for(var Ne=k.nameTable[Te];Ne;){var Ot=Ne.name_next;Y.includes(Ne.mount)&&k.destroyNode(Ne),Ne=Ot}}),b.mounted=null;var Ce=b.mount.mounts.indexOf(T);b.mount.mounts.splice(Ce,1)},lookup:(l,h)=>l.node_ops.lookup(l,h),mknod(l,h,b){var Y=k.lookupPath(l,{parent:!0}).node,Ce=qt.basename(l);if(!Ce||"."===Ce||".."===Ce)throw new k.ErrnoError(28);var Te=k.mayCreate(Y,Ce);if(Te)throw new k.ErrnoError(Te);if(!Y.node_ops.mknod)throw new k.ErrnoError(63);return Y.node_ops.mknod(Y,Ce,h,b)},create:(l,h)=>(h=void 0!==h?h:438,h&=4095,k.mknod(l,h|=32768,0)),mkdir:(l,h)=>(h=void 0!==h?h:511,h&=1023,k.mknod(l,h|=16384,0)),mkdirTree(l,h){for(var b=l.split("/"),T="",Y=0;Y<b.length;++Y)if(b[Y]){T+="/"+b[Y];try{k.mkdir(T,h)}catch(Ce){if(20!=Ce.errno)throw Ce}}},mkdev:(l,h,b)=>(typeof b>"u"&&(b=h,h=438),k.mknod(l,h|=8192,b)),symlink(l,h){if(!Sr.resolve(l))throw new k.ErrnoError(44);var T=k.lookupPath(h,{parent:!0}).node;if(!T)throw new k.ErrnoError(44);var Y=qt.basename(h),Ce=k.mayCreate(T,Y);if(Ce)throw new k.ErrnoError(Ce);if(!T.node_ops.symlink)throw new k.ErrnoError(63);return T.node_ops.symlink(T,Y,l)},rename(l,h){var Ne,Ot,b=qt.dirname(l),T=qt.dirname(h),Y=qt.basename(l),Ce=qt.basename(h);if(Ne=k.lookupPath(l,{parent:!0}).node,Ot=k.lookupPath(h,{parent:!0}).node,!Ne||!Ot)throw new k.ErrnoError(44);if(Ne.mount!==Ot.mount)throw new k.ErrnoError(75);var hr,Pn=k.lookupNode(Ne,Y),ir=Sr.relative(l,T);if("."!==ir.charAt(0))throw new k.ErrnoError(28);if("."!==(ir=Sr.relative(h,b)).charAt(0))throw new k.ErrnoError(55);try{hr=k.lookupNode(Ot,Ce)}catch{}if(Pn!==hr){var Rn=k.isDir(Pn.mode),Sn=k.mayDelete(Ne,Y,Rn);if(Sn)throw new k.ErrnoError(Sn);if(Sn=hr?k.mayDelete(Ot,Ce,Rn):k.mayCreate(Ot,Ce))throw new k.ErrnoError(Sn);if(!Ne.node_ops.rename)throw new k.ErrnoError(63);if(k.isMountpoint(Pn)||hr&&k.isMountpoint(hr))throw new k.ErrnoError(10);if(Ot!==Ne&&(Sn=k.nodePermissions(Ne,"w")))throw new k.ErrnoError(Sn);k.hashRemoveNode(Pn);try{Ne.node_ops.rename(Pn,Ot,Ce)}catch(Zn){throw Zn}finally{k.hashAddNode(Pn)}}},rmdir(l){var b=k.lookupPath(l,{parent:!0}).node,T=qt.basename(l),Y=k.lookupNode(b,T),Ce=k.mayDelete(b,T,!0);if(Ce)throw new k.ErrnoError(Ce);if(!b.node_ops.rmdir)throw new k.ErrnoError(63);if(k.isMountpoint(Y))throw new k.ErrnoError(10);b.node_ops.rmdir(b,T),k.destroyNode(Y)},readdir(l){var b=k.lookupPath(l,{follow:!0}).node;if(!b.node_ops.readdir)throw new k.ErrnoError(54);return b.node_ops.readdir(b)},unlink(l){var b=k.lookupPath(l,{parent:!0}).node;if(!b)throw new k.ErrnoError(44);var T=qt.basename(l),Y=k.lookupNode(b,T),Ce=k.mayDelete(b,T,!1);if(Ce)throw new k.ErrnoError(Ce);if(!b.node_ops.unlink)throw new k.ErrnoError(63);if(k.isMountpoint(Y))throw new k.ErrnoError(10);b.node_ops.unlink(b,T),k.destroyNode(Y)},readlink(l){var b=k.lookupPath(l).node;if(!b)throw new k.ErrnoError(44);if(!b.node_ops.readlink)throw new k.ErrnoError(28);return Sr.resolve(k.getPath(b.parent),b.node_ops.readlink(b))},stat(l,h){var T=k.lookupPath(l,{follow:!h}).node;if(!T)throw new k.ErrnoError(44);if(!T.node_ops.getattr)throw new k.ErrnoError(63);return T.node_ops.getattr(T)},lstat:l=>k.stat(l,!0),chmod(l,h,b){var T;if(!(T="string"==typeof l?k.lookupPath(l,{follow:!b}).node:l).node_ops.setattr)throw new k.ErrnoError(63);T.node_ops.setattr(T,{mode:4095&h|-4096&T.mode,timestamp:Date.now()})},lchmod(l,h){k.chmod(l,h,!0)},fchmod(l,h){var b=k.getStreamChecked(l);k.chmod(b.node,h)},chown(l,h,b,T){var Y;if(!(Y="string"==typeof l?k.lookupPath(l,{follow:!T}).node:l).node_ops.setattr)throw new k.ErrnoError(63);Y.node_ops.setattr(Y,{timestamp:Date.now()})},lchown(l,h,b){k.chown(l,h,b,!0)},fchown(l,h,b){var T=k.getStreamChecked(l);k.chown(T.node,h,b)},truncate(l,h){if(h<0)throw new k.ErrnoError(28);var b;if(!(b="string"==typeof l?k.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new k.ErrnoError(63);if(k.isDir(b.mode))throw new k.ErrnoError(31);if(!k.isFile(b.mode))throw new k.ErrnoError(28);var Y=k.nodePermissions(b,"w");if(Y)throw new k.ErrnoError(Y);b.node_ops.setattr(b,{size:h,timestamp:Date.now()})},ftruncate(l,h){var b=k.getStreamChecked(l);if(!(2097155&b.flags))throw new k.ErrnoError(28);k.truncate(b.node,h)},utime(l,h,b){var Y=k.lookupPath(l,{follow:!0}).node;Y.node_ops.setattr(Y,{timestamp:Math.max(h,b)})},open(l,h,b){if(""===l)throw new k.ErrnoError(44);var T;if(h="string"==typeof h?(l=>{var b={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[l];if(typeof b>"u")throw new Error(`Unknown file open mode: ${l}`);return b})(h):h,b=typeof b>"u"?438:b,b=64&h?4095&b|32768:0,"object"==typeof l)T=l;else{l=qt.normalize(l);try{T=k.lookupPath(l,{follow:!(131072&h)}).node}catch{}}var Ce=!1;if(64&h)if(T){if(128&h)throw new k.ErrnoError(20)}else T=k.mknod(l,b,0),Ce=!0;if(!T)throw new k.ErrnoError(44);if(k.isChrdev(T.mode)&&(h&=-513),65536&h&&!k.isDir(T.mode))throw new k.ErrnoError(54);if(!Ce){var Te=k.mayOpen(T,h);if(Te)throw new k.ErrnoError(Te)}512&h&&!Ce&&k.truncate(T,0),h&=-131713;var Ne=k.createStream({node:T,path:k.getPath(T),flags:h,seekable:!0,position:0,stream_ops:T.stream_ops,ungotten:[],error:!1});return Ne.stream_ops.open&&Ne.stream_ops.open(Ne),d.logReadFiles&&!(1&h)&&(k.readFiles||(k.readFiles={}),l in k.readFiles||(k.readFiles[l]=1)),Ne},close(l){if(k.isClosed(l))throw new k.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(h){throw h}finally{k.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek(l,h,b){if(k.isClosed(l))throw new k.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new k.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new k.ErrnoError(28);return l.position=l.stream_ops.llseek(l,h,b),l.ungotten=[],l.position},read(l,h,b,T,Y){if(T<0||Y<0)throw new k.ErrnoError(28);if(k.isClosed(l))throw new k.ErrnoError(8);if(1==(2097155&l.flags))throw new k.ErrnoError(8);if(k.isDir(l.node.mode))throw new k.ErrnoError(31);if(!l.stream_ops.read)throw new k.ErrnoError(28);var Ce=typeof Y<"u";if(Ce){if(!l.seekable)throw new k.ErrnoError(70)}else Y=l.position;var Te=l.stream_ops.read(l,h,b,T,Y);return Ce||(l.position+=Te),Te},write(l,h,b,T,Y,Ce){if(T<0||Y<0)throw new k.ErrnoError(28);if(k.isClosed(l))throw new k.ErrnoError(8);if(!(2097155&l.flags))throw new k.ErrnoError(8);if(k.isDir(l.node.mode))throw new k.ErrnoError(31);if(!l.stream_ops.write)throw new k.ErrnoError(28);l.seekable&&1024&l.flags&&k.llseek(l,0,2);var Te=typeof Y<"u";if(Te){if(!l.seekable)throw new k.ErrnoError(70)}else Y=l.position;var Ne=l.stream_ops.write(l,h,b,T,Y,Ce);return Te||(l.position+=Ne),Ne},allocate(l,h,b){if(k.isClosed(l))throw new k.ErrnoError(8);if(h<0||b<=0)throw new k.ErrnoError(28);if(!(2097155&l.flags))throw new k.ErrnoError(8);if(!k.isFile(l.node.mode)&&!k.isDir(l.node.mode))throw new k.ErrnoError(43);if(!l.stream_ops.allocate)throw new k.ErrnoError(138);l.stream_ops.allocate(l,h,b)},mmap(l,h,b,T,Y){if(2&T&&!(2&Y)&&2!=(2097155&l.flags))throw new k.ErrnoError(2);if(1==(2097155&l.flags))throw new k.ErrnoError(2);if(!l.stream_ops.mmap)throw new k.ErrnoError(43);return l.stream_ops.mmap(l,h,b,T,Y)},msync:(l,h,b,T,Y)=>l.stream_ops.msync?l.stream_ops.msync(l,h,b,T,Y):0,munmap:l=>0,ioctl(l,h,b){if(!l.stream_ops.ioctl)throw new k.ErrnoError(59);return l.stream_ops.ioctl(l,h,b)},readFile(l,h={}){if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error(`Invalid encoding type "${h.encoding}"`);var b,T=k.open(l,h.flags),Ce=k.stat(l).size,Te=new Uint8Array(Ce);return k.read(T,Te,0,Ce,0),"utf8"===h.encoding?b=De(Te,0):"binary"===h.encoding&&(b=Te),k.close(T),b},writeFile(l,h,b={}){b.flags=b.flags||577;var T=k.open(l,b.flags,b.mode);if("string"==typeof h){var Y=new Uint8Array(vr(h)+1),Ce=no(h,Y,0,Y.length);k.write(T,Y,0,Ce,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");k.write(T,h,0,h.byteLength,void 0,b.canOwn)}k.close(T)},cwd:()=>k.currentPath,chdir(l){var h=k.lookupPath(l,{follow:!0});if(null===h.node)throw new k.ErrnoError(44);if(!k.isDir(h.node.mode))throw new k.ErrnoError(54);var b=k.nodePermissions(h.node,"x");if(b)throw new k.ErrnoError(b);k.currentPath=h.path},createDefaultDirectories(){k.mkdir("/tmp"),k.mkdir("/home"),k.mkdir("/home/web_user")},createDefaultDevices(){k.mkdir("/dev"),k.registerDevice(k.makedev(1,3),{read:()=>0,write:(T,Y,Ce,Te,Ne)=>Te}),k.mkdev("/dev/null",k.makedev(1,3)),At.register(k.makedev(5,0),At.default_tty_ops),At.register(k.makedev(6,0),At.default_tty1_ops),k.mkdev("/dev/tty",k.makedev(5,0)),k.mkdev("/dev/tty1",k.makedev(6,0));var l=new Uint8Array(1024),h=0,b=()=>(0===h&&(h=ln(l).byteLength),l[--h]);k.createDevice("/dev","random",b),k.createDevice("/dev","urandom",b),k.mkdir("/dev/shm"),k.mkdir("/dev/shm/tmp")},createSpecialDirectories(){k.mkdir("/proc");var l=k.mkdir("/proc/self");k.mkdir("/proc/self/fd"),k.mount({mount(){var h=k.createNode(l,"fd",16895,73);return h.node_ops={lookup(b,T){var Ce=k.getStreamChecked(+T),Te={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Ce.path}};return Te.parent=Te,Te}},h}},{},"/proc/self/fd")},createStandardStreams(){d.stdin?k.createDevice("/dev","stdin",d.stdin):k.symlink("/dev/tty","/dev/stdin"),d.stdout?k.createDevice("/dev","stdout",null,d.stdout):k.symlink("/dev/tty","/dev/stdout"),d.stderr?k.createDevice("/dev","stderr",null,d.stderr):k.symlink("/dev/tty1","/dev/stderr"),k.open("/dev/stdin",0),k.open("/dev/stdout",1),k.open("/dev/stderr",1)},ensureErrnoError(){k.ErrnoError||(k.ErrnoError=function(h,b){this.name="ErrnoError",this.node=b,this.setErrno=function(T){this.errno=T},this.setErrno(h),this.message="FS error"},k.ErrnoError.prototype=new Error,k.ErrnoError.prototype.constructor=k.ErrnoError,[44].forEach(l=>{k.genericErrors[l]=new k.ErrnoError(l),k.genericErrors[l].stack="<generic error, no stack>"}))},staticInit(){k.ensureErrnoError(),k.nameTable=new Array(4096),k.mount(en,{},"/"),k.createDefaultDirectories(),k.createDefaultDevices(),k.createSpecialDirectories(),k.filesystems={MEMFS:en}},init(l,h,b){k.init.initialized=!0,k.ensureErrnoError(),d.stdin=l||d.stdin,d.stdout=h||d.stdout,d.stderr=b||d.stderr,k.createStandardStreams()},quit(){k.init.initialized=!1;for(var l=0;l<k.streams.length;l++){var h=k.streams[l];h&&k.close(h)}},findObject(l,h){var b=k.analyzePath(l,h);return b.exists?b.object:null},analyzePath(l,h){try{l=(b=k.lookupPath(l,{follow:!h})).path}catch{}var T={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=k.lookupPath(l,{parent:!0});T.parentExists=!0,T.parentPath=b.path,T.parentObject=b.node,T.name=qt.basename(l),b=k.lookupPath(l,{follow:!h}),T.exists=!0,T.path=b.path,T.object=b.node,T.name=b.node.name,T.isRoot="/"===b.path}catch(Y){T.error=Y.errno}return T},createPath(l,h,b,T){l="string"==typeof l?l:k.getPath(l);for(var Y=h.split("/").reverse();Y.length;){var Ce=Y.pop();if(Ce){var Te=qt.join2(l,Ce);try{k.mkdir(Te)}catch{}l=Te}}return Te},createFile(l,h,b,T,Y){var Ce=qt.join2("string"==typeof l?l:k.getPath(l),h),Te=x(T,Y);return k.create(Ce,Te)},createDataFile(l,h,b,T,Y,Ce){var Te=h;l&&(l="string"==typeof l?l:k.getPath(l),Te=h?qt.join2(l,h):l);var Ne=x(T,Y),Ot=k.create(Te,Ne);if(b){if("string"==typeof b){for(var Pn=new Array(b.length),ir=0,hr=b.length;ir<hr;++ir)Pn[ir]=b.charCodeAt(ir);b=Pn}k.chmod(Ot,146|Ne);var Rn=k.open(Ot,577);k.write(Rn,b,0,b.length,0,Ce),k.close(Rn),k.chmod(Ot,Ne)}return Ot},createDevice(l,h,b,T){var Y=qt.join2("string"==typeof l?l:k.getPath(l),h),Ce=x(!!b,!!T);k.createDevice.major||(k.createDevice.major=64);var Te=k.makedev(k.createDevice.major++,0);return k.registerDevice(Te,{open(Ne){Ne.seekable=!1},close(Ne){T&&T.buffer&&T.buffer.length&&T(10)},read(Ne,Ot,Pn,ir,hr){for(var Rn=0,Sn=0;Sn<ir;Sn++){var Zn;try{Zn=b()}catch{throw new k.ErrnoError(29)}if(void 0===Zn&&0===Rn)throw new k.ErrnoError(6);if(null==Zn)break;Rn++,Ot[Pn+Sn]=Zn}return Rn&&(Ne.node.timestamp=Date.now()),Rn},write(Ne,Ot,Pn,ir,hr){for(var Rn=0;Rn<ir;Rn++)try{T(Ot[Pn+Rn])}catch{throw new k.ErrnoError(29)}return ir&&(Ne.node.timestamp=Date.now()),Rn}}),k.mkdev(Y,Ce,Te)},forceLoadFile(l){if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=uo(G(l.url),!0),l.usedBytes=l.contents.length}catch{throw new k.ErrnoError(29)}},createLazyFile(l,h,b,T,Y){function Ce(){this.lengthKnown=!1,this.chunks=[]}if(Ce.prototype.get=function(Sn){if(!(Sn>this.length-1||Sn<0)){var Zn=Sn%this.chunkSize;return this.getter(Sn/this.chunkSize|0)[Zn]}},Ce.prototype.setDataGetter=function(Sn){this.getter=Sn},Ce.prototype.cacheLength=function(){var Sn=new XMLHttpRequest;if(Sn.open("HEAD",b,!1),Sn.send(null),!(Sn.status>=200&&Sn.status<300||304===Sn.status))throw new Error("Couldn't load "+b+". Status: "+Sn.status);var Ro,Zn=Number(Sn.getResponseHeader("Content-length")),xo=(Ro=Sn.getResponseHeader("Accept-Ranges"))&&"bytes"===Ro,Ci=(Ro=Sn.getResponseHeader("Content-Encoding"))&&"gzip"===Ro,Et=1048576;xo||(Et=Zn);var Jo=this;Jo.setDataGetter(Or=>{var so=Or*Et,Vo=(Or+1)*Et-1;if(Vo=Math.min(Vo,Zn-1),typeof Jo.chunks[Or]>"u"&&(Jo.chunks[Or]=((Or,so)=>{if(Or>so)throw new Error("invalid range ("+Or+", "+so+") or no bytes requested!");if(so>Zn-1)throw new Error("only "+Zn+" bytes available! programmer error!");var Vo=new XMLHttpRequest;if(Vo.open("GET",b,!1),Zn!==Et&&Vo.setRequestHeader("Range","bytes="+Or+"-"+so),Vo.responseType="arraybuffer",Vo.overrideMimeType&&Vo.overrideMimeType("text/plain; charset=x-user-defined"),Vo.send(null),!(Vo.status>=200&&Vo.status<300||304===Vo.status))throw new Error("Couldn't load "+b+". Status: "+Vo.status);return void 0!==Vo.response?new Uint8Array(Vo.response||[]):uo(Vo.responseText||"",!0)})(so,Vo)),typeof Jo.chunks[Or]>"u")throw new Error("doXHR failed!");return Jo.chunks[Or]}),(Ci||!Zn)&&(Et=Zn=1,Zn=this.getter(0).length,Et=Zn,ue("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Zn,this._chunkSize=Et,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!ee)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Te=new Ce;Object.defineProperties(Te,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ne={isDevice:!1,contents:Te}}else Ne={isDevice:!1,url:b};var Ot=k.createFile(l,h,Ne,T,Y);Ne.contents?Ot.contents=Ne.contents:Ne.url&&(Ot.contents=null,Ot.url=Ne.url),Object.defineProperties(Ot,{usedBytes:{get:function(){return this.contents.length}}});var Pn={};function hr(Rn,Sn,Zn,Ro,xo){var Ci=Rn.node.contents;if(xo>=Ci.length)return 0;var Et=Math.min(Ci.length-xo,Ro);if(Ci.slice)for(var Lt=0;Lt<Et;Lt++)Sn[Zn+Lt]=Ci[xo+Lt];else for(Lt=0;Lt<Et;Lt++)Sn[Zn+Lt]=Ci.get(xo+Lt);return Et}return Object.keys(Ot.stream_ops).forEach(Rn=>{var Sn=Ot.stream_ops[Rn];Pn[Rn]=function(){return k.forceLoadFile(Ot),Sn.apply(null,arguments)}}),Pn.read=(Rn,Sn,Zn,Ro,xo)=>(k.forceLoadFile(Ot),hr(Rn,Sn,Zn,Ro,xo)),Pn.mmap=(Rn,Sn,Zn,Ro,xo)=>{k.forceLoadFile(Ot);var Ci=cn();if(!Ci)throw new k.ErrnoError(48);return hr(Rn,ae,Ci,Sn,Zn),{ptr:Ci,allocated:!0}},Ot.stream_ops=Pn,Ot}},Ao={DEFAULT_POLLMASK:5,calculateAt(l,h,b){if(qt.isAbs(h))return h;var T;if(T=-100===l?k.cwd():Ao.getStreamFromFD(l).path,0==h.length){if(!b)throw new k.ErrnoError(44);return T}return qt.join2(T,h)},doStat(l,h,b){try{var T=l(h)}catch(Ne){if(Ne&&Ne.node&&qt.normalize(h)!==qt.normalize(k.getPath(Ne.node)))return-54;throw Ne}N[b>>2]=T.dev,N[b+4>>2]=T.mode,j[b+8>>2]=T.nlink,N[b+12>>2]=T.uid,N[b+16>>2]=T.gid,N[b+20>>2]=T.rdev,Zt=[T.size>>>0,(Ze=T.size,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[b+24>>2]=Zt[0],N[b+28>>2]=Zt[1],N[b+32>>2]=4096,N[b+36>>2]=T.blocks;var Y=T.atime.getTime(),Ce=T.mtime.getTime(),Te=T.ctime.getTime();return Zt=[Math.floor(Y/1e3)>>>0,(Ze=Math.floor(Y/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[b+40>>2]=Zt[0],N[b+44>>2]=Zt[1],j[b+48>>2]=Y%1e3*1e3,Zt=[Math.floor(Ce/1e3)>>>0,(Ze=Math.floor(Ce/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[b+56>>2]=Zt[0],N[b+60>>2]=Zt[1],j[b+64>>2]=Ce%1e3*1e3,Zt=[Math.floor(Te/1e3)>>>0,(Ze=Math.floor(Te/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[b+72>>2]=Zt[0],N[b+76>>2]=Zt[1],j[b+80>>2]=Te%1e3*1e3,Zt=[T.ino>>>0,(Ze=T.ino,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[b+88>>2]=Zt[0],N[b+92>>2]=Zt[1],0},doMsync(l,h,b,T,Y){if(!k.isFile(h.node.mode))throw new k.ErrnoError(43);if(2&T)return 0;var Ce=pe.slice(l,l+b);k.msync(h,Ce,Y,b,T)},varargs:void 0,get(){var l=N[+Ao.varargs>>2];return Ao.varargs+=4,l},getp:()=>Ao.get(),getStr:l=>me(l),getStreamFromFD:l=>k.getStreamChecked(l)},li=(l,h)=>h+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*h:NaN,vi=l=>l%4==0&&(l%100!=0||l%400==0),Nr=[0,31,60,91,121,152,182,213,244,274,305,335],po=[0,31,59,90,120,151,181,212,243,273,304,334],er=l=>(vi(l.getFullYear())?Nr:po)[l.getMonth()]+l.getDate()-1,ci=l=>{var h=vr(l)+1,b=$o(h);return b&&((l,h,b)=>{no(l,pe,h,b)})(l,b,h),b},ro=[],ki=l=>{var b=(l-ve.buffer.byteLength+65535)/65536;try{return ve.grow(b),It(),1}catch{}},ds={},tr=()=>{if(!tr.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:F||"./this.program"};for(var b in ds)void 0===ds[b]?delete h[b]:h[b]=ds[b];var T=[];for(var b in h)T.push(`${b}=${h[b]}`);tr.strings=T}return tr.strings},ct=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31],gt=(l,h)=>{Je=l,(l=>{Je=l,function Ut(){return de||!1}()||(d.onExit&&d.onExit(l),fe=!0),U(l,new Ar(l))})(l)},ui=(l,h)=>{l<128?h.push(l):h.push(l%128|128,l>>7)},Li=[],xa=l=>{var h=Li[l];return h||(l>=Li.length&&(Li.length=l+1),Li[l]=h=Wo.get(l)),h},nl=[],rl=(l,h)=>{Wo.set(l,h),Li[l]=Wo.get(l)},ol=function(l,h,b,T){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=k.nextInode++,this.name=h,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=T};Object.defineProperties(ol.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return k.isDir(this.mode)}},isDevice:{get:function(){return k.isChrdev(this.mode)}}}),k.FSNode=ol,k.createPreloadedFile=(l,h,b,T,Y,Ce,Te,Ne,Ot,Pn)=>{var ir=h?Sr.resolve(qt.join2(l,h)):l;function Rn(Sn){function Zn(Ro){Pn&&Pn(),Ne||((l,h,b,T,Y,Ce)=>{k.createDataFile(l,h,b,T,Y,Ce)})(l,h,Ro,T,Y,Ot),Ce&&Ce(),In()}((l,h,b,T)=>{typeof Browser<"u"&&Browser.init();var Y=!1;return Ni.forEach(Ce=>{Y||Ce.canHandle(h)&&(Ce.handle(l,h,b,T),Y=!0)}),Y})(Sn,ir,Zn,()=>{Te&&Te(),In()})||Zn(Sn)}Jt(),"string"==typeof b?((l,h,b,T)=>{var Y=`al ${l}`;Oe(l,Ce=>{Qe(Ce,`Loading data file "${l}" failed (no arrayBuffer).`),Rn(new Uint8Array(Ce)),Y&&In()},Ce=>{if(!b)throw`Loading data file "${l}" failed.`;b()}),Y&&Jt()})(b,0,Te):Rn(b)},k.staticInit();var Pc,Vl={b:(l,h,b,T)=>{_n(`Assertion failed: ${me(l)}, at: `+[h?me(h):"unknown filename",b,T?me(T):"unknown function"])},i:function Hr(l){const h=new Error(me(l));throw h.isAssert=!0,h},m:function zi(l,h,b){var T=li(h,b);try{return isNaN(T)?61:(k.ftruncate(l,T),0)}catch(Y){if(typeof k>"u"||"ErrnoError"!==Y.name)throw Y;return-Y.errno}},h:()=>!0,j:function Lo(l,h,b){var T=li(l,h),Y=new Date(1e3*T);N[b>>2]=Y.getSeconds(),N[b+4>>2]=Y.getMinutes(),N[b+8>>2]=Y.getHours(),N[b+12>>2]=Y.getDate(),N[b+16>>2]=Y.getMonth(),N[b+20>>2]=Y.getFullYear()-1900,N[b+24>>2]=Y.getDay();var Ce=0|er(Y);N[b+28>>2]=Ce,N[b+36>>2]=-60*Y.getTimezoneOffset();var Te=new Date(Y.getFullYear(),0,1),Ne=new Date(Y.getFullYear(),6,1).getTimezoneOffset(),Ot=Te.getTimezoneOffset(),Pn=0|(Ne!=Ot&&Y.getTimezoneOffset()==Math.min(Ot,Ne));N[b+32>>2]=Pn},k:function(l){var h=(()=>{var b=new Date(N[l+20>>2]+1900,N[l+16>>2],N[l+12>>2],N[l+8>>2],N[l+4>>2],N[l>>2],0),T=N[l+32>>2],Y=b.getTimezoneOffset(),Ce=new Date(b.getFullYear(),0,1),Te=new Date(b.getFullYear(),6,1).getTimezoneOffset(),Ne=Ce.getTimezoneOffset(),Ot=Math.min(Ne,Te);if(T<0)N[l+32>>2]=+(Te!=Ne&&Ot==Y);else if(T>0!=(Ot==Y)){var Pn=Math.max(Ne,Te),ir=T>0?Ot:Pn;b.setTime(b.getTime()+6e4*(ir-Y))}N[l+24>>2]=b.getDay();var hr=0|er(b);return N[l+28>>2]=hr,N[l>>2]=b.getSeconds(),N[l+4>>2]=b.getMinutes(),N[l+8>>2]=b.getHours(),N[l+12>>2]=b.getDate(),N[l+16>>2]=b.getMonth(),N[l+20>>2]=b.getYear(),b.getTime()/1e3})();return Sg((Ze=h,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)),h>>>0},r:(l,h,b)=>{var T=(new Date).getFullYear(),Y=new Date(T,0,1),Ce=new Date(T,6,1),Te=Y.getTimezoneOffset(),Ne=Ce.getTimezoneOffset(),Ot=Math.max(Te,Ne);function Pn(Zn){var Ro=Zn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Ro?Ro[1]:"GMT"}j[l>>2]=60*Ot,N[h>>2]=+(Te!=Ne);var ir=Pn(Y),hr=Pn(Ce),Rn=ci(ir),Sn=ci(hr);Ne<Te?(j[b>>2]=Rn,j[b+4>>2]=Sn):(j[b>>2]=Sn,j[b+4>>2]=Rn)},a:()=>{_n("")},s:(l,h,b)=>((l,h,b)=>{var T=((l,h)=>{ro.length=0;for(var b;b=pe[l++];){var T=105!=b;h+=(T&=112!=b)&&h%8?4:0,ro.push(112==b?j[h>>2]:105==b?N[h>>2]:ft[h>>3]),h+=T?8:4}return ro})(h,b);return Zr[l].apply(null,T)})(l,h,b),c:()=>Date.now(),d:(l,h,b)=>pe.copyWithin(l,h,h+b),q:l=>{var Ot,h=pe.length,b=2147483648;if((l>>>=0)>b)return!1;for(var Y=1;Y<=4;Y*=2){var Ce=h*(1+.2/Y);Ce=Math.min(Ce,l+100663296);var Te=Math.min(b,(Ot=Math.max(l,Ce))+(65536-Ot%65536)%65536);if(ki(Te))return!0}return!1},o:(l,h)=>{var b=0;return tr().forEach((T,Y)=>{var Ce=h+b;j[l+4*Y>>2]=Ce,((l,h)=>{for(var b=0;b<l.length;++b)ae[h++>>0]=l.charCodeAt(b);ae[h>>0]=0})(T,Ce),b+=T.length+1}),0},p:(l,h)=>{var b=tr();j[l>>2]=b.length;var T=0;return b.forEach(Y=>T+=Y.length+1),j[h>>2]=T,0},e:function R(l){try{var h=Ao.getStreamFromFD(l);return k.close(h),0}catch(b){if(typeof k>"u"||"ErrnoError"!==b.name)throw b;return b.errno}},g:function B(l,h,b,T){try{var Ce=((l,h,b,T)=>{for(var Y=0,Ce=0;Ce<b;Ce++){var Te=j[h>>2],Ne=j[h+4>>2];h+=8;var Ot=k.read(l,ae,Te,Ne,T);if(Ot<0)return-1;if(Y+=Ot,Ot<Ne)break;typeof T<"u"&&(T+=Ot)}return Y})(Ao.getStreamFromFD(l),h,b);return j[T>>2]=Ce,0}catch(Te){if(typeof k>"u"||"ErrnoError"!==Te.name)throw Te;return Te.errno}},l:function J(l,h,b,T,Y){var Ce=li(h,b);try{if(isNaN(Ce))return 61;var Te=Ao.getStreamFromFD(l);return k.llseek(Te,Ce,T),Zt=[Te.position>>>0,(Ze=Te.position,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[Y>>2]=Zt[0],N[Y+4>>2]=Zt[1],Te.getdents&&0===Ce&&0===T&&(Te.getdents=null),0}catch(Ne){if(typeof k>"u"||"ErrnoError"!==Ne.name)throw Ne;return Ne.errno}},f:function be(l,h,b,T){try{var Ce=((l,h,b,T)=>{for(var Y=0,Ce=0;Ce<b;Ce++){var Te=j[h>>2],Ne=j[h+4>>2];h+=8;var Ot=k.write(l,ae,Te,Ne,T);if(Ot<0)return-1;Y+=Ot,typeof T<"u"&&(T+=Ot)}return Y})(Ao.getStreamFromFD(l),h,b);return j[T>>2]=Ce,0}catch(Te){if(typeof k>"u"||"ErrnoError"!==Te.name)throw Te;return Te.errno}},n:(l,h,b,T,Y)=>((l,h,b,T)=>{var Y=j[T+40>>2],Ce={tm_sec:N[T>>2],tm_min:N[T+4>>2],tm_hour:N[T+8>>2],tm_mday:N[T+12>>2],tm_mon:N[T+16>>2],tm_year:N[T+20>>2],tm_wday:N[T+24>>2],tm_yday:N[T+28>>2],tm_isdst:N[T+32>>2],tm_gmtoff:N[T+36>>2],tm_zone:Y?me(Y):""},Te=me(b),Ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ot in Ne)Te=Te.replace(new RegExp(Ot,"g"),Ne[Ot]);var Pn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ir=["January","February","March","April","May","June","July","August","September","October","November","December"];function hr(Et,Lt,Jo){for(var Or="number"==typeof Et?Et.toString():Et||"";Or.length<Lt;)Or=Jo[0]+Or;return Or}function Rn(Et,Lt){return hr(Et,Lt,"0")}function Sn(Et,Lt){function Jo(so){return so<0?-1:so>0?1:0}var Or;return 0===(Or=Jo(Et.getFullYear()-Lt.getFullYear()))&&0===(Or=Jo(Et.getMonth()-Lt.getMonth()))&&(Or=Jo(Et.getDate()-Lt.getDate())),Or}function Zn(Et){switch(Et.getDay()){case 0:return new Date(Et.getFullYear()-1,11,29);case 1:return Et;case 2:return new Date(Et.getFullYear(),0,3);case 3:return new Date(Et.getFullYear(),0,2);case 4:return new Date(Et.getFullYear(),0,1);case 5:return new Date(Et.getFullYear()-1,11,31);case 6:return new Date(Et.getFullYear()-1,11,30)}}function Ro(Et){var Lt=((l,h)=>{for(var b=new Date(l.getTime());h>0;){var T=vi(b.getFullYear()),Y=b.getMonth(),Ce=(T?ct:st)[Y];if(!(h>Ce-b.getDate()))return b.setDate(b.getDate()+h),b;h-=Ce-b.getDate()+1,b.setDate(1),Y<11?b.setMonth(Y+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b})(new Date(Et.tm_year+1900,0,1),Et.tm_yday),Jo=new Date(Lt.getFullYear(),0,4),Or=new Date(Lt.getFullYear()+1,0,4),so=Zn(Jo),Vo=Zn(Or);return Sn(so,Lt)<=0?Sn(Vo,Lt)<=0?Lt.getFullYear()+1:Lt.getFullYear():Lt.getFullYear()-1}var xo={"%a":Et=>Pn[Et.tm_wday].substring(0,3),"%A":Et=>Pn[Et.tm_wday],"%b":Et=>ir[Et.tm_mon].substring(0,3),"%B":Et=>ir[Et.tm_mon],"%C":Et=>Rn((Et.tm_year+1900)/100|0,2),"%d":Et=>Rn(Et.tm_mday,2),"%e":Et=>hr(Et.tm_mday,2," "),"%g":Et=>Ro(Et).toString().substring(2),"%G":Et=>Ro(Et),"%H":Et=>Rn(Et.tm_hour,2),"%I":Et=>{var Lt=Et.tm_hour;return 0==Lt?Lt=12:Lt>12&&(Lt-=12),Rn(Lt,2)},"%j":Et=>Rn(Et.tm_mday+((l,h)=>{for(var b=0,T=0;T<=h;b+=l[T++]);return b})(vi(Et.tm_year+1900)?ct:st,Et.tm_mon-1),3),"%m":Et=>Rn(Et.tm_mon+1,2),"%M":Et=>Rn(Et.tm_min,2),"%n":()=>"\n","%p":Et=>Et.tm_hour>=0&&Et.tm_hour<12?"AM":"PM","%S":Et=>Rn(Et.tm_sec,2),"%t":()=>"\t","%u":Et=>Et.tm_wday||7,"%U":Et=>Rn(Math.floor((Et.tm_yday+7-Et.tm_wday)/7),2),"%V":Et=>{var Lt=Math.floor((Et.tm_yday+7-(Et.tm_wday+6)%7)/7);if((Et.tm_wday+371-Et.tm_yday-2)%7<=2&&Lt++,Lt){if(53==Lt){var Or=(Et.tm_wday+371-Et.tm_yday)%7;4!=Or&&(3!=Or||!vi(Et.tm_year))&&(Lt=1)}}else{Lt=52;var Jo=(Et.tm_wday+7-Et.tm_yday-1)%7;(4==Jo||5==Jo&&vi(Et.tm_year%400-1))&&Lt++}return Rn(Lt,2)},"%w":Et=>Et.tm_wday,"%W":Et=>Rn(Math.floor((Et.tm_yday+7-(Et.tm_wday+6)%7)/7),2),"%y":Et=>(Et.tm_year+1900).toString().substring(2),"%Y":Et=>Et.tm_year+1900,"%z":Et=>{var Lt=Et.tm_gmtoff;return(Lt>=0?"+":"-")+("0000"+(Lt=(Lt=Math.abs(Lt)/60)/60*100+Lt%60)).slice(-4)},"%Z":Et=>Et.tm_zone,"%%":()=>"%"};for(var Ot in Te=Te.replace(/%%/g,"\0\0"),xo)Te.includes(Ot)&&(Te=Te.replace(new RegExp(Ot,"g"),xo[Ot](Ce)));var Ci=uo(Te=Te.replace(/\0\0/g,"%"),!1);return Ci.length>h?0:(((l,h)=>{ae.set(l,h)})(Ci,l),Ci.length-1)})(l,h,b,T)},Se=function Go(){var l={a:Vl};function h(T,Y){return ve=(Se=T.exports).t,It(),Wo=Se.wc,function We(l){Ge.unshift(l)}(Se.u),In(),Se}if(Jt(),d.instantiateWasm)try{return d.instantiateWasm(l,h)}catch(T){V(`Module.instantiateWasm callback failed with error: ${T}`),oe(T)}return function si(l,h,b,T){return l||"function"!=typeof WebAssembly.instantiateStreaming||wr(h)||"function"!=typeof fetch?No(h,b,T):fetch(h,{credentials:"same-origin"}).then(Y=>WebAssembly.instantiateStreaming(Y,b).then(T,function(Te){return V(`wasm streaming compile failed: ${Te}`),V("falling back to ArrayBuffer instantiation"),No(h,b,T)}))}(q,ar,l,function b(T){h(T.instance)}).catch(oe),{}}(),$o=d._malloc=l=>($o=d._malloc=Se.v)(l),il=(d._free=l=>(d._free=Se.w)(l),d._main=(l,h)=>(il=d._main=Se.x)(l,h)),mt=(d._webidl_free=l=>(d._webidl_free=Se.y)(l),d._webidl_malloc=l=>(d._webidl_malloc=Se.z)(l),d._emscripten_bind_VoidPtr___destroy___0=l=>(mt=d._emscripten_bind_VoidPtr___destroy___0=Se.A)(l)),sl=d._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(sl=d._emscripten_bind_Cloudpilot_Cloudpilot_0=Se.B)(),Er=d._emscripten_bind_Cloudpilot_Malloc_1=(l,h)=>(Er=d._emscripten_bind_Cloudpilot_Malloc_1=Se.C)(l,h),ks=d._emscripten_bind_Cloudpilot_Free_1=(l,h)=>(ks=d._emscripten_bind_Cloudpilot_Free_1=Se.D)(l,h),ka=d._emscripten_bind_Cloudpilot_Nullptr_0=l=>(ka=d._emscripten_bind_Cloudpilot_Nullptr_0=Se.E)(l),aa=d._emscripten_bind_Cloudpilot_InitializeSession_3=(l,h,b,T)=>(aa=d._emscripten_bind_Cloudpilot_InitializeSession_3=Se.F)(l,h,b,T),Ma=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=l=>(Ma=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=Se.G)(l),Ms=d._emscripten_bind_Cloudpilot_RunEmulation_1=(l,h)=>(Ms=d._emscripten_bind_Cloudpilot_RunEmulation_1=Se.H)(l,h),Ts=d._emscripten_bind_Cloudpilot_SetClockFactor_1=(l,h)=>(Ts=d._emscripten_bind_Cloudpilot_SetClockFactor_1=Se.I)(l,h),Ws=d._emscripten_bind_Cloudpilot_CopyFrame_0=l=>(Ws=d._emscripten_bind_Cloudpilot_CopyFrame_0=Se.J)(l),la=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=l=>(la=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=Se.K)(l),Ta=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=l=>(Ta=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=Se.L)(l),Tn=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(l,h)=>(Tn=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=Se.M)(l,h),Zs=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(l,h)=>(Zs=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=Se.N)(l,h),ca=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(l,h)=>(ca=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=Se.O)(l,h),wo=d._emscripten_bind_Cloudpilot_QueuePenMove_2=(l,h,b)=>(wo=d._emscripten_bind_Cloudpilot_QueuePenMove_2=Se.P)(l,h,b),ua=d._emscripten_bind_Cloudpilot_QueuePenUp_0=l=>(ua=d._emscripten_bind_Cloudpilot_QueuePenUp_0=Se.Q)(l),al=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=(l,h)=>(al=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=Se.R)(l,h),nr=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=(l,h)=>(nr=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=Se.S)(l,h),zl=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(l,h,b)=>(zl=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=Se.T)(l,h,b),Wl=d._emscripten_bind_Cloudpilot_IsPowerOff_0=l=>(Wl=d._emscripten_bind_Cloudpilot_IsPowerOff_0=Se.U)(l),da=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=l=>(da=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=Se.V)(l),Aa=d._emscripten_bind_Cloudpilot_GetOSVersion_0=l=>(Aa=d._emscripten_bind_Cloudpilot_GetOSVersion_0=Se.W)(l),ll=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=l=>(ll=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=Se.X)(l),fs=d._emscripten_bind_Cloudpilot_Reset_0=l=>(fs=d._emscripten_bind_Cloudpilot_Reset_0=Se.Y)(l),cl=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=l=>(cl=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=Se.Z)(l),qs=d._emscripten_bind_Cloudpilot_ResetHard_0=l=>(qs=d._emscripten_bind_Cloudpilot_ResetHard_0=Se._)(l),ul=d._emscripten_bind_Cloudpilot_InstallDb_2=(l,h,b)=>(ul=d._emscripten_bind_Cloudpilot_InstallDb_2=Se.$)(l,h,b),So=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=l=>(So=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=Se.aa)(l),Yi=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=l=>(Yi=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=Se.ba)(l),qo=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=l=>(qo=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=Se.ca)(l),Zl=d._emscripten_bind_Cloudpilot_GetMemorySize_0=l=>(Zl=d._emscripten_bind_Cloudpilot_GetMemorySize_0=Se.da)(l),As=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(l,h,b)=>(As=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=Se.ea)(l,h,b),fa=d._emscripten_bind_Cloudpilot_GetRomPtr_0=l=>(fa=d._emscripten_bind_Cloudpilot_GetRomPtr_0=Se.fa)(l),Ys=d._emscripten_bind_Cloudpilot_GetRomSize_0=l=>(Ys=d._emscripten_bind_Cloudpilot_GetRomSize_0=Se.ga)(l),dl=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=l=>(dl=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=Se.ha)(l),lr=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=l=>(lr=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=Se.ia)(l),Pa=d._emscripten_bind_Cloudpilot_SaveState_0=l=>(Pa=d._emscripten_bind_Cloudpilot_SaveState_0=Se.ja)(l),oo=d._emscripten_bind_Cloudpilot_LoadState_2=(l,h,b)=>(oo=d._emscripten_bind_Cloudpilot_LoadState_2=Se.ka)(l,h,b),Lr=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=l=>(Lr=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=Se.la)(l),ho=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=(l,h)=>(ho=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=Se.ma)(l,h),cr=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(l,h)=>(cr=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=Se.na)(l,h),Pr=d._emscripten_bind_Cloudpilot_StartBackup_0=l=>(Pr=d._emscripten_bind_Cloudpilot_StartBackup_0=Se.oa)(l),ce=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(l,h)=>(ce=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=Se.pa)(l,h),p=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=l=>(p=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=Se.qa)(l),g=d._emscripten_bind_Cloudpilot_IsSuspended_0=l=>(g=d._emscripten_bind_Cloudpilot_IsSuspended_0=Se.ra)(l),C=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=l=>(C=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=Se.sa)(l),O=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(l,h)=>(O=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=Se.ta)(l,h),Z=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=l=>(Z=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=Se.ua)(l),ye=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(l,h)=>(ye=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=Se.va)(l,h),ke=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(l,h)=>(ke=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=Se.wa)(l,h),Ue=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=(l,h)=>(Ue=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=Se.xa)(l,h),xt=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(l,h,b)=>(xt=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=Se.ya)(l,h,b),Cn=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(l,h)=>(Cn=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=Se.za)(l,h),xn=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=l=>(xn=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=Se.Aa)(l),Ln=d._emscripten_bind_Cloudpilot_AllocateCard_2=(l,h,b)=>(Ln=d._emscripten_bind_Cloudpilot_AllocateCard_2=Se.Ba)(l,h,b),Pt=d._emscripten_bind_Cloudpilot_AdoptCard_3=(l,h,b,T)=>(Pt=d._emscripten_bind_Cloudpilot_AdoptCard_3=Se.Ca)(l,h,b,T),dn=d._emscripten_bind_Cloudpilot_MountCard_1=(l,h)=>(dn=d._emscripten_bind_Cloudpilot_MountCard_1=Se.Da)(l,h),Nn=d._emscripten_bind_Cloudpilot_RemoveCard_1=(l,h)=>(Nn=d._emscripten_bind_Cloudpilot_RemoveCard_1=Se.Ea)(l,h),$r=d._emscripten_bind_Cloudpilot_GetCardData_1=(l,h)=>($r=d._emscripten_bind_Cloudpilot_GetCardData_1=Se.Fa)(l,h),di=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(l,h)=>(di=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=Se.Ga)(l,h),Br=d._emscripten_bind_Cloudpilot_GetCardSize_1=(l,h)=>(Br=d._emscripten_bind_Cloudpilot_GetCardSize_1=Se.Ha)(l,h),_t=d._emscripten_bind_Cloudpilot_RemountCards_0=l=>(_t=d._emscripten_bind_Cloudpilot_RemountCards_0=Se.Ia)(l),an=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=(l,h)=>(an=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=Se.Ja)(l,h),qr=d._emscripten_bind_Cloudpilot_GetMountedKey_0=l=>(qr=d._emscripten_bind_Cloudpilot_GetMountedKey_0=Se.Ka)(l),ur=d._emscripten_bind_Cloudpilot___destroy___0=l=>(ur=d._emscripten_bind_Cloudpilot___destroy___0=Se.La)(l),rr=d._emscripten_bind_RomInfo_RomInfo_2=(l,h)=>(rr=d._emscripten_bind_RomInfo_RomInfo_2=Se.Ma)(l,h),dr=d._emscripten_bind_RomInfo_IsValid_0=l=>(dr=d._emscripten_bind_RomInfo_IsValid_0=Se.Na)(l),io=d._emscripten_bind_RomInfo_CardVersion_0=l=>(io=d._emscripten_bind_RomInfo_CardVersion_0=Se.Oa)(l),Dc=d._emscripten_bind_RomInfo_CardName_0=l=>(Dc=d._emscripten_bind_RomInfo_CardName_0=Se.Pa)(l),Ic=d._emscripten_bind_RomInfo_RomVersion_0=l=>(Ic=d._emscripten_bind_RomInfo_RomVersion_0=Se.Qa)(l),du=d._emscripten_bind_RomInfo_RomVersionString_0=l=>(du=d._emscripten_bind_RomInfo_RomVersionString_0=Se.Ra)(l),xc=d._emscripten_bind_RomInfo_Supports_1=(l,h)=>(xc=d._emscripten_bind_RomInfo_Supports_1=Se.Sa)(l,h),fu=d._emscripten_bind_RomInfo___destroy___0=l=>(fu=d._emscripten_bind_RomInfo___destroy___0=Se.Ta)(l),$n=d._emscripten_bind_Frame_GetLineWidth_0=l=>($n=d._emscripten_bind_Frame_GetLineWidth_0=Se.Ua)(l),Dr=d._emscripten_bind_Frame_GetBpp_0=l=>(Dr=d._emscripten_bind_Frame_GetBpp_0=Se.Va)(l),Bo=d._emscripten_bind_Frame_GetLines_0=l=>(Bo=d._emscripten_bind_Frame_GetLines_0=Se.Wa)(l),Yr=d._emscripten_bind_Frame_GetMargin_0=l=>(Yr=d._emscripten_bind_Frame_GetMargin_0=Se.Xa)(l),sn=d._emscripten_bind_Frame_GetBytesPerLine_0=l=>(sn=d._emscripten_bind_Frame_GetBytesPerLine_0=Se.Ya)(l),fo=d._emscripten_bind_Frame_GetFirstDirtyLine_0=l=>(fo=d._emscripten_bind_Frame_GetFirstDirtyLine_0=Se.Za)(l),xr=d._emscripten_bind_Frame_GetLastDirtyLine_0=l=>(xr=d._emscripten_bind_Frame_GetLastDirtyLine_0=Se._a)(l),mo=d._emscripten_bind_Frame_GetHasChanges_0=l=>(mo=d._emscripten_bind_Frame_GetHasChanges_0=Se.$a)(l),Rr=d._emscripten_bind_Frame_GetBuffer_0=l=>(Rr=d._emscripten_bind_Frame_GetBuffer_0=Se.ab)(l),br=d._emscripten_bind_Frame_GetBufferSize_0=l=>(br=d._emscripten_bind_Frame_GetBufferSize_0=Se.bb)(l),u=d._emscripten_bind_Frame_GetScaleX_0=l=>(u=d._emscripten_bind_Frame_GetScaleX_0=Se.cb)(l),_=d._emscripten_bind_Frame_GetScaleY_0=l=>(_=d._emscripten_bind_Frame_GetScaleY_0=Se.db)(l),v=d._emscripten_bind_Frame___destroy___0=l=>(v=d._emscripten_bind_Frame___destroy___0=Se.eb)(l),P=d._emscripten_bind_DbBackup_Init_1=(l,h)=>(P=d._emscripten_bind_DbBackup_Init_1=Se.fb)(l,h),X=d._emscripten_bind_DbBackup_IsInProgress_0=l=>(X=d._emscripten_bind_DbBackup_IsInProgress_0=Se.gb)(l),Ee=d._emscripten_bind_DbBackup_IsDone_0=l=>(Ee=d._emscripten_bind_DbBackup_IsDone_0=Se.hb)(l),_e=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=l=>(_e=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=Se.ib)(l),Ve=d._emscripten_bind_DbBackup_Save_0=l=>(Ve=d._emscripten_bind_DbBackup_Save_0=Se.jb)(l),Tt=d._emscripten_bind_DbBackup_Skip_0=l=>(Tt=d._emscripten_bind_DbBackup_Skip_0=Se.kb)(l),vt=d._emscripten_bind_DbBackup_GetArchivePtr_0=l=>(vt=d._emscripten_bind_DbBackup_GetArchivePtr_0=Se.lb)(l),bn=d._emscripten_bind_DbBackup_GetArchiveSize_0=l=>(bn=d._emscripten_bind_DbBackup_GetArchiveSize_0=Se.mb)(l),Xt=d._emscripten_bind_DbBackup___destroy___0=l=>(Xt=d._emscripten_bind_DbBackup___destroy___0=Se.nb)(l),tn=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=l=>(tn=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=Se.ob)(l),Yt=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=l=>(Yt=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=Se.pb)(l),Fn=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=l=>(Fn=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=Se.qb)(l),Qn=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=l=>(Qn=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=Se.rb)(l),yi=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=l=>(yi=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=Se.sb)(l),jo=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(l,h)=>(jo=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=Se.tb)(l,h),wt=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=l=>(wt=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=Se.ub)(l),pn=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=l=>(pn=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=Se.vb)(l),Eo=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=(l,h)=>(Eo=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=Se.wb)(l,h),kn=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=l=>(kn=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=Se.xb)(l),kt=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=l=>(kt=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=Se.yb)(l),Qt=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=l=>(Qt=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=Se.zb)(l),Xr=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=l=>(Xr=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=Se.Ab)(l),ps=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(l,h,b)=>(ps=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=Se.Bb)(l,h,b),ql=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=l=>(ql=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=Se.Cb)(l),fi=d._emscripten_bind_SuspendContext_GetKind_0=l=>(fi=d._emscripten_bind_SuspendContext_GetKind_0=Se.Db)(l),fl=d._emscripten_bind_SuspendContext_Cancel_0=l=>(fl=d._emscripten_bind_SuspendContext_Cancel_0=Se.Eb)(l),go=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=l=>(go=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=Se.Fb)(l),pa=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=l=>(pa=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=Se.Gb)(l),pl=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=l=>(pl=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=Se.Hb)(l),An=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=l=>(An=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=Se.Ib)(l),Yl=d._emscripten_bind_SuspendContext___destroy___0=l=>(Yl=d._emscripten_bind_SuspendContext___destroy___0=Se.Jb)(l),Rd=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(l,h)=>(Rd=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=Se.Kb)(l,h),hl=d._emscripten_bind_ZipfileWalker_GetState_0=l=>(hl=d._emscripten_bind_ZipfileWalker_GetState_0=Se.Lb)(l),_o=d._emscripten_bind_ZipfileWalker_Next_0=l=>(_o=d._emscripten_bind_ZipfileWalker_Next_0=Se.Mb)(l),Xl=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=l=>(Xl=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=Se.Nb)(l),ml=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=l=>(ml=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=Se.Ob)(l),Ps=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=l=>(Ps=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=Se.Pb)(l),Kl=d._emscripten_bind_ZipfileWalker___destroy___0=l=>(Kl=d._emscripten_bind_ZipfileWalker___destroy___0=Se.Qb)(l),Od=d._emscripten_bind_SessionImage_SessionImage_0=()=>(Od=d._emscripten_bind_SessionImage_SessionImage_0=Se.Rb)(),ha=d._emscripten_bind_SessionImage_GetDeviceId_0=l=>(ha=d._emscripten_bind_SessionImage_GetDeviceId_0=Se.Sb)(l),Xs=d._emscripten_bind_SessionImage_SetDeviceId_1=(l,h)=>(Xs=d._emscripten_bind_SessionImage_SetDeviceId_1=Se.Tb)(l,h),kc=d._emscripten_bind_SessionImage_GetRomImage_0=l=>(kc=d._emscripten_bind_SessionImage_GetRomImage_0=Se.Ub)(l),Mc=d._emscripten_bind_SessionImage_GetRomImageSize_0=l=>(Mc=d._emscripten_bind_SessionImage_GetRomImageSize_0=Se.Vb)(l),qn=d._emscripten_bind_SessionImage_SetRomImage_2=(l,h,b)=>(qn=d._emscripten_bind_SessionImage_SetRomImage_2=Se.Wb)(l,h,b),hg=d._emscripten_bind_SessionImage_GetMemoryImage_0=l=>(hg=d._emscripten_bind_SessionImage_GetMemoryImage_0=Se.Xb)(l),pu=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=l=>(pu=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=Se.Yb)(l),Fd=d._emscripten_bind_SessionImage_SetMemoryImage_2=(l,h,b)=>(Fd=d._emscripten_bind_SessionImage_SetMemoryImage_2=Se.Zb)(l,h,b),Rs=d._emscripten_bind_SessionImage_GetMetadata_0=l=>(Rs=d._emscripten_bind_SessionImage_GetMetadata_0=Se._b)(l),Tc=d._emscripten_bind_SessionImage_GetMetadataSize_0=l=>(Tc=d._emscripten_bind_SessionImage_GetMetadataSize_0=Se.$b)(l),gl=d._emscripten_bind_SessionImage_SetMetadata_2=(l,h,b)=>(gl=d._emscripten_bind_SessionImage_SetMetadata_2=Se.ac)(l,h,b),Ql=d._emscripten_bind_SessionImage_GetSavestate_0=l=>(Ql=d._emscripten_bind_SessionImage_GetSavestate_0=Se.bc)(l),Yo=d._emscripten_bind_SessionImage_GetSavestateSize_0=l=>(Yo=d._emscripten_bind_SessionImage_GetSavestateSize_0=Se.cc)(l),mg=d._emscripten_bind_SessionImage_SetSavestate_2=(l,h,b)=>(mg=d._emscripten_bind_SessionImage_SetSavestate_2=Se.dc)(l,h,b),Mi=d._emscripten_bind_SessionImage_GetVersion_0=l=>(Mi=d._emscripten_bind_SessionImage_GetVersion_0=Se.ec)(l),Ti=d._emscripten_bind_SessionImage_Serialize_0=l=>(Ti=d._emscripten_bind_SessionImage_Serialize_0=Se.fc)(l),hu=d._emscripten_bind_SessionImage_GetSerializedImage_0=l=>(hu=d._emscripten_bind_SessionImage_GetSerializedImage_0=Se.gc)(l),Ra=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=l=>(Ra=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=Se.hc)(l),Ac=d._emscripten_bind_SessionImage_Deserialize_2=(l,h,b)=>(Ac=d._emscripten_bind_SessionImage_Deserialize_2=Se.ic)(l,h,b),hs=d._emscripten_bind_SessionImage___destroy___0=l=>(hs=d._emscripten_bind_SessionImage___destroy___0=Se.jc)(l),mu=d._emscripten_bind_SkinLoader_SkinLoader_1=l=>(mu=d._emscripten_bind_SkinLoader_SkinLoader_1=Se.kc)(l),Ip=d._emscripten_bind_SkinLoader_GetData_0=l=>(Ip=d._emscripten_bind_SkinLoader_GetData_0=Se.lc)(l),xp=d._emscripten_bind_SkinLoader_GetSize_0=l=>(xp=d._emscripten_bind_SkinLoader_GetSize_0=Se.mc)(l),gg=d._emscripten_bind_SkinLoader___destroy___0=l=>(gg=d._emscripten_bind_SkinLoader___destroy___0=Se.nc)(l),kp=d._emscripten_bind_GunzipContext_GunzipContext_3=(l,h,b)=>(kp=d._emscripten_bind_GunzipContext_GunzipContext_3=Se.oc)(l,h,b),Mp=d._emscripten_bind_GunzipContext_GetState_0=l=>(Mp=d._emscripten_bind_GunzipContext_GetState_0=Se.pc)(l),_g=d._emscripten_bind_GunzipContext_Continue_0=l=>(_g=d._emscripten_bind_GunzipContext_Continue_0=Se.qc)(l),vg=d._emscripten_bind_GunzipContext_GetUncompressedData_0=l=>(vg=d._emscripten_bind_GunzipContext_GetUncompressedData_0=Se.rc)(l),yg=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=l=>(yg=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=Se.sc)(l),bg=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=l=>(bg=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=Se.tc)(l),Cg=d._emscripten_bind_GunzipContext_GetError_0=l=>(Cg=d._emscripten_bind_GunzipContext_GetError_0=Se.uc)(l),wg=d._emscripten_bind_GunzipContext___destroy___0=l=>(wg=d._emscripten_bind_GunzipContext___destroy___0=Se.vc)(l),Sg=l=>(Sg=Se.xc)(l);function Dg(){function l(){Pc||(Pc=!0,d.calledRun=!0,!fe&&(function ot(){!d.noFSInit&&!k.init.initialized&&k.init(),k.ignorePermissions=!1,At.init(),to(Ge)}(),function St(){to(we)}(),re(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),Ig&&function h0(){var l=il;try{var T=l(0,0);return gt(T),T}catch(Y){return(l=>{if(l instanceof Ar||"unwind"==l)return Je;U(1,l)})(Y)}}(),function pt(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)l=d.postRun.shift(),He.unshift(l);var l;to(He)}()))}tt>0||(function Fe(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)l=d.preRun.shift(),Wt.unshift(l);var l;to(Wt)}(),tt>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),l()},1)):l())}if(d.___original_main=()=>(d.___original_main=Se.yc)(),d.___start_em_js=1472759,d.___stop_em_js=1472956,d.addFunction=(l,h)=>{var b=(l=>(xs||(xs=new WeakMap,((l,h)=>{if(xs)for(var b=0;b<0+h;b++){var T=xa(b);T&&xs.set(T,b)}})(0,Wo.length)),xs.get(l)||0))(l);if(b)return b;var T=(()=>{if(nl.length)return nl.pop();try{Wo.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return Wo.length-1})();try{rl(T,l)}catch(Ce){if(!(Ce instanceof TypeError))throw Ce;var Y=((l,h)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((l=>{for(var h={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},b={parameters:[],results:"v"==l[0]?[]:[h[l[0]]]},T=1;T<l.length;++T)b.parameters.push(h[l[T]]);return b})(h),l);var b=[1];((l,h)=>{var b=l.slice(0,1),T=l.slice(1),Y={i:127,p:127,j:126,f:125,d:124};h.push(96),ui(T.length,h);for(var Ce=0;Ce<T.length;++Ce)h.push(Y[T[Ce]]);"v"==b?h.push(0):h.push(1,Y[b])})(h,b);var T=[0,97,115,109,1,0,0,0,1];ui(b.length,T),T.push.apply(T,b),T.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Y=new WebAssembly.Module(new Uint8Array(T));return new WebAssembly.Instance(Y,{e:{f:l}}).exports.f})(l,h);rl(T,Y)}return xs.set(l,T),T},d.UTF8ToString=me,W=function l(){Pc||Dg(),Pc||(W=l)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Ig=!0;function Ir(){}function Ks(l){return(l||Ir).__cache__}function or(l,h){var b=Ks(h),T=b[l];return T||((T=Object.create((h||Ir).prototype)).ptr=l,b[l]=T)}d.noInitialRun&&(Ig=!1),Dg(),(Ir.prototype=Object.create(Ir.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},d.WrapperObject=Ir,d.getCache=Ks,d.wrapPointer=or,d.castObject=function Nd(l,h){return or(l.ptr,h)},d.NULL=or(0),d.destroy=function Tp(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete Ks(l.__class__)[l.ptr]},d.compare=function xg(l,h){return l.ptr===h.ptr},d.getPointer=function kg(l){return l.ptr},d.getClass=function Mg(l){return l.__class__};var jn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(jn.needed){for(var l=0;l<jn.temps.length;l++)d._webidl_free(jn.temps[l]);jn.temps.length=0,d._webidl_free(jn.buffer),jn.buffer=0,jn.size+=jn.needed,jn.needed=0}jn.buffer||(jn.size+=128,jn.buffer=d._webidl_malloc(jn.size),Qe(jn.buffer)),jn.pos=0},alloc(l,h){Qe(jn.buffer);var Y,T=l.length*h.BYTES_PER_ELEMENT;return jn.pos+(T=T+7&-8)>=jn.size?(Qe(T>0),jn.needed+=T,Y=d._webidl_malloc(T),jn.temps.push(Y)):(Y=jn.buffer+jn.pos,jn.pos+=T),Y},copy(l,h,b){switch(b>>>=0,h.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var Y=0;Y<l.length;Y++)h[b+Y]=l[Y]}};function Xo(l){if("string"==typeof l){var h=uo(l),b=jn.alloc(h,ae);return jn.copy(h,ae,b),b}return l}function Yn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Xe(){this.ptr=sl(),Ks(Xe)[this.ptr]=this}function Wn(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=rr(l,h),Ks(Wn)[this.ptr]=this}function Jn(){throw"cannot construct a Frame, no constructor in IDL"}function Kr(){throw"cannot construct a DbBackup, no constructor in IDL"}function Ko(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function bi(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function pi(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function Qo(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Do(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Io(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=Rd(l,h),Ks(Io)[this.ptr]=this}function gn(){this.ptr=Od(),Ks(gn)[this.ptr]=this}function $i(l){jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),this.ptr=mu(l),Ks($i)[this.ptr]=this}function Qr(l,h,b){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),b&&"object"==typeof b&&(b=b.ptr),this.ptr=kp(l,h,b),Ks(Qr)[this.ptr]=this}return(Yn.prototype=Object.create(Ir.prototype)).constructor=Yn,Yn.prototype.__class__=Yn,Yn.__cache__={},d.VoidPtr=Yn,Yn.prototype.__destroy__=Yn.prototype.__destroy__=function(){mt(this.ptr)},(Xe.prototype=Object.create(Ir.prototype)).constructor=Xe,Xe.prototype.__class__=Xe,Xe.__cache__={},d.Cloudpilot=Xe,Xe.prototype.Malloc=Xe.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),or(Er(this.ptr,l),Yn)},Xe.prototype.Free=Xe.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),ks(this.ptr,l)},Xe.prototype.Nullptr=Xe.prototype.Nullptr=function(){return or(ka(this.ptr),Yn)},Xe.prototype.InitializeSession=Xe.prototype.InitializeSession=function(l,h,b){var T=this.ptr;return jn.prepare(),l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),b=b&&"object"==typeof b?b.ptr:Xo(b),!!aa(T,l,h,b)},Xe.prototype.GetCyclesPerSecond=Xe.prototype.GetCyclesPerSecond=function(){return Ma(this.ptr)},Xe.prototype.RunEmulation=Xe.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),Ms(this.ptr,l)},Xe.prototype.SetClockFactor=Xe.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),Ts(this.ptr,l)},Xe.prototype.CopyFrame=Xe.prototype.CopyFrame=function(){return or(Ws(this.ptr),Jn)},Xe.prototype.IsScreenDirty=Xe.prototype.IsScreenDirty=function(){return!!la(this.ptr)},Xe.prototype.MarkScreenClean=Xe.prototype.MarkScreenClean=function(){Ta(this.ptr)},Xe.prototype.MinMemoryForDevice=Xe.prototype.MinMemoryForDevice=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),Tn(h,l)},Xe.prototype.FramebufferSizeForDevice=Xe.prototype.FramebufferSizeForDevice=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),Zs(h,l)},Xe.prototype.TotalMemoryForDevice=Xe.prototype.TotalMemoryForDevice=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),ca(h,l)},Xe.prototype.QueuePenMove=Xe.prototype.QueuePenMove=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),wo(this.ptr,l,h)},Xe.prototype.QueuePenUp=Xe.prototype.QueuePenUp=function(){ua(this.ptr)},Xe.prototype.QueueButtonDown=Xe.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),al(this.ptr,l)},Xe.prototype.QueueButtonUp=Xe.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),nr(this.ptr,l)},Xe.prototype.QueueKeyboardEvent=Xe.prototype.QueueKeyboardEvent=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),zl(this.ptr,l,h)},Xe.prototype.IsPowerOff=Xe.prototype.IsPowerOff=function(){return!!Wl(this.ptr)},Xe.prototype.IsUIInitialized=Xe.prototype.IsUIInitialized=function(){return!!da(this.ptr)},Xe.prototype.GetOSVersion=Xe.prototype.GetOSVersion=function(){return Aa(this.ptr)},Xe.prototype.IsSetupComplete=Xe.prototype.IsSetupComplete=function(){return!!ll(this.ptr)},Xe.prototype.Reset=Xe.prototype.Reset=function(){fs(this.ptr)},Xe.prototype.ResetNoExtensions=Xe.prototype.ResetNoExtensions=function(){cl(this.ptr)},Xe.prototype.ResetHard=Xe.prototype.ResetHard=function(){qs(this.ptr)},Xe.prototype.InstallDb=Xe.prototype.InstallDb=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ul(this.ptr,l,h)},Xe.prototype.GetPalette2bitMapping=Xe.prototype.GetPalette2bitMapping=function(){return So(this.ptr)},Xe.prototype.GetMemoryPtr=Xe.prototype.GetMemoryPtr=function(){return or(Yi(this.ptr),Yn)},Xe.prototype.GetDirtyPagesPtr=Xe.prototype.GetDirtyPagesPtr=function(){return or(qo(this.ptr),Yn)},Xe.prototype.GetMemorySize=Xe.prototype.GetMemorySize=function(){return Zl(this.ptr)},Xe.prototype.ImportMemoryImage=Xe.prototype.ImportMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!As(this.ptr,l,h)},Xe.prototype.GetRomPtr=Xe.prototype.GetRomPtr=function(){return or(fa(this.ptr),Yn)},Xe.prototype.GetRomSize=Xe.prototype.GetRomSize=function(){return Ys(this.ptr)},Xe.prototype.GetSavestatePtr=Xe.prototype.GetSavestatePtr=function(){return or(dl(this.ptr),Yn)},Xe.prototype.GetSavestateSize=Xe.prototype.GetSavestateSize=function(){return lr(this.ptr)},Xe.prototype.SaveState=Xe.prototype.SaveState=function(){return!!Pa(this.ptr)},Xe.prototype.LoadState=Xe.prototype.LoadState=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!oo(this.ptr,l,h)},Xe.prototype.GetHotsyncName=Xe.prototype.GetHotsyncName=function(){return me(Lr(this.ptr))},Xe.prototype.SetHotsyncName=Xe.prototype.SetHotsyncName=function(l){var h=this.ptr;jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),ho(h,l)},Xe.prototype.RegisterPwmHandler=Xe.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),cr(this.ptr,l)},Xe.prototype.StartBackup=Xe.prototype.StartBackup=function(){return or(Pr(this.ptr),Kr)},Xe.prototype.SetClipboardIntegration=Xe.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),ce(this.ptr,l)},Xe.prototype.GetClipboardIntegration=Xe.prototype.GetClipboardIntegration=function(){return!!p(this.ptr)},Xe.prototype.IsSuspended=Xe.prototype.IsSuspended=function(){return!!g(this.ptr)},Xe.prototype.GetSuspendContext=Xe.prototype.GetSuspendContext=function(){return or(C(this.ptr),Do)},Xe.prototype.SetNetworkRedirection=Xe.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),O(this.ptr,l)},Xe.prototype.GetNetworkRedirection=Xe.prototype.GetNetworkRedirection=function(){return!!Z(this.ptr)},Xe.prototype.RegisterProxyDisconnectHandler=Xe.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),ye(this.ptr,l)},Xe.prototype.SetHotsyncNameManagement=Xe.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),ke(this.ptr,l)},Xe.prototype.LaunchAppByName=Xe.prototype.LaunchAppByName=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),!!Ue(h,l)},Xe.prototype.LaunchAppByDbHeader=Xe.prototype.LaunchAppByDbHeader=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!xt(this.ptr,l,h)},Xe.prototype.DeviceSupportsCardSize=Xe.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Cn(this.ptr,l)},Xe.prototype.ClearExternalStorage=Xe.prototype.ClearExternalStorage=function(){xn(this.ptr)},Xe.prototype.AllocateCard=Xe.prototype.AllocateCard=function(l,h){var b=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),h&&"object"==typeof h&&(h=h.ptr),!!Ln(b,l,h)},Xe.prototype.AdoptCard=Xe.prototype.AdoptCard=function(l,h,b){var T=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),h&&"object"==typeof h&&(h=h.ptr),b&&"object"==typeof b&&(b=b.ptr),!!Pt(T,l,h,b)},Xe.prototype.MountCard=Xe.prototype.MountCard=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),!!dn(h,l)},Xe.prototype.RemoveCard=Xe.prototype.RemoveCard=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),!!Nn(h,l)},Xe.prototype.GetCardData=Xe.prototype.GetCardData=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),or($r(h,l),Yn)},Xe.prototype.GetCardDirtyPages=Xe.prototype.GetCardDirtyPages=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),or(di(h,l),Yn)},Xe.prototype.GetCardSize=Xe.prototype.GetCardSize=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),Br(h,l)},Xe.prototype.RemountCards=Xe.prototype.RemountCards=function(){_t(this.ptr)},Xe.prototype.GetSupportLevel=Xe.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),an(this.ptr,l)},Xe.prototype.GetMountedKey=Xe.prototype.GetMountedKey=function(){return me(qr(this.ptr))},Xe.prototype.__destroy__=Xe.prototype.__destroy__=function(){ur(this.ptr)},(Wn.prototype=Object.create(Ir.prototype)).constructor=Wn,Wn.prototype.__class__=Wn,Wn.__cache__={},d.RomInfo=Wn,Wn.prototype.IsValid=Wn.prototype.IsValid=function(){return!!dr(this.ptr)},Wn.prototype.CardVersion=Wn.prototype.CardVersion=function(){return io(this.ptr)},Wn.prototype.CardName=Wn.prototype.CardName=function(){return me(Dc(this.ptr))},Wn.prototype.RomVersion=Wn.prototype.RomVersion=function(){return Ic(this.ptr)},Wn.prototype.RomVersionString=Wn.prototype.RomVersionString=function(){return me(du(this.ptr))},Wn.prototype.Supports=Wn.prototype.Supports=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),!!xc(h,l)},Wn.prototype.__destroy__=Wn.prototype.__destroy__=function(){fu(this.ptr)},(Jn.prototype=Object.create(Ir.prototype)).constructor=Jn,Jn.prototype.__class__=Jn,Jn.__cache__={},d.Frame=Jn,Jn.prototype.GetLineWidth=Jn.prototype.GetLineWidth=function(){return $n(this.ptr)},Jn.prototype.GetBpp=Jn.prototype.GetBpp=function(){return Dr(this.ptr)},Jn.prototype.GetLines=Jn.prototype.GetLines=function(){return Bo(this.ptr)},Jn.prototype.GetMargin=Jn.prototype.GetMargin=function(){return Yr(this.ptr)},Jn.prototype.GetBytesPerLine=Jn.prototype.GetBytesPerLine=function(){return sn(this.ptr)},Jn.prototype.GetFirstDirtyLine=Jn.prototype.GetFirstDirtyLine=function(){return fo(this.ptr)},Jn.prototype.GetLastDirtyLine=Jn.prototype.GetLastDirtyLine=function(){return xr(this.ptr)},Jn.prototype.GetHasChanges=Jn.prototype.GetHasChanges=function(){return!!mo(this.ptr)},Jn.prototype.GetBuffer=Jn.prototype.GetBuffer=function(){return or(Rr(this.ptr),Yn)},Jn.prototype.GetBufferSize=Jn.prototype.GetBufferSize=function(){return br(this.ptr)},Jn.prototype.GetScaleX=Jn.prototype.GetScaleX=function(){return u(this.ptr)},Jn.prototype.GetScaleY=Jn.prototype.GetScaleY=function(){return _(this.ptr)},Jn.prototype.__destroy__=Jn.prototype.__destroy__=function(){v(this.ptr)},(Kr.prototype=Object.create(Ir.prototype)).constructor=Kr,Kr.prototype.__class__=Kr,Kr.__cache__={},d.DbBackup=Kr,Kr.prototype.Init=Kr.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!P(this.ptr,l)},Kr.prototype.IsInProgress=Kr.prototype.IsInProgress=function(){return!!X(this.ptr)},Kr.prototype.IsDone=Kr.prototype.IsDone=function(){return!!Ee(this.ptr)},Kr.prototype.GetCurrentDatabase=Kr.prototype.GetCurrentDatabase=function(){return me(_e(this.ptr))},Kr.prototype.Save=Kr.prototype.Save=function(){return!!Ve(this.ptr)},Kr.prototype.Skip=Kr.prototype.Skip=function(){Tt(this.ptr)},Kr.prototype.GetArchivePtr=Kr.prototype.GetArchivePtr=function(){return or(vt(this.ptr),Yn)},Kr.prototype.GetArchiveSize=Kr.prototype.GetArchiveSize=function(){return bn(this.ptr)},Kr.prototype.__destroy__=Kr.prototype.__destroy__=function(){Xt(this.ptr)},(Ko.prototype=Object.create(Ir.prototype)).constructor=Ko,Ko.prototype.__class__=Ko,Ko.__cache__={},d.SuspendContextClipboardCopy=Ko,Ko.prototype.Cancel=Ko.prototype.Cancel=function(){tn(this.ptr)},Ko.prototype.Resume=Ko.prototype.Resume=function(){Yt(this.ptr)},Ko.prototype.GetClipboardContent=Ko.prototype.GetClipboardContent=function(){return me(Fn(this.ptr))},Ko.prototype.__destroy__=Ko.prototype.__destroy__=function(){Qn(this.ptr)},(bi.prototype=Object.create(Ir.prototype)).constructor=bi,bi.prototype.__class__=bi,bi.__cache__={},d.SuspendContextClipboardPaste=bi,bi.prototype.Cancel=bi.prototype.Cancel=function(){yi(this.ptr)},bi.prototype.Resume=bi.prototype.Resume=function(l){var h=this.ptr;jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),jo(h,l)},bi.prototype.__destroy__=bi.prototype.__destroy__=function(){wt(this.ptr)},(pi.prototype=Object.create(Ir.prototype)).constructor=pi,pi.prototype.__class__=pi,pi.__cache__={},d.SuspendContextNetworkConnect=pi,pi.prototype.Cancel=pi.prototype.Cancel=function(){pn(this.ptr)},pi.prototype.Resume=pi.prototype.Resume=function(l){var h=this.ptr;jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),Eo(h,l)},pi.prototype.__destroy__=pi.prototype.__destroy__=function(){kn(this.ptr)},(Qo.prototype=Object.create(Ir.prototype)).constructor=Qo,Qo.prototype.__class__=Qo,Qo.__cache__={},d.SuspendContextNetworkRpc=Qo,Qo.prototype.Cancel=Qo.prototype.Cancel=function(){kt(this.ptr)},Qo.prototype.GetRequestSize=Qo.prototype.GetRequestSize=function(){return Qt(this.ptr)},Qo.prototype.GetRequestData=Qo.prototype.GetRequestData=function(){return or(Xr(this.ptr),Yn)},Qo.prototype.ReceiveResponse=Qo.prototype.ReceiveResponse=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ps(this.ptr,l,h)},Qo.prototype.__destroy__=Qo.prototype.__destroy__=function(){ql(this.ptr)},(Do.prototype=Object.create(Ir.prototype)).constructor=Do,Do.prototype.__class__=Do,Do.__cache__={},d.SuspendContext=Do,Do.prototype.GetKind=Do.prototype.GetKind=function(){return fi(this.ptr)},Do.prototype.Cancel=Do.prototype.Cancel=function(){fl(this.ptr)},Do.prototype.AsContextClipboardCopy=Do.prototype.AsContextClipboardCopy=function(){return or(go(this.ptr),Ko)},Do.prototype.AsContextClipboardPaste=Do.prototype.AsContextClipboardPaste=function(){return or(pa(this.ptr),bi)},Do.prototype.AsContextNetworkConnect=Do.prototype.AsContextNetworkConnect=function(){return or(pl(this.ptr),pi)},Do.prototype.AsContextNetworkRpc=Do.prototype.AsContextNetworkRpc=function(){return or(An(this.ptr),Qo)},Do.prototype.__destroy__=Do.prototype.__destroy__=function(){Yl(this.ptr)},(Io.prototype=Object.create(Ir.prototype)).constructor=Io,Io.prototype.__class__=Io,Io.__cache__={},d.ZipfileWalker=Io,Io.prototype.GetState=Io.prototype.GetState=function(){return hl(this.ptr)},Io.prototype.Next=Io.prototype.Next=function(){return _o(this.ptr)},Io.prototype.GetCurrentEntrySize=Io.prototype.GetCurrentEntrySize=function(){return Xl(this.ptr)},Io.prototype.GetCurrentEntryName=Io.prototype.GetCurrentEntryName=function(){return me(ml(this.ptr))},Io.prototype.GetCurrentEntryContent=Io.prototype.GetCurrentEntryContent=function(){return or(Ps(this.ptr),Yn)},Io.prototype.__destroy__=Io.prototype.__destroy__=function(){Kl(this.ptr)},(gn.prototype=Object.create(Ir.prototype)).constructor=gn,gn.prototype.__class__=gn,gn.__cache__={},d.SessionImage=gn,gn.prototype.GetDeviceId=gn.prototype.GetDeviceId=function(){return me(ha(this.ptr))},gn.prototype.SetDeviceId=gn.prototype.SetDeviceId=function(l){var h=this.ptr;return jn.prepare(),l=l&&"object"==typeof l?l.ptr:Xo(l),or(Xs(h,l),gn)},gn.prototype.GetRomImage=gn.prototype.GetRomImage=function(){return or(kc(this.ptr),Yn)},gn.prototype.GetRomImageSize=gn.prototype.GetRomImageSize=function(){return Mc(this.ptr)},gn.prototype.SetRomImage=gn.prototype.SetRomImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),or(qn(this.ptr,l,h),gn)},gn.prototype.GetMemoryImage=gn.prototype.GetMemoryImage=function(){return or(hg(this.ptr),Yn)},gn.prototype.GetMemoryImageSize=gn.prototype.GetMemoryImageSize=function(){return pu(this.ptr)},gn.prototype.SetMemoryImage=gn.prototype.SetMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),or(Fd(this.ptr,l,h),gn)},gn.prototype.GetMetadata=gn.prototype.GetMetadata=function(){return or(Rs(this.ptr),Yn)},gn.prototype.GetMetadataSize=gn.prototype.GetMetadataSize=function(){return Tc(this.ptr)},gn.prototype.SetMetadata=gn.prototype.SetMetadata=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),or(gl(this.ptr,l,h),gn)},gn.prototype.GetSavestate=gn.prototype.GetSavestate=function(){return or(Ql(this.ptr),Yn)},gn.prototype.GetSavestateSize=gn.prototype.GetSavestateSize=function(){return Yo(this.ptr)},gn.prototype.SetSavestate=gn.prototype.SetSavestate=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),or(mg(this.ptr,l,h),gn)},gn.prototype.GetVersion=gn.prototype.GetVersion=function(){return Mi(this.ptr)},gn.prototype.Serialize=gn.prototype.Serialize=function(){return!!Ti(this.ptr)},gn.prototype.GetSerializedImage=gn.prototype.GetSerializedImage=function(){return or(hu(this.ptr),Yn)},gn.prototype.GetSerializedImageSize=gn.prototype.GetSerializedImageSize=function(){return Ra(this.ptr)},gn.prototype.Deserialize=gn.prototype.Deserialize=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Ac(this.ptr,l,h)},gn.prototype.__destroy__=gn.prototype.__destroy__=function(){hs(this.ptr)},($i.prototype=Object.create(Ir.prototype)).constructor=$i,$i.prototype.__class__=$i,$i.__cache__={},d.SkinLoader=$i,$i.prototype.GetData=$i.prototype.GetData=function(){return or(Ip(this.ptr),Yn)},$i.prototype.GetSize=$i.prototype.GetSize=function(){return xp(this.ptr)},$i.prototype.__destroy__=$i.prototype.__destroy__=function(){gg(this.ptr)},(Qr.prototype=Object.create(Ir.prototype)).constructor=Qr,Qr.prototype.__class__=Qr,Qr.__cache__={},d.GunzipContext=Qr,Qr.prototype.GetState=Qr.prototype.GetState=function(){return Mp(this.ptr)},Qr.prototype.Continue=Qr.prototype.Continue=function(){return _g(this.ptr)},Qr.prototype.GetUncompressedData=Qr.prototype.GetUncompressedData=function(){return or(vg(this.ptr),Yn)},Qr.prototype.ReleaseUncompressedData=Qr.prototype.ReleaseUncompressedData=function(){return or(yg(this.ptr),Yn)},Qr.prototype.GetUncompressedSize=Qr.prototype.GetUncompressedSize=function(){return bg(this.ptr)},Qr.prototype.GetError=Qr.prototype.GetError=function(){return me(Cg(this.ptr))},Qr.prototype.__destroy__=Qr.prototype.__destroy__=function(){wg(this.ptr)},I.ready});Me.exports=$e},6368:Me=>{var A,$e=(A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I={}){var re,oe,d=I;d.ready=new Promise((p,g)=>{re=p,oe=g});var G,Oe,Re,H=Object.assign({},d),F="./this.program",U=(p,g)=>{throw g},le="object"==typeof window,ee="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(le||ee)&&(ee?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),A&&($=A),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=p=>{var g=new XMLHttpRequest;return g.open("GET",p,!1),g.send(null),g.responseText},ee&&(Re=p=>{var g=new XMLHttpRequest;return g.open("GET",p,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Oe=(p,g,C)=>{var O=new XMLHttpRequest;O.open("GET",p,!0),O.responseType="arraybuffer",O.onload=()=>{200==O.status||0==O.status&&O.response?g(O.response):C()},O.onerror=C,O.send(null)});var q,ue=d.print||console.log.bind(console),V=d.printErr||console.error.bind(console);Object.assign(d,H),H=null,d.thisProgram&&(F=d.thisProgram),d.quit&&(U=d.quit),d.wasmBinary&&(q=d.wasmBinary);var de=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&_n("no native wasm support detected");var ve,Je,ae,pe,N,j,ft,fe=!1;function Qe(p,g){p||_n(g)}function It(){var p=ve.buffer;d.HEAP8=ae=new Int8Array(p),d.HEAP16=new Int16Array(p),d.HEAPU8=pe=new Uint8Array(p),d.HEAPU16=new Uint16Array(p),d.HEAP32=N=new Int32Array(p),d.HEAPU32=j=new Uint32Array(p),d.HEAPF32=new Float32Array(p),d.HEAPF64=ft=new Float64Array(p)}var Wt=[],Ge=[],we=[],He=[],tt=0,ht=null,W=null;function Jt(p){tt++,d.monitorRunDependencies&&d.monitorRunDependencies(tt)}function In(p){if(tt--,d.monitorRunDependencies&&d.monitorRunDependencies(tt),0==tt&&(null!==ht&&(clearInterval(ht),ht=null),W)){var g=W;W=null,g()}}function _n(p){d.onAbort&&d.onAbort(p),V(p="Aborted("+p+")"),fe=!0,Je=1,p+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(p);throw oe(g),g}var ar;function wr(p){return p.startsWith("data:application/octet-stream;base64,")}function _r(p){if(p==ar&&q)return new Uint8Array(q);if(Re)return Re(p);throw"both async and sync fetching of the wasm failed"}function No(p,g,C){return function ii(p){return q||!le&&!ee||"function"!=typeof fetch?Promise.resolve().then(()=>_r(p)):fetch(p,{credentials:"same-origin"}).then(g=>{if(!g.ok)throw"failed to load wasm binary file at '"+p+"'";return g.arrayBuffer()}).catch(()=>_r(p))}(p).then(O=>WebAssembly.instantiate(O,g)).then(O=>O).then(C,O=>{V(`failed to asynchronously prepare wasm: ${O}`),_n(O)})}wr(ar="fstools_web.wasm")||(ar=function L(p){return d.locateFile?d.locateFile(p,$):$+p}(ar));var Ze,Zt,Zr={1092656:()=>{throw new Error("terminated")}};function Hr(p){this.name="ExitStatus",this.message=`Program terminated with exit(${p})`,this.status=p}var Ar=p=>{for(;p.length>0;)p.shift()(d)},to=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Xn=(p,g,C)=>{for(var O=g+C,Z=g;p[Z]&&!(Z>=O);)++Z;if(Z-g>16&&p.buffer&&to)return to.decode(p.subarray(g,Z));for(var ye="";g<Z;){var ke=p[g++];if(128&ke){var Ue=63&p[g++];if(192!=(224&ke)){var xt=63&p[g++];if((ke=224==(240&ke)?(15&ke)<<12|Ue<<6|xt:(7&ke)<<18|Ue<<12|xt<<6|63&p[g++])<65536)ye+=String.fromCharCode(ke);else{var Cn=ke-65536;ye+=String.fromCharCode(55296|Cn>>10,56320|1023&Cn)}}else ye+=String.fromCharCode((31&ke)<<6|Ue)}else ye+=String.fromCharCode(ke)}return ye},De=(p,g)=>p?Xn(pe,p,g):"",Gt={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,g)=>{for(var C=0,O=p.length-1;O>=0;O--){var Z=p[O];"."===Z?p.splice(O,1):".."===Z?(p.splice(O,1),C++):C&&(p.splice(O,1),C--)}if(g)for(;C;C--)p.unshift("..");return p},normalize:p=>{var g=Gt.isAbs(p),C="/"===p.substr(-1);return!(p=Gt.normalizeArray(p.split("/").filter(O=>!!O),!g).join("/"))&&!g&&(p="."),p&&C&&(p+="/"),(g?"/":"")+p},dirname:p=>{var g=Gt.splitPath(p),C=g[0],O=g[1];return C||O?(O&&(O=O.substr(0,O.length-1)),C+O):"."},basename:p=>{if("/"===p)return"/";var g=(p=(p=Gt.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?p:p.substr(g+1)},join:function(){var p=Array.prototype.slice.call(arguments);return Gt.normalize(p.join("/"))},join2:(p,g)=>Gt.normalize(p+"/"+g)},Hn=p=>(Hn=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return p=>crypto.getRandomValues(p);_n("initRandomDevice")})())(p),ln={resolve:function(){for(var p="",g=!1,C=arguments.length-1;C>=-1&&!g;C--){var O=C>=0?arguments[C]:x.cwd();if("string"!=typeof O)throw new TypeError("Arguments to path.resolve must be strings");if(!O)return"";p=O+"/"+p,g=Gt.isAbs(O)}return(g?"/":"")+(p=Gt.normalizeArray(p.split("/").filter(Z=>!!Z),!g).join("/"))||"."},relative:(p,g)=>{function C(Cn){for(var xn=0;xn<Cn.length&&""===Cn[xn];xn++);for(var Ln=Cn.length-1;Ln>=0&&""===Cn[Ln];Ln--);return xn>Ln?[]:Cn.slice(xn,Ln-xn+1)}p=ln.resolve(p).substr(1),g=ln.resolve(g).substr(1);for(var O=C(p.split("/")),Z=C(g.split("/")),ye=Math.min(O.length,Z.length),ke=ye,Ue=0;Ue<ye;Ue++)if(O[Ue]!==Z[Ue]){ke=Ue;break}var xt=[];for(Ue=ke;Ue<O.length;Ue++)xt.push("..");return(xt=xt.concat(Z.slice(ke))).join("/")}},Sr=[],co=p=>{for(var g=0,C=0;C<p.length;++C){var O=p.charCodeAt(C);O<=127?g++:O<=2047?g+=2:O>=55296&&O<=57343?(g+=4,++C):g+=3}return g},vr=(p,g,C,O)=>{if(!(O>0))return 0;for(var Z=C,ye=C+O-1,ke=0;ke<p.length;++ke){var Ue=p.charCodeAt(ke);if(Ue>=55296&&Ue<=57343&&(Ue=65536+((1023&Ue)<<10)|1023&p.charCodeAt(++ke)),Ue<=127){if(C>=ye)break;g[C++]=Ue}else if(Ue<=2047){if(C+1>=ye)break;g[C++]=192|Ue>>6,g[C++]=128|63&Ue}else if(Ue<=65535){if(C+2>=ye)break;g[C++]=224|Ue>>12,g[C++]=128|Ue>>6&63,g[C++]=128|63&Ue}else{if(C+3>=ye)break;g[C++]=240|Ue>>18,g[C++]=128|Ue>>12&63,g[C++]=128|Ue>>6&63,g[C++]=128|63&Ue}}return g[C]=0,C-Z};function no(p,g,C){var O=C>0?C:co(p)+1,Z=new Array(O),ye=vr(p,Z,0,Z.length);return g&&(Z.length=ye),Z}var yr={ttys:[],init(){},shutdown(){},register(p,g){yr.ttys[p]={input:[],output:[],ops:g},x.registerDevice(p,yr.stream_ops)},stream_ops:{open(p){var g=yr.ttys[p.node.rdev];if(!g)throw new x.ErrnoError(43);p.tty=g,p.seekable=!1},close(p){p.tty.ops.fsync(p.tty)},fsync(p){p.tty.ops.fsync(p.tty)},read(p,g,C,O,Z){if(!p.tty||!p.tty.ops.get_char)throw new x.ErrnoError(60);for(var ye=0,ke=0;ke<O;ke++){var Ue;try{Ue=p.tty.ops.get_char(p.tty)}catch{throw new x.ErrnoError(29)}if(void 0===Ue&&0===ye)throw new x.ErrnoError(6);if(null==Ue)break;ye++,g[C+ke]=Ue}return ye&&(p.node.timestamp=Date.now()),ye},write(p,g,C,O,Z){if(!p.tty||!p.tty.ops.put_char)throw new x.ErrnoError(60);try{for(var ye=0;ye<O;ye++)p.tty.ops.put_char(p.tty,g[C+ye])}catch{throw new x.ErrnoError(29)}return O&&(p.node.timestamp=Date.now()),ye}},default_tty_ops:{get_char:p=>(()=>{if(!Sr.length){var p=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(p=window.prompt("Input: "))&&(p+="\n"):"function"==typeof readline&&null!==(p=readline())&&(p+="\n"),!p)return null;Sr=no(p,!0)}return Sr.shift()})(),put_char(p,g){null===g||10===g?(ue(Xn(p.output,0)),p.output=[]):0!=g&&p.output.push(g)},fsync(p){p.output&&p.output.length>0&&(ue(Xn(p.output,0)),p.output=[])},ioctl_tcgets:p=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(p,g,C)=>0,ioctl_tiocgwinsz:p=>[24,80]},default_tty1_ops:{put_char(p,g){null===g||10===g?(V(Xn(p.output,0)),p.output=[]):0!=g&&p.output.push(g)},fsync(p){p.output&&p.output.length>0&&(V(Xn(p.output,0)),p.output=[])}}},At=p=>{_n()},cn={ops_table:null,mount:p=>cn.createNode(null,"/",16895,0),createNode(p,g,C,O){if(x.isBlkdev(C)||x.isFIFO(C))throw new x.ErrnoError(63);cn.ops_table||(cn.ops_table={dir:{node:{getattr:cn.node_ops.getattr,setattr:cn.node_ops.setattr,lookup:cn.node_ops.lookup,mknod:cn.node_ops.mknod,rename:cn.node_ops.rename,unlink:cn.node_ops.unlink,rmdir:cn.node_ops.rmdir,readdir:cn.node_ops.readdir,symlink:cn.node_ops.symlink},stream:{llseek:cn.stream_ops.llseek}},file:{node:{getattr:cn.node_ops.getattr,setattr:cn.node_ops.setattr},stream:{llseek:cn.stream_ops.llseek,read:cn.stream_ops.read,write:cn.stream_ops.write,allocate:cn.stream_ops.allocate,mmap:cn.stream_ops.mmap,msync:cn.stream_ops.msync}},link:{node:{getattr:cn.node_ops.getattr,setattr:cn.node_ops.setattr,readlink:cn.node_ops.readlink},stream:{}},chrdev:{node:{getattr:cn.node_ops.getattr,setattr:cn.node_ops.setattr},stream:x.chrdev_stream_ops}});var Z=x.createNode(p,g,C,O);return x.isDir(Z.mode)?(Z.node_ops=cn.ops_table.dir.node,Z.stream_ops=cn.ops_table.dir.stream,Z.contents={}):x.isFile(Z.mode)?(Z.node_ops=cn.ops_table.file.node,Z.stream_ops=cn.ops_table.file.stream,Z.usedBytes=0,Z.contents=null):x.isLink(Z.mode)?(Z.node_ops=cn.ops_table.link.node,Z.stream_ops=cn.ops_table.link.stream):x.isChrdev(Z.mode)&&(Z.node_ops=cn.ops_table.chrdev.node,Z.stream_ops=cn.ops_table.chrdev.stream),Z.timestamp=Date.now(),p&&(p.contents[g]=Z,p.timestamp=Z.timestamp),Z},getFileDataAsTypedArray:p=>p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0),expandFileStorage(p,g){var C=p.contents?p.contents.length:0;if(!(C>=g)){g=Math.max(g,C*(C<1048576?2:1.125)>>>0),0!=C&&(g=Math.max(g,256));var Z=p.contents;p.contents=new Uint8Array(g),p.usedBytes>0&&p.contents.set(Z.subarray(0,p.usedBytes),0)}},resizeFileStorage(p,g){if(p.usedBytes!=g)if(0==g)p.contents=null,p.usedBytes=0;else{var C=p.contents;p.contents=new Uint8Array(g),C&&p.contents.set(C.subarray(0,Math.min(g,p.usedBytes))),p.usedBytes=g}},node_ops:{getattr(p){var g={};return g.dev=x.isChrdev(p.mode)?p.id:1,g.ino=p.id,g.mode=p.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=p.rdev,g.size=x.isDir(p.mode)?4096:x.isFile(p.mode)?p.usedBytes:x.isLink(p.mode)?p.link.length:0,g.atime=new Date(p.timestamp),g.mtime=new Date(p.timestamp),g.ctime=new Date(p.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr(p,g){void 0!==g.mode&&(p.mode=g.mode),void 0!==g.timestamp&&(p.timestamp=g.timestamp),void 0!==g.size&&cn.resizeFileStorage(p,g.size)},lookup(p,g){throw x.genericErrors[44]},mknod:(p,g,C,O)=>cn.createNode(p,g,C,O),rename(p,g,C){if(x.isDir(p.mode)){var O;try{O=x.lookupNode(g,C)}catch{}if(O)for(var Z in O.contents)throw new x.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=C,g.contents[C]=p,g.timestamp=p.parent.timestamp,p.parent=g},unlink(p,g){delete p.contents[g],p.timestamp=Date.now()},rmdir(p,g){var C=x.lookupNode(p,g);for(var O in C.contents)throw new x.ErrnoError(55);delete p.contents[g],p.timestamp=Date.now()},readdir(p){var g=[".",".."];for(var C in p.contents)p.contents.hasOwnProperty(C)&&g.push(C);return g},symlink(p,g,C){var O=cn.createNode(p,g,41471,0);return O.link=C,O},readlink(p){if(!x.isLink(p.mode))throw new x.ErrnoError(28);return p.link}},stream_ops:{read(p,g,C,O,Z){var ye=p.node.contents;if(Z>=p.node.usedBytes)return 0;var ke=Math.min(p.node.usedBytes-Z,O);if(ke>8&&ye.subarray)g.set(ye.subarray(Z,Z+ke),C);else for(var Ue=0;Ue<ke;Ue++)g[C+Ue]=ye[Z+Ue];return ke},write(p,g,C,O,Z,ye){if(g.buffer===ae.buffer&&(ye=!1),!O)return 0;var ke=p.node;if(ke.timestamp=Date.now(),g.subarray&&(!ke.contents||ke.contents.subarray)){if(ye)return ke.contents=g.subarray(C,C+O),ke.usedBytes=O,O;if(0===ke.usedBytes&&0===Z)return ke.contents=g.slice(C,C+O),ke.usedBytes=O,O;if(Z+O<=ke.usedBytes)return ke.contents.set(g.subarray(C,C+O),Z),O}if(cn.expandFileStorage(ke,Z+O),ke.contents.subarray&&g.subarray)ke.contents.set(g.subarray(C,C+O),Z);else for(var Ue=0;Ue<O;Ue++)ke.contents[Z+Ue]=g[C+Ue];return ke.usedBytes=Math.max(ke.usedBytes,Z+O),O},llseek(p,g,C){var O=g;if(1===C?O+=p.position:2===C&&x.isFile(p.node.mode)&&(O+=p.node.usedBytes),O<0)throw new x.ErrnoError(28);return O},allocate(p,g,C){cn.expandFileStorage(p.node,g+C),p.node.usedBytes=Math.max(p.node.usedBytes,g+C)},mmap(p,g,C,O,Z){if(!x.isFile(p.node.mode))throw new x.ErrnoError(43);var ye,ke,Ue=p.node.contents;if(2&Z||Ue.buffer!==ae.buffer){if((C>0||C+g<Ue.length)&&(Ue=Ue.subarray?Ue.subarray(C,C+g):Array.prototype.slice.call(Ue,C,C+g)),ke=!0,!(ye=At()))throw new x.ErrnoError(48);ae.set(Ue,ye)}else ke=!1,ye=Ue.byteOffset;return{ptr:ye,allocated:ke}},msync:(p,g,C,O,Z)=>(cn.stream_ops.write(p,g,0,O,C,!1),0)}},bo=d.preloadPlugins||[],M=(p,g)=>{var C=0;return p&&(C|=365),g&&(C|=146),C},x={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(p,g={}){if(!(p=ln.resolve(p)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new x.ErrnoError(32);for(var O=p.split("/").filter(Ln=>!!Ln),Z=x.root,ye="/",ke=0;ke<O.length;ke++){var Ue=ke===O.length-1;if(Ue&&g.parent)break;if(Z=x.lookupNode(Z,O[ke]),ye=Gt.join2(ye,O[ke]),x.isMountpoint(Z)&&(!Ue||Ue&&g.follow_mount)&&(Z=Z.mounted.root),!Ue||g.follow)for(var xt=0;x.isLink(Z.mode);){var Cn=x.readlink(ye);if(ye=ln.resolve(Gt.dirname(ye),Cn),Z=x.lookupPath(ye,{recurse_count:g.recurse_count+1}).node,xt++>40)throw new x.ErrnoError(32)}}return{path:ye,node:Z}},getPath(p){for(var g;;){if(x.isRoot(p)){var C=p.mount.mountpoint;return g?"/"!==C[C.length-1]?`${C}/${g}`:C+g:C}g=g?`${p.name}/${g}`:p.name,p=p.parent}},hashName(p,g){for(var C=0,O=0;O<g.length;O++)C=(C<<5)-C+g.charCodeAt(O)|0;return(p+C>>>0)%x.nameTable.length},hashAddNode(p){var g=x.hashName(p.parent.id,p.name);p.name_next=x.nameTable[g],x.nameTable[g]=p},hashRemoveNode(p){var g=x.hashName(p.parent.id,p.name);if(x.nameTable[g]===p)x.nameTable[g]=p.name_next;else for(var C=x.nameTable[g];C;){if(C.name_next===p){C.name_next=p.name_next;break}C=C.name_next}},lookupNode(p,g){var C=x.mayLookup(p);if(C)throw new x.ErrnoError(C,p);for(var O=x.hashName(p.id,g),Z=x.nameTable[O];Z;Z=Z.name_next)if(Z.parent.id===p.id&&Z.name===g)return Z;return x.lookup(p,g)},createNode(p,g,C,O){var Z=new x.FSNode(p,g,C,O);return x.hashAddNode(Z),Z},destroyNode(p){x.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagsToPermissionString(p){var g=["r","w","rw"][3&p];return 512&p&&(g+="w"),g},nodePermissions:(p,g)=>x.ignorePermissions?0:g.includes("r")&&!(292&p.mode)||g.includes("w")&&!(146&p.mode)||g.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>x.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate(p,g){try{return x.lookupNode(p,g),20}catch{}return x.nodePermissions(p,"wx")},mayDelete(p,g,C){var O;try{O=x.lookupNode(p,g)}catch(ye){return ye.errno}var Z=x.nodePermissions(p,"wx");if(Z)return Z;if(C){if(!x.isDir(O.mode))return 54;if(x.isRoot(O)||x.getPath(O)===x.cwd())return 10}else if(x.isDir(O.mode))return 31;return 0},mayOpen:(p,g)=>p?x.isLink(p.mode)?32:x.isDir(p.mode)&&("r"!==x.flagsToPermissionString(g)||512&g)?31:x.nodePermissions(p,x.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd(){for(var p=0;p<=x.MAX_OPEN_FDS;p++)if(!x.streams[p])return p;throw new x.ErrnoError(33)},getStreamChecked(p){var g=x.getStream(p);if(!g)throw new x.ErrnoError(8);return g},getStream:p=>x.streams[p],createStream:(p,g=-1)=>(x.FSStream||(x.FSStream=function(){this.shared={}},x.FSStream.prototype={},Object.defineProperties(x.FSStream.prototype,{object:{get(){return this.node},set(C){this.node=C}},isRead:{get(){return 1!=(2097155&this.flags)}},isWrite:{get(){return 0!=(2097155&this.flags)}},isAppend:{get(){return 1024&this.flags}},flags:{get(){return this.shared.flags},set(C){this.shared.flags=C}},position:{get(){return this.shared.position},set(C){this.shared.position=C}}})),p=Object.assign(new x.FSStream,p),-1==g&&(g=x.nextfd()),p.fd=g,x.streams[g]=p,p),closeStream(p){x.streams[p]=null},chrdev_stream_ops:{open(p){var g=x.getDevice(p.node.rdev);p.stream_ops=g.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek(){throw new x.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,g)=>p<<8|g,registerDevice(p,g){x.devices[p]={stream_ops:g}},getDevice:p=>x.devices[p],getMounts(p){for(var g=[],C=[p];C.length;){var O=C.pop();g.push(O),C.push.apply(C,O.mounts)}return g},syncfs(p,g){"function"==typeof p&&(g=p,p=!1),x.syncFSRequests++,x.syncFSRequests>1&&V(`warning: ${x.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var C=x.getMounts(x.root.mount),O=0;function Z(ke){return x.syncFSRequests--,g(ke)}function ye(ke){if(ke)return ye.errored?void 0:(ye.errored=!0,Z(ke));++O>=C.length&&Z(null)}C.forEach(ke=>{if(!ke.type.syncfs)return ye(null);ke.type.syncfs(ke,p,ye)})},mount(p,g,C){var ye,O="/"===C,Z=!C;if(O&&x.root)throw new x.ErrnoError(10);if(!O&&!Z){var ke=x.lookupPath(C,{follow_mount:!1});if(C=ke.path,x.isMountpoint(ye=ke.node))throw new x.ErrnoError(10);if(!x.isDir(ye.mode))throw new x.ErrnoError(54)}var Ue={type:p,opts:g,mountpoint:C,mounts:[]},xt=p.mount(Ue);return xt.mount=Ue,Ue.root=xt,O?x.root=xt:ye&&(ye.mounted=Ue,ye.mount&&ye.mount.mounts.push(Ue)),xt},unmount(p){var g=x.lookupPath(p,{follow_mount:!1});if(!x.isMountpoint(g.node))throw new x.ErrnoError(28);var C=g.node,O=C.mounted,Z=x.getMounts(O);Object.keys(x.nameTable).forEach(ke=>{for(var Ue=x.nameTable[ke];Ue;){var xt=Ue.name_next;Z.includes(Ue.mount)&&x.destroyNode(Ue),Ue=xt}}),C.mounted=null;var ye=C.mount.mounts.indexOf(O);C.mount.mounts.splice(ye,1)},lookup:(p,g)=>p.node_ops.lookup(p,g),mknod(p,g,C){var Z=x.lookupPath(p,{parent:!0}).node,ye=Gt.basename(p);if(!ye||"."===ye||".."===ye)throw new x.ErrnoError(28);var ke=x.mayCreate(Z,ye);if(ke)throw new x.ErrnoError(ke);if(!Z.node_ops.mknod)throw new x.ErrnoError(63);return Z.node_ops.mknod(Z,ye,g,C)},create:(p,g)=>(g=void 0!==g?g:438,g&=4095,x.mknod(p,g|=32768,0)),mkdir:(p,g)=>(g=void 0!==g?g:511,g&=1023,x.mknod(p,g|=16384,0)),mkdirTree(p,g){for(var C=p.split("/"),O="",Z=0;Z<C.length;++Z)if(C[Z]){O+="/"+C[Z];try{x.mkdir(O,g)}catch(ye){if(20!=ye.errno)throw ye}}},mkdev:(p,g,C)=>(typeof C>"u"&&(C=g,g=438),x.mknod(p,g|=8192,C)),symlink(p,g){if(!ln.resolve(p))throw new x.ErrnoError(44);var O=x.lookupPath(g,{parent:!0}).node;if(!O)throw new x.ErrnoError(44);var Z=Gt.basename(g),ye=x.mayCreate(O,Z);if(ye)throw new x.ErrnoError(ye);if(!O.node_ops.symlink)throw new x.ErrnoError(63);return O.node_ops.symlink(O,Z,p)},rename(p,g){var Ue,xt,C=Gt.dirname(p),O=Gt.dirname(g),Z=Gt.basename(p),ye=Gt.basename(g);if(Ue=x.lookupPath(p,{parent:!0}).node,xt=x.lookupPath(g,{parent:!0}).node,!Ue||!xt)throw new x.ErrnoError(44);if(Ue.mount!==xt.mount)throw new x.ErrnoError(75);var Ln,Cn=x.lookupNode(Ue,Z),xn=ln.relative(p,O);if("."!==xn.charAt(0))throw new x.ErrnoError(28);if("."!==(xn=ln.relative(g,C)).charAt(0))throw new x.ErrnoError(55);try{Ln=x.lookupNode(xt,ye)}catch{}if(Cn!==Ln){var Pt=x.isDir(Cn.mode),dn=x.mayDelete(Ue,Z,Pt);if(dn)throw new x.ErrnoError(dn);if(dn=Ln?x.mayDelete(xt,ye,Pt):x.mayCreate(xt,ye))throw new x.ErrnoError(dn);if(!Ue.node_ops.rename)throw new x.ErrnoError(63);if(x.isMountpoint(Cn)||Ln&&x.isMountpoint(Ln))throw new x.ErrnoError(10);if(xt!==Ue&&(dn=x.nodePermissions(Ue,"w")))throw new x.ErrnoError(dn);x.hashRemoveNode(Cn);try{Ue.node_ops.rename(Cn,xt,ye)}catch(Nn){throw Nn}finally{x.hashAddNode(Cn)}}},rmdir(p){var C=x.lookupPath(p,{parent:!0}).node,O=Gt.basename(p),Z=x.lookupNode(C,O),ye=x.mayDelete(C,O,!0);if(ye)throw new x.ErrnoError(ye);if(!C.node_ops.rmdir)throw new x.ErrnoError(63);if(x.isMountpoint(Z))throw new x.ErrnoError(10);C.node_ops.rmdir(C,O),x.destroyNode(Z)},readdir(p){var C=x.lookupPath(p,{follow:!0}).node;if(!C.node_ops.readdir)throw new x.ErrnoError(54);return C.node_ops.readdir(C)},unlink(p){var C=x.lookupPath(p,{parent:!0}).node;if(!C)throw new x.ErrnoError(44);var O=Gt.basename(p),Z=x.lookupNode(C,O),ye=x.mayDelete(C,O,!1);if(ye)throw new x.ErrnoError(ye);if(!C.node_ops.unlink)throw new x.ErrnoError(63);if(x.isMountpoint(Z))throw new x.ErrnoError(10);C.node_ops.unlink(C,O),x.destroyNode(Z)},readlink(p){var C=x.lookupPath(p).node;if(!C)throw new x.ErrnoError(44);if(!C.node_ops.readlink)throw new x.ErrnoError(28);return ln.resolve(x.getPath(C.parent),C.node_ops.readlink(C))},stat(p,g){var O=x.lookupPath(p,{follow:!g}).node;if(!O)throw new x.ErrnoError(44);if(!O.node_ops.getattr)throw new x.ErrnoError(63);return O.node_ops.getattr(O)},lstat:p=>x.stat(p,!0),chmod(p,g,C){var O;if(!(O="string"==typeof p?x.lookupPath(p,{follow:!C}).node:p).node_ops.setattr)throw new x.ErrnoError(63);O.node_ops.setattr(O,{mode:4095&g|-4096&O.mode,timestamp:Date.now()})},lchmod(p,g){x.chmod(p,g,!0)},fchmod(p,g){var C=x.getStreamChecked(p);x.chmod(C.node,g)},chown(p,g,C,O){var Z;if(!(Z="string"==typeof p?x.lookupPath(p,{follow:!O}).node:p).node_ops.setattr)throw new x.ErrnoError(63);Z.node_ops.setattr(Z,{timestamp:Date.now()})},lchown(p,g,C){x.chown(p,g,C,!0)},fchown(p,g,C){var O=x.getStreamChecked(p);x.chown(O.node,g,C)},truncate(p,g){if(g<0)throw new x.ErrnoError(28);var C;if(!(C="string"==typeof p?x.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new x.ErrnoError(63);if(x.isDir(C.mode))throw new x.ErrnoError(31);if(!x.isFile(C.mode))throw new x.ErrnoError(28);var Z=x.nodePermissions(C,"w");if(Z)throw new x.ErrnoError(Z);C.node_ops.setattr(C,{size:g,timestamp:Date.now()})},ftruncate(p,g){var C=x.getStreamChecked(p);if(!(2097155&C.flags))throw new x.ErrnoError(28);x.truncate(C.node,g)},utime(p,g,C){var Z=x.lookupPath(p,{follow:!0}).node;Z.node_ops.setattr(Z,{timestamp:Math.max(g,C)})},open(p,g,C){if(""===p)throw new x.ErrnoError(44);var O;if(g="string"==typeof g?(p=>{var C={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[p];if(typeof C>"u")throw new Error(`Unknown file open mode: ${p}`);return C})(g):g,C=typeof C>"u"?438:C,C=64&g?4095&C|32768:0,"object"==typeof p)O=p;else{p=Gt.normalize(p);try{O=x.lookupPath(p,{follow:!(131072&g)}).node}catch{}}var ye=!1;if(64&g)if(O){if(128&g)throw new x.ErrnoError(20)}else O=x.mknod(p,C,0),ye=!0;if(!O)throw new x.ErrnoError(44);if(x.isChrdev(O.mode)&&(g&=-513),65536&g&&!x.isDir(O.mode))throw new x.ErrnoError(54);if(!ye){var ke=x.mayOpen(O,g);if(ke)throw new x.ErrnoError(ke)}512&g&&!ye&&x.truncate(O,0),g&=-131713;var Ue=x.createStream({node:O,path:x.getPath(O),flags:g,seekable:!0,position:0,stream_ops:O.stream_ops,ungotten:[],error:!1});return Ue.stream_ops.open&&Ue.stream_ops.open(Ue),d.logReadFiles&&!(1&g)&&(x.readFiles||(x.readFiles={}),p in x.readFiles||(x.readFiles[p]=1)),Ue},close(p){if(x.isClosed(p))throw new x.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(g){throw g}finally{x.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek(p,g,C){if(x.isClosed(p))throw new x.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new x.ErrnoError(70);if(0!=C&&1!=C&&2!=C)throw new x.ErrnoError(28);return p.position=p.stream_ops.llseek(p,g,C),p.ungotten=[],p.position},read(p,g,C,O,Z){if(O<0||Z<0)throw new x.ErrnoError(28);if(x.isClosed(p))throw new x.ErrnoError(8);if(1==(2097155&p.flags))throw new x.ErrnoError(8);if(x.isDir(p.node.mode))throw new x.ErrnoError(31);if(!p.stream_ops.read)throw new x.ErrnoError(28);var ye=typeof Z<"u";if(ye){if(!p.seekable)throw new x.ErrnoError(70)}else Z=p.position;var ke=p.stream_ops.read(p,g,C,O,Z);return ye||(p.position+=ke),ke},write(p,g,C,O,Z,ye){if(O<0||Z<0)throw new x.ErrnoError(28);if(x.isClosed(p))throw new x.ErrnoError(8);if(!(2097155&p.flags))throw new x.ErrnoError(8);if(x.isDir(p.node.mode))throw new x.ErrnoError(31);if(!p.stream_ops.write)throw new x.ErrnoError(28);p.seekable&&1024&p.flags&&x.llseek(p,0,2);var ke=typeof Z<"u";if(ke){if(!p.seekable)throw new x.ErrnoError(70)}else Z=p.position;var Ue=p.stream_ops.write(p,g,C,O,Z,ye);return ke||(p.position+=Ue),Ue},allocate(p,g,C){if(x.isClosed(p))throw new x.ErrnoError(8);if(g<0||C<=0)throw new x.ErrnoError(28);if(!(2097155&p.flags))throw new x.ErrnoError(8);if(!x.isFile(p.node.mode)&&!x.isDir(p.node.mode))throw new x.ErrnoError(43);if(!p.stream_ops.allocate)throw new x.ErrnoError(138);p.stream_ops.allocate(p,g,C)},mmap(p,g,C,O,Z){if(2&O&&!(2&Z)&&2!=(2097155&p.flags))throw new x.ErrnoError(2);if(1==(2097155&p.flags))throw new x.ErrnoError(2);if(!p.stream_ops.mmap)throw new x.ErrnoError(43);return p.stream_ops.mmap(p,g,C,O,Z)},msync:(p,g,C,O,Z)=>p.stream_ops.msync?p.stream_ops.msync(p,g,C,O,Z):0,munmap:p=>0,ioctl(p,g,C){if(!p.stream_ops.ioctl)throw new x.ErrnoError(59);return p.stream_ops.ioctl(p,g,C)},readFile(p,g={}){if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error(`Invalid encoding type "${g.encoding}"`);var C,O=x.open(p,g.flags),ye=x.stat(p).size,ke=new Uint8Array(ye);return x.read(O,ke,0,ye,0),"utf8"===g.encoding?C=Xn(ke,0):"binary"===g.encoding&&(C=ke),x.close(O),C},writeFile(p,g,C={}){C.flags=C.flags||577;var O=x.open(p,C.flags,C.mode);if("string"==typeof g){var Z=new Uint8Array(co(g)+1),ye=vr(g,Z,0,Z.length);x.write(O,Z,0,ye,void 0,C.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");x.write(O,g,0,g.byteLength,void 0,C.canOwn)}x.close(O)},cwd:()=>x.currentPath,chdir(p){var g=x.lookupPath(p,{follow:!0});if(null===g.node)throw new x.ErrnoError(44);if(!x.isDir(g.node.mode))throw new x.ErrnoError(54);var C=x.nodePermissions(g.node,"x");if(C)throw new x.ErrnoError(C);x.currentPath=g.path},createDefaultDirectories(){x.mkdir("/tmp"),x.mkdir("/home"),x.mkdir("/home/web_user")},createDefaultDevices(){x.mkdir("/dev"),x.registerDevice(x.makedev(1,3),{read:()=>0,write:(O,Z,ye,ke,Ue)=>ke}),x.mkdev("/dev/null",x.makedev(1,3)),yr.register(x.makedev(5,0),yr.default_tty_ops),yr.register(x.makedev(6,0),yr.default_tty1_ops),x.mkdev("/dev/tty",x.makedev(5,0)),x.mkdev("/dev/tty1",x.makedev(6,0));var p=new Uint8Array(1024),g=0,C=()=>(0===g&&(g=Hn(p).byteLength),p[--g]);x.createDevice("/dev","random",C),x.createDevice("/dev","urandom",C),x.mkdir("/dev/shm"),x.mkdir("/dev/shm/tmp")},createSpecialDirectories(){x.mkdir("/proc");var p=x.mkdir("/proc/self");x.mkdir("/proc/self/fd"),x.mount({mount(){var g=x.createNode(p,"fd",16895,73);return g.node_ops={lookup(C,O){var ye=x.getStreamChecked(+O),ke={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ye.path}};return ke.parent=ke,ke}},g}},{},"/proc/self/fd")},createStandardStreams(){d.stdin?x.createDevice("/dev","stdin",d.stdin):x.symlink("/dev/tty","/dev/stdin"),d.stdout?x.createDevice("/dev","stdout",null,d.stdout):x.symlink("/dev/tty","/dev/stdout"),d.stderr?x.createDevice("/dev","stderr",null,d.stderr):x.symlink("/dev/tty1","/dev/stderr"),x.open("/dev/stdin",0),x.open("/dev/stdout",1),x.open("/dev/stderr",1)},ensureErrnoError(){x.ErrnoError||(x.ErrnoError=function(g,C){this.name="ErrnoError",this.node=C,this.setErrno=function(O){this.errno=O},this.setErrno(g),this.message="FS error"},x.ErrnoError.prototype=new Error,x.ErrnoError.prototype.constructor=x.ErrnoError,[44].forEach(p=>{x.genericErrors[p]=new x.ErrnoError(p),x.genericErrors[p].stack="<generic error, no stack>"}))},staticInit(){x.ensureErrnoError(),x.nameTable=new Array(4096),x.mount(cn,{},"/"),x.createDefaultDirectories(),x.createDefaultDevices(),x.createSpecialDirectories(),x.filesystems={MEMFS:cn}},init(p,g,C){x.init.initialized=!0,x.ensureErrnoError(),d.stdin=p||d.stdin,d.stdout=g||d.stdout,d.stderr=C||d.stderr,x.createStandardStreams()},quit(){x.init.initialized=!1;for(var p=0;p<x.streams.length;p++){var g=x.streams[p];g&&x.close(g)}},findObject(p,g){var C=x.analyzePath(p,g);return C.exists?C.object:null},analyzePath(p,g){try{p=(C=x.lookupPath(p,{follow:!g})).path}catch{}var O={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var C=x.lookupPath(p,{parent:!0});O.parentExists=!0,O.parentPath=C.path,O.parentObject=C.node,O.name=Gt.basename(p),C=x.lookupPath(p,{follow:!g}),O.exists=!0,O.path=C.path,O.object=C.node,O.name=C.node.name,O.isRoot="/"===C.path}catch(Z){O.error=Z.errno}return O},createPath(p,g,C,O){p="string"==typeof p?p:x.getPath(p);for(var Z=g.split("/").reverse();Z.length;){var ye=Z.pop();if(ye){var ke=Gt.join2(p,ye);try{x.mkdir(ke)}catch{}p=ke}}return ke},createFile(p,g,C,O,Z){var ye=Gt.join2("string"==typeof p?p:x.getPath(p),g),ke=M(O,Z);return x.create(ye,ke)},createDataFile(p,g,C,O,Z,ye){var ke=g;p&&(p="string"==typeof p?p:x.getPath(p),ke=g?Gt.join2(p,g):p);var Ue=M(O,Z),xt=x.create(ke,Ue);if(C){if("string"==typeof C){for(var Cn=new Array(C.length),xn=0,Ln=C.length;xn<Ln;++xn)Cn[xn]=C.charCodeAt(xn);C=Cn}x.chmod(xt,146|Ue);var Pt=x.open(xt,577);x.write(Pt,C,0,C.length,0,ye),x.close(Pt),x.chmod(xt,Ue)}return xt},createDevice(p,g,C,O){var Z=Gt.join2("string"==typeof p?p:x.getPath(p),g),ye=M(!!C,!!O);x.createDevice.major||(x.createDevice.major=64);var ke=x.makedev(x.createDevice.major++,0);return x.registerDevice(ke,{open(Ue){Ue.seekable=!1},close(Ue){O&&O.buffer&&O.buffer.length&&O(10)},read(Ue,xt,Cn,xn,Ln){for(var Pt=0,dn=0;dn<xn;dn++){var Nn;try{Nn=C()}catch{throw new x.ErrnoError(29)}if(void 0===Nn&&0===Pt)throw new x.ErrnoError(6);if(null==Nn)break;Pt++,xt[Cn+dn]=Nn}return Pt&&(Ue.node.timestamp=Date.now()),Pt},write(Ue,xt,Cn,xn,Ln){for(var Pt=0;Pt<xn;Pt++)try{O(xt[Cn+Pt])}catch{throw new x.ErrnoError(29)}return xn&&(Ue.node.timestamp=Date.now()),Pt}}),x.mkdev(Z,ye,ke)},forceLoadFile(p){if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=no(G(p.url),!0),p.usedBytes=p.contents.length}catch{throw new x.ErrnoError(29)}},createLazyFile(p,g,C,O,Z){function ye(){this.lengthKnown=!1,this.chunks=[]}if(ye.prototype.get=function(dn){if(!(dn>this.length-1||dn<0)){var Nn=dn%this.chunkSize;return this.getter(dn/this.chunkSize|0)[Nn]}},ye.prototype.setDataGetter=function(dn){this.getter=dn},ye.prototype.cacheLength=function(){var dn=new XMLHttpRequest;if(dn.open("HEAD",C,!1),dn.send(null),!(dn.status>=200&&dn.status<300||304===dn.status))throw new Error("Couldn't load "+C+". Status: "+dn.status);var $r,Nn=Number(dn.getResponseHeader("Content-length")),di=($r=dn.getResponseHeader("Accept-Ranges"))&&"bytes"===$r,Br=($r=dn.getResponseHeader("Content-Encoding"))&&"gzip"===$r,_t=1048576;di||(_t=Nn);var qr=this;qr.setDataGetter(ur=>{var rr=ur*_t,dr=(ur+1)*_t-1;if(dr=Math.min(dr,Nn-1),typeof qr.chunks[ur]>"u"&&(qr.chunks[ur]=((ur,rr)=>{if(ur>rr)throw new Error("invalid range ("+ur+", "+rr+") or no bytes requested!");if(rr>Nn-1)throw new Error("only "+Nn+" bytes available! programmer error!");var dr=new XMLHttpRequest;if(dr.open("GET",C,!1),Nn!==_t&&dr.setRequestHeader("Range","bytes="+ur+"-"+rr),dr.responseType="arraybuffer",dr.overrideMimeType&&dr.overrideMimeType("text/plain; charset=x-user-defined"),dr.send(null),!(dr.status>=200&&dr.status<300||304===dr.status))throw new Error("Couldn't load "+C+". Status: "+dr.status);return void 0!==dr.response?new Uint8Array(dr.response||[]):no(dr.responseText||"",!0)})(rr,dr)),typeof qr.chunks[ur]>"u")throw new Error("doXHR failed!");return qr.chunks[ur]}),(Br||!Nn)&&(_t=Nn=1,Nn=this.getter(0).length,_t=Nn,ue("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Nn,this._chunkSize=_t,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!ee)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ke=new ye;Object.defineProperties(ke,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ue={isDevice:!1,contents:ke}}else Ue={isDevice:!1,url:C};var xt=x.createFile(p,g,Ue,O,Z);Ue.contents?xt.contents=Ue.contents:Ue.url&&(xt.contents=null,xt.url=Ue.url),Object.defineProperties(xt,{usedBytes:{get:function(){return this.contents.length}}});var Cn={};function Ln(Pt,dn,Nn,$r,di){var Br=Pt.node.contents;if(di>=Br.length)return 0;var _t=Math.min(Br.length-di,$r);if(Br.slice)for(var an=0;an<_t;an++)dn[Nn+an]=Br[di+an];else for(an=0;an<_t;an++)dn[Nn+an]=Br.get(di+an);return _t}return Object.keys(xt.stream_ops).forEach(Pt=>{var dn=xt.stream_ops[Pt];Cn[Pt]=function(){return x.forceLoadFile(xt),dn.apply(null,arguments)}}),Cn.read=(Pt,dn,Nn,$r,di)=>(x.forceLoadFile(xt),Ln(Pt,dn,Nn,$r,di)),Cn.mmap=(Pt,dn,Nn,$r,di)=>{x.forceLoadFile(xt);var Br=At();if(!Br)throw new x.ErrnoError(48);return Ln(Pt,ae,Br,dn,Nn),{ptr:Br,allocated:!0}},xt.stream_ops=Cn,xt}},k={DEFAULT_POLLMASK:5,calculateAt(p,g,C){if(Gt.isAbs(g))return g;var O;if(O=-100===p?x.cwd():k.getStreamFromFD(p).path,0==g.length){if(!C)throw new x.ErrnoError(44);return O}return Gt.join2(O,g)},doStat(p,g,C){try{var O=p(g)}catch(Ue){if(Ue&&Ue.node&&Gt.normalize(g)!==Gt.normalize(x.getPath(Ue.node)))return-54;throw Ue}N[C>>2]=O.dev,N[C+4>>2]=O.mode,j[C+8>>2]=O.nlink,N[C+12>>2]=O.uid,N[C+16>>2]=O.gid,N[C+20>>2]=O.rdev,Zt=[O.size>>>0,(Ze=O.size,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[C+24>>2]=Zt[0],N[C+28>>2]=Zt[1],N[C+32>>2]=4096,N[C+36>>2]=O.blocks;var Z=O.atime.getTime(),ye=O.mtime.getTime(),ke=O.ctime.getTime();return Zt=[Math.floor(Z/1e3)>>>0,(Ze=Math.floor(Z/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[C+40>>2]=Zt[0],N[C+44>>2]=Zt[1],j[C+48>>2]=Z%1e3*1e3,Zt=[Math.floor(ye/1e3)>>>0,(Ze=Math.floor(ye/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[C+56>>2]=Zt[0],N[C+60>>2]=Zt[1],j[C+64>>2]=ye%1e3*1e3,Zt=[Math.floor(ke/1e3)>>>0,(Ze=Math.floor(ke/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[C+72>>2]=Zt[0],N[C+76>>2]=Zt[1],j[C+80>>2]=ke%1e3*1e3,Zt=[O.ino>>>0,(Ze=O.ino,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[C+88>>2]=Zt[0],N[C+92>>2]=Zt[1],0},doMsync(p,g,C,O,Z){if(!x.isFile(g.node.mode))throw new x.ErrnoError(43);if(2&O)return 0;var ye=pe.slice(p,p+C);x.msync(g,ye,Z,C,O)},varargs:void 0,get(){var p=N[+k.varargs>>2];return k.varargs+=4,p},getp:()=>k.get(),getStr:p=>De(p),getStreamFromFD:p=>x.getStreamChecked(p)},li=(p,g)=>g+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*g:NaN,Co=p=>p%4==0&&(p%100!=0||p%400==0),ws=[0,31,60,91,121,152,182,213,244,274,305,335],vi=[0,31,59,90,120,151,181,212,243,273,304,334],Lo=p=>{var g=co(p)+1,C=Wo(g);return C&&((p,g,C)=>{vr(p,pe,g,C)})(p,C,g),C},ci=[],Wi=p=>{var C=(p-ve.buffer.byteLength+65535)/65536;try{return ve.grow(C),It(),1}catch{}},xi={},ki=()=>{if(!ki.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:F||"./this.program"};for(var C in xi)void 0===xi[C]?delete g[C]:g[C]=xi[C];var O=[];for(var C in g)O.push(`${C}=${g[C]}`);ki.strings=O}return ki.strings},Zi=(p,g)=>{Je=p,(p=>{Je=p,function Ut(){return de||!1}()||(d.onExit&&d.onExit(p),fe=!0),U(p,new Hr(p))})(p)},un=Zi,Le=[31,29,31,30,31,30,31,31,30,31,30,31],ct=[31,28,31,30,31,30,31,31,30,31,30,31],Kn=function(p,g,C,O){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=x.nextInode++,this.name=g,this.mode=C,this.node_ops={},this.stream_ops={},this.rdev=O};Object.defineProperties(Kn.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return x.isDir(this.mode)}},isDevice:{get:function(){return x.isChrdev(this.mode)}}}),x.FSNode=Kn,x.createPreloadedFile=(p,g,C,O,Z,ye,ke,Ue,xt,Cn)=>{var xn=g?ln.resolve(Gt.join2(p,g)):p;function Pt(dn){function Nn($r){Cn&&Cn(),Ue||((p,g,C,O,Z,ye)=>{x.createDataFile(p,g,C,O,Z,ye)})(p,g,$r,O,Z,xt),ye&&ye(),In()}((p,g,C,O)=>{typeof Browser<"u"&&Browser.init();var Z=!1;return bo.forEach(ye=>{Z||ye.canHandle(g)&&(ye.handle(p,g,C,O),Z=!0)}),Z})(dn,xn,Nn,()=>{ke&&ke(),In()})||Nn(dn)}Jt(),"string"==typeof C?((p,g,C,O)=>{var Z=`al ${p}`;Oe(p,ye=>{Qe(ye,`Loading data file "${p}" failed (no arrayBuffer).`),Pt(new Uint8Array(ye)),Z&&In()},ye=>{if(!C)throw`Loading data file "${p}" failed.`;C()}),Z&&Jt()})(C,0,ke):Pt(C)},x.staticInit();var fs,ui={b:(p,g,C,O)=>{_n(`Assertion failed: ${De(p)}, at: `+[g?De(g):"unknown filename",C,O?De(O):"unknown function"])},i:function Ao(p,g,C,O){k.varargs=O;try{g=k.getStr(g),g=k.calculateAt(p,g);var Z=O?k.get():0;return x.open(g,C,Z).fd}catch(ye){if(typeof x>"u"||"ErrnoError"!==ye.name)throw ye;return-ye.errno}},j:function zi(p,g,C){var O=li(p,g),Z=new Date(1e3*O);N[C>>2]=Z.getUTCSeconds(),N[C+4>>2]=Z.getUTCMinutes(),N[C+8>>2]=Z.getUTCHours(),N[C+12>>2]=Z.getUTCDate(),N[C+16>>2]=Z.getUTCMonth(),N[C+20>>2]=Z.getUTCFullYear()-1900,N[C+24>>2]=Z.getUTCDay();var ye=Date.UTC(Z.getUTCFullYear(),0,1,0,0,0,0),ke=(Z.getTime()-ye)/864e5|0;N[C+28>>2]=ke},k:function po(p,g,C){var O=li(p,g),Z=new Date(1e3*O);N[C>>2]=Z.getSeconds(),N[C+4>>2]=Z.getMinutes(),N[C+8>>2]=Z.getHours(),N[C+12>>2]=Z.getDate(),N[C+16>>2]=Z.getMonth(),N[C+20>>2]=Z.getFullYear()-1900,N[C+24>>2]=Z.getDay();var ye=0|(p=>(Co(p.getFullYear())?ws:vi)[p.getMonth()]+p.getDate()-1)(Z);N[C+28>>2]=ye,N[C+36>>2]=-60*Z.getTimezoneOffset();var ke=new Date(Z.getFullYear(),0,1),Ue=new Date(Z.getFullYear(),6,1).getTimezoneOffset(),xt=ke.getTimezoneOffset(),Cn=0|(Ue!=xt&&Z.getTimezoneOffset()==Math.min(xt,Ue));N[C+32>>2]=Cn},o:(p,g,C)=>{var O=(new Date).getFullYear(),Z=new Date(O,0,1),ye=new Date(O,6,1),ke=Z.getTimezoneOffset(),Ue=ye.getTimezoneOffset(),xt=Math.max(ke,Ue);function Cn(Nn){var $r=Nn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return $r?$r[1]:"GMT"}j[p>>2]=60*xt,N[g>>2]=+(ke!=Ue);var xn=Cn(Z),Ln=Cn(ye),Pt=Lo(xn),dn=Lo(Ln);Ue<ke?(j[C>>2]=Pt,j[C+4>>2]=dn):(j[C>>2]=dn,j[C+4>>2]=Pt)},c:()=>{_n("")},a:(p,g,C)=>((p,g,C)=>{var O=((p,g)=>{ci.length=0;for(var C;C=pe[p++];){var O=105!=C;g+=(O&=112!=C)&&g%8?4:0,ci.push(112==C?j[g>>2]:105==C?N[g>>2]:ft[g>>3]),g+=O?8:4}return ci})(g,C);return Zr[p].apply(null,O)})(p,g,C),e:()=>Date.now(),g:(p,g,C)=>pe.copyWithin(p,g,g+C),n:p=>{var xt,g=pe.length,C=2147483648;if((p>>>=0)>C)return!1;for(var Z=1;Z<=4;Z*=2){var ye=g*(1+.2/Z);ye=Math.min(ye,p+100663296);var ke=Math.min(C,(xt=Math.max(p,ye))+(65536-xt%65536)%65536);if(Wi(ke))return!0}return!1},p:(p,g)=>{var C=0;return ki().forEach((O,Z)=>{var ye=g+C;j[p+4*Z>>2]=ye,((p,g)=>{for(var C=0;C<p.length;++C)ae[g++>>0]=p.charCodeAt(C);ae[g>>0]=0})(O,ye),C+=O.length+1}),0},q:(p,g)=>{var C=ki();j[p>>2]=C.length;var O=0;return C.forEach(Z=>O+=Z.length+1),j[g>>2]=O,0},r:un,f:function Is(p){try{var g=k.getStreamFromFD(p);return x.close(g),0}catch(C){if(typeof x>"u"||"ErrnoError"!==C.name)throw C;return C.errno}},d:function E(p,g,C,O){try{var ye=((p,g,C,O)=>{for(var Z=0,ye=0;ye<C;ye++){var ke=j[g>>2],Ue=j[g+4>>2];g+=8;var xt=x.read(p,ae,ke,Ue,O);if(xt<0)return-1;if(Z+=xt,xt<Ue)break;typeof O<"u"&&(O+=xt)}return Z})(k.getStreamFromFD(p),g,C);return j[O>>2]=ye,0}catch(ke){if(typeof x>"u"||"ErrnoError"!==ke.name)throw ke;return ke.errno}},l:function B(p,g,C,O,Z){var ye=li(g,C);try{if(isNaN(ye))return 61;var ke=k.getStreamFromFD(p);return x.llseek(ke,ye,O),Zt=[ke.position>>>0,(Ze=ke.position,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[Z>>2]=Zt[0],N[Z+4>>2]=Zt[1],ke.getdents&&0===ye&&0===O&&(ke.getdents=null),0}catch(Ue){if(typeof x>"u"||"ErrnoError"!==Ue.name)throw Ue;return Ue.errno}},h:function ge(p,g,C,O){try{var ye=((p,g,C,O)=>{for(var Z=0,ye=0;ye<C;ye++){var ke=j[g>>2],Ue=j[g+4>>2];g+=8;var xt=x.write(p,ae,ke,Ue,O);if(xt<0)return-1;Z+=xt,typeof O<"u"&&(O+=xt)}return Z})(k.getStreamFromFD(p),g,C);return j[O>>2]=ye,0}catch(ke){if(typeof x>"u"||"ErrnoError"!==ke.name)throw ke;return ke.errno}},m:(p,g,C,O,Z)=>((p,g,C,O)=>{var Z=j[O+40>>2],ye={tm_sec:N[O>>2],tm_min:N[O+4>>2],tm_hour:N[O+8>>2],tm_mday:N[O+12>>2],tm_mon:N[O+16>>2],tm_year:N[O+20>>2],tm_wday:N[O+24>>2],tm_yday:N[O+28>>2],tm_isdst:N[O+32>>2],tm_gmtoff:N[O+36>>2],tm_zone:Z?De(Z):""},ke=De(C),Ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var xt in Ue)ke=ke.replace(new RegExp(xt,"g"),Ue[xt]);var Cn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],xn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ln(_t,an,qr){for(var ur="number"==typeof _t?_t.toString():_t||"";ur.length<an;)ur=qr[0]+ur;return ur}function Pt(_t,an){return Ln(_t,an,"0")}function dn(_t,an){function qr(rr){return rr<0?-1:rr>0?1:0}var ur;return 0===(ur=qr(_t.getFullYear()-an.getFullYear()))&&0===(ur=qr(_t.getMonth()-an.getMonth()))&&(ur=qr(_t.getDate()-an.getDate())),ur}function Nn(_t){switch(_t.getDay()){case 0:return new Date(_t.getFullYear()-1,11,29);case 1:return _t;case 2:return new Date(_t.getFullYear(),0,3);case 3:return new Date(_t.getFullYear(),0,2);case 4:return new Date(_t.getFullYear(),0,1);case 5:return new Date(_t.getFullYear()-1,11,31);case 6:return new Date(_t.getFullYear()-1,11,30)}}function $r(_t){var an=((p,g)=>{for(var C=new Date(p.getTime());g>0;){var O=Co(C.getFullYear()),Z=C.getMonth(),ye=(O?Le:ct)[Z];if(!(g>ye-C.getDate()))return C.setDate(C.getDate()+g),C;g-=ye-C.getDate()+1,C.setDate(1),Z<11?C.setMonth(Z+1):(C.setMonth(0),C.setFullYear(C.getFullYear()+1))}return C})(new Date(_t.tm_year+1900,0,1),_t.tm_yday),qr=new Date(an.getFullYear(),0,4),ur=new Date(an.getFullYear()+1,0,4),rr=Nn(qr),dr=Nn(ur);return dn(rr,an)<=0?dn(dr,an)<=0?an.getFullYear()+1:an.getFullYear():an.getFullYear()-1}var di={"%a":_t=>Cn[_t.tm_wday].substring(0,3),"%A":_t=>Cn[_t.tm_wday],"%b":_t=>xn[_t.tm_mon].substring(0,3),"%B":_t=>xn[_t.tm_mon],"%C":_t=>Pt((_t.tm_year+1900)/100|0,2),"%d":_t=>Pt(_t.tm_mday,2),"%e":_t=>Ln(_t.tm_mday,2," "),"%g":_t=>$r(_t).toString().substring(2),"%G":_t=>$r(_t),"%H":_t=>Pt(_t.tm_hour,2),"%I":_t=>{var an=_t.tm_hour;return 0==an?an=12:an>12&&(an-=12),Pt(an,2)},"%j":_t=>Pt(_t.tm_mday+((p,g)=>{for(var C=0,O=0;O<=g;C+=p[O++]);return C})(Co(_t.tm_year+1900)?Le:ct,_t.tm_mon-1),3),"%m":_t=>Pt(_t.tm_mon+1,2),"%M":_t=>Pt(_t.tm_min,2),"%n":()=>"\n","%p":_t=>_t.tm_hour>=0&&_t.tm_hour<12?"AM":"PM","%S":_t=>Pt(_t.tm_sec,2),"%t":()=>"\t","%u":_t=>_t.tm_wday||7,"%U":_t=>Pt(Math.floor((_t.tm_yday+7-_t.tm_wday)/7),2),"%V":_t=>{var an=Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7);if((_t.tm_wday+371-_t.tm_yday-2)%7<=2&&an++,an){if(53==an){var ur=(_t.tm_wday+371-_t.tm_yday)%7;4!=ur&&(3!=ur||!Co(_t.tm_year))&&(an=1)}}else{an=52;var qr=(_t.tm_wday+7-_t.tm_yday-1)%7;(4==qr||5==qr&&Co(_t.tm_year%400-1))&&an++}return Pt(an,2)},"%w":_t=>_t.tm_wday,"%W":_t=>Pt(Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7),2),"%y":_t=>(_t.tm_year+1900).toString().substring(2),"%Y":_t=>_t.tm_year+1900,"%z":_t=>{var an=_t.tm_gmtoff;return(an>=0?"+":"-")+("0000"+(an=(an=Math.abs(an)/60)/60*100+an%60)).slice(-4)},"%Z":_t=>_t.tm_zone,"%%":()=>"%"};for(var xt in ke=ke.replace(/%%/g,"\0\0"),di)ke.includes(xt)&&(ke=ke.replace(new RegExp(xt,"g"),di[xt](ye)));var Br=no(ke=ke.replace(/\0\0/g,"%"),!1);return Br.length>g?0:(((p,g)=>{ae.set(p,g)})(Br,p),Br.length-1)})(p,g,C,O)},yt=function Go(){var p={a:ui};function g(O,Z){return ve=(yt=O.exports).s,It(),function We(p){Ge.unshift(p)}(yt.t),In(),yt}if(Jt(),d.instantiateWasm)try{return d.instantiateWasm(p,g)}catch(O){V(`Module.instantiateWasm callback failed with error: ${O}`),oe(O)}return function si(p,g,C,O){return p||"function"!=typeof WebAssembly.instantiateStreaming||wr(g)||"function"!=typeof fetch?No(g,C,O):fetch(g,{credentials:"same-origin"}).then(Z=>WebAssembly.instantiateStreaming(Z,C).then(O,function(ke){return V(`wasm streaming compile failed: ${ke}`),V("falling back to ArrayBuffer instantiation"),No(g,C,O)}))}(q,ar,p,function C(O){g(O.instance)}).catch(oe),{}}(),Wo=(d._free=p=>(d._free=yt.u)(p),d._malloc=p=>(Wo=d._malloc=yt.v)(p)),xs=(d._webidl_free=p=>(d._webidl_free=yt.w)(p),d._webidl_malloc=p=>(d._webidl_malloc=yt.x)(p),d._emscripten_bind_VoidPtr___destroy___0=p=>(xs=d._emscripten_bind_VoidPtr___destroy___0=yt.y)(p)),tl=d._emscripten_bind_FSTools_FSTools_0=()=>(tl=d._emscripten_bind_FSTools_FSTools_0=yt.z)(),nl=d._emscripten_bind_FSTools_Malloc_1=(p,g)=>(nl=d._emscripten_bind_FSTools_Malloc_1=yt.A)(p,g),qi=d._emscripten_bind_FSTools_Free_1=(p,g)=>(qi=d._emscripten_bind_FSTools_Free_1=yt.B)(p,g),rl=d._emscripten_bind_FSTools_Nullptr_0=p=>(rl=d._emscripten_bind_FSTools_Nullptr_0=yt.C)(p),jl=d._emscripten_bind_FSTools___destroy___0=p=>(jl=d._emscripten_bind_FSTools___destroy___0=yt.D)(p),ol=d._emscripten_bind_MkfsContext_MkfsContext_0=()=>(ol=d._emscripten_bind_MkfsContext_MkfsContext_0=yt.E)(),sa=d._emscripten_bind_MkfsContext_Mkfs_2=(p,g,C)=>(sa=d._emscripten_bind_MkfsContext_Mkfs_2=yt.F)(p,g,C),zs=d._emscripten_bind_MkfsContext_GetImage_0=p=>(zs=d._emscripten_bind_MkfsContext_GetImage_0=yt.G)(p),Vl=d._emscripten_bind_MkfsContext_GetImageSize_0=p=>(Vl=d._emscripten_bind_MkfsContext_GetImageSize_0=yt.H)(p),Se=d._emscripten_bind_MkfsContext___destroy___0=p=>(Se=d._emscripten_bind_MkfsContext___destroy___0=yt.I)(p),Ul=d._emscripten_bind_FsckContext_FsckContext_1=p=>(Ul=d._emscripten_bind_FsckContext_FsckContext_1=yt.J)(p),$o=d._emscripten_bind_FsckContext_GetImage_0=p=>($o=d._emscripten_bind_FsckContext_GetImage_0=yt.K)(p),yn=d._emscripten_bind_FsckContext_GetDirtyPages_0=p=>(yn=d._emscripten_bind_FsckContext_GetDirtyPages_0=yt.L)(p),il=d._emscripten_bind_FsckContext_GetImageSize_0=p=>(il=d._emscripten_bind_FsckContext_GetImageSize_0=yt.M)(p),Hl=d._emscripten_bind_FsckContext_Fsck_0=p=>(Hl=d._emscripten_bind_FsckContext_Fsck_0=yt.N)(p),Gl=d._emscripten_bind_FsckContext_GetResult_0=p=>(Gl=d._emscripten_bind_FsckContext_GetResult_0=yt.O)(p),mt=d._emscripten_bind_FsckContext___destroy___0=p=>(mt=d._emscripten_bind_FsckContext___destroy___0=yt.P)(p),sl=d._emscripten_bind_GunzipContext_GunzipContext_3=(p,g,C)=>(sl=d._emscripten_bind_GunzipContext_GunzipContext_3=yt.Q)(p,g,C),Er=d._emscripten_bind_GunzipContext_GetState_0=p=>(Er=d._emscripten_bind_GunzipContext_GetState_0=yt.R)(p),ks=d._emscripten_bind_GunzipContext_Continue_0=p=>(ks=d._emscripten_bind_GunzipContext_Continue_0=yt.S)(p),ka=d._emscripten_bind_GunzipContext_GetUncompressedData_0=p=>(ka=d._emscripten_bind_GunzipContext_GetUncompressedData_0=yt.T)(p),aa=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=p=>(aa=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=yt.U)(p),Ma=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=p=>(Ma=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=yt.V)(p),Ms=d._emscripten_bind_GunzipContext_GetError_0=p=>(Ms=d._emscripten_bind_GunzipContext_GetError_0=yt.W)(p),Ts=d._emscripten_bind_GunzipContext___destroy___0=p=>(Ts=d._emscripten_bind_GunzipContext___destroy___0=yt.X)(p),Ws=d._emscripten_bind_GzipContext_GzipContext_3=(p,g,C)=>(Ws=d._emscripten_bind_GzipContext_GzipContext_3=yt.Y)(p,g,C),la=d._emscripten_bind_GzipContext_SetFilename_1=(p,g)=>(la=d._emscripten_bind_GzipContext_SetFilename_1=yt.Z)(p,g),Ta=d._emscripten_bind_GzipContext_SetMtime_1=(p,g)=>(Ta=d._emscripten_bind_GzipContext_SetMtime_1=yt._)(p,g),Tn=d._emscripten_bind_GzipContext_Continue_0=p=>(Tn=d._emscripten_bind_GzipContext_Continue_0=yt.$)(p),Zs=d._emscripten_bind_GzipContext_GetState_0=p=>(Zs=d._emscripten_bind_GzipContext_GetState_0=yt.aa)(p),ca=d._emscripten_bind_GzipContext_GetGzipData_0=p=>(ca=d._emscripten_bind_GzipContext_GetGzipData_0=yt.ba)(p),wo=d._emscripten_bind_GzipContext_GetGzipSize_0=p=>(wo=d._emscripten_bind_GzipContext_GetGzipSize_0=yt.ca)(p),ua=d._emscripten_bind_GzipContext_GetError_0=p=>(ua=d._emscripten_bind_GzipContext_GetError_0=yt.da)(p),al=d._emscripten_bind_GzipContext___destroy___0=p=>(al=d._emscripten_bind_GzipContext___destroy___0=yt.ea)(p),nr=d._main=(p,g)=>(nr=d._main=yt.fa)(p,g);function qs(){function p(){fs||(fs=!0,d.calledRun=!0,!fe&&(function ot(){!d.noFSInit&&!x.init.initialized&&x.init(),x.ignorePermissions=!1,yr.init(),Ar(Ge)}(),function St(){Ar(we)}(),re(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),ul&&function cl(){var p=nr;try{var O=p(0,0);return Zi(O),O}catch(Z){return(p=>{if(p instanceof Hr||"unwind"==p)return Je;U(1,p)})(Z)}}(),function pt(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)p=d.postRun.shift(),He.unshift(p);var p;Ar(He)}()))}tt>0||(function Fe(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)p=d.preRun.shift(),Wt.unshift(p);var p;Ar(Wt)}(),tt>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),p()},1)):p())}if(d.___original_main=()=>(d.___original_main=yt.ha)(),d.___start_em_js=1092558,d.___stop_em_js=1092656,W=function p(){fs||qs(),fs||(W=p)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var ul=!0;function So(){}function Yi(p){return(p||So).__cache__}function qo(p,g){var C=Yi(g),O=C[p];return O||((O=Object.create((g||So).prototype)).ptr=p,C[p]=O)}d.noInitialRun&&(ul=!1),qs(),(So.prototype=Object.create(So.prototype)).constructor=So,So.prototype.__class__=So,So.__cache__={},d.WrapperObject=So,d.getCache=Yi,d.wrapPointer=qo,d.castObject=function Zl(p,g){return qo(p.ptr,g)},d.NULL=qo(0),d.destroy=function As(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete Yi(p.__class__)[p.ptr]},d.compare=function fa(p,g){return p.ptr===g.ptr},d.getPointer=function Ys(p){return p.ptr},d.getClass=function dl(p){return p.__class__};var lr={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(lr.needed){for(var p=0;p<lr.temps.length;p++)d._webidl_free(lr.temps[p]);lr.temps.length=0,d._webidl_free(lr.buffer),lr.buffer=0,lr.size+=lr.needed,lr.needed=0}lr.buffer||(lr.size+=128,lr.buffer=d._webidl_malloc(lr.size),Qe(lr.buffer)),lr.pos=0},alloc(p,g){Qe(lr.buffer);var Z,O=p.length*g.BYTES_PER_ELEMENT;return lr.pos+(O=O+7&-8)>=lr.size?(Qe(O>0),lr.needed+=O,Z=d._webidl_malloc(O),lr.temps.push(Z)):(Z=lr.buffer+lr.pos,lr.pos+=O),Z},copy(p,g,C){switch(C>>>=0,g.BYTES_PER_ELEMENT){case 2:C>>>=1;break;case 4:C>>>=2;break;case 8:C>>>=3}for(var Z=0;Z<p.length;Z++)g[C+Z]=p[Z]}};function Pa(p){if("string"==typeof p){var g=no(p),C=lr.alloc(g,ae);return lr.copy(g,ae,C),C}return p}function oo(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Lr(){this.ptr=tl(),Yi(Lr)[this.ptr]=this}function ho(){this.ptr=ol(),Yi(ho)[this.ptr]=this}function cr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Ul(p),Yi(cr)[this.ptr]=this}function Pr(p,g,C){p&&"object"==typeof p&&(p=p.ptr),g&&"object"==typeof g&&(g=g.ptr),C&&"object"==typeof C&&(C=C.ptr),this.ptr=sl(p,g,C),Yi(Pr)[this.ptr]=this}function ce(p,g,C){p&&"object"==typeof p&&(p=p.ptr),g&&"object"==typeof g&&(g=g.ptr),C&&"object"==typeof C&&(C=C.ptr),this.ptr=Ws(p,g,C),Yi(ce)[this.ptr]=this}return(oo.prototype=Object.create(So.prototype)).constructor=oo,oo.prototype.__class__=oo,oo.__cache__={},d.VoidPtr=oo,oo.prototype.__destroy__=oo.prototype.__destroy__=function(){xs(this.ptr)},(Lr.prototype=Object.create(So.prototype)).constructor=Lr,Lr.prototype.__class__=Lr,Lr.__cache__={},d.FSTools=Lr,Lr.prototype.Malloc=Lr.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),qo(nl(this.ptr,p),oo)},Lr.prototype.Free=Lr.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),qi(this.ptr,p)},Lr.prototype.Nullptr=Lr.prototype.Nullptr=function(){return qo(rl(this.ptr),oo)},Lr.prototype.__destroy__=Lr.prototype.__destroy__=function(){jl(this.ptr)},(ho.prototype=Object.create(So.prototype)).constructor=ho,ho.prototype.__class__=ho,ho.__cache__={},d.MkfsContext=ho,ho.prototype.Mkfs=ho.prototype.Mkfs=function(p,g){var C=this.ptr;return lr.prepare(),p&&"object"==typeof p&&(p=p.ptr),g=g&&"object"==typeof g?g.ptr:Pa(g),!!sa(C,p,g)},ho.prototype.GetImage=ho.prototype.GetImage=function(){return qo(zs(this.ptr),oo)},ho.prototype.GetImageSize=ho.prototype.GetImageSize=function(){return Vl(this.ptr)},ho.prototype.__destroy__=ho.prototype.__destroy__=function(){Se(this.ptr)},(cr.prototype=Object.create(So.prototype)).constructor=cr,cr.prototype.__class__=cr,cr.__cache__={},d.FsckContext=cr,cr.prototype.GetImage=cr.prototype.GetImage=function(){return qo($o(this.ptr),oo)},cr.prototype.GetDirtyPages=cr.prototype.GetDirtyPages=function(){return qo(yn(this.ptr),oo)},cr.prototype.GetImageSize=cr.prototype.GetImageSize=function(){return il(this.ptr)},cr.prototype.Fsck=cr.prototype.Fsck=function(){return Hl(this.ptr)},cr.prototype.GetResult=cr.prototype.GetResult=function(){return Gl(this.ptr)},cr.prototype.__destroy__=cr.prototype.__destroy__=function(){mt(this.ptr)},(Pr.prototype=Object.create(So.prototype)).constructor=Pr,Pr.prototype.__class__=Pr,Pr.__cache__={},d.GunzipContext=Pr,Pr.prototype.GetState=Pr.prototype.GetState=function(){return Er(this.ptr)},Pr.prototype.Continue=Pr.prototype.Continue=function(){return ks(this.ptr)},Pr.prototype.GetUncompressedData=Pr.prototype.GetUncompressedData=function(){return qo(ka(this.ptr),oo)},Pr.prototype.ReleaseUncompressedData=Pr.prototype.ReleaseUncompressedData=function(){return qo(aa(this.ptr),oo)},Pr.prototype.GetUncompressedSize=Pr.prototype.GetUncompressedSize=function(){return Ma(this.ptr)},Pr.prototype.GetError=Pr.prototype.GetError=function(){return De(Ms(this.ptr))},Pr.prototype.__destroy__=Pr.prototype.__destroy__=function(){Ts(this.ptr)},(ce.prototype=Object.create(So.prototype)).constructor=ce,ce.prototype.__class__=ce,ce.__cache__={},d.GzipContext=ce,ce.prototype.SetFilename=ce.prototype.SetFilename=function(p){var g=this.ptr;return lr.prepare(),p=p&&"object"==typeof p?p.ptr:Pa(p),qo(la(g,p),ce)},ce.prototype.SetMtime=ce.prototype.SetMtime=function(p){return p&&"object"==typeof p&&(p=p.ptr),qo(Ta(this.ptr,p),ce)},ce.prototype.Continue=ce.prototype.Continue=function(){return Tn(this.ptr)},ce.prototype.GetState=ce.prototype.GetState=function(){return Zs(this.ptr)},ce.prototype.GetGzipData=ce.prototype.GetGzipData=function(){return qo(ca(this.ptr),oo)},ce.prototype.GetGzipSize=ce.prototype.GetGzipSize=function(){return wo(this.ptr)},ce.prototype.GetError=ce.prototype.GetError=function(){return De(ua(this.ptr))},ce.prototype.__destroy__=ce.prototype.__destroy__=function(){al(this.ptr)},I.ready});Me.exports=$e},9793:Me=>{var A,$e=(A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I={}){var re,oe,d=I;d.ready=new Promise((u,_)=>{re=u,oe=_});var G,Oe,Re,H=Object.assign({},d),F="./this.program",U=(u,_)=>{throw _},le="object"==typeof window,ee="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(le||ee)&&(ee?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),A&&($=A),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=u=>{var _=new XMLHttpRequest;return _.open("GET",u,!1),_.send(null),_.responseText},ee&&(Re=u=>{var _=new XMLHttpRequest;return _.open("GET",u,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),Oe=(u,_,v)=>{var P=new XMLHttpRequest;P.open("GET",u,!0),P.responseType="arraybuffer",P.onload=()=>{200==P.status||0==P.status&&P.response?_(P.response):v()},P.onerror=v,P.send(null)});var q,ue=d.print||console.log.bind(console),V=d.printErr||console.error.bind(console);Object.assign(d,H),H=null,d.thisProgram&&(F=d.thisProgram),d.quit&&(U=d.quit),d.wasmBinary&&(q=d.wasmBinary);var de=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&_n("no native wasm support detected");var ve,Je,ae,pe,N,j,fe=!1;function Qe(u,_){u||_n(_)}function It(){var u=ve.buffer;d.HEAP8=ae=new Int8Array(u),d.HEAP16=new Int16Array(u),d.HEAPU8=pe=new Uint8Array(u),d.HEAPU16=new Uint16Array(u),d.HEAP32=N=new Int32Array(u),d.HEAPU32=j=new Uint32Array(u),d.HEAPF32=new Float32Array(u),d.HEAPF64=new Float64Array(u)}var Wt=[],Ge=[],we=[],He=[],tt=0,ht=null,W=null;function Jt(u){tt++,d.monitorRunDependencies&&d.monitorRunDependencies(tt)}function In(u){if(tt--,d.monitorRunDependencies&&d.monitorRunDependencies(tt),0==tt&&(null!==ht&&(clearInterval(ht),ht=null),W)){var _=W;W=null,_()}}function _n(u){d.onAbort&&d.onAbort(u),V(u="Aborted("+u+")"),fe=!0,Je=1,u+=". Build with -sASSERTIONS for more info.";var _=new WebAssembly.RuntimeError(u);throw oe(_),_}var ar,Ze,Zt;function wr(u){return u.startsWith("data:application/octet-stream;base64,")}function _r(u){if(u==ar&&q)return new Uint8Array(q);if(Re)return Re(u);throw"both async and sync fetching of the wasm failed"}function No(u,_,v){return function ii(u){return q||!le&&!ee||"function"!=typeof fetch?Promise.resolve().then(()=>_r(u)):fetch(u,{credentials:"same-origin"}).then(_=>{if(!_.ok)throw"failed to load wasm binary file at '"+u+"'";return _.arrayBuffer()}).catch(()=>_r(u))}(u).then(P=>WebAssembly.instantiate(P,_)).then(P=>P).then(v,P=>{V(`failed to asynchronously prepare wasm: ${P}`),_n(P)})}function Zr(u){this.name="ExitStatus",this.message=`Program terminated with exit(${u})`,this.status=u}wr(ar="vfs_web.wasm")||(ar=function L(u){return d.locateFile?d.locateFile(u,$):$+u}(ar));var Hr=u=>{for(;u.length>0;)u.shift()(d)},Ar=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,to=(u,_,v)=>{for(var P=_+v,X=_;u[X]&&!(X>=P);)++X;if(X-_>16&&u.buffer&&Ar)return Ar.decode(u.subarray(_,X));for(var Ee="";_<X;){var _e=u[_++];if(128&_e){var Ve=63&u[_++];if(192!=(224&_e)){var Tt=63&u[_++];if((_e=224==(240&_e)?(15&_e)<<12|Ve<<6|Tt:(7&_e)<<18|Ve<<12|Tt<<6|63&u[_++])<65536)Ee+=String.fromCharCode(_e);else{var vt=_e-65536;Ee+=String.fromCharCode(55296|vt>>10,56320|1023&vt)}}else Ee+=String.fromCharCode((31&_e)<<6|Ve)}else Ee+=String.fromCharCode(_e)}return Ee},Xn=(u,_)=>u?to(pe,u,_):"",me={isAbs:u=>"/"===u.charAt(0),splitPath:u=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(u).slice(1),normalizeArray:(u,_)=>{for(var v=0,P=u.length-1;P>=0;P--){var X=u[P];"."===X?u.splice(P,1):".."===X?(u.splice(P,1),v++):v&&(u.splice(P,1),v--)}if(_)for(;v;v--)u.unshift("..");return u},normalize:u=>{var _=me.isAbs(u),v="/"===u.substr(-1);return!(u=me.normalizeArray(u.split("/").filter(P=>!!P),!_).join("/"))&&!_&&(u="."),u&&v&&(u+="/"),(_?"/":"")+u},dirname:u=>{var _=me.splitPath(u),v=_[0],P=_[1];return v||P?(P&&(P=P.substr(0,P.length-1)),v+P):"."},basename:u=>{if("/"===u)return"/";var _=(u=(u=me.normalize(u)).replace(/\/$/,"")).lastIndexOf("/");return-1===_?u:u.substr(_+1)},join:function(){var u=Array.prototype.slice.call(arguments);return me.normalize(u.join("/"))},join2:(u,_)=>me.normalize(u+"/"+_)},qt=u=>(qt=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return u=>crypto.getRandomValues(u);_n("initRandomDevice")})())(u),Hn={resolve:function(){for(var u="",_=!1,v=arguments.length-1;v>=-1&&!_;v--){var P=v>=0?arguments[v]:M.cwd();if("string"!=typeof P)throw new TypeError("Arguments to path.resolve must be strings");if(!P)return"";u=P+"/"+u,_=me.isAbs(P)}return(_?"/":"")+(u=me.normalizeArray(u.split("/").filter(X=>!!X),!_).join("/"))||"."},relative:(u,_)=>{function v(vt){for(var bn=0;bn<vt.length&&""===vt[bn];bn++);for(var Xt=vt.length-1;Xt>=0&&""===vt[Xt];Xt--);return bn>Xt?[]:vt.slice(bn,Xt-bn+1)}u=Hn.resolve(u).substr(1),_=Hn.resolve(_).substr(1);for(var P=v(u.split("/")),X=v(_.split("/")),Ee=Math.min(P.length,X.length),_e=Ee,Ve=0;Ve<Ee;Ve++)if(P[Ve]!==X[Ve]){_e=Ve;break}var Tt=[];for(Ve=_e;Ve<P.length;Ve++)Tt.push("..");return(Tt=Tt.concat(X.slice(_e))).join("/")}},ln=[],Sr=u=>{for(var _=0,v=0;v<u.length;++v){var P=u.charCodeAt(v);P<=127?_++:P<=2047?_+=2:P>=55296&&P<=57343?(_+=4,++v):_+=3}return _},co=(u,_,v,P)=>{if(!(P>0))return 0;for(var X=v,Ee=v+P-1,_e=0;_e<u.length;++_e){var Ve=u.charCodeAt(_e);if(Ve>=55296&&Ve<=57343&&(Ve=65536+((1023&Ve)<<10)|1023&u.charCodeAt(++_e)),Ve<=127){if(v>=Ee)break;_[v++]=Ve}else if(Ve<=2047){if(v+1>=Ee)break;_[v++]=192|Ve>>6,_[v++]=128|63&Ve}else if(Ve<=65535){if(v+2>=Ee)break;_[v++]=224|Ve>>12,_[v++]=128|Ve>>6&63,_[v++]=128|63&Ve}else{if(v+3>=Ee)break;_[v++]=240|Ve>>18,_[v++]=128|Ve>>12&63,_[v++]=128|Ve>>6&63,_[v++]=128|63&Ve}}return _[v]=0,v-X};function vr(u,_,v){var P=v>0?v:Sr(u)+1,X=new Array(P),Ee=co(u,X,0,X.length);return _&&(X.length=Ee),X}var uo={ttys:[],init(){},shutdown(){},register(u,_){uo.ttys[u]={input:[],output:[],ops:_},M.registerDevice(u,uo.stream_ops)},stream_ops:{open(u){var _=uo.ttys[u.node.rdev];if(!_)throw new M.ErrnoError(43);u.tty=_,u.seekable=!1},close(u){u.tty.ops.fsync(u.tty)},fsync(u){u.tty.ops.fsync(u.tty)},read(u,_,v,P,X){if(!u.tty||!u.tty.ops.get_char)throw new M.ErrnoError(60);for(var Ee=0,_e=0;_e<P;_e++){var Ve;try{Ve=u.tty.ops.get_char(u.tty)}catch{throw new M.ErrnoError(29)}if(void 0===Ve&&0===Ee)throw new M.ErrnoError(6);if(null==Ve)break;Ee++,_[v+_e]=Ve}return Ee&&(u.node.timestamp=Date.now()),Ee},write(u,_,v,P,X){if(!u.tty||!u.tty.ops.put_char)throw new M.ErrnoError(60);try{for(var Ee=0;Ee<P;Ee++)u.tty.ops.put_char(u.tty,_[v+Ee])}catch{throw new M.ErrnoError(29)}return P&&(u.node.timestamp=Date.now()),Ee}},default_tty_ops:{get_char:u=>(()=>{if(!ln.length){var u=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(u=window.prompt("Input: "))&&(u+="\n"):"function"==typeof readline&&null!==(u=readline())&&(u+="\n"),!u)return null;ln=vr(u,!0)}return ln.shift()})(),put_char(u,_){null===_||10===_?(ue(to(u.output,0)),u.output=[]):0!=_&&u.output.push(_)},fsync(u){u.output&&u.output.length>0&&(ue(to(u.output,0)),u.output=[])},ioctl_tcgets:u=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(u,_,v)=>0,ioctl_tiocgwinsz:u=>[24,80]},default_tty1_ops:{put_char(u,_){null===_||10===_?(V(to(u.output,0)),u.output=[]):0!=_&&u.output.push(_)},fsync(u){u.output&&u.output.length>0&&(V(to(u.output,0)),u.output=[])}}},yr=u=>{_n()},At={ops_table:null,mount:u=>At.createNode(null,"/",16895,0),createNode(u,_,v,P){if(M.isBlkdev(v)||M.isFIFO(v))throw new M.ErrnoError(63);At.ops_table||(At.ops_table={dir:{node:{getattr:At.node_ops.getattr,setattr:At.node_ops.setattr,lookup:At.node_ops.lookup,mknod:At.node_ops.mknod,rename:At.node_ops.rename,unlink:At.node_ops.unlink,rmdir:At.node_ops.rmdir,readdir:At.node_ops.readdir,symlink:At.node_ops.symlink},stream:{llseek:At.stream_ops.llseek}},file:{node:{getattr:At.node_ops.getattr,setattr:At.node_ops.setattr},stream:{llseek:At.stream_ops.llseek,read:At.stream_ops.read,write:At.stream_ops.write,allocate:At.stream_ops.allocate,mmap:At.stream_ops.mmap,msync:At.stream_ops.msync}},link:{node:{getattr:At.node_ops.getattr,setattr:At.node_ops.setattr,readlink:At.node_ops.readlink},stream:{}},chrdev:{node:{getattr:At.node_ops.getattr,setattr:At.node_ops.setattr},stream:M.chrdev_stream_ops}});var X=M.createNode(u,_,v,P);return M.isDir(X.mode)?(X.node_ops=At.ops_table.dir.node,X.stream_ops=At.ops_table.dir.stream,X.contents={}):M.isFile(X.mode)?(X.node_ops=At.ops_table.file.node,X.stream_ops=At.ops_table.file.stream,X.usedBytes=0,X.contents=null):M.isLink(X.mode)?(X.node_ops=At.ops_table.link.node,X.stream_ops=At.ops_table.link.stream):M.isChrdev(X.mode)&&(X.node_ops=At.ops_table.chrdev.node,X.stream_ops=At.ops_table.chrdev.stream),X.timestamp=Date.now(),u&&(u.contents[_]=X,u.timestamp=X.timestamp),X},getFileDataAsTypedArray:u=>u.contents?u.contents.subarray?u.contents.subarray(0,u.usedBytes):new Uint8Array(u.contents):new Uint8Array(0),expandFileStorage(u,_){var v=u.contents?u.contents.length:0;if(!(v>=_)){_=Math.max(_,v*(v<1048576?2:1.125)>>>0),0!=v&&(_=Math.max(_,256));var X=u.contents;u.contents=new Uint8Array(_),u.usedBytes>0&&u.contents.set(X.subarray(0,u.usedBytes),0)}},resizeFileStorage(u,_){if(u.usedBytes!=_)if(0==_)u.contents=null,u.usedBytes=0;else{var v=u.contents;u.contents=new Uint8Array(_),v&&u.contents.set(v.subarray(0,Math.min(_,u.usedBytes))),u.usedBytes=_}},node_ops:{getattr(u){var _={};return _.dev=M.isChrdev(u.mode)?u.id:1,_.ino=u.id,_.mode=u.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=u.rdev,_.size=M.isDir(u.mode)?4096:M.isFile(u.mode)?u.usedBytes:M.isLink(u.mode)?u.link.length:0,_.atime=new Date(u.timestamp),_.mtime=new Date(u.timestamp),_.ctime=new Date(u.timestamp),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},setattr(u,_){void 0!==_.mode&&(u.mode=_.mode),void 0!==_.timestamp&&(u.timestamp=_.timestamp),void 0!==_.size&&At.resizeFileStorage(u,_.size)},lookup(u,_){throw M.genericErrors[44]},mknod:(u,_,v,P)=>At.createNode(u,_,v,P),rename(u,_,v){if(M.isDir(u.mode)){var P;try{P=M.lookupNode(_,v)}catch{}if(P)for(var X in P.contents)throw new M.ErrnoError(55)}delete u.parent.contents[u.name],u.parent.timestamp=Date.now(),u.name=v,_.contents[v]=u,_.timestamp=u.parent.timestamp,u.parent=_},unlink(u,_){delete u.contents[_],u.timestamp=Date.now()},rmdir(u,_){var v=M.lookupNode(u,_);for(var P in v.contents)throw new M.ErrnoError(55);delete u.contents[_],u.timestamp=Date.now()},readdir(u){var _=[".",".."];for(var v in u.contents)u.contents.hasOwnProperty(v)&&_.push(v);return _},symlink(u,_,v){var P=At.createNode(u,_,41471,0);return P.link=v,P},readlink(u){if(!M.isLink(u.mode))throw new M.ErrnoError(28);return u.link}},stream_ops:{read(u,_,v,P,X){var Ee=u.node.contents;if(X>=u.node.usedBytes)return 0;var _e=Math.min(u.node.usedBytes-X,P);if(_e>8&&Ee.subarray)_.set(Ee.subarray(X,X+_e),v);else for(var Ve=0;Ve<_e;Ve++)_[v+Ve]=Ee[X+Ve];return _e},write(u,_,v,P,X,Ee){if(_.buffer===ae.buffer&&(Ee=!1),!P)return 0;var _e=u.node;if(_e.timestamp=Date.now(),_.subarray&&(!_e.contents||_e.contents.subarray)){if(Ee)return _e.contents=_.subarray(v,v+P),_e.usedBytes=P,P;if(0===_e.usedBytes&&0===X)return _e.contents=_.slice(v,v+P),_e.usedBytes=P,P;if(X+P<=_e.usedBytes)return _e.contents.set(_.subarray(v,v+P),X),P}if(At.expandFileStorage(_e,X+P),_e.contents.subarray&&_.subarray)_e.contents.set(_.subarray(v,v+P),X);else for(var Ve=0;Ve<P;Ve++)_e.contents[X+Ve]=_[v+Ve];return _e.usedBytes=Math.max(_e.usedBytes,X+P),P},llseek(u,_,v){var P=_;if(1===v?P+=u.position:2===v&&M.isFile(u.node.mode)&&(P+=u.node.usedBytes),P<0)throw new M.ErrnoError(28);return P},allocate(u,_,v){At.expandFileStorage(u.node,_+v),u.node.usedBytes=Math.max(u.node.usedBytes,_+v)},mmap(u,_,v,P,X){if(!M.isFile(u.node.mode))throw new M.ErrnoError(43);var Ee,_e,Ve=u.node.contents;if(2&X||Ve.buffer!==ae.buffer){if((v>0||v+_<Ve.length)&&(Ve=Ve.subarray?Ve.subarray(v,v+_):Array.prototype.slice.call(Ve,v,v+_)),_e=!0,!(Ee=yr()))throw new M.ErrnoError(48);ae.set(Ve,Ee)}else _e=!1,Ee=Ve.byteOffset;return{ptr:Ee,allocated:_e}},msync:(u,_,v,P,X)=>(At.stream_ops.write(u,_,0,P,v,!1),0)}},To=d.preloadPlugins||[],_i=(u,_)=>{var v=0;return u&&(v|=365),_&&(v|=146),v},M={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(u,_={}){if(!(u=Hn.resolve(u)))return{path:"",node:null};if((_=Object.assign({follow_mount:!0,recurse_count:0},_)).recurse_count>8)throw new M.ErrnoError(32);for(var P=u.split("/").filter(Xt=>!!Xt),X=M.root,Ee="/",_e=0;_e<P.length;_e++){var Ve=_e===P.length-1;if(Ve&&_.parent)break;if(X=M.lookupNode(X,P[_e]),Ee=me.join2(Ee,P[_e]),M.isMountpoint(X)&&(!Ve||Ve&&_.follow_mount)&&(X=X.mounted.root),!Ve||_.follow)for(var Tt=0;M.isLink(X.mode);){var vt=M.readlink(Ee);if(Ee=Hn.resolve(me.dirname(Ee),vt),X=M.lookupPath(Ee,{recurse_count:_.recurse_count+1}).node,Tt++>40)throw new M.ErrnoError(32)}}return{path:Ee,node:X}},getPath(u){for(var _;;){if(M.isRoot(u)){var v=u.mount.mountpoint;return _?"/"!==v[v.length-1]?`${v}/${_}`:v+_:v}_=_?`${u.name}/${_}`:u.name,u=u.parent}},hashName(u,_){for(var v=0,P=0;P<_.length;P++)v=(v<<5)-v+_.charCodeAt(P)|0;return(u+v>>>0)%M.nameTable.length},hashAddNode(u){var _=M.hashName(u.parent.id,u.name);u.name_next=M.nameTable[_],M.nameTable[_]=u},hashRemoveNode(u){var _=M.hashName(u.parent.id,u.name);if(M.nameTable[_]===u)M.nameTable[_]=u.name_next;else for(var v=M.nameTable[_];v;){if(v.name_next===u){v.name_next=u.name_next;break}v=v.name_next}},lookupNode(u,_){var v=M.mayLookup(u);if(v)throw new M.ErrnoError(v,u);for(var P=M.hashName(u.id,_),X=M.nameTable[P];X;X=X.name_next)if(X.parent.id===u.id&&X.name===_)return X;return M.lookup(u,_)},createNode(u,_,v,P){var X=new M.FSNode(u,_,v,P);return M.hashAddNode(X),X},destroyNode(u){M.hashRemoveNode(u)},isRoot:u=>u===u.parent,isMountpoint:u=>!!u.mounted,isFile:u=>32768==(61440&u),isDir:u=>16384==(61440&u),isLink:u=>40960==(61440&u),isChrdev:u=>8192==(61440&u),isBlkdev:u=>24576==(61440&u),isFIFO:u=>4096==(61440&u),isSocket:u=>49152==(49152&u),flagsToPermissionString(u){var _=["r","w","rw"][3&u];return 512&u&&(_+="w"),_},nodePermissions:(u,_)=>M.ignorePermissions?0:_.includes("r")&&!(292&u.mode)||_.includes("w")&&!(146&u.mode)||_.includes("x")&&!(73&u.mode)?2:0,mayLookup:u=>M.nodePermissions(u,"x")||(u.node_ops.lookup?0:2),mayCreate(u,_){try{return M.lookupNode(u,_),20}catch{}return M.nodePermissions(u,"wx")},mayDelete(u,_,v){var P;try{P=M.lookupNode(u,_)}catch(Ee){return Ee.errno}var X=M.nodePermissions(u,"wx");if(X)return X;if(v){if(!M.isDir(P.mode))return 54;if(M.isRoot(P)||M.getPath(P)===M.cwd())return 10}else if(M.isDir(P.mode))return 31;return 0},mayOpen:(u,_)=>u?M.isLink(u.mode)?32:M.isDir(u.mode)&&("r"!==M.flagsToPermissionString(_)||512&_)?31:M.nodePermissions(u,M.flagsToPermissionString(_)):44,MAX_OPEN_FDS:4096,nextfd(){for(var u=0;u<=M.MAX_OPEN_FDS;u++)if(!M.streams[u])return u;throw new M.ErrnoError(33)},getStreamChecked(u){var _=M.getStream(u);if(!_)throw new M.ErrnoError(8);return _},getStream:u=>M.streams[u],createStream:(u,_=-1)=>(M.FSStream||(M.FSStream=function(){this.shared={}},M.FSStream.prototype={},Object.defineProperties(M.FSStream.prototype,{object:{get(){return this.node},set(v){this.node=v}},isRead:{get(){return 1!=(2097155&this.flags)}},isWrite:{get(){return 0!=(2097155&this.flags)}},isAppend:{get(){return 1024&this.flags}},flags:{get(){return this.shared.flags},set(v){this.shared.flags=v}},position:{get(){return this.shared.position},set(v){this.shared.position=v}}})),u=Object.assign(new M.FSStream,u),-1==_&&(_=M.nextfd()),u.fd=_,M.streams[_]=u,u),closeStream(u){M.streams[u]=null},chrdev_stream_ops:{open(u){var _=M.getDevice(u.node.rdev);u.stream_ops=_.stream_ops,u.stream_ops.open&&u.stream_ops.open(u)},llseek(){throw new M.ErrnoError(70)}},major:u=>u>>8,minor:u=>255&u,makedev:(u,_)=>u<<8|_,registerDevice(u,_){M.devices[u]={stream_ops:_}},getDevice:u=>M.devices[u],getMounts(u){for(var _=[],v=[u];v.length;){var P=v.pop();_.push(P),v.push.apply(v,P.mounts)}return _},syncfs(u,_){"function"==typeof u&&(_=u,u=!1),M.syncFSRequests++,M.syncFSRequests>1&&V(`warning: ${M.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var v=M.getMounts(M.root.mount),P=0;function X(_e){return M.syncFSRequests--,_(_e)}function Ee(_e){if(_e)return Ee.errored?void 0:(Ee.errored=!0,X(_e));++P>=v.length&&X(null)}v.forEach(_e=>{if(!_e.type.syncfs)return Ee(null);_e.type.syncfs(_e,u,Ee)})},mount(u,_,v){var Ee,P="/"===v,X=!v;if(P&&M.root)throw new M.ErrnoError(10);if(!P&&!X){var _e=M.lookupPath(v,{follow_mount:!1});if(v=_e.path,M.isMountpoint(Ee=_e.node))throw new M.ErrnoError(10);if(!M.isDir(Ee.mode))throw new M.ErrnoError(54)}var Ve={type:u,opts:_,mountpoint:v,mounts:[]},Tt=u.mount(Ve);return Tt.mount=Ve,Ve.root=Tt,P?M.root=Tt:Ee&&(Ee.mounted=Ve,Ee.mount&&Ee.mount.mounts.push(Ve)),Tt},unmount(u){var _=M.lookupPath(u,{follow_mount:!1});if(!M.isMountpoint(_.node))throw new M.ErrnoError(28);var v=_.node,P=v.mounted,X=M.getMounts(P);Object.keys(M.nameTable).forEach(_e=>{for(var Ve=M.nameTable[_e];Ve;){var Tt=Ve.name_next;X.includes(Ve.mount)&&M.destroyNode(Ve),Ve=Tt}}),v.mounted=null;var Ee=v.mount.mounts.indexOf(P);v.mount.mounts.splice(Ee,1)},lookup:(u,_)=>u.node_ops.lookup(u,_),mknod(u,_,v){var X=M.lookupPath(u,{parent:!0}).node,Ee=me.basename(u);if(!Ee||"."===Ee||".."===Ee)throw new M.ErrnoError(28);var _e=M.mayCreate(X,Ee);if(_e)throw new M.ErrnoError(_e);if(!X.node_ops.mknod)throw new M.ErrnoError(63);return X.node_ops.mknod(X,Ee,_,v)},create:(u,_)=>(_=void 0!==_?_:438,_&=4095,M.mknod(u,_|=32768,0)),mkdir:(u,_)=>(_=void 0!==_?_:511,_&=1023,M.mknod(u,_|=16384,0)),mkdirTree(u,_){for(var v=u.split("/"),P="",X=0;X<v.length;++X)if(v[X]){P+="/"+v[X];try{M.mkdir(P,_)}catch(Ee){if(20!=Ee.errno)throw Ee}}},mkdev:(u,_,v)=>(typeof v>"u"&&(v=_,_=438),M.mknod(u,_|=8192,v)),symlink(u,_){if(!Hn.resolve(u))throw new M.ErrnoError(44);var P=M.lookupPath(_,{parent:!0}).node;if(!P)throw new M.ErrnoError(44);var X=me.basename(_),Ee=M.mayCreate(P,X);if(Ee)throw new M.ErrnoError(Ee);if(!P.node_ops.symlink)throw new M.ErrnoError(63);return P.node_ops.symlink(P,X,u)},rename(u,_){var Ve,Tt,v=me.dirname(u),P=me.dirname(_),X=me.basename(u),Ee=me.basename(_);if(Ve=M.lookupPath(u,{parent:!0}).node,Tt=M.lookupPath(_,{parent:!0}).node,!Ve||!Tt)throw new M.ErrnoError(44);if(Ve.mount!==Tt.mount)throw new M.ErrnoError(75);var Xt,vt=M.lookupNode(Ve,X),bn=Hn.relative(u,P);if("."!==bn.charAt(0))throw new M.ErrnoError(28);if("."!==(bn=Hn.relative(_,v)).charAt(0))throw new M.ErrnoError(55);try{Xt=M.lookupNode(Tt,Ee)}catch{}if(vt!==Xt){var tn=M.isDir(vt.mode),Yt=M.mayDelete(Ve,X,tn);if(Yt)throw new M.ErrnoError(Yt);if(Yt=Xt?M.mayDelete(Tt,Ee,tn):M.mayCreate(Tt,Ee))throw new M.ErrnoError(Yt);if(!Ve.node_ops.rename)throw new M.ErrnoError(63);if(M.isMountpoint(vt)||Xt&&M.isMountpoint(Xt))throw new M.ErrnoError(10);if(Tt!==Ve&&(Yt=M.nodePermissions(Ve,"w")))throw new M.ErrnoError(Yt);M.hashRemoveNode(vt);try{Ve.node_ops.rename(vt,Tt,Ee)}catch(Fn){throw Fn}finally{M.hashAddNode(vt)}}},rmdir(u){var v=M.lookupPath(u,{parent:!0}).node,P=me.basename(u),X=M.lookupNode(v,P),Ee=M.mayDelete(v,P,!0);if(Ee)throw new M.ErrnoError(Ee);if(!v.node_ops.rmdir)throw new M.ErrnoError(63);if(M.isMountpoint(X))throw new M.ErrnoError(10);v.node_ops.rmdir(v,P),M.destroyNode(X)},readdir(u){var v=M.lookupPath(u,{follow:!0}).node;if(!v.node_ops.readdir)throw new M.ErrnoError(54);return v.node_ops.readdir(v)},unlink(u){var v=M.lookupPath(u,{parent:!0}).node;if(!v)throw new M.ErrnoError(44);var P=me.basename(u),X=M.lookupNode(v,P),Ee=M.mayDelete(v,P,!1);if(Ee)throw new M.ErrnoError(Ee);if(!v.node_ops.unlink)throw new M.ErrnoError(63);if(M.isMountpoint(X))throw new M.ErrnoError(10);v.node_ops.unlink(v,P),M.destroyNode(X)},readlink(u){var v=M.lookupPath(u).node;if(!v)throw new M.ErrnoError(44);if(!v.node_ops.readlink)throw new M.ErrnoError(28);return Hn.resolve(M.getPath(v.parent),v.node_ops.readlink(v))},stat(u,_){var P=M.lookupPath(u,{follow:!_}).node;if(!P)throw new M.ErrnoError(44);if(!P.node_ops.getattr)throw new M.ErrnoError(63);return P.node_ops.getattr(P)},lstat:u=>M.stat(u,!0),chmod(u,_,v){var P;if(!(P="string"==typeof u?M.lookupPath(u,{follow:!v}).node:u).node_ops.setattr)throw new M.ErrnoError(63);P.node_ops.setattr(P,{mode:4095&_|-4096&P.mode,timestamp:Date.now()})},lchmod(u,_){M.chmod(u,_,!0)},fchmod(u,_){var v=M.getStreamChecked(u);M.chmod(v.node,_)},chown(u,_,v,P){var X;if(!(X="string"==typeof u?M.lookupPath(u,{follow:!P}).node:u).node_ops.setattr)throw new M.ErrnoError(63);X.node_ops.setattr(X,{timestamp:Date.now()})},lchown(u,_,v){M.chown(u,_,v,!0)},fchown(u,_,v){var P=M.getStreamChecked(u);M.chown(P.node,_,v)},truncate(u,_){if(_<0)throw new M.ErrnoError(28);var v;if(!(v="string"==typeof u?M.lookupPath(u,{follow:!0}).node:u).node_ops.setattr)throw new M.ErrnoError(63);if(M.isDir(v.mode))throw new M.ErrnoError(31);if(!M.isFile(v.mode))throw new M.ErrnoError(28);var X=M.nodePermissions(v,"w");if(X)throw new M.ErrnoError(X);v.node_ops.setattr(v,{size:_,timestamp:Date.now()})},ftruncate(u,_){var v=M.getStreamChecked(u);if(!(2097155&v.flags))throw new M.ErrnoError(28);M.truncate(v.node,_)},utime(u,_,v){var X=M.lookupPath(u,{follow:!0}).node;X.node_ops.setattr(X,{timestamp:Math.max(_,v)})},open(u,_,v){if(""===u)throw new M.ErrnoError(44);var P;if(_="string"==typeof _?(u=>{var v={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[u];if(typeof v>"u")throw new Error(`Unknown file open mode: ${u}`);return v})(_):_,v=typeof v>"u"?438:v,v=64&_?4095&v|32768:0,"object"==typeof u)P=u;else{u=me.normalize(u);try{P=M.lookupPath(u,{follow:!(131072&_)}).node}catch{}}var Ee=!1;if(64&_)if(P){if(128&_)throw new M.ErrnoError(20)}else P=M.mknod(u,v,0),Ee=!0;if(!P)throw new M.ErrnoError(44);if(M.isChrdev(P.mode)&&(_&=-513),65536&_&&!M.isDir(P.mode))throw new M.ErrnoError(54);if(!Ee){var _e=M.mayOpen(P,_);if(_e)throw new M.ErrnoError(_e)}512&_&&!Ee&&M.truncate(P,0),_&=-131713;var Ve=M.createStream({node:P,path:M.getPath(P),flags:_,seekable:!0,position:0,stream_ops:P.stream_ops,ungotten:[],error:!1});return Ve.stream_ops.open&&Ve.stream_ops.open(Ve),d.logReadFiles&&!(1&_)&&(M.readFiles||(M.readFiles={}),u in M.readFiles||(M.readFiles[u]=1)),Ve},close(u){if(M.isClosed(u))throw new M.ErrnoError(8);u.getdents&&(u.getdents=null);try{u.stream_ops.close&&u.stream_ops.close(u)}catch(_){throw _}finally{M.closeStream(u.fd)}u.fd=null},isClosed:u=>null===u.fd,llseek(u,_,v){if(M.isClosed(u))throw new M.ErrnoError(8);if(!u.seekable||!u.stream_ops.llseek)throw new M.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new M.ErrnoError(28);return u.position=u.stream_ops.llseek(u,_,v),u.ungotten=[],u.position},read(u,_,v,P,X){if(P<0||X<0)throw new M.ErrnoError(28);if(M.isClosed(u))throw new M.ErrnoError(8);if(1==(2097155&u.flags))throw new M.ErrnoError(8);if(M.isDir(u.node.mode))throw new M.ErrnoError(31);if(!u.stream_ops.read)throw new M.ErrnoError(28);var Ee=typeof X<"u";if(Ee){if(!u.seekable)throw new M.ErrnoError(70)}else X=u.position;var _e=u.stream_ops.read(u,_,v,P,X);return Ee||(u.position+=_e),_e},write(u,_,v,P,X,Ee){if(P<0||X<0)throw new M.ErrnoError(28);if(M.isClosed(u))throw new M.ErrnoError(8);if(!(2097155&u.flags))throw new M.ErrnoError(8);if(M.isDir(u.node.mode))throw new M.ErrnoError(31);if(!u.stream_ops.write)throw new M.ErrnoError(28);u.seekable&&1024&u.flags&&M.llseek(u,0,2);var _e=typeof X<"u";if(_e){if(!u.seekable)throw new M.ErrnoError(70)}else X=u.position;var Ve=u.stream_ops.write(u,_,v,P,X,Ee);return _e||(u.position+=Ve),Ve},allocate(u,_,v){if(M.isClosed(u))throw new M.ErrnoError(8);if(_<0||v<=0)throw new M.ErrnoError(28);if(!(2097155&u.flags))throw new M.ErrnoError(8);if(!M.isFile(u.node.mode)&&!M.isDir(u.node.mode))throw new M.ErrnoError(43);if(!u.stream_ops.allocate)throw new M.ErrnoError(138);u.stream_ops.allocate(u,_,v)},mmap(u,_,v,P,X){if(2&P&&!(2&X)&&2!=(2097155&u.flags))throw new M.ErrnoError(2);if(1==(2097155&u.flags))throw new M.ErrnoError(2);if(!u.stream_ops.mmap)throw new M.ErrnoError(43);return u.stream_ops.mmap(u,_,v,P,X)},msync:(u,_,v,P,X)=>u.stream_ops.msync?u.stream_ops.msync(u,_,v,P,X):0,munmap:u=>0,ioctl(u,_,v){if(!u.stream_ops.ioctl)throw new M.ErrnoError(59);return u.stream_ops.ioctl(u,_,v)},readFile(u,_={}){if(_.flags=_.flags||0,_.encoding=_.encoding||"binary","utf8"!==_.encoding&&"binary"!==_.encoding)throw new Error(`Invalid encoding type "${_.encoding}"`);var v,P=M.open(u,_.flags),Ee=M.stat(u).size,_e=new Uint8Array(Ee);return M.read(P,_e,0,Ee,0),"utf8"===_.encoding?v=to(_e,0):"binary"===_.encoding&&(v=_e),M.close(P),v},writeFile(u,_,v={}){v.flags=v.flags||577;var P=M.open(u,v.flags,v.mode);if("string"==typeof _){var X=new Uint8Array(Sr(_)+1),Ee=co(_,X,0,X.length);M.write(P,X,0,Ee,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(_))throw new Error("Unsupported data type");M.write(P,_,0,_.byteLength,void 0,v.canOwn)}M.close(P)},cwd:()=>M.currentPath,chdir(u){var _=M.lookupPath(u,{follow:!0});if(null===_.node)throw new M.ErrnoError(44);if(!M.isDir(_.node.mode))throw new M.ErrnoError(54);var v=M.nodePermissions(_.node,"x");if(v)throw new M.ErrnoError(v);M.currentPath=_.path},createDefaultDirectories(){M.mkdir("/tmp"),M.mkdir("/home"),M.mkdir("/home/web_user")},createDefaultDevices(){M.mkdir("/dev"),M.registerDevice(M.makedev(1,3),{read:()=>0,write:(P,X,Ee,_e,Ve)=>_e}),M.mkdev("/dev/null",M.makedev(1,3)),uo.register(M.makedev(5,0),uo.default_tty_ops),uo.register(M.makedev(6,0),uo.default_tty1_ops),M.mkdev("/dev/tty",M.makedev(5,0)),M.mkdev("/dev/tty1",M.makedev(6,0));var u=new Uint8Array(1024),_=0,v=()=>(0===_&&(_=qt(u).byteLength),u[--_]);M.createDevice("/dev","random",v),M.createDevice("/dev","urandom",v),M.mkdir("/dev/shm"),M.mkdir("/dev/shm/tmp")},createSpecialDirectories(){M.mkdir("/proc");var u=M.mkdir("/proc/self");M.mkdir("/proc/self/fd"),M.mount({mount(){var _=M.createNode(u,"fd",16895,73);return _.node_ops={lookup(v,P){var Ee=M.getStreamChecked(+P),_e={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Ee.path}};return _e.parent=_e,_e}},_}},{},"/proc/self/fd")},createStandardStreams(){d.stdin?M.createDevice("/dev","stdin",d.stdin):M.symlink("/dev/tty","/dev/stdin"),d.stdout?M.createDevice("/dev","stdout",null,d.stdout):M.symlink("/dev/tty","/dev/stdout"),d.stderr?M.createDevice("/dev","stderr",null,d.stderr):M.symlink("/dev/tty1","/dev/stderr"),M.open("/dev/stdin",0),M.open("/dev/stdout",1),M.open("/dev/stderr",1)},ensureErrnoError(){M.ErrnoError||(M.ErrnoError=function(_,v){this.name="ErrnoError",this.node=v,this.setErrno=function(P){this.errno=P},this.setErrno(_),this.message="FS error"},M.ErrnoError.prototype=new Error,M.ErrnoError.prototype.constructor=M.ErrnoError,[44].forEach(u=>{M.genericErrors[u]=new M.ErrnoError(u),M.genericErrors[u].stack="<generic error, no stack>"}))},staticInit(){M.ensureErrnoError(),M.nameTable=new Array(4096),M.mount(At,{},"/"),M.createDefaultDirectories(),M.createDefaultDevices(),M.createSpecialDirectories(),M.filesystems={MEMFS:At}},init(u,_,v){M.init.initialized=!0,M.ensureErrnoError(),d.stdin=u||d.stdin,d.stdout=_||d.stdout,d.stderr=v||d.stderr,M.createStandardStreams()},quit(){M.init.initialized=!1;for(var u=0;u<M.streams.length;u++){var _=M.streams[u];_&&M.close(_)}},findObject(u,_){var v=M.analyzePath(u,_);return v.exists?v.object:null},analyzePath(u,_){try{u=(v=M.lookupPath(u,{follow:!_})).path}catch{}var P={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=M.lookupPath(u,{parent:!0});P.parentExists=!0,P.parentPath=v.path,P.parentObject=v.node,P.name=me.basename(u),v=M.lookupPath(u,{follow:!_}),P.exists=!0,P.path=v.path,P.object=v.node,P.name=v.node.name,P.isRoot="/"===v.path}catch(X){P.error=X.errno}return P},createPath(u,_,v,P){u="string"==typeof u?u:M.getPath(u);for(var X=_.split("/").reverse();X.length;){var Ee=X.pop();if(Ee){var _e=me.join2(u,Ee);try{M.mkdir(_e)}catch{}u=_e}}return _e},createFile(u,_,v,P,X){var Ee=me.join2("string"==typeof u?u:M.getPath(u),_),_e=_i(P,X);return M.create(Ee,_e)},createDataFile(u,_,v,P,X,Ee){var _e=_;u&&(u="string"==typeof u?u:M.getPath(u),_e=_?me.join2(u,_):u);var Ve=_i(P,X),Tt=M.create(_e,Ve);if(v){if("string"==typeof v){for(var vt=new Array(v.length),bn=0,Xt=v.length;bn<Xt;++bn)vt[bn]=v.charCodeAt(bn);v=vt}M.chmod(Tt,146|Ve);var tn=M.open(Tt,577);M.write(tn,v,0,v.length,0,Ee),M.close(tn),M.chmod(Tt,Ve)}return Tt},createDevice(u,_,v,P){var X=me.join2("string"==typeof u?u:M.getPath(u),_),Ee=_i(!!v,!!P);M.createDevice.major||(M.createDevice.major=64);var _e=M.makedev(M.createDevice.major++,0);return M.registerDevice(_e,{open(Ve){Ve.seekable=!1},close(Ve){P&&P.buffer&&P.buffer.length&&P(10)},read(Ve,Tt,vt,bn,Xt){for(var tn=0,Yt=0;Yt<bn;Yt++){var Fn;try{Fn=v()}catch{throw new M.ErrnoError(29)}if(void 0===Fn&&0===tn)throw new M.ErrnoError(6);if(null==Fn)break;tn++,Tt[vt+Yt]=Fn}return tn&&(Ve.node.timestamp=Date.now()),tn},write(Ve,Tt,vt,bn,Xt){for(var tn=0;tn<bn;tn++)try{P(Tt[vt+tn])}catch{throw new M.ErrnoError(29)}return bn&&(Ve.node.timestamp=Date.now()),tn}}),M.mkdev(X,Ee,_e)},forceLoadFile(u){if(u.isDevice||u.isFolder||u.link||u.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{u.contents=vr(G(u.url),!0),u.usedBytes=u.contents.length}catch{throw new M.ErrnoError(29)}},createLazyFile(u,_,v,P,X){function Ee(){this.lengthKnown=!1,this.chunks=[]}if(Ee.prototype.get=function(Yt){if(!(Yt>this.length-1||Yt<0)){var Fn=Yt%this.chunkSize;return this.getter(Yt/this.chunkSize|0)[Fn]}},Ee.prototype.setDataGetter=function(Yt){this.getter=Yt},Ee.prototype.cacheLength=function(){var Yt=new XMLHttpRequest;if(Yt.open("HEAD",v,!1),Yt.send(null),!(Yt.status>=200&&Yt.status<300||304===Yt.status))throw new Error("Couldn't load "+v+". Status: "+Yt.status);var Qn,Fn=Number(Yt.getResponseHeader("Content-length")),yi=(Qn=Yt.getResponseHeader("Accept-Ranges"))&&"bytes"===Qn,jo=(Qn=Yt.getResponseHeader("Content-Encoding"))&&"gzip"===Qn,wt=1048576;yi||(wt=Fn);var Eo=this;Eo.setDataGetter(kn=>{var kt=kn*wt,Qt=(kn+1)*wt-1;if(Qt=Math.min(Qt,Fn-1),typeof Eo.chunks[kn]>"u"&&(Eo.chunks[kn]=((kn,kt)=>{if(kn>kt)throw new Error("invalid range ("+kn+", "+kt+") or no bytes requested!");if(kt>Fn-1)throw new Error("only "+Fn+" bytes available! programmer error!");var Qt=new XMLHttpRequest;if(Qt.open("GET",v,!1),Fn!==wt&&Qt.setRequestHeader("Range","bytes="+kn+"-"+kt),Qt.responseType="arraybuffer",Qt.overrideMimeType&&Qt.overrideMimeType("text/plain; charset=x-user-defined"),Qt.send(null),!(Qt.status>=200&&Qt.status<300||304===Qt.status))throw new Error("Couldn't load "+v+". Status: "+Qt.status);return void 0!==Qt.response?new Uint8Array(Qt.response||[]):vr(Qt.responseText||"",!0)})(kt,Qt)),typeof Eo.chunks[kn]>"u")throw new Error("doXHR failed!");return Eo.chunks[kn]}),(jo||!Fn)&&(wt=Fn=1,Fn=this.getter(0).length,wt=Fn,ue("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Fn,this._chunkSize=wt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!ee)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var _e=new Ee;Object.defineProperties(_e,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ve={isDevice:!1,contents:_e}}else Ve={isDevice:!1,url:v};var Tt=M.createFile(u,_,Ve,P,X);Ve.contents?Tt.contents=Ve.contents:Ve.url&&(Tt.contents=null,Tt.url=Ve.url),Object.defineProperties(Tt,{usedBytes:{get:function(){return this.contents.length}}});var vt={};function Xt(tn,Yt,Fn,Qn,yi){var jo=tn.node.contents;if(yi>=jo.length)return 0;var wt=Math.min(jo.length-yi,Qn);if(jo.slice)for(var pn=0;pn<wt;pn++)Yt[Fn+pn]=jo[yi+pn];else for(pn=0;pn<wt;pn++)Yt[Fn+pn]=jo.get(yi+pn);return wt}return Object.keys(Tt.stream_ops).forEach(tn=>{var Yt=Tt.stream_ops[tn];vt[tn]=function(){return M.forceLoadFile(Tt),Yt.apply(null,arguments)}}),vt.read=(tn,Yt,Fn,Qn,yi)=>(M.forceLoadFile(Tt),Xt(tn,Yt,Fn,Qn,yi)),vt.mmap=(tn,Yt,Fn,Qn,yi)=>{M.forceLoadFile(Tt);var jo=yr();if(!jo)throw new M.ErrnoError(48);return Xt(tn,ae,jo,Yt,Fn),{ptr:jo,allocated:!0}},Tt.stream_ops=vt,Tt}},x={DEFAULT_POLLMASK:5,calculateAt(u,_,v){if(me.isAbs(_))return _;var P;if(P=-100===u?M.cwd():x.getStreamFromFD(u).path,0==_.length){if(!v)throw new M.ErrnoError(44);return P}return me.join2(P,_)},doStat(u,_,v){try{var P=u(_)}catch(Ve){if(Ve&&Ve.node&&me.normalize(_)!==me.normalize(M.getPath(Ve.node)))return-54;throw Ve}N[v>>2]=P.dev,N[v+4>>2]=P.mode,j[v+8>>2]=P.nlink,N[v+12>>2]=P.uid,N[v+16>>2]=P.gid,N[v+20>>2]=P.rdev,Zt=[P.size>>>0,(Ze=P.size,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[v+24>>2]=Zt[0],N[v+28>>2]=Zt[1],N[v+32>>2]=4096,N[v+36>>2]=P.blocks;var X=P.atime.getTime(),Ee=P.mtime.getTime(),_e=P.ctime.getTime();return Zt=[Math.floor(X/1e3)>>>0,(Ze=Math.floor(X/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[v+40>>2]=Zt[0],N[v+44>>2]=Zt[1],j[v+48>>2]=X%1e3*1e3,Zt=[Math.floor(Ee/1e3)>>>0,(Ze=Math.floor(Ee/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[v+56>>2]=Zt[0],N[v+60>>2]=Zt[1],j[v+64>>2]=Ee%1e3*1e3,Zt=[Math.floor(_e/1e3)>>>0,(Ze=Math.floor(_e/1e3),+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[v+72>>2]=Zt[0],N[v+76>>2]=Zt[1],j[v+80>>2]=_e%1e3*1e3,Zt=[P.ino>>>0,(Ze=P.ino,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[v+88>>2]=Zt[0],N[v+92>>2]=Zt[1],0},doMsync(u,_,v,P,X){if(!M.isFile(_.node.mode))throw new M.ErrnoError(43);if(2&P)return 0;var Ee=pe.slice(u,u+v);M.msync(_,Ee,X,v,P)},varargs:void 0,get(){var u=N[+x.varargs>>2];return x.varargs+=4,u},getp:()=>x.get(),getStr:u=>Xn(u),getStreamFromFD:u=>M.getStreamChecked(u)},k=(u,_)=>_+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*_:NaN,Co=u=>u%4==0&&(u%100!=0||u%400==0),ws=[0,31,60,91,121,152,182,213,244,274,305,335],vi=[0,31,59,90,120,151,181,212,243,273,304,334],Nr=u=>(Co(u.getFullYear())?ws:vi)[u.getMonth()]+u.getDate()-1,Po=u=>{var _=Sr(u)+1,v=ui(_);return v&&((u,_,v)=>{co(u,pe,_,v)})(u,v,_),v},Gr=u=>{var v=(u-ve.buffer.byteLength+65535)/65536;try{return ve.grow(v),It(),1}catch{}},Wi={},xi=()=>{if(!xi.strings){var _={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:F||"./this.program"};for(var v in Wi)void 0===Wi[v]?delete _[v]:_[v]=Wi[v];var P=[];for(var v in _)P.push(`${v}=${_[v]}`);xi.strings=P}return xi.strings},E=[31,29,31,30,31,30,31,31,30,31,30,31],B=[31,28,31,30,31,30,31,31,30,31,30,31],st=(u,_)=>{Je=u,(u=>{Je=u,function Ut(){return de||!1}()||(d.onExit&&d.onExit(u),fe=!0),U(u,new Zr(u))})(u)},ut=function(u,_,v,P){u||(u=this),this.parent=u,this.mount=u.mount,this.mounted=null,this.id=M.nextInode++,this.name=_,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=P};Object.defineProperties(ut.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(u){u?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(u){u?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return M.isDir(this.mode)}},isDevice:{get:function(){return M.isChrdev(this.mode)}}}),M.FSNode=ut,M.createPreloadedFile=(u,_,v,P,X,Ee,_e,Ve,Tt,vt)=>{var bn=_?Hn.resolve(me.join2(u,_)):u;function tn(Yt){function Fn(Qn){vt&&vt(),Ve||((u,_,v,P,X,Ee)=>{M.createDataFile(u,_,v,P,X,Ee)})(u,_,Qn,P,X,Tt),Ee&&Ee(),In()}((u,_,v,P)=>{typeof Browser<"u"&&Browser.init();var X=!1;return To.forEach(Ee=>{X||Ee.canHandle(_)&&(Ee.handle(u,_,v,P),X=!0)}),X})(Yt,bn,Fn,()=>{_e&&_e(),In()})||Fn(Yt)}Jt(),"string"==typeof v?((u,_,v,P)=>{var X=`al ${u}`;Oe(u,Ee=>{Qe(Ee,`Loading data file "${u}" failed (no arrayBuffer).`),tn(new Uint8Array(Ee)),X&&In()},Ee=>{if(!v)throw`Loading data file "${u}" failed.`;v()}),X&&Jt()})(v,0,_e):tn(v)},M.staticInit();var _t,Kn={a:(u,_,v,P)=>{_n(`Assertion failed: ${Xn(u)}, at: `+[_?Xn(_):"unknown filename",v,P?Xn(P):"unknown function"])},n:function Ao(u,_,v){var P=k(_,v);try{return isNaN(P)?61:(M.ftruncate(u,P),0)}catch(X){if(typeof M>"u"||"ErrnoError"!==X.name)throw X;return-X.errno}},j:()=>!0,k:function po(u,_,v){var P=k(u,_),X=new Date(1e3*P);N[v>>2]=X.getSeconds(),N[v+4>>2]=X.getMinutes(),N[v+8>>2]=X.getHours(),N[v+12>>2]=X.getDate(),N[v+16>>2]=X.getMonth(),N[v+20>>2]=X.getFullYear()-1900,N[v+24>>2]=X.getDay();var Ee=0|Nr(X);N[v+28>>2]=Ee,N[v+36>>2]=-60*X.getTimezoneOffset();var _e=new Date(X.getFullYear(),0,1),Ve=new Date(X.getFullYear(),6,1).getTimezoneOffset(),Tt=_e.getTimezoneOffset(),vt=0|(Ve!=Tt&&X.getTimezoneOffset()==Math.min(Tt,Ve));N[v+32>>2]=vt},l:function(u){var _=(()=>{var v=new Date(N[u+20>>2]+1900,N[u+16>>2],N[u+12>>2],N[u+8>>2],N[u+4>>2],N[u>>2],0),P=N[u+32>>2],X=v.getTimezoneOffset(),Ee=new Date(v.getFullYear(),0,1),_e=new Date(v.getFullYear(),6,1).getTimezoneOffset(),Ve=Ee.getTimezoneOffset(),Tt=Math.min(Ve,_e);if(P<0)N[u+32>>2]=+(_e!=Ve&&Tt==X);else if(P>0!=(Tt==X)){var vt=Math.max(Ve,_e),bn=P>0?Tt:vt;v.setTime(v.getTime()+6e4*(bn-X))}N[u+24>>2]=v.getDay();var Xt=0|Nr(v);return N[u+28>>2]=Xt,N[u>>2]=v.getSeconds(),N[u+4>>2]=v.getMinutes(),N[u+8>>2]=v.getHours(),N[u+12>>2]=v.getDate(),N[u+16>>2]=v.getMonth(),N[u+20>>2]=v.getYear(),v.getTime()/1e3})();return Pt((Ze=_,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)),_>>>0},e:(u,_,v)=>{var P=(new Date).getFullYear(),X=new Date(P,0,1),Ee=new Date(P,6,1),_e=X.getTimezoneOffset(),Ve=Ee.getTimezoneOffset(),Tt=Math.max(_e,Ve);function vt(Fn){var Qn=Fn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Qn?Qn[1]:"GMT"}j[u>>2]=60*Tt,N[_>>2]=+(_e!=Ve);var bn=vt(X),Xt=vt(Ee),tn=Po(bn),Yt=Po(Xt);Ve<_e?(j[v>>2]=tn,j[v+4>>2]=Yt):(j[v>>2]=Yt,j[v+4>>2]=tn)},b:()=>{_n("")},c:()=>Date.now(),f:(u,_,v)=>pe.copyWithin(u,_,_+v),d:u=>{var Tt,_=pe.length,v=2147483648;if((u>>>=0)>v)return!1;for(var X=1;X<=4;X*=2){var Ee=_*(1+.2/X);Ee=Math.min(Ee,u+100663296);var _e=Math.min(v,(Tt=Math.max(u,Ee))+(65536-Tt%65536)%65536);if(Gr(_e))return!0}return!1},p:(u,_)=>{var v=0;return xi().forEach((P,X)=>{var Ee=_+v;j[u+4*X>>2]=Ee,((u,_)=>{for(var v=0;v<u.length;++v)ae[_++>>0]=u.charCodeAt(v);ae[_>>0]=0})(P,Ee),v+=P.length+1}),0},q:(u,_)=>{var v=xi();j[u>>2]=v.length;var P=0;return v.forEach(X=>P+=X.length+1),j[_>>2]=P,0},g:function ds(u){try{var _=x.getStreamFromFD(u);return M.close(_),0}catch(v){if(typeof M>"u"||"ErrnoError"!==v.name)throw v;return v.errno}},i:function tr(u,_,v,P){try{var Ee=((u,_,v,P)=>{for(var X=0,Ee=0;Ee<v;Ee++){var _e=j[_>>2],Ve=j[_+4>>2];_+=8;var Tt=M.read(u,ae,_e,Ve,P);if(Tt<0)return-1;if(X+=Tt,Tt<Ve)break;typeof P<"u"&&(P+=Tt)}return X})(x.getStreamFromFD(u),_,v);return j[P>>2]=Ee,0}catch(_e){if(typeof M>"u"||"ErrnoError"!==_e.name)throw _e;return _e.errno}},m:function Zi(u,_,v,P,X){var Ee=k(_,v);try{if(isNaN(Ee))return 61;var _e=x.getStreamFromFD(u);return M.llseek(_e,Ee,P),Zt=[_e.position>>>0,(Ze=_e.position,+Math.abs(Ze)>=1?Ze>0?+Math.floor(Ze/4294967296)>>>0:~~+Math.ceil((Ze-+(~~Ze>>>0))/4294967296)>>>0:0)],N[X>>2]=Zt[0],N[X+4>>2]=Zt[1],_e.getdents&&0===Ee&&0===P&&(_e.getdents=null),0}catch(Ve){if(typeof M>"u"||"ErrnoError"!==Ve.name)throw Ve;return Ve.errno}},h:function Is(u,_,v,P){try{var Ee=((u,_,v,P)=>{for(var X=0,Ee=0;Ee<v;Ee++){var _e=j[_>>2],Ve=j[_+4>>2];_+=8;var Tt=M.write(u,ae,_e,Ve,P);if(Tt<0)return-1;X+=Tt,typeof P<"u"&&(P+=Tt)}return X})(x.getStreamFromFD(u),_,v);return j[P>>2]=Ee,0}catch(_e){if(typeof M>"u"||"ErrnoError"!==_e.name)throw _e;return _e.errno}},o:(u,_,v,P,X)=>((u,_,v,P)=>{var X=j[P+40>>2],Ee={tm_sec:N[P>>2],tm_min:N[P+4>>2],tm_hour:N[P+8>>2],tm_mday:N[P+12>>2],tm_mon:N[P+16>>2],tm_year:N[P+20>>2],tm_wday:N[P+24>>2],tm_yday:N[P+28>>2],tm_isdst:N[P+32>>2],tm_gmtoff:N[P+36>>2],tm_zone:X?Xn(X):""},_e=Xn(v),Ve={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Tt in Ve)_e=_e.replace(new RegExp(Tt,"g"),Ve[Tt]);var vt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Xt(wt,pn,Eo){for(var kn="number"==typeof wt?wt.toString():wt||"";kn.length<pn;)kn=Eo[0]+kn;return kn}function tn(wt,pn){return Xt(wt,pn,"0")}function Yt(wt,pn){function Eo(kt){return kt<0?-1:kt>0?1:0}var kn;return 0===(kn=Eo(wt.getFullYear()-pn.getFullYear()))&&0===(kn=Eo(wt.getMonth()-pn.getMonth()))&&(kn=Eo(wt.getDate()-pn.getDate())),kn}function Fn(wt){switch(wt.getDay()){case 0:return new Date(wt.getFullYear()-1,11,29);case 1:return wt;case 2:return new Date(wt.getFullYear(),0,3);case 3:return new Date(wt.getFullYear(),0,2);case 4:return new Date(wt.getFullYear(),0,1);case 5:return new Date(wt.getFullYear()-1,11,31);case 6:return new Date(wt.getFullYear()-1,11,30)}}function Qn(wt){var pn=((u,_)=>{for(var v=new Date(u.getTime());_>0;){var P=Co(v.getFullYear()),X=v.getMonth(),Ee=(P?E:B)[X];if(!(_>Ee-v.getDate()))return v.setDate(v.getDate()+_),v;_-=Ee-v.getDate()+1,v.setDate(1),X<11?v.setMonth(X+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v})(new Date(wt.tm_year+1900,0,1),wt.tm_yday),Eo=new Date(pn.getFullYear(),0,4),kn=new Date(pn.getFullYear()+1,0,4),kt=Fn(Eo),Qt=Fn(kn);return Yt(kt,pn)<=0?Yt(Qt,pn)<=0?pn.getFullYear()+1:pn.getFullYear():pn.getFullYear()-1}var yi={"%a":wt=>vt[wt.tm_wday].substring(0,3),"%A":wt=>vt[wt.tm_wday],"%b":wt=>bn[wt.tm_mon].substring(0,3),"%B":wt=>bn[wt.tm_mon],"%C":wt=>tn((wt.tm_year+1900)/100|0,2),"%d":wt=>tn(wt.tm_mday,2),"%e":wt=>Xt(wt.tm_mday,2," "),"%g":wt=>Qn(wt).toString().substring(2),"%G":wt=>Qn(wt),"%H":wt=>tn(wt.tm_hour,2),"%I":wt=>{var pn=wt.tm_hour;return 0==pn?pn=12:pn>12&&(pn-=12),tn(pn,2)},"%j":wt=>tn(wt.tm_mday+((u,_)=>{for(var v=0,P=0;P<=_;v+=u[P++]);return v})(Co(wt.tm_year+1900)?E:B,wt.tm_mon-1),3),"%m":wt=>tn(wt.tm_mon+1,2),"%M":wt=>tn(wt.tm_min,2),"%n":()=>"\n","%p":wt=>wt.tm_hour>=0&&wt.tm_hour<12?"AM":"PM","%S":wt=>tn(wt.tm_sec,2),"%t":()=>"\t","%u":wt=>wt.tm_wday||7,"%U":wt=>tn(Math.floor((wt.tm_yday+7-wt.tm_wday)/7),2),"%V":wt=>{var pn=Math.floor((wt.tm_yday+7-(wt.tm_wday+6)%7)/7);if((wt.tm_wday+371-wt.tm_yday-2)%7<=2&&pn++,pn){if(53==pn){var kn=(wt.tm_wday+371-wt.tm_yday)%7;4!=kn&&(3!=kn||!Co(wt.tm_year))&&(pn=1)}}else{pn=52;var Eo=(wt.tm_wday+7-wt.tm_yday-1)%7;(4==Eo||5==Eo&&Co(wt.tm_year%400-1))&&pn++}return tn(pn,2)},"%w":wt=>wt.tm_wday,"%W":wt=>tn(Math.floor((wt.tm_yday+7-(wt.tm_wday+6)%7)/7),2),"%y":wt=>(wt.tm_year+1900).toString().substring(2),"%Y":wt=>wt.tm_year+1900,"%z":wt=>{var pn=wt.tm_gmtoff;return(pn>=0?"+":"-")+("0000"+(pn=(pn=Math.abs(pn)/60)/60*100+pn%60)).slice(-4)},"%Z":wt=>wt.tm_zone,"%%":()=>"%"};for(var Tt in _e=_e.replace(/%%/g,"\0\0"),yi)_e.includes(Tt)&&(_e=_e.replace(new RegExp(Tt,"g"),yi[Tt](Ee)));var jo=vr(_e=_e.replace(/\0\0/g,"%"),!1);return jo.length>_?0:(((u,_)=>{ae.set(u,_)})(jo,u),jo.length-1)})(u,_,v,P)},gt=function Go(){var u={a:Kn};function _(P,X){return ve=(gt=P.exports).r,It(),function We(u){Ge.unshift(u)}(gt.s),In(),gt}if(Jt(),d.instantiateWasm)try{return d.instantiateWasm(u,_)}catch(P){V(`Module.instantiateWasm callback failed with error: ${P}`),oe(P)}return function si(u,_,v,P){return u||"function"!=typeof WebAssembly.instantiateStreaming||wr(_)||"function"!=typeof fetch?No(_,v,P):fetch(_,{credentials:"same-origin"}).then(X=>WebAssembly.instantiateStreaming(X,v).then(P,function(_e){return V(`wasm streaming compile failed: ${_e}`),V("falling back to ArrayBuffer instantiation"),No(_,v,P)}))}(q,ar,u,function v(P){_(P.instance)}).catch(oe),{}}(),ui=d._malloc=u=>(ui=d._malloc=gt.t)(u),Li=(d._free=u=>(d._free=gt.u)(u),d._webidl_free=u=>(d._webidl_free=gt.v)(u),d._webidl_malloc=u=>(d._webidl_malloc=gt.w)(u),d._emscripten_bind_VoidPtr___destroy___0=u=>(Li=d._emscripten_bind_VoidPtr___destroy___0=gt.x)(u)),Wo=d._emscripten_bind_FileEntry_GetName_0=u=>(Wo=d._emscripten_bind_FileEntry_GetName_0=gt.y)(u),xa=d._emscripten_bind_FileEntry_IsDirectory_0=u=>(xa=d._emscripten_bind_FileEntry_IsDirectory_0=gt.z)(u),Zo=d._emscripten_bind_FileEntry_GetSize_0=u=>(Zo=d._emscripten_bind_FileEntry_GetSize_0=gt.A)(u),xs=d._emscripten_bind_FileEntry_GetModifiedTS_0=u=>(xs=d._emscripten_bind_FileEntry_GetModifiedTS_0=gt.B)(u),tl=d._emscripten_bind_FileEntry_GetAttributes_0=u=>(tl=d._emscripten_bind_FileEntry_GetAttributes_0=gt.C)(u),nl=d._emscripten_bind_FileEntry___destroy___0=u=>(nl=d._emscripten_bind_FileEntry___destroy___0=gt.D)(u),qi=d._emscripten_bind_Vfs_Vfs_0=()=>(qi=d._emscripten_bind_Vfs_Vfs_0=gt.E)(),rl=d._emscripten_bind_Vfs_Malloc_1=(u,_)=>(rl=d._emscripten_bind_Vfs_Malloc_1=gt.F)(u,_),jl=d._emscripten_bind_Vfs_Free_1=(u,_)=>(jl=d._emscripten_bind_Vfs_Free_1=gt.G)(u,_),ol=d._emscripten_bind_Vfs_Nullptr_0=u=>(ol=d._emscripten_bind_Vfs_Nullptr_0=gt.H)(u),sa=d._emscripten_bind_Vfs_AllocateImage_1=(u,_)=>(sa=d._emscripten_bind_Vfs_AllocateImage_1=gt.I)(u,_),zs=d._emscripten_bind_Vfs_MountImage_1=(u,_)=>(zs=d._emscripten_bind_Vfs_MountImage_1=gt.J)(u,_),Vl=d._emscripten_bind_Vfs_UnmountImage_1=(u,_)=>(Vl=d._emscripten_bind_Vfs_UnmountImage_1=gt.K)(u,_),Se=d._emscripten_bind_Vfs_SwitchSlot_1=(u,_)=>(Se=d._emscripten_bind_Vfs_SwitchSlot_1=gt.L)(u,_),Ul=d._emscripten_bind_Vfs_GetPendingImageSize_0=u=>(Ul=d._emscripten_bind_Vfs_GetPendingImageSize_0=gt.M)(u),$o=d._emscripten_bind_Vfs_GetSize_1=(u,_)=>($o=d._emscripten_bind_Vfs_GetSize_1=gt.N)(u,_),yn=d._emscripten_bind_Vfs_GetPendingImage_0=u=>(yn=d._emscripten_bind_Vfs_GetPendingImage_0=gt.O)(u),il=d._emscripten_bind_Vfs_GetImage_1=(u,_)=>(il=d._emscripten_bind_Vfs_GetImage_1=gt.P)(u,_),Hl=d._emscripten_bind_Vfs_GetDirtyPages_1=(u,_)=>(Hl=d._emscripten_bind_Vfs_GetDirtyPages_1=gt.Q)(u,_),Gl=d._emscripten_bind_Vfs_RenameFile_2=(u,_,v)=>(Gl=d._emscripten_bind_Vfs_RenameFile_2=gt.R)(u,_,v),mt=d._emscripten_bind_Vfs_ChmodFile_3=(u,_,v,P)=>(mt=d._emscripten_bind_Vfs_ChmodFile_3=gt.S)(u,_,v,P),sl=d._emscripten_bind_Vfs_StatFile_1=(u,_)=>(sl=d._emscripten_bind_Vfs_StatFile_1=gt.T)(u,_),Er=d._emscripten_bind_Vfs_UnlinkFile_1=(u,_)=>(Er=d._emscripten_bind_Vfs_UnlinkFile_1=gt.U)(u,_),ks=d._emscripten_bind_Vfs_Mkdir_1=(u,_)=>(ks=d._emscripten_bind_Vfs_Mkdir_1=gt.V)(u,_),ka=d._emscripten_bind_Vfs_GetEntry_0=u=>(ka=d._emscripten_bind_Vfs_GetEntry_0=gt.W)(u),aa=d._emscripten_bind_Vfs_BytesFree_1=(u,_)=>(aa=d._emscripten_bind_Vfs_BytesFree_1=gt.X)(u,_),Ma=d._emscripten_bind_Vfs_BytesTotal_1=(u,_)=>(Ma=d._emscripten_bind_Vfs_BytesTotal_1=gt.Y)(u,_),Ms=d._emscripten_bind_Vfs_ReadFile_1=(u,_)=>(Ms=d._emscripten_bind_Vfs_ReadFile_1=gt.Z)(u,_),Ts=d._emscripten_bind_Vfs_GetCurrentFileSize_0=u=>(Ts=d._emscripten_bind_Vfs_GetCurrentFileSize_0=gt._)(u),Ws=d._emscripten_bind_Vfs_GetCurrentFileContent_0=u=>(Ws=d._emscripten_bind_Vfs_GetCurrentFileContent_0=gt.$)(u),la=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=u=>(la=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=gt.aa)(u),Ta=d._emscripten_bind_Vfs_WriteFile_3=(u,_,v,P)=>(Ta=d._emscripten_bind_Vfs_WriteFile_3=gt.ba)(u,_,v,P),Tn=d._emscripten_bind_Vfs___destroy___0=u=>(Tn=d._emscripten_bind_Vfs___destroy___0=gt.ca)(u),Zs=d._emscripten_bind_ReaddirContext_ReaddirContext_1=u=>(Zs=d._emscripten_bind_ReaddirContext_ReaddirContext_1=gt.da)(u),ca=d._emscripten_bind_ReaddirContext_Next_0=u=>(ca=d._emscripten_bind_ReaddirContext_Next_0=gt.ea)(u),wo=d._emscripten_bind_ReaddirContext_GetEntry_0=u=>(wo=d._emscripten_bind_ReaddirContext_GetEntry_0=gt.fa)(u),ua=d._emscripten_bind_ReaddirContext_GetStatus_0=u=>(ua=d._emscripten_bind_ReaddirContext_GetStatus_0=gt.ga)(u),al=d._emscripten_bind_ReaddirContext_GetError_0=u=>(al=d._emscripten_bind_ReaddirContext_GetError_0=gt.ha)(u),nr=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=u=>(nr=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=gt.ia)(u),zl=d._emscripten_bind_ReaddirContext___destroy___0=u=>(zl=d._emscripten_bind_ReaddirContext___destroy___0=gt.ja)(u),Wl=d._emscripten_bind_CreateZipContext_CreateZipContext_2=(u,_)=>(Wl=d._emscripten_bind_CreateZipContext_CreateZipContext_2=gt.ka)(u,_),da=d._emscripten_bind_CreateZipContext_AddFile_1=(u,_)=>(da=d._emscripten_bind_CreateZipContext_AddFile_1=gt.la)(u,_),Aa=d._emscripten_bind_CreateZipContext_AddDirectory_1=(u,_)=>(Aa=d._emscripten_bind_CreateZipContext_AddDirectory_1=gt.ma)(u,_),ll=d._emscripten_bind_CreateZipContext_Continue_0=u=>(ll=d._emscripten_bind_CreateZipContext_Continue_0=gt.na)(u),fs=d._emscripten_bind_CreateZipContext_GetState_0=u=>(fs=d._emscripten_bind_CreateZipContext_GetState_0=gt.oa)(u),cl=d._emscripten_bind_CreateZipContext_GetZipContent_0=u=>(cl=d._emscripten_bind_CreateZipContext_GetZipContent_0=gt.pa)(u),qs=d._emscripten_bind_CreateZipContext_GetZipSize_0=u=>(qs=d._emscripten_bind_CreateZipContext_GetZipSize_0=gt.qa)(u),ul=d._emscripten_bind_CreateZipContext_GetErrorItem_0=u=>(ul=d._emscripten_bind_CreateZipContext_GetErrorItem_0=gt.ra)(u),So=d._emscripten_bind_CreateZipContext___destroy___0=u=>(So=d._emscripten_bind_CreateZipContext___destroy___0=gt.sa)(u),Yi=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=u=>(Yi=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=gt.ta)(u),qo=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=(u,_)=>(qo=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=gt.ua)(u,_),Zl=d._emscripten_bind_DeleteRecursiveContext_Continue_0=u=>(Zl=d._emscripten_bind_DeleteRecursiveContext_Continue_0=gt.va)(u),As=d._emscripten_bind_DeleteRecursiveContext_GetState_0=u=>(As=d._emscripten_bind_DeleteRecursiveContext_GetState_0=gt.wa)(u),fa=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=u=>(fa=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=gt.xa)(u),Ys=d._emscripten_bind_DeleteRecursiveContext___destroy___0=u=>(Ys=d._emscripten_bind_DeleteRecursiveContext___destroy___0=gt.ya)(u),dl=d._emscripten_bind_UnzipContext_UnzipContext_4=(u,_,v,P)=>(dl=d._emscripten_bind_UnzipContext_UnzipContext_4=gt.za)(u,_,v,P),lr=d._emscripten_bind_UnzipContext_GetState_0=u=>(lr=d._emscripten_bind_UnzipContext_GetState_0=gt.Aa)(u),Pa=d._emscripten_bind_UnzipContext_Continue_0=u=>(Pa=d._emscripten_bind_UnzipContext_Continue_0=gt.Ba)(u),oo=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=u=>(oo=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=gt.Ca)(u),Lr=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=u=>(Lr=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=gt.Da)(u),ho=d._emscripten_bind_UnzipContext_GetCollisionPath_0=u=>(ho=d._emscripten_bind_UnzipContext_GetCollisionPath_0=gt.Ea)(u),cr=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=u=>(cr=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=gt.Fa)(u),Pr=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=u=>(Pr=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=gt.Ga)(u),ce=d._emscripten_bind_UnzipContext___destroy___0=u=>(ce=d._emscripten_bind_UnzipContext___destroy___0=gt.Ha)(u),p=d._emscripten_bind_PasteContext_PasteContext_3=(u,_,v)=>(p=d._emscripten_bind_PasteContext_PasteContext_3=gt.Ia)(u,_,v),g=d._emscripten_bind_PasteContext_AddFile_1=(u,_)=>(g=d._emscripten_bind_PasteContext_AddFile_1=gt.Ja)(u,_),C=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(u,_)=>(C=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=gt.Ka)(u,_),O=d._emscripten_bind_PasteContext_GetState_0=u=>(O=d._emscripten_bind_PasteContext_GetState_0=gt.La)(u),Z=d._emscripten_bind_PasteContext_Continue_0=u=>(Z=d._emscripten_bind_PasteContext_Continue_0=gt.Ma)(u),ye=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=u=>(ye=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=gt.Na)(u),ke=d._emscripten_bind_PasteContext_GetCurrentEntry_0=u=>(ke=d._emscripten_bind_PasteContext_GetCurrentEntry_0=gt.Oa)(u),Ue=d._emscripten_bind_PasteContext_GetCollisionPath_0=u=>(Ue=d._emscripten_bind_PasteContext_GetCollisionPath_0=gt.Pa)(u),xt=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=u=>(xt=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=gt.Qa)(u),Cn=d._emscripten_bind_PasteContext___destroy___0=u=>(Cn=d._emscripten_bind_PasteContext___destroy___0=gt.Ra)(u),xn=d._main=(u,_)=>(xn=d._main=gt.Sa)(u,_),Pt=u=>(Pt=gt.Ua)(u);function qr(){function u(){_t||(_t=!0,d.calledRun=!0,!fe&&(function ot(){!d.noFSInit&&!M.init.initialized&&M.init(),M.ignorePermissions=!1,uo.init(),Hr(Ge)}(),function St(){Hr(we)}(),re(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),ur&&function an(){var u=xn;try{var P=u(0,0);return st(P),P}catch(X){return(u=>{if(u instanceof Zr||"unwind"==u)return Je;U(1,u)})(X)}}(),function pt(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)u=d.postRun.shift(),He.unshift(u);var u;Hr(He)}()))}tt>0||(function Fe(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)u=d.preRun.shift(),Wt.unshift(u);var u;Hr(Wt)}(),tt>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),u()},1)):u())}if(d.___original_main=()=>(d.___original_main=gt.Va)(),d.___start_em_js=1067786,d.___stop_em_js=1067884,W=function u(){_t||qr(),_t||(W=u)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var ur=!0;function rr(){}function dr(u){return(u||rr).__cache__}function io(u,_){var v=dr(_),P=v[u];return P||((P=Object.create((_||rr).prototype)).ptr=u,v[u]=P)}d.noInitialRun&&(ur=!1),qr(),(rr.prototype=Object.create(rr.prototype)).constructor=rr,rr.prototype.__class__=rr,rr.__cache__={},d.WrapperObject=rr,d.getCache=dr,d.wrapPointer=io,d.castObject=function Dc(u,_){return io(u.ptr,_)},d.NULL=io(0),d.destroy=function Ic(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete dr(u.__class__)[u.ptr]},d.compare=function du(u,_){return u.ptr===_.ptr},d.getPointer=function xc(u){return u.ptr},d.getClass=function fu(u){return u.__class__};var $n={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if($n.needed){for(var u=0;u<$n.temps.length;u++)d._webidl_free($n.temps[u]);$n.temps.length=0,d._webidl_free($n.buffer),$n.buffer=0,$n.size+=$n.needed,$n.needed=0}$n.buffer||($n.size+=128,$n.buffer=d._webidl_malloc($n.size),Qe($n.buffer)),$n.pos=0},alloc(u,_){Qe($n.buffer);var X,P=u.length*_.BYTES_PER_ELEMENT;return $n.pos+(P=P+7&-8)>=$n.size?(Qe(P>0),$n.needed+=P,X=d._webidl_malloc(P),$n.temps.push(X)):(X=$n.buffer+$n.pos,$n.pos+=P),X},copy(u,_,v){switch(v>>>=0,_.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var X=0;X<u.length;X++)_[v+X]=u[X]}};function Dr(u){if("string"==typeof u){var _=vr(u),v=$n.alloc(_,ae);return $n.copy(_,ae,v),v}return u}function Bo(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Yr(){throw"cannot construct a FileEntry, no constructor in IDL"}function sn(){this.ptr=qi(),dr(sn)[this.ptr]=this}function fo(u){$n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),this.ptr=Zs(u),dr(fo)[this.ptr]=this}function xr(u,_){$n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),_&&"object"==typeof _&&(_=_.ptr),this.ptr=Wl(u,_),dr(xr)[this.ptr]=this}function mo(u){u&&"object"==typeof u&&(u=u.ptr),this.ptr=Yi(u),dr(mo)[this.ptr]=this}function Rr(u,_,v,P){$n.prepare(),u&&"object"==typeof u&&(u=u.ptr),_=_&&"object"==typeof _?_.ptr:Dr(_),v&&"object"==typeof v&&(v=v.ptr),P&&"object"==typeof P&&(P=P.ptr),this.ptr=dl(u,_,v,P),dr(Rr)[this.ptr]=this}function br(u,_,v){$n.prepare(),u&&"object"==typeof u&&(u=u.ptr),_=_&&"object"==typeof _?_.ptr:Dr(_),v=v&&"object"==typeof v?v.ptr:Dr(v),this.ptr=p(u,_,v),dr(br)[this.ptr]=this}return(Bo.prototype=Object.create(rr.prototype)).constructor=Bo,Bo.prototype.__class__=Bo,Bo.__cache__={},d.VoidPtr=Bo,Bo.prototype.__destroy__=Bo.prototype.__destroy__=function(){Li(this.ptr)},(Yr.prototype=Object.create(rr.prototype)).constructor=Yr,Yr.prototype.__class__=Yr,Yr.__cache__={},d.FileEntry=Yr,Yr.prototype.GetName=Yr.prototype.GetName=function(){return Xn(Wo(this.ptr))},Yr.prototype.IsDirectory=Yr.prototype.IsDirectory=function(){return!!xa(this.ptr)},Yr.prototype.GetSize=Yr.prototype.GetSize=function(){return Zo(this.ptr)},Yr.prototype.GetModifiedTS=Yr.prototype.GetModifiedTS=function(){return xs(this.ptr)},Yr.prototype.GetAttributes=Yr.prototype.GetAttributes=function(){return tl(this.ptr)},Yr.prototype.__destroy__=Yr.prototype.__destroy__=function(){nl(this.ptr)},(sn.prototype=Object.create(rr.prototype)).constructor=sn,sn.prototype.__class__=sn,sn.__cache__={},d.Vfs=sn,sn.prototype.Malloc=sn.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),io(rl(this.ptr,u),Bo)},sn.prototype.Free=sn.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),jl(this.ptr,u)},sn.prototype.Nullptr=sn.prototype.Nullptr=function(){return io(ol(this.ptr),Bo)},sn.prototype.AllocateImage=sn.prototype.AllocateImage=function(u){u&&"object"==typeof u&&(u=u.ptr),sa(this.ptr,u)},sn.prototype.MountImage=sn.prototype.MountImage=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!zs(this.ptr,u)},sn.prototype.UnmountImage=sn.prototype.UnmountImage=function(u){u&&"object"==typeof u&&(u=u.ptr),Vl(this.ptr,u)},sn.prototype.SwitchSlot=sn.prototype.SwitchSlot=function(u){u&&"object"==typeof u&&(u=u.ptr),Se(this.ptr,u)},sn.prototype.GetPendingImageSize=sn.prototype.GetPendingImageSize=function(){return Ul(this.ptr)},sn.prototype.GetSize=sn.prototype.GetSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),$o(this.ptr,u)},sn.prototype.GetPendingImage=sn.prototype.GetPendingImage=function(){return io(yn(this.ptr),Bo)},sn.prototype.GetImage=sn.prototype.GetImage=function(u){return u&&"object"==typeof u&&(u=u.ptr),io(il(this.ptr,u),Bo)},sn.prototype.GetDirtyPages=sn.prototype.GetDirtyPages=function(u){return u&&"object"==typeof u&&(u=u.ptr),io(Hl(this.ptr,u),Bo)},sn.prototype.RenameFile=sn.prototype.RenameFile=function(u,_){var v=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),_=_&&"object"==typeof _?_.ptr:Dr(_),Gl(v,u,_)},sn.prototype.ChmodFile=sn.prototype.ChmodFile=function(u,_,v){var P=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),_&&"object"==typeof _&&(_=_.ptr),v&&"object"==typeof v&&(v=v.ptr),mt(P,u,_,v)},sn.prototype.StatFile=sn.prototype.StatFile=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),sl(_,u)},sn.prototype.UnlinkFile=sn.prototype.UnlinkFile=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),Er(_,u)},sn.prototype.Mkdir=sn.prototype.Mkdir=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),ks(_,u)},sn.prototype.GetEntry=sn.prototype.GetEntry=function(){return io(ka(this.ptr),Yr)},sn.prototype.BytesFree=sn.prototype.BytesFree=function(u){return u&&"object"==typeof u&&(u=u.ptr),aa(this.ptr,u)},sn.prototype.BytesTotal=sn.prototype.BytesTotal=function(u){return u&&"object"==typeof u&&(u=u.ptr),Ma(this.ptr,u)},sn.prototype.ReadFile=sn.prototype.ReadFile=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),!!Ms(_,u)},sn.prototype.GetCurrentFileSize=sn.prototype.GetCurrentFileSize=function(){return Ts(this.ptr)},sn.prototype.GetCurrentFileContent=sn.prototype.GetCurrentFileContent=function(){return io(Ws(this.ptr),Bo)},sn.prototype.ReleaseCurrentFile=sn.prototype.ReleaseCurrentFile=function(){la(this.ptr)},sn.prototype.WriteFile=sn.prototype.WriteFile=function(u,_,v){var P=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),_&&"object"==typeof _&&(_=_.ptr),v&&"object"==typeof v&&(v=v.ptr),Ta(P,u,_,v)},sn.prototype.__destroy__=sn.prototype.__destroy__=function(){Tn(this.ptr)},(fo.prototype=Object.create(rr.prototype)).constructor=fo,fo.prototype.__class__=fo,fo.__cache__={},d.ReaddirContext=fo,fo.prototype.Next=fo.prototype.Next=function(){return ca(this.ptr)},fo.prototype.GetEntry=fo.prototype.GetEntry=function(){return io(wo(this.ptr),Yr)},fo.prototype.GetStatus=fo.prototype.GetStatus=function(){return ua(this.ptr)},fo.prototype.GetError=fo.prototype.GetError=function(){return al(this.ptr)},fo.prototype.GetErrorDescription=fo.prototype.GetErrorDescription=function(){return Xn(nr(this.ptr))},fo.prototype.__destroy__=fo.prototype.__destroy__=function(){zl(this.ptr)},(xr.prototype=Object.create(rr.prototype)).constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},d.CreateZipContext=xr,xr.prototype.AddFile=xr.prototype.AddFile=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),io(da(_,u),xr)},xr.prototype.AddDirectory=xr.prototype.AddDirectory=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),io(Aa(_,u),xr)},xr.prototype.Continue=xr.prototype.Continue=function(){return ll(this.ptr)},xr.prototype.GetState=xr.prototype.GetState=function(){return fs(this.ptr)},xr.prototype.GetZipContent=xr.prototype.GetZipContent=function(){return io(cl(this.ptr),Bo)},xr.prototype.GetZipSize=xr.prototype.GetZipSize=function(){return qs(this.ptr)},xr.prototype.GetErrorItem=xr.prototype.GetErrorItem=function(){return Xn(ul(this.ptr))},xr.prototype.__destroy__=xr.prototype.__destroy__=function(){So(this.ptr)},(mo.prototype=Object.create(rr.prototype)).constructor=mo,mo.prototype.__class__=mo,mo.__cache__={},d.DeleteRecursiveContext=mo,mo.prototype.AddFile=mo.prototype.AddFile=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),io(qo(_,u),mo)},mo.prototype.Continue=mo.prototype.Continue=function(){return Zl(this.ptr)},mo.prototype.GetState=mo.prototype.GetState=function(){return As(this.ptr)},mo.prototype.GetFailingPath=mo.prototype.GetFailingPath=function(){return Xn(fa(this.ptr))},mo.prototype.__destroy__=mo.prototype.__destroy__=function(){Ys(this.ptr)},(Rr.prototype=Object.create(rr.prototype)).constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},d.UnzipContext=Rr,Rr.prototype.GetState=Rr.prototype.GetState=function(){return lr(this.ptr)},Rr.prototype.Continue=Rr.prototype.Continue=function(){return Pa(this.ptr)},Rr.prototype.ContinueWithOverwrite=Rr.prototype.ContinueWithOverwrite=function(){return oo(this.ptr)},Rr.prototype.GetCurrentEntry=Rr.prototype.GetCurrentEntry=function(){return Xn(Lr(this.ptr))},Rr.prototype.GetCollisionPath=Rr.prototype.GetCollisionPath=function(){return Xn(ho(this.ptr))},Rr.prototype.GetEntriesTotal=Rr.prototype.GetEntriesTotal=function(){return cr(this.ptr)},Rr.prototype.GetEntriesSuccess=Rr.prototype.GetEntriesSuccess=function(){return Pr(this.ptr)},Rr.prototype.__destroy__=Rr.prototype.__destroy__=function(){ce(this.ptr)},(br.prototype=Object.create(rr.prototype)).constructor=br,br.prototype.__class__=br,br.__cache__={},d.PasteContext=br,br.prototype.AddFile=br.prototype.AddFile=function(u){var _=this.ptr;return $n.prepare(),u=u&&"object"==typeof u?u.ptr:Dr(u),io(g(_,u),br)},br.prototype.SetDeleteAfterCopy=br.prototype.SetDeleteAfterCopy=function(u){return u&&"object"==typeof u&&(u=u.ptr),io(C(this.ptr,u),br)},br.prototype.GetState=br.prototype.GetState=function(){return O(this.ptr)},br.prototype.Continue=br.prototype.Continue=function(){return Z(this.ptr)},br.prototype.ContinueWithOverwrite=br.prototype.ContinueWithOverwrite=function(){return ye(this.ptr)},br.prototype.GetCurrentEntry=br.prototype.GetCurrentEntry=function(){return Xn(ke(this.ptr))},br.prototype.GetCollisionPath=br.prototype.GetCollisionPath=function(){return Xn(Ue(this.ptr))},br.prototype.GetEntriesSuccess=br.prototype.GetEntriesSuccess=function(){return xt(this.ptr)},br.prototype.__destroy__=br.prototype.__destroy__=function(){Cn(this.ptr)},I.ready});Me.exports=$e},2440:(Me,$e,A)=>{"use strict";A.d($e,{c:()=>Re});var I=A(5821),d=A(6481);let re;const H=ue=>ue.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q=ue=>(void 0===re&&(re=void 0===ue.style.animationName&&void 0!==ue.style.webkitAnimationName?"-webkit-":""),re),F=(ue,V,q)=>{const de=V.startsWith("animation")?Q(ue):"";ue.style.setProperty(de+V,q)},U=(ue,V)=>{const q=V.startsWith("animation")?Q(ue):"";ue.style.removeProperty(q+V)},z=[],Oe=(ue=[],V)=>{if(void 0!==V){const q=Array.isArray(V)?V:[V];return[...ue,...q]}return ue},Re=ue=>{let V,q,de,ve,fe,Je,ze,we,He,et,Vt,St,pt,Qe=[],ae=[],pe=[],rt=!1,N={},j=[],Be=[],ft={},It=0,Wt=!1,Ge=!1,Ut=!0,Fe=!1,ot=!0,xe=!1;const We=ue,qe=[],tt=[],ht=[],W=[],wn=[],Jt=[],In=[],_n=[],Wr=[],wr=[],ar="function"==typeof AnimationEffect||void 0!==I.w&&"function"==typeof I.w.AnimationEffect,_r="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ar,No=()=>wr,Zr=(E,B)=>((B?.oneTimeCallback?tt:qe).push({c:E,o:B}),pt),Ar=()=>{if(_r)wr.forEach(E=>{E.cancel()}),wr.length=0;else{const E=ht.slice();(0,d.r)(()=>{E.forEach(B=>{U(B,"animation-name"),U(B,"animation-duration"),U(B,"animation-timing-function"),U(B,"animation-iteration-count"),U(B,"animation-delay"),U(B,"animation-play-state"),U(B,"animation-fill-mode"),U(B,"animation-direction")})})}},to=()=>{wn.forEach(E=>{E?.parentNode&&E.parentNode.removeChild(E)}),wn.length=0},yr=()=>void 0!==fe?fe:ze?ze.getFill():"both",At=()=>void 0!==He?He:void 0!==Je?Je:ze?ze.getDirection():"normal",cn=()=>Wt?"linear":void 0!==de?de:ze?ze.getEasing():"linear",en=()=>Ge?0:void 0!==et?et:void 0!==q?q:ze?ze.getDuration():0,To=()=>void 0!==ve?ve:ze?ze.getIterations():1,bo=()=>void 0!==Vt?Vt:void 0!==V?V:ze?ze.getDelay():0,er=()=>{0!==It&&(It--,0===It&&((()=>{Es(),_n.forEach(be=>be()),Wr.forEach(be=>be());const E=Ut?1:0,B=j,J=Be,ge=ft;ht.forEach(be=>{const Le=be.classList;B.forEach(ct=>Le.add(ct)),J.forEach(ct=>Le.remove(ct));for(const ct in ge)ge.hasOwnProperty(ct)&&F(be,ct,ge[ct])}),qe.forEach(be=>be.c(E,pt)),tt.forEach(be=>be.c(E,pt)),tt.length=0,ot=!0,Ut&&(Fe=!0),Ut=!0})(),ze&&ze.animationFinish()))},Lo=(E=!0)=>{to();const B=(ue=>(ue.forEach(V=>{for(const q in V)if(V.hasOwnProperty(q)){const de=V[q];if("easing"===q)V["animation-timing-function"]=de,delete V[q];else{const ve=H(q);ve!==q&&(V[ve]=de,delete V[q])}}}),ue))(Qe);ht.forEach(J=>{if(B.length>0){const ge=((ue=[])=>ue.map(V=>{const q=V.offset,de=[];for(const ve in V)V.hasOwnProperty(ve)&&"offset"!==ve&&de.push(`${ve}: ${V[ve]};`);return`${100*q}% { ${de.join(" ")} }`}).join(" "))(B);St=void 0!==ue?ue:(ue=>{let V=z.indexOf(ue);return V<0&&(V=z.push(ue)-1),`ion-animation-${V}`})(ge);const be=((ue,V,q)=>{var de;const ve=(ue=>{const V=void 0!==ue.getRootNode?ue.getRootNode():ue;return V.head||V})(q),fe=Q(q),Je=ve.querySelector("#"+ue);if(Je)return Je;const Qe=(null!==(de=q.ownerDocument)&&void 0!==de?de:document).createElement("style");return Qe.id=ue,Qe.textContent=`@${fe}keyframes ${ue} { ${V} } @${fe}keyframes ${ue}-alt { ${V} }`,ve.appendChild(Qe),Qe})(St,ge,J);wn.push(be),F(J,"animation-duration",`${en()}ms`),F(J,"animation-timing-function",cn()),F(J,"animation-delay",`${bo()}ms`),F(J,"animation-fill-mode",yr()),F(J,"animation-direction",At());const Le=To()===1/0?"infinite":To().toString();F(J,"animation-iteration-count",Le),F(J,"animation-play-state","paused"),E&&F(J,"animation-name",`${be.id}-alt`),(0,d.r)(()=>{F(J,"animation-name",be.id||null)})}})},Di=(E=!0)=>{(()=>{Jt.forEach(ge=>ge()),In.forEach(ge=>ge());const E=ae,B=pe,J=N;ht.forEach(ge=>{const be=ge.classList;E.forEach(Le=>be.add(Le)),B.forEach(Le=>be.remove(Le));for(const Le in J)J.hasOwnProperty(Le)&&F(ge,Le,J[Le])})})(),Qe.length>0&&(_r?(ht.forEach(E=>{const B=E.animate(Qe,{id:We,delay:bo(),duration:en(),easing:cn(),iterations:To(),fill:yr(),direction:At()});B.pause(),wr.push(B)}),wr.length>0&&(wr[0].onfinish=()=>{er()})):Lo(E)),rt=!0},ci=E=>{if(E=Math.min(Math.max(E,0),.9999),_r)wr.forEach(B=>{B.currentTime=B.effect.getComputedTiming().delay+en()*E,B.pause()});else{const B=`-${en()*E}ms`;ht.forEach(J=>{Qe.length>0&&(F(J,"animation-delay",B),F(J,"animation-play-state","paused"))})}},Ss=E=>{wr.forEach(B=>{B.effect.updateTiming({delay:bo(),duration:en(),easing:cn(),iterations:To(),fill:yr(),direction:At()})}),void 0!==E&&ci(E)},Ii=(E=!0,B)=>{(0,d.r)(()=>{ht.forEach(J=>{F(J,"animation-name",St||null),F(J,"animation-duration",`${en()}ms`),F(J,"animation-timing-function",cn()),F(J,"animation-delay",void 0!==B?`-${B*en()}ms`:`${bo()}ms`),F(J,"animation-fill-mode",yr()||null),F(J,"animation-direction",At()||null);const ge=To()===1/0?"infinite":To().toString();F(J,"animation-iteration-count",ge),E&&F(J,"animation-name",`${St}-alt`),(0,d.r)(()=>{F(J,"animation-name",St||null)})})})},ro=(E=!1,B=!0,J)=>(E&&W.forEach(ge=>{ge.update(E,B,J)}),_r?Ss(J):Ii(B,J),pt),Wi=()=>{rt&&(_r?wr.forEach(E=>{E.pause()}):ht.forEach(E=>{F(E,"animation-play-state","paused")}),xe=!0)},xi=()=>{we=void 0,er()},Es=()=>{we&&clearTimeout(we)},tr=E=>new Promise(B=>{E?.sync&&(Ge=!0,Zr(()=>Ge=!1,{oneTimeCallback:!0})),rt||Di(),Fe&&(_r?(ci(0),Ss()):Ii(),Fe=!1),ot&&(It=W.length+1,ot=!1),Zr(()=>B(),{oneTimeCallback:!0}),W.forEach(J=>{J.play()}),_r?(wr.forEach(E=>{E.play()}),(0===Qe.length||0===ht.length)&&er()):(()=>{if(Es(),(0,d.r)(()=>{ht.forEach(E=>{Qe.length>0&&F(E,"animation-play-state","running")})}),0===Qe.length||0===ht.length)er();else{const E=bo()||0,B=en()||0,J=To()||1;isFinite(J)&&(we=setTimeout(xi,E+B*J+100)),((ue,V)=>{let q;const de={passive:!0},fe=Je=>{ue===Je.target&&(q&&q(),Es(),(0,d.r)(()=>{ht.forEach(E=>{U(E,"animation-duration"),U(E,"animation-delay"),U(E,"animation-play-state")}),(0,d.r)(er)}))};ue&&(ue.addEventListener("webkitAnimationEnd",fe,de),ue.addEventListener("animationend",fe,de),q=()=>{ue.removeEventListener("webkitAnimationEnd",fe,de),ue.removeEventListener("animationend",fe,de)})})(ht[0])}})(),xe=!1}),un=(E,B)=>{const J=Qe[0];return void 0===J||void 0!==J.offset&&0!==J.offset?Qe=[{offset:0,[E]:B},...Qe]:J[E]=B,pt};return pt={parentAnimation:ze,elements:ht,childAnimations:W,id:We,animationFinish:er,from:un,to:(E,B)=>{const J=Qe[Qe.length-1];return void 0===J||void 0!==J.offset&&1!==J.offset?Qe=[...Qe,{offset:1,[E]:B}]:J[E]=B,pt},fromTo:(E,B,J)=>un(E,B).to(E,J),parent:E=>(ze=E,pt),play:tr,pause:()=>(W.forEach(E=>{E.pause()}),Wi(),pt),stop:()=>{W.forEach(E=>{E.stop()}),rt&&(Ar(),rt=!1),Wt=!1,Ge=!1,ot=!0,He=void 0,et=void 0,Vt=void 0,It=0,Fe=!1,Ut=!0,xe=!1},destroy:E=>(W.forEach(B=>{B.destroy(E)}),(E=>{Ar(),E&&to()})(E),ht.length=0,W.length=0,Qe.length=0,qe.length=0,tt.length=0,rt=!1,ot=!0,pt),keyframes:E=>{const B=Qe!==E;return Qe=E,B&&(E=>{_r?No().forEach(B=>{if(B.effect.setKeyframes)B.effect.setKeyframes(E);else{const J=new KeyframeEffect(B.effect.target,E,B.effect.getTiming());B.effect=J}}):Lo()})(Qe),pt},addAnimation:E=>{if(null!=E)if(Array.isArray(E))for(const B of E)B.parent(pt),W.push(B);else E.parent(pt),W.push(E);return pt},addElement:E=>{if(null!=E)if(1===E.nodeType)ht.push(E);else if(E.length>=0)for(let B=0;B<E.length;B++)ht.push(E[B]);else console.error("Invalid addElement value");return pt},update:ro,fill:E=>(fe=E,ro(!0),pt),direction:E=>(Je=E,ro(!0),pt),iterations:E=>(ve=E,ro(!0),pt),duration:E=>(!_r&&0===E&&(E=1),q=E,ro(!0),pt),easing:E=>(de=E,ro(!0),pt),delay:E=>(V=E,ro(!0),pt),getWebAnimations:No,getKeyframes:()=>Qe,getFill:yr,getDirection:At,getDelay:bo,getIterations:To,getEasing:cn,getDuration:en,afterAddRead:E=>(_n.push(E),pt),afterAddWrite:E=>(Wr.push(E),pt),afterClearStyles:(E=[])=>{for(const B of E)ft[B]="";return pt},afterStyles:(E={})=>(ft=E,pt),afterRemoveClass:E=>(Be=Oe(Be,E),pt),afterAddClass:E=>(j=Oe(j,E),pt),beforeAddRead:E=>(Jt.push(E),pt),beforeAddWrite:E=>(In.push(E),pt),beforeClearStyles:(E=[])=>{for(const B of E)N[B]="";return pt},beforeStyles:(E={})=>(N=E,pt),beforeRemoveClass:E=>(pe=Oe(pe,E),pt),beforeAddClass:E=>(ae=Oe(ae,E),pt),onFinish:Zr,isRunning:()=>0!==It&&!xe,progressStart:(E=!1,B)=>(W.forEach(J=>{J.progressStart(E,B)}),Wi(),Wt=E,rt||Di(),ro(!1,!0,B),pt),progressStep:E=>(W.forEach(B=>{B.progressStep(E)}),ci(E),pt),progressEnd:(E,B,J)=>(Wt=!1,W.forEach(ge=>{ge.progressEnd(E,B,J)}),void 0!==J&&(et=J),Fe=!1,Ut=!0,0===E?(He="reverse"===At()?"normal":"reverse","reverse"===He&&(Ut=!1),_r?(ro(),ci(1-B)):(Vt=(1-B)*en()*-1,ro(!1,!1))):1===E&&(_r?(ro(),ci(B)):(Vt=B*en()*-1,ro(!1,!1))),void 0!==E&&(Zr(()=>{et=void 0,He=void 0,Vt=void 0},{oneTimeCallback:!0}),ze||tr()),pt)}}},7152:(Me,$e,A)=>{"use strict";A.d($e,{E:()=>ee,I:()=>F,a:()=>I,s:()=>U});const I=z=>{try{if(z instanceof F)return z.value;if(!oe()||"string"!=typeof z||""===z)return z;if(z.includes("onload="))return"";const $=document.createDocumentFragment(),L=document.createElement("div");$.appendChild(L),L.innerHTML=z,Q.forEach(ue=>{const V=$.querySelectorAll(ue);for(let q=V.length-1;q>=0;q--){const de=V[q];de.parentNode?de.parentNode.removeChild(de):$.removeChild(de);const ve=re(de);for(let fe=0;fe<ve.length;fe++)d(ve[fe])}});const G=re($);for(let ue=0;ue<G.length;ue++)d(G[ue]);const Oe=document.createElement("div");Oe.appendChild($);const Re=Oe.querySelector("div");return null!==Re?Re.innerHTML:Oe.innerHTML}catch($){return console.error($),""}},d=z=>{if(z.nodeType&&1!==z.nodeType)return;if(typeof NamedNodeMap<"u"&&!(z.attributes instanceof NamedNodeMap))return void z.remove();for(let L=z.attributes.length-1;L>=0;L--){const G=z.attributes.item(L),Oe=G.name;if(!H.includes(Oe.toLowerCase())){z.removeAttribute(Oe);continue}const Re=G.value,ue=z[Oe];(null!=Re&&Re.toLowerCase().includes("javascript:")||null!=ue&&ue.toLowerCase().includes("javascript:"))&&z.removeAttribute(Oe)}const $=re(z);for(let L=0;L<$.length;L++)d($[L])},re=z=>null!=z.children?z.children:z.childNodes,oe=()=>{var z;const $=window,L=null===(z=$?.Ionic)||void 0===z?void 0:z.config;return!L||(L.get?L.get("sanitizerEnabled",!0):!0===L.sanitizerEnabled||void 0===L.sanitizerEnabled)},H=["class","id","href","src","name","slot"],Q=["script","style","iframe","meta","link","object","embed"];class F{constructor($){this.value=$}}const U=z=>{const $=window,L=$.Ionic;if(!L||!L.config||"Object"===L.config.constructor.name)return $.Ionic=$.Ionic||{},$.Ionic.config=Object.assign(Object.assign({},$.Ionic.config),z),$.Ionic.config},ee=!1},2847:(Me,$e,A)=>{"use strict";A.d($e,{C:()=>H,a:()=>re,d:()=>oe});var I=A(8046),d=A(6481);const re=function(){var Q=(0,I.Z)(function*(F,U,le,ee,z,$){var L;if(F)return F.attachViewToDom(U,le,z,ee);if(!($||"string"==typeof le||le instanceof HTMLElement))throw new Error("framework delegate is missing");const G="string"==typeof le?null===(L=U.ownerDocument)||void 0===L?void 0:L.createElement(le):le;return ee&&ee.forEach(Oe=>G.classList.add(Oe)),z&&Object.assign(G,z),U.appendChild(G),yield new Promise(Oe=>(0,d.c)(G,Oe)),G});return function(U,le,ee,z,$,L){return Q.apply(this,arguments)}}(),oe=(Q,F)=>{if(F){if(Q)return Q.removeViewFromDom(F.parentElement,F);F.remove()}return Promise.resolve()},H=()=>{let Q,F;return{attachViewToDom:function(){var ee=(0,I.Z)(function*(z,$,L={},G=[]){var Oe,Re;if(Q=z,$){const V="string"==typeof $?null===(Oe=Q.ownerDocument)||void 0===Oe?void 0:Oe.createElement($):$;G.forEach(q=>V.classList.add(q)),Object.assign(V,L),Q.appendChild(V),yield new Promise(q=>(0,d.c)(V,q))}else if(Q.children.length>0&&("ION-MODAL"===Q.tagName||"ION-POPOVER"===Q.tagName)&&!Q.children[0].classList.contains("ion-delegate-host")){const q=null===(Re=Q.ownerDocument)||void 0===Re?void 0:Re.createElement("div");q.classList.add("ion-delegate-host"),G.forEach(de=>q.classList.add(de)),q.append(...Q.children),Q.appendChild(q)}const ue=document.querySelector("ion-app")||document.body;return F=document.createComment("ionic teleport"),Q.parentNode.insertBefore(F,Q),ue.appendChild(Q),Q});return function($,L){return ee.apply(this,arguments)}}(),removeViewFromDom:()=>(Q&&F&&(F.parentNode.insertBefore(Q,F),F.remove()),Promise.resolve())}}},1030:(Me,$e,A)=>{"use strict";A.d($e,{G:()=>H});class d{constructor(F,U,le,ee,z){this.id=U,this.name=le,this.disableScroll=z,this.priority=1e6*ee+U,this.ctrl=F}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const F=this.ctrl.capture(this.name,this.id,this.priority);return F&&this.disableScroll&&this.ctrl.disableScroll(this.id),F}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class re{constructor(F,U,le,ee){this.id=U,this.disable=le,this.disableScroll=ee,this.ctrl=F}block(){if(this.ctrl){if(this.disable)for(const F of this.disable)this.ctrl.disableGesture(F,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const F of this.disable)this.ctrl.enableGesture(F,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const oe="backdrop-no-scroll",H=new class I{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(F){var U;return new d(this,this.newID(),F.name,null!==(U=F.priority)&&void 0!==U?U:0,!!F.disableScroll)}createBlocker(F={}){return new re(this,this.newID(),F.disable,!!F.disableScroll)}start(F,U,le){return this.canStart(F)?(this.requestedStart.set(U,le),!0):(this.requestedStart.delete(U),!1)}capture(F,U,le){if(!this.start(F,U,le))return!1;const ee=this.requestedStart;let z=-1e4;if(ee.forEach($=>{z=Math.max(z,$)}),z===le){this.capturedId=U,ee.clear();const $=new CustomEvent("ionGestureCaptured",{detail:{gestureName:F}});return document.dispatchEvent($),!0}return ee.delete(U),!1}release(F){this.requestedStart.delete(F),this.capturedId===F&&(this.capturedId=void 0)}disableGesture(F,U){let le=this.disabledGestures.get(F);void 0===le&&(le=new Set,this.disabledGestures.set(F,le)),le.add(U)}enableGesture(F,U){const le=this.disabledGestures.get(F);void 0!==le&&le.delete(U)}disableScroll(F){this.disabledScroll.add(F),1===this.disabledScroll.size&&document.body.classList.add(oe)}enableScroll(F){this.disabledScroll.delete(F),0===this.disabledScroll.size&&document.body.classList.remove(oe)}canStart(F){return!(void 0!==this.capturedId||this.isDisabled(F))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(F){const U=this.disabledGestures.get(F);return!!(U&&U.size>0)}newID(){return this.gestureId++,this.gestureId}}},922:(Me,$e,A)=>{"use strict";A.r($e),A.d($e,{MENU_BACK_BUTTON_PRIORITY:()=>H,OVERLAY_BACK_BUTTON_PRIORITY:()=>oe,blockHardwareBackButton:()=>d,startHardwareBackButton:()=>re});var I=A(8046);const d=()=>{document.addEventListener("backbutton",()=>{})},re=()=>{const Q=document;let F=!1;Q.addEventListener("backbutton",()=>{if(F)return;let U=0,le=[];const ee=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(L,G){le.push({priority:L,handler:G,id:U++})}}});Q.dispatchEvent(ee);const z=function(){var L=(0,I.Z)(function*(G){try{if(G?.handler){const Oe=G.handler($);null!=Oe&&(yield Oe)}}catch(Oe){console.error(Oe)}});return function(Oe){return L.apply(this,arguments)}}(),$=()=>{if(le.length>0){let L={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};le.forEach(G=>{G.priority>=L.priority&&(L=G)}),F=!0,le=le.filter(G=>G.id!==L.id),z(L).then(()=>F=!1)}};$()})},oe=100,H=99},6481:(Me,$e,A)=>{"use strict";A.d($e,{a:()=>U,b:()=>le,c:()=>re,d:()=>Re,e:()=>Oe,f:()=>G,g:()=>ee,h:()=>L,i:()=>F,j:()=>fe,k:()=>H,l:()=>ue,m:()=>oe,n:()=>$,o:()=>V,p:()=>ve,q:()=>Je,r:()=>z,s:()=>Qe,t:()=>I,u:()=>q,v:()=>de});const I=(ae,pe=0)=>new Promise(rt=>{d(ae,pe,rt)}),d=(ae,pe=0,rt)=>{let ze,N;const j={passive:!0},ft=()=>{ze&&ze()},It=Wt=>{(void 0===Wt||ae===Wt.target)&&(ft(),rt(Wt))};return ae&&(ae.addEventListener("webkitTransitionEnd",It,j),ae.addEventListener("transitionend",It,j),N=setTimeout(It,pe+500),ze=()=>{N&&(clearTimeout(N),N=void 0),ae.removeEventListener("webkitTransitionEnd",It,j),ae.removeEventListener("transitionend",It,j)}),ft},re=(ae,pe)=>{ae.componentOnReady?ae.componentOnReady().then(rt=>pe(rt)):z(()=>pe(ae))},oe=ae=>void 0!==ae.componentOnReady,H=(ae,pe=[])=>{const rt={};return pe.forEach(ze=>{ae.hasAttribute(ze)&&(null!==ae.getAttribute(ze)&&(rt[ze]=ae.getAttribute(ze)),ae.removeAttribute(ze))}),rt},Q=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],F=(ae,pe)=>{let rt=Q;return pe&&pe.length>0&&(rt=rt.filter(ze=>!pe.includes(ze))),H(ae,rt)},U=(ae,pe,rt,ze)=>{var N;if(typeof window<"u"){const j=window,Be=null===(N=j?.Ionic)||void 0===N?void 0:N.config;if(Be){const ft=Be.get("_ael");if(ft)return ft(ae,pe,rt,ze);if(Be._ael)return Be._ael(ae,pe,rt,ze)}}return ae.addEventListener(pe,rt,ze)},le=(ae,pe,rt,ze)=>{var N;if(typeof window<"u"){const j=window,Be=null===(N=j?.Ionic)||void 0===N?void 0:N.config;if(Be){const ft=Be.get("_rel");if(ft)return ft(ae,pe,rt,ze);if(Be._rel)return Be._rel(ae,pe,rt,ze)}}return ae.removeEventListener(pe,rt,ze)},ee=(ae,pe=ae)=>ae.shadowRoot||pe,z=ae=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ae):"function"==typeof requestAnimationFrame?requestAnimationFrame(ae):setTimeout(ae),$=ae=>!!ae.shadowRoot&&!!ae.attachShadow,L=ae=>{const pe=ae.closest("ion-item");return pe?pe.querySelector("ion-label"):null},G=ae=>{if(ae.focus(),ae.classList.contains("ion-focusable")){const pe=ae.closest("ion-app");pe&&pe.setFocus([ae])}},Oe=(ae,pe)=>{let rt;const ze=ae.getAttribute("aria-labelledby"),N=ae.id;let j=null!==ze&&""!==ze.trim()?ze:pe+"-lbl",Be=null!==ze&&""!==ze.trim()?document.getElementById(ze):L(ae);return Be?(null===ze&&(Be.id=j),rt=Be.textContent,Be.setAttribute("aria-hidden","true")):""!==N.trim()&&(Be=document.querySelector(`label[for="${N}"]`),Be&&(""!==Be.id?j=Be.id:Be.id=j=`${N}-lbl`,rt=Be.textContent)),{label:Be,labelId:j,labelText:rt}},Re=(ae,pe,rt,ze,N)=>{if(ae||$(pe)){let j=pe.querySelector("input.aux-input");j||(j=pe.ownerDocument.createElement("input"),j.type="hidden",j.classList.add("aux-input"),pe.appendChild(j)),j.disabled=N,j.name=rt,j.value=ze||""}},ue=(ae,pe,rt)=>Math.max(ae,Math.min(pe,rt)),V=(ae,pe)=>{if(!ae){const rt="ASSERT: "+pe;throw console.error(rt),new Error(rt)}},q=ae=>ae.timeStamp||Date.now(),de=ae=>{if(ae){const pe=ae.changedTouches;if(pe&&pe.length>0){const rt=pe[0];return{x:rt.clientX,y:rt.clientY}}if(void 0!==ae.pageX)return{x:ae.pageX,y:ae.pageY}}return{x:0,y:0}},ve=ae=>{const pe="rtl"===document.dir;switch(ae){case"start":return pe;case"end":return!pe;default:throw new Error(`"${ae}" is not a valid value for [side]. Use "start" or "end" instead.`)}},fe=(ae,pe)=>{const rt=ae._original||ae;return{_original:ae,emit:Je(rt.emit.bind(rt),pe)}},Je=(ae,pe=0)=>{let rt;return(...ze)=>{clearTimeout(rt),rt=setTimeout(ae,pe,...ze)}},Qe=(ae,pe)=>{if(ae??(ae={}),pe??(pe={}),ae===pe)return!0;const rt=Object.keys(ae);if(rt.length!==Object.keys(pe).length)return!1;for(const ze of rt)if(!(ze in pe)||ae[ze]!==pe[ze])return!1;return!0}},1294:(Me,$e,A)=>{"use strict";A.d($e,{a:()=>d,b:()=>re,p:()=>I});const I=(oe,...H)=>console.warn(`[Ionic Warning]: ${oe}`,...H),d=(oe,...H)=>console.error(`[Ionic Error]: ${oe}`,...H),re=(oe,...H)=>console.error(`<${oe.tagName.toLowerCase()}> must be used inside ${H.join(" or ")}.`)},2704:(Me,$e,A)=>{"use strict";A.d($e,{L:()=>oe,a:()=>H,b:()=>Q,c:()=>F,d:()=>U,e:()=>ae,g:()=>ze,l:()=>Je,s:()=>pe,t:()=>z,w:()=>Qe});var I=A(8046),d=A(6389),re=A(6481);const oe="ionViewWillEnter",H="ionViewDidEnter",Q="ionViewWillLeave",F="ionViewDidLeave",U="ionViewWillUnload",z=N=>new Promise((j,Be)=>{(0,d.w)(()=>{$(N),L(N).then(ft=>{ft.animation&&ft.animation.destroy(),G(N),j(ft)},ft=>{G(N),Be(ft)})})}),$=N=>{const j=N.enteringEl,Be=N.leavingEl;rt(j,Be,N.direction),N.showGoBack?j.classList.add("can-go-back"):j.classList.remove("can-go-back"),pe(j,!1),j.style.setProperty("pointer-events","none"),Be&&(pe(Be,!1),Be.style.setProperty("pointer-events","none"))},L=function(){var N=(0,I.Z)(function*(j){const Be=yield Oe(j);return Be&&d.B.isBrowser?Re(Be,j):ue(j)});return function(Be){return N.apply(this,arguments)}}(),G=N=>{const j=N.enteringEl,Be=N.leavingEl;j.classList.remove("ion-page-invisible"),j.style.removeProperty("pointer-events"),void 0!==Be&&(Be.classList.remove("ion-page-invisible"),Be.style.removeProperty("pointer-events"))},Oe=function(){var N=(0,I.Z)(function*(j){return j.leavingEl&&j.animated&&0!==j.duration?j.animationBuilder?j.animationBuilder:"ios"===j.mode?(yield Promise.resolve().then(A.bind(A,3083))).iosTransitionAnimation:(yield Promise.resolve().then(A.bind(A,9944))).mdTransitionAnimation:void 0});return function(Be){return N.apply(this,arguments)}}(),Re=function(){var N=(0,I.Z)(function*(j,Be){yield V(Be,!0);const ft=j(Be.baseEl,Be);ve(Be.enteringEl,Be.leavingEl);const It=yield de(ft,Be);return Be.progressCallback&&Be.progressCallback(void 0),It&&fe(Be.enteringEl,Be.leavingEl),{hasCompleted:It,animation:ft}});return function(Be,ft){return N.apply(this,arguments)}}(),ue=function(){var N=(0,I.Z)(function*(j){const Be=j.enteringEl,ft=j.leavingEl;return yield V(j,!1),ve(Be,ft),fe(Be,ft),{hasCompleted:!0}});return function(Be){return N.apply(this,arguments)}}(),V=function(){var N=(0,I.Z)(function*(j,Be){(void 0!==j.deepWait?j.deepWait:Be)&&(yield Promise.all([ae(j.enteringEl),ae(j.leavingEl)])),yield q(j.viewIsReady,j.enteringEl)});return function(Be,ft){return N.apply(this,arguments)}}(),q=function(){var N=(0,I.Z)(function*(j,Be){j&&(yield j(Be))});return function(Be,ft){return N.apply(this,arguments)}}(),de=(N,j)=>{const Be=j.progressCallback,ft=new Promise(It=>{N.onFinish(Wt=>It(1===Wt))});return Be?(N.progressStart(!0),Be(N)):N.play(),ft},ve=(N,j)=>{Je(j,Q),Je(N,oe)},fe=(N,j)=>{Je(N,H),Je(j,F)},Je=(N,j)=>{if(N){const Be=new CustomEvent(j,{bubbles:!1,cancelable:!1});N.dispatchEvent(Be)}},Qe=()=>new Promise(N=>(0,re.r)(()=>(0,re.r)(()=>N()))),ae=function(){var N=(0,I.Z)(function*(j){const Be=j;if(Be){if(null!=Be.componentOnReady){if(null!=(yield Be.componentOnReady()))return}else if(null!=Be.__registerHost)return void(yield new Promise(It=>(0,re.r)(It)));yield Promise.all(Array.from(Be.children).map(ae))}});return function(Be){return N.apply(this,arguments)}}(),pe=(N,j)=>{j?(N.setAttribute("aria-hidden","true"),N.classList.add("ion-page-hidden")):(N.hidden=!1,N.removeAttribute("aria-hidden"),N.classList.remove("ion-page-hidden"))},rt=(N,j,Be)=>{void 0!==N&&(N.style.zIndex="back"===Be?"99":"101"),void 0!==j&&(j.style.zIndex="100")},ze=N=>N.classList.contains("ion-page")?N:N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||N},5821:(Me,$e,A)=>{"use strict";A.d($e,{d:()=>d,w:()=>I});const I=typeof window<"u"?window:void 0,d=typeof document<"u"?document:void 0},6389:(Me,$e,A)=>{"use strict";A.d($e,{B:()=>z,H:()=>ft,a:()=>Wi,b:()=>Ao,c:()=>Fe,d:()=>xe,e:()=>un,f:()=>pt,g:()=>ot,h:()=>j,i:()=>uo,j:()=>$,r:()=>er,w:()=>Is});var I=A(8046);let re,oe,H,Q=!1,F=!1,U=!1,le=!1,ee=!1;const z={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},$=R=>{const E=new URL(R,Gn.$resourcesUrl$);return E.origin!==zo.location.origin?E.href:E.pathname},q="s-id",de="sty-id",Je="http://www.w3.org/1999/xlink",Qe={},ze=R=>"object"==(R=typeof R)||"function"===R;function N(R){var E,B,J;return null!==(J=null===(B=null===(E=R.head)||void 0===E?void 0:E.querySelector('meta[name="csp-nonce"]'))||void 0===B?void 0:B.getAttribute("content"))&&void 0!==J?J:void 0}const j=(R,E,...B)=>{let J=null,ge=null,be=null,Le=!1,ct=!1;const st=[],Ke=fn=>{for(let vn=0;vn<fn.length;vn++)J=fn[vn],Array.isArray(J)?Ke(J):null!=J&&"boolean"!=typeof J&&((Le="function"!=typeof R&&!ze(J))&&(J=String(J)),Le&&ct?st[st.length-1].$text$+=J:st.push(Le?Be(null,J):J),ct=Le)};if(Ke(B),E){E.key&&(ge=E.key),E.name&&(be=E.name);{const fn=E.className||E.class;fn&&(E.class="object"!=typeof fn?fn:Object.keys(fn).filter(vn=>fn[vn]).join(" "))}}if("function"==typeof R)return R(null===E?{}:E,st,Wt);const ut=Be(R,null);return ut.$attrs$=E,st.length>0&&(ut.$children$=st),ut.$key$=ge,ut.$name$=be,ut},Be=(R,E)=>({$flags$:0,$tag$:R,$text$:E,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ft={},Wt={forEach:(R,E)=>R.map(Ge).forEach(E),map:(R,E)=>R.map(Ge).map(E).map(we)},Ge=R=>({vattrs:R.$attrs$,vchildren:R.$children$,vkey:R.$key$,vname:R.$name$,vtag:R.$tag$,vtext:R.$text$}),we=R=>{if("function"==typeof R.vtag){const B=Object.assign({},R.vattrs);return R.vkey&&(B.key=R.vkey),R.vname&&(B.name=R.vname),j(R.vtag,B,...R.vchildren||[])}const E=Be(R.vtag,R.vtext);return E.$attrs$=R.vattrs,E.$children$=R.vchildren,E.$key$=R.vkey,E.$name$=R.vname,E},et=(R,E,B,J,ge,be,Le)=>{let ct,st,Ke,ut;if(1===be.nodeType){for(ct=be.getAttribute("c-id"),ct&&(st=ct.split("."),(st[0]===Le||"0"===st[0])&&(Ke={$flags$:0,$hostId$:st[0],$nodeId$:st[1],$depth$:st[2],$index$:st[3],$tag$:be.tagName.toLowerCase(),$elm$:be,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},E.push(Ke),be.removeAttribute("c-id"),R.$children$||(R.$children$=[]),R.$children$[Ke.$index$]=Ke,R=Ke,J&&"0"===Ke.$depth$&&(J[Ke.$index$]=Ke.$elm$))),ut=be.childNodes.length-1;ut>=0;ut--)et(R,E,B,J,ge,be.childNodes[ut],Le);if(be.shadowRoot)for(ut=be.shadowRoot.childNodes.length-1;ut>=0;ut--)et(R,E,B,J,ge,be.shadowRoot.childNodes[ut],Le)}else if(8===be.nodeType)st=be.nodeValue.split("."),(st[1]===Le||"0"===st[1])&&(ct=st[0],Ke={$flags$:0,$hostId$:st[1],$nodeId$:st[2],$depth$:st[3],$index$:st[4],$elm$:be,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ct?(Ke.$elm$=be.nextSibling,Ke.$elm$&&3===Ke.$elm$.nodeType&&(Ke.$text$=Ke.$elm$.textContent,E.push(Ke),be.remove(),R.$children$||(R.$children$=[]),R.$children$[Ke.$index$]=Ke,J&&"0"===Ke.$depth$&&(J[Ke.$index$]=Ke.$elm$))):Ke.$hostId$===Le&&("s"===ct?(Ke.$tag$="slot",be["s-sn"]=st[5]?Ke.$name$=st[5]:"",be["s-sr"]=!0,J&&(Ke.$elm$=Gr.createElement(Ke.$tag$),Ke.$name$&&Ke.$elm$.setAttribute("name",Ke.$name$),be.parentNode.insertBefore(Ke.$elm$,be),be.remove(),"0"===Ke.$depth$&&(J[Ke.$index$]=Ke.$elm$)),B.push(Ke),R.$children$||(R.$children$=[]),R.$children$[Ke.$index$]=Ke):"r"===ct&&(J?be.remove():(ge["s-cr"]=be,be["s-cn"]=!0))));else if(R&&"style"===R.$tag$){const fn=Be(null,be.textContent);fn.$elm$=be,fn.$index$="0",R.$children$=[fn]}},Vt=(R,E)=>{if(1===R.nodeType){let B=0;for(;B<R.childNodes.length;B++)Vt(R.childNodes[B],E);if(R.shadowRoot)for(B=0;B<R.shadowRoot.childNodes.length;B++)Vt(R.shadowRoot.childNodes[B],E)}else if(8===R.nodeType){const B=R.nodeValue.split(".");"o"===B[0]&&(E.set(B[1]+"."+B[2],R),R.nodeValue="",R["s-en"]=B[3])}},Fe=R=>ro.push(R),ot=R=>po(R).$modeName$,pt=R=>po(R).$hostElement$,xe=(R,E,B)=>{const J=pt(R);return{emit:ge=>We(J,E,{bubbles:!!(4&B),composed:!!(2&B),cancelable:!!(1&B),detail:ge})}},We=(R,E,B)=>{const J=Gn.ce(E,B);return R.dispatchEvent(J),J},qe=new WeakMap,tt=(R,E,B)=>{let J=Ii.get(R);Es&&B?(J=J||new CSSStyleSheet,"string"==typeof J?J=E:J.replaceSync(E)):J=E,Ii.set(R,J)},ht=(R,E,B)=>{var J;const ge=wn(E,B),be=Ii.get(ge);if(R=11===R.nodeType?R:Gr,be)if("string"==typeof be){let ct,Le=qe.get(R=R.head||R);if(Le||qe.set(R,Le=new Set),!Le.has(ge)){if(R.host&&(ct=R.querySelector(`[${de}="${ge}"]`)))ct.innerHTML=be;else{ct=Gr.createElement("style"),ct.innerHTML=be;const st=null!==(J=Gn.$nonce$)&&void 0!==J?J:N(Gr);null!=st&&ct.setAttribute("nonce",st),R.insertBefore(ct,R.querySelector("link"))}Le&&Le.add(ge)}}else R.adoptedStyleSheets.includes(be)||(R.adoptedStyleSheets=[...R.adoptedStyleSheets,be]);return ge},wn=(R,E)=>"sc-"+(E&&32&R.$flags$?R.$tagName$+"-"+E:R.$tagName$),Jt=R=>R.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),In=(R,E,B,J,ge,be)=>{if(B!==J){let Le=Po(R,E),ct=E.toLowerCase();if("class"===E){const st=R.classList,Ke=Wr(B),ut=Wr(J);st.remove(...Ke.filter(fn=>fn&&!ut.includes(fn))),st.add(...ut.filter(fn=>fn&&!Ke.includes(fn)))}else if("style"===E){for(const st in B)(!J||null==J[st])&&(st.includes("-")?R.style.removeProperty(st):R.style[st]="");for(const st in J)(!B||J[st]!==B[st])&&(st.includes("-")?R.style.setProperty(st,J[st]):R.style[st]=J[st])}else if("key"!==E)if("ref"===E)J&&J(R);else if(Le||"o"!==E[0]||"n"!==E[1]){const st=ze(J);if((Le||st&&null!==J)&&!ge)try{if(R.tagName.includes("-"))R[E]=J;else{const ut=J??"";"list"===E?Le=!1:(null==B||R[E]!=ut)&&(R[E]=ut)}}catch{}let Ke=!1;ct!==(ct=ct.replace(/^xlink\:?/,""))&&(E=ct,Ke=!0),null==J||!1===J?(!1!==J||""===R.getAttribute(E))&&(Ke?R.removeAttributeNS(Je,E):R.removeAttribute(E)):(!Le||4&be||ge)&&!st&&(J=!0===J?"":J,Ke?R.setAttributeNS(Je,E,J):R.setAttribute(E,J))}else E="-"===E[2]?E.slice(3):Po(zo,ct)?ct.slice(2):ct[2]+E.slice(3),B&&Gn.rel(R,E,B,!1),J&&Gn.ael(R,E,J,!1)}},_n=/\s/,Wr=R=>R?R.split(_n):[],wr=(R,E,B,J)=>{const ge=11===E.$elm$.nodeType&&E.$elm$.host?E.$elm$.host:E.$elm$,be=R&&R.$attrs$||Qe,Le=E.$attrs$||Qe;for(J in be)J in Le||In(ge,J,be[J],void 0,B,E.$flags$);for(J in Le)In(ge,J,be[J],Le[J],B,E.$flags$)},ar=(R,E,B,J)=>{const ge=E.$children$[B];let Le,ct,st,be=0;if(Q||(U=!0,"slot"===ge.$tag$&&(re&&J.classList.add(re+"-s"),ge.$flags$|=ge.$children$?2:1)),null!==ge.$text$)Le=ge.$elm$=Gr.createTextNode(ge.$text$);else if(1&ge.$flags$)Le=ge.$elm$=Gr.createTextNode("");else{if(le||(le="svg"===ge.$tag$),Le=ge.$elm$=Gr.createElementNS(le?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ge.$flags$?"slot-fb":ge.$tag$),le&&"foreignObject"===ge.$tag$&&(le=!1),wr(null,ge,le),(R=>null!=R)(re)&&Le["s-si"]!==re&&Le.classList.add(Le["s-si"]=re),ge.$children$)for(be=0;be<ge.$children$.length;++be)ct=ar(R,ge,be,Le),ct&&Le.appendChild(ct);"svg"===ge.$tag$?le=!1:"foreignObject"===Le.tagName&&(le=!0)}return Le["s-hn"]=H,3&ge.$flags$&&(Le["s-sr"]=!0,Le["s-cr"]=oe,Le["s-sn"]=ge.$name$||"",st=R&&R.$children$&&R.$children$[B],st&&st.$tag$===ge.$tag$&&R.$elm$&&_r(R.$elm$,!1)),Le},_r=(R,E)=>{Gn.$flags$|=1;const B=R.childNodes;for(let J=B.length-1;J>=0;J--){const ge=B[J];ge["s-hn"]!==H&&ge["s-ol"]&&(Zt(ge).insertBefore(ge,Ze(ge)),ge["s-ol"].remove(),ge["s-ol"]=void 0,U=!0),E&&_r(ge,E)}Gn.$flags$&=-2},ii=(R,E,B,J,ge,be)=>{let ct,Le=R["s-cr"]&&R["s-cr"].parentNode||R;for(Le.shadowRoot&&Le.tagName===H&&(Le=Le.shadowRoot);ge<=be;++ge)J[ge]&&(ct=ar(null,B,ge,R),ct&&(J[ge].$elm$=ct,Le.insertBefore(ct,Ze(E))))},No=(R,E,B)=>{for(let J=E;J<=B;++J){const ge=R[J];if(ge){const be=ge.$elm$;De(ge),be&&(F=!0,be["s-ol"]?be["s-ol"].remove():_r(be,!0),be.remove())}}},Go=(R,E)=>R.$tag$===E.$tag$&&("slot"===R.$tag$?R.$name$===E.$name$:R.$key$===E.$key$),Ze=R=>R&&R["s-ol"]||R,Zt=R=>(R["s-ol"]?R["s-ol"]:R).parentNode,Zr=(R,E)=>{const B=E.$elm$=R.$elm$,J=R.$children$,ge=E.$children$,be=E.$tag$,Le=E.$text$;let ct;null===Le?(le="svg"===be||"foreignObject"!==be&&le,"slot"===be||wr(R,E,le),null!==J&&null!==ge?((R,E,B,J)=>{let gt,it,ge=0,be=0,Le=0,ct=0,st=E.length-1,Ke=E[0],ut=E[st],fn=J.length-1,vn=J[0],Kn=J[fn];for(;ge<=st&&be<=fn;)if(null==Ke)Ke=E[++ge];else if(null==ut)ut=E[--st];else if(null==vn)vn=J[++be];else if(null==Kn)Kn=J[--fn];else if(Go(Ke,vn))Zr(Ke,vn),Ke=E[++ge],vn=J[++be];else if(Go(ut,Kn))Zr(ut,Kn),ut=E[--st],Kn=J[--fn];else if(Go(Ke,Kn))("slot"===Ke.$tag$||"slot"===Kn.$tag$)&&_r(Ke.$elm$.parentNode,!1),Zr(Ke,Kn),R.insertBefore(Ke.$elm$,ut.$elm$.nextSibling),Ke=E[++ge],Kn=J[--fn];else if(Go(ut,vn))("slot"===Ke.$tag$||"slot"===Kn.$tag$)&&_r(ut.$elm$.parentNode,!1),Zr(ut,vn),R.insertBefore(ut.$elm$,Ke.$elm$),ut=E[--st],vn=J[++be];else{for(Le=-1,ct=ge;ct<=st;++ct)if(E[ct]&&null!==E[ct].$key$&&E[ct].$key$===vn.$key$){Le=ct;break}Le>=0?(it=E[Le],it.$tag$!==vn.$tag$?gt=ar(E&&E[be],B,Le,R):(Zr(it,vn),E[Le]=void 0,gt=it.$elm$),vn=J[++be]):(gt=ar(E&&E[be],B,be,R),vn=J[++be]),gt&&Zt(Ke.$elm$).insertBefore(gt,Ze(Ke.$elm$))}ge>st?ii(R,null==J[fn+1]?null:J[fn+1].$elm$,B,J,be,fn):be>fn&&No(E,ge,st)})(B,J,E,ge):null!==ge?(null!==R.$text$&&(B.textContent=""),ii(B,null,E,ge,0,ge.length-1)):null!==J&&No(J,0,J.length-1),le&&"svg"===be&&(le=!1)):(ct=B["s-cr"])?ct.parentNode.textContent=Le:R.$text$!==Le&&(B.data=Le)},Hr=R=>{const E=R.childNodes;let B,J,ge,be,Le,ct;for(J=0,ge=E.length;J<ge;J++)if(B=E[J],1===B.nodeType){if(B["s-sr"])for(Le=B["s-sn"],B.hidden=!1,be=0;be<ge;be++)if(ct=E[be].nodeType,E[be]["s-hn"]!==B["s-hn"]||""!==Le){if(1===ct&&Le===E[be].getAttribute("slot")){B.hidden=!0;break}}else if(1===ct||3===ct&&""!==E[be].textContent.trim()){B.hidden=!0;break}Hr(B)}},Ar=[],to=R=>{let E,B,J,ge,be,Le,ct=0;const st=R.childNodes,Ke=st.length;for(;ct<Ke;ct++){if(E=st[ct],E["s-sr"]&&(B=E["s-cr"])&&B.parentNode)for(J=B.parentNode.childNodes,ge=E["s-sn"],Le=J.length-1;Le>=0;Le--)B=J[Le],!B["s-cn"]&&!B["s-nr"]&&B["s-hn"]!==E["s-hn"]&&(Xn(B,ge)?(be=Ar.find(ut=>ut.$nodeToRelocate$===B),F=!0,B["s-sn"]=B["s-sn"]||ge,be?be.$slotRefNode$=E:Ar.push({$slotRefNode$:E,$nodeToRelocate$:B}),B["s-sr"]&&Ar.map(ut=>{Xn(ut.$nodeToRelocate$,B["s-sn"])&&(be=Ar.find(fn=>fn.$nodeToRelocate$===B),be&&!ut.$slotRefNode$&&(ut.$slotRefNode$=be.$slotRefNode$))})):Ar.some(ut=>ut.$nodeToRelocate$===B)||Ar.push({$nodeToRelocate$:B}));1===E.nodeType&&to(E)}},Xn=(R,E)=>1===R.nodeType?null===R.getAttribute("slot")&&""===E||R.getAttribute("slot")===E:R["s-sn"]===E||""===E,De=R=>{R.$attrs$&&R.$attrs$.ref&&R.$attrs$.ref(null),R.$children$&&R.$children$.map(De)},Gt=(R,E)=>{E&&!R.$onRenderResolve$&&E["s-p"]&&E["s-p"].push(new Promise(B=>R.$onRenderResolve$=B))},qt=(R,E)=>{if(R.$flags$|=16,!(4&R.$flags$))return Gt(R,R.$ancestorComponent$),Is(()=>Hn(R,E));R.$flags$|=512},Hn=(R,E)=>{const J=R.$lazyInstance$;let ge;return E&&(R.$flags$|=256,R.$queuedListeners$&&(R.$queuedListeners$.map(([be,Le])=>At(J,be,Le)),R.$queuedListeners$=void 0),ge=At(J,"componentWillLoad")),ge=ln(ge,()=>At(J,"componentWillRender")),ln(ge,()=>co(R,J,E))},ln=(R,E)=>Sr(R)?R.then(E):E(),Sr=R=>R instanceof Promise||R&&R.then&&"function"==typeof R.then,co=function(){var R=(0,I.Z)(function*(E,B,J){var ge;const be=E.$hostElement$,ct=be["s-rc"];J&&(R=>{const E=R.$cmpMeta$,B=R.$hostElement$,J=E.$flags$,be=ht(B.shadowRoot?B.shadowRoot:B.getRootNode(),E,R.$modeName$);10&J&&(B["s-sc"]=be,B.classList.add(be+"-h"),2&J&&B.classList.add(be+"-s"))})(E);vr(E,B,be,J),ct&&(ct.map(Ke=>Ke()),be["s-rc"]=void 0);{const Ke=null!==(ge=be["s-p"])&&void 0!==ge?ge:[],ut=()=>no(E);0===Ke.length?ut():(Promise.all(Ke).then(ut),E.$flags$|=4,Ke.length=0)}});return function(B,J,ge){return R.apply(this,arguments)}}(),vr=(R,E,B,J)=>{try{E=E.render&&E.render(),R.$flags$&=-17,R.$flags$|=2,((R,E,B=!1)=>{const J=R.$hostElement$,ge=R.$cmpMeta$,be=R.$vnode$||Be(null,null),Le=(R=>R&&R.$tag$===ft)(E)?E:j(null,null,E);if(H=J.tagName,ge.$attrsToReflect$&&(Le.$attrs$=Le.$attrs$||{},ge.$attrsToReflect$.map(([ct,st])=>Le.$attrs$[st]=J[ct])),B&&Le.$attrs$)for(const ct of Object.keys(Le.$attrs$))J.hasAttribute(ct)&&!["key","ref","style","class"].includes(ct)&&(Le.$attrs$[ct]=J[ct]);if(Le.$tag$=null,Le.$flags$|=4,R.$vnode$=Le,Le.$elm$=be.$elm$=J.shadowRoot||J,re=J["s-sc"],oe=J["s-cr"],Q=0!=(1&ge.$flags$),F=!1,Zr(be,Le),Gn.$flags$|=1,U){to(Le.$elm$);let ct,st,Ke,ut,fn,vn,Kn=0;for(;Kn<Ar.length;Kn++)ct=Ar[Kn],st=ct.$nodeToRelocate$,st["s-ol"]||(Ke=Gr.createTextNode(""),Ke["s-nr"]=st,st.parentNode.insertBefore(st["s-ol"]=Ke,st));for(Kn=0;Kn<Ar.length;Kn++)if(ct=Ar[Kn],st=ct.$nodeToRelocate$,ct.$slotRefNode$){for(ut=ct.$slotRefNode$.parentNode,fn=ct.$slotRefNode$.nextSibling,Ke=st["s-ol"];Ke=Ke.previousSibling;)if(vn=Ke["s-nr"],vn&&vn["s-sn"]===st["s-sn"]&&ut===vn.parentNode&&(vn=vn.nextSibling,!vn||!vn["s-nr"])){fn=vn;break}(!fn&&ut!==st.parentNode||st.nextSibling!==fn)&&st!==fn&&(!st["s-hn"]&&st["s-ol"]&&(st["s-hn"]=st["s-ol"].parentNode.nodeName),ut.insertBefore(st,fn))}else 1===st.nodeType&&(st.hidden=!0)}F&&Hr(Le.$elm$),Gn.$flags$&=-2,Ar.length=0})(R,E,J)}catch(ge){Di(ge,R.$hostElement$)}return null},no=R=>{const B=R.$hostElement$,ge=R.$lazyInstance$,be=R.$ancestorComponent$;At(ge,"componentDidRender"),64&R.$flags$?At(ge,"componentDidUpdate"):(R.$flags$|=64,cn(B),At(ge,"componentDidLoad"),R.$onReadyResolve$(B),be||yr()),R.$onInstanceResolve$(B),R.$onRenderResolve$&&(R.$onRenderResolve$(),R.$onRenderResolve$=void 0),512&R.$flags$&&Zi(()=>qt(R,!1)),R.$flags$&=-517},uo=R=>{{const E=po(R),B=E.$hostElement$.isConnected;return B&&2==(18&E.$flags$)&&qt(E,!1),B}},yr=R=>{cn(Gr.documentElement),Zi(()=>We(zo,"appload",{detail:{namespace:"ionic"}}))},At=(R,E,B)=>{if(R&&R[E])try{return R[E](B)}catch(J){Di(J)}},cn=R=>R.classList.add("hydrated"),bo=(R,E,B)=>{if(E.$members$){R.watchers&&(E.$watchers$=R.watchers);const J=Object.entries(E.$members$),ge=R.prototype;if(J.map(([be,[Le]])=>{31&Le||2&B&&32&Le?Object.defineProperty(ge,be,{get(){return((R,E)=>po(this).$instanceValues$.get(E))(0,be)},set(ct){((R,E,B,J)=>{const ge=po(R),be=ge.$hostElement$,Le=ge.$instanceValues$.get(E),ct=ge.$flags$,st=ge.$lazyInstance$;B=((R,E)=>null==R||ze(R)?R:4&E?"false"!==R&&(""===R||!!R):2&E?parseFloat(R):1&E?String(R):R)(B,J.$members$[E][0]);const Ke=Number.isNaN(Le)&&Number.isNaN(B);if((!(8&ct)||void 0===Le)&&B!==Le&&!Ke&&(ge.$instanceValues$.set(E,B),st)){if(J.$watchers$&&128&ct){const fn=J.$watchers$[E];fn&&fn.map(vn=>{try{st[vn](B,Le,E)}catch(Kn){Di(Kn,be)}})}2==(18&ct)&&qt(ge,!1)}})(this,be,ct,E)},configurable:!0,enumerable:!0}):1&B&&64&Le&&Object.defineProperty(ge,be,{value(...ct){const st=po(this);return st.$onInstancePromise$.then(()=>st.$lazyInstance$[be](...ct))}})}),1&B){const be=new Map;ge.attributeChangedCallback=function(Le,ct,st){Gn.jmp(()=>{const Ke=be.get(Le);if(this.hasOwnProperty(Ke))st=this[Ke],delete this[Ke];else if(ge.hasOwnProperty(Ke)&&"number"==typeof this[Ke]&&this[Ke]==st)return;this[Ke]=(null!==st||"boolean"!=typeof this[Ke])&&st})},R.observedAttributes=J.filter(([Le,ct])=>15&ct[0]).map(([Le,ct])=>{const st=ct[1]||Le;return be.set(st,Le),512&ct[0]&&E.$attrsToReflect$.push([Le,st]),st})}}return R},Ni=function(){var R=(0,I.Z)(function*(E,B,J,ge,be){if(!(32&B.$flags$)){B.$flags$|=32;{if((be=Ss(J)).then){const Ke=()=>{};be=yield be,Ke()}be.isProxied||(J.$watchers$=be.watchers,bo(be,J,2),be.isProxied=!0);const st=()=>{};B.$flags$|=8;try{new be(B)}catch(Ke){Di(Ke)}B.$flags$&=-9,B.$flags$|=128,st(),ai(B.$lazyInstance$)}if(be.style){let st=be.style;"string"!=typeof st&&(st=st[B.$modeName$=(R=>ro.map(E=>E(R)).find(E=>!!E))(E)]);const Ke=wn(J,B.$modeName$);if(!Ii.has(Ke)){const ut=()=>{};tt(Ke,st,!!(1&J.$flags$)),ut()}}}const Le=B.$ancestorComponent$,ct=()=>qt(B,!0);Le&&Le["s-rc"]?Le["s-rc"].push(ct):ct()});return function(B,J,ge,be,Le){return R.apply(this,arguments)}}(),ai=R=>{At(R,"connectedCallback")},M=R=>{const E=R["s-cr"]=Gr.createComment("");E["s-cn"]=!0,R.insertBefore(E,R.firstChild)},x=R=>{At(R,"disconnectedCallback")},k=function(){var R=(0,I.Z)(function*(E){if(!(1&Gn.$flags$)){const B=po(E);B.$rmListeners$&&(B.$rmListeners$.map(J=>J()),B.$rmListeners$=void 0),B?.$lazyInstance$?x(B.$lazyInstance$):B?.$onReadyPromise$&&B.$onReadyPromise$.then(()=>x(B.$lazyInstance$))}});return function(B){return R.apply(this,arguments)}}(),Ao=(R,E={})=>{var B;const ge=[],be=E.exclude||[],Le=zo.customElements,ct=Gr.head,st=ct.querySelector("meta[charset]"),Ke=Gr.createElement("style"),ut=[],fn=Gr.querySelectorAll(`[${de}]`);let vn,Kn=!0,gt=0;for(Object.assign(Gn,E),Gn.$resourcesUrl$=new URL(E.resourcesUrl||"./",Gr.baseURI).href,Gn.$flags$|=2;gt<fn.length;gt++)tt(fn[gt].getAttribute(de),Jt(fn[gt].innerHTML),!0);R.map(it=>{it[1].map(ui=>{const yt={$flags$:ui[0],$tagName$:ui[1],$members$:ui[2],$listeners$:ui[3]};yt.$members$=ui[2],yt.$listeners$=ui[3],yt.$attrsToReflect$=[],yt.$watchers$={};const zn=yt.$tagName$,el=class extends HTMLElement{constructor(Li){super(Li),Lo(Li=this,yt),1&yt.$flags$&&Li.attachShadow({mode:"open",delegatesFocus:!!(16&yt.$flags$)})}connectedCallback(){vn&&(clearTimeout(vn),vn=null),Kn?ut.push(this):Gn.jmp(()=>(R=>{if(!(1&Gn.$flags$)){const E=po(R),B=E.$cmpMeta$,J=()=>{};if(1&E.$flags$)li(R,E,B.$listeners$),E?.$lazyInstance$?ai(E.$lazyInstance$):E?.$onReadyPromise$&&E.$onReadyPromise$.then(()=>ai(E.$lazyInstance$));else{let ge;if(E.$flags$|=1,ge=R.getAttribute(q),ge){if(1&B.$flags$){const be=ht(R.shadowRoot,B,R.getAttribute("s-mode"));R.classList.remove(be+"-h",be+"-s")}((R,E,B,J)=>{const be=R.shadowRoot,Le=[],st=be?[]:null,Ke=J.$vnode$=Be(E,null);Gn.$orgLocNodes$||Vt(Gr.body,Gn.$orgLocNodes$=new Map),R[q]=B,R.removeAttribute(q),et(Ke,Le,[],st,R,R,B),Le.map(ut=>{const fn=ut.$hostId$+"."+ut.$nodeId$,vn=Gn.$orgLocNodes$.get(fn),Kn=ut.$elm$;vn&&ia&&""===vn["s-en"]&&vn.parentNode.insertBefore(Kn,vn.nextSibling),be||(Kn["s-hn"]=E,vn&&(Kn["s-ol"]=vn,Kn["s-ol"]["s-nr"]=Kn)),Gn.$orgLocNodes$.delete(fn)}),be&&st.map(ut=>{ut&&be.appendChild(ut)})})(R,B.$tagName$,ge,E)}ge||12&B.$flags$&&M(R);{let be=R;for(;be=be.parentNode||be.host;)if(1===be.nodeType&&be.hasAttribute("s-id")&&be["s-p"]||be["s-p"]){Gt(E,E.$ancestorComponent$=be);break}}B.$members$&&Object.entries(B.$members$).map(([be,[Le]])=>{if(31&Le&&R.hasOwnProperty(be)){const ct=R[be];delete R[be],R[be]=ct}}),Ni(R,E,B)}J()}})(this))}disconnectedCallback(){Gn.jmp(()=>k(this))}componentOnReady(){return po(this).$onReadyPromise$}};yt.$lazyBundleId$=it[0],!be.includes(zn)&&!Le.get(zn)&&(ge.push(zn),Le.define(zn,bo(el,yt,1)))})});{Ke.innerHTML=ge+"{visibility:hidden}.hydrated{visibility:inherit}",Ke.setAttribute("data-styles","");const it=null!==(B=Gn.$nonce$)&&void 0!==B?B:N(Gr);null!=it&&Ke.setAttribute("nonce",it),ct.insertBefore(Ke,st?st.nextSibling:ct.firstChild)}Kn=!1,ut.length?ut.map(it=>it.connectedCallback()):Gn.jmp(()=>vn=setTimeout(yr,30))},li=(R,E,B,J)=>{B&&B.map(([ge,be,Le])=>{const ct=Co(R,ge),st=zi(E,Le),Ke=ws(ge);Gn.ael(ct,be,st,Ke),(E.$rmListeners$=E.$rmListeners$||[]).push(()=>Gn.rel(ct,be,st,Ke))})},zi=(R,E)=>B=>{try{256&R.$flags$?R.$lazyInstance$[E](B):(R.$queuedListeners$=R.$queuedListeners$||[]).push([E,B])}catch(J){Di(J)}},Co=(R,E)=>4&E?Gr:8&E?zo:16&E?Gr.body:R,ws=R=>0!=(2&R),Nr=new WeakMap,po=R=>Nr.get(R),er=(R,E)=>Nr.set(E.$lazyInstance$=R,E),Lo=(R,E)=>{const B={$flags$:0,$hostElement$:R,$cmpMeta$:E,$instanceValues$:new Map};return B.$onInstancePromise$=new Promise(J=>B.$onInstanceResolve$=J),B.$onReadyPromise$=new Promise(J=>B.$onReadyResolve$=J),R["s-p"]=[],R["s-rc"]=[],li(R,B,E.$listeners$),Nr.set(R,B)},Po=(R,E)=>E in R,Di=(R,E)=>(0,console.error)(R,E),ci=new Map,Ss=(R,E,B)=>{const J=R.$tagName$.replace(/-/g,"_"),ge=R.$lazyBundleId$,be=ci.get(ge);return be?be[J]:A(863)(`./${ge}.entry.js`).then(Le=>(ci.set(ge,Le),Le[J]),Di)},Ii=new Map,ro=[],zo=typeof window<"u"?window:{},Gr=zo.document||{head:{}},Gn={$flags$:0,$resourcesUrl$:"",jmp:R=>R(),raf:R=>requestAnimationFrame(R),ael:(R,E,B,J)=>R.addEventListener(E,B,J),rel:(R,E,B,J)=>R.removeEventListener(E,B,J),ce:(R,E)=>new CustomEvent(R,E)},Wi=R=>{Object.assign(Gn,R)},ia=!0,Es=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ki=[],Ds=[],ds=(R,E)=>B=>{R.push(B),ee||(ee=!0,E&&4&Gn.$flags$?Zi(tr):Gn.raf(tr))},Gs=R=>{for(let E=0;E<R.length;E++)try{R[E](performance.now())}catch(B){Di(B)}R.length=0},tr=()=>{Gs(ki),Gs(Ds),(ee=ki.length>0)&&Gn.raf(tr)},Zi=R=>Promise.resolve(void 0).then(R),un=ds(ki,!1),Is=ds(Ds,!0)},7075:(Me,$e,A)=>{"use strict";A.d($e,{m:()=>z});var I=A(8046),d=A(922),re=A(6481),oe=A(3149),H=A(2440);const Q=$=>(0,H.c)().duration($?400:300),F=$=>{let L,G;const Oe=$.width+8,Re=(0,H.c)(),ue=(0,H.c)();$.isEndSide?(L=Oe+"px",G="0px"):(L=-Oe+"px",G="0px"),Re.addElement($.menuInnerEl).fromTo("transform",`translateX(${L})`,`translateX(${G})`);const q="ios"===(0,oe.b)($),de=q?.2:.25;return ue.addElement($.backdropEl).fromTo("opacity",.01,de),Q(q).addAnimation([Re,ue])},U=$=>{let L,G;const Oe=(0,oe.b)($),Re=$.width;$.isEndSide?(L=-Re+"px",G=Re+"px"):(L=Re+"px",G=-Re+"px");const ue=(0,H.c)().addElement($.menuInnerEl).fromTo("transform",`translateX(${G})`,"translateX(0px)"),V=(0,H.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${L})`),q=(0,H.c)().addElement($.backdropEl).fromTo("opacity",.01,.32);return Q("ios"===Oe).addAnimation([ue,V,q])},le=$=>{const L=(0,oe.b)($),G=$.width*($.isEndSide?-1:1)+"px",Oe=(0,H.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${G})`);return Q("ios"===L).addAnimation(Oe)},z=(()=>{const $=new Map,L=[],G=function(){var we=(0,I.Z)(function*(He){const et=yield ve(He);return!!et&&et.open()});return function(et){return we.apply(this,arguments)}}(),Oe=function(){var we=(0,I.Z)(function*(He){const et=yield void 0!==He?ve(He):fe();return void 0!==et&&et.close()});return function(et){return we.apply(this,arguments)}}(),Re=function(){var we=(0,I.Z)(function*(He){const et=yield ve(He);return!!et&&et.toggle()});return function(et){return we.apply(this,arguments)}}(),ue=function(){var we=(0,I.Z)(function*(He,et){const Vt=yield ve(et);return Vt&&(Vt.disabled=!He),Vt});return function(et,Vt){return we.apply(this,arguments)}}(),V=function(){var we=(0,I.Z)(function*(He,et){const Vt=yield ve(et);return Vt&&(Vt.swipeGesture=He),Vt});return function(et,Vt){return we.apply(this,arguments)}}(),q=function(){var we=(0,I.Z)(function*(He){if(null!=He){const et=yield ve(He);return void 0!==et&&et.isOpen()}return void 0!==(yield fe())});return function(et){return we.apply(this,arguments)}}(),de=function(){var we=(0,I.Z)(function*(He){const et=yield ve(He);return!!et&&!et.disabled});return function(et){return we.apply(this,arguments)}}(),ve=function(){var we=(0,I.Z)(function*(He){return yield Ge(),"start"===He||"end"===He?Wt(Ut=>Ut.side===He&&!Ut.disabled)||Wt(Ut=>Ut.side===He):null!=He?Wt(Vt=>Vt.menuId===He):Wt(Vt=>!Vt.disabled)||(L.length>0?L[0].el:void 0)});return function(et){return we.apply(this,arguments)}}(),fe=function(){var we=(0,I.Z)(function*(){return yield Ge(),Be()});return function(){return we.apply(this,arguments)}}(),Je=function(){var we=(0,I.Z)(function*(){return yield Ge(),ft()});return function(){return we.apply(this,arguments)}}(),Qe=function(){var we=(0,I.Z)(function*(){return yield Ge(),It()});return function(){return we.apply(this,arguments)}}(),ae=(we,He)=>{$.set(we,He)},ze=we=>{const He=we.side;L.filter(et=>et.side===He&&et!==we).forEach(et=>et.disabled=!0)},N=function(){var we=(0,I.Z)(function*(He,et,Vt){if(It())return!1;if(et){const Ut=yield fe();Ut&&He.el!==Ut&&(yield Ut.setOpen(!1,!1))}return He._setOpen(et,Vt)});return function(et,Vt,Ut){return we.apply(this,arguments)}}(),Be=()=>Wt(we=>we._isOpen),ft=()=>L.map(we=>we.el),It=()=>L.some(we=>we.isAnimating),Wt=we=>{const He=L.find(we);if(void 0!==He)return He.el},Ge=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(we=>new Promise(He=>(0,re.c)(we,He))));return ae("reveal",le),ae("push",U),ae("overlay",F),typeof document<"u"&&document.addEventListener("ionBackButton",we=>{const He=Be();He&&we.detail.register(d.MENU_BACK_BUTTON_PRIORITY,()=>He.close())}),{registerAnimation:ae,get:ve,getMenus:Je,getOpen:fe,isEnabled:de,swipeGesture:V,isAnimating:Qe,isOpen:q,enable:ue,toggle:Re,close:Oe,open:G,_getOpenSync:Be,_createAnimation:(we,He)=>{const et=$.get(we);if(!et)throw new Error("animation not registered");return et(He)},_register:we=>{L.indexOf(we)<0&&(we.disabled||ze(we),L.push(we))},_unregister:we=>{const He=L.indexOf(we);He>-1&&L.splice(He,1)},_setOpen:N,_setActiveMenu:ze}})()},2208:(Me,$e,A)=>{"use strict";A.r($e),A.d($e,{GESTURE_CONTROLLER:()=>I.G,createGesture:()=>le});var I=A(1030);const d=(L,G,Oe,Re)=>{const ue=re(L)?{capture:!!Re.capture,passive:!!Re.passive}:!!Re.capture;let V,q;return L.__zone_symbol__addEventListener?(V="__zone_symbol__addEventListener",q="__zone_symbol__removeEventListener"):(V="addEventListener",q="removeEventListener"),L[V](G,Oe,ue),()=>{L[q](G,Oe,ue)}},re=L=>{if(void 0===oe)try{const G=Object.defineProperty({},"passive",{get:()=>{oe=!0}});L.addEventListener("optsTest",()=>{},G)}catch{oe=!1}return!!oe};let oe;const F=L=>L instanceof Document?L:L.ownerDocument,le=L=>{let G=!1,Oe=!1,Re=!0,ue=!1;const V=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},L),q=V.canStart,de=V.onWillStart,ve=V.onStart,fe=V.onEnd,Je=V.notCaptured,Qe=V.onMove,ae=V.threshold,pe=V.passive,rt=V.blurOnStart,ze={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},N=((L,G,Oe)=>{const Re=Oe*(Math.PI/180),ue="x"===L,V=Math.cos(Re),q=G*G;let de=0,ve=0,fe=!1,Je=0;return{start(Qe,ae){de=Qe,ve=ae,Je=0,fe=!0},detect(Qe,ae){if(!fe)return!1;const pe=Qe-de,rt=ae-ve,ze=pe*pe+rt*rt;if(ze<q)return!1;const N=Math.sqrt(ze),j=(ue?pe:rt)/N;return Je=j>V?1:j<-V?-1:0,fe=!1,!0},isGesture:()=>0!==Je,getDirection:()=>Je}})(V.direction,V.threshold,V.maxAngle),j=I.G.createGesture({name:L.gestureName,priority:L.gesturePriority,disableScroll:L.disableScroll}),It=()=>{G&&(ue=!1,Qe&&Qe(ze))},Wt=()=>!!j.capture()&&(G=!0,Re=!1,ze.startX=ze.currentX,ze.startY=ze.currentY,ze.startTime=ze.currentTime,de?de(ze).then(we):we(),!0),we=()=>{rt&&(()=>{if(typeof document<"u"){const Fe=document.activeElement;Fe?.blur&&Fe.blur()}})(),ve&&ve(ze),Re=!0},He=()=>{G=!1,Oe=!1,ue=!1,Re=!0,j.release()},et=Fe=>{const ot=G,St=Re;if(He(),St){if(ee(ze,Fe),ot)return void(fe&&fe(ze));Je&&Je(ze)}},Vt=((L,G,Oe,Re,ue)=>{let V,q,de,ve,fe,Je,Qe,ae=0;const pe=Ge=>{ae=Date.now()+2e3,G(Ge)&&(!q&&Oe&&(q=d(L,"touchmove",Oe,ue)),de||(de=d(Ge.target,"touchend",ze,ue)),ve||(ve=d(Ge.target,"touchcancel",ze,ue)))},rt=Ge=>{ae>Date.now()||G(Ge)&&(!Je&&Oe&&(Je=d(F(L),"mousemove",Oe,ue)),Qe||(Qe=d(F(L),"mouseup",N,ue)))},ze=Ge=>{j(),Re&&Re(Ge)},N=Ge=>{Be(),Re&&Re(Ge)},j=()=>{q&&q(),de&&de(),ve&&ve(),q=de=ve=void 0},Be=()=>{Je&&Je(),Qe&&Qe(),Je=Qe=void 0},ft=()=>{j(),Be()},It=(Ge=!0)=>{Ge?(V||(V=d(L,"touchstart",pe,ue)),fe||(fe=d(L,"mousedown",rt,ue))):(V&&V(),fe&&fe(),V=fe=void 0,ft())};return{enable:It,stop:ft,destroy:()=>{It(!1),Re=Oe=G=void 0}}})(V.el,Fe=>{const ot=$(Fe);return!(Oe||!Re||(z(Fe,ze),ze.startX=ze.currentX,ze.startY=ze.currentY,ze.startTime=ze.currentTime=ot,ze.velocityX=ze.velocityY=ze.deltaX=ze.deltaY=0,ze.event=Fe,q&&!1===q(ze))||(j.release(),!j.start()))&&(Oe=!0,0===ae?Wt():(N.start(ze.startX,ze.startY),!0))},Fe=>{G?!ue&&Re&&(ue=!0,ee(ze,Fe),requestAnimationFrame(It)):(ee(ze,Fe),N.detect(ze.currentX,ze.currentY)&&(!N.isGesture()||!Wt())&&Ut())},et,{capture:!1,passive:pe}),Ut=()=>{He(),Vt.stop(),Je&&Je(ze)};return{enable(Fe=!0){Fe||(G&&et(void 0),He()),Vt.enable(Fe)},destroy(){j.destroy(),Vt.destroy()}}},ee=(L,G)=>{if(!G)return;const Oe=L.currentX,Re=L.currentY,ue=L.currentTime;z(G,L);const V=L.currentX,q=L.currentY,ve=(L.currentTime=$(G))-ue;if(ve>0&&ve<100){const Je=(q-Re)/ve;L.velocityX=(V-Oe)/ve*.7+.3*L.velocityX,L.velocityY=.7*Je+.3*L.velocityY}L.deltaX=V-L.startX,L.deltaY=q-L.startY,L.event=G},z=(L,G)=>{let Oe=0,Re=0;if(L){const ue=L.changedTouches;if(ue&&ue.length>0){const V=ue[0];Oe=V.clientX,Re=V.clientY}else void 0!==L.pageX&&(Oe=L.pageX,Re=L.pageY)}G.currentX=Oe,G.currentY=Re},$=L=>L.timeStamp||Date.now()},3149:(Me,$e,A)=>{"use strict";A.d($e,{a:()=>z,b:()=>It,c:()=>re,g:()=>ee,i:()=>Wt});var I=A(6389);class d{constructor(){this.m=new Map}reset(we){this.m=new Map(Object.entries(we))}get(we,He){const et=this.m.get(we);return void 0!==et?et:He}getBoolean(we,He=!1){const et=this.m.get(we);return void 0===et?He:"string"==typeof et?"true"===et:!!et}getNumber(we,He){const et=parseFloat(this.m.get(we));return isNaN(et)?void 0!==He?He:NaN:et}set(we,He){this.m.set(we,He)}}const re=new d,U="ionic:",le="ionic-persist-config",ee=Ge=>$(Ge),z=(Ge,we)=>("string"==typeof Ge&&(we=Ge,Ge=void 0),ee(Ge).includes(we)),$=(Ge=window)=>{if(typeof Ge>"u")return[];Ge.Ionic=Ge.Ionic||{};let we=Ge.Ionic.platforms;return null==we&&(we=Ge.Ionic.platforms=L(Ge),we.forEach(He=>Ge.document.documentElement.classList.add(`plt-${He}`))),we},L=Ge=>{const we=re.get("platform");return Object.keys(Be).filter(He=>{const et=we?.[He];return"function"==typeof et?et(Ge):Be[He](Ge)})},Oe=Ge=>!!(N(Ge,/iPad/i)||N(Ge,/Macintosh/i)&&fe(Ge)),V=Ge=>N(Ge,/android|sink/i),fe=Ge=>j(Ge,"(any-pointer:coarse)"),Qe=Ge=>ae(Ge)||pe(Ge),ae=Ge=>!!(Ge.cordova||Ge.phonegap||Ge.PhoneGap),pe=Ge=>{const we=Ge.Capacitor;return!!we?.isNative},N=(Ge,we)=>we.test(Ge.navigator.userAgent),j=(Ge,we)=>{var He;return null===(He=Ge.matchMedia)||void 0===He?void 0:He.call(Ge,we).matches},Be={ipad:Oe,iphone:Ge=>N(Ge,/iPhone/i),ios:Ge=>N(Ge,/iPhone|iPod/i)||Oe(Ge),android:V,phablet:Ge=>{const we=Ge.innerWidth,He=Ge.innerHeight,et=Math.min(we,He),Vt=Math.max(we,He);return et>390&&et<520&&Vt>620&&Vt<800},tablet:Ge=>{const we=Ge.innerWidth,He=Ge.innerHeight,et=Math.min(we,He),Vt=Math.max(we,He);return Oe(Ge)||(Ge=>V(Ge)&&!N(Ge,/mobile/i))(Ge)||et>460&&et<820&&Vt>780&&Vt<1400},cordova:ae,capacitor:pe,electron:Ge=>N(Ge,/electron/i),pwa:Ge=>{var we;return!!(null!==(we=Ge.matchMedia)&&void 0!==we&&we.call(Ge,"(display-mode: standalone)").matches||Ge.navigator.standalone)},mobile:fe,mobileweb:Ge=>fe(Ge)&&!Qe(Ge),desktop:Ge=>!fe(Ge),hybrid:Qe};let ft;const It=Ge=>Ge&&(0,I.g)(Ge)||ft,Wt=(Ge={})=>{if(typeof window>"u")return;const we=window.document,He=window,et=He.Ionic=He.Ionic||{},Vt={};Ge._ael&&(Vt.ael=Ge._ael),Ge._rel&&(Vt.rel=Ge._rel),Ge._ce&&(Vt.ce=Ge._ce),(0,I.a)(Vt);const Ut=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ge=>{try{const we=Ge.sessionStorage.getItem(le);return null!==we?JSON.parse(we):{}}catch{return{}}})(He)),{persistConfig:!1}),et.config),(Ge=>{const we={};return Ge.location.search.slice(1).split("&").map(He=>He.split("=")).map(([He,et])=>[decodeURIComponent(He),decodeURIComponent(et)]).filter(([He])=>((Ge,we)=>Ge.substr(0,we.length)===we)(He,U)).map(([He,et])=>[He.slice(6),et]).forEach(([He,et])=>{we[He]=et}),we})(He)),Ge);re.reset(Ut),re.getBoolean("persistConfig")&&((Ge,we)=>{try{Ge.sessionStorage.setItem(le,JSON.stringify(we))}catch{return}})(He,Ut),$(He),et.config=re,et.mode=ft=re.get("mode",we.documentElement.getAttribute("mode")||(z(He,"ios")?"ios":"md")),re.set("mode",ft),we.documentElement.setAttribute("mode",ft),we.documentElement.classList.add(ft),re.getBoolean("_testing")&&re.set("animated",!1);const Fe=St=>{var pt;return null===(pt=St.tagName)||void 0===pt?void 0:pt.startsWith("ION-")},ot=St=>["ios","md"].includes(St);(0,I.c)(St=>{for(;St;){const pt=St.mode||St.getAttribute("mode");if(pt){if(ot(pt))return pt;Fe(St)&&console.warn('Invalid ionic mode: "'+pt+'", expected: "ios" or "md"')}St=St.parentElement}return ft})}},3083:(Me,$e,A)=>{"use strict";A.r($e),A.d($e,{iosTransitionAnimation:()=>L,shadow:()=>F});var I=A(2440),d=A(2704);A(5821),A(6389);const Q=G=>document.querySelector(`${G}.ion-cloned-element`),F=G=>G.shadowRoot||G,U=G=>{const Oe="ION-TABS"===G.tagName?G:G.querySelector("ion-tabs"),Re="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Oe){const ue=Oe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ue?ue.querySelector(Re):null}return G.querySelector(Re)},le=(G,Oe)=>{const Re="ION-TABS"===G.tagName?G:G.querySelector("ion-tabs");let ue=[];if(null!=Re){const V=Re.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=V&&(ue=V.querySelectorAll("ion-buttons"))}else ue=G.querySelectorAll("ion-buttons");for(const V of ue){const q=V.closest("ion-header"),de=q&&!q.classList.contains("header-collapse-condense-inactive"),ve=V.querySelector("ion-back-button"),fe=V.classList.contains("buttons-collapse");if(null!==ve&&("start"===V.slot||""===V.slot)&&(fe&&de&&Oe||!fe))return ve}return null},z=(G,Oe,Re,ue,V,q)=>{const de=Oe?`calc(100% - ${q.right+4}px)`:q.left-4+"px",ve=Oe?"7px":"-7px",fe=Oe?"-4px":"4px",Je=Oe?"-4px":"4px",Qe=Oe?"right":"left",ae=Oe?"left":"right",ze=Re?[{offset:0,opacity:1,transform:`translate3d(${fe}, ${q.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ve}, ${V.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${ve}, ${V.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${fe}, ${q.top-46}px, 0) scale(1)`}],Be=Re?[{offset:0,opacity:1,transform:`translate3d(${Je}, ${q.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Je}, ${q.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Je}, ${q.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Je}, ${q.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Je}, ${q.top-46}px, 0) scale(1)`}],ft=(0,I.c)(),It=(0,I.c)(),Wt=Q("ion-back-button"),Ge=F(Wt).querySelector(".button-text"),we=F(Wt).querySelector("ion-icon");Wt.text=ue.text,Wt.mode=ue.mode,Wt.icon=ue.icon,Wt.color=ue.color,Wt.disabled=ue.disabled,Wt.style.setProperty("display","block"),Wt.style.setProperty("position","fixed"),It.addElement(we),ft.addElement(Ge),ft.beforeStyles({"transform-origin":`${Qe} center`}).beforeAddWrite(()=>{ue.style.setProperty("display","none"),Wt.style.setProperty(Qe,de)}).afterAddWrite(()=>{ue.style.setProperty("display",""),Wt.style.setProperty("display","none"),Wt.style.removeProperty(Qe)}).keyframes(ze),It.beforeStyles({"transform-origin":`${ae} center`}).keyframes(Be),G.addAnimation([ft,It])},$=(G,Oe,Re,ue,V,q)=>{const de=Oe?`calc(100% - ${V.right}px)`:`${V.left}px`,ve=Oe?"-18px":"18px",fe=Oe?"right":"left",ae=Re?[{offset:0,opacity:0,transform:`translate3d(${ve}, ${q.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${V.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${V.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ve}, ${q.top-4}px, 0) scale(0.5)`}],pe=Q("ion-title"),rt=(0,I.c)();pe.innerText=ue.innerText,pe.size=ue.size,pe.color=ue.color,rt.addElement(pe),rt.beforeStyles({"transform-origin":`${fe} center`,height:"46px",display:"",position:"relative",[fe]:de}).beforeAddWrite(()=>{ue.style.setProperty("display","none")}).afterAddWrite(()=>{ue.style.setProperty("display",""),pe.style.setProperty("display","none")}).keyframes(ae),G.addAnimation(rt)},L=(G,Oe)=>{var Re;try{const ue="cubic-bezier(0.32,0.72,0,1)",V="opacity",q="transform",de="0%",fe="rtl"===G.ownerDocument.dir,Je=fe?"-99.5%":"99.5%",Qe=fe?"33%":"-33%",ae=Oe.enteringEl,pe=Oe.leavingEl,rt="back"===Oe.direction,ze=ae.querySelector(":scope > ion-content"),N=ae.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),j=ae.querySelectorAll(":scope > ion-header > ion-toolbar"),Be=(0,I.c)(),ft=(0,I.c)();if(Be.addElement(ae).duration((null!==(Re=Oe.duration)&&void 0!==Re?Re:0)||540).easing(Oe.easing||ue).fill("both").beforeRemoveClass("ion-page-invisible"),pe&&null!=G){const we=(0,I.c)();we.addElement(G),Be.addAnimation(we)}if(ze||0!==j.length||0!==N.length?(ft.addElement(ze),ft.addElement(N)):ft.addElement(ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(ft),rt?ft.beforeClearStyles([V]).fromTo("transform",`translateX(${Qe})`,`translateX(${de})`).fromTo(V,.8,1):ft.beforeClearStyles([V]).fromTo("transform",`translateX(${Je})`,`translateX(${de})`),ze){const we=F(ze).querySelector(".transition-effect");if(we){const He=we.querySelector(".transition-cover"),et=we.querySelector(".transition-shadow"),Vt=(0,I.c)(),Ut=(0,I.c)(),Fe=(0,I.c)();Vt.addElement(we).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ut.addElement(He).beforeClearStyles([V]).fromTo(V,0,.1),Fe.addElement(et).beforeClearStyles([V]).fromTo(V,.03,.7),Vt.addAnimation([Ut,Fe]),ft.addAnimation([Vt])}}const It=ae.querySelector("ion-header.header-collapse-condense"),{forward:Wt,backward:Ge}=((G,Oe,Re,ue,V)=>{const q=le(ue,Re),de=U(V),ve=U(ue),fe=le(V,Re),Je=null!==q&&null!==de&&!Re,Qe=null!==ve&&null!==fe&&Re;if(Je){const ae=de.getBoundingClientRect(),pe=q.getBoundingClientRect();$(G,Oe,Re,de,ae,pe),z(G,Oe,Re,q,ae,pe)}else if(Qe){const ae=ve.getBoundingClientRect(),pe=fe.getBoundingClientRect();$(G,Oe,Re,ve,ae,pe),z(G,Oe,Re,fe,ae,pe)}return{forward:Je,backward:Qe}})(Be,fe,rt,ae,pe);if(j.forEach(we=>{const He=(0,I.c)();He.addElement(we),Be.addAnimation(He);const et=(0,I.c)();et.addElement(we.querySelector("ion-title"));const Vt=(0,I.c)(),Ut=Array.from(we.querySelectorAll("ion-buttons,[menuToggle]")),Fe=we.closest("ion-header"),ot=Fe?.classList.contains("header-collapse-condense-inactive");let St;St=Ut.filter(rt?tt=>{const ht=tt.classList.contains("buttons-collapse");return ht&&!ot||!ht}:tt=>!tt.classList.contains("buttons-collapse")),Vt.addElement(St);const pt=(0,I.c)();pt.addElement(we.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const xe=(0,I.c)();xe.addElement(F(we).querySelector(".toolbar-background"));const We=(0,I.c)(),qe=we.querySelector("ion-back-button");if(qe&&We.addElement(qe),He.addAnimation([et,Vt,pt,xe,We]),Vt.fromTo(V,.01,1),pt.fromTo(V,.01,1),rt)ot||et.fromTo("transform",`translateX(${Qe})`,`translateX(${de})`).fromTo(V,.01,1),pt.fromTo("transform",`translateX(${Qe})`,`translateX(${de})`),We.fromTo(V,.01,1);else if(It||et.fromTo("transform",`translateX(${Je})`,`translateX(${de})`).fromTo(V,.01,1),pt.fromTo("transform",`translateX(${Je})`,`translateX(${de})`),xe.beforeClearStyles([V,"transform"]),Fe?.translucent?xe.fromTo("transform",fe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):xe.fromTo(V,.01,"var(--opacity)"),Wt||We.fromTo(V,.01,1),qe&&!Wt){const ht=(0,I.c)();ht.addElement(F(qe).querySelector(".button-text")).fromTo("transform",fe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),He.addAnimation(ht)}}),pe){const we=(0,I.c)(),He=pe.querySelector(":scope > ion-content"),et=pe.querySelectorAll(":scope > ion-header > ion-toolbar"),Vt=pe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(He||0!==et.length||0!==Vt.length?(we.addElement(He),we.addElement(Vt)):we.addElement(pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(we),rt){we.beforeClearStyles([V]).fromTo("transform",`translateX(${de})`,fe?"translateX(-100%)":"translateX(100%)");const Ut=(0,d.g)(pe);Be.afterAddWrite(()=>{"normal"===Be.getDirection()&&Ut.style.setProperty("display","none")})}else we.fromTo("transform",`translateX(${de})`,`translateX(${Qe})`).fromTo(V,1,.8);if(He){const Ut=F(He).querySelector(".transition-effect");if(Ut){const Fe=Ut.querySelector(".transition-cover"),ot=Ut.querySelector(".transition-shadow"),St=(0,I.c)(),pt=(0,I.c)(),xe=(0,I.c)();St.addElement(Ut).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pt.addElement(Fe).beforeClearStyles([V]).fromTo(V,.1,0),xe.addElement(ot).beforeClearStyles([V]).fromTo(V,.7,.03),St.addAnimation([pt,xe]),we.addAnimation([St])}}et.forEach(Ut=>{const Fe=(0,I.c)();Fe.addElement(Ut);const ot=(0,I.c)();ot.addElement(Ut.querySelector("ion-title"));const St=(0,I.c)(),pt=Ut.querySelectorAll("ion-buttons,[menuToggle]"),xe=Ut.closest("ion-header"),We=xe?.classList.contains("header-collapse-condense-inactive"),qe=Array.from(pt).filter(In=>{const _n=In.classList.contains("buttons-collapse");return _n&&!We||!_n});St.addElement(qe);const tt=(0,I.c)(),ht=Ut.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ht.length>0&&tt.addElement(ht);const W=(0,I.c)();W.addElement(F(Ut).querySelector(".toolbar-background"));const wn=(0,I.c)(),Jt=Ut.querySelector("ion-back-button");if(Jt&&wn.addElement(Jt),Fe.addAnimation([ot,St,tt,wn,W]),Be.addAnimation(Fe),wn.fromTo(V,.99,0),St.fromTo(V,.99,0),tt.fromTo(V,.99,0),rt){if(We||ot.fromTo("transform",`translateX(${de})`,fe?"translateX(-100%)":"translateX(100%)").fromTo(V,.99,0),tt.fromTo("transform",`translateX(${de})`,fe?"translateX(-100%)":"translateX(100%)"),W.beforeClearStyles([V,"transform"]),xe?.translucent?W.fromTo("transform","translateX(0px)",fe?"translateX(-100%)":"translateX(100%)"):W.fromTo(V,"var(--opacity)",0),Jt&&!Ge){const _n=(0,I.c)();_n.addElement(F(Jt).querySelector(".button-text")).fromTo("transform",`translateX(${de})`,`translateX(${(fe?-124:124)+"px"})`),Fe.addAnimation(_n)}}else We||ot.fromTo("transform",`translateX(${de})`,`translateX(${Qe})`).fromTo(V,.99,0).afterClearStyles([q,V]),tt.fromTo("transform",`translateX(${de})`,`translateX(${Qe})`).afterClearStyles([q,V]),wn.afterClearStyles([V]),ot.afterClearStyles([V]),St.afterClearStyles([V])})}return Be}catch(ue){throw ue}}},9944:(Me,$e,A)=>{"use strict";A.r($e),A.d($e,{mdTransitionAnimation:()=>H});var I=A(2440),d=A(2704);A(5821),A(6389);const H=(Q,F)=>{var U,le,ee;const z="40px",L="back"===F.direction,Oe=F.leavingEl,Re=(0,d.g)(F.enteringEl),ue=Re.querySelector("ion-toolbar"),V=(0,I.c)();if(V.addElement(Re).fill("both").beforeRemoveClass("ion-page-invisible"),L?V.duration((null!==(U=F.duration)&&void 0!==U?U:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):V.duration((null!==(le=F.duration)&&void 0!==le?le:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${z})`,"translateY(0px)").fromTo("opacity",.01,1),ue){const q=(0,I.c)();q.addElement(ue),V.addAnimation(q)}if(Oe&&L){V.duration((null!==(ee=F.duration)&&void 0!==ee?ee:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const q=(0,I.c)();q.addElement((0,d.g)(Oe)).onFinish(de=>{1===de&&q.elements.length>0&&q.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${z})`).fromTo("opacity",1,0),V.addAnimation(q)}return V}},4706:(Me,$e,A)=>{"use strict";A.d($e,{B:()=>Fe,G:()=>ot,a:()=>z,b:()=>$,c:()=>Re,d:()=>St,e:()=>pt,f:()=>Be,g:()=>It,h:()=>we,i:()=>et,j:()=>V,k:()=>q,l:()=>L,m:()=>G,n:()=>le,o:()=>fe,q:()=>N,s:()=>Ut});var I=A(8046),d=A(3149),re=A(2847),oe=A(922),H=A(6481),Q=A(1294);let F=0,U=0;const le=new WeakMap,ee=xe=>({create:We=>de(xe,We),dismiss:(We,qe,tt)=>rt(document,We,qe,xe,tt),getTop:()=>(0,I.Z)(function*(){return N(document,xe)})()}),z=ee("ion-alert"),$=ee("ion-action-sheet"),L=ee("ion-loading"),G=ee("ion-modal"),Re=ee("ion-popover"),V=xe=>{typeof document<"u"&&pe(document);const We=F++;xe.overlayIndex=We},q=xe=>(xe.hasAttribute("id")||(xe.id="ion-overlay-"+ ++U),xe.id),de=(xe,We)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(xe).then(()=>{const qe=document.createElement(xe);return qe.classList.add("overlay-hidden"),Object.assign(qe,Object.assign(Object.assign({},We),{hasController:!0})),Wt(document).appendChild(qe),new Promise(tt=>(0,H.c)(qe,tt))}):Promise.resolve(),ve='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',fe=(xe,We)=>{let qe=xe.querySelector(ve);const tt=qe?.shadowRoot;tt&&(qe=tt.querySelector(ve)||qe),qe?(0,H.f)(qe):We.focus()},Qe=(xe,We)=>{const qe=Array.from(xe.querySelectorAll(ve));let tt=qe.length>0?qe[qe.length-1]:null;const ht=tt?.shadowRoot;ht&&(tt=ht.querySelector(ve)||tt),tt?tt.focus():We.focus()},pe=xe=>{0===F&&(F=1,xe.addEventListener("focus",We=>{((xe,We)=>{const qe=N(We,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),tt=xe.target;qe&&tt&&!qe.classList.contains("ion-disable-focus-trap")&&(qe.shadowRoot?(()=>{if(qe.contains(tt))qe.lastFocus=tt;else{const wn=qe.lastFocus;fe(qe,qe),wn===We.activeElement&&Qe(qe,qe),qe.lastFocus=We.activeElement}})():(()=>{if(qe===tt)qe.lastFocus=void 0;else{const wn=(0,H.g)(qe);if(!wn.contains(tt))return;const Jt=wn.querySelector(".ion-overlay-wrapper");if(!Jt)return;if(Jt.contains(tt)||tt===wn.querySelector("ion-backdrop"))qe.lastFocus=tt;else{const In=qe.lastFocus;fe(Jt,qe),In===We.activeElement&&Qe(Jt,qe),qe.lastFocus=We.activeElement}}})())})(We,xe)},!0),xe.addEventListener("ionBackButton",We=>{const qe=N(xe);qe?.backdropDismiss&&We.detail.register(oe.OVERLAY_BACK_BUTTON_PRIORITY,()=>qe.dismiss(void 0,Fe))}),xe.addEventListener("keydown",We=>{if("Escape"===We.key){const qe=N(xe);qe?.backdropDismiss&&qe.dismiss(void 0,Fe)}}))},rt=(xe,We,qe,tt,ht)=>{const W=N(xe,tt,ht);return W?W.dismiss(We,qe):Promise.reject("overlay does not exist")},N=(xe,We,qe)=>{const tt=((xe,We)=>(void 0===We&&(We="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(xe.querySelectorAll(We)).filter(qe=>qe.overlayIndex>0)))(xe,We).filter(ht=>!(xe=>xe.classList.contains("overlay-hidden"))(ht));return void 0===qe?tt[tt.length-1]:tt.find(ht=>ht.id===qe)},j=(xe=!1)=>{const qe=Wt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");qe&&(xe?qe.setAttribute("aria-hidden","true"):qe.removeAttribute("aria-hidden"))},Be=function(){var xe=(0,I.Z)(function*(We,qe,tt,ht,W){var wn,Jt;if(We.presented)return;j(!0),We.presented=!0,We.willPresent.emit(),null===(wn=We.willPresentShorthand)||void 0===wn||wn.emit();const In=(0,d.b)(We),_n=We.enterAnimation?We.enterAnimation:d.c.get(qe,"ios"===In?tt:ht);(yield Ge(We,_n,We.el,W))&&(We.didPresent.emit(),null===(Jt=We.didPresentShorthand)||void 0===Jt||Jt.emit()),"ION-TOAST"!==We.el.tagName&&ft(We.el),We.keyboardClose&&(null===document.activeElement||!We.el.contains(document.activeElement))&&We.el.focus()});return function(qe,tt,ht,W,wn){return xe.apply(this,arguments)}}(),ft=function(){var xe=(0,I.Z)(function*(We){let qe=document.activeElement;if(!qe)return;const tt=qe?.shadowRoot;tt&&(qe=tt.querySelector(ve)||qe),yield We.onDidDismiss(),qe.focus()});return function(qe){return xe.apply(this,arguments)}}(),It=function(){var xe=(0,I.Z)(function*(We,qe,tt,ht,W,wn,Jt){var In,_n;if(!We.presented)return!1;j(!1),We.presented=!1;try{We.el.style.setProperty("pointer-events","none"),We.willDismiss.emit({data:qe,role:tt}),null===(In=We.willDismissShorthand)||void 0===In||In.emit({data:qe,role:tt});const Wr=(0,d.b)(We),wr=We.leaveAnimation?We.leaveAnimation:d.c.get(ht,"ios"===Wr?W:wn);tt!==ot&&(yield Ge(We,wr,We.el,Jt)),We.didDismiss.emit({data:qe,role:tt}),null===(_n=We.didDismissShorthand)||void 0===_n||_n.emit({data:qe,role:tt}),le.delete(We),We.el.classList.add("overlay-hidden"),We.el.style.removeProperty("pointer-events"),void 0!==We.el.lastFocus&&(We.el.lastFocus=void 0)}catch(Wr){console.error(Wr)}return We.el.remove(),!0});return function(qe,tt,ht,W,wn,Jt,In){return xe.apply(this,arguments)}}(),Wt=xe=>xe.querySelector("ion-app")||xe.body,Ge=function(){var xe=(0,I.Z)(function*(We,qe,tt,ht){tt.classList.remove("overlay-hidden");const wn=qe(We.el,ht);(!We.animated||!d.c.getBoolean("animated",!0))&&wn.duration(0),We.keyboardClose&&wn.beforeAddWrite(()=>{const In=tt.ownerDocument.activeElement;In?.matches("input,ion-input, ion-textarea")&&In.blur()});const Jt=le.get(We)||[];return le.set(We,[...Jt,wn]),yield wn.play(),!0});return function(qe,tt,ht,W){return xe.apply(this,arguments)}}(),we=(xe,We)=>{let qe;const tt=new Promise(ht=>qe=ht);return He(xe,We,ht=>{qe(ht.detail)}),tt},He=(xe,We,qe)=>{const tt=ht=>{(0,H.b)(xe,We,tt),qe(ht)};(0,H.a)(xe,We,tt)},et=xe=>"cancel"===xe||xe===Fe,Vt=xe=>xe(),Ut=(xe,We)=>{if("function"==typeof xe)return d.c.get("_zoneGate",Vt)(()=>{try{return xe(We)}catch(tt){throw tt}})},Fe="backdrop",ot="gesture",St=xe=>{let qe,We=!1;const tt=(0,re.C)(),ht=(Jt=!1)=>{if(qe&&!Jt)return{delegate:qe,inline:We};const{el:In,hasController:_n,delegate:Wr}=xe;return We=null!==In.parentNode&&!_n,qe=We?Wr||tt:Wr,{inline:We,delegate:qe}};return{attachViewToDom:function(){var Jt=(0,I.Z)(function*(In){const{delegate:_n}=ht(!0);if(_n)return yield _n.attachViewToDom(xe.el,In);const{hasController:Wr}=xe;if(Wr&&void 0!==In)throw new Error("framework delegate is missing");return null});return function(_n){return Jt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Jt}=ht();Jt&&void 0!==xe.el&&Jt.removeViewFromDom(xe.el.parentElement,xe.el)}}},pt=()=>{let xe;const We=()=>{xe&&(xe(),xe=void 0)};return{addClickListener:(tt,ht)=>{We();const W=void 0!==ht?document.getElementById(ht):null;W?xe=((Jt,In)=>{const _n=()=>{In.present()};return Jt.addEventListener("click",_n),()=>{Jt.removeEventListener("click",_n)}})(W,tt):(0,Q.p)(`A trigger element with the ID "${ht}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,tt)},removeClickListener:We}}},6107:(Me,$e,A)=>{"use strict";var d=A(1074)("ArrayBuffer.prototype.byteLength",!0),re=A(1064);Me.exports=function(H){return re(H)?d?d(H):H.byteLength:NaN}},1074:(Me,$e,A)=>{"use strict";var I=A(5388),d=A(2327),re=d(I("String.prototype.indexOf"));Me.exports=function(H,Q){var F=I(H,!!Q);return"function"==typeof F&&re(H,".prototype.")>-1?d(F):F}},2327:(Me,$e,A)=>{"use strict";var I=A(9011),d=A(5388),re=d("%Function.prototype.apply%"),oe=d("%Function.prototype.call%"),H=d("%Reflect.apply%",!0)||I.call(oe,re),Q=d("%Object.getOwnPropertyDescriptor%",!0),F=d("%Object.defineProperty%",!0),U=d("%Math.max%");if(F)try{F({},"a",{value:1})}catch{F=null}Me.exports=function(z){var $=H(I,oe,arguments);return Q&&F&&Q($,"length").configurable&&F($,"length",{value:1+U(0,z.length-(arguments.length-1))}),$};var le=function(){return H(I,re,arguments)};F?F(Me.exports,"apply",{value:le}):Me.exports.apply=le},1336:Me=>{var $e={utf8:{stringToBytes:function(A){return $e.bin.stringToBytes(unescape(encodeURIComponent(A)))},bytesToString:function(A){return decodeURIComponent(escape($e.bin.bytesToString(A)))}},bin:{stringToBytes:function(A){for(var I=[],d=0;d<A.length;d++)I.push(255&A.charCodeAt(d));return I},bytesToString:function(A){for(var I=[],d=0;d<A.length;d++)I.push(String.fromCharCode(A[d]));return I.join("")}}};Me.exports=$e},7888:Me=>{var $e,A;$e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Me.exports=A={rotl:function(I,d){return I<<d|I>>>32-d},rotr:function(I,d){return I<<32-d|I>>>d},endian:function(I){if(I.constructor==Number)return 16711935&A.rotl(I,8)|4278255360&A.rotl(I,24);for(var d=0;d<I.length;d++)I[d]=A.endian(I[d]);return I},randomBytes:function(I){for(var d=[];I>0;I--)d.push(Math.floor(256*Math.random()));return d},bytesToWords:function(I){for(var d=[],re=0,oe=0;re<I.length;re++,oe+=8)d[oe>>>5]|=I[re]<<24-oe%32;return d},wordsToBytes:function(I){for(var d=[],re=0;re<32*I.length;re+=8)d.push(I[re>>>5]>>>24-re%32&255);return d},bytesToHex:function(I){for(var d=[],re=0;re<I.length;re++)d.push((I[re]>>>4).toString(16)),d.push((15&I[re]).toString(16));return d.join("")},hexToBytes:function(I){for(var d=[],re=0;re<I.length;re+=2)d.push(parseInt(I.substr(re,2),16));return d},bytesToBase64:function(I){for(var d=[],re=0;re<I.length;re+=3)for(var oe=I[re]<<16|I[re+1]<<8|I[re+2],H=0;H<4;H++)d.push(8*re+6*H<=8*I.length?$e.charAt(oe>>>6*(3-H)&63):"=");return d.join("")},base64ToBytes:function(I){I=I.replace(/[^A-Z0-9+\/]/gi,"");for(var d=[],re=0,oe=0;re<I.length;oe=++re%4)0!=oe&&d.push(($e.indexOf(I.charAt(re-1))&Math.pow(2,-2*oe+8)-1)<<2*oe|$e.indexOf(I.charAt(re))>>>6-2*oe);return d}}},5683:(Me,$e,A)=>{"use strict";var I=A(5658),d=A(1074),re=A(4257),oe=A(5388),H=A(1558),Q=A(3147),F=A(2422),U=A(551),le=A(6975),ee=A(1064),z=A(4315),$=A(6374),L=A(7905),G=A(7073),Oe=A(5407),Re=A(8549),ue=A(2485),V=A(6107),q=d("SharedArrayBuffer.prototype.byteLength",!0),de=d("Date.prototype.getTime"),ve=Object.getPrototypeOf,fe=d("Object.prototype.toString"),Je=oe("%Set%",!0),Qe=d("Map.prototype.has",!0),ae=d("Map.prototype.get",!0),pe=d("Map.prototype.size",!0),rt=d("Set.prototype.add",!0),ze=d("Set.prototype.delete",!0),N=d("Set.prototype.has",!0),j=d("Set.prototype.size",!0);function Be(Fe,ot,St,pt){for(var We,xe=H(Fe);(We=xe.next())&&!We.done;)if(we(ot,We.value,St,pt))return ze(Fe,We.value),!0;return!1}function ft(Fe){return typeof Fe>"u"?null:"object"!=typeof Fe?"symbol"!=typeof Fe&&("string"!=typeof Fe&&"number"!=typeof Fe||+Fe==+Fe):void 0}function It(Fe,ot,St,pt,xe,We){var qe=ft(St);if(null!=qe)return qe;var tt=ae(ot,qe),ht=I({},xe,{strict:!1});return!(typeof tt>"u"&&!Qe(ot,qe)||!we(pt,tt,ht,We))&&!Qe(Fe,qe)&&we(pt,tt,ht,We)}function Wt(Fe,ot,St){var pt=ft(St);return pt??(N(ot,pt)&&!N(Fe,pt))}function Ge(Fe,ot,St,pt,xe,We){for(var tt,ht,qe=H(Fe);(tt=qe.next())&&!tt.done;)if(we(St,ht=tt.value,xe,We)&&we(pt,ae(ot,ht),xe,We))return ze(Fe,ht),!0;return!1}function we(Fe,ot,St,pt){var xe=St||{};if(xe.strict?F(Fe,ot):Fe===ot)return!0;if(Oe(Fe)!==Oe(ot))return!1;if(!Fe||!ot||"object"!=typeof Fe&&"object"!=typeof ot)return xe.strict?F(Fe,ot):Fe==ot;var W,tt=pt.has(Fe),ht=pt.has(ot);if(tt&&ht){if(pt.get(Fe)===pt.get(ot))return!0}else W={};return tt||pt.set(Fe,W),ht||pt.set(ot,W),function Ut(Fe,ot,St,pt){var xe,We;if(typeof Fe!=typeof ot||null==Fe||null==ot||fe(Fe)!==fe(ot)||U(Fe)!==U(ot))return!1;if(le(Fe)!==le(ot))return!1;var ht=Fe instanceof Error,W=ot instanceof Error;if(ht!==W||(ht||W)&&(Fe.name!==ot.name||Fe.message!==ot.message))return!1;var wn=$(Fe),Jt=$(ot);if(wn!==Jt||(wn||Jt)&&(Fe.source!==ot.source||re(Fe)!==re(ot)))return!1;var In=z(Fe),_n=z(ot);if(In!==_n||(In||_n)&&de(Fe)!==de(ot)||St.strict&&ve&&ve(Fe)!==ve(ot))return!1;var Wr=ue(Fe),wr=ue(ot);if(Wr!==wr)return!1;if(Wr||wr){if(Fe.length!==ot.length)return!1;for(xe=0;xe<Fe.length;xe++)if(Fe[xe]!==ot[xe])return!1;return!0}var ar=He(Fe),_r=He(ot);if(ar!==_r)return!1;if(ar||_r){if(Fe.length!==ot.length)return!1;for(xe=0;xe<Fe.length;xe++)if(Fe[xe]!==ot[xe])return!1;return!0}var ii=ee(Fe),No=ee(ot);if(ii!==No)return!1;if(ii||No)return V(Fe)===V(ot)&&"function"==typeof Uint8Array&&we(new Uint8Array(Fe),new Uint8Array(ot),St,pt);var si=L(Fe),Go=L(ot);if(si!==Go)return!1;if(si||Go)return q(Fe)===q(ot)&&"function"==typeof Uint8Array&&we(new Uint8Array(Fe),new Uint8Array(ot),St,pt);if(typeof Fe!=typeof ot)return!1;var Ze=G(Fe),Zt=G(ot);if(Ze.length!==Zt.length)return!1;for(Ze.sort(),Zt.sort(),xe=Ze.length-1;xe>=0;xe--)if(Ze[xe]!=Zt[xe])return!1;for(xe=Ze.length-1;xe>=0;xe--)if(!we(Fe[We=Ze[xe]],ot[We],St,pt))return!1;var Zr=Re(Fe),Hr=Re(ot);return Zr===Hr&&("Set"===Zr||"Set"===Hr?function et(Fe,ot,St,pt){if(j(Fe)!==j(ot))return!1;for(var qe,tt,ht,xe=H(Fe),We=H(ot);(qe=xe.next())&&!qe.done;)if(qe.value&&"object"==typeof qe.value)ht||(ht=new Je),rt(ht,qe.value);else if(!N(ot,qe.value)){if(St.strict||!Wt(Fe,ot,qe.value))return!1;ht||(ht=new Je),rt(ht,qe.value)}if(ht){for(;(tt=We.next())&&!tt.done;)if(tt.value&&"object"==typeof tt.value){if(!Be(ht,tt.value,St.strict,pt))return!1}else if(!St.strict&&!N(Fe,tt.value)&&!Be(ht,tt.value,St.strict,pt))return!1;return 0===j(ht)}return!0}(Fe,ot,St,pt):"Map"!==Zr||function Vt(Fe,ot,St,pt){if(pe(Fe)!==pe(ot))return!1;for(var qe,tt,ht,W,wn,Jt,xe=H(Fe),We=H(ot);(qe=xe.next())&&!qe.done;)if(wn=qe.value[1],(W=qe.value[0])&&"object"==typeof W)ht||(ht=new Je),rt(ht,W);else if(typeof(Jt=ae(ot,W))>"u"&&!Qe(ot,W)||!we(wn,Jt,St,pt)){if(St.strict||!It(Fe,ot,W,wn,St,pt))return!1;ht||(ht=new Je),rt(ht,W)}if(ht){for(;(tt=We.next())&&!tt.done;)if(Jt=tt.value[1],(W=tt.value[0])&&"object"==typeof W){if(!Ge(ht,Fe,W,Jt,St,pt))return!1}else if(!(St.strict||Fe.has(W)&&we(ae(Fe,W),Jt,St,pt)||Ge(ht,Fe,W,Jt,I({},St,{strict:!1}),pt)))return!1;return 0===j(ht)}return!0}(Fe,ot,St,pt))}(Fe,ot,xe,pt)}function He(Fe){return!(!Fe||"object"!=typeof Fe||"number"!=typeof Fe.length||"function"!=typeof Fe.copy||"function"!=typeof Fe.slice||Fe.length>0&&"number"!=typeof Fe[0]||!(Fe.constructor&&Fe.constructor.isBuffer&&Fe.constructor.isBuffer(Fe)))}Me.exports=function(ot,St,pt){return we(ot,St,pt,Q())}},1299:(Me,$e,A)=>{"use strict";var I=A(7073),d="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),re=Object.prototype.toString,oe=Array.prototype.concat,H=Object.defineProperty,F=A(517)(),U=H&&F,le=function(z,$,L,G){if($ in z)if(!0===G){if(z[$]===L)return}else if(!function(z){return"function"==typeof z&&"[object Function]"===re.call(z)}(G)||!G())return;U?H(z,$,{configurable:!0,enumerable:!1,value:L,writable:!0}):z[$]=L},ee=function(z,$){var L=arguments.length>2?arguments[2]:{},G=I($);d&&(G=oe.call(G,Object.getOwnPropertySymbols($)));for(var Oe=0;Oe<G.length;Oe+=1)le(z,G[Oe],$[G[Oe]],L[G[Oe]])};ee.supportsDescriptors=!!U,Me.exports=ee},2466:function(Me,$e){!function(A){"use strict";var $,re=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,oe=536870912,H=2*oe,F=new WeakMap,le=function($,L){return function(G){var Oe=L.get(G),Re=void 0===Oe?G.size:Oe<H?Oe+1:0;if(!G.has(Re))return $(G,Re);if(G.size<oe){for(;G.has(Re);)Re=Math.floor(Math.random()*H);return $(G,Re)}if(G.size>re)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;G.has(Re);)Re=Math.floor(Math.random()*re);return $(G,Re)}}(($=F,function(L,G){return $.set(L,G),G}),F),ee=function($){return function(L){var G=$(L);return L.add(G),G}}(le);A.addUniqueNumber=ee,A.generateUniqueNumber=le}($e)},4411:(Me,$e,A)=>{"use strict";var I=A(705),d=Object.prototype.toString,re=Object.prototype.hasOwnProperty;Me.exports=function(le,ee,z){if(!I(ee))throw new TypeError("iterator must be a function");var $;arguments.length>=3&&($=z),"[object Array]"===d.call(le)?function(le,ee,z){for(var $=0,L=le.length;$<L;$++)re.call(le,$)&&(null==z?ee(le[$],$,le):ee.call(z,le[$],$,le))}(le,ee,$):"string"==typeof le?function(le,ee,z){for(var $=0,L=le.length;$<L;$++)null==z?ee(le.charAt($),$,le):ee.call(z,le.charAt($),$,le)}(le,ee,$):function(le,ee,z){for(var $ in le)re.call(le,$)&&(null==z?ee(le[$],$,le):ee.call(z,le[$],$,le))}(le,ee,$)}},3337:Me=>{"use strict";var A=Array.prototype.slice,I=Object.prototype.toString;Me.exports=function(oe){var H=this;if("function"!=typeof H||"[object Function]"!==I.call(H))throw new TypeError("Function.prototype.bind called on incompatible "+H);for(var F,Q=A.call(arguments,1),le=Math.max(0,H.length-Q.length),ee=[],z=0;z<le;z++)ee.push("$"+z);if(F=Function("binder","return function ("+ee.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof F){var L=H.apply(this,Q.concat(A.call(arguments)));return Object(L)===L?L:this}return H.apply(oe,Q.concat(A.call(arguments)))}),H.prototype){var $=function(){};$.prototype=H.prototype,F.prototype=new $,$.prototype=null}return F}},9011:(Me,$e,A)=>{"use strict";var I=A(3337);Me.exports=Function.prototype.bind||I},7993:Me=>{"use strict";var $e=function(){return"string"==typeof function(){}.name},A=Object.getOwnPropertyDescriptor;if(A)try{A([],"length")}catch{A=null}$e.functionsHaveConfigurableNames=function(){if(!$e()||!A)return!1;var re=A(function(){},"name");return!!re&&!!re.configurable};var I=Function.prototype.bind;$e.boundFunctionsHaveNames=function(){return $e()&&"function"==typeof I&&""!==function(){}.bind().name},Me.exports=$e},5388:(Me,$e,A)=>{"use strict";var I,d=SyntaxError,re=Function,oe=TypeError,H=function(N){try{return re('"use strict"; return ('+N+").constructor;")()}catch{}},Q=Object.getOwnPropertyDescriptor;if(Q)try{Q({},"")}catch{Q=null}var F=function(){throw new oe},U=Q?function(){try{return F}catch{try{return Q(arguments,"callee").get}catch{return F}}}():F,le=A(1212)(),ee=A(6636)(),z=Object.getPrototypeOf||(ee?function(N){return N.__proto__}:null),$={},L=typeof Uint8Array>"u"||!z?I:z(Uint8Array),G={"%AggregateError%":typeof AggregateError>"u"?I:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?I:ArrayBuffer,"%ArrayIteratorPrototype%":le&&z?z([][Symbol.iterator]()):I,"%AsyncFromSyncIteratorPrototype%":I,"%AsyncFunction%":$,"%AsyncGenerator%":$,"%AsyncGeneratorFunction%":$,"%AsyncIteratorPrototype%":$,"%Atomics%":typeof Atomics>"u"?I:Atomics,"%BigInt%":typeof BigInt>"u"?I:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?I:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?I:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?I:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?I:Float32Array,"%Float64Array%":typeof Float64Array>"u"?I:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?I:FinalizationRegistry,"%Function%":re,"%GeneratorFunction%":$,"%Int8Array%":typeof Int8Array>"u"?I:Int8Array,"%Int16Array%":typeof Int16Array>"u"?I:Int16Array,"%Int32Array%":typeof Int32Array>"u"?I:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":le&&z?z(z([][Symbol.iterator]())):I,"%JSON%":"object"==typeof JSON?JSON:I,"%Map%":typeof Map>"u"?I:Map,"%MapIteratorPrototype%":typeof Map>"u"||!le||!z?I:z((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?I:Promise,"%Proxy%":typeof Proxy>"u"?I:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?I:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?I:Set,"%SetIteratorPrototype%":typeof Set>"u"||!le||!z?I:z((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?I:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":le&&z?z(""[Symbol.iterator]()):I,"%Symbol%":le?Symbol:I,"%SyntaxError%":d,"%ThrowTypeError%":U,"%TypedArray%":L,"%TypeError%":oe,"%Uint8Array%":typeof Uint8Array>"u"?I:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?I:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?I:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?I:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?I:WeakMap,"%WeakRef%":typeof WeakRef>"u"?I:WeakRef,"%WeakSet%":typeof WeakSet>"u"?I:WeakSet};if(z)try{null.error}catch(N){var Oe=z(z(N));G["%Error.prototype%"]=Oe}var Re=function N(j){var Be;if("%AsyncFunction%"===j)Be=H("async function () {}");else if("%GeneratorFunction%"===j)Be=H("function* () {}");else if("%AsyncGeneratorFunction%"===j)Be=H("async function* () {}");else if("%AsyncGenerator%"===j){var ft=N("%AsyncGeneratorFunction%");ft&&(Be=ft.prototype)}else if("%AsyncIteratorPrototype%"===j){var It=N("%AsyncGenerator%");It&&z&&(Be=z(It.prototype))}return G[j]=Be,Be},ue={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},V=A(9011),q=A(3370),de=V.call(Function.call,Array.prototype.concat),ve=V.call(Function.apply,Array.prototype.splice),fe=V.call(Function.call,String.prototype.replace),Je=V.call(Function.call,String.prototype.slice),Qe=V.call(Function.call,RegExp.prototype.exec),ae=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pe=/\\(\\)?/g,ze=function(j,Be){var It,ft=j;if(q(ue,ft)&&(ft="%"+(It=ue[ft])[0]+"%"),q(G,ft)){var Wt=G[ft];if(Wt===$&&(Wt=Re(ft)),typeof Wt>"u"&&!Be)throw new oe("intrinsic "+j+" exists, but is not available. Please file an issue!");return{alias:It,name:ft,value:Wt}}throw new d("intrinsic "+j+" does not exist!")};Me.exports=function(j,Be){if("string"!=typeof j||0===j.length)throw new oe("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Be)throw new oe('"allowMissing" argument must be a boolean');if(null===Qe(/^%?[^%]*%?$/,j))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ft=function(j){var Be=Je(j,0,1),ft=Je(j,-1);if("%"===Be&&"%"!==ft)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===ft&&"%"!==Be)throw new d("invalid intrinsic syntax, expected opening `%`");var It=[];return fe(j,ae,function(Wt,Ge,we,He){It[It.length]=we?fe(He,pe,"$1"):Ge||Wt}),It}(j),It=ft.length>0?ft[0]:"",Wt=ze("%"+It+"%",Be),Ge=Wt.name,we=Wt.value,He=!1,et=Wt.alias;et&&(It=et[0],ve(ft,de([0,1],et)));for(var Vt=1,Ut=!0;Vt<ft.length;Vt+=1){var Fe=ft[Vt],ot=Je(Fe,0,1),St=Je(Fe,-1);if(('"'===ot||"'"===ot||"`"===ot||'"'===St||"'"===St||"`"===St)&&ot!==St)throw new d("property names with quotes must have matching quotes");if(("constructor"===Fe||!Ut)&&(He=!0),q(G,Ge="%"+(It+="."+Fe)+"%"))we=G[Ge];else if(null!=we){if(!(Fe in we)){if(!Be)throw new oe("base intrinsic for "+j+" exists, but the property is not available.");return}if(Q&&Vt+1>=ft.length){var pt=Q(we,Fe);we=(Ut=!!pt)&&"get"in pt&&!("originalValue"in pt.get)?pt.get:we[Fe]}else Ut=q(we,Fe),we=we[Fe];Ut&&!He&&(G[Ge]=we)}}return we}},6831:(Me,$e,A)=>{"use strict";var d=A(5388)("%Object.getOwnPropertyDescriptor%",!0);if(d)try{d([],"length")}catch{d=null}Me.exports=d},1835:Me=>{"use strict";var $e=typeof BigInt<"u"&&BigInt;Me.exports=function(){return"function"==typeof $e&&"function"==typeof BigInt&&"bigint"==typeof $e(42)&&"bigint"==typeof BigInt(42)}},517:(Me,$e,A)=>{"use strict";var d=A(5388)("%Object.defineProperty%",!0),re=function(){if(d)try{return d({},"a",{value:1}),!0}catch{return!1}return!1};re.hasArrayLengthDefineBug=function(){if(!re())return null;try{return 1!==d([],"length",{value:1}).length}catch{return!0}},Me.exports=re},6636:Me=>{"use strict";var $e={foo:{}},A=Object;Me.exports=function(){return{__proto__:$e}.foo===$e.foo&&!({__proto__:null}instanceof A)}},1212:(Me,$e,A)=>{"use strict";var I=typeof Symbol<"u"&&Symbol,d=A(6646);Me.exports=function(){return"function"==typeof I&&"function"==typeof Symbol&&"symbol"==typeof I("foo")&&"symbol"==typeof Symbol("bar")&&d()}},6646:Me=>{"use strict";Me.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var A={},I=Symbol("test"),d=Object(I);if("string"==typeof I||"[object Symbol]"!==Object.prototype.toString.call(I)||"[object Symbol]"!==Object.prototype.toString.call(d))return!1;for(I in A[I]=42,A)return!1;if("function"==typeof Object.keys&&0!==Object.keys(A).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(A).length)return!1;var oe=Object.getOwnPropertySymbols(A);if(1!==oe.length||oe[0]!==I||!Object.prototype.propertyIsEnumerable.call(A,I))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var H=Object.getOwnPropertyDescriptor(A,I);if(42!==H.value||!0!==H.enumerable)return!1}return!0}},1307:(Me,$e,A)=>{"use strict";var I=A(6646);Me.exports=function(){return I()&&!!Symbol.toStringTag}},3370:(Me,$e,A)=>{"use strict";var I=A(9011);Me.exports=I.call(Function.call,Object.prototype.hasOwnProperty)},9372:(Me,$e,A)=>{"use strict";var I=A(5388),d=A(3370),re=A(3147)(),oe=I("%TypeError%"),H={assert:function(Q,F){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new oe("`O` is not an object");if("string"!=typeof F)throw new oe("`slot` must be a string");if(re.assert(Q),!H.has(Q,F))throw new oe("`"+F+"` is not present on `O`")},get:function(Q,F){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new oe("`O` is not an object");if("string"!=typeof F)throw new oe("`slot` must be a string");var U=re.get(Q);return U&&U["$"+F]},has:function(Q,F){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new oe("`O` is not an object");if("string"!=typeof F)throw new oe("`slot` must be a string");var U=re.get(Q);return!!U&&d(U,"$"+F)},set:function(Q,F,U){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new oe("`O` is not an object");if("string"!=typeof F)throw new oe("`slot` must be a string");var le=re.get(Q);le||re.set(Q,le={}),le["$"+F]=U}};Object.freeze&&Object.freeze(H),Me.exports=H},551:(Me,$e,A)=>{"use strict";var I=A(1307)(),re=A(1074)("Object.prototype.toString"),oe=function(U){return!(I&&U&&"object"==typeof U&&Symbol.toStringTag in U)&&"[object Arguments]"===re(U)},H=function(U){return!!oe(U)||null!==U&&"object"==typeof U&&"number"==typeof U.length&&U.length>=0&&"[object Array]"!==re(U)&&"[object Function]"===re(U.callee)},Q=function(){return oe(arguments)}();oe.isLegacyArguments=H,Me.exports=Q?oe:H},1064:(Me,$e,A)=>{"use strict";var I=A(2327),d=A(1074),re=A(5388),oe=A(8854),H=re("ArrayBuffer",!0),Q=re("Float32Array",!0),F=d("ArrayBuffer.prototype.byteLength",!0),U=H&&!F&&(new H).slice,le=U&&I(U);Me.exports=F||le?function(z){if(!z||"object"!=typeof z)return!1;try{return F?F(z):le(z,0),!0}catch{return!1}}:Q?function(z){try{return new Q(z).buffer===z&&!oe(z)}catch($){return"object"==typeof z&&"RangeError"===$.name}}:function(z){return!1}},3299:(Me,$e,A)=>{"use strict";if(A(1835)()){var d=BigInt.prototype.valueOf;Me.exports=function(H){return!(null===H||typeof H>"u"||"boolean"==typeof H||"string"==typeof H||"number"==typeof H||"symbol"==typeof H||"function"==typeof H)&&("bigint"==typeof H||function(H){try{return d.call(H),!0}catch{}return!1}(H))}}else Me.exports=function(H){return!1}},4783:(Me,$e,A)=>{"use strict";var I=A(1074),d=I("Boolean.prototype.toString"),re=I("Object.prototype.toString"),Q=A(1307)();Me.exports=function(U){return"boolean"==typeof U||null!==U&&"object"==typeof U&&(Q&&Symbol.toStringTag in U?function(U){try{return d(U),!0}catch{return!1}}(U):"[object Boolean]"===re(U))}},9843:Me=>{function $e(I){return!!I.constructor&&"function"==typeof I.constructor.isBuffer&&I.constructor.isBuffer(I)}Me.exports=function(I){return null!=I&&($e(I)||function A(I){return"function"==typeof I.readFloatLE&&"function"==typeof I.slice&&$e(I.slice(0,0))}(I)||!!I._isBuffer)}},705:Me=>{"use strict";var I,d,$e=Function.prototype.toString,A="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof A&&"function"==typeof Object.defineProperty)try{I=Object.defineProperty({},"length",{get:function(){throw d}}),d={},A(function(){throw 42},null,I)}catch(ue){ue!==d&&(A=null)}else A=null;var re=/^\s*class\b/,oe=function(V){try{var q=$e.call(V);return re.test(q)}catch{return!1}},H=function(V){try{return!oe(V)&&($e.call(V),!0)}catch{return!1}},Q=Object.prototype.toString,L="function"==typeof Symbol&&!!Symbol.toStringTag,G=!(0 in[,]),Oe=function(){return!1};if("object"==typeof document){var Re=document.all;Q.call(Re)===Q.call(document.all)&&(Oe=function(V){if((G||!V)&&(typeof V>"u"||"object"==typeof V))try{var q=Q.call(V);return("[object HTMLAllCollection]"===q||"[object HTML document.all class]"===q||"[object HTMLCollection]"===q||"[object Object]"===q)&&null==V("")}catch{}return!1})}Me.exports=A?function(V){if(Oe(V))return!0;if(!V||"function"!=typeof V&&"object"!=typeof V)return!1;try{A(V,null,I)}catch(q){if(q!==d)return!1}return!oe(V)&&H(V)}:function(V){if(Oe(V))return!0;if(!V||"function"!=typeof V&&"object"!=typeof V)return!1;if(L)return H(V);if(oe(V))return!1;var q=Q.call(V);return!("[object Function]"!==q&&"[object GeneratorFunction]"!==q&&!/^\[object HTML/.test(q))&&H(V)}},4315:(Me,$e,A)=>{"use strict";var I=Date.prototype.getDay,re=Object.prototype.toString,H=A(1307)();Me.exports=function(F){return"object"==typeof F&&null!==F&&(H?function(F){try{return I.call(F),!0}catch{return!1}}(F):"[object Date]"===re.call(F))}},5575:Me=>{"use strict";var I,$e="function"==typeof Map&&Map.prototype?Map:null,A="function"==typeof Set&&Set.prototype?Set:null;$e||(I=function(H){return!1});var d=$e?Map.prototype.has:null,re=A?Set.prototype.has:null;!I&&!d&&(I=function(H){return!1}),Me.exports=I||function(H){if(!H||"object"!=typeof H)return!1;try{if(d.call(H),re)try{re.call(H)}catch{return!0}return H instanceof $e}catch{}return!1}},3165:(Me,$e,A)=>{"use strict";var I=Number.prototype.toString,re=Object.prototype.toString,H=A(1307)();Me.exports=function(F){return"number"==typeof F||"object"==typeof F&&(H?function(F){try{return I.call(F),!0}catch{return!1}}(F):"[object Number]"===re.call(F))}},6374:(Me,$e,A)=>{"use strict";var re,oe,H,Q,I=A(1074),d=A(1307)();if(d){re=I("Object.prototype.hasOwnProperty"),oe=I("RegExp.prototype.exec"),H={};var F=function(){throw H};Q={toString:F,valueOf:F},"symbol"==typeof Symbol.toPrimitive&&(Q[Symbol.toPrimitive]=F)}var U=I("Object.prototype.toString"),le=Object.getOwnPropertyDescriptor;Me.exports=d?function($){if(!$||"object"!=typeof $)return!1;var L=le($,"lastIndex");if(!L||!re(L,"value"))return!1;try{oe($,Q)}catch(Oe){return Oe===H}}:function($){return!(!$||"object"!=typeof $&&"function"!=typeof $)&&"[object RegExp]"===U($)}},9540:Me=>{"use strict";var I,$e="function"==typeof Map&&Map.prototype?Map:null,A="function"==typeof Set&&Set.prototype?Set:null;A||(I=function(H){return!1});var d=$e?Map.prototype.has:null,re=A?Set.prototype.has:null;!I&&!re&&(I=function(H){return!1}),Me.exports=I||function(H){if(!H||"object"!=typeof H)return!1;try{if(re.call(H),d)try{d.call(H)}catch{return!0}return H instanceof A}catch{}return!1}},7905:(Me,$e,A)=>{"use strict";var d=A(1074)("SharedArrayBuffer.prototype.byteLength",!0);Me.exports=d?function(oe){if(!oe||"object"!=typeof oe)return!1;try{return d(oe),!0}catch{return!1}}:function(oe){return!1}},8581:(Me,$e,A)=>{"use strict";var I=String.prototype.valueOf,re=Object.prototype.toString,H=A(1307)();Me.exports=function(F){return"string"==typeof F||"object"==typeof F&&(H?function(F){try{return I.call(F),!0}catch{return!1}}(F):"[object String]"===re.call(F))}},7918:(Me,$e,A)=>{"use strict";var I=Object.prototype.toString;if(A(1212)()){var re=Symbol.prototype.toString,oe=/^Symbol\(.*\)$/;Me.exports=function(F){if("symbol"==typeof F)return!0;if("[object Symbol]"!==I.call(F))return!1;try{return function(F){return"symbol"==typeof F.valueOf()&&oe.test(re.call(F))}(F)}catch{return!1}}}else Me.exports=function(F){return!1}},8854:(Me,$e,A)=>{"use strict";var I=A(2485);Me.exports=function(re){return!!I(re)}},1118:Me=>{"use strict";var I,$e="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,A="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;$e||(I=function(H){return!1});var d=$e?$e.prototype.has:null,re=A?A.prototype.has:null;!I&&!d&&(I=function(H){return!1}),Me.exports=I||function(H){if(!H||"object"!=typeof H)return!1;try{if(d.call(H,d),re)try{re.call(H,re)}catch{return!0}return H instanceof $e}catch{}return!1}},8987:(Me,$e,A)=>{"use strict";var I=A(5388),d=A(1074),re=I("%WeakSet%",!0),oe=d("WeakSet.prototype.has",!0);if(oe){var H=d("WeakMap.prototype.has",!0);Me.exports=function(F){if(!F||"object"!=typeof F)return!1;try{if(oe(F,oe),H)try{H(F,H)}catch{return!0}return F instanceof re}catch{}return!1}}else Me.exports=function(F){return!1}},6975:Me=>{var $e={}.toString;Me.exports=Array.isArray||function(A){return"[object Array]"==$e.call(A)}},6943:(Me,$e,A)=>{var I,d,re,oe,H;I=A(7888),d=A(1336).utf8,re=A(9843),oe=A(1336).bin,(H=function(Q,F){Q.constructor==String?Q=F&&"binary"===F.encoding?oe.stringToBytes(Q):d.stringToBytes(Q):re(Q)?Q=Array.prototype.slice.call(Q,0):!Array.isArray(Q)&&Q.constructor!==Uint8Array&&(Q=Q.toString());for(var U=I.bytesToWords(Q),le=8*Q.length,ee=1732584193,z=-271733879,$=-1732584194,L=271733878,G=0;G<U.length;G++)U[G]=16711935&(U[G]<<8|U[G]>>>24)|4278255360&(U[G]<<24|U[G]>>>8);U[le>>>5]|=128<<le%32,U[14+(le+64>>>9<<4)]=le;var Oe=H._ff,Re=H._gg,ue=H._hh,V=H._ii;for(G=0;G<U.length;G+=16){var q=ee,de=z,ve=$,fe=L;ee=Oe(ee,z,$,L,U[G+0],7,-680876936),L=Oe(L,ee,z,$,U[G+1],12,-389564586),$=Oe($,L,ee,z,U[G+2],17,606105819),z=Oe(z,$,L,ee,U[G+3],22,-1044525330),ee=Oe(ee,z,$,L,U[G+4],7,-176418897),L=Oe(L,ee,z,$,U[G+5],12,1200080426),$=Oe($,L,ee,z,U[G+6],17,-1473231341),z=Oe(z,$,L,ee,U[G+7],22,-45705983),ee=Oe(ee,z,$,L,U[G+8],7,1770035416),L=Oe(L,ee,z,$,U[G+9],12,-1958414417),$=Oe($,L,ee,z,U[G+10],17,-42063),z=Oe(z,$,L,ee,U[G+11],22,-1990404162),ee=Oe(ee,z,$,L,U[G+12],7,1804603682),L=Oe(L,ee,z,$,U[G+13],12,-40341101),$=Oe($,L,ee,z,U[G+14],17,-1502002290),ee=Re(ee,z=Oe(z,$,L,ee,U[G+15],22,1236535329),$,L,U[G+1],5,-165796510),L=Re(L,ee,z,$,U[G+6],9,-1069501632),$=Re($,L,ee,z,U[G+11],14,643717713),z=Re(z,$,L,ee,U[G+0],20,-373897302),ee=Re(ee,z,$,L,U[G+5],5,-701558691),L=Re(L,ee,z,$,U[G+10],9,38016083),$=Re($,L,ee,z,U[G+15],14,-660478335),z=Re(z,$,L,ee,U[G+4],20,-405537848),ee=Re(ee,z,$,L,U[G+9],5,568446438),L=Re(L,ee,z,$,U[G+14],9,-1019803690),$=Re($,L,ee,z,U[G+3],14,-187363961),z=Re(z,$,L,ee,U[G+8],20,1163531501),ee=Re(ee,z,$,L,U[G+13],5,-1444681467),L=Re(L,ee,z,$,U[G+2],9,-51403784),$=Re($,L,ee,z,U[G+7],14,1735328473),ee=ue(ee,z=Re(z,$,L,ee,U[G+12],20,-1926607734),$,L,U[G+5],4,-378558),L=ue(L,ee,z,$,U[G+8],11,-2022574463),$=ue($,L,ee,z,U[G+11],16,1839030562),z=ue(z,$,L,ee,U[G+14],23,-35309556),ee=ue(ee,z,$,L,U[G+1],4,-1530992060),L=ue(L,ee,z,$,U[G+4],11,1272893353),$=ue($,L,ee,z,U[G+7],16,-155497632),z=ue(z,$,L,ee,U[G+10],23,-1094730640),ee=ue(ee,z,$,L,U[G+13],4,681279174),L=ue(L,ee,z,$,U[G+0],11,-358537222),$=ue($,L,ee,z,U[G+3],16,-722521979),z=ue(z,$,L,ee,U[G+6],23,76029189),ee=ue(ee,z,$,L,U[G+9],4,-640364487),L=ue(L,ee,z,$,U[G+12],11,-421815835),$=ue($,L,ee,z,U[G+15],16,530742520),ee=V(ee,z=ue(z,$,L,ee,U[G+2],23,-995338651),$,L,U[G+0],6,-198630844),L=V(L,ee,z,$,U[G+7],10,1126891415),$=V($,L,ee,z,U[G+14],15,-1416354905),z=V(z,$,L,ee,U[G+5],21,-57434055),ee=V(ee,z,$,L,U[G+12],6,1700485571),L=V(L,ee,z,$,U[G+3],10,-1894986606),$=V($,L,ee,z,U[G+10],15,-1051523),z=V(z,$,L,ee,U[G+1],21,-2054922799),ee=V(ee,z,$,L,U[G+8],6,1873313359),L=V(L,ee,z,$,U[G+15],10,-30611744),$=V($,L,ee,z,U[G+6],15,-1560198380),z=V(z,$,L,ee,U[G+13],21,1309151649),ee=V(ee,z,$,L,U[G+4],6,-145523070),L=V(L,ee,z,$,U[G+11],10,-1120210379),$=V($,L,ee,z,U[G+2],15,718787259),z=V(z,$,L,ee,U[G+9],21,-343485551),ee=ee+q>>>0,z=z+de>>>0,$=$+ve>>>0,L=L+fe>>>0}return I.endian([ee,z,$,L])})._ff=function(Q,F,U,le,ee,z,$){var L=Q+(F&U|~F&le)+(ee>>>0)+$;return(L<<z|L>>>32-z)+F},H._gg=function(Q,F,U,le,ee,z,$){var L=Q+(F&le|U&~le)+(ee>>>0)+$;return(L<<z|L>>>32-z)+F},H._hh=function(Q,F,U,le,ee,z,$){var L=Q+(F^U^le)+(ee>>>0)+$;return(L<<z|L>>>32-z)+F},H._ii=function(Q,F,U,le,ee,z,$){var L=Q+(U^(F|~le))+(ee>>>0)+$;return(L<<z|L>>>32-z)+F},H._blocksize=16,H._digestsize=16,Me.exports=function(Q,F){if(null==Q)throw new Error("Illegal argument "+Q);var U=I.wordsToBytes(H(Q,F));return F&&F.asBytes?U:F&&F.asString?oe.bytesToString(U):I.bytesToHex(U)}},1634:(Me,$e)=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});var A=[];A[0]=function(){return function(){}},A[1]=function(oe,H){return typeof H>"u"?oe:function(F){oe(F,H)}};var re=function(){function oe(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return oe.prototype.addHandler=function(H,Q){return this.isHandlerAttached(H,Q)||(this._handlers.push(H),this._contexts.push(Q),this._createDispatcher(),this._updateHasHandlers()),this},oe.prototype.removeHandler=function(H,Q){var F=this._getHandlerIndex(H,Q);return typeof F<"u"&&(this._handlers.splice(F,1),this._contexts.splice(F,1),this._createDispatcher(),this._updateHasHandlers()),this},oe.prototype.isHandlerAttached=function(H,Q){return typeof this._getHandlerIndex(H,Q)<"u"},oe.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},oe.prototype._getHandlerIndex=function(H,Q){var U,F=this._handlers.length;for(U=0;U<F&&(this._handlers[U]!==H||this._contexts[U]!==Q);U++);return U<F?U:void 0},oe.prototype._createDispatcher=function(){this.dispatch=function I(oe){return A[oe]||(A[oe]=function d(oe){for(var H="return function dispatcher"+oe+"(payload) {\n",Q=[],F=[],U=0;U<oe;U++)Q.push("cb"+U),F.push("ctx"+U),H+="    cb"+U+"(payload, ctx"+U+");\n";return H+="};",new(Function.bind.apply(Function,[void 0].concat(Q.concat(F),[H])))}(oe)),A[oe]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},oe}();$e.default=re},5865:(Me,$e,A)=>{"use strict";var d=A(1634);$e.j=d.default},6920:(Me,$e,A)=>{var I="function"==typeof Map&&Map.prototype,d=Object.getOwnPropertyDescriptor&&I?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,re=I&&d&&"function"==typeof d.get?d.get:null,oe=I&&Map.prototype.forEach,H="function"==typeof Set&&Set.prototype,Q=Object.getOwnPropertyDescriptor&&H?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,F=H&&Q&&"function"==typeof Q.get?Q.get:null,U=H&&Set.prototype.forEach,ee="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,$="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,G="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Oe=Boolean.prototype.valueOf,Re=Object.prototype.toString,ue=Function.prototype.toString,V=String.prototype.match,q=String.prototype.slice,de=String.prototype.replace,ve=String.prototype.toUpperCase,fe=String.prototype.toLowerCase,Je=RegExp.prototype.test,Qe=Array.prototype.concat,ae=Array.prototype.join,pe=Array.prototype.slice,rt=Math.floor,ze="function"==typeof BigInt?BigInt.prototype.valueOf:null,N=Object.getOwnPropertySymbols,j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Be="function"==typeof Symbol&&"object"==typeof Symbol.iterator,ft="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,It=Object.prototype.propertyIsEnumerable,Wt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(De){return De.__proto__}:null);function Ge(De,me){if(De===1/0||De===-1/0||De!=De||De&&De>-1e3&&De<1e3||Je.call(/e/,me))return me;var Gt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof De){var qt=De<0?-rt(-De):rt(De);if(qt!==De){var Hn=String(qt),ln=q.call(me,Hn.length+1);return de.call(Hn,Gt,"$&_")+"."+de.call(de.call(ln,/([0-9]{3})/g,"$&_"),/_$/,"")}}return de.call(me,Gt,"$&_")}var we=A(4654),He=we.custom,et=tt(He)?He:null;function Vt(De,me,Gt){var qt="double"===(Gt.quoteStyle||me)?'"':"'";return qt+De+qt}function Ut(De){return de.call(String(De),/"/g,"&quot;")}function Fe(De){return!("[object Array]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}function St(De){return!("[object RegExp]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}function tt(De){if(Be)return De&&"object"==typeof De&&De instanceof Symbol;if("symbol"==typeof De)return!0;if(!De||"object"!=typeof De||!j)return!1;try{return j.call(De),!0}catch{}return!1}Me.exports=function De(me,Gt,qt,Hn){var ln=Gt||{};if(wn(ln,"quoteStyle")&&"single"!==ln.quoteStyle&&"double"!==ln.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(wn(ln,"maxStringLength")&&("number"==typeof ln.maxStringLength?ln.maxStringLength<0&&ln.maxStringLength!==1/0:null!==ln.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Sr=!wn(ln,"customInspect")||ln.customInspect;if("boolean"!=typeof Sr&&"symbol"!==Sr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(wn(ln,"indent")&&null!==ln.indent&&"\t"!==ln.indent&&!(parseInt(ln.indent,10)===ln.indent&&ln.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(wn(ln,"numericSeparator")&&"boolean"!=typeof ln.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var co=ln.numericSeparator;if(typeof me>"u")return"undefined";if(null===me)return"null";if("boolean"==typeof me)return me?"true":"false";if("string"==typeof me)return si(me,ln);if("number"==typeof me){if(0===me)return 1/0/me>0?"0":"-0";var vr=String(me);return co?Ge(me,vr):vr}if("bigint"==typeof me){var no=String(me)+"n";return co?Ge(me,no):no}var uo=typeof ln.depth>"u"?5:ln.depth;if(typeof qt>"u"&&(qt=0),qt>=uo&&uo>0&&"object"==typeof me)return Fe(me)?"[Array]":"[Object]";var yr=function Ar(De,me){var Gt;if("\t"===De.indent)Gt="\t";else{if(!("number"==typeof De.indent&&De.indent>0))return null;Gt=ae.call(Array(De.indent+1)," ")}return{base:Gt,prev:ae.call(Array(me+1),Gt)}}(ln,qt);if(typeof Hn>"u")Hn=[];else if(_n(Hn,me)>=0)return"[Circular]";function At(Nr,po,er){if(po&&(Hn=pe.call(Hn)).push(po),er){var Lo={depth:ln.depth};return wn(ln,"quoteStyle")&&(Lo.quoteStyle=ln.quoteStyle),De(Nr,Lo,qt+1,Hn)}return De(Nr,ln,qt+1,Hn)}if("function"==typeof me&&!St(me)){var cn=function In(De){if(De.name)return De.name;var me=V.call(ue.call(De),/^function\s*([\w$]+)/);return me?me[1]:null}(me),en=Xn(me,At);return"[Function"+(cn?": "+cn:" (anonymous)")+"]"+(en.length>0?" { "+ae.call(en,", ")+" }":"")}if(tt(me)){var To=Be?de.call(String(me),/^(Symbol\(.*\))_[^)]*$/,"$1"):j.call(me);return"object"!=typeof me||Be?To:Ze(To)}if(function No(De){return!(!De||"object"!=typeof De)&&(typeof HTMLElement<"u"&&De instanceof HTMLElement||"string"==typeof De.nodeName&&"function"==typeof De.getAttribute)}(me)){for(var bo="<"+fe.call(String(me.nodeName)),Ni=me.attributes||[],ai=0;ai<Ni.length;ai++)bo+=" "+Ni[ai].name+"="+Vt(Ut(Ni[ai].value),"double",ln);return bo+=">",me.childNodes&&me.childNodes.length&&(bo+="..."),bo+"</"+fe.call(String(me.nodeName))+">"}if(Fe(me)){if(0===me.length)return"[]";var _i=Xn(me,At);return yr&&!function Hr(De){for(var me=0;me<De.length;me++)if(_n(De[me],"\n")>=0)return!1;return!0}(_i)?"["+to(_i,yr)+"]":"[ "+ae.call(_i,", ")+" ]"}if(function pt(De){return!("[object Error]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}(me)){var M=Xn(me,At);return"cause"in Error.prototype||!("cause"in me)||It.call(me,"cause")?0===M.length?"["+String(me)+"]":"{ ["+String(me)+"] "+ae.call(M,", ")+" }":"{ ["+String(me)+"] "+ae.call(Qe.call("[cause]: "+At(me.cause),M),", ")+" }"}if("object"==typeof me&&Sr){if(et&&"function"==typeof me[et]&&we)return we(me,{depth:uo-qt});if("symbol"!==Sr&&"function"==typeof me.inspect)return me.inspect()}if(function Wr(De){if(!re||!De||"object"!=typeof De)return!1;try{re.call(De);try{F.call(De)}catch{return!0}return De instanceof Map}catch{}return!1}(me)){var x=[];return oe&&oe.call(me,function(Nr,po){x.push(At(po,me,!0)+" => "+At(Nr,me))}),Zr("Map",re.call(me),x,yr)}if(function _r(De){if(!F||!De||"object"!=typeof De)return!1;try{F.call(De);try{re.call(De)}catch{return!0}return De instanceof Set}catch{}return!1}(me)){var k=[];return U&&U.call(me,function(Nr){k.push(At(Nr,me))}),Zr("Set",F.call(me),k,yr)}if(function wr(De){if(!ee||!De||"object"!=typeof De)return!1;try{ee.call(De,ee);try{$.call(De,$)}catch{return!0}return De instanceof WeakMap}catch{}return!1}(me))return Zt("WeakMap");if(function ii(De){if(!$||!De||"object"!=typeof De)return!1;try{$.call(De,$);try{ee.call(De,ee)}catch{return!0}return De instanceof WeakSet}catch{}return!1}(me))return Zt("WeakSet");if(function ar(De){if(!G||!De||"object"!=typeof De)return!1;try{return G.call(De),!0}catch{}return!1}(me))return Zt("WeakRef");if(function We(De){return!("[object Number]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}(me))return Ze(At(Number(me)));if(function ht(De){if(!De||"object"!=typeof De||!ze)return!1;try{return ze.call(De),!0}catch{}return!1}(me))return Ze(At(ze.call(me)));if(function qe(De){return!("[object Boolean]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}(me))return Ze(Oe.call(me));if(function xe(De){return!("[object String]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}(me))return Ze(At(String(me)));if(!function ot(De){return!("[object Date]"!==Jt(De)||ft&&"object"==typeof De&&ft in De)}(me)&&!St(me)){var Ao=Xn(me,At),li=Wt?Wt(me)===Object.prototype:me instanceof Object||me.constructor===Object,zi=me instanceof Object?"":"null prototype",Co=!li&&ft&&Object(me)===me&&ft in me?q.call(Jt(me),8,-1):zi?"Object":"",vi=(li||"function"!=typeof me.constructor?"":me.constructor.name?me.constructor.name+" ":"")+(Co||zi?"["+ae.call(Qe.call([],Co||[],zi||[]),": ")+"] ":"");return 0===Ao.length?vi+"{}":yr?vi+"{"+to(Ao,yr)+"}":vi+"{ "+ae.call(Ao,", ")+" }"}return String(me)};var W=Object.prototype.hasOwnProperty||function(De){return De in this};function wn(De,me){return W.call(De,me)}function Jt(De){return Re.call(De)}function _n(De,me){if(De.indexOf)return De.indexOf(me);for(var Gt=0,qt=De.length;Gt<qt;Gt++)if(De[Gt]===me)return Gt;return-1}function si(De,me){if(De.length>me.maxStringLength){var Gt=De.length-me.maxStringLength,qt="... "+Gt+" more character"+(Gt>1?"s":"");return si(q.call(De,0,me.maxStringLength),me)+qt}return Vt(de.call(de.call(De,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Go),"single",me)}function Go(De){var me=De.charCodeAt(0),Gt={8:"b",9:"t",10:"n",12:"f",13:"r"}[me];return Gt?"\\"+Gt:"\\x"+(me<16?"0":"")+ve.call(me.toString(16))}function Ze(De){return"Object("+De+")"}function Zt(De){return De+" { ? }"}function Zr(De,me,Gt,qt){return De+" ("+me+") {"+(qt?to(Gt,qt):ae.call(Gt,", "))+"}"}function to(De,me){if(0===De.length)return"";var Gt="\n"+me.prev+me.base;return Gt+ae.call(De,","+Gt)+"\n"+me.prev}function Xn(De,me){var Gt=Fe(De),qt=[];if(Gt){qt.length=De.length;for(var Hn=0;Hn<De.length;Hn++)qt[Hn]=wn(De,Hn)?me(De[Hn],De):""}var Sr,ln="function"==typeof N?N(De):[];if(Be){Sr={};for(var co=0;co<ln.length;co++)Sr["$"+ln[co]]=ln[co]}for(var vr in De)wn(De,vr)&&(Gt&&String(Number(vr))===vr&&vr<De.length||Be&&Sr["$"+vr]instanceof Symbol||(Je.call(/[^\w$]/,vr)?qt.push(me(vr,De)+": "+me(De[vr],De)):qt.push(vr+": "+me(De[vr],De))));if("function"==typeof N)for(var no=0;no<ln.length;no++)It.call(De,ln[no])&&qt.push("["+me(ln[no])+"]: "+me(De[ln[no]],De));return qt}},1086:Me=>{"use strict";var $e=function(A){return A!=A};Me.exports=function(I,d){return 0===I&&0===d?1/I==1/d:!!(I===d||$e(I)&&$e(d))}},2422:(Me,$e,A)=>{"use strict";var I=A(1299),d=A(2327),re=A(1086),oe=A(2868),H=A(1112),Q=d(oe(),Object);I(Q,{getPolyfill:oe,implementation:re,shim:H}),Me.exports=Q},2868:(Me,$e,A)=>{"use strict";var I=A(1086);Me.exports=function(){return"function"==typeof Object.is?Object.is:I}},1112:(Me,$e,A)=>{"use strict";var I=A(2868),d=A(1299);Me.exports=function(){var oe=I();return d(Object,{is:oe},{is:function(){return Object.is!==oe}}),oe}},2363:(Me,$e,A)=>{"use strict";var I;if(!Object.keys){var d=Object.prototype.hasOwnProperty,re=Object.prototype.toString,oe=A(8418),H=Object.prototype.propertyIsEnumerable,Q=!H.call({toString:null},"toString"),F=H.call(function(){},"prototype"),U=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],le=function(L){var G=L.constructor;return G&&G.prototype===L},ee={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},z=function(){if(typeof window>"u")return!1;for(var L in window)try{if(!ee["$"+L]&&d.call(window,L)&&null!==window[L]&&"object"==typeof window[L])try{le(window[L])}catch{return!0}}catch{return!0}return!1}();I=function(G){var Oe=null!==G&&"object"==typeof G,Re="[object Function]"===re.call(G),ue=oe(G),V=Oe&&"[object String]"===re.call(G),q=[];if(!Oe&&!Re&&!ue)throw new TypeError("Object.keys called on a non-object");var de=F&&Re;if(V&&G.length>0&&!d.call(G,0))for(var ve=0;ve<G.length;++ve)q.push(String(ve));if(ue&&G.length>0)for(var fe=0;fe<G.length;++fe)q.push(String(fe));else for(var Je in G)(!de||"prototype"!==Je)&&d.call(G,Je)&&q.push(String(Je));if(Q)for(var Qe=function(L){if(typeof window>"u"||!z)return le(L);try{return le(L)}catch{return!1}}(G),ae=0;ae<U.length;++ae)(!Qe||"constructor"!==U[ae])&&d.call(G,U[ae])&&q.push(U[ae]);return q}}Me.exports=I},7073:(Me,$e,A)=>{"use strict";var I=Array.prototype.slice,d=A(8418),re=Object.keys,oe=re?function(F){return re(F)}:A(2363),H=Object.keys;oe.shim=function(){if(Object.keys){var F=function(){var U=Object.keys(arguments);return U&&U.length===arguments.length}(1,2);F||(Object.keys=function(le){return d(le)?H(I.call(le)):H(le)})}else Object.keys=oe;return Object.keys||oe},Me.exports=oe},8418:Me=>{"use strict";var $e=Object.prototype.toString;Me.exports=function(I){var d=$e.call(I),re="[object Arguments]"===d;return re||(re="[object Array]"!==d&&null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Function]"===$e.call(I.callee)),re}},4797:(Me,$e,A)=>{"use strict";var I=A(7073),d=A(6646)(),re=A(1074),oe=Object,H=re("Array.prototype.push"),Q=re("Object.prototype.propertyIsEnumerable"),F=d?Object.getOwnPropertySymbols:null;Me.exports=function(le,ee){if(null==le)throw new TypeError("target must be an object");var z=oe(le);if(1===arguments.length)return z;for(var $=1;$<arguments.length;++$){var L=oe(arguments[$]),G=I(L),Oe=d&&(Object.getOwnPropertySymbols||F);if(Oe)for(var Re=Oe(L),ue=0;ue<Re.length;++ue){var V=Re[ue];Q(L,V)&&H(G,V)}for(var q=0;q<G.length;++q){var de=G[q];Q(L,de)&&(z[de]=L[de])}}return z}},5658:(Me,$e,A)=>{"use strict";var I=A(1299),d=A(2327),re=A(4797),oe=A(3202),H=A(56),Q=d.apply(oe()),F=function(le,ee){return Q(Object,arguments)};I(F,{getPolyfill:oe,implementation:re,shim:H}),Me.exports=F},3202:(Me,$e,A)=>{"use strict";var I=A(4797);Me.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var oe="abcdefghijklmnopqrst",H=oe.split(""),Q={},F=0;F<H.length;++F)Q[H[F]]=H[F];var U=Object.assign({},Q),le="";for(var ee in U)le+=ee;return oe!==le}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var oe=Object.preventExtensions({1:2});try{Object.assign(oe,"xy")}catch{return"y"===oe[1]}return!1}()?I:Object.assign}},56:(Me,$e,A)=>{"use strict";var I=A(1299),d=A(3202);Me.exports=function(){var oe=d();return I(Object,{assign:oe},{assign:function(){return Object.assign!==oe}}),oe}},8692:(Me,$e)=>{"use strict";var A=Object.prototype.hasOwnProperty;function d(Q){try{return decodeURIComponent(Q.replace(/\+/g," "))}catch{return null}}function re(Q){try{return encodeURIComponent(Q)}catch{return null}}$e.stringify=function H(Q,F){F=F||"";var le,ee,U=[];for(ee in"string"!=typeof F&&(F="?"),Q)if(A.call(Q,ee)){if(!(le=Q[ee])&&(null==le||isNaN(le))&&(le=""),ee=re(ee),le=re(le),null===ee||null===le)continue;U.push(ee+"="+le)}return U.length?F+U.join("&"):""},$e.parse=function oe(Q){for(var le,F=/([^=?#&]+)=?([^&]*)/g,U={};le=F.exec(Q);){var ee=d(le[1]),z=d(le[2]);null===ee||null===z||ee in U||(U[ee]=z)}return U}},6227:(Me,$e,A)=>{"use strict";var I=A(7993).functionsHaveConfigurableNames(),d=Object,re=TypeError;Me.exports=function(){if(null!=this&&this!==d(this))throw new re("RegExp.prototype.flags getter called on non-object");var H="";return this.hasIndices&&(H+="d"),this.global&&(H+="g"),this.ignoreCase&&(H+="i"),this.multiline&&(H+="m"),this.dotAll&&(H+="s"),this.unicode&&(H+="u"),this.unicodeSets&&(H+="v"),this.sticky&&(H+="y"),H},I&&Object.defineProperty&&Object.defineProperty(Me.exports,"name",{value:"get flags"})},4257:(Me,$e,A)=>{"use strict";var I=A(1299),d=A(2327),re=A(6227),oe=A(5948),H=A(5353),Q=d(oe());I(Q,{getPolyfill:oe,implementation:re,shim:H}),Me.exports=Q},5948:(Me,$e,A)=>{"use strict";var I=A(6227),d=A(1299).supportsDescriptors,re=Object.getOwnPropertyDescriptor;Me.exports=function(){if(d&&"gim"===/a/gim.flags){var H=re(RegExp.prototype,"flags");if(H&&"function"==typeof H.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var Q="",F={};if(Object.defineProperty(F,"hasIndices",{get:function(){Q+="d"}}),Object.defineProperty(F,"sticky",{get:function(){Q+="y"}}),"dy"===Q)return H.get}}return I}},5353:(Me,$e,A)=>{"use strict";var I=A(1299).supportsDescriptors,d=A(5948),re=Object.getOwnPropertyDescriptor,oe=Object.defineProperty,H=TypeError,Q=Object.getPrototypeOf,F=/a/;Me.exports=function(){if(!I||!Q)throw new H("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var le=d(),ee=Q(F),z=re(ee,"flags");return(!z||z.get!==le)&&oe(ee,"flags",{configurable:!0,enumerable:!1,get:le}),le}},1813:Me=>{"use strict";Me.exports=function(A,I){if(I=I.split(":")[0],!(A=+A))return!1;switch(I){case"http":case"ws":return 80!==A;case"https":case"wss":return 443!==A;case"ftp":return 21!==A;case"gopher":return 70!==A;case"file":return!1}return 0!==A}},3147:(Me,$e,A)=>{"use strict";var I=A(5388),d=A(1074),re=A(6920),oe=I("%TypeError%"),H=I("%WeakMap%",!0),Q=I("%Map%",!0),F=d("WeakMap.prototype.get",!0),U=d("WeakMap.prototype.set",!0),le=d("WeakMap.prototype.has",!0),ee=d("Map.prototype.get",!0),z=d("Map.prototype.set",!0),$=d("Map.prototype.has",!0),L=function(ue,V){for(var de,q=ue;null!==(de=q.next);q=de)if(de.key===V)return q.next=de.next,de.next=ue.next,ue.next=de,de};Me.exports=function(){var V,q,de,ve={assert:function(fe){if(!ve.has(fe))throw new oe("Side channel does not contain "+re(fe))},get:function(fe){if(H&&fe&&("object"==typeof fe||"function"==typeof fe)){if(V)return F(V,fe)}else if(Q){if(q)return ee(q,fe)}else if(de)return function(ue,V){var q=L(ue,V);return q&&q.value}(de,fe)},has:function(fe){if(H&&fe&&("object"==typeof fe||"function"==typeof fe)){if(V)return le(V,fe)}else if(Q){if(q)return $(q,fe)}else if(de)return function(ue,V){return!!L(ue,V)}(de,fe);return!1},set:function(fe,Je){H&&fe&&("object"==typeof fe||"function"==typeof fe)?(V||(V=new H),U(V,fe,Je)):Q?(q||(q=new Q),z(q,fe,Je)):(de||(de={key:{},next:null}),function(ue,V,q){var de=L(ue,V);de?de.value=q:ue.next={key:V,next:ue.next,value:q}}(de,fe,Je))}};return ve}},2419:(Me,$e,A)=>{"use strict";var I=A(9372),d=SyntaxError,re="object"==typeof StopIteration?StopIteration:null;Me.exports=function(H){if(!re)throw new d("this environment lacks StopIteration");I.set(H,"[[Done]]",!1);var Q={next:function(){var U=I.get(this,"[[Iterator]]"),le=I.get(U,"[[Done]]");try{return{done:le,value:le?void 0:U.next()}}catch(ee){if(I.set(U,"[[Done]]",!0),ee!==re)throw ee;return{done:!0,value:void 0}}}};return I.set(Q,"[[Iterator]]",H),Q}},8062:(Me,$e,A)=>{"use strict";var I=A(1813),d=A(8692),re=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,oe=/[\n\r\t]/g,H=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Q=/:\d+$/,F=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,U=/^[a-zA-Z]:/;function le(q){return(q||"").toString().replace(re,"")}var ee=[["#","hash"],["?","query"],function(de,ve){return L(ve.protocol)?de.replace(/\\/g,"/"):de},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],z={hash:1,query:1};function $(q){var de;de=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qe,fe={},Je=typeof(q=q||de.location||{});if("blob:"===q.protocol)fe=new Re(unescape(q.pathname),{});else if("string"===Je)for(Qe in fe=new Re(q,{}),z)delete fe[Qe];else if("object"===Je){for(Qe in q)Qe in z||(fe[Qe]=q[Qe]);void 0===fe.slashes&&(fe.slashes=H.test(q.href))}return fe}function L(q){return"file:"===q||"ftp:"===q||"http:"===q||"https:"===q||"ws:"===q||"wss:"===q}function G(q,de){q=(q=le(q)).replace(oe,""),de=de||{};var pe,ve=F.exec(q),fe=ve[1]?ve[1].toLowerCase():"",Je=!!ve[2],Qe=!!ve[3],ae=0;return Je?Qe?(pe=ve[2]+ve[3]+ve[4],ae=ve[2].length+ve[3].length):(pe=ve[2]+ve[4],ae=ve[2].length):Qe?(pe=ve[3]+ve[4],ae=ve[3].length):pe=ve[4],"file:"===fe?ae>=2&&(pe=pe.slice(2)):L(fe)?pe=ve[4]:fe?Je&&(pe=pe.slice(2)):ae>=2&&L(de.protocol)&&(pe=ve[4]),{protocol:fe,slashes:Je||L(fe),slashesCount:ae,rest:pe}}function Re(q,de,ve){if(q=(q=le(q)).replace(oe,""),!(this instanceof Re))return new Re(q,de,ve);var fe,Je,Qe,ae,pe,rt,ze=ee.slice(),N=typeof de,j=this,Be=0;for("object"!==N&&"string"!==N&&(ve=de,de=null),ve&&"function"!=typeof ve&&(ve=d.parse),fe=!(Je=G(q||"",de=$(de))).protocol&&!Je.slashes,j.slashes=Je.slashes||fe&&de.slashes,j.protocol=Je.protocol||de.protocol||"",q=Je.rest,("file:"===Je.protocol&&(2!==Je.slashesCount||U.test(q))||!Je.slashes&&(Je.protocol||Je.slashesCount<2||!L(j.protocol)))&&(ze[3]=[/(.*)/,"pathname"]);Be<ze.length;Be++)"function"!=typeof(ae=ze[Be])?(rt=ae[1],(Qe=ae[0])!=Qe?j[rt]=q:"string"==typeof Qe?~(pe="@"===Qe?q.lastIndexOf(Qe):q.indexOf(Qe))&&("number"==typeof ae[2]?(j[rt]=q.slice(0,pe),q=q.slice(pe+ae[2])):(j[rt]=q.slice(pe),q=q.slice(0,pe))):(pe=Qe.exec(q))&&(j[rt]=pe[1],q=q.slice(0,pe.index)),j[rt]=j[rt]||fe&&ae[3]&&de[rt]||"",ae[4]&&(j[rt]=j[rt].toLowerCase())):q=ae(q,j);ve&&(j.query=ve(j.query)),fe&&de.slashes&&"/"!==j.pathname.charAt(0)&&(""!==j.pathname||""!==de.pathname)&&(j.pathname=function Oe(q,de){if(""===q)return de;for(var ve=(de||"/").split("/").slice(0,-1).concat(q.split("/")),fe=ve.length,Je=ve[fe-1],Qe=!1,ae=0;fe--;)"."===ve[fe]?ve.splice(fe,1):".."===ve[fe]?(ve.splice(fe,1),ae++):ae&&(0===fe&&(Qe=!0),ve.splice(fe,1),ae--);return Qe&&ve.unshift(""),("."===Je||".."===Je)&&ve.push(""),ve.join("/")}(j.pathname,de.pathname)),"/"!==j.pathname.charAt(0)&&L(j.protocol)&&(j.pathname="/"+j.pathname),I(j.port,j.protocol)||(j.host=j.hostname,j.port=""),j.username=j.password="",j.auth&&(~(pe=j.auth.indexOf(":"))?(j.username=j.auth.slice(0,pe),j.username=encodeURIComponent(decodeURIComponent(j.username)),j.password=j.auth.slice(pe+1),j.password=encodeURIComponent(decodeURIComponent(j.password))):j.username=encodeURIComponent(decodeURIComponent(j.auth)),j.auth=j.password?j.username+":"+j.password:j.username),j.origin="file:"!==j.protocol&&L(j.protocol)&&j.host?j.protocol+"//"+j.host:"null",j.href=j.toString()}Re.prototype={set:function ue(q,de,ve){var fe=this;switch(q){case"query":"string"==typeof de&&de.length&&(de=(ve||d.parse)(de)),fe[q]=de;break;case"port":fe[q]=de,I(de,fe.protocol)?de&&(fe.host=fe.hostname+":"+de):(fe.host=fe.hostname,fe[q]="");break;case"hostname":fe[q]=de,fe.port&&(de+=":"+fe.port),fe.host=de;break;case"host":fe[q]=de,Q.test(de)?(de=de.split(":"),fe.port=de.pop(),fe.hostname=de.join(":")):(fe.hostname=de,fe.port="");break;case"protocol":fe.protocol=de.toLowerCase(),fe.slashes=!ve;break;case"pathname":case"hash":if(de){var Je="pathname"===q?"/":"#";fe[q]=de.charAt(0)!==Je?Je+de:de}else fe[q]=de;break;case"username":case"password":fe[q]=encodeURIComponent(de);break;case"auth":var Qe=de.indexOf(":");~Qe?(fe.username=de.slice(0,Qe),fe.username=encodeURIComponent(decodeURIComponent(fe.username)),fe.password=de.slice(Qe+1),fe.password=encodeURIComponent(decodeURIComponent(fe.password))):fe.username=encodeURIComponent(decodeURIComponent(de))}for(var ae=0;ae<ee.length;ae++){var pe=ee[ae];pe[4]&&(fe[pe[1]]=fe[pe[1]].toLowerCase())}return fe.auth=fe.password?fe.username+":"+fe.password:fe.username,fe.origin="file:"!==fe.protocol&&L(fe.protocol)&&fe.host?fe.protocol+"//"+fe.host:"null",fe.href=fe.toString(),fe},toString:function V(q){(!q||"function"!=typeof q)&&(q=d.stringify);var de,ve=this,fe=ve.host,Je=ve.protocol;Je&&":"!==Je.charAt(Je.length-1)&&(Je+=":");var Qe=Je+(ve.protocol&&ve.slashes||L(ve.protocol)?"//":"");return ve.username?(Qe+=ve.username,ve.password&&(Qe+=":"+ve.password),Qe+="@"):ve.password?(Qe+=":"+ve.password,Qe+="@"):"file:"!==ve.protocol&&L(ve.protocol)&&!fe&&"/"!==ve.pathname&&(Qe+="@"),(":"===fe[fe.length-1]||Q.test(ve.hostname)&&!ve.port)&&(fe+=":"),Qe+=fe+ve.pathname,(de="object"==typeof ve.query?q(ve.query):ve.query)&&(Qe+="?"!==de.charAt(0)?"?"+de:de),ve.hash&&(Qe+=ve.hash),Qe}},Re.extractProtocol=G,Re.location=$,Re.trimLeft=le,Re.qs=d,Me.exports=Re},5407:(Me,$e,A)=>{"use strict";var I=A(8581),d=A(3165),re=A(4783),oe=A(7918),H=A(3299);Me.exports=function(F){return null==F||"object"!=typeof F&&"function"!=typeof F?null:I(F)?"String":d(F)?"Number":re(F)?"Boolean":oe(F)?"Symbol":H(F)?"BigInt":void 0}},2485:(Me,$e,A)=>{"use strict";var I=A(4411),d=A(1951),re=A(2327),oe=A(1074),H=A(6831),Q=oe("Object.prototype.toString"),F=A(1307)(),U=typeof globalThis>"u"?global:globalThis,le=d(),ee=oe("String.prototype.slice"),z=Object.getPrototypeOf,$=oe("Array.prototype.indexOf",!0)||function(ue,V){for(var q=0;q<ue.length;q+=1)if(ue[q]===V)return q;return-1},L={__proto__:null};I(le,F&&H&&z?function(Re){var ue=new U[Re];if(Symbol.toStringTag in ue){var V=z(ue),q=H(V,Symbol.toStringTag);if(!q){var de=z(V);q=H(de,Symbol.toStringTag)}L["$"+Re]=re(q.get)}}:function(Re){var ue=new U[Re];L["$"+Re]=re(ue.slice)}),Me.exports=function(ue){if(!ue||"object"!=typeof ue)return!1;if(!F){var V=ee(Q(ue),8,-1);return $(le,V)>-1?V:"Object"===V&&function(ue){var V=!1;return I(L,function(q,de){if(!V)try{q(ue),V=ee(de,1)}catch{}}),V}(ue)}return H?function(ue){var V=!1;return I(L,function(q,de){if(!V)try{"$"+q(ue)===de&&(V=ee(de,1))}catch{}}),V}(ue):null}},863:(Me,$e,A)=>{var I={"./ion-accordion_2.entry.js":[5496,8592,5496],"./ion-action-sheet.entry.js":[4221,8592,4221],"./ion-alert.entry.js":[4149,8592,4149],"./ion-app_8.entry.js":[2255,8592,2255],"./ion-avatar_3.entry.js":[6172,6172],"./ion-back-button.entry.js":[3838,8592,3838],"./ion-backdrop.entry.js":[2665,2665],"./ion-breadcrumb_2.entry.js":[8022,8592,8022],"./ion-button_2.entry.js":[2218,2218],"./ion-card_5.entry.js":[4366,4366],"./ion-checkbox.entry.js":[1615,8592,1615],"./ion-chip.entry.js":[6166,6166],"./ion-col_3.entry.js":[2656,2656],"./ion-datetime-button.entry.js":[2100,1284,2100],"./ion-datetime_3.entry.js":[5384,1284,8592,5384],"./ion-fab_3.entry.js":[5961,8592,5961],"./ion-img.entry.js":[8070,8070],"./ion-infinite-scroll_2.entry.js":[4303,8592,4303],"./ion-input.entry.js":[3655,8592,3655],"./ion-item-option_3.entry.js":[9963,8592,9963],"./ion-item_8.entry.js":[7137,8592,7137],"./ion-loading.entry.js":[4077,4077],"./ion-menu_3.entry.js":[4247,8592,4247],"./ion-modal.entry.js":[8405,8592,8405],"./ion-nav_2.entry.js":[2818,8592,2818],"./ion-picker-column-internal.entry.js":[4551,8592,4551],"./ion-picker-internal.entry.js":[5698,5698],"./ion-popover.entry.js":[4485,4485],"./ion-progress-bar.entry.js":[7278,7278],"./ion-radio_2.entry.js":[21,8592,21],"./ion-range.entry.js":[4439,8592,4439],"./ion-refresher_2.entry.js":[2049,8592,2049],"./ion-reorder_2.entry.js":[9320,8592,9320],"./ion-ripple-effect.entry.js":[2259,2259],"./ion-route_4.entry.js":[8482,8482],"./ion-searchbar.entry.js":[5293,8592,5293],"./ion-segment_2.entry.js":[6637,8592,6637],"./ion-select_3.entry.js":[3245,8592,3245],"./ion-spinner.entry.js":[2431,8592,2431],"./ion-split-pane.entry.js":[1048,1048],"./ion-tab-bar_2.entry.js":[9465,8592,9465],"./ion-tab_2.entry.js":[4245,4245],"./ion-text.entry.js":[8268,8268],"./ion-textarea.entry.js":[1864,8592,1864],"./ion-toast.entry.js":[7013,7013],"./ion-toggle.entry.js":[1713,8592,1713]};function d(re){if(!A.o(I,re))return Promise.resolve().then(()=>{var Q=new Error("Cannot find module '"+re+"'");throw Q.code="MODULE_NOT_FOUND",Q});var oe=I[re],H=oe[0];return Promise.all(oe.slice(1).map(A.e)).then(()=>A(H))}d.keys=()=>Object.keys(I),d.id=863,Me.exports=d},4654:()=>{},1951:Me=>{"use strict";var $e=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],A=typeof globalThis>"u"?global:globalThis;Me.exports=function(){for(var d=[],re=0;re<$e.length;re++)"function"==typeof A[$e[re]]&&(d[d.length]=$e[re]);return d}},1558:(Me,$e,A)=>{"use strict";var I=A(551),d=A(2419);if(A(1212)()||A(6646)()){var re=Symbol.iterator;Me.exports=function(pe){return null!=pe&&typeof pe[re]<"u"?pe[re]():I(pe)?Array.prototype[re].call(pe):void 0}}else{var oe=A(6975),H=A(8581),Q=A(5388),F=Q("%Map%",!0),U=Q("%Set%",!0),le=A(1074),ee=le("Array.prototype.push"),z=le("String.prototype.charCodeAt"),$=le("String.prototype.slice"),G=function(pe){var rt=0;return{next:function(){var j,N=rt>=pe.length;return N||(j=pe[rt],rt+=1),{done:N,value:j}}}},Oe=function(pe,rt){if(oe(pe)||I(pe))return G(pe);if(H(pe)){var ze=0;return{next:function(){var j=function(pe,rt){if(rt+1>=pe.length)return rt+1;var N=z(pe,rt);if(N<55296||N>56319)return rt+1;var j=z(pe,rt+1);return j<56320||j>57343?rt+1:rt+2}(pe,ze),Be=$(pe,ze,j);return ze=j,{done:j>pe.length,value:Be}}}}return rt&&typeof pe["_es6-shim iterator_"]<"u"?pe["_es6-shim iterator_"]():void 0};if(F||U){var Re=A(5575),ue=A(9540),V=le("Map.prototype.forEach",!0),q=le("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var de=le("Map.prototype.iterator",!0),ve=le("Set.prototype.iterator",!0);var fe=le("Map.prototype.@@iterator",!0)||le("Map.prototype._es6-shim iterator_",!0),Je=le("Set.prototype.@@iterator",!0)||le("Set.prototype._es6-shim iterator_",!0);Me.exports=function(pe){return function(pe){if(Re(pe)){if(de)return d(de(pe));if(fe)return fe(pe);if(V){var rt=[];return V(pe,function(N,j){ee(rt,[j,N])}),G(rt)}}if(ue(pe)){if(ve)return d(ve(pe));if(Je)return Je(pe);if(q){var ze=[];return q(pe,function(N){ee(ze,N)}),G(ze)}}}(pe)||Oe(pe)}}else Me.exports=function(pe){if(null!=pe)return Oe(pe,!0)}}},8549:(Me,$e,A)=>{"use strict";var I=A(5575),d=A(9540),re=A(1118),oe=A(8987);Me.exports=function(Q){if(Q&&"object"==typeof Q){if(I(Q))return"Map";if(d(Q))return"Set";if(re(Q))return"WeakMap";if(oe(Q))return"WeakSet"}return!1}},8046:(Me,$e,A)=>{"use strict";function I(re,oe,H,Q,F,U,le){try{var ee=re[U](le),z=ee.value}catch($){return void H($)}ee.done?oe(z):Promise.resolve(z).then(Q,F)}function d(re){return function(){var oe=this,H=arguments;return new Promise(function(Q,F){var U=re.apply(oe,H);function le(z){I(U,Q,F,le,ee,"next",z)}function ee(z){I(U,Q,F,le,ee,"throw",z)}le(void 0)})}}A.d($e,{Z:()=>d})}},Me=>{Me(Me.s=6659)}]);
//# sourceMappingURL=main.d38ad39c5f33415d.js.map